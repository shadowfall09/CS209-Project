{"items":[{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1690982976,"post_id":76820380,"comment_id":135428786,"body_markdown":"Please add the relevant parts of your code.","body":"Please add the relevant parts of your code."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983188,"post_id":76820380,"comment_id":135428847,"body_markdown":"Why would it show a table name? The data in the column created by `GROUP_CONCAT` does not have an underlying table. As the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getTableName(int)) says _&quot;Returns: table name or &quot;&quot; if not applicable&quot;_. In all the years I have worked with JDBC, I have probably only needed to know the table name of a column once, so are you actually sure you *really* need it.","body":"Why would it show a table name? The data in the column created by <code>GROUP_CONCAT</code> does not have an underlying table. As the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getTableName(int)\" rel=\"nofollow noreferrer\">documentation</a> says <i>&quot;Returns: table name or &quot;&quot; if not applicable&quot;</i>. In all the years I have worked with JDBC, I have probably only needed to know the table name of a column once, so are you actually sure you <i>really</i> need it."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690983270,"post_id":76820380,"comment_id":135428859,"body_markdown":"And `GROUP_CONCAT` returning less rows is entirely expected, as it is an aggregate function, aggregating a group of rows into a single row.","body":"And <code>GROUP_CONCAT</code> returning less rows is entirely expected, as it is an aggregate function, aggregating a group of rows into a single row."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691757281,"post_id":76820380,"comment_id":135538527,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24009502,"reputation":1,"user_id":17993268,"display_name":"Mario"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690983109,"creation_date":1690982834,"question_id":76820380,"body_markdown":"Can someone please explain to me what is going on? Just removing the group_concat function fixes the issue, but in this particular case I need it, alongside the table names in Java. Also, for some reason, it&#180;s returning less rows then without group_concat.\r\n\r\nI tried removing group_concat and editing it differently with group by and nothing happened.\r\n","title":"ResultSetMetadata returning blank table names when using Group Concat?","body":"<p>Can someone please explain to me what is going on? Just removing the group_concat function fixes the issue, but in this particular case I need it, alongside the table names in Java. Also, for some reason, itÂ´s returning less rows then without group_concat.</p>\n<p>I tried removing group_concat and editing it differently with group by and nothing happened.</p>\n"},{"tags":["java","spring","email","transactions"],"answers":[{"tags":[],"owner":{"account_id":7061,"reputation":2451,"user_id":12067,"accept_rate":93,"display_name":"guigui42"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1291280869,"creation_date":1291280869,"answer_id":4333285,"question_id":4331388,"body_markdown":"To send emails, it is recommanded to use a Queue and schedule the emails to be send like every 5 or 15 minutes.\r\nThe queue will be stored in the database, therefor within the transaction. Then schedule a procedure to  send email from that Queue at regular interval.\r\n\r\nIts the only way i found to make sure the email is sent only when the transaction is coompleted and commited, since emails by definition are not tied to any kind of database transactions.","title":"Transaction and sending an email","body":"<p>To send emails, it is recommanded to use a Queue and schedule the emails to be send like every 5 or 15 minutes.\nThe queue will be stored in the database, therefor within the transaction. Then schedule a procedure to  send email from that Queue at regular interval.</p>\n\n<p>Its the only way i found to make sure the email is sent only when the transaction is coompleted and commited, since emails by definition are not tied to any kind of database transactions.</p>\n"},{"tags":[],"owner":{"account_id":253594,"reputation":1,"user_id":532427,"display_name":"user532427"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1291648917,"creation_date":1291648917,"answer_id":4367875,"question_id":4331388,"body_markdown":"I would add a lightweight JMS layer like ActiveMQ for the email, it is pretty easy to setup and integrates (and even embeds) with Spring. Then you have\r\n\r\n1) User creation transaction &amp; send of JMS message happening in 1 transaction. If either fails you&#39;re still in a good state (both commit or both rollback and you present an error to the user)\r\n\r\n2) If the JMS consumer fails to send the email you can setup the JMS queue to retry a few times and you&#39;ll have a better solution for managing transient problems with your email system. ","title":"Transaction and sending an email","body":"<p>I would add a lightweight JMS layer like ActiveMQ for the email, it is pretty easy to setup and integrates (and even embeds) with Spring. Then you have</p>\n\n<p>1) User creation transaction &amp; send of JMS message happening in 1 transaction. If either fails you're still in a good state (both commit or both rollback and you present an error to the user)</p>\n\n<p>2) If the JMS consumer fails to send the email you can setup the JMS queue to retry a few times and you'll have a better solution for managing transient problems with your email system. </p>\n"},{"tags":[],"owner":{"account_id":682239,"reputation":61,"user_id":537677,"display_name":"qtxo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1291975101,"creation_date":1291975101,"answer_id":4407607,"question_id":4331388,"body_markdown":"Another option I am currently using to solve this problem:\r\n\r\nhttp://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html\r\n ","title":"Transaction and sending an email","body":"<p>Another option I am currently using to solve this problem:</p>\n\n<p><a href=\"http://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html\" rel=\"noreferrer\">http://download.oracle.com/javaee/6/api/javax/transaction/Synchronization.html</a></p>\n"},{"tags":[],"owner":{"account_id":2368861,"reputation":1591,"user_id":2073963,"display_name":"wonhee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361319417,"creation_date":1361319417,"answer_id":14970105,"question_id":4331388,"body_markdown":"Queuing with database table and run scheduling program with Quartz or something like whould be reasonable and easy to implement. \r\n\r\nIt&#39;s also good idea to use RabbitMQ for those feature development. RabbitMQ is quite easy to configure and can be used for the most of the case for publish/subscribe interworking betwen systems even though you may need to implement application level ack and small apps that subscribes messages from RabbitMQ and send email through SMTP.\r\n\r\nIt may sounds overkill, but you can use this #2 solution for every system that requires email send in the future. You can still use database queue based model for this, but will use expensive database cpu/resources for to send emmail.","title":"Transaction and sending an email","body":"<p>Queuing with database table and run scheduling program with Quartz or something like whould be reasonable and easy to implement. </p>\n\n<p>It's also good idea to use RabbitMQ for those feature development. RabbitMQ is quite easy to configure and can be used for the most of the case for publish/subscribe interworking betwen systems even though you may need to implement application level ack and small apps that subscribes messages from RabbitMQ and send email through SMTP.</p>\n\n<p>It may sounds overkill, but you can use this #2 solution for every system that requires email send in the future. You can still use database queue based model for this, but will use expensive database cpu/resources for to send emmail.</p>\n"},{"tags":[],"owner":{"account_id":29144744,"reputation":1,"user_id":22326932,"display_name":"zymarev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982964,"creation_date":1690982964,"answer_id":76820395,"question_id":4331388,"body_markdown":"You can use event-based approach.\r\n1. Publish event via spring event published from transaction\r\n2. Create @TransactionalEventListener to handle this event and send email here\r\n@TransactionalEventListener supports different transaction phase (AFTER_COMMIT by default)\r\nIn this case you could be sure that email will be sent only if transaction is commited","title":"Transaction and sending an email","body":"<p>You can use event-based approach.</p>\n<ol>\n<li>Publish event via spring event published from transaction</li>\n<li>Create @TransactionalEventListener to handle this event and send email here\n@TransactionalEventListener supports different transaction phase (AFTER_COMMIT by default)\nIn this case you could be sure that email will be sent only if transaction is commited</li>\n</ol>\n"}],"owner":{"account_id":108548,"reputation":2266,"user_id":288052,"accept_rate":80,"display_name":"Spiff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6834,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1690982964,"creation_date":1291260621,"question_id":4331388,"body_markdown":"Considering the common use case of a user creating a new account on a web application and the application sending a confirmation email to the user&#39;s address.  From what I&#39;ve seen, this is typically implemented in one of 3 ways:\r\n\r\n1. The web controller calls a service method, which creates the user account and sends the email, both within a single transaction.\r\n2. The web controller calls a service method (with tx propagation = never), which invokes a 1st method on itself to create the user account within a transaction, and then invokes a 2nd method on itself to send the email.\r\n3. The web controller calls a 1st service method, which creates the user account within a transaction, then a 2nd service method that sends the email.\r\n\r\nThe 1st approach is simple and straightforward, but there is a risk that the transaction is rolled back after the email was sent, thereby making the email invalid. The 2nd approach is more complicated, but it guarantees that the email is sent only if user creation has actually succeeded.  The 3rd approach is simple but burdens the web layer with business logic that it shouldn&#39;t need to know.\r\n\r\nIsn&#39;t there a simpler approach, maybe AOP-driven, that guarantees that the email will be sent only if the user creation transaction actually succeeded?  Am I paranoid in thinking that the 1st approach could fail?\r\n\r\nWe&#39;re using a Java EE + Spring stack and are willing to integrate additional APIs (AOP? Spring Integration?) to achieve this.\r\n\r\nCheers!\r\n","title":"Transaction and sending an email","body":"<p>Considering the common use case of a user creating a new account on a web application and the application sending a confirmation email to the user's address.  From what I've seen, this is typically implemented in one of 3 ways:</p>\n\n<ol>\n<li>The web controller calls a service method, which creates the user account and sends the email, both within a single transaction.</li>\n<li>The web controller calls a service method (with tx propagation = never), which invokes a 1st method on itself to create the user account within a transaction, and then invokes a 2nd method on itself to send the email.</li>\n<li>The web controller calls a 1st service method, which creates the user account within a transaction, then a 2nd service method that sends the email.</li>\n</ol>\n\n<p>The 1st approach is simple and straightforward, but there is a risk that the transaction is rolled back after the email was sent, thereby making the email invalid. The 2nd approach is more complicated, but it guarantees that the email is sent only if user creation has actually succeeded.  The 3rd approach is simple but burdens the web layer with business logic that it shouldn't need to know.</p>\n\n<p>Isn't there a simpler approach, maybe AOP-driven, that guarantees that the email will be sent only if the user creation transaction actually succeeded?  Am I paranoid in thinking that the 1st approach could fail?</p>\n\n<p>We're using a Java EE + Spring stack and are willing to integrate additional APIs (AOP? Spring Integration?) to achieve this.</p>\n\n<p>Cheers!</p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690969281,"creation_date":1690969281,"answer_id":76818608,"question_id":76814435,"body_markdown":"This error means you are passing a `null` `filePath` here:\r\n\r\n```\r\nreader.setResource(new FileSystemResource(filePath));\r\n```\r\n\r\nMake sure the job parameter is correctly passed to the job.","title":"Getting: Path must not be null while passing parameters to ItemReader in Spring Batch","body":"<p>This error means you are passing a <code>null</code> <code>filePath</code> here:</p>\n<pre><code>reader.setResource(new FileSystemResource(filePath));\n</code></pre>\n<p>Make sure the job parameter is correctly passed to the job.</p>\n"}],"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76818608,"answer_count":1,"score":0,"last_activity_date":1690982863,"creation_date":1690915612,"question_id":76814435,"body_markdown":"I have a spring boot with spring batch application that is giving me below error:\r\n\r\n    8161 [01 Aug 2023 12:25:02.580] ERROR server01 [main] org.springframework.batch.core.step.AbstractStep - Encountered an error executing step step in job importUserJob\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.reader&#39; defined in class path resource [com/batch/BatchConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.beanio.spring.BeanIOFlatFileItemReader]: Factory method &#39;reader&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Path must not be null\r\n\r\n\r\n**BatchConfiguration.java**\r\n       \r\n        @Bean\r\n        @StepScope\r\n        public BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters[&#39;filePath&#39;]}&quot;) String filePath) {    \t    \t\r\n        \t\r\n        \tBeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();    \t\r\n        \treader.setUseSpringExceptions(true);\r\n    \t\treader.setResource(new FileSystemResource(filePath));    \t\t\r\n    \t\treader.setStreamName(inputContactStreamName);\r\n    \t\treader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\r\n    \t\treader.setStreamFactory(StreamFactory.newInstance());\r\n    \t\treader.getLineNumber();\r\n        \t\r\n        \treturn reader;    \t\r\n        }\r\n\r\n\r\nAny idea on why that error is coming and how to solve it?","title":"Getting: Path must not be null while passing parameters to ItemReader in Spring Batch","body":"<p>I have a spring boot with spring batch application that is giving me below error:</p>\n<pre><code>8161 [01 Aug 2023 12:25:02.580] ERROR server01 [main] org.springframework.batch.core.step.AbstractStep - Encountered an error executing step step in job importUserJob\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.reader' defined in class path resource [com/batch/BatchConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.beanio.spring.BeanIOFlatFileItemReader]: Factory method 'reader' threw exception; nested exception is java.lang.IllegalArgumentException: Path must not be null\n</code></pre>\n<p><strong>BatchConfiguration.java</strong></p>\n<pre><code>    @Bean\n    @StepScope\n    public BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters['filePath']}&quot;) String filePath) {               \n        \n        BeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();        \n        reader.setUseSpringExceptions(true);\n        reader.setResource(new FileSystemResource(filePath));           \n        reader.setStreamName(inputContactStreamName);\n        reader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\n        reader.setStreamFactory(StreamFactory.newInstance());\n        reader.getLineNumber();\n        \n        return reader;      \n    }\n</code></pre>\n<p>Any idea on why that error is coming and how to solve it?</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":1,"creation_date":1690813073,"post_id":76800297,"comment_id":135401396,"body_markdown":"Welcome on StackOverflow ! Can you make a [mre] instead of giving your full plugin with paste. With this, you could focus on only part of code and include in your post","body":"Welcome on StackOverflow ! Can you make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead of giving your full plugin with paste. With this, you could focus on only part of code and include in your post"},{"owner":{"account_id":29125167,"reputation":1,"user_id":22311649,"display_name":"Slackingslack"},"score":0,"creation_date":1690848522,"post_id":76800297,"comment_id":135407241,"body_markdown":"Here I added the methods that are giving me trouble. Also I&#39;m not getting an error so I can not do the minimal reproducible example. The code is simply not doing what it is supposed to which is unloading the world. I have verified that world name and spawn variable are both correct worlds. @Elikill58","body":"Here I added the methods that are giving me trouble. Also I&#39;m not getting an error so I can not do the minimal reproducible example. The code is simply not doing what it is supposed to which is unloading the world. I have verified that world name and spawn variable are both correct worlds. @Elikill58"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690986278,"post_id":76800297,"comment_id":135429683,"body_markdown":"You may receive better help on the [SpigotMC forums](https://www.spigotmc.org/forums/spigot-plugin-development.52/), as the issues you describe are a bit inherent to the underlying system for what you&#39;re doing (there are several hurdles to dynamic world handling, one of which can be memory leaking, another is misconceptions of what the methods do). One idea in the short term to make the issue rear its head: set the world folders to read-only (e.g. `chmod -R 600 world1/`). Anything trying to write to them then will fail and throw a stack trace.","body":"You may receive better help on the <a href=\"https://www.spigotmc.org/forums/spigot-plugin-development.52/\" rel=\"nofollow noreferrer\">SpigotMC forums</a>, as the issues you describe are a bit inherent to the underlying system for what you&#39;re doing (there are several hurdles to dynamic world handling, one of which can be memory leaking, another is misconceptions of what the methods do). One idea in the short term to make the issue rear its head: set the world folders to read-only (e.g. <code>chmod -R 600 world1&#47;</code>). Anything trying to write to them then will fail and throw a stack trace."},{"owner":{"account_id":14211980,"reputation":53,"user_id":10266931,"display_name":"Nathanna"},"score":0,"creation_date":1692858090,"post_id":76800297,"comment_id":135681430,"body_markdown":"[SpigotMC](https://spigotmc.org) is def the place to go for anything Minecraft Java Edition related! For [my network](https://sandbattle.com) I always post there first before coming to the [StackOverflow](https://stackoverflow.com). It helps because people are use to Plugin development **almost entirely**.","body":"<a href=\"https://spigotmc.org\" rel=\"nofollow noreferrer\">SpigotMC</a> is def the place to go for anything Minecraft Java Edition related! For <a href=\"https://sandbattle.com\" rel=\"nofollow noreferrer\">my network</a> I always post there first before coming to the <a href=\"https://stackoverflow.com\">StackOverflow</a>. It helps because people are use to Plugin development <b>almost entirely</b>."}],"answers":[{"tags":[],"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982750,"creation_date":1690982750,"answer_id":76820364,"question_id":76800297,"body_markdown":"Setting `setAutoSave` to `false` doesn&#39;t guarantee that the world won&#39;t be saved; it only prevents the auto-save feature from executing. Other triggers cause a world save, such as chunks unloading or players leaving (player data is stored as part of the world data).\r\n\r\nThe normal way to achieve what you&#39;re after is to keep a clean copy of your arena world on disk. Then, when you want to reset the arena, you delete the current world and copy over the clean version to the server.\r\n\r\nFor example:\r\n```java\r\nprivate World arenaWorld;\r\nprivate Arena arena;\r\n...\r\nprivate void resetArena() {\r\n    // Call logic to remove players from the world\r\n    this.arena.teleportPlayersToHoldingWorld();\r\n    // Unload the world, and don&#39;t save it\r\n    Bukkit.unloadWorld(this.arenaWorld, false);\r\n    // Delete the old world\r\n    FileUtility.delete(this.arenaWorld.getWorldFolder());\r\n    // Copy over the clean arena\r\n    FileUtility.copyFolder(this.arena.getArenaFiles(), Bukkit.getWorldContainer());\r\n    // Load the world using `WorldCreator`, with a void terrain generator\r\n    this.arena.createArena(this.arenaWorld.getName(), TerrainGenerator.VOID);\r\n}\r\n``` \r\nThis is pseudo-code; you would need to create `FileUtility` and `Arena` classes yourself, but plenty of resources are out there to get you started.","title":"SPIGOT API Minigame Map Rollback Using World Unload Method","body":"<p>Setting <code>setAutoSave</code> to <code>false</code> doesn't guarantee that the world won't be saved; it only prevents the auto-save feature from executing. Other triggers cause a world save, such as chunks unloading or players leaving (player data is stored as part of the world data).</p>\n<p>The normal way to achieve what you're after is to keep a clean copy of your arena world on disk. Then, when you want to reset the arena, you delete the current world and copy over the clean version to the server.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private World arenaWorld;\nprivate Arena arena;\n...\nprivate void resetArena() {\n    // Call logic to remove players from the world\n    this.arena.teleportPlayersToHoldingWorld();\n    // Unload the world, and don't save it\n    Bukkit.unloadWorld(this.arenaWorld, false);\n    // Delete the old world\n    FileUtility.delete(this.arenaWorld.getWorldFolder());\n    // Copy over the clean arena\n    FileUtility.copyFolder(this.arena.getArenaFiles(), Bukkit.getWorldContainer());\n    // Load the world using `WorldCreator`, with a void terrain generator\n    this.arena.createArena(this.arenaWorld.getName(), TerrainGenerator.VOID);\n}\n</code></pre>\n<p>This is pseudo-code; you would need to create <code>FileUtility</code> and <code>Arena</code> classes yourself, but plenty of resources are out there to get you started.</p>\n"}],"owner":{"account_id":29125167,"reputation":1,"user_id":22311649,"display_name":"Slackingslack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690982750,"creation_date":1690768985,"question_id":76800297,"body_markdown":"So I&#39;ve been trying to create a simple minigame engine. Within my Arena Manager class I create the arena&#39;s based on the config file information. I then make it so these worlds have autosave set to false. That way when I unload and reload the world in the reset() method of my Arena class the map/arena should be as good as new. However, that is not the case. If someone could please tell me what I am doing wrong or some good alternate methods that would be greatly appreciated! Game class is where reset() is called\r\nRelevant Classes\r\n[Arena Class](https://paste.md-5.net/obuvalipil.cs)`Arena Class`\r\n[Arena Manager Class](https://paste.md-5.net/sivujixapu.cs)`Arena Manager`\r\n[Game Class](https://paste.md-5.net/omoxibojen.cs)`Game Class`\r\nConfig\r\n[text](https://paste.md-5.net/imofofipen.makefile%5Btext%5D)\r\nTried setting autosave in the bukkit.yml to be -1 to see if that was overriding my plugin settings. Expected it to ensure unloading the world didn&#39;t have any changes left. Instead didn&#39;t work.\r\nFor more clarification the world isn&#39;t being unloaded so changes made to the arena map carry over into the next game.\r\n\r\nCode For Creating Minigame Arena\r\n\r\n    for (String str: config.getConfigurationSection(&quot;arenas.&quot;).getKeys(false)){\r\n            // Returns a set of strings\r\n            World world = Bukkit.createWorld(new WorldCreator(config.getString(&quot;arenas.&quot;+str+&quot;.world&quot;)));\r\n            world.save();\r\n            world.setAutoSave(false); // Setting World 1&#39;s Autosave to false\r\n\r\n            arenas.add(new Arena(minigame,Integer.parseInt(str),new Location(\r\n                    Bukkit.getWorld(config.getString(&quot;arenas.&quot;+str+&quot;.world&quot;)),\r\n                    config.getDouble(&quot;arenas.&quot;+str+&quot;.x&quot;),\r\n                    config.getDouble(&quot;arenas.&quot;+str+&quot;.y&quot;),\r\n                    config.getDouble(&quot;arenas.&quot;+str+&quot;.z&quot;),\r\n                    (float) config.getDouble(&quot;arenas.&quot;+str+&quot;.yaw&quot;),\r\n                    (float) config.getDouble(&quot;arenas.&quot;+str+&quot;.pitch&quot;))));\r\n        }\r\nCode For Resetting Arena:\r\n\r\n    public void reset(){\r\n        System.out.println(&quot;Method fired!&quot;);\r\n        if (state == GameState.LIVE) {\r\n            this.canJoin = false;\r\n            // Adding check to see if GameState is Live which indicates we need to reset a map and kick players,\r\n            // However, in other cases we don&#39;t need to bother with kicking players\r\n            Location lobbySpawn = ConfigManager.getLobbySpawn();\r\n            for (UUID uuid : playersinArena) {\r\n                Bukkit.getPlayer(uuid).teleport(lobbySpawn);\r\n            }\r\n            playersinArena.clear();\r\n\r\n            String worldname = spawn.getWorld().getName();\r\n            System.out.println(&quot;World Name:&quot;+worldname);\r\n            Bukkit.unloadWorld(spawn.getWorld(), false);\r\n            World world = Bukkit.createWorld(new WorldCreator(worldname));\r\n            world.setAutoSave(false); // Setting World 1&#39;s Auto-save to false\r\n        }","title":"SPIGOT API Minigame Map Rollback Using World Unload Method","body":"<p>So I've been trying to create a simple minigame engine. Within my Arena Manager class I create the arena's based on the config file information. I then make it so these worlds have autosave set to false. That way when I unload and reload the world in the reset() method of my Arena class the map/arena should be as good as new. However, that is not the case. If someone could please tell me what I am doing wrong or some good alternate methods that would be greatly appreciated! Game class is where reset() is called\nRelevant Classes\n<a href=\"https://paste.md-5.net/obuvalipil.cs\" rel=\"nofollow noreferrer\">Arena Class</a><code>Arena Class</code>\n<a href=\"https://paste.md-5.net/sivujixapu.cs\" rel=\"nofollow noreferrer\">Arena Manager Class</a><code>Arena Manager</code>\n<a href=\"https://paste.md-5.net/omoxibojen.cs\" rel=\"nofollow noreferrer\">Game Class</a><code>Game Class</code>\nConfig\n<a href=\"https://paste.md-5.net/imofofipen.makefile%5Btext%5D\" rel=\"nofollow noreferrer\">text</a>\nTried setting autosave in the bukkit.yml to be -1 to see if that was overriding my plugin settings. Expected it to ensure unloading the world didn't have any changes left. Instead didn't work.\nFor more clarification the world isn't being unloaded so changes made to the arena map carry over into the next game.</p>\n<p>Code For Creating Minigame Arena</p>\n<pre><code>for (String str: config.getConfigurationSection(&quot;arenas.&quot;).getKeys(false)){\n        // Returns a set of strings\n        World world = Bukkit.createWorld(new WorldCreator(config.getString(&quot;arenas.&quot;+str+&quot;.world&quot;)));\n        world.save();\n        world.setAutoSave(false); // Setting World 1's Autosave to false\n\n        arenas.add(new Arena(minigame,Integer.parseInt(str),new Location(\n                Bukkit.getWorld(config.getString(&quot;arenas.&quot;+str+&quot;.world&quot;)),\n                config.getDouble(&quot;arenas.&quot;+str+&quot;.x&quot;),\n                config.getDouble(&quot;arenas.&quot;+str+&quot;.y&quot;),\n                config.getDouble(&quot;arenas.&quot;+str+&quot;.z&quot;),\n                (float) config.getDouble(&quot;arenas.&quot;+str+&quot;.yaw&quot;),\n                (float) config.getDouble(&quot;arenas.&quot;+str+&quot;.pitch&quot;))));\n    }\n</code></pre>\n<p>Code For Resetting Arena:</p>\n<pre><code>public void reset(){\n    System.out.println(&quot;Method fired!&quot;);\n    if (state == GameState.LIVE) {\n        this.canJoin = false;\n        // Adding check to see if GameState is Live which indicates we need to reset a map and kick players,\n        // However, in other cases we don't need to bother with kicking players\n        Location lobbySpawn = ConfigManager.getLobbySpawn();\n        for (UUID uuid : playersinArena) {\n            Bukkit.getPlayer(uuid).teleport(lobbySpawn);\n        }\n        playersinArena.clear();\n\n        String worldname = spawn.getWorld().getName();\n        System.out.println(&quot;World Name:&quot;+worldname);\n        Bukkit.unloadWorld(spawn.getWorld(), false);\n        World world = Bukkit.createWorld(new WorldCreator(worldname));\n        world.setAutoSave(false); // Setting World 1's Auto-save to false\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","google-chrome","spring-security","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982745,"creation_date":1690982745,"answer_id":76820363,"question_id":76788746,"body_markdown":"The above code snippet in the question logged me out from the Spring app, but did not log me out from the Microsoft session.\r\nThe end result of it was that after the successful logout, I was forwarded to the login page again, and the Azure login page logged me in again automatically into the Spring app due to my valid Azure AD session.\r\n\r\nTo implement a proper logout, you need to add `logoutSuccessHandler` to the SecurityFilterChain, as below:\r\n\r\n            http.logout(logout -&gt; logout\r\n                                  .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\r\n                                  .logoutSuccessUrl(&quot;/&quot;)\r\n                                  .logoutSuccessHandler(new OidcClientInitiatedLogoutSuccessHandler(clientRegistrationRepository))\r\n                                  .deleteCookies(&quot;JSESSIONID&quot;)\r\n        );\r\n\r\nI used the `org.springframework.security.oauth2.client.oidc.web.logout.OidcClientInitiatedLogoutSuccessHandler` class as a logoutSuccessHandler.\r\nThe type of it&#39;s constructor parameter is `ClientRegistrationRepository`, which can be injected by Spring without any problems.","title":"Google Chrome does not le me sign out from AAD based Spring Boot application using session cookies","body":"<p>The above code snippet in the question logged me out from the Spring app, but did not log me out from the Microsoft session.\nThe end result of it was that after the successful logout, I was forwarded to the login page again, and the Azure login page logged me in again automatically into the Spring app due to my valid Azure AD session.</p>\n<p>To implement a proper logout, you need to add <code>logoutSuccessHandler</code> to the SecurityFilterChain, as below:</p>\n<pre><code>        http.logout(logout -&gt; logout\n                              .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;, &quot;GET&quot;))\n                              .logoutSuccessUrl(&quot;/&quot;)\n                              .logoutSuccessHandler(new OidcClientInitiatedLogoutSuccessHandler(clientRegistrationRepository))\n                              .deleteCookies(&quot;JSESSIONID&quot;)\n    );\n</code></pre>\n<p>I used the <code>org.springframework.security.oauth2.client.oidc.web.logout.OidcClientInitiatedLogoutSuccessHandler</code> class as a logoutSuccessHandler.\nThe type of it's constructor parameter is <code>ClientRegistrationRepository</code>, which can be injected by Spring without any problems.</p>\n"}],"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690982745,"creation_date":1690554689,"question_id":76788746,"body_markdown":"I have a Spring boot based web app. Spring boot ver: 6.x Spring Security version 3.x.\r\n\r\nI have implemented the SecurityFilterChain customization as follows:\r\n\r\n    ...\r\n            http.logout().deleteCookies(&quot;JSESSIONID&quot;).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/&quot;);\r\n    ...\r\n\r\nThe app lets me log out successfully in Firefox, but not in Google Chrome. When I invoke the /logout [GET] endpoint, then Chrome navigates to the login.microsoftonline.com and logs me in again automatically, even without asking me, in which user&#39;s name I would like to log in.\r\n\r\nI&#39;ve cleared the browser cache, and I made sure I did not allow the &quot;remember me&quot; function of AAD, or anything similar, but the app keeps letting me in after I log in once. I will burn my laptop soon. Please, advise something.","title":"Google Chrome does not le me sign out from AAD based Spring Boot application using session cookies","body":"<p>I have a Spring boot based web app. Spring boot ver: 6.x Spring Security version 3.x.</p>\n<p>I have implemented the SecurityFilterChain customization as follows:</p>\n<pre><code>...\n        http.logout().deleteCookies(&quot;JSESSIONID&quot;).logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;)).logoutSuccessUrl(&quot;/&quot;);\n...\n</code></pre>\n<p>The app lets me log out successfully in Firefox, but not in Google Chrome. When I invoke the /logout [GET] endpoint, then Chrome navigates to the login.microsoftonline.com and logs me in again automatically, even without asking me, in which user's name I would like to log in.</p>\n<p>I've cleared the browser cache, and I made sure I did not allow the &quot;remember me&quot; function of AAD, or anything similar, but the app keeps letting me in after I log in once. I will burn my laptop soon. Please, advise something.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690610614,"post_id":76792257,"comment_id":135380474,"body_markdown":"Please don&#39;t post images of code. Edit your question and add your code as properly formatted text.","body":"Please don&#39;t post images of code. Edit your question and add your code as properly formatted text."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690611052,"post_id":76792257,"comment_id":135380501,"body_markdown":"You also need to explain exactly what &quot;trouble&quot; you&#39;re having.","body":"You also need to explain exactly what &quot;trouble&quot; you&#39;re having."},{"owner":{"account_id":29115399,"reputation":11,"user_id":22304198,"display_name":"Michael Richards"},"score":0,"creation_date":1690611297,"post_id":76792257,"comment_id":135380516,"body_markdown":"Sorry I had it filled out then I couldn&#39;t figure out how to indent the code correctly so I had to redo it.","body":"Sorry I had it filled out then I couldn&#39;t figure out how to indent the code correctly so I had to redo it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690611779,"post_id":76792257,"comment_id":135380552,"body_markdown":"Should `ResultSet data = (ResultSet) dataList.get(2);` be `get(k)`?","body":"Should <code>ResultSet data = (ResultSet) dataList.get(2);</code> be <code>get(k)</code>?"},{"owner":{"account_id":29115399,"reputation":11,"user_id":22304198,"display_name":"Michael Richards"},"score":0,"creation_date":1690611895,"post_id":76792257,"comment_id":135380560,"body_markdown":"yes it should. I was just testing out what showed up when I tried 2.","body":"yes it should. I was just testing out what showed up when I tried 2."}],"answers":[{"tags":[],"owner":{"account_id":29115399,"reputation":11,"user_id":22304198,"display_name":"Michael Richards"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690982467,"creation_date":1690614487,"answer_id":76792451,"question_id":76792257,"body_markdown":"I moved my `CachedRowSet` and factory declaration inside my while loop and changed my `arraylist` from rowset to `cachedrowset`. This fixed my issues. Thanks and hopefully it helps someone else in the future.","title":"Trouble passing multiple database tables to JTables","body":"<p>I moved my <code>CachedRowSet</code> and factory declaration inside my while loop and changed my <code>arraylist</code> from rowset to <code>cachedrowset</code>. This fixed my issues. Thanks and hopefully it helps someone else in the future.</p>\n"}],"owner":{"account_id":29115399,"reputation":11,"user_id":22304198,"display_name":"Michael Richards"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690982467,"creation_date":1690610572,"question_id":76792257,"body_markdown":"   \r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\r\n */\r\npackage databaseschema;\r\n\r\nimport java.awt.Container;\r\nimport java.awt.GridLayout;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.ResultSetMetaData;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.sql.rowset.CachedRowSet;\r\nimport javax.sql.rowset.RowSetFactory;\r\nimport javax.sql.rowset.RowSetProvider;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTabbedPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\n\r\n/**\r\n *\r\n * @author mrich\r\n */\r\npublic class DatabaseSchema2 {  \r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     * @throws java.sql.SQLException\r\n     */\r\n\r\n    public static void main(String[] args) throws SQLException { \r\n        //Sets up gui\r\n        JFrame frame =new JFrame();\r\n        frame.setSize(700, 700);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        Container container = frame.getContentPane();\r\n        container.setLayout(new GridLayout());\r\n        \r\n        \r\n\r\n        frame.add(addPane());\r\n        frame.setVisible(true);\r\n        }\r\n    \r\n    \r\n    public static JTabbedPane addPane() throws SQLException{\r\n        String user = loginButton.Instance.username;\r\n        String pass= loginButton.Instance.password;\r\n        String url= loginButton.Instance.server;\r\n        String database= loginButton.Instance.database;\r\n        JTabbedPane pane = new JTabbedPane(JTabbedPane.TOP);\r\n        ArrayList dataList = getData(url,database,user,pass);\r\n        for(int k = 0;k&lt;dataList.size();k++){\r\n        JTable table = new JTable();        JScrollPane scroll = new JScrollPane(table);\r\n        DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n       \r\n        \r\n        CachedRowSet data=(CachedRowSet) dataList.get(k);\r\n        \r\n        ResultSetMetaData mD = data.getMetaData();\r\n            int columns = mD.getColumnCount();\r\n            String[] colName = new String[columns];\r\n                for(int j =0;j&lt;columns;j++)\r\n               \r\n                {colName[j]=mD.getColumnName(j+1);\r\n                model.setColumnIdentifiers(colName);\r\n                }\r\n        \r\n            \r\n           while(data.next()){\r\n                ArrayList&lt;String&gt; rows = new ArrayList&lt;String&gt;();\r\n                for(int i = 0;i&lt;columns;i++){\r\n                    \r\n                    String row = data.getString(i+1);\r\n                    rows.add(row); \r\n                }\r\n                model.addRow(rows.toArray());\r\n            }\r\n            table.setModel(model);\r\n            pane.addTab(mD.getTableName(k+1), scroll);}\r\n            return pane;\r\n        }\r\n        \r\n    \r\n    public static ArrayList getData( String url, String database, String user, String pass){\r\n        //Passes data for all accessible databases using sql statements populated with user entered data\r\n        PreparedStatement stat,stat2;\r\n        ResultSet data,dbName;\r\n        String dbURLString =&quot;jdbc:mysql://&quot;+url+&quot;/&quot;+database;\r\n        String dbSql=&quot;Show tables from &quot;+database;\r\n        String sqlState;\r\n        \r\n        ArrayList&lt;ResultSet&gt; dataList;\r\n        dataList = new ArrayList&lt;ResultSet&gt;();\r\n\r\n                \r\n        try {\r\n            \r\n            \r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            try (Connection conn = DriverManager.getConnection(dbURLString,user,pass)) { \r\n                stat = conn.prepareStatement(dbSql);\r\n                dbName=stat.executeQuery();\r\n               while(dbName.next()){\r\n                RowSetFactory fact = RowSetProvider.newFactory();\r\n                CachedRowSet crs = fact.createCachedRowSet();\r\n                \r\n               sqlState=&quot;Select * from &quot;+dbName.getString(&quot;Tables_in_&quot;+database)+&quot;;&quot;;\r\n                stat2 = conn.prepareStatement(sqlState);\r\n                data = stat2.executeQuery();\r\n                crs.populate(data);\r\n                dataList.add(crs);\r\n                }\r\n              \r\n                conn.close();\r\n                loginButton.Instance.dispose();\r\n                return dataList;\r\n            }\r\n\r\n            \r\n        } catch (SQLException | ClassNotFoundException ex) {\r\n            Logger.getLogger(DatabaseSchema2.class.getName()).log(Level.SEVERE, &quot;Failed to get data&quot;, ex);\r\n            loginButton.Instance.errLabel.setVisible(true);\r\n        }\r\n        \r\n        return (null);\r\n        \r\n   }\r\n   \r\n    \r\n}\r\n\r\n```\r\n\r\nSo I have been working on this for a couple weeks now. I am new to Java coding with SQL. I have gotten this far and I am just lost. I need assistance getting everything sorted out. I am able to get a single table to show up or a jumbled mess of of all three tables. It will have all three ids at the top of the scroll pane. If you can point me in the right direction it would be appreciated.","title":"Trouble passing multiple database tables to JTables","body":"<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\n */\npackage databaseschema;\n\nimport java.awt.Container;\nimport java.awt.GridLayout;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.ResultSetMetaData;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.sql.rowset.CachedRowSet;\nimport javax.sql.rowset.RowSetFactory;\nimport javax.sql.rowset.RowSetProvider;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTabbedPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\n\n\n/**\n *\n * @author mrich\n */\npublic class DatabaseSchema2 {  \n    \n    /**\n     * @param args the command line arguments\n     * @throws java.sql.SQLException\n     */\n\n    public static void main(String[] args) throws SQLException { \n        //Sets up gui\n        JFrame frame =new JFrame();\n        frame.setSize(700, 700);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        Container container = frame.getContentPane();\n        container.setLayout(new GridLayout());\n        \n        \n\n        frame.add(addPane());\n        frame.setVisible(true);\n        }\n    \n    \n    public static JTabbedPane addPane() throws SQLException{\n        String user = loginButton.Instance.username;\n        String pass= loginButton.Instance.password;\n        String url= loginButton.Instance.server;\n        String database= loginButton.Instance.database;\n        JTabbedPane pane = new JTabbedPane(JTabbedPane.TOP);\n        ArrayList dataList = getData(url,database,user,pass);\n        for(int k = 0;k&lt;dataList.size();k++){\n        JTable table = new JTable();        JScrollPane scroll = new JScrollPane(table);\n        DefaultTableModel model = (DefaultTableModel) table.getModel();\n       \n        \n        CachedRowSet data=(CachedRowSet) dataList.get(k);\n        \n        ResultSetMetaData mD = data.getMetaData();\n            int columns = mD.getColumnCount();\n            String[] colName = new String[columns];\n                for(int j =0;j&lt;columns;j++)\n               \n                {colName[j]=mD.getColumnName(j+1);\n                model.setColumnIdentifiers(colName);\n                }\n        \n            \n           while(data.next()){\n                ArrayList&lt;String&gt; rows = new ArrayList&lt;String&gt;();\n                for(int i = 0;i&lt;columns;i++){\n                    \n                    String row = data.getString(i+1);\n                    rows.add(row); \n                }\n                model.addRow(rows.toArray());\n            }\n            table.setModel(model);\n            pane.addTab(mD.getTableName(k+1), scroll);}\n            return pane;\n        }\n        \n    \n    public static ArrayList getData( String url, String database, String user, String pass){\n        //Passes data for all accessible databases using sql statements populated with user entered data\n        PreparedStatement stat,stat2;\n        ResultSet data,dbName;\n        String dbURLString =&quot;jdbc:mysql://&quot;+url+&quot;/&quot;+database;\n        String dbSql=&quot;Show tables from &quot;+database;\n        String sqlState;\n        \n        ArrayList&lt;ResultSet&gt; dataList;\n        dataList = new ArrayList&lt;ResultSet&gt;();\n\n                \n        try {\n            \n            \n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            try (Connection conn = DriverManager.getConnection(dbURLString,user,pass)) { \n                stat = conn.prepareStatement(dbSql);\n                dbName=stat.executeQuery();\n               while(dbName.next()){\n                RowSetFactory fact = RowSetProvider.newFactory();\n                CachedRowSet crs = fact.createCachedRowSet();\n                \n               sqlState=&quot;Select * from &quot;+dbName.getString(&quot;Tables_in_&quot;+database)+&quot;;&quot;;\n                stat2 = conn.prepareStatement(sqlState);\n                data = stat2.executeQuery();\n                crs.populate(data);\n                dataList.add(crs);\n                }\n              \n                conn.close();\n                loginButton.Instance.dispose();\n                return dataList;\n            }\n\n            \n        } catch (SQLException | ClassNotFoundException ex) {\n            Logger.getLogger(DatabaseSchema2.class.getName()).log(Level.SEVERE, &quot;Failed to get data&quot;, ex);\n            loginButton.Instance.errLabel.setVisible(true);\n        }\n        \n        return (null);\n        \n   }\n   \n    \n}\n\n</code></pre>\n<p>So I have been working on this for a couple weeks now. I am new to Java coding with SQL. I have gotten this far and I am just lost. I need assistance getting everything sorted out. I am able to get a single table to show up or a jumbled mess of of all three tables. It will have all three ids at the top of the scroll pane. If you can point me in the right direction it would be appreciated.</p>\n"},{"tags":["java","xml","swiftmessages"],"answers":[{"tags":[],"owner":{"account_id":29144463,"reputation":11,"user_id":22326716,"display_name":"Pablo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690981852,"creation_date":1690980458,"answer_id":76820038,"question_id":75699514,"body_markdown":"It looks like you&#39;re trying to parse an unknown SWIFT MX type message. In this case, you might want to look at the provided examples in the official Prowide ISO20022 Github repository, which can be found [here](https://github.com/prowide/prowide-iso20022-examples). You&#39;ll also find community support there.\r\n\r\nAn example of parsing an unknown message type might look something like this:\r\n\r\n```java\r\npublic class MxParseUnknownMessageType {\r\n    public static void main(String[] args) {\r\n        String xml = &quot;YOUR_XML_MESSAGE_HERE&quot;;\r\n        // parse into generic structure\r\n        AbstractMX mx = AbstractMX.parse(xml);\r\n        System.out.println(&quot;Parsed message type: &quot; + mx.getMxId().id());\r\n        // check the parsed type and cast to specific model\r\n        if (&quot;camt.048.001.03&quot;.equals(mx.getMxId().id())) {\r\n            MxCamt04800103 camt = (MxCamt04800103) mx;\r\n            System.out.println(&quot;Message id: &quot; + camt.getModfyRsvatn().getMsgHdr().getMsgId());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nJust replace `&quot;YOUR_XML_MESSAGE_HERE&quot;` with your XML string.\r\n\r\nThis code will parse the XML into a generic SWIFT MX structure. It then checks the type of the message and, if it matches the given type (&quot;camt.048.001.03&quot;), it casts it to the specific model class and extracts the required fields.\r\n\r\nFor fields that could appear in different locations, you&#39;d have to check the parsed message for different potential paths. Each SWIFT MX type message has its own model class, and the field locations are defined according to the SWIFT MX Message Standard.\r\n\r\nIn regard to retrieving the UETR:\r\n\r\nThe primary capabilities of the iso-20022 project include offering a Java model for ISO 20022 MX (for instance, the MxPacs00800109 class), facilitating parsing from XML to Java model and building from Java to XML. Additionally, it also enables conversion to JSON.\r\n\r\nGiven this, you have the option to employ a standard XML parser and adapt the XML message at any stage of your process. Similarly, you can transform the message into JSON and perform equivalent operations. However, if you choose to utilize the Java model, each message will be unique, necessitating thorough knowledge of the structure to access that value.\r\n\r\n```\r\nnew MxPacs01000103().getFIDrctDbt().getCdtInstr().getDrctDbtTxInf().getPmtId().getUETR()\r\n\r\nnew MxPacs00800108().getFIToFICstmrCdtTrf().getCdtTrfTxInf().get(0).getPmtId().getUETR();\r\n```\r\n\r\nHope this helps!","title":"Extracting UETR from SwiftMX Using Prowide Java Library","body":"<p>It looks like you're trying to parse an unknown SWIFT MX type message. In this case, you might want to look at the provided examples in the official Prowide ISO20022 Github repository, which can be found <a href=\"https://github.com/prowide/prowide-iso20022-examples\" rel=\"nofollow noreferrer\">here</a>. You'll also find community support there.</p>\n<p>An example of parsing an unknown message type might look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MxParseUnknownMessageType {\n    public static void main(String[] args) {\n        String xml = &quot;YOUR_XML_MESSAGE_HERE&quot;;\n        // parse into generic structure\n        AbstractMX mx = AbstractMX.parse(xml);\n        System.out.println(&quot;Parsed message type: &quot; + mx.getMxId().id());\n        // check the parsed type and cast to specific model\n        if (&quot;camt.048.001.03&quot;.equals(mx.getMxId().id())) {\n            MxCamt04800103 camt = (MxCamt04800103) mx;\n            System.out.println(&quot;Message id: &quot; + camt.getModfyRsvatn().getMsgHdr().getMsgId());\n        }\n    }\n}\n</code></pre>\n<p>Just replace <code>&quot;YOUR_XML_MESSAGE_HERE&quot;</code> with your XML string.</p>\n<p>This code will parse the XML into a generic SWIFT MX structure. It then checks the type of the message and, if it matches the given type (&quot;camt.048.001.03&quot;), it casts it to the specific model class and extracts the required fields.</p>\n<p>For fields that could appear in different locations, you'd have to check the parsed message for different potential paths. Each SWIFT MX type message has its own model class, and the field locations are defined according to the SWIFT MX Message Standard.</p>\n<p>In regard to retrieving the UETR:</p>\n<p>The primary capabilities of the iso-20022 project include offering a Java model for ISO 20022 MX (for instance, the MxPacs00800109 class), facilitating parsing from XML to Java model and building from Java to XML. Additionally, it also enables conversion to JSON.</p>\n<p>Given this, you have the option to employ a standard XML parser and adapt the XML message at any stage of your process. Similarly, you can transform the message into JSON and perform equivalent operations. However, if you choose to utilize the Java model, each message will be unique, necessitating thorough knowledge of the structure to access that value.</p>\n<pre><code>new MxPacs01000103().getFIDrctDbt().getCdtInstr().getDrctDbtTxInf().getPmtId().getUETR()\n\nnew MxPacs00800108().getFIToFICstmrCdtTrf().getCdtTrfTxInf().get(0).getPmtId().getUETR();\n</code></pre>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":19217396,"reputation":1,"user_id":14041894,"display_name":"SYED SAQIB S A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690981852,"creation_date":1678470877,"question_id":75699514,"body_markdown":"I am pretty new to processing swift messages in java, I am trying with prowide-iso20022 software java library to parse the SwiftMX messages (https://github.com/prowide/prowide-iso20022)\r\n\r\nI want to extract UETR (**OrgnlUETR**) of a message and other similar required information from the message, these field I think can be in different locations/hierarchy in xml for different type of message (i.e no common hierarchy). Need help in how to extract the required fields, since there are lot type of messages in SwiftMX \r\n\r\n\r\nBelow is the sample/dummy SwiftMX message for reference.\r\n\r\n```\r\n&lt;SwiftMx&gt;\r\n    &lt;Header&gt;\r\n        &lt;DestinationID&gt;ABC&lt;/DestinationID&gt;\r\n        &lt;SenderID&gt;PQR&lt;/SenderID&gt;\r\n        &lt;OperationOrganizationID/&gt;\r\n        &lt;MessageType&gt;ISO22IN&lt;/MessageType&gt;\r\n        &lt;DateSent&gt;20200321&lt;/DateSent&gt;\r\n        &lt;TimeSent&gt;0829&lt;/TimeSent&gt;\r\n        &lt;MessageID&gt;3190eee&lt;/MessageID&gt;\r\n    &lt;/Header&gt;\r\n    &lt;SubHeader&gt;\r\n        &lt;ReceiverAddress&gt;ZYDFUS562WW&lt;/ReceiverAddress&gt;\r\n        &lt;SenderAddress&gt;NCBACATEEE&lt;/SenderAddress&gt;\r\n    &lt;/SubHeader&gt;\r\n    &lt;Body&gt;\r\n        &lt;ISOMessage&gt;\r\n            &lt;AppHdr&gt;\r\n                &lt;Fr&gt;\r\n                    &lt;FIId&gt;\r\n                        &lt;FinInstnId&gt;\r\n                            &lt;BICFI&gt;NCBACATEEE&lt;/BICFI&gt;\r\n                        &lt;/FinInstnId&gt;\r\n                    &lt;/FIId&gt;\r\n                &lt;/Fr&gt;\r\n                &lt;To&gt;\r\n                    &lt;FIId&gt;\r\n                        &lt;FinInstnId&gt;\r\n                            &lt;BICFI&gt;ZYDFUS562WW&lt;/BICFI&gt;\r\n                        &lt;/FinInstnId&gt;\r\n                    &lt;/FIId&gt;\r\n                &lt;/To&gt;\r\n                &lt;BizMsgIdr&gt;IMDLC6928&lt;/BizMsgIdr&gt;\r\n                &lt;MsgDefIdr&gt;camt.029.001.09&lt;/MsgDefIdr&gt; \r\n                &lt;BizSvc&gt;swift.cbprplus.02&lt;/BizSvc&gt;\r\n                &lt;CreDt&gt;2010-09-31T04:49:45+03:00&lt;/CreDt&gt;\r\n            &lt;/AppHdr&gt;\r\n            &lt;Document&gt;\r\n                &lt;RsltnOfInvstgtn&gt;\r\n                    &lt;Assgnmt&gt;\r\n                        &lt;Id&gt;IMDLC69S01&lt;/Id&gt;\r\n                        &lt;Assgnr&gt;\r\n                            &lt;Agt&gt;\r\n                                &lt;FinInstnId&gt;\r\n                                    &lt;BICFI&gt;SNDRCAXX&lt;/BICFI&gt;\r\n                                &lt;/FinInstnId&gt;\r\n                            &lt;/Agt&gt;\r\n                        &lt;/Assgnr&gt;\r\n                        &lt;Assgne&gt;\r\n                            &lt;Agt&gt;\r\n                                &lt;FinInstnId&gt;\r\n                                    &lt;BICFI&gt;SNDXX&lt;/BICFI&gt;\r\n                                &lt;/FinInstnId&gt;\r\n                            &lt;/Agt&gt;\r\n                        &lt;/Assgne&gt;\r\n                        &lt;CreDtTm&gt;2010-09-29T04:49:45+03:00&lt;/CreDtTm&gt;\r\n                    &lt;/Assgnmt&gt;\r\n                    &lt;Sts&gt;\r\n                        &lt;Conf&gt;RJCR&lt;/Conf&gt;\r\n                    &lt;/Sts&gt;\r\n                    &lt;CxlDtls&gt;\r\n                        &lt;TxInfAndSts&gt;\r\n                            &lt;CxlStsId&gt;TESTID&lt;/CxlStsId&gt;\r\n                            &lt;RslvdCase&gt;\r\n                                &lt;Id&gt;123&lt;/Id&gt;\r\n                                &lt;Cretr&gt;\r\n                                    &lt;Pty&gt;\r\n                                        &lt;Nm&gt;XYZ LTD&lt;/Nm&gt;\r\n                                        &lt;Id&gt;\r\n                                            &lt;OrgId&gt;\r\n                                                &lt;AnyBIC&gt;SNDRCAXXX&lt;/AnyBIC&gt;\r\n                                            &lt;/OrgId&gt;\r\n                                        &lt;/Id&gt;\r\n                                        &lt;CtryOfRes&gt;IN&lt;/CtryOfRes&gt;\r\n                                    &lt;/Pty&gt;\r\n                                &lt;/Cretr&gt;\r\n                            &lt;/RslvdCase&gt;\r\n                            &lt;OrgnlGrpInf&gt;\r\n                                &lt;OrgnlMsgId&gt;YT123&lt;/OrgnlMsgId&gt;\r\n                                &lt;OrgnlMsgNmId&gt;IEUW79&lt;/OrgnlMsgNmId&gt;\r\n                            &lt;/OrgnlGrpInf&gt;\r\n                            &lt;OrgnlUETR&gt;9de-aed0-16487c27b42d&lt;/OrgnlUETR&gt;\r\n                        &lt;/TxInfAndSts&gt;\r\n                    &lt;/CxlDtls&gt;\r\n                &lt;/RsltnOfInvstgtn&gt;\r\n            &lt;/Document&gt;\r\n        &lt;/ISOMessage&gt;\r\n    &lt;/Body&gt;\r\n    &lt;Timestamp&gt;\r\n        &lt;Date&gt;20200327&lt;/Date&gt;\r\n        &lt;Time&gt;123424&lt;/Time&gt;\r\n    &lt;/Timestamp&gt;\r\n&lt;/SwiftMx&gt;\r\n```\r\n\r\n\r\n\r\n1) Not able to parse using below abstract class, getting null returned from parse method \r\n    `parse into generic structure\r\n     AbstractMX mx = AbstractMX.parse(xml);`\r\n\r\n2) I want to know the type of message which I was able to extract using below code.\r\n   `        MxSwiftMessage mxSwiftMessage = MxSwiftMessage.parse(xml);\r\n        String msgDefIdr = ((BusinessAppHdrV01) mxSwiftMessage.getAppHdr()).getMsgDefIdr();  `\\\r\n   But this is working only for AppHdr, not sure how to parse when we have differently structured messages.","title":"Extracting UETR from SwiftMX Using Prowide Java Library","body":"<p>I am pretty new to processing swift messages in java, I am trying with prowide-iso20022 software java library to parse the SwiftMX messages (<a href=\"https://github.com/prowide/prowide-iso20022\" rel=\"nofollow noreferrer\">https://github.com/prowide/prowide-iso20022</a>)</p>\n<p>I want to extract UETR (<strong>OrgnlUETR</strong>) of a message and other similar required information from the message, these field I think can be in different locations/hierarchy in xml for different type of message (i.e no common hierarchy). Need help in how to extract the required fields, since there are lot type of messages in SwiftMX</p>\n<p>Below is the sample/dummy SwiftMX message for reference.</p>\n<pre><code>&lt;SwiftMx&gt;\n    &lt;Header&gt;\n        &lt;DestinationID&gt;ABC&lt;/DestinationID&gt;\n        &lt;SenderID&gt;PQR&lt;/SenderID&gt;\n        &lt;OperationOrganizationID/&gt;\n        &lt;MessageType&gt;ISO22IN&lt;/MessageType&gt;\n        &lt;DateSent&gt;20200321&lt;/DateSent&gt;\n        &lt;TimeSent&gt;0829&lt;/TimeSent&gt;\n        &lt;MessageID&gt;3190eee&lt;/MessageID&gt;\n    &lt;/Header&gt;\n    &lt;SubHeader&gt;\n        &lt;ReceiverAddress&gt;ZYDFUS562WW&lt;/ReceiverAddress&gt;\n        &lt;SenderAddress&gt;NCBACATEEE&lt;/SenderAddress&gt;\n    &lt;/SubHeader&gt;\n    &lt;Body&gt;\n        &lt;ISOMessage&gt;\n            &lt;AppHdr&gt;\n                &lt;Fr&gt;\n                    &lt;FIId&gt;\n                        &lt;FinInstnId&gt;\n                            &lt;BICFI&gt;NCBACATEEE&lt;/BICFI&gt;\n                        &lt;/FinInstnId&gt;\n                    &lt;/FIId&gt;\n                &lt;/Fr&gt;\n                &lt;To&gt;\n                    &lt;FIId&gt;\n                        &lt;FinInstnId&gt;\n                            &lt;BICFI&gt;ZYDFUS562WW&lt;/BICFI&gt;\n                        &lt;/FinInstnId&gt;\n                    &lt;/FIId&gt;\n                &lt;/To&gt;\n                &lt;BizMsgIdr&gt;IMDLC6928&lt;/BizMsgIdr&gt;\n                &lt;MsgDefIdr&gt;camt.029.001.09&lt;/MsgDefIdr&gt; \n                &lt;BizSvc&gt;swift.cbprplus.02&lt;/BizSvc&gt;\n                &lt;CreDt&gt;2010-09-31T04:49:45+03:00&lt;/CreDt&gt;\n            &lt;/AppHdr&gt;\n            &lt;Document&gt;\n                &lt;RsltnOfInvstgtn&gt;\n                    &lt;Assgnmt&gt;\n                        &lt;Id&gt;IMDLC69S01&lt;/Id&gt;\n                        &lt;Assgnr&gt;\n                            &lt;Agt&gt;\n                                &lt;FinInstnId&gt;\n                                    &lt;BICFI&gt;SNDRCAXX&lt;/BICFI&gt;\n                                &lt;/FinInstnId&gt;\n                            &lt;/Agt&gt;\n                        &lt;/Assgnr&gt;\n                        &lt;Assgne&gt;\n                            &lt;Agt&gt;\n                                &lt;FinInstnId&gt;\n                                    &lt;BICFI&gt;SNDXX&lt;/BICFI&gt;\n                                &lt;/FinInstnId&gt;\n                            &lt;/Agt&gt;\n                        &lt;/Assgne&gt;\n                        &lt;CreDtTm&gt;2010-09-29T04:49:45+03:00&lt;/CreDtTm&gt;\n                    &lt;/Assgnmt&gt;\n                    &lt;Sts&gt;\n                        &lt;Conf&gt;RJCR&lt;/Conf&gt;\n                    &lt;/Sts&gt;\n                    &lt;CxlDtls&gt;\n                        &lt;TxInfAndSts&gt;\n                            &lt;CxlStsId&gt;TESTID&lt;/CxlStsId&gt;\n                            &lt;RslvdCase&gt;\n                                &lt;Id&gt;123&lt;/Id&gt;\n                                &lt;Cretr&gt;\n                                    &lt;Pty&gt;\n                                        &lt;Nm&gt;XYZ LTD&lt;/Nm&gt;\n                                        &lt;Id&gt;\n                                            &lt;OrgId&gt;\n                                                &lt;AnyBIC&gt;SNDRCAXXX&lt;/AnyBIC&gt;\n                                            &lt;/OrgId&gt;\n                                        &lt;/Id&gt;\n                                        &lt;CtryOfRes&gt;IN&lt;/CtryOfRes&gt;\n                                    &lt;/Pty&gt;\n                                &lt;/Cretr&gt;\n                            &lt;/RslvdCase&gt;\n                            &lt;OrgnlGrpInf&gt;\n                                &lt;OrgnlMsgId&gt;YT123&lt;/OrgnlMsgId&gt;\n                                &lt;OrgnlMsgNmId&gt;IEUW79&lt;/OrgnlMsgNmId&gt;\n                            &lt;/OrgnlGrpInf&gt;\n                            &lt;OrgnlUETR&gt;9de-aed0-16487c27b42d&lt;/OrgnlUETR&gt;\n                        &lt;/TxInfAndSts&gt;\n                    &lt;/CxlDtls&gt;\n                &lt;/RsltnOfInvstgtn&gt;\n            &lt;/Document&gt;\n        &lt;/ISOMessage&gt;\n    &lt;/Body&gt;\n    &lt;Timestamp&gt;\n        &lt;Date&gt;20200327&lt;/Date&gt;\n        &lt;Time&gt;123424&lt;/Time&gt;\n    &lt;/Timestamp&gt;\n&lt;/SwiftMx&gt;\n</code></pre>\n<ol>\n<li><p>Not able to parse using below abstract class, getting null returned from parse method\n<code>parse into generic structure AbstractMX mx = AbstractMX.parse(xml);</code></p>\n</li>\n<li><p>I want to know the type of message which I was able to extract using below code.\n<code>       MxSwiftMessage mxSwiftMessage = MxSwiftMessage.parse(xml); String msgDefIdr = ((BusinessAppHdrV01) mxSwiftMessage.getAppHdr()).getMsgDefIdr(); </code><br />\nBut this is working only for AppHdr, not sure how to parse when we have differently structured messages.</p>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","swagger","openapi","openapi-generator"],"owner":{"account_id":12906028,"reputation":1,"user_id":9333288,"display_name":"InvasiveFiber97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690980945,"creation_date":1690980945,"question_id":76820116,"body_markdown":"Suppose my schema is (please ignore the syntax here, the syntax is correctly written in code) :\r\n\r\n```\r\npaymentAction:\r\n  $ref: &#39;component/credit-card&#39;\r\n  $ref: &#39;component/google-pay&#39;\r\ndiscriminator:\r\n  propertyName: paymentType\r\n  mapping:\r\n    cc: &#39;component/credit-card&#39;\r\n    gpay: &#39;component/google-pay&#39;\r\n```\r\n\r\nThe schema for them is as follows:\r\n\r\n```\r\ncredit-card: \r\n properties\r\n  paymenytType:\r\n   type: string\r\n  paymentId:\r\n   type: string\r\ngoogle-pay: \r\n properties\r\n  paymenytType:\r\n   type: string\r\n  paymentId:\r\n   type: string\r\n```\r\nI want to exclude the paymentType from response sent to any request.\r\n\r\nI&#39;ve tried things like `x-field-extra-annotation: &quot;package-path.JsonIgnore&quot;`, keyword `writeOnly: true` and `x-class-extra-annotation: &quot;package-path.JsonIgnoreProperties(value=&quot;paymentType&quot;)&quot;`\r\n\r\nBut the paymentType is always sent in response even in get calls.\r\nUsing `openApi 3.0.3`, commands used `gradlew clean openApiGenerate`\r\n\r\n`paymentAction` is generated as interface which is implemented by `credit-card` and `google-pay`\r\n\r\nPlease help!","title":"Ignore the writeOnly and sensitive fields in response OpenAPI bug","body":"<p>Suppose my schema is (please ignore the syntax here, the syntax is correctly written in code) :</p>\n<pre><code>paymentAction:\n  $ref: 'component/credit-card'\n  $ref: 'component/google-pay'\ndiscriminator:\n  propertyName: paymentType\n  mapping:\n    cc: 'component/credit-card'\n    gpay: 'component/google-pay'\n</code></pre>\n<p>The schema for them is as follows:</p>\n<pre><code>credit-card: \n properties\n  paymenytType:\n   type: string\n  paymentId:\n   type: string\ngoogle-pay: \n properties\n  paymenytType:\n   type: string\n  paymentId:\n   type: string\n</code></pre>\n<p>I want to exclude the paymentType from response sent to any request.</p>\n<p>I've tried things like <code>x-field-extra-annotation: &quot;package-path.JsonIgnore&quot;</code>, keyword <code>writeOnly: true</code> and <code>x-class-extra-annotation: &quot;package-path.JsonIgnoreProperties(value=&quot;paymentType&quot;)&quot;</code></p>\n<p>But the paymentType is always sent in response even in get calls.\nUsing <code>openApi 3.0.3</code>, commands used <code>gradlew clean openApiGenerate</code></p>\n<p><code>paymentAction</code> is generated as interface which is implemented by <code>credit-card</code> and <code>google-pay</code></p>\n<p>Please help!</p>\n"},{"tags":["java","spring","spring-security","active-directory","spring-ldap"],"comments":[{"owner":{"account_id":6733681,"reputation":827,"user_id":5189158,"display_name":"raiyan"},"score":0,"creation_date":1527508870,"post_id":50565491,"comment_id":88141958,"body_markdown":"Is it the same for all users?","body":"Is it the same for all users?"},{"owner":{"account_id":11610864,"reputation":1706,"user_id":8505128,"accept_rate":83,"display_name":"kojot"},"score":0,"creation_date":1527509106,"post_id":50565491,"comment_id":88142117,"body_markdown":"Yes, exactly, and it doesn&#39;t match to any user I added (I didn&#39;t search the whole directory by this SID).","body":"Yes, exactly, and it doesn&#39;t match to any user I added (I didn&#39;t search the whole directory by this SID)."},{"owner":{"account_id":6733681,"reputation":827,"user_id":5189158,"display_name":"raiyan"},"score":0,"creation_date":1527509575,"post_id":50565491,"comment_id":88142388,"body_markdown":"The last block of characters should be different for different users. If not compare the byte stream of sid of two users and see if it matches. Sid will be unique.","body":"The last block of characters should be different for different users. If not compare the byte stream of sid of two users and see if it matches. Sid will be unique."},{"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1527510024,"post_id":50565491,"comment_id":88142655,"body_markdown":"`ctx.getDn()` is the DN of the user account you want the SID from?","body":"<code>ctx.getDn()</code> is the DN of the user account you want the SID from?"},{"owner":{"account_id":11610864,"reputation":1706,"user_id":8505128,"accept_rate":83,"display_name":"kojot"},"score":0,"creation_date":1527510180,"post_id":50565491,"comment_id":88142738,"body_markdown":"@GabrielLuci yes :)","body":"@GabrielLuci yes :)"}],"answers":[{"tags":[],"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527510777,"creation_date":1527510777,"answer_id":50566573,"question_id":50565491,"body_markdown":"I think the answer is here: http://forum.spring.io/forum/spring-projects/data/ldap/66894-objectsid-and-ldaptemplate\r\n\r\nIn the second last post, he describes the same issue you&#39;re having. In the last post, he describes a fix, which is to add this to the Bean config file:\r\n\r\n    &lt;bean id=&quot;contextSource&quot; class=&quot;org.springframework.ldap.core.support.LdapContextSource&quot;&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;ldap://ldapserver.domain.com:389&quot; /&gt;\r\n        &lt;property name=&quot;base&quot; value=&quot;dc=domain,dc=com&quot; /&gt;\r\n        &lt;property name=&quot;userDn&quot; value=&quot;cn=binduser,cn=Users,dc=domain,dc=com&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;bindpwd&quot;/&gt;\r\n        &lt;property name=&quot;baseEnvironmentProperties&quot;&gt;\r\n            &lt;map&gt;\r\n            &lt;entry key=&quot;java.naming.ldap.attributes.binary&quot;&gt;\r\n                &lt;value&gt;objectSid&lt;/value&gt;\r\n            &lt;/entry&gt;\r\n            &lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nYou&#39;ll have to modify the values for your domain, but I think the important part is the `baseEnvironmentProperties`.\r\n\r\n[This thread][1] also describes a programmatic way to set that (although, for `objectGuid`, but you can just swap the attribute).\r\n\r\n    AbstractContextSource contextSource = (AbstractContextSource) ldapTemplate.getContextSource();\r\n    Map&lt;String,String&gt; baseEnvironmentProperties = new HashMap&lt;String, String&gt;();\r\n    baseEnvironmentProperties.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectSid&quot;);\r\n    contextSource.setBaseEnvironmentProperties(baseEnvironmentProperties);\r\n    contextSource.afterPropertiesSet();\r\n\r\n\r\n  [1]: http://forum.spring.io/forum/spring-projects/data/ldap/47556-binary-attributes-objectguid-programmatically-set-the-environment","title":"Spring LDAP returns same and incorrect objectSid","body":"<p>I think the answer is here: <a href=\"http://forum.spring.io/forum/spring-projects/data/ldap/66894-objectsid-and-ldaptemplate\" rel=\"nofollow noreferrer\">http://forum.spring.io/forum/spring-projects/data/ldap/66894-objectsid-and-ldaptemplate</a></p>\n\n<p>In the second last post, he describes the same issue you're having. In the last post, he describes a fix, which is to add this to the Bean config file:</p>\n\n<pre><code>&lt;bean id=\"contextSource\" class=\"org.springframework.ldap.core.support.LdapContextSource\"&gt;\n    &lt;property name=\"url\" value=\"ldap://ldapserver.domain.com:389\" /&gt;\n    &lt;property name=\"base\" value=\"dc=domain,dc=com\" /&gt;\n    &lt;property name=\"userDn\" value=\"cn=binduser,cn=Users,dc=domain,dc=com\" /&gt;\n    &lt;property name=\"password\" value=\"bindpwd\"/&gt;\n    &lt;property name=\"baseEnvironmentProperties\"&gt;\n        &lt;map&gt;\n        &lt;entry key=\"java.naming.ldap.attributes.binary\"&gt;\n            &lt;value&gt;objectSid&lt;/value&gt;\n        &lt;/entry&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>You'll have to modify the values for your domain, but I think the important part is the <code>baseEnvironmentProperties</code>.</p>\n\n<p><a href=\"http://forum.spring.io/forum/spring-projects/data/ldap/47556-binary-attributes-objectguid-programmatically-set-the-environment\" rel=\"nofollow noreferrer\">This thread</a> also describes a programmatic way to set that (although, for <code>objectGuid</code>, but you can just swap the attribute).</p>\n\n<pre><code>AbstractContextSource contextSource = (AbstractContextSource) ldapTemplate.getContextSource();\nMap&lt;String,String&gt; baseEnvironmentProperties = new HashMap&lt;String, String&gt;();\nbaseEnvironmentProperties.put(\"java.naming.ldap.attributes.binary\", \"objectSid\");\ncontextSource.setBaseEnvironmentProperties(baseEnvironmentProperties);\ncontextSource.afterPropertiesSet();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1150389,"reputation":280,"user_id":1132241,"accept_rate":100,"display_name":"dahook"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558394187,"creation_date":1558394187,"answer_id":56229287,"question_id":50565491,"body_markdown":"I got this to work by adding the environment properties in the configure method:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth\r\n                .authenticationProvider(activeDirectoryLdapAuthenticationProvider());\r\n    }\r\n\r\n    private ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\r\n        ActiveDirectoryLdapAuthenticationProvider provider =\r\n                new ActiveDirectoryLdapAuthenticationProvider(LdapConfig.AD_DOMAIN, LdapConfig.AD_SERVER);\r\n\r\n    // ************** NEW ENVIRONMENT PROPERTIES **********************************\r\n        Map&lt;String, Object&gt; environmentProperties = new HashMap&lt;&gt;();\r\n        environmentProperties.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectsid&quot;);\r\n        provider.setContextEnvironmentProperties(environmentProperties);\r\n    // ************** END OF NEW ENVIRONMENT PROPERTIES ***************************\r\n\r\n        provider.setUserDetailsContextMapper(new LdapUserDetailsContextMapper());\r\n        return provider;\r\n        }\r\n    }\r\n\r\nAnd then reading it like this in the UserDetailContextMapper:\r\n\r\n    public class CustomUserDetailsContextMapper implements UserDetailsContextMapper {\r\n\r\n    private final static Logger logger = LoggerFactory.getLogger(CustomUserDetailsContextMapper.class);\r\n\r\n    @Override\r\n    public UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n        logger.info(ctx.getDn().toString());\r\n        byte[] byteSid = null;\r\n        try {\r\n            byteSid = (byte[]) ctx.getAttributes().get(&quot;objectsid&quot;).get();\r\n        } catch (NamingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String sid = LdapUtils.convertBinarySidToString(byteSid);\r\n        logger.info(&quot;SID: {}&quot;, sid);\r\n\r\n        return new User(username, &quot;notUsed&quot;, true, true, true, true,\r\n                AuthorityUtils.createAuthorityList(&quot;ROLE_USER&quot;));    \r\n    }\r\n\r\nI hope this is helpful!","title":"Spring LDAP returns same and incorrect objectSid","body":"<p>I got this to work by adding the environment properties in the configure method:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n            .authorizeRequests()\n            .antMatchers(\"/\", \"/home\").permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .formLogin()\n            .loginPage(\"/login\")\n            .permitAll()\n            .and()\n            .logout()\n            .permitAll();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n            .authenticationProvider(activeDirectoryLdapAuthenticationProvider());\n}\n\nprivate ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\n    ActiveDirectoryLdapAuthenticationProvider provider =\n            new ActiveDirectoryLdapAuthenticationProvider(LdapConfig.AD_DOMAIN, LdapConfig.AD_SERVER);\n\n// ************** NEW ENVIRONMENT PROPERTIES **********************************\n    Map&lt;String, Object&gt; environmentProperties = new HashMap&lt;&gt;();\n    environmentProperties.put(\"java.naming.ldap.attributes.binary\", \"objectsid\");\n    provider.setContextEnvironmentProperties(environmentProperties);\n// ************** END OF NEW ENVIRONMENT PROPERTIES ***************************\n\n    provider.setUserDetailsContextMapper(new LdapUserDetailsContextMapper());\n    return provider;\n    }\n}\n</code></pre>\n\n<p>And then reading it like this in the UserDetailContextMapper:</p>\n\n<pre><code>public class CustomUserDetailsContextMapper implements UserDetailsContextMapper {\n\nprivate final static Logger logger = LoggerFactory.getLogger(CustomUserDetailsContextMapper.class);\n\n@Override\npublic UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n    logger.info(ctx.getDn().toString());\n    byte[] byteSid = null;\n    try {\n        byteSid = (byte[]) ctx.getAttributes().get(\"objectsid\").get();\n    } catch (NamingException e) {\n        e.printStackTrace();\n    }\n    String sid = LdapUtils.convertBinarySidToString(byteSid);\n    logger.info(\"SID: {}\", sid);\n\n    return new User(username, \"notUsed\", true, true, true, true,\n            AuthorityUtils.createAuthorityList(\"ROLE_USER\"));    \n}\n</code></pre>\n\n<p>I hope this is helpful!</p>\n"},{"tags":[],"owner":{"account_id":26355819,"reputation":21,"user_id":20012811,"display_name":"Viktor Engelmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690980857,"creation_date":1690980857,"answer_id":76820099,"question_id":50565491,"body_markdown":"This isn&#39;t about Spring, but vanilla Java LDAP Access (in case someone finds this page looking for that - as I did). When you build your DirContext, you need to tell it to keep objectSid in binary form. Otherwise it will try to decode the bytes into a String, which replaces invalid characters with the unicode REPLACEMENT CHARACTER U+FFFD (ï¿½) - making it impossible to get the correct Sid.\r\n\r\n    DirContext ldapConnect() throws NamingException {\r\n        Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\r\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n        env.put(Context.PROVIDER_URL, ldapServer);\r\n        env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n        env.put(Context.SECURITY_PRINCIPAL, ldapUser);\r\n        env.put(Context.SECURITY_CREDENTIALS, ldapPassword);\r\n    \r\n        env.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectSid&quot;); // !!!!!!!!!!!!!!!!!!\r\n        return new InitialDirContext(env);\r\n    }\r\n\r\nThis is basically Gabriel Lucis answer, just for vanilla Java instead of Spring.","title":"Spring LDAP returns same and incorrect objectSid","body":"<p>This isn't about Spring, but vanilla Java LDAP Access (in case someone finds this page looking for that - as I did). When you build your DirContext, you need to tell it to keep objectSid in binary form. Otherwise it will try to decode the bytes into a String, which replaces invalid characters with the unicode REPLACEMENT CHARACTER U+FFFD (ï¿½) - making it impossible to get the correct Sid.</p>\n<pre><code>DirContext ldapConnect() throws NamingException {\n    Hashtable&lt;String, String&gt; env = new Hashtable&lt;&gt;();\n    env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n    env.put(Context.PROVIDER_URL, ldapServer);\n    env.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\n    env.put(Context.SECURITY_PRINCIPAL, ldapUser);\n    env.put(Context.SECURITY_CREDENTIALS, ldapPassword);\n\n    env.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectSid&quot;); // !!!!!!!!!!!!!!!!!!\n    return new InitialDirContext(env);\n}\n</code></pre>\n<p>This is basically Gabriel Lucis answer, just for vanilla Java instead of Spring.</p>\n"}],"owner":{"account_id":11610864,"reputation":1706,"user_id":8505128,"accept_rate":83,"display_name":"kojot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2205,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1690980857,"creation_date":1527507300,"question_id":50565491,"body_markdown":"In my Spring web application I am unable to retrive the correct `objectId` from currently logged in user with the Active Directory account. All of attributes seems to have the right value, but the `objectId` value is always set to `S-1-5-21-1723711471-3183472479-4012130053-3220159935` and I don&#39;t know where it comes from.\r\n\r\n**WebSecurityConfig**\r\n\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\tpublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\t\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.antMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t\t.permitAll()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.logout()\r\n\t\t\t\t\t.permitAll();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth\r\n\t\t\t\t\t.authenticationProvider(activeDirectoryLdapAuthenticationProvider());\r\n\t\t}\r\n\r\n\t\tprivate ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\r\n\t\t\tActiveDirectoryLdapAuthenticationProvider provider =\r\n\t\t\t\t\tnew ActiveDirectoryLdapAuthenticationProvider(LdapConfig.AD_DOMAIN, LdapConfig.AD_SERVER);\r\n\t\t\tprovider.setUserDetailsContextMapper(new LdapUserDetailsContextMapper());\r\n\t\t\treturn provider;\r\n\t\t}\r\n\t}\r\n\r\n**LdapUserDetailsContextMapper**\r\n\r\n\t@Slf4j\r\n\tpublic class LdapUserDetailsContextMapper implements UserDetailsContextMapper {\r\n\t\t@Override\r\n\t\tpublic UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; collection) {\r\n\t\t\tlog.info(&quot;username: &quot; + username); //username is correct\r\n\t\t\tlog.info(&quot;DN from ctx: &quot; + ctx.getDn()); // returns correct DN\r\n\t\t\tbyte[] byteSid = ctx.getStringAttribute(&quot;objectSid&quot;).getBytes();\r\n\t\t\tString sid = LdapUtils.convertBinarySidToString(byteSid);\r\n\t\t\tlog.info(&quot;SID: &quot; + sid); // S-1-5-21-1723711471-3183472479-4012130053-3220159935 everytime\r\n\r\n\t\t\treturn new User(username, &quot;notUsed&quot;, true, true, true, true,\r\n\t\t\t\t\tAuthorityUtils.createAuthorityList(&quot;ROLE_USER&quot;));\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void mapUserToContext(UserDetails userDetails, DirContextAdapter dirContextAdapter) {\r\n\r\n\t\t}\r\n\t}\r\n\r\nHow to get the correct SID from Active Directory?","title":"Spring LDAP returns same and incorrect objectSid","body":"<p>In my Spring web application I am unable to retrive the correct <code>objectId</code> from currently logged in user with the Active Directory account. All of attributes seems to have the right value, but the <code>objectId</code> value is always set to <code>S-1-5-21-1723711471-3183472479-4012130053-3220159935</code> and I don't know where it comes from.</p>\n\n<p><strong>WebSecurityConfig</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(\"/\", \"/home\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(\"/login\")\n                .permitAll()\n                .and()\n                .logout()\n                .permitAll();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .authenticationProvider(activeDirectoryLdapAuthenticationProvider());\n    }\n\n    private ActiveDirectoryLdapAuthenticationProvider activeDirectoryLdapAuthenticationProvider() {\n        ActiveDirectoryLdapAuthenticationProvider provider =\n                new ActiveDirectoryLdapAuthenticationProvider(LdapConfig.AD_DOMAIN, LdapConfig.AD_SERVER);\n        provider.setUserDetailsContextMapper(new LdapUserDetailsContextMapper());\n        return provider;\n    }\n}\n</code></pre>\n\n<p><strong>LdapUserDetailsContextMapper</strong></p>\n\n<pre><code>@Slf4j\npublic class LdapUserDetailsContextMapper implements UserDetailsContextMapper {\n    @Override\n    public UserDetails mapUserFromContext(DirContextOperations ctx, String username, Collection&lt;? extends GrantedAuthority&gt; collection) {\n        log.info(\"username: \" + username); //username is correct\n        log.info(\"DN from ctx: \" + ctx.getDn()); // returns correct DN\n        byte[] byteSid = ctx.getStringAttribute(\"objectSid\").getBytes();\n        String sid = LdapUtils.convertBinarySidToString(byteSid);\n        log.info(\"SID: \" + sid); // S-1-5-21-1723711471-3183472479-4012130053-3220159935 everytime\n\n        return new User(username, \"notUsed\", true, true, true, true,\n                AuthorityUtils.createAuthorityList(\"ROLE_USER\"));\n    }\n\n    @Override\n    public void mapUserToContext(UserDetails userDetails, DirContextAdapter dirContextAdapter) {\n\n    }\n}\n</code></pre>\n\n<p>How to get the correct SID from Active Directory?</p>\n"},{"tags":["java","unit-testing","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"down_vote_count":1,"up_vote_count":89,"is_accepted":true,"score":88,"last_activity_date":1532350892,"creation_date":1532350892,"answer_id":51479493,"question_id":51412498,"body_markdown":"Simply use `verifyComplete()`. If the `Mono` emits any data, it will fail the stepverifier as it doesn&#39;t expect an `onNext` signal at this point.","title":"How do I use Reactor&#39;s StepVerifier to verify a Mono is empty?","body":"<p>Simply use <code>verifyComplete()</code>. If the <code>Mono</code> emits any data, it will fail the stepverifier as it doesn't expect an <code>onNext</code> signal at this point.</p>\n"},{"tags":[],"owner":{"account_id":1558046,"reputation":634,"user_id":1448578,"accept_rate":64,"display_name":"samibel"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1608733996,"creation_date":1607356105,"answer_id":65184867,"question_id":51412498,"body_markdown":"\r\nhere it is checked that onNext is not called\r\n   \r\n\r\n     StepVerifier.create(result).expectNextCount(0).verifyComplete()","title":"How do I use Reactor&#39;s StepVerifier to verify a Mono is empty?","body":"<p>here it is checked that onNext is not called</p>\n<pre><code> StepVerifier.create(result).expectNextCount(0).verifyComplete()\n</code></pre>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40443,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":51479493,"answer_count":2,"score":61,"last_activity_date":1690980793,"creation_date":1531958333,"question_id":51412498,"body_markdown":"I am using `StepVerifier` to test values:\r\n\r\n    @Test\r\n    public void testStuff() {\r\n        Thing thing = new Thing();\r\n        Mono&lt;Thing&gt; result = Mono.just(thing);\r\n        StepVerifier.create(result).consumeNextWith(r -&gt; {\r\n            assertEquals(thing, r);\r\n        }).verifyComplete();\r\n    }\r\n\r\nWhat I&#39;d like to do now is test for the absence of an item in the Mono.  Like this:\r\n\r\n    @Test\r\n    public void testNoStuff() {\r\n        Mono&lt;Thing&gt; result = Mono.empty();\r\n        StepVerifier.create(result)... // what goes here?\r\n    }\r\n\r\nI want to test that the Mono is in fact empty.  How do I do that?","title":"How do I use Reactor&#39;s StepVerifier to verify a Mono is empty?","body":"<p>I am using <code>StepVerifier</code> to test values:</p>\n\n<pre><code>@Test\npublic void testStuff() {\n    Thing thing = new Thing();\n    Mono&lt;Thing&gt; result = Mono.just(thing);\n    StepVerifier.create(result).consumeNextWith(r -&gt; {\n        assertEquals(thing, r);\n    }).verifyComplete();\n}\n</code></pre>\n\n<p>What I'd like to do now is test for the absence of an item in the Mono.  Like this:</p>\n\n<pre><code>@Test\npublic void testNoStuff() {\n    Mono&lt;Thing&gt; result = Mono.empty();\n    StepVerifier.create(result)... // what goes here?\n}\n</code></pre>\n\n<p>I want to test that the Mono is in fact empty.  How do I do that?</p>\n"},{"tags":["java","maven","wildfly","resteasy","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690915265,"creation_date":1690915265,"answer_id":76814403,"question_id":76811128,"body_markdown":"The issue is you&#39;ve got `&lt;context-root&gt;false&lt;/context-root&gt;` which will not use the default `ROOT.war`. What this will do is use the runtime name of the file. In your case it would be `integration-layer.war`. You&#39;d need to use `integration-layer` as your context rather than `/`. Or you could simply change the `&lt;context-root&gt;true&lt;/context-root&gt;`. You can also leave it off as `true` is the default.","title":"RESTful Endpoints Not Found on Wildfly","body":"<p>The issue is you've got <code>&lt;context-root&gt;false&lt;/context-root&gt;</code> which will not use the default <code>ROOT.war</code>. What this will do is use the runtime name of the file. In your case it would be <code>integration-layer.war</code>. You'd need to use <code>integration-layer</code> as your context rather than <code>/</code>. Or you could simply change the <code>&lt;context-root&gt;true&lt;/context-root&gt;</code>. You can also leave it off as <code>true</code> is the default.</p>\n"},{"tags":[],"owner":{"account_id":15970664,"reputation":107,"user_id":11524900,"display_name":"Jason Collier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690979560,"creation_date":1690979560,"answer_id":76819926,"question_id":76811128,"body_markdown":"The fix was to add the following exclusions to Keycloak:\r\n\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n                &lt;version&gt;13.0.1&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;","title":"RESTful Endpoints Not Found on Wildfly","body":"<p>The fix was to add the following exclusions to Keycloak:</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;13.0.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                    &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                    &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                    &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15970664,"reputation":107,"user_id":11524900,"display_name":"Jason Collier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690979560,"creation_date":1690888894,"question_id":76811128,"body_markdown":"I am trying to configure RESTful endpoints on an existing Wildfly Java project that to this point has been running as a Kafka consumer / producer.\r\n\r\nMy experience has previous been using Thorntail, but either way, I&#39;ve always used RESTEasy&#39;s JAX-RS jars for endpoint annotations.\r\n\r\nI&#39;ve set up the code as follows:\r\n\r\n**ApiDeclaration**\r\n\r\n    ApplicationPath(&quot;/api&quot;)\r\n    public class ApiDeclaration extends Application {\r\n        @Override\r\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n            Set&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n    //        set.add(CorsFilter.class);\r\n            set.add(ClaimApiImpl.class);\r\n            return set;\r\n        }\r\n    }\r\n\r\n**ClaimApi**\r\n\r\n    @Path(&quot;/claim&quot;)\r\n    public interface ClaimApi {\r\n        @POST\r\n        @Path(&quot;/process&quot;)\r\n        @Produces({MediaType.APPLICATION_XML})\r\n        @Consumes({MediaType.APPLICATION_XML})\r\n        Response processClaim(ClaimRequest claimRequest);\r\n    \r\n        @POST\r\n        @Path(&quot;/reverse&quot;)\r\n        @Produces({MediaType.APPLICATION_XML})\r\n        @Consumes({MediaType.APPLICATION_XML})\r\n        Response reverseClaim(ClaimReversal claimReversalRequest);\r\n    }\r\n\r\n**ClaimApiImpl**\r\n\r\n    @ApplicationScoped\r\n    public class ClaimApiImpl implements ClaimApi {\r\n    \r\n        @Override\r\n        public Response processClaim(ClaimRequest claimRequest) {\r\n    \r\n            try {\r\n                return Response\r\n                        .status(Response.Status.OK)\r\n                        .entity(&quot;Working!&quot;)\r\n                        .build();\r\n            } catch (Exception ex) {\r\n                return Response\r\n                        .status(Response.Status.INTERNAL_SERVER_ERROR)\r\n                        .entity((&quot;Error!&quot;))\r\n                        .build();\r\n            }\r\n        }\r\n    }\r\n\r\nThe POM.xml is set up as follows (it&#39;s a bit of a mess at the moment):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.greydom.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;integration-layer&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;!-- This needs to stay at 8 until wildfly/jakarta upgraded again --&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n            &lt;!-- PLATFORM --&gt;\r\n            &lt;version.jakarta.jakartaee-api&gt;8.0.0&lt;/version.jakarta.jakartaee-api&gt;\r\n            &lt;version.wildfly&gt;26.1.2.Final&lt;/version.wildfly&gt;\r\n            &lt;version.opentracing-api&gt;0.31.0&lt;/version.opentracing-api&gt;\r\n            &lt;version.wildfly-jar-maven-plugin&gt;8.0.0.Final&lt;/version.wildfly-jar-maven-plugin&gt;\r\n            &lt;version.wildfly-datasources-galleon-pack&gt;2.2.2.Final&lt;/version.wildfly-datasources-galleon-pack&gt;\r\n            &lt;version.keycloak-adapter-galleon-pack&gt;13.0.1&lt;/version.keycloak-adapter-galleon-pack&gt;\r\n    \r\n            &lt;version.maven-war-plugin&gt;3.3.2&lt;/version.maven-war-plugin&gt;\r\n            &lt;version.maven-assembly-plugin&gt;3.2.0&lt;/version.maven-assembly-plugin&gt;\r\n            &lt;version.maven-deploy-plugin&gt;2.8.2&lt;/version.maven-deploy-plugin&gt;\r\n            &lt;!-- CAMEL --&gt;\r\n            &lt;version.camel&gt;3.19.0&lt;/version.camel&gt;\r\n            &lt;!-- JWT --&gt;\r\n            &lt;version.jwt&gt;0.7.0&lt;/version.jwt&gt;\r\n            &lt;version.java-jwt&gt;3.4.0&lt;/version.java-jwt&gt;\r\n            &lt;!-- ECLIPSELINK --&gt;\r\n            &lt;version.eclipselink&gt;2.7.1&lt;/version.eclipselink&gt;\r\n    \r\n            &lt;!-- POSTGRESQL CLIENT --&gt;\r\n            &lt;version.postgresql&gt;42.2.1&lt;/version.postgresql&gt;\r\n            &lt;version.ironjacamar-jdbc&gt;1.4.38.Final&lt;/version.ironjacamar-jdbc&gt;\r\n            &lt;!-- PRIMEFACES - maybe ?? --&gt;\r\n            &lt;!-- LOGGING --&gt;\r\n            &lt;version.log4j-core&gt;2.11.0&lt;/version.log4j-core&gt;\r\n            &lt;version.infinispan&gt;9.4.19.Final&lt;/version.infinispan&gt;\r\n            &lt;!-- COMMONS LIBS --&gt;\r\n            &lt;version.commons-lang&gt;2.6&lt;/version.commons-lang&gt;\r\n            &lt;version.commons-io&gt;1.4&lt;/version.commons-io&gt;\r\n            &lt;version.commons-csv&gt;1.9.0&lt;/version.commons-csv&gt;\r\n            &lt;version.commons-codec&gt;1.9&lt;/version.commons-codec&gt;\r\n            &lt;version.beanutils&gt;1.9.2&lt;/version.beanutils&gt;\r\n            &lt;version.commons-lang3&gt;3.12.0&lt;/version.commons-lang3&gt;\r\n            &lt;version.commons-collections4&gt;4.1&lt;/version.commons-collections4&gt;\r\n            &lt;version.commons-csv&gt;1.9.0&lt;/version.commons-csv&gt;\r\n            &lt;version.lombok&gt;1.18.12&lt;/version.lombok&gt;\r\n    \r\n            &lt;version.java-uuid-generator&gt;4.0.1&lt;/version.java-uuid-generator&gt;\r\n            &lt;version.jaxb-impl&gt;2.3.4&lt;/version.jaxb-impl&gt;\r\n    \r\n            &lt;version.git-commit-id-plugin&gt;2.2.4&lt;/version.git-commit-id-plugin&gt;\r\n            &lt;version.maven-compiler-plugin&gt;3.10.1&lt;/version.maven-compiler-plugin&gt;\r\n            &lt;version.maven-failsafe-plugin&gt;2.22.2&lt;/version.maven-failsafe-plugin&gt;\r\n    \r\n            &lt;!-- TESTING --&gt;\r\n            &lt;version.org.wildfly.arquillian&gt;3.0.0.Final&lt;/version.org.wildfly.arquillian&gt;\r\n            &lt;version.org.jboss.arquillian.junit&gt;1.6.0.Final&lt;/version.org.jboss.arquillian.junit&gt;\r\n            &lt;version.junit&gt;4.13.1&lt;/version.junit&gt;\r\n            &lt;version.org.jboss.shrinkwrap.shrinkwrap&gt;1.2.6&lt;/version.org.jboss.shrinkwrap.shrinkwrap&gt;\r\n            &lt;version.org.jboss.shrinkwrap.resolver&gt;3.1.4&lt;/version.org.jboss.shrinkwrap.resolver&gt;\r\n    \r\n            &lt;!-- LOMBOK --&gt;\r\n            &lt;lombok.version&gt;1.18.12&lt;/lombok.version&gt;\r\n    \r\n            &lt;!-- GSON --&gt;\r\n            &lt;gson.version&gt;2.12.2&lt;/gson.version&gt;\r\n    \r\n            &lt;!-- INFINISPAN --&gt;\r\n            &lt;version.infinispan&gt;9.4.19.Final&lt;/version.infinispan&gt;\r\n    \r\n            &lt;resteasy.version&gt;3.0.14.Final&lt;/resteasy.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.wildfly}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-microprofile&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.wildfly}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;camel-bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.camel}&lt;/version&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- PLATFORM START --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.ironjacamar&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ironjacamar-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.ironjacamar-jdbc}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.jakarta.jakartaee-api}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.health&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-health-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.config&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-config-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.metrics&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-metrics-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.fault-tolerance&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-fault-tolerance-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.microprofile.opentracing&lt;/groupId&gt;\r\n                &lt;artifactId&gt;microprofile-opentracing-api&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.opentracing&lt;/groupId&gt;\r\n                &lt;artifactId&gt;opentracing-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.opentracing-api}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- CAMEL --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-swagger-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-http&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-xj&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-xpath&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-mapstruct&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-cdi&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--        &lt;dependency&gt;--&gt;\r\n            &lt;!--            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;--&gt;\r\n            &lt;!--            &lt;artifactId&gt;camel-file&lt;/artifactId&gt;--&gt;\r\n            &lt;!--        &lt;/dependency&gt;--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-log&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-master&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-zookeeper-master&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-endpointdsl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-componentdsl&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-kafka&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-jsonpath&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.jaxb-impl}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;31.1-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.beanutils}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- LOGGING --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.30&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.commons-csv}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- KEYCLOAK ADMIN CLIENT --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n                &lt;version&gt;13.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- POSTGRESQL CLIENT --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.postgresql}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- ECLIPSELINK --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.eclipselink}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- INFINISPAN CACHE --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;infinispan-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;infinispan-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;infinispan-query&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;infinispan-directory-provider&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\r\n                &lt;artifactId&gt;infinispan-directory-provider&lt;/artifactId&gt;\r\n                &lt;version&gt;${version.infinispan}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- TESTING --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n                &lt;artifactId&gt;camel-test-junit5&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fake-sftp-server-lambda&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockserver-netty-no-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;5.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.shrinkwrap.descriptors&lt;/groupId&gt;\r\n                &lt;artifactId&gt;shrinkwrap-descriptors-depchain&lt;/artifactId&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;\r\n                &lt;artifactId&gt;arquillian-weld-se-embedded-1.1&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\r\n                &lt;artifactId&gt;weld-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.15.Final&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- LOMBOK --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- GSON --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n                &lt;version&gt;${gson.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-jar-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.wildfly-jar-maven-plugin}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;cli-sessions&gt;\r\n                            &lt;cli-session&gt;\r\n                                &lt;script-files&gt;\r\n                                    &lt;script&gt;build_scripts/cli/integration-layer_config.cli&lt;/script&gt;\r\n                                &lt;/script-files&gt;\r\n                                &lt;properties-file&gt;build_scripts/integration-layer_config.properties&lt;/properties-file&gt;\r\n                            &lt;/cli-session&gt;\r\n                        &lt;/cli-sessions&gt;\r\n                        &lt;extra-server-content-dirs&gt;\r\n                            &lt;extra-content&gt;build_scripts/extra_content&lt;/extra-content&gt;\r\n                        &lt;/extra-server-content-dirs&gt;\r\n                        &lt;feature-packs&gt;\r\n                            &lt;feature-pack&gt;\r\n                                &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)#${version.wildfly}&lt;/location&gt;\r\n                            &lt;/feature-pack&gt;\r\n                            &lt;feature-pack&gt;\r\n                                &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\r\n                                &lt;version&gt;${version.wildfly-datasources-galleon-pack}&lt;/version&gt;\r\n                            &lt;/feature-pack&gt;            \r\n                        &lt;/feature-packs&gt;\r\n                        &lt;layers&gt;\r\n                            &lt;layer&gt;microprofile-platform&lt;/layer&gt;\r\n                            &lt;layer&gt;jaxrs&lt;/layer&gt;\r\n                            &lt;layer&gt;postgresql-driver&lt;/layer&gt;\r\n                            &lt;layer&gt;jpa&lt;/layer&gt;\r\n                            &lt;layer&gt;cdi&lt;/layer&gt;\r\n                            &lt;layer&gt;logging&lt;/layer&gt;\r\n                        &lt;/layers&gt;\r\n                        &lt;excluded-layers&gt;\r\n                            &lt;layer&gt;deployment-scanner&lt;/layer&gt;\r\n                        &lt;/excluded-layers&gt;\r\n                        &lt;plugin-options&gt;\r\n                            &lt;jboss-fork-embedded&gt;${plugin.fork.embedded}&lt;/jboss-fork-embedded&gt;\r\n                        &lt;/plugin-options&gt;\r\n                        &lt;context-root&gt;false&lt;/context-root&gt;\r\n                        &lt;hollow-jar&gt;true&lt;/hollow-jar&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;package&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.maven-war-plugin}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;warName&gt;${project.artifactId}&lt;/warName&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.maven-compiler-plugin}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;!-- Original answer --&gt;\r\n                        &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;\r\n                        &lt;!-- Or, if you use the plugin version &gt;= 3.6.2 --&gt;\r\n                        &lt;!--                    &lt;parameters&gt;true&lt;/parameters&gt;--&gt;\r\n                        &lt;!--                    &lt;testCompilerArgument&gt;-parameters&lt;/testCompilerArgument&gt;--&gt;\r\n                        &lt;!--                    &lt;source&gt;${java.version}&lt;/source&gt;--&gt;\r\n                        &lt;!--                    &lt;target&gt;${java.version}&lt;/target&gt;--&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${version.lombok}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${version.maven-failsafe-plugin}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;jaxrs.surefire&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                &lt;goal&gt;verify&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;failIfNoTests&gt;false&lt;/failIfNoTests&gt;\r\n                                &lt;systemPropertyVariables&gt;\r\n                                    &lt;bootable.jar&gt;${project.build.directory}/api-bootable.jar&lt;/bootable.jar&gt;\r\n                                    &lt;arquillian.xml&gt;arquillian.xml&lt;/arquillian.xml&gt;\r\n                                &lt;/systemPropertyVariables&gt;\r\n                                &lt;redirectTestOutputToFile&gt;false&lt;/redirectTestOutputToFile&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nIs there anything extra that specifically needs to be added to get endpoints exposed?\r\n\r\n - Iâve tried adding &lt;layer&gt;jaxrs&lt;/layer&gt; to pom -&gt; plugins -&gt; plugin -&gt; wildfly-jar-maven-plugin -&gt; layers, but that didnât help.\r\n - Iâve seen mention of jboss-deployment-structure.xml, but I tried adding that with no luck.\r\n - Iâve seen mention of the need for a web.xml, but that shouldnât be required if the ApiDeclaration already has a @ApplicationPath(&quot;/api&quot;).\r\n\r\nIâve set the port to listen on 8089, and I can see this is working from the following startup log:\r\n - WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8089\r\n\r\nThe above code should expose an endpoint on http://localhost:8089/api/claim/process, but I get a 404 not found.\r\n\r\nI am concerned there are issues in teh POM.xml file, but I am no longer sure what to try, hence the question.\r\n\r\nFYI, I have refrred to these questions too:\r\n - [https://stackoverflow.com/questions/48851090/wildfly-11-with-resteasy-throwing-404-and-no-endpoints-found][1]\r\n - [https://stackoverflow.com/questions/33984388/wildfly-returns-not-found][2]\r\n - [https://stackoverflow.com/questions/37147130/wildfly-service-deployed-but-resource-not-found][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48851090/wildfly-11-with-resteasy-throwing-404-and-no-endpoints-found\r\n  [2]: https://stackoverflow.com/questions/33984388/wildfly-returns-not-found\r\n  [3]: https://stackoverflow.com/questions/37147130/wildfly-service-deployed-but-resource-not-found","title":"RESTful Endpoints Not Found on Wildfly","body":"<p>I am trying to configure RESTful endpoints on an existing Wildfly Java project that to this point has been running as a Kafka consumer / producer.</p>\n<p>My experience has previous been using Thorntail, but either way, I've always used RESTEasy's JAX-RS jars for endpoint annotations.</p>\n<p>I've set up the code as follows:</p>\n<p><strong>ApiDeclaration</strong></p>\n<pre><code>ApplicationPath(&quot;/api&quot;)\npublic class ApiDeclaration extends Application {\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        Set&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\n//        set.add(CorsFilter.class);\n        set.add(ClaimApiImpl.class);\n        return set;\n    }\n}\n</code></pre>\n<p><strong>ClaimApi</strong></p>\n<pre><code>@Path(&quot;/claim&quot;)\npublic interface ClaimApi {\n    @POST\n    @Path(&quot;/process&quot;)\n    @Produces({MediaType.APPLICATION_XML})\n    @Consumes({MediaType.APPLICATION_XML})\n    Response processClaim(ClaimRequest claimRequest);\n\n    @POST\n    @Path(&quot;/reverse&quot;)\n    @Produces({MediaType.APPLICATION_XML})\n    @Consumes({MediaType.APPLICATION_XML})\n    Response reverseClaim(ClaimReversal claimReversalRequest);\n}\n</code></pre>\n<p><strong>ClaimApiImpl</strong></p>\n<pre><code>@ApplicationScoped\npublic class ClaimApiImpl implements ClaimApi {\n\n    @Override\n    public Response processClaim(ClaimRequest claimRequest) {\n\n        try {\n            return Response\n                    .status(Response.Status.OK)\n                    .entity(&quot;Working!&quot;)\n                    .build();\n        } catch (Exception ex) {\n            return Response\n                    .status(Response.Status.INTERNAL_SERVER_ERROR)\n                    .entity((&quot;Error!&quot;))\n                    .build();\n        }\n    }\n}\n</code></pre>\n<p>The POM.xml is set up as follows (it's a bit of a mess at the moment):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.greydom.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;integration-layer&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;!-- This needs to stay at 8 until wildfly/jakarta upgraded again --&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;!-- PLATFORM --&gt;\n        &lt;version.jakarta.jakartaee-api&gt;8.0.0&lt;/version.jakarta.jakartaee-api&gt;\n        &lt;version.wildfly&gt;26.1.2.Final&lt;/version.wildfly&gt;\n        &lt;version.opentracing-api&gt;0.31.0&lt;/version.opentracing-api&gt;\n        &lt;version.wildfly-jar-maven-plugin&gt;8.0.0.Final&lt;/version.wildfly-jar-maven-plugin&gt;\n        &lt;version.wildfly-datasources-galleon-pack&gt;2.2.2.Final&lt;/version.wildfly-datasources-galleon-pack&gt;\n        &lt;version.keycloak-adapter-galleon-pack&gt;13.0.1&lt;/version.keycloak-adapter-galleon-pack&gt;\n\n        &lt;version.maven-war-plugin&gt;3.3.2&lt;/version.maven-war-plugin&gt;\n        &lt;version.maven-assembly-plugin&gt;3.2.0&lt;/version.maven-assembly-plugin&gt;\n        &lt;version.maven-deploy-plugin&gt;2.8.2&lt;/version.maven-deploy-plugin&gt;\n        &lt;!-- CAMEL --&gt;\n        &lt;version.camel&gt;3.19.0&lt;/version.camel&gt;\n        &lt;!-- JWT --&gt;\n        &lt;version.jwt&gt;0.7.0&lt;/version.jwt&gt;\n        &lt;version.java-jwt&gt;3.4.0&lt;/version.java-jwt&gt;\n        &lt;!-- ECLIPSELINK --&gt;\n        &lt;version.eclipselink&gt;2.7.1&lt;/version.eclipselink&gt;\n\n        &lt;!-- POSTGRESQL CLIENT --&gt;\n        &lt;version.postgresql&gt;42.2.1&lt;/version.postgresql&gt;\n        &lt;version.ironjacamar-jdbc&gt;1.4.38.Final&lt;/version.ironjacamar-jdbc&gt;\n        &lt;!-- PRIMEFACES - maybe ?? --&gt;\n        &lt;!-- LOGGING --&gt;\n        &lt;version.log4j-core&gt;2.11.0&lt;/version.log4j-core&gt;\n        &lt;version.infinispan&gt;9.4.19.Final&lt;/version.infinispan&gt;\n        &lt;!-- COMMONS LIBS --&gt;\n        &lt;version.commons-lang&gt;2.6&lt;/version.commons-lang&gt;\n        &lt;version.commons-io&gt;1.4&lt;/version.commons-io&gt;\n        &lt;version.commons-csv&gt;1.9.0&lt;/version.commons-csv&gt;\n        &lt;version.commons-codec&gt;1.9&lt;/version.commons-codec&gt;\n        &lt;version.beanutils&gt;1.9.2&lt;/version.beanutils&gt;\n        &lt;version.commons-lang3&gt;3.12.0&lt;/version.commons-lang3&gt;\n        &lt;version.commons-collections4&gt;4.1&lt;/version.commons-collections4&gt;\n        &lt;version.commons-csv&gt;1.9.0&lt;/version.commons-csv&gt;\n        &lt;version.lombok&gt;1.18.12&lt;/version.lombok&gt;\n\n        &lt;version.java-uuid-generator&gt;4.0.1&lt;/version.java-uuid-generator&gt;\n        &lt;version.jaxb-impl&gt;2.3.4&lt;/version.jaxb-impl&gt;\n\n        &lt;version.git-commit-id-plugin&gt;2.2.4&lt;/version.git-commit-id-plugin&gt;\n        &lt;version.maven-compiler-plugin&gt;3.10.1&lt;/version.maven-compiler-plugin&gt;\n        &lt;version.maven-failsafe-plugin&gt;2.22.2&lt;/version.maven-failsafe-plugin&gt;\n\n        &lt;!-- TESTING --&gt;\n        &lt;version.org.wildfly.arquillian&gt;3.0.0.Final&lt;/version.org.wildfly.arquillian&gt;\n        &lt;version.org.jboss.arquillian.junit&gt;1.6.0.Final&lt;/version.org.jboss.arquillian.junit&gt;\n        &lt;version.junit&gt;4.13.1&lt;/version.junit&gt;\n        &lt;version.org.jboss.shrinkwrap.shrinkwrap&gt;1.2.6&lt;/version.org.jboss.shrinkwrap.shrinkwrap&gt;\n        &lt;version.org.jboss.shrinkwrap.resolver&gt;3.1.4&lt;/version.org.jboss.shrinkwrap.resolver&gt;\n\n        &lt;!-- LOMBOK --&gt;\n        &lt;lombok.version&gt;1.18.12&lt;/lombok.version&gt;\n\n        &lt;!-- GSON --&gt;\n        &lt;gson.version&gt;2.12.2&lt;/gson.version&gt;\n\n        &lt;!-- INFINISPAN --&gt;\n        &lt;version.infinispan&gt;9.4.19.Final&lt;/version.infinispan&gt;\n\n        &lt;resteasy.version&gt;3.0.14.Final&lt;/resteasy.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-jakartaee8-with-tools&lt;/artifactId&gt;\n                &lt;version&gt;${version.wildfly}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-microprofile&lt;/artifactId&gt;\n                &lt;version&gt;${version.wildfly}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n                &lt;artifactId&gt;camel-bom&lt;/artifactId&gt;\n                &lt;version&gt;${version.camel}&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- PLATFORM START --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.ironjacamar&lt;/groupId&gt;\n            &lt;artifactId&gt;ironjacamar-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${version.ironjacamar-jdbc}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;${version.jakarta.jakartaee-api}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.health&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-health-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.config&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-config-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.metrics&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-metrics-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.fault-tolerance&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-fault-tolerance-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile.opentracing&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile-opentracing-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing&lt;/groupId&gt;\n            &lt;artifactId&gt;opentracing-api&lt;/artifactId&gt;\n            &lt;version&gt;${version.opentracing-api}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- CAMEL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-servlet&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-swagger-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-http&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-xj&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jaxb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-xpath&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-mapstruct&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-cdi&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--        &lt;dependency&gt;--&gt;\n        &lt;!--            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;--&gt;\n        &lt;!--            &lt;artifactId&gt;camel-file&lt;/artifactId&gt;--&gt;\n        &lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-log&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-master&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-zookeeper-master&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-endpointdsl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-componentdsl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-jsonpath&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;${version.jaxb-impl}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;${version.beanutils}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- LOGGING --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\n            &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;${version.commons-csv}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- KEYCLOAK ADMIN CLIENT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;13.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- POSTGRESQL CLIENT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${version.postgresql}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ECLIPSELINK --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;${version.eclipselink}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- INFINISPAN CACHE --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-core&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-commons&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-query&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n                    &lt;artifactId&gt;infinispan-directory-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.infinispan&lt;/groupId&gt;\n            &lt;artifactId&gt;infinispan-directory-provider&lt;/artifactId&gt;\n            &lt;version&gt;${version.infinispan}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- TESTING --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-test-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.stefanbirkner&lt;/groupId&gt;\n            &lt;artifactId&gt;fake-sftp-server-lambda&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\n            &lt;artifactId&gt;mockserver-netty-no-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;5.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.arquillian.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;arquillian-junit-container&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.shrinkwrap.descriptors&lt;/groupId&gt;\n            &lt;artifactId&gt;shrinkwrap-descriptors-depchain&lt;/artifactId&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.arquillian.container&lt;/groupId&gt;\n            &lt;artifactId&gt;arquillian-weld-se-embedded-1.1&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.15.Final&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- LOMBOK --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- GSON --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;${gson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-jar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.wildfly-jar-maven-plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;cli-sessions&gt;\n                        &lt;cli-session&gt;\n                            &lt;script-files&gt;\n                                &lt;script&gt;build_scripts/cli/integration-layer_config.cli&lt;/script&gt;\n                            &lt;/script-files&gt;\n                            &lt;properties-file&gt;build_scripts/integration-layer_config.properties&lt;/properties-file&gt;\n                        &lt;/cli-session&gt;\n                    &lt;/cli-sessions&gt;\n                    &lt;extra-server-content-dirs&gt;\n                        &lt;extra-content&gt;build_scripts/extra_content&lt;/extra-content&gt;\n                    &lt;/extra-server-content-dirs&gt;\n                    &lt;feature-packs&gt;\n                        &lt;feature-pack&gt;\n                            &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)#${version.wildfly}&lt;/location&gt;\n                        &lt;/feature-pack&gt;\n                        &lt;feature-pack&gt;\n                            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n                            &lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\n                            &lt;version&gt;${version.wildfly-datasources-galleon-pack}&lt;/version&gt;\n                        &lt;/feature-pack&gt;            \n                    &lt;/feature-packs&gt;\n                    &lt;layers&gt;\n                        &lt;layer&gt;microprofile-platform&lt;/layer&gt;\n                        &lt;layer&gt;jaxrs&lt;/layer&gt;\n                        &lt;layer&gt;postgresql-driver&lt;/layer&gt;\n                        &lt;layer&gt;jpa&lt;/layer&gt;\n                        &lt;layer&gt;cdi&lt;/layer&gt;\n                        &lt;layer&gt;logging&lt;/layer&gt;\n                    &lt;/layers&gt;\n                    &lt;excluded-layers&gt;\n                        &lt;layer&gt;deployment-scanner&lt;/layer&gt;\n                    &lt;/excluded-layers&gt;\n                    &lt;plugin-options&gt;\n                        &lt;jboss-fork-embedded&gt;${plugin.fork.embedded}&lt;/jboss-fork-embedded&gt;\n                    &lt;/plugin-options&gt;\n                    &lt;context-root&gt;false&lt;/context-root&gt;\n                    &lt;hollow-jar&gt;true&lt;/hollow-jar&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;package&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.maven-war-plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;warName&gt;${project.artifactId}&lt;/warName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.maven-compiler-plugin}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- Original answer --&gt;\n                    &lt;compilerArgument&gt;-parameters&lt;/compilerArgument&gt;\n                    &lt;!-- Or, if you use the plugin version &gt;= 3.6.2 --&gt;\n                    &lt;!--                    &lt;parameters&gt;true&lt;/parameters&gt;--&gt;\n                    &lt;!--                    &lt;testCompilerArgument&gt;-parameters&lt;/testCompilerArgument&gt;--&gt;\n                    &lt;!--                    &lt;source&gt;${java.version}&lt;/source&gt;--&gt;\n                    &lt;!--                    &lt;target&gt;${java.version}&lt;/target&gt;--&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${version.lombok}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${version.maven-failsafe-plugin}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jaxrs.surefire&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;failIfNoTests&gt;false&lt;/failIfNoTests&gt;\n                            &lt;systemPropertyVariables&gt;\n                                &lt;bootable.jar&gt;${project.build.directory}/api-bootable.jar&lt;/bootable.jar&gt;\n                                &lt;arquillian.xml&gt;arquillian.xml&lt;/arquillian.xml&gt;\n                            &lt;/systemPropertyVariables&gt;\n                            &lt;redirectTestOutputToFile&gt;false&lt;/redirectTestOutputToFile&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Is there anything extra that specifically needs to be added to get endpoints exposed?</p>\n<ul>\n<li>Iâve tried adding jaxrs to pom -&gt; plugins -&gt; plugin -&gt; wildfly-jar-maven-plugin -&gt; layers, but that didnât help.</li>\n<li>Iâve seen mention of jboss-deployment-structure.xml, but I tried adding that with no luck.</li>\n<li>Iâve seen mention of the need for a web.xml, but that shouldnât be required if the ApiDeclaration already has a @ApplicationPath(&quot;/api&quot;).</li>\n</ul>\n<p>Iâve set the port to listen on 8089, and I can see this is working from the following startup log:</p>\n<ul>\n<li>WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8089</li>\n</ul>\n<p>The above code should expose an endpoint on http://localhost:8089/api/claim/process, but I get a 404 not found.</p>\n<p>I am concerned there are issues in teh POM.xml file, but I am no longer sure what to try, hence the question.</p>\n<p>FYI, I have refrred to these questions too:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48851090/wildfly-11-with-resteasy-throwing-404-and-no-endpoints-found\">Wildfly 11 with resteasy throwing 404 and no endpoints found</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33984388/wildfly-returns-not-found\">WildFly returns &quot;Not found&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37147130/wildfly-service-deployed-but-resource-not-found\">Wildfly service deployed but resource not found</a></li>\n</ul>\n"},{"tags":["java","encoding","utf-8","ascii"],"comments":[{"owner":{"account_id":61665,"reputation":381,"user_id":183677,"accept_rate":20,"display_name":"jar"},"score":0,"creation_date":1473456483,"post_id":464874,"comment_id":66164990,"body_markdown":"be interested in actually knowing what bytes make up that copyright character, i.e. `hexdump AppDBCore.java` I somehow doubt its `\\u00a9` and instead is something that works partially for you because of your system setup. The question mark above is _used to replace an incoming character whose value is unknown or unrepresentable in Unicode_ http://hexutf8.com/?q=c2a9efbfbd20323030332d32303038204d7920436f6d70616e792e20416c6c207269676874732072657365727665642e","body":"be interested in actually knowing what bytes make up that copyright character, i.e. <code>hexdump AppDBCore.java</code> I somehow doubt its <code>\\u00a9</code> and instead is something that works partially for you because of your system setup. The question mark above is <i>used to replace an incoming character whose value is unknown or unrepresentable in Unicode</i> <a href=\"http://hexutf8.com/?q=c2a9efbfbd20323030332d32303038204d7920436f6d70616e792e20416c6c207269676874732072657365727665642e\" rel=\"nofollow noreferrer\">hexutf8.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1232536851,"creation_date":1232536851,"answer_id":464886,"question_id":464874,"body_markdown":"Use the &quot;\\uxxxx&quot; escape format.\r\n\r\nAccording to [Wikipedia][1], the copyright symbol is unicode U+00A9 so your line should read:\r\n\r\n    String copyright = &quot;\\u00a9 2003-2008 My Company. All rights reserved.&quot;;\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Copyright_symbol","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>Use the \"\\uxxxx\" escape format.</p>\n\n<p>According to <a href=\"http://en.wikipedia.org/wiki/Copyright_symbol\" rel=\"noreferrer\">Wikipedia</a>, the copyright symbol is unicode U+00A9 so your line should read:</p>\n\n<pre><code>String copyright = \"\\u00a9 2003-2008 My Company. All rights reserved.\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":799651,"reputation":1051,"user_id":195992,"display_name":"Fernando Nah"},"down_vote_count":0,"up_vote_count":105,"is_accepted":false,"score":105,"last_activity_date":1256417998,"creation_date":1256417998,"answer_id":1619098,"question_id":464874,"body_markdown":"Try with:\r\njavac -encoding ISO-8859-1 file_name.java ","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>Try with:\njavac -encoding ISO-8859-1 file_name.java </p>\n"},{"tags":[],"owner":{"account_id":22755,"reputation":3459,"user_id":56470,"display_name":"bora.oren"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1260172576,"creation_date":1260172576,"answer_id":1858497,"question_id":464874,"body_markdown":"If you use eclipse (Eclipse can put utf8 code for you even you write utf8 character. You will see normal utf8 character when you programming but background will be utf8 code) ;\r\n\r\n 1. Select **Project**\r\n 2. Right click and select **Properties**\r\n 3. Select **Resource** on **Resource Panel**(Top of right menu which opened after 2.)\r\n 4. You can see in **Resource Panel**, **Text File Encoding**, select other which you want\r\n\r\n**P.S :** this will ok if you static value in code. For Example String test = &quot;Ä°Ä°Ä°Ä°Ä°Ä±Ä±Ä±Ä±Ä±Ä±&#231;&#231;&#231;&#231;&#231;&quot;;\r\n\r\n","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>If you use eclipse (Eclipse can put utf8 code for you even you write utf8 character. You will see normal utf8 character when you programming but background will be utf8 code) ;</p>\n\n<ol>\n<li>Select <strong>Project</strong></li>\n<li>Right click and select <strong>Properties</strong></li>\n<li>Select <strong>Resource</strong> on <strong>Resource Panel</strong>(Top of right menu which opened after 2.)</li>\n<li>You can see in <strong>Resource Panel</strong>, <strong>Text File Encoding</strong>, select other which you want</li>\n</ol>\n\n<p><strong>P.S :</strong> this will ok if you static value in code. For Example String test = \"Ä°Ä°Ä°Ä°Ä°Ä±Ä±Ä±Ä±Ä±Ä±Ã§Ã§Ã§Ã§Ã§\";</p>\n"},{"tags":[],"owner":{"account_id":624747,"reputation":11,"user_id":373144,"display_name":"Kelvin Goodson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1277208853,"creation_date":1277208853,"answer_id":3092933,"question_id":464874,"body_markdown":"I had the same problem, where the character index reported in the java error message was incorrect. I narrowed it down to the double quote characters just prior to the reported position being hex 094 (cancel instead of quote, but represented as a quote) instead of hex 022.  As soon as I swapped for the hex 022 variant all was fine.","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>I had the same problem, where the character index reported in the java error message was incorrect. I narrowed it down to the double quote characters just prior to the reported position being hex 094 (cancel instead of quote, but represented as a quote) instead of hex 022.  As soon as I swapped for the hex 022 variant all was fine.</p>\n"},{"tags":[],"owner":{"account_id":21068,"reputation":7108,"user_id":50926,"accept_rate":75,"display_name":"Thomas Leonard"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1338215255,"creation_date":1338215255,"answer_id":10786268,"question_id":464874,"body_markdown":"If you&#39;re using Maven, set the `&lt;encoding&gt;` explicitly in the compiler plugin&#39;s configuration, e.g.\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>If you're using Maven, set the <code>&lt;encoding&gt;</code> explicitly in the compiler plugin's configuration, e.g.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2155508,"reputation":7775,"user_id":1910855,"accept_rate":89,"display_name":"nightlyop"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1392298129,"creation_date":1392298129,"answer_id":21755671,"question_id":464874,"body_markdown":"This helped for me: \r\n\r\n&gt; All you need to do, is to specify a envirnoment variable called\r\n&gt; JAVA_TOOL_OPTIONS. If you set this variable to -Dfile.encoding=UTF8,\r\n&gt; everytime a JVM is started, it will pick up this information.\r\n\r\nSource: [http://whatiscomingtomyhead.wordpress.com/2012/01/02/get-rid-of-unmappable-character-for-encoding-cp1252-once-and-for-all/][1]\r\n\r\n\r\n  [1]: http://whatiscomingtomyhead.wordpress.com/2012/01/02/get-rid-of-unmappable-character-for-encoding-cp1252-once-and-for-all/","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>This helped for me: </p>\n\n<blockquote>\n  <p>All you need to do, is to specify a envirnoment variable called\n  JAVA_TOOL_OPTIONS. If you set this variable to -Dfile.encoding=UTF8,\n  everytime a JVM is started, it will pick up this information.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://whatiscomingtomyhead.wordpress.com/2012/01/02/get-rid-of-unmappable-character-for-encoding-cp1252-once-and-for-all/\" rel=\"noreferrer\">http://whatiscomingtomyhead.wordpress.com/2012/01/02/get-rid-of-unmappable-character-for-encoding-cp1252-once-and-for-all/</a></p>\n"},{"tags":[],"owner":{"account_id":4456589,"reputation":9870,"user_id":3626659,"accept_rate":83,"display_name":"Alupotha"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1428214655,"creation_date":1428214655,"answer_id":29454703,"question_id":464874,"body_markdown":"Most of the time this compile error comes when unicode(UTF-8 encoded) file compiling \r\n\r\n    javac -encoding UTF-8 HelloWorld.java\r\n\r\nand also You can add this compile option to your IDE \r\nex:  Intellij idea  \r\n(File&gt;settings&gt;Java Compiler) add as additional command line parameter\r\n\r\n![enter image description here][1]\r\n\r\n&gt;**-encoding :** encoding\r\nSet the source file encoding name, such as EUC-JP and UTF-8.. If -encoding is not specified, the platform default converter is used. ([DOC][2])\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/eqbY6.png\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/tooldocs/solaris/javac.html","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>Most of the time this compile error comes when unicode(UTF-8 encoded) file compiling </p>\n\n<pre><code>javac -encoding UTF-8 HelloWorld.java\n</code></pre>\n\n<p>and also You can add this compile option to your IDE \nex:  Intellij idea<br>\n(File>settings>Java Compiler) add as additional command line parameter</p>\n\n<p><img src=\"https://i.stack.imgur.com/eqbY6.png\" alt=\"enter image description here\"></p>\n\n<blockquote>\n  <p><strong>-encoding :</strong> encoding\n  Set the source file encoding name, such as EUC-JP and UTF-8.. If -encoding is not specified, the platform default converter is used. (<a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/solaris/javac.html\" rel=\"noreferrer\">DOC</a>)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3657700,"reputation":3806,"user_id":3048243,"accept_rate":30,"display_name":"5122014009"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435158375,"creation_date":1435158375,"answer_id":31030192,"question_id":464874,"body_markdown":"If one is using Maven Build from the command prompt one can use the following command as well:\r\n             \r\n                        mvn -Dproject.build.sourceEncoding=UTF-8","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>If one is using Maven Build from the command prompt one can use the following command as well:</p>\n\n<pre><code>                    mvn -Dproject.build.sourceEncoding=UTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2515260,"reputation":463,"user_id":2186850,"display_name":"Alobes5"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1442185402,"creation_date":1442185402,"answer_id":32555356,"question_id":464874,"body_markdown":"  put this line in yor file .gradle  above the Java conf.\r\n\r\n    apply plugin: &#39;java&#39;\r\n    compileJava {options.encoding = &quot;UTF-8&quot;}   \r\n\r\n  ","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>put this line in yor file .gradle  above the Java conf.</p>\n\n<pre><code>apply plugin: 'java'\ncompileJava {options.encoding = \"UTF-8\"}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":216297,"reputation":51,"user_id":7605386,"display_name":"Dxx0"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1629272992,"creation_date":1493517232,"answer_id":43702160,"question_id":464874,"body_markdown":"This worked for me:\r\n\r\n``` lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n&lt;project name=&quot;test&quot; default=&quot;compile&quot;&gt;\r\n    &lt;target name=&quot;compile&quot;&gt;\r\n        &lt;javac srcdir=&quot;src&quot; destdir=&quot;classes&quot; encoding=&quot;iso-8859-1&quot; debug=&quot;true&quot; /&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n```","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>This worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;project name=&quot;test&quot; default=&quot;compile&quot;&gt;\n    &lt;target name=&quot;compile&quot;&gt;\n        &lt;javac srcdir=&quot;src&quot; destdir=&quot;classes&quot; encoding=&quot;iso-8859-1&quot; debug=&quot;true&quot; /&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82472,"reputation":4043,"user_id":231860,"accept_rate":40,"display_name":"Luke Machowski"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1540118564,"creation_date":1540118564,"answer_id":52914447,"question_id":464874,"body_markdown":"###Gradle Steps###\r\nIf you are using Gradle then you can find the line that applies the java plugin:\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\nThen set the encoding for the compile task to be UTF-8:\r\n\r\n    compileJava {options.encoding = &quot;UTF-8&quot;}   \r\n\r\nIf you have unit tests, then you probably want to compile those with UTF-8 too:\r\n\r\n    compileTestJava {options.encoding = &quot;UTF-8&quot;}\r\n\r\n###Overall Gradle Example###\r\nThis means that the overall gradle code would look something like this:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    compileJava {options.encoding = &quot;UTF-8&quot;}\r\n    compileTestJava {options.encoding = &quot;UTF-8&quot;}\r\n","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<h3>Gradle Steps</h3>\n\n<p>If you are using Gradle then you can find the line that applies the java plugin:</p>\n\n<pre><code>apply plugin: 'java'\n</code></pre>\n\n<p>Then set the encoding for the compile task to be UTF-8:</p>\n\n<pre><code>compileJava {options.encoding = \"UTF-8\"}   \n</code></pre>\n\n<p>If you have unit tests, then you probably want to compile those with UTF-8 too:</p>\n\n<pre><code>compileTestJava {options.encoding = \"UTF-8\"}\n</code></pre>\n\n<h3>Overall Gradle Example</h3>\n\n<p>This means that the overall gradle code would look something like this:</p>\n\n<pre><code>apply plugin: 'java'\ncompileJava {options.encoding = \"UTF-8\"}\ncompileTestJava {options.encoding = \"UTF-8\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":124959,"reputation":1051,"user_id":320418,"display_name":"jakar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586891250,"creation_date":1586891250,"answer_id":61215319,"question_id":464874,"body_markdown":"For those wondering why this happens on some systems and not on others (with the same source, build parameters, and so on), **check your `LANG` environment variable**. I get the warning/error when `LANG=C.UTF-8`, but not when `LANG=en_US.UTF-8`.","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>For those wondering why this happens on some systems and not on others (with the same source, build parameters, and so on), <strong>check your <code>LANG</code> environment variable</strong>. I get the warning/error when <code>LANG=C.UTF-8</code>, but not when <code>LANG=en_US.UTF-8</code>.</p>\n"},{"tags":[],"owner":{"account_id":153385,"reputation":426,"user_id":368613,"display_name":"imy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690979044,"creation_date":1690979044,"answer_id":76819859,"question_id":464874,"body_markdown":"In our case adding `-Dfile.encoding=UTF-8` to the `./gradlew test ...` command line fixed the problem.","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>In our case adding <code>-Dfile.encoding=UTF-8</code> to the <code>./gradlew test ...</code> command line fixed the problem.</p>\n"}],"owner":{"account_id":18858,"reputation":17426,"user_id":43662,"accept_rate":92,"display_name":"seanhodges"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262448,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":464886,"answer_count":13,"score":137,"last_activity_date":1690979044,"creation_date":1232536657,"question_id":464874,"body_markdown":"I&#39;m currently working on a Java project that is emitting the following warning when I compile:\r\n\r\n    /src/com/myco/apps/AppDBCore.java:439: warning: unmappable character for encoding UTF8\r\n        [javac] \t\tString copyright = &quot;ï¿½ 2003-2008 My Company. All rights reserved.&quot;;\r\n\r\nI&#39;m not sure how SO will render the character before the date, but it should be a copyright symbol, and is displayed in the warning as a question mark in a diamond.\r\n\r\nIt&#39;s worth noting that the character appears in the output artifact correctly, but the warnings are a nuisance and the file containing this class may one day be touched by a text editor that saves the encoding incorrectly...\r\n\r\nHow can I inject this character into the &quot;copyright&quot; string so that the compiler is happy, and the symbol is preserved in the file without potential re-encoding issues?","title":"&quot;unmappable character for encoding&quot; warning in Java","body":"<p>I'm currently working on a Java project that is emitting the following warning when I compile:</p>\n\n<pre><code>/src/com/myco/apps/AppDBCore.java:439: warning: unmappable character for encoding UTF8\n    [javac]         String copyright = \"ï¿½ 2003-2008 My Company. All rights reserved.\";\n</code></pre>\n\n<p>I'm not sure how SO will render the character before the date, but it should be a copyright symbol, and is displayed in the warning as a question mark in a diamond.</p>\n\n<p>It's worth noting that the character appears in the output artifact correctly, but the warnings are a nuisance and the file containing this class may one day be touched by a text editor that saves the encoding incorrectly...</p>\n\n<p>How can I inject this character into the \"copyright\" string so that the compiler is happy, and the symbol is preserved in the file without potential re-encoding issues?</p>\n"},{"tags":["python","java","apache-kafka","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":22700020,"reputation":780,"user_id":16867587,"display_name":"ChangLi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632815535,"creation_date":1632815535,"answer_id":69357757,"question_id":69335471,"body_markdown":"Since Flink is a Java/Scala-based project, for both connectors and formats, implementations are available as jars\r\n\r\nFlinkKafkaConsumer in pyflink relies on Java&#39;s FlinkKafkaConsumer implementation\r\n\r\nYou need to download the kafka connector jar package to the lib directory of pyflink. Generally, the path of the lib directory is: /usr/local/lib/python3.8.2/site-packages/pyflink/lib\r\n\r\n    class FlinkKafkaConsumer(FlinkKafkaConsumerBase):\r\n        &quot;&quot;&quot;\r\n        The Flink Kafka Consumer is a streaming data source that pulls a parallel data stream from\r\n        Apache Kafka. The consumer can run in multiple parallel instances, each of which will\r\n        pull data from one or more Kafka partitions.\r\n    \r\n        The Flink Kafka Consumer participates in checkpointing and guarantees that no data is lost\r\n        during a failure, and that the computation processes elements &#39;exactly once. (These guarantees\r\n        naturally assume that Kafka itself does not lose any data.)\r\n    \r\n        Please note that Flink snapshots the offsets internally as part of its distributed checkpoints.\r\n        The offsets committed to Kafka / Zookeeper are only to bring the outside view of progress in\r\n        sync with Flink&#39;s view of the progress. That way, monitoring and other jobs can get a view of\r\n        how far the Flink Kafka consumer has consumed a topic.\r\n    \r\n        Please refer to Kafka&#39;s documentation for the available configuration properties:\r\n        http://kafka.apache.org/documentation.html#newconsumerconfigs\r\n        &quot;&quot;&quot;\r\n    \r\n        def __init__(self, topics: Union[str, List[str]], deserialization_schema: DeserializationSchema,\r\n                     properties: Dict):\r\n            &quot;&quot;&quot;\r\n            Creates a new Kafka streaming source consumer for Kafka 0.10.x.\r\n    \r\n            This constructor allows passing multiple topics to the consumer.\r\n    \r\n            :param topics: The Kafka topics to read from.\r\n            :param deserialization_schema: The de-/serializer used to convert between Kafka&#39;s byte\r\n                                           messages and Flink&#39;s objects.\r\n            :param properties: The properties that are used to configure both the fetcher and the offset\r\n                               handler.\r\n            &quot;&quot;&quot;\r\n    \r\n            JFlinkKafkaConsumer = get_gateway().jvm\r\n                .org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer\r\n            j_flink_kafka_consumer = _get_kafka_consumer(topics, properties, deserialization_schema,\r\n                                                         JFlinkKafkaConsumer)\r\n            super(FlinkKafkaConsumer, self).__init__(j_flink_kafka_consumer=j_flink_kafka_consumer)\r\n\r\n\r\n\r\n","title":"TypeError: Could not found the Java class &#39;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer&#39;","body":"<p>Since Flink is a Java/Scala-based project, for both connectors and formats, implementations are available as jars</p>\n<p>FlinkKafkaConsumer in pyflink relies on Java's FlinkKafkaConsumer implementation</p>\n<p>You need to download the kafka connector jar package to the lib directory of pyflink. Generally, the path of the lib directory is: /usr/local/lib/python3.8.2/site-packages/pyflink/lib</p>\n<pre><code>class FlinkKafkaConsumer(FlinkKafkaConsumerBase):\n    &quot;&quot;&quot;\n    The Flink Kafka Consumer is a streaming data source that pulls a parallel data stream from\n    Apache Kafka. The consumer can run in multiple parallel instances, each of which will\n    pull data from one or more Kafka partitions.\n\n    The Flink Kafka Consumer participates in checkpointing and guarantees that no data is lost\n    during a failure, and that the computation processes elements 'exactly once. (These guarantees\n    naturally assume that Kafka itself does not lose any data.)\n\n    Please note that Flink snapshots the offsets internally as part of its distributed checkpoints.\n    The offsets committed to Kafka / Zookeeper are only to bring the outside view of progress in\n    sync with Flink's view of the progress. That way, monitoring and other jobs can get a view of\n    how far the Flink Kafka consumer has consumed a topic.\n\n    Please refer to Kafka's documentation for the available configuration properties:\n    http://kafka.apache.org/documentation.html#newconsumerconfigs\n    &quot;&quot;&quot;\n\n    def __init__(self, topics: Union[str, List[str]], deserialization_schema: DeserializationSchema,\n                 properties: Dict):\n        &quot;&quot;&quot;\n        Creates a new Kafka streaming source consumer for Kafka 0.10.x.\n\n        This constructor allows passing multiple topics to the consumer.\n\n        :param topics: The Kafka topics to read from.\n        :param deserialization_schema: The de-/serializer used to convert between Kafka's byte\n                                       messages and Flink's objects.\n        :param properties: The properties that are used to configure both the fetcher and the offset\n                           handler.\n        &quot;&quot;&quot;\n\n        JFlinkKafkaConsumer = get_gateway().jvm\n            .org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer\n        j_flink_kafka_consumer = _get_kafka_consumer(topics, properties, deserialization_schema,\n                                                     JFlinkKafkaConsumer)\n        super(FlinkKafkaConsumer, self).__init__(j_flink_kafka_consumer=j_flink_kafka_consumer)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21446073,"reputation":1,"user_id":15799618,"display_name":"Drice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690978793,"creation_date":1690205219,"answer_id":76754970,"question_id":69335471,"body_markdown":"It seems the Kafka connectors were discontinued as from Flink 1.12. Check out on the [documentation][1]. You can now use universal kafka connectors. Read more on [cloudera][2].\r\n\r\n    In Flink 1.12 we removed the Kafka 0.10.x and 0.11.x connectors. Please use the universal Kafka connector which works with any Kafka cluster version after 0.10.2.x.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.12/#connectors-and-formats\r\n  [2]: https://community.cloudera.com/t5/Support-Questions/Flink-Kafka-Connector-java-lang-NoSuchMethodError/td-p/336720","title":"TypeError: Could not found the Java class &#39;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer&#39;","body":"<p>It seems the Kafka connectors were discontinued as from Flink 1.12. Check out on the <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/release-notes/flink-1.12/#connectors-and-formats\" rel=\"nofollow noreferrer\">documentation</a>. You can now use universal kafka connectors. Read more on <a href=\"https://community.cloudera.com/t5/Support-Questions/Flink-Kafka-Connector-java-lang-NoSuchMethodError/td-p/336720\" rel=\"nofollow noreferrer\">cloudera</a>.</p>\n<pre><code>In Flink 1.12 we removed the Kafka 0.10.x and 0.11.x connectors. Please use the universal Kafka connector which works with any Kafka cluster version after 0.10.2.x.\n</code></pre>\n"}],"owner":{"account_id":18615265,"reputation":319,"user_id":13566716,"display_name":"3awny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2218,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69357757,"answer_count":2,"score":2,"last_activity_date":1690978793,"creation_date":1632663450,"question_id":69335471,"body_markdown":"I am using PyFlink. I thought all the Java dependencies are installed along with `pip install apache-flink`\r\n\r\nThe above error occurs on this line:\r\n\r\n    kafka_consumer = FlinkKafkaConsumer(\r\n        topics=&#39;mytopic&#39;,\r\n        deserialization_schema=deserialization_schema,\r\n        properties={\r\n            &#39;bootstrap.servers&#39;: KAFKA_BOOTSTRAP_SERVERS})\r\n\r\nAs per the error do I need to specify the kafka consumer dependency manually in the pyflink environment by downloading and adding the jar?\r\n\r\nAny guidance would be appreciated.\r\n\r\n    Python Version: 3.8.2\r\n    Java Version: java 11.0.11","title":"TypeError: Could not found the Java class &#39;org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumer&#39;","body":"<p>I am using PyFlink. I thought all the Java dependencies are installed along with <code>pip install apache-flink</code></p>\n<p>The above error occurs on this line:</p>\n<pre><code>kafka_consumer = FlinkKafkaConsumer(\n    topics='mytopic',\n    deserialization_schema=deserialization_schema,\n    properties={\n        'bootstrap.servers': KAFKA_BOOTSTRAP_SERVERS})\n</code></pre>\n<p>As per the error do I need to specify the kafka consumer dependency manually in the pyflink environment by downloading and adding the jar?</p>\n<p>Any guidance would be appreciated.</p>\n<pre><code>Python Version: 3.8.2\nJava Version: java 11.0.11\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","kafka-python"],"answers":[{"tags":[],"owner":{"account_id":212714,"reputation":5632,"user_id":465710,"accept_rate":100,"display_name":"Marko Bonaci"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690978576,"creation_date":1447020136,"answer_id":33599529,"question_id":33152204,"body_markdown":"The purpose of committing an offset after every fetch is to achieve at-least-once (see Matthias J Sax&#39;s comment below) processing.  \r\nYou need to make sure that you commit offset once you processed the message (where &quot;process&quot; means whatever you do with a message after you pull it out from Kafka). Like you&#39;re wrapping message processing and offset commit into a transaction, where either both succeed or fail.  \r\nThis way, if your client crashes you&#39;ll be able to start from the correct offset after you restart.","title":"Using Kafka low-level API, should I commit the offset when finished fetching data?","body":"<p>The purpose of committing an offset after every fetch is to achieve at-least-once (see Matthias J Sax's comment below) processing.<br />\nYou need to make sure that you commit offset once you processed the message (where &quot;process&quot; means whatever you do with a message after you pull it out from Kafka). Like you're wrapping message processing and offset commit into a transaction, where either both succeed or fail.<br />\nThis way, if your client crashes you'll be able to start from the correct offset after you restart.</p>\n"}],"owner":{"account_id":7127793,"reputation":1,"user_id":5450149,"display_name":"Sinme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690978576,"creation_date":1444921905,"question_id":33152204,"body_markdown":"\r\n    public void run() {\r\n        // find the meta data about the topic and partition we are interested in\r\n        PartitionMetadata metadata = findLeader(a_seedBrokers, a_port, a_topic, a_partition);\r\n        if (metadata == null) {\r\n            System.out.println(&quot;Can&#39;t find metadata for Topic and Partition. Exiting&quot;);\r\n            return;\r\n        }\r\n        if (metadata.leader() == null) {\r\n            System.out.println(&quot;Can&#39;t find Leader for Topic and Partition. Exiting&quot;);\r\n            return;\r\n        }\r\n        String leadBroker = metadata.leader().host();\r\n        String clientName = &quot;Client_&quot; + a_topic + &quot;_&quot; + a_partition;\r\n        SimpleConsumer consumer = new SimpleConsumer(leadBroker, a_port, 100000, 64 * 1024, clientName);\r\n        long readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.EarliestTime(), clientName);\r\n        //long readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.LatestTime(), clientName);\r\n        int numErrors = 0;\r\n        while (a_maxReads &gt; 0) {\r\n            if (consumer == null) {\r\n                consumer = new SimpleConsumer(leadBroker, a_port, 100000, 64 * 1024, clientName);\r\n            }\r\n            FetchRequest req = new FetchRequestBuilder()\r\n                    .clientId(clientName)\r\n                    .addFetch(a_topic, a_partition, readOffset, 100000) // Note: this fetchSize of 100000 might need to be increased if large batches are written to Kafka\r\n                    .build();\r\n            FetchResponse fetchResponse = consumer.fetch(req);\r\n            if (fetchResponse.hasError()) {\r\n                numErrors++;\r\n                // Something went wrong!\r\n                short code = fetchResponse.errorCode(a_topic, a_partition);\r\n                System.out.println(&quot;Error fetching data from the Broker:&quot; + leadBroker + &quot; Reason: &quot; + code);\r\n                if (numErrors &gt; 5) break;\r\n                if (code == ErrorMapping.OffsetOutOfRangeCode())  {\r\n                    // We asked for an invalid offset. For simple case ask for the last element to reset\r\n                    readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.LatestTime(), clientName);\r\n                    continue;\r\n                }\r\n                consumer.close();\r\n                consumer = null;\r\n                try {\r\n                    leadBroker = findNewLeader(leadBroker, a_topic, a_partition, a_port);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                continue;\r\n            }\r\n            numErrors = 0;\r\n            long numRead = 0;\r\n            for (MessageAndOffset messageAndOffset : fetchResponse.messageSet(a_topic, a_partition)) {\r\n                long currentOffset = messageAndOffset.offset();\r\n                if (currentOffset &lt; readOffset) {\r\n                    System.out.println(&quot;Found an old offset: &quot; + currentOffset + &quot; Expecting: &quot; + readOffset);\r\n                    continue;\r\n                }\r\n                readOffset = messageAndOffset.nextOffset();\r\n                ByteBuffer payload = messageAndOffset.message().payload();\r\n\r\n                byte[] bytes = new byte[payload.limit()];\r\n                payload.get(bytes);\r\n                try {\r\n                    dataPoints.add(simpleAPIConsumer.parse(simpleAPIConsumer.deserializing(bytes)));//add data to List\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                numRead++;\r\n                a_maxReads--;\r\n            }\r\n            if (numRead == 0) {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException ie) {\r\n                }\r\n            }\r\n        }\r\n        simpleAPIConsumer.dataHandle(dataPoints);//Handel Data\r\n        if (consumer != null) consumer.close();\r\n    }\r\n\r\nI found this method in Kafka source. Should I use it?\r\n\r\n    /**\r\n     * Commit offsets for a topic to Zookeeper\r\n     * @param request a [[kafka.javaapi.OffsetCommitRequest]] object.\r\n     * @return a [[kafka.javaapi.OffsetCommitResponse]] object.\r\n     */\r\n     def commitOffsets(request: kafka.javaapi.OffsetCommitRequest):kafka.javaapi.OffsetCommitResponse = {\r\n       import kafka.javaapi.Implicits._\r\n       underlying.commitOffsets(request.underlying)\r\n     }","title":"Using Kafka low-level API, should I commit the offset when finished fetching data?","body":"<pre><code>public void run() {\n    // find the meta data about the topic and partition we are interested in\n    PartitionMetadata metadata = findLeader(a_seedBrokers, a_port, a_topic, a_partition);\n    if (metadata == null) {\n        System.out.println(\"Can't find metadata for Topic and Partition. Exiting\");\n        return;\n    }\n    if (metadata.leader() == null) {\n        System.out.println(\"Can't find Leader for Topic and Partition. Exiting\");\n        return;\n    }\n    String leadBroker = metadata.leader().host();\n    String clientName = \"Client_\" + a_topic + \"_\" + a_partition;\n    SimpleConsumer consumer = new SimpleConsumer(leadBroker, a_port, 100000, 64 * 1024, clientName);\n    long readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.EarliestTime(), clientName);\n    //long readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.LatestTime(), clientName);\n    int numErrors = 0;\n    while (a_maxReads &gt; 0) {\n        if (consumer == null) {\n            consumer = new SimpleConsumer(leadBroker, a_port, 100000, 64 * 1024, clientName);\n        }\n        FetchRequest req = new FetchRequestBuilder()\n                .clientId(clientName)\n                .addFetch(a_topic, a_partition, readOffset, 100000) // Note: this fetchSize of 100000 might need to be increased if large batches are written to Kafka\n                .build();\n        FetchResponse fetchResponse = consumer.fetch(req);\n        if (fetchResponse.hasError()) {\n            numErrors++;\n            // Something went wrong!\n            short code = fetchResponse.errorCode(a_topic, a_partition);\n            System.out.println(\"Error fetching data from the Broker:\" + leadBroker + \" Reason: \" + code);\n            if (numErrors &gt; 5) break;\n            if (code == ErrorMapping.OffsetOutOfRangeCode())  {\n                // We asked for an invalid offset. For simple case ask for the last element to reset\n                readOffset = getLastOffset(consumer,a_topic, a_partition, kafka.api.OffsetRequest.LatestTime(), clientName);\n                continue;\n            }\n            consumer.close();\n            consumer = null;\n            try {\n                leadBroker = findNewLeader(leadBroker, a_topic, a_partition, a_port);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            continue;\n        }\n        numErrors = 0;\n        long numRead = 0;\n        for (MessageAndOffset messageAndOffset : fetchResponse.messageSet(a_topic, a_partition)) {\n            long currentOffset = messageAndOffset.offset();\n            if (currentOffset &lt; readOffset) {\n                System.out.println(\"Found an old offset: \" + currentOffset + \" Expecting: \" + readOffset);\n                continue;\n            }\n            readOffset = messageAndOffset.nextOffset();\n            ByteBuffer payload = messageAndOffset.message().payload();\n\n            byte[] bytes = new byte[payload.limit()];\n            payload.get(bytes);\n            try {\n                dataPoints.add(simpleAPIConsumer.parse(simpleAPIConsumer.deserializing(bytes)));//add data to List\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            numRead++;\n            a_maxReads--;\n        }\n        if (numRead == 0) {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException ie) {\n            }\n        }\n    }\n    simpleAPIConsumer.dataHandle(dataPoints);//Handel Data\n    if (consumer != null) consumer.close();\n}\n</code></pre>\n\n<p>I found this method in Kafka source. Should I use it?</p>\n\n<pre><code>/**\n * Commit offsets for a topic to Zookeeper\n * @param request a [[kafka.javaapi.OffsetCommitRequest]] object.\n * @return a [[kafka.javaapi.OffsetCommitResponse]] object.\n */\n def commitOffsets(request: kafka.javaapi.OffsetCommitRequest):kafka.javaapi.OffsetCommitResponse = {\n   import kafka.javaapi.Implicits._\n   underlying.commitOffsets(request.underlying)\n }\n</code></pre>\n"},{"tags":["java","intellij-idea","environment-variables"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690972152,"post_id":76818851,"comment_id":135426372,"body_markdown":"I don&#39;t use the IDE but [this](https://www.jetbrains.com/help/idea/specifying-compilation-settings.html) comes up when searching that file not found path. Maybe you should regenerate your compiler settings?","body":"I don&#39;t use the IDE but <a href=\"https://www.jetbrains.com/help/idea/specifying-compilation-settings.html\" rel=\"nofollow noreferrer\">this</a> comes up when searching that file not found path. Maybe you should regenerate your compiler settings?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1690972499,"post_id":76818851,"comment_id":135426424,"body_markdown":"Please see if https://stackoverflow.com/a/59023270/12844632 helps","body":"Please see if <a href=\"https://stackoverflow.com/a/59023270/12844632\">stackoverflow.com/a/59023270/12844632</a> helps"},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690972805,"post_id":76818851,"comment_id":135426482,"body_markdown":"@EgorKlepikov Thanks for this, that was another article I looked at but trying what was suggested did not work for me","body":"@EgorKlepikov Thanks for this, that was another article I looked at but trying what was suggested did not work for me"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1690973216,"post_id":76818851,"comment_id":135426559,"body_markdown":"It really seems like you have removed a version of java 1.8 and then are trying to use it. In your project settings you have 171 but everywhere else you have 272. Is this a maven project?","body":"It really seems like you have removed a version of java 1.8 and then are trying to use it. In your project settings you have 171 but everywhere else you have 272. Is this a maven project?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690973507,"post_id":76818851,"comment_id":135426613,"body_markdown":"I would probably begin by removing any SDK in the IDE (you seem to have tons) that refers to a non-existent jdk","body":"I would probably begin by removing any SDK in the IDE (you seem to have tons) that refers to a non-existent jdk"},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690973517,"post_id":76818851,"comment_id":135426616,"body_markdown":"@g00se My compiler settings are setup the same as another machine which works. I do not see a way to regenerate these. I do have it clearing the output directory and rebuilding on dependency change, not sure what else in here if anything would help.","body":"@g00se My compiler settings are setup the same as another machine which works. I do not see a way to regenerate these. I do have it clearing the output directory and rebuilding on dependency change, not sure what else in here if anything would help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690974158,"post_id":76818851,"comment_id":135426755,"body_markdown":"I&#39;ve just given you a &#39;no-lose&#39; suggestion. You could even remove *all* SDKs and re-add ones for existing JDKs only","body":"I&#39;ve just given you a &#39;no-lose&#39; suggestion. You could even remove <i>all</i> SDKs and re-add ones for existing JDKs only"},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690974421,"post_id":76818851,"comment_id":135426806,"body_markdown":"@g00se, Removing the unused sdk&#39;s seems to have got the older project back up and running, but broke the newer one. So just trying to fix that one now","body":"@g00se, Removing the unused sdk&#39;s seems to have got the older project back up and running, but broke the newer one. So just trying to fix that one now"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690974667,"post_id":76818851,"comment_id":135426861,"body_markdown":"Well, by the looks (it&#39;s confusing), you don&#39;t currently even have a JDK installed that&#39;s modern enough to handle a module-based project, if that&#39;s what you&#39;ve got...","body":"Well, by the looks (it&#39;s confusing), you don&#39;t currently even have a JDK installed that&#39;s modern enough to handle a module-based project, if that&#39;s what you&#39;ve got..."},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690976336,"post_id":76818851,"comment_id":135427164,"body_markdown":"@g00se It&#39;s been that way since the project started, so I just work with it.  But both projects are up and running now, so there was definitely some conflicts surrounding the sdk&#39;s","body":"@g00se It&#39;s been that way since the project started, so I just work with it.  But both projects are up and running now, so there was definitely some conflicts surrounding the sdk&#39;s"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690976596,"post_id":76818851,"comment_id":135427215,"body_markdown":"@g00se The screenshot lists 3 Java 17 versions (Coretto, IntelliJ&#39;s built-in Java 17 and one other), not all Java installers from all Java vendors write those registry entries.","body":"@g00se The screenshot lists 3 Java 17 versions (Coretto, IntelliJ&#39;s built-in Java 17 and one other), not all Java installers from all Java vendors write those registry entries."},{"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"score":0,"creation_date":1690976685,"post_id":76818851,"comment_id":135427231,"body_markdown":"@g00se, Can you make your comment about removing the SDK as an answer.\nFor other that commented on this appreciate your time looking at this and providing a response","body":"@g00se, Can you make your comment about removing the SDK as an answer. For other that commented on this appreciate your time looking at this and providing a response"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690978490,"post_id":76818851,"comment_id":135427661,"body_markdown":"Will do. @MarkRotteveel , what about the &quot;Java Runtime Environment&quot; control applet? It shows three old JREs","body":"Will do. @MarkRotteveel , what about the &quot;Java Runtime Environment&quot; control applet? It shows three old JREs"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690978577,"post_id":76818851,"comment_id":135427682,"body_markdown":"@g00se As far as I&#39;m aware, that is no longer supported since Java 9, and again, might only lists Oracle&#39;s JVMs, and not from other vendors.","body":"@g00se As far as I&#39;m aware, that is no longer supported since Java 9, and again, might only lists Oracle&#39;s JVMs, and not from other vendors."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690978573,"creation_date":1690978573,"answer_id":76819803,"question_id":76818851,"body_markdown":"I would probably begin by removing any SDK in the IDE (you seem to have tons) that refers to a non-existent jdk. You really need to synch what you have installed with what your IDE says it can deliver","title":"IntelliJ - Cannot run program java.exe. CreateProcess error=2. The system cannot find the file specified","body":"<p>I would probably begin by removing any SDK in the IDE (you seem to have tons) that refers to a non-existent jdk. You really need to synch what you have installed with what your IDE says it can deliver</p>\n"}],"owner":{"account_id":8367074,"reputation":27,"user_id":6283369,"display_name":"Lasaqus"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76819803,"answer_count":1,"score":-2,"last_activity_date":1690978573,"creation_date":1690971030,"question_id":76818851,"body_markdown":"I&#39;m reaching out for a bit of help in trying to figure out why my IntelliJ does not run for a project.\r\n\r\nI am using IntelliJ 2023.1.5 Community Edition Build #IC-231.9392.1, built on July 25, 2023\r\n\r\nI have multiple projects all but one running jdk 1.8.0 in C:\\Program Files (x86)\\Java, all were working fine until I started a new project using corretto 17.0.7, which was initially placed here C:\\Users\\Me\\.jdks\\jbr-17.0.7\\bin\\java.exe, but is now in the Java folder with the previously mentioned jdk\r\n\r\nThe new project was working as it should, then I needed to swap back to one of the other projects. At this point when I try to run the older project I get the following error:\r\n\r\n*Cannot run program &quot;C:\\Users\\Me\\\\.jdks\\jbr-17.0.7\\bin\\java.exe&quot; (in directory &quot;C:\\Users\\Me\\AppData\\Local\\JetBrains\\IdeaIC2023.1\\compile-server&quot;): CreateProcess error=2, The system cannot find the file specified.*\r\n\r\nThis error occurred both before and after the directory change of corretto 17.0.7, it never occurred prior to the creation of the new project\r\n\r\nI have went through my older project and there is nothing referencing 17.0.7 that I can see, in the places where I know a jdk can be set\r\n\r\n*Project Settings - Project*\r\n[![Project Settings - Project](https://i.stack.imgur.com/VmjJ9.png)](https://i.stack.imgur.com/VmjJ9.png)\r\n\r\n*Project Settings - Modules*\r\n[![Project Settings - Modules](https://i.stack.imgur.com/AnkTO.png)](https://i.stack.imgur.com/AnkTO.png)\r\n\r\n*Project Settings - SDKs*\r\n[![Project Settings - SDKs](https://i.stack.imgur.com/623sR.png)](https://i.stack.imgur.com/623sR.png)\r\n\r\n*Run/Debug Config*\r\n[![Run/Debug Config](https://i.stack.imgur.com/D3aLV.png)](https://i.stack.imgur.com/D3aLV.png)\r\n\r\nThe below 2 do show a different JDK to the one I&#39;m using, I&#39;m not entirely sure it matters as I haven&#39;t changed them and the older project used to work fine prior to the new one being started.\r\n\r\n*Java Runtime Environment*\r\n[![Java Runtime Environment](https://i.stack.imgur.com/PkaCW.png)](https://i.stack.imgur.com/PkaCW.png)\r\n\r\n*Java Registry*\r\n[![Java Registry](https://i.stack.imgur.com/7anYt.png)](https://i.stack.imgur.com/7anYt.png)\r\n\r\nOther things I have tried\r\nInvalidate the cache of IntelliJ, reboot the machine\r\n\r\nTrying to find the cause/solution led to to also try\r\nAdding the -Didea.dynamic.classpath=true in Help | Edit Custom VM Options and restart the IDE - Did not work (Part of this question [https://youtrack.jetbrains.com/issue/IDEA-285090](https://youtrack.jetbrains.com))\r\n\r\n\r\nAs per this question [https://stackoverflow.com/questions/31238144/in-intellij-idea-14-1-4-cannot-run-program-c-program-files-x86-java-jdk1-8](https://stackoverflow.com) the answer asks\r\nIf your path JAVA_HOME is OK:\r\n\r\nFile â Settings â Build, Execution, Deployment â Build Tools â Maven â Runner\r\nSet to &quot;use JAVA_HOME (...Path...)&quot;\r\n[![Maven Runner](https://i.stack.imgur.com/gje2v.png)](https://i.stack.imgur.com/gje2v.png)\r\nThis is set to the jdk path albeit not JAVA_HOME, I did try adding a JAVA_HOME Environment Variable here but no change so deleted it out.\r\n\r\nFor Part 2 of the answer, I do not have a File â Other Settings â Default Project Structure to check\r\n\r\nThe older project works on other machines fine, a second user also configured their machine to use my new project and they can swap between the new and old project with no issues.\r\n\r\nSo I guess my question would be based on the error message I get when trying to run the older program - What could have been changed to it now be causing it to look here for the java.exe (&quot;C:\\Users\\Me\\\\.jdks\\jbr-17.0.7\\bin\\java.exe&quot;), when I didn&#39;t do anything to the older programs setup ?\r\n\r\nI cannot for the life of me figure out what the solution is, hence why I am coming here to see if anyone else can provide assistance.\r\n\r\n\r\n\r\n\r\n","title":"IntelliJ - Cannot run program java.exe. CreateProcess error=2. The system cannot find the file specified","body":"<p>I'm reaching out for a bit of help in trying to figure out why my IntelliJ does not run for a project.</p>\n<p>I am using IntelliJ 2023.1.5 Community Edition Build #IC-231.9392.1, built on July 25, 2023</p>\n<p>I have multiple projects all but one running jdk 1.8.0 in C:\\Program Files (x86)\\Java, all were working fine until I started a new project using corretto 17.0.7, which was initially placed here C:\\Users\\Me.jdks\\jbr-17.0.7\\bin\\java.exe, but is now in the Java folder with the previously mentioned jdk</p>\n<p>The new project was working as it should, then I needed to swap back to one of the other projects. At this point when I try to run the older project I get the following error:</p>\n<p><em>Cannot run program &quot;C:\\Users\\Me\\.jdks\\jbr-17.0.7\\bin\\java.exe&quot; (in directory &quot;C:\\Users\\Me\\AppData\\Local\\JetBrains\\IdeaIC2023.1\\compile-server&quot;): CreateProcess error=2, The system cannot find the file specified.</em></p>\n<p>This error occurred both before and after the directory change of corretto 17.0.7, it never occurred prior to the creation of the new project</p>\n<p>I have went through my older project and there is nothing referencing 17.0.7 that I can see, in the places where I know a jdk can be set</p>\n<p><em>Project Settings - Project</em>\n<a href=\"https://i.stack.imgur.com/VmjJ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VmjJ9.png\" alt=\"Project Settings - Project\" /></a></p>\n<p><em>Project Settings - Modules</em>\n<a href=\"https://i.stack.imgur.com/AnkTO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AnkTO.png\" alt=\"Project Settings - Modules\" /></a></p>\n<p><em>Project Settings - SDKs</em>\n<a href=\"https://i.stack.imgur.com/623sR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/623sR.png\" alt=\"Project Settings - SDKs\" /></a></p>\n<p><em>Run/Debug Config</em>\n<a href=\"https://i.stack.imgur.com/D3aLV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3aLV.png\" alt=\"Run/Debug Config\" /></a></p>\n<p>The below 2 do show a different JDK to the one I'm using, I'm not entirely sure it matters as I haven't changed them and the older project used to work fine prior to the new one being started.</p>\n<p><em>Java Runtime Environment</em>\n<a href=\"https://i.stack.imgur.com/PkaCW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkaCW.png\" alt=\"Java Runtime Environment\" /></a></p>\n<p><em>Java Registry</em>\n<a href=\"https://i.stack.imgur.com/7anYt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7anYt.png\" alt=\"Java Registry\" /></a></p>\n<p>Other things I have tried\nInvalidate the cache of IntelliJ, reboot the machine</p>\n<p>Trying to find the cause/solution led to to also try\nAdding the -Didea.dynamic.classpath=true in Help | Edit Custom VM Options and restart the IDE - Did not work (Part of this question <a href=\"https://youtrack.jetbrains.com\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-285090</a>)</p>\n<p>As per this question <a href=\"https://stackoverflow.com\">https://stackoverflow.com/questions/31238144/in-intellij-idea-14-1-4-cannot-run-program-c-program-files-x86-java-jdk1-8</a> the answer asks\nIf your path JAVA_HOME is OK:</p>\n<p>File â Settings â Build, Execution, Deployment â Build Tools â Maven â Runner\nSet to &quot;use JAVA_HOME (...Path...)&quot;\n<a href=\"https://i.stack.imgur.com/gje2v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gje2v.png\" alt=\"Maven Runner\" /></a>\nThis is set to the jdk path albeit not JAVA_HOME, I did try adding a JAVA_HOME Environment Variable here but no change so deleted it out.</p>\n<p>For Part 2 of the answer, I do not have a File â Other Settings â Default Project Structure to check</p>\n<p>The older project works on other machines fine, a second user also configured their machine to use my new project and they can swap between the new and old project with no issues.</p>\n<p>So I guess my question would be based on the error message I get when trying to run the older program - What could have been changed to it now be causing it to look here for the java.exe (&quot;C:\\Users\\Me\\.jdks\\jbr-17.0.7\\bin\\java.exe&quot;), when I didn't do anything to the older programs setup ?</p>\n<p>I cannot for the life of me figure out what the solution is, hence why I am coming here to see if anyone else can provide assistance.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1554952244,"post_id":55624006,"comment_id":97940795,"body_markdown":"Your code doesn&#39;t do anything. There&#39;s no terminal operation.","body":"Your code doesn&#39;t do anything. There&#39;s no terminal operation."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1554952888,"post_id":55624006,"comment_id":97940903,"body_markdown":"A simple rule, don&#39;t use streams while mutating objects. If a for loop with a `break` would be slow enough to find the first element of your preference, I doubt you should change the data structure you&#39;re using.","body":"A simple rule, don&#39;t use streams while mutating objects. If a for loop with a <code>break</code> would be slow enough to find the first element of your preference, I doubt you should change the data structure you&#39;re using."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1677011647,"post_id":55624006,"comment_id":133252300,"body_markdown":"Unless you omitted important details in your question, the answer is: Use a `for` loop with `break`. There is nothing that can be any faster for a list with no order.\nIf your data structure is large and finding an element an important use-case, use a different data structure that can find things faster, such as a tree or hash set.","body":"Unless you omitted important details in your question, the answer is: Use a <code>for</code> loop with <code>break</code>. There is nothing that can be any faster for a list with no order. If your data structure is large and finding an element an important use-case, use a different data structure that can find things faster, such as a tree or hash set."}],"answers":[{"tags":[],"owner":{"account_id":289313,"reputation":8948,"user_id":590221,"accept_rate":89,"display_name":"Raz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554953177,"creation_date":1554951916,"answer_id":55624080,"question_id":55624006,"body_markdown":"You can use a Map instead of a list and save the id as a key.\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n\r\nThen you can extract it with `O(1)`.\r\n\r\n","title":"Update a single object from a list using stream","body":"<p>You can use a Map instead of a list and save the id as a key.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Map.html</a></p>\n\n<p>Then you can extract it with <code>O(1)</code>.</p>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1554954127,"creation_date":1554952081,"answer_id":55624097,"question_id":55624006,"body_markdown":"Use `findFirst` so after finding the first matching element in the list remaining elements will not be processed\r\n\r\n    Optional&lt;MyObject&gt; result = list.stream()\r\n                                    .filter(obj-&gt;obj.getId()==1)\r\n                                    .peek(o-&gt;o.setName(&quot;Yahoo&quot;))\r\n                                    .findFirst();\r\n\r\nOr\r\n      \r\n      //will not return anything but will update the first matching object name\r\n\r\n                                  list.stream()\r\n                                  .filter(obj-&gt;obj.getId()==1)\r\n                                  .findFirst()\r\n                                  .ifPresent(o-&gt;o.setName(&quot;Yahoo&quot;));","title":"Update a single object from a list using stream","body":"<p>Use <code>findFirst</code> so after finding the first matching element in the list remaining elements will not be processed</p>\n\n<pre><code>Optional&lt;MyObject&gt; result = list.stream()\n                                .filter(obj-&gt;obj.getId()==1)\n                                .peek(o-&gt;o.setName(\"Yahoo\"))\n                                .findFirst();\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>  //will not return anything but will update the first matching object name\n\n                              list.stream()\n                              .filter(obj-&gt;obj.getId()==1)\n                              .findFirst()\n                              .ifPresent(o-&gt;o.setName(\"Yahoo\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554959293,"creation_date":1554959293,"answer_id":55625110,"question_id":55624006,"body_markdown":"It depends on how often you need to perform this logic on your input data.\r\n\r\nIf it happens to be several times, consider using a `Map` as suggested by **Raz**.\r\nYou can also transform your `List` into a `Map` using a `Stream`:\r\n\r\n```java\r\nMap&lt;Integer, MyObject&gt; map = list.stream()\r\n                                 .collect(Collectors.toMap(\r\n                                     MyObject::getId\r\n                                     Function.identity()\r\n                                 ));\r\n```\r\nThe first argument of `toMap` maps a stream item to the corresponding key in the map (here the ID of `MyObject`), and the second argument maps an item to the map value (here the `MyObject` item itself).\r\n\r\nConstructing the map will cost you some time and memory, but once you have it, searching an item by ID is extremely fast.\r\nThe more often you search an item, the more constructing the map first pays off.\r\n\r\nHowever, if you only ever need to update a single item and then forget about the whole list, just search for the right element, update it and you&#39;re done.\r\n\r\nIf your data is already sorted by ID, you can use binary search to find your item faster.\r\n\r\nOtherwise, you need to iterate through your list until you find your item. In terms of performance, nothing will beat a simple loop here. But using `Stream` and `Optional` as shown in **Deadpool**&#39;s answer is fine as well, and might result in clearer code, which is more important in most cases.","title":"Update a single object from a list using stream","body":"<p>It depends on how often you need to perform this logic on your input data.</p>\n\n<p>If it happens to be several times, consider using a <code>Map</code> as suggested by <strong>Raz</strong>.\nYou can also transform your <code>List</code> into a <code>Map</code> using a <code>Stream</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, MyObject&gt; map = list.stream()\n                                 .collect(Collectors.toMap(\n                                     MyObject::getId\n                                     Function.identity()\n                                 ));\n</code></pre>\n\n<p>The first argument of <code>toMap</code> maps a stream item to the corresponding key in the map (here the ID of <code>MyObject</code>), and the second argument maps an item to the map value (here the <code>MyObject</code> item itself).</p>\n\n<p>Constructing the map will cost you some time and memory, but once you have it, searching an item by ID is extremely fast.\nThe more often you search an item, the more constructing the map first pays off.</p>\n\n<p>However, if you only ever need to update a single item and then forget about the whole list, just search for the right element, update it and you're done.</p>\n\n<p>If your data is already sorted by ID, you can use binary search to find your item faster.</p>\n\n<p>Otherwise, you need to iterate through your list until you find your item. In terms of performance, nothing will beat a simple loop here. But using <code>Stream</code> and <code>Optional</code> as shown in <strong>Deadpool</strong>'s answer is fine as well, and might result in clearer code, which is more important in most cases.</p>\n"},{"tags":[],"owner":{"account_id":6269858,"reputation":19,"user_id":4874410,"display_name":"SHUBHAM RUHELA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690978568,"creation_date":1665397908,"answer_id":74013506,"question_id":55624006,"body_markdown":"    .stream().peek(t-&gt;t.setTag(t.getTag().replace(&quot;/&quot;,&quot;&quot;)));\r\n\r\nDo anything you want with the `peek()` method. Just keep in mind and be aware that according to the documentation the `peek()` method was intended to be used mainly for debugging and not in production, it is a lazy method. If, for example, you are not careful and put `findFirst()` before `peek()` then `peek()` it will not be called. ","title":"Update a single object from a list using stream","body":"<pre><code>.stream().peek(t-&gt;t.setTag(t.getTag().replace(&quot;/&quot;,&quot;&quot;)));\n</code></pre>\n<p>Do anything you want with the <code>peek()</code> method. Just keep in mind and be aware that according to the documentation the <code>peek()</code> method was intended to be used mainly for debugging and not in production, it is a lazy method. If, for example, you are not careful and put <code>findFirst()</code> before <code>peek()</code> then <code>peek()</code> it will not be called.</p>\n"}],"owner":{"account_id":3141803,"reputation":823,"user_id":2657121,"accept_rate":27,"display_name":"iPhoneJavaDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11851,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":4,"score":7,"last_activity_date":1690978568,"creation_date":1554951323,"question_id":55624006,"body_markdown":"I have a list of objects.  I need to update a single object from the list that match my filter.  I can do something like below:\r\n\r\n    List&lt;MyObject&gt; list = list.stream().map(d -&gt; {\r\n        if (d.id == 1) {\r\n            d.name = &quot;Yahoo&quot;;\r\n            return d;\r\n        }\r\n        return d;\r\n    });\r\n\r\nBut my worry is i am like iterating through the whole list which may be up to 20k records.  I can do a `for loop` then `break`, but that one I think also will be slow.\r\n\r\nIs there any efficient way to do this?","title":"Update a single object from a list using stream","body":"<p>I have a list of objects.  I need to update a single object from the list that match my filter.  I can do something like below:</p>\n\n<pre><code>List&lt;MyObject&gt; list = list.stream().map(d -&gt; {\n    if (d.id == 1) {\n        d.name = \"Yahoo\";\n        return d;\n    }\n    return d;\n});\n</code></pre>\n\n<p>But my worry is i am like iterating through the whole list which may be up to 20k records.  I can do a <code>for loop</code> then <code>break</code>, but that one I think also will be slow.</p>\n\n<p>Is there any efficient way to do this?</p>\n"},{"tags":["java","json","json-deserialization","jackson-databind"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690884325,"post_id":76810528,"comment_id":135412118,"body_markdown":"Try to convert `byteResponse` to a string before map it to an object","body":"Try to convert <code>byteResponse</code> to a string before map it to an object"},{"owner":{"account_id":11466482,"reputation":794,"user_id":8404545,"display_name":"Max"},"score":0,"creation_date":1690885106,"post_id":76810528,"comment_id":135412262,"body_markdown":"My guess will be that `ACCEPT_EMPTY_STRING_AS_NULL_OBJECT` is converting the empty string to an empty object but `Msg` is a `String` not an object, try remove it","body":"My guess will be that <code>ACCEPT_EMPTY_STRING_AS_NULL_OBJECT</code> is converting the empty string to an empty object but <code>Msg</code> is a <code>String</code> not an object, try remove it"}],"answers":[{"tags":[],"owner":{"account_id":6871126,"reputation":930,"user_id":6070546,"display_name":"Yusuf Ganiyu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690884991,"creation_date":1690884991,"answer_id":76810644,"question_id":76810528,"body_markdown":"You can try:\r\n\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nbyte[] byteResponse = httpResponse.getEntity().getContent().readAllBytes();\r\nString jsonString = new String(byteResponse); // parse byte array to String\r\nJsonNode rootNode = mapper.readTree(jsonString); // parse String to JsonNode\r\nMatchingResponse response = mapper.treeToValue(rootNode, MatchingResponse.class); // parse JsonNode to your object\r\n```\r\n\r\nThe mapper.readTree(jsonString) parses the string into a JsonNode, which is Jackson&#39;s tree model for `JSON.mapper.treeToValue(rootNode, MatchingResponse.class)` then converts this tree into your object.\r\n\r\nAlso, you don&#39;t need to enable `DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT`. Jackson automatically converts empty strings in the JSON to empty strings in the object, not null.","title":"JSON to Java object deserialization exception","body":"<p>You can try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nbyte[] byteResponse = httpResponse.getEntity().getContent().readAllBytes();\nString jsonString = new String(byteResponse); // parse byte array to String\nJsonNode rootNode = mapper.readTree(jsonString); // parse String to JsonNode\nMatchingResponse response = mapper.treeToValue(rootNode, MatchingResponse.class); // parse JsonNode to your object\n</code></pre>\n<p>The mapper.readTree(jsonString) parses the string into a JsonNode, which is Jackson's tree model for <code>JSON.mapper.treeToValue(rootNode, MatchingResponse.class)</code> then converts this tree into your object.</p>\n<p>Also, you don't need to enable <code>DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT</code>. Jackson automatically converts empty strings in the JSON to empty strings in the object, not null.</p>\n"},{"tags":[],"owner":{"account_id":29135505,"reputation":1,"user_id":22319781,"display_name":"Sundram Jaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690896943,"creation_date":1690896943,"answer_id":76812192,"question_id":76810528,"body_markdown":"Why don&#39;t you try using json as jsonString and use \r\n\r\n    MatchingResponse matchingResponse = objectMapper.readValue(jsonString, MatchingResponse.class);\r\n\r\ninstead of byte[]","title":"JSON to Java object deserialization exception","body":"<p>Why don't you try using json as jsonString and use</p>\n<pre><code>MatchingResponse matchingResponse = objectMapper.readValue(jsonString, MatchingResponse.class);\n</code></pre>\n<p>instead of byte[]</p>\n"},{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690900235,"creation_date":1690900235,"answer_id":76812680,"question_id":76810528,"body_markdown":"try removing `@AllArgsConstructor`, a small test without Lombok works fine...\r\n\r\nI guess there&#39;s some issue with missing `@JsonCreator` annotation on the constructor generated by Lombok.\r\n\r\n    package com.example.demo;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    public class MatchingResponse {\r\n        @JsonProperty(value = &quot;Code&quot;)\r\n        private String code;\r\n        @JsonProperty(value = &quot;Msg&quot;)\r\n        private String message;\r\n        @JsonProperty(value = &quot;Id&quot;)\r\n        private int id;\r\n        @JsonProperty(value = &quot;Date&quot;)\r\n        private String date;\r\n        @JsonProperty(value = &quot;ClientIin&quot;)\r\n        private String clientIin;\r\n        @JsonProperty(value = &quot;Similarity&quot;)\r\n        private String similarity;\r\n        @JsonProperty(value = &quot;VendorName&quot;)\r\n        private String vendorName;\r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        public void setClientIin(String clientIin) {\r\n            this.clientIin = clientIin;\r\n        }\r\n    \r\n        public void setSimilarity(String similarity) {\r\n            this.similarity = similarity;\r\n        }\r\n    \r\n        public void setVendorName(String vendorName) {\r\n            this.vendorName = vendorName;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public String getClientIin() {\r\n            return clientIin;\r\n        }\r\n    \r\n        public String getSimilarity() {\r\n            return similarity;\r\n        }\r\n    \r\n        public String getVendorName() {\r\n            return vendorName;\r\n        }\r\n    }\r\n\r\n \r\n\r\n    @Test\r\n    void deserialize() throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        MatchingResponse matchingResponse = mapper.readValue(getClass().getResourceAsStream(&quot;/msg.json&quot;), MatchingResponse.class);\r\n    \r\n        assertNotNull(matchingResponse);\r\n    }\r\n\r\n ","title":"JSON to Java object deserialization exception","body":"<p>try removing <code>@AllArgsConstructor</code>, a small test without Lombok works fine...</p>\n<p>I guess there's some issue with missing <code>@JsonCreator</code> annotation on the constructor generated by Lombok.</p>\n<pre><code>package com.example.demo;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class MatchingResponse {\n    @JsonProperty(value = &quot;Code&quot;)\n    private String code;\n    @JsonProperty(value = &quot;Msg&quot;)\n    private String message;\n    @JsonProperty(value = &quot;Id&quot;)\n    private int id;\n    @JsonProperty(value = &quot;Date&quot;)\n    private String date;\n    @JsonProperty(value = &quot;ClientIin&quot;)\n    private String clientIin;\n    @JsonProperty(value = &quot;Similarity&quot;)\n    private String similarity;\n    @JsonProperty(value = &quot;VendorName&quot;)\n    private String vendorName;\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public void setClientIin(String clientIin) {\n        this.clientIin = clientIin;\n    }\n\n    public void setSimilarity(String similarity) {\n        this.similarity = similarity;\n    }\n\n    public void setVendorName(String vendorName) {\n        this.vendorName = vendorName;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public String getClientIin() {\n        return clientIin;\n    }\n\n    public String getSimilarity() {\n        return similarity;\n    }\n\n    public String getVendorName() {\n        return vendorName;\n    }\n}\n\n\n\n@Test\nvoid deserialize() throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    MatchingResponse matchingResponse = mapper.readValue(getClass().getResourceAsStream(&quot;/msg.json&quot;), MatchingResponse.class);\n\n    assertNotNull(matchingResponse);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690977643,"creation_date":1690977643,"answer_id":76819665,"question_id":76810528,"body_markdown":"The problem was in the JSON I was getting. If you output it in the console, it looked like this:\r\n\r\n    &quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20181,\\&quot;Date\\&quot;:\\&quot;2023-08-02T17:41:22.0568448+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;8\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;name\\&quot;}&quot;\r\n\r\nAnd the JSON I needed looked like this:\r\n\r\n    {&quot;Code&quot;:&quot;200&quot;,&quot;Msg&quot;:&quot;&quot;,&quot;Id&quot;:20119,&quot;Date&quot;:&quot;2023-08-01T12:28:14.2199073+06:00&quot;,&quot;ClientIin&quot;:&quot;8&quot;,&quot;Similarity&quot;:&quot;0.0738383234&quot;,&quot;VendorName&quot;:&quot;name&quot;}\r\n\r\nIt turns out I needed to remove the extra backslash and quotes at the beginning and end of the JSON. So I used this code to remove it:\r\n\r\n        private static String removeExtraBackslashes(String input) {\r\n        // Replace \\&quot; with &quot;\r\n        return input.replace(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\r\n    }\r\n\r\n    private static String removeFirstAndLastQuotes(String input) {\r\n        return input.substring(1, input.length() - 1);\r\n    }\r\n\r\nAnd everything worked!","title":"JSON to Java object deserialization exception","body":"<p>The problem was in the JSON I was getting. If you output it in the console, it looked like this:</p>\n<pre><code>&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20181,\\&quot;Date\\&quot;:\\&quot;2023-08-02T17:41:22.0568448+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;8\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;name\\&quot;}&quot;\n</code></pre>\n<p>And the JSON I needed looked like this:</p>\n<pre><code>{&quot;Code&quot;:&quot;200&quot;,&quot;Msg&quot;:&quot;&quot;,&quot;Id&quot;:20119,&quot;Date&quot;:&quot;2023-08-01T12:28:14.2199073+06:00&quot;,&quot;ClientIin&quot;:&quot;8&quot;,&quot;Similarity&quot;:&quot;0.0738383234&quot;,&quot;VendorName&quot;:&quot;name&quot;}\n</code></pre>\n<p>It turns out I needed to remove the extra backslash and quotes at the beginning and end of the JSON. So I used this code to remove it:</p>\n<pre><code>    private static String removeExtraBackslashes(String input) {\n    // Replace \\&quot; with &quot;\n    return input.replace(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\n}\n\nprivate static String removeFirstAndLastQuotes(String input) {\n    return input.substring(1, input.length() - 1);\n}\n</code></pre>\n<p>And everything worked!</p>\n"}],"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1690977643,"creation_date":1690884157,"question_id":76810528,"body_markdown":"```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MatchingResponse {\r\n    @JsonProperty(value = &quot;Code&quot;)\r\n    private String code;\r\n    @JsonProperty(value = &quot;Msg&quot;)\r\n    private String message;\r\n    @JsonProperty(value = &quot;Id&quot;)\r\n    private int id;\r\n    @JsonProperty(value = &quot;Date&quot;)\r\n    private String date;\r\n    @JsonProperty(value = &quot;ClientIin&quot;)\r\n    private String clientIin;\r\n    @JsonProperty(value = &quot;Similarity&quot;)\r\n    private String similarity;\r\n    @JsonProperty(value = &quot;VendorName&quot;)\r\n    private String vendorName;\r\n}\r\n```\r\nThis is my class. I`m trying to deserialize this JSON:\r\n\r\n```\r\n{\r\n    &quot;Code&quot;: &quot;200&quot;,\r\n    &quot;Msg&quot;: &quot;&quot;,\r\n    &quot;Id&quot;: 20148,\r\n    &quot;Date&quot;: &quot;2023-08-01T15:21:13.9704572+06:00&quot;,\r\n    &quot;ClientIin&quot;: &quot;888888888888&quot;,\r\n    &quot;Similarity&quot;: &quot;0.007720462&quot;,\r\n    &quot;VendorName&quot;: &quot;SomeName&quot;\r\n}\r\n```\r\nto my custom class with this code: \r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\nbyte[] byteResponse = httpResponse.getEntity().getContent().readAllBytes();\r\nMatchingResponse response = mapper.readValue(byteResponse, MatchingResponse.class);\r\n```\r\nbut because of JSON has empty variable &quot;Msg&quot;, I`m getting exception:\r\n\r\n```\r\nCannot construct instance of `MatchingResponse` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&quot;Code&quot;:&quot;200&quot;,&quot;Msg&quot;:&quot;&quot;,&quot;Id&quot;:20148,&quot;Date&quot;:&quot;2023-08-01T15:18:03.883337+06:00&quot;,&quot;ClientIin&quot;:&quot;888888888888&quot;,&quot;Similarity&quot;:&quot;0.0738383234&quot;,&quot;VendorName&quot;:&quot;SomeName&quot;}&#39;)\r\n at [Source: (byte[])&quot;&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20147,\\&quot;Date\\&quot;:\\&quot;2023-08-01T15:18:03.883337+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;830921301593\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;VisionLabs\\&quot;}&quot;&quot;; line: 1, column: 1]\r\n```\r\nI tried creating JsonSetter:\r\n\r\n```\r\n@JsonSetter\r\n    public void setMessage(String message) {\r\n        if (message != null &amp;&amp; message.isEmpty()) {\r\n            this.message = null;\r\n        } else {\r\n            this.message = message;\r\n        }\r\n    }\r\n```\r\nlike this or tried creating deserializers:\r\n\r\n```\r\npublic class MatchingResponseDeserializer extends StdDeserializer&lt;MatchingResponse&gt; {\r\n    public MatchingResponseDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public MatchingResponseDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public MatchingResponse deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n        String code = getOptionalString(node, &quot;Code&quot;);\r\n        String message = getOptionalString(node, &quot;Msg&quot;);\r\n        int id = getOptionalInt(node, &quot;Id&quot;);\r\n        String date = getOptionalString(node, &quot;Date&quot;);\r\n        String clientIin = getOptionalString(node, &quot;ClientIin&quot;);\r\n        String similarity = getOptionalString(node, &quot;Similarity&quot;);\r\n        String vendorName = getOptionalString(node, &quot;VendorName&quot;);\r\n\r\n        return new MatchingResponse(code, message, id, date, clientIin, similarity, vendorName);\r\n    }\r\n\r\n    private String getOptionalString(JsonNode node, String fieldName) {\r\n        JsonNode valueNode = node.get(fieldName);\r\n        return (valueNode != null) ? valueNode.asText() : null;\r\n    }\r\n\r\n    private int getOptionalInt(JsonNode node, String fieldName) {\r\n        JsonNode valueNode = node.get(fieldName);\r\n        return (valueNode != null) ? valueNode.asInt() : 0; // Provide a default value if needed\r\n    }\r\n}\r\n```\r\nSet this deserializer to the class:\r\n\r\n```\r\n@JsonDeserialize(using = MatchingResponseDeserializer.class)\r\npublic class MatchingResponse {\r\n```\r\nThis deserializer:\r\n\r\n```\r\npublic class EmptyStringDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n    public EmptyStringDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public EmptyStringDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n    @Override\r\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\r\n        JsonNode node = jsonParser.readValueAsTree();\r\n        if (node.asText().isEmpty()) {\r\n            return null;\r\n        }\r\n        return node.toString();\r\n    }\r\n}\r\n```\r\nI set to variable:\r\n\r\n```\r\n@JsonProperty(value = &quot;Msg&quot;)\r\n@JsonDeserialize(using = EmptyStringDeserializer.class)\r\nprivate String message;\r\n```\r\nbut none of it worked.\r\n\r\nI tried use Gson, but get exception: \r\n\r\n```\r\njava.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $\r\n```\r\n\r\nSo my question is, how can I fix this error? How to work with empty JSON variables?","title":"JSON to Java object deserialization exception","body":"<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MatchingResponse {\n    @JsonProperty(value = &quot;Code&quot;)\n    private String code;\n    @JsonProperty(value = &quot;Msg&quot;)\n    private String message;\n    @JsonProperty(value = &quot;Id&quot;)\n    private int id;\n    @JsonProperty(value = &quot;Date&quot;)\n    private String date;\n    @JsonProperty(value = &quot;ClientIin&quot;)\n    private String clientIin;\n    @JsonProperty(value = &quot;Similarity&quot;)\n    private String similarity;\n    @JsonProperty(value = &quot;VendorName&quot;)\n    private String vendorName;\n}\n</code></pre>\n<p>This is my class. I`m trying to deserialize this JSON:</p>\n<pre><code>{\n    &quot;Code&quot;: &quot;200&quot;,\n    &quot;Msg&quot;: &quot;&quot;,\n    &quot;Id&quot;: 20148,\n    &quot;Date&quot;: &quot;2023-08-01T15:21:13.9704572+06:00&quot;,\n    &quot;ClientIin&quot;: &quot;888888888888&quot;,\n    &quot;Similarity&quot;: &quot;0.007720462&quot;,\n    &quot;VendorName&quot;: &quot;SomeName&quot;\n}\n</code></pre>\n<p>to my custom class with this code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\nbyte[] byteResponse = httpResponse.getEntity().getContent().readAllBytes();\nMatchingResponse response = mapper.readValue(byteResponse, MatchingResponse.class);\n</code></pre>\n<p>but because of JSON has empty variable &quot;Msg&quot;, I`m getting exception:</p>\n<pre><code>Cannot construct instance of `MatchingResponse` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{&quot;Code&quot;:&quot;200&quot;,&quot;Msg&quot;:&quot;&quot;,&quot;Id&quot;:20148,&quot;Date&quot;:&quot;2023-08-01T15:18:03.883337+06:00&quot;,&quot;ClientIin&quot;:&quot;888888888888&quot;,&quot;Similarity&quot;:&quot;0.0738383234&quot;,&quot;VendorName&quot;:&quot;SomeName&quot;}')\n at [Source: (byte[])&quot;&quot;{\\&quot;Code\\&quot;:\\&quot;200\\&quot;,\\&quot;Msg\\&quot;:\\&quot;\\&quot;,\\&quot;Id\\&quot;:20147,\\&quot;Date\\&quot;:\\&quot;2023-08-01T15:18:03.883337+06:00\\&quot;,\\&quot;ClientIin\\&quot;:\\&quot;830921301593\\&quot;,\\&quot;Similarity\\&quot;:\\&quot;0.0738383234\\&quot;,\\&quot;VendorName\\&quot;:\\&quot;VisionLabs\\&quot;}&quot;&quot;; line: 1, column: 1]\n</code></pre>\n<p>I tried creating JsonSetter:</p>\n<pre><code>@JsonSetter\n    public void setMessage(String message) {\n        if (message != null &amp;&amp; message.isEmpty()) {\n            this.message = null;\n        } else {\n            this.message = message;\n        }\n    }\n</code></pre>\n<p>like this or tried creating deserializers:</p>\n<pre><code>public class MatchingResponseDeserializer extends StdDeserializer&lt;MatchingResponse&gt; {\n    public MatchingResponseDeserializer() {\n        this(null);\n    }\n\n    public MatchingResponseDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public MatchingResponse deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n        String code = getOptionalString(node, &quot;Code&quot;);\n        String message = getOptionalString(node, &quot;Msg&quot;);\n        int id = getOptionalInt(node, &quot;Id&quot;);\n        String date = getOptionalString(node, &quot;Date&quot;);\n        String clientIin = getOptionalString(node, &quot;ClientIin&quot;);\n        String similarity = getOptionalString(node, &quot;Similarity&quot;);\n        String vendorName = getOptionalString(node, &quot;VendorName&quot;);\n\n        return new MatchingResponse(code, message, id, date, clientIin, similarity, vendorName);\n    }\n\n    private String getOptionalString(JsonNode node, String fieldName) {\n        JsonNode valueNode = node.get(fieldName);\n        return (valueNode != null) ? valueNode.asText() : null;\n    }\n\n    private int getOptionalInt(JsonNode node, String fieldName) {\n        JsonNode valueNode = node.get(fieldName);\n        return (valueNode != null) ? valueNode.asInt() : 0; // Provide a default value if needed\n    }\n}\n</code></pre>\n<p>Set this deserializer to the class:</p>\n<pre><code>@JsonDeserialize(using = MatchingResponseDeserializer.class)\npublic class MatchingResponse {\n</code></pre>\n<p>This deserializer:</p>\n<pre><code>public class EmptyStringDeserializer extends JsonDeserializer&lt;String&gt; {\n\n    public EmptyStringDeserializer() {\n        this(null);\n    }\n\n    public EmptyStringDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n    @Override\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JacksonException {\n        JsonNode node = jsonParser.readValueAsTree();\n        if (node.asText().isEmpty()) {\n            return null;\n        }\n        return node.toString();\n    }\n}\n</code></pre>\n<p>I set to variable:</p>\n<pre><code>@JsonProperty(value = &quot;Msg&quot;)\n@JsonDeserialize(using = EmptyStringDeserializer.class)\nprivate String message;\n</code></pre>\n<p>but none of it worked.</p>\n<p>I tried use Gson, but get exception:</p>\n<pre><code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $\n</code></pre>\n<p>So my question is, how can I fix this error? How to work with empty JSON variables?</p>\n"},{"tags":["java","wsdl","jax-ws","xjc","jaxws-maven-plugin"],"owner":{"account_id":29144051,"reputation":11,"user_id":22326389,"display_name":"Danyel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690977550,"creation_date":1690977550,"question_id":76819648,"body_markdown":"We have a bunch of .wsdl files and have defined an execution goal for each one of them, each with their own bindings file. That makes 71 execution goals and 71 bindings files with mostly the same content. However the reason why a lot of bindings files are needed is because they use `&lt;jaxws:bindings node=&quot;xyz&quot;&gt;` where `xyz` is not necessarily present in the other .wsdl files and then xjc throws an error that `XPath evaluation results in empty target node`.\r\n\r\nI&#39;ve tried with `&lt;jaxws:bindings node=&quot;xyz&quot; required=&quot;false&quot;&gt;` but apparently that only works for `jxb:bindings` and not for jaxws:bindings.\r\n\r\nI&#39;m trying to reduce the 71 bindings file to hopefully 1 with a lot of optional statements.\r\n\r\nI&#39;ve tried with different maven plugins: Apache&#39;s wsdl2java, jaxws-mvn-plugin and I think one more, but I doubt that makes a difference since in the back they all use xjc.\r\n\r\nAny ideas how to tackle this?\r\n\r\nI tried `required=&quot;false&quot;`, and was expecting it to work for jaxws:bindings the same way it does for jaxb:bindings, which it doesn&#39;t.","title":"using jaxws binding with required=false","body":"<p>We have a bunch of .wsdl files and have defined an execution goal for each one of them, each with their own bindings file. That makes 71 execution goals and 71 bindings files with mostly the same content. However the reason why a lot of bindings files are needed is because they use <code>&lt;jaxws:bindings node=&quot;xyz&quot;&gt;</code> where <code>xyz</code> is not necessarily present in the other .wsdl files and then xjc throws an error that <code>XPath evaluation results in empty target node</code>.</p>\n<p>I've tried with <code>&lt;jaxws:bindings node=&quot;xyz&quot; required=&quot;false&quot;&gt;</code> but apparently that only works for <code>jxb:bindings</code> and not for jaxws:bindings.</p>\n<p>I'm trying to reduce the 71 bindings file to hopefully 1 with a lot of optional statements.</p>\n<p>I've tried with different maven plugins: Apache's wsdl2java, jaxws-mvn-plugin and I think one more, but I doubt that makes a difference since in the back they all use xjc.</p>\n<p>Any ideas how to tackle this?</p>\n<p>I tried <code>required=&quot;false&quot;</code>, and was expecting it to work for jaxws:bindings the same way it does for jaxb:bindings, which it doesn't.</p>\n"},{"tags":["java","open-liberty"],"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690977331,"creation_date":1690977331,"question_id":76819608,"body_markdown":"I&#39;m using OpenLiberty 22 and my Java 17 EE application is secured with `mpJwt-1.2` feature. My mpJwt configuration in `server.xml` looks like following:\r\n\r\n    &lt;mpJwt audiences=&quot;ALL_AUDIENCES&quot;\r\n           authFilterRef=&quot;api-key-filter&quot;\r\n           groupNameAttribute=&quot;groupIds&quot;\r\n           id=&quot;myJwt&quot;\r\n           issuer=&quot;***&quot;\r\n           jwksUri=&quot;***&quot;\r\n           userNameAttribute=&quot;sub&quot; &gt;\r\n    &lt;/mpJwt&gt;\r\n    \r\n    &lt;authFilter id=&quot;api-key-filter&quot;&gt;\r\n    \t&lt;requestHeader matchType=&quot;notContain&quot; name=&quot;X-API-Key&quot;/&gt;\r\n    &lt;/authFilter&gt;\r\n\r\nWith the `authFilter` I tell the server to not validate incoming requests where header &#39;X-API-Key&#39; Authentication header is set. All other calls should be validated with mpJwt as usual. Now I would like to check whether value of `X-API-Key` is valid or not and in case of invalid, return 401. My problem is, that with my `web.xml` config entries all calls with api key header are rejected with 401 directly due to this security constraint.\r\n\r\n\t&lt;security-constraint&gt;\r\n\t\t&lt;web-resource-collection&gt;\r\n\t\t\t&lt;web-resource-name&gt;Web Application&lt;/web-resource-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t&lt;/web-resource-collection&gt;\r\n\t\t&lt;auth-constraint&gt;\r\n\t\t\t&lt;role-name&gt;AllAuthenticated&lt;/role-name&gt;\t\t\t\r\n\t\t&lt;/auth-constraint&gt;\t\t\r\n\t&lt;/security-constraint&gt;\r\n\r\nThis security constraint is needed to enable mpJwt validation in OpenLiberty.\r\n\r\n# My Question\r\nIs it possible to write a custom OpenLiberty Feature to check `HttpRequestHeader` in combination with an `authFilter` as it is in mpJwt (`authFilterRef`)? Or is it possible to configure server to get this behaviour?\r\n\r\nThe only way I found is to unsecure these routes explicitly in `server.xml` but this is very unflexible, because I always have to added this routes explicitly and mpJwt validation is disabled for each call to this routes. \r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;Public&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/customApiKeyRoute1/*&lt;/url-pattern&gt;\r\n            &lt;url-pattern&gt;/customApiKeyRoute2/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n    &lt;/security-constraint&gt;","title":"Custom OpenLiberty HttpRequestFilter to use API-Keys","body":"<p>I'm using OpenLiberty 22 and my Java 17 EE application is secured with <code>mpJwt-1.2</code> feature. My mpJwt configuration in <code>server.xml</code> looks like following:</p>\n<pre><code>&lt;mpJwt audiences=&quot;ALL_AUDIENCES&quot;\n       authFilterRef=&quot;api-key-filter&quot;\n       groupNameAttribute=&quot;groupIds&quot;\n       id=&quot;myJwt&quot;\n       issuer=&quot;***&quot;\n       jwksUri=&quot;***&quot;\n       userNameAttribute=&quot;sub&quot; &gt;\n&lt;/mpJwt&gt;\n\n&lt;authFilter id=&quot;api-key-filter&quot;&gt;\n    &lt;requestHeader matchType=&quot;notContain&quot; name=&quot;X-API-Key&quot;/&gt;\n&lt;/authFilter&gt;\n</code></pre>\n<p>With the <code>authFilter</code> I tell the server to not validate incoming requests where header 'X-API-Key' Authentication header is set. All other calls should be validated with mpJwt as usual. Now I would like to check whether value of <code>X-API-Key</code> is valid or not and in case of invalid, return 401. My problem is, that with my <code>web.xml</code> config entries all calls with api key header are rejected with 401 directly due to this security constraint.</p>\n<pre><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;Web Application&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n        &lt;role-name&gt;AllAuthenticated&lt;/role-name&gt;         \n    &lt;/auth-constraint&gt;      \n&lt;/security-constraint&gt;\n</code></pre>\n<p>This security constraint is needed to enable mpJwt validation in OpenLiberty.</p>\n<h1>My Question</h1>\n<p>Is it possible to write a custom OpenLiberty Feature to check <code>HttpRequestHeader</code> in combination with an <code>authFilter</code> as it is in mpJwt (<code>authFilterRef</code>)? Or is it possible to configure server to get this behaviour?</p>\n<p>The only way I found is to unsecure these routes explicitly in <code>server.xml</code> but this is very unflexible, because I always have to added this routes explicitly and mpJwt validation is disabled for each call to this routes.</p>\n<pre><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;Public&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/customApiKeyRoute1/*&lt;/url-pattern&gt;\n        &lt;url-pattern&gt;/customApiKeyRoute2/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","eclipse-plugin","eclipse-rcp","eclipse-emf"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1690817787,"post_id":76804216,"comment_id":135402471,"body_markdown":"You have the wrong import: it&#39;s `org.eclipse.swt.widgets.Label`, not `org.eclipse.swt.widgets.label`. You&#39;re not the first one who tried this with IntelliJ. The problem is that IntelliJ does not support Eclipse RCP at all. With IntelliJ you will face strange issues that you would never ever get with Eclipse. That&#39;s why all tutorials, [like this one](https://www.vogella.com/tutorials/eclipse.html), use Eclipse for Eclipse RCP. Become a pro by [eating your own dog food](https://en.wikipedia.org/wiki/Eating_your_own_dog_food).","body":"You have the wrong import: it&#39;s <code>org.eclipse.swt.widgets.Label</code>, not <code>org.eclipse.swt.widgets.label</code>. You&#39;re not the first one who tried this with IntelliJ. The problem is that IntelliJ does not support Eclipse RCP at all. With IntelliJ you will face strange issues that you would never ever get with Eclipse. That&#39;s why all tutorials, <a href=\"https://www.vogella.com/tutorials/eclipse.html\" rel=\"nofollow noreferrer\">like this one</a>, use Eclipse for Eclipse RCP. Become a pro by <a href=\"https://en.wikipedia.org/wiki/Eating_your_own_dog_food\" rel=\"nofollow noreferrer\">eating your own dog food</a>."}],"owner":{"account_id":29129183,"reputation":1,"user_id":22314879,"display_name":"CodingWithDani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690977119,"creation_date":1690810841,"question_id":76804216,"body_markdown":"I am currently working at a company which is using EclipseRCP for its projects. Since I am very used to IntelliJ (from my experience at the university), I would like and tried to use IntelliJ.\r\n\r\nThe problem is that all of the classes are not accessible with the point operator.\r\n\r\n```java\r\nimport org.eclipse.e4.core.dir.annotations.Optional;\r\nimport org.eclipse.e4.core.dir.annotations.Preference;\r\n...\r\nimport org.eclipse.swt.widgets.label;\r\n\r\npublic class DirControl {\r\n   Label dirLabel;\r\n\r\n   @PostConstruct\r\n   public void postConstruct(Composite parent){\r\n     dirLabel = new Label(parent, SWT.NONE);\r\n     dirLabel.setText(&quot;test&quot;);\r\n   }\r\n}\r\n```\r\n\r\nIn this example I&#39;m not able to get the suggestions that the label has methods (setText, setToolTipText ...). \r\n\r\nMaybe the problem is related to the plugin dependencies which are unique to Eclispe (and EclipseRCP)? But I am not quite sure about that.\r\n\r\nI&#39;ve tried out the OSGI Plugin from the IntelliJ Appstore and the option &quot;Open Module Settings&quot; with changing the dependency storage format to Eclipse.\r\n\r\nMy colleagues and I would be extremely happy if anyone knows what the problem is and how to solve it.\r\n\r\n\r\n\r\n","title":"Editing a EclipseRCP Project with IntelliJ (instead of Eclipse)","body":"<p>I am currently working at a company which is using EclipseRCP for its projects. Since I am very used to IntelliJ (from my experience at the university), I would like and tried to use IntelliJ.</p>\n<p>The problem is that all of the classes are not accessible with the point operator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.e4.core.dir.annotations.Optional;\nimport org.eclipse.e4.core.dir.annotations.Preference;\n...\nimport org.eclipse.swt.widgets.label;\n\npublic class DirControl {\n   Label dirLabel;\n\n   @PostConstruct\n   public void postConstruct(Composite parent){\n     dirLabel = new Label(parent, SWT.NONE);\n     dirLabel.setText(&quot;test&quot;);\n   }\n}\n</code></pre>\n<p>In this example I'm not able to get the suggestions that the label has methods (setText, setToolTipText ...).</p>\n<p>Maybe the problem is related to the plugin dependencies which are unique to Eclispe (and EclipseRCP)? But I am not quite sure about that.</p>\n<p>I've tried out the OSGI Plugin from the IntelliJ Appstore and the option &quot;Open Module Settings&quot; with changing the dependency storage format to Eclipse.</p>\n<p>My colleagues and I would be extremely happy if anyone knows what the problem is and how to solve it.</p>\n"},{"tags":["java","spring-boot","openapi","openapi-generator-maven-plugin"],"owner":{"account_id":22604723,"reputation":1,"user_id":21455008,"display_name":"Harish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690976329,"creation_date":1690971637,"question_id":76818924,"body_markdown":"I am trying to do this to implement problemDetail in my spring boot application and in my API docs I want to use org.springframework.http.ProblemDetail to return for statuses 400,401,403,404,500 and doing below in config of open-api-maven-ganerator plugin with 6.6.0 version is not helping\r\n\r\n    &lt;schemaMappings&gt;\r\n                &lt;schemaMapping&gt;ProblemDetail=org.springframework.http.ProblemDetail&lt;/schemaMapping&gt;\r\n              &lt;/schemaMappings&gt;\r\n\r\n    ProblemDetailWrapper:\r\n      description: defines the standard error response for failure\r\n      type: object\r\n      properties:\r\n        problemDetail:\r\n          $ref: &#39;#ProblemDetail&#39;\r\n\r\n&gt; #ProblemDetail is not defined \r\nFailed to get the schema name: #ProblemDetail \r\nError obtaining the datatype from ref: #ProblemDetail. Default to &#39;object&#39;\r\n\r\nAnd the generated class gives Object type and not **org.springframework.http.ProblemDetail** type\r\n\r\n    public class ProblemDetailWrapper {\r\n    \r\n      private Object problemDetail = null;\r\n    \r\n      public ProblemDetailWrapper problemDetail(Object problemDetail) {\r\n        this.problemDetail = problemDetail;\r\n        return this;\r\n      }}\r\n\r\n\r\n\r\nhttps://stackoverflow.com/questions/74552600/can-you-reference-existing-java-classes-pojos-in-a-dependent-jar-within-an-ope\r\n\r\nI have tried this suggestion but it does not work","title":"Can you reference existing Java classes from spring framework or any library within an OpenAPI schema definition?","body":"<p>I am trying to do this to implement problemDetail in my spring boot application and in my API docs I want to use org.springframework.http.ProblemDetail to return for statuses 400,401,403,404,500 and doing below in config of open-api-maven-ganerator plugin with 6.6.0 version is not helping</p>\n<pre><code>&lt;schemaMappings&gt;\n            &lt;schemaMapping&gt;ProblemDetail=org.springframework.http.ProblemDetail&lt;/schemaMapping&gt;\n          &lt;/schemaMappings&gt;\n\nProblemDetailWrapper:\n  description: defines the standard error response for failure\n  type: object\n  properties:\n    problemDetail:\n      $ref: '#ProblemDetail'\n</code></pre>\n<blockquote>\n<p>#ProblemDetail is not defined\nFailed to get the schema name: #ProblemDetail\nError obtaining the datatype from ref: #ProblemDetail. Default to 'object'</p>\n</blockquote>\n<p>And the generated class gives Object type and not <strong>org.springframework.http.ProblemDetail</strong> type</p>\n<pre><code>public class ProblemDetailWrapper {\n\n  private Object problemDetail = null;\n\n  public ProblemDetailWrapper problemDetail(Object problemDetail) {\n    this.problemDetail = problemDetail;\n    return this;\n  }}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/74552600/can-you-reference-existing-java-classes-pojos-in-a-dependent-jar-within-an-ope\">Can you reference existing Java classes (POJOs) in a dependent JAR within an OpenAPI schema definition?</a></p>\n<p>I have tried this suggestion but it does not work</p>\n"},{"tags":["java","kotlin","architecture","sealed"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690966929,"post_id":76818150,"comment_id":135425217,"body_markdown":"Please show some code.","body":"Please show some code."},{"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"score":0,"creation_date":1690967437,"post_id":76818150,"comment_id":135425335,"body_markdown":"Edited the answer and added example code","body":"Edited the answer and added example code"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690967687,"post_id":76818150,"comment_id":135425398,"body_markdown":"How about making `SearchFilter`, `CombinedSearch` and `AnimalSearch` sealed interfaces? `Each filter could implement the interfaces that they &quot;belong&quot; to.","body":"How about making <code>SearchFilter</code>, <code>CombinedSearch</code> and <code>AnimalSearch</code> sealed interfaces? `Each filter could implement the interfaces that they &quot;belong&quot; to."},{"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"score":0,"creation_date":1690968623,"post_id":76818150,"comment_id":135425617,"body_markdown":"Maybe I don&#39;t get it, but what would I gain from it, I would still need to duplicate all values or?","body":"Maybe I don&#39;t get it, but what would I gain from it, I would still need to duplicate all values or?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690976080,"creation_date":1690969236,"answer_id":76818603,"question_id":76818150,"body_markdown":"You can make `SearchFilter`, `CombinedSearch` and `AnimalSearch` sealed interfaces. Each filter (the enum values) would then implement one or more of those interfaces. You can make `SearchFilter` and `AnimalSearch` inherit from `CombinedSearch` as well.\r\n\r\n```\r\nsealed interface SearchFilter: CombinedFilter\r\nsealed interface AnimalFilter: CombinedFilter\r\nsealed interface CombinedFilter\r\n\r\nobject Person: SearchFilter\r\nobject Car: SearchFilter\r\nobject Building: SearchFilter\r\nobject Animal: AnimalFilter\r\n```\r\n\r\nor put the individual filters in other objects if you want code completion:\r\n\r\n```\r\nsealed interface CombinedFilter\r\n\r\nsealed interface SearchFilter: CombinedFilter {\r\n    object Person: SearchFilter\r\n    object Car: SearchFilter\r\n    object Building: SearchFilter\r\n}\r\nsealed interface AnimalFilter: CombinedFilter {\r\n    object Animal: AnimalFilter\r\n}\r\n```\r\n\r\nBecause of this type hierarchy, `CombinedSearch.search` would be able to take all 4 of `Person`, `Car`, `Building` and `Animal`.\r\n\r\nThe downside of this is that if you happen to have another combination of APIs, you would need to modify the declarations of all the involved filter types. For example, if there were a third API with a `FooFilter` type:\r\n\r\n```\r\nsealed interface FooFilter\r\nobject Foo1: FooFilter\r\nobject Foo2: FooFilter\r\n```\r\n\r\nAnd you want a `CombinedFilter2` that combines `FooFilter`s and `SearchFilter`s, you&#39;d need to add:\r\n\r\n```\r\nsealed CombinedFilter2\r\n\r\nsealed interface SearchFilter: CombinedFilter, CombinedFilter2\r\n                                             ^^^^^^^^^^^^^^^^^\r\nsealed interface FooFilter: CombinedFilter2\r\n                            ^^^^^^^^^^^^^^^\r\n```\r\n\r\n&lt;hr&gt;\r\n\r\nIf you want code-completion on `CombinedFilter`, then I can&#39;t think of any way unless you get rid of `sealed`.\r\n\r\nRepresent each filter as anonymous object properties, and wrap `object`s around them. The combined filters will have two properties, each initialised to the `object` containing the constituent filters.\r\n\r\n```\r\n// this can still be sealed\r\nsealed interface CombinedFilter\r\n\r\ninterface SearchFilter: CombinedFilter\r\nobject SearchFilters {\r\n    val person = object: SearchFilter {}\r\n    val car = object: SearchFilter {}\r\n    val building = object: SearchFilter {}\r\n}\r\n\r\ninterface AnimalFilter: CombinedFilter\r\n\r\nobject AnimalFilters {\r\n    val animal = object: AnimalFilter {}\r\n}\r\n\r\nobject CombinedFilters {\r\n    val search = SearchFilters\r\n    val animal = AnimalFilters\r\n}\r\n```\r\n\r\n&lt;hr&gt;\r\n\r\nAnother option is to keep using enums, but `CombinedSearch` would take a `Either&lt;AnimalFilter, SearchFilter&gt;`.\r\n\r\n```\r\nenum AnimalFilter { ANIMAL }\r\n\r\nsealed interface Either&lt;out L, out R&gt; {\r\n    data class Left&lt;L&gt;(val value: L): Either&lt;L, Nothing&gt;\r\n    data class Right&lt;R&gt;(val value: R): Either&lt;Nothing, R&gt;\r\n}\r\n```\r\n\r\nExample usage:\r\n\r\n```\r\ncombinedSearch.search(Either.Right(AnimalFilter.ANIMAL))\r\ncombinedSearch.search(Either.Left(SearchFilter.CAR))\r\n```\r\n\r\nThe downside of this is that it&#39;s more inconvenient on users&#39; side - there is whole lot more &quot;ceremony&quot;.","title":"Extend set of fixed values (enum, sealed interface, sealed class...) without repeating them","body":"<p>You can make <code>SearchFilter</code>, <code>CombinedSearch</code> and <code>AnimalSearch</code> sealed interfaces. Each filter (the enum values) would then implement one or more of those interfaces. You can make <code>SearchFilter</code> and <code>AnimalSearch</code> inherit from <code>CombinedSearch</code> as well.</p>\n<pre><code>sealed interface SearchFilter: CombinedFilter\nsealed interface AnimalFilter: CombinedFilter\nsealed interface CombinedFilter\n\nobject Person: SearchFilter\nobject Car: SearchFilter\nobject Building: SearchFilter\nobject Animal: AnimalFilter\n</code></pre>\n<p>or put the individual filters in other objects if you want code completion:</p>\n<pre><code>sealed interface CombinedFilter\n\nsealed interface SearchFilter: CombinedFilter {\n    object Person: SearchFilter\n    object Car: SearchFilter\n    object Building: SearchFilter\n}\nsealed interface AnimalFilter: CombinedFilter {\n    object Animal: AnimalFilter\n}\n</code></pre>\n<p>Because of this type hierarchy, <code>CombinedSearch.search</code> would be able to take all 4 of <code>Person</code>, <code>Car</code>, <code>Building</code> and <code>Animal</code>.</p>\n<p>The downside of this is that if you happen to have another combination of APIs, you would need to modify the declarations of all the involved filter types. For example, if there were a third API with a <code>FooFilter</code> type:</p>\n<pre><code>sealed interface FooFilter\nobject Foo1: FooFilter\nobject Foo2: FooFilter\n</code></pre>\n<p>And you want a <code>CombinedFilter2</code> that combines <code>FooFilter</code>s and <code>SearchFilter</code>s, you'd need to add:</p>\n<pre><code>sealed CombinedFilter2\n\nsealed interface SearchFilter: CombinedFilter, CombinedFilter2\n                                             ^^^^^^^^^^^^^^^^^\nsealed interface FooFilter: CombinedFilter2\n                            ^^^^^^^^^^^^^^^\n</code></pre>\n<hr>\n<p>If you want code-completion on <code>CombinedFilter</code>, then I can't think of any way unless you get rid of <code>sealed</code>.</p>\n<p>Represent each filter as anonymous object properties, and wrap <code>object</code>s around them. The combined filters will have two properties, each initialised to the <code>object</code> containing the constituent filters.</p>\n<pre><code>// this can still be sealed\nsealed interface CombinedFilter\n\ninterface SearchFilter: CombinedFilter\nobject SearchFilters {\n    val person = object: SearchFilter {}\n    val car = object: SearchFilter {}\n    val building = object: SearchFilter {}\n}\n\ninterface AnimalFilter: CombinedFilter\n\nobject AnimalFilters {\n    val animal = object: AnimalFilter {}\n}\n\nobject CombinedFilters {\n    val search = SearchFilters\n    val animal = AnimalFilters\n}\n</code></pre>\n<hr>\n<p>Another option is to keep using enums, but <code>CombinedSearch</code> would take a <code>Either&lt;AnimalFilter, SearchFilter&gt;</code>.</p>\n<pre><code>enum AnimalFilter { ANIMAL }\n\nsealed interface Either&lt;out L, out R&gt; {\n    data class Left&lt;L&gt;(val value: L): Either&lt;L, Nothing&gt;\n    data class Right&lt;R&gt;(val value: R): Either&lt;Nothing, R&gt;\n}\n</code></pre>\n<p>Example usage:</p>\n<pre><code>combinedSearch.search(Either.Right(AnimalFilter.ANIMAL))\ncombinedSearch.search(Either.Left(SearchFilter.CAR))\n</code></pre>\n<p>The downside of this is that it's more inconvenient on users' side - there is whole lot more &quot;ceremony&quot;.</p>\n"}],"owner":{"account_id":3108728,"reputation":791,"user_id":2630994,"accept_rate":73,"display_name":"rimes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690976080,"creation_date":1690966323,"question_id":76818150,"body_markdown":"I have a class that has a fixed set of filters  and is responsible for fetching data from an search API (lets say &quot;PERSON;CAR;BUILDING&quot;).\r\nNow I want to wrap this search class inside an &quot;Extended&quot; search (by using something like an adapter pattern), and add an additional endpoint which fetches also ANIMALS (another endpoint).\r\nFor the Extended class I have the Combined filter &quot;PERSON;CAR;BUILDING;ANIMALS&quot; where the first three still work for the one API and the last one (ANIMALS) works for the second API. \r\n\r\nMy question is, is there a nice approach to make these filters somehow compatible/dependant on each other. The best solution would be to extend the first filter with the items for &quot;Combined&quot; filter. I have been playing around with sealed interfaces/classes but so far I could not find a nice way to do that. My solution for now is to use enums (copy the values from all filters) and make a mapper from the combined filter to the real search filter. The issues with this approach are  that I am duplicating all filter values and in case the search filter gets extended it could easily be forgotten to also extend the combined filter. \r\n\r\nEdit: added code\r\n\r\n    enum class SearchFilter { PERSON, CAR, BUILDING }\r\n\r\n    class GeneralSearch {\r\n      fun search (filter: SearchFilter)\r\n    }\r\n\r\n    class AnimalSearch {\r\n      fun search ()\r\n    }\r\n\r\nCombine both api-s:\r\n\r\n    enum class CombinedSearchFilter { PERSON, CAR, BUILDING, ANIMALS }\r\n\r\n    class CombinedSearch (\r\n          generalSearch: GeneralSearch, \r\n          animalSearch: AnimalSearch\r\n    ) {\r\n      fun search (filter: CombinedSearchFilter)\r\n    }\r\n\r\nThe issue is that the `CombinedSearchFilter` is duplicating the values from `SearchFilter` without any constraint.","title":"Extend set of fixed values (enum, sealed interface, sealed class...) without repeating them","body":"<p>I have a class that has a fixed set of filters  and is responsible for fetching data from an search API (lets say &quot;PERSON;CAR;BUILDING&quot;).\nNow I want to wrap this search class inside an &quot;Extended&quot; search (by using something like an adapter pattern), and add an additional endpoint which fetches also ANIMALS (another endpoint).\nFor the Extended class I have the Combined filter &quot;PERSON;CAR;BUILDING;ANIMALS&quot; where the first three still work for the one API and the last one (ANIMALS) works for the second API.</p>\n<p>My question is, is there a nice approach to make these filters somehow compatible/dependant on each other. The best solution would be to extend the first filter with the items for &quot;Combined&quot; filter. I have been playing around with sealed interfaces/classes but so far I could not find a nice way to do that. My solution for now is to use enums (copy the values from all filters) and make a mapper from the combined filter to the real search filter. The issues with this approach are  that I am duplicating all filter values and in case the search filter gets extended it could easily be forgotten to also extend the combined filter.</p>\n<p>Edit: added code</p>\n<pre><code>enum class SearchFilter { PERSON, CAR, BUILDING }\n\nclass GeneralSearch {\n  fun search (filter: SearchFilter)\n}\n\nclass AnimalSearch {\n  fun search ()\n}\n</code></pre>\n<p>Combine both api-s:</p>\n<pre><code>enum class CombinedSearchFilter { PERSON, CAR, BUILDING, ANIMALS }\n\nclass CombinedSearch (\n      generalSearch: GeneralSearch, \n      animalSearch: AnimalSearch\n) {\n  fun search (filter: CombinedSearchFilter)\n}\n</code></pre>\n<p>The issue is that the <code>CombinedSearchFilter</code> is duplicating the values from <code>SearchFilter</code> without any constraint.</p>\n"},{"tags":["java","netbeans","java-11"],"answers":[{"tags":[],"owner":{"display_name":"user17890629"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643743040,"creation_date":1643743040,"answer_id":70946270,"question_id":70309275,"body_markdown":"I had a similar problem in **macOs Monterey** and the following steps got  tmcbeans up and running for me:\r\n\r\n 1. Open Terminal and type `/usr/libexec/java_home-v&#39;1.7*&#39;` (copy/save the result)\r\n 2. Open Finder and go to `Applications -&gt; tmcbeans.app`\r\n 3. Right click on tmcbeans.app and select `Show package contents`\r\n 4. Go to `Contents/Resources/tmcbeans/etc/` and open `tmcbeans.conf` in your preferred text editor\r\n 5. Scroll to the bottom and you will find `#jdkhome=&quot;some path here...&quot;`\r\n 6. Copy the result from `Step 1` and paste it between the double quotes in `Step 5`\r\n 7. Remove the hash symbol at the begining to make it `jdkhome=&quot;your path here ...&quot;`\r\n 8. `Save`, `Quit` and `Restart` tmcbeans.app","title":"TMCbeans does not open after installation","body":"<p>I had a similar problem in <strong>macOs Monterey</strong> and the following steps got  tmcbeans up and running for me:</p>\n<ol>\n<li>Open Terminal and type <code>/usr/libexec/java_home-v'1.7*'</code> (copy/save the result)</li>\n<li>Open Finder and go to <code>Applications -&gt; tmcbeans.app</code></li>\n<li>Right click on tmcbeans.app and select <code>Show package contents</code></li>\n<li>Go to <code>Contents/Resources/tmcbeans/etc/</code> and open <code>tmcbeans.conf</code> in your preferred text editor</li>\n<li>Scroll to the bottom and you will find <code>#jdkhome=&quot;some path here...&quot;</code></li>\n<li>Copy the result from <code>Step 1</code> and paste it between the double quotes in <code>Step 5</code></li>\n<li>Remove the hash symbol at the begining to make it <code>jdkhome=&quot;your path here ...&quot;</code></li>\n<li><code>Save</code>, <code>Quit</code> and <code>Restart</code> tmcbeans.app</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24470461,"reputation":11,"user_id":18390280,"display_name":"Noelia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646579843,"creation_date":1646579843,"answer_id":71371532,"question_id":70309275,"body_markdown":"I signed up for MOOC too, and what worked for me was to follow the steps to locate the JVM path of [this video][1] \r\n\r\nMy java ended up being under /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home\r\n\r\nI then updated and uncommented the line jdkhome= of tmcbeans.conf (as described in the comment above), saved and relaunched tmcbeans. It worked perfectly after that. \r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=p_0uFioeQug","title":"TMCbeans does not open after installation","body":"<p>I signed up for MOOC too, and what worked for me was to follow the steps to locate the JVM path of <a href=\"https://www.youtube.com/watch?v=p_0uFioeQug\" rel=\"nofollow noreferrer\">this video</a></p>\n<p>My java ended up being under /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home</p>\n<p>I then updated and uncommented the line jdkhome= of tmcbeans.conf (as described in the comment above), saved and relaunched tmcbeans. It worked perfectly after that.</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":8175799,"reputation":2058,"user_id":6154579,"display_name":"Sushant Rajbanshi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653919529,"creation_date":1653919529,"answer_id":72435658,"question_id":70309275,"body_markdown":"I was facing the same issue on Windows 10. I found out that TMCBeans is currently not compatible with OpenJDK Versions &gt; 11. Thus, I did the following things for TMCBeans to function correctly.\r\n\r\n 1. Download *exactly* AdoptOpenJDK11 for your OS, open development environment for Java 11, from [the archives][1]. \r\n 2. Try launching TMCBeans again.\r\n 3. If you&#39;re still facing issues, try following the instructions of this [Reddit post&#39;s first comment][2].\r\n\r\n\r\n  [1]: https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot\r\n  [2]: https://www.reddit.com/r/learnjava/comments/oufbxi/tmcbeans_crashes_on_startup/","title":"TMCbeans does not open after installation","body":"<p>I was facing the same issue on Windows 10. I found out that TMCBeans is currently not compatible with OpenJDK Versions &gt; 11. Thus, I did the following things for TMCBeans to function correctly.</p>\n<ol>\n<li>Download <em>exactly</em> AdoptOpenJDK11 for your OS, open development environment for Java 11, from <a href=\"https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">the archives</a>.</li>\n<li>Try launching TMCBeans again.</li>\n<li>If you're still facing issues, try following the instructions of this <a href=\"https://www.reddit.com/r/learnjava/comments/oufbxi/tmcbeans_crashes_on_startup/\" rel=\"nofollow noreferrer\">Reddit post's first comment</a>.</li>\n</ol>\n"}],"owner":{"account_id":20095457,"reputation":41,"user_id":14735090,"display_name":"Santhoshi Mirra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9574,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1690975722,"creation_date":1639163009,"question_id":70309275,"body_markdown":"I&#39;m currently planning to learn Java through the MOOC course but I&#39;m unable to open the tmcbeans app after installation. I have tried reinstalling it but it does not seem to do anything. Any help would be much appreciated.\r\n\r\n\r\nThank you.","title":"TMCbeans does not open after installation","body":"<p>I'm currently planning to learn Java through the MOOC course but I'm unable to open the tmcbeans app after installation. I have tried reinstalling it but it does not seem to do anything. Any help would be much appreciated.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688833317,"post_id":76643790,"comment_id":135128416,"body_markdown":"What command are you using to run the application on k8s? Should be like `docker run -p 8080:8080 your-app`","body":"What command are you using to run the application on k8s? Should be like <code>docker run -p 8080:8080 your-app</code>"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1688835594,"post_id":76643790,"comment_id":135128673,"body_markdown":"@Mar-Z - given that for this I have executed into the pod to test I&#39;m not sure I understand how the docker port mappings would come into play - as it is a local request on the running container?","body":"@Mar-Z - given that for this I have executed into the pod to test I&#39;m not sure I understand how the docker port mappings would come into play - as it is a local request on the running container?"},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1688847183,"post_id":76643790,"comment_id":135129900,"body_markdown":"Show your kubernetes manifests","body":"Show your kubernetes manifests"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1688906665,"post_id":76643790,"comment_id":135134414,"body_markdown":"Hi @Thomas - I&#39;ve added a sanitised pod manifest. Note I&#39;ve cut out other containers that make up the statefulset and left just the one in question.","body":"Hi @Thomas - I&#39;ve added a sanitised pod manifest. Note I&#39;ve cut out other containers that make up the statefulset and left just the one in question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688914359,"post_id":76643790,"comment_id":135135300,"body_markdown":"Your pod config contains port 80 not 8080.","body":"Your pod config contains port 80 not 8080."},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1688914838,"post_id":76643790,"comment_id":135135349,"body_markdown":"Hi @M.Deinum - I must be misunderstanding something. tomcat is listening on port 8080; and the request is curl http://localhost:8080/actuator and this command is run on the container itself. I may not even want to expose 8080 from outside the pod.","body":"Hi @M.Deinum - I must be misunderstanding something. tomcat is listening on port 8080; and the request is curl <a href=\"http://localhost:8080/actuator\" rel=\"nofollow noreferrer\">localhost:8080/actuator</a> and this command is run on the container itself. I may not even want to expose 8080 from outside the pod."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688915019,"post_id":76643790,"comment_id":135135380,"body_markdown":"Does it actually bind to `localhost` and not the external IP address?","body":"Does it actually bind to <code>localhost</code> and not the external IP address?"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1688920667,"post_id":76643790,"comment_id":135136148,"body_markdown":"Same result with 127.0.0.1:8080/actuator if that helps clarify things.","body":"Same result with 127.0.0.1:8080/actuator if that helps clarify things."},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1688931008,"post_id":76643790,"comment_id":135137363,"body_markdown":"Show your `my-app-configure-n-start.sh` script","body":"Show your <code>my-app-configure-n-start.sh</code> script"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1689239476,"post_id":76643790,"comment_id":135186205,"body_markdown":"Hi @Thomas - I&#39;ve added the script that starts on the background. Note it starts the app on the background - and the container command is to start the app; and then tail the outputted log file.","body":"Hi @Thomas - I&#39;ve added the script that starts on the background. Note it starts the app on the background - and the container command is to start the app; and then tail the outputted log file."},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1689244738,"post_id":76643790,"comment_id":135187322,"body_markdown":"Show the dockerfile to build the image","body":"Show the dockerfile to build the image"},{"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"score":0,"creation_date":1689249953,"post_id":76643790,"comment_id":135188458,"body_markdown":"@M.Deinum - btw in terms of your question about if tomcat binds to localhost and not to an external ip address. I see this output in the logs `Register host [localhost] at domain [null] for service [StandardService[Tomcat]]` from logger `org.apache.catalina.mapper.MapperListener` - does this answer your question?","body":"@M.Deinum - btw in terms of your question about if tomcat binds to localhost and not to an external ip address. I see this output in the logs <code>Register host [localhost] at domain [null] for service [StandardService[Tomcat]]</code> from logger <code>org.apache.catalina.mapper.MapperListener</code> - does this answer your question?"}],"answers":[{"tags":[],"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690974875,"creation_date":1690974875,"answer_id":76819313,"question_id":76643790,"body_markdown":"The root cause of this issue was that locally I was running *without* the otel agent where-as in the k8 deploy $APP_OTEL_AGENT_JAVA_COMMAND added the following to the java command:\r\n\r\n`-javaagent:/opt/lib/opentelemetry-javaagent.jar`\r\n\r\nThe version of otel used was 1.7.0 from 2021; and it interfered with tomcat/spring boot.\r\n\r\nUpgrading to latest otel 1.28.0 resolved the issue.","title":"A spring-boot embedded tomcat web app with actuator enabled gets 404 response from tomcat when deployed to kubernetes","body":"<p>The root cause of this issue was that locally I was running <em>without</em> the otel agent where-as in the k8 deploy $APP_OTEL_AGENT_JAVA_COMMAND added the following to the java command:</p>\n<p><code>-javaagent:/opt/lib/opentelemetry-javaagent.jar</code></p>\n<p>The version of otel used was 1.7.0 from 2021; and it interfered with tomcat/spring boot.</p>\n<p>Upgrading to latest otel 1.28.0 resolved the issue.</p>\n"}],"owner":{"account_id":3902502,"reputation":61,"user_id":3229969,"display_name":"skinnydan72"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690974875,"creation_date":1688831763,"question_id":76643790,"body_markdown":"I have an issue with a spring boot web application running in k8 that is not reproducible on my local dev running with exactly the same configuration - I get a 404 hitting http://localhost:8080/actuator only when running in k8.\r\n\r\nSummary of configuration:\r\n\r\n - spring-boot-starter version 2.7.10.\r\n - The only endpoints provided by the tomcat web server is the set of actuator endpoints.\r\n - On k8 java version is 1.8.0_345; local dev machine 1.8.0_151\r\n\r\n*application.yaml*\r\n```\r\nserver:\r\n  port: 8080\r\n  error:\r\n    whitelabel:\r\n      enabled: true\r\n    include-exception: true\r\n    include-message: always\r\n    include-binding-errors: always\r\n    include-stacktrace: always\r\n  servlet:\r\n    context-path: &#39;/&#39;\r\n\r\n\r\nlogging:\r\n  level:\r\n    org:\r\n      apache:\r\n        tomcat: DEBUG\r\n        catalina: DEBUG\r\n      springframework:\r\n        web:\r\n          filter:\r\n            CommonsRequestLoggingFilter: DEBUG\r\n\r\n# actuator\r\nmanagement:\r\n  endpoints:\r\n    enabled-by-default: true\r\n    web.exposure.include: &quot;*&quot;\r\n  endpoint:\r\n    shutdown.enabled: false\r\n    info.enabled: true\r\n\r\n\r\n\r\nhikariCP:\r\n  dataSourceClassName: com.microsoft.sqlserver.jdbc.SQLServerDataSource\r\n\r\nspring:\r\n  # Preferred JSON mapper to use for HTTP message conversion.\r\n  mvc.converters.preferred-json-mapper: gson\r\n  autoconfigure:\r\n    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n  datasource:\r\n    bet:\r\n      url: someserver\r\n      username: MSSQL_USER\r\n      password: MSSQL_PASS\r\n      hikari:\r\n        poolName: betHikariCP\r\n        maximum-pool-size: 5\r\n        connectionTimeout: 30000\r\n        idleTimeout: 600000\r\n        maxLifetime: 1800000\r\n```\r\n\r\nObserved behaviour:\r\n\r\n - running locally I can hit the actuator at localhost:8080/actuator but running the same configuration on kubernetes I get a  404 error message when I exec into the pod and run ```curl localhost:8080/actuator``` - *note this response is coming from Apache Tomcat/9.0.73*\r\n\r\n404 Response\r\n```\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;HTTP Status 404 â Not Found&lt;/title&gt;\r\n            &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;HTTP Status 404 â Not Found&lt;/h1&gt;\r\n            &lt;hr class=&quot;line&quot;/&gt;\r\n            &lt;p&gt;\r\n                &lt;b&gt;Type&lt;/b&gt; Status Report&lt;/p&gt;\r\n            &lt;p&gt;\r\n                &lt;b&gt;Description&lt;/b&gt; The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&lt;/p&gt;\r\n            &lt;hr class=&quot;line&quot;/&gt;\r\n            &lt;h3&gt;Apache Tomcat/9.0.73&lt;/h3&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n```\r\n - log output both locally and on kubernetes suggests\r\n     - tomcat starts and binds to port 8080 without error: ```Tomcat started on port(s): 8080 (http) with context path &#39;&#39;```\r\n     - the actuator endpoints are stood up. Logger ```org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver``` outputs ```Exposing 13 endpoint(s) beneath base path &#39;/actuator&#39;```\r\n     - I have configured ```CommonsRequestLoggingFilter``` that will log all requests; and locally this outputs a statement when I hit /actuator locally but it outputs nothing on kubernetes.\r\n\r\nOutput (local only - on k8 I get nothing):\r\n```\r\n2023-07-14 10:25:23.610 DEBUG PRE-REQUEST: GET /actuator]\r\n2023-07-14 10:25:23.656 DEBUG POST-REQUEST: GET /actuator]\r\n```\r\nNote also that I can put in a bad route locally e.g. actuatorxxx and I still get the PRE and POST log output and the 404 response I get locally is json not html:\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;Jul 14, 2023 10:31:03 AM&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No message available&quot;,\r\n    &quot;path&quot;: &quot;/actuatorxxx&quot;\r\n}\r\n```\r\n\r\n\r\n\r\nCommonsRequestLoggingFilter configuration\r\n```\r\n    @Bean\r\n    public CommonsRequestLoggingFilter logFilter() {\r\n        CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter();\r\n        filter.setIncludeQueryString(true);\r\n        filter.setIncludeHeaders(false);\r\n        filter.setBeforeMessagePrefix(&quot;PRE-REQUEST: &quot;);\r\n        filter.setAfterMessagePrefix(&quot;POST-REQUEST: &quot;);\r\n        return filter;\r\n    }\r\n```\r\n\r\n 1. tomcat/catalina debug logging, request logging, and configuring the server /error page to return stack trace etc is not giving any detail of why the route /actuator is not being resolved\r\n 2. neither is there any exception in the logs\r\n\r\nNote also as I exec into the pod and use curl I am fairly certain this isn&#39;t related ngnix/ingress config in k8.\r\n\r\nsanitised pod manifest extract\r\n```\r\nkind: Pod\r\napiVersion: v1\r\nmetadata:\r\n  name: my-app-sit-0\r\n  generateName: my-app-sit-\r\n  namespace: tdt-sit\r\n  uid: d7f346e1-cbd7-4543-b4df-6da61defedae\r\n  resourceVersion: &#39;1263848088&#39;\r\n  creationTimestamp: &#39;2023-07-08T14:18:33Z&#39;\r\n  labels:\r\n    app: my-app-sit\r\n    controller-revision-hash: my-app-sit-7d457f7dcb\r\n    release: my-app-sit\r\n    statefulset.kubernetes.io/pod-name: my-app-sit-0\r\n  annotations:\r\n    kubernetes.io/psp: eks.privileged\r\n    my-app.com/gitlab-project-id: &#39;6778&#39;\r\n    my-app.com/gitlab-project-url: https://gitlab.my-app.com./my-app-deploy\r\nspec:\r\n  volumes:\r\n    - name: aws-iam-token\r\n      projected:\r\n        sources:\r\n          - serviceAccountToken:\r\n              audience: sts.amazonaws.com\r\n              expirationSeconds: 86400\r\n              path: token\r\n        defaultMode: 420\r\n    - name: my-app-sit-mount\r\n      persistentVolumeClaim:\r\n        claimName: my-app-sit-mount-my-app-sit-0\r\n    - name: secret-my-app-bqsakeys\r\n      secret:\r\n        secretName: my-app-bqsakeys\r\n        defaultMode: 420\r\n    - name: kube-api-access-7gvf6\r\n      projected:\r\n        sources:\r\n          - serviceAccountToken:\r\n              expirationSeconds: 3607\r\n              path: token\r\n          - configMap:\r\n              name: kube-root-ca.crt\r\n              items:\r\n                - key: ca.crt\r\n                  path: ca.crt\r\n          - downwardAPI:\r\n              items:\r\n                - path: namespace\r\n                  fieldRef:\r\n                    apiVersion: v1\r\n                    fieldPath: metadata.namespace\r\n        defaultMode: 420\r\n  containers:\r\n    - name: my-app-container\r\n      image: &gt;-\r\n        someimage\r\n      command:\r\n        - /bin/bash\r\n        - &#39;-c&#39;\r\n      args:\r\n        - &gt;-\r\n          /opt/my-app-configure-n-start.sh &amp;&amp; tail -F\r\n          /opt/logs/my-app.log\r\n      ports:\r\n        - containerPort: 80\r\n          protocol: TCP\r\n      envFrom:\r\n        - secretRef:\r\n            name: my-app-credentials\r\n      resources:\r\n        limits:\r\n          memory: 4Gi\r\n        requests:\r\n          cpu: 500m\r\n          memory: 4Gi\r\n      volumeMounts:\r\n        - name: my-app-sit-mount\r\n          mountPath: /mnt\r\n        - name: kube-api-access-7gvf6\r\n          readOnly: true\r\n          mountPath: /var/run/secrets/kubernetes.io/serviceaccount\r\n        - name: aws-iam-token\r\n          readOnly: true\r\n          mountPath: /var/run/secrets/eks.amazonaws.com/serviceaccount\r\n      livenessProbe:\r\n        exec:\r\n          command:\r\n            - /bin/sh\r\n            - /opt/aux-scripts/my-app-liveness-check.sh\r\n            - &#39;8558&#39;\r\n        initialDelaySeconds: 180\r\n        timeoutSeconds: 5\r\n        periodSeconds: 10\r\n        successThreshold: 1\r\n        failureThreshold: 3\r\n      terminationMessagePath: /dev/termination-log\r\n      terminationMessagePolicy: File\r\n      imagePullPolicy: IfNotPresent\r\n      securityContext:\r\n        capabilities:\r\n          add:\r\n            - SYS_ADMIN\r\n            - DAC_READ_SEARCH\r\n  restartPolicy: Always\r\n  terminationGracePeriodSeconds: 30\r\n  dnsPolicy: ClusterFirst\r\n  serviceAccountName: my-app-sit\r\n  serviceAccount: my-app-sit\r\n  nodeName: ip-xxx-xxx-xxx-xxx.my-app-node\r\n  securityContext: {}\r\n  imagePullSecrets:\r\n    - name: regsecret\r\n  hostname: my-app-sit-0\r\n  subdomain: my-app-sit-svc\r\n```\r\n\r\napp-configure-n-start.sh script:\r\n```\r\n$APP_HOME/scripts/backgrounded-start &gt; /dev/null 2&gt; $APP_HOME/stderr.out &amp;\r\n```\r\nNote above runs the start script on background\r\n\r\nstart script:\r\n```\r\nJAVA_OPTS=&quot;$APP_OTEL_AGENT_JAVA_COMMAND \\\r\n                                  $APP_JVM_HEAP_MIN $APP_JVM_HEAP_MAX -Xloggc:$APP_HOME/logs/gc.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps\\\r\n                                  -XX:-PrintTenuringDistribution -XX:+PrintGCCause -XX:+PrintGCApplicationStoppedTime -XX:+UseGCLogFileRotation\\\r\n                                  -XX:NumberOfGCLogFiles=15 -XX:GCLogFileSize=2M -XX:+UseConcMarkSweepGC -XX:+HeapDumpOnOutOfMemoryError\\\r\n                                  -XX:HeapDumpPath=$APP_HOME/logs/ -XX:+DisableExplicitGC&quot;\r\n\r\nAKKA_CLASSPATH=&quot;$APP_HOME/lib/*:$APP_HOME/bin/*:$APP_HOME/config:$APP_HOME/lib/sigar/*:$APP_HOME/../*&quot;\r\n\r\njava $JAVA_OPTS -cp &quot;$AKKA_CLASSPATH&quot; -Dspring.profiles.active=&lt;active-profile&gt; au.com.my.app.akka.SpringApplication --spring.main.banner-mode=off\r\n```\r\n\r\nCan anyone suggest additional logging that I can add to illuminate what is going on? Or a possible cause?\r\n\r\n\r\n\r\n\r\n","title":"A spring-boot embedded tomcat web app with actuator enabled gets 404 response from tomcat when deployed to kubernetes","body":"<p>I have an issue with a spring boot web application running in k8 that is not reproducible on my local dev running with exactly the same configuration - I get a 404 hitting http://localhost:8080/actuator only when running in k8.</p>\n<p>Summary of configuration:</p>\n<ul>\n<li>spring-boot-starter version 2.7.10.</li>\n<li>The only endpoints provided by the tomcat web server is the set of actuator endpoints.</li>\n<li>On k8 java version is 1.8.0_345; local dev machine 1.8.0_151</li>\n</ul>\n<p><em>application.yaml</em></p>\n<pre><code>server:\n  port: 8080\n  error:\n    whitelabel:\n      enabled: true\n    include-exception: true\n    include-message: always\n    include-binding-errors: always\n    include-stacktrace: always\n  servlet:\n    context-path: '/'\n\n\nlogging:\n  level:\n    org:\n      apache:\n        tomcat: DEBUG\n        catalina: DEBUG\n      springframework:\n        web:\n          filter:\n            CommonsRequestLoggingFilter: DEBUG\n\n# actuator\nmanagement:\n  endpoints:\n    enabled-by-default: true\n    web.exposure.include: &quot;*&quot;\n  endpoint:\n    shutdown.enabled: false\n    info.enabled: true\n\n\n\nhikariCP:\n  dataSourceClassName: com.microsoft.sqlserver.jdbc.SQLServerDataSource\n\nspring:\n  # Preferred JSON mapper to use for HTTP message conversion.\n  mvc.converters.preferred-json-mapper: gson\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n  datasource:\n    bet:\n      url: someserver\n      username: MSSQL_USER\n      password: MSSQL_PASS\n      hikari:\n        poolName: betHikariCP\n        maximum-pool-size: 5\n        connectionTimeout: 30000\n        idleTimeout: 600000\n        maxLifetime: 1800000\n</code></pre>\n<p>Observed behaviour:</p>\n<ul>\n<li>running locally I can hit the actuator at localhost:8080/actuator but running the same configuration on kubernetes I get a  404 error message when I exec into the pod and run <code>curl localhost:8080/actuator</code> - <em>note this response is coming from Apache Tomcat/9.0.73</em></li>\n</ul>\n<p>404 Response</p>\n<pre><code>    &lt;html lang=&quot;en&quot;&gt;\n        &lt;head&gt;\n            &lt;title&gt;HTTP Status 404 â Not Found&lt;/title&gt;\n            &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\n        &lt;/head&gt;\n        &lt;body&gt;\n            &lt;h1&gt;HTTP Status 404 â Not Found&lt;/h1&gt;\n            &lt;hr class=&quot;line&quot;/&gt;\n            &lt;p&gt;\n                &lt;b&gt;Type&lt;/b&gt; Status Report&lt;/p&gt;\n            &lt;p&gt;\n                &lt;b&gt;Description&lt;/b&gt; The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&lt;/p&gt;\n            &lt;hr class=&quot;line&quot;/&gt;\n            &lt;h3&gt;Apache Tomcat/9.0.73&lt;/h3&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n<ul>\n<li>log output both locally and on kubernetes suggests\n<ul>\n<li>tomcat starts and binds to port 8080 without error: <code>Tomcat started on port(s): 8080 (http) with context path ''</code></li>\n<li>the actuator endpoints are stood up. Logger <code>org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver</code> outputs <code>Exposing 13 endpoint(s) beneath base path '/actuator'</code></li>\n<li>I have configured <code>CommonsRequestLoggingFilter</code> that will log all requests; and locally this outputs a statement when I hit /actuator locally but it outputs nothing on kubernetes.</li>\n</ul>\n</li>\n</ul>\n<p>Output (local only - on k8 I get nothing):</p>\n<pre><code>2023-07-14 10:25:23.610 DEBUG PRE-REQUEST: GET /actuator]\n2023-07-14 10:25:23.656 DEBUG POST-REQUEST: GET /actuator]\n</code></pre>\n<p>Note also that I can put in a bad route locally e.g. actuatorxxx and I still get the PRE and POST log output and the 404 response I get locally is json not html:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;Jul 14, 2023 10:31:03 AM&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No message available&quot;,\n    &quot;path&quot;: &quot;/actuatorxxx&quot;\n}\n</code></pre>\n<p>CommonsRequestLoggingFilter configuration</p>\n<pre><code>    @Bean\n    public CommonsRequestLoggingFilter logFilter() {\n        CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter();\n        filter.setIncludeQueryString(true);\n        filter.setIncludeHeaders(false);\n        filter.setBeforeMessagePrefix(&quot;PRE-REQUEST: &quot;);\n        filter.setAfterMessagePrefix(&quot;POST-REQUEST: &quot;);\n        return filter;\n    }\n</code></pre>\n<ol>\n<li>tomcat/catalina debug logging, request logging, and configuring the server /error page to return stack trace etc is not giving any detail of why the route /actuator is not being resolved</li>\n<li>neither is there any exception in the logs</li>\n</ol>\n<p>Note also as I exec into the pod and use curl I am fairly certain this isn't related ngnix/ingress config in k8.</p>\n<p>sanitised pod manifest extract</p>\n<pre><code>kind: Pod\napiVersion: v1\nmetadata:\n  name: my-app-sit-0\n  generateName: my-app-sit-\n  namespace: tdt-sit\n  uid: d7f346e1-cbd7-4543-b4df-6da61defedae\n  resourceVersion: '1263848088'\n  creationTimestamp: '2023-07-08T14:18:33Z'\n  labels:\n    app: my-app-sit\n    controller-revision-hash: my-app-sit-7d457f7dcb\n    release: my-app-sit\n    statefulset.kubernetes.io/pod-name: my-app-sit-0\n  annotations:\n    kubernetes.io/psp: eks.privileged\n    my-app.com/gitlab-project-id: '6778'\n    my-app.com/gitlab-project-url: https://gitlab.my-app.com./my-app-deploy\nspec:\n  volumes:\n    - name: aws-iam-token\n      projected:\n        sources:\n          - serviceAccountToken:\n              audience: sts.amazonaws.com\n              expirationSeconds: 86400\n              path: token\n        defaultMode: 420\n    - name: my-app-sit-mount\n      persistentVolumeClaim:\n        claimName: my-app-sit-mount-my-app-sit-0\n    - name: secret-my-app-bqsakeys\n      secret:\n        secretName: my-app-bqsakeys\n        defaultMode: 420\n    - name: kube-api-access-7gvf6\n      projected:\n        sources:\n          - serviceAccountToken:\n              expirationSeconds: 3607\n              path: token\n          - configMap:\n              name: kube-root-ca.crt\n              items:\n                - key: ca.crt\n                  path: ca.crt\n          - downwardAPI:\n              items:\n                - path: namespace\n                  fieldRef:\n                    apiVersion: v1\n                    fieldPath: metadata.namespace\n        defaultMode: 420\n  containers:\n    - name: my-app-container\n      image: &gt;-\n        someimage\n      command:\n        - /bin/bash\n        - '-c'\n      args:\n        - &gt;-\n          /opt/my-app-configure-n-start.sh &amp;&amp; tail -F\n          /opt/logs/my-app.log\n      ports:\n        - containerPort: 80\n          protocol: TCP\n      envFrom:\n        - secretRef:\n            name: my-app-credentials\n      resources:\n        limits:\n          memory: 4Gi\n        requests:\n          cpu: 500m\n          memory: 4Gi\n      volumeMounts:\n        - name: my-app-sit-mount\n          mountPath: /mnt\n        - name: kube-api-access-7gvf6\n          readOnly: true\n          mountPath: /var/run/secrets/kubernetes.io/serviceaccount\n        - name: aws-iam-token\n          readOnly: true\n          mountPath: /var/run/secrets/eks.amazonaws.com/serviceaccount\n      livenessProbe:\n        exec:\n          command:\n            - /bin/sh\n            - /opt/aux-scripts/my-app-liveness-check.sh\n            - '8558'\n        initialDelaySeconds: 180\n        timeoutSeconds: 5\n        periodSeconds: 10\n        successThreshold: 1\n        failureThreshold: 3\n      terminationMessagePath: /dev/termination-log\n      terminationMessagePolicy: File\n      imagePullPolicy: IfNotPresent\n      securityContext:\n        capabilities:\n          add:\n            - SYS_ADMIN\n            - DAC_READ_SEARCH\n  restartPolicy: Always\n  terminationGracePeriodSeconds: 30\n  dnsPolicy: ClusterFirst\n  serviceAccountName: my-app-sit\n  serviceAccount: my-app-sit\n  nodeName: ip-xxx-xxx-xxx-xxx.my-app-node\n  securityContext: {}\n  imagePullSecrets:\n    - name: regsecret\n  hostname: my-app-sit-0\n  subdomain: my-app-sit-svc\n</code></pre>\n<p>app-configure-n-start.sh script:</p>\n<pre><code>$APP_HOME/scripts/backgrounded-start &gt; /dev/null 2&gt; $APP_HOME/stderr.out &amp;\n</code></pre>\n<p>Note above runs the start script on background</p>\n<p>start script:</p>\n<pre><code>JAVA_OPTS=&quot;$APP_OTEL_AGENT_JAVA_COMMAND \\\n                                  $APP_JVM_HEAP_MIN $APP_JVM_HEAP_MAX -Xloggc:$APP_HOME/logs/gc.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps\\\n                                  -XX:-PrintTenuringDistribution -XX:+PrintGCCause -XX:+PrintGCApplicationStoppedTime -XX:+UseGCLogFileRotation\\\n                                  -XX:NumberOfGCLogFiles=15 -XX:GCLogFileSize=2M -XX:+UseConcMarkSweepGC -XX:+HeapDumpOnOutOfMemoryError\\\n                                  -XX:HeapDumpPath=$APP_HOME/logs/ -XX:+DisableExplicitGC&quot;\n\nAKKA_CLASSPATH=&quot;$APP_HOME/lib/*:$APP_HOME/bin/*:$APP_HOME/config:$APP_HOME/lib/sigar/*:$APP_HOME/../*&quot;\n\njava $JAVA_OPTS -cp &quot;$AKKA_CLASSPATH&quot; -Dspring.profiles.active=&lt;active-profile&gt; au.com.my.app.akka.SpringApplication --spring.main.banner-mode=off\n</code></pre>\n<p>Can anyone suggest additional logging that I can add to illuminate what is going on? Or a possible cause?</p>\n"},{"tags":["java","json","spring","rest"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690967259,"post_id":76818265,"comment_id":135425291,"body_markdown":"Remove `@Validated` from the controller, if it still persists, make sure you have the proper dependencies with the proper scope. Please add your pom.xml/build.gradle so we can see the dependencies.","body":"Remove <code>@Validated</code> from the controller, if it still persists, make sure you have the proper dependencies with the proper scope. Please add your pom.xml/build.gradle so we can see the dependencies."},{"owner":{"account_id":2058897,"reputation":95,"user_id":1835978,"accept_rate":75,"display_name":"Ricco E"},"score":0,"creation_date":1690973503,"post_id":76818265,"comment_id":135426612,"body_markdown":"Removing @Validated didn&#39;t change behavior, i have added the javax dependency. If you could be more specific i can add others as well, but i&#39;m not at liberty to show the whole file.","body":"Removing @Validated didn&#39;t change behavior, i have added the javax dependency. If you could be more specific i can add others as well, but i&#39;m not at liberty to show the whole file."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690974346,"post_id":76818265,"comment_id":135426790,"body_markdown":"THat is depedencyManagement not the dependencies section.","body":"THat is depedencyManagement not the dependencies section."}],"owner":{"account_id":2058897,"reputation":95,"user_id":1835978,"accept_rate":75,"display_name":"Ricco E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690974833,"creation_date":1690967100,"question_id":76818265,"body_markdown":"For a given rest endpoint that takes a json containing a list of documents as the request body we are trying to limit the amount of documents allowed per request. For this we have tried using the javax annotation @Size as follows:\r\n\r\nSpring version 5.3.27\r\nJava version 11.0.19\r\n\r\nThe header for the rest endpoint:\r\n```\r\n@Validated\r\n@Controller\r\npublic class DocumentListController {\r\n    @RequestMapping(value=&quot;/documents&quot;, method=RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json; charset=UTF-8&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public @ResponseBody RestDocumentList create(@PathVariable Long id, @RequestBody @Valid RestDocumentList restDocumentList) { ... }\r\n}\r\n```\r\n\r\nThe RestDocumentList class looks like the following:\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class RestDocumentList implements RestInterface {\r\n    private long id;\r\n\r\n    @Size(max = 25, message = &quot;A maximum of 25 documents are allowed per request.&quot;)\r\n    private List&lt;RestDocumentWrapper&gt; restDocumentWrappers = new ArrayList&lt;&gt;();\r\n\r\n    //getter and setters omitted\r\n}\r\n```\r\n\r\nThe json looks like this:\r\n```\r\n{\r\n\t&quot;id&quot;: 446606713,\r\n\t&quot;restDocumentWrappers&quot;: [\r\n\t\t{\r\n\t\t\t&quot;restDocument&quot;: {\r\n\t\t\t\t&quot;documentId&quot;: 1234,\r\n\t\t\t\t&quot;title&quot;: &quot;Document.pdf&quot;,\r\n\t\t\t\t&quot;contentSize&quot;: 1\r\n\t\t\t\t&quot;contentType&quot;: &quot;application/pdf&quot;\r\n\t\t\t},\r\n\t\t\t&quot;restDocumentContent&quot;: {\r\n\t\t\t\t&quot;content&quot;: &quot;...&quot;,\r\n\t\t\t\t&quot;contentType&quot;: &quot;application/pdf&quot;\r\n\t\t\t}\r\n\t\t},\r\n\t\t...\r\n\t]\r\n}\r\n```\r\n\r\nIf i run a unittest on the RestDocumentList class as follows it produces the expected result:\r\n```\r\n@RunWith(JUnit4.class)\r\npublic class TestValidation {\r\n    private Validator validator;\r\n\r\n    @Before\r\n    public void init() {\r\n        try (ValidatorFactory validatorFactory = Validation.byDefaultProvider().configure().messageInterpolator(new ParameterMessageInterpolator()).buildValidatorFactory()) {\r\n            this.validator = validatorFactory.getValidator();\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void testInvalidRestDocumentList() {\r\n        RestDocumentList restDocumentList = getInvalidDocumentList(); //Produces 30 documents\r\n        Set&lt;ConstraintViolation&lt;RestDocumentList&gt;&gt; violations = validator.validate(restDocumentList);\r\n        Assert.assertFalse(violations.isEmpty());\r\n        Assert.assertEquals(&quot;A maximum of 25 documents are allowed per request.&quot;, violations.stream().findFirst().get().getMessage());\r\n    }\r\n}\r\n```\r\n\r\npom.xml:\r\n```\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nWhen i hit the rest endpoint with Postman or a curl with a json containing more than 25 documents it will create all the documents in the system as if there were no limit.\r\n\r\nIf i add BindingResult to the rest endpoint no errors are reported:\r\n```\r\n@RequestMapping(value=&quot;/documents&quot;, method=RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json; charset=UTF-8&quot;)\r\n@ResponseStatus(HttpStatus.OK)\r\npublic @ResponseBody RestDocumentList create(@PathVariable Long id, @RequestBody @Valid RestDocumentList restDocumentList, BindingResult bindingResult) { \r\n    if (bindingResult.hasErrors()) {\r\n        throw new BadRequestException();\r\n    } \r\n}\r\n```\r\n\r\nSo my question would be, what am i missing? What do i need to add for the @Size constraint to result in a rejected request when exceeding the limit?","title":"Javax @Size constraint not applied on json request body","body":"<p>For a given rest endpoint that takes a json containing a list of documents as the request body we are trying to limit the amount of documents allowed per request. For this we have tried using the javax annotation @Size as follows:</p>\n<p>Spring version 5.3.27\nJava version 11.0.19</p>\n<p>The header for the rest endpoint:</p>\n<pre><code>@Validated\n@Controller\npublic class DocumentListController {\n    @RequestMapping(value=&quot;/documents&quot;, method=RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json; charset=UTF-8&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public @ResponseBody RestDocumentList create(@PathVariable Long id, @RequestBody @Valid RestDocumentList restDocumentList) { ... }\n}\n</code></pre>\n<p>The RestDocumentList class looks like the following:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class RestDocumentList implements RestInterface {\n    private long id;\n\n    @Size(max = 25, message = &quot;A maximum of 25 documents are allowed per request.&quot;)\n    private List&lt;RestDocumentWrapper&gt; restDocumentWrappers = new ArrayList&lt;&gt;();\n\n    //getter and setters omitted\n}\n</code></pre>\n<p>The json looks like this:</p>\n<pre><code>{\n    &quot;id&quot;: 446606713,\n    &quot;restDocumentWrappers&quot;: [\n        {\n            &quot;restDocument&quot;: {\n                &quot;documentId&quot;: 1234,\n                &quot;title&quot;: &quot;Document.pdf&quot;,\n                &quot;contentSize&quot;: 1\n                &quot;contentType&quot;: &quot;application/pdf&quot;\n            },\n            &quot;restDocumentContent&quot;: {\n                &quot;content&quot;: &quot;...&quot;,\n                &quot;contentType&quot;: &quot;application/pdf&quot;\n            }\n        },\n        ...\n    ]\n}\n</code></pre>\n<p>If i run a unittest on the RestDocumentList class as follows it produces the expected result:</p>\n<pre><code>@RunWith(JUnit4.class)\npublic class TestValidation {\n    private Validator validator;\n\n    @Before\n    public void init() {\n        try (ValidatorFactory validatorFactory = Validation.byDefaultProvider().configure().messageInterpolator(new ParameterMessageInterpolator()).buildValidatorFactory()) {\n            this.validator = validatorFactory.getValidator();\n        }\n    }\n\n    @Test\n    public void testInvalidRestDocumentList() {\n        RestDocumentList restDocumentList = getInvalidDocumentList(); //Produces 30 documents\n        Set&lt;ConstraintViolation&lt;RestDocumentList&gt;&gt; violations = validator.validate(restDocumentList);\n        Assert.assertFalse(violations.isEmpty());\n        Assert.assertEquals(&quot;A maximum of 25 documents are allowed per request.&quot;, violations.stream().findFirst().get().getMessage());\n    }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n                &lt;version&gt;2.0.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>When i hit the rest endpoint with Postman or a curl with a json containing more than 25 documents it will create all the documents in the system as if there were no limit.</p>\n<p>If i add BindingResult to the rest endpoint no errors are reported:</p>\n<pre><code>@RequestMapping(value=&quot;/documents&quot;, method=RequestMethod.POST, consumes=&quot;application/json&quot;, produces=&quot;application/json; charset=UTF-8&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic @ResponseBody RestDocumentList create(@PathVariable Long id, @RequestBody @Valid RestDocumentList restDocumentList, BindingResult bindingResult) { \n    if (bindingResult.hasErrors()) {\n        throw new BadRequestException();\n    } \n}\n</code></pre>\n<p>So my question would be, what am i missing? What do i need to add for the @Size constraint to result in a rejected request when exceeding the limit?</p>\n"},{"tags":["java","weblogic","aspectj"],"comments":[{"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"score":0,"creation_date":1690998588,"post_id":76818973,"comment_id":135432420,"body_markdown":"Can you paste the whole exception?","body":"Can you paste the whole exception?"}],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-ÎÎ¨ÎÎÎÎ©Î"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690972094,"creation_date":1690972094,"question_id":76818973,"body_markdown":"I have a legacy application that used to work on WebLogic Server 10, Java 6. Now, our customer requires us to migrate this enterprise application to WLS14. We don&#39;t have source code for the application, only the jars and plenties of customer libraries. We are allowed to inspect/decompile source as we like.\r\n\r\nWe have to perform this migration by moving the exploded EAR and its libraries to WLS14, and possibily update incompatible libraries.\r\n\r\nSo far, we have upgraded spring-core from 3.2.5 to 4.0.9, and added querydsl 2.0.9. Spring 3 didn&#39;t like Java 8 classes (package asm threw error...) and querydsl, to which application is compiled against, was not included in the runtime of WLS14.\r\nWe haven&#39;t upgraded any other library in order to minimize impact and risk of regressions.\r\n\r\nWe have then identified another dead point when starting WLS14. The application fails to deploy because of an AOP-related `IllegalArgumentException`, specifically\r\n\r\n```\r\njava.lang.IllegalArgumentException: error at ::0 can&#39;t find referenced pointcut event\r\n        at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:315)\r\n```\r\n\r\nIt took us hours to investigate, and we are here after no conclusion.\r\n\r\nThere is a customer-private Java module (`acme-aspect.jar`) that contains a class `MarshallAspect`, that doens&#39;t extend any particular superclass, with methods\r\n\r\n```\r\n@Before(&quot;event(notice) &amp;&amp; !execution(* Object.*(..))&quot;)\r\npublic void enrich(JoinPoint jp, Notice notice) {\r\n...\r\n}\r\n\r\n@Pointcut(&quot;execution(* com.acme.notificator.dispatcher.business.NotificatorDispatcherServiceBusiness.marshall(com.acme.notificator.model.notice1.Notice)) &amp;&amp; !within(MarshallAspect) &amp;&amp; args(notice)&quot;)\r\npublic void event(Notice notice) {\r\n    //empty\r\n}\r\n\r\n```\r\n\r\nWe are struggling to understand, without access to source code (but we can decompile anything!!) or original **knowledge**, why did the application work seamlessly on WLS10 and now on WLS14 complains for an invalid AspectJ expression.\r\n\r\nWhat are we missing here?","title":"Legacy EAR application fails on WLS14 because of AspectJ &quot;event&quot; pointcut","body":"<p>I have a legacy application that used to work on WebLogic Server 10, Java 6. Now, our customer requires us to migrate this enterprise application to WLS14. We don't have source code for the application, only the jars and plenties of customer libraries. We are allowed to inspect/decompile source as we like.</p>\n<p>We have to perform this migration by moving the exploded EAR and its libraries to WLS14, and possibily update incompatible libraries.</p>\n<p>So far, we have upgraded spring-core from 3.2.5 to 4.0.9, and added querydsl 2.0.9. Spring 3 didn't like Java 8 classes (package asm threw error...) and querydsl, to which application is compiled against, was not included in the runtime of WLS14.\nWe haven't upgraded any other library in order to minimize impact and risk of regressions.</p>\n<p>We have then identified another dead point when starting WLS14. The application fails to deploy because of an AOP-related <code>IllegalArgumentException</code>, specifically</p>\n<pre><code>java.lang.IllegalArgumentException: error at ::0 can't find referenced pointcut event\n        at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:315)\n</code></pre>\n<p>It took us hours to investigate, and we are here after no conclusion.</p>\n<p>There is a customer-private Java module (<code>acme-aspect.jar</code>) that contains a class <code>MarshallAspect</code>, that doens't extend any particular superclass, with methods</p>\n<pre><code>@Before(&quot;event(notice) &amp;&amp; !execution(* Object.*(..))&quot;)\npublic void enrich(JoinPoint jp, Notice notice) {\n...\n}\n\n@Pointcut(&quot;execution(* com.acme.notificator.dispatcher.business.NotificatorDispatcherServiceBusiness.marshall(com.acme.notificator.model.notice1.Notice)) &amp;&amp; !within(MarshallAspect) &amp;&amp; args(notice)&quot;)\npublic void event(Notice notice) {\n    //empty\n}\n\n</code></pre>\n<p>We are struggling to understand, without access to source code (but we can decompile anything!!) or original <strong>knowledge</strong>, why did the application work seamlessly on WLS10 and now on WLS14 complains for an invalid AspectJ expression.</p>\n<p>What are we missing here?</p>\n"},{"tags":["java","spring-boot","spring-restcontroller"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690551018,"post_id":76788274,"comment_id":135373581,"body_markdown":"Because Spring has determined there is no valid mapping before it even gets to your controller code, and thus to your `sleep` call.","body":"Because Spring has determined there is no valid mapping before it even gets to your controller code, and thus to your <code>sleep</code> call."},{"owner":{"account_id":3145385,"reputation":883,"user_id":2659962,"display_name":"Akhilesh Pandey"},"score":0,"creation_date":1690553624,"post_id":76788274,"comment_id":135374213,"body_markdown":"Error code `405` means `&quot;Method Not Allowed&quot;`. This means that the HTTP method you are using (GET) is not supported by the server for the `URL `you&#39;re requesting. It&#39;s not related to the delay you have introduced using `Thread.sleep(5000)`.it&#39;s likely there&#39;s something else going wrong.Provide more details .","body":"Error code <code>405</code> means <code>&quot;Method Not Allowed&quot;</code>. This means that the HTTP method you are using (GET) is not supported by the server for the <code>URL </code>you&#39;re requesting. It&#39;s not related to the delay you have introduced using <code>Thread.sleep(5000)</code>.it&#39;s likely there&#39;s something else going wrong.Provide more details ."},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690553936,"post_id":76788274,"comment_id":135374302,"body_markdown":"Are you sure, you send GET from Postman?","body":"Are you sure, you send GET from Postman?"},{"owner":{"account_id":15220927,"reputation":29,"user_id":10982829,"display_name":"Abhilash Mangalan"},"score":0,"creation_date":1690645463,"post_id":76788274,"comment_id":135383969,"body_markdown":"Hi @WladimirDiskowski, yes","body":"Hi @WladimirDiskowski, yes"},{"owner":{"account_id":15220927,"reputation":29,"user_id":10982829,"display_name":"Abhilash Mangalan"},"score":0,"creation_date":1690780518,"post_id":76788274,"comment_id":135395322,"body_markdown":"Hi @Developer, have added some updates under postman screen shot, Issue happens when it is accessed via gateway","body":"Hi @Developer, have added some updates under postman screen shot, Issue happens when it is accessed via gateway"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1690781009,"post_id":76788274,"comment_id":135395355,"body_markdown":"Check if your code is falling into the catch() block.  That might be the cause of your HTTP 405.  If so, consider either eliminating the try/catch block, or &quot;eating&quot; the exception by making the catch a no-op.","body":"Check if your code is falling into the catch() block.  That might be the cause of your HTTP 405.  If so, consider either eliminating the try/catch block, or &quot;eating&quot; the exception by making the catch a no-op."}],"answers":[{"tags":[],"owner":{"account_id":15220927,"reputation":29,"user_id":10982829,"display_name":"Abhilash Mangalan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690971753,"creation_date":1690971753,"answer_id":76818935,"question_id":76788274,"body_markdown":"Resolved this issue. It was because of the absence of time out configuration for Spring cloud gateway. Added below code.\r\n\r\n    @Bean\r\n    public ReactiveResilience4JCircuitBreakerFactory reactiveResilience4JCircuitBreakerFactory(\r\n    \t\t\tCircuitBreakerRegistry circuitBreakerRegistry) {\r\n    \t\tReactiveResilience4JCircuitBreakerFactory reactiveResilience4JCircuitBreakerFactory =\r\n    \t\t\t\tnew ReactiveResilience4JCircuitBreakerFactory();\r\n    \t\treactiveResilience4JCircuitBreakerFactory.configureCircuitBreakerRegistry(circuitBreakerRegistry);\r\n    \r\n    \t\tTimeLimiterConfig timeLimiterConfig = TimeLimiterConfig.custom()\r\n    \t\t\t\t.timeoutDuration(Duration.ofSeconds(10)).cancelRunningFuture(true)\r\n    \t\t\t\t.build();\r\n    \t\treactiveResilience4JCircuitBreakerFactory.configure(builder -&gt; builder.timeLimiterConfig(timeLimiterConfig)\r\n    \t\t\t\t.build(),&quot;userServiceCircuitBreaker&quot;,&quot;departmentServiceCircuitBreaker&quot;);\r\n    \t\treturn reactiveResilience4JCircuitBreakerFactory;\r\n    \t}","title":"Springboot - 405 error when there is 5 seconds sleep in RestController","body":"<p>Resolved this issue. It was because of the absence of time out configuration for Spring cloud gateway. Added below code.</p>\n<pre><code>@Bean\npublic ReactiveResilience4JCircuitBreakerFactory reactiveResilience4JCircuitBreakerFactory(\n            CircuitBreakerRegistry circuitBreakerRegistry) {\n        ReactiveResilience4JCircuitBreakerFactory reactiveResilience4JCircuitBreakerFactory =\n                new ReactiveResilience4JCircuitBreakerFactory();\n        reactiveResilience4JCircuitBreakerFactory.configureCircuitBreakerRegistry(circuitBreakerRegistry);\n\n        TimeLimiterConfig timeLimiterConfig = TimeLimiterConfig.custom()\n                .timeoutDuration(Duration.ofSeconds(10)).cancelRunningFuture(true)\n                .build();\n        reactiveResilience4JCircuitBreakerFactory.configure(builder -&gt; builder.timeLimiterConfig(timeLimiterConfig)\n                .build(),&quot;userServiceCircuitBreaker&quot;,&quot;departmentServiceCircuitBreaker&quot;);\n        return reactiveResilience4JCircuitBreakerFactory;\n    }\n</code></pre>\n"}],"owner":{"account_id":15220927,"reputation":29,"user_id":10982829,"display_name":"Abhilash Mangalan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76818935,"answer_count":1,"score":0,"last_activity_date":1690971753,"creation_date":1690550910,"question_id":76788274,"body_markdown":"I am using a RestController in Springboot application.\r\nin controller method I am putting Thread.sleep for 5 seconds. But when I try from PostMan, it shows 405 error right away, but after 5 seconds it is coming to conroller breakpoint. Same thing happens from client app also, not postman related. Anybody faced this situation ? I am stuck at this point. If sleep is removed, it works perfectly fine. Why it is not waiting for 5 second and throwing 405 right away.. Please help..\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        UserService userService;\r\n        \r\n    \r\n        @RequestMapping(value = &quot;/users&quot;, method = RequestMethod.GET)\r\n        public List&lt;User&gt; getAllUsers() {\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(&quot;In getAllUsers&quot;);\r\n            return userService.findAllUsers();\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7EoPB.png\r\n\r\n\r\nI am accessing the service through an API gate way and 9191 is the port. Please find the yaml for api gateway. This problem does not exist if I access the user service directly. Also not sure why it is showing 405, when sleep in user service and works perfectly without 405 in the absence of sleep.\r\n\r\n    eureka:\r\n      instance:\r\n        client:\r\n          serviceUrl:\r\n            defaultZone: http://localhost:8761/eureka/\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: &#39;*&#39;\r\n    server:\r\n      port: 9191\r\n    spring:\r\n      application:\r\n        name: API-GATEWAY\r\n      cloud:\r\n        gateway:\r\n          httpclient:\r\n            connect-timeout: 10000\r\n            response-timeout: 7s\r\n          routes:\r\n            -   filters:\r\n                  -   args:\r\n                        fallbackUri: forward:/fallback/userServiceFallback\r\n                        name: userServiceCircuitBreaker\r\n                      name: CircuitBreaker\r\n                id: USER-SERVICE\r\n                predicates:\r\n                  - Path=/user/*\r\n                uri: lb://USER-SERVICE\r\n      main:\r\n        web-application-type: reactive\r\n\r\n","title":"Springboot - 405 error when there is 5 seconds sleep in RestController","body":"<p>I am using a RestController in Springboot application.\nin controller method I am putting Thread.sleep for 5 seconds. But when I try from PostMan, it shows 405 error right away, but after 5 seconds it is coming to conroller breakpoint. Same thing happens from client app also, not postman related. Anybody faced this situation ? I am stuck at this point. If sleep is removed, it works perfectly fine. Why it is not waiting for 5 second and throwing 405 right away.. Please help..</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n\n    @Autowired\n    UserService userService;\n    \n\n    @RequestMapping(value = &quot;/users&quot;, method = RequestMethod.GET)\n    public List&lt;User&gt; getAllUsers() {\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(&quot;In getAllUsers&quot;);\n        return userService.findAllUsers();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7EoPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7EoPB.png\" alt=\"enter image description here\" /></a></p>\n<p>I am accessing the service through an API gate way and 9191 is the port. Please find the yaml for api gateway. This problem does not exist if I access the user service directly. Also not sure why it is showing 405, when sleep in user service and works perfectly without 405 in the absence of sleep.</p>\n<pre><code>eureka:\n  instance:\n    client:\n      serviceUrl:\n        defaultZone: http://localhost:8761/eureka/\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: '*'\nserver:\n  port: 9191\nspring:\n  application:\n    name: API-GATEWAY\n  cloud:\n    gateway:\n      httpclient:\n        connect-timeout: 10000\n        response-timeout: 7s\n      routes:\n        -   filters:\n              -   args:\n                    fallbackUri: forward:/fallback/userServiceFallback\n                    name: userServiceCircuitBreaker\n                  name: CircuitBreaker\n            id: USER-SERVICE\n            predicates:\n              - Path=/user/*\n            uri: lb://USER-SERVICE\n  main:\n    web-application-type: reactive\n</code></pre>\n"},{"tags":["java","mockito","log4j2"],"answers":[{"tags":[],"owner":{"account_id":10247695,"reputation":64,"user_id":7562982,"display_name":"Jasvant Singh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1690736727,"creation_date":1690736727,"answer_id":76798833,"question_id":76798607,"body_markdown":"    @Override\r\n    public Level getLevel() {\r\n        if (level == null) {\r\n            level = Level.OFF; // LOG4J2-462, LOG4J2-465\r\n        }\r\n        return level;\r\n    }\r\nThe above code is found in org.apache.logging.log4j.core.impl.MutableLogEvent it is to workaround bugs LOG4J2-462 and LOG4J2-465 ","title":"Changed Logging Event Level in Appender","body":"<pre><code>@Override\npublic Level getLevel() {\n    if (level == null) {\n        level = Level.OFF; // LOG4J2-462, LOG4J2-465\n    }\n    return level;\n}\n</code></pre>\n<p>The above code is found in org.apache.logging.log4j.core.impl.MutableLogEvent it is to workaround bugs LOG4J2-462 and LOG4J2-465</p>\n"},{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690971507,"creation_date":1690971507,"answer_id":76818910,"question_id":76798607,"body_markdown":"As hinted by Jasvant, the problem with your code is that Log4j 2.x by default uses mutable objects (cf. [`ReusableMessage`](https://s.apache.org/1t5yy) and [`MutableLogEvent`](https://s.apache.org/bxfl8)). These objects are reset after usage, so `logEvent.level` in your code contains the value `null`.\r\n\r\nYou can solve this problem in two ways:\r\n - either you use [`ListAppender`](https://github.com/apache/logging-log4j2/blob/2.x/log4j-core-test/src/main/java/org/apache/logging/log4j/core/test/appender/ListAppender.java) from `log4j-core-test`, which stores **immutable** logging events in a list,\r\n - or you set the `log4j2.enableThreadlocals` to `false`, in which case all events will be immutable (cf. [system properties](https://logging.apache.org/log4j/2.x/manual/configuration.html#system-properties)).","title":"Changed Logging Event Level in Appender","body":"<p>As hinted by Jasvant, the problem with your code is that Log4j 2.x by default uses mutable objects (cf. <a href=\"https://s.apache.org/1t5yy\" rel=\"nofollow noreferrer\"><code>ReusableMessage</code></a> and <a href=\"https://s.apache.org/bxfl8\" rel=\"nofollow noreferrer\"><code>MutableLogEvent</code></a>). These objects are reset after usage, so <code>logEvent.level</code> in your code contains the value <code>null</code>.</p>\n<p>You can solve this problem in two ways:</p>\n<ul>\n<li>either you use <a href=\"https://github.com/apache/logging-log4j2/blob/2.x/log4j-core-test/src/main/java/org/apache/logging/log4j/core/test/appender/ListAppender.java\" rel=\"nofollow noreferrer\"><code>ListAppender</code></a> from <code>log4j-core-test</code>, which stores <strong>immutable</strong> logging events in a list,</li>\n<li>or you set the <code>log4j2.enableThreadlocals</code> to <code>false</code>, in which case all events will be immutable (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#system-properties\" rel=\"nofollow noreferrer\">system properties</a>).</li>\n</ul>\n"}],"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690971507,"creation_date":1690733464,"question_id":76798607,"body_markdown":"Unit under test:\r\n\r\n    package sample;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class App {\r\n       private static Logger logger = LoggerFactory.getLogger(App.class);\r\n    \r\n       public void doSomething() {\r\n          logger.error(&quot;Cannot do something&quot;);\r\n       }\r\n    }\r\n\r\n\r\nI understand asserting on logger statements on unit under test is not good practice.\r\nWould like to understand why the following code which does just that\r\n\r\n    package sample;\r\n\r\n    import org.apache.logging.log4j.Level;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.core.Appender;\r\n    import org.apache.logging.log4j.core.LogEvent;\r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.ArgumentCaptor;\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.mockito.Mockito.*;\r\n    \r\n    public class TestApp {\r\n    \r\n      @Test\r\n      public void testDoSomething() {\r\n        App app = new App();\r\n    \r\n        Appender mockedAppender = mock(Appender.class);\r\n        when(mockedAppender.getName()).thenReturn(&quot;MockAppender&quot;);\r\n        when(mockedAppender.isStarted()).thenReturn(true);\r\n        when(mockedAppender.isStopped()).thenReturn(false);\r\n        ArgumentCaptor&lt;LogEvent&gt;  logEventCaptor = ArgumentCaptor.forClass(LogEvent.class);\r\n        Logger appLogger = (Logger)LogManager.getLogger(App.class);\r\n        appLogger.addAppender(mockedAppender);\r\n        app.doSomething();\r\n    \r\n        verify(mockedAppender).append(logEventCaptor.capture());\r\n        LogEvent logEvent = logEventCaptor.getValue();\r\n        assertEquals(logEvent.getLevel(), Level.ERROR);\r\n    \r\n        appLogger.removeAppender(mockedAppender);\r\n      }\r\n    }\r\n\r\nhas logged event changed from ERROR to OFF on the\r\n\r\n    expected: &lt;OFF&gt; but was: &lt;ERROR&gt;\r\n    Expected :OFF\r\n    Actual   :ERROR\r\n    &lt;Click to see difference&gt;\r\n    \r\n    org.opentest4j.AssertionFailedError: expected: &lt;OFF&gt; but was: &lt;ERROR&gt;\r\n    \tat org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\r\n    \tat org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\r\n    \tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n    \tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\r\n\r\nadded appender.","title":"Changed Logging Event Level in Appender","body":"<p>Unit under test:</p>\n<pre><code>package sample;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class App {\n   private static Logger logger = LoggerFactory.getLogger(App.class);\n\n   public void doSomething() {\n      logger.error(&quot;Cannot do something&quot;);\n   }\n}\n</code></pre>\n<p>I understand asserting on logger statements on unit under test is not good practice.\nWould like to understand why the following code which does just that</p>\n<pre><code>package sample;\n\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.Appender;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.core.Logger;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.ArgumentCaptor;\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.*;\n\npublic class TestApp {\n\n  @Test\n  public void testDoSomething() {\n    App app = new App();\n\n    Appender mockedAppender = mock(Appender.class);\n    when(mockedAppender.getName()).thenReturn(&quot;MockAppender&quot;);\n    when(mockedAppender.isStarted()).thenReturn(true);\n    when(mockedAppender.isStopped()).thenReturn(false);\n    ArgumentCaptor&lt;LogEvent&gt;  logEventCaptor = ArgumentCaptor.forClass(LogEvent.class);\n    Logger appLogger = (Logger)LogManager.getLogger(App.class);\n    appLogger.addAppender(mockedAppender);\n    app.doSomething();\n\n    verify(mockedAppender).append(logEventCaptor.capture());\n    LogEvent logEvent = logEventCaptor.getValue();\n    assertEquals(logEvent.getLevel(), Level.ERROR);\n\n    appLogger.removeAppender(mockedAppender);\n  }\n}\n</code></pre>\n<p>has logged event changed from ERROR to OFF on the</p>\n<pre><code>expected: &lt;OFF&gt; but was: &lt;ERROR&gt;\nExpected :OFF\nActual   :ERROR\n&lt;Click to see difference&gt;\n\norg.opentest4j.AssertionFailedError: expected: &lt;OFF&gt; but was: &lt;ERROR&gt;\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\n    at org.junit.jupiter.api.AssertionUtils.failNotEqual(AssertionUtils.java:62)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n</code></pre>\n<p>added appender.</p>\n"},{"tags":["java","solr"],"answers":[{"tags":[],"owner":{"account_id":8890450,"reputation":491,"user_id":6637228,"accept_rate":100,"display_name":"Marek Bern&#225;d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690971393,"creation_date":1690971393,"answer_id":76818894,"question_id":76818409,"body_markdown":"It seems I found an answer, the issue is consulted several months ago here:\r\n\r\nhttps://issues.apache.org/jira/browse/SOLR-16668?jql=text%20~%20%22Http2SolrClient%20HttpFields%22\r\n\r\nSo `&quot;forcing all the jetty dependencies to a specific version&quot;` is working for this case:\r\n\r\n    dependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation group: &#39;org.apache.solr&#39;, name: &#39;solr-solrj&#39;, version: &#39;9+&#39;\r\n\timplementation group: &#39;org.eclipse.jetty.http2&#39;, name: &#39;http2-client&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty.http2&#39;, name: &#39;http2-common&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty.http2&#39;, name: &#39;http2-hpack&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty.http2&#39;, name: &#39;http2-http-client-transport&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-util&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-io&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-http&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-client&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-alpn-client&#39;, version: &#39;10.0.13&#39;\r\n\timplementation group: &#39;org.eclipse.jetty&#39;, name: &#39;jetty-alpn-java-client&#39;, version: &#39;10.0.13&#39;\r\n\t}\r\n\r\n`&quot; the problem I have with SolrJ 9.2.0 is caused somehow by Spring Boot, because they override the version of Jetty.&quot;`","title":"How to fix NoClassDefFoundError while using Http2SolrClient builder with solr 9+?","body":"<p>It seems I found an answer, the issue is consulted several months ago here:</p>\n<p><a href=\"https://issues.apache.org/jira/browse/SOLR-16668?jql=text%20%7E%20%22Http2SolrClient%20HttpFields%22\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/SOLR-16668?jql=text%20~%20%22Http2SolrClient%20HttpFields%22</a></p>\n<p>So <code>&quot;forcing all the jetty dependencies to a specific version&quot;</code> is working for this case:</p>\n<pre><code>dependencies {\nimplementation 'org.springframework.boot:spring-boot-starter'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\nimplementation group: 'org.apache.solr', name: 'solr-solrj', version: '9+'\nimplementation group: 'org.eclipse.jetty.http2', name: 'http2-client', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty.http2', name: 'http2-common', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty.http2', name: 'http2-hpack', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty.http2', name: 'http2-http-client-transport', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-util', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-io', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-http', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-client', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-alpn-client', version: '10.0.13'\nimplementation group: 'org.eclipse.jetty', name: 'jetty-alpn-java-client', version: '10.0.13'\n}\n</code></pre>\n<p><code>&quot; the problem I have with SolrJ 9.2.0 is caused somehow by Spring Boot, because they override the version of Jetty.&quot;</code></p>\n"}],"owner":{"account_id":8890450,"reputation":491,"user_id":6637228,"accept_rate":100,"display_name":"Marek Bern&#225;d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690971393,"creation_date":1690967909,"question_id":76818409,"body_markdown":"I am using `maven` with my project and this dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n      &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n      &lt;version&gt;9.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJava version: `17`\r\n\r\nSpringBootVersion: `2.7.13`\r\n\r\nUsage in code:\r\n\r\n    @Bean\r\n    public SolrClient solrClient() {\r\n      return new Http2SolrClient.Builder(host).build();\r\n    }\r\n\r\nI have the correct host working with `HttpSolrClient`(deprecated) but not with `Http2SolrClient`.\r\n\r\nBuild OK - Error on App run:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/http/HttpFields$Mutable\r\n\tat org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.&lt;init&gt; \r\n    (Http2SolrClient.java:992)\r\n\r\nI tried to add any version of `org.eclipse.jetty` - not helped.\r\n\r\nIn docs - version 9.2.0 should support Http2SolrClient: \r\nhttps://solr.apache.org/docs/9_2_0/solrj/org/apache/solr/client/solrj/impl/Http2SolrClient.html\r\n\r\nHow to correctly create a working Http2SolrClient?","title":"How to fix NoClassDefFoundError while using Http2SolrClient builder with solr 9+?","body":"<p>I am using <code>maven</code> with my project and this dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n  &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n  &lt;version&gt;9.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Java version: <code>17</code></p>\n<p>SpringBootVersion: <code>2.7.13</code></p>\n<p>Usage in code:</p>\n<pre><code>@Bean\npublic SolrClient solrClient() {\n  return new Http2SolrClient.Builder(host).build();\n}\n</code></pre>\n<p>I have the correct host working with <code>HttpSolrClient</code>(deprecated) but not with <code>Http2SolrClient</code>.</p>\n<p>Build OK - Error on App run:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/eclipse/jetty/http/HttpFields$Mutable\nat org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.&lt;init&gt; \n(Http2SolrClient.java:992)\n</code></pre>\n<p>I tried to add any version of <code>org.eclipse.jetty</code> - not helped.</p>\n<p>In docs - version 9.2.0 should support Http2SolrClient:\n<a href=\"https://solr.apache.org/docs/9_2_0/solrj/org/apache/solr/client/solrj/impl/Http2SolrClient.html\" rel=\"nofollow noreferrer\">https://solr.apache.org/docs/9_2_0/solrj/org/apache/solr/client/solrj/impl/Http2SolrClient.html</a></p>\n<p>How to correctly create a working Http2SolrClient?</p>\n"},{"tags":["java","maven","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1690420023,"post_id":76753079,"comment_id":135352725,"body_markdown":"This looks like a bug. Feel free to file an issue at https://issues.redhat.com/browse/WFMP. If not, I will tomorrow and have a look.","body":"This looks like a bug. Feel free to file an issue at <a href=\"https://issues.redhat.com/browse/WFMP\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/WFMP</a>. If not, I will tomorrow and have a look."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1690919735,"post_id":76753079,"comment_id":135419415,"body_markdown":"Sorry for the delay on this. I filed an issue for this https://issues.redhat.com/browse/WFMP-215. It&#39;s definitely a bug.","body":"Sorry for the delay on this. I filed an issue for this <a href=\"https://issues.redhat.com/browse/WFMP-215\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/WFMP-215</a>. It&#39;s definitely a bug."},{"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"score":0,"creation_date":1691335238,"post_id":76753079,"comment_id":135474771,"body_markdown":"I tried the feature pack and that worked, so I think a bit of documentation update would be enough instead of a bug?","body":"I tried the feature pack and that worked, so I think a bit of documentation update would be enough instead of a bug?"}],"answers":[{"tags":[],"owner":{"account_id":29143158,"reputation":36,"user_id":22325695,"display_name":"Bartosz Spyrko-Smietanko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690969784,"creation_date":1690969784,"answer_id":76818673,"question_id":76753079,"body_markdown":"I believe the configuration to provision a specific version of Wildfly would be:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;server-provisioning&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;provision&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;provisioning-dir&gt;${basedir}/target/wildfly&lt;/provisioning-dir&gt;\r\n                &lt;feature-packs&gt;\r\n                    &lt;feature-pack&gt;                        \r\n                       &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe):current/#27.0.0.Final&lt;/location&gt;\r\n                    &lt;/feature-pack&gt; \r\n                &lt;/feature-packs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\nOr using the feature pack Maven coordinates:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;server-provisioning&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;provision&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;provisioning-dir&gt;${basedir}/target/wildfly&lt;/provisioning-dir&gt;\r\n                &lt;feature-packs&gt;\r\n                    &lt;feature-pack&gt;\r\n                        &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;wildfly-galleon-pack&lt;/artifactId&gt;\r\n                        &lt;version&gt;29.0.0.Final&lt;/version&gt;\r\n                    &lt;/feature-pack&gt;\r\n                &lt;/feature-packs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n","title":"how to configure channel for wildfly-maven-plugin provision","body":"<p>I believe the configuration to provision a specific version of Wildfly would be:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;4.2.0.Final&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;server-provisioning&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;provision&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;provisioning-dir&gt;${basedir}/target/wildfly&lt;/provisioning-dir&gt;\n            &lt;feature-packs&gt;\n                &lt;feature-pack&gt;                        \n                   &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe):current/#27.0.0.Final&lt;/location&gt;\n                &lt;/feature-pack&gt; \n            &lt;/feature-packs&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>Or using the feature pack Maven coordinates:</p>\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;4.2.0.Final&lt;/version&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;server-provisioning&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;provision&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;phase&gt;compile&lt;/phase&gt;\n        &lt;configuration&gt;\n            &lt;provisioning-dir&gt;${basedir}/target/wildfly&lt;/provisioning-dir&gt;\n            &lt;feature-packs&gt;\n                &lt;feature-pack&gt;\n                    &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n                    &lt;artifactId&gt;wildfly-galleon-pack&lt;/artifactId&gt;\n                    &lt;version&gt;29.0.0.Final&lt;/version&gt;\n                &lt;/feature-pack&gt;\n            &lt;/feature-packs&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76818673,"answer_count":1,"score":0,"last_activity_date":1690969784,"creation_date":1690190787,"question_id":76753079,"body_markdown":"Going by the documentation here https://docs.wildfly.org/wildfly-maven-plugin/releases/4.2/provision-mojo.html and correlating it with Galleon blog over here https://www.mastertheboss.com/howto/jboss-config/provisioning-wildfly-with-galleon/ I was trying to provision a specific version for Wildfly using the `Wildfly-maven-plugin` like so \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;provision&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;provision&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;channels&gt;\r\n                        &lt;channel&gt;22.0/final&lt;/channel&gt;\r\n                    &lt;/channels&gt;\r\n                    &lt;provisioningDir&gt;${project.basedir}/local&lt;/provisioningDir&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI get the error \r\n\r\n``` Cannot find default setter in class org.wildfly.plugin.provision.ChannelConfiguration ```\r\n\r\nwhen I run the build. The documentation doesn&#39;t mention examples of how to use `channels` attribute nor examples of provisioning a specific version. How to get a spefici version when using this plugin?","title":"how to configure channel for wildfly-maven-plugin provision","body":"<p>Going by the documentation here <a href=\"https://docs.wildfly.org/wildfly-maven-plugin/releases/4.2/provision-mojo.html\" rel=\"nofollow noreferrer\">https://docs.wildfly.org/wildfly-maven-plugin/releases/4.2/provision-mojo.html</a> and correlating it with Galleon blog over here <a href=\"https://www.mastertheboss.com/howto/jboss-config/provisioning-wildfly-with-galleon/\" rel=\"nofollow noreferrer\">https://www.mastertheboss.com/howto/jboss-config/provisioning-wildfly-with-galleon/</a> I was trying to provision a specific version for Wildfly using the <code>Wildfly-maven-plugin</code> like so</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0.Final&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;provision&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;provision&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;channels&gt;\n                    &lt;channel&gt;22.0/final&lt;/channel&gt;\n                &lt;/channels&gt;\n                &lt;provisioningDir&gt;${project.basedir}/local&lt;/provisioningDir&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I get the error</p>\n<p><code>Cannot find default setter in class org.wildfly.plugin.provision.ChannelConfiguration</code></p>\n<p>when I run the build. The documentation doesn't mention examples of how to use <code>channels</code> attribute nor examples of provisioning a specific version. How to get a spefici version when using this plugin?</p>\n"},{"tags":["java","android","cordova","cordova-plugins"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690969278,"post_id":76817729,"comment_id":135425802,"body_markdown":"`which should get this path from the first function (e.g. /storage/BA4862GJI), ` Please. You should have started with that function.","body":"<code>which should get this path from the first function (e.g. &#47;storage&#47;BA4862GJI), </code> Please. You should have started with that function."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690969354,"post_id":76817729,"comment_id":135425819,"body_markdown":"`/storage/BA4862GJI)` No. A UUID will never look like that.","body":"<code>&#47;storage&#47;BA4862GJI)</code> No. A UUID will never look like that."},{"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"score":0,"creation_date":1690969667,"post_id":76817729,"comment_id":135425888,"body_markdown":"This function is working. Given path is just an example, don&#180;t know the precise uuid of the USB storage, I was able to locate it in Android Studio file tree, tested it with File rootFolder = new File(rootFolderPath); rootFolder.exists();, ... but rootFolder.canRead() returns false and when I tried to list files, I got AccessDeniedException.","body":"This function is working. Given path is just an example, don&#180;t know the precise uuid of the USB storage, I was able to locate it in Android Studio file tree, tested it with File rootFolder = new File(rootFolderPath); rootFolder.exists();, ... but rootFolder.canRead() returns false and when I tried to list files, I got AccessDeniedException."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690969489,"creation_date":1690969489,"answer_id":76818632,"question_id":76817729,"body_markdown":"You should get the path from `getExternalFilesDirs()`.\r\n\r\nAnd if that function does not deliver path to usb drive then you have to use SAF with `ACTION_OPEN_DOCUMENT_TREE` and let the user choose the drive.","title":"Cordova - Android - Find newest file on USB storage","body":"<p>You should get the path from <code>getExternalFilesDirs()</code>.</p>\n<p>And if that function does not deliver path to usb drive then you have to use SAF with <code>ACTION_OPEN_DOCUMENT_TREE</code> and let the user choose the drive.</p>\n"}],"owner":{"account_id":16215902,"reputation":21,"user_id":11708747,"display_name":"Majkl Dovi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690969489,"creation_date":1690962976,"question_id":76817729,"body_markdown":"I am writing a plugin for Android in Java. One function is to detect USB storage attach and return path to this USB storage. This code is working properly, but I have a problem with second function which should get this path from the first function (e.g. /storage/BA4862GJI), list all files in the root of this USB and return newest file with given extension (e.g. .txt). \r\nFrom Android 11 permission `MANAGE_EXTERNAL_STORAGE` is not enough anymore. Can you please guide me how to get proper permissions and get list of the files? The function to get all files with given extension goes like this:\r\n```\r\nprivate List&lt;File&gt; getFilesWithExtension(File directory, final String extension) {\r\n    try {\r\n        List&lt;File&gt; found =  Files.walk(directory.toPath(), 1)\r\n                .filter(p -&gt; {\r\n                    try {\r\n                        return Files.isRegularFile(p) &amp;&amp; Files.isReadable(p);\r\n                    } catch (Exception e) {\r\n                        return false;\r\n                    }\r\n                })\r\n                .filter(file -&gt; file.getFileName().toString().endsWith(extension))\r\n                .map(Path::toFile)\r\n                .collect(Collectors.toList());\r\n        return found;\r\n    } catch (IOException e) {\r\n        Log.e(&quot;USBManager&quot;, &quot;Failed to retrieve files with extension: &quot; + e.getMessage());\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\nThanks.","title":"Cordova - Android - Find newest file on USB storage","body":"<p>I am writing a plugin for Android in Java. One function is to detect USB storage attach and return path to this USB storage. This code is working properly, but I have a problem with second function which should get this path from the first function (e.g. /storage/BA4862GJI), list all files in the root of this USB and return newest file with given extension (e.g. .txt).\nFrom Android 11 permission <code>MANAGE_EXTERNAL_STORAGE</code> is not enough anymore. Can you please guide me how to get proper permissions and get list of the files? The function to get all files with given extension goes like this:</p>\n<pre><code>private List&lt;File&gt; getFilesWithExtension(File directory, final String extension) {\n    try {\n        List&lt;File&gt; found =  Files.walk(directory.toPath(), 1)\n                .filter(p -&gt; {\n                    try {\n                        return Files.isRegularFile(p) &amp;&amp; Files.isReadable(p);\n                    } catch (Exception e) {\n                        return false;\n                    }\n                })\n                .filter(file -&gt; file.getFileName().toString().endsWith(extension))\n                .map(Path::toFile)\n                .collect(Collectors.toList());\n        return found;\n    } catch (IOException e) {\n        Log.e(&quot;USBManager&quot;, &quot;Failed to retrieve files with extension: &quot; + e.getMessage());\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","maven","ubuntu","java-8","dependencies"],"comments":[{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":1,"creation_date":1513169540,"post_id":47793265,"comment_id":82547837,"body_markdown":"are you test this dependency `&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.istack&lt;/groupId&gt;\n    &lt;artifactId&gt;istack-commons-tools&lt;/artifactId&gt;\n    &lt;version&gt;3.0.5&lt;/version&gt;\n&lt;/dependency&gt;` ?","body":"are you test this dependency <code>&lt;dependency&gt;     &lt;groupId&gt;com.sun.istack&lt;&#47;groupId&gt;     &lt;artifactId&gt;istack-commons-tools&lt;&#47;artifactId&gt;     &lt;version&gt;3.0.5&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code> ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1513184168,"post_id":47793265,"comment_id":82557747,"body_markdown":"âbut they still not supply necessary oneââ¦ and they never will. Guess why the package name `com.sun.istack.internal` ends with *internal*.","body":"âbut they still not supply necessary oneââ¦ and they never will. Guess why the package name <code>com.sun.istack.internal</code> ends with <i>internal</i>."}],"answers":[{"tags":[],"owner":{"account_id":8052037,"reputation":862,"user_id":6070255,"display_name":"Aunmag"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1526746742,"creation_date":1526746742,"answer_id":50427240,"question_id":47793265,"body_markdown":"Try import `import org.jetbrains.annotations.Nullable` instead. It has the same you need for `@Nullable` annotation.\r\n\r\nThen add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;13.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Maven: package com.sun.istack.internal does not exist","body":"<p>Try import <code>import org.jetbrains.annotations.Nullable</code> instead. It has the same you need for <code>@Nullable</code> annotation.</p>\n\n<p>Then add this dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;13.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5981144,"reputation":170,"user_id":4700162,"accept_rate":50,"display_name":"faienz93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690968214,"creation_date":1690968214,"answer_id":76818457,"question_id":47793265,"body_markdown":"In my case, I had the problem because I have updated the Spring started parent to 3.X.X version and Java version 17. In this case, I resolved using `jakarta.validation.constraints.NotNull`","title":"Maven: package com.sun.istack.internal does not exist","body":"<p>In my case, I had the problem because I have updated the Spring started parent to 3.X.X version and Java version 17. In this case, I resolved using <code>jakarta.validation.constraints.NotNull</code></p>\n"}],"owner":{"account_id":6289243,"reputation":1529,"user_id":4887464,"accept_rate":100,"display_name":"Olga Pshenichnikova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17594,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":50427240,"answer_count":2,"score":6,"last_activity_date":1690968214,"creation_date":1513168753,"question_id":47793265,"body_markdown":"I have little maven project that uses com.sun.istack.internal.Nullable.  \r\nI tried both JDK 9 and 1.8, and still get error about package does not exists.\r\nI search for the package and find some: https://mvnrepository.com/search?q=+com.sun.istack but they still not supply necessary one.\r\n\r\nThe JAVA_HOME:\r\n\r\n    apshenichnikov@IAS-WS-UX02:~/NetBeansProjects/newlps$ echo $JAVA_HOME\r\n    /usr/local/java/jdk1.8.0_121/\r\n\r\nAnd JDK:\r\n\r\n    apshenichnikov@IAS-WS-UX02:~/NetBeansProjects/newlps$ sudo update-alternatives --config java\r\n    There are 4 choices for the alternative java (providing /usr/bin/java).\r\n    \r\n      Selection    Path                                     Priority   Status\r\n    ------------------------------------------------------------\r\n      0            /usr/lib/jvm/java-9-oracle/bin/java       1091      auto mode\r\n      1            /usr/lib/jvm/java-8-oracle/jre/bin/java   1081      manual mode\r\n      2            /usr/lib/jvm/java-9-oracle/bin/java       1091      manual mode\r\n    * 3            /usr/local/java/jdk1.8.0_121/             1         manual mode\r\n      4            /usr/local/java/jdk1.8.0_121/bin/java     1         manual mode\r\n    \r\n    Press &lt;enter&gt; to keep the current choice[*], or type selection number: \r\n\r\nAnd the POM.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;ru.beinteractive&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;newlps&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;newlps&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.externalsortinginjava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;externalsortinginjava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\t\t\t\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;\r\n    \t\t\t\t\t\t\t\t${project.build.directory}/libs\r\n    \t\t\t\t\t\t\t&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\t\t\t\r\n    \t\t&lt;/plugins&gt;\t\t\r\n    \t&lt;/build&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nI injected:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nInside the POM.xml\r\n\r\nAnd I still have compilation exception\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.286 s\r\n    [INFO] Finished at: 2017-12-13T15:28:45+03:00\r\n    [INFO] Final Memory: 20M/261M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.0:compile (default-compile) on project newlps: Compilation failure: Compilation failure:\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[3,31] package com.sun.istack.internal does not exist\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[3,31] package com.sun.istack.internal does not exist\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[36,74] cannot find symbol\r\n    [ERROR] symbol:   class Nullable\r\n    [ERROR] location: class su.ias.utils.ParamUtils\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[46,68] cannot find symbol\r\n    [ERROR] symbol:   class Nullable\r\n    [ERROR] location: class su.ias.utils.ParamUtils\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[19,36] cannot find symbol\r\n    [ERROR] symbol:   class Nullable\r\n    [ERROR] location: class su.ias.utils.StringUtils\r\n    [ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[45,6] cannot find symbol\r\n    [ERROR] symbol:   class Nullable\r\n    [ERROR] location: class su.ias.utils.StringUtils\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n","title":"Maven: package com.sun.istack.internal does not exist","body":"<p>I have little maven project that uses com.sun.istack.internal.Nullable.<br>\nI tried both JDK 9 and 1.8, and still get error about package does not exists.\nI search for the package and find some: <a href=\"https://mvnrepository.com/search?q=+com.sun.istack\" rel=\"noreferrer\">https://mvnrepository.com/search?q=+com.sun.istack</a> but they still not supply necessary one.</p>\n\n<p>The JAVA_HOME:</p>\n\n<pre><code>apshenichnikov@IAS-WS-UX02:~/NetBeansProjects/newlps$ echo $JAVA_HOME\n/usr/local/java/jdk1.8.0_121/\n</code></pre>\n\n<p>And JDK:</p>\n\n<pre><code>apshenichnikov@IAS-WS-UX02:~/NetBeansProjects/newlps$ sudo update-alternatives --config java\nThere are 4 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                     Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/java-9-oracle/bin/java       1091      auto mode\n  1            /usr/lib/jvm/java-8-oracle/jre/bin/java   1081      manual mode\n  2            /usr/lib/jvm/java-9-oracle/bin/java       1091      manual mode\n* 3            /usr/local/java/jdk1.8.0_121/             1         manual mode\n  4            /usr/local/java/jdk1.8.0_121/bin/java     1         manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: \n</code></pre>\n\n<p>And the POM.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ru.beinteractive&lt;/groupId&gt;\n    &lt;artifactId&gt;newlps&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;newlps&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.externalsortinginjava&lt;/groupId&gt;\n            &lt;artifactId&gt;externalsortinginjava&lt;/artifactId&gt;\n            &lt;version&gt;0.1.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;           \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;\n                                ${project.build.directory}/libs\n                            &lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;           \n        &lt;/plugins&gt;      \n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>I injected:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Inside the POM.xml</p>\n\n<p>And I still have compilation exception</p>\n\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.286 s\n[INFO] Finished at: 2017-12-13T15:28:45+03:00\n[INFO] Final Memory: 20M/261M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.0:compile (default-compile) on project newlps: Compilation failure: Compilation failure:\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[3,31] package com.sun.istack.internal does not exist\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[3,31] package com.sun.istack.internal does not exist\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[36,74] cannot find symbol\n[ERROR] symbol:   class Nullable\n[ERROR] location: class su.ias.utils.ParamUtils\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/ParamUtils.java:[46,68] cannot find symbol\n[ERROR] symbol:   class Nullable\n[ERROR] location: class su.ias.utils.ParamUtils\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[19,36] cannot find symbol\n[ERROR] symbol:   class Nullable\n[ERROR] location: class su.ias.utils.StringUtils\n[ERROR] /home/apshenichnikov/NetBeansProjects/newlps/src/main/java/su/ias/utils/StringUtils.java:[45,6] cannot find symbol\n[ERROR] symbol:   class Nullable\n[ERROR] location: class su.ias.utils.StringUtils\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n"},{"tags":["java","deb","jpackage"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690967951,"creation_date":1690967951,"answer_id":76818413,"question_id":76815249,"body_markdown":"Essentially the problem is that there&#39;s not nearly enough info to complete the task. Here&#39;s an (already pretty minimal) example that works for me:\r\n\r\n```\r\njpackage \\\r\n--dest /tmp/xcode/jpackage \\\r\n--type app-image \\\r\n--app-version &#39;1.0&#39; \\\r\n--copyright &#39;Copyright&#39; \\\r\n--description &#39;Description&#39; \\\r\n--name &#39;appname&#39; \\\r\n--vendor &#39;Vendor&#39; \\\r\n--runtime-image /tmp/xcode/jlink/runtime-image \\\r\n--module-path target/classes \\\r\n--module com.technojeeves.xcode/com.technojeeves.xcode.XCode \\\r\n--arguments &#39;--opt&#39; \\\r\n--java-options &#39;-Dfile.encoding=UTF-8 -Xms256m -Xmx512m&#39; \\\r\n--type deb\r\n```\r\nProbably best saved as a shell script that you can tweak","title":"jpackage - missing .jpackage.xml file","body":"<p>Essentially the problem is that there's not nearly enough info to complete the task. Here's an (already pretty minimal) example that works for me:</p>\n<pre><code>jpackage \\\n--dest /tmp/xcode/jpackage \\\n--type app-image \\\n--app-version '1.0' \\\n--copyright 'Copyright' \\\n--description 'Description' \\\n--name 'appname' \\\n--vendor 'Vendor' \\\n--runtime-image /tmp/xcode/jlink/runtime-image \\\n--module-path target/classes \\\n--module com.technojeeves.xcode/com.technojeeves.xcode.XCode \\\n--arguments '--opt' \\\n--java-options '-Dfile.encoding=UTF-8 -Xms256m -Xmx512m' \\\n--type deb\n</code></pre>\n<p>Probably best saved as a shell script that you can tweak</p>\n"}],"owner":{"account_id":4965829,"reputation":35,"user_id":3995206,"display_name":"Tunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76818413,"answer_count":1,"score":0,"last_activity_date":1690967951,"creation_date":1690924873,"question_id":76815249,"body_markdown":"I am an amateur so may not have the terminology correct!  I have followed instructions from a textbook to produce a modular, stripped down jre from a database application which uses a postgresql remote datbase and jdbc postgresql driver.  I followed the steps using jar, jmod, jdeps and jlink, and now have a release folder which contains a bin folder which contains a &#39;script shell&#39; from which I can launch the application.\r\nMy textbook details the final step (to produce .deb package) as (from the folder directly above the release folder):  \r\n```\r\njpackage --name MyInstaller --app-image ./release/\r\n```\r\nI get the following error: \r\n\r\n```\r\nError: Missing .jpackage.xml file in app-image dir &quot;./release&quot;\r\n\r\n```\r\nI have googled but have come up with nothing that solves it, although I did find a self-answered post on this site wherein the user did track down such an .xml file (but I can&#39;t find such a file anywhere).\r\n\r\nI am running an Ubuntu 20.04 Virtualbox VM and openjdk 20.0.2 (according to java -version).","title":"jpackage - missing .jpackage.xml file","body":"<p>I am an amateur so may not have the terminology correct!  I have followed instructions from a textbook to produce a modular, stripped down jre from a database application which uses a postgresql remote datbase and jdbc postgresql driver.  I followed the steps using jar, jmod, jdeps and jlink, and now have a release folder which contains a bin folder which contains a 'script shell' from which I can launch the application.\nMy textbook details the final step (to produce .deb package) as (from the folder directly above the release folder):</p>\n<pre><code>jpackage --name MyInstaller --app-image ./release/\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Error: Missing .jpackage.xml file in app-image dir &quot;./release&quot;\n\n</code></pre>\n<p>I have googled but have come up with nothing that solves it, although I did find a self-answered post on this site wherein the user did track down such an .xml file (but I can't find such a file anywhere).</p>\n<p>I am running an Ubuntu 20.04 Virtualbox VM and openjdk 20.0.2 (according to java -version).</p>\n"},{"tags":["java","regex","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690967727,"creation_date":1690967727,"answer_id":76818377,"question_id":76817907,"body_markdown":"To match a regex with a parameter type, the regex must match that of the parameter type. For example:\r\n\r\n\r\n```java\r\n@When(&quot;^The (abc|def|hgi) does whatever$&quot;)\r\npublic void testWhatever(Tester t) {\r\n    ...\r\n}\r\n\r\n@ParameterType(&quot;abc|def|hgi&quot;)\r\npublic Tester tester(String testerName) {\r\n    return Tester.valueOf(testerName);\r\n}\r\n```","title":"Cucumber+Java: A step Regex definition breaks association with @ParameterType","body":"<p>To match a regex with a parameter type, the regex must match that of the parameter type. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@When(&quot;^The (abc|def|hgi) does whatever$&quot;)\npublic void testWhatever(Tester t) {\n    ...\n}\n\n@ParameterType(&quot;abc|def|hgi&quot;)\npublic Tester tester(String testerName) {\n    return Tester.valueOf(testerName);\n}\n</code></pre>\n"}],"owner":{"account_id":312671,"reputation":287,"user_id":626877,"accept_rate":60,"display_name":"Lev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690967727,"creation_date":1690964388,"question_id":76817907,"body_markdown":"I use *Cucumber* to test the code in my *Java* project, all is developed and ran in *IntelliJ IDEA 2022.1.4 (Ultimate Edition)*.\r\n&lt;br/&gt;&lt;br/&gt;\r\nOriginaly, my test was defined using *Cucumber expressions* and worked fine with `@ParameterType`:\r\n\r\n    @When(&quot;The {tester} does whatever&quot;)\r\n    public void testWhatever(Tester t) {\r\n        ...\r\n    }\r\n\r\n    @ParameterType(&quot;abc|def|hgi&quot;)\r\n    public Tester tester(String testerName) {\r\n        return Tester.valueOf(testerName);\r\n    }\r\n\r\nThe test in this form works perfectly.\r\n\r\nThen further developing the test I had to switch the test definition to *Regex*, and the test definition took the following form:\r\n\r\n    @When(&quot;^The (?&#39;tester&#39;abc|def|hgi) does whatever$&quot;)\r\n    public void testWhatever(Tester t) {\r\n        ...\r\n    }\r\n\r\nNow the test does not work failing in runtime to convert the captured string to the required type.\r\n&lt;br/&gt;\r\nThe relevant nested exceptions in this case are:\r\n&lt;br/&gt;\r\n`Caused by: io.cucumber.cucumberexpressions.CucumberExpressionException: ParameterType {anonymous} failed to transform [abc] to interface com.acme.Tester`\r\n&lt;br/&gt;\r\n`Caused by: java.lang.IllegalArgumentException: Can&#39;t transform &#39;abc&#39; to interface com.acme.Tester\r\nBuiltInParameterTransformer only support a limited number of class types\r\nConsider using a different object mapper or register a parameter type for interface com.acme.Tester`\r\n\r\nIt seems that the association of my custom `ParameterType` with the data, which worked in *Cucumber expression* via `{tester}`, is broken in *Regex*.\r\n&lt;br/&gt;&lt;br/&gt;\r\nI have no more ideas what to try in order to make it work.\r\n&lt;br/&gt;\r\nI shall deeply appreciate any assistance from you guys.","title":"Cucumber+Java: A step Regex definition breaks association with @ParameterType","body":"<p>I use <em>Cucumber</em> to test the code in my <em>Java</em> project, all is developed and ran in <em>IntelliJ IDEA 2022.1.4 (Ultimate Edition)</em>.\n<br/><br/>\nOriginaly, my test was defined using <em>Cucumber expressions</em> and worked fine with <code>@ParameterType</code>:</p>\n<pre><code>@When(&quot;The {tester} does whatever&quot;)\npublic void testWhatever(Tester t) {\n    ...\n}\n\n@ParameterType(&quot;abc|def|hgi&quot;)\npublic Tester tester(String testerName) {\n    return Tester.valueOf(testerName);\n}\n</code></pre>\n<p>The test in this form works perfectly.</p>\n<p>Then further developing the test I had to switch the test definition to <em>Regex</em>, and the test definition took the following form:</p>\n<pre><code>@When(&quot;^The (?'tester'abc|def|hgi) does whatever$&quot;)\npublic void testWhatever(Tester t) {\n    ...\n}\n</code></pre>\n<p>Now the test does not work failing in runtime to convert the captured string to the required type.\n<br/>\nThe relevant nested exceptions in this case are:\n<br/>\n<code>Caused by: io.cucumber.cucumberexpressions.CucumberExpressionException: ParameterType {anonymous} failed to transform [abc] to interface com.acme.Tester</code>\n<br/>\n<code>Caused by: java.lang.IllegalArgumentException: Can't transform 'abc' to interface com.acme.Tester BuiltInParameterTransformer only support a limited number of class types Consider using a different object mapper or register a parameter type for interface com.acme.Tester</code></p>\n<p>It seems that the association of my custom <code>ParameterType</code> with the data, which worked in <em>Cucumber expression</em> via <code>{tester}</code>, is broken in <em>Regex</em>.\n<br/><br/>\nI have no more ideas what to try in order to make it work.\n<br/>\nI shall deeply appreciate any assistance from you guys.</p>\n"},{"tags":["java","spring-boot","apache-kafka","message-queue","apache-kafka-connect"],"owner":{"account_id":29032870,"reputation":1,"user_id":22239379,"display_name":"HIKARIZT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690967718,"creation_date":1690967633,"question_id":76818367,"body_markdown":"I used Kafka 2.5.1 before and the program ran well. Rencently, the version of Kafka has been changed to 3.4.0, and the Kafka server online is 2.8.1. Then, when I start the program, some exception info appears. \r\nAt the beginning, it shows that.\r\n\r\n```java\r\n2023-08-02 16:14:24.892  INFO 48784 --- [est,test1,test2] o.a.kafka.clients.FetchSessionHandler    : [Consumer clientId=consumer-sos2-1, groupId=sos2] Error sending fetch request (sessionId=INVALID, epoch=INITIAL) to node 101578:\r\norg.apache.kafka.common.errors.DisconnectException: null\r\n\r\nThen, about nine minutes passed, it shows that.\r\n2023-08-02 16:23:01.824  INFO 48784 --- [ad | producer-3] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-3] Node -1 disconnected.\r\n2023-08-02 16:23:06.216  INFO 48784 --- [est,test1,test2] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-sos2-1, groupId=sos2] Node -1 disconnected.\r\n2023-08-02 16:23:10.299  INFO 48784 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\r\n2023-08-02 16:23:10.844  INFO 48784 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Node -1 disconnected.\r\n```\r\nHowever, when I see the Kafka Server, the connection still works. The message can be received and sended by my program correctly. It just show some exception info but didnt affect the function of my program. I am afraid that some problems may happen in the future. Why does these info appear at the beginning.\r\n\r\nWhen I change the Kafka version to 2.5.1, these info disapper, but the version must be 3.4.0 due to some reasons. I guess these info appear due to the version difference. I hope someone can give some help!","title":"Kafka: org.apache.kafka.common.errors.DisconnectException: null &amp; Node -1 disconnected","body":"<p>I used Kafka 2.5.1 before and the program ran well. Rencently, the version of Kafka has been changed to 3.4.0, and the Kafka server online is 2.8.1. Then, when I start the program, some exception info appears.\nAt the beginning, it shows that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-08-02 16:14:24.892  INFO 48784 --- [est,test1,test2] o.a.kafka.clients.FetchSessionHandler    : [Consumer clientId=consumer-sos2-1, groupId=sos2] Error sending fetch request (sessionId=INVALID, epoch=INITIAL) to node 101578:\norg.apache.kafka.common.errors.DisconnectException: null\n\nThen, about nine minutes passed, it shows that.\n2023-08-02 16:23:01.824  INFO 48784 --- [ad | producer-3] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-3] Node -1 disconnected.\n2023-08-02 16:23:06.216  INFO 48784 --- [est,test1,test2] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-sos2-1, groupId=sos2] Node -1 disconnected.\n2023-08-02 16:23:10.299  INFO 48784 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Node -1 disconnected.\n2023-08-02 16:23:10.844  INFO 48784 --- [ad | producer-2] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-2] Node -1 disconnected.\n</code></pre>\n<p>However, when I see the Kafka Server, the connection still works. The message can be received and sended by my program correctly. It just show some exception info but didnt affect the function of my program. I am afraid that some problems may happen in the future. Why does these info appear at the beginning.</p>\n<p>When I change the Kafka version to 2.5.1, these info disapper, but the version must be 3.4.0 due to some reasons. I guess these info appear due to the version difference. I hope someone can give some help!</p>\n"},{"tags":["java","redirect","spark-java"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690975144,"post_id":76818329,"comment_id":135426942,"body_markdown":"https://www.codingninjas.com/studio/library/page-redirection-in-jsp","body":"<a href=\"https://www.codingninjas.com/studio/library/page-redirection-in-jsp\" rel=\"nofollow noreferrer\">codingninjas.com/studio/library/page-redirection-in-jsp</a>"}],"owner":{"account_id":17304712,"reputation":11,"user_id":12533692,"display_name":"casetal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690967375,"creation_date":1690967375,"question_id":76818329,"body_markdown":"Can I make redirect from current page to google.com (for example)?\r\n\r\nI tried to use method *redirect* and *header* with **Location**. \r\n\r\nIs it possible to somehow implement a redirect to another website, or only path (/page1 -&gt; /page2)?","title":"Redirects to another site","body":"<p>Can I make redirect from current page to google.com (for example)?</p>\n<p>I tried to use method <em>redirect</em> and <em>header</em> with <strong>Location</strong>.</p>\n<p>Is it possible to somehow implement a redirect to another website, or only path (/page1 -&gt; /page2)?</p>\n"},{"tags":["java","hibernate","criteria"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1393425070,"post_id":22044364,"comment_id":33422368,"body_markdown":"Answer you provided is related to Criteria API, not HQL. Switch to Criteria api. Start with `session.createCriteria(Unit.class)`","body":"Answer you provided is related to Criteria API, not HQL. Switch to Criteria api. Start with <code>session.createCriteria(Unit.class)</code>"}],"answers":[{"tags":[],"owner":{"account_id":3979383,"reputation":944,"user_id":3281728,"accept_rate":60,"display_name":"mydoglixu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393426035,"creation_date":1393426035,"answer_id":22044843,"question_id":22044364,"body_markdown":"I don&#39;t know that IN would be the most appropriate in this case. Try an inner join to link up the tables:\r\n\r\n    SELECT * FROM Unit INNER JOIN Rate ON Rate.unit_id = Unit.id \r\n        WHERE Rate.user_id = 55\r\n\r\n","title":"Criteria (NOT IN)","body":"<p>I don't know that IN would be the most appropriate in this case. Try an inner join to link up the tables:</p>\n\n<pre><code>SELECT * FROM Unit INNER JOIN Rate ON Rate.unit_id = Unit.id \n    WHERE Rate.user_id = 55\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690967196,"creation_date":1393426256,"answer_id":22044931,"question_id":22044364,"body_markdown":"Looking at your tag, I think you need the Criteria view of your SQL query; so assuming `Unit` and `Rate` classes:\r\n\r\n    // This is the subquery\r\n    DetachedCriteria subquery = DetachedCriteria.forClass(Rate.class)\r\n        .add(Restrictions.eq(&quot;user_id&quot;, 55))\r\n        .setProjection(Projections.id())\r\n    \r\n    // This corresponds to (SELECT * FROM Unit WHERE id not in (subquery))\r\n    Criteria criteria = session\r\n        .createCriteria(Unit.class)\r\n        .add(Subqueries.notIn(&quot;id&quot;, subquery));","title":"Criteria (NOT IN)","body":"<p>Looking at your tag, I think you need the Criteria view of your SQL query; so assuming <code>Unit</code> and <code>Rate</code> classes:</p>\n<pre><code>// This is the subquery\nDetachedCriteria subquery = DetachedCriteria.forClass(Rate.class)\n    .add(Restrictions.eq(&quot;user_id&quot;, 55))\n    .setProjection(Projections.id())\n\n// This corresponds to (SELECT * FROM Unit WHERE id not in (subquery))\nCriteria criteria = session\n    .createCriteria(Unit.class)\n    .add(Subqueries.notIn(&quot;id&quot;, subquery));\n</code></pre>\n"}],"owner":{"account_id":3372171,"reputation":1718,"user_id":2831157,"accept_rate":87,"display_name":"Yura Buyaroff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22044931,"answer_count":2,"score":0,"last_activity_date":1690967196,"creation_date":1393424871,"question_id":22044364,"body_markdown":"please, help me:\r\n\r\nI have next tables:\r\n\r\n**Unit**\r\n\r\n - id \r\n - name\r\n\r\n\r\n\r\n**User**\r\n\r\n - id \r\n - name\r\n\r\n\r\n\r\n**Rate**\r\n\r\n - unit_id\r\n - user_id\r\n\r\nI do not understand how to create correct structure of criteria from SQL:\r\n\r\nCode:\r\n\r\n    SELECT * FROM Unit WHERE id not in (SELECT unit_id FROM Rate WHERE user_id = 55);\r\n\r\nI saw [this][1] answer. But I do not understand how to make Condition linked to another Table (Entity).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12635404/hibernate-criteria-with-property-not-in-subquery","title":"Criteria (NOT IN)","body":"<p>please, help me:</p>\n\n<p>I have next tables:</p>\n\n<p><strong>Unit</strong></p>\n\n<ul>\n<li>id </li>\n<li>name</li>\n</ul>\n\n<p><strong>User</strong></p>\n\n<ul>\n<li>id </li>\n<li>name</li>\n</ul>\n\n<p><strong>Rate</strong></p>\n\n<ul>\n<li>unit_id</li>\n<li>user_id</li>\n</ul>\n\n<p>I do not understand how to create correct structure of criteria from SQL:</p>\n\n<p>Code:</p>\n\n<pre><code>SELECT * FROM Unit WHERE id not in (SELECT unit_id FROM Rate WHERE user_id = 55);\n</code></pre>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/12635404/hibernate-criteria-with-property-not-in-subquery\">this</a> answer. But I do not understand how to make Condition linked to another Table (Entity).</p>\n"},{"tags":["java","android","firebase","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":6192064,"reputation":174,"user_id":4824516,"display_name":"Ferenziz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690967085,"creation_date":1690967085,"answer_id":76818262,"question_id":72644633,"body_markdown":"Might be late to the party here but I had the same issue and there seems to be some conflicting references to the ListenableFuture class. Solved this by adding a &quot;direct&quot; reference to Kotlinx Coroutines Guava in gradle (app):\r\n\r\n    implementation (&quot;org.jetbrains.kotlinx:kotlinx-coroutines-guava:1.6.2&quot;)\r\n\r\nThis seems to solve the conflict by saying &quot;use ListenableFuture from this dependency&quot; ish. Hopefully this works for you as well!\r\n","title":"How to resolve error Cannot resolve &#39;ListenableFuture&#39; after adding com.google.gms:google-services:4.3.10","body":"<p>Might be late to the party here but I had the same issue and there seems to be some conflicting references to the ListenableFuture class. Solved this by adding a &quot;direct&quot; reference to Kotlinx Coroutines Guava in gradle (app):</p>\n<pre><code>implementation (&quot;org.jetbrains.kotlinx:kotlinx-coroutines-guava:1.6.2&quot;)\n</code></pre>\n<p>This seems to solve the conflict by saying &quot;use ListenableFuture from this dependency&quot; ish. Hopefully this works for you as well!</p>\n"}],"owner":{"account_id":1486568,"reputation":3471,"user_id":1394710,"accept_rate":60,"display_name":"HelloWorld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690967085,"creation_date":1655376655,"question_id":72644633,"body_markdown":"After adding com.google.gms:google-services below, I am getting an error that ListenableFuture cannot be found.\r\n\r\nI&#39;m using a method in a class in androidx.camera.lifecycle, which returns a ListenableFuture, so I&#39;m guessing &#39;com.google.gms:google-services:4.3.10&#39; and &quot;androidx.camera:camera-view:${camerax_version}&quot; are using conflicting versions of ListenableFuture.\r\n\r\nHow do I best resolve this?\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;com.google.gms:google-services:4.3.10&#39;\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n        implementation &#39;com.google.mlkit:barcode-scanning:17.0.2&#39;\r\n    \r\n        def camerax_version = &quot;1.2.0-alpha02&quot;\r\n    \r\n        implementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\r\n        implementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\r\n        implementation &quot;androidx.camera:camera-view:${camerax_version}&quot;\r\n    \r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.4.2&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.4.2&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }","title":"How to resolve error Cannot resolve &#39;ListenableFuture&#39; after adding com.google.gms:google-services:4.3.10","body":"<p>After adding com.google.gms:google-services below, I am getting an error that ListenableFuture cannot be found.</p>\n<p>I'm using a method in a class in androidx.camera.lifecycle, which returns a ListenableFuture, so I'm guessing 'com.google.gms:google-services:4.3.10' and &quot;androidx.camera:camera-view:${camerax_version}&quot; are using conflicting versions of ListenableFuture.</p>\n<p>How do I best resolve this?</p>\n<pre><code>dependencies {\n\n    implementation 'com.google.gms:google-services:4.3.10'\n\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'com.google.mlkit:barcode-scanning:17.0.2'\n\n    def camerax_version = &quot;1.2.0-alpha02&quot;\n\n    implementation &quot;androidx.camera:camera-camera2:${camerax_version}&quot;\n    implementation &quot;androidx.camera:camera-lifecycle:${camerax_version}&quot;\n    implementation &quot;androidx.camera:camera-view:${camerax_version}&quot;\n\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.4.2'\n    implementation 'androidx.navigation:navigation-ui:2.4.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n"},{"tags":["java","workflow","jbpm","activiti"],"answers":[{"tags":[],"owner":{"account_id":1042115,"reputation":1249,"user_id":1047937,"accept_rate":71,"display_name":"dgmora"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1358944587,"creation_date":1358944587,"answer_id":14479916,"question_id":14474294,"body_markdown":"This really depends on your requirements. First, see if you really need a workflow engine ([this][1] or other sources). Unless you really need it, probably you should avoid it.\r\n\r\nIf you really need what provides a workflow engine, I would pick one that is already built. People who works with jbpm or activiti have much more experience than you in building workflow engines, so it is probably already tunned to improve performance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2353564/what-problems-have-you-solved-using-a-workflow-engine","title":"Lightweight workflow engine for Java","body":"<p>This really depends on your requirements. First, see if you really need a workflow engine (<a href=\"https://stackoverflow.com/questions/2353564/what-problems-have-you-solved-using-a-workflow-engine\">this</a> or other sources). Unless you really need it, probably you should avoid it.</p>\n\n<p>If you really need what provides a workflow engine, I would pick one that is already built. People who works with jbpm or activiti have much more experience than you in building workflow engines, so it is probably already tunned to improve performance.</p>\n"},{"tags":[],"owner":{"account_id":385948,"reputation":4123,"user_id":743419,"display_name":"salaboy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359130101,"creation_date":1359130101,"answer_id":14525641,"question_id":14474294,"body_markdown":"Yes, in my perspective there is no reason why you should write your own. Most of the Open Source BPM/Workflow frameworks are extremely flexible, you just need to learn the basics. \r\nIf you choose jBPM you will get much more than a simple workflow engine, so it depends what are you trying to build.\r\n\r\nCheers","title":"Lightweight workflow engine for Java","body":"<p>Yes, in my perspective there is no reason why you should write your own. Most of the Open Source BPM/Workflow frameworks are extremely flexible, you just need to learn the basics. \nIf you choose jBPM you will get much more than a simple workflow engine, so it depends what are you trying to build.</p>\n\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1453374217,"creation_date":1360662174,"answer_id":14829534,"question_id":14474294,"body_markdown":"I agree with the guys that already posted responses here, or part of their responses anyway :P, but as here in the company where I am currently working we had a similar challenge I took the liberty of adding my opinion, based on our experience.\r\n\r\nWe needed to migrate an application that was using the jBPM workflow engine in a production related applications and as there were quite a few challenges in maintaining the application we decided to see if there are better options on the market. We came to the list already mentioned:\r\n\r\n - [Activiti][1] (planned to try it through a prototype)\r\n - [Bonita][2] (planned to try it through a prototype)  \r\n - [jBPM][3] (disqualified due to past experience)\r\n\r\nWe decided not to use jBPM anymore as our initial experience with it was not the best, besides this the backwards compatibility was broken with every new version that was released.\r\n\r\nFinally the solution that we used, was to develop a lightweight workflow engine, based on annotations having activities and processes as abstractions. It was more or less a state machine that did it&#39;s job.\r\n\r\nAnother point that is worth mentioning when discussing about workflow engine is the fact they are dependent on the backing DB - it was the case with the two workflow engines I have experience with ([SAG webMethods][4] and [jPBM][5]) - and from my experience that was a little bit of an overhead especially during migrations between versions.\r\n\r\nSo, I would say that using an workflow engine is entitled only for applications that would really benefit from it and where most of the workflow of the applications is spinning around the workflow itself otherwise there are better tools for the job:\r\n\r\n - wizards ([Spring Web Flow][6])\r\n - self built [state machines][7]\r\n\r\nRegarding state machines, I came across [this][8] response that contains a rather complete collection of state machine java frameworks.\r\n\r\n\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: http://www.activiti.org\r\n  [2]: http://www.bonitasoft.com\r\n  [3]: http://www.jboss.org/jbpm/\r\n  [4]: http://www.softwareag.com/corporate/products/wm/default.asp\r\n  [5]: http://www.jboss.org/jbpm/\r\n  [6]: http://projects.spring.io/spring-webflow/\r\n  [7]: http://en.wikipedia.org/wiki/Finite-state_machine\r\n  [8]: https://stackoverflow.com/questions/25581176/java-enum-based-state-machine-fsm-passing-in-events","title":"Lightweight workflow engine for Java","body":"<p>I agree with the guys that already posted responses here, or part of their responses anyway :P, but as here in the company where I am currently working we had a similar challenge I took the liberty of adding my opinion, based on our experience.</p>\n\n<p>We needed to migrate an application that was using the jBPM workflow engine in a production related applications and as there were quite a few challenges in maintaining the application we decided to see if there are better options on the market. We came to the list already mentioned:</p>\n\n<ul>\n<li><a href=\"http://www.activiti.org\" rel=\"noreferrer\">Activiti</a> (planned to try it through a prototype)</li>\n<li><a href=\"http://www.bonitasoft.com\" rel=\"noreferrer\">Bonita</a> (planned to try it through a prototype)  </li>\n<li><a href=\"http://www.jboss.org/jbpm/\" rel=\"noreferrer\">jBPM</a> (disqualified due to past experience)</li>\n</ul>\n\n<p>We decided not to use jBPM anymore as our initial experience with it was not the best, besides this the backwards compatibility was broken with every new version that was released.</p>\n\n<p>Finally the solution that we used, was to develop a lightweight workflow engine, based on annotations having activities and processes as abstractions. It was more or less a state machine that did it's job.</p>\n\n<p>Another point that is worth mentioning when discussing about workflow engine is the fact they are dependent on the backing DB - it was the case with the two workflow engines I have experience with (<a href=\"http://www.softwareag.com/corporate/products/wm/default.asp\" rel=\"noreferrer\">SAG webMethods</a> and <a href=\"http://www.jboss.org/jbpm/\" rel=\"noreferrer\">jPBM</a>) - and from my experience that was a little bit of an overhead especially during migrations between versions.</p>\n\n<p>So, I would say that using an workflow engine is entitled only for applications that would really benefit from it and where most of the workflow of the applications is spinning around the workflow itself otherwise there are better tools for the job:</p>\n\n<ul>\n<li>wizards (<a href=\"http://projects.spring.io/spring-webflow/\" rel=\"noreferrer\">Spring Web Flow</a>)</li>\n<li>self built <a href=\"http://en.wikipedia.org/wiki/Finite-state_machine\" rel=\"noreferrer\">state machines</a></li>\n</ul>\n\n<p>Regarding state machines, I came across <a href=\"https://stackoverflow.com/questions/25581176/java-enum-based-state-machine-fsm-passing-in-events\">this</a> response that contains a rather complete collection of state machine java frameworks.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":276319,"reputation":874,"user_id":569691,"accept_rate":20,"display_name":"Rohitdev"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1688843105,"creation_date":1400768739,"answer_id":23809642,"question_id":14474294,"body_markdown":"You can look @ Apache Ant to build a workflow engine.Its much more robust and is a pure state-machine with most of the requirements needed already built in.\r\n\r\nApart from that you can also embed different dynamic code/scripts in Java/Groovy/JS language and hence that makes it very powerful. Also it allows tasks extension.\r\n\r\nThere is some fair amount of tooling around it or you can build on top of it if a IDE is needed.\r\n\r\nUpdate : Spring state machine is also available which is relatively light weight and not bloated : https://projects.spring.io/spring-statemachine/","title":"Lightweight workflow engine for Java","body":"<p>You can look @ Apache Ant to build a workflow engine.Its much more robust and is a pure state-machine with most of the requirements needed already built in.</p>\n<p>Apart from that you can also embed different dynamic code/scripts in Java/Groovy/JS language and hence that makes it very powerful. Also it allows tasks extension.</p>\n<p>There is some fair amount of tooling around it or you can build on top of it if a IDE is needed.</p>\n<p>Update : Spring state machine is also available which is relatively light weight and not bloated : <a href=\"https://projects.spring.io/spring-statemachine/\" rel=\"nofollow noreferrer\">https://projects.spring.io/spring-statemachine/</a></p>\n"},{"tags":[],"owner":{"account_id":2769779,"reputation":1589,"user_id":2384597,"accept_rate":88,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1471391950,"creation_date":1442241247,"answer_id":32567493,"question_id":14474294,"body_markdown":"Java based workflow engines like Activiti, Bonita or jBPM support a wide range of the BPMN 2.0 specification. Therefore, you can model processes in a graphical way. In addition, some of those engines have simulation capabilities like Activiti (with Activiti Crystalball). If you code the processes on your own, you aren&#180;t as flexible when you need to change the process. Therefore, I would also advice to use a java based BPM engine. \r\n\r\nI did a research concerning BPMN 2.0 based Open Source Engines. Here are the key-points which were relevant for our concrete use case:\r\n\r\n**1. Bonita:**\r\n\r\nBonita has a zero-coding approach which means that they provide an easy to use IDE to build your processes without the need for coding. To achieve that, Bonita has the concept of connectors. For example, if you want to consume a web service, they provide you with a graphical wizzard. The downside is that you have to write the plain XML SOAP-envelope manually and copy it in a graphical textbox. The problem with this approach is that you only can realize use cases which are intended by Bonita. If you want to integrate a system which Bonita did not developed a connector for, you have to code such a connector on your own which is very painful. For example, Bonita offers a SOAP connector for consuming SOAP web services. This connector only works with SOAP 1.2, but not for SOAP 1.1 (http://community.bonitasoft.com/answers/consume-soap-11-webservices-bonita-secure-web-service-connector). If you have a legacy application with SOAP 1.1, you cannot integrate this system easily in your process. The same is true for databases. There are only a few database connectors for dedicated database versions. If you have a version not matching to a connector, you have to code this on your own.\r\n\r\nIn addition, Bonita has no support for LDAP or Active Directory Sync in the free community edition which is quite a showstopper for a production environment. Another thing to consider is that Bonita is licensed under the GPL / LGPL license which could cause problems when you want to integrate Bonita in another enterprise application. In addition, the community support is very weak. There are several posts which are more than 2 years old and those posts are still not answered.\r\n\r\nAnother important thing is Business-IT-Alignment. Modelling processes is a collaborative discipline in which IT AND the business analysts are involed. That is why you need adequate tools for both user groups (e.g. an Eclipse Plugin for the developers and an easy to use web modeler for the business people). Bonita only offers Bonita Studio, which needs to be installed on your machine. This IDE is quite technical and not suitable for business users. Therefore, it is very hard to realize Business-IT-Alignment with Bonita.\r\n\r\nBonita is a BPM tool for very trivial and easy processes. Because of the zero-coding approach, the lerning curve is very low and you can start modelling very fast. You need less programming skills and you are able to realize your processes without the need of coding. But as soon as your processes become very complex, Bonita might not be the best solution because of the lack of flexibility. You only can realize use cases which are intended by Bonita.\r\n\r\n**2. jBPM:**\r\n\r\njBPM is a very powerful Open Source BPM Engine which has a lot of features. The web modeler even supports prefabricated models of some van der Aalst workflow patterns (workflowpatterns.com). Business-IT-Alignment is realizable because jBPM offers an Eclipse integration as well as a web-based modeler. A bit tricky is that you only can define forms in the web modeler, but not in the Eclipse Plugin, as far as I know. To sum up, jBPM is a good candidate for using in a company. Our showstopper was the scalability. jBPM is based on the Rules-Engine Drools. This leads to the fact that whole process instances are persisted as BLOBS in the database. This is a critial showstopper when you consider searching and scalability.\r\n\r\nIn addition, the learning curve is very high because of the complexity. jBPM does not offer a Service Task like the BPMN-Standard suggests In contrast, you have to define your own Java Service tasks and you have to register them manually in the engine, which results in quite low level programming.\r\n\r\n**3. Activiti:**\r\n\r\nIn the end, we went with Activiti because this is a very easy to use framework-based engine. It offers an Eclipse Plugin as well as a modern AngularJS Web-Modeler. In this way, you can realize Business-IT-Alignment. The REST-API is secured by Spring Security which means that you can extend the Engine very easily with Single Sign-on features. Because of the Apache License 2.0, there is no copyleft which means you are completely free in terms of usage and extensibility which is very important in a productive environment.\r\n\r\nIn addition, the BPMN-coverage is very good. Not all BPMN-elements are realized, but I do not know any engine which does that.\r\n\r\nThe Activiti Explorer is a demo frontend which demonstrates the usage of the Activiti APIs. Since this frontend is based on VAADIN, it can be extended very easily. The community is very active which means that you can get help very fast if you have any problems.\r\n\r\nActiviti offers good integration points for external form-technologies which is very important for a productive usage. The form-technologies of all candidates are very restrictive. Therefore, it makes sense to use a standard form-technology like XForms in combination with the Engine. Even such more complex things are realizable via the formKey-Attribute.\r\n\r\nActiviti does not follow the zero-coding approach which means that you will need a bit of coding if you want to orchestrate services. But even the communication with SOAP services can be achieved by using a Java Service Task and Apache CXF. The coding effort is low.\r\n\r\nI hope that my key points can help by taking a decision. To be clear, this is no advertisment for Activiti. The right product choice depends on the concrete use cases. I only want to point out the most important points in our project","title":"Lightweight workflow engine for Java","body":"<p>Java based workflow engines like Activiti, Bonita or jBPM support a wide range of the BPMN 2.0 specification. Therefore, you can model processes in a graphical way. In addition, some of those engines have simulation capabilities like Activiti (with Activiti Crystalball). If you code the processes on your own, you arenÂ´t as flexible when you need to change the process. Therefore, I would also advice to use a java based BPM engine. </p>\n\n<p>I did a research concerning BPMN 2.0 based Open Source Engines. Here are the key-points which were relevant for our concrete use case:</p>\n\n<p><strong>1. Bonita:</strong></p>\n\n<p>Bonita has a zero-coding approach which means that they provide an easy to use IDE to build your processes without the need for coding. To achieve that, Bonita has the concept of connectors. For example, if you want to consume a web service, they provide you with a graphical wizzard. The downside is that you have to write the plain XML SOAP-envelope manually and copy it in a graphical textbox. The problem with this approach is that you only can realize use cases which are intended by Bonita. If you want to integrate a system which Bonita did not developed a connector for, you have to code such a connector on your own which is very painful. For example, Bonita offers a SOAP connector for consuming SOAP web services. This connector only works with SOAP 1.2, but not for SOAP 1.1 (<a href=\"http://community.bonitasoft.com/answers/consume-soap-11-webservices-bonita-secure-web-service-connector\" rel=\"noreferrer\">http://community.bonitasoft.com/answers/consume-soap-11-webservices-bonita-secure-web-service-connector</a>). If you have a legacy application with SOAP 1.1, you cannot integrate this system easily in your process. The same is true for databases. There are only a few database connectors for dedicated database versions. If you have a version not matching to a connector, you have to code this on your own.</p>\n\n<p>In addition, Bonita has no support for LDAP or Active Directory Sync in the free community edition which is quite a showstopper for a production environment. Another thing to consider is that Bonita is licensed under the GPL / LGPL license which could cause problems when you want to integrate Bonita in another enterprise application. In addition, the community support is very weak. There are several posts which are more than 2 years old and those posts are still not answered.</p>\n\n<p>Another important thing is Business-IT-Alignment. Modelling processes is a collaborative discipline in which IT AND the business analysts are involed. That is why you need adequate tools for both user groups (e.g. an Eclipse Plugin for the developers and an easy to use web modeler for the business people). Bonita only offers Bonita Studio, which needs to be installed on your machine. This IDE is quite technical and not suitable for business users. Therefore, it is very hard to realize Business-IT-Alignment with Bonita.</p>\n\n<p>Bonita is a BPM tool for very trivial and easy processes. Because of the zero-coding approach, the lerning curve is very low and you can start modelling very fast. You need less programming skills and you are able to realize your processes without the need of coding. But as soon as your processes become very complex, Bonita might not be the best solution because of the lack of flexibility. You only can realize use cases which are intended by Bonita.</p>\n\n<p><strong>2. jBPM:</strong></p>\n\n<p>jBPM is a very powerful Open Source BPM Engine which has a lot of features. The web modeler even supports prefabricated models of some van der Aalst workflow patterns (workflowpatterns.com). Business-IT-Alignment is realizable because jBPM offers an Eclipse integration as well as a web-based modeler. A bit tricky is that you only can define forms in the web modeler, but not in the Eclipse Plugin, as far as I know. To sum up, jBPM is a good candidate for using in a company. Our showstopper was the scalability. jBPM is based on the Rules-Engine Drools. This leads to the fact that whole process instances are persisted as BLOBS in the database. This is a critial showstopper when you consider searching and scalability.</p>\n\n<p>In addition, the learning curve is very high because of the complexity. jBPM does not offer a Service Task like the BPMN-Standard suggests In contrast, you have to define your own Java Service tasks and you have to register them manually in the engine, which results in quite low level programming.</p>\n\n<p><strong>3. Activiti:</strong></p>\n\n<p>In the end, we went with Activiti because this is a very easy to use framework-based engine. It offers an Eclipse Plugin as well as a modern AngularJS Web-Modeler. In this way, you can realize Business-IT-Alignment. The REST-API is secured by Spring Security which means that you can extend the Engine very easily with Single Sign-on features. Because of the Apache License 2.0, there is no copyleft which means you are completely free in terms of usage and extensibility which is very important in a productive environment.</p>\n\n<p>In addition, the BPMN-coverage is very good. Not all BPMN-elements are realized, but I do not know any engine which does that.</p>\n\n<p>The Activiti Explorer is a demo frontend which demonstrates the usage of the Activiti APIs. Since this frontend is based on VAADIN, it can be extended very easily. The community is very active which means that you can get help very fast if you have any problems.</p>\n\n<p>Activiti offers good integration points for external form-technologies which is very important for a productive usage. The form-technologies of all candidates are very restrictive. Therefore, it makes sense to use a standard form-technology like XForms in combination with the Engine. Even such more complex things are realizable via the formKey-Attribute.</p>\n\n<p>Activiti does not follow the zero-coding approach which means that you will need a bit of coding if you want to orchestrate services. But even the communication with SOAP services can be achieved by using a Java Service Task and Apache CXF. The coding effort is low.</p>\n\n<p>I hope that my key points can help by taking a decision. To be clear, this is no advertisment for Activiti. The right product choice depends on the concrete use cases. I only want to point out the most important points in our project</p>\n"},{"tags":[],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472508309,"creation_date":1472508309,"answer_id":39215903,"question_id":14474294,"body_markdown":"The question is what you really want to achieve when you asking for a workflow engine.\r\n\r\nThe general goal which you would like to achieve by using a workflow engine, is to become more flexible in changing your business logic during runtime. The modelling part is surely one of the most important here. BPMN 2.0 is a de-facto standard in this area and all of the discussed engines support this standard.\r\n\r\nThe second goal is to control the business process in the way of describing the *&#39;what should happen when...&#39;* questions. And this part has a lot to do with the business requirements you are confronted within your project.\r\n\r\nSome of the workflow engines ([Activity][1], [JBPM][2]) can help you to answer this requirement by &#39;coding&#39; your processes. This means that you model the *&#39;what should happen when..&#39;* paradigm in a way, where you decide which part of your code (e.g a task or an event) should be executed by the workflow engine in various situations. A lot of discussion is going about this concept. And developers naturally ask whether this may not even be implemented by themselves. (It is in fact not so easy as it seems at the first glance)\r\n\r\nSome other workflow engines ([Imixs-Workflow][3], [Bonita][4]) can help you to answer the *&#39;what should happen when...&#39;* requirement in a more user-centric way. This is the area of Human-centric business process management, which supports human skills and activities by a task orientated workflow-engine. The focus is more on the distribution of tasks and processes inside an organisation. The workflow engine helps you to distribute a task to a certain user or user group and to secure, log and monitor a long running business process. Maybe these are the things you do not really want to implement by yourself.\r\n\r\nSo my advice is, not to mix things that need to be considered separately, because workflow covers a very wide area.\r\n\r\n\r\n  [1]: http://www.activiti.org/\r\n  [2]: http://www.jbpm.org/\r\n  [3]: http://www.imixs.org\r\n  [4]: http://www.bonitasoft.com/","title":"Lightweight workflow engine for Java","body":"<p>The question is what you really want to achieve when you asking for a workflow engine.</p>\n\n<p>The general goal which you would like to achieve by using a workflow engine, is to become more flexible in changing your business logic during runtime. The modelling part is surely one of the most important here. BPMN 2.0 is a de-facto standard in this area and all of the discussed engines support this standard.</p>\n\n<p>The second goal is to control the business process in the way of describing the <em>'what should happen when...'</em> questions. And this part has a lot to do with the business requirements you are confronted within your project.</p>\n\n<p>Some of the workflow engines (<a href=\"http://www.activiti.org/\" rel=\"nofollow\">Activity</a>, <a href=\"http://www.jbpm.org/\" rel=\"nofollow\">JBPM</a>) can help you to answer this requirement by 'coding' your processes. This means that you model the <em>'what should happen when..'</em> paradigm in a way, where you decide which part of your code (e.g a task or an event) should be executed by the workflow engine in various situations. A lot of discussion is going about this concept. And developers naturally ask whether this may not even be implemented by themselves. (It is in fact not so easy as it seems at the first glance)</p>\n\n<p>Some other workflow engines (<a href=\"http://www.imixs.org\" rel=\"nofollow\">Imixs-Workflow</a>, <a href=\"http://www.bonitasoft.com/\" rel=\"nofollow\">Bonita</a>) can help you to answer the <em>'what should happen when...'</em> requirement in a more user-centric way. This is the area of Human-centric business process management, which supports human skills and activities by a task orientated workflow-engine. The focus is more on the distribution of tasks and processes inside an organisation. The workflow engine helps you to distribute a task to a certain user or user group and to secure, log and monitor a long running business process. Maybe these are the things you do not really want to implement by yourself.</p>\n\n<p>So my advice is, not to mix things that need to be considered separately, because workflow covers a very wide area.</p>\n"},{"tags":[],"owner":{"account_id":3213987,"reputation":315,"user_id":2713269,"accept_rate":78,"display_name":"Jan Guardian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493317755,"creation_date":1493317755,"answer_id":43665438,"question_id":14474294,"body_markdown":"I&#39;d recommend you yo use an out-of-the-box solution. Given that the development of a workflow engine requires a vast amount of resources and time, a ready-made engine is a better option. Have a look at [Workflow Engine][1]. It&#39;s a lightweight component that enables you to add custom executable workflows of any complexity to any Java solutions.\r\n\r\n\r\n  [1]: https://workflowengine.io/","title":"Lightweight workflow engine for Java","body":"<p>I'd recommend you yo use an out-of-the-box solution. Given that the development of a workflow engine requires a vast amount of resources and time, a ready-made engine is a better option. Have a look at <a href=\"https://workflowengine.io/\" rel=\"nofollow noreferrer\">Workflow Engine</a>. It's a lightweight component that enables you to add custom executable workflows of any complexity to any Java solutions.</p>\n"},{"tags":[],"owner":{"account_id":2424487,"reputation":3103,"user_id":2116739,"accept_rate":25,"display_name":"okrunner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499288525,"creation_date":1499288525,"answer_id":44935925,"question_id":14474294,"body_markdown":"I recently open sourced Piper (https://github.com/creactiviti/piper) a distributed and very light weight, Spring-based, workflow engine. ","title":"Lightweight workflow engine for Java","body":"<p>I recently open sourced Piper (<a href=\"https://github.com/creactiviti/piper\" rel=\"noreferrer\">https://github.com/creactiviti/piper</a>) a distributed and very light weight, Spring-based, workflow engine. </p>\n"},{"tags":[],"owner":{"account_id":2892394,"reputation":879,"user_id":2480869,"accept_rate":24,"display_name":"nomadus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511405919,"creation_date":1511405919,"answer_id":47446846,"question_id":14474294,"body_markdown":"I would like to add my comments. When you choose a ready engine, such as jBPM, Activity and others (there are plenty of them), then you have to spend some time learning the system itself, this may not be an easy task. Especially, when you need only to automate small piece of code.\r\n\r\nThen, when an issue occurs you have to deal with the vendor&#39;s support, which is not as speedy as you would imagine. Even pay for some consultancy. \r\n\r\nAnd, last, a most important reason, you have to develop in the ecosystem of the engine. Although, the vendors tend to say that their system are flexible to be incorporated into any systems, this may not be case. Eventually you end up re-writing your application to match with the BPM ecosystem.","title":"Lightweight workflow engine for Java","body":"<p>I would like to add my comments. When you choose a ready engine, such as jBPM, Activity and others (there are plenty of them), then you have to spend some time learning the system itself, this may not be an easy task. Especially, when you need only to automate small piece of code.</p>\n\n<p>Then, when an issue occurs you have to deal with the vendor's support, which is not as speedy as you would imagine. Even pay for some consultancy. </p>\n\n<p>And, last, a most important reason, you have to develop in the ecosystem of the engine. Although, the vendors tend to say that their system are flexible to be incorporated into any systems, this may not be case. Eventually you end up re-writing your application to match with the BPM ecosystem.</p>\n"},{"tags":[],"owner":{"account_id":3045329,"reputation":1501,"user_id":2581174,"accept_rate":71,"display_name":"Valsaraj Viswanathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586104475,"creation_date":1586104475,"answer_id":61045856,"question_id":14474294,"body_markdown":"CamundaBPM is one option.\r\nYou can check here:\r\nhttps://camunda.com/","title":"Lightweight workflow engine for Java","body":"<p>CamundaBPM is one option.\nYou can check here:\n<a href=\"https://camunda.com/\" rel=\"nofollow noreferrer\">https://camunda.com/</a></p>\n"},{"tags":[],"owner":{"account_id":13471718,"reputation":563,"user_id":9719998,"display_name":"Rajshree Rai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616659017,"creation_date":1616659017,"answer_id":66795277,"question_id":14474294,"body_markdown":"I also had to do the same in my work. I shortlisted Activiti, Camunda and jBPM as they&#39;re among the most powerful open source workflow engines in the industry and can handle complex enterprise processes. They&#39;re all under the terms of Apache License. \r\n\r\nActiviti was forked off jBPM while Camunda was forked off Activiti. \r\n\r\nIn terms of modeler, Activiti and jBPM have web based modelers and Camunda has a desktop modeler. Activiti and jBPM also provide Eclipse plugins while Camunda does not. Activiti and Camunda&#39;s modelers use the BPMN.IO toolkit. If you have a requirement to embed the workflow models in your webapp, you can checkout the following links \r\n - https://github.com/zeebe-io/zeebe-modeler/issues/127#issuecomment-541720686\r\n - https://docs.camunda.org/manual/latest/user-guide/process-engine/process-diagram-api/\r\n - https://bpmn.io/toolkit/bpmn-js/walkthrough/#viewer-pre-packaged\r\n\r\nIf you want spring support, your best bet is Camunda as Activiti mention in their docs that their Spring support is experimental and jBPM does not provide native spring support\r\n\r\n\r\nIn terms of developer friendliness, Activiti and Camunda have good documentation and active community to help you get started. I found Camunda&#39;s documentation really helpful. But, I&#39;ve heard jBPM&#39;s documentation is not helpful and that it is difficult to integrate.\r\n\r\nIn terms of performance, Camunda outruns Activiti and jBPM.\r\nThere is scientific evidence that the Camunda BPMN engine performs better than the Activiti engine. Camunda BPM 7 performs 10x better than JBoss jBPM 6. Hence, Camunda is the best choice from a performance view point.\r\n\r\nCamunda provides a higher BPMN coverage (almost full BPMN coverage) than Activiti. Contrary to Activiti and jBPM, Camunda has a robust persistence layer and provides advanced deadlock prevention. Whereas when using Activiti, intra process instance transactions still deadlock under high concurrency. \r\n\r\nCamunda BPM 7 strategically aims for âDeveloper-Friendlinessâ, whilst JBoss jBPM 6 strives for the âZero-Code-BPMâ-ideal. Camunda BPM 7 offers innovative, powerful features that are missing from JBoss jBPM 6 such as CMMN, cockpit and container-support. \r\n\r\nAs Camunda performs better than the two alternatives and has high usability, I recommend Camunda. \r\n\r\nI go the information through these sites, you can visit them\r\n\r\n- http://www.bpm-guide.de/2016/10/19/5-reasons-to-switch-from-activiti-to-camunda/\r\n- https://camunda.com/blog/2016/10/camunda-engine-since-activiti-fork/\r\n- https://www.javatpoint.com/jbpm-vs-activiti\r\n- https://assets.ctfassets.net/vpidbgnakfvf/1U7qZ7K1mMe2KC2yc6SKS4/baae9bf53217557638bee90ebba13442/Camunda_vs_JBoss_jBPM_EN.pdf\r\n- https://medium.com/capital-one-tech/comparing-and-contrasting-open-source-bpm-projects-196833f23391\r\n","title":"Lightweight workflow engine for Java","body":"<p>I also had to do the same in my work. I shortlisted Activiti, Camunda and jBPM as they're among the most powerful open source workflow engines in the industry and can handle complex enterprise processes. They're all under the terms of Apache License.</p>\n<p>Activiti was forked off jBPM while Camunda was forked off Activiti.</p>\n<p>In terms of modeler, Activiti and jBPM have web based modelers and Camunda has a desktop modeler. Activiti and jBPM also provide Eclipse plugins while Camunda does not. Activiti and Camunda's modelers use the BPMN.IO toolkit. If you have a requirement to embed the workflow models in your webapp, you can checkout the following links</p>\n<ul>\n<li><a href=\"https://github.com/zeebe-io/zeebe-modeler/issues/127#issuecomment-541720686\" rel=\"nofollow noreferrer\">https://github.com/zeebe-io/zeebe-modeler/issues/127#issuecomment-541720686</a></li>\n<li><a href=\"https://docs.camunda.org/manual/latest/user-guide/process-engine/process-diagram-api/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/latest/user-guide/process-engine/process-diagram-api/</a></li>\n<li><a href=\"https://bpmn.io/toolkit/bpmn-js/walkthrough/#viewer-pre-packaged\" rel=\"nofollow noreferrer\">https://bpmn.io/toolkit/bpmn-js/walkthrough/#viewer-pre-packaged</a></li>\n</ul>\n<p>If you want spring support, your best bet is Camunda as Activiti mention in their docs that their Spring support is experimental and jBPM does not provide native spring support</p>\n<p>In terms of developer friendliness, Activiti and Camunda have good documentation and active community to help you get started. I found Camunda's documentation really helpful. But, I've heard jBPM's documentation is not helpful and that it is difficult to integrate.</p>\n<p>In terms of performance, Camunda outruns Activiti and jBPM.\nThere is scientific evidence that the Camunda BPMN engine performs better than the Activiti engine. Camunda BPM 7 performs 10x better than JBoss jBPM 6. Hence, Camunda is the best choice from a performance view point.</p>\n<p>Camunda provides a higher BPMN coverage (almost full BPMN coverage) than Activiti. Contrary to Activiti and jBPM, Camunda has a robust persistence layer and provides advanced deadlock prevention. Whereas when using Activiti, intra process instance transactions still deadlock under high concurrency.</p>\n<p>Camunda BPM 7 strategically aims for âDeveloper-Friendlinessâ, whilst JBoss jBPM 6 strives for the âZero-Code-BPMâ-ideal. Camunda BPM 7 offers innovative, powerful features that are missing from JBoss jBPM 6 such as CMMN, cockpit and container-support.</p>\n<p>As Camunda performs better than the two alternatives and has high usability, I recommend Camunda.</p>\n<p>I go the information through these sites, you can visit them</p>\n<ul>\n<li><a href=\"http://www.bpm-guide.de/2016/10/19/5-reasons-to-switch-from-activiti-to-camunda/\" rel=\"nofollow noreferrer\">http://www.bpm-guide.de/2016/10/19/5-reasons-to-switch-from-activiti-to-camunda/</a></li>\n<li><a href=\"https://camunda.com/blog/2016/10/camunda-engine-since-activiti-fork/\" rel=\"nofollow noreferrer\">https://camunda.com/blog/2016/10/camunda-engine-since-activiti-fork/</a></li>\n<li><a href=\"https://www.javatpoint.com/jbpm-vs-activiti\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/jbpm-vs-activiti</a></li>\n<li><a href=\"https://assets.ctfassets.net/vpidbgnakfvf/1U7qZ7K1mMe2KC2yc6SKS4/baae9bf53217557638bee90ebba13442/Camunda_vs_JBoss_jBPM_EN.pdf\" rel=\"nofollow noreferrer\">https://assets.ctfassets.net/vpidbgnakfvf/1U7qZ7K1mMe2KC2yc6SKS4/baae9bf53217557638bee90ebba13442/Camunda_vs_JBoss_jBPM_EN.pdf</a></li>\n<li><a href=\"https://medium.com/capital-one-tech/comparing-and-contrasting-open-source-bpm-projects-196833f23391\" rel=\"nofollow noreferrer\">https://medium.com/capital-one-tech/comparing-and-contrasting-open-source-bpm-projects-196833f23391</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21637162,"reputation":129,"user_id":15959923,"display_name":"Mavic More"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683239990,"creation_date":1683232207,"answer_id":76177176,"question_id":14474294,"body_markdown":"I found one interesting to check using branching and conditions between nodes/states. I tried it and works perfectly, and is very lightweight. The only problem is that I cannot find it on maven central repo. https://github.com/francudina/Generic-Workflow-Architecture","title":"Lightweight workflow engine for Java","body":"<p>I found one interesting to check using branching and conditions between nodes/states. I tried it and works perfectly, and is very lightweight. The only problem is that I cannot find it on maven central repo. <a href=\"https://github.com/francudina/Generic-Workflow-Architecture\" rel=\"nofollow noreferrer\">https://github.com/francudina/Generic-Workflow-Architecture</a></p>\n"},{"tags":[],"owner":{"account_id":11737303,"reputation":320,"user_id":8590653,"display_name":"Julien Laurenceau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966959,"creation_date":1690966959,"answer_id":76818245,"question_id":14474294,"body_markdown":"EasyFlows seems very good, but the project seems idle since 3 years.\r\nIt&#39;s simple and does the job.\r\nNo DB needed as it is not a distributed framework\r\n\r\nhttps://github.com/j-easy/easy-flows","title":"Lightweight workflow engine for Java","body":"<p>EasyFlows seems very good, but the project seems idle since 3 years.\nIt's simple and does the job.\nNo DB needed as it is not a distributed framework</p>\n<p><a href=\"https://github.com/j-easy/easy-flows\" rel=\"nofollow noreferrer\">https://github.com/j-easy/easy-flows</a></p>\n"}],"owner":{"account_id":153624,"reputation":4457,"user_id":368999,"accept_rate":88,"display_name":"jaks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125420,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":14479916,"answer_count":13,"score":48,"last_activity_date":1690966959,"creation_date":1358925209,"question_id":14474294,"body_markdown":"Is it better to write a new workflow engine or to use an existing BPM engine: jBPM 5, Activiti 5?\r\n\r\nMy application is a web based application and performance is important. My doubt is whether using jBPM/Activiti will be a performance overhead compared to writing a simple workflow engine.\r\n\r\nIf I go with self implementation, I will miss visualization of workflow. For performance it can be traded.\r\n","title":"Lightweight workflow engine for Java","body":"<p>Is it better to write a new workflow engine or to use an existing BPM engine: jBPM 5, Activiti 5?</p>\n\n<p>My application is a web based application and performance is important. My doubt is whether using jBPM/Activiti will be a performance overhead compared to writing a simple workflow engine.</p>\n\n<p>If I go with self implementation, I will miss visualization of workflow. For performance it can be traded.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1690965211,"post_id":76817247,"comment_id":135424877,"body_markdown":"This model class is incomplete, I guess. Somwhere a static volatile field was defined. Please edit question to include your full source code you have as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), which can be compiled and tested by others.","body":"This model class is incomplete, I guess. Somwhere a static volatile field was defined. Please edit question to include your full source code you have as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"score":0,"creation_date":1690966989,"post_id":76817247,"comment_id":135425235,"body_markdown":"It is not incomplete. The only thing that changes from my real class is that I override toString method (I edited the  sample code to add it) and that getSomethingNotInDB() has another name and another return content. But I tried to run the Application without both methods and without the constructor with arguments, and the same exception is thrown.","body":"It is not incomplete. The only thing that changes from my real class is that I override toString method (I edited the  sample code to add it) and that getSomethingNotInDB() has another name and another return content. But I tried to run the Application without both methods and without the constructor with arguments, and the same exception is thrown."},{"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"score":0,"creation_date":1690967489,"post_id":76817247,"comment_id":135425351,"body_markdown":"What&#39;s more, I tried a simplifier class with only id field (no constructor declared, no other fields and methods) and the same exception is thrown","body":"What&#39;s more, I tried a simplifier class with only id field (no constructor declared, no other fields and methods) and the same exception is thrown"}],"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690966860,"creation_date":1690958843,"question_id":76817247,"body_markdown":"I am using Hibernate 6.2.7 and I&#39;m getting and Exception with this class mapping:\r\n```\r\n@Entity\r\n@Table(name=&quot;Departamento&quot;)\r\npublic class Departamento implements Modelo&lt;Departamento&gt;{\r\n\tprivate IntegerProperty id = new SimpleIntegerProperty();\r\n\tprivate StringProperty nombre = new SimpleStringProperty(&quot;&quot;);\r\n    public Departamento() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Departamento(Departamento departamento) {\r\n\t\tif(departamento != null) {\r\n\t\t\tsetId(departamento.getId());\r\n\t\t\tsetNombre(departamento.getNombre());\r\n\t\t}\r\n\t}\r\n\t@Id\r\n\t@GeneratedValue(generator=&quot;increment&quot;)\r\n\t@GenericGenerator(name = &quot;increment&quot;, type = IncrementGenerator.class)\r\n\tpublic int getId() {\r\n\t\treturn id.get();\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id.set(id);\r\n\t}\r\n\tpublic IntegerProperty idProperty() {\r\n\t\treturn id;\r\n\t}\r\n\t@Column(name=&quot;nombre&quot;)\r\n\tpublic String getNombre() {\r\n\t\treturn nombre.get();\r\n\t}\r\n\tpublic void setNombre(String nombre) {\r\n\t\tthis.nombre.set(nombre);\r\n\t}\r\n\tpublic StringProperty nombreProperty() {\r\n\t\treturn nombre;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn getNombre();\r\n\t}\t\r\n\t@Transient\r\n\tpublic String getSomethingNotInDB() {\r\n\t\treturn &quot;hello&quot;;\r\n\t}\r\n}\r\n```\r\nWhen running the application this Exception is thrown:\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.hibernate.MappingException: Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:103)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:75)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.processBootEntities(MappingMetamodelImpl.java:247)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:185)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.boot.internal.MetadataImpl.buildSessionFactory(MetadataImpl.java:205)\r\n\tat com.bachiller.calendario/com.bachiller.calendario.modules.CalendarioModule.&lt;init&gt;(CalendarioModule.java:74)\r\n\tat com.bachiller.calendario/com.bachiller.calendario.App.start(App.java:29)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field public static volatile java.util.concurrent.Callable com.bachiller.calendario.model.Departamento$HibernateAccessOptimizer$aSJtlre5.invocationTarget$eaok5k0 accessible: module com.bachiller.calendario does not &quot;exports com.bachiller.calendario.model&quot; to unnamed module @14a2f921\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat net.bytebuddy.utility.privilege.SetAccessibleAction.run(SetAccessibleAction.java:49)\r\n\tat net.bytebuddy.utility.privilege.SetAccessibleAction.run(SetAccessibleAction.java:28)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.doPrivileged(LoadedTypeInitializer.java)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:168)\r\n\tat net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\r\n\tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6317)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:146)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.getReflectionOptimizer(BytecodeProviderImpl.java:242)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.EntityRepresentationStrategyPojoStandard.resolveReflectionOptimizer(EntityRepresentationStrategyPojoStandard.java:293)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.EntityRepresentationStrategyPojoStandard.&lt;init&gt;(EntityRepresentationStrategyPojoStandard.java:161)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.ManagedTypeRepresentationResolverStandard.resolveStrategy(ManagedTypeRepresentationResolverStandard.java:62)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:509)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:140)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:92)\r\n\t... 18 more\r\nException running application com.bachiller.calendario.App\r\n```\r\n\r\nI tried to remove @Transient annotation, and the constructor with arguments but it seems they are not the problem.\r\nAny idea on why is this happening and how to solve it?\r\nThank you","title":"Hibernate Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister","body":"<p>I am using Hibernate 6.2.7 and I'm getting and Exception with this class mapping:</p>\n<pre><code>@Entity\n@Table(name=&quot;Departamento&quot;)\npublic class Departamento implements Modelo&lt;Departamento&gt;{\n    private IntegerProperty id = new SimpleIntegerProperty();\n    private StringProperty nombre = new SimpleStringProperty(&quot;&quot;);\n    public Departamento() {\n        \n    }\n    \n    public Departamento(Departamento departamento) {\n        if(departamento != null) {\n            setId(departamento.getId());\n            setNombre(departamento.getNombre());\n        }\n    }\n    @Id\n    @GeneratedValue(generator=&quot;increment&quot;)\n    @GenericGenerator(name = &quot;increment&quot;, type = IncrementGenerator.class)\n    public int getId() {\n        return id.get();\n    }\n    public void setId(int id) {\n        this.id.set(id);\n    }\n    public IntegerProperty idProperty() {\n        return id;\n    }\n    @Column(name=&quot;nombre&quot;)\n    public String getNombre() {\n        return nombre.get();\n    }\n    public void setNombre(String nombre) {\n        this.nombre.set(nombre);\n    }\n    public StringProperty nombreProperty() {\n        return nombre;\n    }\n    @Override\n    public String toString() {\n        return getNombre();\n    }   \n    @Transient\n    public String getSomethingNotInDB() {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>When running the application this Exception is thrown:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.hibernate.MappingException: Could not instantiate persister org.hibernate.persister.entity.SingleTableEntityPersister\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:103)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:75)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.processBootEntities(MappingMetamodelImpl.java:247)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:185)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.boot.internal.MetadataImpl.buildSessionFactory(MetadataImpl.java:205)\n    at com.bachiller.calendario/com.bachiller.calendario.modules.CalendarioModule.&lt;init&gt;(CalendarioModule.java:74)\n    at com.bachiller.calendario/com.bachiller.calendario.App.start(App.java:29)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field public static volatile java.util.concurrent.Callable com.bachiller.calendario.model.Departamento$HibernateAccessOptimizer$aSJtlre5.invocationTarget$eaok5k0 accessible: module com.bachiller.calendario does not &quot;exports com.bachiller.calendario.model&quot; to unnamed module @14a2f921\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at net.bytebuddy.utility.privilege.SetAccessibleAction.run(SetAccessibleAction.java:49)\n    at net.bytebuddy.utility.privilege.SetAccessibleAction.run(SetAccessibleAction.java:28)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.doPrivileged(LoadedTypeInitializer.java)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:168)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6317)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:146)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.getReflectionOptimizer(BytecodeProviderImpl.java:242)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.EntityRepresentationStrategyPojoStandard.resolveReflectionOptimizer(EntityRepresentationStrategyPojoStandard.java:293)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.EntityRepresentationStrategyPojoStandard.&lt;init&gt;(EntityRepresentationStrategyPojoStandard.java:161)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.metamodel.internal.ManagedTypeRepresentationResolverStandard.resolveStrategy(ManagedTypeRepresentationResolverStandard.java:62)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:509)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:140)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.hibernate.orm.core@6.2.7.Final/org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:92)\n    ... 18 more\nException running application com.bachiller.calendario.App\n</code></pre>\n<p>I tried to remove @Transient annotation, and the constructor with arguments but it seems they are not the problem.\nAny idea on why is this happening and how to solve it?\nThank you</p>\n"},{"tags":["java","hibernate","jpa-2.1","optimistic-locking"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1691528992,"post_id":76818205,"comment_id":135503407,"body_markdown":"can you share https://stackoverflow.com/help/minimal-reproducible-example","body":"can you share <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":7958430,"reputation":229,"user_id":6006943,"accept_rate":35,"display_name":"Fran&#231;ois F."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690966674,"creation_date":1690966674,"question_id":76818205,"body_markdown":"I&#39;ve got an issue with optimistic locking (Hibernate over JPA 2) with two entities relationship : \r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;produit&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class Produit extends AbstractData implements IdNomCode, VersionableEntity {\r\n    \r\n    @Id\r\n        @Column(name = &quot;id&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;produit&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;ProduitOrdreGroupementGaranties&gt; produitOrdreGroupementGaranties = new HashSet&lt;&gt;();\r\n    \r\n     @Version\r\n        private int version;\r\n    \r\n    }\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;produit_ordre_groupement_garanties&quot;,\r\n            uniqueConstraints = {@UniqueConstraint(name = &quot;uk_id_produit_id_groupement_garanties&quot;, columnNames = {&quot;id_produit&quot;, &quot;id_groupement_garanties&quot;}),\r\n                    @UniqueConstraint(name = &quot;uk_id_produit_ordre&quot;, columnNames = {&quot;id_produit&quot;, &quot;ordre&quot;})})\r\n    public class ProduitOrdreGroupementGaranties extends AbstractData implements VersionableEntity {\r\n    \r\n     @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n     @ManyToOne\r\n        @JoinColumn(name = &quot;id_produit&quot;, referencedColumnName = &quot;id&quot;, foreignKey = @ForeignKey(name = &quot;fk_produit_ordre_groupement_garanties_produit&quot;), insertable = false, updatable = false)\r\n        private Produit produit;\r\n    \r\n     @Version\r\n        private int version;\r\n    \r\n    }\r\n\r\nIf I do a instruction like : \r\n\r\n    myProduct.getProduitOrdreGroupementGaranties().remove(0);\r\n    productDAO.merge(myProduct);\r\n\r\nWhat it does, is that a silent SQL delete is done by Hibernate like this : \r\n\r\n    DELETE from produit_ordre_groupement_garanties where id = ? and version = ?\r\n\r\nWhat is OK, but the problem is that it doesn&#39;t care the version of the entity to delete, because it is always 0. I was expecting a code like this should work  :\r\n\r\n    ProduitOrdreGroupementGaranties toDelete = myProduct.getProduitOrdreGroupementGaranties().get(0);\r\n    toDelete.setVersion(Integer_MIN_VALUE) // a wrong version explicitly to cause CONFLICT!\r\n    myProduct.getProduitOrdreGroupementGaranties().remove(0);\r\n    productDAO.merge(myProduct); // The silent SQL delete, should set in the query version = Integer_MIN_VALUE instead of 0.\r\n\r\nBut It doesn&#39;t work more, version is always 0. JPA bug ?\r\n\r\nThx.","title":"JPA : Optimistic locking AND orphanRemoval = true , compatible?","body":"<p>I've got an issue with optimistic locking (Hibernate over JPA 2) with two entities relationship :</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;produit&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Produit extends AbstractData implements IdNomCode, VersionableEntity {\n\n@Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n@OneToMany(mappedBy = &quot;produit&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;ProduitOrdreGroupementGaranties&gt; produitOrdreGroupementGaranties = new HashSet&lt;&gt;();\n\n @Version\n    private int version;\n\n}\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;produit_ordre_groupement_garanties&quot;,\n        uniqueConstraints = {@UniqueConstraint(name = &quot;uk_id_produit_id_groupement_garanties&quot;, columnNames = {&quot;id_produit&quot;, &quot;id_groupement_garanties&quot;}),\n                @UniqueConstraint(name = &quot;uk_id_produit_ordre&quot;, columnNames = {&quot;id_produit&quot;, &quot;ordre&quot;})})\npublic class ProduitOrdreGroupementGaranties extends AbstractData implements VersionableEntity {\n\n @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n @ManyToOne\n    @JoinColumn(name = &quot;id_produit&quot;, referencedColumnName = &quot;id&quot;, foreignKey = @ForeignKey(name = &quot;fk_produit_ordre_groupement_garanties_produit&quot;), insertable = false, updatable = false)\n    private Produit produit;\n\n @Version\n    private int version;\n\n}\n</code></pre>\n<p>If I do a instruction like :</p>\n<pre><code>myProduct.getProduitOrdreGroupementGaranties().remove(0);\nproductDAO.merge(myProduct);\n</code></pre>\n<p>What it does, is that a silent SQL delete is done by Hibernate like this :</p>\n<pre><code>DELETE from produit_ordre_groupement_garanties where id = ? and version = ?\n</code></pre>\n<p>What is OK, but the problem is that it doesn't care the version of the entity to delete, because it is always 0. I was expecting a code like this should work  :</p>\n<pre><code>ProduitOrdreGroupementGaranties toDelete = myProduct.getProduitOrdreGroupementGaranties().get(0);\ntoDelete.setVersion(Integer_MIN_VALUE) // a wrong version explicitly to cause CONFLICT!\nmyProduct.getProduitOrdreGroupementGaranties().remove(0);\nproductDAO.merge(myProduct); // The silent SQL delete, should set in the query version = Integer_MIN_VALUE instead of 0.\n</code></pre>\n<p>But It doesn't work more, version is always 0. JPA bug ?</p>\n<p>Thx.</p>\n"},{"tags":["java","spring-boot","multithreading","thread-safety","google-cloud-pubsub"],"comments":[{"owner":{"account_id":317471,"reputation":157,"user_id":2892102,"display_name":"binboavetonik"},"score":0,"creation_date":1690981816,"post_id":76818196,"comment_id":135428462,"body_markdown":"who is setting this threadLocal variable","body":"who is setting this threadLocal variable"}],"owner":{"account_id":12377600,"reputation":565,"user_id":9024680,"display_name":"stackUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690966615,"creation_date":1690966615,"question_id":76818196,"body_markdown":"I had java scheduler based implementation to read gcp pubsub msg but then I changed the same to use gcp pubsub MessageReceiver to listen and read msg asynchronously.\r\n\r\n    \r\n// Class that implemented MessageReceiver contains code\r\n\r\n     @Override\r\n        public void receiveMessage( PubsubMessage message, AckReplyConsumer ackReplyConsumer ) {\r\n    \t\t//some code\r\n            processMsg( message, blobs, profiler, ackConsumer );\r\n        }\r\n    \t\t\r\n    \tprivate void processMsg( PubsubMessage message, Page&lt;Blob&gt; blobs, Profiler profiler, AckReplyConsumer ackConsumer ) {\r\n    \t\tsetContext(&quot;id&quot;);\r\n    \t}\r\n    \t\r\n    \t private void setContext( String id ) {\r\n    \t\tUserContext userContext = UserContext.getContext();\r\n    \t\t// when I change implementation to- use MessageReceiver instead of scheduler, I am getting userContext=null here;\r\n    \t }\r\n    \t \r\n\t \r\n//class\tUserContext{\r\n\t \r\n\t private static final ThreadLocal&lt;UserContext&gt; threadLocal = new ThreadLocal&lt;UserContext&gt;();\r\n\t \r\n\t public static UserContext getContext() {\r\n        try {\r\n            final UserContext userContext = threadLocal.get();\r\n            if ( null != userContext ) {\r\n                return (UserContext)userContext.clone();\r\n            }\r\n        } catch( CloneNotSupportedException e ) {\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nHow to get userContext=notNull when we call UserContext.getContext(). I am new to thread so not sure how to resolve this null pointer. ","title":"How to resolve null pointer exception while using pubsub MessageReceiver","body":"<p>I had java scheduler based implementation to read gcp pubsub msg but then I changed the same to use gcp pubsub MessageReceiver to listen and read msg asynchronously.</p>\n<p>// Class that implemented MessageReceiver contains code</p>\n<pre><code> @Override\n    public void receiveMessage( PubsubMessage message, AckReplyConsumer ackReplyConsumer ) {\n        //some code\n        processMsg( message, blobs, profiler, ackConsumer );\n    }\n        \n    private void processMsg( PubsubMessage message, Page&lt;Blob&gt; blobs, Profiler profiler, AckReplyConsumer ackConsumer ) {\n        setContext(&quot;id&quot;);\n    }\n    \n     private void setContext( String id ) {\n        UserContext userContext = UserContext.getContext();\n        // when I change implementation to- use MessageReceiver instead of scheduler, I am getting userContext=null here;\n     }\n     \n \n</code></pre>\n<p>//class UserContext{</p>\n<pre><code> private static final ThreadLocal&lt;UserContext&gt; threadLocal = new ThreadLocal&lt;UserContext&gt;();\n \n public static UserContext getContext() {\n    try {\n        final UserContext userContext = threadLocal.get();\n        if ( null != userContext ) {\n            return (UserContext)userContext.clone();\n        }\n    } catch( CloneNotSupportedException e ) {\n    }\n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>How to get userContext=notNull when we call UserContext.getContext(). I am new to thread so not sure how to resolve this null pointer.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":29135505,"reputation":1,"user_id":22319781,"display_name":"Sundram Jaiswal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690958442,"creation_date":1690958442,"answer_id":76817195,"question_id":76817102,"body_markdown":"Create a YamL configuration file\r\n\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;default&quot;)\r\n    public class YamlConfig {\r\n        private String title;\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\nthen modify ur myobj as\r\n\r\n    private static String defaultTitle;\r\n    \r\n    private String title;\r\n    \r\n        @Autowired\r\n        public MyObj(YamlConfig yamlConfig) {\r\n            this.title = yamlConfig.getTitle();\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title != null ? title : defaultTitle;\r\n        }\r\n\r\n","title":"How to set default value of an attribute from yml file","body":"<p>Create a YamL configuration file</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;default&quot;)\npublic class YamlConfig {\n    private String title;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>then modify ur myobj as</p>\n<pre><code>private static String defaultTitle;\n\nprivate String title;\n\n    @Autowired\n    public MyObj(YamlConfig yamlConfig) {\n        this.title = yamlConfig.getTitle();\n    }\n\n    public String getTitle() {\n        return title != null ? title : defaultTitle;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11107201,"reputation":178,"user_id":8154052,"display_name":"Frank"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690966588,"creation_date":1690963655,"answer_id":76817828,"question_id":76817102,"body_markdown":"In order to inject values from property files, environment variables, system properties and etc [@Value annotation][1] is used. Besides it should be used \r\nwithin [type of component stereotype][2] so that values can be injected from external sources when Spring creates beans in its context.\r\nIf you declare it as a Component as following:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Component\r\n    public class myObj{\r\n    \r\n       @Value(&quot;${default.title}&quot;)\r\n       private String title;\r\n        \r\n    }\r\nthen you can use myObj by autowiring. If you just invoke getTitle() it returns default value from property file. To change the title one needs to set the value by calling setTitle(&quot;another title&quot;)\r\n\r\n    @SpringBootTest\r\n    public class InheritTest {\r\n    \r\n        @Autowired myObj obj;\r\n    \r\n        \r\n        @Test\r\n        void testDto(){\r\n    \r\n        assertEquals(testDto.getTitle(),&quot;hello from prod&quot;);\r\n        testDto.setTitle(&quot;another title&quot;);\r\n        assertEquals(testDto.getTitle(),&quot;another title&quot;);\r\n            \r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\nSuppose you&#39;re trying to read them not from application.yml but let&#39;s say test.yml then you can create a class which implements PropertySourceFactory: \r\n\r\n    public class YamlPropertySourceFactory implements PropertySourceFactory {\r\n    \r\n        @Override\r\n        public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource) {\r\n            YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n            factory.setResources(encodedResource.getResource());\r\n    \r\n            Properties properties = factory.getObject();\r\n    \r\n            return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\r\n        }\r\n    }\r\n\r\nand use it in your configuration:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;default&quot;)\r\n    @PropertySource(value = &quot;classpath:test.yml&quot;, factory = YamlPropertySourceFactory.class)\r\n    @Data\r\n    public class YamlTestProperties {\r\n        private String title;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    @SpringBootTest\r\n    public class InheritTest {\r\n    \r\n       \r\n        @Autowired myObj obj;\r\n    \r\n        @Autowired\r\n        private YamlTestProperties yamlTestProperties;\r\n    \r\n\r\n    \r\n        \r\n        @Test\r\n        void testRetrieveTitleFromApplicationYaml(){\r\n    \r\n        assertEquals(testDto.getTitle(),&quot;hello from prod&quot;);\r\n        testDto.setTitle(&quot;another title&quot;);\r\n        assertEquals(testDto.getTitle(),&quot;another title&quot;);\r\n            \r\n        }\r\n    \r\n        @Test\r\n        void testRetrieveTitleFromCustomYaml(){\r\n            assertEquals(yamlTestProperties.getTitle(),&quot;newBook&quot;);\r\n        }\r\n    }\r\n    \r\n\r\n   \r\n\r\n\r\n  [1]: https://gustavopeiretti.com/spring-boot-value-annotation/#:~:text=Introduction%20to%20%40Value%20in%20Spring,value%20without%20recompiling%20the%20code.\r\n  [2]: https://gustavopeiretti.com/spring-boot-components-stereotypes/","title":"How to set default value of an attribute from yml file","body":"<p>In order to inject values from property files, environment variables, system properties and etc <a href=\"https://gustavopeiretti.com/spring-boot-value-annotation/#:%7E:text=Introduction%20to%20%40Value%20in%20Spring,value%20without%20recompiling%20the%20code.\" rel=\"nofollow noreferrer\">@Value annotation</a> is used. Besides it should be used\nwithin <a href=\"https://gustavopeiretti.com/spring-boot-components-stereotypes/\" rel=\"nofollow noreferrer\">type of component stereotype</a> so that values can be injected from external sources when Spring creates beans in its context.\nIf you declare it as a Component as following:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Component\npublic class myObj{\n\n   @Value(&quot;${default.title}&quot;)\n   private String title;\n    \n}\n</code></pre>\n<p>then you can use myObj by autowiring. If you just invoke getTitle() it returns default value from property file. To change the title one needs to set the value by calling setTitle(&quot;another title&quot;)</p>\n<pre><code>@SpringBootTest\npublic class InheritTest {\n\n    @Autowired myObj obj;\n\n    \n    @Test\n    void testDto(){\n\n    assertEquals(testDto.getTitle(),&quot;hello from prod&quot;);\n    testDto.setTitle(&quot;another title&quot;);\n    assertEquals(testDto.getTitle(),&quot;another title&quot;);\n        \n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>Suppose you're trying to read them not from application.yml but let's say test.yml then you can create a class which implements PropertySourceFactory:</p>\n<pre><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n\n    @Override\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource) {\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n        factory.setResources(encodedResource.getResource());\n\n        Properties properties = factory.getObject();\n\n        return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\n    }\n}\n</code></pre>\n<p>and use it in your configuration:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;default&quot;)\n@PropertySource(value = &quot;classpath:test.yml&quot;, factory = YamlPropertySourceFactory.class)\n@Data\npublic class YamlTestProperties {\n    private String title;\n}\n</code></pre>\n<hr />\n<pre><code>@SpringBootTest\npublic class InheritTest {\n\n   \n    @Autowired myObj obj;\n\n    @Autowired\n    private YamlTestProperties yamlTestProperties;\n\n\n\n    \n    @Test\n    void testRetrieveTitleFromApplicationYaml(){\n\n    assertEquals(testDto.getTitle(),&quot;hello from prod&quot;);\n    testDto.setTitle(&quot;another title&quot;);\n    assertEquals(testDto.getTitle(),&quot;another title&quot;);\n        \n    }\n\n    @Test\n    void testRetrieveTitleFromCustomYaml(){\n        assertEquals(yamlTestProperties.getTitle(),&quot;newBook&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25922432,"reputation":1,"user_id":19644791,"display_name":"loid forger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1690965150,"answer_count":2,"score":-2,"last_activity_date":1690966588,"creation_date":1690957359,"question_id":76817102,"body_markdown":"in my yml file\r\n\r\n    default:\r\n     title:newBook\r\n\r\non my object class \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class myObj{\r\n\r\n    //how to set default value of          this from my yml file\r\n    private String title;\r\n\r\n\r\n    }\r\n\r\nGet the value from yml file and set it as default value for my book title attribute\r\nMake title not null ","title":"How to set default value of an attribute from yml file","body":"<p>in my yml file</p>\n<pre><code>default:\n title:newBook\n</code></pre>\n<p>on my object class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class myObj{\n\n//how to set default value of          this from my yml file\nprivate String title;\n\n\n}\n</code></pre>\n<p>Get the value from yml file and set it as default value for my book title attribute\nMake title not null</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1690965960,"post_id":76818069,"comment_id":135425021,"body_markdown":"Your method does not return anything but just prints output. You try to assign the returned value to a `String`. :boom:","body":"Your method does not return anything but just prints output. You try to assign the returned value to a <code>String</code>. :boom:"}],"answers":[{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966044,"creation_date":1690966044,"answer_id":76818103,"question_id":76818069,"body_markdown":"You only have to change void to String and instead of printing inside your function you have to return the String\r\n\r\nSystem.out.println(&quot;Hello&quot;); --&gt; return &quot;Hello&quot;\r\n\r\nExplanation: void stands for no return from Function. If you want to give something back from the function you need to set there the type of return. Like you want to get a String than you have to return one. But be carefule, sometimes there are problems in java like if you return an integer number and expect an String than you have to convert the number to String. But there are already given Methods for that","title":"Basics of Java - Cannot convert from void to String","body":"<p>You only have to change void to String and instead of printing inside your function you have to return the String</p>\n<p>System.out.println(&quot;Hello&quot;); --&gt; return &quot;Hello&quot;</p>\n<p>Explanation: void stands for no return from Function. If you want to give something back from the function you need to set there the type of return. Like you want to get a String than you have to return one. But be carefule, sometimes there are problems in java like if you return an integer number and expect an String than you have to convert the number to String. But there are already given Methods for that</p>\n"},{"tags":[],"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966576,"creation_date":1690966576,"answer_id":76818189,"question_id":76818069,"body_markdown":"Change the logic as given below\r\n\r\n    public static String algoritmofigo() {\r\n\r\n        double y = 4.5454;\r\n        int g = 45;\r\n        int  po = 567;\r\n        int num = 54;\r\n        char lett = &#39;f&#39;;\r\n\r\n        if (y == 4) {\r\n            return &quot;Hello&quot;;\r\n\r\n        } else if ( g == 400) {\r\n            return Integer.toString(num);\r\n\r\n        } else {\r\n            return Integer.toString(g + po);\r\n        }\r\n    } \r\n\r\nAnd call is like that as its a static method\r\n\r\n    String rrr = Algoritmo.algoritmofigo();\r\n    System.out.println(dog);","title":"Basics of Java - Cannot convert from void to String","body":"<p>Change the logic as given below</p>\n<pre><code>public static String algoritmofigo() {\n\n    double y = 4.5454;\n    int g = 45;\n    int  po = 567;\n    int num = 54;\n    char lett = 'f';\n\n    if (y == 4) {\n        return &quot;Hello&quot;;\n\n    } else if ( g == 400) {\n        return Integer.toString(num);\n\n    } else {\n        return Integer.toString(g + po);\n    }\n} \n</code></pre>\n<p>And call is like that as its a static method</p>\n<pre><code>String rrr = Algoritmo.algoritmofigo();\nSystem.out.println(dog);\n</code></pre>\n"}],"owner":{"account_id":29117736,"reputation":21,"user_id":22306087,"display_name":"Antonio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1690966576,"creation_date":1690965799,"question_id":76818069,"body_markdown":"Hello Guys i&#39;m tring to undestand how Java works and i don&#39;t know what to do in order to solve this problem.  I have this class:\r\n\r\n```java\r\npublic class Algoritmo {\r\n\r\n    public static void algoritmofigo() {\r\n\r\n        double y = 4.5454;\r\n        int g = 45;\r\n        int  po = 567;\r\n        int num = 54;\r\n        char lett = &#39;f&#39;;\r\n\r\n        if (y == 4) {\r\n            System.out.println(&quot;Hello&quot;);\r\n        } else if (g == 400) {\r\n            System.out.println(num);\r\n        } else {\r\n            System.out.println(g + po);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m tring to use it in a way like this: \r\n\r\n```java\r\nAlgoritmo algo = new Algoritmo();\r\nString rrr = algo.algoritmofigo();\r\nSystem.out.println(dog);\r\n```\r\n\r\nThat&#39;s my first day of Java and i can&#39;t figure out how to move.\r\n\r\nThe Error says: Type mismatch: cannot convert from void to String. \r\n\r\n\r\n\r\n\r\nI Just would like to know what&#39;s the mistake is and how to fix it. Thanks you! ","title":"Basics of Java - Cannot convert from void to String","body":"<p>Hello Guys i'm tring to undestand how Java works and i don't know what to do in order to solve this problem.  I have this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Algoritmo {\n\n    public static void algoritmofigo() {\n\n        double y = 4.5454;\n        int g = 45;\n        int  po = 567;\n        int num = 54;\n        char lett = 'f';\n\n        if (y == 4) {\n            System.out.println(&quot;Hello&quot;);\n        } else if (g == 400) {\n            System.out.println(num);\n        } else {\n            System.out.println(g + po);\n        }\n    }\n}\n</code></pre>\n<p>I'm tring to use it in a way like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Algoritmo algo = new Algoritmo();\nString rrr = algo.algoritmofigo();\nSystem.out.println(dog);\n</code></pre>\n<p>That's my first day of Java and i can't figure out how to move.</p>\n<p>The Error says: Type mismatch: cannot convert from void to String.</p>\n<p>I Just would like to know what's the mistake is and how to fix it. Thanks you!</p>\n"},{"tags":["java","logging","microservices","quarkus","open-telemetry"],"comments":[{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":0,"creation_date":1690923830,"post_id":76814333,"comment_id":135420059,"body_markdown":"can you clarify, do you mean diagnostic logs from the OpenTelemetry SDK itself? or application logs being exported by OpenTelemetry?","body":"can you clarify, do you mean diagnostic logs from the OpenTelemetry SDK itself? or application logs being exported by OpenTelemetry?"}],"answers":[{"tags":[],"owner":{"account_id":12845213,"reputation":2303,"user_id":9291851,"display_name":"Juliano Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690965758,"creation_date":1690965758,"answer_id":76818066,"question_id":76814333,"body_markdown":"If you are referring to logs as a signal being exported by OpenTelemetry (like Traces and Metrics), you can set the following environment variable:\r\n\r\n```\r\nOTEL_LOGS_EXPORTER=none\r\n```\r\nhttps://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_logs_exporter\r\n\r\n\r\nIf you meant diagnostic logs from the OpenTelemetry SDK itself, you can use the following environment variable:\r\n\r\n```\r\nOTEL_JAVAAGENT_LOGGING=none\r\n```\r\nhttps://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/#javaagent-logging-output\r\n\r\nYou may need to use none with quotes: `&quot;none&quot;`.","title":"quarkus telemetry logging disable at runtime","body":"<p>If you are referring to logs as a signal being exported by OpenTelemetry (like Traces and Metrics), you can set the following environment variable:</p>\n<pre><code>OTEL_LOGS_EXPORTER=none\n</code></pre>\n<p><a href=\"https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_logs_exporter\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/concepts/sdk-configuration/general-sdk-configuration/#otel_logs_exporter</a></p>\n<p>If you meant diagnostic logs from the OpenTelemetry SDK itself, you can use the following environment variable:</p>\n<pre><code>OTEL_JAVAAGENT_LOGGING=none\n</code></pre>\n<p><a href=\"https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/#javaagent-logging-output\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/#javaagent-logging-output</a></p>\n<p>You may need to use none with quotes: <code>&quot;none&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690966443,"creation_date":1690966443,"answer_id":76818168,"question_id":76814333,"body_markdown":"Quarkus does not yet support OpenTelemetry logging. The support is planned. \r\nNo need for any config to disable it.","title":"quarkus telemetry logging disable at runtime","body":"<p>Quarkus does not yet support OpenTelemetry logging. The support is planned.\nNo need for any config to disable it.</p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690966443,"creation_date":1690914525,"question_id":76814333,"body_markdown":"Is it possible to turn off open telemetry logging while opentelementry is enabled in Quarkus 2.x?\r\n\r\nLooking for something similar to io.opentelemetry.level = OFF\r\n\r\nBasically, i want to provide the ability to turn off telemetry logging for one of the services in the chain while continuing to propagate trace id/span ids. Any idea how to do this and how this can be configurable at runtime?\r\n\r\nThanks\r\nSG","title":"quarkus telemetry logging disable at runtime","body":"<p>Is it possible to turn off open telemetry logging while opentelementry is enabled in Quarkus 2.x?</p>\n<p>Looking for something similar to io.opentelemetry.level = OFF</p>\n<p>Basically, i want to provide the ability to turn off telemetry logging for one of the services in the chain while continuing to propagate trace id/span ids. Any idea how to do this and how this can be configurable at runtime?</p>\n<p>Thanks\nSG</p>\n"},{"tags":["java","logging","cxf","log4j2","slf4j"],"answers":[{"tags":[],"owner":{"account_id":5741643,"reputation":986,"user_id":4534183,"accept_rate":78,"display_name":"Jdv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579274807,"creation_date":1579274807,"answer_id":59790308,"question_id":59684144,"body_markdown":"Well, if anyone stumbles upon such an error: The interceptor chain was interrupted in my application before it reached the LoggingInterceptor, therefore the incoming request was not logged. ","title":"CXF LoggingFeature doesn&#39;t log inbound request","body":"<p>Well, if anyone stumbles upon such an error: The interceptor chain was interrupted in my application before it reached the LoggingInterceptor, therefore the incoming request was not logged. </p>\n"},{"tags":[],"owner":{"account_id":18238544,"reputation":11,"user_id":13275996,"display_name":"ÐÐ¸ÐºÐ¸ÑÐ° ÐÐ¾Ð»ÐºÐ¾Ð²Ð½Ð¸ÐºÐ¾Ð²"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690965994,"creation_date":1690965812,"answer_id":76818071,"question_id":59684144,"body_markdown":"For history.\r\nI have the same problem.\r\nYou need to change the logging level, because by default this feature logging only if the logging level is &quot;INFO&#39;.\r\n\r\nI did the next and it works for me:\r\n\r\n    &lt;bean id=&quot;eventSender&quot; class=&quot;org.apache.cxf.ext.logging.slf4j.Slf4jVerboseEventSender&quot;&gt;\r\n\t\t&lt;property name=&quot;loggingLevel&quot; value=&quot;WARN&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI found it here https://stackoverflow.com/questions/55906371/log-soap-request-and-response-using-apache-cxf\r\n","title":"CXF LoggingFeature doesn&#39;t log inbound request","body":"<p>For history.\nI have the same problem.\nYou need to change the logging level, because by default this feature logging only if the logging level is &quot;INFO'.</p>\n<p>I did the next and it works for me:</p>\n<pre><code>&lt;bean id=&quot;eventSender&quot; class=&quot;org.apache.cxf.ext.logging.slf4j.Slf4jVerboseEventSender&quot;&gt;\n    &lt;property name=&quot;loggingLevel&quot; value=&quot;WARN&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I found it here <a href=\"https://stackoverflow.com/questions/55906371/log-soap-request-and-response-using-apache-cxf\">Log soap request and response using apache-cxf</a></p>\n"}],"owner":{"account_id":5741643,"reputation":986,"user_id":4534183,"accept_rate":78,"display_name":"Jdv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690965994,"creation_date":1578668362,"question_id":59684144,"body_markdown":"I&#39;ve upgraded the cxf version in my application from 2.x to 3.3.2 and therefore want to replace the now deprecated `LoggingInInterceptor` and `LoggingOutInterceptor` I&#39;ve used before with the `LoggingFeature`. For that I&#39;ve removed the interceptor beans from the cxf bus and added the `LoggingFeature` instead, like this:\r\n\r\n    &lt;cxf:bus&gt;\r\n\t\t&lt;cxf:features&gt;\r\n        \t&lt;bean class=&quot;org.apache.cxf.ext.logging.LoggingFeature&quot;&gt;\r\n        \t\t &lt;property name=&quot;prettyLogging&quot; value=&quot;true&quot;/&gt;\r\n        \t&lt;/bean&gt;\r\n    \t&lt;/cxf:features&gt;\r\n    &lt;/cxf:bus&gt; \r\n\r\nI&#39;ve already had the other steps to use the cxf `LoggingFeature` with my slf4j setup [as described in this SO question](https://stackoverflow.com/questions/9424058/cxf-inbound-and-outbound-message-logging-to-the-separate-log-file) added beforehand to use with the interceptors: The `META-INF/cxf/org.apache.cxf.Logger` file and the `org.apache.cxf` log4j2 logger. \r\n\r\nNow the result is that incoming requests (should be the cxf logging type `REQ_IN` imo) are not logged, but the responses (`RESP_OUT`) are.\r\n\r\nWhat could cause such an behaviour?\r\n","title":"CXF LoggingFeature doesn&#39;t log inbound request","body":"<p>I've upgraded the cxf version in my application from 2.x to 3.3.2 and therefore want to replace the now deprecated <code>LoggingInInterceptor</code> and <code>LoggingOutInterceptor</code> I've used before with the <code>LoggingFeature</code>. For that I've removed the interceptor beans from the cxf bus and added the <code>LoggingFeature</code> instead, like this:</p>\n\n<pre><code>&lt;cxf:bus&gt;\n    &lt;cxf:features&gt;\n        &lt;bean class=\"org.apache.cxf.ext.logging.LoggingFeature\"&gt;\n             &lt;property name=\"prettyLogging\" value=\"true\"/&gt;\n        &lt;/bean&gt;\n    &lt;/cxf:features&gt;\n&lt;/cxf:bus&gt; \n</code></pre>\n\n<p>I've already had the other steps to use the cxf <code>LoggingFeature</code> with my slf4j setup <a href=\"https://stackoverflow.com/questions/9424058/cxf-inbound-and-outbound-message-logging-to-the-separate-log-file\">as described in this SO question</a> added beforehand to use with the interceptors: The <code>META-INF/cxf/org.apache.cxf.Logger</code> file and the <code>org.apache.cxf</code> log4j2 logger. </p>\n\n<p>Now the result is that incoming requests (should be the cxf logging type <code>REQ_IN</code> imo) are not logged, but the responses (<code>RESP_OUT</code>) are.</p>\n\n<p>What could cause such an behaviour?</p>\n"},{"tags":["java","spring","service","dto"],"answers":[{"tags":[],"owner":{"account_id":9552667,"reputation":39,"user_id":21373629,"display_name":"kret11"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690875567,"creation_date":1690875567,"answer_id":76809457,"question_id":76809263,"body_markdown":"IMO options #1 and #3 are the best ones. I personally use #1. #3 is available only for services in the same package. But it&#39;s still nice and clean.","title":"Relation between services when using DTOs in Spring","body":"<p>IMO options #1 and #3 are the best ones. I personally use #1. #3 is available only for services in the same package. But it's still nice and clean.</p>\n"},{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690965754,"creation_date":1690916437,"answer_id":76814505,"question_id":76809263,"body_markdown":"I don&#39;t see a direct question, but I understand that you would like some input on how to set your architecture.\r\n\r\nOne way that I find useful is to start with a **classic three tierd architecture** (where the API act as the client) and then simplify if it becomes over engineered.\r\n\r\nThe client tier, where I have the API, is typically some sort of HTTP API, often REST based returning JSON objects.\r\n\r\nJust like your example, **the DB layer returns DB objects**. Any ORM turns the result of a DB query to an object that maps about 1:1 with the DB layout. You normally annotate this with `@repository` in spring. \r\n\r\nFurthermore, **each service returns domain objects** describing the entity managed by that service. In your example, the book service layer would make use of the Book DB layer and the Author DB layer, concatenate the results into a book object. This its the layer with your business logic. (**Here comes the first simplification**, if books and authors are in the same DB, you often do the join in the DB layer already.) This is annotated `@service` in spring. \r\n\r\nFinally, **the API layer creates the DTOs.** Here, the methods annotated `@controller` in spring, uses the response from one or several service(s) to create DTOs according to the API spec and returning that on the API. This tier owns the DTO classes and the transformation from domain objects to DTO objects. An example DTO would be your BookDTO that is serialized to a JSON object for a HTTP/REST API, but it could also be a protobuf for gRPC, XML for a SOAP API, combinations there of, etc. The point is that the DTO for the API should beneficially be disconnected from the service.\r\n\r\n**This separates different concerns within a product**. Changing DB layout for performance,  or changing business logic as your product evolves, or changing API as you get new type of clients, all these changes should be separate tasks touching separate layers in your application. \r\n\r\nHaving that said, **another simplification** is (for me) often to lett the service return the DTO directly. Especially if you are not using Kotlin or libraries like Lombok or Immutables to help out with the dull boilerplate code for managing POJOs.","title":"Relation between services when using DTOs in Spring","body":"<p>I don't see a direct question, but I understand that you would like some input on how to set your architecture.</p>\n<p>One way that I find useful is to start with a <strong>classic three tierd architecture</strong> (where the API act as the client) and then simplify if it becomes over engineered.</p>\n<p>The client tier, where I have the API, is typically some sort of HTTP API, often REST based returning JSON objects.</p>\n<p>Just like your example, <strong>the DB layer returns DB objects</strong>. Any ORM turns the result of a DB query to an object that maps about 1:1 with the DB layout. You normally annotate this with <code>@repository</code> in spring.</p>\n<p>Furthermore, <strong>each service returns domain objects</strong> describing the entity managed by that service. In your example, the book service layer would make use of the Book DB layer and the Author DB layer, concatenate the results into a book object. This its the layer with your business logic. (<strong>Here comes the first simplification</strong>, if books and authors are in the same DB, you often do the join in the DB layer already.) This is annotated <code>@service</code> in spring.</p>\n<p>Finally, <strong>the API layer creates the DTOs.</strong> Here, the methods annotated <code>@controller</code> in spring, uses the response from one or several service(s) to create DTOs according to the API spec and returning that on the API. This tier owns the DTO classes and the transformation from domain objects to DTO objects. An example DTO would be your BookDTO that is serialized to a JSON object for a HTTP/REST API, but it could also be a protobuf for gRPC, XML for a SOAP API, combinations there of, etc. The point is that the DTO for the API should beneficially be disconnected from the service.</p>\n<p><strong>This separates different concerns within a product</strong>. Changing DB layout for performance,  or changing business logic as your product evolves, or changing API as you get new type of clients, all these changes should be separate tasks touching separate layers in your application.</p>\n<p>Having that said, <strong>another simplification</strong> is (for me) often to lett the service return the DTO directly. Especially if you are not using Kotlin or libraries like Lombok or Immutables to help out with the dull boilerplate code for managing POJOs.</p>\n"}],"owner":{"account_id":10762257,"reputation":21,"user_id":7918331,"display_name":"Amaury S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690965754,"creation_date":1690873982,"question_id":76809263,"body_markdown":"I&#39;m quite new to the Spring Framework and one aspect I&#39;m having trouble conceptualizing is the synergy between services when using DTOs.\r\n\r\nI&#39;ll try to give a simple example. Might not be the most pertinent and certainly not well designed but it illustrates my problem:\r\n```java\r\n@Entity\r\npublic class Author {\r\n    private int id;\r\n    private String name;\r\n}\r\n\r\npublic class AuthorDto {\r\n    private int id;\r\n    private String name;\r\n}\r\n\r\n@Entity\r\npublic class Book {\r\n    private int id;\r\n    private String title;\r\n    private Author author;\r\n}\r\n\r\npublic class BookDto {\r\n    private int id;\r\n    private String title;\r\n    private String authorName;\r\n}\r\n\r\n// AuthorRepository extends CrudRepository\r\n// BookRepository extends CrudRepository\r\n\r\n@Service\r\npublic class AuthorService {\r\n\r\n    public AuthorDto getByName(String name) {\r\n        Assert.nonNull(name, &quot;name is null&quot;);\r\n\r\n        Author author = this.authorRepository.getByName(name).orElseThrow(() -&gt; new AuthorNotFoundException(name));\r\n        return AuthorMapper.toDto(author);\r\n    }\r\n\r\n}\r\n\r\n@Service\r\npublic class BookService {\r\n\r\n    public BookDto register(BookDto book) {\r\n        // Check book validity.\r\n        Book bookEntity = BookMapper.toEntity(book);\r\n\r\n        // How do I get the Author information for entity persistence ?\r\n        Author author = ???\r\n        bookEntity.setAuthor(author);\r\n\r\n        bookEntity = this.bookRepository.save(bookEntity);\r\n        return BookMapper.toDto(bookEntity);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nâ  One solution would be to directly use the AuthorRepository:\r\n```java\r\npublic BookDto register(BookDto book) {\r\n    //â¦\r\n    Author author = this.AuthorRepsitory.getByName(book.getAuthor())\r\n        .orElseThrow(() -&gt; new AuthorNotFoundException(book.getAuthor()));\r\n    //â¦\r\n}\r\n```\r\nBut then I duplicate code from the AuthorService.\r\nI imagine that&#39;s fine for simple case like this but for more complicated things, like managing the creation of a child object, this could lead to bugs and missed steps.\r\n\r\n---\r\n\r\nâ¡ An other solution would be to use the AuthorService:\r\n```java\r\npublic BookDto register(BookDto book) {\r\n    //â¦\r\n    Author author = AuthorMapper.toEntity(this.AuthorService.getByName(book.getAuthor()));\r\n    //â¦\r\n}\r\n```\r\nBut this would add unecessary steps (entity to DTO to entity) and would detached the author from the underlined entity manager, possibly adding more steps under the hood to fix that.\r\n\r\n---\r\n\r\nâ¢ My thought would be to take advantage of the `protected` scope to ease service communication:\r\n```java\r\n@Service\r\npublic class AuthorServiceImpl implements AuthorService {\r\n\r\n    protected Author _getByName(String name) {\r\n        Assert.nonNull(name, &quot;name is null&quot;);\r\n\r\n        return this.authorRepository.getByName(name)\r\n            .orElseThrow(() -&gt; new AuthorNotFoundException(name));\r\n    }\r\n\r\n    public AuthorDto getByName(String name) {\r\n        return AuthorMapper.toDto(this._getByName(name));\r\n    }\r\n\r\n}\r\n\r\n@Service\r\npublic class BookServiceImpl implements BookService {\r\n\r\n    public BookDto register(BookDto book) {\r\n        // Do check for book validity.\r\n        Book bookEntity = BookMapper.toEntity(book);\r\n\r\n        Author author = this.authorServiceImpl._getByName(book.getAuthor());\r\n        bookEntity.setAuthor(author);\r\n\r\n        bookEntity = this.bookRepository.save(bookEntity);\r\n        return BookMapper.toDto(bookEntity);\r\n    }\r\n\r\n}\r\n```\r\nSo that each service manages its own entities but I don&#39;t know if it is a good practice.\r\n\r\nI tried to find answers to my question but, as of now, most I&#39;ve seen would be â  and all concret examples I found, are simple case with only one service or with entities independent from one another.","title":"Relation between services when using DTOs in Spring","body":"<p>I'm quite new to the Spring Framework and one aspect I'm having trouble conceptualizing is the synergy between services when using DTOs.</p>\n<p>I'll try to give a simple example. Might not be the most pertinent and certainly not well designed but it illustrates my problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Author {\n    private int id;\n    private String name;\n}\n\npublic class AuthorDto {\n    private int id;\n    private String name;\n}\n\n@Entity\npublic class Book {\n    private int id;\n    private String title;\n    private Author author;\n}\n\npublic class BookDto {\n    private int id;\n    private String title;\n    private String authorName;\n}\n\n// AuthorRepository extends CrudRepository\n// BookRepository extends CrudRepository\n\n@Service\npublic class AuthorService {\n\n    public AuthorDto getByName(String name) {\n        Assert.nonNull(name, &quot;name is null&quot;);\n\n        Author author = this.authorRepository.getByName(name).orElseThrow(() -&gt; new AuthorNotFoundException(name));\n        return AuthorMapper.toDto(author);\n    }\n\n}\n\n@Service\npublic class BookService {\n\n    public BookDto register(BookDto book) {\n        // Check book validity.\n        Book bookEntity = BookMapper.toEntity(book);\n\n        // How do I get the Author information for entity persistence ?\n        Author author = ???\n        bookEntity.setAuthor(author);\n\n        bookEntity = this.bookRepository.save(bookEntity);\n        return BookMapper.toDto(bookEntity);\n    }\n\n}\n</code></pre>\n<p>â  One solution would be to directly use the AuthorRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public BookDto register(BookDto book) {\n    //â¦\n    Author author = this.AuthorRepsitory.getByName(book.getAuthor())\n        .orElseThrow(() -&gt; new AuthorNotFoundException(book.getAuthor()));\n    //â¦\n}\n</code></pre>\n<p>But then I duplicate code from the AuthorService.\nI imagine that's fine for simple case like this but for more complicated things, like managing the creation of a child object, this could lead to bugs and missed steps.</p>\n<hr />\n<p>â¡ An other solution would be to use the AuthorService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public BookDto register(BookDto book) {\n    //â¦\n    Author author = AuthorMapper.toEntity(this.AuthorService.getByName(book.getAuthor()));\n    //â¦\n}\n</code></pre>\n<p>But this would add unecessary steps (entity to DTO to entity) and would detached the author from the underlined entity manager, possibly adding more steps under the hood to fix that.</p>\n<hr />\n<p>â¢ My thought would be to take advantage of the <code>protected</code> scope to ease service communication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AuthorServiceImpl implements AuthorService {\n\n    protected Author _getByName(String name) {\n        Assert.nonNull(name, &quot;name is null&quot;);\n\n        return this.authorRepository.getByName(name)\n            .orElseThrow(() -&gt; new AuthorNotFoundException(name));\n    }\n\n    public AuthorDto getByName(String name) {\n        return AuthorMapper.toDto(this._getByName(name));\n    }\n\n}\n\n@Service\npublic class BookServiceImpl implements BookService {\n\n    public BookDto register(BookDto book) {\n        // Do check for book validity.\n        Book bookEntity = BookMapper.toEntity(book);\n\n        Author author = this.authorServiceImpl._getByName(book.getAuthor());\n        bookEntity.setAuthor(author);\n\n        bookEntity = this.bookRepository.save(bookEntity);\n        return BookMapper.toDto(bookEntity);\n    }\n\n}\n</code></pre>\n<p>So that each service manages its own entities but I don't know if it is a good practice.</p>\n<p>I tried to find answers to my question but, as of now, most I've seen would be â  and all concret examples I found, are simple case with only one service or with entities independent from one another.</p>\n"},{"tags":["java","android","android-gradle-plugin"],"comments":[{"owner":{"account_id":7201903,"reputation":2058,"user_id":5498855,"display_name":"Ivan Milisavljevic"},"score":0,"creation_date":1557122842,"post_id":55999534,"comment_id":98645764,"body_markdown":"I guess you tried to do a full clean/rebuild of a project?","body":"I guess you tried to do a full clean/rebuild of a project?"},{"owner":{"account_id":14983197,"reputation":23,"user_id":10816613,"display_name":"aditya nurhadi"},"score":0,"creation_date":1557123354,"post_id":55999534,"comment_id":98645918,"body_markdown":"already rebuild and try to invalidate cache and restart but still same","body":"already rebuild and try to invalidate cache and restart but still same"},{"owner":{"account_id":1951638,"reputation":326,"user_id":1755595,"display_name":"Keng Onn"},"score":0,"creation_date":1558166363,"post_id":55999534,"comment_id":99017767,"body_markdown":"I am facing a similar problem :(. No issues when using gradle plugin 3.3.2 and gradle version and gradle 4.10.1. But after upgrading gradle plugin to 3.4.1 and gradle to 5.1, I got the same error :(. darn... let me know if you find a resolution to this issue? Googled and googled but this error still persists... sigh... maybe maven would be better than gradle in the long run?","body":"I am facing a similar problem :(. No issues when using gradle plugin 3.3.2 and gradle version and gradle 4.10.1. But after upgrading gradle plugin to 3.4.1 and gradle to 5.1, I got the same error :(. darn... let me know if you find a resolution to this issue? Googled and googled but this error still persists... sigh... maybe maven would be better than gradle in the long run?"}],"answers":[{"tags":[],"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557130395,"creation_date":1557123701,"answer_id":55999749,"question_id":55999534,"body_markdown":"You should try this way\r\n\r\n   \r\n\r\n        implementation(&#39;com.android.support:support-vector-drawable:28.0.0&#39;) {\r\n                exclude group: &#39;android.support.graphics.drawable&#39;\r\n                exclude module: &#39;support-vector-drawable&#39;\r\n            }","title":"How Fix Package name &#39;android.support.graphics.drawable&#39; used in: com.android.support:animated-vector-drawable:28.0.0","body":"<p>You should try this way</p>\n\n<pre><code>    implementation('com.android.support:support-vector-drawable:28.0.0') {\n            exclude group: 'android.support.graphics.drawable'\n            exclude module: 'support-vector-drawable'\n        }\n</code></pre>\n"}],"owner":{"account_id":14983197,"reputation":23,"user_id":10816613,"display_name":"aditya nurhadi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690965631,"creation_date":1557122431,"question_id":55999534,"body_markdown":"&gt; AndroidManifest.xml Error: \tPackage name\r\n&gt; &#39;android.support.graphics.drawable&#39; used in:\r\n&gt; com.android.support:animated-vector-drawable:28.0.0,\r\n&gt; com.android.support:support-vector-drawable:28.0.0\r\n\r\n\r\n[1]: https://i.stack.imgur.com/d1ASl.jpg\r\nhttps://i.stack.imgur.com/d1ASl.jpg\r\n\r\n[2]: https://i.stack.imgur.com/CBf1S.jpg\r\nhttps://i.stack.imgur.com/CBf1S.jpg\r\n\r\nAn error happened after upgrade Android Studio 3.4\r\nAlready try change compileSdk to `27 / 27.1.1` but still same \r\nand already try to disable &quot;vector-drawable&quot; lib but still same\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n        mavenCentral()\r\n        maven { url &#39;https://maven.fabric.io/public&#39;}\r\n        maven { url &#39;https://maven.google.com&#39; }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.2.0&#39;\r\n        classpath &#39;io.fabric.tools:gradle:1.26.1&#39;\r\n        classpath &#39;com.google.firebase:firebase-plugins:1.2.0&#39;\r\n    }\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;io.fabric&#39;\r\napply plugin: &#39;com.google.firebase.firebase-perf&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 28\r\n    defaultConfig {\r\n        applicationId &quot;xxx.packacge.name&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 28\r\n        versionCode 4\r\n        versionName &quot;Dev&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        multiDexEnabled true\r\n    }\r\n\r\n    applicationVariants.all { variant -&gt;\r\n        //variant.getAssembleProvider()\r\n        variant.outputs.all {\r\n            outputFileName = &quot;${variant.name}-${variant.versionName}.apk&quot;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            debuggable false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        debug {\r\n            debuggable true\r\n        }\r\n    }\r\n    buildToolsVersion = &#39;28.0.3&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    jcenter()\r\n    maven { url &#39;https://maven.google.com&#39; }\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    configurations.all {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-v13&#39;\r\n    }\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support:design:28.0.0&#39;\r\n    implementation &#39;com.android.support:support-vector-drawable:28.0.0&#39;\r\n    implementation &#39;com.android.support:animated-vector-drawable:28.0.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.0-alpha5&#39;\r\n    implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support:support-fragment:28.0.0&#39;\r\n\r\n}\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\n.. \r\n```\r\nbuildscript {\r\n\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n        maven {\r\n            url &#39;https://maven.fabric.io/public&#39;\r\n        }\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.4.0&#39;\r\n        classpath &#39;com.google.gms:google-services:4.2.0&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        classpath &#39;com.google.firebase:firebase-plugins:1.2.0&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        mavenCentral()\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n        }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n..","title":"How Fix Package name &#39;android.support.graphics.drawable&#39; used in: com.android.support:animated-vector-drawable:28.0.0","body":"<blockquote>\n  <p>AndroidManifest.xml Error:    Package name\n  'android.support.graphics.drawable' used in:\n  com.android.support:animated-vector-drawable:28.0.0,\n  com.android.support:support-vector-drawable:28.0.0</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/d1ASl.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/d1ASl.jpg</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CBf1S.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CBf1S.jpg</a></p>\n\n<p>An error happened after upgrade Android Studio 3.4\nAlready try change compileSdk to <code>27 / 27.1.1</code> but still same \nand already try to disable \"vector-drawable\" lib but still same\n.\n.\n.\n.\n.\n.\n.\n.</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n        maven { url 'https://maven.fabric.io/public'}\n        maven { url 'https://maven.google.com' }\n    }\n    dependencies {\n        classpath 'com.google.gms:google-services:4.2.0'\n        classpath 'io.fabric.tools:gradle:1.26.1'\n        classpath 'com.google.firebase:firebase-plugins:1.2.0'\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'io.fabric'\napply plugin: 'com.google.firebase.firebase-perf'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"xxx.packacge.name\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 4\n        versionName \"Dev\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n    }\n\n    applicationVariants.all { variant -&gt;\n        //variant.getAssembleProvider()\n        variant.outputs.all {\n            outputFileName = \"${variant.name}-${variant.versionName}.apk\"\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            debuggable false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            debuggable true\n        }\n    }\n    buildToolsVersion = '28.0.3'\n}\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven { url 'https://maven.google.com' }\n\n}\n\ndependencies {\n\n    configurations.all {\n        exclude group: 'com.android.support', module: 'support-v13'\n    }\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:support-vector-drawable:28.0.0'\n    implementation 'com.android.support:animated-vector-drawable:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.0-alpha5'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:support-fragment:28.0.0'\n\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>.. </p>\n\n<pre><code>buildscript {\n\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven {\n            url 'https://maven.fabric.io/public'\n        }\n        maven {\n            url 'https://maven.google.com/'\n        }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.0'\n        classpath 'com.google.gms:google-services:4.2.0'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.firebase:firebase-plugins:1.2.0'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url \"https://jitpack.io\" }\n        mavenCentral()\n        maven {\n            url 'https://maven.google.com/'\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>..</p>\n"},{"tags":["java","apache-karaf"],"comments":[{"owner":{"account_id":9054285,"reputation":136,"user_id":6743192,"display_name":"rellabacode"},"score":0,"creation_date":1685466442,"post_id":76367024,"comment_id":134662912,"body_markdown":"Are you launching Karaf from a terminal? Tell us more about your work environent","body":"Are you launching Karaf from a terminal? Tell us more about your work environent"},{"owner":{"account_id":11441771,"reputation":43,"user_id":8482151,"display_name":"CamelUser"},"score":0,"creation_date":1685469081,"post_id":76367024,"comment_id":134663432,"body_markdown":"@codigocaballer karaf is installed as a windows service and run via client.bat","body":"@codigocaballer karaf is installed as a windows service and run via client.bat"}],"answers":[{"tags":[],"owner":{"account_id":29112503,"reputation":16,"user_id":22301988,"display_name":"Jgarnica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690965494,"creation_date":1690561490,"answer_id":76789545,"question_id":76367024,"body_markdown":"You mentioned you are are running `karaf` as `Windows service`, so I guess you are using [Wrapper][1]&lt;br&gt;\r\nIn the Wrapper configuration file change the default JRE/JDK path and restart your `karaf` application. \r\n\r\n    #********************************************************************\r\n    # Wrapper Properties\r\n    #********************************************************************\r\n    set.default.JAVA_HOME=C:\\Program Files\\Zulu\\zulu-8\\\r\n\r\n\r\n  [1]: https://wrapper.tanukisoftware.com/doc/english/home.html","title":"Karaf and java_home","body":"<p>You mentioned you are are running <code>karaf</code> as <code>Windows service</code>, so I guess you are using <a href=\"https://wrapper.tanukisoftware.com/doc/english/home.html\" rel=\"nofollow noreferrer\">Wrapper</a><br>\nIn the Wrapper configuration file change the default JRE/JDK path and restart your <code>karaf</code> application.</p>\n<pre><code>#********************************************************************\n# Wrapper Properties\n#********************************************************************\nset.default.JAVA_HOME=C:\\Program Files\\Zulu\\zulu-8\\\n</code></pre>\n"}],"owner":{"account_id":11441771,"reputation":43,"user_id":8482151,"display_name":"CamelUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76789545,"answer_count":1,"score":0,"last_activity_date":1690965494,"creation_date":1685465663,"question_id":76367024,"body_markdown":"Is there a way to set the default java path for karaf without using the JAVA_HOME environment variable? \r\n\r\nE.g. one of the settings files?\r\n\r\nI have another application that requires the JAVA_HOME variable set to a diffrent version of jre and can&#39;t repoint the path for this.\r\n\r\nKaraf is currently being run as a Windows service and the console is accessed via client.bat","title":"Karaf and java_home","body":"<p>Is there a way to set the default java path for karaf without using the JAVA_HOME environment variable?</p>\n<p>E.g. one of the settings files?</p>\n<p>I have another application that requires the JAVA_HOME variable set to a diffrent version of jre and can't repoint the path for this.</p>\n<p>Karaf is currently being run as a Windows service and the console is accessed via client.bat</p>\n"},{"tags":["java","jdbc","locale"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1331646096,"creation_date":1331646096,"answer_id":9685163,"question_id":9685052,"body_markdown":"&gt;     Caused by: java.sql.SQLException: Locale not recognized\r\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n\r\n\r\nYour operating system platform default locale is apparently not supported by the Oracle JDBC driver. Change your operating system platform default locale to something more common. You can also do it on a per JVM runtime basis by adding the following VM arguments:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    -Duser.language=en -Duser.country=US\r\n\r\nThis sets the JVM default locale to `en_US` (English / United States).\r\n\r\nYou can check as follows which default locale exactly is currently been used by your operating system platform:\r\n\r\n    System.out.println(Locale.getDefault());","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<blockquote>\n<pre><code>Caused by: java.sql.SQLException: Locale not recognized\n    at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n</code></pre>\n</blockquote>\n\n<p>Your operating system platform default locale is apparently not supported by the Oracle JDBC driver. Change your operating system platform default locale to something more common. You can also do it on a per JVM runtime basis by adding the following VM arguments:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-Duser.language=en -Duser.country=US\n</code></pre>\n\n<p>This sets the JVM default locale to <code>en_US</code> (English / United States).</p>\n\n<p>You can check as follows which default locale exactly is currently been used by your operating system platform:</p>\n\n<pre><code>System.out.println(Locale.getDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":891335,"reputation":3416,"user_id":929529,"accept_rate":88,"display_name":"pushistic"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1331646205,"creation_date":1331646205,"answer_id":9685185,"question_id":9685052,"body_markdown":"Most probably, you have locale not supported by Oracle JDBC. ","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>Most probably, you have locale not supported by Oracle JDBC. </p>\n"},{"tags":[],"owner":{"account_id":290252,"reputation":3161,"user_id":958866,"accept_rate":20,"display_name":"Kiran"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1336026828,"creation_date":1336026521,"answer_id":10426235,"question_id":9685052,"body_markdown":"As just suggested you will see this problem if\r\n\r\n\r\n 1. You pass different locale to your application\r\n 2. In the code, jdbc tries to establish connection with this locale\r\n 3. But the locale is not supported by the DBMS\r\n\r\nSo, you can do the following\r\n    \r\n\r\n 1. Take backup of current locale\r\n\r\n       `Locale backup = Locale.getDefault();`\r\n 2. Set locale before acquiring connection\r\n\r\n       `Locale.setDefault(Locale.US);`\r\n 3. Acquire connection\r\n 4. Set the backup locale\r\n\r\nHope this helps.\r\n\r\n-Kiran","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>As just suggested you will see this problem if</p>\n\n<ol>\n<li>You pass different locale to your application</li>\n<li>In the code, jdbc tries to establish connection with this locale</li>\n<li>But the locale is not supported by the DBMS</li>\n</ol>\n\n<p>So, you can do the following</p>\n\n<ol>\n<li><p>Take backup of current locale</p>\n\n<p><code>Locale backup = Locale.getDefault();</code></p></li>\n<li><p>Set locale before acquiring connection</p>\n\n<p><code>Locale.setDefault(Locale.US);</code></p></li>\n<li>Acquire connection</li>\n<li>Set the backup locale</li>\n</ol>\n\n<p>Hope this helps.</p>\n\n<p>-Kiran</p>\n"},{"tags":[],"owner":{"account_id":8775248,"reputation":51,"user_id":6560730,"display_name":"Javad Nouri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467894485,"creation_date":1467894485,"answer_id":38245490,"question_id":9685052,"body_markdown":"I solved this problem by just changing my location and country in control panel.\r\ni changed it to United State and English.\r\nAs an iranian we are in sanction of software too. this is US honesty!","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>I solved this problem by just changing my location and country in control panel.\ni changed it to United State and English.\nAs an iranian we are in sanction of software too. this is US honesty!</p>\n"},{"tags":[],"owner":{"account_id":7338942,"reputation":362,"user_id":5589292,"display_name":"å¨å·¦å·¦"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491486570,"creation_date":1491486570,"answer_id":43257181,"question_id":9685052,"body_markdown":"This problem must be solved if you are using products of jetBrains company.\r\n\r\nYou will get a error like &quot;Connection to @[your oracle database host] failed. [99999][17176] locale not recognized!&quot;(Chinese: &quot;æ æ³è¯å«åºåè®¾ç½®&quot;)\r\nwhen trying to connect your oracle database by DataGrip.\r\n\r\nThe solution is to solve the locale problem of JDBC. If you use Unix, try to add this code into your bash profile.\r\n\r\n    export JAVA_TOOL_OPTIONS=&quot;-Dfile.encoding=UTF8 -Duser.language=zh -Duser.region=zh_CN -Duser.country=zh_CN&quot;\r\n\r\n**Of course, replace above keywords which are about locale by yours.**","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>This problem must be solved if you are using products of jetBrains company.</p>\n\n<p>You will get a error like \"Connection to @[your oracle database host] failed. [99999][17176] locale not recognized!\"(Chinese: \"æ æ³è¯å«åºåè®¾ç½®\")\nwhen trying to connect your oracle database by DataGrip.</p>\n\n<p>The solution is to solve the locale problem of JDBC. If you use Unix, try to add this code into your bash profile.</p>\n\n<pre><code>export JAVA_TOOL_OPTIONS=\"-Dfile.encoding=UTF8 -Duser.language=zh -Duser.region=zh_CN -Duser.country=zh_CN\"\n</code></pre>\n\n<p><strong>Of course, replace above keywords which are about locale by yours.</strong></p>\n"},{"tags":[],"owner":{"account_id":391248,"reputation":12147,"user_id":751796,"accept_rate":89,"display_name":"Mikayil Abdullayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690965399,"creation_date":1690965399,"answer_id":76818024,"question_id":9685052,"body_markdown":"The problem could also be caused by a framework/jdbc version mismatch. I solved the same problem by upgrading the jdbc driver. My set up was:\r\n\r\n    Spring Boot  2.7.3\r\n    \r\n    MyBatis 2.3.0\r\n    \r\n    OJDBC6 11.2.0.4\r\n\r\nUpgraded to OJDBC8 and it worked. ","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>The problem could also be caused by a framework/jdbc version mismatch. I solved the same problem by upgrading the jdbc driver. My set up was:</p>\n<pre><code>Spring Boot  2.7.3\n\nMyBatis 2.3.0\n\nOJDBC6 11.2.0.4\n</code></pre>\n<p>Upgraded to OJDBC8 and it worked.</p>\n"}],"owner":{"account_id":1320680,"reputation":101,"user_id":1266579,"display_name":"pitzdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24944,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1690965399,"creation_date":1331645767,"question_id":9685052,"body_markdown":"Help me to solve this error for project am developing   \r\n\r\n    WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\r\n        ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\r\n        WARN [main] SettingsFactory.buildSettings(147) | Could not obtain connection to query metadata\r\n        org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (Locale not recognized)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1549)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\r\n        \tat org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\r\n        \tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:114)\r\n        \tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2833)\r\n        \tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2829)\r\n        \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1840)\r\n        \tat org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:860)\r\n        \tat org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:779)\r\n        \tat org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:398)\r\n        \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n        \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n        \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n        \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n        \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\r\n        \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n        \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n        \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\r\n        \tat org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\r\n        \tat org.mortbay.jetty.Server.doStart(Server.java:224)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\r\n        \tat org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\r\n        \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n        \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\r\n        \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n        \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\r\n        \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n        \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n        Caused by: java.sql.SQLException: Locale not recognized\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\r\n        \tat oracle.jdbc.driver.T4CTTIoauthenticate.setSessionFields(T4CTTIoauthenticate.java:965)\r\n        \tat oracle.jdbc.driver.T4CTTIoauthenticate.&lt;init&gt;(T4CTTIoauthenticate.java:185)\r\n        \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:352)\r\n        \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\r\n        \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n        \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n        \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n        \tat org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\r\n        \tat org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\r\n        \t... 77 more\r\n        DEBUG [main] StartupListener.contextInitialized(43) | Initializing context...\r\n        DEBUG [main] StartupListener.contextInitialized(88) | Remember Me Enabled? true\r\n        DEBUG [main] StartupListener.contextInitialized(90) | Password Encoder: ShaPasswordEncoder\r\n        DEBUG [main] StartupListener.contextInitialized(92) | Populating drop-downs...\r\n        WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\r\n        ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\r\n        WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\r\n        ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\r\n        2012-03-13 16:24:16.609:WARN::Failed startup of context org.mortbay.jetty.plugin.Jetty6PluginWebAppContext@d210ab{/,E:\\Private\\Projects\\recon\\recon\\target\\recon-1.0-SNAPSHOT.war}\r\n        org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Cannot open connection\r\n        \tat org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:596)\r\n        \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        \tat $Proxy105.getAllRoles(Unknown Source)\r\n        \tat com.tra.atm.recon.webapp.listener.StartupListener.setupContext(StartupListener.java:108)\r\n        \tat com.tra.atm.recon.webapp.listener.StartupListener.contextInitialized(StartupListener.java:95)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\r\n        \tat org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\r\n        \tat org.mortbay.jetty.Server.doStart(Server.java:224)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\r\n        \tat org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\r\n        \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n        \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\r\n        \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n        \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\r\n        \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n        \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n        2012-03-13 16:24:16.611:WARN::Nested in org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Cannot open connection:\r\n        java.sql.SQLException: Locale not recognized\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\r\n        \tat oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\r\n        \tat oracle.jdbc.driver.T4CTTIoauthenticate.setSessionFields(T4CTTIoauthenticate.java:965)\r\n        \tat oracle.jdbc.driver.T4CTTIoauthenticate.&lt;init&gt;(T4CTTIoauthenticate.java:185)\r\n        \tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:352)\r\n        \tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\r\n        \tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n        \tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\r\n        \tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n        \tat org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\r\n        \tat org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\r\n        \tat org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\r\n        \tat org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\r\n        \tat org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\r\n        \tat org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\r\n        \tat org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:160)\r\n        \tat org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:81)\r\n        \tat org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1473)\r\n        \tat org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:555)\r\n        \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\r\n        \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\r\n        \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\r\n        \tat $Proxy105.getAllRoles(Unknown Source)\r\n        \tat com.tra.atm.recon.webapp.listener.StartupListener.setupContext(StartupListener.java:108)\r\n        \tat com.tra.atm.recon.webapp.listener.StartupListener.contextInitialized(StartupListener.java:95)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\r\n        \tat org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\r\n        \tat org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\r\n        \tat org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\r\n        \tat org.mortbay.jetty.Server.doStart(Server.java:224)\r\n        \tat org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\r\n        \tat org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\r\n        \tat org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\r\n        \tat org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\r\n        \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n        \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n        \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n        \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\r\n        \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n        \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\r\n        \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n        \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n        \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)","title":"An getting this error when i run my project: java.sql.SQLException: Locale not recognized","body":"<p>Help me to solve this error for project am developing   </p>\n\n<pre><code>WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\n    ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\n    WARN [main] SettingsFactory.buildSettings(147) | Could not obtain connection to query metadata\n    org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (Locale not recognized)\n        at org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1549)\n        at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\n        at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n        at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\n        at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:114)\n        at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2833)\n        at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2829)\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1840)\n        at org.springframework.orm.hibernate3.LocalSessionFactoryBean.newSessionFactory(LocalSessionFactoryBean.java:860)\n        at org.springframework.orm.hibernate3.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:779)\n        at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:211)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:398)\n        at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n        at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n        at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n        at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\n        at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n        at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\n        at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\n        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\n        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\n        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\n        at org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n        at org.mortbay.jetty.Server.doStart(Server.java:224)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\n        at org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n    Caused by: java.sql.SQLException: Locale not recognized\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.setSessionFields(T4CTTIoauthenticate.java:965)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.&lt;init&gt;(T4CTTIoauthenticate.java:185)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:352)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n        at org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\n        at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\n        at org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\n        at org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\n        ... 77 more\n    DEBUG [main] StartupListener.contextInitialized(43) | Initializing context...\n    DEBUG [main] StartupListener.contextInitialized(88) | Remember Me Enabled? true\n    DEBUG [main] StartupListener.contextInitialized(90) | Password Encoder: ShaPasswordEncoder\n    DEBUG [main] StartupListener.contextInitialized(92) | Populating drop-downs...\n    WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\n    ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\n    WARN [main] JDBCExceptionReporter.logExceptions(233) | SQL Error: 0, SQLState: null\n    ERROR [main] JDBCExceptionReporter.logExceptions(234) | Cannot create PoolableConnectionFactory (Locale not recognized)\n    2012-03-13 16:24:16.609:WARN::Failed startup of context org.mortbay.jetty.plugin.Jetty6PluginWebAppContext@d210ab{/,E:\\Private\\Projects\\recon\\recon\\target\\recon-1.0-SNAPSHOT.war}\n    org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Cannot open connection\n        at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:596)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n        at $Proxy105.getAllRoles(Unknown Source)\n        at com.tra.atm.recon.webapp.listener.StartupListener.setupContext(StartupListener.java:108)\n        at com.tra.atm.recon.webapp.listener.StartupListener.contextInitialized(StartupListener.java:95)\n        at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\n        at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\n        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\n        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\n        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\n        at org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n        at org.mortbay.jetty.Server.doStart(Server.java:224)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\n        at org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n    2012-03-13 16:24:16.611:WARN::Nested in org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Cannot open connection:\n    java.sql.SQLException: Locale not recognized\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:208)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.setSessionFields(T4CTTIoauthenticate.java:965)\n        at oracle.jdbc.driver.T4CTTIoauthenticate.&lt;init&gt;(T4CTTIoauthenticate.java:185)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:352)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:441)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:35)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n        at org.apache.commons.dbcp.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:38)\n        at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)\n        at org.apache.commons.dbcp.BasicDataSource.validateConnectionFactory(BasicDataSource.java:1556)\n        at org.apache.commons.dbcp.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:1545)\n        at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1388)\n        at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n        at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.getConnection(LocalDataSourceConnectionProvider.java:81)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\n        at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\n        at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:160)\n        at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:81)\n        at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1473)\n        at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:555)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:335)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)\n        at $Proxy105.getAllRoles(Unknown Source)\n        at com.tra.atm.recon.webapp.listener.StartupListener.setupContext(StartupListener.java:108)\n        at com.tra.atm.recon.webapp.listener.StartupListener.contextInitialized(StartupListener.java:95)\n        at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:549)\n        at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)\n        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)\n        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)\n        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)\n        at org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:115)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)\n        at org.mortbay.jetty.Server.doStart(Server.java:224)\n        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)\n        at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:454)\n        at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:396)\n        at org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n</code></pre>\n"},{"tags":["java","reactjs","keycloak","next-auth"],"owner":{"account_id":208926,"reputation":2979,"user_id":459706,"accept_rate":92,"display_name":"Åukasz Gruner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690965308,"creation_date":1690893635,"question_id":76811729,"body_markdown":"I am making an &quot;alternative&quot; login option to a react site using nextauth.js. Site uses keycloak for authentication.\r\nI&#39;ve managed to get token from keycloak using token_endpoint api by performing direct naked imersonation (I am provided with a login with no password and have to log in that user. I know it&#39;s not a very good idea to do that.).\r\n\r\nI am setting a secure httponly cookie named `__Secure-next-auth.session-token` with `access-token` from token.\r\n\r\nUnfortunately it doesn&#39;t work, I am getting errors about decrypting JWT. Ok, so I try to look it up.\r\n\r\nI found that nextauthjs uses sha256 for signing, but java 17 doesn&#39;t support sha256. What libraries support this?\r\n\r\nHow do I manually craft a cookie so that I&#39;ll be logged in properly?","title":"how to manually set nextauth.js session cookie","body":"<p>I am making an &quot;alternative&quot; login option to a react site using nextauth.js. Site uses keycloak for authentication.\nI've managed to get token from keycloak using token_endpoint api by performing direct naked imersonation (I am provided with a login with no password and have to log in that user. I know it's not a very good idea to do that.).</p>\n<p>I am setting a secure httponly cookie named <code>__Secure-next-auth.session-token</code> with <code>access-token</code> from token.</p>\n<p>Unfortunately it doesn't work, I am getting errors about decrypting JWT. Ok, so I try to look it up.</p>\n<p>I found that nextauthjs uses sha256 for signing, but java 17 doesn't support sha256. What libraries support this?</p>\n<p>How do I manually craft a cookie so that I'll be logged in properly?</p>\n"},{"tags":["java","maven","jboss"],"answers":[{"tags":[],"owner":{"account_id":19467234,"reputation":71,"user_id":14240293,"display_name":"Ben Koch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690965008,"creation_date":1690965008,"answer_id":76817978,"question_id":76817903,"body_markdown":"One way you could automate the generation of the jboss-deployment-structure.xml is by using the Maven resource filtering feature, which allows you to replace placeholders in your resource files with their respective values from the Maven properties during the build process.\r\n\r\nYou would first need to include placeholders for the versions of your libraries in the jboss-deployment-structure.xml, like so:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;!-- Make sub deployments isolated by default, so they cannot see each others \r\n            classes without a Class-Path entry --&gt;\r\n        &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\r\n        &lt;deployment&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource-root path=&quot;lib/apache/commons-lang3-${commons.lang.version}.jar&quot; /&gt;\r\n                &lt;resource-root path=&quot;lib/joda/joda-time-${joda.time.version}.jar&quot; /&gt;\r\n            &lt;/resources&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\n\r\nNext, you would define these placeholders in your pom.xml:\r\n\r\n    &lt;properties&gt;\r\n        &lt;commons.lang.version&gt;3.3.2&lt;/commons.lang.version&gt;\r\n        &lt;joda.time.version&gt;2.0&lt;/joda.time.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nFinally, you would need to configure your project to use Maven resource filtering. You can do this by adding a resources element to your build configuration in your pom.xml:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/application/META-INF&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        ...\r\n    &lt;/build&gt;\r\n\r\nThis setup will replace the placeholders in your jboss-deployment-structure.xml with the respective values from the Maven properties when you build your project.\r\n\r\nRemember to update the version numbers in the properties section of your pom.xml file whenever you change the version of a library, and the jboss-deployment-structure.xml will be updated automatically during the build process.\r\n\r\n","title":"Generating jboss-deployment.structure.xml using Maven","body":"<p>One way you could automate the generation of the jboss-deployment-structure.xml is by using the Maven resource filtering feature, which allows you to replace placeholders in your resource files with their respective values from the Maven properties during the build process.</p>\n<p>You would first need to include placeholders for the versions of your libraries in the jboss-deployment-structure.xml, like so:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;!-- Make sub deployments isolated by default, so they cannot see each others \n        classes without a Class-Path entry --&gt;\n    &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\n    &lt;deployment&gt;\n        &lt;resources&gt;\n            &lt;resource-root path=&quot;lib/apache/commons-lang3-${commons.lang.version}.jar&quot; /&gt;\n            &lt;resource-root path=&quot;lib/joda/joda-time-${joda.time.version}.jar&quot; /&gt;\n        &lt;/resources&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>Next, you would define these placeholders in your pom.xml:</p>\n<pre><code>&lt;properties&gt;\n    &lt;commons.lang.version&gt;3.3.2&lt;/commons.lang.version&gt;\n    &lt;joda.time.version&gt;2.0&lt;/joda.time.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Finally, you would need to configure your project to use Maven resource filtering. You can do this by adding a resources element to your build configuration in your pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/application/META-INF&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    ...\n&lt;/build&gt;\n</code></pre>\n<p>This setup will replace the placeholders in your jboss-deployment-structure.xml with the respective values from the Maven properties when you build your project.</p>\n<p>Remember to update the version numbers in the properties section of your pom.xml file whenever you change the version of a library, and the jboss-deployment-structure.xml will be updated automatically during the build process.</p>\n"}],"owner":{"account_id":4138062,"reputation":518,"user_id":3394223,"accept_rate":64,"display_name":"peterremec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690965008,"creation_date":1690964369,"question_id":76817903,"body_markdown":"I&#39;m currently migrating some Java project to Maven structure and I ran into a problem. Old EAR project contains `jboss-deployment-structure.xml`, so I&#39;ve moved it to a Maven project under `&lt;EAR-ROOT&gt;/src/main/application/META-INF`. When I build a project, descriptor is placed correctly in EAR file, but since it&#39;s Maven project, I&#39;m thinking about generating `jboss-deployment-structure.xml` using Maven, since it contains many references to jar libraries. Now when I e.g. change some Java library version in `pom.xml`, I also have to manually change it in `jboss-deployment-structure.xml`.\r\n\r\nPart of my `jboss-deployment-structure.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n    \t&lt;!-- Make sub deployments isolated by default, so they cannot see each others \r\n    \t\tclasses without a Class-Path entry --&gt;\r\n    \t&lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\r\n    \t&lt;deployment&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource-root path=&quot;lib/apache/commons-lang3-3.3.2.jar&quot; /&gt;\r\n    \t\t\t&lt;resource-root path=&quot;lib/joda/joda-time-2.0.jar&quot; /&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t&lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nSo my question - Is it possible to generate `jboss-deployment-structure.xml` using Maven? I&#39;ve already searched for some appropriate plugin, but I couldn&#39;t find any. Can descriptor be generated in any other way?\r\n\r\nThanks in advance.","title":"Generating jboss-deployment.structure.xml using Maven","body":"<p>I'm currently migrating some Java project to Maven structure and I ran into a problem. Old EAR project contains <code>jboss-deployment-structure.xml</code>, so I've moved it to a Maven project under <code>&lt;EAR-ROOT&gt;/src/main/application/META-INF</code>. When I build a project, descriptor is placed correctly in EAR file, but since it's Maven project, I'm thinking about generating <code>jboss-deployment-structure.xml</code> using Maven, since it contains many references to jar libraries. Now when I e.g. change some Java library version in <code>pom.xml</code>, I also have to manually change it in <code>jboss-deployment-structure.xml</code>.</p>\n<p>Part of my <code>jboss-deployment-structure.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;!-- Make sub deployments isolated by default, so they cannot see each others \n        classes without a Class-Path entry --&gt;\n    &lt;ear-subdeployments-isolated&gt;true&lt;/ear-subdeployments-isolated&gt;\n    &lt;deployment&gt;\n        &lt;resources&gt;\n            &lt;resource-root path=&quot;lib/apache/commons-lang3-3.3.2.jar&quot; /&gt;\n            &lt;resource-root path=&quot;lib/joda/joda-time-2.0.jar&quot; /&gt;\n        &lt;/resources&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>So my question - Is it possible to generate <code>jboss-deployment-structure.xml</code> using Maven? I've already searched for some appropriate plugin, but I couldn't find any. Can descriptor be generated in any other way?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","kotlin","jar","executable-jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690966859,"post_id":76817972,"comment_id":135425206,"body_markdown":"I don&#39;t really use Gradle, but debug the value of the classpath. Not really a good idea to use the default package for your main class btw","body":"I don&#39;t really use Gradle, but debug the value of the classpath. Not really a good idea to use the default package for your main class btw"}],"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690964948,"creation_date":1690964948,"question_id":76817972,"body_markdown":"I create a Kotlin project contains some dependencies in Intelij IDEA. I want to build fat Jar file, so I can run the jar directly using the following command:\r\n\r\n`java -jar jira-api-1.0-SNAPSHOT.jar`\r\n\r\nHowever, when I generate the jar i got the error:\r\n\r\n```\r\nError: Could not find or load main class AppKt\r\nCaused by: java.lang.ClassNotFoundException: AppKt\r\n```\r\n\r\nI believe my AppKt.class is in the jar package.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/vfqco.png\r\n\r\nBelow is my Gradle kts to build the jar file.\r\n\r\n```kts\r\ntasks.jar {\r\n    manifest {\r\n        attributes[&quot;Class-Path&quot;] = configurations.compileClasspath.get().joinToString(&quot; &quot;) { it.name }\r\n        attributes[&quot;Main-Class&quot;] = &quot;AppKt&quot;\r\n    }\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    configurations.compileClasspath.get().forEach {\r\n        from(if (it.isDirectory) it else zipTree(it))\r\n    }\r\n}\r\n```\r\n\r\nAre there any additional configurations?\r\n\r\nThank you","title":"Error: Could not find or load main class when build Jar file","body":"<p>I create a Kotlin project contains some dependencies in Intelij IDEA. I want to build fat Jar file, so I can run the jar directly using the following command:</p>\n<p><code>java -jar jira-api-1.0-SNAPSHOT.jar</code></p>\n<p>However, when I generate the jar i got the error:</p>\n<pre><code>Error: Could not find or load main class AppKt\nCaused by: java.lang.ClassNotFoundException: AppKt\n</code></pre>\n<p>I believe my AppKt.class is in the jar package.</p>\n<p><a href=\"https://i.stack.imgur.com/vfqco.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vfqco.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my Gradle kts to build the jar file.</p>\n<pre><code>tasks.jar {\n    manifest {\n        attributes[&quot;Class-Path&quot;] = configurations.compileClasspath.get().joinToString(&quot; &quot;) { it.name }\n        attributes[&quot;Main-Class&quot;] = &quot;AppKt&quot;\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    configurations.compileClasspath.get().forEach {\n        from(if (it.isDirectory) it else zipTree(it))\n    }\n}\n</code></pre>\n<p>Are there any additional configurations?</p>\n<p>Thank you</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":935527,"reputation":2393,"user_id":964506,"accept_rate":67,"display_name":"KK_07k11A0585"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329803480,"creation_date":1329803480,"answer_id":9372843,"question_id":9372805,"body_markdown":" Use **mediaDir.mkdirs();** instead of   **mediaDir.mkdir();** also you must require **WRITE_EXTERNAL_STORAGE** permission","title":"java.io.IOException: Read-only file system","body":"<p>Use <strong>mediaDir.mkdirs();</strong> instead of   <strong>mediaDir.mkdir();</strong> also you must require <strong>WRITE_EXTERNAL_STORAGE</strong> permission</p>\n"},{"tags":[],"owner":{"account_id":900048,"reputation":7584,"user_id":936414,"display_name":"user936414"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1329804425,"creation_date":1329804425,"answer_id":9372983,"question_id":9372805,"body_markdown":"Guess /data/data is not external storage. You need to have root permission in order to write to the /data directory. Refer https://stackoverflow.com/questions/1998400/data-directory-have-no-read-write-permission-in-android","title":"java.io.IOException: Read-only file system","body":"<p>Guess /data/data is not external storage. You need to have root permission in order to write to the /data directory. Refer <a href=\"https://stackoverflow.com/questions/1998400/data-directory-have-no-read-write-permission-in-android\">Data directory has no read/write permission in Android</a></p>\n"},{"tags":[],"owner":{"account_id":1054183,"reputation":3254,"user_id":1057261,"accept_rate":74,"display_name":"AndroDev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329807481,"creation_date":1329807481,"answer_id":9373442,"question_id":9372805,"body_markdown":"You are creating file in Android system&#39;s root directory for which no application is allowed to.\r\n\r\n To create directory specific to your application, use [getDir(String dirName, int mode)][1] instead of `new File(&quot;media&quot;)`. By calling only, you can create media directory and use it.\r\n\r\n No need to do so many stuffs what you are doing in your above code. Also no need to give any permission in manifest too.\r\n\r\n  [1]: http://developer.android.com/reference/android/content/Context.html#getDir%28java.lang.String,%20int%29","title":"java.io.IOException: Read-only file system","body":"<p>You are creating file in Android system's root directory for which no application is allowed to.</p>\n\n<p>To create directory specific to your application, use <a href=\"http://developer.android.com/reference/android/content/Context.html#getDir%28java.lang.String,%20int%29\" rel=\"nofollow\">getDir(String dirName, int mode)</a> instead of <code>new File(\"media\")</code>. By calling only, you can create media directory and use it.</p>\n\n<p>No need to do so many stuffs what you are doing in your above code. Also no need to give any permission in manifest too.</p>\n"},{"tags":[],"owner":{"account_id":5580966,"reputation":11038,"user_id":4422856,"display_name":"shakram02"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564903563,"creation_date":1564903563,"answer_id":57344683,"question_id":9372805,"body_markdown":"You can try something like the following to make a folder in an `Activity`\r\n\r\n```Java\r\nthis.getDir(&quot;folder_name&quot;, Context.MODE_PRIVATE);\r\n```\r\n\r\n[source][1]\r\n\r\n\r\n  [1]: https://www.programcreek.com/java-api-examples/?class=android.content.Context&amp;method=getDir","title":"java.io.IOException: Read-only file system","body":"<p>You can try something like the following to make a folder in an <code>Activity</code></p>\n\n<pre><code>this.getDir(\"folder_name\", Context.MODE_PRIVATE);\n</code></pre>\n\n<p><a href=\"https://www.programcreek.com/java-api-examples/?class=android.content.Context&amp;method=getDir\" rel=\"nofollow noreferrer\">source</a></p>\n"},{"tags":[],"owner":{"account_id":9527128,"reputation":837,"user_id":7080033,"display_name":"Devendra  Singraul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690964760,"creation_date":1690964760,"answer_id":76817947,"question_id":9372805,"body_markdown":"In my case just i changed in property file\r\n\r\n       ## File upload custom properties\r\n        file.upload.location=/upload-directory\r\nto \r\n \r\n       file.upload.location=upload-directory\r\n\r\nOnly removal of slash(/) helps me in simple spring boot file upload poc.","title":"java.io.IOException: Read-only file system","body":"<p>In my case just i changed in property file</p>\n<pre><code>   ## File upload custom properties\n    file.upload.location=/upload-directory\n</code></pre>\n<p>to</p>\n<pre><code>   file.upload.location=upload-directory\n</code></pre>\n<p>Only removal of slash(/) helps me in simple spring boot file upload poc.</p>\n"}],"owner":{"account_id":535988,"reputation":6361,"user_id":1225432,"accept_rate":90,"display_name":"chinna_82"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51931,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9372983,"answer_count":5,"score":9,"last_activity_date":1690964760,"creation_date":1329803226,"question_id":9372805,"body_markdown":"    File mediaDir = new File(&quot;media&quot;);\r\n    if (!mediaDir.exists()){\r\n        mediaDir.createNewFile();\r\n        mediaDir.mkdir();\r\n    \r\n    }\r\n\r\n    File f = new File(&quot;/data/data/com.test.image/files/media/Voucher.jpg&quot;);\r\n    f.createNewFile();\r\n    FileOutputStream fos = new FileOutputStream(f);\r\n    fos.write(b);\r\n    fos.close();\r\n\r\nTry to write a file in phone internal memory but it throw an error: **java.io.IOException: Read-only file system**","title":"java.io.IOException: Read-only file system","body":"<pre><code>File mediaDir = new File(\"media\");\nif (!mediaDir.exists()){\n    mediaDir.createNewFile();\n    mediaDir.mkdir();\n\n}\n\nFile f = new File(\"/data/data/com.test.image/files/media/Voucher.jpg\");\nf.createNewFile();\nFileOutputStream fos = new FileOutputStream(f);\nfos.write(b);\nfos.close();\n</code></pre>\n\n<p>Try to write a file in phone internal memory but it throw an error: <strong>java.io.IOException: Read-only file system</strong></p>\n"},{"tags":["java","digital-signature","signature","dss"],"answers":[{"tags":[],"owner":{"account_id":25819156,"reputation":98,"user_id":19558604,"display_name":"bsanchezb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690964500,"creation_date":1657915373,"answer_id":72999088,"question_id":72646883,"body_markdown":"You may try to use [AppleSignatureToken](https://github.com/esig/dss/blob/5.10.x/dss-token/src/main/java/eu/europa/esig/dss/token/AppleSignatureToken.java) available in DSS 5.10.\r\n\r\nAlso [Pkcs11SignatureToken](https://github.com/esig/dss/blob/5.10.x/dss-token/src/main/java/eu/europa/esig/dss/token/Pkcs11SignatureToken.java) should work for MacOS as well, but you need a corresponding software, reading the smartcard/USB token.\r\n\r\nYou may also try a cross-platform [mocca](https://github.com/esig/dss-demonstrations/tree/master/sscd-mocca-adapter), or create a signature with ready-to-use [Nexu](https://github.com/nowina-solutions/nexu) bundle.\r\n\r\nBest regards,\r\nAleksandr.","title":"Sign PDF on macOs using USB TOKEN support","body":"<p>You may try to use <a href=\"https://github.com/esig/dss/blob/5.10.x/dss-token/src/main/java/eu/europa/esig/dss/token/AppleSignatureToken.java\" rel=\"nofollow noreferrer\">AppleSignatureToken</a> available in DSS 5.10.</p>\n<p>Also <a href=\"https://github.com/esig/dss/blob/5.10.x/dss-token/src/main/java/eu/europa/esig/dss/token/Pkcs11SignatureToken.java\" rel=\"nofollow noreferrer\">Pkcs11SignatureToken</a> should work for MacOS as well, but you need a corresponding software, reading the smartcard/USB token.</p>\n<p>You may also try a cross-platform <a href=\"https://github.com/esig/dss-demonstrations/tree/master/sscd-mocca-adapter\" rel=\"nofollow noreferrer\">mocca</a>, or create a signature with ready-to-use <a href=\"https://github.com/nowina-solutions/nexu\" rel=\"nofollow noreferrer\">Nexu</a> bundle.</p>\n<p>Best regards,\nAleksandr.</p>\n"}],"owner":{"account_id":24226768,"reputation":9,"user_id":18181138,"display_name":"Med"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690964500,"creation_date":1655386950,"question_id":72646883,"body_markdown":"I am developing software that allows signing PDF documents using cryptographic support.\r\n\r\nNow I can do this on windows using DSS signature, except DSS doesn&#39;t allow signing on macOS using a USB token.\r\n\r\nIs there a solution other than DSS that I can use on macOS to resolve this blockage ?","title":"Sign PDF on macOs using USB TOKEN support","body":"<p>I am developing software that allows signing PDF documents using cryptographic support.</p>\n<p>Now I can do this on windows using DSS signature, except DSS doesn't allow signing on macOS using a USB token.</p>\n<p>Is there a solution other than DSS that I can use on macOS to resolve this blockage ?</p>\n"},{"tags":["java","spring","resttemplate","apigee"],"answers":[{"tags":[],"owner":{"account_id":5768727,"reputation":1920,"user_id":4552808,"accept_rate":86,"display_name":"Rlarroque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690964413,"creation_date":1690964413,"answer_id":76817913,"question_id":76809840,"body_markdown":"Alright I found the issue and the culprit was inside the headers that were sent during the external API call. For some reason this WS is forwarding the exact same headers received when it&#39;s called during the external API call, and one of them was  **host**. \r\n\r\nAs described in [this Stackoverflow post][1] or in this [blog post][2], this header allows the recipient to know where does the request comes from. And in our case, my application is hosted in the cloud somewhere, and Apigee is in GCP somewhere else. Forwarding the host header results in Apigee receiving a request with an invalid host that can&#39;t be validated. Setting the proper headers I need to trasnmit to my external API resolved the problem. \r\n\r\nAs quoted:\r\n\r\n&gt; Depending on your configuration type, there are different ways you can prevent host header injections. Of course, the most straightforward approach is to distrust the host header at all times and not use it in server-side code. This simple change can essentially eliminate the possibility of a host header attack being launched against you.\r\n\r\n  [1]: https://stackoverflow.com/questions/43156023/what-is-http-host-header\r\n  [2]: https://crashtest-security.com/invalid-host-header/","title":"Issue reaching my Apigee proxy via Spring RestTemplate PUT method","body":"<p>Alright I found the issue and the culprit was inside the headers that were sent during the external API call. For some reason this WS is forwarding the exact same headers received when it's called during the external API call, and one of them was  <strong>host</strong>.</p>\n<p>As described in <a href=\"https://stackoverflow.com/questions/43156023/what-is-http-host-header\">this Stackoverflow post</a> or in this <a href=\"https://crashtest-security.com/invalid-host-header/\" rel=\"nofollow noreferrer\">blog post</a>, this header allows the recipient to know where does the request comes from. And in our case, my application is hosted in the cloud somewhere, and Apigee is in GCP somewhere else. Forwarding the host header results in Apigee receiving a request with an invalid host that can't be validated. Setting the proper headers I need to trasnmit to my external API resolved the problem.</p>\n<p>As quoted:</p>\n<blockquote>\n<p>Depending on your configuration type, there are different ways you can prevent host header injections. Of course, the most straightforward approach is to distrust the host header at all times and not use it in server-side code. This simple change can essentially eliminate the possibility of a host header attack being launched against you.</p>\n</blockquote>\n"}],"owner":{"account_id":5768727,"reputation":1920,"user_id":4552808,"accept_rate":86,"display_name":"Rlarroque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76817913,"answer_count":1,"score":0,"last_activity_date":1690964413,"creation_date":1690878864,"question_id":76809840,"body_markdown":"I&#39;m having a wierd issue while migrating API calls from an old webapp from our previous API management to Apigee (GCP API management tool). I&#39;m not even sure that the fact I&#39;m trying to call Apigee is an issue itself but still I&#39;m mentioning it for the sake of completeness.\r\n\r\nHere is how the RestTemplate is configured\r\n\r\n    @Bean\r\n    public RestTemplatemyRestTemplate(\r\n            RestTemplateBuilder restTemplateBuilder,\r\n            @Value(&quot;${application.my.url}&quot;) String myUrl,\r\n            Supplier&lt;ClientHttpRequestFactory&gt; bufferingClientHttpRequestFactorySupplier,\r\n            OAuth2TokenService oAuth2TokenService\r\n    ) {\r\n        return restTemplateBuilder\r\n                .rootUri(myUrl)\r\n                .requestFactory(bufferingClientHttpRequestFactorySupplier)\r\n                .interceptors(new AuthorizationHeaderInterceptor(oAuth2TokenService)) // Oauth2 mechanism that is working well\r\n                .build();\r\n    }\r\n\r\nNow this is where the API call is done \r\n\r\n    public void createOrUpdateCustomerSource(Customer myCustomer, final HttpHeaders headers) throws TechnicalException {\r\n        final HttpEntity&lt;Customer&gt; httpEntity = new HttpEntity&lt;&gt;(myCustomer, headers);\r\n\r\n        final String myId = &quot;dummyId&quot;;\r\n\r\n        final String uri = UriComponentsBuilder\r\n                .newInstance()\r\n                .pathSegment(&quot;some-path&quot;, myId))\r\n                .build().toString();\r\n\r\n        try {\r\n            log.info(&quot;Sending PUT request for customer Id: {} at {}&quot;, myId, uri);\r\n\r\n            myRestTemplate.exchange(uri, HttpMethod.PUT, httpEntity, Void.class);\r\n\r\n        } catch (RestClientException e) {\r\n            // exception handling\r\n        }\r\n    }\r\n\r\nThis is quite basic I would say but for some reason I&#39;m getting this output from the resttemplate :\r\n\r\n*org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]*\r\n\r\nNothing reaches Apigee except the call to retrieve the authorization token. Obvisouly I&#39;ve tried to copy paste the exact same URL used by the RestTemplate on Postman and it works well since I can monitor that with Apigee. \r\n\r\nOne last thing I need to add is that if I call my API like that (without any body nor header) : \r\n*myRestTemplate.exchange(uri, HttpMethod.PUT, **null**, Void.class);* it DOES reach Apigee, which leads me to think that my way to do a PUT is wrong and I don&#39;t know why.","title":"Issue reaching my Apigee proxy via Spring RestTemplate PUT method","body":"<p>I'm having a wierd issue while migrating API calls from an old webapp from our previous API management to Apigee (GCP API management tool). I'm not even sure that the fact I'm trying to call Apigee is an issue itself but still I'm mentioning it for the sake of completeness.</p>\n<p>Here is how the RestTemplate is configured</p>\n<pre><code>@Bean\npublic RestTemplatemyRestTemplate(\n        RestTemplateBuilder restTemplateBuilder,\n        @Value(&quot;${application.my.url}&quot;) String myUrl,\n        Supplier&lt;ClientHttpRequestFactory&gt; bufferingClientHttpRequestFactorySupplier,\n        OAuth2TokenService oAuth2TokenService\n) {\n    return restTemplateBuilder\n            .rootUri(myUrl)\n            .requestFactory(bufferingClientHttpRequestFactorySupplier)\n            .interceptors(new AuthorizationHeaderInterceptor(oAuth2TokenService)) // Oauth2 mechanism that is working well\n            .build();\n}\n</code></pre>\n<p>Now this is where the API call is done</p>\n<pre><code>public void createOrUpdateCustomerSource(Customer myCustomer, final HttpHeaders headers) throws TechnicalException {\n    final HttpEntity&lt;Customer&gt; httpEntity = new HttpEntity&lt;&gt;(myCustomer, headers);\n\n    final String myId = &quot;dummyId&quot;;\n\n    final String uri = UriComponentsBuilder\n            .newInstance()\n            .pathSegment(&quot;some-path&quot;, myId))\n            .build().toString();\n\n    try {\n        log.info(&quot;Sending PUT request for customer Id: {} at {}&quot;, myId, uri);\n\n        myRestTemplate.exchange(uri, HttpMethod.PUT, httpEntity, Void.class);\n\n    } catch (RestClientException e) {\n        // exception handling\n    }\n}\n</code></pre>\n<p>This is quite basic I would say but for some reason I'm getting this output from the resttemplate :</p>\n<p><em>org.springframework.web.client.HttpClientErrorException$NotFound: 404 Not Found: [no body]</em></p>\n<p>Nothing reaches Apigee except the call to retrieve the authorization token. Obvisouly I've tried to copy paste the exact same URL used by the RestTemplate on Postman and it works well since I can monitor that with Apigee.</p>\n<p>One last thing I need to add is that if I call my API like that (without any body nor header) :\n<em>myRestTemplate.exchange(uri, HttpMethod.PUT, <strong>null</strong>, Void.class);</em> it DOES reach Apigee, which leads me to think that my way to do a PUT is wrong and I don't know why.</p>\n"},{"tags":["java","junit5","spring-boot-test","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690964244,"creation_date":1690964244,"answer_id":76817892,"question_id":76695555,"body_markdown":"That is not a test failure.\r\n\r\nRather, it is a `DEBUG` log message pointing out that `MicrometerObservationRegistryTestExecutionListener` could not be loaded due to missing _optional_ dependencies.\r\n\r\nYou can safely ignore that if you are not actively using Micrometer&#39;s `ObservationRegistry` support in your tests or your test&#39;s `ApplicationContext`.\r\n\r\nFurthermore, the support for `MicrometerObservationRegistryTestExecutionListener` has been improved in Spring Framework 6.0.11. See the following issues for details.\r\n\r\n- https://github.com/spring-projects/spring-framework/issues/30726\r\n- https://github.com/spring-projects/spring-framework/issues/30747\r\n\r\n\r\n\r\n\r\n","title":"SpringBootTests failed due to ClassNotFoundException ObservationThreadLocalAccessor","body":"<p>That is not a test failure.</p>\n<p>Rather, it is a <code>DEBUG</code> log message pointing out that <code>MicrometerObservationRegistryTestExecutionListener</code> could not be loaded due to missing <em>optional</em> dependencies.</p>\n<p>You can safely ignore that if you are not actively using Micrometer's <code>ObservationRegistry</code> support in your tests or your test's <code>ApplicationContext</code>.</p>\n<p>Furthermore, the support for <code>MicrometerObservationRegistryTestExecutionListener</code> has been improved in Spring Framework 6.0.11. See the following issues for details.</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-framework/issues/30726\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30726</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-framework/issues/30747\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/30747</a></li>\n</ul>\n"}],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690964244,"creation_date":1689450886,"question_id":76695555,"body_markdown":"I&#39;m not sure what is the root cause, but I suspect some incompatibility might take a place here.\r\n\r\nHere is my gradle.kts:\r\n\r\n    import Build_gradle.Constants.junit5Version\r\n    import Build_gradle.Constants.logbackVersion\r\n    import Build_gradle.Constants.lombokVersion\r\n    import Build_gradle.Constants.restAssuredVersion\r\n    import Build_gradle.Constants.slf4jVersion\r\n    \r\n    object Constants {\r\n        const val lombokVersion = &quot;1.18.28&quot;\r\n        const val restAssuredVersion = &quot;5.3.1&quot;\r\n        const val slf4jVersion = &quot;2.0.7&quot;\r\n        const val logbackVersion = &quot;1.4.8&quot;\r\n        const val junit5Version = &quot;5.9.3&quot;\r\n    }\r\n    \r\n    plugins {\r\n        id(&quot;java&quot;)\r\n        kotlin(&quot;plugin.lombok&quot;) version &quot;1.8.10&quot;\r\n        id(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\r\n        id (&quot;io.spring.dependency-management&quot;) version &quot;1.1.1&quot;\r\n    }\r\n    \r\n    group = &quot;org.home&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n    \r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junit5Version}&quot;)\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:${junit5Version}&quot;) {\r\n            exclude(&quot;org.junit.jupiter&quot;, &quot;junit-jupiter-api&quot;)\r\n        }\r\n    \r\n    \r\n        implementation(&quot;org.slf4j:slf4j-api:${slf4jVersion}&quot;)\r\n        implementation(&quot;ch.qos.logback:logback-core:${logbackVersion}&quot;)\r\n        implementation(&quot;ch.qos.logback:logback-classic:${logbackVersion}&quot;)\r\n    \r\n        implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.15.2&quot;)\r\n    \r\n        annotationProcessor(&quot;org.projectlombok:${lombokVersion}&quot;)\r\n        implementation(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\r\n    \r\n        testImplementation(&quot;io.rest-assured:rest-assured:${restAssuredVersion}&quot;) {\r\n            exclude(&quot;commons-codec&quot;, &quot;commons-codec&quot;)\r\n            exclude(&quot;io.rest-assured&quot;, &quot;rest-assured-common&quot;)\r\n            exclude(&quot;commons-logging&quot;, &quot;commons-logging&quot;)\r\n        }\r\n    \r\n        testImplementation(&quot;io.rest-assured:rest-assured-all:${restAssuredVersion}&quot;) {\r\n            exclude(&quot;commons-codec&quot;, &quot;commons-codec&quot;)\r\n            exclude(&quot;org.apache.groovy&quot;, &quot;groovy-xml&quot;)\r\n        }\r\n    \r\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\r\n            exclude(&quot;org.junit.jupiter&quot;,&quot;junit-jupiter&quot;)\r\n            exclude(&quot;org.mockito&quot;,&quot;mockito-junit-jupiter&quot;)\r\n            exclude(&quot;org.skyscreamer&quot;, &quot;jsonassert&quot;)\r\n            exclude(&quot;org.hamcrest&quot;, &quot;hamcrest&quot;)\r\n            exclude(&quot;org.mockito&quot;, &quot;mockito-core&quot;)\r\n        }\r\n    }\r\n    \r\n    tasks.test {\r\n        useJUnitPlatform() {}\r\n    }\r\n\r\nStack trace: \r\n\r\n        &quot;C:\\Program Files\\Zulu\\zulu-17\\bin\\java.exe&quot; -Dspring.profiles.active=test -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.2.3\\lib\\idea_rt.jar=56118:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.2.3\\bin&quot;...\r\n    21:42:49.029 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [org.home.tests.api.functional.NodeCreateTests]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    21:42:49.049 [main] DEBUG o.s.b.t.c.SpringBootTestContextBootstrapper - Using ContextCustomizers for test class [NodeCreateTests]: [DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, Customizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer]\r\n    21:42:49.143 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: [jakarta/servlet/ServletContext]\r\n    21:42:49.147 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Could not load TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener]. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes available.\r\n    java.lang.ExceptionInInitializerError: null\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader$FactoryInstantiator.instantiate(SpringFactoriesLoader.java:382)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:228)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:206)\r\n    \tat org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:178)\r\n    \tat org.springframework.test.context.util.TestContextSpringFactoriesUtils.loadFactoryImplementations(TestContextSpringFactoriesUtils.java:71)\r\n    \tat org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListeners(AbstractTestContextBootstrapper.java:198)\r\n    \tat org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getDefaultTestExecutionListeners(SpringBootTestContextBootstrapper.java:128)\r\n    \tat org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:128)\r\n    \tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:131)\r\n    \tat org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:113)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.computeValue(ExtensionValuesStore.java:223)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:211)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:191)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:89)\r\n    \tat org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:93)\r\n    \tat org.junit.jupiter.engine.execution.NamespaceAwareStore.getOrComputeIfAbsent(NamespaceAwareStore.java:61)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.getTestContextManager(SpringExtension.java:294)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    Caused by: java.lang.IllegalStateException: MicrometerObservationRegistryTestExecutionListener requires micrometer-observation 1.10.8 or higher\r\n    \tat org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener.&lt;clinit&gt;(MicrometerObservationRegistryTestExecutionListener.java:80)\r\n    \t... 85 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: io.micrometer.observation.contextpropagation.ObservationThreadLocalAccessor\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:467)\r\n    \tat org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener.&lt;clinit&gt;(MicrometerObservationRegistryTestExecutionListener.java:76)\r\n    \t... 85 common frames omitted\r\n\r\n\r\n\r\n------------------------------------ **RESOLVED** ------------------------------------\r\n\r\ndowngrading spring boot version resolved the issue    id(&quot;org.springframework.boot&quot;) version &quot;3.0.4&quot; \r\n","title":"SpringBootTests failed due to ClassNotFoundException ObservationThreadLocalAccessor","body":"<p>I'm not sure what is the root cause, but I suspect some incompatibility might take a place here.</p>\n<p>Here is my gradle.kts:</p>\n<pre><code>import Build_gradle.Constants.junit5Version\nimport Build_gradle.Constants.logbackVersion\nimport Build_gradle.Constants.lombokVersion\nimport Build_gradle.Constants.restAssuredVersion\nimport Build_gradle.Constants.slf4jVersion\n\nobject Constants {\n    const val lombokVersion = &quot;1.18.28&quot;\n    const val restAssuredVersion = &quot;5.3.1&quot;\n    const val slf4jVersion = &quot;2.0.7&quot;\n    const val logbackVersion = &quot;1.4.8&quot;\n    const val junit5Version = &quot;5.9.3&quot;\n}\n\nplugins {\n    id(&quot;java&quot;)\n    kotlin(&quot;plugin.lombok&quot;) version &quot;1.8.10&quot;\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\n    id (&quot;io.spring.dependency-management&quot;) version &quot;1.1.1&quot;\n}\n\ngroup = &quot;org.home&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junit5Version}&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:${junit5Version}&quot;) {\n        exclude(&quot;org.junit.jupiter&quot;, &quot;junit-jupiter-api&quot;)\n    }\n\n\n    implementation(&quot;org.slf4j:slf4j-api:${slf4jVersion}&quot;)\n    implementation(&quot;ch.qos.logback:logback-core:${logbackVersion}&quot;)\n    implementation(&quot;ch.qos.logback:logback-classic:${logbackVersion}&quot;)\n\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.15.2&quot;)\n\n    annotationProcessor(&quot;org.projectlombok:${lombokVersion}&quot;)\n    implementation(&quot;org.projectlombok:lombok:${lombokVersion}&quot;)\n\n    testImplementation(&quot;io.rest-assured:rest-assured:${restAssuredVersion}&quot;) {\n        exclude(&quot;commons-codec&quot;, &quot;commons-codec&quot;)\n        exclude(&quot;io.rest-assured&quot;, &quot;rest-assured-common&quot;)\n        exclude(&quot;commons-logging&quot;, &quot;commons-logging&quot;)\n    }\n\n    testImplementation(&quot;io.rest-assured:rest-assured-all:${restAssuredVersion}&quot;) {\n        exclude(&quot;commons-codec&quot;, &quot;commons-codec&quot;)\n        exclude(&quot;org.apache.groovy&quot;, &quot;groovy-xml&quot;)\n    }\n\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\n        exclude(&quot;org.junit.jupiter&quot;,&quot;junit-jupiter&quot;)\n        exclude(&quot;org.mockito&quot;,&quot;mockito-junit-jupiter&quot;)\n        exclude(&quot;org.skyscreamer&quot;, &quot;jsonassert&quot;)\n        exclude(&quot;org.hamcrest&quot;, &quot;hamcrest&quot;)\n        exclude(&quot;org.mockito&quot;, &quot;mockito-core&quot;)\n    }\n}\n\ntasks.test {\n    useJUnitPlatform() {}\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>    &quot;C:\\Program Files\\Zulu\\zulu-17\\bin\\java.exe&quot; -Dspring.profiles.active=test -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.2.3\\lib\\idea_rt.jar=56118:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2021.2.3\\bin&quot;...\n21:42:49.029 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [org.home.tests.api.functional.NodeCreateTests]: no resource found for suffixes {-context.xml, Context.groovy}.\n21:42:49.049 [main] DEBUG o.s.b.t.c.SpringBootTestContextBootstrapper - Using ContextCustomizers for test class [NodeCreateTests]: [DisableObservabilityContextCustomizer, PropertyMappingContextCustomizer, Customizer, ExcludeFilterContextCustomizer, DuplicateJsonObjectContextCustomizer, MockitoContextCustomizer, TestRestTemplateContextCustomizer]\n21:42:49.143 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: [jakarta/servlet/ServletContext]\n21:42:49.147 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Could not load TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener]. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes available.\njava.lang.ExceptionInInitializerError: null\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.springframework.core.io.support.SpringFactoriesLoader$FactoryInstantiator.instantiate(SpringFactoriesLoader.java:382)\n    at org.springframework.core.io.support.SpringFactoriesLoader.instantiateFactory(SpringFactoriesLoader.java:228)\n    at org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:206)\n    at org.springframework.core.io.support.SpringFactoriesLoader.load(SpringFactoriesLoader.java:178)\n    at org.springframework.test.context.util.TestContextSpringFactoriesUtils.loadFactoryImplementations(TestContextSpringFactoriesUtils.java:71)\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.getDefaultTestExecutionListeners(AbstractTestContextBootstrapper.java:198)\n    at org.springframework.boot.test.context.SpringBootTestContextBootstrapper.getDefaultTestExecutionListeners(SpringBootTestContextBootstrapper.java:128)\n    at org.springframework.test.context.support.AbstractTestContextBootstrapper.getTestExecutionListeners(AbstractTestContextBootstrapper.java:128)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:131)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:113)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.lambda$getOrComputeIfAbsent$4(ExtensionValuesStore.java:86)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.computeValue(ExtensionValuesStore.java:223)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$MemoizingSupplier.get(ExtensionValuesStore.java:211)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.evaluate(ExtensionValuesStore.java:191)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore$StoredValue.access$100(ExtensionValuesStore.java:171)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:89)\n    at org.junit.jupiter.engine.execution.ExtensionValuesStore.getOrComputeIfAbsent(ExtensionValuesStore.java:93)\n    at org.junit.jupiter.engine.execution.NamespaceAwareStore.getOrComputeIfAbsent(NamespaceAwareStore.java:61)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.getTestContextManager(SpringExtension.java:294)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.lang.IllegalStateException: MicrometerObservationRegistryTestExecutionListener requires micrometer-observation 1.10.8 or higher\n    at org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener.&lt;clinit&gt;(MicrometerObservationRegistryTestExecutionListener.java:80)\n    ... 85 common frames omitted\nCaused by: java.lang.ClassNotFoundException: io.micrometer.observation.contextpropagation.ObservationThreadLocalAccessor\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener.&lt;clinit&gt;(MicrometerObservationRegistryTestExecutionListener.java:76)\n    ... 85 common frames omitted\n</code></pre>\n<p>------------------------------------ <strong>RESOLVED</strong> ------------------------------------</p>\n<p>downgrading spring boot version resolved the issue    id(&quot;org.springframework.boot&quot;) version &quot;3.0.4&quot;</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1690963818,"post_id":4387549,"comment_id":135424544,"body_markdown":"Links in answer are all dead.","body":"Links in answer are all dead."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1291814902,"creation_date":1291812561,"answer_id":4387594,"question_id":4387549,"body_markdown":"EDIT: Oops, misread that before.\r\n\r\nNo, there&#39;s nothing equivalent in Joda Time that I&#39;m aware of.\r\n\r\nPersonally I would just create my own class which included the start and end date: `LocalDateInterval` or something like that. I *wouldn&#39;t* reuse `Interval` for this, as it would be confusing the concepts: a pair of `LocalDate` values *doesn&#39;t* represent two instants, as a local date isn&#39;t really an instant.\r\n\r\nPersonally I don&#39;t find `Interval` particularly useful in Joda Time... I&#39;d been considering removing it from Noda Time. Now it sounds like I shouldn&#39;t ;)","title":"LocalDate interval in Joda-time","body":"<p>EDIT: Oops, misread that before.</p>\n\n<p>No, there's nothing equivalent in Joda Time that I'm aware of.</p>\n\n<p>Personally I would just create my own class which included the start and end date: <code>LocalDateInterval</code> or something like that. I <em>wouldn't</em> reuse <code>Interval</code> for this, as it would be confusing the concepts: a pair of <code>LocalDate</code> values <em>doesn't</em> represent two instants, as a local date isn't really an instant.</p>\n\n<p>Personally I don't find <code>Interval</code> particularly useful in Joda Time... I'd been considering removing it from Noda Time. Now it sounds like I shouldn't ;)</p>\n"},{"tags":[],"owner":{"account_id":252157,"reputation":1337,"user_id":529996,"display_name":"Olivier Heidemann"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1291910258,"creation_date":1291817058,"answer_id":4388338,"question_id":4387549,"body_markdown":"The [Interval][1] class represents an interval of time from one millisecond instant to another instant (complete with timezone). [DateMidnight][2] is such an instant. So your proposed implementation of an interval for DateMidnights is allready there.\r\n\r\n    Interval i = new Interval(\r\n        new DateMidnight(2010, 3, 2), new DateMidnight(2010, 3, 5));\r\n    \t\t\r\n    i.contains(new DateTime(2010, 3, 1, 23, 59, 59, 999)); // == false\r\n    i.contains(new DateTime(2010, 3, 2, 0, 0, 0, 0)); // == true\r\n    i.contains(new DateTime(2010, 3, 4, 23, 59, 59, 999)); // == true\r\n    i.contains(new DateTime(2010, 3, 5, 0, 0, 0, 0)); // == false\r\n\r\nHowever the concept of your searched interval for [LocalDates][3] aka a Partial (without timezones) is not yet existent. If you&#39;re going to implement it for yourself, don&#39;t implement any interval interfaces at all. It would interfere with your wishes, because it is, as stated before, based on instants.\r\n\r\n[1]: http://joda-time.sourceforge.net/api-release/org/joda/time/Interval.html\r\n[2]: http://joda-time.sourceforge.net/api-release/org/joda/time/DateMidnight.html\r\n[3]: http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html","title":"LocalDate interval in Joda-time","body":"<p>The <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/Interval.html\" rel=\"noreferrer\">Interval</a> class represents an interval of time from one millisecond instant to another instant (complete with timezone). <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateMidnight.html\" rel=\"noreferrer\">DateMidnight</a> is such an instant. So your proposed implementation of an interval for DateMidnights is allready there.</p>\n\n<pre><code>Interval i = new Interval(\n    new DateMidnight(2010, 3, 2), new DateMidnight(2010, 3, 5));\n\ni.contains(new DateTime(2010, 3, 1, 23, 59, 59, 999)); // == false\ni.contains(new DateTime(2010, 3, 2, 0, 0, 0, 0)); // == true\ni.contains(new DateTime(2010, 3, 4, 23, 59, 59, 999)); // == true\ni.contains(new DateTime(2010, 3, 5, 0, 0, 0, 0)); // == false\n</code></pre>\n\n<p>However the concept of your searched interval for <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html\" rel=\"noreferrer\">LocalDates</a> aka a Partial (without timezones) is not yet existent. If you're going to implement it for yourself, don't implement any interval interfaces at all. It would interfere with your wishes, because it is, as stated before, based on instants.</p>\n"},{"tags":[],"owner":{"account_id":1990212,"reputation":41,"user_id":1784395,"display_name":"Michael Nascimento Santos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351570950,"creation_date":1351569199,"answer_id":13132397,"question_id":4387549,"body_markdown":"Note that using `DateMidnight` will fail at the DST switch. It is better to convert using `date.toDateTimeAtStartOfDay()`.","title":"LocalDate interval in Joda-time","body":"<p>Note that using <code>DateMidnight</code> will fail at the DST switch. It is better to convert using <code>date.toDateTimeAtStartOfDay()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1450282,"reputation":468,"user_id":1367432,"display_name":"Dmitry Serdiuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690964013,"creation_date":1361439205,"answer_id":14998753,"question_id":4387549,"body_markdown":"I needed intervals of LocalDate objects too but it&#39;s not supported by JodaTime.\r\nSo I had to create my own implementation. Later I&#39;ve decided to polish it a bit and make it open source.\r\n\r\nYou can check it out: https://github.com/serddmitry/joda-interval (available on Maven Central).","title":"LocalDate interval in Joda-time","body":"<p>I needed intervals of LocalDate objects too but it's not supported by JodaTime.\nSo I had to create my own implementation. Later I've decided to polish it a bit and make it open source.</p>\n<p>You can check it out: <a href=\"https://github.com/serddmitry/joda-interval\" rel=\"nofollow noreferrer\">https://github.com/serddmitry/joda-interval</a> (available on Maven Central).</p>\n"},{"tags":[],"owner":{"account_id":4428862,"reputation":356,"user_id":3606492,"display_name":"olivr"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1494446881,"creation_date":1399347285,"answer_id":23485533,"question_id":4387549,"body_markdown":"I personnaly use the [Range][1] class from Guava.\r\n\r\nIt supports open ended ranges. It is also possible to specify included or excluded bounds. Among other numerous possibilities, those allow to easily represent &quot;before a date&quot; or &quot;after a date&quot;.\r\n\r\nExample for open-ended intervals.\r\n\r\n    Range&lt;LocalDate&gt; before2010 = Range.atMost(new LocalDate(&quot;2009-12-31&quot;));\r\n    Range&lt;LocalDate&gt; alsoBefore2010 = Range.lessThan(new LocalDate(&quot;2010-01-01&quot;));\r\n\r\nIt also offerts easy testing predicates, like contains and containsAll, and an intersection operation. All this tested and maintained.\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Range.html","title":"LocalDate interval in Joda-time","body":"<p>I personnaly use the <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/Range.html\" rel=\"noreferrer\">Range</a> class from Guava.</p>\n\n<p>It supports open ended ranges. It is also possible to specify included or excluded bounds. Among other numerous possibilities, those allow to easily represent \"before a date\" or \"after a date\".</p>\n\n<p>Example for open-ended intervals.</p>\n\n<pre><code>Range&lt;LocalDate&gt; before2010 = Range.atMost(new LocalDate(\"2009-12-31\"));\nRange&lt;LocalDate&gt; alsoBefore2010 = Range.lessThan(new LocalDate(\"2010-01-01\"));\n</code></pre>\n\n<p>It also offerts easy testing predicates, like contains and containsAll, and an intersection operation. All this tested and maintained.</p>\n"},{"tags":[],"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497423660,"creation_date":1497423660,"answer_id":44537683,"question_id":4387549,"body_markdown":"    public class LocalDateInterval {\r\n   \r\n       private LocalDate begin;\r\n       private LocalDate end;\r\n   \r\n       public LocalDateInterval(LocalDate begin, LocalDate end) {\r\n         this.begin = begin;\r\n         this.end = end;\r\n       }\r\n   \r\n   \r\n\r\n    }\r\n\r\nThis works for me. ","title":"LocalDate interval in Joda-time","body":"<pre><code>public class LocalDateInterval {\n\n   private LocalDate begin;\n   private LocalDate end;\n\n   public LocalDateInterval(LocalDate begin, LocalDate end) {\n     this.begin = begin;\n     this.end = end;\n   }\n\n\n\n}\n</code></pre>\n\n<p>This works for me. </p>\n"}],"owner":{"account_id":2464,"reputation":9505,"user_id":3432,"accept_rate":86,"display_name":"Wouter Coekaerts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22536,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":23485533,"answer_count":6,"score":33,"last_activity_date":1690964013,"creation_date":1291812233,"question_id":4387549,"body_markdown":"Joda-time has an [Interval][1] class, which is a range between [DateTime][2]s. What can be used for a range of [LocalDate][3]s?\r\n\r\nI want an object that represents, for example &quot;from 1/1/2011 to 10/1/2011&quot;, without the time (or timezones) ever coming into the picture.\r\n\r\nAs far as I see, joda-time doesn&#39;t have anything built in for that.\r\nIf there doesn&#39;t exist anything for it, and we&#39;d create it, what should it look like? Most importantly, which interfaces from joda-time could it implement to best integrate into the other types, staying consistent with the joda-time design?\r\nWould it make sense for it to implement `ReadableInterval`, where `getStart` and `getEnd` return `DateMidnight`?\r\n\r\n\r\n  [1]: http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/Interval.html\r\n  [2]: http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/DateTime.html\r\n  [3]: http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/LocalDate.html","title":"LocalDate interval in Joda-time","body":"<p>Joda-time has an <a href=\"http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/Interval.html\" rel=\"noreferrer\">Interval</a> class, which is a range between <a href=\"http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/DateTime.html\" rel=\"noreferrer\">DateTime</a>s. What can be used for a range of <a href=\"http://www.jarvana.com/jarvana/view/joda-time/joda-time/1.5.1/joda-time-1.5.1-javadoc.jar!/org/joda/time/LocalDate.html\" rel=\"noreferrer\">LocalDate</a>s?</p>\n\n<p>I want an object that represents, for example \"from 1/1/2011 to 10/1/2011\", without the time (or timezones) ever coming into the picture.</p>\n\n<p>As far as I see, joda-time doesn't have anything built in for that.\nIf there doesn't exist anything for it, and we'd create it, what should it look like? Most importantly, which interfaces from joda-time could it implement to best integrate into the other types, staying consistent with the joda-time design?\nWould it make sense for it to implement <code>ReadableInterval</code>, where <code>getStart</code> and <code>getEnd</code> return <code>DateMidnight</code>?</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690963931,"creation_date":1690963931,"question_id":76817858,"body_markdown":"Anyone can explain to me how can found a document by DBRef ?     \r\nI have this models : \r\n```\r\npublic class Person {\r\n    @BsonId\r\n    private ObjectId id;\r\n    private String name;\r\n    private DBRef book ;\r\n    // Getter &amp; Setter\r\n} \r\n\r\npublic class Book {\r\n    @BsonId\r\n    private ObjectId id ;\r\n    private String name ;\r\n    // Getter and Setter \r\n} \r\n``` \r\n\r\nand this Simple Main Class :  \r\n```\r\nimport com.mongodb.*;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoCollection;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport com.mongodb.client.gridfs.codecs.GridFSFileCodecProvider;\r\nimport com.mongodb.client.model.Filters;\r\nimport com.mongodb.client.model.geojson.codecs.GeoJsonCodecProvider;\r\nimport com.mongodb.connection.ClusterSettings;\r\nimport org.bson.codecs.BsonValueCodecProvider;\r\nimport org.bson.codecs.DocumentCodecProvider;\r\nimport org.bson.codecs.ValueCodecProvider;\r\nimport org.bson.codecs.configuration.CodecProvider;\r\nimport org.bson.codecs.configuration.CodecRegistries;\r\nimport org.bson.codecs.pojo.PojoCodecProvider;\r\nimport org.bson.types.ObjectId;\r\n\r\nimport java.util.List;\r\n\r\nimport static com.mongodb.MongoClientSettings.getDefaultCodecRegistry;\r\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\r\n\r\npublic class MainClass {\r\n    private static final String HOST = &quot;127.0.0.1&quot;;\r\n    private static final int PORT = 27017;\r\n    private static final String USERNAME = &quot;admin&quot;;\r\n    private static final String PASSWORD = &quot;adminpass&quot;;\r\n    private static final String DATABASE = &quot;tutorial&quot;;\r\n\r\n    private static final List&lt;CodecProvider&gt; codecProviderList = List.of(\r\n            new ValueCodecProvider(),\r\n            new BsonValueCodecProvider(),\r\n            new DocumentCodecProvider(),\r\n            new DBRefCodecProvider(),\r\n            new DBObjectCodecProvider(),\r\n            new BsonValueCodecProvider(),\r\n            new GeoJsonCodecProvider(),\r\n            getDefaultCodecRegistry(),\r\n            fromProviders(PojoCodecProvider.builder().automatic(true).build()),\r\n            new GridFSFileCodecProvider());\r\n    private static final MongoDatabase mongoDatabase;\r\n\r\n    private static void getHosts(ClusterSettings.Builder builder) {\r\n        builder.hosts(List.of(new ServerAddress(HOST, PORT)));\r\n    }\r\n\r\n    private static MongoClient createMongoClient() {\r\n        MongoCredential credential = MongoCredential.createCredential(USERNAME, DATABASE, PASSWORD.toCharArray());\r\n        MongoClientSettings settings = MongoClientSettings.builder()\r\n                .applyToClusterSettings(MainClass::getHosts)\r\n                .credential(credential)\r\n                .build();\r\n        return MongoClients.create(settings);\r\n    }\r\n\r\n    public static MongoDatabase getDatabase(MongoClient mongoClient) {\r\n        return mongoClient.getDatabase(DATABASE)\r\n                .withCodecRegistry(CodecRegistries.fromProviders(codecProviderList));\r\n    }\r\n\r\n    static {\r\n        MongoClient mongoClient = createMongoClient();\r\n        mongoDatabase = getDatabase(mongoClient);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MongoCollection&lt;Person&gt; personCollection = mongoDatabase.getCollection(&quot;person&quot;, Person.class);\r\n        MongoCollection&lt;Book&gt; bookCollection = mongoDatabase.getCollection(&quot;book&quot;, Book.class);\r\n\r\n        /* Insert to database */\r\n/*\r\n        Book book = new Book();\r\n        book.setName(&quot;Test Book&quot;);\r\n        bookCollection.insertOne(book);\r\n\r\n\r\n        Person person = new Person();\r\n        person.setName(&quot;Mohammad&quot;);\r\n        person.setBook(new DBRef(&quot;book&quot;,book.getId()));\r\n        personCollection.insertOne(person);\r\n*/\r\n\r\n        Person person = personCollection.find(Filters.eq(&quot;name&quot;, &quot;Mohammad&quot;)).first();\r\n        ObjectId personObjectId = person.getId();\r\n\r\n        Book book = bookCollection.find(Filters.eq(&quot;book&quot;, new DBRef(&quot;person&quot;, personObjectId))).first();\r\n        System.out.println(book.getName());\r\n    }\r\n}\r\n``` \r\n\r\nWhy I always receive this error ?   \r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: DBRefCodec does not support decoding\r\n``` \r\n","title":"Java &amp; MongoDB find document by DBRef","body":"<p>Anyone can explain to me how can found a document by DBRef ?<br />\nI have this models :</p>\n<pre><code>public class Person {\n    @BsonId\n    private ObjectId id;\n    private String name;\n    private DBRef book ;\n    // Getter &amp; Setter\n} \n\npublic class Book {\n    @BsonId\n    private ObjectId id ;\n    private String name ;\n    // Getter and Setter \n} \n</code></pre>\n<p>and this Simple Main Class :</p>\n<pre><code>import com.mongodb.*;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport com.mongodb.client.gridfs.codecs.GridFSFileCodecProvider;\nimport com.mongodb.client.model.Filters;\nimport com.mongodb.client.model.geojson.codecs.GeoJsonCodecProvider;\nimport com.mongodb.connection.ClusterSettings;\nimport org.bson.codecs.BsonValueCodecProvider;\nimport org.bson.codecs.DocumentCodecProvider;\nimport org.bson.codecs.ValueCodecProvider;\nimport org.bson.codecs.configuration.CodecProvider;\nimport org.bson.codecs.configuration.CodecRegistries;\nimport org.bson.codecs.pojo.PojoCodecProvider;\nimport org.bson.types.ObjectId;\n\nimport java.util.List;\n\nimport static com.mongodb.MongoClientSettings.getDefaultCodecRegistry;\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\n\npublic class MainClass {\n    private static final String HOST = &quot;127.0.0.1&quot;;\n    private static final int PORT = 27017;\n    private static final String USERNAME = &quot;admin&quot;;\n    private static final String PASSWORD = &quot;adminpass&quot;;\n    private static final String DATABASE = &quot;tutorial&quot;;\n\n    private static final List&lt;CodecProvider&gt; codecProviderList = List.of(\n            new ValueCodecProvider(),\n            new BsonValueCodecProvider(),\n            new DocumentCodecProvider(),\n            new DBRefCodecProvider(),\n            new DBObjectCodecProvider(),\n            new BsonValueCodecProvider(),\n            new GeoJsonCodecProvider(),\n            getDefaultCodecRegistry(),\n            fromProviders(PojoCodecProvider.builder().automatic(true).build()),\n            new GridFSFileCodecProvider());\n    private static final MongoDatabase mongoDatabase;\n\n    private static void getHosts(ClusterSettings.Builder builder) {\n        builder.hosts(List.of(new ServerAddress(HOST, PORT)));\n    }\n\n    private static MongoClient createMongoClient() {\n        MongoCredential credential = MongoCredential.createCredential(USERNAME, DATABASE, PASSWORD.toCharArray());\n        MongoClientSettings settings = MongoClientSettings.builder()\n                .applyToClusterSettings(MainClass::getHosts)\n                .credential(credential)\n                .build();\n        return MongoClients.create(settings);\n    }\n\n    public static MongoDatabase getDatabase(MongoClient mongoClient) {\n        return mongoClient.getDatabase(DATABASE)\n                .withCodecRegistry(CodecRegistries.fromProviders(codecProviderList));\n    }\n\n    static {\n        MongoClient mongoClient = createMongoClient();\n        mongoDatabase = getDatabase(mongoClient);\n    }\n\n    public static void main(String[] args) {\n        MongoCollection&lt;Person&gt; personCollection = mongoDatabase.getCollection(&quot;person&quot;, Person.class);\n        MongoCollection&lt;Book&gt; bookCollection = mongoDatabase.getCollection(&quot;book&quot;, Book.class);\n\n        /* Insert to database */\n/*\n        Book book = new Book();\n        book.setName(&quot;Test Book&quot;);\n        bookCollection.insertOne(book);\n\n\n        Person person = new Person();\n        person.setName(&quot;Mohammad&quot;);\n        person.setBook(new DBRef(&quot;book&quot;,book.getId()));\n        personCollection.insertOne(person);\n*/\n\n        Person person = personCollection.find(Filters.eq(&quot;name&quot;, &quot;Mohammad&quot;)).first();\n        ObjectId personObjectId = person.getId();\n\n        Book book = bookCollection.find(Filters.eq(&quot;book&quot;, new DBRef(&quot;person&quot;, personObjectId))).first();\n        System.out.println(book.getName());\n    }\n}\n</code></pre>\n<p>Why I always receive this error ?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: DBRefCodec does not support decoding\n</code></pre>\n"},{"tags":["java","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":432566,"reputation":6917,"user_id":817399,"accept_rate":70,"display_name":"vainolo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1342178847,"creation_date":1342178847,"answer_id":11469603,"question_id":11469218,"body_markdown":"What he means is that if you don&#39;t know what a thread does and how it works, you should not interrupt it. Since all threads can be interrupted, it is logical to have an `interrupt()` method in class `Thread`.\r\n\r\nYou could ask the same thing for many other methods that can do &quot;harm&quot; when executed at the wrong place. The methods are the tools, and the programmer must use these tools wisely in order to create a program that works correctly.","title":"What or who should interrupt a Thread?","body":"<p>What he means is that if you don't know what a thread does and how it works, you should not interrupt it. Since all threads can be interrupted, it is logical to have an <code>interrupt()</code> method in class <code>Thread</code>.</p>\n\n<p>You could ask the same thing for many other methods that can do \"harm\" when executed at the wrong place. The methods are the tools, and the programmer must use these tools wisely in order to create a program that works correctly.</p>\n"},{"tags":[],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1342178858,"creation_date":1342178858,"answer_id":11469604,"question_id":11469218,"body_markdown":"I first recommend you to read [Java Concurrency in Practice][1].\r\n\r\nI think, this [question][2] can answer what you mentioned.\r\n\r\nBy the way, let&#39;s see how we can prevent threads. We can prevent a thread from execution by using any of the 3 methods of Thread class:\r\n\r\n1. `yield()`\r\n2. `join()`\r\n3. `sleep()`\r\n\r\n&lt;!-- pointless thing to prevent markdown from screwing up --&gt;\r\n\r\n1. `yield()` method pauses the currently executing thread temporarily for giving a chance to the remaining waiting threads of the same priority to execute. If there is no waiting thread or all the waiting threads have a lower priority then the same thread will continue its execution. The yielded thread when it will get the chance for execution is decided by the thread scheduler whose behavior is vendor dependent.\r\n    \r\n2. `join()` If any executing thread t1 calls `join()` on t2 i.e; `t2.join()` immediately t1 will enter into waiting state until t2 completes its execution.\r\n    \r\n3. `sleep()` Based on our requirement we can make a thread to be in sleeping state for a specified period of time.\r\n\r\n\r\n  [1]: http://www.javaconcurrencyinpractice.com/\r\n  [2]: https://stackoverflow.com/questions/2020992/is-thread-interrupt-evil","title":"What or who should interrupt a Thread?","body":"<p>I first recommend you to read <a href=\"http://www.javaconcurrencyinpractice.com/\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a>.</p>\n\n<p>I think, this <a href=\"https://stackoverflow.com/questions/2020992/is-thread-interrupt-evil\">question</a> can answer what you mentioned.</p>\n\n<p>By the way, let's see how we can prevent threads. We can prevent a thread from execution by using any of the 3 methods of Thread class:</p>\n\n<ol>\n<li><code>yield()</code></li>\n<li><code>join()</code></li>\n<li><code>sleep()</code></li>\n</ol>\n\n\n\n<ol>\n<li><p><code>yield()</code> method pauses the currently executing thread temporarily for giving a chance to the remaining waiting threads of the same priority to execute. If there is no waiting thread or all the waiting threads have a lower priority then the same thread will continue its execution. The yielded thread when it will get the chance for execution is decided by the thread scheduler whose behavior is vendor dependent.</p></li>\n<li><p><code>join()</code> If any executing thread t1 calls <code>join()</code> on t2 i.e; <code>t2.join()</code> immediately t1 will enter into waiting state until t2 completes its execution.</p></li>\n<li><p><code>sleep()</code> Based on our requirement we can make a thread to be in sleeping state for a specified period of time.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":292436,"reputation":2498,"user_id":595189,"accept_rate":92,"display_name":"TeaOverflow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342179928,"creation_date":1342179928,"answer_id":11469863,"question_id":11469218,"body_markdown":"Well, its not a flaw, by no means. (However, other methods like `Thread.stop()`  indeed are) \r\n\r\nWhat makes `Thread.interrupt()`better is that it only affects the thread if it  is blocked/waiting/sleeping. If it is running `interrupt()` only asks the thread to stop doing so by setting a status variable, which can be queried by `Thread.interrupted()` or `Thread.isInterrupted()`\r\n\r\nUsually, it is the best way to let threads return from their `run()` method instead of stopping them externally in any way. \r\n\r\n    void run() {\r\n        while(!isInterrupted())\r\n            //executed\r\n    \r\n    }\r\n\r\nBe careful  with `Thread.interrupted()` though, because it clears the interupt-status.\r\n","title":"What or who should interrupt a Thread?","body":"<p>Well, its not a flaw, by no means. (However, other methods like <code>Thread.stop()</code>  indeed are) </p>\n\n<p>What makes <code>Thread.interrupt()</code>better is that it only affects the thread if it  is blocked/waiting/sleeping. If it is running <code>interrupt()</code> only asks the thread to stop doing so by setting a status variable, which can be queried by <code>Thread.interrupted()</code> or <code>Thread.isInterrupted()</code></p>\n\n<p>Usually, it is the best way to let threads return from their <code>run()</code> method instead of stopping them externally in any way. </p>\n\n<pre><code>void run() {\n    while(!isInterrupted())\n        //executed\n\n}\n</code></pre>\n\n<p>Be careful  with <code>Thread.interrupted()</code> though, because it clears the interupt-status.</p>\n"},{"tags":[],"owner":{"account_id":2169094,"reputation":87,"user_id":2377645,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690963906,"creation_date":1690961908,"answer_id":76817607,"question_id":11469218,"body_markdown":"I don&#39;t think accepted answer exactly answers Goetzs statement.\r\nYou should call `interrupt()` only to restore interrupted flag after catching `InterruptedException` if you can&#39;t rethrow it.\r\nUnless it is your own thread (you call `start()` on it somewhere)\r\n","title":"What or who should interrupt a Thread?","body":"<p>I don't think accepted answer exactly answers Goetzs statement.\nYou should call <code>interrupt()</code> only to restore interrupted flag after catching <code>InterruptedException</code> if you can't rethrow it.\nUnless it is your own thread (you call <code>start()</code> on it somewhere)</p>\n"}],"owner":{"account_id":1197503,"reputation":7576,"user_id":1168904,"accept_rate":77,"display_name":"Inquisitive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11469603,"answer_count":4,"score":6,"last_activity_date":1690963906,"creation_date":1342177426,"question_id":11469218,"body_markdown":"According to Goetz in his book JCIP :\r\n\r\n&gt; Because each thread has its own interruption policy , you should not interrupt a thread unless you know what interruption means to that thread .\r\n\r\nWhy did the Java language provide a `public interrupt ()` method then ?Is this a design flaw? Who or what is supposed to interrupt a thread then ?","title":"What or who should interrupt a Thread?","body":"<p>According to Goetz in his book JCIP :</p>\n\n<blockquote>\n  <p>Because each thread has its own interruption policy , you should not interrupt a thread unless you know what interruption means to that thread .</p>\n</blockquote>\n\n<p>Why did the Java language provide a <code>public interrupt ()</code> method then ?Is this a design flaw? Who or what is supposed to interrupt a thread then ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690962415,"post_id":76817574,"comment_id":135424238,"body_markdown":"When Spring creates an instance of `JwtApplication`, what values are you expecting it to use for `a` and `b`?","body":"When Spring creates an instance of <code>JwtApplication</code>, what values are you expecting it to use for <code>a</code> and <code>b</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690962756,"creation_date":1690962756,"answer_id":76817706,"question_id":76817574,"body_markdown":"This has nothing to do with primitive vs. wrapper types.\r\n\r\nWhen the line\r\n```java\r\nSpringApplication.run(JwtApplication.class, args);\r\n```\r\nis executed, Spring Boot will create an instance of JwtApplication for you, using it&#39;s dependency injection mechanism. Since the only constructor of JwtApplication has two int arguments, Spring Boot needs to know which numbers to use. And it has no way to know.\r\n\r\nSolution: Don&#39;t do anything fancy in your main class. Remove all the extra code (and put it somewhere else), so that only\r\n```java\r\n@SpringBootApplication\r\npublic class JwtApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(JwtApplication.class, args);\r\n    }\r\n}\r\n```\r\nremains.","title":"Why SpringBoot does not uses primitive data types instead it suggests to use Wrapper Class .?","body":"<p>This has nothing to do with primitive vs. wrapper types.</p>\n<p>When the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpringApplication.run(JwtApplication.class, args);\n</code></pre>\n<p>is executed, Spring Boot will create an instance of JwtApplication for you, using it's dependency injection mechanism. Since the only constructor of JwtApplication has two int arguments, Spring Boot needs to know which numbers to use. And it has no way to know.</p>\n<p>Solution: Don't do anything fancy in your main class. Remove all the extra code (and put it somewhere else), so that only</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class JwtApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(JwtApplication.class, args);\n    }\n}\n</code></pre>\n<p>remains.</p>\n"}],"owner":{"account_id":28879742,"reputation":1,"user_id":22119456,"display_name":"Gokul Krishnan J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690962756,"creation_date":1690961665,"question_id":76817574,"body_markdown":"I am Working with Springboot and I declared int a; it suggested to create a bean with wrapper class.\r\n\r\n\r\nExplanation of why we creating bean with wrapper class.\r\n\r\nhere is my code and error \r\n```\r\npackage com.example.jwt;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class JwtApplication {\r\n\tint a;\r\n\tint b;\r\n\r\n\tpublic JwtApplication(int a,int b){\r\n\t\tthis.a = a;\r\n\t\tthis.b = b;\r\n\t}\r\n\tpublic int area(){\r\n\t\treturn a*b;\r\n\t}\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(JwtApplication.class, args);\r\n\t\tJwtApplication ob = new JwtApplication(1,2);\r\n\t\tint area = ob.area();\r\n\t\tSystem.out.println(area);\r\n\t}\r\n\r\n}\r\n\r\n```Description:\r\n\r\nParameter 0 of constructor in com.example.jwt.JwtApplication required a bean of type &#39;int&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;int&#39; in your configuration.\r\n\r\n","title":"Why SpringBoot does not uses primitive data types instead it suggests to use Wrapper Class .?","body":"<p>I am Working with Springboot and I declared int a; it suggested to create a bean with wrapper class.</p>\n<p>Explanation of why we creating bean with wrapper class.</p>\n<p>here is my code and error</p>\n<pre><code>package com.example.jwt;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class JwtApplication {\n    int a;\n    int b;\n\n    public JwtApplication(int a,int b){\n        this.a = a;\n        this.b = b;\n    }\n    public int area(){\n        return a*b;\n    }\n\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(JwtApplication.class, args);\n        JwtApplication ob = new JwtApplication(1,2);\n        int area = ob.area();\n        System.out.println(area);\n    }\n\n}\n\n```Description:\n\nParameter 0 of constructor in com.example.jwt.JwtApplication required a bean of type 'int' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'int' in your configuration.\n\n</code></pre>\n"},{"tags":["java","nio","randomaccessfile","filechannel"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1417065237,"post_id":27163488,"comment_id":42819775,"body_markdown":"Why? Well, *Currently I am using `transferTO` method of `FileChannel `to read and copy* is one good reason.","body":"Why? Well, <i>Currently I am using <code>transferTO</code> method of <code>FileChannel </code>to read and copy</i> is one good reason."},{"owner":{"account_id":2117354,"reputation":2577,"user_id":1881309,"accept_rate":51,"display_name":"fscore"},"score":0,"creation_date":1417065348,"post_id":27163488,"comment_id":42819802,"body_markdown":"I mean I am not using it but eventually would like to but not sure how to identify if that is better than RAF","body":"I mean I am not using it but eventually would like to but not sure how to identify if that is better than RAF"}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417065399,"creation_date":1417065399,"answer_id":27163537,"question_id":27163488,"body_markdown":"FileChannel API says: A region of a file may be mapped directly into memory; for large files this is often much more efficient than invoking the usual read or write methods. ","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p>FileChannel API says: A region of a file may be mapped directly into memory; for large files this is often much more efficient than invoking the usual read or write methods. </p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1417066237,"creation_date":1417066237,"answer_id":27163686,"question_id":27163488,"body_markdown":"RandomAccessFile is good in performance plus it allows to read and write most major types directly.","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p>RandomAccessFile is good in performance plus it allows to read and write most major types directly.</p>\n"},{"tags":[],"owner":{"account_id":5398200,"reputation":109,"user_id":4298747,"display_name":"Shiva Krish"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1417068712,"creation_date":1417068712,"answer_id":27164160,"question_id":27163488,"body_markdown":"**FileChannel**s are safe for use by multiple concurrent threads.","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p><strong>FileChannel</strong>s are safe for use by multiple concurrent threads.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417750544,"creation_date":1417740768,"answer_id":27306995,"question_id":27163488,"body_markdown":"There is nothing to choose between them unless you use a `FileChannel` with direct buffers and never access the data yourself, e.g. you only copy it to a `SocketChannel.` This is faster because data never has to cross the JNI/JVM boundary.\r\n\r\nBut I am wondering why you don&#39;t pick `BufferedReader`. It will *certainly* be orders of magnitude faster than either of these for reading a file line by line. ","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p>There is nothing to choose between them unless you use a <code>FileChannel</code> with direct buffers and never access the data yourself, e.g. you only copy it to a <code>SocketChannel.</code> This is faster because data never has to cross the JNI/JVM boundary.</p>\n\n<p>But I am wondering why you don't pick <code>BufferedReader</code>. It will <em>certainly</em> be orders of magnitude faster than either of these for reading a file line by line. </p>\n"},{"tags":[],"owner":{"account_id":192288,"reputation":18238,"user_id":433344,"accept_rate":63,"display_name":"Robert Christian"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1423254703,"creation_date":1423254703,"answer_id":28374280,"question_id":27163488,"body_markdown":"**RandomAccessFile source:**\r\n\r\n*See that RandomAccessFile is actually using FileChannel under the hood...*\r\n\r\n    public final FileChannel getChannel() {\r\n             synchronized (this) {\r\n                 if (channel == null) {\r\n                     channel = FileChannelImpl.open(fd, true, rw, this);\r\n     \r\n                     /*\r\n                      * FileDescriptor could be shared by FileInputStream or\r\n                      * FileOutputStream.\r\n                      * Ensure that FD is GC&#39;ed only when all the streams/channels\r\n                      * are done using it.\r\n                      * Increment fd&#39;s use count. Invoking the channel&#39;s close()\r\n                      * method will result in decrementing the use count set for\r\n                      * the channel.\r\n                      */\r\n                     fd.incrementAndGetUseCount();\r\n                 }\r\n                 return channel;\r\n             }\r\n         }\r\n\r\nhttp://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/RandomAccessFile.java","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p><strong>RandomAccessFile source:</strong></p>\n\n<p><em>See that RandomAccessFile is actually using FileChannel under the hood...</em></p>\n\n<pre><code>public final FileChannel getChannel() {\n         synchronized (this) {\n             if (channel == null) {\n                 channel = FileChannelImpl.open(fd, true, rw, this);\n\n                 /*\n                  * FileDescriptor could be shared by FileInputStream or\n                  * FileOutputStream.\n                  * Ensure that FD is GC'ed only when all the streams/channels\n                  * are done using it.\n                  * Increment fd's use count. Invoking the channel's close()\n                  * method will result in decrementing the use count set for\n                  * the channel.\n                  */\n                 fd.incrementAndGetUseCount();\n             }\n             return channel;\n         }\n     }\n</code></pre>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/RandomAccessFile.java\" rel=\"nofollow\">http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/RandomAccessFile.java</a></p>\n"}],"owner":{"account_id":2117354,"reputation":2577,"user_id":1881309,"accept_rate":51,"display_name":"fscore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7625,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1690962493,"creation_date":1417065095,"question_id":27163488,"body_markdown":"I recently came across [FileChannel][1], I am a big fan of [RandomAccessFile][2]. But I am wondering why would I pick `FileChannel` over `RandomAccessFile` for reading from a file and writing that content to another.\r\n\r\nIs there any specific performance reason? I dont want to use locking of `FileChannel` for any purpose as I believe that could be one of the reasons why filechannel can be used. I don&#39;t want to use `BufferReader` or anything like that as suggested in [other][3] StackOverflow response. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html\r\n  [3]: https://stackoverflow.com/questions/13190989/randomaccessfile-vs-java-nio-file-channel-with-buffers","title":"Who is better in performance filechannel or RandomAccessFile for reading and writing?","body":"<p>I recently came across <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html\" rel=\"nofollow noreferrer\">FileChannel</a>, I am a big fan of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\">RandomAccessFile</a>. But I am wondering why would I pick <code>FileChannel</code> over <code>RandomAccessFile</code> for reading from a file and writing that content to another.</p>\n\n<p>Is there any specific performance reason? I dont want to use locking of <code>FileChannel</code> for any purpose as I believe that could be one of the reasons why filechannel can be used. I don't want to use <code>BufferReader</code> or anything like that as suggested in <a href=\"https://stackoverflow.com/questions/13190989/randomaccessfile-vs-java-nio-file-channel-with-buffers\">other</a> StackOverflow response. </p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690962470,"creation_date":1659498699,"answer_id":73216109,"question_id":73215752,"body_markdown":"The HelloJob is not manage by spring.you can use util acquire UserRepository obj like this:\r\n\r\n    private UserRepository userRepository;\r\n\r\n\tpublic HelloJob() {\r\n\t\tthis.userRepository = SpringBeanUtils.getBean(UserRepository.class);\r\n\t}\r\n\r\nThe SpringBeanUtils :\r\n\r\n    @Component\r\n    public class SpringBeanUtils implements ApplicationContextAware {\r\n    \r\n        private static ApplicationContext context;\r\n    \r\n        public static Object getBean(String name) {\r\n            return getApplicationContext().getBean(name);\r\n        }\r\n    \r\n        public static &lt;T&gt; T getBean(String name, Class&lt;T&gt; clazz) {\r\n            return getApplicationContext().getBean(name, clazz);\r\n        }\r\n    \r\n        public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\r\n            return getApplicationContext().getBean(clazz);\r\n        }\r\n    \r\n        public static ApplicationContext getApplicationContext() {\r\n            Assert.notNull(context, &quot;applicationContext must be not null&quot;);\r\n            return context;\r\n        }\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n            SpringBeanUtils.context = applicationContext;\r\n        }\r\n    \r\n    }","title":"JdbcTemplate is not automatically injected (&amp;quartz)","body":"<p>The HelloJob is not manage by spring.you can use util acquire UserRepository obj like this:</p>\n<pre><code>private UserRepository userRepository;\n\npublic HelloJob() {\n    this.userRepository = SpringBeanUtils.getBean(UserRepository.class);\n}\n</code></pre>\n<p>The SpringBeanUtils :</p>\n<pre><code>@Component\npublic class SpringBeanUtils implements ApplicationContextAware {\n\n    private static ApplicationContext context;\n\n    public static Object getBean(String name) {\n        return getApplicationContext().getBean(name);\n    }\n\n    public static &lt;T&gt; T getBean(String name, Class&lt;T&gt; clazz) {\n        return getApplicationContext().getBean(name, clazz);\n    }\n\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) {\n        return getApplicationContext().getBean(clazz);\n    }\n\n    public static ApplicationContext getApplicationContext() {\n        Assert.notNull(context, &quot;applicationContext must be not null&quot;);\n        return context;\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        SpringBeanUtils.context = applicationContext;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20039035,"reputation":3,"user_id":14690108,"display_name":"Yves J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659507679,"accepted_answer_id":73216109,"answer_count":1,"score":0,"last_activity_date":1690962470,"creation_date":1659494435,"question_id":73215752,"body_markdown":"`JobController.java ` (POST/testjob)-&gt; to start quartz Scheduler\r\n\r\n(POST/testjob **=&gt;** start Scheduler **=&gt;** `QuartzJob.java` **=&gt;** run execute **=&gt;** HelloJob do runJob())\r\n\r\nBUT When `userRepository.printData()`, I got error `NullPointerException` from \r\n```\r\n@Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n```\r\n\r\n### JobController : ###\r\n\r\n```\r\n@RestController\r\npublic class JobController {\r\n\t\r\n\tpublic static SchedulerFactory sf;\r\n\tpublic static Scheduler sched;\r\n\tpublic static CronTrigger trigger;\r\n\tpublic static JobDetail jobDetail;\r\n\t\r\n\t@RequestMapping(path = &quot;/testjob&quot;, method = RequestMethod.POST)\r\n\tpublic String testjob() {\r\n\t\tClass c;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tc = Class.forName(&quot;com.demo.jobs.HelloJob&quot;);\r\n\t\t\tsf = new org.quartz.impl.StdSchedulerFactory();\r\n\t\t\tsched = sf.getScheduler();\r\n\r\n\t\t\tjobDetail = JobBuilder.newJob(c).withIdentity(&quot;myJob&quot;, &quot;group1&quot;).build();\r\n\t\t\ttrigger = (CronTrigger) TriggerBuilder.newTrigger()\r\n\t\t\t\t\t.withIdentity(&quot;myTrigger&quot;, &quot;group1&quot;)\r\n\t\t\t\t\t.withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/5 0-59 0-23 * * ?&quot;))\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\tsched.scheduleJob(jobDetail, trigger);\r\n\t\t\tsched.start();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn &quot;testjob!&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n### QuartzJob.java ###\r\n```\r\n@DisallowConcurrentExecution\r\npublic abstract class QuartzJob implements Job {\r\n\t\r\n\tpublic abstract void runJob() throws Exception;\r\n\t\r\n\t@Override\r\n\tpublic void execute(JobExecutionContext context) throws JobExecutionException {\r\n\t\ttry {\r\n\t\t\trunJob();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### HelloJob.java: ###\r\n```\r\npublic class HelloJob extends QuartzJob {\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\r\n\t@Override\r\n\tpublic void runJob() throws Exception{\r\n\t\ttry {\r\n\t\t\tuserRepository.printData();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### UserImpl.java: ###\r\n```\r\n@Repository\r\npublic class UserImpl implements UserRepository {\r\n\t\r\n\t@Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n\t\r\n\t@Override\r\n\tpublic void printData() {\r\n\t\tList&lt;User&gt; result = jdbcTemplate.query(&quot; SELECT * FROM USER &quot;,\r\n\t\t\t\tnew BeanPropertyRowMapper&lt;User&gt;(User.class), new Object[] {});\r\n\t\tfor (User u : result) {\r\n\t\t\tSystem.out.println(&quot;name: &quot; + u.getName() + &quot; ~ &quot; + &quot;phone: &quot; + u.getPhone());\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nDoes anybody have some experience with it? How to do it better? THANKS~\r\n\r\ngithub_demo:https://github.com/qxgnbryoo81014/demo","title":"JdbcTemplate is not automatically injected (&amp;quartz)","body":"<p><code>JobController.java </code> (POST/testjob)-&gt; to start quartz Scheduler</p>\n<p>(POST/testjob <strong>=&gt;</strong> start Scheduler <strong>=&gt;</strong> <code>QuartzJob.java</code> <strong>=&gt;</strong> run execute <strong>=&gt;</strong> HelloJob do runJob())</p>\n<p>BUT When <code>userRepository.printData()</code>, I got error <code>NullPointerException</code> from</p>\n<pre><code>@Autowired\n    private JdbcTemplate jdbcTemplate;\n</code></pre>\n<h3>JobController :</h3>\n<pre><code>@RestController\npublic class JobController {\n    \n    public static SchedulerFactory sf;\n    public static Scheduler sched;\n    public static CronTrigger trigger;\n    public static JobDetail jobDetail;\n    \n    @RequestMapping(path = &quot;/testjob&quot;, method = RequestMethod.POST)\n    public String testjob() {\n        Class c;\n        \n        try {\n            c = Class.forName(&quot;com.demo.jobs.HelloJob&quot;);\n            sf = new org.quartz.impl.StdSchedulerFactory();\n            sched = sf.getScheduler();\n\n            jobDetail = JobBuilder.newJob(c).withIdentity(&quot;myJob&quot;, &quot;group1&quot;).build();\n            trigger = (CronTrigger) TriggerBuilder.newTrigger()\n                    .withIdentity(&quot;myTrigger&quot;, &quot;group1&quot;)\n                    .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/5 0-59 0-23 * * ?&quot;))\n                    .build();\n\n            sched.scheduleJob(jobDetail, trigger);\n            sched.start();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        \n        return &quot;testjob!&quot;;\n    }\n}\n</code></pre>\n<h3>QuartzJob.java</h3>\n<pre><code>@DisallowConcurrentExecution\npublic abstract class QuartzJob implements Job {\n    \n    public abstract void runJob() throws Exception;\n    \n    @Override\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        try {\n            runJob();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h3>HelloJob.java:</h3>\n<pre><code>public class HelloJob extends QuartzJob {\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public void runJob() throws Exception{\n        try {\n            userRepository.printData();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<h3>UserImpl.java:</h3>\n<pre><code>@Repository\npublic class UserImpl implements UserRepository {\n    \n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n    \n    @Override\n    public void printData() {\n        List&lt;User&gt; result = jdbcTemplate.query(&quot; SELECT * FROM USER &quot;,\n                new BeanPropertyRowMapper&lt;User&gt;(User.class), new Object[] {});\n        for (User u : result) {\n            System.out.println(&quot;name: &quot; + u.getName() + &quot; ~ &quot; + &quot;phone: &quot; + u.getPhone());\n        }\n    }\n}\n</code></pre>\n<p>Does anybody have some experience with it? How to do it better? THANKS~</p>\n<p>github_demo:<a href=\"https://github.com/qxgnbryoo81014/demo\" rel=\"nofollow noreferrer\">https://github.com/qxgnbryoo81014/demo</a></p>\n"},{"tags":["java","datetime-format","java-time","datetime-parsing","dateformatter"],"comments":[{"owner":{"account_id":5299243,"reputation":1314,"user_id":4229454,"display_name":"zlakad"},"score":0,"creation_date":1516148231,"post_id":48291776,"comment_id":83568745,"body_markdown":"If I may ask - Why do you need BOTH 2 and 3 digits? I think you should stick with 3 digits. IMHO it&#39;s the most elegant way...","body":"If I may ask - Why do you need BOTH 2 and 3 digits? I think you should stick with 3 digits. IMHO it&#39;s the most elegant way..."},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":0,"creation_date":1516148289,"post_id":48291776,"comment_id":83568766,"body_markdown":"thats not in my hands. my api accept date and we support dates in both formats/","body":"thats not in my hands. my api accept date and we support dates in both formats/"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1516180153,"post_id":48291776,"comment_id":83579080,"body_markdown":"As an aside, your return statement can be written as just `return formatDateTime.atOffset(ZoneOffset.UTC).toString();`.","body":"As an aside, your return statement can be written as just <code>return formatDateTime.atOffset(ZoneOffset.UTC).toString();</code>."}],"answers":[{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1593164994,"creation_date":1516148426,"answer_id":48291867,"question_id":48291776,"body_markdown":"You would need to build a formatter with a specified fraction \r\n\r\n   \r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n      .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n      .appendFraction(ChronoField.MILLI_OF_SECOND, 2, 3, true) // min 2 max 3\r\n      .toFormatter();\r\n\r\n    LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\r\n    ","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>You would need to build a formatter with a specified fraction</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n  .appendPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;)\n  .appendFraction(ChronoField.MILLI_OF_SECOND, 2, 3, true) // min 2 max 3\n  .toFormatter();\n\nLocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5438753,"reputation":125,"user_id":4327374,"display_name":"EMH333"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1516202364,"creation_date":1516152408,"answer_id":48292366,"question_id":48291776,"body_markdown":"Using Java 8 you can use the `DateTimeFormatterBuilder` and a Pattern. See [this answer][1] for a little more information\r\n\r\n    public static String formatDate(final String date) {\r\n\r\n      DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\r\n            .append(DateTimeFormatter.ofPattern(&quot;&quot; + &quot;[yyyy-MM-dd HH:mm:ss.SSS]&quot; \r\n             + &quot;[yyyy-MM-dd HH:mm:ss.SS]&quot;));\r\n\r\n      DateTimeFormatter formatter = dateTimeFormatterBuilder.toFormatter();\r\n\r\n      try {\r\n        LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\r\n        return formatDateTime.atZone(ZoneId.of(&quot;UTC&quot;)).toOffsetDateTime().toString();\r\n      } catch (DateTimeParseException e) {\r\n        return &quot;&quot;;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39754641/4327374","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>Using Java 8 you can use the <code>DateTimeFormatterBuilder</code> and a Pattern. See <a href=\"https://stackoverflow.com/a/39754641/4327374\">this answer</a> for a little more information</p>\n\n<pre><code>public static String formatDate(final String date) {\n\n  DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ofPattern(\"\" + \"[yyyy-MM-dd HH:mm:ss.SSS]\" \n         + \"[yyyy-MM-dd HH:mm:ss.SS]\"));\n\n  DateTimeFormatter formatter = dateTimeFormatterBuilder.toFormatter();\n\n  try {\n    LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\n    return formatDateTime.atZone(ZoneId.of(\"UTC\")).toOffsetDateTime().toString();\n  } catch (DateTimeParseException e) {\n    return \"\";\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1589497136,"creation_date":1516165023,"answer_id":48293854,"question_id":48291776,"body_markdown":"# tl;dr\r\n\r\nNo need to define a formatter at all. \r\n\r\n    LocalDateTime.parse(\r\n        &quot;2017-11-21 18:11:14.05&quot;.replace( &quot; &quot; , &quot;T&quot; )\r\n    )\r\n\r\n# ISO 8601\r\n\r\nThe [Answer by Sleiman Jneidi][1] is especially clever and high-tech, but there is a simpler way.\r\n\r\nAdjust your input string to comply with ISO 8601 format, the format used by default in the java.time classes. So no need to specify a formatting pattern at all. The default formatter can handle any number of decimal digits between zero (whole seconds) and nine (nanoseconds) for the fractional second. \r\n\r\nYour input is nearly compliant. Just replace the SPACE in the middle with a`T`. \r\n\r\n    String input = &quot;2017-11-21 18:11:14.05&quot;.replace( &quot; &quot; , &quot;T&quot; );\r\n    LocalDateTime ldt = LocalDateTime.parse( input );\r\n\r\n&gt;ldt.toString(): 2017-11-21T18:11:14.050\r\n\r\n\r\n----------\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48291867/642706\r\n  [2]: https://i.stack.imgur.com/MZe55.png","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<h1>tl;dr</h1>\n\n<p>No need to define a formatter at all. </p>\n\n<pre><code>LocalDateTime.parse(\n    \"2017-11-21 18:11:14.05\".replace( \" \" , \"T\" )\n)\n</code></pre>\n\n<h1>ISO 8601</h1>\n\n<p>The <a href=\"https://stackoverflow.com/a/48291867/642706\">Answer by Sleiman Jneidi</a> is especially clever and high-tech, but there is a simpler way.</p>\n\n<p>Adjust your input string to comply with ISO 8601 format, the format used by default in the java.time classes. So no need to specify a formatting pattern at all. The default formatter can handle any number of decimal digits between zero (whole seconds) and nine (nanoseconds) for the fractional second. </p>\n\n<p>Your input is nearly compliant. Just replace the SPACE in the middle with a<code>T</code>. </p>\n\n<pre><code>String input = \"2017-11-21 18:11:14.05\".replace( \" \" , \"T\" );\nLocalDateTime ldt = LocalDateTime.parse( input );\n</code></pre>\n\n<blockquote>\n  <p>ldt.toString(): 2017-11-21T18:11:14.050</p>\n</blockquote>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/MZe55.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MZe55.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1690962434,"creation_date":1516190807,"answer_id":48300794,"question_id":48291776,"body_markdown":"The answers by [Basil Bourque](https://stackoverflow.com/a/48293854/5772882) and [Sleiman Jneidi](https://stackoverflow.com/a/48291867/5772882) are excellent. I just wanted to point out that [the answer by EMH333](https://stackoverflow.com/a/48292366/5772882) has a point in it too: the following very simple modification of the code in the question solves your problem.\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter\r\n                .ofPattern(&quot;yyyy-MM-dd HH:mm:ss.[SSS][SS]&quot;);\r\n\r\nThe square bracket in the format pattern string enclose optional parts, so this accepts 3 or 2 decimals in the fraction of seconds.\r\n\r\n - Potential advantage over Basil Bourqueâs answer: gives better input validation, will object if there is only 1 or there are four decimals on the seconds (whether this is an advantage depends entirely on your situation).\r\n - Advantage over Sleiman Jneidiâs answer: You donât need the builder.\r\n\r\nPossible downside: it accepts no decimals at all (as long as the decimal point is there).\r\n\r\nAs I said, the other solutions are very good too. Which one you prefer is mostly a matter of taste.","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>The answers by <a href=\"https://stackoverflow.com/a/48293854/5772882\">Basil Bourque</a> and <a href=\"https://stackoverflow.com/a/48291867/5772882\">Sleiman Jneidi</a> are excellent. I just wanted to point out that <a href=\"https://stackoverflow.com/a/48292366/5772882\">the answer by EMH333</a> has a point in it too: the following very simple modification of the code in the question solves your problem.</p>\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter\n            .ofPattern(&quot;yyyy-MM-dd HH:mm:ss.[SSS][SS]&quot;);\n</code></pre>\n<p>The square bracket in the format pattern string enclose optional parts, so this accepts 3 or 2 decimals in the fraction of seconds.</p>\n<ul>\n<li>Potential advantage over Basil Bourqueâs answer: gives better input validation, will object if there is only 1 or there are four decimals on the seconds (whether this is an advantage depends entirely on your situation).</li>\n<li>Advantage over Sleiman Jneidiâs answer: You donât need the builder.</li>\n</ul>\n<p>Possible downside: it accepts no decimals at all (as long as the decimal point is there).</p>\n<p>As I said, the other solutions are very good too. Which one you prefer is mostly a matter of taste.</p>\n"},{"tags":[],"owner":{"account_id":16343481,"reputation":21,"user_id":11803869,"display_name":"Patch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614596727,"creation_date":1614596727,"answer_id":66420948,"question_id":48291776,"body_markdown":"Ideally, you would account for a time that has 0 nanoseconds as well. If the time so happens to land perfectly on `2021-02-28T12:00:15.000Z`, it may actually be serialised to `2021-02-28T12:00:15Z` (at least, for something like java.time.OffsetDateTime it would be). It would therefore be more appropriate to use the following:\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS][.S]&quot;);\r\n```\r\n... and if you require time zone, like I did, then it would look this:\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS][.S]z&quot;);\r\n```","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>Ideally, you would account for a time that has 0 nanoseconds as well. If the time so happens to land perfectly on <code>2021-02-28T12:00:15.000Z</code>, it may actually be serialised to <code>2021-02-28T12:00:15Z</code> (at least, for something like java.time.OffsetDateTime it would be). It would therefore be more appropriate to use the following:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS][.S]&quot;);\n</code></pre>\n<p>... and if you require time zone, like I did, then it would look this:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss[.SSS][.SS][.S]z&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665858621,"creation_date":1665858621,"answer_id":74082033,"question_id":48291776,"body_markdown":"[`DateTimeFormatter`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) allows specifying optional units using square brackets.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\r\n                    &quot;yyyy-MM-dd HH:mm:ss[.[SSSSSSSSS][SSSSSSSS][SSSSSSS][SSSSSS][SSSSS][SSSS][SSS][SS][S]]&quot;,\r\n                    Locale.ENGLISH);\r\n    \r\n            // Test\r\n            Stream.of(\r\n                    &quot;2015-05-04 12:34:56.123456789&quot;,\r\n                    &quot;2015-05-04 12:34:56.123456&quot;,\r\n                    &quot;2015-05-04 12:34:56.123&quot;,\r\n                    &quot;2015-05-04 12:34:56&quot;\r\n            ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, formatter)));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-05-04T12:34:56.123456789\r\n    2015-05-04T12:34:56.123456\r\n    2015-05-04T12:34:56.123\r\n    2015-05-04T12:34:56\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> allows specifying optional units using square brackets.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\n                &quot;yyyy-MM-dd HH:mm:ss[.[SSSSSSSSS][SSSSSSSS][SSSSSSS][SSSSSS][SSSSS][SSSS][SSS][SS][S]]&quot;,\n                Locale.ENGLISH);\n\n        // Test\n        Stream.of(\n                &quot;2015-05-04 12:34:56.123456789&quot;,\n                &quot;2015-05-04 12:34:56.123456&quot;,\n                &quot;2015-05-04 12:34:56.123&quot;,\n                &quot;2015-05-04 12:34:56&quot;\n        ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, formatter)));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-04T12:34:56.123456789\n2015-05-04T12:34:56.123456\n2015-05-04T12:34:56.123\n2015-05-04T12:34:56\n</code></pre>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22138,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":48293854,"answer_count":6,"score":27,"last_activity_date":1690962434,"creation_date":1516147657,"question_id":48291776,"body_markdown":"Here is my method to parse String into `LocalDateTime`.\r\n\r\n        public static String formatDate(final String date) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SS&quot;);\r\n            LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\r\n            return formatDateTime.atZone(ZoneId.of(&quot;UTC&quot;)).toOffsetDateTime().toString();\r\n        }\r\n\r\nbut this only works for input String like \r\n`2017-11-21 18:11:14.05`\r\nbut fails for `2017-11-21 18:11:14.057`\r\nwith `DateTimeParseException`.\r\n\r\nHow can I define a formatter that works for both `.SS` and `.SSS`?\r\n","title":"How to parse date-time with two or three milliseconds digits in java?","body":"<p>Here is my method to parse String into <code>LocalDateTime</code>.</p>\n\n<pre><code>    public static String formatDate(final String date) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SS\");\n        LocalDateTime formatDateTime = LocalDateTime.parse(date, formatter);\n        return formatDateTime.atZone(ZoneId.of(\"UTC\")).toOffsetDateTime().toString();\n    }\n</code></pre>\n\n<p>but this only works for input String like \n<code>2017-11-21 18:11:14.05</code>\nbut fails for <code>2017-11-21 18:11:14.057</code>\nwith <code>DateTimeParseException</code>.</p>\n\n<p>How can I define a formatter that works for both <code>.SS</code> and <code>.SSS</code>?</p>\n"},{"tags":["java","spring-boot","autowired"],"comments":[{"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"score":0,"creation_date":1690930470,"post_id":76815626,"comment_id":135420918,"body_markdown":"`abstract` classes are not component scanned.  You must autowire the constructor of the extending subclass.","body":"<code>abstract</code> classes are not component scanned.  You must autowire the constructor of the extending subclass."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690931755,"post_id":76815626,"comment_id":135421036,"body_markdown":"I was hoping for another way as I have 7 extended classes and did not want to add applicationContext to all their constructors but it does solve the problem! Add your comment as an answer. Any other solutions?","body":"I was hoping for another way as I have 7 extended classes and did not want to add applicationContext to all their constructors but it does solve the problem! Add your comment as an answer. Any other solutions?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690931853,"post_id":76815626,"comment_id":135421043,"body_markdown":"An abstract class has no independent existence except as part of a concrete subclass.  Spring is all about instantiating and wiring together concrete class instances.","body":"An abstract class has no independent existence except as part of a concrete subclass.  Spring is all about instantiating and wiring together concrete class instances."},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690932030,"post_id":76815626,"comment_id":135421061,"body_markdown":"yet @JimGarrison one is able to autowire a setter method in an abstract class (as the link shows)","body":"yet @JimGarrison one is able to autowire a setter method in an abstract class (as the link shows)"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690932132,"post_id":76815626,"comment_id":135421068,"body_markdown":"Because setters can be inherited, while constructors cannot.  Maybe @PostConstruct?","body":"Because setters can be inherited, while constructors cannot.  Maybe @PostConstruct?"},{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1690934439,"post_id":76815626,"comment_id":135421310,"body_markdown":"I tried that before alright but setter did not fire before setConfigCheck...","body":"I tried that before alright but setter did not fire before setConfigCheck..."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690938018,"post_id":76815626,"comment_id":135421639,"body_markdown":"To &quot;set&quot; the appcontext with that method will require it to be private! (However you can retrieve the appcontext with a public method inside the same class). You may need to lower the variables security access modifier.","body":"To &quot;set&quot; the appcontext with that method will require it to be private! (However you can retrieve the appcontext with a public method inside the same class). You may need to lower the variables security access modifier."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690961792,"post_id":76815626,"comment_id":135424097,"body_markdown":"The context will be injected **after** the object has been created, you are trying to access the context during the object creation. At that point it isn&#39;t injected and thus a `NullPointerException` will occur.","body":"The context will be injected <b>after</b> the object has been created, you are trying to access the context during the object creation. At that point it isn&#39;t injected and thus a <code>NullPointerException</code> will occur."}],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690943065,"creation_date":1690943065,"answer_id":76816241,"question_id":76815626,"body_markdown":"you can impl InitializingBean .\r\n    \r\n    @Component\r\n    @DependsOn({&quot;myConfig&quot;})\r\n    public class FirstCheck extends BaseCheck implements InitializingBean {\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() throws Exception {\r\n            setConfigClass(&quot;myConfig&quot;);\r\n        }\r\n        \r\n    }","title":"How to get an applicationContext reference in abstract class?","body":"<p>you can impl InitializingBean .</p>\n<pre><code>@Component\n@DependsOn({&quot;myConfig&quot;})\npublic class FirstCheck extends BaseCheck implements InitializingBean {\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        setConfigClass(&quot;myConfig&quot;);\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690962244,"creation_date":1690962244,"answer_id":76817648,"question_id":76815626,"body_markdown":"The problem is that you are trying to access the `ApplicationContext` in the constructor. At this point the `setApplicationContext` method hasn&#39;t been called as Spring is only able to call it **after the object has been constructed**. You are accessing it during construction and thus a `NullPointerException`.\r\n\r\nWhat you can do is either inject the `ApplicationContext` into the constructor so you can access it. Instead of using the `ApplicationContext` to lookup the bean use an `@Qualifier` and inject the correct config into the constructor instead of using `setConfigClass`\r\n\r\n```java\r\npublic abstract class BaseCheck {\r\n\r\n  protected AbstractConfig configClass;\r\n\r\n  protected BaseCheck(AbstractConfig configClass) {\r\n    this.configClass=configClass;\r\n  }\r\n\r\n  public AbstractConfig getConfigClass() {\r\n    return configClass;\r\n  }\r\n}\r\n\r\n\r\n@Component\r\npublic class FirstCheck extends BaseCheck {\r\n\r\n  public FirstCheck(@Qualifier(&quot;myConfig&quot;) AbstractConfig configClass) {\r\n      super(configClass);\r\n  }\r\n}\r\n```\r\n\r\nThis way you don&#39;t need to access the `ApplicationContext`. You already had the name in the constructor anyway as well on the `@DependsOn` (which can now be removed), so moving it to an `@Qualifier` to get the correct instance should do it. ","title":"How to get an applicationContext reference in abstract class?","body":"<p>The problem is that you are trying to access the <code>ApplicationContext</code> in the constructor. At this point the <code>setApplicationContext</code> method hasn't been called as Spring is only able to call it <strong>after the object has been constructed</strong>. You are accessing it during construction and thus a <code>NullPointerException</code>.</p>\n<p>What you can do is either inject the <code>ApplicationContext</code> into the constructor so you can access it. Instead of using the <code>ApplicationContext</code> to lookup the bean use an <code>@Qualifier</code> and inject the correct config into the constructor instead of using <code>setConfigClass</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseCheck {\n\n  protected AbstractConfig configClass;\n\n  protected BaseCheck(AbstractConfig configClass) {\n    this.configClass=configClass;\n  }\n\n  public AbstractConfig getConfigClass() {\n    return configClass;\n  }\n}\n\n\n@Component\npublic class FirstCheck extends BaseCheck {\n\n  public FirstCheck(@Qualifier(&quot;myConfig&quot;) AbstractConfig configClass) {\n      super(configClass);\n  }\n}\n</code></pre>\n<p>This way you don't need to access the <code>ApplicationContext</code>. You already had the name in the constructor anyway as well on the <code>@DependsOn</code> (which can now be removed), so moving it to an <code>@Qualifier</code> to get the correct instance should do it.</p>\n"}],"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76817648,"answer_count":2,"score":0,"last_activity_date":1690962244,"creation_date":1690930180,"question_id":76815626,"body_markdown":"I am refactoring existing code and need to get an applicationContext reference in an abstract class.\r\n\r\nSimplifying, here are two classes illustrating the issue:\r\n\r\n    public abstract class BaseCheck {\r\n\r\n      private ApplicationContext applicationContext;\r\n    \r\n      protected AbstractConfig configClass;\r\n\r\n\r\n      @Autowired\r\n      // not called before setConfigClass called so null\r\n      public final void setApplicationContext(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n      }\r\n\r\n      public AbstractConfig getConfigClass() {\r\n        return configClass;\r\n      }\r\n\r\n      public void setConfigClass(String configClass) {\r\n        // fails due to null applicationContext\r\n        this.configClass = (AbstractConfig) applicationContext.getBean(configClass);\r\n      }\r\n\r\n    }\r\n\r\n\r\n    @Component\r\n    @DependsOn({&quot;myConfig&quot;})\r\n    public class FirstCheck extends BaseCheck {\r\n\r\n      public FirstCheck() {\r\n          setConfigClass(&quot;myConfig&quot;);\r\n      }\r\n    }\r\n\r\nI can&#39;t get applicationContext injected. This code annotates the setter as described in https://www.baeldung.com/spring-autowired-abstract-class\r\n\r\nI also tried implementing ApplicationContextAware, but that does not work for an abstract class either.\r\n\r\nDoes anyone know how I can get it to work?","title":"How to get an applicationContext reference in abstract class?","body":"<p>I am refactoring existing code and need to get an applicationContext reference in an abstract class.</p>\n<p>Simplifying, here are two classes illustrating the issue:</p>\n<pre><code>public abstract class BaseCheck {\n\n  private ApplicationContext applicationContext;\n\n  protected AbstractConfig configClass;\n\n\n  @Autowired\n  // not called before setConfigClass called so null\n  public final void setApplicationContext(ApplicationContext applicationContext) {\n    this.applicationContext = applicationContext;\n  }\n\n  public AbstractConfig getConfigClass() {\n    return configClass;\n  }\n\n  public void setConfigClass(String configClass) {\n    // fails due to null applicationContext\n    this.configClass = (AbstractConfig) applicationContext.getBean(configClass);\n  }\n\n}\n\n\n@Component\n@DependsOn({&quot;myConfig&quot;})\npublic class FirstCheck extends BaseCheck {\n\n  public FirstCheck() {\n      setConfigClass(&quot;myConfig&quot;);\n  }\n}\n</code></pre>\n<p>I can't get applicationContext injected. This code annotates the setter as described in <a href=\"https://www.baeldung.com/spring-autowired-abstract-class\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-autowired-abstract-class</a></p>\n<p>I also tried implementing ApplicationContextAware, but that does not work for an abstract class either.</p>\n<p>Does anyone know how I can get it to work?</p>\n"},{"tags":["java","operating-system","jvm"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1690773826,"post_id":76800376,"comment_id":135394886,"body_markdown":"*&quot;... in my opinion, is only a block of memory in the JVM process, the same as java heap&quot;* - Did you check whether your opinion is correct before asking?  The OpenJDK source code is available for all to read.  (If you want to understand how the JVM works under the hood, the best way is to read the source code.  That is preferable to ... in effect ... asking someone else to read it for you.)","body":"<i>&quot;... in my opinion, is only a block of memory in the JVM process, the same as java heap&quot;</i> - Did you check whether your opinion is correct before asking?  The OpenJDK source code is available for all to read.  (If you want to understand how the JVM works under the hood, the best way is to read the source code.  That is preferable to ... in effect ... asking someone else to read it for you.)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690774293,"creation_date":1690774293,"answer_id":76800522,"question_id":76800376,"body_markdown":"Depending on a ton of factors it&#39;s more likely to result in an explicit `malloc` call than just `.allocate`, though it depends on the OS+Arch and it may well be an alias for `.allocate`.\r\n\r\n\r\n-----\r\n\r\nSome context and detail in case that answer isn&#39;t particularly satisfying:\r\n\r\nSee [this answer](https://stackoverflow.com/questions/5670862/bytebuffer-allocate-vs-bytebuffer-allocatedirect) for some context.\r\n\r\nOrdinarily, objects in java (specifically, byte arrays, which is the underlying data store for your basic HeapByteBuffer, made by `.allocate`), have the following properties:\r\n\r\n* They are created and remain in the JVM heap memory.\r\n* The garbage collector will inspect them and keep track of them, and will move them around.\r\n* Arrays don&#39;t _actually_ have to be contiguous. The JVM will try but nothing in the spec says that the JVM must keep the bytes together. Again the garbage collector comes into play somewhat: If there are 2 large segments of free memory in the heap and you allocate a byte array somewhat larger than either slice, the GC would either have to move it all, or throw an exception, or allow the array to be &#39;split&#39; to avoid having to move stuff around. I&#39;m not sure any JVMs exist that really do this.\r\n* The memory is also part of the JVM&#39;s process; ordinarily as far as the OS is concerned the entire heap (whether they contain live objects or not) is considered &#39;used memory&#39; by the underlying OS.\r\n\r\nWith `.allocateDirect`, you break a bunch of those rules:\r\n\r\n* They are (probably) created separate; exists outside of the heap (e.g. would be in addition to `-Xmx`, the parameter to set max heap size, as an example).\r\n* Presumably this _always_ causes an OS-level `malloc` call, to ask the OS for a contiguous chunk of ram. `malloc` calls can take time.\r\n* The block really is contiguous because `malloc` made it.\r\n* The block is never moved around.\r\n\r\nNote that there are some gaps in the theory here - if it&#39;s explicitly `malloc`ed, then it should be explicitly `free`d, and yet ByteBuffer neither has a `deallocate()` method nor is it an (Auto)Closable. Also, the javadoc reserves lots of rights; for example, `.allocateDirect` __might__ do nothing different from `allocate` - the JVM is free to use the heap _or not_. These direct OS-level interactions tend to do that: Java has to run on a wide array of OS+Architecture combos. If some OS+arch combo doesn&#39;t _have_ direct buffers, what now? Should `.allocateDirect` fail-fast (throw an exception)? That would be sensible, except, only if the spec locks down specifically what a direct bytebuffer guarantees you, and therein lies a problem, because there is tons of variation across OS+Arch combos of what it really means.\r\n\r\n&quot;Does not move around&quot; is a requirement for various low-level I/O OS kernel calls (where you tell the kernel: Please just tell the network hardware in the system to _directly_ copy incoming bytes straight into this memory block - that kind of low-level I/O. Not all OSes support it, and not all support it in the same way). A plain jane heap buffer simply can&#39;t use that; if the underlying OS does support it and so does the JVM, the JVM has to make its own direct buffer (outside of the heap / in a section cordonned off from the GC to ensure it does not move), and start a separate process to blit those bytes into your buffer, taking into account the GC system as that can move around. In contrast, if you ask e.g. a `FileChannel` object to copy bytes from a file to your __direct__ buffer, it __might__ be possible that the native impl backing `FileChannel` of your JVM will just tell the OS to tell the SSD to _directly_ do so with no interaction from the OS/CPU whatsoever. Some hardware can do that. But only to &#39;fixed&#39; memory locations.\r\n\r\nWhether your JVM can _actually_ do all that - no guarantees. But _if_ it can, it can only do that if you make a direct buffer.\r\n","title":"Why DirectByteBuffer have higher allocation and deallocation costs?","body":"<p>Depending on a ton of factors it's more likely to result in an explicit <code>malloc</code> call than just <code>.allocate</code>, though it depends on the OS+Arch and it may well be an alias for <code>.allocate</code>.</p>\n<hr />\n<p>Some context and detail in case that answer isn't particularly satisfying:</p>\n<p>See <a href=\"https://stackoverflow.com/questions/5670862/bytebuffer-allocate-vs-bytebuffer-allocatedirect\">this answer</a> for some context.</p>\n<p>Ordinarily, objects in java (specifically, byte arrays, which is the underlying data store for your basic HeapByteBuffer, made by <code>.allocate</code>), have the following properties:</p>\n<ul>\n<li>They are created and remain in the JVM heap memory.</li>\n<li>The garbage collector will inspect them and keep track of them, and will move them around.</li>\n<li>Arrays don't <em>actually</em> have to be contiguous. The JVM will try but nothing in the spec says that the JVM must keep the bytes together. Again the garbage collector comes into play somewhat: If there are 2 large segments of free memory in the heap and you allocate a byte array somewhat larger than either slice, the GC would either have to move it all, or throw an exception, or allow the array to be 'split' to avoid having to move stuff around. I'm not sure any JVMs exist that really do this.</li>\n<li>The memory is also part of the JVM's process; ordinarily as far as the OS is concerned the entire heap (whether they contain live objects or not) is considered 'used memory' by the underlying OS.</li>\n</ul>\n<p>With <code>.allocateDirect</code>, you break a bunch of those rules:</p>\n<ul>\n<li>They are (probably) created separate; exists outside of the heap (e.g. would be in addition to <code>-Xmx</code>, the parameter to set max heap size, as an example).</li>\n<li>Presumably this <em>always</em> causes an OS-level <code>malloc</code> call, to ask the OS for a contiguous chunk of ram. <code>malloc</code> calls can take time.</li>\n<li>The block really is contiguous because <code>malloc</code> made it.</li>\n<li>The block is never moved around.</li>\n</ul>\n<p>Note that there are some gaps in the theory here - if it's explicitly <code>malloc</code>ed, then it should be explicitly <code>free</code>d, and yet ByteBuffer neither has a <code>deallocate()</code> method nor is it an (Auto)Closable. Also, the javadoc reserves lots of rights; for example, <code>.allocateDirect</code> <strong>might</strong> do nothing different from <code>allocate</code> - the JVM is free to use the heap <em>or not</em>. These direct OS-level interactions tend to do that: Java has to run on a wide array of OS+Architecture combos. If some OS+arch combo doesn't <em>have</em> direct buffers, what now? Should <code>.allocateDirect</code> fail-fast (throw an exception)? That would be sensible, except, only if the spec locks down specifically what a direct bytebuffer guarantees you, and therein lies a problem, because there is tons of variation across OS+Arch combos of what it really means.</p>\n<p>&quot;Does not move around&quot; is a requirement for various low-level I/O OS kernel calls (where you tell the kernel: Please just tell the network hardware in the system to <em>directly</em> copy incoming bytes straight into this memory block - that kind of low-level I/O. Not all OSes support it, and not all support it in the same way). A plain jane heap buffer simply can't use that; if the underlying OS does support it and so does the JVM, the JVM has to make its own direct buffer (outside of the heap / in a section cordonned off from the GC to ensure it does not move), and start a separate process to blit those bytes into your buffer, taking into account the GC system as that can move around. In contrast, if you ask e.g. a <code>FileChannel</code> object to copy bytes from a file to your <strong>direct</strong> buffer, it <strong>might</strong> be possible that the native impl backing <code>FileChannel</code> of your JVM will just tell the OS to tell the SSD to <em>directly</em> do so with no interaction from the OS/CPU whatsoever. Some hardware can do that. But only to 'fixed' memory locations.</p>\n<p>Whether your JVM can <em>actually</em> do all that - no guarantees. But <em>if</em> it can, it can only do that if you make a direct buffer.</p>\n"},{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690782792,"creation_date":1690782792,"answer_id":76800968,"question_id":76800376,"body_markdown":"Allocating a non-direct `ByteBuffer` can be fully optimized by the garbage collector, and it so it&#39;s potentially more efficient than allocating a direct `ByteBuffer`. In practice, the difference might not be that significant.\r\n\r\nThe bigger issue is deallocation. Both types of `ByteBuffers` can only be deallocated via garbage collection, but direct `ByteBuffers` typically require a more expensive collection of the old generation. Using short-lived direct `ByteBuffers` is therefore not advised, since it increases GC load.\r\n\r\nNote that there is an unsupported way of explicitly deleting direct `ByteBuffers`, but this capability will go away at some point, some time after the java.lang.foreign API is fully released. `MemorySegments` should then be used instead if you need short-lived off-heap buffers.","title":"Why DirectByteBuffer have higher allocation and deallocation costs?","body":"<p>Allocating a non-direct <code>ByteBuffer</code> can be fully optimized by the garbage collector, and it so it's potentially more efficient than allocating a direct <code>ByteBuffer</code>. In practice, the difference might not be that significant.</p>\n<p>The bigger issue is deallocation. Both types of <code>ByteBuffers</code> can only be deallocated via garbage collection, but direct <code>ByteBuffers</code> typically require a more expensive collection of the old generation. Using short-lived direct <code>ByteBuffers</code> is therefore not advised, since it increases GC load.</p>\n<p>Note that there is an unsupported way of explicitly deleting direct <code>ByteBuffers</code>, but this capability will go away at some point, some time after the java.lang.foreign API is fully released. <code>MemorySegments</code> should then be used instead if you need short-lived off-heap buffers.</p>\n"}],"owner":{"account_id":17976446,"reputation":111,"user_id":13063887,"display_name":"light"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76800522,"answer_count":2,"score":0,"last_activity_date":1690962164,"creation_date":1690771061,"question_id":76800376,"body_markdown":"Mentioned in the java docs of `ByteBuffer`, a direct buffer allocated by `allocateDirect` has higher allocation and deallocation costs. \r\n\r\n&gt; A direct byte buffer may be created by invoking the allocateDirect factory method of this class. The buffers returned by this method typically have somewhat higher allocation and deallocation costs than non-direct buffers. \r\n\r\nI wonder that why there are higher costs? What things need to do under the hood?\r\n\r\nI can understand the higher costs of `MappedByteBuffer` , due to the costs of `mmap`. But the `DirectByteBuffer`, in my opinion, is only a block of memory in the JVM process heap, the same as GC heap. Both them are in the JVM process heap.\r\n\r\nI don&#39;t know what&#39;s the difference to allocate or deallocate a block of memory inside or outside GC heap. ","title":"Why DirectByteBuffer have higher allocation and deallocation costs?","body":"<p>Mentioned in the java docs of <code>ByteBuffer</code>, a direct buffer allocated by <code>allocateDirect</code> has higher allocation and deallocation costs.</p>\n<blockquote>\n<p>A direct byte buffer may be created by invoking the allocateDirect factory method of this class. The buffers returned by this method typically have somewhat higher allocation and deallocation costs than non-direct buffers.</p>\n</blockquote>\n<p>I wonder that why there are higher costs? What things need to do under the hood?</p>\n<p>I can understand the higher costs of <code>MappedByteBuffer</code> , due to the costs of <code>mmap</code>. But the <code>DirectByteBuffer</code>, in my opinion, is only a block of memory in the JVM process heap, the same as GC heap. Both them are in the JVM process heap.</p>\n<p>I don't know what's the difference to allocate or deallocate a block of memory inside or outside GC heap.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1690962056,"post_id":76817567,"comment_id":135424159,"body_markdown":"Does this answer your question? [Rationale for Matcher throwing IllegalStateException when no &#39;matching&#39; method is called](https://stackoverflow.com/questions/12911504/rationale-for-matcher-throwing-illegalstateexception-when-no-matching-method-i) In short you likely need to call `matcher.find()` before `.group(2)`","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12911504/rationale-for-matcher-throwing-illegalstateexception-when-no-matching-method-i\">Rationale for Matcher throwing IllegalStateException when no &#39;matching&#39; method is called</a> In short you likely need to call <code>matcher.find()</code> before <code>.group(2)</code>"}],"answers":[{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690962137,"creation_date":1690962137,"answer_id":76817635,"question_id":76817567,"body_markdown":"As I see, you need to call the `find()` method on the `Matcher` object to perform the match before accessing the groups and `find()` method is called on the `matcher` object to perform the match. If a match is found, you can then access the second group using `matcher.group(2)`. If no match is found, you can handle it accordingly.\r\n\r\ncheck this out :\r\n\r\n    private static final Pattern REGEX = Pattern.compile(&quot;^\\\\|(.*):(.*)\\\\|$&quot;);\r\n    Matcher matcher = REGEX.matcher(pivot);\r\n    \r\n    if (matcher.find()) {\r\n        String secondGroup = matcher.group(2);\r\n        System.out.println(secondGroup);\r\n    } else {\r\n        System.out.println(&quot;No match found.&quot;);\r\n    }","title":"Unable to match second group with Java regex","body":"<p>As I see, you need to call the <code>find()</code> method on the <code>Matcher</code> object to perform the match before accessing the groups and <code>find()</code> method is called on the <code>matcher</code> object to perform the match. If a match is found, you can then access the second group using <code>matcher.group(2)</code>. If no match is found, you can handle it accordingly.</p>\n<p>check this out :</p>\n<pre><code>private static final Pattern REGEX = Pattern.compile(&quot;^\\\\|(.*):(.*)\\\\|$&quot;);\nMatcher matcher = REGEX.matcher(pivot);\n\nif (matcher.find()) {\n    String secondGroup = matcher.group(2);\n    System.out.println(secondGroup);\n} else {\n    System.out.println(&quot;No match found.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":16348542,"reputation":551,"user_id":11807683,"display_name":"czr_RR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690962317,"accepted_answer_id":76817635,"answer_count":1,"score":0,"last_activity_date":1690962137,"creation_date":1690961628,"question_id":76817567,"body_markdown":"Having the following `String`: `|mykey:myvalue|` being `mykey` and `myvalue` any random set of characters, I&#39;m trying to retrieve the `myvalue` part with the following regex:\r\n\r\n```\r\nprivate static final Pattern REGEX = Pattern.compile(&quot;^\\\\|(.*):(.*)\\\\|$&quot;)\r\n\r\nString secondGroup = REGEX.matcher(pivot).group(2)\r\n```\r\n\r\nHowever, it will throw an exception as `java.lang.IllegalStateException: No match found`.\r\n\r\nHow can I match the previous string and return the second value?","title":"Unable to match second group with Java regex","body":"<p>Having the following <code>String</code>: <code>|mykey:myvalue|</code> being <code>mykey</code> and <code>myvalue</code> any random set of characters, I'm trying to retrieve the <code>myvalue</code> part with the following regex:</p>\n<pre><code>private static final Pattern REGEX = Pattern.compile(&quot;^\\\\|(.*):(.*)\\\\|$&quot;)\n\nString secondGroup = REGEX.matcher(pivot).group(2)\n</code></pre>\n<p>However, it will throw an exception as <code>java.lang.IllegalStateException: No match found</code>.</p>\n<p>How can I match the previous string and return the second value?</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1586910780,"creation_date":1586910780,"answer_id":61219459,"question_id":61217084,"body_markdown":"The error clearly states that the topic (or partition) you are producing to does not exist. \r\n\r\nUltimately, you will need to describe the topic (via CLI `kafka-topics --describe --topic &lt;topicName&gt;` or other means) to verify if this is true\r\n\r\n&gt; Kafka on HDInsight and I have no idea how to verify it and solve this issue.\r\n\r\nACLs are only setup if you installed the cluster with them, but I believe you can still list ACLs via `zookeper-shell` or SSHing into one of Hadoop masters. ","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>The error clearly states that the topic (or partition) you are producing to does not exist. </p>\n\n<p>Ultimately, you will need to describe the topic (via CLI <code>kafka-topics --describe --topic &lt;topicName&gt;</code> or other means) to verify if this is true</p>\n\n<blockquote>\n  <p>Kafka on HDInsight and I have no idea how to verify it and solve this issue.</p>\n</blockquote>\n\n<p>ACLs are only setup if you installed the cluster with them, but I believe you can still list ACLs via <code>zookeper-shell</code> or SSHing into one of Hadoop masters. </p>\n"},{"tags":[],"owner":{"account_id":18222032,"reputation":159,"user_id":13262591,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586934702,"creation_date":1586934702,"answer_id":61223216,"question_id":61217084,"body_markdown":"I made the replication factor less than the number of partitions and it worked for me. It sounds odd to me but yes, it started working after it.","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>I made the replication factor less than the number of partitions and it worked for me. It sounds odd to me but yes, it started working after it.</p>\n"},{"tags":[],"owner":{"account_id":11517065,"reputation":203,"user_id":8440134,"display_name":"rajkumar21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624878775,"creation_date":1624878775,"answer_id":68162336,"question_id":61217084,"body_markdown":"I too had the same issue while creating a new topic. And when I described the topic, I could see that leaders were not assigned to the topic partitions.\r\n\r\n Topic: xxxxxxxxx Partition: 0    Leader: none       Replicas: 3,2,1 Isr:\r\n Topic: xxxxxxxxx Partition: 1    Leader: none       Replicas: 1,3,2 Isr:\r\n\r\nAfter some googling, figured out that this could happen when we some issue with controller broker, so restarted the controller broker.\r\n\r\nAnd Everything worked as expected...!\r\n","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>I too had the same issue while creating a new topic. And when I described the topic, I could see that leaders were not assigned to the topic partitions.</p>\n<p>Topic: xxxxxxxxx Partition: 0    Leader: none       Replicas: 3,2,1 Isr:\nTopic: xxxxxxxxx Partition: 1    Leader: none       Replicas: 1,3,2 Isr:</p>\n<p>After some googling, figured out that this could happen when we some issue with controller broker, so restarted the controller broker.</p>\n<p>And Everything worked as expected...!</p>\n"},{"tags":[],"owner":{"account_id":4596281,"reputation":1418,"user_id":3728233,"accept_rate":100,"display_name":"sbrk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675799715,"creation_date":1675799715,"answer_id":75378369,"question_id":61217084,"body_markdown":"If the topic exists but you&#39;re still seeing this error, it could mean that the supplied list of brokers is incorrect. Check the `bootstrap.servers` value, it should be pointing to the right Kafka cluster where the topic resides. \r\n\r\nI saw the same issue and I have multiple Kafka clusters and the topic clearly exists. However, my list of brokers was incorrect. ","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>If the topic exists but you're still seeing this error, it could mean that the supplied list of brokers is incorrect. Check the <code>bootstrap.servers</code> value, it should be pointing to the right Kafka cluster where the topic resides.</p>\n<p>I saw the same issue and I have multiple Kafka clusters and the topic clearly exists. However, my list of brokers was incorrect.</p>\n"},{"tags":[],"owner":{"account_id":24682324,"reputation":1,"user_id":18575896,"display_name":"Dipali Gangawane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690961990,"creation_date":1690430566,"answer_id":76776430,"question_id":61217084,"body_markdown":"This error occurs when topic is not present or partition is not present. In my case my `amazon msk` cluster configuration having `auto.topic.cretion.enable` as `false`. Customizing the configurations and setting it as a `true` resolved the issue.","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>This error occurs when topic is not present or partition is not present. In my case my <code>amazon msk</code> cluster configuration having <code>auto.topic.cretion.enable</code> as <code>false</code>. Customizing the configurations and setting it as a <code>true</code> resolved the issue.</p>\n"}],"owner":{"account_id":18222032,"reputation":159,"user_id":13262591,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30285,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1690961990,"creation_date":1586897668,"question_id":61217084,"body_markdown":"I have created a sample application to check my producer&#39;s code. My application runs fine when I&#39;m sending data without a partitioning key. But, on specifying a key for data partitioning I&#39;m getting the error:\r\n```\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 37 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 38 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\r\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 39 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\r\n```\r\n for both consumer and producer. I have searched a lot on the internet, they have suggested to verify kafka.acl settings. I&#39;m using **kafka on HDInsight** and I have no idea how to verify it and solve this issue.\r\n\r\nMy cluster has following configuration:\r\n\r\n 1. Head Node: 2\r\n 2. Worker Node:4\r\n 3. Zookeeper: 3\r\n\r\nMY producer code:\r\n```\r\npublic static void produce(String brokers, String topicName) throws IOException{\r\n\r\n    // Set properties used to configure the producer\r\n    Properties properties = new Properties();\r\n      // Set the brokers (bootstrap servers)\r\n    properties.setProperty(&quot;bootstrap.servers&quot;, brokers);\r\n    properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n  properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n\r\n    // specify the protocol for Domain Joined clusters\r\n\r\n    //To create an Idempotent Producer\r\n    properties.setProperty(ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG, &quot;true&quot;);\r\n    properties.setProperty(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\n    properties.setProperty(ProducerConfig.RETRIES_CONFIG, Integer.toString(Integer.MAX_VALUE));\r\n    properties.setProperty(ProducerConfig.TRANSACTIONAL_ID_CONFIG, &quot;test-transactional-id&quot;); \r\n    KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n    producer.initTransactions();\r\n    // So we can generate random sentences\r\n    Random random = new Random();\r\n    String[] sentences = new String[] {\r\n            &quot;the cow jumped over the moon&quot;,\r\n            &quot;an apple a day keeps the doctor away&quot;,\r\n            &quot;four score and seven years ago&quot;,\r\n            &quot;snow white and the seven dwarfs&quot;,\r\n            &quot;i am at two with nature&quot;,\r\n         };\r\n\r\n\r\n    for(String sentence: sentences){\r\n        // Send the sentence to the test topic\r\n        try\r\n        {\r\n            String key=sentence.substring(0,2);\r\n            producer.beginTransaction();\r\n            producer.send(new ProducerRecord&lt;String, String&gt;(topicName,key,sentence)).get();\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n          System.out.print(ex.getMessage());\r\n            throw new IOException(ex.toString());\r\n        }\r\n        producer.commitTransaction();\r\n    }\r\n}\r\n```\r\n\r\nAlso, My topic consists of 3 partitions with replication factor=3\r\n\r\n  [1]: https://i.stack.imgur.com/Svr0a.png\r\n  [2]: https://i.stack.imgur.com/7QVpR.png","title":"Error while fetching metadata with correlation id 92 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}","body":"<p>I have created a sample application to check my producer's code. My application runs fine when I'm sending data without a partitioning key. But, on specifying a key for data partitioning I'm getting the error:</p>\n\n<pre><code>[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 37 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 38 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\n[kafka-producer-network-thread | producer-1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-1] Error while fetching metadata with correlation id 39 : {myTest=UNKNOWN_TOPIC_OR_PARTITION}\n</code></pre>\n\n<p>for both consumer and producer. I have searched a lot on the internet, they have suggested to verify kafka.acl settings. I'm using <strong>kafka on HDInsight</strong> and I have no idea how to verify it and solve this issue.</p>\n\n<p>My cluster has following configuration:</p>\n\n<ol>\n<li>Head Node: 2</li>\n<li>Worker Node:4</li>\n<li>Zookeeper: 3</li>\n</ol>\n\n<p>MY producer code:</p>\n\n<pre><code>public static void produce(String brokers, String topicName) throws IOException{\n\n    // Set properties used to configure the producer\n    Properties properties = new Properties();\n      // Set the brokers (bootstrap servers)\n    properties.setProperty(\"bootstrap.servers\", brokers);\n    properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n  properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n\n    // specify the protocol for Domain Joined clusters\n\n    //To create an Idempotent Producer\n    properties.setProperty(ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG, \"true\");\n    properties.setProperty(ProducerConfig.ACKS_CONFIG, \"all\");\n    properties.setProperty(ProducerConfig.RETRIES_CONFIG, Integer.toString(Integer.MAX_VALUE));\n    properties.setProperty(ProducerConfig.TRANSACTIONAL_ID_CONFIG, \"test-transactional-id\"); \n    KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n    producer.initTransactions();\n    // So we can generate random sentences\n    Random random = new Random();\n    String[] sentences = new String[] {\n            \"the cow jumped over the moon\",\n            \"an apple a day keeps the doctor away\",\n            \"four score and seven years ago\",\n            \"snow white and the seven dwarfs\",\n            \"i am at two with nature\",\n         };\n\n\n    for(String sentence: sentences){\n        // Send the sentence to the test topic\n        try\n        {\n            String key=sentence.substring(0,2);\n            producer.beginTransaction();\n            producer.send(new ProducerRecord&lt;String, String&gt;(topicName,key,sentence)).get();\n        }\n        catch (Exception ex)\n        {\n          System.out.print(ex.getMessage());\n            throw new IOException(ex.toString());\n        }\n        producer.commitTransaction();\n    }\n}\n</code></pre>\n\n<p>Also, My topic consists of 3 partitions with replication factor=3</p>\n"},{"tags":["java","cloud","azure-blob-storage","azure-file-share"],"comments":[{"owner":{"account_id":1908539,"reputation":1102,"user_id":1722923,"accept_rate":43,"display_name":"Raju Rudru"},"score":0,"creation_date":1690880721,"post_id":76808715,"comment_id":135411393,"body_markdown":"are you using Azure SDK in your project? The error message looks like a dependent jar file is missing.","body":"are you using Azure SDK in your project? The error message looks like a dependent jar file is missing."},{"owner":{"account_id":17235840,"reputation":85,"user_id":12479336,"display_name":"oliver"},"score":0,"creation_date":1690882538,"post_id":76808715,"comment_id":135411773,"body_markdown":"Hi @RajuRudru I am using the below dependency. Now i am getting &quot;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot; Error. Kindly suggest me to resolve this. \n&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;azure-storage-file-share&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;12.19.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"Hi @RajuRudru I am using the below dependency. Now i am getting &quot;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot; Error. Kindly suggest me to resolve this.  &lt;dependency&gt; \t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;azure-storage-file-share&lt;/artifactId&gt; \t\t\t&lt;version&gt;12.19.0&lt;/version&gt; \t\t&lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":25323437,"reputation":5152,"user_id":19144428,"display_name":"Venkatesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690961549,"creation_date":1690961549,"answer_id":76817557,"question_id":76808715,"body_markdown":"&gt; Need to upload the file from local to Azure blob File Share folder using Java code\r\n\r\nYou can use the below code to upload from the local path to Azure file storage using Azure Java SDK.\r\n\r\n**Code:** \r\n\r\n    import com.azure.storage.file.share.ShareFileClient;\r\n    import com.azure.storage.file.share.ShareFileClientBuilder; \r\n    \r\n        public static void main(String[] args) {\r\n            String connectionString = &quot;your-connection-string&quot;;\r\n            String shareName = &quot;fileshare1&quot;;\r\n            String directoryName = &quot;directory1&quot;;\r\n            String fileName = &quot;sample.csv&quot;;\r\n            String filePath = &quot;C:\\\\Users\\\\xxxx\\\\xxxx\\\\day.csv&quot;;\r\n        \r\n            // Create a ShareClient object\r\n                   // Create a ShareFileClient object\r\n            ShareFileClient fileClient = new ShareFileClientBuilder()\r\n                    .connectionString(connectionString)\r\n                    .shareName(shareName)\r\n                    .resourcePath(directoryName + &quot;/&quot; + fileName)\r\n                    .buildFileClient();\r\n        fileClient.uploadFromFile(filePath);\r\n        \r\n        System.out.println(&quot;File uploaded successfully.&quot;);\r\n        }\r\n\r\n**Dependency:** \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;azure-storage-file-share&lt;/artifactId&gt;\r\n      &lt;version&gt;12.14.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n\r\n**Output:**\r\n\r\n     File uploaded successfully.\r\n![enter image description here](https://i.imgur.com/Uj72wHP.png)\r\n\r\n**Portal:** \r\n\r\n![enter image description here](https://i.imgur.com/WNIwGnI.png)\r\n\r\n**Reference:** \r\n\r\n[Azure File Share client library for Java | Microsoft Learn](https://learn.microsoft.com/en-us/java/api/overview/azure/storage-file-share-readme?view=azure-java-stable#upload-file-to-storage)\r\n","title":"Need to upload the file from local to Azure blob File Share folder using Java code","body":"<blockquote>\n<p>Need to upload the file from local to Azure blob File Share folder using Java code</p>\n</blockquote>\n<p>You can use the below code to upload from the local path to Azure file storage using Azure Java SDK.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import com.azure.storage.file.share.ShareFileClient;\nimport com.azure.storage.file.share.ShareFileClientBuilder; \n\n    public static void main(String[] args) {\n        String connectionString = &quot;your-connection-string&quot;;\n        String shareName = &quot;fileshare1&quot;;\n        String directoryName = &quot;directory1&quot;;\n        String fileName = &quot;sample.csv&quot;;\n        String filePath = &quot;C:\\\\Users\\\\xxxx\\\\xxxx\\\\day.csv&quot;;\n    \n        // Create a ShareClient object\n               // Create a ShareFileClient object\n        ShareFileClient fileClient = new ShareFileClientBuilder()\n                .connectionString(connectionString)\n                .shareName(shareName)\n                .resourcePath(directoryName + &quot;/&quot; + fileName)\n                .buildFileClient();\n    fileClient.uploadFromFile(filePath);\n    \n    System.out.println(&quot;File uploaded successfully.&quot;);\n    }\n</code></pre>\n<p><strong>Dependency:</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.azure&lt;/groupId&gt;\n  &lt;artifactId&gt;azure-storage-file-share&lt;/artifactId&gt;\n  &lt;version&gt;12.14.0&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code> File uploaded successfully.\n</code></pre>\n<p><img src=\"https://i.imgur.com/Uj72wHP.png\" alt=\"enter image description here\" /></p>\n<p><strong>Portal:</strong></p>\n<p><img src=\"https://i.imgur.com/WNIwGnI.png\" alt=\"enter image description here\" /></p>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/storage-file-share-readme?view=azure-java-stable#upload-file-to-storage\" rel=\"nofollow noreferrer\">Azure File Share client library for Java | Microsoft Learn</a></p>\n"}],"owner":{"account_id":17235840,"reputation":85,"user_id":12479336,"display_name":"oliver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76817557,"answer_count":1,"score":0,"last_activity_date":1690961549,"creation_date":1690867368,"question_id":76808715,"body_markdown":"I am trying to upload the file from my local path to File Share folder in the Azure Storage blob by using below Java code. I am getting the below error. Kindly help me to resolve this issue or any code snippet to upload in the file share folder in azure blob.\r\n\r\n\t\t\t\r\n\r\n    String connectionString = &quot;&quot;;\r\n    String shareName = &quot;&quot;;\r\n    String filePath = &quot;&lt;local file path&gt;&quot;;\r\n    String fileName = &quot;&quot;;\r\n\r\n    // Create a ShareClient object\r\n    ShareClient shareClient = new ShareClientBuilder().connectionString(connectionString).shareName(shareName).buildClient();\r\n\r\n    try {\r\n        // Open the file as a stream\r\n        File file = new File(filePath);\r\n        FileInputStream fis = new FileInputStream(file);\r\n\r\n        // Upload the file to the share\r\n        ShareFileClient fileClient = shareClient.getDirectoryClient(&quot;&quot;).getFileClient(fileName);\r\n        fileClient.create(fis.available());\r\n        fileClient.upload(fis, fis.available());\r\n\r\n        // Close the file stream\r\n        fis.close();\r\n\r\n        System.out.println(&quot;File uploaded successfully.&quot;);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/azure/core/client/traits/HttpTrait\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat utilities.azureBlob3.main(azureBlob3.java:22)\r\n    Caused by: java.lang.ClassNotFoundException: com.azure.core.client.traits.HttpTrait\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 10 more","title":"Need to upload the file from local to Azure blob File Share folder using Java code","body":"<p>I am trying to upload the file from my local path to File Share folder in the Azure Storage blob by using below Java code. I am getting the below error. Kindly help me to resolve this issue or any code snippet to upload in the file share folder in azure blob.</p>\n<pre><code>String connectionString = &quot;&quot;;\nString shareName = &quot;&quot;;\nString filePath = &quot;&lt;local file path&gt;&quot;;\nString fileName = &quot;&quot;;\n\n// Create a ShareClient object\nShareClient shareClient = new ShareClientBuilder().connectionString(connectionString).shareName(shareName).buildClient();\n\ntry {\n    // Open the file as a stream\n    File file = new File(filePath);\n    FileInputStream fis = new FileInputStream(file);\n\n    // Upload the file to the share\n    ShareFileClient fileClient = shareClient.getDirectoryClient(&quot;&quot;).getFileClient(fileName);\n    fileClient.create(fis.available());\n    fileClient.upload(fis, fis.available());\n\n    // Close the file stream\n    fis.close();\n\n    System.out.println(&quot;File uploaded successfully.&quot;);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/azure/core/client/traits/HttpTrait\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at utilities.azureBlob3.main(azureBlob3.java:22)\nCaused by: java.lang.ClassNotFoundException: com.azure.core.client.traits.HttpTrait\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 10 more\n</code></pre>\n"},{"tags":["java","spring","jackson","spring-webflux"],"comments":[{"owner":{"account_id":3249972,"reputation":344,"user_id":2740568,"accept_rate":45,"display_name":"Nagesh"},"score":1,"creation_date":1599742957,"post_id":53378161,"comment_id":112872418,"body_markdown":"Did you find the solution?","body":"Did you find the solution?"}],"answers":[{"tags":[],"owner":{"account_id":11678392,"reputation":329,"user_id":8551059,"display_name":"Ashish"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543222430,"creation_date":1543222430,"answer_id":53477531,"question_id":53378161,"body_markdown":"Create a class (say CollectionT) and add List of T as an attribute there. Then You can easily cast it into Mono, which on, .map(x -&gt; x.getList()) will return a Mono of List of T. It also makes your code look more non-blocking by avoiding, .block()\r\n\r\nHere goes the code: -&gt;\r\n\r\n\r\n\r\n    public class CollectionT {\r\n    \r\n       private List&lt;T&gt; data;\r\n    \r\n       //getters\r\n       public List&lt;T&gt; getData(){\r\n        return data;\r\n       }\r\n   \r\n       //setters\r\n         ...\r\n    }\r\n    \r\n    public class RestConsumer&lt;T&gt; {\r\n        WebClient client = WebClient.create();\r\n    \r\n        public RestConsumer(){\r\n            //Initialize client\r\n        }\r\n    \r\n            public List&lt;T&gt; getList(String relativeUrl){\r\n                \r\n                    return client\r\n                        .get()\r\n                        .uri(relativeUrl)\r\n                        .retrieve()\r\n                        .bodyToMono(CollectionT.class)\r\n                        .map(x -&gt; x.getData());\r\n              \r\n        }\r\n    }\r\n","title":"Webflux webclient and generic types","body":"<p>Create a class (say CollectionT) and add List of T as an attribute there. Then You can easily cast it into Mono, which on, .map(x -> x.getList()) will return a Mono of List of T. It also makes your code look more non-blocking by avoiding, .block()</p>\n\n<p>Here goes the code: -></p>\n\n<pre><code>public class CollectionT {\n\n   private List&lt;T&gt; data;\n\n   //getters\n   public List&lt;T&gt; getData(){\n    return data;\n   }\n\n   //setters\n     ...\n}\n\npublic class RestConsumer&lt;T&gt; {\n    WebClient client = WebClient.create();\n\n    public RestConsumer(){\n        //Initialize client\n    }\n\n        public List&lt;T&gt; getList(String relativeUrl){\n\n                return client\n                    .get()\n                    .uri(relativeUrl)\n                    .retrieve()\n                    .bodyToMono(CollectionT.class)\n                    .map(x -&gt; x.getData());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18614888,"reputation":689,"user_id":13566428,"display_name":"Andrei Stoicescu"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1604056733,"creation_date":1604056733,"answer_id":64607364,"question_id":53378161,"body_markdown":"I encountered the same problem and in order to work I added ParameterizedTypeReference as a parameter for that function.\r\n\r\n    public &lt;T&gt; List&lt;T&gt; getList(String relativeUrl, \r\n                               ParameterizedTypeReference&lt;List&lt;T&gt;&gt; typeReference){\r\n        try{\r\n            return client\r\n                .get()\r\n                .uri(relativeUrl)\r\n                .retrieve()\r\n                .bodyToMono(typeReference)\r\n                .block();\r\n        } catch(Exception e){\r\n            return null;\r\n        }\r\n    }\r\n\r\nAnd call that function with\r\n\r\n    ParameterizedTypeReference&lt;List&lt;MyClass&gt;&gt; typeReference = new ParameterizedTypeReference&lt;List&lt;MyClass&gt;&gt;(){};\r\n    List&lt;MyClass&gt; strings = getList(relativeUrl, typeReference);","title":"Webflux webclient and generic types","body":"<p>I encountered the same problem and in order to work I added ParameterizedTypeReference as a parameter for that function.</p>\n<pre><code>public &lt;T&gt; List&lt;T&gt; getList(String relativeUrl, \n                           ParameterizedTypeReference&lt;List&lt;T&gt;&gt; typeReference){\n    try{\n        return client\n            .get()\n            .uri(relativeUrl)\n            .retrieve()\n            .bodyToMono(typeReference)\n            .block();\n    } catch(Exception e){\n        return null;\n    }\n}\n</code></pre>\n<p>And call that function with</p>\n<pre><code>ParameterizedTypeReference&lt;List&lt;MyClass&gt;&gt; typeReference = new ParameterizedTypeReference&lt;List&lt;MyClass&gt;&gt;(){};\nList&lt;MyClass&gt; strings = getList(relativeUrl, typeReference);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71795,"reputation":1978,"user_id":207552,"accept_rate":75,"display_name":"bschandramohan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612747541,"creation_date":1612747541,"answer_id":66094838,"question_id":53378161,"body_markdown":"If you are using kotlin, key is to use reified to preserve the class type from generic types on the calling field. \r\n\r\nHere is the code: \r\n\r\n    inline fun &lt;reified T&gt; getMonoResult(uriParam: String): T? = client\r\n        .get()\r\n        .uri(uriParam)\r\n        .retrieve()\r\n        .bodyToMono(T::class.java)\r\n        .block(Duration.ofSeconds(1))\r\n\r\n    inline fun &lt;reified T&gt; getFluxResult(uriParam: String): MutableList&lt;T&gt;? = client\r\n        .get()\r\n        .uri(uriParam)\r\n        .retrieve()\r\n        .bodyToFlux(T::class.java)\r\n        .collectList()\r\n        .block(Duration.ofSeconds(1))\r\n\r\n","title":"Webflux webclient and generic types","body":"<p>If you are using kotlin, key is to use reified to preserve the class type from generic types on the calling field.</p>\n<p>Here is the code:</p>\n<pre><code>inline fun &lt;reified T&gt; getMonoResult(uriParam: String): T? = client\n    .get()\n    .uri(uriParam)\n    .retrieve()\n    .bodyToMono(T::class.java)\n    .block(Duration.ofSeconds(1))\n\ninline fun &lt;reified T&gt; getFluxResult(uriParam: String): MutableList&lt;T&gt;? = client\n    .get()\n    .uri(uriParam)\n    .retrieve()\n    .bodyToFlux(T::class.java)\n    .collectList()\n    .block(Duration.ofSeconds(1))\n</code></pre>\n"}],"owner":{"account_id":14782191,"reputation":201,"user_id":10675439,"display_name":"liorc2121"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16145,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1690961240,"creation_date":1542642347,"question_id":53378161,"body_markdown":"I am trying to build a generic class that will consume a REST API. The API returns lists of objects depending on the url.\r\n\r\nI have built a Generic class \r\n\r\n    public class RestConsumer&lt;T&gt; {\r\n        WebClient client;\r\n\r\n        public RestConsumer(){\r\n            //Initialize client\r\n        }\r\n\r\n        public List&lt;T&gt; getList(String relativeUrl){\r\n            try{\r\n                return client\r\n                    .get()\r\n                    .uri(relativeUrl)\r\n                    .retrieve()\r\n                    .bodyToMono(new ParameterizedTypeReference&lt;List&lt;T&gt;&gt; (){}\r\n                    .block()\r\n            catch(Exception e){}\r\n    }\r\n}\r\n\r\n\r\nThe problem is that T is replaced by Object at compilation time and the whole thing returns a List of LinkedHashMap instead of a List of T. I tried lots of workarounds but had no luck. Any clue?","title":"Webflux webclient and generic types","body":"<p>I am trying to build a generic class that will consume a REST API. The API returns lists of objects depending on the url.</p>\n<p>I have built a Generic class</p>\n<pre><code>public class RestConsumer&lt;T&gt; {\n    WebClient client;\n\n    public RestConsumer(){\n        //Initialize client\n    }\n\n    public List&lt;T&gt; getList(String relativeUrl){\n        try{\n            return client\n                .get()\n                .uri(relativeUrl)\n                .retrieve()\n                .bodyToMono(new ParameterizedTypeReference&lt;List&lt;T&gt;&gt; (){}\n                .block()\n        catch(Exception e){}\n}\n</code></pre>\n<p>}</p>\n<p>The problem is that T is replaced by Object at compilation time and the whole thing returns a List of LinkedHashMap instead of a List of T. I tried lots of workarounds but had no luck. Any clue?</p>\n"},{"tags":["java","arrays","encoding","sum","decoding"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1690961144,"post_id":76817469,"comment_id":135423957,"body_markdown":"The subtraction should be the other way round: `res[i - 1] = res[i] - input1[i - 1];`","body":"The subtraction should be the other way round: <code>res[i - 1] = res[i] - input1[i - 1];</code>"}],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1690961214,"creation_date":1690961214,"answer_id":76817513,"question_id":76817469,"body_markdown":" You made a mistake in writing here \r\n [![enter image description here][1]][1]\r\n\r\nThe correct calculation method is as follows     \r\n\r\n     res[i - 1] =  res[i] - input1[i - 1] ;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zmmPv.png","title":"Decode Simple Encoded Array in Java","body":"<p>You made a mistake in writing here\n<a href=\"https://i.stack.imgur.com/zmmPv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmmPv.png\" alt=\"enter image description here\" /></a></p>\n<p>The correct calculation method is as follows</p>\n<pre><code> res[i - 1] =  res[i] - input1[i - 1] ;\n</code></pre>\n"}],"owner":{"account_id":29141331,"reputation":3,"user_id":22324230,"display_name":"Sri Murugan G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76817513,"answer_count":1,"score":-1,"last_activity_date":1690961214,"creation_date":1690960774,"question_id":76817469,"body_markdown":"I have an encoded array in Java, and I need to find the first number and the sum of all numbers in the original array based on the encoding rules. The encoding used is as follows:\r\n\r\n- Each array element has been substituted with a value that is the difference of its original value and its succeeding elementâs value.\r\n- The value in `arr[i] = arr[i+1] - arr[i]`\r\n- For example, if the original array is `{2, 5, 1, 7, 9, 3}`, the encoded array would be `{3, -4, 6, 2, -6, 3}`.\r\n\r\nI tried the following code, and it&#39;s giving the wrong output. Can someone please help me identify the issue?\r\n\r\n\r\n```\r\nclass Result {\r\n    int output1;\r\n    int output2;\r\n\r\n    public Result(int output1, int output2) {\r\n        this.output1 = output1;\r\n        this.output2 = output2;\r\n    }\r\n}\r\n\r\npublic class EncodedArray {\r\n\r\n    public static Result findOriginalFirstAndSum(int[] input1) {\r\n        int[] res = new int[input1.length];\r\n        res[res.length - 1] = input1[input1.length - 1];\r\n        for (int i = input1.length - 1; i &gt; 0; i--) {\r\n            res[i - 1] = input1[i - 1] - res[i];\r\n        }\r\n\r\n        int sum = 0;\r\n        for (int item : res) {\r\n            sum += item;\r\n        }\r\n\r\n        return new Result(res[0], sum);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] encodedArray = { 3, -4, 6, 2, -6, 3 };\r\n        Result result = findOriginalFirstAndSum(encodedArray);\r\n\r\n        System.out.println(&quot;First number in original array: &quot; + result.output1);\r\n        System.out.println(&quot;Sum of all numbers in original array: &quot; + result.output2);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe output I&#39;m getting is:\r\n\r\n```\r\nFirst number in the original array: -3\r\nSum of all numbers in the original array: 12\r\n\r\n```\r\nThe expected output should be:\r\n\r\n```\r\nFirst number in the original array: 2\r\nSum of all numbers in the original array: 27\r\n```\r\n\r\nAny help or suggestions on how to fix the code would be greatly appreciated. Thank you!","title":"Decode Simple Encoded Array in Java","body":"<p>I have an encoded array in Java, and I need to find the first number and the sum of all numbers in the original array based on the encoding rules. The encoding used is as follows:</p>\n<ul>\n<li>Each array element has been substituted with a value that is the difference of its original value and its succeeding elementâs value.</li>\n<li>The value in <code>arr[i] = arr[i+1] - arr[i]</code></li>\n<li>For example, if the original array is <code>{2, 5, 1, 7, 9, 3}</code>, the encoded array would be <code>{3, -4, 6, 2, -6, 3}</code>.</li>\n</ul>\n<p>I tried the following code, and it's giving the wrong output. Can someone please help me identify the issue?</p>\n<pre><code>class Result {\n    int output1;\n    int output2;\n\n    public Result(int output1, int output2) {\n        this.output1 = output1;\n        this.output2 = output2;\n    }\n}\n\npublic class EncodedArray {\n\n    public static Result findOriginalFirstAndSum(int[] input1) {\n        int[] res = new int[input1.length];\n        res[res.length - 1] = input1[input1.length - 1];\n        for (int i = input1.length - 1; i &gt; 0; i--) {\n            res[i - 1] = input1[i - 1] - res[i];\n        }\n\n        int sum = 0;\n        for (int item : res) {\n            sum += item;\n        }\n\n        return new Result(res[0], sum);\n    }\n\n    public static void main(String[] args) {\n        int[] encodedArray = { 3, -4, 6, 2, -6, 3 };\n        Result result = findOriginalFirstAndSum(encodedArray);\n\n        System.out.println(&quot;First number in original array: &quot; + result.output1);\n        System.out.println(&quot;Sum of all numbers in original array: &quot; + result.output2);\n    }\n}\n</code></pre>\n<p>The output I'm getting is:</p>\n<pre><code>First number in the original array: -3\nSum of all numbers in the original array: 12\n\n</code></pre>\n<p>The expected output should be:</p>\n<pre><code>First number in the original array: 2\nSum of all numbers in the original array: 27\n</code></pre>\n<p>Any help or suggestions on how to fix the code would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","unit-testing","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690961156,"creation_date":1690961156,"answer_id":76817508,"question_id":76808707,"body_markdown":"You cannot do `when(new XYZ())`; Mockito cannot create stubbings for constructors.\r\n\r\nThe statement\r\n\r\n```\r\nwhen(new SSLConnectionSocketFactory(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE))\r\n        .thenReturn(sslConnectionSocketFactory);\r\n```\r\n\r\nis seen by Mockito as\r\n\r\n```\r\nwhen(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE)\r\n        .thenReturn(sslConnectionSocketFactory);\r\n```\r\n\r\nand that&#39;s the reason for your error: `getSocketFactory` does not return a `SslConnectionSocketFactory`.\r\n\r\nPossible solutions:\r\n\r\n* Use PowerMockito to stub constructor calls\r\n* Don&#39;t couple your classes and use a factory instead. Several variants of this solution are presented in https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","title":"Mockito Test throwing error &quot;SSLConnectionSocketFactory&quot; cannot be returned","body":"<p>You cannot do <code>when(new XYZ())</code>; Mockito cannot create stubbings for constructors.</p>\n<p>The statement</p>\n<pre><code>when(new SSLConnectionSocketFactory(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE))\n        .thenReturn(sslConnectionSocketFactory);\n</code></pre>\n<p>is seen by Mockito as</p>\n<pre><code>when(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE)\n        .thenReturn(sslConnectionSocketFactory);\n</code></pre>\n<p>and that's the reason for your error: <code>getSocketFactory</code> does not return a <code>SslConnectionSocketFactory</code>.</p>\n<p>Possible solutions:</p>\n<ul>\n<li>Use PowerMockito to stub constructor calls</li>\n<li>Don't couple your classes and use a factory instead. Several variants of this solution are presented in <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a></li>\n</ul>\n"}],"owner":{"account_id":26533048,"reputation":29,"user_id":20164966,"display_name":"snigdha singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690961156,"creation_date":1690867198,"question_id":76808707,"body_markdown":"I have written a code to perform http post operation:\r\n\r\n    public Response postResponse(\r\n            @NonNull final String payload,\r\n            @NonNull final String endpoint,\r\n            @NonNull final ContentType contentType,\r\n            @NonNull final String clientCertificate\r\n    ) {\r\n        SSLConnectionSocketFactory sslConnectionSocketFactory;\r\n        if (StringUtils.isNotEmpty(clientCertificate)) {\r\n            // Client certificate is present, thus using TLS\r\n            sslConnectionSocketFactory =\r\n                    new SSLConnectionSocketFactory(postUtility\r\n                            .getSocketFactory(clientCertificate),\r\n                            NoopHostnameVerifier.INSTANCE);\r\n        } else {\r\n            SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            sslcontext.init(null, null, new java.security.SecureRandom());\r\n\r\n            sslConnectionSocketFactory = new SSLConnectionSocketFactory(\r\n                    sslcontext,\r\n                    new String[]{&quot;TLSv1&quot;}, //{ &quot;TLS10&quot; },\r\n                    null,\r\n                    SSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n        }\r\n\r\n        HttpPost httpPost = new HttpPost(endpoint);\r\n        httpPost.setHeader(&quot;Content-Type&quot;, contentType.getMimeType());\r\n\r\n        httpPost.setEntity(\r\n                EntityBuilder.create()\r\n                        .setText(payload)\r\n                        .setContentType(contentType)\r\n                        .build()\r\n        );\r\n\r\n        try (\r\n                CloseableHttpClient httpclient = HttpClients.custom()\r\n                        .setSSLContext(SSLContext.getDefault())\r\n                        .setSSLSocketFactory(sslConnectionSocketFactory)\r\n                        .build();\r\n                CloseableHttpResponse response = httpclient.execute(httpPost)\r\n        ) {\r\n            return Response.status(response.getStatusLine().getStatusCode()).build();\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Unable to send response&quot;, ex);\r\n            return Response.serverError().build();\r\n        }\r\n    }\r\n\r\nAnd wrote below unit test with MockitoExtension.class but it seems to be throwing error:\r\nSSLConnectionSocketFactory$MockitoMock$1231118446 cannot be returned by getSocketFactory() getSocketFactory() should return SSLSocketFactory. Return type of getSocketFactory() method in postUtility class returns a SSLSocketFactory. I want to use MockitoExtension only and not PowerMockito\r\n\r\n    @Mock\r\n    private PostUtility postUtility;\r\n\r\n    @Mock\r\n    private SSLConnectionSocketFactory sslConnectionSocketFactory;\r\n\r\n    @Mock\r\n    private SSLSocketFactory sslSocketFactory;\r\n\r\n    @Mock\r\n    private CloseableHttpClient httpclient;\r\n\r\n    @Mock\r\n    private CloseableHttpResponse httpResponse;\r\n\r\n    @Mock\r\n    private StatusLine statusLine;\r\n\r\n    @Test\r\n    public void testPostResponse() throws Exception {\r\n        when(postUtility.getSocketFactory(clientCertificate))\r\n                .thenReturn(sslSocketFactory);\r\n        when(new SSLConnectionSocketFactory(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE))\r\n                .thenReturn(sslConnectionSocketFactory);\r\n\r\n        when(httpResponse.getStatusLine()).thenReturn(statusLine);\r\n        when(statusLine.getStatusCode()).thenReturn(200);\r\n        when(httpclient.execute(any(HttpPost.class))).thenReturn(httpResponse);\r\n\r\n\r\n        Response response = className.postResponse(&quot;testPayLoad&quot;,&quot;testEndPoint&quot;,ContentType.TEXT_XML, &quot;testclientCertificate&quot;);\r\n   \r\n        assertEquals(200, response.getStatus(), &quot;Response status code should be 200&quot;);\r\n    }\r\n\r\n","title":"Mockito Test throwing error &quot;SSLConnectionSocketFactory&quot; cannot be returned","body":"<p>I have written a code to perform http post operation:</p>\n<pre><code>public Response postResponse(\n        @NonNull final String payload,\n        @NonNull final String endpoint,\n        @NonNull final ContentType contentType,\n        @NonNull final String clientCertificate\n) {\n    SSLConnectionSocketFactory sslConnectionSocketFactory;\n    if (StringUtils.isNotEmpty(clientCertificate)) {\n        // Client certificate is present, thus using TLS\n        sslConnectionSocketFactory =\n                new SSLConnectionSocketFactory(postUtility\n                        .getSocketFactory(clientCertificate),\n                        NoopHostnameVerifier.INSTANCE);\n    } else {\n        SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslcontext.init(null, null, new java.security.SecureRandom());\n\n        sslConnectionSocketFactory = new SSLConnectionSocketFactory(\n                sslcontext,\n                new String[]{&quot;TLSv1&quot;}, //{ &quot;TLS10&quot; },\n                null,\n                SSLConnectionSocketFactory.getDefaultHostnameVerifier());\n    }\n\n    HttpPost httpPost = new HttpPost(endpoint);\n    httpPost.setHeader(&quot;Content-Type&quot;, contentType.getMimeType());\n\n    httpPost.setEntity(\n            EntityBuilder.create()\n                    .setText(payload)\n                    .setContentType(contentType)\n                    .build()\n    );\n\n    try (\n            CloseableHttpClient httpclient = HttpClients.custom()\n                    .setSSLContext(SSLContext.getDefault())\n                    .setSSLSocketFactory(sslConnectionSocketFactory)\n                    .build();\n            CloseableHttpResponse response = httpclient.execute(httpPost)\n    ) {\n        return Response.status(response.getStatusLine().getStatusCode()).build();\n    } catch (Exception ex) {\n        log.error(&quot;Unable to send response&quot;, ex);\n        return Response.serverError().build();\n    }\n}\n</code></pre>\n<p>And wrote below unit test with MockitoExtension.class but it seems to be throwing error:\nSSLConnectionSocketFactory$MockitoMock$1231118446 cannot be returned by getSocketFactory() getSocketFactory() should return SSLSocketFactory. Return type of getSocketFactory() method in postUtility class returns a SSLSocketFactory. I want to use MockitoExtension only and not PowerMockito</p>\n<pre><code>@Mock\nprivate PostUtility postUtility;\n\n@Mock\nprivate SSLConnectionSocketFactory sslConnectionSocketFactory;\n\n@Mock\nprivate SSLSocketFactory sslSocketFactory;\n\n@Mock\nprivate CloseableHttpClient httpclient;\n\n@Mock\nprivate CloseableHttpResponse httpResponse;\n\n@Mock\nprivate StatusLine statusLine;\n\n@Test\npublic void testPostResponse() throws Exception {\n    when(postUtility.getSocketFactory(clientCertificate))\n            .thenReturn(sslSocketFactory);\n    when(new SSLConnectionSocketFactory(postUtility.getSocketFactory(clientCertificate), NoopHostnameVerifier.INSTANCE))\n            .thenReturn(sslConnectionSocketFactory);\n\n    when(httpResponse.getStatusLine()).thenReturn(statusLine);\n    when(statusLine.getStatusCode()).thenReturn(200);\n    when(httpclient.execute(any(HttpPost.class))).thenReturn(httpResponse);\n\n\n    Response response = className.postResponse(&quot;testPayLoad&quot;,&quot;testEndPoint&quot;,ContentType.TEXT_XML, &quot;testclientCertificate&quot;);\n\n    assertEquals(200, response.getStatus(), &quot;Response status code should be 200&quot;);\n}\n</code></pre>\n"},{"tags":["java","authentication","openid","steam"],"answers":[{"tags":[],"owner":{"account_id":23824799,"reputation":49,"user_id":17832003,"display_name":"Tavark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690961109,"creation_date":1690961109,"answer_id":76817503,"question_id":76817427,"body_markdown":"Since you are using Spring, I would recommend that you should have a look at [Spring Security][1], rather then implementing security relevant things on your own. The library already deals with most of the topics, like handling tokens etc., if you configure it properly.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html","title":"Steam login using openID in JAVA","body":"<p>Since you are using Spring, I would recommend that you should have a look at <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html\" rel=\"nofollow noreferrer\">Spring Security</a>, rather then implementing security relevant things on your own. The library already deals with most of the topics, like handling tokens etc., if you configure it properly.</p>\n"}],"owner":{"account_id":29142053,"reputation":1,"user_id":22324805,"display_name":"Hyeok Geun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690961109,"creation_date":1690960493,"question_id":76817427,"body_markdown":"I implemented Steam login in Java language. \r\n\r\nHowever, if &quot;is_valid:false&quot; appears, I am worried that I cannot log in.\r\n\r\nI&#39;m worried because it&#39;s random to log in even if I deliver accurate information to the team. \r\n\r\nmy question is\r\n\r\nI would definitely like to receive a response that it &quot;is valid: true&quot; if I deliver accurate information. \r\n\r\nIf that doesn&#39;t work, I&#39;d like to know another way to log in\r\n\r\n\r\n\r\n\r\n```\r\n   @GetMapping(&quot;/login/check&quot;)\r\n    public String startSession(\r\n        @RequestParam(value = &quot;openid.ns&quot;) String openidNs,\r\n        @RequestParam(value = &quot;openid.mode&quot;) String openidMode,\r\n        @RequestParam(value = &quot;openid.op_endpoint&quot;) String openidOpEndpoint,\r\n        @RequestParam(value = &quot;openid.claimed_id&quot;) String openidClaimedId,\r\n        @RequestParam(value = &quot;openid.identity&quot;) String openidIdentity,\r\n        @RequestParam(value = &quot;openid.return_to&quot;) String openidReturnTo,\r\n        @RequestParam(value = &quot;openid.response_nonce&quot;) String openidResponseNonce,\r\n        @RequestParam(value = &quot;openid.assoc_handle&quot;) String openidAssocHandle,\r\n        @RequestParam(value = &quot;openid.signed&quot;) String openidSigned,\r\n        @RequestParam(value = &quot;openid.sig&quot;) String openidSig,\r\n        HttpServletRequest request,\r\n        HttpServletResponse response) throws InterruptedException {\r\n\r\n\r\n        log.info(&quot;openidResponseNonce = {} &quot;, openidResponseNonce);\r\n\r\n        ResponseEntity&lt;String&gt; block = WebClient.create(&quot;https://steamcommunity.com&quot;)\r\n            .get()\r\n            .uri(uriBuilder -&gt; uriBuilder\r\n                .path(&quot;/openid/login&quot;)\r\n                .queryParam(&quot;openid.ns&quot;, openidNs)\r\n                .queryParam(&quot;openid.mode&quot;, &quot;check_authentication&quot;)\r\n                .queryParam(&quot;openid.op_endpoint&quot;, openidOpEndpoint)\r\n                .queryParam(&quot;openid.claimed_id&quot;, openidClaimedId)\r\n                .queryParam(&quot;openid.identity&quot;, openidIdentity)\r\n                .queryParam(&quot;openid.return_to&quot;, openidReturnTo)\r\n                .queryParam(&quot;openid.response_nonce&quot;, openidResponseNonce)\r\n                .queryParam(&quot;openid.assoc_handle&quot;, openidAssocHandle)\r\n                .queryParam(&quot;openid.signed&quot;, openidSigned)\r\n                .queryParam(&quot;openid.sig&quot;, openidSig)\r\n                .build()\r\n            )\r\n            .retrieve()\r\n            .toEntity(String.class)\r\n            .block();\r\n\r\n       \r\n        boolean isTrue = Objects.requireNonNull(block).getBody().contains(&quot;true&quot;);\r\n\r\n        log.info(&quot;isTrue = {} &quot;, isTrue);\r\n        if (!isTrue) {\r\n            return &quot;redirect:https://steamcommunity.com/openid/login?openid.ns=http://specs.openid.net/auth/2.0&amp;openid.claimed_id=http://specs.openid.net/auth/2.0/identifier_select&amp;openid.identity=http://specs.openid.net/auth/2.0/identifier_select&amp;openid.return_to=&quot; + baseUrl + &quot;/login/check&amp;openid.realm=&quot; + baseUrl + &quot;&amp;openid.mode=checkid_setup&quot;;\r\n        }\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n        Matcher matcher = pattern.matcher(openidIdentity);\r\n        String steamId;\r\n\r\n        if (matcher.find()) {\r\n            steamId = matcher.group();\r\n        } else {\r\n            throw new IllegalArgumentException();\r\n        }\r\n\r\n        if (!userService.findBySteamId(steamId).isPresent()) {\r\n            userService.create(getUserInfo(steamId));\r\n        }\r\n\r\n        SecurityUser user = SecurityUser.builder()\r\n            .id(userService.findBySteamId(steamId).get().getId())\r\n            .username(userService.findBySteamId(steamId).get().getUsername())\r\n            .steamId(steamId)\r\n            .build();\r\n\r\n        Authentication authentication = new OAuth2AuthenticationToken(user, user.getAuthorities(), &quot;steam&quot;);\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        HttpSession session = request.getSession(false);\r\n        if (session != null) {\r\n            session.invalidate();\r\n        }\r\n        // ìë¡ì´ ì¸ì ìì±\r\n        session = request.getSession(true);\r\n        session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, SecurityContextHolder.getContext());\r\n\r\n        // ì¸ì IDë¥¼ ì¿ í¤ì ì¤ì \r\n        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;, session.getId());\r\n        cookie.setHttpOnly(true);\r\n        cookie.setPath(&quot;/&quot;);\r\n        response.addCookie(cookie);\r\n\r\n        return &quot;redirect:/user/checkFirstVisit&quot;;\r\n\r\n    }\r\n```\r\n","title":"Steam login using openID in JAVA","body":"<p>I implemented Steam login in Java language.</p>\n<p>However, if &quot;is_valid:false&quot; appears, I am worried that I cannot log in.</p>\n<p>I'm worried because it's random to log in even if I deliver accurate information to the team.</p>\n<p>my question is</p>\n<p>I would definitely like to receive a response that it &quot;is valid: true&quot; if I deliver accurate information.</p>\n<p>If that doesn't work, I'd like to know another way to log in</p>\n<pre><code>   @GetMapping(&quot;/login/check&quot;)\n    public String startSession(\n        @RequestParam(value = &quot;openid.ns&quot;) String openidNs,\n        @RequestParam(value = &quot;openid.mode&quot;) String openidMode,\n        @RequestParam(value = &quot;openid.op_endpoint&quot;) String openidOpEndpoint,\n        @RequestParam(value = &quot;openid.claimed_id&quot;) String openidClaimedId,\n        @RequestParam(value = &quot;openid.identity&quot;) String openidIdentity,\n        @RequestParam(value = &quot;openid.return_to&quot;) String openidReturnTo,\n        @RequestParam(value = &quot;openid.response_nonce&quot;) String openidResponseNonce,\n        @RequestParam(value = &quot;openid.assoc_handle&quot;) String openidAssocHandle,\n        @RequestParam(value = &quot;openid.signed&quot;) String openidSigned,\n        @RequestParam(value = &quot;openid.sig&quot;) String openidSig,\n        HttpServletRequest request,\n        HttpServletResponse response) throws InterruptedException {\n\n\n        log.info(&quot;openidResponseNonce = {} &quot;, openidResponseNonce);\n\n        ResponseEntity&lt;String&gt; block = WebClient.create(&quot;https://steamcommunity.com&quot;)\n            .get()\n            .uri(uriBuilder -&gt; uriBuilder\n                .path(&quot;/openid/login&quot;)\n                .queryParam(&quot;openid.ns&quot;, openidNs)\n                .queryParam(&quot;openid.mode&quot;, &quot;check_authentication&quot;)\n                .queryParam(&quot;openid.op_endpoint&quot;, openidOpEndpoint)\n                .queryParam(&quot;openid.claimed_id&quot;, openidClaimedId)\n                .queryParam(&quot;openid.identity&quot;, openidIdentity)\n                .queryParam(&quot;openid.return_to&quot;, openidReturnTo)\n                .queryParam(&quot;openid.response_nonce&quot;, openidResponseNonce)\n                .queryParam(&quot;openid.assoc_handle&quot;, openidAssocHandle)\n                .queryParam(&quot;openid.signed&quot;, openidSigned)\n                .queryParam(&quot;openid.sig&quot;, openidSig)\n                .build()\n            )\n            .retrieve()\n            .toEntity(String.class)\n            .block();\n\n       \n        boolean isTrue = Objects.requireNonNull(block).getBody().contains(&quot;true&quot;);\n\n        log.info(&quot;isTrue = {} &quot;, isTrue);\n        if (!isTrue) {\n            return &quot;redirect:https://steamcommunity.com/openid/login?openid.ns=http://specs.openid.net/auth/2.0&amp;openid.claimed_id=http://specs.openid.net/auth/2.0/identifier_select&amp;openid.identity=http://specs.openid.net/auth/2.0/identifier_select&amp;openid.return_to=&quot; + baseUrl + &quot;/login/check&amp;openid.realm=&quot; + baseUrl + &quot;&amp;openid.mode=checkid_setup&quot;;\n        }\n\n        Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\n        Matcher matcher = pattern.matcher(openidIdentity);\n        String steamId;\n\n        if (matcher.find()) {\n            steamId = matcher.group();\n        } else {\n            throw new IllegalArgumentException();\n        }\n\n        if (!userService.findBySteamId(steamId).isPresent()) {\n            userService.create(getUserInfo(steamId));\n        }\n\n        SecurityUser user = SecurityUser.builder()\n            .id(userService.findBySteamId(steamId).get().getId())\n            .username(userService.findBySteamId(steamId).get().getUsername())\n            .steamId(steamId)\n            .build();\n\n        Authentication authentication = new OAuth2AuthenticationToken(user, user.getAuthorities(), &quot;steam&quot;);\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        HttpSession session = request.getSession(false);\n        if (session != null) {\n            session.invalidate();\n        }\n        // ìë¡ì´ ì¸ì ìì±\n        session = request.getSession(true);\n        session.setAttribute(SPRING_SECURITY_CONTEXT_KEY, SecurityContextHolder.getContext());\n\n        // ì¸ì IDë¥¼ ì¿ í¤ì ì¤ì \n        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;, session.getId());\n        cookie.setHttpOnly(true);\n        cookie.setPath(&quot;/&quot;);\n        response.addCookie(cookie);\n\n        return &quot;redirect:/user/checkFirstVisit&quot;;\n\n    }\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690960553,"creation_date":1690960553,"answer_id":76817437,"question_id":76817347,"body_markdown":"The simplest solution to solving this problem would be to change the type of those fields from `array` to `map`. So your database schema might look like this:\r\n\r\n    db\r\n    |\r\n    --- products (collection)\r\n         |\r\n         --- $productId (document)\r\n               |\r\n               --- plz (map)\r\n               |   |\r\n               |   --- 50000: true\r\n               |   |\r\n               |   --- 50001: true\r\n               |\r\n               --- sport (map)\r\n               |   |\r\n               |   --- soccer: true\r\n               |   |\r\n               |   --- jackets: true\r\n               |\r\n               --- age (map)\r\n                   |\r\n                   --- youth: true\r\n                   |\r\n                   --- adult: true\r\n\r\nNow to get all products where the `plz` holds the value of `50001` and the `sport` is `soccer` and the `age` is `adult`, then you have to use the following query:\r\n\r\n    Query query = db.collection(&quot;products&quot;)\r\n                    .whereEqualTo(&quot;plz.50001&quot;, true)\r\n                    .whereEqualTo(&quot;sport.soccer&quot;, true)\r\n                    .whereEqualTo(&quot;age.adult&quot;, true);","title":"Firestore search array contains for more than one document","body":"<p>The simplest solution to solving this problem would be to change the type of those fields from <code>array</code> to <code>map</code>. So your database schema might look like this:</p>\n<pre><code>db\n|\n--- products (collection)\n     |\n     --- $productId (document)\n           |\n           --- plz (map)\n           |   |\n           |   --- 50000: true\n           |   |\n           |   --- 50001: true\n           |\n           --- sport (map)\n           |   |\n           |   --- soccer: true\n           |   |\n           |   --- jackets: true\n           |\n           --- age (map)\n               |\n               --- youth: true\n               |\n               --- adult: true\n</code></pre>\n<p>Now to get all products where the <code>plz</code> holds the value of <code>50001</code> and the <code>sport</code> is <code>soccer</code> and the <code>age</code> is <code>adult</code>, then you have to use the following query:</p>\n<pre><code>Query query = db.collection(&quot;products&quot;)\n                .whereEqualTo(&quot;plz.50001&quot;, true)\n                .whereEqualTo(&quot;sport.soccer&quot;, true)\n                .whereEqualTo(&quot;age.adult&quot;, true);\n</code></pre>\n"}],"owner":{"account_id":24848192,"reputation":3,"user_id":18725482,"display_name":"fresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76817437,"answer_count":1,"score":0,"last_activity_date":1690960616,"creation_date":1690959801,"question_id":76817347,"body_markdown":"I&#39;m using Cloud Firestore and I want to use more than one &quot;whereArrayContains&quot;. I know it is not possible, but is there another solution for it?\r\n\r\nThis is a screenshot of the DB:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe user put in his postal code (here: plz) and the app looks for the document. Then the user can choose a sport. \r\nFor example: plz: 50001 and sport: soccer \r\nHow do I search for it?\r\n\r\nI know it doesn&#39;t work this way:\r\n\r\n```Java\r\ncolRef = db.collection(&quot;Sponsoren&quot;);\r\n\r\ncolRef.whereArrayContains(&quot;plz&quot;, &quot;50001&quot;)\r\n    .whereArrayContains(&quot;sport&quot;, &quot;soccer&quot;)\r\n```\r\n\r\nIn the next step, there is a search for the age group, so I have to search for three values in three different arrays.\r\nFor example: plz: 50001 and sport: soccer and age: adult\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sddz2.png","title":"Firestore search array contains for more than one document","body":"<p>I'm using Cloud Firestore and I want to use more than one &quot;whereArrayContains&quot;. I know it is not possible, but is there another solution for it?</p>\n<p>This is a screenshot of the DB:</p>\n<p><a href=\"https://i.stack.imgur.com/Sddz2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sddz2.png\" alt=\"enter image description here\" /></a></p>\n<p>The user put in his postal code (here: plz) and the app looks for the document. Then the user can choose a sport.\nFor example: plz: 50001 and sport: soccer\nHow do I search for it?</p>\n<p>I know it doesn't work this way:</p>\n<pre><code>colRef = db.collection(&quot;Sponsoren&quot;);\n\ncolRef.whereArrayContains(&quot;plz&quot;, &quot;50001&quot;)\n    .whereArrayContains(&quot;sport&quot;, &quot;soccer&quot;)\n</code></pre>\n<p>In the next step, there is a search for the age group, so I have to search for three values in three different arrays.\nFor example: plz: 50001 and sport: soccer and age: adult</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","multipart"],"comments":[{"owner":{"account_id":10798392,"reputation":1578,"user_id":7943280,"accept_rate":93,"display_name":"TheTechGuy"},"score":0,"creation_date":1511431285,"post_id":25699727,"comment_id":81859961,"body_markdown":"how did you write your domain ?","body":"how did you write your domain ?"}],"answers":[{"tags":[],"owner":{"account_id":2468965,"reputation":26450,"user_id":2151351,"display_name":"a better oliver"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1410006797,"creation_date":1410006797,"answer_id":25700288,"question_id":25699727,"body_markdown":"    @RequestBody MultipartFile[] submissions\r\n\r\nshould be \r\n    \r\n    @RequestParam(&quot;file&quot;) MultipartFile[] submissions\r\n\r\nThe files are not the request body, they are part of it and there is no built-in `HttpMessageConverter` that can convert the request to an array of `MultiPartFile`.\r\n\r\nYou can also replace `HttpServletRequest` with `MultipartHttpServletRequest`, which gives you access to the headers of the individual parts.","title":"Multipart File upload Spring Boot","body":"<pre><code>@RequestBody MultipartFile[] submissions\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>@RequestParam(\"file\") MultipartFile[] submissions\n</code></pre>\n\n<p>The files are not the request body, they are part of it and there is no built-in <code>HttpMessageConverter</code> that can convert the request to an array of <code>MultiPartFile</code>.</p>\n\n<p>You can also replace <code>HttpServletRequest</code> with <code>MultipartHttpServletRequest</code>, which gives you access to the headers of the individual parts.</p>\n"},{"tags":[],"owner":{"account_id":4265069,"reputation":16090,"user_id":3763649,"accept_rate":68,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1423491645,"creation_date":1423491645,"answer_id":28411901,"question_id":25699727,"body_markdown":"You can simply use a **controller** method like this:\r\n\r\n    @RequestMapping(value = &quot;/uploadFile&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;?&gt; uploadFile(\r\n        @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n      \r\n      try {\r\n        // Handle the received file here\r\n        // ...\r\n      }\r\n      catch (Exception e) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n      }\r\n      \r\n      return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    } // method uploadFile\r\n\r\nWithout any additional configurations for Spring Boot.\r\n\r\nUsing the following **html form** client side:\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n      &lt;form action=&quot;/uploadFile&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n        &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Upload&quot;&gt; \r\n      &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n If you want to set **limits on files size** you can do it in the `application.properties`:\r\n\r\n    # File size limit\r\n    multipart.maxFileSize = 3Mb\r\n    \r\n    # Total request size for a multipart/form-data\r\n    multipart.maxRequestSize = 20Mb\r\n\r\n\r\nMoreover to send the file with **Ajax** take a look here:\r\nhttp://blog.netgloo.com/2015/02/08/spring-boot-file-upload-with-ajax/","title":"Multipart File upload Spring Boot","body":"<p>You can simply use a <strong>controller</strong> method like this:</p>\n\n<pre><code>@RequestMapping(value = \"/uploadFile\", method = RequestMethod.POST)\n@ResponseBody\npublic ResponseEntity&lt;?&gt; uploadFile(\n    @RequestParam(\"file\") MultipartFile file) {\n\n  try {\n    // Handle the received file here\n    // ...\n  }\n  catch (Exception e) {\n    return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n  }\n\n  return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n} // method uploadFile\n</code></pre>\n\n<p>Without any additional configurations for Spring Boot.</p>\n\n<p>Using the following <strong>html form</strong> client side:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n  &lt;form action=\"/uploadFile\" method=\"POST\" enctype=\"multipart/form-data\"&gt;\n    &lt;input type=\"file\" name=\"file\"&gt;\n    &lt;input type=\"submit\" value=\"Upload\"&gt; \n  &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you want to set <strong>limits on files size</strong> you can do it in the <code>application.properties</code>:</p>\n\n<pre><code># File size limit\nmultipart.maxFileSize = 3Mb\n\n# Total request size for a multipart/form-data\nmultipart.maxRequestSize = 20Mb\n</code></pre>\n\n<p>Moreover to send the file with <strong>Ajax</strong> take a look here:\n<a href=\"http://blog.netgloo.com/2015/02/08/spring-boot-file-upload-with-ajax/\">http://blog.netgloo.com/2015/02/08/spring-boot-file-upload-with-ajax/</a></p>\n"},{"tags":[],"owner":{"account_id":6107867,"reputation":1493,"user_id":4765105,"accept_rate":50,"display_name":"Ashutosh Jha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429010293,"creation_date":1429010293,"answer_id":29625974,"question_id":25699727,"body_markdown":"       @Bean\r\n        MultipartConfigElement multipartConfigElement() {\r\n            MultipartConfigFactory factory = new MultipartConfigFactory();\r\n            factory.setMaxFileSize(&quot;5120MB&quot;);\r\n            factory.setMaxRequestSize(&quot;5120MB&quot;);\r\n            return factory.createMultipartConfig();\r\n        }\r\n\r\nput it in class where you are defining beans\r\n\r\n","title":"Multipart File upload Spring Boot","body":"<pre><code>   @Bean\n    MultipartConfigElement multipartConfigElement() {\n        MultipartConfigFactory factory = new MultipartConfigFactory();\n        factory.setMaxFileSize(\"5120MB\");\n        factory.setMaxRequestSize(\"5120MB\");\n        return factory.createMultipartConfig();\n    }\n</code></pre>\n\n<p>put it in class where you are defining beans</p>\n"},{"tags":[],"owner":{"display_name":"user2080225"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1440878169,"creation_date":1440878169,"answer_id":32290145,"question_id":25699727,"body_markdown":"Latest version of SpringBoot makes **uploading multiple files** very easy also. On the browser side you just need the standard HTML upload form, but with **multiple input elements** (one per file to upload, which is very important), all having the same element name (name=&quot;files&quot; for the example below)\r\n\r\nThen in your Spring @Controller class on the server **all you need** is something like this:\r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n\t\tpublic @ResponseBody ResponseEntity&lt;?&gt; upload(\r\n\t\t\t@RequestParam(&quot;files&quot;) MultipartFile[] uploadFiles) throws Exception     \r\n    {\r\n\t\t...now loop over all uploadFiles in the array and do what you want\r\n      return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\nThose are the tricky parts. That is, knowing to create multiple input elements each named &quot;files&quot;, and knowing to use a MultipartFile[] (array) as the request parameter are the tricky things to know, but it&#39;s just that simple. I won&#39;t get into how to process a MultipartFile entry, because there&#39;s plenty of docs on that already.","title":"Multipart File upload Spring Boot","body":"<p>Latest version of SpringBoot makes <strong>uploading multiple files</strong> very easy also. On the browser side you just need the standard HTML upload form, but with <strong>multiple input elements</strong> (one per file to upload, which is very important), all having the same element name (name=\"files\" for the example below)</p>\n\n<p>Then in your Spring @Controller class on the server <strong>all you need</strong> is something like this:</p>\n\n<pre><code>@RequestMapping(value = \"/upload\", method = RequestMethod.POST)\n    public @ResponseBody ResponseEntity&lt;?&gt; upload(\n        @RequestParam(\"files\") MultipartFile[] uploadFiles) throws Exception     \n{\n    ...now loop over all uploadFiles in the array and do what you want\n  return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n\n<p>Those are the tricky parts. That is, knowing to create multiple input elements each named \"files\", and knowing to use a MultipartFile[] (array) as the request parameter are the tricky things to know, but it's just that simple. I won't get into how to process a MultipartFile entry, because there's plenty of docs on that already.</p>\n"},{"tags":[],"owner":{"account_id":4536708,"reputation":11,"user_id":4547615,"display_name":"Vikram Pal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495587223,"creation_date":1495583239,"answer_id":44146744,"question_id":25699727,"body_markdown":"\r\n\r\n\r\n\r\n    @RequestMapping(value=&quot;/add/image&quot;, method=RequestMethod.POST)\r\n\tpublic ResponseEntity upload(@RequestParam(&quot;id&quot;) Long id, HttpServletResponse response, HttpServletRequest request)\r\n    {\t\r\n\t\ttry {\r\n\t\t\tMultipartHttpServletRequest multipartRequest=(MultipartHttpServletRequest)request;\r\n\t\t\tIterator&lt;String&gt; it=multipartRequest.getFileNames();\r\n\t\t\tMultipartFile multipart=multipartRequest.getFile(it.next());\r\n\t\t\tString fileName=id+&quot;.png&quot;;\r\n\t\t\tString imageName = fileName;\r\n\t\t\t\r\n\t\t\tbyte[] bytes=multipart.getBytes();\r\n\t\t\tBufferedOutputStream stream= new BufferedOutputStream(new FileOutputStream(&quot;src/main/resources/static/image/book/&quot;+fileName));;\r\n\t\t\t\r\n\t\t\tstream.write(bytes);\r\n\t\t\tstream.close();\r\n\t\t\treturn new ResponseEntity(&quot;upload success&quot;, HttpStatus.OK);\r\n\t\t\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn new ResponseEntity(&quot;Upload fialed&quot;, HttpStatus.BAD_REQUEST);\r\n\t\t}\t\r\n\t}","title":"Multipart File upload Spring Boot","body":"<pre><code>@RequestMapping(value=\"/add/image\", method=RequestMethod.POST)\npublic ResponseEntity upload(@RequestParam(\"id\") Long id, HttpServletResponse response, HttpServletRequest request)\n{   \n    try {\n        MultipartHttpServletRequest multipartRequest=(MultipartHttpServletRequest)request;\n        Iterator&lt;String&gt; it=multipartRequest.getFileNames();\n        MultipartFile multipart=multipartRequest.getFile(it.next());\n        String fileName=id+\".png\";\n        String imageName = fileName;\n\n        byte[] bytes=multipart.getBytes();\n        BufferedOutputStream stream= new BufferedOutputStream(new FileOutputStream(\"src/main/resources/static/image/book/\"+fileName));;\n\n        stream.write(bytes);\n        stream.close();\n        return new ResponseEntity(\"upload success\", HttpStatus.OK);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return new ResponseEntity(\"Upload fialed\", HttpStatus.BAD_REQUEST);\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145562,"reputation":69,"user_id":1903248,"display_name":"Thimira Dunuville"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498579272,"creation_date":1498579272,"answer_id":44784947,"question_id":25699727,"body_markdown":"In Controller, your method should be;\r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;SaveResponse&gt; uploadAttachment(@RequestParam(&quot;file&quot;) MultipartFile file, HttpServletRequest request) {\r\n    ....\r\n\r\nFurther, you need to update application.yml (or application.properties) to support maximum file size and request size.\r\n\r\n    spring:\r\n        http:\r\n            multipart:\r\n                max-file-size: 5MB\r\n                max-request-size: 20MB\r\n\r\n","title":"Multipart File upload Spring Boot","body":"<p>In Controller, your method should be;</p>\n\n<pre><code>@RequestMapping(value = \"/upload\", method = RequestMethod.POST)\n    public ResponseEntity&lt;SaveResponse&gt; uploadAttachment(@RequestParam(\"file\") MultipartFile file, HttpServletRequest request) {\n....\n</code></pre>\n\n<p>Further, you need to update application.yml (or application.properties) to support maximum file size and request size.</p>\n\n<pre><code>spring:\n    http:\n        multipart:\n            max-file-size: 5MB\n            max-request-size: 20MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5666166,"reputation":938,"user_id":4482288,"display_name":"Komal Kadam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690960614,"creation_date":1626161350,"answer_id":68358211,"question_id":25699727,"body_markdown":"Add `@RequestPart` instead of `@RequestParam`\r\n\r\n\r\n     public UploadFile upload(@RequestPart(name = &quot;file&quot;)   MultipartFile multipartFile{\r\n        //your code to process file\r\n        }","title":"Multipart File upload Spring Boot","body":"<p>Add <code>@RequestPart</code> instead of <code>@RequestParam</code></p>\n<pre><code> public UploadFile upload(@RequestPart(name = &quot;file&quot;)   MultipartFile multipartFile{\n    //your code to process file\n    }\n</code></pre>\n"}],"owner":{"account_id":228708,"reputation":2873,"user_id":491196,"accept_rate":68,"display_name":"Rob McFeely"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168682,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":25700288,"answer_count":7,"score":41,"last_activity_date":1690960614,"creation_date":1410002655,"question_id":25699727,"body_markdown":"Im using Spring Boot and want to use a Controller to receive a multipart file upload.\r\nWhen sending the file I keep getting the **error 415 unsupported content type** response and the controller is never reached\r\n\r\n    There was an unexpected error (type=Unsupported Media Type, status=415).\r\n    Content type &#39;multipart/form-data;boundary=----WebKitFormBoundary1KvzQ1rt2V1BBbb8&#39; not supported\r\n\r\nIve tried sending using form:action in html/jsp page and also in a standalone client application which uses RestTemplate.  All attempts give the same result \r\n\r\n`multipart/form-data;boundary=XXXXX not supported.`  \r\n\r\nIt seems from multipart documentation that the boundary param has to be added to the multipart upload however this seems to not match the controller receiving `&quot;multipart/form-data&quot;` \r\n\r\nMy controller method is setup as follows \r\n\r\n    @RequestMapping(value = &quot;/things&quot;, method = RequestMethod.POST, consumes = &quot;multipart/form-data&quot; ,\r\n    \t\t\t\t\t\t\t\t\t produces = { &quot;application/json&quot;, &quot;application/xml&quot; })\r\n    \t public ResponseEntity&lt;ThingRepresentation&gt; submitThing(HttpServletRequest request,\r\n    \t\t\t\t\t\t\t\t\t @PathVariable(&quot;domain&quot;) String domainParam,\r\n    \t\t\t\t\t\t\t\t\t @RequestParam(value = &quot;type&quot;) String thingTypeParam,\r\n    \t\t\t\t\t\t\t\t\t @RequestBody MultipartFile[] submissions) throws Exception\r\n\r\nWith Bean Setup\r\n\r\n     @Bean\r\n     public MultipartConfigElement multipartConfigElement() {\r\n    \t return new MultipartConfigElement(&quot;&quot;);\r\n     }\r\n     \r\n     @Bean\r\n     public MultipartResolver multipartResolver() {\r\n         org.springframework.web.multipart.commons.CommonsMultipartResolver multipartResolver = new org.springframework.web.multipart.commons.CommonsMultipartResolver();\r\n         multipartResolver.setMaxUploadSize(1000000);\r\n         return multipartResolver;\r\n     }\r\n\r\n\r\n\r\nAs you can see I&#39;ve set the consumes type to &quot;multipart/form-data&quot; but when the multipart is sent it must have a boundary parameter and places a random boundary string.  \r\n\r\n**Can anyone please tell me how I can either set the content type in controller to match or change my request to match my controller setup?**\r\n\r\nMy attempts to send ... \r\nAttempt 1...\r\n\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;body&gt;\r\n    \r\n        &lt;br&gt;\r\n        &lt;h2&gt;Upload New File to this Bucket&lt;/h2&gt;\r\n        &lt;form action=&quot;http://localhost:8280/appname/domains/abc/things?type=abcdef00-1111-4b38-8026-315b13dc8706&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n            &lt;table width=&quot;60%&quot; border=&quot;1&quot; cellspacing=&quot;0&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td width=&quot;35%&quot;&gt;&lt;strong&gt;File to upload&lt;/strong&gt;&lt;/td&gt;\r\n                    &lt;td width=&quot;65%&quot;&gt;&lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Add&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAttempt 2....\r\n\r\n\tRestTemplate template = new RestTemplate();\r\n\tMultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n\tparts.add(&quot;file&quot;, new FileSystemResource(pathToFile));\r\n\t\r\n\ttry{\r\n\t\t\r\n\t\tURI response = template.postForLocation(url, parts);\r\n\t}catch(HttpClientErrorException e){\r\n\t\tSystem.out.println(e.getResponseBodyAsString());\r\n\t}\r\n\r\nAttempt 3...\r\n\r\n \r\n\r\n    FormHttpMessageConverter formHttpMessageConverter = new FormHttpMessageConverter();\r\n            formHttpMessageConverter.setCharset(Charset.forName(&quot;UTF8&quot;));\r\n    \r\n    \r\n            RestTemplate restTemplate = new RestTemplate();\r\n    \r\n            restTemplate.getMessageConverters().add( formHttpMessageConverter );\r\n            restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\r\n            restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\r\n    \r\n            MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n            map.add(&quot;file&quot;, new FileSystemResource(path));\r\n    \r\n            HttpHeaders imageHeaders = new HttpHeaders();\r\n            imageHeaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    \r\n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; imageEntity = new HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;(map, imageHeaders);\r\n            ResponseEntity e=  restTemplate.exchange(uri, HttpMethod.POST, imageEntity, Boolean.class);\r\n            System.out.println(e.toString());","title":"Multipart File upload Spring Boot","body":"<p>Im using Spring Boot and want to use a Controller to receive a multipart file upload.\nWhen sending the file I keep getting the <strong>error 415 unsupported content type</strong> response and the controller is never reached</p>\n\n<pre><code>There was an unexpected error (type=Unsupported Media Type, status=415).\nContent type 'multipart/form-data;boundary=----WebKitFormBoundary1KvzQ1rt2V1BBbb8' not supported\n</code></pre>\n\n<p>Ive tried sending using form:action in html/jsp page and also in a standalone client application which uses RestTemplate.  All attempts give the same result </p>\n\n<p><code>multipart/form-data;boundary=XXXXX not supported.</code>  </p>\n\n<p>It seems from multipart documentation that the boundary param has to be added to the multipart upload however this seems to not match the controller receiving <code>\"multipart/form-data\"</code> </p>\n\n<p>My controller method is setup as follows </p>\n\n<pre><code>@RequestMapping(value = \"/things\", method = RequestMethod.POST, consumes = \"multipart/form-data\" ,\n                                     produces = { \"application/json\", \"application/xml\" })\n     public ResponseEntity&lt;ThingRepresentation&gt; submitThing(HttpServletRequest request,\n                                     @PathVariable(\"domain\") String domainParam,\n                                     @RequestParam(value = \"type\") String thingTypeParam,\n                                     @RequestBody MultipartFile[] submissions) throws Exception\n</code></pre>\n\n<p>With Bean Setup</p>\n\n<pre><code> @Bean\n public MultipartConfigElement multipartConfigElement() {\n     return new MultipartConfigElement(\"\");\n }\n\n @Bean\n public MultipartResolver multipartResolver() {\n     org.springframework.web.multipart.commons.CommonsMultipartResolver multipartResolver = new org.springframework.web.multipart.commons.CommonsMultipartResolver();\n     multipartResolver.setMaxUploadSize(1000000);\n     return multipartResolver;\n }\n</code></pre>\n\n<p>As you can see I've set the consumes type to \"multipart/form-data\" but when the multipart is sent it must have a boundary parameter and places a random boundary string.  </p>\n\n<p><strong>Can anyone please tell me how I can either set the content type in controller to match or change my request to match my controller setup?</strong></p>\n\n<p>My attempts to send ... \nAttempt 1...</p>\n\n<pre><code>&lt;html lang=\"en\"&gt;\n&lt;body&gt;\n\n    &lt;br&gt;\n    &lt;h2&gt;Upload New File to this Bucket&lt;/h2&gt;\n    &lt;form action=\"http://localhost:8280/appname/domains/abc/things?type=abcdef00-1111-4b38-8026-315b13dc8706\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n        &lt;table width=\"60%\" border=\"1\" cellspacing=\"0\"&gt;\n            &lt;tr&gt;\n                &lt;td width=\"35%\"&gt;&lt;strong&gt;File to upload&lt;/strong&gt;&lt;/td&gt;\n                &lt;td width=\"65%\"&gt;&lt;input type=\"file\" name=\"file\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"submit\" name=\"submit\" value=\"Add\" /&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Attempt 2....</p>\n\n<pre><code>RestTemplate template = new RestTemplate();\nMultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;String, Object&gt;();\nparts.add(\"file\", new FileSystemResource(pathToFile));\n\ntry{\n\n    URI response = template.postForLocation(url, parts);\n}catch(HttpClientErrorException e){\n    System.out.println(e.getResponseBodyAsString());\n}\n</code></pre>\n\n<p>Attempt 3...</p>\n\n<pre><code>FormHttpMessageConverter formHttpMessageConverter = new FormHttpMessageConverter();\n        formHttpMessageConverter.setCharset(Charset.forName(\"UTF8\"));\n\n\n        RestTemplate restTemplate = new RestTemplate();\n\n        restTemplate.getMessageConverters().add( formHttpMessageConverter );\n        restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\n        restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\n\n        MultiValueMap&lt;String, Object&gt; map = new LinkedMultiValueMap&lt;String, Object&gt;();\n        map.add(\"file\", new FileSystemResource(path));\n\n        HttpHeaders imageHeaders = new HttpHeaders();\n        imageHeaders.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; imageEntity = new HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt;(map, imageHeaders);\n        ResponseEntity e=  restTemplate.exchange(uri, HttpMethod.POST, imageEntity, Boolean.class);\n        System.out.println(e.toString());\n</code></pre>\n"},{"tags":["java","apache-kafka","redis","rabbitmq","queue"],"comments":[{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1690962707,"post_id":76817432,"comment_id":135424304,"body_markdown":"Isn&#39;t it possible to set a unique ID for each tenant&#39;s message? Then all are sent to a single queue, and consumers process the messages according to the unique identifier of the tenant.This is my thought, your business may be more complicated.","body":"Isn&#39;t it possible to set a unique ID for each tenant&#39;s message? Then all are sent to a single queue, and consumers process the messages according to the unique identifier of the tenant.This is my thought, your business may be more complicated."},{"owner":{"account_id":288290,"reputation":209,"user_id":588612,"accept_rate":57,"display_name":"QViet"},"score":0,"creation_date":1690966068,"post_id":76817432,"comment_id":135425041,"body_markdown":"each message have unique id @HuaJFrame , but if use single queue you can&#39;t get enough message for 1 tenant ( cause each tenant have limit though put, if we get full limit each time, it will be the most optimal )","body":"each message have unique id @HuaJFrame , but if use single queue you can&#39;t get enough message for 1 tenant ( cause each tenant have limit though put, if we get full limit each time, it will be the most optimal )"}],"owner":{"account_id":288290,"reputation":209,"user_id":588612,"accept_rate":57,"display_name":"QViet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690960515,"creation_date":1690960515,"question_id":76817432,"body_markdown":"I got problem when using message queue like kafka, rabbitmq, redis\r\n\r\nI want to group message into multi group by tenant ID, cause each message in queue/topic belong to difference tenant, each tenant have limit number message thought put per second.\r\n\r\nIf i separate multi queue, it too many queue exits on system.\r\n\r\nHow can i group message in multi queue/topic, and get bundle message.\r\n\r\nThanks.","title":"Group message in Queue like RabbitMQ/Kafka/Redis","body":"<p>I got problem when using message queue like kafka, rabbitmq, redis</p>\n<p>I want to group message into multi group by tenant ID, cause each message in queue/topic belong to difference tenant, each tenant have limit number message thought put per second.</p>\n<p>If i separate multi queue, it too many queue exits on system.</p>\n<p>How can i group message in multi queue/topic, and get bundle message.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1243509,"reputation":193,"user_id":1205504,"accept_rate":76,"display_name":"Hiny"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1463478742,"creation_date":1355724226,"answer_id":13909094,"question_id":13909040,"body_markdown":"How about trying a pending Intent?\r\n\r\nJust change the Calendar value to a few days or so in advance?\r\n\r\n    AlarmManager am = (AlarmManager)getSystemService(alarm);\r\n\r\n    Intent i= new Intent(&quot;MY_INTENT&quot;);\r\n    PendingIntent pi = PendingIntent.getBroadcast(this, 0, i, 0);\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTimeInMillis(System.currentTimeMillis());\r\n    calendar.add(Calendar.MINUTE, 2);\r\n    am.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pi);","title":"Set android alarm clock programmatically","body":"<p>How about trying a pending Intent?</p>\n\n<p>Just change the Calendar value to a few days or so in advance?</p>\n\n<pre><code>AlarmManager am = (AlarmManager)getSystemService(alarm);\n\nIntent i= new Intent(\"MY_INTENT\");\nPendingIntent pi = PendingIntent.getBroadcast(this, 0, i, 0);\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTimeInMillis(System.currentTimeMillis());\ncalendar.add(Calendar.MINUTE, 2);\nam.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pi);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125529,"reputation":724,"user_id":1112898,"accept_rate":25,"display_name":"KeTaN"},"down_vote_count":6,"up_vote_count":32,"is_accepted":false,"score":26,"last_activity_date":1497399515,"creation_date":1355727182,"answer_id":13909587,"question_id":13909040,"body_markdown":"MainActivity.java\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n     &#160; &#160;TimePicker myTimePicker;\r\n     &#160; &#160;Button buttonstartSetDialog;\r\n     &#160; &#160;TextView textAlarmPrompt;\r\n     &#160; &#160;TimePickerDialog timePickerDialog;\r\n    \r\n     &#160; &#160;final static int RQS_1 = 1;\r\n    \r\n     &#160; &#160;@Override\r\n     &#160; &#160;public void onCreate(Bundle savedInstanceState) {\r\n     &#160; &#160; &#160; &#160;super.onCreate(savedInstanceState);\r\n     &#160; &#160; &#160; &#160;setContentView(R.layout.activity_main);\r\n    \r\n     &#160; &#160; &#160; &#160;textAlarmPrompt = (TextView) findViewById(R.id.alarmprompt);\r\n    \r\n     &#160; &#160; &#160; &#160;buttonstartSetDialog = (Button) findViewById(R.id.startAlaram);\r\n     &#160; &#160; &#160; &#160;buttonstartSetDialog.setOnClickListener(new OnClickListener() {\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;@Override\r\n     &#160; &#160; &#160; &#160; &#160; &#160;public void onClick(View v) {\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;textAlarmPrompt.setText(&quot;&quot;);\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;openTimePickerDialog(false);\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;}\r\n     &#160; &#160; &#160; &#160;});\r\n    \r\n     &#160; &#160;}\r\n    \r\n     &#160; &#160;private void openTimePickerDialog(boolean is24r) {\r\n     &#160; &#160; &#160; &#160;Calendar calendar = Calendar.getInstance();\r\n    \r\n     &#160; &#160; &#160; &#160;timePickerDialog = new TimePickerDialog(MainActivity.this,\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;onTimeSetListener, calendar.get(Calendar.HOUR_OF_DAY),\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;calendar.get(Calendar.MINUTE), is24r);\r\n     &#160; &#160; &#160; &#160;timePickerDialog.setTitle(&quot;Set Alarm Time&quot;);\r\n    \r\n     &#160; &#160; &#160; &#160;timePickerDialog.show();\r\n    \r\n     &#160; &#160;}\r\n    \r\n     &#160; &#160;OnTimeSetListener onTimeSetListener = new OnTimeSetListener() {\r\n    \r\n     &#160; &#160; &#160; &#160;@Override\r\n     &#160; &#160; &#160; &#160;public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;Calendar calNow = Calendar.getInstance();\r\n     &#160; &#160; &#160; &#160; &#160; &#160;Calendar calSet = (Calendar) calNow.clone();\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;calSet.set(Calendar.HOUR_OF_DAY, hourOfDay);\r\n     &#160; &#160; &#160; &#160; &#160; &#160;calSet.set(Calendar.MINUTE, minute);\r\n     &#160; &#160; &#160; &#160; &#160; &#160;calSet.set(Calendar.SECOND, 0);\r\n     &#160; &#160; &#160; &#160; &#160; &#160;calSet.set(Calendar.MILLISECOND, 0);\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;if (calSet.compareTo(calNow) &lt;= 0) {\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;// Today Set time passed, count to tomorrow\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;calSet.add(Calendar.DATE, 1);\r\n     &#160; &#160; &#160; &#160; &#160; &#160;}\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160;setAlarm(calSet);\r\n     &#160; &#160; &#160; &#160;}\r\n     &#160; &#160;};\r\n    \r\n     &#160; &#160;private void setAlarm(Calendar targetCal) {\r\n    \r\n     &#160; &#160; &#160; &#160;textAlarmPrompt.setText(&quot;\\n\\n***\\n&quot; + &quot;Alarm is set &quot;\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;+ targetCal.getTime() + &quot;\\n&quot; + &quot;***\\n&quot;);\r\n    \r\n     &#160; &#160; &#160; &#160;Intent intent = new Intent(getBaseContext(), AlarmReceiver.class);\r\n     &#160; &#160; &#160; &#160;PendingIntent pendingIntent = PendingIntent.getBroadcast(\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;getBaseContext(), RQS_1, intent, 0);\r\n     &#160; &#160; &#160; &#160;AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n     &#160; &#160; &#160; &#160;alarmManager.set(AlarmManager.RTC_WAKEUP, targetCal.getTimeInMillis(),\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;pendingIntent);\r\n    \r\n     &#160; &#160;} &#160;\r\n    }\r\n\r\nReciver.java\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n    \r\n     &#160; &#160;@Override\r\n     &#160; &#160;public void onReceive(Context k1, Intent k2) {\r\n     &#160; &#160; &#160; &#160;// TODO Auto-generated method stub\r\n     &#160; &#160; &#160; &#160; Toast.makeText(k1, &quot;Alarm received!&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n     &#160; &#160;}\r\n    \r\n    }\r\n\r\nmain_activity.xml\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     &#160; &#160;xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     &#160; &#160;android:layout_width=&quot;match_parent&quot;\r\n     &#160; &#160;android:layout_height=&quot;match_parent&quot;\r\n     &#160; &#160;android:orientation=&quot;vertical&quot;\r\n     &#160; &#160;android:padding=&quot;10dp&quot; &gt;\r\n    \r\n     &#160; &#160;&lt;Button\r\n     &#160; &#160; &#160; &#160;android:id=&quot;@+id/startAlaram&quot;\r\n     &#160; &#160; &#160; &#160;android:layout_width=&quot;fill_parent&quot;\r\n     &#160; &#160; &#160; &#160;android:layout_height=&quot;wrap_content&quot;\r\n     &#160; &#160; &#160; &#160;android:text=&quot;Set Alaram Time&quot; /&gt;\r\n    \r\n     &#160; &#160;&lt;TextView\r\n     &#160; &#160; &#160; &#160;android:id=&quot;@+id/alarmprompt&quot;\r\n     &#160; &#160; &#160; &#160;android:layout_width=&quot;fill_parent&quot;\r\n     &#160; &#160; &#160; &#160;android:layout_height=&quot;wrap_content&quot;\r\n     &#160; &#160; &#160; &#160;android:textColor=&quot;#000000&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nManifest.xml\r\n\r\n    &lt;application\r\n     &#160; &#160; &#160; &#160;android:icon=&quot;@drawable/ic_launcher&quot;\r\n     &#160; &#160; &#160; &#160;android:label=&quot;@string/app_name&quot;\r\n     &#160; &#160; &#160; &#160;android:theme=&quot;@style/AppTheme&quot; &gt;\r\n     &#160; &#160; &#160; &#160;&lt;activity\r\n     &#160; &#160; &#160; &#160; &#160; &#160;android:name=&quot;.MainActivity&quot;\r\n     &#160; &#160; &#160; &#160; &#160; &#160;android:label=&quot;@string/title_activity_main&quot; &gt;\r\n     &#160; &#160; &#160; &#160; &#160; &#160;&lt;intent-filter&gt;\r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n     &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n     &#160; &#160; &#160; &#160; &#160; &#160;&lt;/intent-filter&gt;\r\n     &#160; &#160; &#160; &#160;&lt;/activity&gt;\r\n     &#160; &#160; &#160; &#160; &lt;receiver android:name=&quot;.AlarmReceiver&quot; android:process=&quot;:remote&quot; /&gt;\r\n     &#160; &#160;&lt;/application&gt;","title":"Set android alarm clock programmatically","body":"<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n Â  Â TimePicker myTimePicker;\n Â  Â Button buttonstartSetDialog;\n Â  Â TextView textAlarmPrompt;\n Â  Â TimePickerDialog timePickerDialog;\n\n Â  Â final static int RQS_1 = 1;\n\n Â  Â @Override\n Â  Â public void onCreate(Bundle savedInstanceState) {\n Â  Â  Â  Â super.onCreate(savedInstanceState);\n Â  Â  Â  Â setContentView(R.layout.activity_main);\n\n Â  Â  Â  Â textAlarmPrompt = (TextView) findViewById(R.id.alarmprompt);\n\n Â  Â  Â  Â buttonstartSetDialog = (Button) findViewById(R.id.startAlaram);\n Â  Â  Â  Â buttonstartSetDialog.setOnClickListener(new OnClickListener() {\n\n Â  Â  Â  Â  Â  Â @Override\n Â  Â  Â  Â  Â  Â public void onClick(View v) {\n Â  Â  Â  Â  Â  Â  Â  Â textAlarmPrompt.setText(\"\");\n Â  Â  Â  Â  Â  Â  Â  Â openTimePickerDialog(false);\n\n Â  Â  Â  Â  Â  Â }\n Â  Â  Â  Â });\n\n Â  Â }\n\n Â  Â private void openTimePickerDialog(boolean is24r) {\n Â  Â  Â  Â Calendar calendar = Calendar.getInstance();\n\n Â  Â  Â  Â timePickerDialog = new TimePickerDialog(MainActivity.this,\n Â  Â  Â  Â  Â  Â  Â  Â onTimeSetListener, calendar.get(Calendar.HOUR_OF_DAY),\n Â  Â  Â  Â  Â  Â  Â  Â calendar.get(Calendar.MINUTE), is24r);\n Â  Â  Â  Â timePickerDialog.setTitle(\"Set Alarm Time\");\n\n Â  Â  Â  Â timePickerDialog.show();\n\n Â  Â }\n\n Â  Â OnTimeSetListener onTimeSetListener = new OnTimeSetListener() {\n\n Â  Â  Â  Â @Override\n Â  Â  Â  Â public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n\n Â  Â  Â  Â  Â  Â Calendar calNow = Calendar.getInstance();\n Â  Â  Â  Â  Â  Â Calendar calSet = (Calendar) calNow.clone();\n\n Â  Â  Â  Â  Â  Â calSet.set(Calendar.HOUR_OF_DAY, hourOfDay);\n Â  Â  Â  Â  Â  Â calSet.set(Calendar.MINUTE, minute);\n Â  Â  Â  Â  Â  Â calSet.set(Calendar.SECOND, 0);\n Â  Â  Â  Â  Â  Â calSet.set(Calendar.MILLISECOND, 0);\n\n Â  Â  Â  Â  Â  Â if (calSet.compareTo(calNow) &lt;= 0) {\n Â  Â  Â  Â  Â  Â  Â  Â // Today Set time passed, count to tomorrow\n Â  Â  Â  Â  Â  Â  Â  Â calSet.add(Calendar.DATE, 1);\n Â  Â  Â  Â  Â  Â }\n\n Â  Â  Â  Â  Â  Â setAlarm(calSet);\n Â  Â  Â  Â }\n Â  Â };\n\n Â  Â private void setAlarm(Calendar targetCal) {\n\n Â  Â  Â  Â textAlarmPrompt.setText(\"\\n\\n***\\n\" + \"Alarm is set \"\n Â  Â  Â  Â  Â  Â  Â  Â + targetCal.getTime() + \"\\n\" + \"***\\n\");\n\n Â  Â  Â  Â Intent intent = new Intent(getBaseContext(), AlarmReceiver.class);\n Â  Â  Â  Â PendingIntent pendingIntent = PendingIntent.getBroadcast(\n Â  Â  Â  Â  Â  Â  Â  Â getBaseContext(), RQS_1, intent, 0);\n Â  Â  Â  Â AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n Â  Â  Â  Â alarmManager.set(AlarmManager.RTC_WAKEUP, targetCal.getTimeInMillis(),\n Â  Â  Â  Â  Â  Â  Â  Â pendingIntent);\n\n Â  Â } Â \n}\n</code></pre>\n\n<p>Reciver.java</p>\n\n<pre><code>public class AlarmReceiver extends BroadcastReceiver {\n\n Â  Â @Override\n Â  Â public void onReceive(Context k1, Intent k2) {\n Â  Â  Â  Â // TODO Auto-generated method stub\n Â  Â  Â  Â  Toast.makeText(k1, \"Alarm received!\", Toast.LENGTH_LONG).show();\n\n Â  Â }\n\n}\n</code></pre>\n\n<p>main_activity.xml</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n Â  Â xmlns:tools=\"http://schemas.android.com/tools\"\n Â  Â android:layout_width=\"match_parent\"\n Â  Â android:layout_height=\"match_parent\"\n Â  Â android:orientation=\"vertical\"\n Â  Â android:padding=\"10dp\" &gt;\n\n Â  Â &lt;Button\n Â  Â  Â  Â android:id=\"@+id/startAlaram\"\n Â  Â  Â  Â android:layout_width=\"fill_parent\"\n Â  Â  Â  Â android:layout_height=\"wrap_content\"\n Â  Â  Â  Â android:text=\"Set Alaram Time\" /&gt;\n\n Â  Â &lt;TextView\n Â  Â  Â  Â android:id=\"@+id/alarmprompt\"\n Â  Â  Â  Â android:layout_width=\"fill_parent\"\n Â  Â  Â  Â android:layout_height=\"wrap_content\"\n Â  Â  Â  Â android:textColor=\"#000000\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Manifest.xml</p>\n\n<pre><code>&lt;application\n Â  Â  Â  Â android:icon=\"@drawable/ic_launcher\"\n Â  Â  Â  Â android:label=\"@string/app_name\"\n Â  Â  Â  Â android:theme=\"@style/AppTheme\" &gt;\n Â  Â  Â  Â &lt;activity\n Â  Â  Â  Â  Â  Â android:name=\".MainActivity\"\n Â  Â  Â  Â  Â  Â android:label=\"@string/title_activity_main\" &gt;\n Â  Â  Â  Â  Â  Â &lt;intent-filter&gt;\n Â  Â  Â  Â  Â  Â  Â  Â &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n Â  Â  Â  Â  Â  Â  Â  Â &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n Â  Â  Â  Â  Â  Â &lt;/intent-filter&gt;\n Â  Â  Â  Â &lt;/activity&gt;\n Â  Â  Â  Â  &lt;receiver android:name=\".AlarmReceiver\" android:process=\":remote\" /&gt;\n Â  Â &lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269538,"reputation":471,"user_id":558929,"accept_rate":100,"display_name":"capitalf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374269347,"creation_date":1374269347,"answer_id":17755803,"question_id":13909040,"body_markdown":"Like a real alarm clock, I don&#39;t see a way to set an alarm for a future date. I think this requires one of two options: \r\n\r\n1. A combination of AlarmManager (to trigger an app service on the desired future date to create the alarm in AlarmClock) and then AlarmClock (to actually handle the alarm). Don&#39;t forget to listen for BOOT_COMPLETED broadcast to reset the AlarmManager alarms since they don&#39;t persist after a reboot.\r\n\r\n2. Use AlarmManager to trigger an app service and UI that simulates an alarm. This will require you to consider phone state and etc things you don&#39;t have to worry about with AlarmClock.\r\n\r\nI think you can make your app just bring up the AlarmClock dialog which allows the user to set recurring alarms and other options you cannot perform through the intent.","title":"Set android alarm clock programmatically","body":"<p>Like a real alarm clock, I don't see a way to set an alarm for a future date. I think this requires one of two options: </p>\n\n<ol>\n<li><p>A combination of AlarmManager (to trigger an app service on the desired future date to create the alarm in AlarmClock) and then AlarmClock (to actually handle the alarm). Don't forget to listen for BOOT_COMPLETED broadcast to reset the AlarmManager alarms since they don't persist after a reboot.</p></li>\n<li><p>Use AlarmManager to trigger an app service and UI that simulates an alarm. This will require you to consider phone state and etc things you don't have to worry about with AlarmClock.</p></li>\n</ol>\n\n<p>I think you can make your app just bring up the AlarmClock dialog which allows the user to set recurring alarms and other options you cannot perform through the intent.</p>\n"},{"tags":[],"owner":{"account_id":990149,"reputation":1470,"user_id":1007701,"display_name":"Drew Delano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690960283,"creation_date":1690960283,"answer_id":76817404,"question_id":13909040,"body_markdown":"This is an old thread, but I think what you were looking for was:\r\n\r\nhttps://developer.android.com/reference/android/provider/AlarmClock#EXTRA_DAYS\r\n\r\n&gt; Bundle extra: Weekdays for repeating alarm.\r\n&gt; \r\n&gt; Used by ACTION_SET_ALARM.\r\n&gt; \r\n&gt; The value is an ArrayList&lt;Integer&gt;. Each item can be:\r\n&gt; \r\n&gt; Calendar.SUNDAY, Calendar.MONDAY, Calendar.TUESDAY,\r\n&gt; Calendar.WEDNESDAY, Calendar.THURSDAY, Calendar.FRIDAY,\r\n&gt; Calendar.SATURDAY\r\n&gt; \r\n&gt; Constant Value: &quot;android.intent.extra.alarm.DAYS&quot;\r\n\r\nThis would let you pick a day in the future, but I&#39;m not sure if it would persist the alarm or not.  You might have to go back and cancel it.","title":"Set android alarm clock programmatically","body":"<p>This is an old thread, but I think what you were looking for was:</p>\n<p><a href=\"https://developer.android.com/reference/android/provider/AlarmClock#EXTRA_DAYS\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/provider/AlarmClock#EXTRA_DAYS</a></p>\n<blockquote>\n<p>Bundle extra: Weekdays for repeating alarm.</p>\n<p>Used by ACTION_SET_ALARM.</p>\n<p>The value is an ArrayList. Each item can be:</p>\n<p>Calendar.SUNDAY, Calendar.MONDAY, Calendar.TUESDAY,\nCalendar.WEDNESDAY, Calendar.THURSDAY, Calendar.FRIDAY,\nCalendar.SATURDAY</p>\n<p>Constant Value: &quot;android.intent.extra.alarm.DAYS&quot;</p>\n</blockquote>\n<p>This would let you pick a day in the future, but I'm not sure if it would persist the alarm or not.  You might have to go back and cancel it.</p>\n"}],"owner":{"account_id":1871340,"reputation":333,"user_id":1693472,"display_name":"netwokz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69001,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":4,"score":16,"last_activity_date":1690960283,"creation_date":1355723944,"question_id":13909040,"body_markdown":"I&#39;m trying to build a personal app that will set alarms in the DeskClock app. I can get it to set alarms for anytime in the current day, But how would I go about setting an alarm for the next day, or later in the week. Looking through the AlarmClock api in android I don&#39;t see a normal way to do this. Is this even possible?\r\n\r\nBtw this is my code for setting the alarm it might not be pretty, but I am learning as I go.\r\n\r\n   \r\n\r\n     package com.netwokz.setit;\r\n    \r\n        import java.util.Calendar;\r\n        import java.util.GregorianCalendar;\r\n    \r\n        import android.app.Activity;\r\n        import android.content.Intent;\r\n        import android.os.Bundle;\r\n        import android.provider.AlarmClock;\r\n        import android.view.Menu;\r\n        import android.view.View;\r\n        import android.view.View.OnClickListener;\r\n        import android.widget.Button;\r\n        import android.widget.EditText;\r\n    \r\n        public class MainActivity extends Activity implements OnClickListener {\r\n    \tButton btnSetAlarm;\r\n    \tEditText etHour, etMinute;\r\n    \tint minute, hour, day;\r\n    \tCalendar cal;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.main_activity);\r\n    \t\tbtnSetAlarm = (Button) findViewById(R.id.btn_set_alarm);\r\n    \t\tetHour = (EditText) findViewById(R.id.etHour);\r\n    \t\tetMinute = (EditText) findViewById(R.id.etMinute);\r\n    \t\tbtnSetAlarm.setOnClickListener(this);\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n    \t\tgetMenuInflater().inflate(R.menu.main_activity, menu);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onClick(View v) {\r\n    \t\tswitch (v.getId()) {\r\n    \t\t\tcase R.id.btn_set_alarm:\r\n    \t\t\t\tsetAlarm();\r\n    \t\t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void setAlarm() {\r\n    \t\tcal = new GregorianCalendar();\r\n    \t\tcal.setTimeInMillis(System.currentTimeMillis());\r\n    \t\tday = cal.get(Calendar.DAY_OF_WEEK);\r\n    \t\thour = cal.get(Calendar.HOUR_OF_DAY);\r\n    \t\tminute = cal.get(Calendar.MINUTE);\r\n    \r\n    \t\tIntent i = new Intent(AlarmClock.ACTION_SET_ALARM);\r\n    \t\ti.putExtra(AlarmClock.EXTRA_HOUR, hour + Integer.parseInt(etHour.getText().toString()));\r\n    \t\ti.putExtra(AlarmClock.EXTRA_MINUTES, minute + Integer.parseInt(etMinute.getText().toString()));\r\n    \t\ti.putExtra(AlarmClock.EXTRA_SKIP_UI, true);\r\n    \t\tstartActivity(i);\r\n    \t}\r\n    }\r\n\r\n","title":"Set android alarm clock programmatically","body":"<p>I'm trying to build a personal app that will set alarms in the DeskClock app. I can get it to set alarms for anytime in the current day, But how would I go about setting an alarm for the next day, or later in the week. Looking through the AlarmClock api in android I don't see a normal way to do this. Is this even possible?</p>\n\n<p>Btw this is my code for setting the alarm it might not be pretty, but I am learning as I go.</p>\n\n<pre><code> package com.netwokz.setit;\n\n    import java.util.Calendar;\n    import java.util.GregorianCalendar;\n\n    import android.app.Activity;\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.provider.AlarmClock;\n    import android.view.Menu;\n    import android.view.View;\n    import android.view.View.OnClickListener;\n    import android.widget.Button;\n    import android.widget.EditText;\n\n    public class MainActivity extends Activity implements OnClickListener {\n    Button btnSetAlarm;\n    EditText etHour, etMinute;\n    int minute, hour, day;\n    Calendar cal;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_activity);\n        btnSetAlarm = (Button) findViewById(R.id.btn_set_alarm);\n        etHour = (EditText) findViewById(R.id.etHour);\n        etMinute = (EditText) findViewById(R.id.etMinute);\n        btnSetAlarm.setOnClickListener(this);\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main_activity, menu);\n        return true;\n    }\n\n    @Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.btn_set_alarm:\n                setAlarm();\n                break;\n        }\n    }\n\n    private void setAlarm() {\n        cal = new GregorianCalendar();\n        cal.setTimeInMillis(System.currentTimeMillis());\n        day = cal.get(Calendar.DAY_OF_WEEK);\n        hour = cal.get(Calendar.HOUR_OF_DAY);\n        minute = cal.get(Calendar.MINUTE);\n\n        Intent i = new Intent(AlarmClock.ACTION_SET_ALARM);\n        i.putExtra(AlarmClock.EXTRA_HOUR, hour + Integer.parseInt(etHour.getText().toString()));\n        i.putExtra(AlarmClock.EXTRA_MINUTES, minute + Integer.parseInt(etMinute.getText().toString()));\n        i.putExtra(AlarmClock.EXTRA_SKIP_UI, true);\n        startActivity(i);\n    }\n}\n</code></pre>\n"},{"tags":["java","docker","gradle","rancher","netflix-conductor"],"owner":{"account_id":20423247,"reputation":16,"user_id":14983809,"display_name":"Adwaith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690959902,"creation_date":1690959902,"question_id":76817355,"body_markdown":"I am new to docker and I was trying to run Netflix conductor on my local machine from [here](https://github.com/Netflix/conductor) using rancher and docker cli. I cloned the repository, went inside the docker directory and ran\r\n`docker-compose up`\r\n\r\nThis is the output I got\r\n\r\n```\r\nPS C:\\Users\\X\\Conductor_impl\\conductor\\docker&gt; docker-compose up\r\n[+] Running 2/2\r\n ! conductor-ui Warning                                                                                                       15.1s \r\n ! conductor-server Warning                                                                                                   15.2s \r\n2023/08/02 12:18:52 http2: server: error reading preface from client //./pipe/docker_engine: file has already been closed\r\n[+] Building 6.5s (10/15)\r\n =&gt; [conductor-server internal] load .dockerignore                                                                             0.0s\r\n =&gt; =&gt; transferring context: 117B                                                                                              0.0s \r\n =&gt; [conductor-server internal] load build definition from Dockerfile                                                          0.0s \r\n =&gt; =&gt; transferring dockerfile: 1.50kB                                                                                         0.0s \r\n =&gt; [conductor-server internal] load metadata for docker.io/library/eclipse-temurin:11-jre-jammy                               5.1s\r\n =&gt; [conductor-server internal] load metadata for docker.io/library/eclipse-temurin:11-jdk-jammy                               5.1s \r\n =&gt; [conductor-server internal] load build context                                                                             1.0s\r\n =&gt; =&gt; transferring context: 295.93kB                                                                                          1.0s \r\n =&gt; CANCELED [conductor-server stage-1 1/6] FROM docker.io/library/eclipse-temurin:11-jre-jammy@sha256:ffb4e17eb2884d94bfc8ba  1.9s \r\n =&gt; =&gt; resolve docker.io/library/eclipse-temurin:11-jre-jammy@sha256:ffb4e17eb2884d94bfc8bac5b5e4321fef652851b5eb5ec8e4a2dd2d  0.0s \r\n =&gt; =&gt; sha256:2c8a391f1a44886d7674d4c6604f674f1a639f84b5c1681b03826ac4021766f1 0B / 46.87MB                                    1.3s \r\n =&gt; =&gt; sha256:dd008fd673e62dbc2983fea0bbb3c1537c7bd0a29c81811bd4b5d7e88ba5c8de 0B / 159B                                       1.3s\r\n =&gt; =&gt; sha256:ffb4e17eb2884d94bfc8bac5b5e4321fef652851b5eb5ec8e4a2dd2dbd2a7651 1.21kB / 1.21kB                                 0.0s \r\n =&gt; =&gt; sha256:894577b0e822baf934c52d659f625565afa762d9f0df182495b1259164b7917f 1.16kB / 1.16kB                                 0.0s \r\n =&gt; =&gt; sha256:869eee3db00a3cf41f5851544d8fc67e11e55ce84801d10d346acf16f3e67571 6.39kB / 6.39kB                                 0.0s\r\n =&gt; CACHED [conductor-server builder 1/4] FROM docker.io/library/eclipse-temurin:11-jdk-jammy@sha256:e793d592c394150ce7da5e83  0.0s \r\n =&gt; [conductor-server builder 2/4] COPY . /conductor                                                                           0.6s \r\n =&gt; [conductor-server builder 3/4] WORKDIR /conductor                                                                          0.0s \r\n =&gt; ERROR [conductor-server builder 4/4] RUN ./gradlew build -x test --stacktrace                                              0.3s \r\n------\r\n &gt; [conductor-server builder 4/4] RUN ./gradlew build -x test --stacktrace:\r\n0.299 /bin/sh: 1: ./gradlew: not found\r\n------\r\nfailed to solve: process &quot;/bin/sh -c ./gradlew build -x test --stacktrace&quot; did not complete successfully: exit code: 127\r\n```\r\n\r\n\r\n\r\n\r\nI thought of manually adding the gradle wrapper and then it is showing me that the JAVA_HOME is not configured properly. \r\n\r\nI used the maven wrapper command after pasting the same settings.gradle file from the parent directory to use ./gradlew .\r\n\r\n\r\n```\r\nPS C:\\Users\\X\\Conductor_impl\\conductor&gt; ./gradlew build -x test --stacktrace\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.internal.jvm.JavaHomeException: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe\r\n        at org.gradle.internal.jvm.Jvm.findExecutable(Jvm.java:183)\r\n```\r\n\r\nGradle thinks im using jdk18 when I am using JDK11.\r\n```\r\nC:\\Users\\X&gt;echo %JAVA_HOME%\r\nC:\\Program Files\\Java\\jdk-11\r\n```\r\n\r\nCan someone help me fix gradle thinking im using jdk18(also tell me if my approach is wrong). Also, doesn&#39;t a docker file not need anything to be set up externally??\r\n","title":"Docker using Rancher throwing an error and Gradle looking for jdk at an older JAVA_HOME","body":"<p>I am new to docker and I was trying to run Netflix conductor on my local machine from <a href=\"https://github.com/Netflix/conductor\" rel=\"nofollow noreferrer\">here</a> using rancher and docker cli. I cloned the repository, went inside the docker directory and ran\n<code>docker-compose up</code></p>\n<p>This is the output I got</p>\n<pre><code>PS C:\\Users\\X\\Conductor_impl\\conductor\\docker&gt; docker-compose up\n[+] Running 2/2\n ! conductor-ui Warning                                                                                                       15.1s \n ! conductor-server Warning                                                                                                   15.2s \n2023/08/02 12:18:52 http2: server: error reading preface from client //./pipe/docker_engine: file has already been closed\n[+] Building 6.5s (10/15)\n =&gt; [conductor-server internal] load .dockerignore                                                                             0.0s\n =&gt; =&gt; transferring context: 117B                                                                                              0.0s \n =&gt; [conductor-server internal] load build definition from Dockerfile                                                          0.0s \n =&gt; =&gt; transferring dockerfile: 1.50kB                                                                                         0.0s \n =&gt; [conductor-server internal] load metadata for docker.io/library/eclipse-temurin:11-jre-jammy                               5.1s\n =&gt; [conductor-server internal] load metadata for docker.io/library/eclipse-temurin:11-jdk-jammy                               5.1s \n =&gt; [conductor-server internal] load build context                                                                             1.0s\n =&gt; =&gt; transferring context: 295.93kB                                                                                          1.0s \n =&gt; CANCELED [conductor-server stage-1 1/6] FROM docker.io/library/eclipse-temurin:11-jre-jammy@sha256:ffb4e17eb2884d94bfc8ba  1.9s \n =&gt; =&gt; resolve docker.io/library/eclipse-temurin:11-jre-jammy@sha256:ffb4e17eb2884d94bfc8bac5b5e4321fef652851b5eb5ec8e4a2dd2d  0.0s \n =&gt; =&gt; sha256:2c8a391f1a44886d7674d4c6604f674f1a639f84b5c1681b03826ac4021766f1 0B / 46.87MB                                    1.3s \n =&gt; =&gt; sha256:dd008fd673e62dbc2983fea0bbb3c1537c7bd0a29c81811bd4b5d7e88ba5c8de 0B / 159B                                       1.3s\n =&gt; =&gt; sha256:ffb4e17eb2884d94bfc8bac5b5e4321fef652851b5eb5ec8e4a2dd2dbd2a7651 1.21kB / 1.21kB                                 0.0s \n =&gt; =&gt; sha256:894577b0e822baf934c52d659f625565afa762d9f0df182495b1259164b7917f 1.16kB / 1.16kB                                 0.0s \n =&gt; =&gt; sha256:869eee3db00a3cf41f5851544d8fc67e11e55ce84801d10d346acf16f3e67571 6.39kB / 6.39kB                                 0.0s\n =&gt; CACHED [conductor-server builder 1/4] FROM docker.io/library/eclipse-temurin:11-jdk-jammy@sha256:e793d592c394150ce7da5e83  0.0s \n =&gt; [conductor-server builder 2/4] COPY . /conductor                                                                           0.6s \n =&gt; [conductor-server builder 3/4] WORKDIR /conductor                                                                          0.0s \n =&gt; ERROR [conductor-server builder 4/4] RUN ./gradlew build -x test --stacktrace                                              0.3s \n------\n &gt; [conductor-server builder 4/4] RUN ./gradlew build -x test --stacktrace:\n0.299 /bin/sh: 1: ./gradlew: not found\n------\nfailed to solve: process &quot;/bin/sh -c ./gradlew build -x test --stacktrace&quot; did not complete successfully: exit code: 127\n</code></pre>\n<p>I thought of manually adding the gradle wrapper and then it is showing me that the JAVA_HOME is not configured properly.</p>\n<p>I used the maven wrapper command after pasting the same settings.gradle file from the parent directory to use ./gradlew .</p>\n<pre><code>PS C:\\Users\\X\\Conductor_impl\\conductor&gt; ./gradlew build -x test --stacktrace\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.internal.jvm.JavaHomeException: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe\n        at org.gradle.internal.jvm.Jvm.findExecutable(Jvm.java:183)\n</code></pre>\n<p>Gradle thinks im using jdk18 when I am using JDK11.</p>\n<pre><code>C:\\Users\\X&gt;echo %JAVA_HOME%\nC:\\Program Files\\Java\\jdk-11\n</code></pre>\n<p>Can someone help me fix gradle thinking im using jdk18(also tell me if my approach is wrong). Also, doesn't a docker file not need anything to be set up externally??</p>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":2211194,"reputation":1488,"user_id":1952996,"accept_rate":69,"display_name":"zelite"},"score":0,"creation_date":1582135518,"post_id":60306049,"comment_id":106676435,"body_markdown":"When you click the addToCartButton you are creating a new Instance of the CartActivity and passing it the data of only one item in the intent. You never persist this data. Here you can see the different ways you can persist your state: https://developer.android.com/topic/libraries/architecture/saving-states.html#options_for_preserving_ui_state","body":"When you click the addToCartButton you are creating a new Instance of the CartActivity and passing it the data of only one item in the intent. You never persist this data. Here you can see the different ways you can persist your state: <a href=\"https://developer.android.com/topic/libraries/architecture/saving-states.html#options_for_preserving_ui_state\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":16490473,"reputation":29,"user_id":11914539,"display_name":"Joaqu&#237;n Sosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582134945,"creation_date":1582134945,"answer_id":60306494,"question_id":60306049,"body_markdown":"You must save in the database which elements you clicked (sent to the shopping cart) in order for them not to load again or to be shown every time you enter the shopping cart. You are just populating the RecyclerView with all the options and you&#39;re not saving the ones you have in the ShoppingCartActivity. When you start the shopping cart activity it will load the extras from the Intent, if you didn&#39;t click any item the intent won&#39;t have extras, therefore the shopping cart won&#39;t have any items to show if you start it again. If you need help setting up the database just ask. Also you should add firebase tag to the post.","title":"Problem displaying and saving the data from one recycle view to another","body":"<p>You must save in the database which elements you clicked (sent to the shopping cart) in order for them not to load again or to be shown every time you enter the shopping cart. You are just populating the RecyclerView with all the options and you're not saving the ones you have in the ShoppingCartActivity. When you start the shopping cart activity it will load the extras from the Intent, if you didn't click any item the intent won't have extras, therefore the shopping cart won't have any items to show if you start it again. If you need help setting up the database just ask. Also you should add firebase tag to the post.</p>\n"}],"owner":{"account_id":13227776,"reputation":421,"user_id":9552398,"display_name":"Alex97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690959282,"creation_date":1582133263,"question_id":60306049,"body_markdown":"I am new to Android and I can&#39;t understand why when I send data from one activity to another it doesn&#39;t remember the values that I saved previously and it&#39;s not able to show me more than one item inside the shopping cart.\r\n\r\nExample : \r\n\r\nI have a shopping list and a cart list \r\n\r\nInside the shopping list, I have a `recycleview` and I have items that I can add to the shopping cart when I press the add button, the item is added to the shopping cart by sending the data to the cart activity and it shows me the data inside the recycle view(this `recycleview` is inside the Cart activity) but now if I go back using the back button of the phone and I select another item from the shopping list when I go to the cart list the previous item added it&#39;s gone and I don&#39;t understand why since I created an `ArrayList` and I save the data inside it. Can anyone explain to me what I&#39;m doing wrong? \r\n\r\nI will add 3 photos to explain myself better. \r\n\r\n![enter image description here][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn the second picture, if I go back from shopping cart to the shopping list and click on C, A from Shopping cart will disappear and I will have just C.\r\n\r\nThis is my code: \r\n\r\n**Shopping list:** \r\n\r\n    \r\n    public class FirebaseSearch extends AppCompatActivity {\r\n\r\n    private EditText mSearchField;\r\n    private ImageButton mSearchBtn;\r\n    private ImageButton AddToCart;\r\n    private ImageButton Cart;\r\n\r\n    String searchText=&quot;&quot;;\r\n\r\n    private RecyclerView mResultList;\r\n    private DatabaseReference mUserDatabase;\r\n\r\n\r\n\r\n\r\n    private static ArrayList&lt;Users&gt; arrayList = new ArrayList&lt;&gt;();\r\n    public static int cart_count = 0;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_firebasesearch);\r\n\r\n        mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n\r\n        mSearchField = findViewById(R.id.search_field);\r\n        mSearchBtn   = findViewById(R.id.search_btn);\r\n        mResultList  = findViewById(R.id.result_list_cart);\r\n        AddToCart    = findViewById(R.id.imageButton2);\r\n        Cart         = findViewById(R.id.cartButton);\r\n\r\n        mResultList.setHasFixedSize(true);\r\n        mResultList.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        mSearchBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                searchText = mSearchField.getText().toString();\r\n                firebaseUserSearch(searchText);\r\n            }\r\n        });\r\n\r\n        Cart.setOnClickListener(new View.OnClickListener() {\r\n            private Object Tag=&quot;Activity&quot;;\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (cart_count &lt; 1) {\r\n\r\n                } else {\r\n                    startActivity(new Intent(FirebaseSearch.this, CartActivity.class));\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    private void firebaseUserSearch(String searchText) {\r\n        Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\r\n        Query firebaseSearchQuery = \r\n       mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\r\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new \r\n        FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\r\n                Users.class,\r\n                R.layout.list_layout,\r\n                UsersViewHolder.class,\r\n                firebaseSearchQuery\r\n        ) {\r\n            @Override\r\n            protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\r\n                viewHolder.getDetails(model.getName(), model.getSurname(),model.getPrice());\r\n                viewHolder.setDetails(model.getName(), model.getSurname(),model.getPrice());\r\n            }\r\n        };\r\n        mResultList.setAdapter(firebaseRecyclerAdapter);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        invalidateOptionsMenu();\r\n    }\r\n\r\n    // View Holder Class\r\n    public static class UsersViewHolder extends RecyclerView.ViewHolder {\r\n        View mView;\r\n        String nome;\r\n        String surname;\r\n        Long prezzo;\r\n        public UsersViewHolder(View itemView) {\r\n            super(itemView);\r\n            mView = itemView;\r\n            ImageButton addToCart = (ImageButton)mView.findViewById(R.id.imageButton2);\r\n            addToCart.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    cart_count++;\r\n                    Context context = v.getContext();\r\n                    Intent intent = new Intent(context, CartActivity.class);\r\n                    intent.putExtra(&quot;Name&quot;,nome);\r\n                    intent.putExtra(&quot;Surname&quot;,surname);\r\n                    intent.putExtra(&quot;Prezzo&quot;,Long.toString(prezzo));\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void getDetails(String name,String cognome,Long price){\r\n            nome=name;\r\n            surname=cognome;\r\n            prezzo=price;\r\n        }\r\n\r\n\r\n        public void setDetails(String name, String surname, Long price) {\r\n\r\n            TextView user_name = (TextView) mView.findViewById(R.id.name_text);\r\n            TextView user_surname = (TextView)mView.findViewById(R.id.status_text);\r\n            TextView user_price = (TextView)mView.findViewById(R.id.price);\r\n\r\n            user_name.setText(name);\r\n            user_surname.setText(surname);\r\n            user_price.setText(Long.toString(price));\r\n\r\n        }\r\n    }\r\n    }enter code here\r\n\r\n**Shopping CART :** \r\n\r\n    \r\n    public class CartActivity extends AppCompatActivity {\r\n    private RecyclerView cities;\r\n    private RecyclerView.Adapter adapter;\r\n    String nome,cognome;\r\n    Long prezzo;\r\n    int totalPrice=0;\r\n    TextView campoPrezzo;\r\n    int position=0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cart);\r\n\r\n        campoPrezzo=findViewById(R.id.TotalPrice);\r\n\r\n        //Receive the data from the previous activity\r\n        String passedArg = getIntent().getExtras().getString(&quot;Name&quot;);\r\n        nome=passedArg;\r\n        String passedArg2 = getIntent().getExtras().getString(&quot;Surname&quot;);\r\n        cognome=passedArg2;\r\n\r\n        Intent intent = getIntent();\r\n        String str = intent.getStringExtra(&quot;Prezzo&quot;);\r\n\r\n        ArrayList&lt;Users&gt; cities = initCities(nome,cognome,Long. parseLong(str));\r\n\r\n\r\n        this.cities = (RecyclerView) findViewById(R.id.cartList);\r\n        RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(this);\r\n        this.cities.setLayoutManager(mLayoutManager);\r\n\r\n        adapter = new ProductAdapter(cities);\r\n        this.cities.setAdapter(adapter);\r\n        System.out.println(&quot;Prezzo&quot;+returnTotalPrice());\r\n    }\r\n\r\n    private ArrayList&lt;Users&gt; initCities(String nome,String cognome,Long price) {\r\n        ArrayList&lt;Users&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(position,new Users(nome,cognome,price));\r\n        position++;\r\n        getTotalPrice(price);\r\n        return list;\r\n    }\r\n\r\n    public void getTotalPrice(Long price){\r\n        totalPrice+=price;\r\n    }\r\n\r\n    public int returnTotalPrice(){\r\n        return totalPrice;\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/npCze.png\r\n  [2]: https://i.stack.imgur.com/yUsFV.jpg","title":"Problem displaying and saving the data from one recycle view to another","body":"<p>I am new to Android and I can't understand why when I send data from one activity to another it doesn't remember the values that I saved previously and it's not able to show me more than one item inside the shopping cart.</p>\n<p>Example :</p>\n<p>I have a shopping list and a cart list</p>\n<p>Inside the shopping list, I have a <code>recycleview</code> and I have items that I can add to the shopping cart when I press the add button, the item is added to the shopping cart by sending the data to the cart activity and it shows me the data inside the recycle view(this <code>recycleview</code> is inside the Cart activity) but now if I go back using the back button of the phone and I select another item from the shopping list when I go to the cart list the previous item added it's gone and I don't understand why since I created an <code>ArrayList</code> and I save the data inside it. Can anyone explain to me what I'm doing wrong?</p>\n<p>I will add 3 photos to explain myself better.</p>\n<p><img src=\"https://i.stack.imgur.com/npCze.png\" alt=\"enter image description here\" /></p>\n<p><a href=\"https://i.stack.imgur.com/yUsFV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yUsFV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In the second picture, if I go back from shopping cart to the shopping list and click on C, A from Shopping cart will disappear and I will have just C.</p>\n<p>This is my code:</p>\n<p><strong>Shopping list:</strong></p>\n<pre><code>public class FirebaseSearch extends AppCompatActivity {\n\nprivate EditText mSearchField;\nprivate ImageButton mSearchBtn;\nprivate ImageButton AddToCart;\nprivate ImageButton Cart;\n\nString searchText=&quot;&quot;;\n\nprivate RecyclerView mResultList;\nprivate DatabaseReference mUserDatabase;\n\n\n\n\nprivate static ArrayList&lt;Users&gt; arrayList = new ArrayList&lt;&gt;();\npublic static int cart_count = 0;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_firebasesearch);\n\n    mUserDatabase = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n\n    mSearchField = findViewById(R.id.search_field);\n    mSearchBtn   = findViewById(R.id.search_btn);\n    mResultList  = findViewById(R.id.result_list_cart);\n    AddToCart    = findViewById(R.id.imageButton2);\n    Cart         = findViewById(R.id.cartButton);\n\n    mResultList.setHasFixedSize(true);\n    mResultList.setLayoutManager(new LinearLayoutManager(this));\n\n    mSearchBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            searchText = mSearchField.getText().toString();\n            firebaseUserSearch(searchText);\n        }\n    });\n\n    Cart.setOnClickListener(new View.OnClickListener() {\n        private Object Tag=&quot;Activity&quot;;\n\n        @Override\n        public void onClick(View v) {\n            if (cart_count &lt; 1) {\n\n            } else {\n                startActivity(new Intent(FirebaseSearch.this, CartActivity.class));\n            }\n        }\n    });\n}\n\n\n\nprivate void firebaseUserSearch(String searchText) {\n    Toast.makeText(FirebaseSearch.this, &quot;Started Search&quot;, Toast.LENGTH_LONG).show();\n    Query firebaseSearchQuery = \n   mUserDatabase.orderByChild(&quot;Name&quot;).startAt(searchText).endAt(searchText + &quot;\\uf8ff&quot;);\n    FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt; firebaseRecyclerAdapter = new \n    FirebaseRecyclerAdapter&lt;Users, UsersViewHolder&gt;(\n            Users.class,\n            R.layout.list_layout,\n            UsersViewHolder.class,\n            firebaseSearchQuery\n    ) {\n        @Override\n        protected void populateViewHolder(UsersViewHolder viewHolder, Users model, int position) {\n            viewHolder.getDetails(model.getName(), model.getSurname(),model.getPrice());\n            viewHolder.setDetails(model.getName(), model.getSurname(),model.getPrice());\n        }\n    };\n    mResultList.setAdapter(firebaseRecyclerAdapter);\n}\n\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    invalidateOptionsMenu();\n}\n\n// View Holder Class\npublic static class UsersViewHolder extends RecyclerView.ViewHolder {\n    View mView;\n    String nome;\n    String surname;\n    Long prezzo;\n    public UsersViewHolder(View itemView) {\n        super(itemView);\n        mView = itemView;\n        ImageButton addToCart = (ImageButton)mView.findViewById(R.id.imageButton2);\n        addToCart.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                cart_count++;\n                Context context = v.getContext();\n                Intent intent = new Intent(context, CartActivity.class);\n                intent.putExtra(&quot;Name&quot;,nome);\n                intent.putExtra(&quot;Surname&quot;,surname);\n                intent.putExtra(&quot;Prezzo&quot;,Long.toString(prezzo));\n                context.startActivity(intent);\n            }\n        });\n    }\n\n    public void getDetails(String name,String cognome,Long price){\n        nome=name;\n        surname=cognome;\n        prezzo=price;\n    }\n\n\n    public void setDetails(String name, String surname, Long price) {\n\n        TextView user_name = (TextView) mView.findViewById(R.id.name_text);\n        TextView user_surname = (TextView)mView.findViewById(R.id.status_text);\n        TextView user_price = (TextView)mView.findViewById(R.id.price);\n\n        user_name.setText(name);\n        user_surname.setText(surname);\n        user_price.setText(Long.toString(price));\n\n    }\n}\n}enter code here\n</code></pre>\n<p><strong>Shopping CART :</strong></p>\n<pre><code>public class CartActivity extends AppCompatActivity {\nprivate RecyclerView cities;\nprivate RecyclerView.Adapter adapter;\nString nome,cognome;\nLong prezzo;\nint totalPrice=0;\nTextView campoPrezzo;\nint position=0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_cart);\n\n    campoPrezzo=findViewById(R.id.TotalPrice);\n\n    //Receive the data from the previous activity\n    String passedArg = getIntent().getExtras().getString(&quot;Name&quot;);\n    nome=passedArg;\n    String passedArg2 = getIntent().getExtras().getString(&quot;Surname&quot;);\n    cognome=passedArg2;\n\n    Intent intent = getIntent();\n    String str = intent.getStringExtra(&quot;Prezzo&quot;);\n\n    ArrayList&lt;Users&gt; cities = initCities(nome,cognome,Long. parseLong(str));\n\n\n    this.cities = (RecyclerView) findViewById(R.id.cartList);\n    RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(this);\n    this.cities.setLayoutManager(mLayoutManager);\n\n    adapter = new ProductAdapter(cities);\n    this.cities.setAdapter(adapter);\n    System.out.println(&quot;Prezzo&quot;+returnTotalPrice());\n}\n\nprivate ArrayList&lt;Users&gt; initCities(String nome,String cognome,Long price) {\n    ArrayList&lt;Users&gt; list = new ArrayList&lt;&gt;();\n    list.add(position,new Users(nome,cognome,price));\n    position++;\n    getTotalPrice(price);\n    return list;\n}\n\npublic void getTotalPrice(Long price){\n    totalPrice+=price;\n}\n\npublic int returnTotalPrice(){\n    return totalPrice;\n}\n}\n</code></pre>\n"},{"tags":["java","inheritance","interface","overriding"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":1,"creation_date":1581699244,"post_id":60230473,"comment_id":106536319,"body_markdown":"Some background -- [Why are arrays covariant but generics are invariant?](https://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant)","body":"Some background -- <a href=\"https://stackoverflow.com/questions/18666710/why-are-arrays-covariant-but-generics-are-invariant\">Why are arrays covariant but generics are invariant?</a>"},{"owner":{"account_id":1534857,"reputation":981,"user_id":1431184,"accept_rate":69,"display_name":"printfmyname"},"score":0,"creation_date":1581700927,"post_id":60230473,"comment_id":106537021,"body_markdown":"You can create a interface, CommonInterface, and put all the common methods from ObjectA and ObjectB and Then on the parent and child rewrite the method to return List&lt;CommonInterface&gt;. if you need to use methods exclusive to ObjectA then first check if a object is instanceof ObjectA and then cast it to use methods from ObjectA class.","body":"You can create a interface, CommonInterface, and put all the common methods from ObjectA and ObjectB and Then on the parent and child rewrite the method to return List&lt;CommonInterface&gt;. if you need to use methods exclusive to ObjectA then first check if a object is instanceof ObjectA and then cast it to use methods from ObjectA class."}],"answers":[{"tags":[],"owner":{"account_id":5440694,"reputation":1226,"user_id":4328866,"display_name":"gregorycallea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581700824,"creation_date":1581700824,"answer_id":60230881,"question_id":60230473,"body_markdown":"Your code is accepted if you declare HandlerA with a new generic even if this is never used really:\r\n\r\n```\r\npublic class HandlerA&lt;T&gt; implements HandlerInterface&lt;ObjectA&gt; {\r\n//....\r\n}\r\n```\r\n\r\n&gt; **NOTE:** This is to be considered just a workaround but as result your example code will work as you asked. Moreover, even if HandlerA declares a generic, you can anycase instantiate it also without brackets:\r\n&gt; ```\r\n&gt; ObjectA objectA = new HandlerA();\r\n&gt; ```\r\n\r\n \r\n\r\n\r\n\r\n  ","title":"How can I override a method returning a List containing instances of subclass to the class the original methods List contained?","body":"<p>Your code is accepted if you declare HandlerA with a new generic even if this is never used really:</p>\n\n<pre><code>public class HandlerA&lt;T&gt; implements HandlerInterface&lt;ObjectA&gt; {\n//....\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>NOTE:</strong> This is to be considered just a workaround but as result your example code will work as you asked. Moreover, even if HandlerA declares a generic, you can anycase instantiate it also without brackets:</p>\n\n<pre><code>ObjectA objectA = new HandlerA();\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":10560317,"reputation":111,"user_id":7780274,"display_name":"Hannes Knutsson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690959081,"creation_date":1581698955,"question_id":60230473,"body_markdown":"I realize the title is kind of messy, but that&#39;s the best I could come up with.\r\n\r\nBelow is a minimal example of what I wish, but am currently failing to do.\r\n\r\n```Java\r\npublic class ObjectA {}\r\n       \r\npublic class ObjectB extends ObjectA {}\r\n       \r\npublic interface HandlerInterface&lt;T extends ObjectA&gt; {\r\n       \r\n        public T easyToOverride();\r\n       \r\n        public List&lt;T&gt; hardToOverride();\r\n       \r\n}      \r\n       \r\npublic class HandlerA implements HandlerInterface&lt;ObjectA&gt; {\r\n       \r\n        public ObjectA easyToOverride() {\r\n                return new ObjectA();\r\n        }\r\n       \r\n        public List&lt;ObjectA&gt; hardToOverride() {\r\n                return new ArrayList&lt;ObjectA&gt;();\r\n        }\r\n}      \r\n       \r\npublic class HandlerB extends HandlerA implements HandlerInterface&lt;ObjectB&gt; {\r\n        \r\n        /*\r\n          This method ovverides its super method with ease since its return\r\n          type directly inherits from the super class&#39;s return type\r\n        */\r\n        public ObjectB easyToOverride() {\r\n                return new ObjectB();\r\n        }\r\n       \r\n        /*\r\n          This method is NOT accepted by the Java syntax since List&lt;ObjectB&gt;\r\n          does NOT directly inherit from List&lt;ObjectA&gt;\r\n       \r\n          The method signature for hardToOverride() clashes with the signature\r\n          in the super class and is not overridden because the return types\r\n          don&#39;t obviously inherit each other\r\n        */\r\n         public List&lt;ObjectB&gt; hardToOverride() {\r\n                return new ArrayList&lt;ObjectB&gt;();\r\n        }\r\n} \r\n```\r\n\r\nIgnore that these classes should be in their own files and that I have not included their imports. I just put it like this to make it easier to read.\r\n\r\nAs you may have understood by the comments in the class ```HandlerB```, the method ```hardToOverride()``` is not accepted (throw this code into your IDE and watch it scream).\r\n\r\nI realise I could just return a ```List&lt;Object&gt;``` and type cast the contents of the returned ```List``` object to the type that I personally know the specific handler instance returns (```ObjectA``` or ```ObjectB```), but that would mean that anyone using these methods has to understand the inner workings of them, and I do not like that.\r\n\r\nWhat I want is to be able to override the ```List&lt;ObjectA&gt; hardToOverride()``` method with a method ```List&lt;ObjectB&gt; hardToOverride()``` without losing the hard typing that these methods provide.\r\n\r\nSo my final question is: \r\n\r\nIs there any way to keep all of these interfaces, inheritances and overrides without loosing the strong typing they provide in my example code?\r\n\r\nIf not, what is a better way to achieve a similar set of classes and interfaces that actually works?\r\n","title":"How can I override a method returning a List containing instances of subclass to the class the original methods List contained?","body":"<p>I realize the title is kind of messy, but that's the best I could come up with.</p>\n\n<p>Below is a minimal example of what I wish, but am currently failing to do.</p>\n\n<pre><code>public class ObjectA {}\n\npublic class ObjectB extends ObjectA {}\n\npublic interface HandlerInterface&lt;T extends ObjectA&gt; {\n\n        public T easyToOverride();\n\n        public List&lt;T&gt; hardToOverride();\n\n}      \n\npublic class HandlerA implements HandlerInterface&lt;ObjectA&gt; {\n\n        public ObjectA easyToOverride() {\n                return new ObjectA();\n        }\n\n        public List&lt;ObjectA&gt; hardToOverride() {\n                return new ArrayList&lt;ObjectA&gt;();\n        }\n}      \n\npublic class HandlerB extends HandlerA implements HandlerInterface&lt;ObjectB&gt; {\n\n        /*\n          This method ovverides its super method with ease since its return\n          type directly inherits from the super class's return type\n        */\n        public ObjectB easyToOverride() {\n                return new ObjectB();\n        }\n\n        /*\n          This method is NOT accepted by the Java syntax since List&lt;ObjectB&gt;\n          does NOT directly inherit from List&lt;ObjectA&gt;\n\n          The method signature for hardToOverride() clashes with the signature\n          in the super class and is not overridden because the return types\n          don't obviously inherit each other\n        */\n         public List&lt;ObjectB&gt; hardToOverride() {\n                return new ArrayList&lt;ObjectB&gt;();\n        }\n} \n</code></pre>\n\n<p>Ignore that these classes should be in their own files and that I have not included their imports. I just put it like this to make it easier to read.</p>\n\n<p>As you may have understood by the comments in the class <code>HandlerB</code>, the method <code>hardToOverride()</code> is not accepted (throw this code into your IDE and watch it scream).</p>\n\n<p>I realise I could just return a <code>List&lt;Object&gt;</code> and type cast the contents of the returned <code>List</code> object to the type that I personally know the specific handler instance returns (<code>ObjectA</code> or <code>ObjectB</code>), but that would mean that anyone using these methods has to understand the inner workings of them, and I do not like that.</p>\n\n<p>What I want is to be able to override the <code>List&lt;ObjectA&gt; hardToOverride()</code> method with a method <code>List&lt;ObjectB&gt; hardToOverride()</code> without losing the hard typing that these methods provide.</p>\n\n<p>So my final question is: </p>\n\n<p>Is there any way to keep all of these interfaces, inheritances and overrides without loosing the strong typing they provide in my example code?</p>\n\n<p>If not, what is a better way to achieve a similar set of classes and interfaces that actually works?</p>\n"},{"tags":["java","exception","stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1690929047,"post_id":76815547,"comment_id":135420758,"body_markdown":"Probably depends on the stream and the circumstances.","body":"Probably depends on the stream and the circumstances."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1690929774,"post_id":76815547,"comment_id":135420841,"body_markdown":"You might read this:  https://stackoverflow.com/questions/21191562/why-close-method-in-java-are-throwing-exception","body":"You might read this:  <a href=\"https://stackoverflow.com/questions/21191562/why-close-method-in-java-are-throwing-exception\" title=\"why close method in java are throwing exception\">stackoverflow.com/questions/21191562/&hellip;</a>"},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1690930908,"post_id":76815547,"comment_id":135420958,"body_markdown":"@Tim: really interesting, that link.. but finally does not answer my question... or did I oversee something. It is clear that the exception is significant. But anyway, is the stream close or is it not?","body":"@Tim: really interesting, that link.. but finally does not answer my question... or did I oversee something. It is clear that the exception is significant. But anyway, is the stream close or is it not?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1690931377,"post_id":76815547,"comment_id":135421007,"body_markdown":"Depends on the stream. And what will you do with this information? You probably shouldn&#39;t try closing it again.","body":"Depends on the stream. And what will you do with this information? You probably shouldn&#39;t try closing it again."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1690932221,"post_id":76815547,"comment_id":135421075,"body_markdown":"Right.  The answer is indeterminate.  In point of fact, it is very, very uncommon for `close` to throw an exception, partly because there is no good way to recover.","body":"Right.  The answer is indeterminate.  In point of fact, it is very, very uncommon for <code>close</code> to throw an exception, partly because there is no good way to recover."},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1690932530,"post_id":76815547,"comment_id":135421102,"body_markdown":"@eliott maybe thats why i ask: I have the notion that trying again does not help. \nBut how then to recover? \nMaybe I asked the wrong question: maybe the question is how to treat with exceptions in close().... I also think trying again is no option. So leave unclosed? Or is it closed already although something went wrong?","body":"@eliott maybe thats why i ask: I have the notion that trying again does not help.  But how then to recover?  Maybe I asked the wrong question: maybe the question is how to treat with exceptions in close().... I also think trying again is no option. So leave unclosed? Or is it closed already although something went wrong?"},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1690932588,"post_id":76815547,"comment_id":135421108,"body_markdown":"@Tom: I can imagine it is rare, but my question is quite general. \n\nI found that not all Streams may throw an IOException during close().","body":"@Tom: I can imagine it is rare, but my question is quite general.   I found that not all Streams may throw an IOException during close()."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1690937665,"post_id":76815547,"comment_id":135421612,"body_markdown":"There&#39;s not much you can do to recover, but there are different ways to respond to it. If you&#39;re calling `close` after some other IO error, you might choose to ignore the failure entirely. If it&#39;s at the end of some successful operation, you might want to log the error and move on. If it happens in the middle of a multi-stage process, you might have to abort. It all varies by case.","body":"There&#39;s not much you can do to recover, but there are different ways to respond to it. If you&#39;re calling <code>close</code> after some other IO error, you might choose to ignore the failure entirely. If it&#39;s at the end of some successful operation, you might want to log the error and move on. If it happens in the middle of a multi-stage process, you might have to abort. It all varies by case."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690939775,"creation_date":1690937655,"answer_id":76816001,"question_id":76815547,"body_markdown":"The technically correct answer: __There is no way to tell__.\r\n\r\nThe useful, pragmatic answer: __Irrelevant__, _unless_ we are talking about badly written filter streams in which case: Very relevant - this is why you should safely invoke `close()` on the underlying stream. And, bad news.. `java.util.ZipOutputStream` is badly written.\r\n\r\nAn object that throws IOEx in its close method cannot be used for anything useful for all relevant implementations of such things. Which object representing some resource has useful things left to do when even `close()` no longer works? The only obvious answer is a do-it-all class that mixes multiple unrelated jobs into a single class, which, well, there is no fix for working with boneheaded code other than to cease its use.\r\n\r\nThat makes things a lot easier to reason about, as there are now only three options left:\r\n\r\n1. The resource does not _itself_ represent an actual resource that needs closing. It just has a `close()` method for inheritance reasons. An example of such a class is `ByteArrayInputStream`; its `close()` method does nothing relevant and it isn&#39;t a leak in any way if you fail to call this. It&#39;s just that, well, it&#39;s an `InputStream`, and all inputstreams are defined as being AutoClosable, therefore they can&#39;t not have a `close()` method. You can check the source: It does nothing.\r\n\r\n2. The resource directly represents a resource, i.e. a thing you got from the system from a limited pool, and failure to close it is a severe issue. Think &#39;file handle&#39; or &#39;open network port&#39;.\r\n\r\n3. The resource does not _itself_ represent an actual resource, but it _does_ wrap around one, i.e. it is a so-called filter stream (or filter reader / filter writer). As is common in all such filterstreams, calling `close()` on them also calls `close()` on the thing it wraps. There are _many_ such types: `BufferedInputStream`, `PrintWriter`, `Scanner` - just a handful of examples.\r\n\r\nTaking them in order:\r\n\r\n## 1. Non-resources\r\n\r\nIt doesn&#39;t matter. Nothing is lost if you fail to close these in the first place. Half of these don&#39;t even _have_ a &#39;closed&#39; status (such as `ByteArrayInputStream`). The rest have it only as a &#39;flag&#39; that means: If any code attempts to read/write to this, throw something.\r\n\r\n## 2. real resources\r\n\r\nThis one seems complex but is also easy: You called `close()`. This fails. That means the OS-level resource (the open network port, or the file handle) __is already gone__. There is no need to worry about it. Given that `close()` is an abstract concept (it &#39;closes the resource&#39; and the specs are non-specific as to what that means _exactly_) it is theoretically possibly for an OS-level-resource-representing-object to start throwing in its `close()` method without actually closing the resource, but I doubt any exist in the JVM. Even if so, there&#39;s nothing you can do about it other than call `System.exit();`. It, again, doesn&#39;t matter.\r\n\r\n## 3. Filter resources\r\n\r\nThis is the trickiest case, and the only one where you may actually have to act.\r\n\r\nIn researching this answer, __I found a bug in the OpenJDK__ - while only badly written filter resources are an actual problem, OpenJDK&#39;s very own `ZipOutputStream` is one of those badly written ones!\r\n\r\n----\r\n\r\n\r\nFilter resource `close()` methods generally first `flush()` (i.e. clean up and push anything it buffered down to the underlying stream), and then call `close()` on the underlying stream. It is possible that the flush procedure itself causes an exception. I checked BufferedReader and Scanner: __They do not suffer from this issue__. They attempt to flush, and will then close the underlying resource whether the flushing worked out or not (it wraps its own underlying stream in a try-with-resources block). __However, `ZipOutputStream` does! Its `close()` method closes the currently witten zip entry, then closes the zip file which writes the content metadata, and then `close()`s the underlying stream__ - and none of it guarded with try-with or any other `finally` usage.\r\n\r\nThe spec is not all that specific that you _have_ to do it this way. And obviously the compiler cannot compile-time-enforce that filter resources work this way. Hence, I rate the odds that anything is going to happen when I report what is clearly a bug to the OpenJDK team as low. They tend to thump the specs and not think much more about things, in my experience. EDIT-UPDATE: I filed a bug report with ID 9075756; we&#39;ll see if it is accepted.\r\n\r\nThe problem in such a case is that if the cleanup process (such as writing the zip content metadata) causes an exception, `close()` is never invoked on the underlying stream.\r\n\r\nHowever, this is relevant only if you use a certain style which isn&#39;t common, and which actively causes many linter tools to complain. I would argue that these linters are broken and shouldn&#39;t be complaining, though.\r\n\r\n## The common style (not broken)\r\n\r\nLooks like:\r\n\r\n```\r\ntry (\r\n  var rawOut = Files.newOutputStream(somePath);\r\n  var zipOut = new ZipOutputStream(rawIn);\r\n) {\r\n  code here\r\n}\r\n```\r\n\r\nIf that&#39;s what you do (and this is the common style), then the issue about badly written filter streams (such `ZipOutputStream` here) isn&#39;t relevant: The try-with statement will end up invoking `zipOut.close()` when code exits the block, and _even if that ends up throwing_, it will then proceed to invoke `rawOut.close()` too. Your file handle is released.\r\n\r\n## The uncommon style (BROKEN!)\r\n\r\nLooks like:\r\n\r\n```\r\ntry (\r\n  var zipOut = new ZipOutputStream(Files.newOutputStream(somePath))) {\r\n  code here\r\n}\r\n```\r\n\r\nLots of tutorials tend to use this style. It works fine, __if__ the filter streams do their job right. This &#39;job&#39; entails:\r\n\r\n* Do not, under any circumstances, throw an exception inside your constructor. Just copy stuff to local fields. Only exception (heh) is throwing an NPE if _every_ stream passed to it is `null`, i.e. `new ZipOutputStream(null)` can throw an NPE without breaking this rule.\r\n* In your `close()` method, run `close()` on the underlying stream safely, e.g. with `try (OutputStream o = rawOut) { flush(); }` which is what `BufferedOutputStream` does.\r\n\r\nMany baked in filterstreams do this. Unfortunately, `ZipOutputStream` does not. If a filter stream adheres to this rule this snippet is just as safe and easier to read, with fewer tainted variables (no need to discuss the proper names of each &#39;level&#39; of stream, you can just call this `out`. In contrast, the first snippet risks accidentally writing to `rawOut` which would result in a completely broken method).\r\n\r\nMany linter tools flag this code as invalid, though. Perhaps that explains why this style is not all that common.\r\n\r\nI tend to advocate the second snippet. I shall cease doing this, given ZipOutputStream&#39;s errors.\r\n","title":"If an IOException occurs while invoking close(): is the stream closed anyway?","body":"<p>The technically correct answer: <strong>There is no way to tell</strong>.</p>\n<p>The useful, pragmatic answer: <strong>Irrelevant</strong>, <em>unless</em> we are talking about badly written filter streams in which case: Very relevant - this is why you should safely invoke <code>close()</code> on the underlying stream. And, bad news.. <code>java.util.ZipOutputStream</code> is badly written.</p>\n<p>An object that throws IOEx in its close method cannot be used for anything useful for all relevant implementations of such things. Which object representing some resource has useful things left to do when even <code>close()</code> no longer works? The only obvious answer is a do-it-all class that mixes multiple unrelated jobs into a single class, which, well, there is no fix for working with boneheaded code other than to cease its use.</p>\n<p>That makes things a lot easier to reason about, as there are now only three options left:</p>\n<ol>\n<li><p>The resource does not <em>itself</em> represent an actual resource that needs closing. It just has a <code>close()</code> method for inheritance reasons. An example of such a class is <code>ByteArrayInputStream</code>; its <code>close()</code> method does nothing relevant and it isn't a leak in any way if you fail to call this. It's just that, well, it's an <code>InputStream</code>, and all inputstreams are defined as being AutoClosable, therefore they can't not have a <code>close()</code> method. You can check the source: It does nothing.</p>\n</li>\n<li><p>The resource directly represents a resource, i.e. a thing you got from the system from a limited pool, and failure to close it is a severe issue. Think 'file handle' or 'open network port'.</p>\n</li>\n<li><p>The resource does not <em>itself</em> represent an actual resource, but it <em>does</em> wrap around one, i.e. it is a so-called filter stream (or filter reader / filter writer). As is common in all such filterstreams, calling <code>close()</code> on them also calls <code>close()</code> on the thing it wraps. There are <em>many</em> such types: <code>BufferedInputStream</code>, <code>PrintWriter</code>, <code>Scanner</code> - just a handful of examples.</p>\n</li>\n</ol>\n<p>Taking them in order:</p>\n<h2>1. Non-resources</h2>\n<p>It doesn't matter. Nothing is lost if you fail to close these in the first place. Half of these don't even <em>have</em> a 'closed' status (such as <code>ByteArrayInputStream</code>). The rest have it only as a 'flag' that means: If any code attempts to read/write to this, throw something.</p>\n<h2>2. real resources</h2>\n<p>This one seems complex but is also easy: You called <code>close()</code>. This fails. That means the OS-level resource (the open network port, or the file handle) <strong>is already gone</strong>. There is no need to worry about it. Given that <code>close()</code> is an abstract concept (it 'closes the resource' and the specs are non-specific as to what that means <em>exactly</em>) it is theoretically possibly for an OS-level-resource-representing-object to start throwing in its <code>close()</code> method without actually closing the resource, but I doubt any exist in the JVM. Even if so, there's nothing you can do about it other than call <code>System.exit();</code>. It, again, doesn't matter.</p>\n<h2>3. Filter resources</h2>\n<p>This is the trickiest case, and the only one where you may actually have to act.</p>\n<p>In researching this answer, <strong>I found a bug in the OpenJDK</strong> - while only badly written filter resources are an actual problem, OpenJDK's very own <code>ZipOutputStream</code> is one of those badly written ones!</p>\n<hr />\n<p>Filter resource <code>close()</code> methods generally first <code>flush()</code> (i.e. clean up and push anything it buffered down to the underlying stream), and then call <code>close()</code> on the underlying stream. It is possible that the flush procedure itself causes an exception. I checked BufferedReader and Scanner: <strong>They do not suffer from this issue</strong>. They attempt to flush, and will then close the underlying resource whether the flushing worked out or not (it wraps its own underlying stream in a try-with-resources block). <strong>However, <code>ZipOutputStream</code> does! Its <code>close()</code> method closes the currently witten zip entry, then closes the zip file which writes the content metadata, and then <code>close()</code>s the underlying stream</strong> - and none of it guarded with try-with or any other <code>finally</code> usage.</p>\n<p>The spec is not all that specific that you <em>have</em> to do it this way. And obviously the compiler cannot compile-time-enforce that filter resources work this way. Hence, I rate the odds that anything is going to happen when I report what is clearly a bug to the OpenJDK team as low. They tend to thump the specs and not think much more about things, in my experience. EDIT-UPDATE: I filed a bug report with ID 9075756; we'll see if it is accepted.</p>\n<p>The problem in such a case is that if the cleanup process (such as writing the zip content metadata) causes an exception, <code>close()</code> is never invoked on the underlying stream.</p>\n<p>However, this is relevant only if you use a certain style which isn't common, and which actively causes many linter tools to complain. I would argue that these linters are broken and shouldn't be complaining, though.</p>\n<h2>The common style (not broken)</h2>\n<p>Looks like:</p>\n<pre><code>try (\n  var rawOut = Files.newOutputStream(somePath);\n  var zipOut = new ZipOutputStream(rawIn);\n) {\n  code here\n}\n</code></pre>\n<p>If that's what you do (and this is the common style), then the issue about badly written filter streams (such <code>ZipOutputStream</code> here) isn't relevant: The try-with statement will end up invoking <code>zipOut.close()</code> when code exits the block, and <em>even if that ends up throwing</em>, it will then proceed to invoke <code>rawOut.close()</code> too. Your file handle is released.</p>\n<h2>The uncommon style (BROKEN!)</h2>\n<p>Looks like:</p>\n<pre><code>try (\n  var zipOut = new ZipOutputStream(Files.newOutputStream(somePath))) {\n  code here\n}\n</code></pre>\n<p>Lots of tutorials tend to use this style. It works fine, <strong>if</strong> the filter streams do their job right. This 'job' entails:</p>\n<ul>\n<li>Do not, under any circumstances, throw an exception inside your constructor. Just copy stuff to local fields. Only exception (heh) is throwing an NPE if <em>every</em> stream passed to it is <code>null</code>, i.e. <code>new ZipOutputStream(null)</code> can throw an NPE without breaking this rule.</li>\n<li>In your <code>close()</code> method, run <code>close()</code> on the underlying stream safely, e.g. with <code>try (OutputStream o = rawOut) { flush(); }</code> which is what <code>BufferedOutputStream</code> does.</li>\n</ul>\n<p>Many baked in filterstreams do this. Unfortunately, <code>ZipOutputStream</code> does not. If a filter stream adheres to this rule this snippet is just as safe and easier to read, with fewer tainted variables (no need to discuss the proper names of each 'level' of stream, you can just call this <code>out</code>. In contrast, the first snippet risks accidentally writing to <code>rawOut</code> which would result in a completely broken method).</p>\n<p>Many linter tools flag this code as invalid, though. Perhaps that explains why this style is not all that common.</p>\n<p>I tend to advocate the second snippet. I shall cease doing this, given ZipOutputStream's errors.</p>\n"}],"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690958973,"creation_date":1690928883,"question_id":76815547,"body_markdown":"In Java if I close a steam with close() and an exception occurs, is it closed as if no exception occurred? Or is it opens still? \r\n\r\n","title":"If an IOException occurs while invoking close(): is the stream closed anyway?","body":"<p>In Java if I close a steam with close() and an exception occurs, is it closed as if no exception occurred? Or is it opens still?</p>\n"},{"tags":["java","swing","overlay"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1690820024,"post_id":76804735,"comment_id":135402924,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1690834487,"post_id":76804735,"comment_id":135405574,"body_markdown":"I&#39;m not understanding your requirement so I can&#39;t make a suggestion. I have no idea how the height of panel3 (background panel) is determined or how the heights of panels 1/2 are determined. How can they be the same proportion and arbitrarily decided?","body":"I&#39;m not understanding your requirement so I can&#39;t make a suggestion. I have no idea how the height of panel3 (background panel) is determined or how the heights of panels 1/2 are determined. How can they be the same proportion and arbitrarily decided?"}],"answers":[{"tags":[],"owner":{"account_id":16410233,"reputation":159,"user_id":13069553,"display_name":"Wassim Tahraoui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690958892,"creation_date":1690958892,"answer_id":76817254,"question_id":76804735,"body_markdown":"You can use a combination of one or multiple `GridBagLayout` layout managers.&lt;br&gt;`GridBagLayout` allows you to place your elements in a grid-like manner by specifiying the proportions and positioning using the class `GridBagConstraints`.\r\n```java\r\npublic void setupLayout() {\r\n    JPanel container = new JPanel(); // the main holder of the elements\r\n    // The numbered panels according to your screenshot\r\n    JPanel panel1 = new JPanel(), panel2 = new JPanel(),\r\n            panel3 = new JPanel(), panel4 = new JPanel();\r\n\tpanel1.setBackground(Color.RED); // giving them colors for better visualization\r\n\tpanel2.setBackground(Color.BLUE);\r\n\tpanel3.setBackground(Color.YELLOW);\r\n\tpanel4.setBackground(Color.GREEN);\r\n\r\n    container.setLayout(new GridBagLayout());\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    gbc.anchor = GridBagConstraints.CENTER;\r\n\tgbc.fill = GridBagConstraints.BOTH;\r\n    gbc.gridwidth = gbc.gridheight = 1;\r\n\tgbc.weightx = 1;\r\n\tgbc.gridx = 0; gbc.gridy = 0; gbc.weighty = 0.2;\r\n\tpanel.add(panel1,gbc);\r\n\r\n\tgbc.gridy = 1; gbc.weighty = 0.3;\r\n\tpanel.add(panel2,gbc);\r\n\r\n\tgbc.gridy = 2; gbc.weighty = 0.5;\r\n\tpanel.add(panel3,gbc);\r\n\r\n\tgbc.gridx = 1; gbc.gridy = 0; gbc.gridheight = 3;\r\n\tpanel.add(panel4,gbc);\r\n\r\n    // Code to place your container in a frame or whatever usage you have for it...\r\n}\r\n```\r\nThe properties `gridx` and `gridy` specify the position you are on the grid.&lt;br&gt;`weightx` and `weighty` specify how much space (on a 0 to 1 proportion) they take up.\r\n&lt;br&gt;Unlike `gridwidth` and `gridheight` they specify how much does a cell take up relative to other cells so a cell will take up a space equal to the space that `gridheight` cells take up vetically or `gridwidth` cells take up horizontally.&lt;br&gt;So, to be explained in action, since `panel1` is set to `weighty = 0.2`, `panel2` is set to `weighty = 0.3` and `panel3` is set to `weighty = 0.5` we&#39;re saying that whatever cell is on the first row, will always take `0.2` of the vertical space, second row `0.3` of vertical space and third row half (`0.5`) the vertical space, therefore `panel4` will take up the same space as how many cells heights sum up to the prior, if `panel4` was set to `gridheight = 2`, it will take as much space as two rows take up, since in this example it&#39;s placed on the first row, it will take up therefore a space equivalent to that of the first and second rows, which is half the vertical space (`0.2 + 0.3`), but since we set it to `3` which is also the maximum number of rows in this example, it will take up all of the vertical space.&lt;br&gt;Mixing up `gridwidth`/`gridheight` and `weightx`/`weighty` is commmon therefore you have to be aware of the difference.&lt;br&gt;Note that using the `gridwidth`/`gridheight`/`weightx`/`weighty` will only &quot;reserve&quot; the space you&#39;re specifying, and the elements will be placed inside that spaced anchored to the side specified in the `anchor` property.\r\n&lt;br&gt;In order to make the elements scale up to their reserved space we set `gbc.fill = GridBagConstraints.BOTH` where `BOTH` stands for filling up the space *both* horizontally and vertically (the other three choices being, clearly, `GridBagConstraints.HORIZONTAL`, `GridBagConstraints.VERTICAL` and `GridBagConstraints.NONE` which is the default value that represents no filling at all. \r\n[![enter image description here][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/6rgkH.png","title":"Java Swing Component","body":"<p>You can use a combination of one or multiple <code>GridBagLayout</code> layout managers.<br><code>GridBagLayout</code> allows you to place your elements in a grid-like manner by specifiying the proportions and positioning using the class <code>GridBagConstraints</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setupLayout() {\n    JPanel container = new JPanel(); // the main holder of the elements\n    // The numbered panels according to your screenshot\n    JPanel panel1 = new JPanel(), panel2 = new JPanel(),\n            panel3 = new JPanel(), panel4 = new JPanel();\n    panel1.setBackground(Color.RED); // giving them colors for better visualization\n    panel2.setBackground(Color.BLUE);\n    panel3.setBackground(Color.YELLOW);\n    panel4.setBackground(Color.GREEN);\n\n    container.setLayout(new GridBagLayout());\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.anchor = GridBagConstraints.CENTER;\n    gbc.fill = GridBagConstraints.BOTH;\n    gbc.gridwidth = gbc.gridheight = 1;\n    gbc.weightx = 1;\n    gbc.gridx = 0; gbc.gridy = 0; gbc.weighty = 0.2;\n    panel.add(panel1,gbc);\n\n    gbc.gridy = 1; gbc.weighty = 0.3;\n    panel.add(panel2,gbc);\n\n    gbc.gridy = 2; gbc.weighty = 0.5;\n    panel.add(panel3,gbc);\n\n    gbc.gridx = 1; gbc.gridy = 0; gbc.gridheight = 3;\n    panel.add(panel4,gbc);\n\n    // Code to place your container in a frame or whatever usage you have for it...\n}\n</code></pre>\n<p>The properties <code>gridx</code> and <code>gridy</code> specify the position you are on the grid.<br><code>weightx</code> and <code>weighty</code> specify how much space (on a 0 to 1 proportion) they take up.\n<br>Unlike <code>gridwidth</code> and <code>gridheight</code> they specify how much does a cell take up relative to other cells so a cell will take up a space equal to the space that <code>gridheight</code> cells take up vetically or <code>gridwidth</code> cells take up horizontally.<br>So, to be explained in action, since <code>panel1</code> is set to <code>weighty = 0.2</code>, <code>panel2</code> is set to <code>weighty = 0.3</code> and <code>panel3</code> is set to <code>weighty = 0.5</code> we're saying that whatever cell is on the first row, will always take <code>0.2</code> of the vertical space, second row <code>0.3</code> of vertical space and third row half (<code>0.5</code>) the vertical space, therefore <code>panel4</code> will take up the same space as how many cells heights sum up to the prior, if <code>panel4</code> was set to <code>gridheight = 2</code>, it will take as much space as two rows take up, since in this example it's placed on the first row, it will take up therefore a space equivalent to that of the first and second rows, which is half the vertical space (<code>0.2 + 0.3</code>), but since we set it to <code>3</code> which is also the maximum number of rows in this example, it will take up all of the vertical space.<br>Mixing up <code>gridwidth</code>/<code>gridheight</code> and <code>weightx</code>/<code>weighty</code> is commmon therefore you have to be aware of the difference.<br>Note that using the <code>gridwidth</code>/<code>gridheight</code>/<code>weightx</code>/<code>weighty</code> will only &quot;reserve&quot; the space you're specifying, and the elements will be placed inside that spaced anchored to the side specified in the <code>anchor</code> property.\n<br>In order to make the elements scale up to their reserved space we set <code>gbc.fill = GridBagConstraints.BOTH</code> where <code>BOTH</code> stands for filling up the space <em>both</em> horizontally and vertically (the other three choices being, clearly, <code>GridBagConstraints.HORIZONTAL</code>, <code>GridBagConstraints.VERTICAL</code> and <code>GridBagConstraints.NONE</code> which is the default value that represents no filling at all.\n<a href=\"https://i.stack.imgur.com/6rgkH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6rgkH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18269628,"reputation":73,"user_id":13300645,"display_name":"Asjal Ahmad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690958892,"creation_date":1690814708,"question_id":76804735,"body_markdown":"I am quite new to Java Swing and layouts. I want to create a component like this:\r\n[![enter image description here][1]][1]\r\n\r\nComp 3 spans the height of 1 and 2. So, I imagine I will have to use overlay layout to position comp 3 behind 1 and 2. I want them to resize in these same proportions (they can be arbitrarily decided). How can I achieve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wUb0v.png","title":"Java Swing Component","body":"<p>I am quite new to Java Swing and layouts. I want to create a component like this:\n<a href=\"https://i.stack.imgur.com/wUb0v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wUb0v.png\" alt=\"enter image description here\" /></a></p>\n<p>Comp 3 spans the height of 1 and 2. So, I imagine I will have to use overlay layout to position comp 3 behind 1 and 2. I want them to resize in these same proportions (they can be arbitrarily decided). How can I achieve this?</p>\n"},{"tags":["java","conventions"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1358692969,"post_id":14425587,"comment_id":20080188,"body_markdown":"The structure you showed above is very common. But as always coding conventions are a matter of the development team or the company you work at.","body":"The structure you showed above is very common. But as always coding conventions are a matter of the development team or the company you work at."}],"answers":[{"tags":[],"owner":{"account_id":67756,"reputation":5083,"user_id":198087,"accept_rate":70,"display_name":"Archer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1690958892,"creation_date":1358693572,"answer_id":14425705,"question_id":14425587,"body_markdown":"There is no `the only` convention how to organize your class sources. \r\n\r\nThe structure you listed is very common - attributes first, then constructors and then methods. However, some teams like to keep attributes in the tail of the class, some teams are mixing field definition with its setters and getters. \r\n\r\nTeam should agree internally on some convention to keep all its sources looking similarly.  ","title":"Does a convention about the structure of a class exist?","body":"<p>There is no <code>the only</code> convention how to organize your class sources.</p>\n<p>The structure you listed is very common - attributes first, then constructors and then methods. However, some teams like to keep attributes in the tail of the class, some teams are mixing field definition with its setters and getters.</p>\n<p>Team should agree internally on some convention to keep all its sources looking similarly.</p>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53263,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1358693925,"creation_date":1358693925,"answer_id":14425768,"question_id":14425587,"body_markdown":"I can&#39;t back this up but I believe that declaring the member variable in the beggining of a class followed by constructors is the only &quot;convention&quot; applicable to all languages. I use quotes because it is done naturally as if it is the only logical way to place them in the object definition (unlike otherthings e.g. C++ style brackets etc)","title":"Does a convention about the structure of a class exist?","body":"<p>I can't back this up but I believe that declaring the member variable in the beggining of a class followed by constructors is the only \"convention\" applicable to all languages. I use quotes because it is done naturally as if it is the only logical way to place them in the object definition (unlike otherthings e.g. C++ style brackets etc)</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1358696825,"creation_date":1358695812,"answer_id":14426061,"question_id":14425587,"body_markdown":"You should read more carefully: The Oracle Coding conventions you linked to write in section 3.1.3:\r\n\r\n&gt; The following table describes the parts of a class or interface declaration, in the order that they\r\nshould appear. See âJava Source File Exampleâ on page 19 for an example that includes\r\ncomments.\r\n\r\n\r\n&gt; 1. **Class/interface documentation comment `(/**...*/)`**\r\n\r\n&gt;     See âDocumentation Commentsâ on page 9 for\r\n&gt;    information on what should be in this comment.\r\n\r\n&gt; 2.  **class or interface statement**\r\n\r\n&gt; 3.  **Class/interface implementation comment `(/*...*/)`, if necessary**\r\n\r\n&gt;   This comment should contain any class-wide or interface-wide information that wasnât appropriate for the class/interface documentation comment.\r\n\r\n&gt; 4. **Class (static) variables** \r\n\r\n&gt;   First the public class variables, then the protected, and then the private.\r\n\r\n&gt; 5. **Instance variables**\r\n\r\n&gt;   First public, then protected, and then private.\r\n\r\n&gt; 6. **Constructors**\r\n\r\n&gt; 7. **Methods** \r\n\r\n&gt;   These methods should be grouped by functionality rather than by scope or accessibility. For example, a private class method can be in between two public instance methods. The goal is to make reading and understanding the code easier.\r\n\r\nThat said, this convention is quite dated, and the fine print usually not followed. For instance, it seems weird to order fields by accessiblity, but methods by functionality. Indeed, I rarely see fields ordered by accessiblity in professional code. The ordering of the bullet points is adhered to quite universally in professional code, though.","title":"Does a convention about the structure of a class exist?","body":"<p>You should read more carefully: The Oracle Coding conventions you linked to write in section 3.1.3:</p>\n\n<blockquote>\n  <p>The following table describes the parts of a class or interface declaration, in the order that they\n  should appear. See âJava Source File Exampleâ on page 19 for an example that includes\n  comments.</p>\n  \n  <ol>\n  <li><p><strong>Class/interface documentation comment <code>(/**...*/)</code></strong></p>\n  \n  <p>See âDocumentation Commentsâ on page 9 for\n  information on what should be in this comment.</p></li>\n  <li><p><strong>class or interface statement</strong></p></li>\n  <li><p><strong>Class/interface implementation comment <code>(/*...*/)</code>, if necessary</strong></p>\n  \n  <p>This comment should contain any class-wide or interface-wide information that wasnât appropriate for the class/interface documentation comment.</p></li>\n  <li><p><strong>Class (static) variables</strong> </p>\n  \n  <p>First the public class variables, then the protected, and then the private.</p></li>\n  <li><p><strong>Instance variables</strong></p>\n  \n  <p>First public, then protected, and then private.</p></li>\n  <li><p><strong>Constructors</strong></p></li>\n  <li><p><strong>Methods</strong> </p>\n  \n  <p>These methods should be grouped by functionality rather than by scope or accessibility. For example, a private class method can be in between two public instance methods. The goal is to make reading and understanding the code easier.</p></li>\n  </ol>\n</blockquote>\n\n<p>That said, this convention is quite dated, and the fine print usually not followed. For instance, it seems weird to order fields by accessiblity, but methods by functionality. Indeed, I rarely see fields ordered by accessiblity in professional code. The ordering of the bullet points is adhered to quite universally in professional code, though.</p>\n"},{"tags":[],"owner":{"account_id":408372,"reputation":8732,"user_id":778990,"display_name":"ignis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358696440,"creation_date":1358696440,"answer_id":14426136,"question_id":14425587,"body_markdown":"As with every language, there&#39;s no authoritative source other than the language specification (if it exists), and the team or project local conventions. The Java Language Specification does not impose a specific ordering of the members.","title":"Does a convention about the structure of a class exist?","body":"<p>As with every language, there's no authoritative source other than the language specification (if it exists), and the team or project local conventions. The Java Language Specification does not impose a specific ordering of the members.</p>\n"},{"tags":[],"owner":{"account_id":208389,"reputation":2418,"user_id":458832,"display_name":"Arnost Valicek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358697789,"creation_date":1358697789,"answer_id":14426323,"question_id":14425587,"body_markdown":"You could use tool like Checkstyle (http://checkstyle.sourceforge.net/). \r\n\r\nIt contains some checks for class structure (for example order of modifiers http://checkstyle.sourceforge.net/config_modifier.html, naming conventions http://checkstyle.sourceforge.net/config_naming.html, etc).\r\n\r\nThis is not the nicest way how to present coding conventions. But the practical advantage is that Checkstyle can be be used directly in your IDE or automated builds so your students can see them applied directly to their code.","title":"Does a convention about the structure of a class exist?","body":"<p>You could use tool like Checkstyle (http://checkstyle.sourceforge.net/). </p>\n\n<p>It contains some checks for class structure (for example order of modifiers <a href=\"http://checkstyle.sourceforge.net/config_modifier.html\" rel=\"nofollow\">http://checkstyle.sourceforge.net/config_modifier.html</a>, naming conventions <a href=\"http://checkstyle.sourceforge.net/config_naming.html\" rel=\"nofollow\">http://checkstyle.sourceforge.net/config_naming.html</a>, etc).</p>\n\n<p>This is not the nicest way how to present coding conventions. But the practical advantage is that Checkstyle can be be used directly in your IDE or automated builds so your students can see them applied directly to their code.</p>\n"}],"owner":{"account_id":271958,"reputation":127827,"user_id":562769,"accept_rate":61,"display_name":"Martin Thoma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1358705287,"accepted_answer_id":14426061,"answer_count":5,"score":2,"last_activity_date":1690958892,"creation_date":1358692863,"question_id":14425587,"body_markdown":"When I write a class in Java, it (almost) always looks like this:\r\n\r\n    public class MyClass {\r\n\r\n        // attributes\r\n\r\n        // constructors\r\n\r\n        // methods:\r\n        //   * &quot;interesting&quot; methods\r\n        //   * getters and setters\r\n        //   * toString / equals / hashCode\r\n    }\r\n\r\nEspecially, I always write all attributes at the beginning. \r\n\r\nIs there a convention how to structure classes in Java? \r\n\r\nI couldn&#39;t find it in the [Oracle Code Conventions][1]. I am interested in sources (e.g. other style guides like [Mozilla Coding Style][2] or books), because I am a Java tutor and I would like to give my students more than &quot;I have learned it that way so you should also do it like this&quot;. And if there are reasons / sources that propose other structures within a class, I&#39;d also be happy to know that.\r\n\r\nedit: Although I am interested in your thoughts, I think I should stress that **I expect sources**. Personal experience is interesting, but I also made the experience that the structure above is common. But I want to give my students something more than the vague impression, that everybody seems to use this structure. Especially, as some of them don&#39;t use it.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\r\n  [2]: https://developer.mozilla.org/en-US/docs/Developer_Guide/Coding_Style","title":"Does a convention about the structure of a class exist?","body":"<p>When I write a class in Java, it (almost) always looks like this:</p>\n\n<pre><code>public class MyClass {\n\n    // attributes\n\n    // constructors\n\n    // methods:\n    //   * \"interesting\" methods\n    //   * getters and setters\n    //   * toString / equals / hashCode\n}\n</code></pre>\n\n<p>Especially, I always write all attributes at the beginning. </p>\n\n<p>Is there a convention how to structure classes in Java? </p>\n\n<p>I couldn't find it in the <a href=\"http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">Oracle Code Conventions</a>. I am interested in sources (e.g. other style guides like <a href=\"https://developer.mozilla.org/en-US/docs/Developer_Guide/Coding_Style\" rel=\"nofollow noreferrer\">Mozilla Coding Style</a> or books), because I am a Java tutor and I would like to give my students more than \"I have learned it that way so you should also do it like this\". And if there are reasons / sources that propose other structures within a class, I'd also be happy to know that.</p>\n\n<p>edit: Although I am interested in your thoughts, I think I should stress that <strong>I expect sources</strong>. Personal experience is interesting, but I also made the experience that the structure above is common. But I want to give my students something more than the vague impression, that everybody seems to use this structure. Especially, as some of them don't use it.</p>\n"},{"tags":["java","compiler-construction","javac","bytecode"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1385986483,"post_id":20265996,"comment_id":30337672,"body_markdown":"Ingos answer is correct. I want to add that I do not think that the comment concerning HotSpot and the compiler meant what you describe. The commentator wanted to express that it is *javac* who adds the `StringBuilder` to the byte code while the HotSpot run time only interprets/compiles this byte code. The byte code created by *javac* changed quite a lot over the years and new optimizations were applied from version to version. Also, new byte code instructions were added to the JVMS such that new optimizations could be applied. Even different versions of *javac* produce different byte code.","body":"Ingos answer is correct. I want to add that I do not think that the comment concerning HotSpot and the compiler meant what you describe. The commentator wanted to express that it is <i>javac</i> who adds the <code>StringBuilder</code> to the byte code while the HotSpot run time only interprets/compiles this byte code. The byte code created by <i>javac</i> changed quite a lot over the years and new optimizations were applied from version to version. Also, new byte code instructions were added to the JVMS such that new optimizations could be applied. Even different versions of <i>javac</i> produce different byte code."}],"answers":[{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690958880,"creation_date":1385641421,"answer_id":20266142,"question_id":20265996,"body_markdown":"There are 2 questions:\r\n\r\n1. Are different java compilers free to generate different bytecode for the same source code?\r\n2. Do they actually produce different bytecode for the same source.\r\n\r\nThe answer to 1 is yes, obviously. For, otherwise, the JLS had to fully specify the bytecode to generate for each and every language construct. But it doesn&#39;t.\r\n\r\nThe answer to 2 I don&#39;t know for sure, though I have heard that eclipse compiler generates slightly different code than javac in some cases. Should be easy to verify.","title":"Do different Java Compilers (where the vendor is different) produce different bytecode","body":"<p>There are 2 questions:</p>\n<ol>\n<li>Are different java compilers free to generate different bytecode for the same source code?</li>\n<li>Do they actually produce different bytecode for the same source.</li>\n</ol>\n<p>The answer to 1 is yes, obviously. For, otherwise, the JLS had to fully specify the bytecode to generate for each and every language construct. But it doesn't.</p>\n<p>The answer to 2 I don't know for sure, though I have heard that eclipse compiler generates slightly different code than javac in some cases. Should be easy to verify.</p>\n"},{"tags":[],"owner":{"account_id":2204617,"reputation":1728,"user_id":1948143,"display_name":"creichen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385644080,"creation_date":1385641553,"answer_id":20266196,"question_id":20265996,"body_markdown":"The comment in question does not actually disagree.  Note that you are mixing up two different things here:  Java bytecode compilers (`javac`) and Java just-in-time compilers (such as HotSpot or J9).  You normally use some javac implementation to translate java source code to java bytecode.\r\n\r\nThen you take the bytecode and execute it in a JVM, which uses _another_ compiler.\r\n\r\nAgain, there are two sets of compilers:\r\n\r\n 1. Bytecode compilers (`.java` to `.class`)\r\n 2. Just-in-time compilers as part of Java virtual machines (execute `.class` files)\r\n\r\n(**EDIT:** Neither of these are guaranteed to produce identical results (i.e., the same `java` file can yield different `class` files, and the same `class` file can yield different machine code when the JIT is done with it.))\r\n\r\nThe reason for having two sequential compilation processes is that if you wrap everything into one compiler, you lose two properties:\r\n\r\n 1. your compiled program will be platform-specific\r\n 2. your program will not (easily) be able to perform some of the optimisations and advanced language features (reflection, dynamic class loading) that Java provides.\r\n","title":"Do different Java Compilers (where the vendor is different) produce different bytecode","body":"<p>The comment in question does not actually disagree.  Note that you are mixing up two different things here:  Java bytecode compilers (<code>javac</code>) and Java just-in-time compilers (such as HotSpot or J9).  You normally use some javac implementation to translate java source code to java bytecode.</p>\n\n<p>Then you take the bytecode and execute it in a JVM, which uses <em>another</em> compiler.</p>\n\n<p>Again, there are two sets of compilers:</p>\n\n<ol>\n<li>Bytecode compilers (<code>.java</code> to <code>.class</code>)</li>\n<li>Just-in-time compilers as part of Java virtual machines (execute <code>.class</code> files)</li>\n</ol>\n\n<p>(<strong>EDIT:</strong> Neither of these are guaranteed to produce identical results (i.e., the same <code>java</code> file can yield different <code>class</code> files, and the same <code>class</code> file can yield different machine code when the JIT is done with it.))</p>\n\n<p>The reason for having two sequential compilation processes is that if you wrap everything into one compiler, you lose two properties:</p>\n\n<ol>\n<li>your compiled program will be platform-specific</li>\n<li>your program will not (easily) be able to perform some of the optimisations and advanced language features (reflection, dynamic class loading) that Java provides.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1385748460,"creation_date":1385748460,"answer_id":20291342,"question_id":20265996,"body_markdown":"There are differences between the compilers and interestingly some of the permitted differences led to problems in the past.\r\n\r\nSome differences are small, e.g. some compilers optimize `x=x+1` to produce the same bytecode as `x++`, others donât.\r\n\r\nOthers can have more impact, e.g. the standard did not specify how to generate the names of synthetic members used to implement inner class access to private members (and similar things) in the past (I donât know whether it does today). But the algorithm for calculating a default [`serialVersionUID`](http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html#skip-navbar_bottom) used a hash code over all class members, even synthetic ones.\r\n\r\nAs a consequence, compiling with `javac` or the first Eclipse versions created classes with incompatible `serialVersionUID`s. Today, Eclipse uses the same name schema for synthetic members as `javac` and issues a warning about missing explicit `serialVersionUID`s in `Serializable` classes by default.\r\n\r\nThereâs still a lot of freedom and even packing with `pack200` and unpacking may create classes with different byte code than the original classes.\r\n","title":"Do different Java Compilers (where the vendor is different) produce different bytecode","body":"<p>There are differences between the compilers and interestingly some of the permitted differences led to problems in the past.</p>\n\n<p>Some differences are small, e.g. some compilers optimize <code>x=x+1</code> to produce the same bytecode as <code>x++</code>, others donât.</p>\n\n<p>Others can have more impact, e.g. the standard did not specify how to generate the names of synthetic members used to implement inner class access to private members (and similar things) in the past (I donât know whether it does today). But the algorithm for calculating a default <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html#skip-navbar_bottom\" rel=\"nofollow\"><code>serialVersionUID</code></a> used a hash code over all class members, even synthetic ones.</p>\n\n<p>As a consequence, compiling with <code>javac</code> or the first Eclipse versions created classes with incompatible <code>serialVersionUID</code>s. Today, Eclipse uses the same name schema for synthetic members as <code>javac</code> and issues a warning about missing explicit <code>serialVersionUID</code>s in <code>Serializable</code> classes by default.</p>\n\n<p>Thereâs still a lot of freedom and even packing with <code>pack200</code> and unpacking may create classes with different byte code than the original classes.</p>\n"}],"owner":{"account_id":35803,"reputation":4761,"user_id":101715,"accept_rate":79,"display_name":"Yaneeve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2339,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":20291342,"answer_count":3,"score":6,"last_activity_date":1690958880,"creation_date":1385641000,"question_id":20265996,"body_markdown":"**Given the same major version, say Java 7, do different Java Compilers (e.g., Oracle&#39;s hotspot, JRockit, or IBM&#39;s J9 etc...) compile a given java source code file into the same bytcode?**\r\n\r\nScanning the [Java 7 language spec][1] it would seem that what is being discussed is the semantics of the language and not the transformation of the code into bytecode.\r\n\r\nThis question is not the same as do different major.minor versions for a given vendor produce the same bytecode. That question is already answered [here][2] - with a *could be*.\r\n\r\nFrom the following [answer][3] to [Is the creation of Java class files deterministic?][4] and a comment to that answer that refers to [this][5] along side two answers to the major.minor question above [1][6] and [2][7], I gather that the answer to my question is **YES**.\r\n\r\nExcerpts for the above are:\r\n\r\n&gt; The JLS leaves many implementation details to vary from one\r\n&gt; implementation to another.\r\n\r\nand\r\n\r\n&gt; However the JLS does not specify a 1:1 mapping from source code to the\r\n&gt; generated byte code, so you should not rely on the exact same byte\r\n&gt; code to be generated.\r\n\r\nYet a comment [here][8] implies differently:  \r\n\r\n&gt; Itâs the compiler, i.e. javac, creating the code using a\r\n&gt; BLAH BLAH BLAH. This has nothing to do with HotSpot.\r\n\r\nIt implies that given a code X all javac implementations (same version/different vendors) must produce the same Y bytecode.\r\n\r\nI cannot see how that is so, but I am unable to verify that it is not (or that what I think, see above) is correct.\r\n\r\nCan a definitive answer be given?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/index.html\r\n  [2]: https://stackoverflow.com/questions/3012978/do-different-jdk-updates-produce-different-java-byte-code\r\n  [3]: https://stackoverflow.com/a/14985246/101715\r\n  [4]: https://stackoverflow.com/questions/14984984/is-the-creation-of-java-class-files-deterministic\r\n  [5]: https://stackoverflow.com/a/14267348/101715\r\n  [6]: https://stackoverflow.com/a/3012991/101715\r\n  [7]: https://stackoverflow.com/a/3013009/101715\r\n  [8]: https://stackoverflow.com/a/20262139/101715","title":"Do different Java Compilers (where the vendor is different) produce different bytecode","body":"<p><strong>Given the same major version, say Java 7, do different Java Compilers (e.g., Oracle's hotspot, JRockit, or IBM's J9 etc...) compile a given java source code file into the same bytcode?</strong></p>\n\n<p>Scanning the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"nofollow noreferrer\">Java 7 language spec</a> it would seem that what is being discussed is the semantics of the language and not the transformation of the code into bytecode.</p>\n\n<p>This question is not the same as do different major.minor versions for a given vendor produce the same bytecode. That question is already answered <a href=\"https://stackoverflow.com/questions/3012978/do-different-jdk-updates-produce-different-java-byte-code\">here</a> - with a <em>could be</em>.</p>\n\n<p>From the following <a href=\"https://stackoverflow.com/a/14985246/101715\">answer</a> to <a href=\"https://stackoverflow.com/questions/14984984/is-the-creation-of-java-class-files-deterministic\">Is the creation of Java class files deterministic?</a> and a comment to that answer that refers to <a href=\"https://stackoverflow.com/a/14267348/101715\">this</a> along side two answers to the major.minor question above <a href=\"https://stackoverflow.com/a/3012991/101715\">1</a> and <a href=\"https://stackoverflow.com/a/3013009/101715\">2</a>, I gather that the answer to my question is <strong>YES</strong>.</p>\n\n<p>Excerpts for the above are:</p>\n\n<blockquote>\n  <p>The JLS leaves many implementation details to vary from one\n  implementation to another.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>However the JLS does not specify a 1:1 mapping from source code to the\n  generated byte code, so you should not rely on the exact same byte\n  code to be generated.</p>\n</blockquote>\n\n<p>Yet a comment <a href=\"https://stackoverflow.com/a/20262139/101715\">here</a> implies differently:  </p>\n\n<blockquote>\n  <p>Itâs the compiler, i.e. javac, creating the code using a\n  BLAH BLAH BLAH. This has nothing to do with HotSpot.</p>\n</blockquote>\n\n<p>It implies that given a code X all javac implementations (same version/different vendors) must produce the same Y bytecode.</p>\n\n<p>I cannot see how that is so, but I am unable to verify that it is not (or that what I think, see above) is correct.</p>\n\n<p>Can a definitive answer be given?</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1690958270,"creation_date":1467021588,"answer_id":38050982,"question_id":38049734,"body_markdown":"`PropertyValueFactory` expects correctly named property getters. `getAColumnsProperty` is probably not one.\r\n\r\nIn case of `new PropertyValueFactory&lt;Appointment, LocalDate&gt;(&quot;date&quot;)` the `Appointment` class needs to contain a `dateProperty()` method; the returned values need to extend `ReadOnlyProperty` for this to work and any edits will only lead to an update in the model automatically, if the returned object also `WritableValue`.\r\n\r\nExample `Appointment` class that should work with `PropertyValueFactory&lt;&gt;(&quot;date&quot;)`:\r\n\r\n\r\n    public class Appointment {\r\n        private final ObjectProperty&lt;LocalDate&gt; date = new SimpleObjectProperty&lt;&gt;();\r\n    \r\n        public final LocalDate getDate() {\r\n            return this.date.get();\r\n        }\r\n    \r\n        public final void setDate(LocalDate value) {\r\n            this.date.set(value);\r\n        }\r\n    \r\n        public final ObjectProperty&lt;LocalDate&gt; dateProperty() {\r\n            return this.date;\r\n        }\r\n    }\r\n\r\n\r\nIf no such method exists, `PropertyValueFactory` will use a getter to retrieve the value, i.e. `getDate()`, but this case updates in the model will not be visible in the UI until it updates the `Cell`, since the `PropertyValueFactory` &quot;does not know&quot; where to add a listener.\r\n\r\n### Disadvantages of `PropertyValueFactory`\r\n\r\n* Can only find `public` methods in a `public` class\r\n* `PropertyValueFactory` uses reflection\r\n* Not typesafe. In `new PropertyValueFactory&lt;Appointment, LocalDate&gt;(&quot;date&quot;)` the compiler does not check, if there is a appropriate method, if that method even returns a suitable class or if e.g. the property getter returns a `String` instead of a `ReadOnlyProperty&lt;LocalDate&gt;` which can lead to `ClassCastException`s.\r\n* No compile time checking. In the lambda expression the compiler can do some checking if the method exists and returns a appropriate type; with `PropertyValueFactory` this is not done.\r\n* Does not work with [records](https://blogs.oracle.com/javamagazine/post/records-come-to-java). [(*JEP 395: Records*)](https://openjdk.org/jeps/395)\r\n\r\nIf you are sure to implement the appropriate methods in the item class correctly, there is nothing wrong with using `PropertyValueFactory`, but as mentioned above it has it&#39;s disadvantages. Moreover implementing the `Callback` is much more flexible. You could e.g. do some additional modifications:\r\n\r\n    TableColumn&lt;Appointment, String&gt; column = ...\r\n    \r\n    column.setCellValueFactory(new Callback&lt;TableColumn.CellDataFeatures&lt;Appointment, String&gt;, ObservableValue&lt;String&gt;&gt; {\r\n        @Override\r\n        public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Appointment, String&gt; cd) {\r\n            Appointment a  = cd.getValue();\r\n    \r\n            return Bindings.createStringBinding(() -&gt; &quot;the year: &quot; + a.getDate().getYear(), a.dateProperty());\r\n        }\r\n    \r\n    });\r\n\r\n","title":"Java: setCellValuefactory; Lambda vs. PropertyValueFactory; advantages/disadvantages","body":"<p><code>PropertyValueFactory</code> expects correctly named property getters. <code>getAColumnsProperty</code> is probably not one.</p>\n<p>In case of <code>new PropertyValueFactory&lt;Appointment, LocalDate&gt;(&quot;date&quot;)</code> the <code>Appointment</code> class needs to contain a <code>dateProperty()</code> method; the returned values need to extend <code>ReadOnlyProperty</code> for this to work and any edits will only lead to an update in the model automatically, if the returned object also <code>WritableValue</code>.</p>\n<p>Example <code>Appointment</code> class that should work with <code>PropertyValueFactory&lt;&gt;(&quot;date&quot;)</code>:</p>\n<pre><code>public class Appointment {\n    private final ObjectProperty&lt;LocalDate&gt; date = new SimpleObjectProperty&lt;&gt;();\n\n    public final LocalDate getDate() {\n        return this.date.get();\n    }\n\n    public final void setDate(LocalDate value) {\n        this.date.set(value);\n    }\n\n    public final ObjectProperty&lt;LocalDate&gt; dateProperty() {\n        return this.date;\n    }\n}\n</code></pre>\n<p>If no such method exists, <code>PropertyValueFactory</code> will use a getter to retrieve the value, i.e. <code>getDate()</code>, but this case updates in the model will not be visible in the UI until it updates the <code>Cell</code>, since the <code>PropertyValueFactory</code> &quot;does not know&quot; where to add a listener.</p>\n<h3>Disadvantages of <code>PropertyValueFactory</code></h3>\n<ul>\n<li>Can only find <code>public</code> methods in a <code>public</code> class</li>\n<li><code>PropertyValueFactory</code> uses reflection</li>\n<li>Not typesafe. In <code>new PropertyValueFactory&lt;Appointment, LocalDate&gt;(&quot;date&quot;)</code> the compiler does not check, if there is a appropriate method, if that method even returns a suitable class or if e.g. the property getter returns a <code>String</code> instead of a <code>ReadOnlyProperty&lt;LocalDate&gt;</code> which can lead to <code>ClassCastException</code>s.</li>\n<li>No compile time checking. In the lambda expression the compiler can do some checking if the method exists and returns a appropriate type; with <code>PropertyValueFactory</code> this is not done.</li>\n<li>Does not work with <a href=\"https://blogs.oracle.com/javamagazine/post/records-come-to-java\" rel=\"nofollow noreferrer\">records</a>. <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">(<em>JEP 395: Records</em>)</a></li>\n</ul>\n<p>If you are sure to implement the appropriate methods in the item class correctly, there is nothing wrong with using <code>PropertyValueFactory</code>, but as mentioned above it has it's disadvantages. Moreover implementing the <code>Callback</code> is much more flexible. You could e.g. do some additional modifications:</p>\n<pre><code>TableColumn&lt;Appointment, String&gt; column = ...\n\ncolumn.setCellValueFactory(new Callback&lt;TableColumn.CellDataFeatures&lt;Appointment, String&gt;, ObservableValue&lt;String&gt;&gt; {\n    @Override\n    public ObservableValue&lt;String&gt; call(TableColumn.CellDataFeatures&lt;Appointment, String&gt; cd) {\n        Appointment a  = cd.getValue();\n\n        return Bindings.createStringBinding(() -&gt; &quot;the year: &quot; + a.getDate().getYear(), a.dateProperty());\n    }\n\n});\n</code></pre>\n"}],"owner":{"account_id":5604957,"reputation":1296,"user_id":6294605,"accept_rate":93,"display_name":"Wolfone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14352,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":38050982,"answer_count":1,"score":9,"last_activity_date":1690958270,"creation_date":1467017977,"question_id":38049734,"body_markdown":"today i encountered another thing i don&#39;t really understand while trying to learn more about JavaFX and Java in general.\n\nReference is the following tutorial (im trying to apply the principle to an organizer):\n\n[JavaFX 8 Tutorial][1]\n\nI will give a short outline of the particular part on which i&#39;ve got a question:\n\nMy main window contains a tableview which shows some appointment-data.\nSo i got some lines of this style(same as in the tutorial):\n\n    aColumn.setCellValueFactory(cellData -&gt;cellData.getValue().getAColumnsProperty());\n\nThe data can be manipulated via an additional EditDialog.\nThat works just fine. If i edit things the changes are displayed immediately but i did some additional research to better understand the Lambda (not too successful). Now...in the online java documentation [Java Doc PropertyValueFactory][2] it says:\n&quot;A convenience implementation of the Callback-Interface,[...]&quot;\n\nSo i refactored my code into this style:\n\n    aColumn.setCellValueFactory(new PropertyValueFactory&lt;Appointment,LocalDate&gt;(&quot;date&quot;));\n\nWhich i find much more readable than the Lambda.\nBut i noticed that when i make changes i need to do some sorting on the TableView before the changes are displayed.\n\nIs it possible to achieve an immediate display of change in the second approach?\n\nIf yes: are there major disavantages which would discourage such a modification? I.e. would the Lambda be the best practice in this situation?\n \nI appreciate any help.\n\n  [1]: http://code.makery.ch/library/javafx-8-tutorial/part3/\n  [2]: https://docs.oracle.com/javafx/2/api/javafx/scene/control/cell/PropertyValueFactory.html","title":"Java: setCellValuefactory; Lambda vs. PropertyValueFactory; advantages/disadvantages","body":"<p>today i encountered another thing i don't really understand while trying to learn more about JavaFX and Java in general.</p>\n<p>Reference is the following tutorial (im trying to apply the principle to an organizer):</p>\n<p><a href=\"http://code.makery.ch/library/javafx-8-tutorial/part3/\" rel=\"nofollow noreferrer\">JavaFX 8 Tutorial</a></p>\n<p>I will give a short outline of the particular part on which i've got a question:</p>\n<p>My main window contains a tableview which shows some appointment-data.\nSo i got some lines of this style(same as in the tutorial):</p>\n<pre><code>aColumn.setCellValueFactory(cellData -&gt;cellData.getValue().getAColumnsProperty());\n</code></pre>\n<p>The data can be manipulated via an additional EditDialog.\nThat works just fine. If i edit things the changes are displayed immediately but i did some additional research to better understand the Lambda (not too successful). Now...in the online java documentation <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/cell/PropertyValueFactory.html\" rel=\"nofollow noreferrer\">Java Doc PropertyValueFactory</a> it says:\n&quot;A convenience implementation of the Callback-Interface,[...]&quot;</p>\n<p>So i refactored my code into this style:</p>\n<pre><code>aColumn.setCellValueFactory(new PropertyValueFactory&lt;Appointment,LocalDate&gt;(&quot;date&quot;));\n</code></pre>\n<p>Which i find much more readable than the Lambda.\nBut i noticed that when i make changes i need to do some sorting on the TableView before the changes are displayed.</p>\n<p>Is it possible to achieve an immediate display of change in the second approach?</p>\n<p>If yes: are there major disavantages which would discourage such a modification? I.e. would the Lambda be the best practice in this situation?</p>\n<p>I appreciate any help.</p>\n"},{"tags":["java","spring-boot","protocol-buffers","swagger-ui","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":27324071,"reputation":36,"user_id":20837310,"display_name":"Andrei Bulshtein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690957990,"creation_date":1690957990,"answer_id":76817157,"question_id":76671616,"body_markdown":"Found the solution here: https://stackoverflow.com/questions/62938665/springdoc-openapi-ui-can-not-render-protobuf-models-causing-the-browser-to-crash . need to define a ModelResolver bean with a custom ObjectMapper.","title":"Swagger UI gets stuck when trying do display an endpoint that has a proto POJO in its request body","body":"<p>Found the solution here: <a href=\"https://stackoverflow.com/questions/62938665/springdoc-openapi-ui-can-not-render-protobuf-models-causing-the-browser-to-crash\">springdoc-openapi-ui can not render Protobuf Models causing the browser to crash</a> . need to define a ModelResolver bean with a custom ObjectMapper.</p>\n"}],"owner":{"account_id":27324071,"reputation":36,"user_id":20837310,"display_name":"Andrei Bulshtein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690957990,"creation_date":1689171783,"question_id":76671616,"body_markdown":"We have a java 19, spring boot 3.0.5 based web application, that has an endpoint with a generated POJO object from a .proto as its @RequestBody. we are exposing the endpoint through swagger ui. swagger ui is based on the springdoc dependency -&gt;  &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&#39;. when trying to access this specific endpoint in swagger ui, the browser gets stuck and freezes. \r\n\r\nOther endpoints with the exact same configuration but a String as their @RequestBody work fine. also this endpoint worked fine when we used springfox as the swagger ui implementation, but the springfox implementation doesn&#39;t work with spring boot 3. we have tried to override the ProtobufJsonFormatHttpMessageConverter with:         \r\n\r\n    @Bean\r\n    public ProtobufJsonFormatHttpMessageConverter protobufHttpMessageConverter() {\r\n        return new          ProtobufJsonFormatHttpMessageConverter(JsonFormat.parser().ignoringUnknownFields(),\r\n                JsonFormat.printer().omittingInsignificantWhitespace());\r\n    } \r\n\r\nbut it didn&#39;t work.","title":"Swagger UI gets stuck when trying do display an endpoint that has a proto POJO in its request body","body":"<p>We have a java 19, spring boot 3.0.5 based web application, that has an endpoint with a generated POJO object from a .proto as its @RequestBody. we are exposing the endpoint through swagger ui. swagger ui is based on the springdoc dependency -&gt;  'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'. when trying to access this specific endpoint in swagger ui, the browser gets stuck and freezes.</p>\n<p>Other endpoints with the exact same configuration but a String as their @RequestBody work fine. also this endpoint worked fine when we used springfox as the swagger ui implementation, but the springfox implementation doesn't work with spring boot 3. we have tried to override the ProtobufJsonFormatHttpMessageConverter with:</p>\n<pre><code>@Bean\npublic ProtobufJsonFormatHttpMessageConverter protobufHttpMessageConverter() {\n    return new          ProtobufJsonFormatHttpMessageConverter(JsonFormat.parser().ignoringUnknownFields(),\n            JsonFormat.printer().omittingInsignificantWhitespace());\n} \n</code></pre>\n<p>but it didn't work.</p>\n"},{"tags":["java","hadoop","hadoop3"],"comments":[{"owner":{"account_id":59759,"reputation":631,"user_id":178711,"accept_rate":83,"display_name":"dannyman"},"score":1,"creation_date":1580846015,"post_id":50927577,"comment_id":106230123,"body_markdown":"In a situation like this, it can be handy to symlink `/home/admin/hadoop-3.1.0` to `/home/admin/hadoop` ... when you upgrade hadoop, you change the symlink, but do not have to change the version number in all of your config files.","body":"In a situation like this, it can be handy to symlink <code>&#47;home&#47;admin&#47;hadoop-3.1.0</code> to <code>&#47;home&#47;admin&#47;hadoop</code> ... when you upgrade hadoop, you change the symlink, but do not have to change the version number in all of your config files."}],"answers":[{"tags":[],"owner":{"account_id":12845249,"reputation":157,"user_id":9291876,"display_name":"Antonio D&#39;Amore"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1529571731,"creation_date":1529571731,"answer_id":50964526,"question_id":50927577,"body_markdown":"I had the same problem and resolved by adding this in **mapred-site.xml** (so edit your **mapreduce.application.classpath** property)\r\n\r\n    &lt;property&gt; \r\n        &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\r\n    \t&lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/common/*,$HADOOP_MAPRED_HOME/share/hadoop/common/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/yarn/*,$HADOOP_MAPRED_HOME/share/hadoop/yarn/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/hdfs/*,$HADOOP_MAPRED_HOME/share/hadoop/hdfs/lib/*&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n\r\n","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>I had the same problem and resolved by adding this in <strong>mapred-site.xml</strong> (so edit your <strong>mapreduce.application.classpath</strong> property)</p>\n\n<pre><code>&lt;property&gt; \n    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\n    &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/common/*,$HADOOP_MAPRED_HOME/share/hadoop/common/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/yarn/*,$HADOOP_MAPRED_HOME/share/hadoop/yarn/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/hdfs/*,$HADOOP_MAPRED_HOME/share/hadoop/hdfs/lib/*&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2249781,"reputation":291,"user_id":1982264,"display_name":"CuriousCoder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1540389529,"creation_date":1529585802,"answer_id":50969130,"question_id":50927577,"body_markdown":"I added following property in yarn-site.xml\r\n\r\n    &lt;property&gt;\r\n      &lt;name&gt;yarn.application.classpath&lt;/name&gt;\r\n      &lt;value&gt; $HADOOP_CONF_DIR,$HADOOP_COMMON_HOME/share/hadoop/common/*,$HADOOP_COMMON_HOME/share/hadoop/common/lib/*,$HADOOP_HDFS_HOME/share/hadoop/hdfs/*,$HADOOP_HDFS_HOME/share/hadoop/hdfs/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*,\r\n        $HADOOP_YARN_HOME/share/hadoop/yarn/*,$HADOOP_YARN_HOME/share/hadoop/yarn/lib/* \r\n      &lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n\r\nAnd did same changes in my map reduce program.\r\n\r\n      configuration.set(&quot;yarn.application.classpath&quot;,\r\n                  &quot;{{HADOOP_CONF_DIR}},{{HADOOP_COMMON_HOME}}/share/hadoop/common/*,{{HADOOP_COMMON_HOME}}/share/hadoop/common/lib/*,&quot;\r\n                      + &quot; {{HADOOP_HDFS_HOME}}/share/hadoop/hdfs/*,{{HADOOP_HDFS_HOME}}/share/hadoop/hdfs/lib/*,&quot;\r\n                      + &quot;{{HADOOP_MAPRED_HOME}}/share/hadoop/mapreduce/*,{{HADOOP_MAPRED_HOME}}/share/hadoop/mapreduce/lib/*,&quot;\r\n                      + &quot;{{HADOOP_YARN_HOME}}/share/hadoop/yarn/*,{{HADOOP_YARN_HOME}}/share/hadoop/yarn/lib/*&quot;);\r\n\r\nMy program is running smoothly now. Feel free to ask me details.","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>I added following property in yarn-site.xml</p>\n\n<pre><code>&lt;property&gt;\n  &lt;name&gt;yarn.application.classpath&lt;/name&gt;\n  &lt;value&gt; $HADOOP_CONF_DIR,$HADOOP_COMMON_HOME/share/hadoop/common/*,$HADOOP_COMMON_HOME/share/hadoop/common/lib/*,$HADOOP_HDFS_HOME/share/hadoop/hdfs/*,$HADOOP_HDFS_HOME/share/hadoop/hdfs/lib/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*,\n    $HADOOP_YARN_HOME/share/hadoop/yarn/*,$HADOOP_YARN_HOME/share/hadoop/yarn/lib/* \n  &lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>And did same changes in my map reduce program.</p>\n\n<pre><code>  configuration.set(\"yarn.application.classpath\",\n              \"{{HADOOP_CONF_DIR}},{{HADOOP_COMMON_HOME}}/share/hadoop/common/*,{{HADOOP_COMMON_HOME}}/share/hadoop/common/lib/*,\"\n                  + \" {{HADOOP_HDFS_HOME}}/share/hadoop/hdfs/*,{{HADOOP_HDFS_HOME}}/share/hadoop/hdfs/lib/*,\"\n                  + \"{{HADOOP_MAPRED_HOME}}/share/hadoop/mapreduce/*,{{HADOOP_MAPRED_HOME}}/share/hadoop/mapreduce/lib/*,\"\n                  + \"{{HADOOP_YARN_HOME}}/share/hadoop/yarn/*,{{HADOOP_YARN_HOME}}/share/hadoop/yarn/lib/*\");\n</code></pre>\n\n<p>My program is running smoothly now. Feel free to ask me details.</p>\n"},{"tags":[],"owner":{"account_id":6913311,"reputation":503,"user_id":5308426,"display_name":"Amardeep Kohli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543679637,"creation_date":1543679637,"answer_id":53572508,"question_id":50927577,"body_markdown":"The issue is that Your Resource Manager(yarn) is not able to load Hadoop Libraries(jars).\r\nI solved this by updating the configurations.\r\nAdded this to yarn-site.xml :\r\n\r\n&gt;     &lt;property&gt;\r\n&gt;     &lt;name&gt;yarn.application.classpath&lt;/name&gt;\r\n&gt;     &lt;value&gt;C:/hadoop-2.8.0/share/hadoop/mapreduce/*,C:/hadoop-2.8.0/share/hadoop/mapreduce/lib/*,C:/Hadoop-2.8.0/share/hadoop/common/*,C:/Hadoop-2.8.0/share/hadoop/common/lib/*,\r\n&gt;         C:/hadoop-2.8.0/share/hadoop/hdfs/*,C:/hadoop-2.8.0/share/hadoop/hdfs/lib/*,C:/hadoop-2.8.0/share/hadoop/yarn/*,C:/hadoop-2.8.0/share/hadoop/yarn/lib/*&lt;/value&gt;\r\n&gt;     &lt;/property&gt;\r\n\r\nPlease note that the paths used here can be relative according to your system.","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>The issue is that Your Resource Manager(yarn) is not able to load Hadoop Libraries(jars).\nI solved this by updating the configurations.\nAdded this to yarn-site.xml :</p>\n\n<blockquote>\n<pre><code>&lt;property&gt;\n&lt;name&gt;yarn.application.classpath&lt;/name&gt;\n&lt;value&gt;C:/hadoop-2.8.0/share/hadoop/mapreduce/*,C:/hadoop-2.8.0/share/hadoop/mapreduce/lib/*,C:/Hadoop-2.8.0/share/hadoop/common/*,C:/Hadoop-2.8.0/share/hadoop/common/lib/*,\n    C:/hadoop-2.8.0/share/hadoop/hdfs/*,C:/hadoop-2.8.0/share/hadoop/hdfs/lib/*,C:/hadoop-2.8.0/share/hadoop/yarn/*,C:/hadoop-2.8.0/share/hadoop/yarn/lib/*&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n</blockquote>\n\n<p>Please note that the paths used here can be relative according to your system.</p>\n"},{"tags":[],"owner":{"account_id":18138531,"reputation":2147,"user_id":13192685,"display_name":"adityaatri"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1586693702,"creation_date":1586693702,"answer_id":61171283,"question_id":50927577,"body_markdown":"Just edit the **mapred-site.xml** file :\r\n\r\nAdd following properties:\r\n\r\n1. `&lt;property&gt;\r\n \t   &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n       &lt;value&gt;yarn&lt;/value&gt;\r\n    &lt;/property&gt;`\r\n\r\n\r\n2. `&lt;property&gt;\r\n       &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n       &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\r\n&lt;/property&gt;`\r\n\r\n3. `&lt;property&gt;\r\n       &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n       &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\r\n&lt;/property&gt;`\r\n\r\n4. `&lt;property&gt;\r\n       &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n       &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\r\n&lt;/property&gt;`\r\n\r\nNow for all the above 4 properties, replace the path `/Users/adityaatri/Applications/hadoop-3.1.3` with your Hadoop Home Address.\r\n\r\nNow add the 5th property :\r\n\r\n5. `&lt;property&gt; \r\n        &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\r\n        &lt;value&gt;&lt;/value&gt;\r\n&lt;/property&gt;`\r\n\r\nThe **`&lt;value&gt;`** element must be filled with content after executing below commands in your terminal :\r\n\r\n1. `export HADOOP_CLASSPATH=$(hadoop classpath)`\r\n\r\n2. `echo $HADOOP_CLASSPATH`\r\n\r\nThe output from my terminal : \r\n\r\n`/Users/adityaatri/Applications/hadoop-3.1.3/etc/hadoop:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/common/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/common/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/mapreduce/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/mapreduce/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn/*`\r\n\r\nCopy this content inside the **`&lt;value&gt;`** element of the 5th property. \r\n\r\nNow you will not get any error. :)\r\n\r\n","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>Just edit the <strong>mapred-site.xml</strong> file :</p>\n\n<p>Add following properties:</p>\n\n<ol>\n<li><p><code>&lt;property&gt;\n   &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n   &lt;value&gt;yarn&lt;/value&gt;\n&lt;/property&gt;</code></p></li>\n<li><p><code>&lt;property&gt;\n   &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n   &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\n&lt;/property&gt;</code></p></li>\n<li><p><code>&lt;property&gt;\n   &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n   &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\n&lt;/property&gt;</code></p></li>\n<li><p><code>&lt;property&gt;\n   &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n   &lt;value&gt;HADOOP_MAPRED_HOME=/Users/adityaatri/Applications/hadoop-3.1.3&lt;/value&gt;\n&lt;/property&gt;</code></p></li>\n</ol>\n\n<p>Now for all the above 4 properties, replace the path <code>/Users/adityaatri/Applications/hadoop-3.1.3</code> with your Hadoop Home Address.</p>\n\n<p>Now add the 5th property :</p>\n\n<ol start=\"5\">\n<li><code>&lt;property&gt; \n    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\n    &lt;value&gt;&lt;/value&gt;\n&lt;/property&gt;</code></li>\n</ol>\n\n<p>The <strong><code>&lt;value&gt;</code></strong> element must be filled with content after executing below commands in your terminal :</p>\n\n<ol>\n<li><p><code>export HADOOP_CLASSPATH=$(hadoop classpath)</code></p></li>\n<li><p><code>echo $HADOOP_CLASSPATH</code></p></li>\n</ol>\n\n<p>The output from my terminal : </p>\n\n<p><code>/Users/adityaatri/Applications/hadoop-3.1.3/etc/hadoop:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/common/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/common/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/hdfs/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/mapreduce/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/mapreduce/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn/lib/*:/Users/adityaatri/Applications/hadoop-3.1.3/share/hadoop/yarn/*</code></p>\n\n<p>Copy this content inside the <strong><code>&lt;value&gt;</code></strong> element of the 5th property. </p>\n\n<p>Now you will not get any error. :)</p>\n"},{"tags":[],"owner":{"account_id":19725616,"reputation":1,"user_id":14442294,"display_name":"jianbo zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648129392,"creation_date":1648129392,"answer_id":71603622,"question_id":50927577,"body_markdown":"I add the `mapreduce.application.classpath` in `mapred.xml`, but it sitll doesn&#39;t work. Then i download the `core-site.xml`, `mapred-site.xml` and `yarn-site.xml` files from my linux server, then put these files into the `resources` path in you IDEA, then it works!","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>I add the <code>mapreduce.application.classpath</code> in <code>mapred.xml</code>, but it sitll doesn't work. Then i download the <code>core-site.xml</code>, <code>mapred-site.xml</code> and <code>yarn-site.xml</code> files from my linux server, then put these files into the <code>resources</code> path in you IDEA, then it works!</p>\n"},{"tags":[],"owner":{"account_id":29114087,"reputation":1,"user_id":22303226,"display_name":"Amit Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690957605,"creation_date":1690581877,"answer_id":76791244,"question_id":50927577,"body_markdown":"Just add the following to yarn-site.xml so the environment variables are passed down. I had the same issue and this resolved it. I am running Hadoop 3.3.6.\r\n\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\r\n        &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_HOME,PATH,LANG,TZ,HADOOP_MAPRED_HOME\r\n        &lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<p>Just add the following to yarn-site.xml so the environment variables are passed down. I had the same issue and this resolved it. I am running Hadoop 3.3.6.</p>\n<pre><code>&lt;property&gt;\n    &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\n    &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_HOME,PATH,LANG,TZ,HADOOP_MAPRED_HOME\n    &lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":2249781,"reputation":291,"user_id":1982264,"display_name":"CuriousCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22482,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":50969130,"answer_count":6,"score":16,"last_activity_date":1690957605,"creation_date":1529408552,"question_id":50927577,"body_markdown":"Contents of mapred-site.xml :\r\n-----------------------------------------------------------------------------\r\n\r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n     &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n     &lt;value&gt;yarn&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n     &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n     &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n     &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n     &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n     &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n     &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt; \r\n        &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\r\n        &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\n-------------------------------------------------------------------------------\r\nThough I have set yarn.app.mapreduce.am.env and other parameters; I am getting Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster error. \r\nI am trying to run map reduce program remotely where hadoop is installed on linux machine and I am running it from windows machine.\r\nFollowing are my configuration settings for job. \r\n\r\n    public class WordCount {\r\n      public static void main(String[] args)\r\n          throws IOException, ClassNotFoundException, InterruptedException {\r\n        //\r\n        UserGroupInformation ugi = UserGroupInformation.createRemoteUser(&quot;admin&quot;);\r\n        ugi.doAs(new PrivilegedExceptionAction&lt;Void&gt;() {\r\n    \r\n          public Void run() throws Exception {\r\n            try {\r\n              Configuration configuration = new Configuration();\r\n    \r\n              configuration.set(&quot;yarn.resourcemanager.address&quot;, &quot;192.168.33.75:50001&quot;); // see step 3\r\n              configuration.set(&quot;mapreduce.framework.name&quot;, &quot;yarn&quot;);\r\n              // configuration.set(&quot;yarn.app.mapreduce.am.env&quot;,\r\n              // &quot;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&quot;);\r\n              // configuration.set(&quot;mapreduce.map.env&quot;, &quot;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&quot;);\r\n              // configuration.set(&quot;mapreduce.reduce.env&quot;,\r\n              // &quot;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&quot;);\r\n              configuration.set(&quot;fs.defaultFS&quot;, &quot;hdfs://192.168.33.75:54310&quot;); // see step 2\r\n              configuration.set(&quot;mapreduce.app-submission.cross-platform&quot;, &quot;true&quot;);\r\n              configuration.set(&quot;mapred.remote.os&quot;, &quot;Linux&quot;);\r\n              configuration.set(&quot;yarn.application.classpath&quot;,\r\n                  &quot;$HADOOP_CONF_DIR:$HADOOP_COMMON_HOME/*:$HADOOP_COMMON_HOME/lib/*:&quot;\r\n                      + &quot;$HADOOP_HDFS_HOME/*:$HADOOP_HDFS_HOME/lib/*:&quot;\r\n                      + &quot;$HADOOP_YARN_HOME/*:$HADOOP_YARN_HOME/lib/*:&quot;\r\n                      + &quot;$HADOOP_MAPRED_HOME/*:$HADOOP_MAPRED_HOME/lib/*&quot;);\r\n    \r\n              Job job = Job.getInstance(configuration);\r\n    \r\n              job.setJarByClass(WordCount.class); // use this when uploaded the Jar to the server and\r\n                                                  // running the job directly and locally on the server\r\n              job.setOutputKeyClass(Text.class);\r\n              job.setOutputValueClass(IntWritable.class);\r\n              job.setMapperClass(MapForWordCount.class);\r\n              job.setReducerClass(ReduceForWordCount.class);\r\n    \r\n              Path input = new Path(&quot;/user/admin/wordCountInput.txt&quot;);\r\n              Path output = new Path(&quot;/user/admin/output&quot;);\r\n              FileInputFormat.addInputPath(job, input);\r\n              FileOutputFormat.setOutputPath(job, output);\r\n              System.exit(job.waitForCompletion(true) ? 0 : 1);\r\n            } catch (Exception e) {\r\n              e.printStackTrace();\r\n            }\r\n            return null;\r\n          }\r\n    \r\n        });\r\n    \r\n    \r\n      }\r\n\r\nPlease help me. I am stuck on this problem from last 6 days. Thanks a lot in advance.\r\nHadoop version : 3.1.0","title":"Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster","body":"<h2>Contents of mapred-site.xml :</h2>\n\n<pre><code>&lt;configuration&gt;\n&lt;property&gt;\n &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n &lt;value&gt;yarn&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt;\n &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n &lt;value&gt;HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;property&gt; \n    &lt;name&gt;mapreduce.application.classpath&lt;/name&gt;\n    &lt;value&gt;$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*,$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/value&gt;\n&lt;/property&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<hr>\n\n<p>Though I have set yarn.app.mapreduce.am.env and other parameters; I am getting Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster error. \nI am trying to run map reduce program remotely where hadoop is installed on linux machine and I am running it from windows machine.\nFollowing are my configuration settings for job. </p>\n\n<pre><code>public class WordCount {\n  public static void main(String[] args)\n      throws IOException, ClassNotFoundException, InterruptedException {\n    //\n    UserGroupInformation ugi = UserGroupInformation.createRemoteUser(\"admin\");\n    ugi.doAs(new PrivilegedExceptionAction&lt;Void&gt;() {\n\n      public Void run() throws Exception {\n        try {\n          Configuration configuration = new Configuration();\n\n          configuration.set(\"yarn.resourcemanager.address\", \"192.168.33.75:50001\"); // see step 3\n          configuration.set(\"mapreduce.framework.name\", \"yarn\");\n          // configuration.set(\"yarn.app.mapreduce.am.env\",\n          // \"HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0\");\n          // configuration.set(\"mapreduce.map.env\", \"HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0\");\n          // configuration.set(\"mapreduce.reduce.env\",\n          // \"HADOOP_MAPRED_HOME=/home/admin/hadoop-3.1.0\");\n          configuration.set(\"fs.defaultFS\", \"hdfs://192.168.33.75:54310\"); // see step 2\n          configuration.set(\"mapreduce.app-submission.cross-platform\", \"true\");\n          configuration.set(\"mapred.remote.os\", \"Linux\");\n          configuration.set(\"yarn.application.classpath\",\n              \"$HADOOP_CONF_DIR:$HADOOP_COMMON_HOME/*:$HADOOP_COMMON_HOME/lib/*:\"\n                  + \"$HADOOP_HDFS_HOME/*:$HADOOP_HDFS_HOME/lib/*:\"\n                  + \"$HADOOP_YARN_HOME/*:$HADOOP_YARN_HOME/lib/*:\"\n                  + \"$HADOOP_MAPRED_HOME/*:$HADOOP_MAPRED_HOME/lib/*\");\n\n          Job job = Job.getInstance(configuration);\n\n          job.setJarByClass(WordCount.class); // use this when uploaded the Jar to the server and\n                                              // running the job directly and locally on the server\n          job.setOutputKeyClass(Text.class);\n          job.setOutputValueClass(IntWritable.class);\n          job.setMapperClass(MapForWordCount.class);\n          job.setReducerClass(ReduceForWordCount.class);\n\n          Path input = new Path(\"/user/admin/wordCountInput.txt\");\n          Path output = new Path(\"/user/admin/output\");\n          FileInputFormat.addInputPath(job, input);\n          FileOutputFormat.setOutputPath(job, output);\n          System.exit(job.waitForCompletion(true) ? 0 : 1);\n        } catch (Exception e) {\n          e.printStackTrace();\n        }\n        return null;\n      }\n\n    });\n\n\n  }\n</code></pre>\n\n<p>Please help me. I am stuck on this problem from last 6 days. Thanks a lot in advance.\nHadoop version : 3.1.0</p>\n"},{"tags":["java","keytool","pkcs#12"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508299631,"creation_date":1508293761,"answer_id":46801921,"question_id":46801023,"body_markdown":"Cannot reproduce:\r\n\r\n    C:\\Temp&gt;keytool -genkey -storetype PKCS12 -keystore foo.p12 -dname &quot;CN=foo&quot; -storepass password -keypass password\r\n    \r\n    C:\\Temp&gt;keytool -list -keystore foo.p12 -storepass password\r\n    keytool error: java.io.IOException: Invalid keystore format\r\n    \r\n    C:\\Temp&gt;java -version\r\n    java version &quot;1.8.0_40&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_40-b26)\r\n    Java HotSpot(TM) Client VM (build 25.40-b25, mixed mode, sharing)\r\n    \r\n    C:\\Temp&gt;keytool -list -keystore foo.p12 -storepass password -storetype PKCS12\r\n    \r\n    Keystore type: PKCS12\r\n    Keystore provider: SunJSSE\r\n    \r\n    Your keystore contains 1 entry\r\n    \r\n    mykey, 18/10/2017, PrivateKeyEntry,\r\n    Certificate fingerprint (SHA1): 3F:C2:78:0D:E5:8D:11:68:2E:EB:31:D3:65:53:69:9F:\r\n    87:65:63:3A\r\n\r\n&gt; Is this the correct way to create a pkcs12 keystore?\r\n\r\nYes, but it&#39;s not the correct way to list it. You need `-storetype PKCS12` as per my last example above.","title":"keytool reports a pkcs12 keystore as &#39;jks&#39;","body":"<p>Cannot reproduce:</p>\n\n<pre><code>C:\\Temp&gt;keytool -genkey -storetype PKCS12 -keystore foo.p12 -dname \"CN=foo\" -storepass password -keypass password\n\nC:\\Temp&gt;keytool -list -keystore foo.p12 -storepass password\nkeytool error: java.io.IOException: Invalid keystore format\n\nC:\\Temp&gt;java -version\njava version \"1.8.0_40\"\nJava(TM) SE Runtime Environment (build 1.8.0_40-b26)\nJava HotSpot(TM) Client VM (build 25.40-b25, mixed mode, sharing)\n\nC:\\Temp&gt;keytool -list -keystore foo.p12 -storepass password -storetype PKCS12\n\nKeystore type: PKCS12\nKeystore provider: SunJSSE\n\nYour keystore contains 1 entry\n\nmykey, 18/10/2017, PrivateKeyEntry,\nCertificate fingerprint (SHA1): 3F:C2:78:0D:E5:8D:11:68:2E:EB:31:D3:65:53:69:9F:\n87:65:63:3A\n</code></pre>\n\n<blockquote>\n  <p>Is this the correct way to create a pkcs12 keystore?</p>\n</blockquote>\n\n<p>Yes, but it's not the correct way to list it. You need <code>-storetype PKCS12</code> as per my last example above.</p>\n"},{"tags":[],"owner":{"account_id":18870083,"reputation":1,"user_id":13764930,"display_name":"Slatecat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690957528,"creation_date":1690567757,"answer_id":76790153,"question_id":46801023,"body_markdown":"       -storetype &lt;the value of the âkeystore.typeâ property in the\r\n        security properties file, which is returned by the static\r\n        getDefaultType method in java.security.KeyStore&gt;\r\n\r\n   If you check your java.security file, you will likely see that the default value for the keystore.type is jks.  The &#39;keystore type&#39; is being picked up by the value assigned in the java.security file, and not from the keystore itself.\r\n\r\n","title":"keytool reports a pkcs12 keystore as &#39;jks&#39;","body":"<pre><code>   -storetype &lt;the value of the âkeystore.typeâ property in the\n    security properties file, which is returned by the static\n    getDefaultType method in java.security.KeyStore&gt;\n</code></pre>\n<p>If you check your java.security file, you will likely see that the default value for the keystore.type is jks.  The 'keystore type' is being picked up by the value assigned in the java.security file, and not from the keystore itself.</p>\n"}],"owner":{"account_id":3024523,"reputation":568,"user_id":2564826,"accept_rate":47,"display_name":"pointyhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5280,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1690957528,"creation_date":1508285864,"question_id":46801023,"body_markdown":"keytool is reporting `Keystore type` as `JKS`. Expected it to be `PKCS12`.\r\n\r\n\t$ $(dirname $(readlink -f $(which keytool)))/java -version\r\n\tjava version &quot;1.8.0_144&quot;\r\n\tJava(TM) SE Runtime Environment (build 1.8.0_144-b01)\r\n\tJava HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\r\n\t$ keytool -genkey -storetype PKCS12 -keystore foo.p12 -dname &quot;CN=foo&quot; -storepass password -keypass password\r\n\t$ keytool -list -keystore foo.p12 -storepass password\r\n\r\n\tKeystore type: JKS\r\n\tKeystore provider: SUN\r\n\r\n\tYour keystore contains 1 entry\r\n\r\n\tmykey, 18/10/2017, PrivateKeyEntry,\r\n\tCertificate fingerprint (SHA1): FD:2A:C7:EE:B4:D8:41:91:71:25:C2:3F:8D:89:11:6F:F8:D6:F3:73\r\n\r\nIs this the correct way to create a pkcs12 keystore?","title":"keytool reports a pkcs12 keystore as &#39;jks&#39;","body":"<p>keytool is reporting <code>Keystore type</code> as <code>JKS</code>. Expected it to be <code>PKCS12</code>.</p>\n\n<pre><code>$ $(dirname $(readlink -f $(which keytool)))/java -version\njava version \"1.8.0_144\"\nJava(TM) SE Runtime Environment (build 1.8.0_144-b01)\nJava HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\n$ keytool -genkey -storetype PKCS12 -keystore foo.p12 -dname \"CN=foo\" -storepass password -keypass password\n$ keytool -list -keystore foo.p12 -storepass password\n\nKeystore type: JKS\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nmykey, 18/10/2017, PrivateKeyEntry,\nCertificate fingerprint (SHA1): FD:2A:C7:EE:B4:D8:41:91:71:25:C2:3F:8D:89:11:6F:F8:D6:F3:73\n</code></pre>\n\n<p>Is this the correct way to create a pkcs12 keystore?</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690956679,"post_id":76816964,"comment_id":135423180,"body_markdown":"Are you trying to do something like `return flowable.flatMap( x -&gt; Flowable.fromCompletionStage(this.batchUpdate(x))).lastStage(null)`? You don&#39;t need the array list.","body":"Are you trying to do something like <code>return flowable.flatMap( x -&gt; Flowable.fromCompletionStage(this.batchUpdate(x))).lastStage&zwnj;&#8203;(null)</code>? You don&#39;t need the array list."}],"owner":{"account_id":1532442,"reputation":1266,"user_id":1429322,"accept_rate":38,"display_name":"user1429322"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690955996,"creation_date":1690955642,"question_id":76816964,"body_markdown":"How to apply a function to each element in a flowable? I am trying to apply a function to each item in a flowable publisher and collect the result but the function never gets called. \r\n\r\n```\r\nCompletionStage&lt;Void&gt; batchUpdate(Page&lt;AClass&gt; page); //Given\r\n\r\nCompletion&lt;Void&gt; updateItems(){\r\n    final var futures = new ArrayList&lt;CompletionStage&lt;Void&gt;&gt;();\r\n    final Flowable&lt;Page&lt;AClass&gt;&gt; flowable = getFlowablePublisher();\r\n    flowable.map(this::batchUpdate).map(futures::add); //batchUpdate never gets called\r\n    return CompletableFuture.allOf(futures.toArray(CompletableFuture[]::new));\r\n}\r\n```","title":"How to apply a function to each element of a rx-java Flowable?","body":"<p>How to apply a function to each element in a flowable? I am trying to apply a function to each item in a flowable publisher and collect the result but the function never gets called.</p>\n<pre><code>CompletionStage&lt;Void&gt; batchUpdate(Page&lt;AClass&gt; page); //Given\n\nCompletion&lt;Void&gt; updateItems(){\n    final var futures = new ArrayList&lt;CompletionStage&lt;Void&gt;&gt;();\n    final Flowable&lt;Page&lt;AClass&gt;&gt; flowable = getFlowablePublisher();\n    flowable.map(this::batchUpdate).map(futures::add); //batchUpdate never gets called\n    return CompletableFuture.allOf(futures.toArray(CompletableFuture[]::new));\n}\n</code></pre>\n"},{"tags":["java","javafx","maven-plugin"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690942755,"post_id":76816204,"comment_id":135421986,"body_markdown":"[How to set custom icon for javafx native package icon on Windows](https://stackoverflow.com/questions/15880102/how-to-set-custom-icon-for-javafx-native-package-icon-on-windows); [How to packaging javaFX with ICON](https://forums.oracle.com/ords/apexds/post/how-to-packaging-javafx-with-icon-2255); [Self-Contained Application Packaging](https://docs.oracle.com/javafx/2/deployment/self-contained-packaging.htm) (which is a bit of read if I&#39;m honest)","body":"<a href=\"https://stackoverflow.com/questions/15880102/how-to-set-custom-icon-for-javafx-native-package-icon-on-windows\">How to set custom icon for javafx native package icon on Windows</a>; <a href=\"https://forums.oracle.com/ords/apexds/post/how-to-packaging-javafx-with-icon-2255\" rel=\"nofollow noreferrer\">How to packaging javaFX with ICON</a>; <a href=\"https://docs.oracle.com/javafx/2/deployment/self-contained-packaging.htm\" rel=\"nofollow noreferrer\">Self-Contained Application Packaging</a> (which is a bit of read if I&#39;m honest)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690955049,"post_id":76816204,"comment_id":135423001,"body_markdown":"Up-to-date documentation for modern technology which replaces some of the technologies referred to in the links is provided in the [Oracle `jpackage` user&#39;s guide](https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A), which is also (unfortunately) a bit of a read.","body":"Up-to-date documentation for modern technology which replaces some of the technologies referred to in the links is provided in the <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">Oracle <code>jpackage</code> user&#39;s guide</a>, which is also (unfortunately) a bit of a read."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690955903,"post_id":76816204,"comment_id":135423100,"body_markdown":"Looking into it some more, your pom.xml appears to reference the [zenjava maven plugin](https://github.com/javafx-maven-plugin/javafx-maven-plugin).  That won&#39;t work for a modern JavaFX distribution 11+ and I don&#39;t think that it is maintained anymore.    The modern equivalent is the [openjfx javafx-maven-plugin](https://github.com/openjfx/javafx-maven-plugin), same name, different group.  It is however a different thing, and it will not do what you want - it will not build a native installer package for your application.","body":"Looking into it some more, your pom.xml appears to reference the <a href=\"https://github.com/javafx-maven-plugin/javafx-maven-plugin\" rel=\"nofollow noreferrer\">zenjava maven plugin</a>.  That won&#39;t work for a modern JavaFX distribution 11+ and I don&#39;t think that it is maintained anymore.    The modern equivalent is the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\">openjfx javafx-maven-plugin</a>, same name, different group.  It is however a different thing, and it will not do what you want - it will not build a native installer package for your application."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690956167,"post_id":76816204,"comment_id":135423127,"body_markdown":"The [ackman JavaFX Maven plugin](https://akman.github.io/jpackage-maven-plugin/) is capable of creating a native installable package, with a `.exe` installer and, yes, with an icon :-). However, its use is by no means straightforward, examples are few and documentation is sparse.  I did this recently, so I could write a guide as an answer, but that is a lot of work, so I won&#39;t do that unless it is actually something you know that you need.  Alternatively, you can also look into [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX), which can help package native JavaFX apps.","body":"The <a href=\"https://akman.github.io/jpackage-maven-plugin/\" rel=\"nofollow noreferrer\">ackman JavaFX Maven plugin</a> is capable of creating a native installable package, with a <code>.exe</code> installer and, yes, with an icon :-). However, its use is by no means straightforward, examples are few and documentation is sparse.  I did this recently, so I could write a guide as an answer, but that is a lot of work, so I won&#39;t do that unless it is actually something you know that you need.  Alternatively, you can also look into <a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a>, which can help package native JavaFX apps."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690956597,"post_id":76816204,"comment_id":135423170,"body_markdown":"However, if you wish to stick with Java 8, innosetup and the zenjava plugin for your application, then perhaps the links provided by MadProgrammer may work for you.  You are unlikely to receive a lot of additional support for such a technology stack though.","body":"However, if you wish to stick with Java 8, innosetup and the zenjava plugin for your application, then perhaps the links provided by MadProgrammer may work for you.  You are unlikely to receive a lot of additional support for such a technology stack though."}],"owner":{"account_id":29140669,"reputation":11,"user_id":22323723,"display_name":"Conrado Einstein"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690955221,"creation_date":1690942139,"question_id":76816204,"body_markdown":"I gonna cry,i don&#39;t know how to make this i have been in this for the last 8 hours of my life and i&#39;m not capable to make this in solo.\r\n\r\ni made the code part-per-part\r\nhere is my pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.br.eletra&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Integration_Project&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.zenjava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;8.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;main.Main&lt;/mainClass&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;vendor&gt;Einstein&lt;/vendor&gt;\r\n                    &lt;bundleArguments&gt;\r\n                        &lt;identifier&gt;UPDATE-DETECTION&lt;/identifier&gt;\r\n                        &lt;installdirChooser&gt;true&lt;/installdirChooser&gt;\r\n                    &lt;/bundleArguments&gt;\r\n                    &lt;additionalAppResources&gt;${project.basedir}/src/main/resources&lt;/additionalAppResources&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;create-jar&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;create-native&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-native&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.br.eletra&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Integration_Project_Backend&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230227&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\ni cannot solve this question,why is this not working? i dont know please someone help me\r\n\r\nand here is my .iss file:\r\n\r\n```\r\n[Setup]\r\nAppId={{UPDATE-DETECTION}}\r\nAppName=Integration_Project-1.0-SNAPSHOT\r\nAppVersion=1.0\r\nAppVerName=IntegrationProject-1.0-SNAPSHOT 1.0\r\nAppPublisher=Einstein\r\nAppComments=IntegrationProject-1.0\r\nAppCopyright=Copyright (C) 2023\r\n;AppPublisherURL=http://java.com/\r\n;AppSupportURL=http://java.com/\r\n;AppUpdatesURL=http://java.com/\r\nDefaultDirName={localappdata}\\Integration_Project-1.0-SNAPSHOT\r\nDisableStartupPrompt=Yes\r\nDisableDirPage=Yes\r\nDisableProgramGroupPage=Yes\r\nDisableReadyPage=Yes\r\nDisableFinishedPage=Yes\r\nDisableWelcomePage=Yes\r\nDefaultGroupName=Einstein\r\n;Optional License\r\nLicenseFile=\r\n;WinXP or above\r\nMinVersion=6\r\nOutputBaseFilename=IntegrationProject\r\nCompression=lzma\r\nSolidCompression=yes\r\nPrivilegesRequired=lowest\r\nSetupIconFile=Integration_Project-1.0-SNAPSHOT\\Integration_Project-1.0-SNAPSHOT.ico\r\nUninstallDisplayIcon={app}\\IntegrationProject-1.0.ico\r\nUninstallDisplayName=Integration_Project-1.0-SNAPSHOT\r\nWizardImageStretch=No\r\nWizardSmallImageFile=Integration_Project-1.0-SNAPSHOT-setup-icon.bmp\r\nArchitecturesInstallIn64BitMode=\r\n\r\n\r\n\r\n[Languages]\r\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\r\nName: &quot;brazilianportuguese&quot;; MessagesFile: &quot;compiler:Languages\\BrazilianPortuguese.isl&quot;\r\n\r\n[Files]\r\nSource: &quot;Integration_Project-1.0-SNAPSHOT\\Integration_Project-1.0-SNAPSHOT.exe&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\r\nSource: &quot;Integration_Project-1.0-SNAPSHOT\\*&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion recursesubdirs createallsubdirs\r\n\r\n[Icons]\r\nName: &quot;{group}\\Integration_Project-1.0-SNAPSHOT&quot;;Filename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; WorkingDir: &quot;{app}&quot;; IconFilename: &quot;Integration_Project-1.0-SNAPSHOT-setup-icon.bmp&quot;\r\nName: &quot;{commondesktop}\\Integration_Project-1.0-SNAPSHOT&quot;;Filename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; WorkingDir: &quot;{app}&quot;; IconFilename:&quot;Integration_Project-1.0-SNAPSHOT-setup-icon.bmp&quot;\r\n\r\n[Run]\r\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; Description:&quot;{cm:LaunchProgram,Integration_Project-1.0-SNAPSHOT}&quot;; Flags: nowait postinstall skipifsilent;\r\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; Parameters:&quot;-install  -svcName &quot;&quot;Integration_Project-1.0-SNAPSHOT&quot;&quot; -svcDesc &quot;&quot;Integration_Project-1.0-SNAPSHOT&quot;&quot; -mainExe &quot;&quot;Integration_Project-1.0-SNAPSHOT.exe&quot;&quot; &quot;;\r\n\r\n[UninstallRun]\r\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe &quot;; Parameters: &quot;-uninstall -svcName IntegrationProject-1.0 -stopOnUninstall&quot;;\r\n```\r\ncan someone tell me why my .exe is with an random icon ?\r\n\r\nAtualization: the windows dont find the .ico ","title":"How to set custom icon for javafx native package icon in .exe file(i will answer all questions)","body":"<p>I gonna cry,i don't know how to make this i have been in this for the last 8 hours of my life and i'm not capable to make this in solo.</p>\n<p>i made the code part-per-part\nhere is my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.br.eletra&lt;/groupId&gt;\n    &lt;artifactId&gt;Integration_Project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.zenjava&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;8.6.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;main.Main&lt;/mainClass&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;vendor&gt;Einstein&lt;/vendor&gt;\n                    &lt;bundleArguments&gt;\n                        &lt;identifier&gt;UPDATE-DETECTION&lt;/identifier&gt;\n                        &lt;installdirChooser&gt;true&lt;/installdirChooser&gt;\n                    &lt;/bundleArguments&gt;\n                    &lt;additionalAppResources&gt;${project.basedir}/src/main/resources&lt;/additionalAppResources&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;create-jar&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;create-native&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-native&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.br.eletra&lt;/groupId&gt;\n            &lt;artifactId&gt;Integration_Project_Backend&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20230227&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>i cannot solve this question,why is this not working? i dont know please someone help me</p>\n<p>and here is my .iss file:</p>\n<pre><code>[Setup]\nAppId={{UPDATE-DETECTION}}\nAppName=Integration_Project-1.0-SNAPSHOT\nAppVersion=1.0\nAppVerName=IntegrationProject-1.0-SNAPSHOT 1.0\nAppPublisher=Einstein\nAppComments=IntegrationProject-1.0\nAppCopyright=Copyright (C) 2023\n;AppPublisherURL=http://java.com/\n;AppSupportURL=http://java.com/\n;AppUpdatesURL=http://java.com/\nDefaultDirName={localappdata}\\Integration_Project-1.0-SNAPSHOT\nDisableStartupPrompt=Yes\nDisableDirPage=Yes\nDisableProgramGroupPage=Yes\nDisableReadyPage=Yes\nDisableFinishedPage=Yes\nDisableWelcomePage=Yes\nDefaultGroupName=Einstein\n;Optional License\nLicenseFile=\n;WinXP or above\nMinVersion=6\nOutputBaseFilename=IntegrationProject\nCompression=lzma\nSolidCompression=yes\nPrivilegesRequired=lowest\nSetupIconFile=Integration_Project-1.0-SNAPSHOT\\Integration_Project-1.0-SNAPSHOT.ico\nUninstallDisplayIcon={app}\\IntegrationProject-1.0.ico\nUninstallDisplayName=Integration_Project-1.0-SNAPSHOT\nWizardImageStretch=No\nWizardSmallImageFile=Integration_Project-1.0-SNAPSHOT-setup-icon.bmp\nArchitecturesInstallIn64BitMode=\n\n\n\n[Languages]\nName: &quot;english&quot;; MessagesFile: &quot;compiler:Default.isl&quot;\nName: &quot;brazilianportuguese&quot;; MessagesFile: &quot;compiler:Languages\\BrazilianPortuguese.isl&quot;\n\n[Files]\nSource: &quot;Integration_Project-1.0-SNAPSHOT\\Integration_Project-1.0-SNAPSHOT.exe&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion\nSource: &quot;Integration_Project-1.0-SNAPSHOT\\*&quot;; DestDir: &quot;{app}&quot;; Flags: ignoreversion recursesubdirs createallsubdirs\n\n[Icons]\nName: &quot;{group}\\Integration_Project-1.0-SNAPSHOT&quot;;Filename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; WorkingDir: &quot;{app}&quot;; IconFilename: &quot;Integration_Project-1.0-SNAPSHOT-setup-icon.bmp&quot;\nName: &quot;{commondesktop}\\Integration_Project-1.0-SNAPSHOT&quot;;Filename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; WorkingDir: &quot;{app}&quot;; IconFilename:&quot;Integration_Project-1.0-SNAPSHOT-setup-icon.bmp&quot;\n\n[Run]\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; Description:&quot;{cm:LaunchProgram,Integration_Project-1.0-SNAPSHOT}&quot;; Flags: nowait postinstall skipifsilent;\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe&quot;; Parameters:&quot;-install  -svcName &quot;&quot;Integration_Project-1.0-SNAPSHOT&quot;&quot; -svcDesc &quot;&quot;Integration_Project-1.0-SNAPSHOT&quot;&quot; -mainExe &quot;&quot;Integration_Project-1.0-SNAPSHOT.exe&quot;&quot; &quot;;\n\n[UninstallRun]\nFilename: &quot;{app}\\Integration_Project-1.0-SNAPSHOT.exe &quot;; Parameters: &quot;-uninstall -svcName IntegrationProject-1.0 -stopOnUninstall&quot;;\n</code></pre>\n<p>can someone tell me why my .exe is with an random icon ?</p>\n<p>Atualization: the windows dont find the .ico</p>\n"},{"tags":["java","sql","hibernate","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":23167941,"reputation":1,"user_id":17267587,"display_name":"Arun_Raja"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635768998,"creation_date":1635768998,"answer_id":69796805,"question_id":69795987,"body_markdown":"I found out that we can get distinct result using following two different ways\r\n\r\n    Projections.distinct(Projections.property(&quot;id&quot;));\r\n\r\nHere this is the Projections giving the same results as\r\n\r\n    criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n\r\n","title":"How does Criteria.DISTINCT_ROOT_ENTITY actually work?","body":"<p>I found out that we can get distinct result using following two different ways</p>\n<pre><code>Projections.distinct(Projections.property(&quot;id&quot;));\n</code></pre>\n<p>Here this is the Projections giving the same results as</p>\n<pre><code>criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4165402,"reputation":684,"user_id":3414467,"accept_rate":71,"display_name":"Eskir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690954854,"creation_date":1635857547,"answer_id":69810800,"question_id":69795987,"body_markdown":"After some searching, experimenting, and generally being confused - it seems as if DISTINCT_ROOT_ENTITY does not make any actual decision making in how it determines the values from Table B. It just takes the first value of the result set from the JOIN &quot;randomly&quot;.\r\n\r\nSo the code I&#39;m trying to base my SQL off of is actually wrong and dangerous for the application it&#39;s in. Good to know. *Cough*","title":"How does Criteria.DISTINCT_ROOT_ENTITY actually work?","body":"<p>After some searching, experimenting, and generally being confused - it seems as if DISTINCT_ROOT_ENTITY does not make any actual decision making in how it determines the values from Table B. It just takes the first value of the result set from the JOIN &quot;randomly&quot;.</p>\n<p>So the code I'm trying to base my SQL off of is actually wrong and dangerous for the application it's in. Good to know. <em>Cough</em></p>\n"}],"owner":{"account_id":4165402,"reputation":684,"user_id":3414467,"accept_rate":71,"display_name":"Eskir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69810800,"answer_count":2,"score":1,"last_activity_date":1690954854,"creation_date":1635764556,"question_id":69795987,"body_markdown":"I am currently trying to build an SQL (plain SQL, directly executed on the database - I&#39;m not using hibernate for this in particular) to get data from my database. It&#39;s an export based on a Java-implemented (hibernate) criteria query to which I want to add additional information from additional tables.\r\n\r\nIn Java Criteria queries, I have a statement as follows:\r\n\r\n    Criteria criteria = session.createCriteria(MyEntity.class);\r\n\t\t\t\t\tcriteria.createCriteria(&quot;fk&quot;).add(Restrictions.in(&quot;sysid&quot;, &lt;&lt;someListofIDsfromPreviousQuery&gt;&gt;))\r\n\t\t\t\t\tcriteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n\t\t\t\t\treturn criteria.list();\r\n\r\nWhich results in a 1-1 result set from a list of IDs from Table A (&quot;someListofIDsFromPreviousQuery&quot;) to which there are multiple results in Table B (&quot;MyEntity.class&quot;).\r\n\r\n[I know what DISTINCT_ROOT_ENTITY does][1] but I&#39;m wondering how it *actually works*, meaning, what would an equivalent SQL look like?\r\n\r\nExample according to the criteria query above:\r\n\r\n    SELECT COUNT(*) FROM TABLEA a \r\n    WHERE a.property1=someValue AND a.property2=someOtherValue;\r\n\r\nReturns 2000 results. (This is my list of IDs)\r\n\r\n    SELECT COUNT(*) FROM TABLEA a\r\n    JOIN TABLEB b ON b.fk = a.sysid -- &lt;-- this is basically equivalent to what the criteria query above does, no?\r\n    WHERE a.property1=someValue AND a.property2=someOtherValue;\r\n\r\nReturns 2500 results.\r\n\r\nHow does Critera.DISTINCT_ROOT_ENTITY actually chose which entry of TABLEB to pick as its &quot;distinct entity&quot;? Or am I getting something wrong here?\r\n\r\nIf it makes a difference: I&#39;m trying to write my query in OracleDB SQL Dialect.\r\n\r\n  [1]: https://stackoverflow.com/a/25541384/3414467","title":"How does Criteria.DISTINCT_ROOT_ENTITY actually work?","body":"<p>I am currently trying to build an SQL (plain SQL, directly executed on the database - I'm not using hibernate for this in particular) to get data from my database. It's an export based on a Java-implemented (hibernate) criteria query to which I want to add additional information from additional tables.</p>\n<p>In Java Criteria queries, I have a statement as follows:</p>\n<pre><code>Criteria criteria = session.createCriteria(MyEntity.class);\n                criteria.createCriteria(&quot;fk&quot;).add(Restrictions.in(&quot;sysid&quot;, &lt;&lt;someListofIDsfromPreviousQuery&gt;&gt;))\n                criteria.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n                return criteria.list();\n</code></pre>\n<p>Which results in a 1-1 result set from a list of IDs from Table A (&quot;someListofIDsFromPreviousQuery&quot;) to which there are multiple results in Table B (&quot;MyEntity.class&quot;).</p>\n<p><a href=\"https://stackoverflow.com/a/25541384/3414467\">I know what DISTINCT_ROOT_ENTITY does</a> but I'm wondering how it <em>actually works</em>, meaning, what would an equivalent SQL look like?</p>\n<p>Example according to the criteria query above:</p>\n<pre><code>SELECT COUNT(*) FROM TABLEA a \nWHERE a.property1=someValue AND a.property2=someOtherValue;\n</code></pre>\n<p>Returns 2000 results. (This is my list of IDs)</p>\n<pre><code>SELECT COUNT(*) FROM TABLEA a\nJOIN TABLEB b ON b.fk = a.sysid -- &lt;-- this is basically equivalent to what the criteria query above does, no?\nWHERE a.property1=someValue AND a.property2=someOtherValue;\n</code></pre>\n<p>Returns 2500 results.</p>\n<p>How does Critera.DISTINCT_ROOT_ENTITY actually chose which entry of TABLEB to pick as its &quot;distinct entity&quot;? Or am I getting something wrong here?</p>\n<p>If it makes a difference: I'm trying to write my query in OracleDB SQL Dialect.</p>\n"},{"tags":["java","spring","mongodb","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690928135,"post_id":76815177,"comment_id":135420656,"body_markdown":"All the clients of this bean have references to the same instance, so why don&#39;t you just modify the state of the bean?","body":"All the clients of this bean have references to the same instance, so why don&#39;t you just modify the state of the bean?"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690953300,"post_id":76815177,"comment_id":135422814,"body_markdown":"How can I do that?","body":"How can I do that?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690953388,"post_id":76815177,"comment_id":135422824,"body_markdown":"Call a setter on the bean. e.g `myAutowiredConfigDataInstance.setScheduledConfig(newScheduledConfig)`","body":"Call a setter on the bean. e.g <code>myAutowiredConfigDataInstance.setScheduledConfig(newSchedule&zwnj;&#8203;dConfig)</code>"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690953782,"post_id":76815177,"comment_id":135422867,"body_markdown":"But it will work only in Java class, where I will change it, so I want to adjust in all classes, where it&#39;s ```@Autowired```, understand?","body":"But it will work only in Java class, where I will change it, so I want to adjust in all classes, where it&#39;s <code>@Autowired</code>, understand?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690954014,"post_id":76815177,"comment_id":135422885,"body_markdown":"All of those auto wired references point to the same bean. Spring beans are (by default) singletons. So when you change a field, all the other clients of that bean will see it.","body":"All of those auto wired references point to the same bean. Spring beans are (by default) singletons. So when you change a field, all the other clients of that bean will see it."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690954145,"post_id":76815177,"comment_id":135422900,"body_markdown":"Okay, where can I change the bean&#39;s state, which class? In the same ```MongoConfig```? Or do I need to make another class?","body":"Okay, where can I change the bean&#39;s state, which class? In the same <code>MongoConfig</code>? Or do I need to make another class?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690954245,"post_id":76815177,"comment_id":135422910,"body_markdown":"You say you want some code which runs every 5 minutes and loads state from the DB? Make a bean with an @Scheduled method and do it there.","body":"You say you want some code which runs every 5 minutes and loads state from the DB? Make a bean with an @Scheduled method and do it there."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690954509,"post_id":76815177,"comment_id":135422946,"body_markdown":"Please edit your question with clarifications, code is comments is unreadable.","body":"Please edit your question with clarifications, code is comments is unreadable."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690954569,"post_id":76815177,"comment_id":135422954,"body_markdown":"I&#39;ve posted in answers","body":"I&#39;ve posted in answers"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690954747,"post_id":76815177,"comment_id":135422976,"body_markdown":"Time to do some debugging. Is that method getting called? Is it getting different values from the DB? How can you tell that your configData bean isn&#39;t being updated?","body":"Time to do some debugging. Is that method getting called? Is it getting different values from the DB? How can you tell that your configData bean isn&#39;t being updated?"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690954841,"post_id":76815177,"comment_id":135422983,"body_markdown":"I have another scheduler, which calls ConfigData and It&#39;s not modify, It&#39;s only calls ```CofnigData``` by ```@Autowired```","body":"I have another scheduler, which calls ConfigData and It&#39;s not modify, It&#39;s only calls <code>CofnigData</code> by <code>@Autowired</code>"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690954983,"post_id":76815177,"comment_id":135422995,"body_markdown":"When I call ```mongoConfig.configData()```, it doesn&#39;t get the last DB updates...","body":"When I call <code>mongoConfig.configData()</code>, it doesn&#39;t get the last DB updates..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690955038,"post_id":76815177,"comment_id":135423000,"body_markdown":"Use the configDataService directly.","body":"Use the configDataService directly."},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1690955154,"post_id":76815177,"comment_id":135423011,"body_markdown":"Ah now it works, when I use directly ```ConfigDataService```, thank you!","body":"Ah now it works, when I use directly <code>ConfigDataService</code>, thank you!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690955305,"post_id":76815177,"comment_id":135423024,"body_markdown":"I think `MongoConfig.configdata()`, because it is in a @Config class with a @Bean annotation is a proxy which always returns the same instance.","body":"I think <code>MongoConfig.configdata()</code>, because it is in a @Config class with a @Bean annotation is a proxy which always returns the same instance."}],"answers":[{"tags":[],"owner":{"account_id":11162384,"reputation":72,"user_id":8192032,"display_name":"LeoFuso"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690949924,"creation_date":1690949924,"answer_id":76816601,"question_id":76815177,"body_markdown":"If you don&#39;t want to change the content of the ConfigData&#39;s Bean, as suggested, you could make use of a Prototype Bean, here&#39;s an [article][1] giving some context.\r\n\r\nHowever, if changing the content of the  ConfigData&#39;s Bean isn&#39;t a problem, I think you&#39;ll still need to implement some kind of [Observer][2] to notify the ConfigData&#39;s dependents, unless, of course, the values are only relevant in some kind of method invocation.\r\n\r\n  [1]: https://www.baeldung.com/spring-inject-prototype-bean-into-singleton\r\n  [2]: https://refactoring.guru/design-patterns/observer","title":"How to reinitialize a Spring Bean which is @Document?","body":"<p>If you don't want to change the content of the ConfigData's Bean, as suggested, you could make use of a Prototype Bean, here's an <a href=\"https://www.baeldung.com/spring-inject-prototype-bean-into-singleton\" rel=\"nofollow noreferrer\">article</a> giving some context.</p>\n<p>However, if changing the content of the  ConfigData's Bean isn't a problem, I think you'll still need to implement some kind of <a href=\"https://refactoring.guru/design-patterns/observer\" rel=\"nofollow noreferrer\">Observer</a> to notify the ConfigData's dependents, unless, of course, the values are only relevant in some kind of method invocation.</p>\n"}],"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690954763,"creation_date":1690924009,"question_id":76815177,"body_markdown":"I have a Spring Bean, which is annotated by ```@Document```, So I create ```@Bean``` for this class, to make able to get this class by ```@Autowired```. But now I want to change the content of this Bean, so after 5 seconds it will automatically change the content of this bean (For example if something changes in Collection, ```@Autowired``` class will get these changes automatically). How can I do that? &lt;br&gt;\r\nClass, which I have as a ```@Bean```: &lt;br&gt;\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\n@Document(collection = CollectionNames.CONFIG_DATA)\r\npublic class ConfigData {\r\n    @Id\r\n    private String id;\r\n    private Profiles profiles;\r\n    private EmailConfig emailConfig;\r\n    private ScheduledConfig scheduledConfig;\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public static class EmailConfig {\r\n        private String email;\r\n        private String password;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public static class ScheduledConfig {\r\n        private Long time;\r\n        private TimeUnit timeUnit;\r\n\r\n        public long convertToMilliseconds(long value, TimeUnit unit) {\r\n            return switch (unit) {\r\n                case HOURS -&gt; java.util.concurrent.TimeUnit.HOURS.toMillis(value);\r\n                case MINUTES -&gt; java.util.concurrent.TimeUnit.MINUTES.toMillis(value);\r\n                case SECONDS -&gt; java.util.concurrent.TimeUnit.SECONDS.toMillis(value);\r\n            };\r\n        }\r\n\r\n        public enum TimeUnit {\r\n            HOURS, MINUTES, SECONDS\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere I create ```@Bean``` to this class: &lt;br&gt;\r\n\r\n```java\r\n@Configuration\r\npublic class MongoConfig {\r\n    @Autowired\r\n    private ConfigDataService configDataService;\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Bean\r\n    public ConfigData configData() {\r\n        return configDataService.getConfigDataByProfile(Profiles.valueOf(environment.getActiveProfiles()[0].toUpperCase(Locale.ROOT)));\r\n    }\r\n}\r\n```\r\nI try many ways, I try by deleting Bean with ```DefaultSingletonBeanRegistry``` by using the method ```destroySingleton``` and then ```registerSingleton``` but it causes Error messages. &lt;br&gt;\r\n\r\nI also add scheduler to update ConfigData, but it&#39;s not working: &lt;br&gt;\r\n```java\r\n@Service\r\npublic class TestOne {\r\n    @Autowired\r\n    private MongoConfig mongoConfig;\r\n    @Autowired\r\n    private ConfigData configData;\r\n\r\n    @Scheduled(fixedRate = 1000)\r\n    public void test() {\r\n        ConfigData configData1 = mongoConfig.configData();\r\n        configData.setScheduledConfig(configData1.getScheduledConfig());\r\n    }\r\n}\r\n```","title":"How to reinitialize a Spring Bean which is @Document?","body":"<p>I have a Spring Bean, which is annotated by <code>@Document</code>, So I create <code>@Bean</code> for this class, to make able to get this class by <code>@Autowired</code>. But now I want to change the content of this Bean, so after 5 seconds it will automatically change the content of this bean (For example if something changes in Collection, <code>@Autowired</code> class will get these changes automatically). How can I do that? <br>\nClass, which I have as a <code>@Bean</code>: <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Document(collection = CollectionNames.CONFIG_DATA)\npublic class ConfigData {\n    @Id\n    private String id;\n    private Profiles profiles;\n    private EmailConfig emailConfig;\n    private ScheduledConfig scheduledConfig;\n\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @ToString\n    public static class EmailConfig {\n        private String email;\n        private String password;\n    }\n\n    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @ToString\n    public static class ScheduledConfig {\n        private Long time;\n        private TimeUnit timeUnit;\n\n        public long convertToMilliseconds(long value, TimeUnit unit) {\n            return switch (unit) {\n                case HOURS -&gt; java.util.concurrent.TimeUnit.HOURS.toMillis(value);\n                case MINUTES -&gt; java.util.concurrent.TimeUnit.MINUTES.toMillis(value);\n                case SECONDS -&gt; java.util.concurrent.TimeUnit.SECONDS.toMillis(value);\n            };\n        }\n\n        public enum TimeUnit {\n            HOURS, MINUTES, SECONDS\n        }\n    }\n}\n</code></pre>\n<p>Where I create <code>@Bean</code> to this class: <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MongoConfig {\n    @Autowired\n    private ConfigDataService configDataService;\n    @Autowired\n    private Environment environment;\n\n    @Bean\n    public ConfigData configData() {\n        return configDataService.getConfigDataByProfile(Profiles.valueOf(environment.getActiveProfiles()[0].toUpperCase(Locale.ROOT)));\n    }\n}\n</code></pre>\n<p>I try many ways, I try by deleting Bean with <code>DefaultSingletonBeanRegistry</code> by using the method <code>destroySingleton</code> and then <code>registerSingleton</code> but it causes Error messages. <br></p>\n<p>I also add scheduler to update ConfigData, but it's not working: <br></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class TestOne {\n    @Autowired\n    private MongoConfig mongoConfig;\n    @Autowired\n    private ConfigData configData;\n\n    @Scheduled(fixedRate = 1000)\n    public void test() {\n        ConfigData configData1 = mongoConfig.configData();\n        configData.setScheduledConfig(configData1.getScheduledConfig());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","illegalargumentexception","android-fileprovider","android-11"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1620037395,"post_id":67367047,"comment_id":119074141,"body_markdown":"I&#39;m no expert here but `values.put(MediaStore.DownloadColumns.RELATIVE_PATH, folderPath);` looks like you might have to put a path _relative_ to the downloads directory, i.e. `&quot;appFolderName&quot;` in your case. Just a guess though.","body":"I&#39;m no expert here but <code>values.put(MediaStore.DownloadColumns.RELATIVE_PATH, folderPath);</code> looks like you might have to put a path <i>relative</i> to the downloads directory, i.e. <code>&quot;appFolderName&quot;</code> in your case. Just a guess though."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1620038094,"post_id":67367047,"comment_id":119074415,"body_markdown":"I can&#39;t tell about the new error but on the previous one I&#39;d have a question: what do `Environment.DIRECTORY_DOCUMENTS` and `mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS)` return? I&#39;d assume the former acutally already describes the &quot;Documents&quot; directory you&#39;re working with while the latter might return null or an empty string thus resulting in a path like `&quot;/appFolderName&quot;`.","body":"I can&#39;t tell about the new error but on the previous one I&#39;d have a question: what do <code>Environment.DIRECTORY_DOCUMENTS</code> and <code>mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS&zwnj;&#8203;)</code> return? I&#39;d assume the former acutally already describes the &quot;Documents&quot; directory you&#39;re working with while the latter might return null or an empty string thus resulting in a path like <code>&quot;&#47;appFolderName&quot;</code>."},{"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut UludaÄ"},"score":0,"creation_date":1620251007,"post_id":67367047,"comment_id":119149090,"body_markdown":"I found a solution. Apperantly there is no permission to write in documents in Android 11. But apperantly downloads folder are permissed to write folder/file.","body":"I found a solution. Apperantly there is no permission to write in documents in Android 11. But apperantly downloads folder are permissed to write folder/file."}],"answers":[{"tags":[],"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut UludaÄ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636281304,"creation_date":1620249822,"answer_id":67408905,"question_id":67367047,"body_markdown":"I finally found a solution. I can&#39;t say it&#39;s a best solution but it works perfectly.\r\n\r\n    folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\r\n\r\nto\r\n\r\n    folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS) + File.separator + &quot;appFolderName&quot;;\r\n\r\n\r\nI suppose in Android 11, they **allowed to create folder/file in DOWNLOADS** folder but **not DOCUMENTS**. Best regards.\r\n\r\n**Note for Huawei Developers**: You just keep the current file writing strategy. No need to Android 11 special code for now. I tried the new file writing method and it crashed. Apperantly, they didn&#39;t fully implemented Android 11.","title":"Android 11: Primary directory (invalid) not allowed for content://media/external/file allowed directories are [Download, Documents]","body":"<p>I finally found a solution. I can't say it's a best solution but it works perfectly.</p>\n<pre><code>folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\n</code></pre>\n<p>to</p>\n<pre><code>folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS) + File.separator + &quot;appFolderName&quot;;\n</code></pre>\n<p>I suppose in Android 11, they <strong>allowed to create folder/file in DOWNLOADS</strong> folder but <strong>not DOCUMENTS</strong>. Best regards.</p>\n<p><strong>Note for Huawei Developers</strong>: You just keep the current file writing strategy. No need to Android 11 special code for now. I tried the new file writing method and it crashed. Apperantly, they didn't fully implemented Android 11.</p>\n"}],"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut UludaÄ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29970,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67408905,"answer_count":1,"score":3,"last_activity_date":1690954313,"creation_date":1620036349,"question_id":67367047,"body_markdown":"I am trying to **create PDF file** from base64 string. Because of *[Storage Update in Android 11][1]*, I have to change my code but I&#39;m getting following error in Android 11 devices:\r\n\r\n    java.lang.IllegalArgumentException: Primary directory (invalid) not allowed for content://media/external/file; allowed directories are [Download, Documents]\r\n       at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:172)\r\n       at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\r\n       at android.content.ContentProviderProxy.insert(ContentProviderNative.java:549)\r\n       at android.content.ContentResolver.insert(ContentResolver.java:2149)\r\n       at android.content.ContentResolver.insert(ContentResolver.java:2111)\r\n\r\nThis code create a PDF file and save it into folder.\r\n\r\n    public static void createPDF(Context mContext, String fileName, String base64) {\r\n        try {\r\n            String folderPath;\r\n            File dwldsPath;\r\n\r\n            if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q) {\r\n                folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\r\n                dwldsPath = new File(folderPath + &quot;/&quot; + fileName);\r\n\r\n                File folder = new File(folderPath);\r\n                folder.mkdirs();\r\n\r\n                ContentValues values = new ContentValues();\r\n                values.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName); // file name\r\n                values.put(MediaStore.MediaColumns.MIME_TYPE, &quot;application/pdf&quot;); // file extension, will automatically add to file\r\n                values.put(MediaStore.DownloadColumns.RELATIVE_PATH, folderPath); // end &quot;/&quot; is not mandatory\r\n                Uri uriFile = mContext.getContentResolver().insert(MediaStore.Files.getContentUri(&quot;external&quot;), values); // important!\r\n                OutputStream outputStream = mContext.getContentResolver().openOutputStream(uriFile);\r\n                outputStream.write(Base64.decode(base64, 0));\r\n                outputStream.close();\r\n            } else {\r\n                folderPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\r\n                dwldsPath = new File(folderPath + &quot;/&quot; + fileName);\r\n\r\n                File folder = new File(folderPath);\r\n                folder.mkdirs();\r\n\r\n                FileOutputStream os = new FileOutputStream(dwldsPath, false);\r\n                os.write(Base64.decode(base64, 0));\r\n                os.flush();\r\n                os.close();\r\n            }\r\n\r\n            openPDF(mContext, dwldsPath);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ActivityNotFoundException e) {\r\n            Toast.makeText(mContext, &quot;No PDF Viewer Installed&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\nThis code is working for opening file\r\n\r\n      public static void openPDF(Context mContext, File dwldsPath) {\r\n            Intent intentUrl = new Intent(Intent.ACTION_VIEW);\r\n            Uri uri = FileProvider.getUriForFile(mContext, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, dwldsPath);\r\n            intentUrl.setDataAndType(uri, &quot;application/pdf&quot;);\r\n            intentUrl.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            intentUrl.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            mContext.startActivity(intentUrl);\r\n        }\r\n\r\nIn addition to this error, **folder.mkdirs() returns false** in Android 11. Here is provider_paths.xml and defined in AndroidManifest.xml\r\n   \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;external-path\r\n            name=&quot;external&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;external-files-path\r\n            name=&quot;external_files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;files-path\r\n            name=&quot;files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\nI google it but I couldn&#39;t find any working solution to fix problem. Thanks in advance.\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/storage","title":"Android 11: Primary directory (invalid) not allowed for content://media/external/file allowed directories are [Download, Documents]","body":"<p>I am trying to <strong>create PDF file</strong> from base64 string. Because of <em><a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">Storage Update in Android 11</a></em>, I have to change my code but I'm getting following error in Android 11 devices:</p>\n<pre><code>java.lang.IllegalArgumentException: Primary directory (invalid) not allowed for content://media/external/file; allowed directories are [Download, Documents]\n   at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:172)\n   at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\n   at android.content.ContentProviderProxy.insert(ContentProviderNative.java:549)\n   at android.content.ContentResolver.insert(ContentResolver.java:2149)\n   at android.content.ContentResolver.insert(ContentResolver.java:2111)\n</code></pre>\n<p>This code create a PDF file and save it into folder.</p>\n<pre><code>public static void createPDF(Context mContext, String fileName, String base64) {\n    try {\n        String folderPath;\n        File dwldsPath;\n\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.Q) {\n            folderPath = mContext.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\n            dwldsPath = new File(folderPath + &quot;/&quot; + fileName);\n\n            File folder = new File(folderPath);\n            folder.mkdirs();\n\n            ContentValues values = new ContentValues();\n            values.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName); // file name\n            values.put(MediaStore.MediaColumns.MIME_TYPE, &quot;application/pdf&quot;); // file extension, will automatically add to file\n            values.put(MediaStore.DownloadColumns.RELATIVE_PATH, folderPath); // end &quot;/&quot; is not mandatory\n            Uri uriFile = mContext.getContentResolver().insert(MediaStore.Files.getContentUri(&quot;external&quot;), values); // important!\n            OutputStream outputStream = mContext.getContentResolver().openOutputStream(uriFile);\n            outputStream.write(Base64.decode(base64, 0));\n            outputStream.close();\n        } else {\n            folderPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + File.separator + &quot;appFolderName&quot;;\n            dwldsPath = new File(folderPath + &quot;/&quot; + fileName);\n\n            File folder = new File(folderPath);\n            folder.mkdirs();\n\n            FileOutputStream os = new FileOutputStream(dwldsPath, false);\n            os.write(Base64.decode(base64, 0));\n            os.flush();\n            os.close();\n        }\n\n        openPDF(mContext, dwldsPath);\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ActivityNotFoundException e) {\n        Toast.makeText(mContext, &quot;No PDF Viewer Installed&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n<p>This code is working for opening file</p>\n<pre><code>  public static void openPDF(Context mContext, File dwldsPath) {\n        Intent intentUrl = new Intent(Intent.ACTION_VIEW);\n        Uri uri = FileProvider.getUriForFile(mContext, BuildConfig.APPLICATION_ID + &quot;.provider&quot;, dwldsPath);\n        intentUrl.setDataAndType(uri, &quot;application/pdf&quot;);\n        intentUrl.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intentUrl.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        mContext.startActivity(intentUrl);\n    }\n</code></pre>\n<p>In addition to this error, <strong>folder.mkdirs() returns false</strong> in Android 11. Here is provider_paths.xml and defined in AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;external-path\n        name=&quot;external&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-files-path\n        name=&quot;external_files&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;files-path\n        name=&quot;files&quot;\n        path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>I google it but I couldn't find any working solution to fix problem. Thanks in advance.</p>\n"},{"tags":["java","class","object","oop","program-entry-point"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690954194,"post_id":76816855,"comment_id":135422905,"body_markdown":"You could ask that question for every class that is not designed to be instantiated - `System`, `Math`, etc. At the end of the day, it comes down to the (arguably questionable) design decisions of the language.","body":"You could ask that question for every class that is not designed to be instantiated - <code>System</code>, <code>Math</code>, etc. At the end of the day, it comes down to the (arguably questionable) design decisions of the language."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1690954422,"post_id":76816855,"comment_id":135422934,"body_markdown":"Seems to have some philosophical overtones","body":"Seems to have some philosophical overtones"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1690954461,"post_id":76816855,"comment_id":135422937,"body_markdown":"*Why Can&#39;t the main function be written separately without being included in a Class* It is possible in a project to have multiple `Main` Methods.  As they are in classes, which Main method you want to call is unambiguous.","body":"<i>Why Can&#39;t the main function be written separately without being included in a Class</i> It is possible in a project to have multiple <code>Main</code> Methods.  As they are in classes, which Main method you want to call is unambiguous."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1690955244,"post_id":76816855,"comment_id":135423020,"body_markdown":"I contest that we keep this question open, or point to duplicate with a more recent answer. Java 21 is going to change the answer to this question ***significantly***, and therefore, we should have the opportunity to answer it with a fresh pair of eyes.","body":"I contest that we keep this question open, or point to duplicate with a more recent answer. Java 21 is going to change the answer to this question <b><i>significantly</i></b>, and therefore, we should have the opportunity to answer it with a fresh pair of eyes."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690955492,"post_id":76816855,"comment_id":135423043,"body_markdown":"Plus, the linked duplicate is full of bad and incomplete answers. None of them do a good job of answering this question. If we are going to flag things as duplicate, we should do a better job than this to point to the correct answer.","body":"Plus, the linked duplicate is full of bad and incomplete answers. None of them do a good job of answering this question. If we are going to flag things as duplicate, we should do a better job than this to point to the correct answer."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690955649,"post_id":76816855,"comment_id":135423066,"body_markdown":"Someone notify when this question becomes unduplicated/reopened. I had a nice, detailed answer I was working on that would have addressed this answer for past, present, and future, as well as by addressing some of the mistaken (but understandable) assumptions that many beginners (like OP) have fallen into.","body":"Someone notify when this question becomes unduplicated/reopened. I had a nice, detailed answer I was working on that would have addressed this answer for past, present, and future, as well as by addressing some of the mistaken (but understandable) assumptions that many beginners (like OP) have fallen into."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1690955653,"post_id":76816855,"comment_id":135423067,"body_markdown":"@davidalayachew - why not add an up-to-date answer in the linked duplicate ?","body":"@davidalayachew - why not add an up-to-date answer in the linked duplicate ?"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690955878,"post_id":76816855,"comment_id":135423098,"body_markdown":"@ScaryWombat Ignoring the fact that the question has a whole bunch of terrible answers that would drown out mine, it&#39;s also because the question is 7+ years old. The OP for that post has not logged on in over a year, so my answer would be sitting there, unaccepted. If I am going to answer this question, I want to answer it thoroughly, in such a way that the clearly correct answer can sit at the top and be scrutinized while all of the experts are still going through the new questions.","body":"@ScaryWombat Ignoring the fact that the question has a whole bunch of terrible answers that would drown out mine, it&#39;s also because the question is 7+ years old. The OP for that post has not logged on in over a year, so my answer would be sitting there, unaccepted. If I am going to answer this question, I want to answer it thoroughly, in such a way that the clearly correct answer can sit at the top and be scrutinized while all of the experts are still going through the new questions."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690955947,"post_id":76816855,"comment_id":135423105,"body_markdown":"@ScaryWombat Furthermore, I don&#39;t see any great answers to this question that include Java 21. I want to write a super detailed answer such that, any future people that ask this question can get pointed to my answer and they will have a clear, details answer to meet any of their questions.","body":"@ScaryWombat Furthermore, I don&#39;t see any great answers to this question that include Java 21. I want to write a super detailed answer such that, any future people that ask this question can get pointed to my answer and they will have a clear, details answer to meet any of their questions."},{"owner":{"account_id":22548247,"reputation":31,"user_id":16737768,"display_name":"nick"},"score":0,"creation_date":1690961499,"post_id":76816855,"comment_id":135424040,"body_markdown":"@davidalayachew can you please write your answer here in the comment section? I am eager to know your take on this.","body":"@davidalayachew can you please write your answer here in the comment section? I am eager to know your take on this."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690966702,"post_id":76816855,"comment_id":135425166,"body_markdown":"@nick Not in the comments section, but here is a link to StackOverflow Chat. I&#39;ll post the answer there. https://chat.stackoverflow.com/rooms/139/java","body":"@nick Not in the comments section, but here is a link to StackOverflow Chat. I&#39;ll post the answer there. <a href=\"https://chat.stackoverflow.com/rooms/139/java\">chat.stackoverflow.com/rooms/139/java</a>"}],"answers":[{"tags":[],"owner":{"account_id":29103359,"reputation":1,"user_id":22294724,"display_name":"John Pareto"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690954195,"creation_date":1690954195,"answer_id":76816878,"question_id":76816855,"body_markdown":"The main class is the class which will be called when you start your program. So this is the place where you intialialize the classes you will be using and where you call the methods to start your code working.","title":"What kind of entity does the Main Class in Java represent?","body":"<p>The main class is the class which will be called when you start your program. So this is the place where you intialialize the classes you will be using and where you call the methods to start your code working.</p>\n"}],"owner":{"account_id":22548247,"reputation":31,"user_id":16737768,"display_name":"nick"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1690954301,"answer_count":1,"score":3,"last_activity_date":1690954195,"creation_date":1690953913,"question_id":76816855,"body_markdown":"Whenever we see an introduction to Object Oriented Programming, we commonly come across this explanation, A class is a blueprint of an object, it can be used to represent a real world entity virtually, like for example a vehicle, each entity has certain properties and behavior(in this case let&#39;s say properties would be number of wheels, make and model of the car and behavior would be honking, driving, applying brakes etc), which can represented as variables and functions in the class respectively.\r\n\r\nNow, when we come across a whole bunch of classes in a project, we can see that there is one particular Main class, in which there are no variables and other methods as such(other than the Main method)but we see objects of other classes being created inside the main function and several other methods being called and executed, other operations being performed. \r\n\r\n\r\n\r\nIn this case, what kind of a real world entity is the Main class representing which has no property or behavior? If the whole purpose of introducing classes and objects is to virtualize real world entities then what sort of a class is the main class?\r\n\r\nAlso, if this Class is not representing any entity as such then why does the Main function have to be inside it? Why Can&#39;t the main function be written separately without being included in a Class, with the sole purpose of manipulating with objects of other classes or doing some other stuff? ","title":"What kind of entity does the Main Class in Java represent?","body":"<p>Whenever we see an introduction to Object Oriented Programming, we commonly come across this explanation, A class is a blueprint of an object, it can be used to represent a real world entity virtually, like for example a vehicle, each entity has certain properties and behavior(in this case let's say properties would be number of wheels, make and model of the car and behavior would be honking, driving, applying brakes etc), which can represented as variables and functions in the class respectively.</p>\n<p>Now, when we come across a whole bunch of classes in a project, we can see that there is one particular Main class, in which there are no variables and other methods as such(other than the Main method)but we see objects of other classes being created inside the main function and several other methods being called and executed, other operations being performed.</p>\n<p>In this case, what kind of a real world entity is the Main class representing which has no property or behavior? If the whole purpose of introducing classes and objects is to virtualize real world entities then what sort of a class is the main class?</p>\n<p>Also, if this Class is not representing any entity as such then why does the Main function have to be inside it? Why Can't the main function be written separately without being included in a Class, with the sole purpose of manipulating with objects of other classes or doing some other stuff?</p>\n"},{"tags":["java","elasticsearch","opensearch","amazon-opensearch"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1691874962,"post_id":76816740,"comment_id":135551064,"body_markdown":"Looks like someone or the questioner has opened a bug issue ticket. Leaving it here to be traced -&gt; https://github.com/opensearch-project/opensearch-java/issues/590","body":"Looks like someone or the questioner has opened a bug issue ticket. Leaving it here to be traced -&gt; <a href=\"https://github.com/opensearch-project/opensearch-java/issues/590\" rel=\"nofollow noreferrer\">github.com/opensearch-project/opensearch-java/issues/590</a>"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1691875540,"post_id":76816740,"comment_id":135551129,"body_markdown":"could you please try the following code and report if the error is the same? `UpdateOperation&lt;Object&gt; updateOperation = new UpdateOperation.Builder&lt;&gt;().document(doc).index(indexName).id(id).build();\n        BulkOperation bulkOperation = new BulkOperation.Builder().update(updateOperation).build();\n        request.operations().add(bulkOperation);`","body":"could you please try the following code and report if the error is the same? <code>UpdateOperation&lt;Object&gt; updateOperation = new UpdateOperation.Builder&lt;&gt;().document(doc).index(indexName).i&zwnj;&#8203;d(id).build();         BulkOperation bulkOperation = new BulkOperation.Builder().update(updateOperation).build();         request.operations().add(bulkOperation);</code>"},{"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"score":0,"creation_date":1692034779,"post_id":76816740,"comment_id":135568399,"body_markdown":"@PanagiotisBougioukos, thanks for the suggestion. I will try and let you know.","body":"@PanagiotisBougioukos, thanks for the suggestion. I will try and let you know."},{"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"score":0,"creation_date":1692058138,"post_id":76816740,"comment_id":135571345,"body_markdown":"@PanagiotisBougioukos, I tried your suggestion above and it didn&#39;t work I am still getting 400 responses. The parsed JSON looks incorrect. ```{ &quot;update&quot; : { &quot;_id&quot; : &quot;361710&quot;, &quot;_index&quot; : &quot;program_search&quot; }}\n{ &quot;status35&quot;: &quot;closed&quot; }.```","body":"@PanagiotisBougioukos, I tried your suggestion above and it didn&#39;t work I am still getting 400 responses. The parsed JSON looks incorrect. <code>{ &quot;update&quot; : { &quot;_id&quot; : &quot;361710&quot;, &quot;_index&quot; : &quot;program_search&quot; }} { &quot;status35&quot;: &quot;closed&quot; }.</code>"}],"answers":[{"tags":[],"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690953392,"creation_date":1690953392,"answer_id":76816822,"question_id":76816740,"body_markdown":"I come up with the two workarounds while waiting for the response:\r\n\r\n1.The current requirements allow me to switch to a single document update option. As mentioned in the question it works successfully. However, there is a high probability that in future I would need to update a set of documents, which is better to do using the bulk option.  \r\n\r\n 2.Create a class wrapper. It will have a `doc` field which allows receiving a required request structure after converting the object to JSON:\r\n\r\n\r\n\r\n    public class UpdateRootDocument&lt;T&gt; {\r\n    \r\n        T doc;\r\n    \r\n        public UpdateRootDocument(T doc) {\r\n            this.doc = doc;\r\n        }\r\n    \r\n        public T getDoc() {\r\n            return doc;\r\n        }\r\n    \r\n        public void setDoc(T doc) {\r\n            this.doc = doc;\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"OpenSearch Java Client: bulk update for existing document results in 400 bad request","body":"<p>I come up with the two workarounds while waiting for the response:</p>\n<p>1.The current requirements allow me to switch to a single document update option. As mentioned in the question it works successfully. However, there is a high probability that in future I would need to update a set of documents, which is better to do using the bulk option.</p>\n<p>2.Create a class wrapper. It will have a <code>doc</code> field which allows receiving a required request structure after converting the object to JSON:</p>\n<pre><code>public class UpdateRootDocument&lt;T&gt; {\n\n    T doc;\n\n    public UpdateRootDocument(T doc) {\n        this.doc = doc;\n    }\n\n    public T getDoc() {\n        return doc;\n    }\n\n    public void setDoc(T doc) {\n        this.doc = doc;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6876655,"reputation":1603,"user_id":5284890,"accept_rate":57,"display_name":"Hutsul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690953597,"creation_date":1690952270,"question_id":76816740,"body_markdown":"I am implementing a [bulk update][1] operation using an [OpenSearch Java client][2] for existing documents stored in the OpenSearch provisioned by AWS. \r\n\r\nThe `BulkRequest` request object looks like this:\r\n\r\n    BulkRequest request = new BulkRequest.Builder().operations(o -&gt; o.update(u -&gt; u.index(indexName).id(String.valueOf(id)).document(doc))).build();\r\n            \r\n    openSearchClient.bulk(request);\r\n\r\nThe `doc` object is a POJO object that reflects a document inside the index.\r\n\r\n    public class ProgramSelectionInfoBase implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 6880667215923483985L;\r\n    \r\n    \tprivate long id;\r\n    \tprivate String status35;\r\n        // other fields, getters, setters.\r\n    \r\n    }\r\n\r\n\r\nThe response I am getting is **400 Bad Request** \r\n\r\nIn the debug mode, the parsed bulk request looks different as it should per the [bulk update][1] documentation. It lacks the `&quot;doc&quot;` parent object, which should wrap the partially updated document:\r\n\r\n    { &quot;update&quot; : { &quot;_id&quot; : &quot;361710&quot;, &quot;_index&quot; : &quot;program_search&quot; }}\r\n    { &quot;status35&quot;: &quot;draft&quot; }. &lt;- doc is missing.\r\n\r\n\r\n    { &quot;update&quot;: { &quot;_index&quot;: &quot;movies&quot;, &quot;_id&quot;: &quot;tt0816711&quot; } }\r\n    { &quot;doc&quot;: { &quot;title&quot;: &quot;World War Z&quot; } }\r\n\r\nIf I replace a bulk update request with a single [document update][3] request, I get successful results. The parsed request structure matches the documentation one:\r\n\r\n    UpdateRequest&lt;Object, Object&gt; request = new UpdateRequest.Builder&lt;&gt;().id(String.valueOf(id)).doc(doc).index(indexName).build();\r\n    openSearchClient.update(request, Object.class);\r\n\r\n    {&quot;doc&quot;:{&quot;status35&quot;:&quot;active&quot;}}\r\n\r\n**Question:** Am I building a `BulkRequest` object incorrectly? Or this is the client library issue?\r\n\r\n**UPDATE** I am using the latest available OpenSearch Java client [version][4] \r\n\r\n\r\n  [1]: https://opensearch.org/docs/latest/api-reference/document-apis/bulk/\r\n  [2]: https://opensearch.org/docs/latest/clients/java/\r\n  [3]: https://opensearch.org/docs/latest/api-reference/document-apis/update-document/#example\r\n  [4]: https://opensearch.org/docs/latest/clients/java/#installing-the-client-using-restclient-transport","title":"OpenSearch Java Client: bulk update for existing document results in 400 bad request","body":"<p>I am implementing a <a href=\"https://opensearch.org/docs/latest/api-reference/document-apis/bulk/\" rel=\"noreferrer\">bulk update</a> operation using an <a href=\"https://opensearch.org/docs/latest/clients/java/\" rel=\"noreferrer\">OpenSearch Java client</a> for existing documents stored in the OpenSearch provisioned by AWS.</p>\n<p>The <code>BulkRequest</code> request object looks like this:</p>\n<pre><code>BulkRequest request = new BulkRequest.Builder().operations(o -&gt; o.update(u -&gt; u.index(indexName).id(String.valueOf(id)).document(doc))).build();\n        \nopenSearchClient.bulk(request);\n</code></pre>\n<p>The <code>doc</code> object is a POJO object that reflects a document inside the index.</p>\n<pre><code>public class ProgramSelectionInfoBase implements Serializable {\n\n    private static final long serialVersionUID = 6880667215923483985L;\n\n    private long id;\n    private String status35;\n    // other fields, getters, setters.\n\n}\n</code></pre>\n<p>The response I am getting is <strong>400 Bad Request</strong></p>\n<p>In the debug mode, the parsed bulk request looks different as it should per the <a href=\"https://opensearch.org/docs/latest/api-reference/document-apis/bulk/\" rel=\"noreferrer\">bulk update</a> documentation. It lacks the <code>&quot;doc&quot;</code> parent object, which should wrap the partially updated document:</p>\n<pre><code>{ &quot;update&quot; : { &quot;_id&quot; : &quot;361710&quot;, &quot;_index&quot; : &quot;program_search&quot; }}\n{ &quot;status35&quot;: &quot;draft&quot; }. &lt;- doc is missing.\n\n\n{ &quot;update&quot;: { &quot;_index&quot;: &quot;movies&quot;, &quot;_id&quot;: &quot;tt0816711&quot; } }\n{ &quot;doc&quot;: { &quot;title&quot;: &quot;World War Z&quot; } }\n</code></pre>\n<p>If I replace a bulk update request with a single <a href=\"https://opensearch.org/docs/latest/api-reference/document-apis/update-document/#example\" rel=\"noreferrer\">document update</a> request, I get successful results. The parsed request structure matches the documentation one:</p>\n<pre><code>UpdateRequest&lt;Object, Object&gt; request = new UpdateRequest.Builder&lt;&gt;().id(String.valueOf(id)).doc(doc).index(indexName).build();\nopenSearchClient.update(request, Object.class);\n\n{&quot;doc&quot;:{&quot;status35&quot;:&quot;active&quot;}}\n</code></pre>\n<p><strong>Question:</strong> Am I building a <code>BulkRequest</code> object incorrectly? Or this is the client library issue?</p>\n<p><strong>UPDATE</strong> I am using the latest available OpenSearch Java client <a href=\"https://opensearch.org/docs/latest/clients/java/#installing-the-client-using-restclient-transport\" rel=\"noreferrer\">version</a></p>\n"},{"tags":["java","if-statement","conditional-statements"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690953028,"post_id":76816752,"comment_id":135422790,"body_markdown":"Why do you think `j == 4` at the end of the loop when `input1.length() == 5`. Look at the loop condition. What value does `j` need to have for that to be false, allowing the loop to finish?","body":"Why do you think <code>j == 4</code> at the end of the loop when <code>input1.length() == 5</code>. Look at the loop condition. What value does <code>j</code> need to have for that to be false, allowing the loop to finish?"}],"answers":[{"tags":[],"owner":{"account_id":343791,"reputation":4101,"user_id":675723,"accept_rate":77,"display_name":"BadZen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690952956,"creation_date":1690952956,"answer_id":76816789,"question_id":76816752,"body_markdown":"After the loop exited, `j &lt; input1.length()` is false.\r\n\r\nHowever, it has just been incremented by one.\r\n\r\nTherefore, at this point, assuming you entered the loop body at least once:\r\n\r\n `j == input1.length()` is true.\r\n","title":"Java conditional Statement Understanding","body":"<p>After the loop exited, <code>j &lt; input1.length()</code> is false.</p>\n<p>However, it has just been incremented by one.</p>\n<p>Therefore, at this point, assuming you entered the loop body at least once:</p>\n<p><code>j == input1.length()</code> is true.</p>\n"}],"owner":{"account_id":29141331,"reputation":3,"user_id":22324230,"display_name":"Sri Murugan G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76816789,"answer_count":1,"score":0,"last_activity_date":1690953123,"creation_date":1690952435,"question_id":76816752,"body_markdown":"```java\r\npackage ClassTest3;\r\n\r\n\r\npublic class IdentifyPosiibleWords {\r\n\r\n\tpublic static String identifyWords(String input1, String input2) {\r\n\t\tint i, j;\r\n\t        input1 = input1.toUpperCase();\r\n\t        input2 = input2.toUpperCase();\r\n\t        String word = &quot;&quot;, res = &quot;&quot;;\r\n\t        String[] words = input2.split(&quot;:&quot;);\r\n\t        System.out.println(input1.length());\r\n\t        for (i = 0; i &lt; words.length; i++) {\r\n\t            word = words[i];\r\n\t            if (input1.length() == word.length()) {\r\n\t                for (j = 0; j &lt; input1.length(); j++) {\r\n\t                    if (input1.charAt(j) != &#39;_&#39; &amp;&amp; input1.charAt(j) != word.charAt(j)) {\r\n\t                        break;\r\n\t                    }\r\n\t                }\r\n\t                \r\n\t                if (j == input1.length()) {\r\n\t                    res = res + word + &quot;:&quot;;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        \r\n\t        return res.length() == 0 ? &quot;ERROR-009&quot; : res.substring(0, res.length() - 1);\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString input1 = &quot;Fi_er&quot;;\r\n        String input2 = &quot;Fever:filer:Filter: Fixer:fiber:fibre:tailor:offer&quot;;\r\n        \r\n        String output = identifyWords(input1, input2);\r\n        System.out.println(output);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThis program has no error, the only this i uploaded here i have a doubt in this code \r\n\r\nsee the line 22 : `if (j == input1.length())` this inner nested loop update the `j` in line 7 but at the end of the matching word found, `j` will be `4` and how it will pass the `input1.length` that is `5`.\r\n\r\nsomeone please explain it to me.","title":"Java conditional Statement Understanding","body":"<pre class=\"lang-java prettyprint-override\"><code>package ClassTest3;\n\n\npublic class IdentifyPosiibleWords {\n\n    public static String identifyWords(String input1, String input2) {\n        int i, j;\n            input1 = input1.toUpperCase();\n            input2 = input2.toUpperCase();\n            String word = &quot;&quot;, res = &quot;&quot;;\n            String[] words = input2.split(&quot;:&quot;);\n            System.out.println(input1.length());\n            for (i = 0; i &lt; words.length; i++) {\n                word = words[i];\n                if (input1.length() == word.length()) {\n                    for (j = 0; j &lt; input1.length(); j++) {\n                        if (input1.charAt(j) != '_' &amp;&amp; input1.charAt(j) != word.charAt(j)) {\n                            break;\n                        }\n                    }\n                    \n                    if (j == input1.length()) {\n                        res = res + word + &quot;:&quot;;\n                    }\n                }\n            }\n            \n            return res.length() == 0 ? &quot;ERROR-009&quot; : res.substring(0, res.length() - 1);\n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        String input1 = &quot;Fi_er&quot;;\n        String input2 = &quot;Fever:filer:Filter: Fixer:fiber:fibre:tailor:offer&quot;;\n        \n        String output = identifyWords(input1, input2);\n        System.out.println(output);\n    }\n\n}\n</code></pre>\n<p>This program has no error, the only this i uploaded here i have a doubt in this code</p>\n<p>see the line 22 : <code>if (j == input1.length())</code> this inner nested loop update the <code>j</code> in line 7 but at the end of the matching word found, <code>j</code> will be <code>4</code> and how it will pass the <code>input1.length</code> that is <code>5</code>.</p>\n<p>someone please explain it to me.</p>\n"},{"tags":["java","slack","slack-api"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1670830225,"post_id":68413804,"comment_id":131955452,"body_markdown":"You mention [tag:java] and the `slack-api-client` library. Can you please post a [example] with code and full error-output.","body":"You mention <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> and the <code>slack-api-client</code> library. Can you please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with code and full error-output."}],"answers":[{"tags":[],"owner":{"account_id":15236923,"reputation":2621,"user_id":10994302,"display_name":"Suyash Gaur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626692754,"creation_date":1626692754,"answer_id":68439437,"question_id":68413804,"body_markdown":"Interactive payloads are of different types and are required to handle accordingly:\r\n\r\nhttps://api.slack.com/interactivity/handling#payloads\r\n\r\nFor Java based implementation, please refer here:\r\n&lt;br&gt;https://slack.dev/java-slack-sdk/guides/interactive-components  ","title":"Slack interactive buttons not working getting error: missing_subtype","body":"<p>Interactive payloads are of different types and are required to handle accordingly:</p>\n<p><a href=\"https://api.slack.com/interactivity/handling#payloads\" rel=\"nofollow noreferrer\">https://api.slack.com/interactivity/handling#payloads</a></p>\n<p>For Java based implementation, please refer here:\n<br>https://slack.dev/java-slack-sdk/guides/interactive-components</p>\n"},{"tags":[],"owner":{"account_id":5209973,"reputation":1102,"user_id":4166721,"display_name":"Cash Lo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654142368,"creation_date":1654142368,"answer_id":72470521,"question_id":68413804,"body_markdown":"I have run into the same issue, an have done some experiments.\r\n\r\nIt seems to be caused by the complexity of the message: If the message has too many blocks or the blocks are too complex it will send a wrong message timestamp to the slack server, which seems to cause this mysterious 403 error.\r\n\r\nI reduced the number of blocks in the message and it works fine now.","title":"Slack interactive buttons not working getting error: missing_subtype","body":"<p>I have run into the same issue, an have done some experiments.</p>\n<p>It seems to be caused by the complexity of the message: If the message has too many blocks or the blocks are too complex it will send a wrong message timestamp to the slack server, which seems to cause this mysterious 403 error.</p>\n<p>I reduced the number of blocks in the message and it works fine now.</p>\n"}],"owner":{"account_id":5611861,"reputation":47,"user_id":4444318,"display_name":"Jill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2055,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1690953106,"creation_date":1626460415,"question_id":68413804,"body_markdown":"I am trying to build interactive slack messages, but nothing happens when I click on the button in slack channel.\r\n\r\nI used `slack-api-client` (java) to  build the interactive message. Message is being correctly posted to the channel but clicking on the button does not post the payload to the `request_url` configured. I see a triangle with mark of exclamation saying `This app returned an error. Please try again or contact the app&#39;s developer`. When I tried to check the network calls, I saw this error:\r\n\r\n```\r\nerror_json: {&quot;subtype&quot;:&quot;missing_subtype&quot;,&quot;message&quot;:&quot;hashed timestamp blocks.actions not ok: dispatch_failed&quot;}\r\n```\r\n\r\nI am not sure what is missing here. I have configured my app and the request url ending with `/slack/events` is added at `interactivity and shortcut section`. The request url is public url and an be accessed directly. I am not sure why slack is not able to post the payload on click of the buttons.","title":"Slack interactive buttons not working getting error: missing_subtype","body":"<p>I am trying to build interactive slack messages, but nothing happens when I click on the button in slack channel.</p>\n<p>I used <code>slack-api-client</code> (java) to  build the interactive message. Message is being correctly posted to the channel but clicking on the button does not post the payload to the <code>request_url</code> configured. I see a triangle with mark of exclamation saying <code>This app returned an error. Please try again or contact the app's developer</code>. When I tried to check the network calls, I saw this error:</p>\n<pre><code>error_json: {&quot;subtype&quot;:&quot;missing_subtype&quot;,&quot;message&quot;:&quot;hashed timestamp blocks.actions not ok: dispatch_failed&quot;}\n</code></pre>\n<p>I am not sure what is missing here. I have configured my app and the request url ending with <code>/slack/events</code> is added at <code>interactivity and shortcut section</code>. The request url is public url and an be accessed directly. I am not sure why slack is not able to post the payload on click of the buttons.</p>\n"},{"tags":["java","c#",".net","visual-studio","ikvm"],"answers":[{"tags":[],"owner":{"account_id":14740018,"reputation":1091,"user_id":10644878,"display_name":"D&#225;vid Laczk&#243;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690897380,"creation_date":1690897380,"answer_id":76812261,"question_id":76625804,"body_markdown":"Honestly speaking I am new to this and I also looked for a solution how to build from the command prompt.  \r\nBut I think they changed the way it worked previously, currently it is per the  [Usage][1] section on GitHub (and the same description is on the [NuGet][2] site).  \r\nAs I understand, all IKVM 8 versions implement Java 8, so I looked into previous versions, and **8.2.3**&#39;s **IKVM-8.2.3-tools-ikvm-net461.zip** has ikvm.exe. I can&#39;t try it out nowadays however.  \r\nCould you give a feedback after you solved it, then how?\r\n\r\n  [1]: https://IKVM-8.2.3-tools-ikvm-net461.zip\r\n  [2]: https://www.nuget.org/packages/IKVM#readme-body-tab\r\n","title":"How to use IKVM with java 1.8?","body":"<p>Honestly speaking I am new to this and I also looked for a solution how to build from the command prompt.<br />\nBut I think they changed the way it worked previously, currently it is per the  <a href=\"https://IKVM-8.2.3-tools-ikvm-net461.zip\" rel=\"nofollow noreferrer\">Usage</a> section on GitHub (and the same description is on the <a href=\"https://www.nuget.org/packages/IKVM#readme-body-tab\" rel=\"nofollow noreferrer\">NuGet</a> site).<br />\nAs I understand, all IKVM 8 versions implement Java 8, so I looked into previous versions, and <strong>8.2.3</strong>'s <strong>IKVM-8.2.3-tools-ikvm-net461.zip</strong> has ikvm.exe. I can't try it out nowadays however.<br />\nCould you give a feedback after you solved it, then how?</p>\n"},{"tags":[],"owner":{"account_id":180568,"reputation":1700,"user_id":413967,"accept_rate":29,"display_name":"Jerome Haltom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690952733,"creation_date":1690952733,"answer_id":76816772,"question_id":76625804,"body_markdown":"You install the IKVM Nuget package, or the IKVM.Maven.Sdk NuGet package, and add a reference to your JAR or Maven library. As the README file instructs.\r\n\r\nhttps://github.com/ikvmnet/ikvm#readme","title":"How to use IKVM with java 1.8?","body":"<p>You install the IKVM Nuget package, or the IKVM.Maven.Sdk NuGet package, and add a reference to your JAR or Maven library. As the README file instructs.</p>\n<p><a href=\"https://github.com/ikvmnet/ikvm#readme\" rel=\"nofollow noreferrer\">https://github.com/ikvmnet/ikvm#readme</a></p>\n"}],"owner":{"account_id":28960307,"reputation":1,"user_id":22182925,"display_name":"Robert Kiosaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690952733,"creation_date":1688622002,"question_id":76625804,"body_markdown":"Not able to convert java jar 1.8v with ikvm\r\n\r\nI tried running jar compiled with 1.7v java for ikvm(7.2) it runs perfectly well and converts my jar to dll.\r\n\r\nBut i am not able to find suitable ikvm version which will run for java1.8 jar as i am getting class52 error\r\n\r\nCan anyone share from where to download ikvm package for 1.8 as i see in the official page there are too many core, net files which does not have ikvm.exe as i need to run it from command prompt using ikvmc command.","title":"How to use IKVM with java 1.8?","body":"<p>Not able to convert java jar 1.8v with ikvm</p>\n<p>I tried running jar compiled with 1.7v java for ikvm(7.2) it runs perfectly well and converts my jar to dll.</p>\n<p>But i am not able to find suitable ikvm version which will run for java1.8 jar as i am getting class52 error</p>\n<p>Can anyone share from where to download ikvm package for 1.8 as i see in the official page there are too many core, net files which does not have ikvm.exe as i need to run it from command prompt using ikvmc command.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":5,"creation_date":1690938627,"post_id":76815996,"comment_id":135421673,"body_markdown":"Probably an error in the input file.","body":"Probably an error in the input file."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1690939175,"post_id":76815996,"comment_id":135421718,"body_markdown":"Catch the exception and print out the data at that time.  I think you will find it is a data problem.","body":"Catch the exception and print out the data at that time.  I think you will find it is a data problem."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690940050,"post_id":76815996,"comment_id":135421782,"body_markdown":"It may be EOF , or a blank line at end of file fouling the for().   ctoy ilee boodoo stReelyet","body":"It may be EOF , or a blank line at end of file fouling the for().   ctoy ilee boodoo stReelyet"}],"owner":{"account_id":29140368,"reputation":1,"user_id":22323497,"display_name":"fels"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690951480,"creation_date":1690937565,"question_id":76815996,"body_markdown":"I am parsing a CSV file using Apache CSV Commons. When I used a small file with few rows, it works fine. When I used a file of 2MB, I get the following error:\r\n```none\r\njava.lang.IllegalArgumentException: Mapping for Employee not found, expected one of [Employee, Full name, Date, Type, Registration, Amount]\r\n\tat org.apache.commons.csv.CSVRecord.get(CSVRecord.java:121) ~[commons-csv-1.9.0.jar:1.9.0]\r\n```\r\n-----------\r\n```java\r\nfor(CSVRecord record: csvParser){\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    for(String column : userColumns){\r\n        System.out.println(column);\r\n        System.out.println(column.length());\r\n        System.out.println(record);\r\n        System.out.println(record.get(&quot;Employee&quot;));\r\n\r\n        //the line with the error\r\n        stringBuilder.append(record.get(column)).append(&quot;\\t&quot;);\r\n    }\r\n}\r\n```\r\nI don&#39;t get the error when I use a CSV file of 300 rows, only with large CSV files.\r\n\r\n&gt;Failed to complete request: java.lang.IllegalArgumentException: Mapping for Employee not found, expected one of [Employee, Full name, Donation Date, Donation Type, Charity Registration, Charity Name, Donation Amount, Matching Gift]\r\n","title":"Unable to Read large CSV File with Apache Commons CSV - IllegalArgumentException. Small file working","body":"<p>I am parsing a CSV file using Apache CSV Commons. When I used a small file with few rows, it works fine. When I used a file of 2MB, I get the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalArgumentException: Mapping for Employee not found, expected one of [Employee, Full name, Date, Type, Registration, Amount]\n    at org.apache.commons.csv.CSVRecord.get(CSVRecord.java:121) ~[commons-csv-1.9.0.jar:1.9.0]\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>for(CSVRecord record: csvParser){\n    StringBuilder stringBuilder = new StringBuilder();\n    for(String column : userColumns){\n        System.out.println(column);\n        System.out.println(column.length());\n        System.out.println(record);\n        System.out.println(record.get(&quot;Employee&quot;));\n\n        //the line with the error\n        stringBuilder.append(record.get(column)).append(&quot;\\t&quot;);\n    }\n}\n</code></pre>\n<p>I don't get the error when I use a CSV file of 300 rows, only with large CSV files.</p>\n<blockquote>\n<p>Failed to complete request: java.lang.IllegalArgumentException: Mapping for Employee not found, expected one of [Employee, Full name, Donation Date, Donation Type, Charity Registration, Charity Name, Donation Amount, Matching Gift]</p>\n</blockquote>\n"},{"tags":["java","soap","java-8","axis"],"answers":[{"tags":[],"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536760465,"creation_date":1536760465,"answer_id":52296894,"question_id":52218759,"body_markdown":"It seems you bumped into [this](https://issues.apache.org/jira/browse/AXIS-2909) bug.\r\n\r\nYou should upgrade to 1.4.1 or go back to JDK7.\r\n\r\nAnother option could be to apply the mentioned fix in the attached diff.txt and create a patched version of the axis-rt-core (see diff.txt).","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>It seems you bumped into <a href=\"https://issues.apache.org/jira/browse/AXIS-2909\" rel=\"nofollow noreferrer\">this</a> bug.</p>\n\n<p>You should upgrade to 1.4.1 or go back to JDK7.</p>\n\n<p>Another option could be to apply the mentioned fix in the attached diff.txt and create a patched version of the axis-rt-core (see diff.txt).</p>\n"},{"tags":[],"owner":{"account_id":4271970,"reputation":141,"user_id":3493590,"display_name":"geewee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1536782942,"creation_date":1536782942,"answer_id":52302709,"question_id":52218759,"body_markdown":"Agree that https://issues.apache.org/jira/browse/AXIS-2909 seems to be the issue.\r\nGoing back to jdk7 is usually not an option.\r\n\r\nThe suggestion in AXIS-2909 is to take latest 1.4.1-SNAPSHOT, from a successful jenkins build in 2017. This is coming from http://svn.apache.org/repos/asf/axis/axis1/java/trunk, and to put it short this trunk has undergone a lot of changes since 2006 (1.4), and is not officially released.\r\n - added maven support\r\n - completely restructured into maven modules\r\n - a lot of different changes, check svn log\r\n\r\nveithen (A. Veithen) has done an excellent job within this trunk, and seems to be the maintainer.\r\n\r\nA better approach, and safer, given you want only to fix  the axis ConcurrentModificationException bug, and not introduce more changes than needed, can be to take the 1.4 tag, and apply patch on top of that.\r\n\r\nhttps://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4/\r\n\r\npatch:\r\n    \r\n       // Convert to array before sorting to avoid concurrency issues\r\n        OperationDesc[] array = (OperationDesc[])overloads.toArray(\r\n            new OperationDesc[overloads.size()]);\r\n\r\n\r\n        Arrays.sort(array,\r\n            new Comparator() {\r\n                public int compare(Object o1, Object o2)\r\n                {\r\n                    Method meth1 = ((OperationDesc)o1).getMethod();\r\n                    Method meth2 = ((OperationDesc)o2).getMethod();\r\n                    return (meth1.getParameterTypes().length -\r\n                                         meth2.getParameterTypes().length);\r\n                }\r\n            });\r\n\r\n        return array;\r\n    }\r\n\r\n\r\nbtw: AXIS-2875 is also needed, to make it compile with java8.\r\n\r\nplease note that this will be a time machine experience, as you are back in the ant build-script days.\r\nyou will also need to incl j2ee-1.4.jar as compile-time lib.\r\nbut then you are good to go, and can bake your own 1.4.1 containing\r\n1.4\r\n+AXIS-2909\r\n\r\n","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>Agree that <a href=\"https://issues.apache.org/jira/browse/AXIS-2909\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/AXIS-2909</a> seems to be the issue.\nGoing back to jdk7 is usually not an option.</p>\n\n<p>The suggestion in AXIS-2909 is to take latest 1.4.1-SNAPSHOT, from a successful jenkins build in 2017. This is coming from <a href=\"http://svn.apache.org/repos/asf/axis/axis1/java/trunk\" rel=\"noreferrer\">http://svn.apache.org/repos/asf/axis/axis1/java/trunk</a>, and to put it short this trunk has undergone a lot of changes since 2006 (1.4), and is not officially released.\n - added maven support\n - completely restructured into maven modules\n - a lot of different changes, check svn log</p>\n\n<p>veithen (A. Veithen) has done an excellent job within this trunk, and seems to be the maintainer.</p>\n\n<p>A better approach, and safer, given you want only to fix  the axis ConcurrentModificationException bug, and not introduce more changes than needed, can be to take the 1.4 tag, and apply patch on top of that.</p>\n\n<p><a href=\"https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4/\" rel=\"noreferrer\">https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4/</a></p>\n\n<p>patch:</p>\n\n<pre><code>   // Convert to array before sorting to avoid concurrency issues\n    OperationDesc[] array = (OperationDesc[])overloads.toArray(\n        new OperationDesc[overloads.size()]);\n\n\n    Arrays.sort(array,\n        new Comparator() {\n            public int compare(Object o1, Object o2)\n            {\n                Method meth1 = ((OperationDesc)o1).getMethod();\n                Method meth2 = ((OperationDesc)o2).getMethod();\n                return (meth1.getParameterTypes().length -\n                                     meth2.getParameterTypes().length);\n            }\n        });\n\n    return array;\n}\n</code></pre>\n\n<p>btw: AXIS-2875 is also needed, to make it compile with java8.</p>\n\n<p>please note that this will be a time machine experience, as you are back in the ant build-script days.\nyou will also need to incl j2ee-1.4.jar as compile-time lib.\nbut then you are good to go, and can bake your own 1.4.1 containing\n1.4\n+AXIS-2909</p>\n"},{"tags":[],"owner":{"account_id":4401794,"reputation":461,"user_id":3587240,"display_name":"Andrea Luciano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607968710,"creation_date":1607968710,"answer_id":65294053,"question_id":52218759,"body_markdown":"I followed this quick and dirty way to patch axis-1.4.jar using javac 1.8:\r\n\r\n1) Download axis-1.4.jar from maven repository https://mvnrepository.com/artifact/org.apache.axis/axis/1.4\r\n\r\n  Download from maven axis-jaxrpc-1.4.jar and commons-logging-1.1.1.jar too\r\n\r\n2) Copy JavaServiceDesc.java from original source code, to export them I used:\r\n\r\n  svn export https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4 axis-1.4\r\n\r\n3) Edit the last lines of getOperationsByQName at line 527 in JavaServiceDesc.java as suggested by geewee\r\n\r\n4) Compile using java 8:\r\n\r\n   javac -d . -classpath axis-1.4.jar;axis-jaxrpc-1.4.jar;commons-logging-1.1.1.jar JavaServiceDesc.java\r\n\r\n5) Update the original JAR file with the new class:\r\n\r\n   jar uf axis-1.4.jar org\\apache\\axis\\description\\JavaServiceDesc.class org\\apache\\axis\\description\\JavaServiceDesc$1.class\r\n\r\n  \r\nThis worked well and solved the issue in my case.","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>I followed this quick and dirty way to patch axis-1.4.jar using javac 1.8:</p>\n<ol>\n<li>Download axis-1.4.jar from maven repository <a href=\"https://mvnrepository.com/artifact/org.apache.axis/axis/1.4\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.axis/axis/1.4</a></li>\n</ol>\n<p>Download from maven axis-jaxrpc-1.4.jar and commons-logging-1.1.1.jar too</p>\n<ol start=\"2\">\n<li>Copy JavaServiceDesc.java from original source code, to export them I used:</li>\n</ol>\n<p>svn export <a href=\"https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/axis/axis1/java/tags/1.4</a> axis-1.4</p>\n<ol start=\"3\">\n<li><p>Edit the last lines of getOperationsByQName at line 527 in JavaServiceDesc.java as suggested by geewee</p>\n</li>\n<li><p>Compile using java 8:</p>\n<p>javac -d . -classpath axis-1.4.jar;axis-jaxrpc-1.4.jar;commons-logging-1.1.1.jar JavaServiceDesc.java</p>\n</li>\n<li><p>Update the original JAR file with the new class:</p>\n<p>jar uf axis-1.4.jar org\\apache\\axis\\description\\JavaServiceDesc.class org\\apache\\axis\\description\\JavaServiceDesc$1.class</p>\n</li>\n</ol>\n<p>This worked well and solved the issue in my case.</p>\n"},{"tags":[],"owner":{"account_id":29084849,"reputation":1,"user_id":22279957,"display_name":"Subodh Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690951046,"creation_date":1690259646,"answer_id":76759474,"question_id":52218759,"body_markdown":"Compile using java 8 Windows cmd:\r\n\r\njavac -cp &quot;.;axis-1.4.jar;axis-jaxrpc-1.4.jar;commons-logging-1.1.1.jar&quot; JavaServiceDesc.java\r\n\r\nUpdate the original JAR file with the updated changes:\r\n\r\njar uf axis-1.4.jar org\\apache\\axis\\description\\JavaServiceDesc.class org\\apache\\axis\\description\\JavaServiceDesc$1.class","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>Compile using java 8 Windows cmd:</p>\n<p>javac -cp &quot;.;axis-1.4.jar;axis-jaxrpc-1.4.jar;commons-logging-1.1.1.jar&quot; JavaServiceDesc.java</p>\n<p>Update the original JAR file with the updated changes:</p>\n<p>jar uf axis-1.4.jar org\\apache\\axis\\description\\JavaServiceDesc.class org\\apache\\axis\\description\\JavaServiceDesc$1.class</p>\n"}],"owner":{"account_id":8383767,"reputation":782,"user_id":6294804,"accept_rate":92,"display_name":"Rajib Biswas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9488,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52302709,"answer_count":4,"score":2,"last_activity_date":1690951046,"creation_date":1536309967,"question_id":52218759,"body_markdown":"I am using AXIS (1.4) client to invoke SOAP web services and JDK version is 8. Getting following intermittent error for some of the SOAP service invocations. This is happening for 5-10 requests out of 1000 requests under load condition.\r\n\r\n    Caused by: org.apache.axis.AxisFault: java.util.ConcurrentModificationException\r\n\tat org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java:223) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java:130) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java:1104) ~[axis-1.4.jar:na]\r\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) ~[na:na]\r\n\tat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:241) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.Message.getSOAPEnvelope(Message.java:435) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invokeEngine(Call.java:2782) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2765) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2443) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invoke(Call.java:2366) ~[axis-1.4.jar:na]\r\n\tat org.apache.axis.client.Call.invoke(Call.java:1812) ~[axis-1.4.jar:na]\r\n\tat com.te.prodirectory.services.client.PaymentWSSoapBindingStub.validateVamPayment(PaymentWSSoapBindingStub.java:423) ~[directory-qe-client-3.2.0-VAM2-RC24.jar:3.2.0-VAM2-RC24]\r\n\tat com.te.prodirectory.services.payment.PaymentServiceWsImpl.validateVamPayment(PaymentServiceWsImpl.java:34) ~[directory-qe-client-3.2.0-VAM2-RC24.jar:3.2.0-VAM2-RC24]\r\n\t... 37 common frames omitted\r\n\r\nNOTE: When we used same AXIS client with JDK 7, did not face this issue at all.\r\n\r\nI tried searching for similar issue of AXIS with JDK 8, there are some compatibility issues, but nothing like the one that I am facing currently.","title":"AXIS Client 1.4 with JDK 8 gives org.apache.axis.AxisFault: java.util.ConcurrentModificationException","body":"<p>I am using AXIS (1.4) client to invoke SOAP web services and JDK version is 8. Getting following intermittent error for some of the SOAP service invocations. This is happening for 5-10 requests out of 1000 requests under load condition.</p>\n\n<pre><code>Caused by: org.apache.axis.AxisFault: java.util.ConcurrentModificationException\nat org.apache.axis.message.SOAPFaultBuilder.createFault(SOAPFaultBuilder.java:223) ~[axis-1.4.jar:na]\nat org.apache.axis.message.SOAPFaultBuilder.endElement(SOAPFaultBuilder.java:130) ~[axis-1.4.jar:na]\nat org.apache.axis.encoding.DeserializationContext.endElement(DeserializationContext.java:1104) ~[axis-1.4.jar:na]\nat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source) ~[na:na]\nat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source) ~[na:na]\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) ~[na:na]\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) ~[na:na]\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[na:na]\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) ~[na:na]\nat org.apache.xerces.parsers.XMLParser.parse(Unknown Source) ~[na:na]\nat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) ~[na:na]\nat org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source) ~[na:na]\nat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:241) ~[axis-1.4.jar:na]\nat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696) ~[axis-1.4.jar:na]\nat org.apache.axis.Message.getSOAPEnvelope(Message.java:435) ~[axis-1.4.jar:na]\nat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62) ~[axis-1.4.jar:na]\nat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invokeEngine(Call.java:2782) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invoke(Call.java:2765) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invoke(Call.java:2443) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invoke(Call.java:2366) ~[axis-1.4.jar:na]\nat org.apache.axis.client.Call.invoke(Call.java:1812) ~[axis-1.4.jar:na]\nat com.te.prodirectory.services.client.PaymentWSSoapBindingStub.validateVamPayment(PaymentWSSoapBindingStub.java:423) ~[directory-qe-client-3.2.0-VAM2-RC24.jar:3.2.0-VAM2-RC24]\nat com.te.prodirectory.services.payment.PaymentServiceWsImpl.validateVamPayment(PaymentServiceWsImpl.java:34) ~[directory-qe-client-3.2.0-VAM2-RC24.jar:3.2.0-VAM2-RC24]\n... 37 common frames omitted\n</code></pre>\n\n<p>NOTE: When we used same AXIS client with JDK 7, did not face this issue at all.</p>\n\n<p>I tried searching for similar issue of AXIS with JDK 8, there are some compatibility issues, but nothing like the one that I am facing currently.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9720,"page":272,"page_size":100}
