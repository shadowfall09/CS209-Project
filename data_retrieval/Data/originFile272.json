{"items":[{"tags":["java","android","kotlin","android-recyclerview","admob"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1549520911,"post_id":54567494,"comment_id":95933083,"body_markdown":"You need to use multiple view types with recyclerview for hint check this answer https://stackoverflow.com/a/53779566/7666442","body":"You need to use multiple view types with recyclerview for hint check this answer <a href=\"https://stackoverflow.com/a/53779566/7666442\">stackoverflow.com/a/53779566/7666442</a>"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549521063,"post_id":54567494,"comment_id":95933134,"body_markdown":"iam using multiple view holder","body":"iam using multiple view holder"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522291,"post_id":54567494,"comment_id":95933612,"body_markdown":"You can check the google sample code for adding banner ads in recycler view: https://github.com/googlesamples/android-ads/tree/master/advanced/BannerRecyclerViewExample","body":"You can check the google sample code for adding banner ads in recycler view: <a href=\"https://github.com/googlesamples/android-ads/tree/master/advanced/BannerRecyclerViewExample\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-ads/tree/master/advanced/&hellip;</a>"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522506,"post_id":54567494,"comment_id":95933693,"body_markdown":"Also. please state the exact issue you are facing, is the ad not appearing in list?","body":"Also. please state the exact issue you are facing, is the ad not appearing in list?"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522531,"post_id":54567494,"comment_id":95933710,"body_markdown":"but its a LinearLayoutManager manager exmaple","body":"but its a LinearLayoutManager manager exmaple"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522652,"post_id":54567494,"comment_id":95933771,"body_markdown":"Ad is appearing but its overlapping my content and iam using banner ad","body":"Ad is appearing but its overlapping my content and iam using banner ad"},{"owner":{"account_id":5554423,"reputation":1640,"user_id":4406346,"accept_rate":42,"display_name":"Iffat Fatima"},"score":0,"creation_date":1549522728,"post_id":54567494,"comment_id":95933804,"body_markdown":"Please edit the question to include code of your xml layout files as well.","body":"Please edit the question to include code of your xml layout files as well."},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549522839,"post_id":54567494,"comment_id":95933853,"body_markdown":"which type of Ad should i use","body":"which type of Ad should i use"},{"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"score":0,"creation_date":1549523171,"post_id":54567494,"comment_id":95933982,"body_markdown":"ok i added my xml layout","body":"ok i added my xml layout"}],"answers":[{"tags":[],"owner":{"account_id":15172570,"reputation":203,"user_id":10948181,"display_name":"Kartika Vij"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549525351,"creation_date":1549525351,"answer_id":54568481,"question_id":54567494,"body_markdown":"You can set the Visibility of your AdView in onBindViewHolder() on the basis of position\r\n","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>You can set the Visibility of your AdView in onBindViewHolder() on the basis of position</p>\n"},{"comments":[{"owner":{"account_id":7541067,"reputation":763,"user_id":5725622,"display_name":"Parth Lotia"},"score":0,"creation_date":1549533091,"post_id":54569373,"comment_id":95938755,"body_markdown":"In Your Adapter there is method getItemCount() \nreturn with \nitems_count + (items_count % 5);","body":"In Your Adapter there is method getItemCount()  return with  items_count + (items_count % 5);"}],"tags":[],"owner":{"account_id":7541067,"reputation":763,"user_id":5725622,"display_name":"Parth Lotia"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549529069,"creation_date":1549529069,"answer_id":54569373,"question_id":54567494,"body_markdown":"Try to display Ad after 5 or 10 values in RecyclerView.\r\nLike:\r\n\r\n    @Override\r\n    public int getItemViewType(int position) \r\n    {     \r\n        if (position % 5 == 0)\r\n        return AD_TYPE; \r\n       return CONTENT_TYPE;\r\n    }\r\n\r\nAnd Don&#39;t Forget to change getItemCount() Method.","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>Try to display Ad after 5 or 10 values in RecyclerView.\nLike:</p>\n\n<pre><code>@Override\npublic int getItemViewType(int position) \n{     \n    if (position % 5 == 0)\n    return AD_TYPE; \n   return CONTENT_TYPE;\n}\n</code></pre>\n\n<p>And Don't Forget to change getItemCount() Method.</p>\n"},{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673256881,"creation_date":1673256881,"answer_id":75055360,"question_id":54567494,"body_markdown":"I found my solution in this code.\r\n\r\n```java\r\nfinal GridLayoutManager.SpanSizeLookup spl = gridLayoutManager.getSpanSizeLookup();\r\n        gridLayoutManager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() {\r\n            @Override\r\n            public int getSpanSize(int position) {\r\n                if (!isAdPosition(position)) {\r\n                    return spl.getSpanSize(position);\r\n                }\r\n                return mParam.gridLayoutManager.getSpanCount();\r\n            }\r\n        });\r\n```\r\n\r\n```\r\nprivate boolean isAdPosition(int position) {\r\n    return (position + 1) % (adItemInterval + 1) == 0;\r\n}\r\n```\r\n\r\n- Here, `adItemInterval` is position whare you put your ad.","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I found my solution in this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final GridLayoutManager.SpanSizeLookup spl = gridLayoutManager.getSpanSizeLookup();\n        gridLayoutManager.setSpanSizeLookup(new GridLayoutManager.SpanSizeLookup() {\n            @Override\n            public int getSpanSize(int position) {\n                if (!isAdPosition(position)) {\n                    return spl.getSpanSize(position);\n                }\n                return mParam.gridLayoutManager.getSpanCount();\n            }\n        });\n</code></pre>\n<pre><code>private boolean isAdPosition(int position) {\n    return (position + 1) % (adItemInterval + 1) == 0;\n}\n</code></pre>\n<ul>\n<li>Here, <code>adItemInterval</code> is position whare you put your ad.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21855635,"reputation":59,"user_id":16147070,"display_name":"Hussnain Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691043032,"creation_date":1691043032,"answer_id":76825305,"question_id":54567494,"body_markdown":"I you are Kotlin lover, try below code to display Ad (In Adapter) in Grid Layout.\r\n\r\nIn your activity/fragment:\r\n\r\n     binding.apply {\r\n            val gridLayoutManager = GridLayoutManager(mContext, 3)\r\n            gridLayoutManager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\r\n                override fun getSpanSize(position: Int): Int {\r\n                    if (::itemsAdapter.isInitialized) {\r\n                        return if (itemsAdapter.currentList[position].itemName == &quot;NativeAd&quot;) {\r\n                            3\r\n                        } else {\r\n                            1\r\n                        }\r\n                    }\r\n                    return 1\r\n                }\r\n            }\r\n            itemsRecyclerView.layoutManager = gridLayoutManager\r\n            if (::itemsAdapter.isInitialized) {\r\n                itemsRecyclerView.adapter = itemsAdapter\r\n                itemsAdapter.submitList(itemsList)\r\n            }\r\n\r\n        }\r\n\r\n**In Your Adapter Override below method**\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        return when (getItem(position).itemName) {\r\n            &quot;NativeAd&quot; -&gt; {\r\n                0\r\n            }\r\n\r\n            else -&gt; 1\r\n        }\r\n\r\n    }\r\n\r\n**Your onCreateViewHolder will coded like below**\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        when (viewType) {\r\n            0 -&gt; {\r\n                return AdHolder(\r\n                    RecyclerviewadsBinding.inflate(\r\n                        LayoutInflater.from(parent.context),\r\n                        parent,\r\n                        false\r\n                    )\r\n                )\r\n            }\r\n\r\n            else -&gt; {\r\n                return MainItemsAdapterViewHolder(\r\n                    MainItemsSmapleBinding.inflate(\r\n                        LayoutInflater.from(parent.context),\r\n                        parent,\r\n                        false\r\n                    )\r\n                )\r\n            }\r\n        }\r\n    }\r\n**And onBindViewHolder code is:**\r\n\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        when (holder.itemViewType) {\r\n            0 -&gt; {\r\n                (holder as AdHolder).loadNative()\r\n            }\r\n\r\n            else -&gt; {\r\n                (holder as MainItemsAdapterViewHolder).bindData(getItem(position))\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n**Note: Make sure you have adjust Ad position in list(after how many items you want to show Ad, For any confusion you can ask for full code or any help**","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I you are Kotlin lover, try below code to display Ad (In Adapter) in Grid Layout.</p>\n<p>In your activity/fragment:</p>\n<pre><code> binding.apply {\n        val gridLayoutManager = GridLayoutManager(mContext, 3)\n        gridLayoutManager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\n            override fun getSpanSize(position: Int): Int {\n                if (::itemsAdapter.isInitialized) {\n                    return if (itemsAdapter.currentList[position].itemName == &quot;NativeAd&quot;) {\n                        3\n                    } else {\n                        1\n                    }\n                }\n                return 1\n            }\n        }\n        itemsRecyclerView.layoutManager = gridLayoutManager\n        if (::itemsAdapter.isInitialized) {\n            itemsRecyclerView.adapter = itemsAdapter\n            itemsAdapter.submitList(itemsList)\n        }\n\n    }\n</code></pre>\n<p><strong>In Your Adapter Override below method</strong></p>\n<pre><code>override fun getItemViewType(position: Int): Int {\n    return when (getItem(position).itemName) {\n        &quot;NativeAd&quot; -&gt; {\n            0\n        }\n\n        else -&gt; 1\n    }\n\n}\n</code></pre>\n<p><strong>Your onCreateViewHolder will coded like below</strong></p>\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    when (viewType) {\n        0 -&gt; {\n            return AdHolder(\n                RecyclerviewadsBinding.inflate(\n                    LayoutInflater.from(parent.context),\n                    parent,\n                    false\n                )\n            )\n        }\n\n        else -&gt; {\n            return MainItemsAdapterViewHolder(\n                MainItemsSmapleBinding.inflate(\n                    LayoutInflater.from(parent.context),\n                    parent,\n                    false\n                )\n            )\n        }\n    }\n}\n</code></pre>\n<p><strong>And onBindViewHolder code is:</strong></p>\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    when (holder.itemViewType) {\n        0 -&gt; {\n            (holder as AdHolder).loadNative()\n        }\n\n        else -&gt; {\n            (holder as MainItemsAdapterViewHolder).bindData(getItem(position))\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>Note: Make sure you have adjust Ad position in list(after how many items you want to show Ad, For any confusion you can ask for full code or any help</strong></p>\n"}],"owner":{"account_id":13713834,"reputation":55,"user_id":9895392,"display_name":"Developer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1691043032,"creation_date":1549520868,"question_id":54567494,"body_markdown":"I&#39;m trying to implement Admob ad in a RecyclerView. I tried a lot of examples but failed. I want to insert one ad between 3 items of my RecyclerView, I am using GridLayout with Admob banner . I want my app view like below. Any help would be appreciated. \r\n\r\n[![i want Ad like below image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/msO1h.png\r\n\r\nMy RecyclerView adapter\r\n\r\n      class ProductAdapter(private val userList: ArrayList&lt;Model.ProductList&gt;, private val context: Context, private val which: String) : androidx.recyclerview.widget.RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n\r\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n        if (holder.itemViewType == 0) {\r\n            holder as MyViewHolder2\r\n            val adRequest = AdRequest.Builder().build()\r\n            holder.adView.loadAd(adRequest)\r\n            holder.adView.adListener = object : AdListener() {\r\n                override fun onAdFailedToLoad(errorCode: Int) {\r\n                    Log.d(&quot;errorCode&quot;, errorCode.toString())\r\n                }\r\n            }\r\n        } else {\r\n            holder as MyViewHolder\r\n          \r\n            val magazineList: Model.ProductList = userList[position]\r\n            Glide.with(context).load(magazineList.featured_image)\r\n                .thumbnail(0.5f)\r\n                .into(holder.image)\r\n\r\n            holder.title.text = magazineList.post_title\r\n            holder.views.text = magazineList.count\r\n            holder.date.text = magazineList.offer_valid\r\n          \r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n        if (viewType == 0) {\r\n            return MyViewHolder2(LayoutInflater.from(parent.context).inflate(R.layout.ad_list_row, parent, false))\r\n        } else {\r\n            return MyViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.product_list_row, parent, false))\r\n\r\n        }\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return userList.size\r\n    }\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        return if (position&gt;0 &amp;&amp; position % 3== 0) {\r\n            0\r\n        } else {\r\n            1\r\n        }\r\n      }\r\n\r\n    class MyViewHolder(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\r\n        var image: ImageView = itemView.findViewById(R.id.productImage)\r\n        var title: TextView = itemView.findViewById(R.id.title)\r\n        var views: TextView = itemView.findViewById(R.id.views)\r\n        var date: TextView = itemView.findViewById(R.id.date)\r\n        var next: androidx.cardview.widget.CardView = itemView.findViewById(R.id.next)\r\n    }\r\n\r\n    class MyViewHolder2(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\r\n        var adView: AdView = itemView.findViewById(R.id.adView)\r\n    }\r\n    }\r\n\r\n\r\nI&#39;m trying to add an Admob banner in a recyclerview.\r\n\r\nMy xml files \r\n\r\n\r\nad_list_row.xml\r\n\r\n      &lt;RelativeLayout xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n                xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;com.google.android.gms.ads.AdView\r\n\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:background=&quot;@color/colorAccent&quot;\r\n            ads:adSize=&quot;BANNER&quot;\r\n            ads:adUnitId=&quot;@string/banner_ad_unit_id_TEST&quot;/&gt;\r\n           &lt;/RelativeLayout&gt;\r\n\r\nproduct_list_row.xml\r\n\r\n     &lt;androidx.cardview.widget.CardView\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/next&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;205dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_marginStart=&quot;3dp&quot;\r\n        android:layout_marginTop=&quot;6dp&quot;\r\n        android:layout_marginEnd=&quot;4dp&quot;\r\n        android:layout_marginBottom=&quot;7dp&quot;\r\n        card_view:cardCornerRadius=&quot;4dp&quot;&gt;\r\n    &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    &gt;\r\n        &lt;ImageView android:layout_width=&quot;match_parent&quot;\r\n                   android:layout_height=&quot;150dp&quot;\r\n                   android:scaleType=&quot;matrix&quot;\r\n                   android:padding=&quot;4dp&quot;\r\n                   android:contentDescription=&quot;@string/app_name&quot;\r\n                   android:id=&quot;@+id/productImage&quot;\r\n        /&gt;\r\n\r\n        &lt;TextView android:layout_width=&quot;wrap_content&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;\r\n                  android:text=&quot;@string/title&quot;\r\n                  android:textSize=&quot;14sp&quot;\r\n                  android:id=&quot;@+id/title&quot;\r\n                  android:textStyle=&quot;bold&quot;\r\n                  android:textColor=&quot;@color/colorText2&quot;\r\n                  android:padding=&quot;5dp&quot;\r\n                  android:layout_marginStart=&quot;5dp&quot;\r\n                  android:layout_below=&quot;@+id/productImage&quot;\r\n                  android:lines=&quot;1&quot;\r\n                  android:ellipsize=&quot;end&quot;\r\n        /&gt;\r\n        &lt;LinearLayout android:layout_width=&quot;match_parent&quot;\r\n                      android:layout_height=&quot;wrap_content&quot;\r\n                      android:layout_below=&quot;@+id/title&quot;\r\n                      android:weightSum=&quot;1&quot;\r\n        &gt;\r\n            &lt;TextView android:layout_width=&quot;match_parent&quot;\r\n                      android:layout_height=&quot;wrap_content&quot;\r\n                      android:textSize=&quot;10sp&quot;\r\n                      android:textStyle=&quot;italic&quot;\r\n                      android:id=&quot;@+id/date&quot;\r\n                      android:layout_marginStart=&quot;10dp&quot;\r\n                      android:layout_weight=&quot;0.3&quot;\r\n                      android:textColor=&quot;@color/colorPrimary&quot;\r\n                      tools:ignore=&quot;SmallSp&quot;/&gt;\r\n            &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;0.7&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;ImageView\r\n                        android:layout_width=&quot;15dp&quot;\r\n                        android:layout_height=&quot;15dp&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:src=&quot;@drawable/ic_dark_eye&quot;\r\n                        android:scaleType=&quot;fitXY&quot;\r\n                        android:background=&quot;@color/colorAccent&quot;\r\n                        android:layout_marginStart=&quot;3dp&quot;\r\n                        android:contentDescription=&quot;@string/app_name&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                        android:id=&quot;@+id/views&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_gravity=&quot;center_vertical&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:lines=&quot;1&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        android:textSize=&quot;10sp&quot;\r\n                        tools:ignore=&quot;SmallSp&quot;/&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n     &lt;/androidx.cardview.widget.CardView&gt;","title":"How to add Admob Ad between Recyclerview GridLayout","body":"<p>I'm trying to implement Admob ad in a RecyclerView. I tried a lot of examples but failed. I want to insert one ad between 3 items of my RecyclerView, I am using GridLayout with Admob banner . I want my app view like below. Any help would be appreciated. </p>\n\n<p><a href=\"https://i.stack.imgur.com/msO1h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/msO1h.png\" alt=\"i want Ad like below image\"></a></p>\n\n<p>My RecyclerView adapter</p>\n\n<pre><code>  class ProductAdapter(private val userList: ArrayList&lt;Model.ProductList&gt;, private val context: Context, private val which: String) : androidx.recyclerview.widget.RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\noverride fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n    if (holder.itemViewType == 0) {\n        holder as MyViewHolder2\n        val adRequest = AdRequest.Builder().build()\n        holder.adView.loadAd(adRequest)\n        holder.adView.adListener = object : AdListener() {\n            override fun onAdFailedToLoad(errorCode: Int) {\n                Log.d(\"errorCode\", errorCode.toString())\n            }\n        }\n    } else {\n        holder as MyViewHolder\n\n        val magazineList: Model.ProductList = userList[position]\n        Glide.with(context).load(magazineList.featured_image)\n            .thumbnail(0.5f)\n            .into(holder.image)\n\n        holder.title.text = magazineList.post_title\n        holder.views.text = magazineList.count\n        holder.date.text = magazineList.offer_valid\n\n        }\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n    if (viewType == 0) {\n        return MyViewHolder2(LayoutInflater.from(parent.context).inflate(R.layout.ad_list_row, parent, false))\n    } else {\n        return MyViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.product_list_row, parent, false))\n\n    }\n}\n\noverride fun getItemCount(): Int {\n    return userList.size\n}\n\noverride fun getItemViewType(position: Int): Int {\n    return if (position&gt;0 &amp;&amp; position % 3== 0) {\n        0\n    } else {\n        1\n    }\n  }\n\nclass MyViewHolder(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\n    var image: ImageView = itemView.findViewById(R.id.productImage)\n    var title: TextView = itemView.findViewById(R.id.title)\n    var views: TextView = itemView.findViewById(R.id.views)\n    var date: TextView = itemView.findViewById(R.id.date)\n    var next: androidx.cardview.widget.CardView = itemView.findViewById(R.id.next)\n}\n\nclass MyViewHolder2(itemView: View) : androidx.recyclerview.widget.RecyclerView.ViewHolder(itemView) {\n    var adView: AdView = itemView.findViewById(R.id.adView)\n}\n}\n</code></pre>\n\n<p>I'm trying to add an Admob banner in a recyclerview.</p>\n\n<p>My xml files </p>\n\n<p>ad_list_row.xml</p>\n\n<pre><code>  &lt;RelativeLayout xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n            xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n&lt;com.google.android.gms.ads.AdView\n\n        android:id=\"@+id/adView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"10dp\"\n        android:background=\"@color/colorAccent\"\n        ads:adSize=\"BANNER\"\n        ads:adUnitId=\"@string/banner_ad_unit_id_TEST\"/&gt;\n       &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>product_list_row.xml</p>\n\n<pre><code> &lt;androidx.cardview.widget.CardView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:card_view=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/next\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"205dp\"\n    android:layout_gravity=\"center\"\n    android:layout_marginStart=\"3dp\"\n    android:layout_marginTop=\"6dp\"\n    android:layout_marginEnd=\"4dp\"\n    android:layout_marginBottom=\"7dp\"\n    card_view:cardCornerRadius=\"4dp\"&gt;\n&lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n&gt;\n    &lt;ImageView android:layout_width=\"match_parent\"\n               android:layout_height=\"150dp\"\n               android:scaleType=\"matrix\"\n               android:padding=\"4dp\"\n               android:contentDescription=\"@string/app_name\"\n               android:id=\"@+id/productImage\"\n    /&gt;\n\n    &lt;TextView android:layout_width=\"wrap_content\"\n              android:layout_height=\"wrap_content\"\n              android:text=\"@string/title\"\n              android:textSize=\"14sp\"\n              android:id=\"@+id/title\"\n              android:textStyle=\"bold\"\n              android:textColor=\"@color/colorText2\"\n              android:padding=\"5dp\"\n              android:layout_marginStart=\"5dp\"\n              android:layout_below=\"@+id/productImage\"\n              android:lines=\"1\"\n              android:ellipsize=\"end\"\n    /&gt;\n    &lt;LinearLayout android:layout_width=\"match_parent\"\n                  android:layout_height=\"wrap_content\"\n                  android:layout_below=\"@+id/title\"\n                  android:weightSum=\"1\"\n    &gt;\n        &lt;TextView android:layout_width=\"match_parent\"\n                  android:layout_height=\"wrap_content\"\n                  android:textSize=\"10sp\"\n                  android:textStyle=\"italic\"\n                  android:id=\"@+id/date\"\n                  android:layout_marginStart=\"10dp\"\n                  android:layout_weight=\"0.3\"\n                  android:textColor=\"@color/colorPrimary\"\n                  tools:ignore=\"SmallSp\"/&gt;\n        &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"0.7\"\n                android:layout_gravity=\"center_horizontal\"\n                android:gravity=\"center_horizontal\"\n                android:orientation=\"horizontal\"&gt;\n\n            &lt;ImageView\n                    android:layout_width=\"15dp\"\n                    android:layout_height=\"15dp\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:gravity=\"center_vertical\"\n                    android:src=\"@drawable/ic_dark_eye\"\n                    android:scaleType=\"fitXY\"\n                    android:background=\"@color/colorAccent\"\n                    android:layout_marginStart=\"3dp\"\n                    android:contentDescription=\"@string/app_name\"/&gt;\n\n            &lt;TextView\n                    android:id=\"@+id/views\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"center_vertical\"\n                    android:gravity=\"center_vertical\"\n                    android:lines=\"1\"\n                    android:layout_marginStart=\"5dp\"\n                    android:textSize=\"10sp\"\n                    tools:ignore=\"SmallSp\"/&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","docker","selenium-webdriver","webdriver-manager","webdrivermanager-java"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1691043415,"post_id":76825268,"comment_id":135437877,"body_markdown":"Missing .setup()? WebDriverManager.chromedriver()\n                .capabilities(options)\n                .browserInDocker()\n                .enableVnc()\n                .enableRecording()\n                .setup();","body":"Missing .setup()? WebDriverManager.chromedriver()                 .capabilities(options)                 .browserInDocker()                 .enableVnc()                 .enableRecording()                 .setup();"},{"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"score":0,"creation_date":1692708094,"post_id":76825268,"comment_id":135658446,"body_markdown":"I think this is still an open issue. See https://github.com/bonigarcia/webdrivermanager/issues/947","body":"I think this is still an open issue. See <a href=\"https://github.com/bonigarcia/webdrivermanager/issues/947\" rel=\"nofollow noreferrer\">github.com/bonigarcia/webdrivermanager/issues/947</a>"}],"owner":{"account_id":904283,"reputation":432,"user_id":970082,"accept_rate":86,"display_name":"Sasha Kolsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691042543,"creation_date":1691042543,"question_id":76825268,"body_markdown":"I&#39;ve been trying to run this for a couple of hours, but nothing seemed to do the trick.\r\n\r\nI have Docker Desktop and the container seem to start up on script execution, but nothing happens for 30 seconds, then it timesout with the message: `Caused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object`\r\n\r\nWhat am I missing?\r\nPlease advise.\r\n\r\n**Script:**\r\n\r\n```java\r\npackage com.dictality.allure;\r\n\r\nimport org.junit.jupiter.api.*;\r\nimport org.openqa.selenium.WebDriver;\r\n\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\n\r\nclass DockerChromeTest {\r\n\r\n    WebDriver driver;\r\n\r\n    static ChromeOptions options = new ChromeOptions();\r\n    static WebDriverManager wdm;\r\n\r\n    @BeforeAll\r\n    static void init() {\r\n\r\n        // these were advised by some stack-overflow thread, but do nothing to resolve the issue\r\n        options.addArguments(&quot;--no-sandbox&quot;);\r\n        options.addArguments(&quot;--remote-debugging-port=9222&quot;);\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--disable-gpu&quot;);\r\n\r\n        wdm = WebDriverManager\r\n                .chromedriver()\r\n                .capabilities(options)\r\n                .browserInDocker()\r\n                .enableVnc()\r\n                .enableRecording();\r\n    }\r\n\r\n    @BeforeEach\r\n    void setupTest() {\r\n        driver = wdm.create();\r\n    }\r\n\r\n    @AfterEach\r\n    void teardown() {\r\n        wdm.quit();\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\r\n        Assertions.assertTrue(driver.getTitle().contains(&quot;Selenium WebDriver&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Stacktrace:**\r\n\r\n```\r\nAug 02, 2023 10:45:11 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\n\r\nThere was an error creating WebDriver object for Chrome\r\nio.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1756)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:426)\r\n\tat app//com.dictality.allure.DockerChromeTest.setupTest(DockerChromeTest.java:33)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//io.qameta.allure.junit5.AllureJunit5.processFixture(AllureJunit5.java:138)\r\n\tat app//io.qameta.allure.junit5.AllureJunit5.interceptBeforeEachMethod(AllureJunit5.java:116)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object\r\n\tat app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:99)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.createDockerWebDriver(WebDriverManager.java:1883)\r\n\tat app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1736)\r\n\t... 96 more\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\nHost info: host: &#39;alexmbp22.monkeybrains.net&#39;, ip: &#39;fde3:8b16:f14:409b:1435:b8be:e47d:157c%en0&#39;\r\nBuild info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;13.4&#39;, java.version: &#39;17.0.7&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}]}]\r\nCapabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\r\n\tat app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n\tat app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat app//org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\r\n\tat app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:90)\r\n\t... 98 more\r\n```\r\n\r\n**Screenshot of the docker log container that does starts up and exits (after 30 seconds)**\r\n\r\n[![Screenshot of the docker log container that does starts up and exits][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pJi58.jpg","title":"Unable to run example of WebDriverManager 5 browsers in Docker containers feature","body":"<p>I've been trying to run this for a couple of hours, but nothing seemed to do the trick.</p>\n<p>I have Docker Desktop and the container seem to start up on script execution, but nothing happens for 30 seconds, then it timesout with the message: <code>Caused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object</code></p>\n<p>What am I missing?\nPlease advise.</p>\n<p><strong>Script:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.dictality.allure;\n\nimport org.junit.jupiter.api.*;\nimport org.openqa.selenium.WebDriver;\n\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nclass DockerChromeTest {\n\n    WebDriver driver;\n\n    static ChromeOptions options = new ChromeOptions();\n    static WebDriverManager wdm;\n\n    @BeforeAll\n    static void init() {\n\n        // these were advised by some stack-overflow thread, but do nothing to resolve the issue\n        options.addArguments(&quot;--no-sandbox&quot;);\n        options.addArguments(&quot;--remote-debugging-port=9222&quot;);\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n\n        wdm = WebDriverManager\n                .chromedriver()\n                .capabilities(options)\n                .browserInDocker()\n                .enableVnc()\n                .enableRecording();\n    }\n\n    @BeforeEach\n    void setupTest() {\n        driver = wdm.create();\n    }\n\n    @AfterEach\n    void teardown() {\n        wdm.quit();\n    }\n\n    @Test\n    void test() {\n        driver.get(&quot;https://bonigarcia.dev/selenium-webdriver-java/&quot;);\n        Assertions.assertTrue(driver.getTitle().contains(&quot;Selenium WebDriver&quot;));\n    }\n\n}\n</code></pre>\n<p><strong>Stacktrace:</strong></p>\n<pre><code>Aug 02, 2023 10:45:11 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\n\nThere was an error creating WebDriver object for Chrome\nio.github.bonigarcia.wdm.config.WebDriverManagerException: There was an error creating WebDriver object for Chrome\n    at app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1756)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.create(WebDriverManager.java:426)\n    at app//com.dictality.allure.DockerChromeTest.setupTest(DockerChromeTest.java:33)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//io.qameta.allure.junit5.AllureJunit5.processFixture(AllureJunit5.java:138)\n    at app//io.qameta.allure.junit5.AllureJunit5.interceptBeforeEachMethod(AllureJunit5.java:116)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.7/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.7/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.7/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: io.github.bonigarcia.wdm.config.WebDriverManagerException: Timeout of 30 seconds creating WebDriver object\n    at app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:99)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.createDockerWebDriver(WebDriverManager.java:1883)\n    at app//io.github.bonigarcia.wdm.WebDriverManager.instantiateDriver(WebDriverManager.java:1736)\n    ... 96 more\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (chrome not reachable)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nHost info: host: 'alexmbp22.monkeybrains.net', ip: 'fde3:8b16:f14:409b:1435:b8be:e47d:157c%en0'\nBuild info: version: '4.9.0', revision: 'd7057100a6'\nSystem info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '13.4', java.version: '17.0.7'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}]}]\nCapabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-gpu, --no-sandbox, --remote-debugging-port=9222, --headless], extensions: []}}\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\n    at app//org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\n    at app//org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at app//org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at app//org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:139)\n    at app//io.github.bonigarcia.wdm.webdriver.WebDriverCreator.createRemoteWebDriver(WebDriverCreator.java:90)\n    ... 98 more\n</code></pre>\n<p><strong>Screenshot of the docker log container that does starts up and exits (after 30 seconds)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pJi58.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pJi58.jpg\" alt=\"Screenshot of the docker log container that does starts up and exits\" /></a></p>\n"},{"tags":["java","android","firebase-realtime-database","android-glide"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690957396,"post_id":76812468,"comment_id":135423290,"body_markdown":"Instead of adding an incomplete picture, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Instead of adding an incomplete picture, please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690957437,"post_id":76812468,"comment_id":135423294,"body_markdown":"Besides that, please also show the part of the code where you&#39;re getting data from Firebase. Only the adapter is not enough.","body":"Besides that, please also show the part of the code where you&#39;re getting data from Firebase. Only the adapter is not enough."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691039022,"post_id":76812468,"comment_id":135437300,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22975759,"reputation":1,"user_id":20832458,"display_name":"Youth Hacker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691041889,"creation_date":1690898664,"question_id":76812468,"body_markdown":"```\r\npackage com.example.bloomroom;\r\n\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;{\r\n\r\n    Context context;\r\n    ArrayList&lt;Flowers&gt; list;\r\n\r\n    public MyAdapter(Context context, ArrayList&lt;Flowers&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.recylce_item,parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\r\n        Flowers flowers = list.get(position);\r\n        holder.name.setText(flowers.getName());\r\n        holder.category.setText(flowers.getCategory());\r\n        holder.price.setText(flowers.getPrice());\r\n        Log.d(&quot;TestUrl&quot;, &quot;onBindViewHolder &quot; + flowers.getFurl());\r\n        Glide.get(context).clearMemory();\r\n        new Thread(() -&gt; Glide.get(context).clearDiskCache()).start();\r\n        Glide.with(holder.imgView.getContext())\r\n                .load(flowers.getFurl())\r\n                .into(holder.imgView);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView name, category, price;\r\n        ImageView imgView;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            name=itemView.findViewById(R.id.txtName);\r\n            category=itemView.findViewById(R.id.txtCat);\r\n            price=itemView.findViewById(R.id.txtPrice);\r\n            imgView =itemView.findViewById(R.id.imgView);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to fetch some data from a Realtime Firebase Database. All string values fetched, but the image is not coming on android app.  \r\nI tried some log methods that show the url, but the file is not loading inside the application.\r\n\r\nI have already enabled the Internet access on manifest.  \r\n  \r\n[Log screeshot](https://i.stack.imgur.com/g99Gd.png)","title":"Image not fetching from Firebase Realtime Database","body":"<pre><code>package com.example.bloomroom;\n\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\n\nimport java.util.ArrayList;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;{\n\n    Context context;\n    ArrayList&lt;Flowers&gt; list;\n\n    public MyAdapter(Context context, ArrayList&lt;Flowers&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.recylce_item,parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\n        Flowers flowers = list.get(position);\n        holder.name.setText(flowers.getName());\n        holder.category.setText(flowers.getCategory());\n        holder.price.setText(flowers.getPrice());\n        Log.d(&quot;TestUrl&quot;, &quot;onBindViewHolder &quot; + flowers.getFurl());\n        Glide.get(context).clearMemory();\n        new Thread(() -&gt; Glide.get(context).clearDiskCache()).start();\n        Glide.with(holder.imgView.getContext())\n                .load(flowers.getFurl())\n                .into(holder.imgView);\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView name, category, price;\n        ImageView imgView;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            name=itemView.findViewById(R.id.txtName);\n            category=itemView.findViewById(R.id.txtCat);\n            price=itemView.findViewById(R.id.txtPrice);\n            imgView =itemView.findViewById(R.id.imgView);\n        }\n    }\n}\n</code></pre>\n<p>I tried to fetch some data from a Realtime Firebase Database. All string values fetched, but the image is not coming on android app.<br />\nI tried some log methods that show the url, but the file is not loading inside the application.</p>\n<p>I have already enabled the Internet access on manifest.</p>\n<p><a href=\"https://i.stack.imgur.com/g99Gd.png\" rel=\"nofollow noreferrer\">Log screeshot</a></p>\n"},{"tags":["java","timezone","dst"],"answers":[{"comments":[{"owner":{"account_id":2336710,"reputation":9450,"user_id":2048879,"accept_rate":71,"display_name":"ben_frankly"},"score":0,"creation_date":1383929080,"post_id":19864118,"comment_id":29545334,"body_markdown":"Very interesting, thanks. Unfortunately I am still getting &quot;false&quot; with either &quot;America/Los_Angeles&quot; or &quot;PST&quot;.","body":"Very interesting, thanks. Unfortunately I am still getting &quot;false&quot; with either &quot;America/Los_Angeles&quot; or &quot;PST&quot;."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1383929357,"post_id":19864118,"comment_id":29545509,"body_markdown":"@kennym: See my edit - your `Date` was wrong too. Note that really &quot;PST&quot; should never show up as daylight saving time either, as PST stands for Pacific *Standard* Time. Unfortunately the abbreviation is often misused to mean Pacific Time, and it looks like the built-in time zone database follows that.","body":"@kennym: See my edit - your <code>Date</code> was wrong too. Note that really &quot;PST&quot; should never show up as daylight saving time either, as PST stands for Pacific <i>Standard</i> Time. Unfortunately the abbreviation is often misused to mean Pacific Time, and it looks like the built-in time zone database follows that."},{"owner":{"account_id":2336710,"reputation":9450,"user_id":2048879,"accept_rate":71,"display_name":"ben_frankly"},"score":0,"creation_date":1383929593,"post_id":19864118,"comment_id":29545643,"body_markdown":"Thank you very much. Very informative response. I did indeed have the date wrong. Works fine now.","body":"Thank you very much. Very informative response. I did indeed have the date wrong. Works fine now."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1383929222,"creation_date":1383928592,"answer_id":19864118,"question_id":19864078,"body_markdown":"You&#39;re specifying a time zone of `GMT-8:00` - that&#39;s a fixed time zone, which is 8 hours behind of UTC *permanently*. It doesn&#39;t observe daylight saving time.\r\n\r\nIf you actually meant Pacific Time, you should specify `America/Los_Angeles` as the time zone ID. Bear in mind that different time zones switch between standard and daylight saving time at different times of the year.\r\n\r\nAdditionally, `new Date(1380931200)` is actually in January 1970 - you meant `new Date(1380931200000L)` - don&#39;t forget that the number is *milliseconds* since the Unix epoch, not *seconds*.","title":"Issue with inDaylightTime() and determing if a date is in daylight savings time","body":"<p>You're specifying a time zone of <code>GMT-8:00</code> - that's a fixed time zone, which is 8 hours behind of UTC <em>permanently</em>. It doesn't observe daylight saving time.</p>\n\n<p>If you actually meant Pacific Time, you should specify <code>America/Los_Angeles</code> as the time zone ID. Bear in mind that different time zones switch between standard and daylight saving time at different times of the year.</p>\n\n<p>Additionally, <code>new Date(1380931200)</code> is actually in January 1970 - you meant <code>new Date(1380931200000L)</code> - don't forget that the number is <em>milliseconds</em> since the Unix epoch, not <em>seconds</em>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691041359,"creation_date":1383952210,"answer_id":19870158,"question_id":19864078,"body_markdown":"The [answer by Jon Skeet][1] is correct.\r\n\r\nIn Joda-Time\r\n------------\r\nJust for fun, below is the solution in source-code using the third-party libary [Joda-Time][2] 2.3 in Java 7. \r\n\r\nDetails\r\n-------\r\nThe [DateTimeZone][3] class has a method, [isStandardOffset][4]. The only trick is that the method takes a long, the milliseconds backing the DateTime instance, accessed by calling [DateTime][5] class‘ superclass‘ ([BaseDateTime][6]) method [getMillis][7].\r\n\r\nExample Source Code\r\n-------------------\r\n\r\n    // &#169; 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\r\n\r\n    org.joda.time.DateTimeZone losAngelesTimeZone = org.joda.time.DateTimeZone.forID(&quot;America/Los_Angeles&quot;);\r\n    org.joda.time.DateTime theSecondAt6PM = new org.joda.time.DateTime( 2013, 11, 2, 18, 0, losAngelesTimeZone ) ;\r\n    org.joda.time.DateTime theThirdAt6PM = new org.joda.time.DateTime( 2013, 11, 3, 18, 0, losAngelesTimeZone ) ; // Day when DST ends.\r\n\r\n    System.out.println(&quot;This datetime &#39;theSecondAt6PM&#39;: &quot; + theSecondAt6PM + &quot; is in DST: &quot; + losAngelesTimeZone.isStandardOffset(theSecondAt6PM.getMillis()));\r\n    System.out.println(&quot;This datetime &#39;theThirdAt6PM&#39;: &quot; + theThirdAt6PM + &quot; is in DST: &quot; + losAngelesTimeZone.isStandardOffset(theThirdAt6PM.getMillis()));\r\n\r\nWhen run, note the difference in offset from UTC (-7 versus -8)…\r\n\r\n    This datetime &#39;theSecondAt6PM&#39;: 2013-11-02T18:00:00.000-07:00 is in DST: false\r\n    This datetime &#39;theThirdAt6PM&#39;: 2013-11-03T18:00:00.000-08:00 is in DST: true\r\n\r\nAbout Joda-Time…\r\n\r\n    // Joda-Time - The popular alternative to Sun/Oracle&#39;s notoriously bad date, time, and calendar classes bundled with Java 7 and earlier.\r\n    // http://www.joda.org/joda-time/\r\n\r\n    // Joda-Time will become outmoded by the JSR 310 Date and Time API introduced in Java 8.\r\n    // JSR 310 was inspired by Joda-Time but is not directly based on it.\r\n    // http://jcp.org/en/jsr/detail?id=310\r\n\r\n    // By default, Joda-Time produces strings in the standard ISO 8601 format.\r\n    // https://en.wikipedia.org/wiki/ISO_8601\r\n\r\n    // About Daylight Saving Time (DST): https://en.wikipedia.org/wiki/Daylight_saving_time\r\n\r\n    // Time Zone list: http://joda-time.sourceforge.net/timezones.html\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19864118/642706\r\n  [2]: http://www.joda.org/joda-time/\r\n  [3]: http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTimeZone.html\r\n  [4]: http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTimeZone.html#isStandardOffset%28long%29\r\n  [5]: http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html\r\n  [6]: http://joda-time.sourceforge.net/apidocs/org/joda/time/base/BaseDateTime.html\r\n  [7]: http://joda-time.sourceforge.net/apidocs/org/joda/time/base/BaseDateTime.html#getMillis%28%29","title":"Issue with inDaylightTime() and determing if a date is in daylight savings time","body":"<p>The <a href=\"https://stackoverflow.com/a/19864118/642706\">answer by Jon Skeet</a> is correct.</p>\n<h2>In Joda-Time</h2>\n<p>Just for fun, below is the solution in source-code using the third-party libary <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> 2.3 in Java 7.</p>\n<h2>Details</h2>\n<p>The <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTimeZone.html\" rel=\"nofollow noreferrer\">DateTimeZone</a> class has a method, <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTimeZone.html#isStandardOffset%28long%29\" rel=\"nofollow noreferrer\">isStandardOffset</a>. The only trick is that the method takes a long, the milliseconds backing the DateTime instance, accessed by calling <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow noreferrer\">DateTime</a> class‘ superclass‘ (<a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/base/BaseDateTime.html\" rel=\"nofollow noreferrer\">BaseDateTime</a>) method <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/base/BaseDateTime.html#getMillis%28%29\" rel=\"nofollow noreferrer\">getMillis</a>.</p>\n<h2>Example Source Code</h2>\n<pre><code>// © 2013 Basil Bourque. This source code may be used freely forever by anyone taking full responsibility for doing so.\n\norg.joda.time.DateTimeZone losAngelesTimeZone = org.joda.time.DateTimeZone.forID(&quot;America/Los_Angeles&quot;);\norg.joda.time.DateTime theSecondAt6PM = new org.joda.time.DateTime( 2013, 11, 2, 18, 0, losAngelesTimeZone ) ;\norg.joda.time.DateTime theThirdAt6PM = new org.joda.time.DateTime( 2013, 11, 3, 18, 0, losAngelesTimeZone ) ; // Day when DST ends.\n\nSystem.out.println(&quot;This datetime 'theSecondAt6PM': &quot; + theSecondAt6PM + &quot; is in DST: &quot; + losAngelesTimeZone.isStandardOffset(theSecondAt6PM.getMillis()));\nSystem.out.println(&quot;This datetime 'theThirdAt6PM': &quot; + theThirdAt6PM + &quot; is in DST: &quot; + losAngelesTimeZone.isStandardOffset(theThirdAt6PM.getMillis()));\n</code></pre>\n<p>When run, note the difference in offset from UTC (-7 versus -8)…</p>\n<pre><code>This datetime 'theSecondAt6PM': 2013-11-02T18:00:00.000-07:00 is in DST: false\nThis datetime 'theThirdAt6PM': 2013-11-03T18:00:00.000-08:00 is in DST: true\n</code></pre>\n<p>About Joda-Time…</p>\n<pre><code>// Joda-Time - The popular alternative to Sun/Oracle's notoriously bad date, time, and calendar classes bundled with Java 7 and earlier.\n// http://www.joda.org/joda-time/\n\n// Joda-Time will become outmoded by the JSR 310 Date and Time API introduced in Java 8.\n// JSR 310 was inspired by Joda-Time but is not directly based on it.\n// http://jcp.org/en/jsr/detail?id=310\n\n// By default, Joda-Time produces strings in the standard ISO 8601 format.\n// https://en.wikipedia.org/wiki/ISO_8601\n\n// About Daylight Saving Time (DST): https://en.wikipedia.org/wiki/Daylight_saving_time\n\n// Time Zone list: http://joda-time.sourceforge.net/timezones.html\n</code></pre>\n"}],"owner":{"account_id":2336710,"reputation":9450,"user_id":2048879,"accept_rate":71,"display_name":"ben_frankly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3982,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19864118,"answer_count":2,"score":1,"last_activity_date":1691041359,"creation_date":1383928473,"question_id":19864078,"body_markdown":"Have been beating my head against this and not sure what I&#39;m doing wrong here.\r\n\r\nI am testing out the inDaylightTime() method for a certain time zone but it is returning &quot;false&quot; when it should be returning &quot;true&quot; in this case. \r\n\r\n    import java.util.TimeZone;\r\n    import java.util.Date;\r\n\r\n    public class TimeZoneDemo {\r\n        public static void main( String args[] ){\r\n      \r\n            Date date = new Date(1380931200); // Sat, 05 Oct 2013, within daylight savings time.\r\n      \r\n            System.out.println(&quot;In daylight saving time: &quot; + TimeZone.getTimeZone(&quot;GMT-8:00&quot;).inDaylightTime(date));\r\n        }    \r\n    }\r\n\r\nThis code keeps printing &quot;false&quot; when it seems clear that the result should be &quot;true&quot;.\r\n\r\nWhat am I missing here? Would appreciate any guidance.","title":"Issue with inDaylightTime() and determing if a date is in daylight savings time","body":"<p>Have been beating my head against this and not sure what I'm doing wrong here.</p>\n\n<p>I am testing out the inDaylightTime() method for a certain time zone but it is returning \"false\" when it should be returning \"true\" in this case. </p>\n\n<pre><code>import java.util.TimeZone;\nimport java.util.Date;\n\npublic class TimeZoneDemo {\n    public static void main( String args[] ){\n\n        Date date = new Date(1380931200); // Sat, 05 Oct 2013, within daylight savings time.\n\n        System.out.println(\"In daylight saving time: \" + TimeZone.getTimeZone(\"GMT-8:00\").inDaylightTime(date));\n    }    \n}\n</code></pre>\n\n<p>This code keeps printing \"false\" when it seems clear that the result should be \"true\".</p>\n\n<p>What am I missing here? Would appreciate any guidance.</p>\n"},{"tags":["java","selenium-webdriver","exception","appium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691121565,"post_id":76825138,"comment_id":135451860,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28767565,"reputation":1,"user_id":22032095,"display_name":"Sandip Chopkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691041035,"creation_date":1691041035,"question_id":76825138,"body_markdown":"Server is on through command line\r\ndevice is connected and listed in adb devices\r\nusing\r\nappium 2.0 \r\njava client 8.3.0 ,\r\n selenium support 4.8.3\r\n\r\nWhy i am getting that error\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n\r\nalso  i am not getting console on appium server all console i am reading in IDE\r\n\r\nI tried many methods i aded guava library, changed mobile device , tried on virtual device, kill server  every time i am getting same error ","title":"SessionNotCreatedException Could not start a new session. Possible causes are invalid address of the remote server or browser startup failure","body":"<p>Server is on through command line\ndevice is connected and listed in adb devices\nusing\nappium 2.0\njava client 8.3.0 ,\nselenium support 4.8.3</p>\n<p>Why i am getting that error\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</p>\n<p>also  i am not getting console on appium server all console i am reading in IDE</p>\n<p>I tried many methods i aded guava library, changed mobile device , tried on virtual device, kill server  every time i am getting same error</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":5,"creation_date":1508524832,"post_id":46855327,"comment_id":80658219,"body_markdown":"sum it up and then you have your culprit missing. assuming there is no repetition and only one number is missing.\n\n`return 55 - sum`","body":"sum it up and then you have your culprit missing. assuming there is no repetition and only one number is missing.  <code>return 55 - sum</code>"}],"answers":[{"comments":[{"owner":{"account_id":12035860,"reputation":47,"user_id":8804399,"accept_rate":0,"display_name":"Malia"},"score":0,"creation_date":1508524999,"post_id":46855392,"comment_id":80658293,"body_markdown":"What do you mean by sort the array? Like an arrayList?","body":"What do you mean by sort the array? Like an arrayList?"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1508524999,"post_id":46855392,"comment_id":80658294,"body_markdown":"sorting is not necessary here. it can be done in cheaper computational way.","body":"sorting is not necessary here. it can be done in cheaper computational way."}],"tags":[],"owner":{"account_id":9460988,"reputation":812,"user_id":7034696,"display_name":"SamwellTarly"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508524863,"creation_date":1508524863,"answer_id":46855392,"question_id":46855327,"body_markdown":"There seems to be no mention on using a temporary data structure.\r\nYou can either sort the array and find the missing number, OR use a temporary sorted data structure.","title":"Finding a missing number in an array that uses a random generator","body":"<p>There seems to be no mention on using a temporary data structure.\nYou can either sort the array and find the missing number, OR use a temporary sorted data structure.</p>\n"},{"tags":[],"owner":{"account_id":5366436,"reputation":3456,"user_id":6650970,"display_name":"Piotr Wilkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508524998,"creation_date":1508524998,"answer_id":46855425,"question_id":46855327,"body_markdown":"You are conflating two things: the generator algorithm for a problem case and the solution to the problem itself. You shouldn&#39;t be interested in how the &quot;random array&quot; is generated at all (unless you want to test your solution). What you certainly shouldn&#39;t do is try to write the code that solves the problem in the method that generates the sample array. \r\n\r\nIf you want a randomly sorted list, `Collections.shuffle` will handle that for you. If you want a list without a single element, just generate a list of all elements 1..n and then remove the randomly selected number (then shuffle). So much for the generator. As for the solution, there are many methods to do it, someone already suggested using the sum, that&#39;s a perfectly valid solution.","title":"Finding a missing number in an array that uses a random generator","body":"<p>You are conflating two things: the generator algorithm for a problem case and the solution to the problem itself. You shouldn't be interested in how the \"random array\" is generated at all (unless you want to test your solution). What you certainly shouldn't do is try to write the code that solves the problem in the method that generates the sample array. </p>\n\n<p>If you want a randomly sorted list, <code>Collections.shuffle</code> will handle that for you. If you want a list without a single element, just generate a list of all elements 1..n and then remove the randomly selected number (then shuffle). So much for the generator. As for the solution, there are many methods to do it, someone already suggested using the sum, that's a perfectly valid solution.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508525692,"creation_date":1508525692,"answer_id":46855584,"question_id":46855327,"body_markdown":"# Assumption:\n * Numbers are unique\n * Only one entry is missing\n * number ranges from [1, 10] inclusive.\n\nSolution \n\n    return 55 - Arrays.stream(yourArr).sum();\n\nThis is with O(n) runtime and O(1) space complexity. \n\n\nIf we break assumptions.\n\nYou will need O(N) space to figure out which entries are missing. To hold the marker either you can use `List` or `BitSet` or 2 bytes and manage it by hand. N is here the random number generation width.\n\n\n\n","title":"Finding a missing number in an array that uses a random generator","body":"<h1>Assumption:</h1>\n<ul>\n<li>Numbers are unique</li>\n<li>Only one entry is missing</li>\n<li>number ranges from [1, 10] inclusive.</li>\n</ul>\n<p>Solution</p>\n<pre><code>return 55 - Arrays.stream(yourArr).sum();\n</code></pre>\n<p>This is with O(n) runtime and O(1) space complexity.</p>\n<p>If we break assumptions.</p>\n<p>You will need O(N) space to figure out which entries are missing. To hold the marker either you can use <code>List</code> or <code>BitSet</code> or 2 bytes and manage it by hand. N is here the random number generation width.</p>\n"},{"tags":[],"owner":{"account_id":7165000,"reputation":489,"user_id":5474413,"accept_rate":75,"display_name":"shivam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508525871,"creation_date":1508525871,"answer_id":46855634,"question_id":46855327,"body_markdown":"It seems you are looking for this code.\r\n\r\n    import java.util.Random;\r\n    \r\n    public class questionThree\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int [] numbers = new int [9];\r\n            Random rand = new Random();\r\n            int numArr = 1;\r\n            numbers[0] = rand.nextInt(10) + 1;\r\n            for (int i = 1; i &lt; 9; i++)\r\n            {\r\n                int n = rand.nextInt(10) + 1;\r\n                numbers[i] = n;\r\n                int x =0;\r\n                while(x&lt;i){\r\n                    if(numbers[x] == n){\r\n                        i = i-1;\r\n                        break;\r\n                    }\r\n                    x++;\r\n                }\r\n    \r\n            }\r\n    \r\n            int sum = 0;\r\n            for (int val : numbers) {\r\n                sum = sum + val;\r\n                System.out.println(&quot;The next value is &quot; +\r\n                        val);\r\n    \r\n            }\r\n            System.out.println(&quot;Missing number is &quot; + (55 - sum));\r\n    \r\n        }\r\n    }\r\n    \r\nOutput is - \r\n\r\n    The next value is 6\r\n    The next value is 2\r\n    The next value is 8\r\n    The next value is 1\r\n    The next value is 4\r\n    The next value is 3\r\n    The next value is 9\r\n    The next value is 10\r\n    The next value is 7\r\n    Missing number is 5\r\n\r\n**I am generating 9 Numbers between(1 to 10) randomly and then printing which number is missing among them.**","title":"Finding a missing number in an array that uses a random generator","body":"<p>It seems you are looking for this code.</p>\n\n<pre><code>import java.util.Random;\n\npublic class questionThree\n{\n    public static void main(String[] args)\n    {\n        int [] numbers = new int [9];\n        Random rand = new Random();\n        int numArr = 1;\n        numbers[0] = rand.nextInt(10) + 1;\n        for (int i = 1; i &lt; 9; i++)\n        {\n            int n = rand.nextInt(10) + 1;\n            numbers[i] = n;\n            int x =0;\n            while(x&lt;i){\n                if(numbers[x] == n){\n                    i = i-1;\n                    break;\n                }\n                x++;\n            }\n\n        }\n\n        int sum = 0;\n        for (int val : numbers) {\n            sum = sum + val;\n            System.out.println(\"The next value is \" +\n                    val);\n\n        }\n        System.out.println(\"Missing number is \" + (55 - sum));\n\n    }\n}\n</code></pre>\n\n<p>Output is - </p>\n\n<pre><code>The next value is 6\nThe next value is 2\nThe next value is 8\nThe next value is 1\nThe next value is 4\nThe next value is 3\nThe next value is 9\nThe next value is 10\nThe next value is 7\nMissing number is 5\n</code></pre>\n\n<p><strong>I am generating 9 Numbers between(1 to 10) randomly and then printing which number is missing among them.</strong></p>\n"},{"tags":[],"owner":{"account_id":10213898,"reputation":456,"user_id":8709838,"display_name":"Omar Mneimneh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508526961,"creation_date":1508526024,"answer_id":46855671,"question_id":46855327,"body_markdown":"**You have two options:**\r\n\r\n- The way I did it in the code below: setting the random array without repeating the same number. And then a for loop from 1 to 10 and check if that number exist in the array.\r\n\r\n- You know that 1 + 2 + 3 + 2 + 3 + 4 + 5 + 6 + 8 + 9 + 10 = 55. So if you get the sum of all ints in the array you will have 55 - (the missing number). So now the missing number = 55 - sum.\r\n\r\nThis is the code I did (first method):\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.Random;\r\n    \r\n    \r\n    public class questionThree\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            int [] numbers = new int [9];\r\n            Random rand = new Random();\r\n    \r\n            for (int i = 0; i &lt;9; i++)\r\n            {\r\n                //setting random numbers in array without repeating\r\n                numbers[i] = checkForANumber(rand, numbers, i);\r\n    \r\n            }\r\n    \r\n            //print all nums\r\n            for(int val: numbers) System.out.println(&quot;The next value is &quot; +\r\n                    val);\r\n    \r\n    \r\n            for (int i = 1; i &lt;= 10; i++)\r\n            {\r\n                boolean exist = false;\r\n                for(int val : numbers)\r\n                {\r\n                    if(val == i){\r\n                        exist = true;\r\n                    }\r\n    \r\n                }\r\n                if (!exist) System.out.println(&quot;The missing number is &quot; + i);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        private static int checkForANumber(Random rand, int[] numbers, int i){\r\n            int n = rand.nextInt(10) + 1;\r\n    \r\n            boolean NumAlreadyExist = false;\r\n            for(int j = 0; j &lt; i; j++)\r\n            {\r\n                if(numbers[j] == n){\r\n                    NumAlreadyExist = true;\r\n                }\r\n            }\r\n    \r\n            if(NumAlreadyExist) return checkForANumber(rand, numbers, i);\r\n            else return n;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    The next value is 9\r\n    The next value is 3\r\n    The next value is 8\r\n    The next value is 6\r\n    The next value is 7\r\n    The next value is 10\r\n    The next value is 4\r\n    The next value is 2\r\n    The next value is 1\r\n    The missing number is 5","title":"Finding a missing number in an array that uses a random generator","body":"<p><strong>You have two options:</strong></p>\n\n<ul>\n<li><p>The way I did it in the code below: setting the random array without repeating the same number. And then a for loop from 1 to 10 and check if that number exist in the array.</p></li>\n<li><p>You know that 1 + 2 + 3 + 2 + 3 + 4 + 5 + 6 + 8 + 9 + 10 = 55. So if you get the sum of all ints in the array you will have 55 - (the missing number). So now the missing number = 55 - sum.</p></li>\n</ul>\n\n<p>This is the code I did (first method):</p>\n\n<pre><code>import java.util.Random;\n\n\npublic class questionThree\n{\n    public static void main(String[] args)\n    {\n        int [] numbers = new int [9];\n        Random rand = new Random();\n\n        for (int i = 0; i &lt;9; i++)\n        {\n            //setting random numbers in array without repeating\n            numbers[i] = checkForANumber(rand, numbers, i);\n\n        }\n\n        //print all nums\n        for(int val: numbers) System.out.println(\"The next value is \" +\n                val);\n\n\n        for (int i = 1; i &lt;= 10; i++)\n        {\n            boolean exist = false;\n            for(int val : numbers)\n            {\n                if(val == i){\n                    exist = true;\n                }\n\n            }\n            if (!exist) System.out.println(\"The missing number is \" + i);\n        }\n\n\n    }\n\n    private static int checkForANumber(Random rand, int[] numbers, int i){\n        int n = rand.nextInt(10) + 1;\n\n        boolean NumAlreadyExist = false;\n        for(int j = 0; j &lt; i; j++)\n        {\n            if(numbers[j] == n){\n                NumAlreadyExist = true;\n            }\n        }\n\n        if(NumAlreadyExist) return checkForANumber(rand, numbers, i);\n        else return n;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>The next value is 9\nThe next value is 3\nThe next value is 8\nThe next value is 6\nThe next value is 7\nThe next value is 10\nThe next value is 4\nThe next value is 2\nThe next value is 1\nThe missing number is 5\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1691381070,"post_id":76825137,"comment_id":135478608,"body_markdown":"The question is tagged &quot;java&quot;. Your code is JavaScript. JavaScript and Java are two different languages so I&#39;m not sure how much your code will help the OP. If you look at the other answers you will see that they have explanations as well as code. Perhaps you should consider adding explanations of how your code works?","body":"The question is tagged &quot;java&quot;. Your code is JavaScript. JavaScript and Java are two different languages so I&#39;m not sure how much your code will help the OP. If you look at the other answers you will see that they have explanations as well as code. Perhaps you should consider adding explanations of how your code works?"}],"tags":[],"owner":{"account_id":24027656,"reputation":1,"user_id":18009064,"display_name":"Naveed Warraich"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691041032,"creation_date":1691041032,"answer_id":76825137,"question_id":46855327,"body_markdown":"    let array = [1, 2, 3, 9, 8, 7, 6, 5];\r\n    let sorrtedArray = array.sort((a, b) =&gt; a - b);\r\n    function findMissingNumber(sorrtedArray) {\r\n      let missingnumber;\r\n      for (let i = 1; i &lt;= sorrtedArray.length; i++) {\r\n        let index = sorrtedArray[i];\r\n        if (index + 1 != sorrtedArray[i + 1]) {\r\n          missingnumber = array[i] + 1;\r\n          return missingnumber;\r\n        }\r\n      }\r\n    }\r\n    let missingNumber = findMissingNumber(sorrtedArray);\r\n    array.push(missingNumber);\r\n    \r\n    console.log(array);\r\n\r\n\r\n\r\n  \r\n\r\n","title":"Finding a missing number in an array that uses a random generator","body":"<pre><code>let array = [1, 2, 3, 9, 8, 7, 6, 5];\nlet sorrtedArray = array.sort((a, b) =&gt; a - b);\nfunction findMissingNumber(sorrtedArray) {\n  let missingnumber;\n  for (let i = 1; i &lt;= sorrtedArray.length; i++) {\n    let index = sorrtedArray[i];\n    if (index + 1 != sorrtedArray[i + 1]) {\n      missingnumber = array[i] + 1;\n      return missingnumber;\n    }\n  }\n}\nlet missingNumber = findMissingNumber(sorrtedArray);\narray.push(missingNumber);\n\nconsole.log(array);\n</code></pre>\n"}],"owner":{"account_id":12035860,"reputation":47,"user_id":8804399,"accept_rate":0,"display_name":"Malia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1691041032,"creation_date":1508524584,"question_id":46855327,"body_markdown":"I&#39;m trying to make it so the random generator doesn&#39;t produce the same number in the array. I also don&#39;t know how to find the missing number. I tried the if statement, and it works, but it repeats.\r\n\r\nThe question problem &quot;find the missing number in an array. The array consists of numbers from 1 to 10 in random sequence. One of the numbers in the array is absent and you must find it. Use one loop. An example {5,6,9,4,1,2,8,3,10} – the result will be: 7\r\n\r\n\r\n    import java.util.Random;\r\n    \r\n    \r\n    public class questionThree\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        int [] numbers = new int [10];\r\n        Random rand = new Random();\r\n        int numArr = 1;\r\n        \r\n        for (int i = 1; i &lt; 9; i++)\r\n        {\r\n          int n = rand.nextInt(10) + 1; \r\n          numbers[i] = n;\r\n          \r\n          if (numbers[i] == numArr)\r\n            numArr++;\r\n          else\r\n            System.out.println(&quot;The missing num is &quot; +numArr);\r\n        }\r\n        \r\n        for(int val : numbers)\r\n        {\r\n          System.out.println(&quot;The next value is &quot; +\r\n                             val);\r\n        } \r\n      }\r\n    }","title":"Finding a missing number in an array that uses a random generator","body":"<p>I'm trying to make it so the random generator doesn't produce the same number in the array. I also don't know how to find the missing number. I tried the if statement, and it works, but it repeats.</p>\n\n<p>The question problem \"find the missing number in an array. The array consists of numbers from 1 to 10 in random sequence. One of the numbers in the array is absent and you must find it. Use one loop. An example {5,6,9,4,1,2,8,3,10} – the result will be: 7</p>\n\n<pre><code>import java.util.Random;\n\n\npublic class questionThree\n{\n  public static void main(String[] args)\n  {\n    int [] numbers = new int [10];\n    Random rand = new Random();\n    int numArr = 1;\n\n    for (int i = 1; i &lt; 9; i++)\n    {\n      int n = rand.nextInt(10) + 1; \n      numbers[i] = n;\n\n      if (numbers[i] == numArr)\n        numArr++;\n      else\n        System.out.println(\"The missing num is \" +numArr);\n    }\n\n    for(int val : numbers)\n    {\n      System.out.println(\"The next value is \" +\n                         val);\n    } \n  }\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongo-java-driver"],"answers":[{"comments":[{"owner":{"account_id":16880927,"reputation":91,"user_id":12207054,"display_name":"Kihz"},"score":0,"creation_date":1691106255,"post_id":76825100,"comment_id":135450710,"body_markdown":"This sounds like exactly what I&#39;m aiming to do!\n\nAlthough I&#39;m unsure on how to approach step 6. Usually the BSON query is applied via Mongo&#39;s Driver functions, but since I&#39;m not applying query through a MongoCollection, how do I actually apply that query to the Document object?","body":"This sounds like exactly what I&#39;m aiming to do!  Although I&#39;m unsure on how to approach step 6. Usually the BSON query is applied via Mongo&#39;s Driver functions, but since I&#39;m not applying query through a MongoCollection, how do I actually apply that query to the Document object?"}],"tags":[],"owner":{"account_id":29085283,"reputation":39,"user_id":22280287,"display_name":"Shruti Raorane"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691040675,"creation_date":1691040675,"answer_id":76825100,"question_id":76825045,"body_markdown":"One approach is to used MongoDB change streams feature .It essentially creates a cursor that remains open and continuously listens for changes to connected clients.\r\nOn server side MongoDB&#39;s official driver (e.g., MongoDB Node.js driver) to initialize a Change Stream and specify the collection you want to watch.\r\nWhen any document in the watched collection is updated according to the specified criteria, the Change Stream is triggered. The server will receive a notification for that change event.\r\nestablish a real-time communication channel between the server and the clients using web-sockets.\r\nWhen the Change Stream is triggered on the server, the server sends the updated data or the BSON query to the connected clients through the real-time communication channel. This can be done in JSON format or any other format suitable for your application.\r\n\r\n\r\nthis can be the flow:\r\n\r\n1. Client A, B, and C are connected to the server through WebSockets\r\n    (or other real-time communication).\r\n    \r\n2.  The server sets up a Change Stream to watch a specific MongoDB\r\n    collection.\r\n    \r\n3. Client A updates a document in the collection through the server\r\n    using a Bson query.\r\n    \r\n 4.The Change Stream on the server detects the change and sends a\r\n    notification to all connected clients (A, B, C).\r\n    \r\n 5.Clients A, B, and C receive the update notification from the server\r\n    through Web-Sockets.\r\n    \r\n 6.Each client (A, B, C) applies the BSON query locally to their\r\n    relevant Document object(s) stored in memory.\r\n    \r\n 7.Now, all clients (A, B, C) have the updated data locally in their\r\n    memory, and they stay in sync with the changes made to the MongoDB\r\n    collection.\r\n\r\n\r\nThis approach ensures that all clients are updated with the latest data, and the central server remains responsible for handling all interactions with the MongoDB database.","title":"MongoDB: Apply Bson Update Query to Document Object","body":"<p>One approach is to used MongoDB change streams feature .It essentially creates a cursor that remains open and continuously listens for changes to connected clients.\nOn server side MongoDB's official driver (e.g., MongoDB Node.js driver) to initialize a Change Stream and specify the collection you want to watch.\nWhen any document in the watched collection is updated according to the specified criteria, the Change Stream is triggered. The server will receive a notification for that change event.\nestablish a real-time communication channel between the server and the clients using web-sockets.\nWhen the Change Stream is triggered on the server, the server sends the updated data or the BSON query to the connected clients through the real-time communication channel. This can be done in JSON format or any other format suitable for your application.</p>\n<p>this can be the flow:</p>\n<ol>\n<li><p>Client A, B, and C are connected to the server through WebSockets\n(or other real-time communication).</p>\n</li>\n<li><p>The server sets up a Change Stream to watch a specific MongoDB\ncollection.</p>\n</li>\n<li><p>Client A updates a document in the collection through the server\nusing a Bson query.</p>\n</li>\n</ol>\n<p>4.The Change Stream on the server detects the change and sends a\nnotification to all connected clients (A, B, C).</p>\n<p>5.Clients A, B, and C receive the update notification from the server\nthrough Web-Sockets.</p>\n<p>6.Each client (A, B, C) applies the BSON query locally to their\nrelevant Document object(s) stored in memory.</p>\n<p>7.Now, all clients (A, B, C) have the updated data locally in their\nmemory, and they stay in sync with the changes made to the MongoDB\ncollection.</p>\n<p>This approach ensures that all clients are updated with the latest data, and the central server remains responsible for handling all interactions with the MongoDB database.</p>\n"}],"owner":{"account_id":16880927,"reputation":91,"user_id":12207054,"display_name":"Kihz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691040675,"creation_date":1691039856,"question_id":76825045,"body_markdown":"This might be a slightly unconventional scenario, but let me explain my situation. I have multiple clients that communicate with a central server. These clients send Bson queries to the server, which then processes and updates a specific document in MongoDB using MongoCollection#updateOne.\r\n\r\nAfter the server updates the document, it sends the Bson query to all clients that have the related data active. This helps in keeping the active user data updated across all clients.\r\n\r\nHowever, I&#39;ve hit a roadblock in the following area:\r\nThe clients store relevant data in their memory. The objects that are stored are sent from the central server. My goal is to apply the same Bson query update to the Document objects stored on the clients, mimicking the behavior of MongoCollection#updateOne. It&#39;s important to note that the clients don&#39;t have any direct access to the database; they only work with the data provided by the central server.\r\n\r\nIn essence, I&#39;m seeking a method to apply a Bson query update to a Document object without utilizing a MongoCollection. Is there a way to utilize MongoDB&#39;s functionality to achieve this, without requiring a custom implementation? Alternatively, are there any libraries or frameworks capable of efficiently handling this scenario?","title":"MongoDB: Apply Bson Update Query to Document Object","body":"<p>This might be a slightly unconventional scenario, but let me explain my situation. I have multiple clients that communicate with a central server. These clients send Bson queries to the server, which then processes and updates a specific document in MongoDB using MongoCollection#updateOne.</p>\n<p>After the server updates the document, it sends the Bson query to all clients that have the related data active. This helps in keeping the active user data updated across all clients.</p>\n<p>However, I've hit a roadblock in the following area:\nThe clients store relevant data in their memory. The objects that are stored are sent from the central server. My goal is to apply the same Bson query update to the Document objects stored on the clients, mimicking the behavior of MongoCollection#updateOne. It's important to note that the clients don't have any direct access to the database; they only work with the data provided by the central server.</p>\n<p>In essence, I'm seeking a method to apply a Bson query update to a Document object without utilizing a MongoCollection. Is there a way to utilize MongoDB's functionality to achieve this, without requiring a custom implementation? Alternatively, are there any libraries or frameworks capable of efficiently handling this scenario?</p>\n"},{"tags":["java","vaadin7","vaadin8"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1691052079,"post_id":76825068,"comment_id":135440073,"body_markdown":"It works for me as expected. Which version of Vaadin 8 you use? Could you describe in more detail what you expect to happen, and what actually happens. Also if you think it is a bug in the product, you should report it at https://github.com/vaadin/framework/issues instead.","body":"It works for me as expected. Which version of Vaadin 8 you use? Could you describe in more detail what you expect to happen, and what actually happens. Also if you think it is a bug in the product, you should report it at <a href=\"https://github.com/vaadin/framework/issues\" rel=\"nofollow noreferrer\">github.com/vaadin/framework/issues</a> instead."},{"owner":{"account_id":26260150,"reputation":1,"user_id":19931599,"display_name":"Archana"},"score":0,"creation_date":1691052600,"post_id":76825068,"comment_id":135440179,"body_markdown":"iam using  vaadin version 8.4.3","body":"iam using  vaadin version 8.4.3"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1691064705,"post_id":76825068,"comment_id":135442776,"body_markdown":"You should try version 8.14.3.","body":"You should try version 8.14.3."}],"owner":{"account_id":26260150,"reputation":1,"user_id":19931599,"display_name":"Archana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691040173,"creation_date":1691040173,"question_id":76825068,"body_markdown":"setResolution(Resolution.MINUTE)is not working in vaadin8 Datefield.But its working properly in vaadin 7\r\n```\r\ndatefield.setDateformat(&quot;dd/MM/yyyy HH:mm&quot;);\r\ndatefield.setResolution(Resolution.MINUTE);\r\n\r\n```\r\nplease help","title":"setResolution for Datefield is not working in vaadin8","body":"<p>setResolution(Resolution.MINUTE)is not working in vaadin8 Datefield.But its working properly in vaadin 7</p>\n<pre><code>datefield.setDateformat(&quot;dd/MM/yyyy HH:mm&quot;);\ndatefield.setResolution(Resolution.MINUTE);\n\n</code></pre>\n<p>please help</p>\n"},{"tags":["java","aws-lambda","aws-api-gateway"],"comments":[{"owner":{"account_id":17037984,"reputation":2282,"user_id":12326605,"display_name":"Arpit Jain"},"score":0,"creation_date":1690998772,"post_id":76818877,"comment_id":135432450,"body_markdown":"did you redeploy the application for policy changes to propagate?","body":"did you redeploy the application for policy changes to propagate?"},{"owner":{"account_id":473500,"reputation":51,"user_id":882658,"display_name":"WApp"},"score":0,"creation_date":1691038977,"post_id":76818877,"comment_id":135437293,"body_markdown":"yes, i redeployed. but not working","body":"yes, i redeployed. but not working"},{"owner":{"account_id":17037984,"reputation":2282,"user_id":12326605,"display_name":"Arpit Jain"},"score":0,"creation_date":1691064643,"post_id":76818877,"comment_id":135442765,"body_markdown":"Please share the policy and permission you have assigned.","body":"Please share the policy and permission you have assigned."},{"owner":{"account_id":473500,"reputation":51,"user_id":882658,"display_name":"WApp"},"score":0,"creation_date":1691072591,"post_id":76818877,"comment_id":135444672,"body_markdown":"I have attached the policy from the list &quot;AmazonAPIGatewayAdministrator&quot; to lambda function then it is working. Is it only way or is there a way to add the the same permissions from Lambda by going thru add permissions?","body":"I have attached the policy from the list &quot;AmazonAPIGatewayAdministrator&quot; to lambda function then it is working. Is it only way or is there a way to add the the same permissions from Lambda by going thru add permissions?"}],"owner":{"account_id":473500,"reputation":51,"user_id":882658,"display_name":"WApp"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691039043,"creation_date":1690971220,"question_id":76818877,"body_markdown":"I am invoking the CreateAPIKeyRequest POST call from Lambda Function with intention to respond with generated API key ID for each invocation. Got error message that Lambda function does not have permissions to invoke createAPI POST call.\r\n\r\nCode for the same is below: \r\n\r\n```\r\n AmazonApiGateway client = AmazonApiGatewayClientBuilder.standard().withRegion(&quot;us-east-1&quot;).build();\r\n CreateApiKeyRequest keyReq = new CreateApiKeyRequest();\r\n keyReq.setName(&quot;KEY_NAME&quot;);\r\n keyReq.setDescription(&quot;KEY_DESC&quot;);\r\n keyReq.setEnabled(true);\r\n  \r\n CreateApiKeyResult keyRes = client.createApiKey(keyReq);\r\n```\r\n\r\nAfter reading the documentation came across that i need to provide permissions so assigned Resource based permissions to Lambda function with ARN : arn:aws:apigateway:us-east-1::/apikeys. \r\n\r\nGetting the error message as &quot;**User: arn:aws:sts::XXXXXXXXXX:assumed-role/createAPIKey-role-s4puynzg/createAPIKey is not authorized to perform: apigateway:POST on resource: arn:aws:apigateway:us-east-1::/apikeys because no identity-based policy allows the apigateway:POST action (Service: AmazonApiGateway;**&quot;\r\n\r\nany inputs? ","title":"unable to Invoke CreateAPIKeyRequest from Lambda function and resulting in permission errors","body":"<p>I am invoking the CreateAPIKeyRequest POST call from Lambda Function with intention to respond with generated API key ID for each invocation. Got error message that Lambda function does not have permissions to invoke createAPI POST call.</p>\n<p>Code for the same is below:</p>\n<pre><code> AmazonApiGateway client = AmazonApiGatewayClientBuilder.standard().withRegion(&quot;us-east-1&quot;).build();\n CreateApiKeyRequest keyReq = new CreateApiKeyRequest();\n keyReq.setName(&quot;KEY_NAME&quot;);\n keyReq.setDescription(&quot;KEY_DESC&quot;);\n keyReq.setEnabled(true);\n  \n CreateApiKeyResult keyRes = client.createApiKey(keyReq);\n</code></pre>\n<p>After reading the documentation came across that i need to provide permissions so assigned Resource based permissions to Lambda function with ARN : arn:aws:apigateway:us-east-1::/apikeys.</p>\n<p>Getting the error message as &quot;<strong>User: arn:aws:sts::XXXXXXXXXX:assumed-role/createAPIKey-role-s4puynzg/createAPIKey is not authorized to perform: apigateway:POST on resource: arn:aws:apigateway:us-east-1::/apikeys because no identity-based policy allows the apigateway:POST action (Service: AmazonApiGateway;</strong>&quot;</p>\n<p>any inputs?</p>\n"},{"tags":["java","redis","spring-data","lettuce"],"owner":{"account_id":29149139,"reputation":1,"user_id":22330351,"display_name":"chrischou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691038845,"creation_date":1691037536,"question_id":76824926,"body_markdown":"\r\n\r\nMy project is based on spring boot 3, and my code runs without any issues under the jvm. However, when I compile and run it under Linux using grailvm, I encountered an error\r\nThe error is as follows:\r\n\r\n```\r\njava.lang.NoClassDefFoundError: Could not initialize class io.lettuce.core.event.connection.JfrConnectionCreatedEvent\r\n        at java.base@17.0.7/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.base@17.0.7/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at io.lettuce.core.event.jfr.JfrEventRecorder.createEvent(JfrEventRecorder.java:108)\r\n        at io.lettuce.core.event.jfr.JfrEventRecorder.record(JfrEventRecorder.java:48)\r\n        at io.lettuce.core.AbstractRedisClient.initializeChannelAsync(AbstractRedisClient.java:398)\r\n        at io.lettuce.core.RedisClient.connectStatefulAsync(RedisClient.java:325)\r\n        at io.lettuce.core.RedisClient.connectStandaloneAsync(RedisClient.java:287)\r\n        at io.lettuce.core.RedisClient.connect(RedisClient.java:216)\r\n        at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)\r\n        at java.base@17.0.7/java.util.Optional.orElseGet(Optional.java:364)\r\n        at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)\r\n        at org.springframework.data.redis.connection.lettuce.LettucePoolingConnectionProvider.lambda$getConnection$0(LettucePoolingConnectionProvider.java:93)\r\n        at io.lettuce.core.support.ConnectionPoolSupport$RedisPooledObjectFactory.create(ConnectionPoolSupport.java:211)\r\n        at io.lettuce.core.support.ConnectionPoolSupport$RedisPooledObjectFactory.create(ConnectionPoolSupport.java:201)\r\n        at org.apache.commons.pool2.BasePooledObjectFactory.makeObject(BasePooledObjectFactory.java:70)\r\n        at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:571)\r\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:298)\r\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:223)\r\n        at io.lettuce.core.support.ConnectionPoolSupport$1.borrowObject(ConnectionPoolSupport.java:122)\r\n        at io.lettuce.core.support.ConnectionPoolSupport$1.borrowObject(ConnectionPoolSupport.java:117)\r\n        at org.springframework.data.redis.connection.lettuce.LettucePoolingConnectionProvider.getConnection(LettucePoolingConnectionProvider.java:99)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1531)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1358)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1341)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1059)\r\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:398)\r\n        at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:193)\r\n        at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144)\r\n        at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105)\r\n        at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:393)\r\n        at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:373)\r\n        at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:97)\r\n        at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:50)\r\n        at com.benfei.web.util.RedisUtil.get(RedisUtil.java:71)\r\n        at com.benfei.web.socket.MessageJob.runAdmin(MessageJob.java:38)\r\n        at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\r\n        at java.base@17.0.7/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n        at java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n        at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\r\n\r\n```\r\nIt&#39;s very strange that when I didn&#39;t generate the configuration file under /META-INF/native-image, Redis can be used normally, but after adding the configuration file, such an error occurred instead","title":"Does springDataRedis not support native-image of graalvm?","body":"<p>My project is based on spring boot 3, and my code runs without any issues under the jvm. However, when I compile and run it under Linux using grailvm, I encountered an error\nThe error is as follows:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class io.lettuce.core.event.connection.JfrConnectionCreatedEvent\n        at java.base@17.0.7/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base@17.0.7/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at io.lettuce.core.event.jfr.JfrEventRecorder.createEvent(JfrEventRecorder.java:108)\n        at io.lettuce.core.event.jfr.JfrEventRecorder.record(JfrEventRecorder.java:48)\n        at io.lettuce.core.AbstractRedisClient.initializeChannelAsync(AbstractRedisClient.java:398)\n        at io.lettuce.core.RedisClient.connectStatefulAsync(RedisClient.java:325)\n        at io.lettuce.core.RedisClient.connectStandaloneAsync(RedisClient.java:287)\n        at io.lettuce.core.RedisClient.connect(RedisClient.java:216)\n        at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)\n        at java.base@17.0.7/java.util.Optional.orElseGet(Optional.java:364)\n        at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)\n        at org.springframework.data.redis.connection.lettuce.LettucePoolingConnectionProvider.lambda$getConnection$0(LettucePoolingConnectionProvider.java:93)\n        at io.lettuce.core.support.ConnectionPoolSupport$RedisPooledObjectFactory.create(ConnectionPoolSupport.java:211)\n        at io.lettuce.core.support.ConnectionPoolSupport$RedisPooledObjectFactory.create(ConnectionPoolSupport.java:201)\n        at org.apache.commons.pool2.BasePooledObjectFactory.makeObject(BasePooledObjectFactory.java:70)\n        at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:571)\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:298)\n        at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:223)\n        at io.lettuce.core.support.ConnectionPoolSupport$1.borrowObject(ConnectionPoolSupport.java:122)\n        at io.lettuce.core.support.ConnectionPoolSupport$1.borrowObject(ConnectionPoolSupport.java:117)\n        at org.springframework.data.redis.connection.lettuce.LettucePoolingConnectionProvider.getConnection(LettucePoolingConnectionProvider.java:99)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1531)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1358)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1341)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedConnection(LettuceConnectionFactory.java:1059)\n        at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getConnection(LettuceConnectionFactory.java:398)\n        at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:193)\n        at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:144)\n        at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:105)\n        at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:393)\n        at org.springframework.data.redis.core.RedisTemplate.execute(RedisTemplate.java:373)\n        at org.springframework.data.redis.core.AbstractOperations.execute(AbstractOperations.java:97)\n        at org.springframework.data.redis.core.DefaultValueOperations.get(DefaultValueOperations.java:50)\n        at com.benfei.web.util.RedisUtil.get(RedisUtil.java:71)\n        at com.benfei.web.socket.MessageJob.runAdmin(MessageJob.java:38)\n        at java.base@17.0.7/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n        at java.base@17.0.7/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n        at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\n\n</code></pre>\n<p>It's very strange that when I didn't generate the configuration file under /META-INF/native-image, Redis can be used normally, but after adding the configuration file, such an error occurred instead</p>\n"},{"tags":["java","amazon-web-services","aws-api-gateway","api-gateway","aws-api-gateway-v2"],"answers":[{"tags":[],"owner":{"account_id":2713800,"reputation":350,"user_id":2341601,"accept_rate":30,"display_name":"skzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691038526,"creation_date":1691038526,"answer_id":76824968,"question_id":76824469,"body_markdown":"You need to contact AWS Support for quota/limit changes, however, I&#39;m quite certain the 29 seconds is a hard limit that cannot be altered. You won&#39;t be able to use api gateway unless your APIs respond under 29seconds. ","title":"API Gateway timeout on HTTP Rest API Request","body":"<p>You need to contact AWS Support for quota/limit changes, however, I'm quite certain the 29 seconds is a hard limit that cannot be altered. You won't be able to use api gateway unless your APIs respond under 29seconds.</p>\n"}],"owner":{"account_id":1754514,"reputation":3082,"user_id":1602853,"accept_rate":72,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691038526,"creation_date":1691027326,"question_id":76824469,"body_markdown":"I have deployed my legacy application which has few HTTP Rest API&#39;s which responds in 1 minute (or greater). As of now there is no way to change this REST application performance.\r\n\r\nIn front I have API gateway which timeout in 30 seconds and there is no way to increase the 30 seconds timeout and we are facing 504 gateway timeout for Rest API&#39;s which is taking more than 30 seconds to respond. \r\n\r\nSo Other than modifying the REST application, Is there a way to make the change in the AWS side to fix the gateway timeout issue ? \r\n\r\nAnyhelp is appreciated. \r\n\r\nThanks,   \r\nHarry ","title":"API Gateway timeout on HTTP Rest API Request","body":"<p>I have deployed my legacy application which has few HTTP Rest API's which responds in 1 minute (or greater). As of now there is no way to change this REST application performance.</p>\n<p>In front I have API gateway which timeout in 30 seconds and there is no way to increase the 30 seconds timeout and we are facing 504 gateway timeout for Rest API's which is taking more than 30 seconds to respond.</p>\n<p>So Other than modifying the REST application, Is there a way to make the change in the AWS side to fix the gateway timeout issue ?</p>\n<p>Anyhelp is appreciated.</p>\n<p>Thanks,<br />\nHarry</p>\n"},{"tags":["java","unity-game-engine","plugins","native"],"comments":[{"owner":{"account_id":19777190,"reputation":521,"user_id":14482885,"display_name":"Jaimin"},"score":0,"creation_date":1691037134,"post_id":76824851,"comment_id":135437090,"body_markdown":"Do you have context ? I think you are not passing or fetching context that&#39;s why your game is crashing.","body":"Do you have context ? I think you are not passing or fetching context that&#39;s why your game is crashing."},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691037459,"post_id":76824851,"comment_id":135437127,"body_markdown":"yes, the class has a context and initializes it in this function","body":"yes, the class has a context and initializes it in this function"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691037518,"post_id":76824851,"comment_id":135437133,"body_markdown":"public NativeGalleryMediaPickerResultOperation( final Context context, final NativeGalleryMediaReceiver mediaReceiver, final Intent data, final boolean selectMultiple, final String savePathDirectory, final String savePathFilename )\n\t{\n\t\tthis.context = context;\n\t\tthis.mediaReceiver = mediaReceiver;\n\t\tthis.data = data;\n\t\tthis.selectMultiple = selectMultiple;\n\t\tthis.savePathDirectory = savePathDirectory;\n\t\tthis.savePathFilename = savePathFilename;\n\n\t}","body":"public NativeGalleryMediaPickerResultOperation( final Context context, final NativeGalleryMediaReceiver mediaReceiver, final Intent data, final boolean selectMultiple, final String savePathDirectory, final String savePathFilename ) \t{ \t\tthis.context = context; \t\tthis.mediaReceiver = mediaReceiver; \t\tthis.data = data; \t\tthis.selectMultiple = selectMultiple; \t\tthis.savePathDirectory = savePathDirectory; \t\tthis.savePathFilename = savePathFilename;  \t}"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691037559,"post_id":76824851,"comment_id":135437140,"body_markdown":"do i need to initialize it in my functions as well?","body":"do i need to initialize it in my functions as well?"},{"owner":{"account_id":19777190,"reputation":521,"user_id":14482885,"display_name":"Jaimin"},"score":0,"creation_date":1691037689,"post_id":76824851,"comment_id":135437150,"body_markdown":"Yes, try to provide context","body":"Yes, try to provide context"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691038237,"post_id":76824851,"comment_id":135437208,"body_markdown":"i can&#39;t init it on functions, it is create  only in the constructor of the class","body":"i can&#39;t init it on functions, it is create  only in the constructor of the class"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691038342,"post_id":76824851,"comment_id":135437222,"body_markdown":"NativeGalleryMediaPickerResultOperation resultOperation = new NativeGalleryMediaPickerResultOperation( getActivity(), mediaReceiver, data, selectMultiple, savePathDirectory, savePathFilename );","body":"NativeGalleryMediaPickerResultOperation resultOperation = new NativeGalleryMediaPickerResultOperation( getActivity(), mediaReceiver, data, selectMultiple, savePathDirectory, savePathFilename );"},{"owner":{"account_id":19777190,"reputation":521,"user_id":14482885,"display_name":"Jaimin"},"score":0,"creation_date":1691038444,"post_id":76824851,"comment_id":135437236,"body_markdown":"public String getPreferenceString (Context myContext, String prefKey) {\n        SharedPreferences settings = myContext.getSharedPreferences(this.MY_CURRENT_PATH, 0);\n        String playerName = settings.getString(prefKey, &quot;&quot;);\n        return playerName;\n}\nUse like this and provide context from Unity","body":"public String getPreferenceString (Context myContext, String prefKey) {         SharedPreferences settings = myContext.getSharedPreferences(this.MY_CURRENT_PATH, 0);         String playerName = settings.getString(prefKey, &quot;&quot;);         return playerName; } Use like this and provide context from Unity"},{"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"score":0,"creation_date":1691046058,"post_id":76824851,"comment_id":135438320,"body_markdown":"it was it. it was the context. no more errors now. thank you jaimin","body":"it was it. it was the context. no more errors now. thank you jaimin"}],"owner":{"account_id":29148923,"reputation":1,"user_id":22330174,"display_name":"Mario Rossi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691037143,"creation_date":1691035903,"question_id":76824851,"body_markdown":"I&#39;m not used to working with java, but I need to modify a unity plugin to save a value to sharedPreferences. So following this answer \r\n\r\nhttps://stackoverflow.com/questions/27682977/using-shared-preferences-between-unity-and-native-android-sdk\r\n\r\n\r\n\r\n\r\nI created two methods in a (pre-existing) class of the plugin in question, and a variable:\r\n\r\n\tpublic static final String MY_CURRENT_PATH = &quot;CurrentPhotoPath&quot;;\r\n\r\n//set value\r\n\r\npublic void setPreferenceString (String prefKey, String prefValue) {\r\n\t\tSharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\r\n\t\tSharedPreferences.Editor editor = settings.edit();\r\n\t\teditor.putString(prefKey, prefValue);\r\n\t\teditor.commit();\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\t//Get value\r\n\tpublic String getPreferenceString (String prefKey) {\r\n\t\t\tSharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\r\n\t\t\tString playerName = settings.getString(prefKey, &quot;&quot;);\r\n\t\t\treturn playerName;\r\n\t}\r\n\r\nObserving the errors on android studio&#39;s LogCat I can see that my application crashes when I try to call getPreferenceString (the Get value method) from a method in unity similar to this\r\n\r\n public static string GetPreferenceString(string prefKey)\r\n    {\r\n        AndroidJavaObject AJO = null;\r\n      \r\n        if (AJO == null)\r\n            AJO = new AndroidJavaObject(&quot;com.aaa.unity.classname&quot;, new object[0]);\r\n\r\n        if (AJO == null)\r\n            return string.Empty;\r\n\r\n        return AJO.Call&lt;string&gt;(&quot;getPreferenceString&quot;, new object[] { prefKey });\r\n    }\r\n\r\nso the result error log is &quot;AndroidJavaException: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.Share\r\ndPreferences android.content.Context.getSharedPreferences(java.lang.String, int)&#39; on a null object reference\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.SharedPreferences android.content.Context.getSharedPreferences(java.lang.String, int)&#39; on a null object reference\r\n                                                                                                    \tat com.aaa.unity.classname.getPreferenceString(NativeGalleryMediaPickerResultOperation.java:65)\r\n                                                                                                \r\n\r\n-where raw 65 is SharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\r\n\r\n\r\n(The the set-value method, which I call earlier of the problematic one, doesn&#39;t seem to give any errors, but it&#39;s not clear to me where it saves the sharedpreferences)\r\n\r\n\r\n\r\n\r\n\r\nSo my question is: what about the attempt turns out to be null?\r\nDid I miss some step in creating the sharedpreferences on java side?\r\nI may have to initialize them somehow before I can use them? \r\nmaybe I didn&#39;t create the external file that contains them? \r\nAnd if so, how do I create it?\r\n\r\n\r\n\r\n","title":"NullPointerException: Attempt to invoke virtual method &#39;android.content.Context.getSharedPreferences(java.lang.String, int)&#39;on a null object reference","body":"<p>I'm not used to working with java, but I need to modify a unity plugin to save a value to sharedPreferences. So following this answer</p>\n<p><a href=\"https://stackoverflow.com/questions/27682977/using-shared-preferences-between-unity-and-native-android-sdk\">Using shared preferences between unity and native android sdk</a></p>\n<p>I created two methods in a (pre-existing) class of the plugin in question, and a variable:</p>\n<pre><code>public static final String MY_CURRENT_PATH = &quot;CurrentPhotoPath&quot;;\n</code></pre>\n<p>//set value</p>\n<p>public void setPreferenceString (String prefKey, String prefValue) {\nSharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\nSharedPreferences.Editor editor = settings.edit();\neditor.putString(prefKey, prefValue);\neditor.commit();</p>\n<pre><code>}\n\n\n//Get value\npublic String getPreferenceString (String prefKey) {\n        SharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);\n        String playerName = settings.getString(prefKey, &quot;&quot;);\n        return playerName;\n}\n</code></pre>\n<p>Observing the errors on android studio's LogCat I can see that my application crashes when I try to call getPreferenceString (the Get value method) from a method in unity similar to this</p>\n<p>public static string GetPreferenceString(string prefKey)\n{\nAndroidJavaObject AJO = null;</p>\n<pre><code>    if (AJO == null)\n        AJO = new AndroidJavaObject(&quot;com.aaa.unity.classname&quot;, new object[0]);\n\n    if (AJO == null)\n        return string.Empty;\n\n    return AJO.Call&lt;string&gt;(&quot;getPreferenceString&quot;, new object[] { prefKey });\n}\n</code></pre>\n<p>so the result error log is &quot;AndroidJavaException: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.Share\ndPreferences android.content.Context.getSharedPreferences(java.lang.String, int)' on a null object reference\njava.lang.NullPointerException: Attempt to invoke virtual method 'android.content.SharedPreferences android.content.Context.getSharedPreferences(java.lang.String, int)' on a null object reference\nat com.aaa.unity.classname.getPreferenceString(NativeGalleryMediaPickerResultOperation.java:65)</p>\n<p>-where raw 65 is SharedPreferences settings = context.getSharedPreferences(this.MY_CURRENT_PATH, 0);</p>\n<p>(The the set-value method, which I call earlier of the problematic one, doesn't seem to give any errors, but it's not clear to me where it saves the sharedpreferences)</p>\n<p>So my question is: what about the attempt turns out to be null?\nDid I miss some step in creating the sharedpreferences on java side?\nI may have to initialize them somehow before I can use them?\nmaybe I didn't create the external file that contains them?\nAnd if so, how do I create it?</p>\n"},{"tags":["java","maven","hadoop","okio"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691037153,"post_id":76822443,"comment_id":135437093,"body_markdown":"`hadoop-client` is not the same as `hadoop-client-api`. Also, if something is shaded, I dont think exclusions apply","body":"<code>hadoop-client</code> is not the same as <code>hadoop-client-api</code>. Also, if something is shaded, I dont think exclusions apply"}],"owner":{"account_id":12428567,"reputation":31,"user_id":9052149,"display_name":"Gary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691037105,"creation_date":1690999310,"question_id":76822443,"body_markdown":"We have a CVE reported `CVE-2023-3635` which requires the package `com.squareup.okio_okio` to be upgraded to 3.4.0.\r\nI have explicitly pinned this version in pom.xml\r\nex:\r\n```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n                &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.6&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;version&gt;3.3.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n```\r\n\r\n`mvn dependency tree` shows 3.4.0 however when I extract the jar I see okio 1.6.0 is still included. \r\n\r\n```\r\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                    &lt;!-- okio declares a top level package instead of nested --&gt;\r\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                      &lt;pattern&gt;okio/&lt;/pattern&gt;\r\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                      &lt;shadedPattern&gt;${shaded.dependency.prefix}.okio.&lt;/shadedPattern&gt;\r\nMETA-INF/maven/com.squareup.okio/okio/pom.properties:groupId=com.squareup.okio\r\nMETA-INF/maven/com.squareup.okio/okio/pom.properties:artifactId=okio\r\n\r\ncat META-INF/maven/com.squareup.okio/okio/pom.properties\r\n#Generated by Maven\r\n#Tue Aug 25 19:59:48 EDT 2015\r\nversion=1.6.0\r\ngroupId=com.squareup.okio\r\nartifactId=okio\r\n\r\n```\r\n\r\nHow do I avoid including this 1.6.0 version and always pick up latest 3.4.0?\r\n\r\nThanks in advance","title":"org.apache.hadoop/hadoop-client-api always including com.squareup.okio 1.6.0 version","body":"<p>We have a CVE reported <code>CVE-2023-3635</code> which requires the package <code>com.squareup.okio_okio</code> to be upgraded to 3.4.0.\nI have explicitly pinned this version in pom.xml\nex:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n                &lt;artifactId&gt;okio&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n                &lt;version&gt;3.3.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n                &lt;version&gt;3.3.6&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n                        &lt;artifactId&gt;okio&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n                &lt;version&gt;3.3.6&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n                        &lt;artifactId&gt;okio&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;version&gt;3.3.6&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p><code>mvn dependency tree</code> shows 3.4.0 however when I extract the jar I see okio 1.6.0 is still included.</p>\n<pre><code>META-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                    &lt;!-- okio declares a top level package instead of nested --&gt;\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                      &lt;pattern&gt;okio/&lt;/pattern&gt;\nMETA-INF/maven/org.apache.hadoop/hadoop-client-api/pom.xml:                      &lt;shadedPattern&gt;${shaded.dependency.prefix}.okio.&lt;/shadedPattern&gt;\nMETA-INF/maven/com.squareup.okio/okio/pom.properties:groupId=com.squareup.okio\nMETA-INF/maven/com.squareup.okio/okio/pom.properties:artifactId=okio\n\ncat META-INF/maven/com.squareup.okio/okio/pom.properties\n#Generated by Maven\n#Tue Aug 25 19:59:48 EDT 2015\nversion=1.6.0\ngroupId=com.squareup.okio\nartifactId=okio\n\n</code></pre>\n<p>How do I avoid including this 1.6.0 version and always pick up latest 3.4.0?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"owner":{"account_id":29147716,"reputation":1,"user_id":22329251,"display_name":"yogi1817"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691036853,"creation_date":1691013550,"question_id":76823776,"body_markdown":"Spring boot Kafka - When I send a message to DLT and Retry topic from my application, I am able to send it. \r\n\r\nWhen an exception happens and framework tries to send the message it never works. No errors as well. The message stays in original topic and kept getting consumed and throws errors and repeat itself.\r\n\r\nIf the application is failing to publish why its not logging anything. This happens for bith blocking and non blocking retries.\r\n\r\n`@EnableKafka\r\n@Configuration\r\npublic class KafkaConfig {\r\n\r\n    private final KafkaPropertiesConfig kafkaPropertiesConfig;\r\n    private final IdpsPropertiesConfig idpsPropertiesConfig;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(KafkaConfig.class);\r\n\r\n    public KafkaConfig(KafkaPropertiesConfig kafkaPropertiesConfig, IdpsPropertiesConfig idpsPropertiesConfig) {\r\n        this.kafkaPropertiesConfig = kafkaPropertiesConfig;\r\n        this.idpsPropertiesConfig = idpsPropertiesConfig;\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.setConcurrency(kafkaPropertiesConfig.getConcurrency());\r\n        factory.setAutoStartup(false);\r\n        factory.getContainerProperties().setIdleEventInterval(kafkaPropertiesConfig.getIdleEventInterval());\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.BATCH);\r\n        factory.getContainerProperties().setMissingTopicsFatal(false);\r\n        factory.getContainerProperties().setDeliveryAttemptHeader(true);\r\n\r\n        setListenerErrorHandler(factory);\r\n\r\n        return factory;\r\n    }\r\n\r\n    private void setListenerErrorHandler(ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; factory) {\r\n        factory.setCommonErrorHandler(new DefaultErrorHandler(\r\n                new DeadLetterPublishingRecoverer(kafkaTemplateDLT(),\r\n                        (cr, e) -&gt; new TopicPartition(cr.topic() + &quot;-dlt&quot;, cr.partition())),\r\n                new FixedBackOff(kafkaPropertiesConfig.getBlockingBackoffTimeInMillis(), kafkaPropertiesConfig.getBlockingNumRetries())));\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; consumerFactory() {\r\n        Properties idpsProps = getIdpsProperties();\r\n        Properties kafkaProps = getKafkaProperties();\r\n\r\n        com.intuit.eventbus.Configuration&lt;Decrypter&lt;EncryptedData, byte[]&gt;&gt; decryptConf = new IDPSDecrypter.Config(idpsProps);\r\n\r\n        DeserializingMessageExtractor&lt;String, MetadataV3&gt; extractor = new DeserializingMessageExtractorImpl.Config&lt;&gt;(new DefaultValidator.Config&lt;&gt;(),\r\n                ProvisioningMethods.permissiveExtractor(decryptConf), com.intuit.eventbus.serialization.StringDeserializer::new).instantiate();\r\n\r\n        Deserializer&lt;String&gt; messageDeserializer = new Deserializer&lt;&gt;(extractor);\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;String, Result&lt;FormatException, String&gt;&gt;(new HashMap(kafkaProps), new StringDeserializer(), messageDeserializer);\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Properties idpsProps = getIdpsProperties();\r\n        Properties kafkaProps = getKafkaProperties();\r\n\r\n        com.intuit.eventbus.Configuration&lt;SerializingMessageFormater&lt;String, MetadataV3&gt;&gt; formatterConf = new SerializingMessageFormaterImpl.Config&lt;&gt;(\r\n                new DefaultValidator.Config&lt;&gt;(), new FormaterV3.Config(new IDPSEncrypter.Config(kafkaPropertiesConfig.getEnvironment(), idpsProps)),\r\n                com.intuit.eventbus.serialization.StringSerializer::new);\r\n\r\n        Serializer&lt;String&gt; messageSerializer = new Serializer&lt;&gt;(formatterConf.instantiate());\r\n        return new DefaultKafkaProducerFactory&lt;String, String&gt;(new HashMap(kafkaProps), new StringSerializer(), messageSerializer);\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; producerFactoryDLT() {\r\n        Properties idpsProps = getIdpsProperties();\r\n        Properties kafkaProps = getKafkaProperties();\r\n\r\n        com.intuit.eventbus.Configuration&lt;SerializingMessageFormater&lt;Result&lt;FormatException, String&gt;, MetadataV3&gt;&gt; formatterConf = new SerializingMessageFormaterImpl.Config&lt;&gt;(\r\n                new DefaultValidator.Config&lt;&gt;(), new FormaterV3.Config(new IDPSEncrypter.Config(kafkaPropertiesConfig.getEnvironment(), idpsProps)),\r\n                ResultSerializer::new);\r\n\r\n        Serializer&lt;Result&lt;FormatException, String&gt;&gt; messageSerializer = new Serializer&lt;&gt;(formatterConf.instantiate());\r\n        return new DefaultKafkaProducerFactory&lt;String, Result&lt;FormatException, String&gt;&gt;(new HashMap(kafkaProps), new StringSerializer(), messageSerializer);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, Result&lt;FormatException, String&gt;&gt; kafkaTemplateDLT() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactoryDLT());\r\n    }\r\n\r\n    private Properties getIdpsProperties() {\r\n        Properties result = new Properties();\r\n        result.putAll(idpsPropertiesConfig.getIdpsProperties().entrySet().stream()\r\n                .filter(e -&gt; (e.getValue() != null &amp;&amp; !StringUtils.isEmpty(e.getValue().toString()))).map(this::transformIdpsProperty)\r\n                .collect(Collectors.toMap(e -&gt; e.getKey().toString(), Map.Entry::getValue)));\r\n        return result;\r\n    }\r\n\r\n    private Properties getKafkaProperties() {\r\n        Properties result = new Properties();\r\n        result.putAll(kafkaPropertiesConfig.getKafkaProperties().entrySet().stream()\r\n                .filter(e -&gt; (e.getValue() != null &amp;&amp; !StringUtils.isEmpty(e.getValue().toString()))).map(this::transformKafkaProperty)\r\n                .collect(Collectors.toMap(e -&gt; e.getKey().toString(), Map.Entry::getValue)));\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Kafka only understands files can&#39;t load resources from classpath\r\n     *\r\n     */\r\n    private Map.Entry&lt;Object, Object&gt; transformIdpsProperty(Map.Entry&lt;Object, Object&gt; property) {\r\n\r\n        if (&quot;api_secret_key&quot;.equals(property.getKey()) &amp;&amp; (property.getValue() != null)) {\r\n            property.setValue(ResourceUtils.resourceToTempFile(property.getValue().toString()));\r\n        }\r\n        return property;\r\n    }\r\n\r\n    private Map.Entry&lt;Object, Object&gt; transformKafkaProperty(Map.Entry&lt;Object, Object&gt; property) {\r\n\r\n        if (&quot;ssl.truststore.location&quot;.equals(property.getKey())) {\r\n            property.setValue(ResourceUtils.resourceToTempFile(property.getValue().toString()));\r\n        }\r\n        return property;\r\n    }\r\n\r\n    public static class ResultSerializer implements com.intuit.eventbus.Serializer&lt;Result&lt;FormatException, String&gt;&gt;, Serializable {\r\n\r\n        /**\r\n         *\r\n         */\r\n        private static final long serialVersionUID = 8057420295710787523L;\r\n\r\n        @Override\r\n        public byte[] apply(Result&lt;FormatException, String&gt; t, SchemaContext&lt;Result&lt;FormatException, String&gt;&gt; schemaContext) {\r\n            byte[] result;\r\n\r\n            if (t.isSuccess()) {\r\n                result = t.get().getBytes(StandardCharsets.UTF_8);\r\n                logger.info(String.format(&quot;Success serialize result to string topicName: %s: result: %s&quot;, schemaContext.getTopicName(), new String(result)));\r\n            } else {\r\n                result = t.getFailure().getMessage().getBytes(StandardCharsets.UTF_8);\r\n                logger.info(String.format(&quot;Failure serialize result to string topicName: %s: result: %s&quot;, schemaContext.getTopicName(), new String(result)));\r\n            }\r\n            return result;\r\n        }\r\n\r\n    }\r\n}`\r\n","title":"Spring boot Kafka - Sending a message to DLT and Retry topic does not work","body":"<p>Spring boot Kafka - When I send a message to DLT and Retry topic from my application, I am able to send it.</p>\n<p>When an exception happens and framework tries to send the message it never works. No errors as well. The message stays in original topic and kept getting consumed and throws errors and repeat itself.</p>\n<p>If the application is failing to publish why its not logging anything. This happens for bith blocking and non blocking retries.</p>\n<p>`@EnableKafka\n@Configuration\npublic class KafkaConfig {</p>\n<pre><code>private final KafkaPropertiesConfig kafkaPropertiesConfig;\nprivate final IdpsPropertiesConfig idpsPropertiesConfig;\n\nprivate static final Logger logger = LoggerFactory.getLogger(KafkaConfig.class);\n\npublic KafkaConfig(KafkaPropertiesConfig kafkaPropertiesConfig, IdpsPropertiesConfig idpsPropertiesConfig) {\n    this.kafkaPropertiesConfig = kafkaPropertiesConfig;\n    this.idpsPropertiesConfig = idpsPropertiesConfig;\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    factory.setConcurrency(kafkaPropertiesConfig.getConcurrency());\n    factory.setAutoStartup(false);\n    factory.getContainerProperties().setIdleEventInterval(kafkaPropertiesConfig.getIdleEventInterval());\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.BATCH);\n    factory.getContainerProperties().setMissingTopicsFatal(false);\n    factory.getContainerProperties().setDeliveryAttemptHeader(true);\n\n    setListenerErrorHandler(factory);\n\n    return factory;\n}\n\nprivate void setListenerErrorHandler(ConcurrentKafkaListenerContainerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; factory) {\n    factory.setCommonErrorHandler(new DefaultErrorHandler(\n            new DeadLetterPublishingRecoverer(kafkaTemplateDLT(),\n                    (cr, e) -&gt; new TopicPartition(cr.topic() + &quot;-dlt&quot;, cr.partition())),\n            new FixedBackOff(kafkaPropertiesConfig.getBlockingBackoffTimeInMillis(), kafkaPropertiesConfig.getBlockingNumRetries())));\n}\n\n@Bean\npublic ConsumerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; consumerFactory() {\n    Properties idpsProps = getIdpsProperties();\n    Properties kafkaProps = getKafkaProperties();\n\n    com.intuit.eventbus.Configuration&lt;Decrypter&lt;EncryptedData, byte[]&gt;&gt; decryptConf = new IDPSDecrypter.Config(idpsProps);\n\n    DeserializingMessageExtractor&lt;String, MetadataV3&gt; extractor = new DeserializingMessageExtractorImpl.Config&lt;&gt;(new DefaultValidator.Config&lt;&gt;(),\n            ProvisioningMethods.permissiveExtractor(decryptConf), com.intuit.eventbus.serialization.StringDeserializer::new).instantiate();\n\n    Deserializer&lt;String&gt; messageDeserializer = new Deserializer&lt;&gt;(extractor);\n\n    return new DefaultKafkaConsumerFactory&lt;String, Result&lt;FormatException, String&gt;&gt;(new HashMap(kafkaProps), new StringDeserializer(), messageDeserializer);\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Properties idpsProps = getIdpsProperties();\n    Properties kafkaProps = getKafkaProperties();\n\n    com.intuit.eventbus.Configuration&lt;SerializingMessageFormater&lt;String, MetadataV3&gt;&gt; formatterConf = new SerializingMessageFormaterImpl.Config&lt;&gt;(\n            new DefaultValidator.Config&lt;&gt;(), new FormaterV3.Config(new IDPSEncrypter.Config(kafkaPropertiesConfig.getEnvironment(), idpsProps)),\n            com.intuit.eventbus.serialization.StringSerializer::new);\n\n    Serializer&lt;String&gt; messageSerializer = new Serializer&lt;&gt;(formatterConf.instantiate());\n    return new DefaultKafkaProducerFactory&lt;String, String&gt;(new HashMap(kafkaProps), new StringSerializer(), messageSerializer);\n}\n\n@Bean\npublic ProducerFactory&lt;String, Result&lt;FormatException, String&gt;&gt; producerFactoryDLT() {\n    Properties idpsProps = getIdpsProperties();\n    Properties kafkaProps = getKafkaProperties();\n\n    com.intuit.eventbus.Configuration&lt;SerializingMessageFormater&lt;Result&lt;FormatException, String&gt;, MetadataV3&gt;&gt; formatterConf = new SerializingMessageFormaterImpl.Config&lt;&gt;(\n            new DefaultValidator.Config&lt;&gt;(), new FormaterV3.Config(new IDPSEncrypter.Config(kafkaPropertiesConfig.getEnvironment(), idpsProps)),\n            ResultSerializer::new);\n\n    Serializer&lt;Result&lt;FormatException, String&gt;&gt; messageSerializer = new Serializer&lt;&gt;(formatterConf.instantiate());\n    return new DefaultKafkaProducerFactory&lt;String, Result&lt;FormatException, String&gt;&gt;(new HashMap(kafkaProps), new StringSerializer(), messageSerializer);\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n\n@Bean\npublic KafkaTemplate&lt;String, Result&lt;FormatException, String&gt;&gt; kafkaTemplateDLT() {\n    return new KafkaTemplate&lt;&gt;(producerFactoryDLT());\n}\n\nprivate Properties getIdpsProperties() {\n    Properties result = new Properties();\n    result.putAll(idpsPropertiesConfig.getIdpsProperties().entrySet().stream()\n            .filter(e -&gt; (e.getValue() != null &amp;&amp; !StringUtils.isEmpty(e.getValue().toString()))).map(this::transformIdpsProperty)\n            .collect(Collectors.toMap(e -&gt; e.getKey().toString(), Map.Entry::getValue)));\n    return result;\n}\n\nprivate Properties getKafkaProperties() {\n    Properties result = new Properties();\n    result.putAll(kafkaPropertiesConfig.getKafkaProperties().entrySet().stream()\n            .filter(e -&gt; (e.getValue() != null &amp;&amp; !StringUtils.isEmpty(e.getValue().toString()))).map(this::transformKafkaProperty)\n            .collect(Collectors.toMap(e -&gt; e.getKey().toString(), Map.Entry::getValue)));\n    return result;\n}\n\n/**\n * Kafka only understands files can't load resources from classpath\n *\n */\nprivate Map.Entry&lt;Object, Object&gt; transformIdpsProperty(Map.Entry&lt;Object, Object&gt; property) {\n\n    if (&quot;api_secret_key&quot;.equals(property.getKey()) &amp;&amp; (property.getValue() != null)) {\n        property.setValue(ResourceUtils.resourceToTempFile(property.getValue().toString()));\n    }\n    return property;\n}\n\nprivate Map.Entry&lt;Object, Object&gt; transformKafkaProperty(Map.Entry&lt;Object, Object&gt; property) {\n\n    if (&quot;ssl.truststore.location&quot;.equals(property.getKey())) {\n        property.setValue(ResourceUtils.resourceToTempFile(property.getValue().toString()));\n    }\n    return property;\n}\n\npublic static class ResultSerializer implements com.intuit.eventbus.Serializer&lt;Result&lt;FormatException, String&gt;&gt;, Serializable {\n\n    /**\n     *\n     */\n    private static final long serialVersionUID = 8057420295710787523L;\n\n    @Override\n    public byte[] apply(Result&lt;FormatException, String&gt; t, SchemaContext&lt;Result&lt;FormatException, String&gt;&gt; schemaContext) {\n        byte[] result;\n\n        if (t.isSuccess()) {\n            result = t.get().getBytes(StandardCharsets.UTF_8);\n            logger.info(String.format(&quot;Success serialize result to string topicName: %s: result: %s&quot;, schemaContext.getTopicName(), new String(result)));\n        } else {\n            result = t.getFailure().getMessage().getBytes(StandardCharsets.UTF_8);\n            logger.info(String.format(&quot;Failure serialize result to string topicName: %s: result: %s&quot;, schemaContext.getTopicName(), new String(result)));\n        }\n        return result;\n    }\n\n}\n</code></pre>\n<p>}`</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1691015904,"post_id":76823688,"comment_id":135435318,"body_markdown":"First hint: price(x) and price(y) are independent, so you do not need to check all possible (x,y) pairs, just maximize price(x) and price(y) independently.","body":"First hint: price(x) and price(y) are independent, so you do not need to check all possible (x,y) pairs, just maximize price(x) and price(y) independently."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1691016283,"post_id":76823688,"comment_id":135435367,"body_markdown":"Second hint: it seems that two points `(int x1, int y1, int p1)` and `(int x2, int y2, int p2)` could be replaced by single point `(double (x1*p1 + x2*p2)/(p1+p2), double (y1*p1 + y2*p2)/(p1+p2), int p1+p2)`, so you may find a &quot;center of gravity&quot; and after that check 4 nearest integer points, however I&#39;m not sure this idea is correct.","body":"Second hint: it seems that two points <code>(int x1, int y1, int p1)</code> and <code>(int x2, int y2, int p2)</code> could be replaced by single point <code>(double (x1*p1 + x2*p2)&#47;(p1+p2), double (y1*p1 + y2*p2)&#47;(p1+p2), int p1+p2)</code>, so you may find a &quot;center of gravity&quot; and after that check 4 nearest integer points, however I&#39;m not sure this idea is correct."}],"answers":[{"comments":[{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1691033338,"post_id":76824256,"comment_id":135436748,"body_markdown":"Can you please explain what is `use a price-weighted median` with an example. Also I am not able to understand this statement `It&#39;s not hard to show that a point with price p has the same effect on the total cost as a point with price 1 that appears p times in the list.`","body":"Can you please explain what is <code>use a price-weighted median</code> with an example. Also I am not able to understand this statement <code>It&#39;s not hard to show that a point with price p has the same effect on the total cost as a point with price 1 that appears p times in the list.</code>"}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691034419,"creation_date":1691023015,"answer_id":76824256,"question_id":76823688,"body_markdown":"Since you&#39;re using the Manhattan distance metric, you can calculate the `cx` and `cy` coordinates independently.\r\n\r\nThe minimum total Manhattan distance to all points in the list could be found, as you said, by finding the median of all the x coordinates and the median of all the y coordinates -- easy.\r\n\r\nYour points are weighted by price, however, so a simple median won&#39;t do.  The solution is easy, though -- just use a price-weighted median.  It&#39;s not hard to show that a point with price p has the same effect on the total cost as a point with price 1 that appears p times in the list.\r\n\r\nFor example, `y`s in order, multiplied by price:\r\n\r\n1 * 1, 2 * 3, 3 * 2,  4 * 4\r\n\r\nThe prices add up to 1+3+2+4 = 10.  In the range from 0-10, give each `y`, in order, a length equal to its price:  [0,1) for y=1, [1,4) for y=2, [4,6) for y=3, and [6,10) for y=4.\r\n\r\n10/2 is 5, which is in the range for y=3, so `cy = 3`.\r\n\r\nFor x, we get [0,1) for x=1, [1,3) for x=2, [3,6) for x=3, and [6,10) for x=4.  Again the half-way point is in the range for x=3, so `cx = 3`.\r\n","title":"Find minimum cost distance for given co-ordinates","body":"<p>Since you're using the Manhattan distance metric, you can calculate the <code>cx</code> and <code>cy</code> coordinates independently.</p>\n<p>The minimum total Manhattan distance to all points in the list could be found, as you said, by finding the median of all the x coordinates and the median of all the y coordinates -- easy.</p>\n<p>Your points are weighted by price, however, so a simple median won't do.  The solution is easy, though -- just use a price-weighted median.  It's not hard to show that a point with price p has the same effect on the total cost as a point with price 1 that appears p times in the list.</p>\n<p>For example, <code>y</code>s in order, multiplied by price:</p>\n<p>1 * 1, 2 * 3, 3 * 2,  4 * 4</p>\n<p>The prices add up to 1+3+2+4 = 10.  In the range from 0-10, give each <code>y</code>, in order, a length equal to its price:  [0,1) for y=1, [1,4) for y=2, [4,6) for y=3, and [6,10) for y=4.</p>\n<p>10/2 is 5, which is in the range for y=3, so <code>cy = 3</code>.</p>\n<p>For x, we get [0,1) for x=1, [1,3) for x=2, [3,6) for x=3, and [6,10) for x=4.  Again the half-way point is in the range for x=3, so <code>cx = 3</code>.</p>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691034419,"creation_date":1691012270,"question_id":76823688,"body_markdown":"For given list of x and y co-ordinates, find the location of co-ordinate (cx, cy). \r\nThe distance to reach this co-ordinate is calculated using Manhattan distance, where the Manhattan distance between the points (x[i], y[i]) and (cx, cy) will be distance[i] = abs(x[i] – cx) + abs(y[i] – cy) . \r\n\r\nThe corresponding cost for that path (x[i], y[i]) to (cx, cy) is calculated as price[i] * distance[i]\r\n\r\nThe result I am looking for is the minimum cost to connect to the node (cx, cy) from all the co-ordinates provided in list x and y.\r\n`\r\nThe size of list x and y is 1 to 10^3, size of price list is 1 to 50 and values in x and y is 1 to 10^4`\r\n\r\n\r\nExample:\r\n\r\nx = [1,3,2,4], y = [1,2,3,4], price=[1,3,2,4]\r\n\r\nResult:\r\n\r\nTo get minimum cost we need to select (cx, cy) as (3,3).\r\n\r\nCost = 1 * [(3-1)+(3-1)] + 3 * [(3-3)+(3-2)] + 2 * [(3-2) + (3-3)] + 4*[(4-3)+(4-3)] \r\ncost = 4 + 3 + 2 + 8 = 17\r\n\r\nReturn 17 as answer.\r\n\r\nHere is my program using brute-force approach:\r\n\r\n    public int solve(List&lt;Integer&gt; x, List&lt;Integer&gt; y, List&lt;Integer&gt; price){\r\n    \tint minCost = Integer.MAX_VALUE;\r\n    \tint n = x.size();\r\n    \t// try all possible combnations of (cx, cy) from (0,0) to 10^4\r\n    \tfor(int i=1; i&lt;10000; i++) {\r\n    \t\tfor(int j=1; j&lt;10000; j++) {\r\n    \t\t\t// Get (cx, cy);\r\n    \t\t\tint cx = i, cy = j;\r\n    \t\t\tint currentCost = 0;\r\n    \t\t\tfor(int k=0; k&lt;n; k++) {\r\n    \t\t\t\t// Get (xi, yi)\r\n    \t\t\t\tint xi = x.get(k), yi= y.get(k);\r\n    \t\t\t\tint distance = Math.abs(xi - cx) + Math.abs(yi - cy);\r\n    \t\t\t\tcurrentCost += price.get(k) * distance;\r\n    \t\t\t}\r\n    \t\t\tminCost = Math.min(minCost, currentCost);\r\n    \t\t}\r\n    \t}\r\n    \treturn minCost;\r\n    }\r\n\r\nThe logic looks fine, but here I am using 3 nested loops so time complexity is O(N^3). \r\n\r\nAnother idea I have is to find the median for given list of x and y co-ordinates as the position for (cx, cy), this needs only O(N) time.\r\nBut as the final cost also depends on price list, using median is not a correct approach to solve this problem.\r\n\r\nWhat is the optimized approach to solve this in less time.","title":"Find minimum cost distance for given co-ordinates","body":"<p>For given list of x and y co-ordinates, find the location of co-ordinate (cx, cy).\nThe distance to reach this co-ordinate is calculated using Manhattan distance, where the Manhattan distance between the points (x[i], y[i]) and (cx, cy) will be distance[i] = abs(x[i] – cx) + abs(y[i] – cy) .</p>\n<p>The corresponding cost for that path (x[i], y[i]) to (cx, cy) is calculated as price[i] * distance[i]</p>\n<p>The result I am looking for is the minimum cost to connect to the node (cx, cy) from all the co-ordinates provided in list x and y.\n<code> The size of list x and y is 1 to 10^3, size of price list is 1 to 50 and values in x and y is 1 to 10^4</code></p>\n<p>Example:</p>\n<p>x = [1,3,2,4], y = [1,2,3,4], price=[1,3,2,4]</p>\n<p>Result:</p>\n<p>To get minimum cost we need to select (cx, cy) as (3,3).</p>\n<p>Cost = 1 * [(3-1)+(3-1)] + 3 * [(3-3)+(3-2)] + 2 * [(3-2) + (3-3)] + 4*[(4-3)+(4-3)]\ncost = 4 + 3 + 2 + 8 = 17</p>\n<p>Return 17 as answer.</p>\n<p>Here is my program using brute-force approach:</p>\n<pre><code>public int solve(List&lt;Integer&gt; x, List&lt;Integer&gt; y, List&lt;Integer&gt; price){\n    int minCost = Integer.MAX_VALUE;\n    int n = x.size();\n    // try all possible combnations of (cx, cy) from (0,0) to 10^4\n    for(int i=1; i&lt;10000; i++) {\n        for(int j=1; j&lt;10000; j++) {\n            // Get (cx, cy);\n            int cx = i, cy = j;\n            int currentCost = 0;\n            for(int k=0; k&lt;n; k++) {\n                // Get (xi, yi)\n                int xi = x.get(k), yi= y.get(k);\n                int distance = Math.abs(xi - cx) + Math.abs(yi - cy);\n                currentCost += price.get(k) * distance;\n            }\n            minCost = Math.min(minCost, currentCost);\n        }\n    }\n    return minCost;\n}\n</code></pre>\n<p>The logic looks fine, but here I am using 3 nested loops so time complexity is O(N^3).</p>\n<p>Another idea I have is to find the median for given list of x and y co-ordinates as the position for (cx, cy), this needs only O(N) time.\nBut as the final cost also depends on price list, using median is not a correct approach to solve this problem.</p>\n<p>What is the optimized approach to solve this in less time.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":1,"creation_date":1528763979,"post_id":50807771,"comment_id":88621300,"body_markdown":"This is a checked exception - read the source code docs : `Throws {@link NameNotFoundException} if a package with the given name can not be found on the system.` - I suspect you have the other code in a try/catch block already.","body":"This is a checked exception - read the source code docs : <code>Throws {@link NameNotFoundException} if a package with the given name can not be found on the system.</code> - I suspect you have the other code in a try/catch block already."},{"owner":{"account_id":5531820,"reputation":151,"user_id":4391586,"accept_rate":50,"display_name":"Fechang Fuchang"},"score":0,"creation_date":1528764375,"post_id":50807771,"comment_id":88621376,"body_markdown":"Yes , you are right. The other code is in a try/catch. Thank you so much.","body":"Yes , you are right. The other code is in a try/catch. Thank you so much."}],"answers":[{"tags":[],"owner":{"account_id":1335995,"reputation":24143,"user_id":4390381,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1528764039,"creation_date":1528764039,"answer_id":50807805,"question_id":50807771,"body_markdown":"`pm.getPackageInfo` throws `PackageManager.NameNotFoundException` which needs to be handled. Just wrap it with try catch as follows:\r\n\r\n        final PackageManager pm = getPackageManager();\r\n        final String pn = getPackageName();\r\n        PackageInfo pi = null;\r\n        try {\r\n            pi = pm.getPackageInfo(pn, 0);\r\n        } catch (NameNotFoundException e) {\r\n            //LOG the exception\r\n        }\r\n        curVersionCode = pi!=null ? pi.versionCode:-1;\r\n","title":"PackageManager.NameNotFoundException","body":"<p><code>pm.getPackageInfo</code> throws <code>PackageManager.NameNotFoundException</code> which needs to be handled. Just wrap it with try catch as follows:</p>\n\n<pre><code>    final PackageManager pm = getPackageManager();\n    final String pn = getPackageName();\n    PackageInfo pi = null;\n    try {\n        pi = pm.getPackageInfo(pn, 0);\n    } catch (NameNotFoundException e) {\n        //LOG the exception\n    }\n    curVersionCode = pi!=null ? pi.versionCode:-1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4859711,"reputation":1497,"user_id":8956093,"display_name":"Ramakrishna Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1654589300,"creation_date":1636623039,"answer_id":69925986,"question_id":50807771,"body_markdown":"Originally answered [here][1]\r\n\r\nThere is one behaviour change in Android API level 30 because of which we get NameNotFoundException when we call getPackageInfo on Android 11 even if the app/package app is installed on user&#39;s device. From Android API 30, we need to specify the package name in manifest in order to check if that package is installed on user&#39;s device.\r\n\r\nFor example we need to specify Youtube package in app manifest file before checking if youtube app is installed on user&#39;s device,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest \r\n     ...&gt;\r\n        &lt;queries&gt;\r\n            &lt;package android:name=&quot;com.google.android.youtube&quot; /&gt;\r\n        &lt;/queries&gt;\r\n    \r\n        &lt;application\r\n           android:name=&quot;.Notes App&quot;\r\n        .../&gt;\r\n \r\n    &lt;/manifest&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69925975/8956093","title":"PackageManager.NameNotFoundException","body":"<p>Originally answered <a href=\"https://stackoverflow.com/a/69925975/8956093\">here</a></p>\n<p>There is one behaviour change in Android API level 30 because of which we get NameNotFoundException when we call getPackageInfo on Android 11 even if the app/package app is installed on user's device. From Android API 30, we need to specify the package name in manifest in order to check if that package is installed on user's device.</p>\n<p>For example we need to specify Youtube package in app manifest file before checking if youtube app is installed on user's device,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest \n ...&gt;\n    &lt;queries&gt;\n        &lt;package android:name=&quot;com.google.android.youtube&quot; /&gt;\n    &lt;/queries&gt;\n\n    &lt;application\n       android:name=&quot;.Notes App&quot;\n    .../&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15939010,"reputation":1,"user_id":11501330,"display_name":"crashHunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691034327,"creation_date":1691034327,"answer_id":76824777,"question_id":50807771,"body_markdown":"When calling some methods that will throw exceptions, you need to use try catch to handle possible exceptions. At the same time, when the target api version &gt;= 30, you need to add the packagename of the app to be queried in the androidmanifest as follows, otherwise even if the corresponding app is installed on the device will also return exception\r\n\r\n```\r\n&lt;queries&gt;\r\n    &lt;package android:name=&quot;com.whatsapp&quot;/&gt;\r\n&lt;/queries&gt;\r\n```\r\n\r\n    ","title":"PackageManager.NameNotFoundException","body":"<p>When calling some methods that will throw exceptions, you need to use try catch to handle possible exceptions. At the same time, when the target api version &gt;= 30, you need to add the packagename of the app to be queried in the androidmanifest as follows, otherwise even if the corresponding app is installed on the device will also return exception</p>\n<pre><code>&lt;queries&gt;\n    &lt;package android:name=&quot;com.whatsapp&quot;/&gt;\n&lt;/queries&gt;\n</code></pre>\n"}],"owner":{"account_id":5531820,"reputation":151,"user_id":4391586,"accept_rate":50,"display_name":"Fechang Fuchang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10950,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50807805,"answer_count":3,"score":7,"last_activity_date":1691034327,"creation_date":1528763621,"question_id":50807771,"body_markdown":"I have a `.java` file:\r\n\r\n\r\n     ....\r\n    \r\n     import android.content.pm.ApplicationInfo;\r\n     import android.content.pm.PackageInfo;\r\n     import android.content.pm.PackageManager;\r\n\r\n     ....\r\n\r\n       /* PackageInfo packageInfo = \r\n       getPackageManager().getPackageInfo(getPackageName(),0);\r\n       curVersionCode = packageInfo.versionCode;*/\r\n\r\n       PackageManager pm = getPackageManager();\r\n       String pn = getPackageName();\r\n       PackageInfo pi = pm.getPackageInfo(pn,0);\r\n       curVersionCode = pi.versionCode;\r\n\r\n       ....\r\n\r\nTo understand the error i wrote the code in four lines. The two line code is in the comment as you see. Now that, this code doesn&#39;t work and gives an error of `PackageManager.NameNotFoundException` here when i try to build. For clarity, I used this code in a different file and it caused no error there; so there is no need to worry about the package name. Now what is the cause behind this error? An image is also attached to make clear the error. \r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kCdfm.png\r\n\r\n\r\nTo solve this issue i also tried like these: `this.getPackageManager()`, `getBaseContext().getPackageManager()` and `getApplicationContext().getPackageManager()`; But all in vain. ","title":"PackageManager.NameNotFoundException","body":"<p>I have a <code>.java</code> file:</p>\n\n<pre><code> ....\n\n import android.content.pm.ApplicationInfo;\n import android.content.pm.PackageInfo;\n import android.content.pm.PackageManager;\n\n ....\n\n   /* PackageInfo packageInfo = \n   getPackageManager().getPackageInfo(getPackageName(),0);\n   curVersionCode = packageInfo.versionCode;*/\n\n   PackageManager pm = getPackageManager();\n   String pn = getPackageName();\n   PackageInfo pi = pm.getPackageInfo(pn,0);\n   curVersionCode = pi.versionCode;\n\n   ....\n</code></pre>\n\n<p>To understand the error i wrote the code in four lines. The two line code is in the comment as you see. Now that, this code doesn't work and gives an error of <code>PackageManager.NameNotFoundException</code> here when i try to build. For clarity, I used this code in a different file and it caused no error there; so there is no need to worry about the package name. Now what is the cause behind this error? An image is also attached to make clear the error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/kCdfm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kCdfm.png\" alt=\"enter image description here\"></a></p>\n\n<p>To solve this issue i also tried like these: <code>this.getPackageManager()</code>, <code>getBaseContext().getPackageManager()</code> and <code>getApplicationContext().getPackageManager()</code>; But all in vain. </p>\n"},{"tags":["java","android","websocket","ssl-certificate","wildcard"],"answers":[{"tags":[],"owner":{"account_id":11179490,"reputation":51,"user_id":14762516,"display_name":"Savvasenok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617004985,"creation_date":1617004985,"answer_id":66850635,"question_id":66850037,"body_markdown":"Had the same problem before and found out, that certificates signed by big companies are trusted by devices, so when someone else tries to make their own certificate its very dangerous, because (in this case) android can not be sure, that your data is well-encrypted\r\n\r\nYou either should have the right certificate or trust them all. Second solution is okay for development, but should never be used in production","title":"Android: Most secure way to pass &quot;The certificate of the peer does not match the expected hostname&quot; error, for sockets?","body":"<p>Had the same problem before and found out, that certificates signed by big companies are trusted by devices, so when someone else tries to make their own certificate its very dangerous, because (in this case) android can not be sure, that your data is well-encrypted</p>\n<p>You either should have the right certificate or trust them all. Second solution is okay for development, but should never be used in production</p>\n"},{"tags":[],"owner":{"account_id":13771239,"reputation":618,"user_id":9938652,"display_name":"Ali Has"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691033432,"creation_date":1691033432,"answer_id":76824734,"question_id":66850037,"body_markdown":"Answer: Wildcard certificates are trusted by Android devices, contrary to the custom certificates. There was no problem with the Android part of the code \r\nThe problem was that our backend guys had included only one of the certificate files on the code and not the certificate chain (the top certificate on the chain and not the other ones) that&#39;s why our `WebSocket` library produced that error.\r\nAlso in case of custom certificates, the best way is to certificate pinning or including server CA (Certificate Authority) files on the Android app and refer to it on manifest file but the app is prone to getting tampered with and needs security measures.","title":"Android: Most secure way to pass &quot;The certificate of the peer does not match the expected hostname&quot; error, for sockets?","body":"<p>Answer: Wildcard certificates are trusted by Android devices, contrary to the custom certificates. There was no problem with the Android part of the code\nThe problem was that our backend guys had included only one of the certificate files on the code and not the certificate chain (the top certificate on the chain and not the other ones) that's why our <code>WebSocket</code> library produced that error.\nAlso in case of custom certificates, the best way is to certificate pinning or including server CA (Certificate Authority) files on the Android app and refer to it on manifest file but the app is prone to getting tampered with and needs security measures.</p>\n"}],"owner":{"account_id":13771239,"reputation":618,"user_id":9938652,"display_name":"Ali Has"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76824734,"answer_count":2,"score":0,"last_activity_date":1691033432,"creation_date":1617002102,"question_id":66850037,"body_markdown":"### Summary: ###\r\nHow to create socket to a server with wildcard certificate when we get &quot;The certificate of the peer does not match the expected hostname&quot; error?\r\n\r\n---------------------------------------------------------------------------\r\n\r\nBasically, I want to create a secure websocket (wss) to a server with wildcard certificate. I&#39;m using [this websocket library][1]. Now when I want to connect to the website the connection is instantly close with this error log:\r\n\r\n&gt; 2021-03-16 13:14:16.221 21027-21097/com.....app W/System.err: com.neovisionaries.ws.client.HostnameUnverifiedException: The certificate of the peer does not match the expected hostname (sthsth.sthsth.ir)\r\n2021-03-16 13:14:16.221 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.verifyHostname(SocketConnector.java:281)\r\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.doConnect(SocketConnector.java:246)\r\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.connect(SocketConnector.java:190)\r\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.WebSocket.connect(WebSocket.java:2351)\r\n2021-03-16 13:14:16.223 21027-21097/com.....app W/System.err:     at com.....app.network.GeneralSocketService$1.run(GeneralSocketService.java:167)\r\n&gt; \r\n&gt; 2021-03-16 13:14:15.895 21027-21097/com.....app E/Conscrypt:\r\n&gt; ------------------Untrusted chain: ---------------------- 2021-03-16 13:14:15.896 21027-21097/com.....app E/Conscrypt: == Chain0 == \r\n&gt;      Version:   3 2021-03-16 13:14:15.897 21027-21097/com.....app E/Conscrypt:  Serial Number:   e63f80cf7a1220146cc8fd96d8468a4\r\n&gt; 2021-03-16 13:14:15.900 21027-21097/com.....app E/Conscrypt: \r\n&gt; SubjectDN:   CN=*.sthsthnet.ir, C=US 2021-03-16 13:14:15.908\r\n&gt; 21027-21097/com.....app E/Conscrypt:  IssuerDN:   CN=Certum Domain\r\n&gt; Validation CA SHA2, OU=Certum Certification Authority, O=Unizeto\r\n&gt; Technologies S.A., C=PL 2021-03-16 13:14:15.914\r\n&gt; 21027-21097/com.....app E/Conscrypt:  Get not before:   Tue Jul 30\r\n&gt; 10:35:53 GMT+04:30 2019 2021-03-16 13:14:15.916\r\n&gt; 21027-21097/com.....app E/Conscrypt:  Get not after:   Thu Jul 29\r\n&gt; 10:35:53 GMT+04:30 2021 2021-03-16 13:14:15.918\r\n&gt; 21027-21097/com.....app E/Conscrypt:  Sig ALG name:   SHA256withRSA\r\n&gt; 2021-03-16 13:14:15.921 21027-21097/com.....app E/Conscrypt: \r\n&gt; Signature:  \r\n&gt; 22bc2d40a15e881292c19f5b47ca610cc3efb90e998b7eddf08ab108f56ec3df1b7ea7f2ac25b8df74cc49735f3fe7f509fe87ea42c080424f450f8f1bf04a35e4c97dac79ee2df66cde96f4a7a1fb6b62f5640f0a111a157feb7ef5ceab2588cad1731bbf22434d2ee3e0fcbec8ff74ad194d0c2a5ab113b4d00302e62721052b7d0afacc6cda129c3ff99db165d3836a1e2900dd66f8eb3b05f4aab6f42de2a85a60c5382d8bf229c3b866a662326606444685f62673cfbe5fd6a4dc21aa8b18e36c9e13423917aabf79b817011a757262f7b16629745a44162eb9a58ebab4adeefb4710a439f34844b0489f44d3afe0a1ba2e0f78dd5fc04009b0096e1837\r\n&gt; 2021-03-16 13:14:16.213 21027-21097/com.....app E/Conscrypt:  Public\r\n&gt; key:\r\n&gt;      \r\n&gt;      30 82 01 22 30 0d 06 09 2a 86 48 86 f7 0d 01 01 01 05 00 03\r\n&gt;      82 01 0f 00 30 82 01 0a 02 82 01 01 00 9d b2 14 d0 11 c4 8f\r\n&gt;      29 42 7a ee 09 1e 30 2e 62 dd 14 b8 6b 7b 1b 6b fe 03 ba 6a\r\n&gt;      07 6b 6c 69 b3 07 58 51 cf c0 4c 67 15 7e 0f 46 45 33 2b f5\r\n&gt;      50 20 db 2c 45 f7 8a 52 29 d2 a0 10 65 31 1d 9f d9 90 2f 83\r\n&gt;      e9 d7 c1 ee 1a a6 e8 47 3d 89 fb 8b cf d0 d7 7f ac de d1 39\r\n&gt;      ec 4b 8d 43 a4 d5 c2 95 e4 ab 4e 6e 2b a6 b7 24 f7 62 1b 3e\r\n&gt;      4a 27 ca a0 d7 9f 22 c3 25 d8 bd 54 39 27 51 99 d5 fa 13 ed\r\n&gt;      88 8a 64 9c ce 60 38 ae ea 7e 5f ee ed b1 ff cf 30 56 6d 5c\r\n&gt;      01 ad 0c d8 87 f0 4f c7 89 85 e0 d1 08 89 e8 69 dc 6e 35 c0\r\n&gt;      7d fc e6 37 33 00 a9 c8 7b 88 9e eb 98 02 bc 6c 9c f4 b7 6b\r\n&gt;      87 ca 15 1d 31 37 95 07 8e d2 c8 6a db 92 e0 93 35 4b f8 b0\r\n&gt;      29 b9 8f 21 d8 70 0a 5d 91 c5 fb 9c 51 b2 3e a8 6e 53 78 64\r\n&gt;      5c e5 c3 06 02 ab e5 0e 11 96 ea a9 f4 99 ea f2 66 d2 c2 6b\r\n&gt;      86 eb 90 0d f1 85 3f ef 51 02 03 01 00 01\r\n\r\n\r\nNow using I know using:\r\n\r\n    WebSocketFactory.setVerifyHostname(false);\r\nresults in another error and I do not want to alter my code so it verifies all kinds of certificates or self-signed certificates like this:\r\n\r\n    TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n    public X509Certificate[] getAcceptedIssuers() {\r\n    X509Certificate[] myTrustedAnchors = new X509Certificate[0];\r\n    return myTrustedAnchors;\r\n    }\r\n    \r\n    @Override\r\n    public void checkClientTrusted(X509Certificate[] certs,\r\n    String authType) {\r\n    }\r\n    \r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] certs,\r\n    String authType) {\r\n    }\r\n    }};\r\n    \r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(null, trustAllCerts, new SecureRandom());\r\n    factory.setSSLContext(sslContext);\r\n    socket = factory.createSocket(API_SOCKET);TooTallNate/Java-WebSockethttps://github.comTooTallNate/Java-WebSockethttps://github.com\r\n\r\n\r\nNor this:\r\n\r\n    SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build();\r\n                        factory.setSSLContext(sslContext);\r\n                        socket = factory.createSocket(API_SOCKET);\r\nI also do not want to store server&#39;s certificate in my app because it may change time to time and the maintenance would get out of hand:\r\n\r\n        //1. Get the cert file from the server \r\n        //2. Converted the cert to a BKS format\r\n        \r\n        \r\n         // loading CAs from an InputStream \r\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;); \r\n    InputStream cert = context.getResources().openRawResource(R.raw.my_cert); \r\n    Certificate ca;\r\n     try {\r\n     ca = cf.generateCertificate(cert);\r\n     } finally {\r\n     cert.close();\r\n     } \r\n    // creating a KeyStore containing our trusted CAs \r\n    String keyStoreType = KeyStore.getDefaultType(); \r\n    KeyStore keyStore = KeyStore.getInstance(keyStoreType); \r\n    keyStore.load(null, null); \r\n    keyStore.setCertificateEntry(&quot;ca&quot;, ca); \r\n    // creating a TrustManager that trusts the CAs in our KeyStore \r\n    String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm(); \r\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm); \r\n    tmf.init(keyStore); \r\n    // creating an SSLSocketFactory that uses our TrustManager \r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;); \r\n    sslContext.init(null, tmf.getTrustManagers(), null); \r\n\r\nIs there another solution to pass only host verification issue without compromising security or maintanance?\r\n\r\n  [1]: https://github.com/TakahikoKawasaki/nv-websocket-client","title":"Android: Most secure way to pass &quot;The certificate of the peer does not match the expected hostname&quot; error, for sockets?","body":"<h3>Summary:</h3>\n<p>How to create socket to a server with wildcard certificate when we get &quot;The certificate of the peer does not match the expected hostname&quot; error?</p>\n<hr />\n<p>Basically, I want to create a secure websocket (wss) to a server with wildcard certificate. I'm using <a href=\"https://github.com/TakahikoKawasaki/nv-websocket-client\" rel=\"nofollow noreferrer\">this websocket library</a>. Now when I want to connect to the website the connection is instantly close with this error log:</p>\n<blockquote>\n<p>2021-03-16 13:14:16.221 21027-21097/com.....app W/System.err: com.neovisionaries.ws.client.HostnameUnverifiedException: The certificate of the peer does not match the expected hostname (sthsth.sthsth.ir)\n2021-03-16 13:14:16.221 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.verifyHostname(SocketConnector.java:281)\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.doConnect(SocketConnector.java:246)\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.SocketConnector.connect(SocketConnector.java:190)\n2021-03-16 13:14:16.222 21027-21097/com.....app W/System.err:     at com.neovisionaries.ws.client.WebSocket.connect(WebSocket.java:2351)\n2021-03-16 13:14:16.223 21027-21097/com.....app W/System.err:     at com.....app.network.GeneralSocketService$1.run(GeneralSocketService.java:167)</p>\n<p>2021-03-16 13:14:15.895 21027-21097/com.....app E/Conscrypt:\n------------------Untrusted chain: ---------------------- 2021-03-16 13:14:15.896 21027-21097/com.....app E/Conscrypt: == Chain0 ==\nVersion:   3 2021-03-16 13:14:15.897 21027-21097/com.....app E/Conscrypt:  Serial Number:   e63f80cf7a1220146cc8fd96d8468a4\n2021-03-16 13:14:15.900 21027-21097/com.....app E/Conscrypt:\nSubjectDN:   CN=*.sthsthnet.ir, C=US 2021-03-16 13:14:15.908\n21027-21097/com.....app E/Conscrypt:  IssuerDN:   CN=Certum Domain\nValidation CA SHA2, OU=Certum Certification Authority, O=Unizeto\nTechnologies S.A., C=PL 2021-03-16 13:14:15.914\n21027-21097/com.....app E/Conscrypt:  Get not before:   Tue Jul 30\n10:35:53 GMT+04:30 2019 2021-03-16 13:14:15.916\n21027-21097/com.....app E/Conscrypt:  Get not after:   Thu Jul 29\n10:35:53 GMT+04:30 2021 2021-03-16 13:14:15.918\n21027-21097/com.....app E/Conscrypt:  Sig ALG name:   SHA256withRSA\n2021-03-16 13:14:15.921 21027-21097/com.....app E/Conscrypt:\nSignature:<br />\n22bc2d40a15e881292c19f5b47ca610cc3efb90e998b7eddf08ab108f56ec3df1b7ea7f2ac25b8df74cc49735f3fe7f509fe87ea42c080424f450f8f1bf04a35e4c97dac79ee2df66cde96f4a7a1fb6b62f5640f0a111a157feb7ef5ceab2588cad1731bbf22434d2ee3e0fcbec8ff74ad194d0c2a5ab113b4d00302e62721052b7d0afacc6cda129c3ff99db165d3836a1e2900dd66f8eb3b05f4aab6f42de2a85a60c5382d8bf229c3b866a662326606444685f62673cfbe5fd6a4dc21aa8b18e36c9e13423917aabf79b817011a757262f7b16629745a44162eb9a58ebab4adeefb4710a439f34844b0489f44d3afe0a1ba2e0f78dd5fc04009b0096e1837\n2021-03-16 13:14:16.213 21027-21097/com.....app E/Conscrypt:  Public\nkey:</p>\n<pre><code> 30 82 01 22 30 0d 06 09 2a 86 48 86 f7 0d 01 01 01 05 00 03\n 82 01 0f 00 30 82 01 0a 02 82 01 01 00 9d b2 14 d0 11 c4 8f\n 29 42 7a ee 09 1e 30 2e 62 dd 14 b8 6b 7b 1b 6b fe 03 ba 6a\n 07 6b 6c 69 b3 07 58 51 cf c0 4c 67 15 7e 0f 46 45 33 2b f5\n 50 20 db 2c 45 f7 8a 52 29 d2 a0 10 65 31 1d 9f d9 90 2f 83\n e9 d7 c1 ee 1a a6 e8 47 3d 89 fb 8b cf d0 d7 7f ac de d1 39\n ec 4b 8d 43 a4 d5 c2 95 e4 ab 4e 6e 2b a6 b7 24 f7 62 1b 3e\n 4a 27 ca a0 d7 9f 22 c3 25 d8 bd 54 39 27 51 99 d5 fa 13 ed\n 88 8a 64 9c ce 60 38 ae ea 7e 5f ee ed b1 ff cf 30 56 6d 5c\n 01 ad 0c d8 87 f0 4f c7 89 85 e0 d1 08 89 e8 69 dc 6e 35 c0\n 7d fc e6 37 33 00 a9 c8 7b 88 9e eb 98 02 bc 6c 9c f4 b7 6b\n 87 ca 15 1d 31 37 95 07 8e d2 c8 6a db 92 e0 93 35 4b f8 b0\n 29 b9 8f 21 d8 70 0a 5d 91 c5 fb 9c 51 b2 3e a8 6e 53 78 64\n 5c e5 c3 06 02 ab e5 0e 11 96 ea a9 f4 99 ea f2 66 d2 c2 6b\n 86 eb 90 0d f1 85 3f ef 51 02 03 01 00 01\n</code></pre>\n</blockquote>\n<p>Now using I know using:</p>\n<pre><code>WebSocketFactory.setVerifyHostname(false);\n</code></pre>\n<p>results in another error and I do not want to alter my code so it verifies all kinds of certificates or self-signed certificates like this:</p>\n<pre><code>TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\npublic X509Certificate[] getAcceptedIssuers() {\nX509Certificate[] myTrustedAnchors = new X509Certificate[0];\nreturn myTrustedAnchors;\n}\n\n@Override\npublic void checkClientTrusted(X509Certificate[] certs,\nString authType) {\n}\n\n@Override\npublic void checkServerTrusted(X509Certificate[] certs,\nString authType) {\n}\n}};\n\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(null, trustAllCerts, new SecureRandom());\nfactory.setSSLContext(sslContext);\nsocket = factory.createSocket(API_SOCKET);TooTallNate/Java-WebSockethttps://github.comTooTallNate/Java-WebSockethttps://github.com\n</code></pre>\n<p>Nor this:</p>\n<pre><code>SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build();\n                    factory.setSSLContext(sslContext);\n                    socket = factory.createSocket(API_SOCKET);\n</code></pre>\n<p>I also do not want to store server's certificate in my app because it may change time to time and the maintenance would get out of hand:</p>\n<pre><code>    //1. Get the cert file from the server \n    //2. Converted the cert to a BKS format\n    \n    \n     // loading CAs from an InputStream \nCertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;); \nInputStream cert = context.getResources().openRawResource(R.raw.my_cert); \nCertificate ca;\n try {\n ca = cf.generateCertificate(cert);\n } finally {\n cert.close();\n } \n// creating a KeyStore containing our trusted CAs \nString keyStoreType = KeyStore.getDefaultType(); \nKeyStore keyStore = KeyStore.getInstance(keyStoreType); \nkeyStore.load(null, null); \nkeyStore.setCertificateEntry(&quot;ca&quot;, ca); \n// creating a TrustManager that trusts the CAs in our KeyStore \nString tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm(); \nTrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm); \ntmf.init(keyStore); \n// creating an SSLSocketFactory that uses our TrustManager \nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;); \nsslContext.init(null, tmf.getTrustManagers(), null); \n</code></pre>\n<p>Is there another solution to pass only host verification issue without compromising security or maintanance?</p>\n"},{"tags":["java","android","firebase","push-notification"],"answers":[{"comments":[{"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"score":0,"creation_date":1554975945,"post_id":55629381,"comment_id":97950388,"body_markdown":"you can have multiple user subscribed to one topic.. you can have 2000 users subscribed to topic a and 2000 other users subscribed to topic b..","body":"you can have multiple user subscribed to one topic.. you can have 2000 users subscribed to topic a and 2000 other users subscribed to topic b.."}],"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554975633,"creation_date":1554975633,"answer_id":55629381,"question_id":55628571,"body_markdown":"The best way to handle your issue, is to use `topic` messaging.\r\n\r\nFrom the [docs][1]:\r\n\r\n&gt;Based on the publish/subscribe model, FCM topic messaging allows you to send a message to multiple devices that have opted in to a particular topic. You compose topic messages as needed, and FCM handles routing and delivering the message reliably to the right devices.\r\n\r\nWhen the user logs in the app, you can subscribe to a certain topic, for example:\r\n\r\n    FirebaseMessaging.getInstance().subscribeToTopic(&quot;weather&quot;)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                String msg = getString(R.string.msg_subscribed);\r\n                if (!task.isSuccessful()) {\r\n                    msg = getString(R.string.msg_subscribe_failed);\r\n                }\r\n                Log.d(TAG, msg);\r\n                Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\nThen the user can receive notifications based on the topic name. Then when the user clicks the logs out button, you can call the following:\r\n\r\n    FirebaseMessaging.getInstance().unsubscribeFromTopic(&quot;weather&quot;);\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/android/topic-messaging","title":"Unique Firebase Instance-Id for every user account","body":"<p>The best way to handle your issue, is to use <code>topic</code> messaging.</p>\n\n<p>From the <a href=\"https://firebase.google.com/docs/cloud-messaging/android/topic-messaging\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Based on the publish/subscribe model, FCM topic messaging allows you to send a message to multiple devices that have opted in to a particular topic. You compose topic messages as needed, and FCM handles routing and delivering the message reliably to the right devices.</p>\n</blockquote>\n\n<p>When the user logs in the app, you can subscribe to a certain topic, for example:</p>\n\n<pre><code>FirebaseMessaging.getInstance().subscribeToTopic(\"weather\")\n    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            String msg = getString(R.string.msg_subscribed);\n            if (!task.isSuccessful()) {\n                msg = getString(R.string.msg_subscribe_failed);\n            }\n            Log.d(TAG, msg);\n            Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\n        }\n    });\n</code></pre>\n\n<p>Then the user can receive notifications based on the topic name. Then when the user clicks the logs out button, you can call the following:</p>\n\n<pre><code>FirebaseMessaging.getInstance().unsubscribeFromTopic(\"weather\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7456577,"reputation":95,"user_id":5669664,"display_name":"twister21"},"score":0,"creation_date":1554995641,"post_id":55634224,"comment_id":97962939,"body_markdown":"Thank you for the advice. I&#39;ve found the following statement: &quot;One app instance can be subscribed to no more than 2000 topics&quot;.\n\nDo you know whether &quot;app instance&quot; refers to the Instance-ID of an application on a single device or to the whole project?\n\nIf the first statement is true: Would it be appropriate to create a topic for each user, so that all devices on which the user is logged in can subscribe to it? Or should I send notifications to all device tokens which belong to the user account? The first approach would be much easier, as I only need a user&#39;s ID in my database.","body":"Thank you for the advice. I&#39;ve found the following statement: &quot;One app instance can be subscribed to no more than 2000 topics&quot;.  Do you know whether &quot;app instance&quot; refers to the Instance-ID of an application on a single device or to the whole project?  If the first statement is true: Would it be appropriate to create a topic for each user, so that all devices on which the user is logged in can subscribe to it? Or should I send notifications to all device tokens which belong to the user account? The first approach would be much easier, as I only need a user&#39;s ID in my database."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1555001047,"post_id":55634224,"comment_id":97966078,"body_markdown":"Creating a topic per user is not uncommon. Just keep in mind that anyone can subscribe to a topic if they know the topic&#39;s name, and that topic fan-out is outside of *your* control and may be slower than doing the fan-out yourself.","body":"Creating a topic per user is not uncommon. Just keep in mind that anyone can subscribe to a topic if they know the topic&#39;s name, and that topic fan-out is outside of <i>your</i> control and may be slower than doing the fan-out yourself."},{"owner":{"account_id":7456577,"reputation":95,"user_id":5669664,"display_name":"twister21"},"score":0,"creation_date":1555002984,"post_id":55634224,"comment_id":97967036,"body_markdown":"What do you mean by &quot;anyone&quot;? I think that it&#39;s necessary to know the auth key, e.g. for https://iid.googleapis.com/iid/v1:batchAdd.","body":"What do you mean by &quot;anyone&quot;? I think that it&#39;s necessary to know the auth key, e.g. for <a href=\"https://iid.googleapis.com/iid/v1:batchAdd\" rel=\"nofollow noreferrer\">iid.googleapis.com/iid/v1:batchAdd</a>."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1555008066,"post_id":55634224,"comment_id":97969258,"body_markdown":"To subscribe you only need to know the topic, and configuration information that is available in your APK.","body":"To subscribe you only need to know the topic, and configuration information that is available in your APK."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554990914,"creation_date":1554990914,"answer_id":55634224,"question_id":55628571,"body_markdown":"&gt; Does Firebase ensure that the Instance-Id will be unique, even if it is generated multiple times on the same device?\r\n\r\nRegenerating an Instance ID will indeed always result in a unique value. As long as you ensure that you delete the Instance ID when the user logs out, you&#39;ll get a fresh token next time around.\r\n\r\nTo ensure your token registry (the place where you store tokens) doesn&#39;t accumulate too many outdated tokens, be sure to either remove the token when the user signs out, or when you find out a token is no longer valid when sending messages. See [my answer to this question](https://stackoverflow.com/a/51836732).","title":"Unique Firebase Instance-Id for every user account","body":"<blockquote>\n  <p>Does Firebase ensure that the Instance-Id will be unique, even if it is generated multiple times on the same device?</p>\n</blockquote>\n\n<p>Regenerating an Instance ID will indeed always result in a unique value. As long as you ensure that you delete the Instance ID when the user logs out, you'll get a fresh token next time around.</p>\n\n<p>To ensure your token registry (the place where you store tokens) doesn't accumulate too many outdated tokens, be sure to either remove the token when the user signs out, or when you find out a token is no longer valid when sending messages. See <a href=\"https://stackoverflow.com/a/51836732\">my answer to this question</a>.</p>\n"},{"tags":[],"owner":{"account_id":11651413,"reputation":101,"user_id":8532604,"display_name":"Hassan Alizadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582651913,"creation_date":1582636778,"answer_id":60395582,"question_id":55628571,"body_markdown":"If you want to have Unique FCM Instance Id for each user on a device, you should call ``FirebaseInstanceId.getInstance().deleteInstanceId()``\r\non each logout on an account.\r\nThen in next ``FirebaseInstanceId.getInstance().instanceId``\r\ncall, you&#39;ll get a new unique Intance Id\r\n\r\n\r\nBut there is a point that you need to know. **Call deleteInstanceId() on a new Thread**, not MainThread\r\n\r\n","title":"Unique Firebase Instance-Id for every user account","body":"<p>If you want to have Unique FCM Instance Id for each user on a device, you should call <code>FirebaseInstanceId.getInstance().deleteInstanceId()</code>\non each logout on an account.\nThen in next <code>FirebaseInstanceId.getInstance().instanceId</code>\ncall, you'll get a new unique Intance Id</p>\n\n<p>But there is a point that you need to know. <strong>Call deleteInstanceId() on a new Thread</strong>, not MainThread</p>\n"}],"owner":{"account_id":7456577,"reputation":95,"user_id":5669664,"display_name":"twister21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55634224,"answer_count":3,"score":0,"last_activity_date":1691033089,"creation_date":1554973302,"question_id":55628571,"body_markdown":"I&#39;m unsure how to handle different user accounts on the same device appropriately, as Firebase only creates one Instance-Id per device.\r\n\r\nTherefore, I thought that it would be possible to delete the Instance-Id when the user is logged out and to create a new one when a new user is logged in.\r\n\r\n\r\nOn login:\r\n\r\n    FirebaseInstanceId.getInstance().getInstanceId().addOnCompleteListener(task -&gt; System.out.println(task.getResult().getToken()));\r\n\r\nOn logout:\r\n\r\n    FirebaseInstanceId.getInstance().deleteInstanceId()\r\n   \r\n\r\nDoes Firebase ensure that the Instance-Id will be unique, even if it is generated multiple times on the same device? \r\nThe reasons why I prefer this approach are that it&#39;s simple to unsubscribe the user from all topics at once and moreover push notifications can be addressed to a specific user.","title":"Unique Firebase Instance-Id for every user account","body":"<p>I'm unsure how to handle different user accounts on the same device appropriately, as Firebase only creates one Instance-Id per device.</p>\n<p>Therefore, I thought that it would be possible to delete the Instance-Id when the user is logged out and to create a new one when a new user is logged in.</p>\n<p>On login:</p>\n<pre><code>FirebaseInstanceId.getInstance().getInstanceId().addOnCompleteListener(task -&gt; System.out.println(task.getResult().getToken()));\n</code></pre>\n<p>On logout:</p>\n<pre><code>FirebaseInstanceId.getInstance().deleteInstanceId()\n</code></pre>\n<p>Does Firebase ensure that the Instance-Id will be unique, even if it is generated multiple times on the same device?\nThe reasons why I prefer this approach are that it's simple to unsubscribe the user from all topics at once and moreover push notifications can be addressed to a specific user.</p>\n"},{"tags":["java","jpa","spring-data-jpa","sql-order-by","querydsl"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1691042904,"post_id":76824551,"comment_id":135437800,"body_markdown":"Can you clarify what the desired output is? Both of those examples look as I would expect: the second sort criterion is applied when the first one is equal.","body":"Can you clarify what the desired output is? Both of those examples look as I would expect: the second sort criterion is applied when the first one is equal."},{"owner":{"account_id":27917657,"reputation":15,"user_id":21318482,"display_name":"Inseok Chang"},"score":0,"creation_date":1691108288,"post_id":76824551,"comment_id":135450900,"body_markdown":"my desired output is somewhat following the first conditions in my where(), which is          member.age.asc(),\n                        member.username.asc().nullsLast()\nI want the age to be asc() and username to be nullsLast().","body":"my desired output is somewhat following the first conditions in my where(), which is          member.age.asc(),                         member.username.asc().nullsLast() I want the age to be asc() and username to be nullsLast()."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1691108958,"post_id":76824551,"comment_id":135450957,"body_markdown":"Please update the question with the _specific_ output you want, in a similar format to the examples of actual output.","body":"Please update the question with the <i>specific</i> output you want, in a similar format to the examples of actual output."}],"owner":{"account_id":27917657,"reputation":15,"user_id":21318482,"display_name":"Inseok Chang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691029257,"creation_date":1691029257,"question_id":76824551,"body_markdown":"I have a simple table called Member\r\n\r\n| id | username       | age |\r\n| -- | -------------- | --- |\r\n| 1  | member17       | 25  |\r\n| 2  | member18       | 24  |\r\n| 3  | member19       | 23  |\r\n| 4  | member20       | 22  |\r\n| 5  | null           | 21  |\r\n| 6  | member22       | 21  |\r\n| 7  | member23       | 21  |\r\n| 8  | member24       | 18  |\r\n| 9  | null           | 17  |\r\n\r\nI was practicing sorting with Querydsl with this simple sorting query.\r\n```\r\n    @Override\r\n    public List&lt;Member&gt; sortMemberList() {\r\n        return queryFactory\r\n                .selectFrom(member)\r\n                .where(member.age.between(17, 25))\r\n                .orderBy(\r\n                        member.age.asc(),\r\n                        member.username.asc().nullsLast()\r\n                )\r\n                .fetch();\r\n    }\r\n```\r\nThis query produces\r\n```\r\n    select\r\n        m1_0.member_id,\r\n        m1_0.age,\r\n        m1_0.team_id,\r\n        m1_0.username \r\n    from\r\n        Member m1_0 \r\n    where\r\n        m1_0.age between ? and ? \r\n    order by\r\n        m1_0.age,\r\n        case \r\n            when (m1_0.username) is null then 1 \r\n            else 0 \r\n        end,\r\n        m1_0.username\r\n```\r\nAs you can see, `member.age.asc()` and `member.username.asc()` are two directly opposite sorts. But for the result, I see, \r\n```\r\n[\r\n    {\r\n        &quot;username&quot;: null,\r\n        &quot;age&quot;: 17\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member24&quot;,\r\n        &quot;age&quot;: 18\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member22&quot;,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member23&quot;,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: null,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member20&quot;,\r\n        &quot;age&quot;: 22\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member19&quot;,\r\n        &quot;age&quot;: 23\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member18&quot;,\r\n        &quot;age&quot;: 24\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member17&quot;,\r\n        &quot;age&quot;: 25\r\n    }\r\n]\r\n```\r\nwithout `member.username.asc().nullsLast()` being applied.\r\n\r\n\r\nWhen I switch the `orderBy` condition to\r\n```\r\n.orderBy(\r\nmember.username.asc().nullsLast(),\r\nmember.age.asc()\r\n)\r\n```\r\n```\r\n[\r\n    {\r\n        &quot;username&quot;: &quot;member17&quot;,\r\n        &quot;age&quot;: 25\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member18&quot;,\r\n        &quot;age&quot;: 24\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member19&quot;,\r\n        &quot;age&quot;: 23\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member20&quot;,\r\n        &quot;age&quot;: 22\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member22&quot;,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member23&quot;,\r\n        &quot;age&quot;: 21\r\n    },\r\n    {\r\n        &quot;username&quot;: &quot;member24&quot;,\r\n        &quot;age&quot;: 18\r\n    },\r\n    {\r\n        &quot;username&quot;: null,\r\n        &quot;age&quot;: 17\r\n    },\r\n    {\r\n        &quot;username&quot;: null,\r\n        &quot;age&quot;: 21\r\n    }\r\n]\r\n```\r\nthe username condition gets applied while the age condition is ignored.\r\n\r\n\r\nIf I want to apply the age condition first, and then use the username condition,\r\nI can&#39;t simply do `member.username.nullsLast()`, Java doesn&#39;t let me and gives me this error,\r\n```\r\njava: cannot find symbol\r\n  symbol:   method nullsLast()\r\n  location: variable username of type com.querydsl.core.types.dsl.StringPath\r\n```\r\n\r\nIf I want to sort this list by `member.age.asc()` and apply `nullsLast` to username, how should I get about this?","title":"Is there a priority to JPA Querydsl&#39;s orderBy?","body":"<p>I have a simple table called Member</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>username</th>\n<th>age</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>member17</td>\n<td>25</td>\n</tr>\n<tr>\n<td>2</td>\n<td>member18</td>\n<td>24</td>\n</tr>\n<tr>\n<td>3</td>\n<td>member19</td>\n<td>23</td>\n</tr>\n<tr>\n<td>4</td>\n<td>member20</td>\n<td>22</td>\n</tr>\n<tr>\n<td>5</td>\n<td>null</td>\n<td>21</td>\n</tr>\n<tr>\n<td>6</td>\n<td>member22</td>\n<td>21</td>\n</tr>\n<tr>\n<td>7</td>\n<td>member23</td>\n<td>21</td>\n</tr>\n<tr>\n<td>8</td>\n<td>member24</td>\n<td>18</td>\n</tr>\n<tr>\n<td>9</td>\n<td>null</td>\n<td>17</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I was practicing sorting with Querydsl with this simple sorting query.</p>\n<pre><code>    @Override\n    public List&lt;Member&gt; sortMemberList() {\n        return queryFactory\n                .selectFrom(member)\n                .where(member.age.between(17, 25))\n                .orderBy(\n                        member.age.asc(),\n                        member.username.asc().nullsLast()\n                )\n                .fetch();\n    }\n</code></pre>\n<p>This query produces</p>\n<pre><code>    select\n        m1_0.member_id,\n        m1_0.age,\n        m1_0.team_id,\n        m1_0.username \n    from\n        Member m1_0 \n    where\n        m1_0.age between ? and ? \n    order by\n        m1_0.age,\n        case \n            when (m1_0.username) is null then 1 \n            else 0 \n        end,\n        m1_0.username\n</code></pre>\n<p>As you can see, <code>member.age.asc()</code> and <code>member.username.asc()</code> are two directly opposite sorts. But for the result, I see,</p>\n<pre><code>[\n    {\n        &quot;username&quot;: null,\n        &quot;age&quot;: 17\n    },\n    {\n        &quot;username&quot;: &quot;member24&quot;,\n        &quot;age&quot;: 18\n    },\n    {\n        &quot;username&quot;: &quot;member22&quot;,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: &quot;member23&quot;,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: null,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: &quot;member20&quot;,\n        &quot;age&quot;: 22\n    },\n    {\n        &quot;username&quot;: &quot;member19&quot;,\n        &quot;age&quot;: 23\n    },\n    {\n        &quot;username&quot;: &quot;member18&quot;,\n        &quot;age&quot;: 24\n    },\n    {\n        &quot;username&quot;: &quot;member17&quot;,\n        &quot;age&quot;: 25\n    }\n]\n</code></pre>\n<p>without <code>member.username.asc().nullsLast()</code> being applied.</p>\n<p>When I switch the <code>orderBy</code> condition to</p>\n<pre><code>.orderBy(\nmember.username.asc().nullsLast(),\nmember.age.asc()\n)\n</code></pre>\n<pre><code>[\n    {\n        &quot;username&quot;: &quot;member17&quot;,\n        &quot;age&quot;: 25\n    },\n    {\n        &quot;username&quot;: &quot;member18&quot;,\n        &quot;age&quot;: 24\n    },\n    {\n        &quot;username&quot;: &quot;member19&quot;,\n        &quot;age&quot;: 23\n    },\n    {\n        &quot;username&quot;: &quot;member20&quot;,\n        &quot;age&quot;: 22\n    },\n    {\n        &quot;username&quot;: &quot;member22&quot;,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: &quot;member23&quot;,\n        &quot;age&quot;: 21\n    },\n    {\n        &quot;username&quot;: &quot;member24&quot;,\n        &quot;age&quot;: 18\n    },\n    {\n        &quot;username&quot;: null,\n        &quot;age&quot;: 17\n    },\n    {\n        &quot;username&quot;: null,\n        &quot;age&quot;: 21\n    }\n]\n</code></pre>\n<p>the username condition gets applied while the age condition is ignored.</p>\n<p>If I want to apply the age condition first, and then use the username condition,\nI can't simply do <code>member.username.nullsLast()</code>, Java doesn't let me and gives me this error,</p>\n<pre><code>java: cannot find symbol\n  symbol:   method nullsLast()\n  location: variable username of type com.querydsl.core.types.dsl.StringPath\n</code></pre>\n<p>If I want to sort this list by <code>member.age.asc()</code> and apply <code>nullsLast</code> to username, how should I get about this?</p>\n"},{"tags":["java","flutter","dart","gradle"],"comments":[{"owner":{"account_id":28931030,"reputation":368,"user_id":22159750,"display_name":"Boseong"},"score":0,"creation_date":1691025111,"post_id":76824329,"comment_id":135436110,"body_markdown":"Did you tried `flutter doctor --verbose`? you could get hint from that command.","body":"Did you tried <code>flutter doctor --verbose</code>? you could get hint from that command."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1691038170,"post_id":76824329,"comment_id":135437201,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1691041889,"post_id":76824329,"comment_id":135437644,"body_markdown":"https://stackoverflow.com/questions/68798266/the-project-uses-gradle-2-10-which-is-incompatible-with-android-studio-2020-3","body":"<a href=\"https://stackoverflow.com/questions/68798266/the-project-uses-gradle-2-10-which-is-incompatible-with-android-studio-2020-3\" title=\"the project uses gradle 2 10 which is incompatible with android studio 2020 3\">stackoverflow.com/questions/68798266/&hellip;</a>"},{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1691041909,"post_id":76824329,"comment_id":135437649,"body_markdown":"https://stackoverflow.com/questions/76123807/my-projects-gradle-version-is-incompatible-with-the-java-version-that-flutter-i","body":"<a href=\"https://stackoverflow.com/questions/76123807/my-projects-gradle-version-is-incompatible-with-the-java-version-that-flutter-i\" title=\"my projects gradle version is incompatible with the java version that flutter i\">stackoverflow.com/questions/76123807/&hellip;</a>"},{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1691041927,"post_id":76824329,"comment_id":135437654,"body_markdown":"check these post to get your answer. You have to upgrade your gradle version . see some videos if not understand .","body":"check these post to get your answer. You have to upgrade your gradle version . see some videos if not understand ."},{"owner":{"account_id":25710386,"reputation":131,"user_id":19469031,"display_name":"Bora Ke&#231;eci"},"score":0,"creation_date":1691066413,"post_id":76824329,"comment_id":135443169,"body_markdown":"https://stackoverflow.com/questions/76795890/flutter-warning-when-build-release/76825418#76825418 \ncan you try this ?","body":"<a href=\"https://stackoverflow.com/questions/76795890/flutter-warning-when-build-release/76825418#76825418\" title=\"flutter warning when build release\">stackoverflow.com/questions/76795890/&hellip;</a>  can you try this ?"}],"answers":[{"tags":[],"owner":{"account_id":17572159,"reputation":157,"user_id":12747710,"display_name":"임세준"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691027987,"creation_date":1691027987,"answer_id":76824489,"question_id":76824329,"body_markdown":"Your gradle is not compatible with your java version.\r\nJust follow the error message, then you can find compatible version for gradle or java, after that update it !","title":"Gradle version is incompatible with the Java version that Flutter is using for gradle","body":"<p>Your gradle is not compatible with your java version.\nJust follow the error message, then you can find compatible version for gradle or java, after that update it !</p>\n"}],"owner":{"account_id":29148251,"reputation":11,"user_id":22329661,"display_name":"Adeniran Peter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691027987,"creation_date":1691024689,"question_id":76824329,"body_markdown":"[Debug error message](https://i.stack.imgur.com/VrvpW.png)\r\n\r\nI have tried to delete the version in gradle folder and run debug again still the same error message.\r\nJava version Java(TM) SE Runtime Environment (build 20.0.2+9-78) and My gradle version is: distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-all.zip\r\nandroid studio version 34, Flutter version 3.10.6 on channel stable, Dart version 3.0.6","title":"Gradle version is incompatible with the Java version that Flutter is using for gradle","body":"<p><a href=\"https://i.stack.imgur.com/VrvpW.png\" rel=\"nofollow noreferrer\">Debug error message</a></p>\n<p>I have tried to delete the version in gradle folder and run debug again still the same error message.\nJava version Java(TM) SE Runtime Environment (build 20.0.2+9-78) and My gradle version is: distributionUrl=https://services.gradle.org/distributions/gradle-7.5-all.zip\nandroid studio version 34, Flutter version 3.10.6 on channel stable, Dart version 3.0.6</p>\n"},{"tags":["java","duplicates","overloading"],"comments":[{"owner":{"display_name":"user2453382"},"score":1,"creation_date":1691025567,"post_id":76824350,"comment_id":135436150,"body_markdown":"It depends entirely on how your `duplicate-checker` works. You say `...ClassA and ClassB are exactly the same...` but if they are of different types, then `method overloading` should be totally allowed","body":"It depends entirely on how your <code>duplicate-checker</code> works. You say <code>...ClassA and ClassB are exactly the same...</code> but if they are of different types, then <code>method overloading</code> should be totally allowed"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1691026186,"post_id":76824350,"comment_id":135436211,"body_markdown":"What is it that is complaining about duplicate code?  Surely not the Java compiler -- or at least, that can&#39;t be *rejecting* the code shown on such a basis.  It is allowed to have different methods with the same name and different parameter types.","body":"What is it that is complaining about duplicate code?  Surely not the Java compiler -- or at least, that can&#39;t be <i>rejecting</i> the code shown on such a basis.  It is allowed to have different methods with the same name and different parameter types."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1691026310,"post_id":76824350,"comment_id":135436217,"body_markdown":"I wouldn&#39;t waste 5 minutes trying to code around this. I&#39;d be putting this back to the company. It is their policies that (a) mandated the duplication and (b) caused the duplication to be detected as an error. There is an internal contradiction here that they need to resolve, and wasting programmer time is not the way to do it.","body":"I wouldn&#39;t waste 5 minutes trying to code around this. I&#39;d be putting this back to the company. It is their policies that (a) mandated the duplication and (b) caused the duplication to be detected as an error. There is an internal contradiction here that they need to resolve, and wasting programmer time is not the way to do it."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1691026409,"post_id":76824350,"comment_id":135436225,"body_markdown":"If you&#39;re going to autogenerate near-identical code, as a labour-saving device, then disable the robot that is complaining about the  concomitant duplication of glue code.  Such tools are meant to help, not force you into complaisant agreement.","body":"If you&#39;re going to autogenerate near-identical code, as a labour-saving device, then disable the robot that is complaining about the  concomitant duplication of glue code.  Such tools are meant to help, not force you into complaisant agreement."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691026436,"post_id":76824350,"comment_id":135436227,"body_markdown":"This isn&#39;t duplicate code, because `obj` is of different types. That&#39;s a bug in your duplicate checker.","body":"This isn&#39;t duplicate code, because <code>obj</code> is of different types. That&#39;s a bug in your duplicate checker."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1691026548,"post_id":76824350,"comment_id":135436239,"body_markdown":"What @user207421 said, but have you tried changing the order you call the setters?","body":"What @user207421 said, but have you tried changing the order you call the setters?"}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691026725,"post_id":76824397,"comment_id":135436250,"body_markdown":"It wouldn&#39;t surprise me if their broken duplicate checker complained about this code too.","body":"It wouldn&#39;t surprise me if their broken duplicate checker complained about this code too."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1691026821,"post_id":76824397,"comment_id":135436262,"body_markdown":"@tgdavies Thanks for pointing out the omission.  And you are probably right about the duplicate checker complaining about this code too.","body":"@tgdavies Thanks for pointing out the omission.  And you are probably right about the duplicate checker complaining about this code too."}],"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691026744,"creation_date":1691025816,"answer_id":76824397,"question_id":76824350,"body_markdown":"Assuming that these two classes do not share a common Interface, \r\nyou could create a method that takes an Object as its parameter\r\n\r\n    public InternalModel convertToInternal(Object o){\r\n\r\n        if (o instanceof ClassA) {\r\n            ClassA obj = (ClassA) o; \r\n            InternalModel rtn = new InternalModel();\r\n            rtn.setId(obj.getId());\r\n            rtn.setName(obj.getName());\r\n            rtn.setOrg(obj.getOrg());\r\n            return rtn;\r\n        }\r\n        if (obj instanceof ClassB) {\r\n            // etc\r\n        }\r\n\r\nSee https://www.baeldung.com/java-instanceof-alternatives for alternatives to instanceof","title":"Avoid duplicate in methods with different type parameters","body":"<p>Assuming that these two classes do not share a common Interface,\nyou could create a method that takes an Object as its parameter</p>\n<pre><code>public InternalModel convertToInternal(Object o){\n\n    if (o instanceof ClassA) {\n        ClassA obj = (ClassA) o; \n        InternalModel rtn = new InternalModel();\n        rtn.setId(obj.getId());\n        rtn.setName(obj.getName());\n        rtn.setOrg(obj.getOrg());\n        return rtn;\n    }\n    if (obj instanceof ClassB) {\n        // etc\n    }\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/java-instanceof-alternatives\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-instanceof-alternatives</a> for alternatives to instanceof</p>\n"},{"comments":[{"owner":{"account_id":26677223,"reputation":21,"user_id":20287710,"display_name":"jJavier52"},"score":0,"creation_date":1691192073,"post_id":76824453,"comment_id":135463720,"body_markdown":"It works with just changing paramater name, thanks","body":"It works with just changing paramater name, thanks"}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691027033,"creation_date":1691027033,"answer_id":76824453,"question_id":76824350,"body_markdown":"&gt; How can I factorize these methods to avoid duplicated code and without using neither parent classes nor interface?\r\n\r\nSince you stipulate that the two classes are not polymorphic and cannot be made so, there is no good way to remove the lexical duplication.  This is because it&#39;s *only* lexical, not a semantic duplication.  Notwithstanding that the methods being invoked in the two method bodies have the same names and even the same parameter types, they are different methods because they belong to different, unrelated types.\r\n\r\nUnless you can get the duplication checker altogether disabled, which I suspect would be a hard sell, your best alternative would be to leverage some feature of the duplication-checker to disable it for the affected methods or the affected class.  See whether it supports receiving localized instructions via annotations or specially-formatted comments, for example.\r\n\r\nIf necessary, since the analysis it seems to be purely lexical, you could probably fool it with sufficient lexical changes, such as:\r\n\r\n - adding different ordinary comments to the body of each method\r\n - changing the parameter name in one of the methods\r\n - reordering the statements in the method body (to the extent that you can do so without causing breakage)\r\n\r\n","title":"Avoid duplicate in methods with different type parameters","body":"<blockquote>\n<p>How can I factorize these methods to avoid duplicated code and without using neither parent classes nor interface?</p>\n</blockquote>\n<p>Since you stipulate that the two classes are not polymorphic and cannot be made so, there is no good way to remove the lexical duplication.  This is because it's <em>only</em> lexical, not a semantic duplication.  Notwithstanding that the methods being invoked in the two method bodies have the same names and even the same parameter types, they are different methods because they belong to different, unrelated types.</p>\n<p>Unless you can get the duplication checker altogether disabled, which I suspect would be a hard sell, your best alternative would be to leverage some feature of the duplication-checker to disable it for the affected methods or the affected class.  See whether it supports receiving localized instructions via annotations or specially-formatted comments, for example.</p>\n<p>If necessary, since the analysis it seems to be purely lexical, you could probably fool it with sufficient lexical changes, such as:</p>\n<ul>\n<li>adding different ordinary comments to the body of each method</li>\n<li>changing the parameter name in one of the methods</li>\n<li>reordering the statements in the method body (to the extent that you can do so without causing breakage)</li>\n</ul>\n"}],"owner":{"account_id":26677223,"reputation":21,"user_id":20287710,"display_name":"jJavier52"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691027033,"creation_date":1691025091,"question_id":76824350,"body_markdown":"I have two classes that are autogenerated, these classes have the same arguments and methods, lets call them ClassA and ClassB. I need to convert this autogenerated classes to an internal model, so I have created a convertToInternal(ClassA) and convertToInternal(ClassB) but the mapping process is detected as a duplicated code. This is because ClassA and ClassB are exactly the same, and both need to be mapped to the same internal model. I can change the method name but thats not helping with the duplicated code error.\r\n\r\nSince both ClassA and ClassB are autogenerated (and also both required per company rules), I can&#39;t modify them.\r\n\r\nHow can I factorize these methods to avoid duplicated code and without using neither parent classes nor interface?\r\n\r\nI&#39;m using java 17.\r\n\r\nThe detected duplicated methods are:\r\n\r\n```\r\npublic InternalModel convertToInternal(ClassA obj){\r\n    InternalModel rtn = new InternalModel();\r\n    rtn.setId(obj.getId());\r\n    rtn.setName(obj.getName());\r\n    rtn.setOrg(obj.getOrg());\r\n    ...\r\n    return rtn;\r\n}\r\n\r\npublic InternalModel convertToInternal(ClassB obj){\r\n    InternalModel rtn = new InternalModel();\r\n    rtn.setId(obj.getId());\r\n    rtn.setName(obj.getName());\r\n    rtn.setOrg(obj.getOrg());\r\n    ...\r\n    return rtn;\r\n}\r\n```","title":"Avoid duplicate in methods with different type parameters","body":"<p>I have two classes that are autogenerated, these classes have the same arguments and methods, lets call them ClassA and ClassB. I need to convert this autogenerated classes to an internal model, so I have created a convertToInternal(ClassA) and convertToInternal(ClassB) but the mapping process is detected as a duplicated code. This is because ClassA and ClassB are exactly the same, and both need to be mapped to the same internal model. I can change the method name but thats not helping with the duplicated code error.</p>\n<p>Since both ClassA and ClassB are autogenerated (and also both required per company rules), I can't modify them.</p>\n<p>How can I factorize these methods to avoid duplicated code and without using neither parent classes nor interface?</p>\n<p>I'm using java 17.</p>\n<p>The detected duplicated methods are:</p>\n<pre><code>public InternalModel convertToInternal(ClassA obj){\n    InternalModel rtn = new InternalModel();\n    rtn.setId(obj.getId());\n    rtn.setName(obj.getName());\n    rtn.setOrg(obj.getOrg());\n    ...\n    return rtn;\n}\n\npublic InternalModel convertToInternal(ClassB obj){\n    InternalModel rtn = new InternalModel();\n    rtn.setId(obj.getId());\n    rtn.setName(obj.getName());\n    rtn.setOrg(obj.getOrg());\n    ...\n    return rtn;\n}\n</code></pre>\n"},{"tags":["java","html","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690785261,"post_id":76800982,"comment_id":135395867,"body_markdown":"And with only the screenshot with no code of the controller or object being send we are expected to know what is wrong? We need more information on what is being send, what are the types etc.","body":"And with only the screenshot with no code of the controller or object being send we are expected to know what is wrong? We need more information on what is being send, what are the types etc."},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1690896844,"post_id":76800982,"comment_id":135414865,"body_markdown":"That code shows nothing.  Question - if its all standard, then why do you have a problem ?  Please post enough code for us to replicate teh problem.  Read the help if you are not sure.","body":"That code shows nothing.  Question - if its all standard, then why do you have a problem ?  Please post enough code for us to replicate teh problem.  Read the help if you are not sure."},{"owner":{"account_id":5683345,"reputation":320,"user_id":4493684,"accept_rate":75,"display_name":"LetMeCodeYou"},"score":0,"creation_date":1690909095,"post_id":76800982,"comment_id":135417516,"body_markdown":"@RohitGupta I hope now you&#39;ll get the issue.","body":"@RohitGupta I hope now you&#39;ll get the issue."}],"answers":[{"tags":[],"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691025195,"creation_date":1691025195,"answer_id":76824360,"question_id":76800982,"body_markdown":"The `value` attribute of a date field in html gives and takes a string in the format of `YYYY-MM-DD` [\\[W3 Schools\\]][1]. So there are many ways of achieving what you want, and one of them could be a case where you convert the date to the relevant string format from the server side and use it to populate the date field in your template. \r\n\r\nFor example:\r\n\r\nIn my Controller class, I have some code that converts a Java date object to the string format to send to my template.\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model model){\r\n        LocalDate localDate = LocalDate.now();\r\n\r\n        // Convert LocalDate to Date Object\r\n        ZoneId zoneId = ZoneId.systemDefault();\r\n        Date dob = Date.from(localDate.atStartOfDay(zoneId).toInstant());\r\n\r\n        // Formatting the date object\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        String formattedDate = sdf.format(dob);\r\n\r\n        // Should we print this formattedDate, we get a string representation of -&gt; &quot;2023-08-02&quot;\r\n\r\n        model.addAttribute(&quot;formattedDate&quot;, formattedDate);\r\n\r\n        return &quot;index&quot;;\r\n    }\r\n\r\nNow in my template, I can use that `formmattedDate` object to set the value on the input date field.\r\n\r\n    &lt;form style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n            &lt;input type=&quot;date&quot; th:value=&quot;${formattedDate}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nThis is what is looks like\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://www.w3schools.com/jsref/prop_date_value.asp\r\n  [2]: https://i.stack.imgur.com/Dhf9z.png\r\n\r\n\r\nSo in your scenario, maybe it would be ideal to just have a method in the `Student` class that does the conversion then you can call that method in your template.\r\n\r\n    public class Student{\r\n        ...\r\n        // Method to convert your LocalDate to Date\r\n        @Transient\r\n        public String formattedDOB() {\r\n            // LocalDate localDate = get value of localDate from Optional&lt;LocalDate&gt; dob;\r\n\r\n            // Convert LocalDate to Date Object\r\n            ZoneId zoneId = ZoneId.systemDefault();\r\n            Date dob = Date.from(localDate.atStartOfDay(zoneId).toInstant());\r\n\r\n            // Formatting the date object\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String formattedDate = sdf.format(dob);\r\n        \r\n            return formattedDate ;\r\n        }\r\n        ...\r\n    }\r\n\r\nThen in your template, you can call that method on the student object with `th:value=&quot;*{formattedDOB}&quot;`:\r\n\r\n    &lt;form th:action=&quot;@{/update/student/{id}(id=${student.id})}&quot;\r\n          th:object=&quot;${student}&quot;\r\n          th:method=&quot;POST&quot;\r\n          style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\r\n\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n            &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot; th:value=&quot;*{formattedDOB}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n","title":"Date field not showing the pre-filled date coming from Database","body":"<p>The <code>value</code> attribute of a date field in html gives and takes a string in the format of <code>YYYY-MM-DD</code> <a href=\"https://www.w3schools.com/jsref/prop_date_value.asp\" rel=\"nofollow noreferrer\">[W3 Schools]</a>. So there are many ways of achieving what you want, and one of them could be a case where you convert the date to the relevant string format from the server side and use it to populate the date field in your template.</p>\n<p>For example:</p>\n<p>In my Controller class, I have some code that converts a Java date object to the string format to send to my template.</p>\n<pre><code>@GetMapping(&quot;/&quot;)\npublic String index(Model model){\n    LocalDate localDate = LocalDate.now();\n\n    // Convert LocalDate to Date Object\n    ZoneId zoneId = ZoneId.systemDefault();\n    Date dob = Date.from(localDate.atStartOfDay(zoneId).toInstant());\n\n    // Formatting the date object\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n    String formattedDate = sdf.format(dob);\n\n    // Should we print this formattedDate, we get a string representation of -&gt; &quot;2023-08-02&quot;\n\n    model.addAttribute(&quot;formattedDate&quot;, formattedDate);\n\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>Now in my template, I can use that <code>formmattedDate</code> object to set the value on the input date field.</p>\n<pre><code>&lt;form style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\n    &lt;div class=&quot;mb-3&quot;&gt;\n        &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n        &lt;input type=&quot;date&quot; th:value=&quot;${formattedDate}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>This is what is looks like</p>\n<p><a href=\"https://i.stack.imgur.com/Dhf9z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dhf9z.png\" alt=\"enter image description here\" /></a></p>\n<p>So in your scenario, maybe it would be ideal to just have a method in the <code>Student</code> class that does the conversion then you can call that method in your template.</p>\n<pre><code>public class Student{\n    ...\n    // Method to convert your LocalDate to Date\n    @Transient\n    public String formattedDOB() {\n        // LocalDate localDate = get value of localDate from Optional&lt;LocalDate&gt; dob;\n\n        // Convert LocalDate to Date Object\n        ZoneId zoneId = ZoneId.systemDefault();\n        Date dob = Date.from(localDate.atStartOfDay(zoneId).toInstant());\n\n        // Formatting the date object\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        String formattedDate = sdf.format(dob);\n    \n        return formattedDate ;\n    }\n    ...\n}\n</code></pre>\n<p>Then in your template, you can call that method on the student object with <code>th:value=&quot;*{formattedDOB}&quot;</code>:</p>\n<pre><code>&lt;form th:action=&quot;@{/update/student/{id}(id=${student.id})}&quot;\n      th:object=&quot;${student}&quot;\n      th:method=&quot;POST&quot;\n      style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\n\n    &lt;div class=&quot;mb-3&quot;&gt;\n        &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n        &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot; th:value=&quot;*{formattedDOB}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":5683345,"reputation":320,"user_id":4493684,"accept_rate":75,"display_name":"LetMeCodeYou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691025195,"creation_date":1690783008,"question_id":76800982,"body_markdown":"I&#39;m facing an issue which is probably related to HTML &amp; Thymeleaf. I also attached the screenshots of the scenario. \r\n\r\nThe input field with the `type=&quot;date&quot;` only shows the **dd/mm/yyyy** when I changed the field type to `type=&quot;text&quot;` then it shows the date. I want it to show the date regardless of the `type=&quot;date&quot;`, so that while editing the record user can see the previous date.\r\n\r\nFirst screenshot is of read mode. And the date of birth field has the `type=&quot;text&quot;`.\r\n\r\n[![view record details][1]][1]\r\n\r\nSecond screenshot is of edit mode. And you can see that the date is not visible. Input field is of `type=&quot;date&quot;` here.\r\n\r\n[![edit record details][2]][2]\r\n\r\nFollowing is my Thymeleaf template snippet which is relevant for this specific field.\r\n\r\n  ```html\r\n  &lt;div class=&quot;mb-3&quot;&gt;\r\n       &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n       &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\r\n  &lt;/div&gt;\r\n```\r\n\r\nMost probably the code anyone need to look at is just this. Rest is all standard code to insert, read etc.\r\n\r\n    public class Student {\r\n\r\n        private Optional&lt;LocalDate&gt; dob;\r\n    \r\n        public Optional&lt;LocalDate&gt; getDob() {\r\n            return dob;\r\n        }\r\n\r\n        public void setDob(Optional&lt;LocalDate&gt; dob) {\r\n            this.dob = dob;\r\n        }\r\n    }\r\n\r\nI&#39;d also like to attach the screenshot of the inspect element. You can see that date is coming right, but somehow, datepicker is not showing it. Instead it always show the dd/mm/yyyy.\r\n\r\nI want to show the existing date here in the picker so that user can easily see what to change next. \r\n\r\nAnd if we do not set any date here on the edit mode. Regardless, of the value stored in the DB, it will pick the empty date from the UI and update it to DB. So, that&#39;s obvious. If it holds the value in the picker then probably it will not behave like this. Any ideas will be great.\r\n\r\n\r\n**Controller**\r\n\r\n```java\r\n@GetMapping(&quot;/edit/student/{id}&quot;)\r\npublic String editStudentDetails(@PathVariable(&quot;id&quot;) Integer \r\n    studentId, Model model) {\r\n\r\n    Student student = studentService.findStudent(studentId);\r\n\r\n    model.addAttribute(&quot;student&quot;, student);\r\n    model.addAttribute(&quot;editMode&quot;, true);\r\n\r\n    return &quot;editStudent&quot;;\r\n}\r\n\r\n@PostMapping(&quot;/update/student/{id}&quot;)\r\npublic String editStudentDetails(@PathVariable(&quot;id&quot;) Integer \r\n     studentId, Student student, Model model) {\r\n\r\n    model.addAttribute(&quot;student&quot;, student);\r\n    model.addAttribute(&quot;editMode&quot;, true);\r\n\r\n    studentService.updateStudent(studentId, student);\r\n\r\n    return &quot;redirect:/view/student/&quot;+studentId;\r\n}\r\n```\r\n\r\n**RowMapper**\r\n\r\n```java\r\npublic class StudentRowMapper implements RowMapper&lt;Student&gt; {\r\n\r\n    @Override\r\n    public Student mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        Student student = new Student();\r\n\r\n        student.setId(rs.getInt(&quot;student_id&quot;));\r\n        student.setFirstName(rs.getString(&quot;first_name&quot;));\r\n        student.setLastName(rs.getString(&quot;last_name&quot;));            \r\n        student.setDob(Optional.ofNullable(rs.getDate\r\n        (&quot;date_of_birth&quot;)).map(java.sql.Date::toLocalDate));\r\n        student.setGender(rs.getString(&quot;gender&quot;));\r\n        student.setAddress(rs.getString(&quot;address&quot;));\r\n        student.setEmail(rs.getString(&quot;email&quot;));\r\n        student.setPhoneNumber(rs.getString(&quot;phone_number&quot;));\r\n    \r\n        return student;\r\n    }\r\n```\r\n\r\n**Template**\r\n\r\neditStudent.html\r\n\r\n```html\r\n    &lt;div&gt;\r\n        &lt;form th:action=&quot;@{/update/student/{id}(id=${student.id})}&quot;\r\n              th:object=&quot;${student}&quot;\r\n              th:method=&quot;POST&quot;\r\n              style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\r\n\r\n            &lt;div class=&quot;mb-3&quot;&gt;\r\n                &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n                &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot;  th:value=&quot;${{student.dob.orElse(&#39;&#39;)}}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\r\n            &lt;/div&gt;   \r\n\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n```\r\n\r\n**Template**\r\n\r\nviewStudent.html\r\n\r\n```html\r\n&lt;div class=&quot;mb-3&quot;&gt;\r\n    &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; th:field=&quot;*{dob}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot; readonly&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/C42jS.png\r\n  [2]: https://i.stack.imgur.com/WI2oO.png\r\n\r\n","title":"Date field not showing the pre-filled date coming from Database","body":"<p>I'm facing an issue which is probably related to HTML &amp; Thymeleaf. I also attached the screenshots of the scenario.</p>\n<p>The input field with the <code>type=&quot;date&quot;</code> only shows the <strong>dd/mm/yyyy</strong> when I changed the field type to <code>type=&quot;text&quot;</code> then it shows the date. I want it to show the date regardless of the <code>type=&quot;date&quot;</code>, so that while editing the record user can see the previous date.</p>\n<p>First screenshot is of read mode. And the date of birth field has the <code>type=&quot;text&quot;</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/C42jS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C42jS.png\" alt=\"view record details\" /></a></p>\n<p>Second screenshot is of edit mode. And you can see that the date is not visible. Input field is of <code>type=&quot;date&quot;</code> here.</p>\n<p><a href=\"https://i.stack.imgur.com/WI2oO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WI2oO.png\" alt=\"edit record details\" /></a></p>\n<p>Following is my Thymeleaf template snippet which is relevant for this specific field.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;mb-3&quot;&gt;\n     &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n     &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Most probably the code anyone need to look at is just this. Rest is all standard code to insert, read etc.</p>\n<pre><code>public class Student {\n\n    private Optional&lt;LocalDate&gt; dob;\n\n    public Optional&lt;LocalDate&gt; getDob() {\n        return dob;\n    }\n\n    public void setDob(Optional&lt;LocalDate&gt; dob) {\n        this.dob = dob;\n    }\n}\n</code></pre>\n<p>I'd also like to attach the screenshot of the inspect element. You can see that date is coming right, but somehow, datepicker is not showing it. Instead it always show the dd/mm/yyyy.</p>\n<p>I want to show the existing date here in the picker so that user can easily see what to change next.</p>\n<p>And if we do not set any date here on the edit mode. Regardless, of the value stored in the DB, it will pick the empty date from the UI and update it to DB. So, that's obvious. If it holds the value in the picker then probably it will not behave like this. Any ideas will be great.</p>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/edit/student/{id}&quot;)\npublic String editStudentDetails(@PathVariable(&quot;id&quot;) Integer \n    studentId, Model model) {\n\n    Student student = studentService.findStudent(studentId);\n\n    model.addAttribute(&quot;student&quot;, student);\n    model.addAttribute(&quot;editMode&quot;, true);\n\n    return &quot;editStudent&quot;;\n}\n\n@PostMapping(&quot;/update/student/{id}&quot;)\npublic String editStudentDetails(@PathVariable(&quot;id&quot;) Integer \n     studentId, Student student, Model model) {\n\n    model.addAttribute(&quot;student&quot;, student);\n    model.addAttribute(&quot;editMode&quot;, true);\n\n    studentService.updateStudent(studentId, student);\n\n    return &quot;redirect:/view/student/&quot;+studentId;\n}\n</code></pre>\n<p><strong>RowMapper</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StudentRowMapper implements RowMapper&lt;Student&gt; {\n\n    @Override\n    public Student mapRow(ResultSet rs, int rowNum) throws SQLException {\n        Student student = new Student();\n\n        student.setId(rs.getInt(&quot;student_id&quot;));\n        student.setFirstName(rs.getString(&quot;first_name&quot;));\n        student.setLastName(rs.getString(&quot;last_name&quot;));            \n        student.setDob(Optional.ofNullable(rs.getDate\n        (&quot;date_of_birth&quot;)).map(java.sql.Date::toLocalDate));\n        student.setGender(rs.getString(&quot;gender&quot;));\n        student.setAddress(rs.getString(&quot;address&quot;));\n        student.setEmail(rs.getString(&quot;email&quot;));\n        student.setPhoneNumber(rs.getString(&quot;phone_number&quot;));\n    \n        return student;\n    }\n</code></pre>\n<p><strong>Template</strong></p>\n<p>editStudent.html</p>\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;div&gt;\n        &lt;form th:action=&quot;@{/update/student/{id}(id=${student.id})}&quot;\n              th:object=&quot;${student}&quot;\n              th:method=&quot;POST&quot;\n              style=&quot;max-width: 500px; margin: 0 auto;&quot;&gt;\n\n            &lt;div class=&quot;mb-3&quot;&gt;\n                &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n                &lt;input type=&quot;date&quot; th:field=&quot;*{dob}&quot;  th:value=&quot;${{student.dob.orElse('')}}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot;&gt;\n            &lt;/div&gt;   \n\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n<p><strong>Template</strong></p>\n<p>viewStudent.html</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;mb-3&quot;&gt;\n    &lt;label for=&quot;dob&quot; class=&quot;form-label&quot;&gt;Date of Birth&lt;/label&gt;\n    &lt;input type=&quot;text&quot; th:field=&quot;*{dob}&quot; class=&quot;form-control&quot; id=&quot;dob&quot; name=&quot;dob&quot; readonly&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","interface","polymorphism","compile-time"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691019118,"post_id":76824055,"comment_id":135435615,"body_markdown":"What&#39;s your definition of &quot;static polymorphism&quot;. It seems popular to define it (for Java) as method overloading, but that is not polymorphism -- each method is a different method, and the fact that they have the same names is irrelevant, although it means that we have to define how the compiler selects the right method at compile time based on the types of the parameters.","body":"What&#39;s your definition of &quot;static polymorphism&quot;. It seems popular to define it (for Java) as method overloading, but that is not polymorphism -- each method is a different method, and the fact that they have the same names is irrelevant, although it means that we have to define how the compiler selects the right method at compile time based on the types of the parameters."},{"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"score":0,"creation_date":1691019788,"post_id":76824055,"comment_id":135435673,"body_markdown":"@tgdavies How? what i know and read is that methods with Same name and different parameters is method-overloading. And if method overloading occurs in a same class then it is decided during compilation-time as which to select and hence we can also refer it as a static polymorphism","body":"@tgdavies How? what i know and read is that methods with Same name and different parameters is method-overloading. And if method overloading occurs in a same class then it is decided during compilation-time as which to select and hence we can also refer it as a static polymorphism"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1691023581,"post_id":76824055,"comment_id":135435986,"body_markdown":"How, because that is how run-time polymorphism is defined and how it works. The compiler cannot know in advance what actual instance is calling the method at compile time when it is an interface method. Period.","body":"How, because that is how run-time polymorphism is defined and how it works. The compiler cannot know in advance what actual instance is calling the method at compile time when it is an interface method. Period."},{"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"score":0,"creation_date":1691024297,"post_id":76824055,"comment_id":135436052,"body_markdown":"@HovercraftFullOfEels no means i am not asking about run - time polymorphism here (How) means he said (the fact that they have the same names is irrelevant) so in terms of that i said &quot;How&quot;. He was first saying about method - overloading but said its not polymorphism","body":"@HovercraftFullOfEels no means i am not asking about run - time polymorphism here (How) means he said (the fact that they have the same names is irrelevant) so in terms of that i said &quot;How&quot;. He was first saying about method - overloading but said its not polymorphism"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1691024451,"post_id":76824055,"comment_id":135436064,"body_markdown":"That doesn&#39;t really make sense. Can you re-explain what you&#39;re asking about, because your code is *showing* run-time polymorphism involving a class that inherits from an interface, including &quot;the part below&quot;.","body":"That doesn&#39;t really make sense. Can you re-explain what you&#39;re asking about, because your code is <i>showing</i> run-time polymorphism involving a class that inherits from an interface, including &quot;the part below&quot;."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1691024671,"post_id":76824055,"comment_id":135436084,"body_markdown":"Regarding your question&#39;s edit, the answer is the same: your code is showing run-time polymorphism. It is also showing method overloading due to parameter changes.","body":"Regarding your question&#39;s edit, the answer is the same: your code is showing run-time polymorphism. It is also showing method overloading due to parameter changes."},{"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"score":0,"creation_date":1691025083,"post_id":76824055,"comment_id":135436109,"body_markdown":"@HovercraftFullOfEels Okay let me be clear about one thing. for eg TV obj = new TV()  suppose TV class include method overloading then its determined during compile-time right ?. Now as per above code RemoteControl tvRemote = new TV(); tvRemote.turnOn() here you are saying its achieving run-time polymorphsim (so basically in terms of interfaces too we say it as a run-time polymorphism as i created reference of interface with TV object? ). Maybe i should have said like TV obj = new TV() and than call its methods like obj.turnOn() ( this is compiled time right ? )","body":"@HovercraftFullOfEels Okay let me be clear about one thing. for eg TV obj = new TV()  suppose TV class include method overloading then its determined during compile-time right ?. Now as per above code RemoteControl tvRemote = new TV(); tvRemote.turnOn() here you are saying its achieving run-time polymorphsim (so basically in terms of interfaces too we say it as a run-time polymorphism as i created reference of interface with TV object? ). Maybe i should have said like TV obj = new TV() and than call its methods like obj.turnOn() ( this is compiled time right ? )"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1691026227,"post_id":76824055,"comment_id":135436212,"body_markdown":"So is your question: &quot;Is different byte code produced when the compile-time type of a reference is a concrete class rather than an interface?&quot; I&#39;m not clear on what you are trying to understand about the difference.","body":"So is your question: &quot;Is different byte code produced when the compile-time type of a reference is a concrete class rather than an interface?&quot; I&#39;m not clear on what you are trying to understand about the difference."}],"answers":[{"comments":[{"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"score":0,"creation_date":1691022578,"post_id":76824158,"comment_id":135435902,"body_markdown":"Thank you for your response. But when i posted with different doubt but this was the same example. Some other person said it my code is achieving static / compile-time polymorphsim. So i am bit getting confused with all different answers. Yeah it would be easy in terms of inheritance but i want to get clear in terms of interfaces","body":"Thank you for your response. But when i posted with different doubt but this was the same example. Some other person said it my code is achieving static / compile-time polymorphsim. So i am bit getting confused with all different answers. Yeah it would be easy in terms of inheritance but i want to get clear in terms of interfaces"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1691023642,"post_id":76824158,"comment_id":135435993,"body_markdown":"Sorry, but this answer is nonsense. @AshKecthum, do not follow this advice, please.","body":"Sorry, but this answer is nonsense. @AshKecthum, do not follow this advice, please."},{"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"score":0,"creation_date":1691024087,"post_id":76824158,"comment_id":135436030,"body_markdown":"@HovercraftFullOfEels God thank you for mentioning this. Its been 6 hours i am just learning about interfaces and polymorphism still","body":"@HovercraftFullOfEels God thank you for mentioning this. Its been 6 hours i am just learning about interfaces and polymorphism still"}],"tags":[],"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1691021016,"creation_date":1691020698,"answer_id":76824158,"question_id":76824055,"body_markdown":"The Remote Control interface&#39;s methods are compiled polymorphism, whereas the TV&#39;s overridden methods are runtime polymorphism.\r\n\r\nYou can read more at this [Geeks For Geeks Article][1], but an easy way to tell which methods are runtime and which are compiled would be if there was inheritance. If the methods are inherited and overridden, they would by runtime polymorphism.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/difference-between-compile-time-and-run-time-polymorphism-in-java/","title":"What interface is achieveing here ? ( compile - time / run - time polymorphsim )?","body":"<p>The Remote Control interface's methods are compiled polymorphism, whereas the TV's overridden methods are runtime polymorphism.</p>\n<p>You can read more at this <a href=\"https://www.geeksforgeeks.org/difference-between-compile-time-and-run-time-polymorphism-in-java/\" rel=\"nofollow noreferrer\">Geeks For Geeks Article</a>, but an easy way to tell which methods are runtime and which are compiled would be if there was inheritance. If the methods are inherited and overridden, they would by runtime polymorphism.</p>\n"}],"owner":{"account_id":29147940,"reputation":21,"user_id":22329425,"display_name":"Ash Kecthum"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1691023520,"answer_count":1,"score":-2,"last_activity_date":1691024561,"creation_date":1691018619,"question_id":76824055,"body_markdown":"**Question (What my code is trying to achieve in terms of interfaces? (Compile - time / run - time) polymorphism ?**\r\n\r\nConsider below code as an example\r\n\r\n```\r\ninterface RemoteControl {\r\n    void turnOn();\r\n    void turnOn(int channel);\r\n}\r\n\r\nclass TV implements RemoteControl {\r\n    public void turnOn() {\r\n        System.out.println(&quot;TV is turned on&quot;);\r\n    }\r\n\r\n    public void turnOn(int channel) {\r\n        System.out.println(&quot;TV is turned on. Channel: &quot; + channel);\r\n    }\r\n}\r\n\r\n\r\npublic class UserCode {\r\n    public static void main(String[] args) {\r\n        RemoteControl tvRemote = new TV(); \r\n\r\n        tvRemote.turnOn(); \r\n        tvRemote.turnOn(5); \r\n    }\r\n}\r\n```\r\n\r\n\r\nNow in the above code can you tell me what type of polymorphism its trying to achieve.? \r\n\r\nSo below part is decided at compile-time or run-time ( as there are not inherited classed but in terms of interface ?\r\n\r\n```\r\nRemoteControl tvRemote = new TV();\r\ntvRemote.turnOn(); \r\ntvRemote.turnOn(5); \r\n```","title":"What interface is achieveing here ? ( compile - time / run - time polymorphsim )?","body":"<p><strong>Question (What my code is trying to achieve in terms of interfaces? (Compile - time / run - time) polymorphism ?</strong></p>\n<p>Consider below code as an example</p>\n<pre><code>interface RemoteControl {\n    void turnOn();\n    void turnOn(int channel);\n}\n\nclass TV implements RemoteControl {\n    public void turnOn() {\n        System.out.println(&quot;TV is turned on&quot;);\n    }\n\n    public void turnOn(int channel) {\n        System.out.println(&quot;TV is turned on. Channel: &quot; + channel);\n    }\n}\n\n\npublic class UserCode {\n    public static void main(String[] args) {\n        RemoteControl tvRemote = new TV(); \n\n        tvRemote.turnOn(); \n        tvRemote.turnOn(5); \n    }\n}\n</code></pre>\n<p>Now in the above code can you tell me what type of polymorphism its trying to achieve.?</p>\n<p>So below part is decided at compile-time or run-time ( as there are not inherited classed but in terms of interface ?</p>\n<pre><code>RemoteControl tvRemote = new TV();\ntvRemote.turnOn(); \ntvRemote.turnOn(5); \n</code></pre>\n"},{"tags":["java","android","text","tostring","text-alignment"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1691023470,"post_id":76823808,"comment_id":135435972,"body_markdown":"Err, tabs? But this is the wrong place to do this kind of thing. `toString()` is intended for debugging and to have unspecified output format.","body":"Err, tabs? But this is the wrong place to do this kind of thing. <code>toString()</code> is intended for debugging and to have unspecified output format."},{"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"score":0,"creation_date":1691068845,"post_id":76823808,"comment_id":135443716,"body_markdown":"Are there other method to get recyclerView from activity to itext pdf document?  @user207421","body":"Are there other method to get recyclerView from activity to itext pdf document?  @user207421"}],"answers":[{"comments":[{"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"score":0,"creation_date":1691069006,"post_id":76823945,"comment_id":135443750,"body_markdown":"it&#39;s has already arranged the code but not as I want, Thank you.","body":"it&#39;s has already arranged the code but not as I want, Thank you."},{"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"score":0,"creation_date":1691089165,"post_id":76823945,"comment_id":135448160,"body_markdown":"okay, what exactly do you want? from the question it looks like you just want proper formatting, is it something else you are looking for?","body":"okay, what exactly do you want? from the question it looks like you just want proper formatting, is it something else you are looking for?"}],"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691016437,"creation_date":1691016437,"answer_id":76823945,"question_id":76823808,"body_markdown":"You can use \\t in the method, something like this\r\n\r\n    @Override\r\n    public String toString() {\r\n\t\t\r\n    \treturn &quot;Education&quot; +\r\n                &quot;\\t&quot; + System.getProperty(&quot;line.separator&quot;) +\r\n                year+ &quot;\\t&quot;+ university + System.getProperty(&quot;line.separator&quot;)+\r\n                &quot;\\t&quot;+ degree ;\r\n    \t\r\n    }","title":"Align text in toString","body":"<p>You can use \\t in the method, something like this</p>\n<pre><code>@Override\npublic String toString() {\n    \n    return &quot;Education&quot; +\n            &quot;\\t&quot; + System.getProperty(&quot;line.separator&quot;) +\n            year+ &quot;\\t&quot;+ university + System.getProperty(&quot;line.separator&quot;)+\n            &quot;\\t&quot;+ degree ;\n    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"score":0,"creation_date":1691069100,"post_id":76824276,"comment_id":135443771,"body_markdown":"thank you, but this give me an error..","body":"thank you, but this give me an error.."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691023379,"creation_date":1691023379,"answer_id":76824276,"question_id":76823808,"body_markdown":"You can use the _[String#formatted](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...))_ method to create a fixed-width string.\r\n\r\nThe full list of format specifiers can be found on the _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html)_ _JavaDoc_ page.\r\n\r\n```java\r\nreturn\r\n    &quot;Education%n&quot;.formatted()\r\n  + &quot;%-17s%s%n&quot;.formatted(year, university)\r\n  + &quot;%17s%s&quot;.formatted(&quot;&quot;, degree);\r\n```\r\n\r\nHere are some example outputs,\r\n\r\n```none\r\nEducation\r\n2023             UniversityExample\r\n                 Bachelor of somthing\r\n```\r\n\r\n```none\r\nEducation\r\n2019 to 2023     UniversityExample\r\n                 Bachelor of somthing\r\n```","title":"Align text in toString","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\">String#formatted</a></em> method to create a fixed-width string.</p>\n<p>The full list of format specifiers can be found on the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Formatter</a></em> <em>JavaDoc</em> page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return\n    &quot;Education%n&quot;.formatted()\n  + &quot;%-17s%s%n&quot;.formatted(year, university)\n  + &quot;%17s%s&quot;.formatted(&quot;&quot;, degree);\n</code></pre>\n<p>Here are some example outputs,</p>\n<pre class=\"lang-none prettyprint-override\"><code>Education\n2023             UniversityExample\n                 Bachelor of somthing\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Education\n2019 to 2023     UniversityExample\n                 Bachelor of somthing\n</code></pre>\n"}],"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691023379,"creation_date":1691014031,"question_id":76823808,"body_markdown":"I want to keep the order as it is in this code, but I don&#39;t know how to make the value of degree under the value of university\r\n\r\n```\r\n @Override\r\n    public String toString() {\r\n        return &quot;Education&quot; +\r\n                &quot; &quot; + System.getProperty(&quot;line.separator&quot;) +\r\n                 year+ &quot;        &quot;+ university + System.getProperty(&quot;line.separator&quot;)+\r\n                 &quot;              &quot;+ degree ;\r\n    }\r\n```\r\n\r\nwhat I want\r\n\r\n```\r\n2023     UniversityExample \r\n         Bachelor of somthing \r\n```\r\n\r\nbut appears like this :\r\n\r\n```\r\n2023     UniversityExample     \r\n   Bachelor of somthing \r\n```\r\n\r\nor like this :\r\n\r\n```\r\n2019 to 2023     UniversityExample \r\n                       Bachelor of somthing   \r\n```","title":"Align text in toString","body":"<p>I want to keep the order as it is in this code, but I don't know how to make the value of degree under the value of university</p>\n<pre><code> @Override\n    public String toString() {\n        return &quot;Education&quot; +\n                &quot; &quot; + System.getProperty(&quot;line.separator&quot;) +\n                 year+ &quot;        &quot;+ university + System.getProperty(&quot;line.separator&quot;)+\n                 &quot;              &quot;+ degree ;\n    }\n</code></pre>\n<p>what I want</p>\n<pre><code>2023     UniversityExample \n         Bachelor of somthing \n</code></pre>\n<p>but appears like this :</p>\n<pre><code>2023     UniversityExample     \n   Bachelor of somthing \n</code></pre>\n<p>or like this :</p>\n<pre><code>2019 to 2023     UniversityExample \n                       Bachelor of somthing   \n</code></pre>\n"},{"tags":["java","spring-boot","jooq"],"answers":[{"comments":[{"owner":{"account_id":8496304,"reputation":3,"user_id":6370805,"display_name":"La Codeuse"},"score":0,"creation_date":1499719969,"post_id":45013417,"comment_id":77017082,"body_markdown":"This is it! Now I understand and this solution works. Thank you!","body":"This is it! Now I understand and this solution works. Thank you!"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499693481,"creation_date":1499693481,"answer_id":45013417,"question_id":45007426,"body_markdown":"You have to know that [`SelectJoinStep`][1] and similar API is just convenience for calling `Table.join(...).on(...)`. In other words, you could maintain a local `Table&lt;?&gt;` variable and join additional tables to it as follows:\r\n\r\n    Table&lt;?&gt; table = firstTable();\r\n    for (int i = 0; i &lt; count; i++) {\r\n        if (y) \r\n            table = table.join(joinTable(i)).on(joinPredicate(i));\r\n    }\r\n\r\nAnd then:\r\n\r\n    dsl.select(...).from(table).fetch();\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org/jooq/SelectJoinStep.html","title":"How to create a list of joinSteps with jooq","body":"<p>You have to know that <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/SelectJoinStep.html\" rel=\"nofollow noreferrer\"><code>SelectJoinStep</code></a> and similar API is just convenience for calling <code>Table.join(...).on(...)</code>. In other words, you could maintain a local <code>Table&lt;?&gt;</code> variable and join additional tables to it as follows:</p>\n\n<pre><code>Table&lt;?&gt; table = firstTable();\nfor (int i = 0; i &lt; count; i++) {\n    if (y) \n        table = table.join(joinTable(i)).on(joinPredicate(i));\n}\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>dsl.select(...).from(table).fetch();\n</code></pre>\n"}],"owner":{"account_id":8496304,"reputation":3,"user_id":6370805,"display_name":"La Codeuse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45013417,"answer_count":1,"score":0,"last_activity_date":1691020859,"creation_date":1499676107,"question_id":45007426,"body_markdown":"I know that I can add conditions to a list within a loop like this:\r\n\r\n    List&lt;Condition&gt; conditionsList = new ArrayList&lt;&gt;();\r\n    for(int i= 0; i&lt;count; i++){\r\n    \tif(x)\r\n          conditionsList.add(mySQLCondition)\r\n    }\r\n    SelectJoinStep myQuery = dsl.select(…);\r\n    conditionQuery = myQuery(conditionsList);\r\n\r\nIs there a way similar to create an object list of &lt;join.on()&gt; so I can add \r\n\r\n    List&lt;Condition&gt; joinList = new ArrayList&lt;&gt;();\r\n    for(int i= 0; i&lt;count; i++){\r\n    \tif(y){\r\n    \t\t//In which Objecttype can I store: join(myJoinTable).on(y.eq(…))??\r\n    \t\tjoinList.add(join(myJoinTable).on(y.eq(…)))\r\n    \t}\r\n    \t\t\r\n    }\r\n    SelectJoinStep myQueryWithJoins = dsl.select(…).join(joinList);\r\n\r\n","title":"How to create a list of joinSteps with jooq","body":"<p>I know that I can add conditions to a list within a loop like this:</p>\n<pre><code>List&lt;Condition&gt; conditionsList = new ArrayList&lt;&gt;();\nfor(int i= 0; i&lt;count; i++){\n    if(x)\n      conditionsList.add(mySQLCondition)\n}\nSelectJoinStep myQuery = dsl.select(…);\nconditionQuery = myQuery(conditionsList);\n</code></pre>\n<p>Is there a way similar to create an object list of &lt;join.on()&gt; so I can add</p>\n<pre><code>List&lt;Condition&gt; joinList = new ArrayList&lt;&gt;();\nfor(int i= 0; i&lt;count; i++){\n    if(y){\n        //In which Objecttype can I store: join(myJoinTable).on(y.eq(…))??\n        joinList.add(join(myJoinTable).on(y.eq(…)))\n    }\n        \n}\nSelectJoinStep myQueryWithJoins = dsl.select(…).join(joinList);\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver","testng","gitlab-ci.yml"],"owner":{"account_id":26264695,"reputation":1,"user_id":19935445,"display_name":"esra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691018991,"creation_date":1691018991,"question_id":76824070,"body_markdown":"I want to run 3 different jobs for 3 testNG suits on pipeline with in an order. with this configuration each job runs all tests , actually this configuration doesn’t take this suits from this file, it runs what pom.xml has, it has these 3 suits.\r\n\r\ngitlab-ci.yml \r\n\r\nbuild:\r\n  stage: build\r\n  script:\r\n    - mvn compile\r\n\r\nstages:\r\n  - test1\r\n  - test2\r\n  - test3\r\n\r\nui-test-qa3-1:\r\n  stage: test1\r\n  script:\r\n    - ls\r\n    - mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2.xml&quot;\r\n\r\n  tags:\r\n    - ui-test\r\n\r\nui-test-qa3-2:\r\n  stage: test2\r\n  script:\r\n    - ls\r\n    - mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2_1.xml&quot;\r\n  needs:\r\n    - ui-test-qa3-1\r\n\r\n  tags:\r\n    - ui-test\r\n\r\nui-test-qa3-3:\r\n  stage: test3\r\n  script:\r\n    - ls\r\n    - mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2_2.xml&quot;\r\n  needs:\r\n    - ui-test-qa3-2\r\n  tags:\r\n    - ui-test\r\n\r\nand pom.xml build\r\n\r\n &lt;build&gt;\r\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;testQA3v2.2.xml&lt;/suiteXmlFile&gt;\r\n                               &lt;suiteXmlFile&gt;testQA3v2.2_1.xml&lt;/suiteXmlFile&gt;\r\n                                  &lt;suiteXmlFile&gt;testQA3v2.2_2.xml&lt;/suiteXmlFile&gt;\r\n\r\n                        &lt;/suiteXmlFiles&gt;\r\n                    &lt;/configuration&gt;\r\n\r\n\r\n                &lt;/plugin&gt;\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\n\r\n\r\n\r\nI tried to run without suite config. in pom.xml but than it runs all tests in the project.\r\nI want to run job1 with suite1 and than job2 for suite2  then job3 suite3","title":"Configuration of gitlab-ci.yml file for maven project","body":"<p>I want to run 3 different jobs for 3 testNG suits on pipeline with in an order. with this configuration each job runs all tests , actually this configuration doesn’t take this suits from this file, it runs what pom.xml has, it has these 3 suits.</p>\n<p>gitlab-ci.yml</p>\n<p>build:\nstage: build\nscript:\n- mvn compile</p>\n<p>stages:</p>\n<ul>\n<li>test1</li>\n<li>test2</li>\n<li>test3</li>\n</ul>\n<p>ui-test-qa3-1:\nstage: test1\nscript:\n- ls\n- mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2.xml&quot;</p>\n<p>tags:\n- ui-test</p>\n<p>ui-test-qa3-2:\nstage: test2\nscript:\n- ls\n- mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2_1.xml&quot;\nneeds:\n- ui-test-qa3-1</p>\n<p>tags:\n- ui-test</p>\n<p>ui-test-qa3-3:\nstage: test3\nscript:\n- ls\n- mvn test -fn -DsuiteXMLFile=&quot;testQA3v2.2_2.xml&quot;\nneeds:\n- ui-test-qa3-2\ntags:\n- ui-test</p>\n<p>and pom.xml build</p>\n \n        install\n<pre><code>        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;testQA3v2.2.xml&lt;/suiteXmlFile&gt;\n                           &lt;suiteXmlFile&gt;testQA3v2.2_1.xml&lt;/suiteXmlFile&gt;\n                              &lt;suiteXmlFile&gt;testQA3v2.2_2.xml&lt;/suiteXmlFile&gt;\n\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n\n\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I tried to run without suite config. in pom.xml but than it runs all tests in the project.\nI want to run job1 with suite1 and than job2 for suite2  then job3 suite3</p>\n"},{"tags":["java","windows","powershell","batch-file","cmd"],"comments":[{"owner":{"account_id":1908380,"reputation":308,"user_id":1722792,"accept_rate":60,"display_name":"DevX"},"score":0,"creation_date":1583148776,"post_id":60487766,"comment_id":107006601,"body_markdown":"Powershell will try to parse your input parameters to the program so to avoid that you need to wrap them in double quotes so that instead of parsing them they are passed as it is to the executable program","body":"Powershell will try to parse your input parameters to the program so to avoid that you need to wrap them in double quotes so that instead of parsing them they are passed as it is to the executable program"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1583148996,"post_id":60487766,"comment_id":107006716,"body_markdown":"@DevX do you have a source for this, please?","body":"@DevX do you have a source for this, please?"},{"owner":{"account_id":15281097,"reputation":24201,"user_id":11025476,"display_name":"AdminOfThings"},"score":1,"creation_date":1583149745,"post_id":60487766,"comment_id":107007036,"body_markdown":"See [Call Operator](https://ss64.com/ps/call.html) for how to call external programs from PowerShell.","body":"See <a href=\"https://ss64.com/ps/call.html\" rel=\"nofollow noreferrer\">Call Operator</a> for how to call external programs from PowerShell."},{"owner":{"account_id":1908380,"reputation":308,"user_id":1722792,"accept_rate":60,"display_name":"DevX"},"score":0,"creation_date":1583150458,"post_id":60487766,"comment_id":107007383,"body_markdown":"@Jakg I did some search a while back when I had the same problem with java and found [this](https://superuser.com/questions/731638/command-line-parameters-in-powershell) on SuperUser. May not be an exact source you were looking for but it did help me understand a few things","body":"@Jakg I did some search a while back when I had the same problem with java and found <a href=\"https://superuser.com/questions/731638/command-line-parameters-in-powershell\">this</a> on SuperUser. May not be an exact source you were looking for but it did help me understand a few things"},{"owner":{"account_id":10528,"reputation":18513,"user_id":19937,"display_name":"Walter Mitty"},"score":0,"creation_date":1583150765,"post_id":60487766,"comment_id":107007531,"body_markdown":"The comment from @AdminofThings is the answer.  The Call Operator prevents inappropriate parsing of the arguments to java.","body":"The comment from @AdminofThings is the answer.  The Call Operator prevents inappropriate parsing of the arguments to java."},{"owner":{"account_id":15281097,"reputation":24201,"user_id":11025476,"display_name":"AdminOfThings"},"score":0,"creation_date":1583150912,"post_id":60487766,"comment_id":107007602,"body_markdown":"@Jakg, see [About Parsing](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing?view=powershell-7) and [Command Syntax](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_command_syntax?view=powershell-7).  `-` tells PowerShell a parameter is coming and everything after it is treated as an expandable string. `.` is the member access operator in PowerShell. So it needs to be escaped or you need to tell Posh to stop parsing --&gt; `java --% -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar`","body":"@Jakg, see <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_parsing?view=powershell-7\" rel=\"nofollow noreferrer\">About Parsing</a> and <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_command_syntax?view=powershell-7\" rel=\"nofollow noreferrer\">Command Syntax</a>.  <code>-</code> tells PowerShell a parameter is coming and everything after it is treated as an expandable string. <code>.</code> is the member access operator in PowerShell. So it needs to be escaped or you need to tell Posh to stop parsing --&gt; <code>java --% -Dhttp.proxyHost=http:&#47;&#47;proxy.example.com -jar myJAR.jar</code>"},{"owner":{"account_id":15281097,"reputation":24201,"user_id":11025476,"display_name":"AdminOfThings"},"score":0,"creation_date":1583151344,"post_id":60487766,"comment_id":107007841,"body_markdown":"@Jakg, also, the fact that you started your execution line with `java`, PowerShell goes into argument parsing mode. You can see on the links I provided examples of when the different parsing modes are activated.","body":"@Jakg, also, the fact that you started your execution line with <code>java</code>, PowerShell goes into argument parsing mode. You can see on the links I provided examples of when the different parsing modes are activated."},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1583163192,"post_id":60487766,"comment_id":107014131,"body_markdown":"@AdminOfThings, while `--%` is an effective _workaround_ - albeit one with major side effects in general - the behavior is a _bug_: since the unquoted token isn&#39;t a variable reference or expression, it should be treated like an _expandable string_ - `.` should have _no_ special meaning in this context; a side-effect-free workaround is to quote the `.` individually as `&#39;.&#39;`","body":"@AdminOfThings, while <code>--%</code> is an effective <i>workaround</i> - albeit one with major side effects in general - the behavior is a <i>bug</i>: since the unquoted token isn&#39;t a variable reference or expression, it should be treated like an <i>expandable string</i> - <code>.</code> should have <i>no</i> special meaning in this context; a side-effect-free workaround is to quote the <code>.</code> individually as <code>&#39;.&#39;</code>"},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1583163245,"post_id":60487766,"comment_id":107014164,"body_markdown":"No, @WalterMitty: whether or not you use `&amp;` (the call operator) makes no difference with respect to argument parsing.","body":"No, @WalterMitty: whether or not you use <code>&amp;</code> (the call operator) makes no difference with respect to argument parsing."}],"answers":[{"tags":[],"owner":{"account_id":10772505,"reputation":11,"user_id":7925591,"display_name":"Sergey Shu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583159110,"creation_date":1583158574,"answer_id":60490721,"question_id":60487766,"body_markdown":"man about_Parsing\r\n\r\ntry running from powershell using --% parameter:\r\n\r\n    java --% -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar","title":"Difference when executing Java command via CMD vs Powershell - caused by periods (&quot;.&quot;)","body":"<p>man about_Parsing</p>\n\n<p>try running from powershell using --% parameter:</p>\n\n<pre><code>java --% -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691018359,"creation_date":1583161680,"answer_id":60491629,"question_id":60487766,"body_markdown":"Unfortunately, **you&#39;re seeing a _bug_ in PowerShell**, present up to at least v7.3.6 (current as of this writing):\r\n\r\nSomething that looks like a parameter _to PowerShell_ is broken into _two_ arguments at the `.` (period) - even though the argument should simply be _passed through_, given that an external program is called - see [GitHub issue #6291](https://github.com/PowerShell/PowerShell/issues/6291); in your case, `-Dhttp.proxyHost=http://proxy.example.com` is unexpectedly passed as  \r\n`-Dhttp .proxyHost=http://proxy.example.com` (note the space before the `.`)\r\n\r\n&lt;!-- language-all: powershell --&gt; \r\n\r\n**Workarounds**:\r\n\r\n* `` ` ``-escape the initial `-` (or _quote_ the `.` character individually (`&#39;.&#39;`) or quote the _whole_ argument):\r\n\r\n      java `-Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\r\n\r\n* Alternatively, as shown in [Sergey Shu&#39;s answer](https://stackoverflow.com/a/60490721/45375), use `--%`, the [stop-parsing symbol](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Parsing), to force PowerShell to pass all arguments through without applying PowerShell&#39;s usual parsing rules.\r\n\r\n  * **Caveat**: **Use of `--%` has major side effects**, notably the inability to use _variable references_ in the command and the inability to apply _redirections_ - see [this answer](https://stackoverflow.com/a/42601912/45375) for details.","title":"Difference when executing Java command via CMD vs Powershell - caused by periods (&quot;.&quot;)","body":"<p>Unfortunately, <strong>you're seeing a <em>bug</em> in PowerShell</strong>, present up to at least v7.3.6 (current as of this writing):</p>\n<p>Something that looks like a parameter <em>to PowerShell</em> is broken into <em>two</em> arguments at the <code>.</code> (period) - even though the argument should simply be <em>passed through</em>, given that an external program is called - see <a href=\"https://github.com/PowerShell/PowerShell/issues/6291\" rel=\"nofollow noreferrer\">GitHub issue #6291</a>; in your case, <code>-Dhttp.proxyHost=http://proxy.example.com</code> is unexpectedly passed as<br />\n<code>-Dhttp .proxyHost=http://proxy.example.com</code> (note the space before the <code>.</code>)</p>\n \n<p><strong>Workarounds</strong>:</p>\n<ul>\n<li><p><code>`</code>-escape the initial <code>-</code> (or <em>quote</em> the <code>.</code> character individually (<code>'.'</code>) or quote the <em>whole</em> argument):</p>\n<pre><code>java `-Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\n</code></pre>\n</li>\n<li><p>Alternatively, as shown in <a href=\"https://stackoverflow.com/a/60490721/45375\">Sergey Shu's answer</a>, use <code>--%</code>, the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Parsing\" rel=\"nofollow noreferrer\">stop-parsing symbol</a>, to force PowerShell to pass all arguments through without applying PowerShell's usual parsing rules.</p>\n<ul>\n<li><strong>Caveat</strong>: <strong>Use of <code>--%</code> has major side effects</strong>, notably the inability to use <em>variable references</em> in the command and the inability to apply <em>redirections</em> - see <a href=\"https://stackoverflow.com/a/42601912/45375\">this answer</a> for details.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1689513514,"accepted_answer_id":60491629,"answer_count":2,"score":2,"last_activity_date":1691018359,"creation_date":1583147876,"question_id":60487766,"body_markdown":"I&#39;ve got an example Java application that requires an HTTP Proxy to be specified in some environments.\r\n\r\nWhen I try running this using the argument as suggested on the [Oracle website][1] in CMD (Command Prompt) it works fine.\r\n\r\n    E:\\&gt;java -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\r\n    System properties...\r\n    [...]\r\n    http.proxyHost=http://proxy.example.com\r\n\r\nYou can see that the application has been run, and when listing the system properties it&#39;s correctly received the `http.proxyHost` property.\r\n\r\nHowever, when I run this from Powershell, I get the following:\r\n\r\n    Windows PowerShell\r\n    Copyright (C) Microsoft Corporation. All rights reserved.\r\n    \r\n    Try the new cross-platform PowerShell https://aka.ms/pscore6\r\n    \r\n    PS E:\\&gt; java -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\r\n    Error: Could not find or load main class .proxyHost=http:..proxy.example.com\r\n\r\nHere it appears some kind of breaking has occurred around the first &quot;.&quot; and from then on it&#39;s treated the rest as another argument.\r\n\r\nIf the argument is quoted - e.g. `-D&quot;http.proxyHost&quot;=http://proxy.example.com` - then it works fine in Powershell.\r\n\r\nCan anyone explain this behavior, please?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html","title":"Difference when executing Java command via CMD vs Powershell - caused by periods (&quot;.&quot;)","body":"<p>I've got an example Java application that requires an HTTP Proxy to be specified in some environments.</p>\n\n<p>When I try running this using the argument as suggested on the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">Oracle website</a> in CMD (Command Prompt) it works fine.</p>\n\n<pre><code>E:\\&gt;java -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\nSystem properties...\n[...]\nhttp.proxyHost=http://proxy.example.com\n</code></pre>\n\n<p>You can see that the application has been run, and when listing the system properties it's correctly received the <code>http.proxyHost</code> property.</p>\n\n<p>However, when I run this from Powershell, I get the following:</p>\n\n<pre><code>Windows PowerShell\nCopyright (C) Microsoft Corporation. All rights reserved.\n\nTry the new cross-platform PowerShell https://aka.ms/pscore6\n\nPS E:\\&gt; java -Dhttp.proxyHost=http://proxy.example.com -jar myJAR.jar\nError: Could not find or load main class .proxyHost=http:..proxy.example.com\n</code></pre>\n\n<p>Here it appears some kind of breaking has occurred around the first \".\" and from then on it's treated the rest as another argument.</p>\n\n<p>If the argument is quoted - e.g. <code>-D\"http.proxyHost\"=http://proxy.example.com</code> - then it works fine in Powershell.</p>\n\n<p>Can anyone explain this behavior, please?</p>\n"},{"tags":["java","libgdx","game-development"],"answers":[{"comments":[{"owner":{"account_id":5738141,"reputation":526,"user_id":17987690,"display_name":"Rene Olivo"},"score":0,"creation_date":1691425160,"post_id":76823983,"comment_id":135486721,"body_markdown":"kudos on finding the answer! To make it more useful you should also include the code you were trying to use on the question so that the lines you are referencing on your response are easily found on the same post.","body":"kudos on finding the answer! To make it more useful you should also include the code you were trying to use on the question so that the lines you are referencing on your response are easily found on the same post."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691425179,"post_id":76823983,"comment_id":135486725,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76823983/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28832722,"reputation":1,"user_id":22082780,"display_name":"Austin Romney"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691017151,"creation_date":1691017151,"answer_id":76823983,"question_id":76823758,"body_markdown":"I solved it! The solution was to comment out the &quot;mavenlocal()&quot; lines.","title":"Unable to setup libGDX with IntelliJ Idea","body":"<p>I solved it! The solution was to comment out the &quot;mavenlocal()&quot; lines.</p>\n"}],"owner":{"account_id":28832722,"reputation":1,"user_id":22082780,"display_name":"Austin Romney"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76823983,"answer_count":1,"score":0,"last_activity_date":1691017151,"creation_date":1691013310,"question_id":76823758,"body_markdown":"I cannot seem to setup libGDX with IntelliJ. Everything goes smoothly until I attempt to open the build.gradle file. Then, IntelliJ says Could not find lwjgl-glfw-3.3.2-natives-linux.jar (org.lwjgl:lwjgl-glfw:3.3.2).\r\n\r\nI believe that the problem is that it is attempting to run as if it was on Linux, I am using Windows 11.","title":"Unable to setup libGDX with IntelliJ Idea","body":"<p>I cannot seem to setup libGDX with IntelliJ. Everything goes smoothly until I attempt to open the build.gradle file. Then, IntelliJ says Could not find lwjgl-glfw-3.3.2-natives-linux.jar (org.lwjgl:lwjgl-glfw:3.3.2).</p>\n<p>I believe that the problem is that it is attempting to run as if it was on Linux, I am using Windows 11.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1524921726,"post_id":26190851,"comment_id":87170150,"body_markdown":"Here https://stackoverflow.com/a/35722718/715269 is the way how to read only needed field in JSON without mapping it as a whole.","body":"Here <a href=\"https://stackoverflow.com/a/35722718/715269\">stackoverflow.com/a/35722718/715269</a> is the way how to read only needed field in JSON without mapping it as a whole."},{"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"score":0,"creation_date":1644409450,"post_id":26190851,"comment_id":125598080,"body_markdown":"Since this question is still seeing activity nowadays, I thought it important to mention that @Gangnus&#39;s comment above is factually incorrect, as discussed in the comments to [my own answer below](https://stackoverflow.com/a/26191723/2427596)","body":"Since this question is still seeing activity nowadays, I thought it important to mention that @Gangnus&#39;s comment above is factually incorrect, as discussed in the comments to <a href=\"https://stackoverflow.com/a/26191723/2427596\">my own answer below</a>"}],"answers":[{"comments":[{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":1,"creation_date":1524918303,"post_id":26191723,"comment_id":87169102,"body_markdown":"The question was how to read a single field. Mapping the whole object is absolutely excessive for that. The answer is NOT to the question.","body":"The question was how to read a single field. Mapping the whole object is absolutely excessive for that. The answer is NOT to the question."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":1,"creation_date":1524920136,"post_id":26191723,"comment_id":87169620,"body_markdown":"The another answer is the correct one. Jackson has two regimes: reading fields separately or mapping the whole object. The question is about the first one.","body":"The another answer is the correct one. Jackson has two regimes: reading fields separately or mapping the whole object. The question is about the first one."},{"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"score":0,"creation_date":1524920353,"post_id":26191723,"comment_id":87169682,"body_markdown":"@Gangnus: Nice! Where can I read about that? I can&#39;t seem to find any info after a quick Google Search...\nI don&#39;t think the second answer mentions `Jackson`, which is the library asked for in the question. Nor does it explain the difference you seem to find!","body":"@Gangnus: Nice! Where can I read about that? I can&#39;t seem to find any info after a quick Google Search... I don&#39;t think the second answer mentions <code>Jackson</code>, which is the library asked for in the question. Nor does it explain the difference you seem to find!"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1524920701,"post_id":26191723,"comment_id":87169816,"body_markdown":"http://www.studytrails.com/java/json/java-jackson-introduction/. Or look for JSONObject  type - it is just the class that allows you to read only that part of json that you need. You are right - a sensible search for &quot;reading separate field in jackson&quot; does not work.","body":"<a href=\"http://www.studytrails.com/java/json/java-jackson-introduction/\" rel=\"nofollow noreferrer\">studytrails.com/java/json/java-jackson-introduction</a>. Or look for JSONObject  type - it is just the class that allows you to read only that part of json that you need. You are right - a sensible search for &quot;reading separate field in jackson&quot; does not work."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1524920967,"post_id":26191723,"comment_id":87169900,"body_markdown":"JSONObject reads the json string without using any POJO objects.","body":"JSONObject reads the json string without using any POJO objects."},{"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"score":0,"creation_date":1524920978,"post_id":26191723,"comment_id":87169908,"body_markdown":"I just read the code of the `JSONObject` class and I guarantee you that the code featured in the other answer does indeed map the entire `String` (no different from my answer). You are wrong. At least when used with the JSONObject(String) constructor, followed by JSONObject#getString, which stores all parsed properties into a Map and simply gets one from there.","body":"I just read the code of the <code>JSONObject</code> class and I guarantee you that the code featured in the other answer does indeed map the entire <code>String</code> (no different from my answer). You are wrong. At least when used with the JSONObject(String) constructor, followed by JSONObject#getString, which stores all parsed properties into a Map and simply gets one from there."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1524921533,"post_id":26191723,"comment_id":87170081,"body_markdown":"Maybe it maps the json somewhere, but even so you don&#39;t need to create maybe very complex set of annotated POJOs to read a field. I would be even more happy if there is a possibility to leave json as string and to decifer only its needed part.","body":"Maybe it maps the json somewhere, but even so you don&#39;t need to create maybe very complex set of annotated POJOs to read a field. I would be even more happy if there is a possibility to leave json as string and to decifer only its needed part."},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1524921761,"post_id":26191723,"comment_id":87170165,"body_markdown":"I have recalled and found the correct way, and added the comment to the question.","body":"I have recalled and found the correct way, and added the comment to the question."},{"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"score":0,"creation_date":1524921770,"post_id":26191723,"comment_id":87170168,"body_markdown":"@Gangnus, The solution I showed simply uses an `ObjectNode`, which is back by a simple `LinkedHashMap`! That&#39;s it&#39;s ONLY field and it is NOT annotated! There&#39;s actually **no** difference :)","body":"@Gangnus, The solution I showed simply uses an <code>ObjectNode</code>, which is back by a simple <code>LinkedHashMap</code>! That&#39;s it&#39;s ONLY field and it is NOT annotated! There&#39;s actually <b>no</b> difference :)"},{"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"score":1,"creation_date":1524953704,"post_id":26191723,"comment_id":87179055,"body_markdown":"@Gangnus: You got me interested in this problem. It turns out that the answer you linked in the comments section does exactly what you don&#39;t want! It ultimately delegates to `mapper.readValue(jp, Foo.class)`, where `Foo` is a POJO that is annotated... I couldn&#39;t seem to find a full-blown solution that actually lets you access a specific field without first parsing the entire contents... so I wrote one. I thought you might be interested! Cheers.","body":"@Gangnus: You got me interested in this problem. It turns out that the answer you linked in the comments section does exactly what you don&#39;t want! It ultimately delegates to <code>mapper.readValue(jp, Foo.class)</code>, where <code>Foo</code> is a POJO that is annotated... I couldn&#39;t seem to find a full-blown solution that actually lets you access a specific field without first parsing the entire contents... so I wrote one. I thought you might be interested! Cheers."}],"tags":[],"owner":{"account_id":2824719,"reputation":9468,"user_id":2427596,"accept_rate":100,"display_name":"ccjmne"},"comment_count":10,"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1691016793,"creation_date":1412417179,"answer_id":26191723,"question_id":26190851,"body_markdown":"# The Jackson Way\r\n\r\nPresuming you don&#39;t have a POJO describing your data structure, you could simply do:\r\n```java\r\nfinal String json = &quot;{\\&quot;contentType\\&quot;: \\&quot;foo\\&quot;, \\&quot;fooField1\\&quot;: ... }&quot;;\r\nfinal JsonNode node = new ObjectMapper().readTree(json);\r\n//                    ^^^^^^^^^^^^^^^^^^\r\n// n.b.: try and *reuse* a single instance of ObjectMapper in production\r\n\r\nif (node.has(&quot;contentType&quot;)) {\r\n    System.out.println(&quot;contentType: &quot; + node.get(&quot;contentType&quot;));\r\n}    \r\n```\r\n\r\n---\r\n\r\n# Addressing concerns in the comments section\r\n\r\nIf, however, you wish to not consume the entire source `String`, but simply access a specific property whose path you know, you&#39;ll have to write it yourself, leveraging a Tokeniser.\r\n\r\n---\r\n\r\nActually, it&#39;s the weekend and I got time on my hands, so I could give you a head start: here&#39;s a basic one! It can run in `strict` mode and spew out sensible error messages, or be lenient and return `Optional.empty` when the request couldn&#39;t be fulfilled.\r\n\r\n\tpublic static class JSONPath {\r\n\r\n\t\tprotected static final JsonFactory JSON_FACTORY = new JsonFactory();\r\n\r\n\t\tprivate final List&lt;JSONKey&gt; keys;\r\n\r\n\t\tpublic JSONPath(final String from) {\r\n\t\t\tthis.keys = Arrays.stream((from.startsWith(&quot;[&quot;) ? from : String.valueOf(&quot;.&quot; + from))\r\n\t\t\t\t\t.split(&quot;(?=\\\\[|\\\\]|\\\\.)&quot;))\r\n\t\t\t\t\t.filter(x -&gt; !&quot;]&quot;.equals(x))\r\n\t\t\t\t\t.map(JSONKey::new)\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t}\r\n\r\n\t\tpublic Optional&lt;String&gt; getWithin(final String json) throws IOException {\r\n\t\t\treturn this.getWithin(json, false);\r\n\t\t}\r\n\r\n\t\tpublic Optional&lt;String&gt; getWithin(final String json, final boolean strict) throws IOException {\r\n\t\t\ttry (final InputStream stream = new StringInputStream(json)) {\r\n\t\t\t\treturn this.getWithin(stream, strict);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic Optional&lt;String&gt; getWithin(final InputStream json) throws IOException {\r\n\t\t\treturn this.getWithin(json, false);\r\n\t\t}\r\n\r\n\t\tpublic Optional&lt;String&gt; getWithin(final InputStream json, final boolean strict) throws IOException {\r\n\t\t\treturn getValueAt(JSON_FACTORY.createParser(json), 0, strict);\r\n\t\t}\r\n\r\n\t\tprotected Optional&lt;String&gt; getValueAt(final JsonParser parser, final int idx, final boolean strict) throws IOException {\r\n\t\t\ttry {\r\n\t\t\t\tif (parser.isClosed()) {\r\n\t\t\t\t\treturn Optional.empty();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (idx &gt;= this.keys.size()) {\r\n\t\t\t\t\tparser.nextToken();\r\n\t\t\t\t\tif (null == parser.getValueAsString()) {\r\n\t\t\t\t\t\tthrow new JSONPathException(&quot;The selected node is not a leaf&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn Optional.of(parser.getValueAsString());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.keys.get(idx).advanceCursor(parser);\r\n\t\t\t\treturn getValueAt(parser, idx + 1, strict);\r\n\t\t\t} catch (final JSONPathException e) {\r\n\t\t\t\tif (strict) {\r\n\t\t\t\t\tthrow (null == e.getCause() ? new JSONPathException(e.getMessage() + String.format(&quot;, at path: &#39;%s&#39;&quot;, this.toString(idx)), e) : e);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Optional.empty();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn ((Function&lt;String, String&gt;) x -&gt; x.startsWith(&quot;.&quot;) ? x.substring(1) : x)\r\n\t\t\t\t\t.apply(this.keys.stream().map(JSONKey::toString).collect(Collectors.joining()));\r\n\t\t}\r\n\r\n\t\tprivate String toString(final int idx) {\r\n\t\t\treturn ((Function&lt;String, String&gt;) x -&gt; x.startsWith(&quot;.&quot;) ? x.substring(1) : x)\r\n\t\t\t\t\t.apply(this.keys.subList(0, idx).stream().map(JSONKey::toString).collect(Collectors.joining()));\r\n\t\t}\r\n\r\n\t\t@SuppressWarnings(&quot;serial&quot;)\r\n\t\tpublic static class JSONPathException extends RuntimeException {\r\n\r\n\t\t\tpublic JSONPathException() {\r\n\t\t\t\tsuper();\r\n\t\t\t}\r\n\r\n\t\t\tpublic JSONPathException(final String message) {\r\n\t\t\t\tsuper(message);\r\n\t\t\t}\r\n\r\n\t\t\tpublic JSONPathException(final String message, final Throwable cause) {\r\n\t\t\t\tsuper(message, cause);\r\n\t\t\t}\r\n\r\n\t\t\tpublic JSONPathException(final Throwable cause) {\r\n\t\t\t\tsuper(cause);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static class JSONKey {\r\n\r\n\t\t\tprivate final String key;\r\n\t\t\tprivate final JsonToken startToken;\r\n\r\n\t\t\tpublic JSONKey(final String str) {\r\n\t\t\t\tthis(str.substring(1), str.startsWith(&quot;[&quot;) ? JsonToken.START_ARRAY : JsonToken.START_OBJECT);\r\n\t\t\t}\r\n\r\n\t\t\tprivate JSONKey(final String key, final JsonToken startToken) {\r\n\t\t\t\tthis.key = key;\r\n\t\t\t\tthis.startToken = startToken;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Advances the cursor until finding the current {@link JSONKey}, or\r\n\t\t\t * having consumed the entirety of the current JSON Object or Array.\r\n\t\t\t */\r\n\t\t\tpublic void advanceCursor(final JsonParser parser) throws IOException {\r\n\t\t\t\tfinal JsonToken token = parser.nextToken();\r\n\t\t\t\tif (!this.startToken.equals(token)) {\r\n\t\t\t\t\tthrow new JSONPathException(String.format(&quot;Expected token of type &#39;%s&#39;, got: &#39;%s&#39;&quot;, this.startToken, token));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (JsonToken.START_ARRAY.equals(this.startToken)) {\r\n\t\t\t\t\t// Moving cursor within a JSON Array\r\n\t\t\t\t\tfor (int i = 0; i != Integer.valueOf(this.key).intValue(); i++) {\r\n\t\t\t\t\t\tJSONKey.skipToNext(parser);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Moving cursor in a JSON Object\r\n\t\t\t\t\tString name;\r\n\t\t\t\t\tfor (parser.nextToken(), name = parser.getCurrentName(); !this.key.equals(name); parser.nextToken(), name = parser.getCurrentName()) {\r\n\t\t\t\t\t\tJSONKey.skipToNext(parser);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Advances the cursor to the next entry in the current JSON Object\r\n\t\t\t * or Array.\r\n\t\t\t */\r\n\t\t\tprivate static void skipToNext(final JsonParser parser) throws IOException {\r\n\t\t\t\tfinal JsonToken token = parser.nextToken();\r\n\t\t\t\tif (JsonToken.START_ARRAY.equals(token) || JsonToken.START_OBJECT.equals(token) || JsonToken.FIELD_NAME.equals(token)) {\r\n\t\t\t\t\tskipToNextImpl(parser, 1);\r\n\t\t\t\t} else if (JsonToken.END_ARRAY.equals(token) || JsonToken.END_OBJECT.equals(token)) {\r\n\t\t\t\t\tthrow new JSONPathException(&quot;Could not find requested key&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Recursively consumes whatever is next until getting back to the\r\n\t\t\t * same depth level.\r\n\t\t\t */\r\n\t\t\tprivate static void skipToNextImpl(final JsonParser parser, final int depth) throws IOException {\r\n\t\t\t\tif (depth == 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfinal JsonToken token = parser.nextToken();\r\n\t\t\t\tif (JsonToken.START_ARRAY.equals(token) || JsonToken.START_OBJECT.equals(token) || JsonToken.FIELD_NAME.equals(token)) {\r\n\t\t\t\t\tskipToNextImpl(parser, depth + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tskipToNextImpl(parser, depth - 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String toString() {\r\n\t\t\t\treturn String.format(this.startToken.equals(JsonToken.START_ARRAY) ? &quot;[%s]&quot; : &quot;.%s&quot;, this.key);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nAssuming the following JSON content:\r\n\r\n    {\r\n      &quot;people&quot;: [{\r\n        &quot;name&quot;: &quot;Eric&quot;,\r\n        &quot;age&quot;: 28\r\n      }, {\r\n        &quot;name&quot;: &quot;Karin&quot;,\r\n        &quot;age&quot;: 26\r\n      }],\r\n      &quot;company&quot;: {\r\n        &quot;name&quot;: &quot;Elm Farm&quot;,\r\n        &quot;address&quot;: &quot;3756 Preston Street Wichita, KS 67213&quot;,\r\n        &quot;phone&quot;: &quot;857-778-1265&quot;\r\n      }\r\n    }\r\n\r\n... you could use my `JSONPath` class as follows:\r\n\r\n\r\n\t\tfinal String json = &quot;{\\&quot;people\\&quot;:[],\\&quot;company\\&quot;:{}}&quot;; // refer to JSON above\r\n\t\tSystem.out.println(new JSONPath(&quot;people[0].name&quot;).getWithin(json)); // Optional[Eric]\r\n\t\tSystem.out.println(new JSONPath(&quot;people[1].name&quot;).getWithin(json));\t// Optional[Karin]\r\n\t\tSystem.out.println(new JSONPath(&quot;people[2].name&quot;).getWithin(json));\t// Optional.empty\r\n\t\tSystem.out.println(new JSONPath(&quot;people[0].age&quot;).getWithin(json));\t// Optional[28]\r\n\t\tSystem.out.println(new JSONPath(&quot;company&quot;).getWithin(json));\t\t// Optional.empty\r\n\t\tSystem.out.println(new JSONPath(&quot;company.name&quot;).getWithin(json));\t// Optional[Elm Farm]\r\n\r\nKeep in mind that it&#39;s **basic**. It doesn&#39;t coerce data types (every value it returns is a `String`) and only returns leaf nodes.  \r\n\r\n# Actual test case\r\n\r\nIt handles `InputStream`s, so you can test it against some giant JSON document and see that it&#39;s much faster than it would take your browser to download and display its contents:\r\n\r\n\tSystem.out.println(new JSONPath(&quot;info.contact.email&quot;)\r\n\t\t\t\t.getWithin(new URL(&quot;http://test-api.rescuegroups.org/v5/public/swagger.php&quot;).openStream()));\r\n    // Optional[support@rescuegroups.org]\r\n\r\n### Quick test  \r\nNote I&#39;m not re-using any already existing `JSONPath` or `ObjectMapper` so the results are inaccurate -- this is just a very rough comparison anyways:\r\n\r\n\tpublic static Long time(final Callable&lt;?&gt; r) throws Exception {\r\n\t\tfinal long start = System.currentTimeMillis();\r\n\t\tr.call();\r\n\t\treturn Long.valueOf(System.currentTimeMillis() - start);\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) throws Exception {\r\n\t\tfinal URL url = new URL(&quot;http://test-api.rescuegroups.org/v5/public/swagger.php&quot;);\r\n\t\tSystem.out.println(String.format(\t&quot;%dms to get &#39;info.contact.email&#39; with JSONPath&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\ttime(() -&gt; new JSONPath(&quot;info.contact.email&quot;).getWithin(url.openStream()))));\r\n\t\tSystem.out.println(String.format(\t&quot;%dms to just download the entire document otherwise&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\ttime(() -&gt; new Scanner(url.openStream()).useDelimiter(&quot;\\\\A&quot;).next())));\r\n\t\tSystem.out.println(String.format(\t&quot;%dms to bluntly map it entirely with Jackson and access a specific field&quot;,\r\n\t\t\t\t\t\t\t\t\t\t\ttime(() -&gt; new ObjectMapper()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.readValue(url.openStream(), ObjectNode.class)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.get(&quot;info&quot;).get(&quot;contact&quot;).get(&quot;email&quot;))));\r\n\t}\r\n\r\n&gt; 378ms to get &#39;info.contact.email&#39; with JSONPath  \r\n&gt; 756ms to just download the entire document otherwise  \r\n&gt; 896ms to bluntly map it entirely with Jackson and access a specific field\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56574388/2427596","title":"Get single field from JSON using Jackson","body":"<h1>The Jackson Way</h1>\n<p>Presuming you don't have a POJO describing your data structure, you could simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String json = &quot;{\\&quot;contentType\\&quot;: \\&quot;foo\\&quot;, \\&quot;fooField1\\&quot;: ... }&quot;;\nfinal JsonNode node = new ObjectMapper().readTree(json);\n//                    ^^^^^^^^^^^^^^^^^^\n// n.b.: try and *reuse* a single instance of ObjectMapper in production\n\nif (node.has(&quot;contentType&quot;)) {\n    System.out.println(&quot;contentType: &quot; + node.get(&quot;contentType&quot;));\n}    \n</code></pre>\n<hr />\n<h1>Addressing concerns in the comments section</h1>\n<p>If, however, you wish to not consume the entire source <code>String</code>, but simply access a specific property whose path you know, you'll have to write it yourself, leveraging a Tokeniser.</p>\n<hr />\n<p>Actually, it's the weekend and I got time on my hands, so I could give you a head start: here's a basic one! It can run in <code>strict</code> mode and spew out sensible error messages, or be lenient and return <code>Optional.empty</code> when the request couldn't be fulfilled.</p>\n<pre><code>public static class JSONPath {\n\n    protected static final JsonFactory JSON_FACTORY = new JsonFactory();\n\n    private final List&lt;JSONKey&gt; keys;\n\n    public JSONPath(final String from) {\n        this.keys = Arrays.stream((from.startsWith(&quot;[&quot;) ? from : String.valueOf(&quot;.&quot; + from))\n                .split(&quot;(?=\\\\[|\\\\]|\\\\.)&quot;))\n                .filter(x -&gt; !&quot;]&quot;.equals(x))\n                .map(JSONKey::new)\n                .collect(Collectors.toList());\n    }\n\n    public Optional&lt;String&gt; getWithin(final String json) throws IOException {\n        return this.getWithin(json, false);\n    }\n\n    public Optional&lt;String&gt; getWithin(final String json, final boolean strict) throws IOException {\n        try (final InputStream stream = new StringInputStream(json)) {\n            return this.getWithin(stream, strict);\n        }\n    }\n\n    public Optional&lt;String&gt; getWithin(final InputStream json) throws IOException {\n        return this.getWithin(json, false);\n    }\n\n    public Optional&lt;String&gt; getWithin(final InputStream json, final boolean strict) throws IOException {\n        return getValueAt(JSON_FACTORY.createParser(json), 0, strict);\n    }\n\n    protected Optional&lt;String&gt; getValueAt(final JsonParser parser, final int idx, final boolean strict) throws IOException {\n        try {\n            if (parser.isClosed()) {\n                return Optional.empty();\n            }\n\n            if (idx &gt;= this.keys.size()) {\n                parser.nextToken();\n                if (null == parser.getValueAsString()) {\n                    throw new JSONPathException(&quot;The selected node is not a leaf&quot;);\n                }\n\n                return Optional.of(parser.getValueAsString());\n            }\n\n            this.keys.get(idx).advanceCursor(parser);\n            return getValueAt(parser, idx + 1, strict);\n        } catch (final JSONPathException e) {\n            if (strict) {\n                throw (null == e.getCause() ? new JSONPathException(e.getMessage() + String.format(&quot;, at path: '%s'&quot;, this.toString(idx)), e) : e);\n            }\n\n            return Optional.empty();\n        }\n    }\n\n    @Override\n    public String toString() {\n        return ((Function&lt;String, String&gt;) x -&gt; x.startsWith(&quot;.&quot;) ? x.substring(1) : x)\n                .apply(this.keys.stream().map(JSONKey::toString).collect(Collectors.joining()));\n    }\n\n    private String toString(final int idx) {\n        return ((Function&lt;String, String&gt;) x -&gt; x.startsWith(&quot;.&quot;) ? x.substring(1) : x)\n                .apply(this.keys.subList(0, idx).stream().map(JSONKey::toString).collect(Collectors.joining()));\n    }\n\n    @SuppressWarnings(&quot;serial&quot;)\n    public static class JSONPathException extends RuntimeException {\n\n        public JSONPathException() {\n            super();\n        }\n\n        public JSONPathException(final String message) {\n            super(message);\n        }\n\n        public JSONPathException(final String message, final Throwable cause) {\n            super(message, cause);\n        }\n\n        public JSONPathException(final Throwable cause) {\n            super(cause);\n        }\n    }\n\n    private static class JSONKey {\n\n        private final String key;\n        private final JsonToken startToken;\n\n        public JSONKey(final String str) {\n            this(str.substring(1), str.startsWith(&quot;[&quot;) ? JsonToken.START_ARRAY : JsonToken.START_OBJECT);\n        }\n\n        private JSONKey(final String key, final JsonToken startToken) {\n            this.key = key;\n            this.startToken = startToken;\n        }\n\n        /**\n         * Advances the cursor until finding the current {@link JSONKey}, or\n         * having consumed the entirety of the current JSON Object or Array.\n         */\n        public void advanceCursor(final JsonParser parser) throws IOException {\n            final JsonToken token = parser.nextToken();\n            if (!this.startToken.equals(token)) {\n                throw new JSONPathException(String.format(&quot;Expected token of type '%s', got: '%s'&quot;, this.startToken, token));\n            }\n\n            if (JsonToken.START_ARRAY.equals(this.startToken)) {\n                // Moving cursor within a JSON Array\n                for (int i = 0; i != Integer.valueOf(this.key).intValue(); i++) {\n                    JSONKey.skipToNext(parser);\n                }\n            } else {\n                // Moving cursor in a JSON Object\n                String name;\n                for (parser.nextToken(), name = parser.getCurrentName(); !this.key.equals(name); parser.nextToken(), name = parser.getCurrentName()) {\n                    JSONKey.skipToNext(parser);\n                }\n            }\n        }\n\n        /**\n         * Advances the cursor to the next entry in the current JSON Object\n         * or Array.\n         */\n        private static void skipToNext(final JsonParser parser) throws IOException {\n            final JsonToken token = parser.nextToken();\n            if (JsonToken.START_ARRAY.equals(token) || JsonToken.START_OBJECT.equals(token) || JsonToken.FIELD_NAME.equals(token)) {\n                skipToNextImpl(parser, 1);\n            } else if (JsonToken.END_ARRAY.equals(token) || JsonToken.END_OBJECT.equals(token)) {\n                throw new JSONPathException(&quot;Could not find requested key&quot;);\n            }\n        }\n\n        /**\n         * Recursively consumes whatever is next until getting back to the\n         * same depth level.\n         */\n        private static void skipToNextImpl(final JsonParser parser, final int depth) throws IOException {\n            if (depth == 0) {\n                return;\n            }\n\n            final JsonToken token = parser.nextToken();\n            if (JsonToken.START_ARRAY.equals(token) || JsonToken.START_OBJECT.equals(token) || JsonToken.FIELD_NAME.equals(token)) {\n                skipToNextImpl(parser, depth + 1);\n            } else {\n                skipToNextImpl(parser, depth - 1);\n            }\n        }\n\n        @Override\n        public String toString() {\n            return String.format(this.startToken.equals(JsonToken.START_ARRAY) ? &quot;[%s]&quot; : &quot;.%s&quot;, this.key);\n        }\n    }\n}\n</code></pre>\n<p>Assuming the following JSON content:</p>\n<pre><code>{\n  &quot;people&quot;: [{\n    &quot;name&quot;: &quot;Eric&quot;,\n    &quot;age&quot;: 28\n  }, {\n    &quot;name&quot;: &quot;Karin&quot;,\n    &quot;age&quot;: 26\n  }],\n  &quot;company&quot;: {\n    &quot;name&quot;: &quot;Elm Farm&quot;,\n    &quot;address&quot;: &quot;3756 Preston Street Wichita, KS 67213&quot;,\n    &quot;phone&quot;: &quot;857-778-1265&quot;\n  }\n}\n</code></pre>\n<p>... you could use my <code>JSONPath</code> class as follows:</p>\n<pre><code>    final String json = &quot;{\\&quot;people\\&quot;:[],\\&quot;company\\&quot;:{}}&quot;; // refer to JSON above\n    System.out.println(new JSONPath(&quot;people[0].name&quot;).getWithin(json)); // Optional[Eric]\n    System.out.println(new JSONPath(&quot;people[1].name&quot;).getWithin(json)); // Optional[Karin]\n    System.out.println(new JSONPath(&quot;people[2].name&quot;).getWithin(json)); // Optional.empty\n    System.out.println(new JSONPath(&quot;people[0].age&quot;).getWithin(json));  // Optional[28]\n    System.out.println(new JSONPath(&quot;company&quot;).getWithin(json));        // Optional.empty\n    System.out.println(new JSONPath(&quot;company.name&quot;).getWithin(json));   // Optional[Elm Farm]\n</code></pre>\n<p>Keep in mind that it's <strong>basic</strong>. It doesn't coerce data types (every value it returns is a <code>String</code>) and only returns leaf nodes.</p>\n<h1>Actual test case</h1>\n<p>It handles <code>InputStream</code>s, so you can test it against some giant JSON document and see that it's much faster than it would take your browser to download and display its contents:</p>\n<pre><code>System.out.println(new JSONPath(&quot;info.contact.email&quot;)\n            .getWithin(new URL(&quot;http://test-api.rescuegroups.org/v5/public/swagger.php&quot;).openStream()));\n// Optional[support@rescuegroups.org]\n</code></pre>\n<h3>Quick test</h3>\n<p>Note I'm not re-using any already existing <code>JSONPath</code> or <code>ObjectMapper</code> so the results are inaccurate -- this is just a very rough comparison anyways:</p>\n<pre><code>public static Long time(final Callable&lt;?&gt; r) throws Exception {\n    final long start = System.currentTimeMillis();\n    r.call();\n    return Long.valueOf(System.currentTimeMillis() - start);\n}\n\npublic static void main(final String[] args) throws Exception {\n    final URL url = new URL(&quot;http://test-api.rescuegroups.org/v5/public/swagger.php&quot;);\n    System.out.println(String.format(   &quot;%dms to get 'info.contact.email' with JSONPath&quot;,\n                                        time(() -&gt; new JSONPath(&quot;info.contact.email&quot;).getWithin(url.openStream()))));\n    System.out.println(String.format(   &quot;%dms to just download the entire document otherwise&quot;,\n                                        time(() -&gt; new Scanner(url.openStream()).useDelimiter(&quot;\\\\A&quot;).next())));\n    System.out.println(String.format(   &quot;%dms to bluntly map it entirely with Jackson and access a specific field&quot;,\n                                        time(() -&gt; new ObjectMapper()\n                                                .readValue(url.openStream(), ObjectNode.class)\n                                                .get(&quot;info&quot;).get(&quot;contact&quot;).get(&quot;email&quot;))));\n}\n</code></pre>\n<blockquote>\n<p>378ms to get 'info.contact.email' with JSONPath<br />\n756ms to just download the entire document otherwise<br />\n896ms to bluntly map it entirely with Jackson and access a specific field</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1013194,"reputation":6637,"user_id":1025328,"accept_rate":89,"display_name":"Prasad Khode"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1412426664,"creation_date":1412426264,"answer_id":26192894,"question_id":26190851,"body_markdown":"If you are using JSON jars in your application then the following code snippet is useful:\r\n\r\n    String json = &quot;{\\&quot;contentType\\&quot;: \\&quot;foo\\&quot;, \\&quot;fooField1\\&quot;: ... }&quot;;\r\n    JSONObject jsonObject = new JSONObject(json);\r\n    System.out.println(jsonObject.getString(&quot;contentType&quot;));\r\n\r\nand if you are using Gson jars then the same code will look like following:\r\n\r\n    Gson gson = new GsonBuilder().create();\r\n    Map jsonMap = gson.fromJson(json, Map.class);\r\n    System.out.println(jsonMap.get(&quot;contentType&quot;));\r\n","title":"Get single field from JSON using Jackson","body":"<p>If you are using JSON jars in your application then the following code snippet is useful:</p>\n\n<pre><code>String json = \"{\\\"contentType\\\": \\\"foo\\\", \\\"fooField1\\\": ... }\";\nJSONObject jsonObject = new JSONObject(json);\nSystem.out.println(jsonObject.getString(\"contentType\"));\n</code></pre>\n\n<p>and if you are using Gson jars then the same code will look like following:</p>\n\n<pre><code>Gson gson = new GsonBuilder().create();\nMap jsonMap = gson.fromJson(json, Map.class);\nSystem.out.println(jsonMap.get(\"contentType\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10465568,"reputation":840,"user_id":7715095,"display_name":"xyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541685978,"creation_date":1541676572,"answer_id":53206856,"question_id":26190851,"body_markdown":"Another way is:\r\n\r\n    String json = &quot;{\\&quot;contentType\\&quot;: \\&quot;foo\\&quot;, \\&quot;fooField1\\&quot;: ... }&quot;;\r\n    JsonNode parent= new ObjectMapper().readTree(json);\r\n    String content = parent.get(&quot;contentType&quot;).asText();","title":"Get single field from JSON using Jackson","body":"<p>Another way is:</p>\n\n<pre><code>String json = \"{\\\"contentType\\\": \\\"foo\\\", \\\"fooField1\\\": ... }\";\nJsonNode parent= new ObjectMapper().readTree(json);\nString content = parent.get(\"contentType\").asText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10333069,"reputation":801,"user_id":7622204,"display_name":"Rohan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1560406670,"creation_date":1560406670,"answer_id":56574388,"question_id":26190851,"body_markdown":"Just want to update for 2019.  I found the following easiest to impl:\r\n\r\n```\r\n//json can be file or String\r\nJsonNode parent= new ObjectMapper().readTree(json);\r\nString content = parent.path(&quot;contentType&quot;).asText();\r\n```\r\n\r\nI would suggest to use `path` instead of `get` as `get` throws a NPE, where path returns with a default 0 or &quot;&quot;, which is safer to work with if setting up the parsing correctly for 1st time.\r\n\r\nMy $0.02","title":"Get single field from JSON using Jackson","body":"<p>Just want to update for 2019.  I found the following easiest to impl:</p>\n\n<pre><code>//json can be file or String\nJsonNode parent= new ObjectMapper().readTree(json);\nString content = parent.path(\"contentType\").asText();\n</code></pre>\n\n<p>I would suggest to use <code>path</code> instead of <code>get</code> as <code>get</code> throws a NPE, where path returns with a default 0 or \"\", which is safer to work with if setting up the parsing correctly for 1st time.</p>\n\n<p>My $0.02</p>\n"},{"tags":[],"owner":{"account_id":2070885,"reputation":1024,"user_id":1845404,"accept_rate":88,"display_name":"gbenroscience"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591663073,"creation_date":1591661808,"answer_id":62273087,"question_id":26190851,"body_markdown":"I faced this issue when I decided to use ***Jackson*** as the json library for a project I worked on; mainly for its speed. I was already used to using `org.json` and `Gson` for my projects.\r\n\r\nI quickly found out though that many tasks that were trivial in `org.json` and `Gson` were not so straightforward in ***Jackson***\r\n\r\nSo I wrote the following classes to make things easier for me.\r\n\r\nThe classes below will allow you to use **Jackson** as easily as you would the simple org.json library, while still retaining the power and speed of **Jackson**\r\n\r\nI wrote the whole thing in a few hours, so feel free to debug and suit the code to your own purposes.\r\n\r\nNote that `JSONObject/JSONArray` below will do exactly what the OP wants.\r\n\r\n\r\n\r\nThe first is `JSONObject` which has similar methods to `org.json.JSONObject`; but at heart runs Jackson code to build JSON and parse json strings.\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import com.fasterxml.jackson.databind.node.JsonNodeFactory;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import java.io.IOException;\r\n    import java.math.BigDecimal;\r\n    import java.math.BigInteger;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    /**\r\n     *\r\n     * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\r\n     */\r\n    public class JSONObject {\r\n    \r\n        ObjectNode parseNode;\r\n    \r\n        public JSONObject() {\r\n            this.parseNode = JsonNodeFactory.instance.objectNode(); // initializing     \r\n        }\r\n    \r\n        public JSONObject(String json) throws JsonProcessingException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            try {\r\n    \r\n                this.parseNode = mapper.readValue(json, ObjectNode.class);\r\n    \r\n            } catch (JsonProcessingException ex) {\r\n                Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    \r\n        public void put(String key, String value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, boolean value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, int value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, short value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, float value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, long value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, double value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, byte[] value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, BigInteger value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, BigDecimal value) {\r\n            parseNode.put(&quot;key&quot;, value); // building\r\n        }\r\n    \r\n        public void put(String key, Object[] value) {\r\n            ArrayNode anode = parseNode.putArray(key);\r\n            for (Object o : value) {\r\n                anode.addPOJO(o); // building \r\n            }\r\n        }\r\n    \r\n        public void put(String key, JSONObject value) {\r\n            parseNode.set(key, value.parseNode);\r\n        }\r\n    \r\n        public void put(String key, Object value) {\r\n            parseNode.putPOJO(key, value);\r\n        }\r\n    \r\n        public static class Parser&lt;T&gt; {\r\n    \r\n            public T decode(String json, Class clazz) {\r\n                try {\r\n                    return new Converter&lt;T&gt;().fromJsonString(json, clazz);\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n        }\r\n    \r\n        public int optInt(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null ? nod.asInt(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public long optLong(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null ? nod.asLong(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public double optDouble(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null ? nod.asDouble(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public boolean optBoolean(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null ? nod.asBoolean(false) : false;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public double optFloat(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null &amp;&amp; nod.isFloat() ? nod.floatValue() : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public short optShort(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return nod != null &amp;&amp; nod.isShort() ? nod.shortValue() : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public byte optByte(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n    \r\n                return nod != null &amp;&amp; nod.isShort() ? (byte) nod.asInt(0) : 0;\r\n    \r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public JSONObject optJSONObject(String key) {\r\n            if (parseNode != null) {\r\n                if (parseNode.has(key)) {\r\n                    ObjectNode nod = parseNode.with(key);\r\n    \r\n                    JSONObject obj = new JSONObject();\r\n                    obj.parseNode = nod;\r\n    \r\n                    return obj;\r\n                }\r\n    \r\n            }\r\n            return new JSONObject();\r\n        }\r\n    \r\n        public JSONArray optJSONArray(String key) {\r\n            if (parseNode != null) {\r\n                if (parseNode.has(key)) {\r\n                    ArrayNode nod = parseNode.withArray(key);\r\n    \r\n                    JSONArray obj = new JSONArray();\r\n                    if (nod != null) {\r\n                        obj.parseNode = nod;\r\n                        return obj;\r\n                    }\r\n                }\r\n    \r\n            }\r\n            return new JSONArray();\r\n        }\r\n    \r\n        public String optString(String key) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(key);\r\n                return parseNode != null &amp;&amp; nod.isTextual() ? nod.asText(&quot;&quot;) : &quot;&quot;;\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return parseNode.toString();\r\n        }\r\n    \r\n        public String toCuteString() {\r\n            return parseNode.toPrettyString();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is the code for the JSONArray equivalent that works like org.json.JSONArray; but uses **Jackson** code.\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ArrayNode;\r\n    import com.fasterxml.jackson.databind.node.JsonNodeFactory;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import java.math.BigDecimal;\r\n    import java.math.BigInteger; \r\n    \r\n    /**\r\n     *\r\n     * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\r\n     */\r\n    public class JSONArray {\r\n    \r\n       \r\n        protected ArrayNode parseNode; \r\n    \r\n        public JSONArray() {\r\n            this.parseNode = JsonNodeFactory.instance.arrayNode(); // initializing     \r\n        }\r\n    \r\n        public JSONArray(String json) throws JsonProcessingException{\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            \r\n                this.parseNode = mapper.readValue(json, ArrayNode.class);\r\n     \r\n        }\r\n    \r\n        public void putByte(byte val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void putShort(short val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(int val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(long val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void pu(float val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(double val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(String val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(byte[] val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(BigDecimal val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(BigInteger val) {\r\n            parseNode.add(val);\r\n        }\r\n    \r\n        public void put(Object val) {\r\n            parseNode.addPOJO(val);\r\n        }\r\n        \r\n         public void put(int index, JSONArray value) {\r\n            parseNode.set(index, value.parseNode);\r\n        }\r\n         \r\n          public void put(int index, JSONObject value) {\r\n            parseNode.set(index, value.parseNode);\r\n        }\r\n        \r\n         public String optString(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asText(&quot;&quot;) : &quot;&quot;;\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n     public int optInt(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asInt(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public long optLong(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asLong(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public double optDouble(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asDouble(0) : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public boolean optBoolean(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null ? nod.asBoolean(false) : false;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public double optFloat(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null &amp;&amp; nod.isFloat() ? nod.floatValue() : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public short optShort(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                return nod != null &amp;&amp; nod.isShort() ? nod.shortValue() : 0;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public byte optByte(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n    \r\n                return nod != null &amp;&amp; nod.isShort() ? (byte) nod.asInt(0) : 0;\r\n    \r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public JSONObject optJSONObject(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                \r\n                if(nod != null){\r\n                    if(nod.isObject()){\r\n                            ObjectNode obn = (ObjectNode) nod;\r\n                              JSONObject obj = new JSONObject();\r\n                              obj.parseNode = obn;\r\n                              return obj;\r\n                       }\r\n                    \r\n                }\r\n    \r\n            }\r\n            return new JSONObject();\r\n        }\r\n        \r\n          public JSONArray optJSONArray(int index) {\r\n            if (parseNode != null) {\r\n                JsonNode nod = parseNode.get(index);\r\n                \r\n                if(nod != null){\r\n                    if(nod.isArray()){\r\n                            ArrayNode anode = (ArrayNode) nod;\r\n                              JSONArray obj = new JSONArray();\r\n                              obj.parseNode = anode;\r\n                              return obj;\r\n                       }\r\n                    \r\n                }\r\n    \r\n            }\r\n            return new JSONArray();\r\n        }\r\n          \r\n             @Override\r\n        public String toString() {\r\n            return parseNode.toString();\r\n        }\r\n          public String toCuteString() {\r\n            return parseNode.toPrettyString();\r\n        }\r\n        \r\n    \r\n    }\r\n\r\n\r\nFinally for a one size-fits-all-most-likely for encoding and decoding your Java classes to JSON, I added this simple class:\r\n\r\n\r\n\r\n    /**\r\n     *\r\n     * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\r\n     */\r\n    public class Converter&lt;T&gt; {\r\n        // Serialize/deserialize helpers\r\n    \r\n        private Class clazz;\r\n    \r\n        public Converter() {}\r\n    \r\n        public T fromJsonString(String json , Class clazz) throws IOException {\r\n            this.clazz = clazz;\r\n            return getObjectReader().readValue(json);\r\n        }\r\n    \r\n        public String toJsonString(T obj) throws JsonProcessingException {\r\n            this.clazz = obj.getClass();\r\n            return getObjectWriter().writeValueAsString(obj);\r\n        }\r\n    \r\n        private ObjectReader requestReader;\r\n        private ObjectWriter requestWriter;\r\n    \r\n        private void instantiateMapper() {\r\n            ObjectMapper mapper = new ObjectMapper()\r\n                    .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            \r\n            \r\n    \r\n            requestReader = mapper.readerFor(clazz);\r\n            requestWriter = mapper.writerFor(clazz);\r\n        }\r\n    \r\n        private ObjectReader getObjectReader() {\r\n            if (requestReader == null) {\r\n                instantiateMapper();\r\n            }\r\n            return requestReader;\r\n        }\r\n    \r\n        private ObjectWriter getObjectWriter() {\r\n            if (requestWriter == null) {\r\n                instantiateMapper();\r\n            }\r\n            return requestWriter;\r\n        }\r\n    \r\n       \r\n    \r\n    }\r\n\r\n\r\n\r\nNow to taste(test) the sauce(code), use the following methods:\r\n\r\n\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    /**\r\n     *\r\n     * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\r\n     */\r\n    public class SimplerJacksonTest {\r\n        \r\n        \r\n        static class Credentials {\r\n    \r\n            private String userName;\r\n            private String uid;\r\n            private String password;\r\n            private long createdAt;\r\n    \r\n            public Credentials() {\r\n            }\r\n    \r\n            public Credentials(String userName, String uid, String password, long createdAt) {\r\n                this.userName = userName;\r\n                this.uid = uid;\r\n                this.password = password;\r\n                this.createdAt = createdAt;\r\n            }\r\n    \r\n            @JsonProperty(&quot;userName&quot;)\r\n            public String getUserName() {\r\n                return userName;\r\n            }\r\n    \r\n            @JsonProperty(&quot;userName&quot;)\r\n            public void setUserName(String userName) {\r\n                this.userName = userName;\r\n            }\r\n    \r\n            @JsonProperty(&quot;uid&quot;)\r\n            public String getUid() {\r\n                return uid;\r\n            }\r\n    \r\n            @JsonProperty(&quot;uid&quot;)\r\n            public void setUid(String uid) {\r\n                this.uid = uid;\r\n            }\r\n    \r\n            @JsonProperty(&quot;password&quot;)\r\n            public String getPassword() {\r\n                return password;\r\n            }\r\n    \r\n            @JsonProperty(&quot;password&quot;)\r\n            public void setPassword(String password) {\r\n                this.password = password;\r\n            }\r\n    \r\n            @JsonProperty(&quot;createdAt&quot;)\r\n            public long getCreatedAt() {\r\n                return createdAt;\r\n            }\r\n    \r\n            @JsonProperty(&quot;createdAt&quot;)\r\n            public void setCreatedAt(long createdAt) {\r\n                this.createdAt = createdAt;\r\n            }\r\n    \r\n            public String encode() {\r\n                try {\r\n                    return new Converter&lt;Credentials&gt;().toJsonString(this);\r\n                } catch (JsonProcessingException ex) {\r\n                    Logger.getLogger(Credentials.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            public Credentials decode(String jsonData) {\r\n                try {\r\n                    return new Converter&lt;Credentials&gt;().fromJsonString(jsonData, Credentials.class);\r\n                } catch (Exception ex) {\r\n                    Logger.getLogger(Converter.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n        }\r\n        \r\n        \r\n        public static JSONObject testJSONObjectBuild() {\r\n            JSONObject obj = new JSONObject();\r\n    \r\n            Credentials cred = new Credentials(&quot;Adesina&quot;, &quot;01eab26bwkwjbak2vngxh9y3q6&quot;, &quot;xxxxxx1234&quot;, System.currentTimeMillis());\r\n            String arr[] = new String[]{&quot;Boy&quot;, &quot;Girl&quot;, &quot;Man&quot;, &quot;Woman&quot;};\r\n            int nums[] = new int[]{0, 1, 2, 3, 4, 5};\r\n    \r\n            obj.put(&quot;creds&quot;, cred);\r\n            obj.put(&quot;pronouns&quot;, arr);\r\n            obj.put(&quot;creds&quot;, cred);\r\n            obj.put(&quot;nums&quot;, nums);\r\n    \r\n            System.out.println(&quot;json-coding: &quot; + obj.toCuteString());\r\n    \r\n            return obj;\r\n        }\r\n    \r\n        public static void testJSONObjectParse(String json) {\r\n            JSONObject obj;\r\n            try {\r\n                obj = new JSONObject(json);\r\n    \r\n                JSONObject credsObj = obj.optJSONObject(&quot;creds&quot;);\r\n    \r\n                String userName = credsObj.optString(&quot;userName&quot;);\r\n                String uid = credsObj.optString(&quot;uid&quot;);\r\n                String password = credsObj.optString(&quot;password&quot;);\r\n                long createdAt = credsObj.optLong(&quot;createdAt&quot;);\r\n    \r\n              \r\n                System.out.println(&quot;&lt;&lt;---Parse Results---&gt;&gt;&quot;);\r\n                System.out.println(&quot;userName = &quot; + userName);\r\n                System.out.println(&quot;uid = &quot; + uid);\r\n                System.out.println(&quot;password = &quot; + password);\r\n                System.out.println(&quot;createdAt = &quot; + createdAt);\r\n    \r\n    \r\n            } catch (JsonProcessingException ex) {\r\n                Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n        }\r\n        \r\n           public static JSONArray testJSONArrayBuild() {\r\n            \r\n             JSONArray array = new JSONArray();\r\n            array.put(new Credentials(&quot;Lawani&quot;, &quot;001uadywdbs&quot;, &quot;ampouehehu&quot;, System.currentTimeMillis()));\r\n    \r\n            array.put(&quot;12&quot;);\r\n            array.put(98);\r\n            array.put(Math.PI);\r\n            array.put(&quot;Good scores!&quot;);\r\n            \r\n            System.out.println(&quot;See the built array: &quot;+array.toCuteString());\r\n    \r\n            return array;\r\n    \r\n        }\r\n           \r\n            \r\n           public static void testJSONArrayParse(String json) {\r\n            \r\n            try {\r\n                JSONArray array = new JSONArray(json);\r\n                \r\n                \r\n                JSONObject credsObj = array.optJSONObject(0);\r\n                \r\n                //Parse credentials in index 0\r\n                \r\n                String userName = credsObj.optString(&quot;userName&quot;);\r\n                String uid = credsObj.optString(&quot;uid&quot;);\r\n                String password = credsObj.optString(&quot;password&quot;);\r\n                long createdAt = credsObj.optLong(&quot;createdAt&quot;);\r\n    \r\n              \r\n                //Now return to the  main array and parse other entries\r\n                \r\n                String twelve = array.optString(1);\r\n                int ninety = array.optInt(2);\r\n                double pi = array.optDouble(3);\r\n                String scoreNews = array.optString(4);\r\n                \r\n                \r\n                System.out.println(&quot;Parse Results&quot;);\r\n                System.out.println(&quot;userName = &quot; + userName);\r\n                System.out.println(&quot;uid = &quot; + uid);\r\n                System.out.println(&quot;password = &quot; + password);\r\n                System.out.println(&quot;createdAt = &quot; + createdAt);\r\n                \r\n                 \r\n                System.out.println(&quot;Parse Results&quot;);\r\n                System.out.println(&quot;index 1 = &quot; + twelve);\r\n                System.out.println(&quot;index 2 = &quot; + ninety);\r\n                System.out.println(&quot;index 3 = &quot; + pi);\r\n                System.out.println(&quot;index 4 = &quot; + scoreNews);\r\n                \r\n             \r\n            } catch (JsonProcessingException ex) {\r\n                Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n    \r\n        }\r\n           \r\n           \r\n           public static String testCredentialsEncode(){\r\n                Credentials cred = new Credentials(&quot;Olaoluwa&quot;, &quot;01eab26bwkwjbak2vngxh9y3q6&quot;, &quot;xxxxxx1234&quot;, System.currentTimeMillis());\r\n                \r\n                String encoded = cred.encode();\r\n                System.out.println(&quot;encoded credentials = &quot;+encoded);\r\n                return encoded;\r\n           }\r\n           \r\n            public static Credentials testCredentialsDecode(String json){\r\n                Credentials cred = new Credentials().decode(json);\r\n                \r\n                \r\n                System.out.println(&quot;encoded credentials = &quot;+cred.encode());\r\n                \r\n                \r\n                return cred;\r\n           }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            \r\n           JSONObject jo = testJSONObjectBuild();\r\n            testJSONObjectParse(jo.toString());\r\n            \r\n            JSONArray ja = testJSONArrayBuild();\r\n            \r\n            testJSONArrayParse(ja.toString());\r\n            \r\n            String credsJSON = testCredentialsEncode();\r\n            \r\n            testCredentialsDecode(credsJSON);\r\n    \r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\nTo get the source code in a place, instead of having to copy the one here, see:\r\n\r\n[the code on Github][1]\r\n\r\n\r\n  [1]: https://github.com/gbenroscience/SimplerJackson","title":"Get single field from JSON using Jackson","body":"<p>I faced this issue when I decided to use <strong><em>Jackson</em></strong> as the json library for a project I worked on; mainly for its speed. I was already used to using <code>org.json</code> and <code>Gson</code> for my projects.</p>\n\n<p>I quickly found out though that many tasks that were trivial in <code>org.json</code> and <code>Gson</code> were not so straightforward in <strong><em>Jackson</em></strong></p>\n\n<p>So I wrote the following classes to make things easier for me.</p>\n\n<p>The classes below will allow you to use <strong>Jackson</strong> as easily as you would the simple org.json library, while still retaining the power and speed of <strong>Jackson</strong></p>\n\n<p>I wrote the whole thing in a few hours, so feel free to debug and suit the code to your own purposes.</p>\n\n<p>Note that <code>JSONObject/JSONArray</code> below will do exactly what the OP wants.</p>\n\n<p>The first is <code>JSONObject</code> which has similar methods to <code>org.json.JSONObject</code>; but at heart runs Jackson code to build JSON and parse json strings.</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport com.fasterxml.jackson.databind.node.JsonNodeFactory;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport java.io.IOException;\nimport java.math.BigDecimal;\nimport java.math.BigInteger;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\n */\npublic class JSONObject {\n\n    ObjectNode parseNode;\n\n    public JSONObject() {\n        this.parseNode = JsonNodeFactory.instance.objectNode(); // initializing     \n    }\n\n    public JSONObject(String json) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n\n            this.parseNode = mapper.readValue(json, ObjectNode.class);\n\n        } catch (JsonProcessingException ex) {\n            Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    public void put(String key, String value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, boolean value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, int value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, short value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, float value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, long value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, double value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, byte[] value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, BigInteger value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, BigDecimal value) {\n        parseNode.put(\"key\", value); // building\n    }\n\n    public void put(String key, Object[] value) {\n        ArrayNode anode = parseNode.putArray(key);\n        for (Object o : value) {\n            anode.addPOJO(o); // building \n        }\n    }\n\n    public void put(String key, JSONObject value) {\n        parseNode.set(key, value.parseNode);\n    }\n\n    public void put(String key, Object value) {\n        parseNode.putPOJO(key, value);\n    }\n\n    public static class Parser&lt;T&gt; {\n\n        public T decode(String json, Class clazz) {\n            try {\n                return new Converter&lt;T&gt;().fromJsonString(json, clazz);\n            } catch (IOException ex) {\n                Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            return null;\n        }\n\n    }\n\n    public int optInt(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null ? nod.asInt(0) : 0;\n        }\n        return 0;\n    }\n\n    public long optLong(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null ? nod.asLong(0) : 0;\n        }\n        return 0;\n    }\n\n    public double optDouble(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null ? nod.asDouble(0) : 0;\n        }\n        return 0;\n    }\n\n    public boolean optBoolean(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null ? nod.asBoolean(false) : false;\n        }\n        return false;\n    }\n\n    public double optFloat(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null &amp;&amp; nod.isFloat() ? nod.floatValue() : 0;\n        }\n        return 0;\n    }\n\n    public short optShort(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return nod != null &amp;&amp; nod.isShort() ? nod.shortValue() : 0;\n        }\n        return 0;\n    }\n\n    public byte optByte(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n\n            return nod != null &amp;&amp; nod.isShort() ? (byte) nod.asInt(0) : 0;\n\n        }\n        return 0;\n    }\n\n    public JSONObject optJSONObject(String key) {\n        if (parseNode != null) {\n            if (parseNode.has(key)) {\n                ObjectNode nod = parseNode.with(key);\n\n                JSONObject obj = new JSONObject();\n                obj.parseNode = nod;\n\n                return obj;\n            }\n\n        }\n        return new JSONObject();\n    }\n\n    public JSONArray optJSONArray(String key) {\n        if (parseNode != null) {\n            if (parseNode.has(key)) {\n                ArrayNode nod = parseNode.withArray(key);\n\n                JSONArray obj = new JSONArray();\n                if (nod != null) {\n                    obj.parseNode = nod;\n                    return obj;\n                }\n            }\n\n        }\n        return new JSONArray();\n    }\n\n    public String optString(String key) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(key);\n            return parseNode != null &amp;&amp; nod.isTextual() ? nod.asText(\"\") : \"\";\n        }\n        return \"\";\n    }\n\n    @Override\n    public String toString() {\n        return parseNode.toString();\n    }\n\n    public String toCuteString() {\n        return parseNode.toPrettyString();\n    }\n\n}\n</code></pre>\n\n<p>Here is the code for the JSONArray equivalent that works like org.json.JSONArray; but uses <strong>Jackson</strong> code.</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport com.fasterxml.jackson.databind.node.JsonNodeFactory;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport java.math.BigDecimal;\nimport java.math.BigInteger; \n\n/**\n *\n * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\n */\npublic class JSONArray {\n\n\n    protected ArrayNode parseNode; \n\n    public JSONArray() {\n        this.parseNode = JsonNodeFactory.instance.arrayNode(); // initializing     \n    }\n\n    public JSONArray(String json) throws JsonProcessingException{\n        ObjectMapper mapper = new ObjectMapper();\n\n            this.parseNode = mapper.readValue(json, ArrayNode.class);\n\n    }\n\n    public void putByte(byte val) {\n        parseNode.add(val);\n    }\n\n    public void putShort(short val) {\n        parseNode.add(val);\n    }\n\n    public void put(int val) {\n        parseNode.add(val);\n    }\n\n    public void put(long val) {\n        parseNode.add(val);\n    }\n\n    public void pu(float val) {\n        parseNode.add(val);\n    }\n\n    public void put(double val) {\n        parseNode.add(val);\n    }\n\n    public void put(String val) {\n        parseNode.add(val);\n    }\n\n    public void put(byte[] val) {\n        parseNode.add(val);\n    }\n\n    public void put(BigDecimal val) {\n        parseNode.add(val);\n    }\n\n    public void put(BigInteger val) {\n        parseNode.add(val);\n    }\n\n    public void put(Object val) {\n        parseNode.addPOJO(val);\n    }\n\n     public void put(int index, JSONArray value) {\n        parseNode.set(index, value.parseNode);\n    }\n\n      public void put(int index, JSONObject value) {\n        parseNode.set(index, value.parseNode);\n    }\n\n     public String optString(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asText(\"\") : \"\";\n        }\n        return \"\";\n    }\n public int optInt(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asInt(0) : 0;\n        }\n        return 0;\n    }\n\n    public long optLong(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asLong(0) : 0;\n        }\n        return 0;\n    }\n\n    public double optDouble(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asDouble(0) : 0;\n        }\n        return 0;\n    }\n\n    public boolean optBoolean(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null ? nod.asBoolean(false) : false;\n        }\n        return false;\n    }\n\n    public double optFloat(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null &amp;&amp; nod.isFloat() ? nod.floatValue() : 0;\n        }\n        return 0;\n    }\n\n    public short optShort(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n            return nod != null &amp;&amp; nod.isShort() ? nod.shortValue() : 0;\n        }\n        return 0;\n    }\n\n    public byte optByte(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n\n            return nod != null &amp;&amp; nod.isShort() ? (byte) nod.asInt(0) : 0;\n\n        }\n        return 0;\n    }\n\n    public JSONObject optJSONObject(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n\n            if(nod != null){\n                if(nod.isObject()){\n                        ObjectNode obn = (ObjectNode) nod;\n                          JSONObject obj = new JSONObject();\n                          obj.parseNode = obn;\n                          return obj;\n                   }\n\n            }\n\n        }\n        return new JSONObject();\n    }\n\n      public JSONArray optJSONArray(int index) {\n        if (parseNode != null) {\n            JsonNode nod = parseNode.get(index);\n\n            if(nod != null){\n                if(nod.isArray()){\n                        ArrayNode anode = (ArrayNode) nod;\n                          JSONArray obj = new JSONArray();\n                          obj.parseNode = anode;\n                          return obj;\n                   }\n\n            }\n\n        }\n        return new JSONArray();\n    }\n\n         @Override\n    public String toString() {\n        return parseNode.toString();\n    }\n      public String toCuteString() {\n        return parseNode.toPrettyString();\n    }\n\n\n}\n</code></pre>\n\n<p>Finally for a one size-fits-all-most-likely for encoding and decoding your Java classes to JSON, I added this simple class:</p>\n\n<pre><code>/**\n *\n * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\n */\npublic class Converter&lt;T&gt; {\n    // Serialize/deserialize helpers\n\n    private Class clazz;\n\n    public Converter() {}\n\n    public T fromJsonString(String json , Class clazz) throws IOException {\n        this.clazz = clazz;\n        return getObjectReader().readValue(json);\n    }\n\n    public String toJsonString(T obj) throws JsonProcessingException {\n        this.clazz = obj.getClass();\n        return getObjectWriter().writeValueAsString(obj);\n    }\n\n    private ObjectReader requestReader;\n    private ObjectWriter requestWriter;\n\n    private void instantiateMapper() {\n        ObjectMapper mapper = new ObjectMapper()\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n\n\n\n        requestReader = mapper.readerFor(clazz);\n        requestWriter = mapper.writerFor(clazz);\n    }\n\n    private ObjectReader getObjectReader() {\n        if (requestReader == null) {\n            instantiateMapper();\n        }\n        return requestReader;\n    }\n\n    private ObjectWriter getObjectWriter() {\n        if (requestWriter == null) {\n            instantiateMapper();\n        }\n        return requestWriter;\n    }\n\n\n\n}\n</code></pre>\n\n<p>Now to taste(test) the sauce(code), use the following methods:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\n/**\n *\n * @author GBEMIRO JIBOYE &lt;gbenroscience@gmail.com&gt;\n */\npublic class SimplerJacksonTest {\n\n\n    static class Credentials {\n\n        private String userName;\n        private String uid;\n        private String password;\n        private long createdAt;\n\n        public Credentials() {\n        }\n\n        public Credentials(String userName, String uid, String password, long createdAt) {\n            this.userName = userName;\n            this.uid = uid;\n            this.password = password;\n            this.createdAt = createdAt;\n        }\n\n        @JsonProperty(\"userName\")\n        public String getUserName() {\n            return userName;\n        }\n\n        @JsonProperty(\"userName\")\n        public void setUserName(String userName) {\n            this.userName = userName;\n        }\n\n        @JsonProperty(\"uid\")\n        public String getUid() {\n            return uid;\n        }\n\n        @JsonProperty(\"uid\")\n        public void setUid(String uid) {\n            this.uid = uid;\n        }\n\n        @JsonProperty(\"password\")\n        public String getPassword() {\n            return password;\n        }\n\n        @JsonProperty(\"password\")\n        public void setPassword(String password) {\n            this.password = password;\n        }\n\n        @JsonProperty(\"createdAt\")\n        public long getCreatedAt() {\n            return createdAt;\n        }\n\n        @JsonProperty(\"createdAt\")\n        public void setCreatedAt(long createdAt) {\n            this.createdAt = createdAt;\n        }\n\n        public String encode() {\n            try {\n                return new Converter&lt;Credentials&gt;().toJsonString(this);\n            } catch (JsonProcessingException ex) {\n                Logger.getLogger(Credentials.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            return null;\n        }\n\n        public Credentials decode(String jsonData) {\n            try {\n                return new Converter&lt;Credentials&gt;().fromJsonString(jsonData, Credentials.class);\n            } catch (Exception ex) {\n                Logger.getLogger(Converter.class.getName()).log(Level.SEVERE, null, ex);\n            }\n            return null;\n        }\n\n    }\n\n\n    public static JSONObject testJSONObjectBuild() {\n        JSONObject obj = new JSONObject();\n\n        Credentials cred = new Credentials(\"Adesina\", \"01eab26bwkwjbak2vngxh9y3q6\", \"xxxxxx1234\", System.currentTimeMillis());\n        String arr[] = new String[]{\"Boy\", \"Girl\", \"Man\", \"Woman\"};\n        int nums[] = new int[]{0, 1, 2, 3, 4, 5};\n\n        obj.put(\"creds\", cred);\n        obj.put(\"pronouns\", arr);\n        obj.put(\"creds\", cred);\n        obj.put(\"nums\", nums);\n\n        System.out.println(\"json-coding: \" + obj.toCuteString());\n\n        return obj;\n    }\n\n    public static void testJSONObjectParse(String json) {\n        JSONObject obj;\n        try {\n            obj = new JSONObject(json);\n\n            JSONObject credsObj = obj.optJSONObject(\"creds\");\n\n            String userName = credsObj.optString(\"userName\");\n            String uid = credsObj.optString(\"uid\");\n            String password = credsObj.optString(\"password\");\n            long createdAt = credsObj.optLong(\"createdAt\");\n\n\n            System.out.println(\"&lt;&lt;---Parse Results---&gt;&gt;\");\n            System.out.println(\"userName = \" + userName);\n            System.out.println(\"uid = \" + uid);\n            System.out.println(\"password = \" + password);\n            System.out.println(\"createdAt = \" + createdAt);\n\n\n        } catch (JsonProcessingException ex) {\n            Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n       public static JSONArray testJSONArrayBuild() {\n\n         JSONArray array = new JSONArray();\n        array.put(new Credentials(\"Lawani\", \"001uadywdbs\", \"ampouehehu\", System.currentTimeMillis()));\n\n        array.put(\"12\");\n        array.put(98);\n        array.put(Math.PI);\n        array.put(\"Good scores!\");\n\n        System.out.println(\"See the built array: \"+array.toCuteString());\n\n        return array;\n\n    }\n\n\n       public static void testJSONArrayParse(String json) {\n\n        try {\n            JSONArray array = new JSONArray(json);\n\n\n            JSONObject credsObj = array.optJSONObject(0);\n\n            //Parse credentials in index 0\n\n            String userName = credsObj.optString(\"userName\");\n            String uid = credsObj.optString(\"uid\");\n            String password = credsObj.optString(\"password\");\n            long createdAt = credsObj.optLong(\"createdAt\");\n\n\n            //Now return to the  main array and parse other entries\n\n            String twelve = array.optString(1);\n            int ninety = array.optInt(2);\n            double pi = array.optDouble(3);\n            String scoreNews = array.optString(4);\n\n\n            System.out.println(\"Parse Results\");\n            System.out.println(\"userName = \" + userName);\n            System.out.println(\"uid = \" + uid);\n            System.out.println(\"password = \" + password);\n            System.out.println(\"createdAt = \" + createdAt);\n\n\n            System.out.println(\"Parse Results\");\n            System.out.println(\"index 1 = \" + twelve);\n            System.out.println(\"index 2 = \" + ninety);\n            System.out.println(\"index 3 = \" + pi);\n            System.out.println(\"index 4 = \" + scoreNews);\n\n\n        } catch (JsonProcessingException ex) {\n            Logger.getLogger(JSONObject.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n\n       public static String testCredentialsEncode(){\n            Credentials cred = new Credentials(\"Olaoluwa\", \"01eab26bwkwjbak2vngxh9y3q6\", \"xxxxxx1234\", System.currentTimeMillis());\n\n            String encoded = cred.encode();\n            System.out.println(\"encoded credentials = \"+encoded);\n            return encoded;\n       }\n\n        public static Credentials testCredentialsDecode(String json){\n            Credentials cred = new Credentials().decode(json);\n\n\n            System.out.println(\"encoded credentials = \"+cred.encode());\n\n\n            return cred;\n       }\n\n\n    public static void main(String[] args) {\n\n       JSONObject jo = testJSONObjectBuild();\n        testJSONObjectParse(jo.toString());\n\n        JSONArray ja = testJSONArrayBuild();\n\n        testJSONArrayParse(ja.toString());\n\n        String credsJSON = testCredentialsEncode();\n\n        testCredentialsDecode(credsJSON);\n\n    }\n\n}\n</code></pre>\n\n<p>To get the source code in a place, instead of having to copy the one here, see:</p>\n\n<p><a href=\"https://github.com/gbenroscience/SimplerJackson\" rel=\"nofollow noreferrer\">the code on Github</a></p>\n"}],"owner":{"account_id":232399,"reputation":32831,"user_id":497208,"accept_rate":76,"display_name":"Jakub M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120130,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":26191723,"answer_count":5,"score":50,"last_activity_date":1691016793,"creation_date":1412409396,"question_id":26190851,"body_markdown":"Given an arbitrary JSON I would like to get value of a single field `contentType`. How to do it with **Jackson**?\r\n\r\n\r\n    {\r\n      contentType: &quot;foo&quot;,\r\n      fooField1: ...\r\n    }\r\n\r\n    {\r\n      contentType: &quot;bar&quot;,\r\n      barArray: [...]\r\n    }\r\n\r\n\r\n\r\n\r\n**Related**\r\n\r\n- https://stackoverflow.com/questions/6153176/how-to-find-specified-name-and-its-value-in-json-string-from-java (GSON)\r\n- https://stackoverflow.com/questions/11428329/using-gson-to-deserialize-specific-json-field-of-an-object (GSON)\r\n\r\n","title":"Get single field from JSON using Jackson","body":"<p>Given an arbitrary JSON I would like to get value of a single field <code>contentType</code>. How to do it with <strong>Jackson</strong>?</p>\n\n<pre><code>{\n  contentType: \"foo\",\n  fooField1: ...\n}\n\n{\n  contentType: \"bar\",\n  barArray: [...]\n}\n</code></pre>\n\n<p><strong>Related</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6153176/how-to-find-specified-name-and-its-value-in-json-string-from-java\">How to find specified name and its value in JSON-string from Java?</a> (GSON)</li>\n<li><a href=\"https://stackoverflow.com/questions/11428329/using-gson-to-deserialize-specific-json-field-of-an-object\">Using gson to deserialize specific JSON field of an object</a> (GSON)</li>\n</ul>\n"},{"tags":["java","date","simpledateformat","formatter"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1690979761,"post_id":76819940,"comment_id":135427951,"body_markdown":"Stop using outdated classes like `SimpleDateFormat`. move to the newer `java.time` API","body":"Stop using outdated classes like <code>SimpleDateFormat</code>. move to the newer <code>java.time</code> API"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690979814,"post_id":76819940,"comment_id":135427957,"body_markdown":"Please share an [MCVE]","body":"Please share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1691015432,"post_id":76819940,"comment_id":135435261,"body_markdown":"By what time zone are you expecting an offset of +02:00?","body":"By what time zone are you expecting an offset of +02:00?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691062189,"post_id":76819940,"comment_id":135442259,"body_markdown":"I strongly recommend that you don’t use `DateFormat`, `SimpleDateFormat` and `Calendar`. Those classes were poorly designed, troublesome and cumbersome to work with. Fortunately they are long outdated. Use `OffsetDateTime` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html) for an easier job and fewer unpleasant surprises. See [the good answer by Basil Bourque](https://stackoverflow.com/a/76823909/5772882).","body":"I strongly recommend that you don’t use <code>DateFormat</code>, <code>SimpleDateFormat</code> and <code>Calendar</code>. Those classes were poorly designed, troublesome and cumbersome to work with. Fortunately they are long outdated. Use <code>OffsetDateTime</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a> for an easier job and fewer unpleasant surprises. See <a href=\"https://stackoverflow.com/a/76823909/5772882\">the good answer by Basil Bourque</a>."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1690980364,"creation_date":1690979934,"answer_id":76819965,"question_id":76819940,"body_markdown":"You need to use `XXX` instead of `Z` to get a timezone formatted as `{Z|{+|-}HH:mm}`. That said, you should really switch to using the new `java.time` types, and stop using `SimpleDateFormat`.\r\n\r\nThis is shown in one of the examples in the [`SimpleDateFormat` documentation][1]:\r\n\r\n&gt; |Date and Time Pattern           |Result                         |\r\n&gt; |--------------------------------|-------------------------------|\r\n&gt; |...                             |...                            |\r\n&gt; |`&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;`|`2001-07-04T12:08:56.235-07:00`|\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html","title":"SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;); customize the timezone","body":"<p>You need to use <code>XXX</code> instead of <code>Z</code> to get a timezone formatted as <code>{Z|{+|-}HH:mm}</code>. That said, you should really switch to using the new <code>java.time</code> types, and stop using <code>SimpleDateFormat</code>.</p>\n<p>This is shown in one of the examples in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code> documentation</a>:</p>\n<blockquote>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Date and Time Pattern</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>...</td>\n<td>...</td>\n</tr>\n<tr>\n<td><code>&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;</code></td>\n<td><code>2001-07-04T12:08:56.235-07:00</code></td>\n</tr>\n</tbody>\n</table>\n</div></blockquote>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690981464,"creation_date":1690981464,"answer_id":76820182,"question_id":76819940,"body_markdown":"If you are working with Java 1.8+, you should use classes from the `java.time` package.\r\n\r\nThe format you use for the `java.text.SimpleDateFormat` class should also work with the `java.time.format.DateTimeFormatter` class.\r\n\r\nHere is an example:\r\n\r\n```java\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.format.DateTimeFormatter;\r\n\r\npublic class ZonedDateTimeFormatExample {\r\n  public static void main(String... args) {\r\n    ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Africa/Cairo&quot;));\r\n    DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    System.out.printf(&quot;Current date and time in Cairo, Egypt: %s%n&quot;, fmt.format(now));\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\nAvoid using the `java.text` and `java.util` packages for date/time/calendar parsing and formatting.\r\n\r\nThis includes, but is not limited to:\r\n\r\n* `java.util.Calendar`\r\n* `java.util.Date`\r\n* `java.text.SimpleDateFormat`\r\n\r\nPlease review: [Java SE 8 Date and Time](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)\r\n","title":"SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;); customize the timezone","body":"<p>If you are working with Java 1.8+, you should use classes from the <code>java.time</code> package.</p>\n<p>The format you use for the <code>java.text.SimpleDateFormat</code> class should also work with the <code>java.time.format.DateTimeFormatter</code> class.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class ZonedDateTimeFormatExample {\n  public static void main(String... args) {\n    ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;Africa/Cairo&quot;));\n    DateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n    System.out.printf(&quot;Current date and time in Cairo, Egypt: %s%n&quot;, fmt.format(now));\n  }\n}\n</code></pre>\n<hr />\n<p>Avoid using the <code>java.text</code> and <code>java.util</code> packages for date/time/calendar parsing and formatting.</p>\n<p>This includes, but is not limited to:</p>\n<ul>\n<li><code>java.util.Calendar</code></li>\n<li><code>java.util.Date</code></li>\n<li><code>java.text.SimpleDateFormat</code></li>\n</ul>\n<p>Please review: <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">Java SE 8 Date and Time</a></p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1691062545,"post_id":76823909,"comment_id":135442343,"body_markdown":"Good and knowledgeable answer. `OffsetDateTime.now()` conveniently accepts a `ZoneId` (not just a `ZoneOffset`). So in your last snippet you can advantageously use `OffsetDateTime.now( ZoneId.of( &quot;Africa/Gaborone&quot; ) )`, and you will not need the conversion.","body":"Good and knowledgeable answer. <code>OffsetDateTime.now()</code> conveniently accepts a <code>ZoneId</code> (not just a <code>ZoneOffset</code>). So in your last snippet you can advantageously use <code>OffsetDateTime.now( ZoneId.of( &quot;Africa&#47;Gaborone&quot; ) )</code>, and you will not need the conversion."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691079863,"post_id":76823909,"comment_id":135446332,"body_markdown":"@OleV.V. Yours is a clever solution. But I might prefer the longer solution with an intermediary of `ZonedDateTime` to make clear my intention. But then this is actually a moot issue as I cannot imagine a situation where I would  prefer having a `OffsetDateTime` rather than a `ZonedDateTime` as a final result.","body":"@OleV.V. Yours is a clever solution. But I might prefer the longer solution with an intermediary of <code>ZonedDateTime</code> to make clear my intention. But then this is actually a moot issue as I cannot imagine a situation where I would  prefer having a <code>OffsetDateTime</code> rather than a <code>ZonedDateTime</code> as a final result."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1691083030,"post_id":76823909,"comment_id":135446954,"body_markdown":"Right. In most real-world programs we would not be satisfied with a string, but would want the date-time object, and then `ZonedDateTime` is the most appropriate type when we got it as the current time in some time zone. A third option would be truncating  the `ZonedDateTime` and formatting it using `DateTimeFormatter.ISO_OFFSET_DATE_TIME`. Which to prefer depends on circumstances (and taste).","body":"Right. In most real-world programs we would not be satisfied with a string, but would want the date-time object, and then <code>ZonedDateTime</code> is the most appropriate type when we got it as the current time in some time zone. A third option would be truncating  the <code>ZonedDateTime</code> and formatting it using <code>DateTimeFormatter.ISO_OFFSET_DATE_TIME</code>. Which to prefer depends on circumstances (and taste)."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691016504,"creation_date":1691015863,"answer_id":76823909,"question_id":76819940,"body_markdown":"# tl;dr\r\n\r\n - You are working too hard.\r\n - Use modern *java.time*. Never use `Calendar` &amp; `SimpleDateFormat`.\r\n - No need to specify a formatting pattern for standard format.\r\n - Truncate your unwanted fractional second.\r\n\r\n```java\r\nOffsetDateTime.now().truncatedTo( SECONDS ).toString()\r\n```\r\n\r\n&gt;2023-08-02T14:19:10+02:00\r\n\r\n# `java.time.OffsetDateTime`\r\n\r\nYou are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nFor a date with time-of-day in the context of an offset-from-UTC, use the class [`OffsetDateTime`][1].\r\n\r\nFirst specify your desired [offset][2].\r\n\r\n    ZoneOffset offset = ZoneOffset.ofHours( 2 ) ;  // +02:00\r\n\r\nCapture the [current moment][3] as seen in that offset.\r\n\r\n    OffsetDateTime odt = OffsetDateTime.now( offset ) ;\r\n\r\nSince you have no interest in the fractional second, [truncate][4].\r\n\r\n    OffsetDateTime odt = odt.truncatedTo( ChronoUnit.SECONDS ) ;\r\n\r\nGenerate text in your desired format which happens to comply with the [ISO 8601][5] standard formats used by default in *java.time* when generating/parsing text. So no need to specify a formatting pattern.\r\n\r\n    String output = odt.toString() ;\r\n    \r\n&gt;2023-08-02T14:19:10+02:00\r\n\r\nRather than hard-code an offset, you may want to specify a time zone to automatically determine the offset in effect at that point in time.\r\n\r\n    String output = \r\n        ZonedDateTime\r\n        .now(\r\n            ZoneId.of( &quot;Africa/Gaborone&quot; ) \r\n        )\r\n        .toOffsetDateTime()\r\n        .truncatedTo( ChronoUnit.SECONDS )\r\n        .toString()\r\n    ;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html#now(java.time.ZoneId)\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\r\n  [5]: http://en.wikipedia.org/wiki/ISO_8601","title":"SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;); customize the timezone","body":"<h1>tl;dr</h1>\n<ul>\n<li>You are working too hard.</li>\n<li>Use modern <em>java.time</em>. Never use <code>Calendar</code> &amp; <code>SimpleDateFormat</code>.</li>\n<li>No need to specify a formatting pattern for standard format.</li>\n<li>Truncate your unwanted fractional second.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime.now().truncatedTo( SECONDS ).toString()\n</code></pre>\n<blockquote>\n<p>2023-08-02T14:19:10+02:00</p>\n</blockquote>\n<h1><code>java.time.OffsetDateTime</code></h1>\n<p>You are using terrible date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>For a date with time-of-day in the context of an offset-from-UTC, use the class <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<p>First specify your desired <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\">offset</a>.</p>\n<pre><code>ZoneOffset offset = ZoneOffset.ofHours( 2 ) ;  // +02:00\n</code></pre>\n<p>Capture the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html#now(java.time.ZoneId)\" rel=\"nofollow noreferrer\">current moment</a> as seen in that offset.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now( offset ) ;\n</code></pre>\n<p>Since you have no interest in the fractional second, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/OffsetDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\">truncate</a>.</p>\n<pre><code>OffsetDateTime odt = odt.truncatedTo( ChronoUnit.SECONDS ) ;\n</code></pre>\n<p>Generate text in your desired format which happens to comply with the <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard formats used by default in <em>java.time</em> when generating/parsing text. So no need to specify a formatting pattern.</p>\n<pre><code>String output = odt.toString() ;\n</code></pre>\n<blockquote>\n<p>2023-08-02T14:19:10+02:00</p>\n</blockquote>\n<p>Rather than hard-code an offset, you may want to specify a time zone to automatically determine the offset in effect at that point in time.</p>\n<pre><code>String output = \n    ZonedDateTime\n    .now(\n        ZoneId.of( &quot;Africa/Gaborone&quot; ) \n    )\n    .toOffsetDateTime()\n    .truncatedTo( ChronoUnit.SECONDS )\n    .toString()\n;\n</code></pre>\n"}],"owner":{"account_id":19949957,"reputation":107,"user_id":14619820,"display_name":"monotor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76819965,"answer_count":3,"score":0,"last_activity_date":1691016504,"creation_date":1690979685,"question_id":76819940,"body_markdown":"I want to print the date with the char `&quot;:&quot;` in the middle of timezone,\r\nexample :\r\n\r\n    2023-08-02T14:19:10+02:00\r\n\r\nAt the moment I am using this pattern:\r\n\r\n    SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n\r\nand it prints:\r\n\r\n    2023-08-02T14:19:10+0200\r\n\r\nAny idea?\r\n\r\nbelow an example of code :\r\n\r\n```java\r\npublic class testDate {\r\n\r\n    public static final DateFormat PATTERN = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n\r\n\tpublic static String calendarToString(final Calendar dateToConvert, final DateFormat df) {\r\n\t\treturn df.format(dateToConvert.getTime());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tCalendar effectiveDate = Calendar.getInstance();\r\n\t\tSystem.out.println(calendarToString(effectiveDate, PATTERN));\r\n\t}\r\n}\r\n```\r\n\r\n","title":"SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;); customize the timezone","body":"<p>I want to print the date with the char <code>&quot;:&quot;</code> in the middle of timezone,\nexample :</p>\n<pre><code>2023-08-02T14:19:10+02:00\n</code></pre>\n<p>At the moment I am using this pattern:</p>\n<pre><code>SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;);\n</code></pre>\n<p>and it prints:</p>\n<pre><code>2023-08-02T14:19:10+0200\n</code></pre>\n<p>Any idea?</p>\n<p>below an example of code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class testDate {\n\n    public static final DateFormat PATTERN = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;);\n\n    public static String calendarToString(final Calendar dateToConvert, final DateFormat df) {\n        return df.format(dateToConvert.getTime());\n    }\n\n    public static void main(String[] args) {\n        Calendar effectiveDate = Calendar.getInstance();\n        System.out.println(calendarToString(effectiveDate, PATTERN));\n    }\n}\n</code></pre>\n"},{"tags":["java","terminal","java-11","uninstallation"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691011313,"post_id":76823607,"comment_id":135434754,"body_markdown":"You very rarely uninstall things by deleting directories. What is your OS? Also please say why you want a &quot;lower version&quot;","body":"You very rarely uninstall things by deleting directories. What is your OS? Also please say why you want a &quot;lower version&quot;"},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691011420,"post_id":76823607,"comment_id":135434773,"body_markdown":"My version for mac?","body":"My version for mac?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691011473,"post_id":76823607,"comment_id":135434783,"body_markdown":"OK, I thought it might be Mac but wasn&#39;t sure. That&#39;s an OS I don&#39;t know enough about to help","body":"OK, I thought it might be Mac but wasn&#39;t sure. That&#39;s an OS I don&#39;t know enough about to help"},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691011581,"post_id":76823607,"comment_id":135434802,"body_markdown":"Oh I want a lower version for a course, it really isnt that important. I have been trying to find out how to work TMC Beans on Mac and I realized the reason it hasnt been working is because it only takes a openjdk version of under 11. Also I need TMC Beans to submit and use the course.","body":"Oh I want a lower version for a course, it really isnt that important. I have been trying to find out how to work TMC Beans on Mac and I realized the reason it hasnt been working is because it only takes a openjdk version of under 11. Also I need TMC Beans to submit and use the course."},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691011611,"post_id":76823607,"comment_id":135434805,"body_markdown":"Its a Mac Book Air version &quot;10.15.6&quot;","body":"Its a Mac Book Air version &quot;10.15.6&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691012020,"post_id":76823607,"comment_id":135434869,"body_markdown":"That op could have nasty knock-on effects. If I were you, I&#39;d probably try to restore to before installation of that JDK with Time Machine, then install the version you wnat","body":"That op could have nasty knock-on effects. If I were you, I&#39;d probably try to restore to before installation of that JDK with Time Machine, then install the version you wnat"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1691019959,"post_id":76823607,"comment_id":135435688,"body_markdown":"Which version exactly you are trying to install? Your question is really how to install a specific version of JDK rather than how to delete the newer version. This is an XY Problem as currently asked","body":"Which version exactly you are trying to install? Your question is really how to install a specific version of JDK rather than how to delete the newer version. This is an XY Problem as currently asked"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691052845,"post_id":76823607,"comment_id":135440239,"body_markdown":"@aled, not exactly. There are now *two* problems, which could potentially compound each other","body":"@aled, not exactly. There are now <i>two</i> problems, which could potentially compound each other"},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691064780,"post_id":76823607,"comment_id":135442792,"body_markdown":"Basically Im trying to install a version lower than 11 and only use that specific version. If I ask what version I have on the terminal it should show a version lower than 11.","body":"Basically Im trying to install a version lower than 11 and only use that specific version. If I ask what version I have on the terminal it should show a version lower than 11."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691066260,"post_id":76823607,"comment_id":135443139,"body_markdown":"You might &#39;get away with&#39; leaving your partial, broken installation on the system, but I wouldn&#39;t recommend it","body":"You might &#39;get away with&#39; leaving your partial, broken installation on the system, but I wouldn&#39;t recommend it"},{"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"score":0,"creation_date":1691066323,"post_id":76823607,"comment_id":135443152,"body_markdown":"Every time I see my version its still 17 so I don&#39;t think anything went broken or wrong.","body":"Every time I see my version its still 17 so I don&#39;t think anything went broken or wrong."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691066438,"post_id":76823607,"comment_id":135443176,"body_markdown":"Well you started by saying that you force-deleted its entire directory trees, so if it&#39;s still working and valid, I&#39;d be surprised (unless your commands failed)","body":"Well you started by saying that you force-deleted its entire directory trees, so if it&#39;s still working and valid, I&#39;d be surprised (unless your commands failed)"}],"owner":{"account_id":18377683,"reputation":3,"user_id":13386403,"display_name":"Jai Bhatt"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691015851,"creation_date":1691011149,"question_id":76823607,"body_markdown":"Removed the jdk in the Terminal using these commands: &quot;sudo rm -fr jdk-17.0.7.jdk&quot; and &quot;sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\r\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\r\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java&quot;. \r\n\r\nMy terminal keeps showing that I have some version of java, so I am a little confused, I wanna uninstall openjdk completely from my laptop and then get a lower version. Right now I have version &quot;17.0.7&quot; as you can see.\r\n\r\nWhen running &quot;java -version&quot;, i get &quot;openjdk version &quot;17.0.7&quot; 2023-04-18\r\nOpenJDK Runtime Environment Temurin-17.0.7+7 (build 17.0.7+7)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)\r\n&quot;\r\n\r\nOverall I am just trying to get a version of OpenJdk that is under version 11 and use that version instead of 17. I have been trying to find out how to work TMC Beans on Mac for a Course and I realized the reason it hasn&#39;t been working is because it only takes a Openjdk version of under 11. Also I need TMC Beans to submit and use the course.","title":"How to Uninstall Version of OpenJdk","body":"<p>Removed the jdk in the Terminal using these commands: &quot;sudo rm -fr jdk-17.0.7.jdk&quot; and &quot;sudo rm -fr /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin\nsudo rm -fr /Library/PreferencePanes/JavaControlPanel.prefPane\nsudo rm -fr ~/Library/Application\\ Support/Oracle/Java&quot;.</p>\n<p>My terminal keeps showing that I have some version of java, so I am a little confused, I wanna uninstall openjdk completely from my laptop and then get a lower version. Right now I have version &quot;17.0.7&quot; as you can see.</p>\n<p>When running &quot;java -version&quot;, i get &quot;openjdk version &quot;17.0.7&quot; 2023-04-18\nOpenJDK Runtime Environment Temurin-17.0.7+7 (build 17.0.7+7)\nOpenJDK 64-Bit Server VM Temurin-17.0.7+7 (build 17.0.7+7, mixed mode, sharing)\n&quot;</p>\n<p>Overall I am just trying to get a version of OpenJdk that is under version 11 and use that version instead of 17. I have been trying to find out how to work TMC Beans on Mac for a Course and I realized the reason it hasn't been working is because it only takes a Openjdk version of under 11. Also I need TMC Beans to submit and use the course.</p>\n"},{"tags":["java","maven","github-actions","pom.xml","codeql"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691015843,"creation_date":1691015843,"answer_id":76823908,"question_id":76818094,"body_markdown":"There are probably multiple approaches to solve this:\r\n- If this `copy-files-on-build` execution is only relevant for your local build, you could either\r\n  - remove `&lt;phase&gt;package&lt;/phase&gt;` and manually invoke the plugin when building locally, see https://stackoverflow.com/q/3779369\r\n  - or, move this configuration to a [Maven build profile](https://maven.apache.org/guides/introduction/introduction-to-profiles.html), and either manually activate it when building locally, with `mvn --activate-profiles ...` (respectively `mvn -P ...`), or [deactivate it when running CodeQL](https://maven.apache.org/guides/introduction/introduction-to-profiles.html#deactivating-a-profile)\r\n- Specify the `PROJECT_OUTPUT` value with `mvn &quot;-DPROJECT_OUTPUT=...&quot; ...` when running CodeQL\r\n\r\nIf you want to use one of the approaches which requires a custom `mvn` command for CodeQL, you will have to use the &quot;[advanced setup](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-advanced-setup-for-code-scanning#configuring-advanced-setup-for-code-scanning-with-codeql)&quot; for GitHub code scanning, and there remove the autobuild step and instead [manually specify the `mvn` build command](https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-the-codeql-workflow-for-compiled-languages#adding-build-steps-for-a-compiled-language). You can take for example a look at how the [Gson CodeQL workflow](https://github.com/google/gson/blob/gson-parent-2.10.1/.github/workflows/codeql-analysis.yml) specifies a custom `mvn` command to execute.","title":"CodeQL Java Analysis - missing parameters","body":"<p>There are probably multiple approaches to solve this:</p>\n<ul>\n<li>If this <code>copy-files-on-build</code> execution is only relevant for your local build, you could either\n<ul>\n<li>remove <code>&lt;phase&gt;package&lt;/phase&gt;</code> and manually invoke the plugin when building locally, see <a href=\"https://stackoverflow.com/q/3779369\">Run a single Maven plugin execution?</a></li>\n<li>or, move this configuration to a <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">Maven build profile</a>, and either manually activate it when building locally, with <code>mvn --activate-profiles ...</code> (respectively <code>mvn -P ...</code>), or <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html#deactivating-a-profile\" rel=\"nofollow noreferrer\">deactivate it when running CodeQL</a></li>\n</ul>\n</li>\n<li>Specify the <code>PROJECT_OUTPUT</code> value with <code>mvn &quot;-DPROJECT_OUTPUT=...&quot; ...</code> when running CodeQL</li>\n</ul>\n<p>If you want to use one of the approaches which requires a custom <code>mvn</code> command for CodeQL, you will have to use the &quot;<a href=\"https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-advanced-setup-for-code-scanning#configuring-advanced-setup-for-code-scanning-with-codeql\" rel=\"nofollow noreferrer\">advanced setup</a>&quot; for GitHub code scanning, and there remove the autobuild step and instead <a href=\"https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-the-codeql-workflow-for-compiled-languages#adding-build-steps-for-a-compiled-language\" rel=\"nofollow noreferrer\">manually specify the <code>mvn</code> build command</a>. You can take for example a look at how the <a href=\"https://github.com/google/gson/blob/gson-parent-2.10.1/.github/workflows/codeql-analysis.yml\" rel=\"nofollow noreferrer\">Gson CodeQL workflow</a> specifies a custom <code>mvn</code> command to execute.</p>\n"}],"owner":{"account_id":18009385,"reputation":3,"user_id":13089435,"display_name":"Chris Haas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76823908,"answer_count":1,"score":0,"last_activity_date":1691015843,"creation_date":1690965980,"question_id":76818094,"body_markdown":"for various reasons I decided to set an environment variable in IntelliJ for the output directory defined in pom.xml.\r\n\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-files-on-build&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n&gt;                           &lt;outputDirectory&gt;${PROJECT_OUTPUT}&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;${basedir}/target&lt;/directory&gt;\r\n                                    &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\r\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\nUnfortunately, CodeQL Analysis throws following error:\r\n\r\n```\r\n Error: 8-02 04:52:22] [autobuild] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources (copy-files-on-build) on project PROJECT: The parameters &#39;outputDirectory&#39; for goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources are missing or invalid -&gt; [Help 1]\r\n  [2023-08-02 04:52:22] [autobuild] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources (copy-files-on-build) on project PROJECT: The parameters &#39;outputDirectory&#39; for goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources are missing or invalid\r\n```\r\n\r\nIs there any way to fix this issue?\r\n\r\nAn absolute path leads to no errors and performs the analysis as expected.","title":"CodeQL Java Analysis - missing parameters","body":"<p>for various reasons I decided to set an environment variable in IntelliJ for the output directory defined in pom.xml.</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-files-on-build&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n&gt;                           &lt;outputDirectory&gt;${PROJECT_OUTPUT}&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;${basedir}/target&lt;/directory&gt;\n                                    &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt;\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Unfortunately, CodeQL Analysis throws following error:</p>\n<pre><code> Error: 8-02 04:52:22] [autobuild] [ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources (copy-files-on-build) on project PROJECT: The parameters 'outputDirectory' for goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources are missing or invalid -&gt; [Help 1]\n  [2023-08-02 04:52:22] [autobuild] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources (copy-files-on-build) on project PROJECT: The parameters 'outputDirectory' for goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:copy-resources are missing or invalid\n</code></pre>\n<p>Is there any way to fix this issue?</p>\n<p>An absolute path leads to no errors and performs the analysis as expected.</p>\n"},{"tags":["java","android","download","storage"],"answers":[{"comments":[{"owner":{"account_id":18462745,"reputation":11,"user_id":13449797,"display_name":"user13449797"},"score":0,"creation_date":1690986716,"post_id":76820779,"comment_id":135429803,"body_markdown":"I&#39;m a beginner in java and I don&#39;t know kotlin. I wanted to download an iframe from the api https://github.com/matthew-asuncion/Fast-YouTube-to-MP3-Converter-API, display and download a file","body":"I&#39;m a beginner in java and I don&#39;t know kotlin. I wanted to download an iframe from the api <a href=\"https://github.com/matthew-asuncion/Fast-YouTube-to-MP3-Converter-API\" rel=\"nofollow noreferrer\">github.com/matthew-asuncion/Fast-YouTube-to-MP3-Converter-AP&zwnj;&#8203;I</a>, display and download a file"},{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":1,"creation_date":1691156422,"post_id":76820779,"comment_id":135457673,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76820779/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":5156128,"reputation":126,"user_id":4129322,"display_name":"PRIYANKA YADAV"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690985615,"creation_date":1690985615,"answer_id":76820779,"question_id":76820498,"body_markdown":"    binding.webView.setDownloadListener { url, _, _, _, _ -&gt;\r\n          \r\n            binding.webView.loadUrl(url)\r\n        }\r\n   ","title":"Download file inside WebView from android 13","body":"<pre><code>binding.webView.setDownloadListener { url, _, _, _, _ -&gt;\n      \n        binding.webView.loadUrl(url)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25087928,"reputation":168,"user_id":18939913,"display_name":"Pisoj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691014668,"creation_date":1691014668,"answer_id":76823847,"question_id":76820498,"body_markdown":"**TL;DR** [Set download listener][1] on the `WebView` and use the [`DownloadManager`][2] to download the file to the **external Downloads directory**.\r\n\r\n## Downloading:\r\n\r\n1. **Parse the URL** string to [`Uri`][3] object.\r\n2. Extract the last part of the path that is probably the **file name**. It is also a good idea to check if the file **has an extension** by checking if it contains a dot in its name, if it doesn&#39;t you can use [`MimeTypeMap`][4] to get extension based on the [`mimeType`][5].\r\n3. Construct a [`Request`][6] object and set the destination to the external **Downloads directory**. Also set the [`User-Agent`][7] to maintain consistency with requests sent by `WebView` and make **notification** show when the **download completes** so the user knows it&#39;s done. \r\n4. Get [`DownloadManager`][2] system service and **start the download**.\r\n\r\n```java\r\nWebView webView = findViewById(R.id.web_view);\r\nwebView.loadUrl(&quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;);\r\n\r\nwebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\r\n    Uri uri = Uri.parse(url);\r\n\r\n    String[] path = uri.getPath().split(&quot;/&quot;);\r\n    String fileName = path[path.length - 1];\r\n    if(!fileName.contains(&quot;.&quot;)) {\r\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(mimeType);\r\n    }\r\n\r\n    DownloadManager.Request request = new DownloadManager.Request(uri);\r\n\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\r\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\r\n    request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\r\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    downloadManager.enqueue(request);\r\n});\r\n```\r\n\r\n## Permission handling:\r\n\r\nThis will work, but only on Android devices running **API level 29+** because on any older version, your app is required to have the [`WRITE_EXTERNAL_STORAGE`][8] permission to write to the **shared Downlaods directory** even if it&#39;s through the `DownloadManager`. If you want to support older versions (you really should) follow these steps:\r\n\r\n1. Declare the permission in your [`Manifest`][9], remember, it&#39;s **only needed for API level &lt;=28**.\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot; /&gt;\r\n```\r\n\r\n2. Add `uri, userAgent and mimeType` as global variables in the Activity so they can be used in other functions\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Uri downloadUri;\r\n    private String downloadUserAgent;\r\n    private String downloadMimeType;\r\n\r\n    ...\r\n```\r\n\r\n3. Abstract the download logic to a separate function so it can be reused and make it use global variables from the previous step.\r\n```java\r\nprivate void download() {\r\n    String[] path = downloadUri.getPath().split(&quot;/&quot;);\r\n    String fileName = path[path.length - 1];\r\n    if(!fileName.contains(&quot;.&quot;)) {\r\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(downloadMimeType);\r\n    }\r\n\r\n    DownloadManager.Request request = new DownloadManager.Request(downloadUri);\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\r\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n    request.addRequestHeader(&quot;User-Agent&quot;, downloadUserAgent);\r\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    downloadManager.enqueue(request);\r\n}\r\n```\r\n\r\n4. In `setDownloadListener` assign values to global variables. Check the device API level because, as described earlier, we only need the permission for API level **lower than 29** and [permissions][10] are only granted **at runtime** on API level greater than 22 (before they were granted at the installation). If permission is already granted simply start the download otherwise **request it**.\r\n```java\r\nwebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\r\n    downloadUri = Uri.parse(url);\r\n    downloadUserAgent = userAgent;\r\n    downloadMimeType = mimeType;\r\n\r\n    // Permission is only required for API level &lt;= 28 &amp;&amp; Permissions are granted at runtime only for API level 23 and above\r\n    if(Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n    boolean hasWriteExternalStoragePermission = ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\r\n        if(!hasWriteExternalStoragePermission) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\r\n        } else {\r\n            download();\r\n        }\r\n    } else {\r\n        download();\r\n    }\r\n});\r\n```\r\n\r\n5. Handle the permission request result by overriding the [`onRequestPermissionsResult`][11] function and first checking if the `request code` is **0**, this is to ensure permission result is referencing to the `permission request` we created earlier (we&#39;ve set *0* as the request code there), in the same statement we also check that there is an actual result to check. After that, we check if the first (and in our case the only) permission has become **granted**, if it has we again **start the download**, but if it&#39;s not, then we have some more work to do. If the user has **denied** it, we check if the [`shouldShowRequestPermissionRationale`][12] returns false, this can be confusing, but what we&#39;ve essentially done is we&#39;ve checked if the user has **permanently declined** the permission, if they had, we show them a little dialog telling them it is **required for the file download** and directing them to the **settings** where they can **enable it**. P.S. You can suppress `newAPI` since it&#39;ll never be call on the &quot;old API level&quot; because of the if check we&#39;ve implemented in step 4 that.\r\n```java\r\n@SuppressLint(&quot;NewApi&quot;)\r\n@Override\r\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    if(requestCode == 0 &amp;&amp; grantResults.length &gt; 0) {\r\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            download();\r\n        } else if (!shouldShowRequestPermissionRationale(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n            new AlertDialog.Builder(this)\r\n                    .setMessage(&quot;You permanently declined the storage permission witch is required to download this file. If you want to download it go to the settings and allow the storage permission.&quot;)\r\n                    .setPositiveButton(&quot;Settings&quot;, (DialogInterface p0, int p1) -&gt; {\r\n                        Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n                        Uri intentUri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\r\n                        intent.setData(intentUri);\r\n                        startActivity(intent);\r\n                    })\r\n                    .setNegativeButton(&quot;Cancel&quot;, (DialogInterface p0, int p1) -&gt; {})\r\n                    .show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Cookies:\r\n\r\nI know this is a long answer already, but I feel a need to tell you just one more thing and that is what to do if your file requires **authentication to access** and how you can pass **cookies** from the `WebView` to the `DownloadManager`.\r\n\r\nTo get cookies you can use the [`CookieManager`][13]. It will return string formatted the way you can put it directly into a [cookie header][14]. You need to be careful thou, because the `CookieManager` return **`null`** if there is no cookies or in the case of a **bug** (described in the code comment).\r\n```java\r\nprivate void download() {\r\n    String[] path = downloadUri.getPath().split(&quot;/&quot;);\r\n    String fileName = path[path.length - 1];\r\n    if(!fileName.contains(&quot;.&quot;)) {\r\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(downloadMimeType);\r\n    }\r\n\r\n    String cookies = CookieManager.getInstance().getCookie(downloadUri.toString());\r\n    // There is a bug in certain versions of WebView related to same-site cookies not being returned by the CookieManager\r\n    // so if you know you will only be downloading files behind authentication you should here probably display a dialog saying the file cannot be downloaded and request the user to update there WebView\r\n    /*if(cookies == null) {\r\n        new AlertDialog.Builder(this)\r\n                .setMessage(&quot;The file cannot be downloaded, try updating your WebView.&quot;)\r\n                .setPositiveButton(&quot;Okay&quot;, (DialogInterface p0, int p1) -&gt; {})\r\n                .show();\r\n        return;\r\n    }*/\r\n\r\n    DownloadManager.Request request = new DownloadManager.Request(downloadUri);\r\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\r\n    if(cookies != null) { request.addRequestHeader(&quot;cookie&quot;, cookies); }\r\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n    request.addRequestHeader(&quot;User-Agent&quot;, downloadUserAgent);\r\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\r\n    downloadManager.enqueue(request);\r\n}\r\n```\r\n\r\nIf you want to take a look at a **full working implementation** of this I&#39;ve created a [git repository][15].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebView#setDownloadListener(android.webkit.DownloadListener)\r\n  [2]: https://developer.android.com/reference/android/app/DownloadManager\r\n  [3]: https://developer.android.com/reference/android/net/Uri\r\n  [4]: https://developer.android.com/reference/android/webkit/MimeTypeMap\r\n  [5]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types\r\n  [6]: https://developer.android.com/reference/android/app/DownloadManager.Request\r\n  [7]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent\r\n  [8]: https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE\r\n  [9]: https://developer.android.com/guide/topics/manifest/manifest-intro\r\n  [10]: https://developer.android.com/training/permissions/requesting\r\n  [11]: https://developer.android.com/reference/androidx/core/app/ActivityCompat.OnRequestPermissionsResultCallback\r\n  [12]: https://developer.android.com/reference/androidx/core/app/ActivityCompat#shouldShowRequestPermissionRationale(android.app.Activity,java.lang.String)\r\n  [13]: https://developer.android.com/reference/android/webkit/CookieManager\r\n  [14]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cookie\r\n  [15]: https://github.com/pisoj/webview-download","title":"Download file inside WebView from android 13","body":"<p><strong>TL;DR</strong> <a href=\"https://developer.android.com/reference/android/webkit/WebView#setDownloadListener(android.webkit.DownloadListener)\" rel=\"nofollow noreferrer\">Set download listener</a> on the <code>WebView</code> and use the <a href=\"https://developer.android.com/reference/android/app/DownloadManager\" rel=\"nofollow noreferrer\"><code>DownloadManager</code></a> to download the file to the <strong>external Downloads directory</strong>.</p>\n<h2>Downloading:</h2>\n<ol>\n<li><strong>Parse the URL</strong> string to <a href=\"https://developer.android.com/reference/android/net/Uri\" rel=\"nofollow noreferrer\"><code>Uri</code></a> object.</li>\n<li>Extract the last part of the path that is probably the <strong>file name</strong>. It is also a good idea to check if the file <strong>has an extension</strong> by checking if it contains a dot in its name, if it doesn't you can use <a href=\"https://developer.android.com/reference/android/webkit/MimeTypeMap\" rel=\"nofollow noreferrer\"><code>MimeTypeMap</code></a> to get extension based on the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types\" rel=\"nofollow noreferrer\"><code>mimeType</code></a>.</li>\n<li>Construct a <a href=\"https://developer.android.com/reference/android/app/DownloadManager.Request\" rel=\"nofollow noreferrer\"><code>Request</code></a> object and set the destination to the external <strong>Downloads directory</strong>. Also set the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent\" rel=\"nofollow noreferrer\"><code>User-Agent</code></a> to maintain consistency with requests sent by <code>WebView</code> and make <strong>notification</strong> show when the <strong>download completes</strong> so the user knows it's done.</li>\n<li>Get <a href=\"https://developer.android.com/reference/android/app/DownloadManager\" rel=\"nofollow noreferrer\"><code>DownloadManager</code></a> system service and <strong>start the download</strong>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>WebView webView = findViewById(R.id.web_view);\nwebView.loadUrl(&quot;https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf&quot;);\n\nwebView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\n    Uri uri = Uri.parse(url);\n\n    String[] path = uri.getPath().split(&quot;/&quot;);\n    String fileName = path[path.length - 1];\n    if(!fileName.contains(&quot;.&quot;)) {\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(mimeType);\n    }\n\n    DownloadManager.Request request = new DownloadManager.Request(uri);\n\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)\n    request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n    downloadManager.enqueue(request);\n});\n</code></pre>\n<h2>Permission handling:</h2>\n<p>This will work, but only on Android devices running <strong>API level 29+</strong> because on any older version, your app is required to have the <a href=\"https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE\" rel=\"nofollow noreferrer\"><code>WRITE_EXTERNAL_STORAGE</code></a> permission to write to the <strong>shared Downlaods directory</strong> even if it's through the <code>DownloadManager</code>. If you want to support older versions (you really should) follow these steps:</p>\n<ol>\n<li>Declare the permission in your <a href=\"https://developer.android.com/guide/topics/manifest/manifest-intro\" rel=\"nofollow noreferrer\"><code>Manifest</code></a>, remember, it's <strong>only needed for API level &lt;=28</strong>.</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot; /&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Add <code>uri, userAgent and mimeType</code> as global variables in the Activity so they can be used in other functions</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n    private Uri downloadUri;\n    private String downloadUserAgent;\n    private String downloadMimeType;\n\n    ...\n</code></pre>\n<ol start=\"3\">\n<li>Abstract the download logic to a separate function so it can be reused and make it use global variables from the previous step.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private void download() {\n    String[] path = downloadUri.getPath().split(&quot;/&quot;);\n    String fileName = path[path.length - 1];\n    if(!fileName.contains(&quot;.&quot;)) {\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(downloadMimeType);\n    }\n\n    DownloadManager.Request request = new DownloadManager.Request(downloadUri);\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n    request.addRequestHeader(&quot;User-Agent&quot;, downloadUserAgent);\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n    downloadManager.enqueue(request);\n}\n</code></pre>\n<ol start=\"4\">\n<li>In <code>setDownloadListener</code> assign values to global variables. Check the device API level because, as described earlier, we only need the permission for API level <strong>lower than 29</strong> and <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">permissions</a> are only granted <strong>at runtime</strong> on API level greater than 22 (before they were granted at the installation). If permission is already granted simply start the download otherwise <strong>request it</strong>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>webView.setDownloadListener((url, userAgent, contentDisposition, mimeType, contentLength) -&gt; {\n    downloadUri = Uri.parse(url);\n    downloadUserAgent = userAgent;\n    downloadMimeType = mimeType;\n\n    // Permission is only required for API level &lt;= 28 &amp;&amp; Permissions are granted at runtime only for API level 23 and above\n    if(Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.P &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    boolean hasWriteExternalStoragePermission = ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\n        if(!hasWriteExternalStoragePermission) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 0);\n        } else {\n            download();\n        }\n    } else {\n        download();\n    }\n});\n</code></pre>\n<ol start=\"5\">\n<li>Handle the permission request result by overriding the <a href=\"https://developer.android.com/reference/androidx/core/app/ActivityCompat.OnRequestPermissionsResultCallback\" rel=\"nofollow noreferrer\"><code>onRequestPermissionsResult</code></a> function and first checking if the <code>request code</code> is <strong>0</strong>, this is to ensure permission result is referencing to the <code>permission request</code> we created earlier (we've set <em>0</em> as the request code there), in the same statement we also check that there is an actual result to check. After that, we check if the first (and in our case the only) permission has become <strong>granted</strong>, if it has we again <strong>start the download</strong>, but if it's not, then we have some more work to do. If the user has <strong>denied</strong> it, we check if the <a href=\"https://developer.android.com/reference/androidx/core/app/ActivityCompat#shouldShowRequestPermissionRationale(android.app.Activity,java.lang.String)\" rel=\"nofollow noreferrer\"><code>shouldShowRequestPermissionRationale</code></a> returns false, this can be confusing, but what we've essentially done is we've checked if the user has <strong>permanently declined</strong> the permission, if they had, we show them a little dialog telling them it is <strong>required for the file download</strong> and directing them to the <strong>settings</strong> where they can <strong>enable it</strong>. P.S. You can suppress <code>newAPI</code> since it'll never be call on the &quot;old API level&quot; because of the if check we've implemented in step 4 that.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressLint(&quot;NewApi&quot;)\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if(requestCode == 0 &amp;&amp; grantResults.length &gt; 0) {\n        if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            download();\n        } else if (!shouldShowRequestPermissionRationale(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n            new AlertDialog.Builder(this)\n                    .setMessage(&quot;You permanently declined the storage permission witch is required to download this file. If you want to download it go to the settings and allow the storage permission.&quot;)\n                    .setPositiveButton(&quot;Settings&quot;, (DialogInterface p0, int p1) -&gt; {\n                        Intent intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n                        Uri intentUri = Uri.fromParts(&quot;package&quot;, getPackageName(), null);\n                        intent.setData(intentUri);\n                        startActivity(intent);\n                    })\n                    .setNegativeButton(&quot;Cancel&quot;, (DialogInterface p0, int p1) -&gt; {})\n                    .show();\n        }\n    }\n}\n</code></pre>\n<h2>Cookies:</h2>\n<p>I know this is a long answer already, but I feel a need to tell you just one more thing and that is what to do if your file requires <strong>authentication to access</strong> and how you can pass <strong>cookies</strong> from the <code>WebView</code> to the <code>DownloadManager</code>.</p>\n<p>To get cookies you can use the <a href=\"https://developer.android.com/reference/android/webkit/CookieManager\" rel=\"nofollow noreferrer\"><code>CookieManager</code></a>. It will return string formatted the way you can put it directly into a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cookie\" rel=\"nofollow noreferrer\">cookie header</a>. You need to be careful thou, because the <code>CookieManager</code> return <strong><code>null</code></strong> if there is no cookies or in the case of a <strong>bug</strong> (described in the code comment).</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void download() {\n    String[] path = downloadUri.getPath().split(&quot;/&quot;);\n    String fileName = path[path.length - 1];\n    if(!fileName.contains(&quot;.&quot;)) {\n        fileName += MimeTypeMap.getSingleton().getExtensionFromMimeType(downloadMimeType);\n    }\n\n    String cookies = CookieManager.getInstance().getCookie(downloadUri.toString());\n    // There is a bug in certain versions of WebView related to same-site cookies not being returned by the CookieManager\n    // so if you know you will only be downloading files behind authentication you should here probably display a dialog saying the file cannot be downloaded and request the user to update there WebView\n    /*if(cookies == null) {\n        new AlertDialog.Builder(this)\n                .setMessage(&quot;The file cannot be downloaded, try updating your WebView.&quot;)\n                .setPositiveButton(&quot;Okay&quot;, (DialogInterface p0, int p1) -&gt; {})\n                .show();\n        return;\n    }*/\n\n    DownloadManager.Request request = new DownloadManager.Request(downloadUri);\n    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, fileName);\n    if(cookies != null) { request.addRequestHeader(&quot;cookie&quot;, cookies); }\n    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n    request.addRequestHeader(&quot;User-Agent&quot;, downloadUserAgent);\n    DownloadManager downloadManager = (DownloadManager) getSystemService(DOWNLOAD_SERVICE);\n    downloadManager.enqueue(request);\n}\n</code></pre>\n<p>If you want to take a look at a <strong>full working implementation</strong> of this I've created a <a href=\"https://github.com/pisoj/webview-download\" rel=\"nofollow noreferrer\">git repository</a>.</p>\n"}],"owner":{"account_id":18462745,"reputation":11,"user_id":13449797,"display_name":"user13449797"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691014668,"creation_date":1690983711,"question_id":76820498,"body_markdown":"I have a webview in my Android (13) Application. When user goes to webview and click a link to download a file nothing happens. \r\n\r\n        downloadButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String link = linkEditText.getText().toString().trim();\r\n                if (!link.isEmpty()) {\r\n                    urlWrapper.iframeUrl = &quot;https://convert2mp3s.com/api/widgetv2?url=&quot; + link;\r\n                    webView.loadDataWithBaseURL(null, &quot;&lt;iframe id=\\&quot;widgetApi\\&quot; src=\\&quot;&quot; + urlWrapper.iframeUrl + &quot;\\&quot; width=\\&quot;100%\\&quot; height=\\&quot;100%\\&quot; allowtransparency=\\&quot;true\\&quot; scrolling=\\&quot;no\\&quot; style=\\&quot;border:none\\&quot;&gt;&lt;/iframe&gt;&quot;, &quot;text/html&quot;, &quot;utf-8&quot;, null);\r\n                }\r\n            }\r\n\r\nadd extra permission:\r\n WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO, READ_MEDIA_IMAGES, ACCESS_NETWORK_STATE, ACCESS_WIFI_STATE, WRITE_EXTERNAL_STORAGE,DOWNLOAD_WITHOUT_NOTIFICATION, ACCESS_DOWNLOAD_MANAGER\r\n\r\n\r\nand still nothing works.\r\n \r\nHow download files from webview in android 13?\r\nif switch the same to interface browser it works.\r\n\r\n","title":"Download file inside WebView from android 13","body":"<p>I have a webview in my Android (13) Application. When user goes to webview and click a link to download a file nothing happens.</p>\n<pre><code>    downloadButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String link = linkEditText.getText().toString().trim();\n            if (!link.isEmpty()) {\n                urlWrapper.iframeUrl = &quot;https://convert2mp3s.com/api/widgetv2?url=&quot; + link;\n                webView.loadDataWithBaseURL(null, &quot;&lt;iframe id=\\&quot;widgetApi\\&quot; src=\\&quot;&quot; + urlWrapper.iframeUrl + &quot;\\&quot; width=\\&quot;100%\\&quot; height=\\&quot;100%\\&quot; allowtransparency=\\&quot;true\\&quot; scrolling=\\&quot;no\\&quot; style=\\&quot;border:none\\&quot;&gt;&lt;/iframe&gt;&quot;, &quot;text/html&quot;, &quot;utf-8&quot;, null);\n            }\n        }\n</code></pre>\n<p>add extra permission:\nWRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO, READ_MEDIA_IMAGES, ACCESS_NETWORK_STATE, ACCESS_WIFI_STATE, WRITE_EXTERNAL_STORAGE,DOWNLOAD_WITHOUT_NOTIFICATION, ACCESS_DOWNLOAD_MANAGER</p>\n<p>and still nothing works.</p>\n<p>How download files from webview in android 13?\nif switch the same to interface browser it works.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","geckodriver"],"answers":[{"comments":[{"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"score":0,"creation_date":1690982633,"post_id":76820330,"comment_id":135428690,"body_markdown":"The problem is i dont have geckodriver in my system but its still showing as &quot;located&quot;. isnt that what the error means? that it is present but invalid?","body":"The problem is i dont have geckodriver in my system but its still showing as &quot;located&quot;. isnt that what the error means? that it is present but invalid?"},{"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"score":0,"creation_date":1690982812,"post_id":76820330,"comment_id":135428741,"body_markdown":"Ok, i do have geckodriver but it is not in the same drive. it is in the selenium_projects directory in another hard disk. not sure if this matters but yeah","body":"Ok, i do have geckodriver but it is not in the same drive. it is in the selenium_projects directory in another hard disk. not sure if this matters but yeah"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1690982843,"post_id":76820330,"comment_id":135428750,"body_markdown":"Which version of selenium do you use?","body":"Which version of selenium do you use?"},{"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"score":0,"creation_date":1690982959,"post_id":76820330,"comment_id":135428783,"body_markdown":"4.11.0 the newest version","body":"4.11.0 the newest version"},{"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"score":0,"creation_date":1690983201,"post_id":76820330,"comment_id":135428849,"body_markdown":"So i deleted the other places where geckodriver was present.\nAlso removed System.setProperty(). now getting this:\n\nException in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: Unable to obtain: Capabilities {acceptInsecureCerts: true, browserName: firefox, moz:debuggerAddress: true, moz:firefoxOptions: {}}, error Failed to run command: [C:\\Users\\hp\\AppData\\Local\\Temp\\selenium-manager814107484931005083599645405677712\\selenium-manager.exe, --browser, firefox, --output, json]\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;","body":"So i deleted the other places where geckodriver was present. Also removed System.setProperty(). now getting this:  Exception in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: Unable to obtain: Capabilities {acceptInsecureCerts: true, browserName: firefox, moz:debuggerAddress: true, moz:firefoxOptions: {}}, error Failed to run command: [C:\\Users\\hp\\AppData\\Local\\Temp\\selenium-manager814107484931&zwnj;&#8203;00508359964540567771&zwnj;&#8203;2\\selenium-manager.e&zwnj;&#8203;xe, --browser, firefox, --output, json] Build info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;"},{"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"score":0,"creation_date":1690983779,"post_id":76820330,"comment_id":135429004,"body_markdown":"I figured it out, thanks to your answer! After removing the System.setProperty(), i kept getting windows defender alerts whenever i ran the program.\n\nSo i disabled windows defender, now firefox works with selenium, Thanks again","body":"I figured it out, thanks to your answer! After removing the System.setProperty(), i kept getting windows defender alerts whenever i ran the program.  So i disabled windows defender, now firefox works with selenium, Thanks again"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1690984720,"post_id":76820330,"comment_id":135429269,"body_markdown":"The original issue in your question `NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid` has nothing to do with the issue you are facing now (related to Windows Defender). Your original issue has resolved and you are asking for solution for the second issue. This is not how it works in SO. My suggestion, ask a new question detailing the exact issue, with relevant code trails and error trace, this way your question reaches wider community. Good luck.","body":"The original issue in your question <code>NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid</code> has nothing to do with the issue you are facing now (related to Windows Defender). Your original issue has resolved and you are asking for solution for the second issue. This is not how it works in SO. My suggestion, ask a new question detailing the exact issue, with relevant code trails and error trace, this way your question reaches wider community. Good luck."}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690983991,"creation_date":1690982558,"answer_id":76820330,"question_id":76820262,"body_markdown":"You need to provide full path of the `geckodriver.exe`, not just the driver file name.\r\n\r\nSomething like:\r\n````\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\fullpath\\\\..\\\\geckodriver.exe&quot;);\r\n````\r\n\r\nIf you are using Selenium `v4.6.0` or higher version, you don&#39;t need to set the path of driver. You can get rid of the line `System.setProperty`. Code can be just:\r\n````\r\nWebDriver driver = new FirefoxDriver();\r\ndriver.manage().deleteAllCookies();\r\ndriver.manage().window().maximize();\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n````\r\n\r\nRefer this answer - https://stackoverflow.com/a/76463081/7598774","title":"Exception in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid","body":"<p>You need to provide full path of the <code>geckodriver.exe</code>, not just the driver file name.</p>\n<p>Something like:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\fullpath\\\\..\\\\geckodriver.exe&quot;);\n</code></pre>\n<p>If you are using Selenium <code>v4.6.0</code> or higher version, you don't need to set the path of driver. You can get rid of the line <code>System.setProperty</code>. Code can be just:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.manage().deleteAllCookies();\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n<p>Refer this answer - <a href=\"https://stackoverflow.com/a/76463081/7598774\">https://stackoverflow.com/a/76463081/7598774</a></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691014637,"creation_date":1691014637,"answer_id":76823843,"question_id":76820262,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid\r\n\r\n...implies that [Selenium](https://stackoverflow.com/a/54482491/7429447) was unable to locate the required [GeckoDriver](https://stackoverflow.com/a/45331403/7429447) in the _path_ mentioned by the key _`webdriver.gecko.driver`_ through the [`System.setProperty()`](https://stackoverflow.com/a/60061951/7429447) line, as the expectation is the key _`webdriver.gecko.driver`_ would contain the full path to the [GeckoDriver](https://stackoverflow.com/a/47095220/7429447) binary as follows:\r\n\r\n\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\full\\\\path\\\\to\\\\geckodriver.exe&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nUsing Selenium Manager\r\n--------\r\nAs you are using [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.11.0**_ you can remove the following line of code:\r\n\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\r\n    \r\nas [Selenium Manager](https://www.selenium.dev/blog/2022/introducing-selenium-manager/) which is now fully integrated with _Selenium_ will download the matching [GeckoDriver](https://stackoverflow.com/a/45510453/7429447) silently in the background and execute the test. \r\n\r\nYour effective code block will be:\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    driver.manage().deleteAllCookies();\r\n    driver.manage().window().maximize();\r\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n    driver.get(&quot;https://www.google.com/&quot;);","title":"Exception in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid","body":"<p>This error message...</p>\n<pre><code>org.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid\n</code></pre>\n<p>...implies that <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> was unable to locate the required <a href=\"https://stackoverflow.com/a/45331403/7429447\">GeckoDriver</a> in the <em>path</em> mentioned by the key <em><code>webdriver.gecko.driver</code></em> through the <a href=\"https://stackoverflow.com/a/60061951/7429447\"><code>System.setProperty()</code></a> line, as the expectation is the key <em><code>webdriver.gecko.driver</code></em> would contain the full path to the <a href=\"https://stackoverflow.com/a/47095220/7429447\">GeckoDriver</a> binary as follows:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;C:\\\\full\\\\path\\\\to\\\\geckodriver.exe&quot;);\n</code></pre>\n<hr />\n<h2>Using Selenium Manager</h2>\n<p>As you are using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.11.0</strong></em> you can remove the following line of code:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\n</code></pre>\n<p>as <a href=\"https://www.selenium.dev/blog/2022/introducing-selenium-manager/\" rel=\"nofollow noreferrer\">Selenium Manager</a> which is now fully integrated with <em>Selenium</em> will download the matching <a href=\"https://stackoverflow.com/a/45510453/7429447\">GeckoDriver</a> silently in the background and execute the test.</p>\n<p>Your effective code block will be:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\ndriver.manage().deleteAllCookies();\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\ndriver.get(&quot;https://www.google.com/&quot;);\n</code></pre>\n"}],"owner":{"account_id":8429044,"reputation":9,"user_id":6325401,"display_name":"Yuichi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1691014637,"creation_date":1690982006,"question_id":76820262,"body_markdown":"I get this exception but i dont have geckodriver present in project window. \r\n\r\nhow to resolve? help appreciated thanks.\r\nmy code:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\r\nWebDriver driver = new FirefoxDriver();\r\ndriver.manage().deleteAllCookies();\r\ndriver.manage().window().maximize();\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n```\r\n\r\n\r\nI had geckodriver.exe before, it wasn&#39;t working so tried removing it. now getting this new error.","title":"Exception in thread &quot;main&quot; org.openqa.selenium.remote.NoSuchDriverException: geckodriver located at geckodriver.exe, but invalid","body":"<p>I get this exception but i dont have geckodriver present in project window.</p>\n<p>how to resolve? help appreciated thanks.\nmy code:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;geckodriver.exe&quot;);\nWebDriver driver = new FirefoxDriver();\ndriver.manage().deleteAllCookies();\ndriver.manage().window().maximize();\ndriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n</code></pre>\n<p>I had geckodriver.exe before, it wasn't working so tried removing it. now getting this new error.</p>\n"},{"tags":["java","maven","spring-data-jpa","backend"],"comments":[{"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"score":0,"creation_date":1691013762,"post_id":76823766,"comment_id":135435075,"body_markdown":"Try @EnableJpaRepositories(&quot;your repo package&quot;) in the main class.","body":"Try @EnableJpaRepositories(&quot;your repo package&quot;) in the main class."},{"owner":{"account_id":27221815,"reputation":3,"user_id":20750941,"display_name":"Daniel Lopes Cardoso"},"score":0,"creation_date":1691014243,"post_id":76823766,"comment_id":135435133,"body_markdown":"It gave me two new Exceptions:\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer \n\nand\n\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1cf4f579]","body":"It gave me two new Exceptions: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlace&zwnj;&#8203;holderAutoConfigurat&zwnj;&#8203;ion.propertySourcesP&zwnj;&#8203;laceholderConfigurer   and  java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1cf4f579]"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691043123,"post_id":76823766,"comment_id":135437836,"body_markdown":"remove `@Repository` is not relevant because you already have extended from `JpaRepository` also in service class declare a field of `equipeRepository` as `private final`, remove `@ComponentScan` from your main class, Spring Boot automatically scan your packages and create beans if structure of your project meet the requirement(main class is placed in a root package above other packages.).","body":"remove <code>@Repository</code> is not relevant because you already have extended from <code>JpaRepository</code> also in service class declare a field of <code>equipeRepository</code> as <code>private final</code>, remove <code>@ComponentScan</code> from your main class, Spring Boot automatically scan your packages and create beans if structure of your project meet the requirement(main class is placed in a root package above other packages.)."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691067591,"post_id":76823766,"comment_id":135443422,"body_markdown":"and also remove from your maven `javax.persistence` dependency, because you are using spring boot 3.1.2 and it work on `jakarta.persistence` and `javax.validation` the same think on it.","body":"and also remove from your maven <code>javax.persistence</code> dependency, because you are using spring boot 3.1.2 and it work on <code>jakarta.persistence</code> and <code>javax.validation</code> the same think on it."}],"owner":{"account_id":27221815,"reputation":3,"user_id":20750941,"display_name":"Daniel Lopes Cardoso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691013397,"creation_date":1691013397,"question_id":76823766,"body_markdown":"`If I try to use a custom interface that extends JpaRepository the application can&#39;t run. Here&#39;s the error:\r\n\r\n`\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.services.EquipeServices required a bean of type &#39;com.repositories.EquipeRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.repositories.EquipeRepository&#39; in your configuration.`\r\n\r\n\r\n\r\nWhen the repository is called in the &#39;EquipeServices.java&#39; class, everything stops working and the application can&#39;t start. \r\n\r\nHere&#39;s the complete **LOG ERROR**:\r\n\r\n`Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;listaTimes&#39; defined in file [/home/daniel/demo/target/classes/com/controllers/ListaTimes.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;equipeServices&#39; defined in file [/home/daniel/demo/target/classes/com/services/EquipeServices.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;com.repositories.EquipeRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}`\r\n\r\nHere&#39;s the code:\r\n\r\n**DemoApplication.java**\r\n```lang-java\r\npackage com;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages={&quot;com.controllers&quot;, &quot;com.services&quot;, &quot;com.repositories&quot;, &quot;com.entities&quot;})\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n**EquipeRepository.java**\r\n```lang-java\r\npackage com.repositories;\r\n\r\nimport com.entities.Equipe;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.UUID;\r\n\r\n@Repository\r\npublic interface EquipeRepository extends JpaRepository&lt;Equipe, UUID&gt;{\r\n\r\n    \r\n}\r\n\r\n```\r\n**EquipeServies.java**\r\n\r\n\r\n```lang-java\r\npackage com.services;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.repositories.EquipeRepository;\r\nimport com.entities.Equipe;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class EquipeServices {\r\n    \r\n    EquipeRepository equipeRepository;\r\n\r\n    public EquipeServices(EquipeRepository repository){\r\n        this.equipeRepository = repository;\r\n    }\r\n\r\n    @Transactional\r\n    public List&lt;Equipe&gt; getAllUsers(){\r\n        return equipeRepository.findAll();\r\n    }\r\n}\r\n```\r\n**pom.xml**\r\n```lang-xml\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.teste&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-bom&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2023.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;`\r\n```\r\n\r\n`","title":"Parameter 0 of constructor in com.services required a bean of type &#39;com.repositories.repository&#39; that could not be found","body":"<p>`If I try to use a custom interface that extends JpaRepository the application can't run. Here's the error:</p>\n<p>`</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.services.EquipeServices required a bean of type 'com.repositories.EquipeRepository' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.repositories.EquipeRepository' in your configuration.`</p>\n<p>When the repository is called in the 'EquipeServices.java' class, everything stops working and the application can't start.</p>\n<p>Here's the complete <strong>LOG ERROR</strong>:</p>\n<p><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'listaTimes' defined in file [/home/daniel/demo/target/classes/com/controllers/ListaTimes.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'equipeServices' defined in file [/home/daniel/demo/target/classes/com/services/EquipeServices.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.repositories.EquipeRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</code></p>\n<p>Here's the code:</p>\n<p><strong>DemoApplication.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages={&quot;com.controllers&quot;, &quot;com.services&quot;, &quot;com.repositories&quot;, &quot;com.entities&quot;})\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n        \n    }\n}\n</code></pre>\n<p><strong>EquipeRepository.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.repositories;\n\nimport com.entities.Equipe;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.ArrayList;\nimport java.util.UUID;\n\n@Repository\npublic interface EquipeRepository extends JpaRepository&lt;Equipe, UUID&gt;{\n\n    \n}\n\n</code></pre>\n<p><strong>EquipeServies.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.services;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.repositories.EquipeRepository;\nimport com.entities.Equipe;\nimport java.util.List;\n\n@Service\npublic class EquipeServices {\n    \n    EquipeRepository equipeRepository;\n\n    public EquipeServices(EquipeRepository repository){\n        this.equipeRepository = repository;\n    }\n\n    @Transactional\n    public List&lt;Equipe&gt; getAllUsers(){\n        return equipeRepository.findAll();\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.teste&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-bom&lt;/artifactId&gt;\n            &lt;version&gt;2023.0.2&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;`\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-6"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1687336044,"post_id":76521243,"comment_id":134920962,"body_markdown":"Your security rules don&#39;t make sense. `.requestMatchers(&quot;/**&quot;).permitAll()` allows all access whereas `.anyRequest().authenticated()` needs authentication. The last one is now useless as the first one will always match. Another thing is you need a `FilterRegistrationBean` to prevent the `AuthFilter` be registered as a default filter (which executes before Spring Security).","body":"Your security rules don&#39;t make sense. <code>.requestMatchers(&quot;&#47;**&quot;).permitAll()</code> allows all access whereas <code>.anyRequest().authenticated()</code> needs authentication. The last one is now useless as the first one will always match. Another thing is you need a <code>FilterRegistrationBean</code> to prevent the <code>AuthFilter</code> be registered as a default filter (which executes before Spring Security)."},{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1687336350,"post_id":76521243,"comment_id":134921044,"body_markdown":"Yep, sorry about the security rules because I cannot public it. The main logic is actually in AuthFilter of which I cannot public it also. Normally it should be called but it didn&#39;t since I migrated the version. So I&#39;m seeking for help if I missed any configuration?","body":"Yep, sorry about the security rules because I cannot public it. The main logic is actually in AuthFilter of which I cannot public it also. Normally it should be called but it didn&#39;t since I migrated the version. So I&#39;m seeking for help if I missed any configuration?"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1687338447,"post_id":76521243,"comment_id":134921521,"body_markdown":"enable spring security trace logs, and read them it should say exactly what filters it is passing. But without more information or a working running example this is impossible to answer.","body":"enable spring security trace logs, and read them it should say exactly what filters it is passing. But without more information or a working running example this is impossible to answer."}],"answers":[{"comments":[{"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"score":0,"creation_date":1687354809,"post_id":76522361,"comment_id":134925143,"body_markdown":"Thank you for the suggestion but it&#39;s not the problem","body":"Thank you for the suggestion but it&#39;s not the problem"}],"tags":[],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687343832,"creation_date":1687343832,"answer_id":76522361,"question_id":76521243,"body_markdown":"The problem might be related to your custom bean name `filterChain` being the same as some other coming from the context. Could you try renaming it?\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class WebSecurityConfig {\r\n\r\n    final private AuthFilter authFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain myCustomFilterChain(HttpSecurity http) throws Exception {\r\n     \r\n```\r\n","title":"Spring Security 6 ignore security configuration from dependency","body":"<p>The problem might be related to your custom bean name <code>filterChain</code> being the same as some other coming from the context. Could you try renaming it?</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@Slf4j\npublic class WebSecurityConfig {\n\n    final private AuthFilter authFilter;\n\n    @Bean\n    public SecurityFilterChain myCustomFilterChain(HttpSecurity http) throws Exception {\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14715869,"reputation":1,"user_id":10627854,"display_name":"Kavitha Hawaldar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691013244,"creation_date":1691013244,"answer_id":76823753,"question_id":76521243,"body_markdown":"Can you please add ```WebSecurityConfig``` in ```org.springframework.boot.autoconfigure.AutoConfiguration.imports``` file which is defined under the resources directory shown in image.\r\n\r\n [directory structure][1]\r\n       \r\n                               \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dNsWd.png","title":"Spring Security 6 ignore security configuration from dependency","body":"<p>Can you please add <code>WebSecurityConfig</code> in <code>org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> file which is defined under the resources directory shown in image.</p>\n<p><a href=\"https://i.stack.imgur.com/dNsWd.png\" rel=\"nofollow noreferrer\">directory structure</a></p>\n"}],"owner":{"account_id":18612735,"reputation":53,"user_id":13564698,"display_name":"infD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691013244,"creation_date":1687335017,"question_id":76521243,"body_markdown":"I am migrating from Spring Security 5.7.x to 6.1.0. After fixing all the ```javax -&gt; jakarta``` and remove ```WebSecurityConfigurerAdapter``` and added the security configuration from the dependency. And now it seems like my main project is ignoring the security configuration from dependency.\r\n\r\nThe security configuration from the dependency.\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class WebSecurityConfig {\r\n\r\n    final private AuthFilter authFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .formLogin(AbstractHttpConfigurer::disable)\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement(sessionManager -&gt; sessionManager.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .exceptionHandling(exceptionHandling -&gt; exceptionHandling.authenticationEntryPoint(\r\n                        (request, response, ex) -&gt; {\r\n                    log.error(&quot;Unauthorized request - {}&quot;, ex.getMessage());\r\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, ex.getMessage());\r\n                }))\r\n                .authorizeHttpRequests(\r\n                        authorizeHttpRequest -&gt; authorizeHttpRequest\r\n                                .requestMatchers(&quot;/**&quot;).permitAll()\r\n                                .anyRequest().authenticated())\r\n                .addFilterBefore(authFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .httpBasic(Customizer.withDefaults())\r\n                .build();\r\n    }\r\n\r\n```\r\n\r\nAuthFilter \r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class AuthFilter extends OncePerRequestFilter {}\r\n```\r\nI&#39;m expecting the AuthFilter will be called first but it didn&#39;t even run to it. Seems like it&#39;s ignored.\r\n\r\nAnyone has any ideas which lead to this? Let me know which part of the configuration you wanted to take a look.","title":"Spring Security 6 ignore security configuration from dependency","body":"<p>I am migrating from Spring Security 5.7.x to 6.1.0. After fixing all the <code>javax -&gt; jakarta</code> and remove <code>WebSecurityConfigurerAdapter</code> and added the security configuration from the dependency. And now it seems like my main project is ignoring the security configuration from dependency.</p>\n<p>The security configuration from the dependency.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@Slf4j\npublic class WebSecurityConfig {\n\n    final private AuthFilter authFilter;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .formLogin(AbstractHttpConfigurer::disable)\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(sessionManager -&gt; sessionManager.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .exceptionHandling(exceptionHandling -&gt; exceptionHandling.authenticationEntryPoint(\n                        (request, response, ex) -&gt; {\n                    log.error(&quot;Unauthorized request - {}&quot;, ex.getMessage());\n                    response.sendError(HttpServletResponse.SC_UNAUTHORIZED, ex.getMessage());\n                }))\n                .authorizeHttpRequests(\n                        authorizeHttpRequest -&gt; authorizeHttpRequest\n                                .requestMatchers(&quot;/**&quot;).permitAll()\n                                .anyRequest().authenticated())\n                .addFilterBefore(authFilter, UsernamePasswordAuthenticationFilter.class)\n                .httpBasic(Customizer.withDefaults())\n                .build();\n    }\n\n</code></pre>\n<p>AuthFilter</p>\n<pre><code>@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class AuthFilter extends OncePerRequestFilter {}\n</code></pre>\n<p>I'm expecting the AuthFilter will be called first but it didn't even run to it. Seems like it's ignored.</p>\n<p>Anyone has any ideas which lead to this? Let me know which part of the configuration you wanted to take a look.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":0,"creation_date":1579193745,"post_id":59774375,"comment_id":105692621,"body_markdown":"would i need to do a hashmap for all the values n do an oncomplete listener to the one hashed version? sorry ive not coded in a year n cant remember lol","body":"would i need to do a hashmap for all the values n do an oncomplete listener to the one hashed version? sorry ive not coded in a year n cant remember lol"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1579193854,"post_id":59774375,"comment_id":105692689,"body_markdown":"Please check the duplicate to see how you can solve this by using a `Map`. So you need to put a Map the exact data that you want to add/update and at the end you&#39;ll use a single complete listener.","body":"Please check the duplicate to see how you can solve this by using a <code>Map</code>. So you need to put a Map the exact data that you want to add/update and at the end you&#39;ll use a single complete listener."},{"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"score":1,"creation_date":1579193963,"post_id":59774375,"comment_id":105692771,"body_markdown":"yeah i think i remebered just as you marked it as a duplicate haha cheers @AlexMamo","body":"yeah i think i remebered just as you marked it as a duplicate haha cheers @AlexMamo"}],"owner":{"account_id":10891088,"reputation":876,"user_id":8006847,"accept_rate":81,"display_name":"markharrop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1579193757,"answer_count":0,"score":0,"last_activity_date":1691012766,"creation_date":1579193424,"question_id":59774375,"body_markdown":"I currently have lots of string values I upload to Firebase database. I want to add an oncomplete listener to ensure they are uploaded before the user continues. How could I add one listener instead of multiple?\r\n\r\nThis is the code I&#39;m using for the oncomplete listener:\r\n\r\n     reference.child(booking).child(&quot;Date&quot;).setValue(date, new Firebase.CompletionListener() {\r\n    @Override\r\n    public void onComplete(FirebaseError firebaseError, Firebase firebase) {\r\n        if (firebaseError != null) {\r\n            System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\r\n        } else {\r\n            System.out.println(&quot;Data saved successfully.&quot;);\r\n        }\r\n    }\r\n\r\n     reference.child(booking).child(&quot;Time&quot;).setValue(time, new Firebase.CompletionListener() {\r\n    @Override\r\n    public void onComplete(FirebaseError firebaseError, Firebase firebase) {\r\n        if (firebaseError != null) {\r\n            System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\r\n        } else {\r\n            System.out.println(&quot;Data saved successfully.&quot;);\r\n        }\r\n    }\r\n","title":"Completion listener for multiple setvalues","body":"<p>I currently have lots of string values I upload to Firebase database. I want to add an oncomplete listener to ensure they are uploaded before the user continues. How could I add one listener instead of multiple?</p>\n<p>This is the code I'm using for the oncomplete listener:</p>\n<pre><code> reference.child(booking).child(&quot;Date&quot;).setValue(date, new Firebase.CompletionListener() {\n@Override\npublic void onComplete(FirebaseError firebaseError, Firebase firebase) {\n    if (firebaseError != null) {\n        System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\n    } else {\n        System.out.println(&quot;Data saved successfully.&quot;);\n    }\n}\n\n reference.child(booking).child(&quot;Time&quot;).setValue(time, new Firebase.CompletionListener() {\n@Override\npublic void onComplete(FirebaseError firebaseError, Firebase firebase) {\n    if (firebaseError != null) {\n        System.out.println(&quot;Data could not be saved. &quot; + firebaseError.getMessage());\n    } else {\n        System.out.println(&quot;Data saved successfully.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","gwt","legacy"],"owner":{"account_id":22490598,"reputation":1,"user_id":16688378,"display_name":"BluePret8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691012408,"creation_date":1691005170,"question_id":76823028,"body_markdown":"*context: Java; GWT; Maven;\r\n\r\nI have a DTO class that was always implementing an interface called OriginalI and OriginalI is extending IsSerializable. There is NO more code in OriginalI interface.\r\nDTO class is on a module and OriginalI interface is on another. There is no problem with doing clean-install both modules\r\n\r\nI wanted to make some changes to the code so I put DTO class implementing SecondI interface which in turn is extending OriginalI interface. When I do this I CANNOT make clean-install, there is a error which only says that the maven command failed with status code 1. There is no more error message and I even tried with flags -X and -e.\r\n\r\n\r\nWhat could be happening? How can I solve or find/understand the root of the problem?\r\n\r\nThank you.\r\n\r\nI tried putting the flags -X and -e in mvn command to see more detailed error but it says the same (failed with status 1).\r\n\r\nI tried making DTO class NOT implementing nothing at all and it does not work.\r\nI tried making DTO class implementing SecondI which in turn is extending IsSerializable and it does not work.\r\n\r\nUpdate: ok, i cannot even make the DTO class extend another class in any type. This is a restriction hidden somewhere and i&#39;m having trouble finfing it. I saw we use AbstractMojo and goals for some maven plugins but couldn&#39;t pinpoint the exact code that&#39;s causing this. ","title":"Module only generating artifact when DTO implements a certain interface","body":"<p>*context: Java; GWT; Maven;</p>\n<p>I have a DTO class that was always implementing an interface called OriginalI and OriginalI is extending IsSerializable. There is NO more code in OriginalI interface.\nDTO class is on a module and OriginalI interface is on another. There is no problem with doing clean-install both modules</p>\n<p>I wanted to make some changes to the code so I put DTO class implementing SecondI interface which in turn is extending OriginalI interface. When I do this I CANNOT make clean-install, there is a error which only says that the maven command failed with status code 1. There is no more error message and I even tried with flags -X and -e.</p>\n<p>What could be happening? How can I solve or find/understand the root of the problem?</p>\n<p>Thank you.</p>\n<p>I tried putting the flags -X and -e in mvn command to see more detailed error but it says the same (failed with status 1).</p>\n<p>I tried making DTO class NOT implementing nothing at all and it does not work.\nI tried making DTO class implementing SecondI which in turn is extending IsSerializable and it does not work.</p>\n<p>Update: ok, i cannot even make the DTO class extend another class in any type. This is a restriction hidden somewhere and i'm having trouble finfing it. I saw we use AbstractMojo and goals for some maven plugins but couldn't pinpoint the exact code that's causing this.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1468839480,"post_id":38434834,"comment_id":64275325,"body_markdown":"Have you checked this SO -http://stackoverflow.com/questions/21410317/using-gzip-compression-with-spring-boot-mvc-javaconfig-with-restful","body":"Have you checked this SO -<a href=\"http://stackoverflow.com/questions/21410317/using-gzip-compression-with-spring-boot-mvc-javaconfig-with-restful\" title=\"using gzip compression with spring boot mvc javaconfig with restful\">stackoverflow.com/questions/21410317/&hellip;</a>"},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1468862281,"post_id":38434834,"comment_id":64290545,"body_markdown":"@aksappy yes i did. I based my solution on answer #2 from that link.","body":"@aksappy yes i did. I based my solution on answer #2 from that link."},{"owner":{"account_id":3128021,"reputation":19974,"user_id":2646526,"display_name":"heenenee"},"score":0,"creation_date":1471153416,"post_id":38434834,"comment_id":65234377,"body_markdown":"Your request headers have `keep-alive`, which indicate HTTP 1.0, but the referenced solution uses `AbstractHttp11Protocol `.  Maybe you need to be sending HTTP 1.1 requests?","body":"Your request headers have <code>keep-alive</code>, which indicate HTTP 1.0, but the referenced solution uses <code>AbstractHttp11Protocol </code>.  Maybe you need to be sending HTTP 1.1 requests?"},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471365220,"post_id":38434834,"comment_id":65312854,"body_markdown":"What server are you using ? Tomcat ? Jetty ? ....","body":"What server are you using ? Tomcat ? Jetty ? ...."},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471418365,"post_id":38434834,"comment_id":65332774,"body_markdown":"@benjamin.d  The code is deployed to AWS tomcat8","body":"@benjamin.d  The code is deployed to AWS tomcat8"},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471418432,"post_id":38434834,"comment_id":65332805,"body_markdown":"@heenenee The front end is written in Angular.js. Does it not send http 1.1 request? I&#39;m not familiar with frond end stuff...","body":"@heenenee The front end is written in Angular.js. Does it not send http 1.1 request? I&#39;m not familiar with frond end stuff..."},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471418684,"post_id":38434834,"comment_id":65332943,"body_markdown":"No, your browser will default to http 1.1 unless you have some strange configuration","body":"No, your browser will default to http 1.1 unless you have some strange configuration"},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471420030,"post_id":38434834,"comment_id":65333707,"body_markdown":"Could you try to add a custom tomcat customizer, like described https://github.com/spring-projects/spring-boot/issues/2031","body":"Could you try to add a custom tomcat customizer, like described <a href=\"https://github.com/spring-projects/spring-boot/issues/2031\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/2031</a>"},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471420204,"post_id":38434834,"comment_id":65333836,"body_markdown":"If you look at response headers from http://stackoverflow.com/ do you see the gzip compression enabled ?","body":"If you look at response headers from <a href=\"http://stackoverflow.com/\">stackoverflow.com</a> do you see the gzip compression enabled ?"},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471425118,"post_id":38434834,"comment_id":65336831,"body_markdown":"Are you sure you dont have *server.compression.min-response-size* set to something ridiculous somewhere?","body":"Are you sure you dont have <i>server.compression.min-response-size</i> set to something ridiculous somewhere?"},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471425928,"post_id":38434834,"comment_id":65337346,"body_markdown":"You can verify actual properties you get at runtime by debugging line 180 at o.s.b.a.w.ServerProperties","body":"You can verify actual properties you get at runtime by debugging line 180 at o.s.b.a.w.ServerProperties"},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471510511,"post_id":38434834,"comment_id":65378445,"body_markdown":"Since all properties are in place I can only suggest more debugging. You can go from *TomcatEmbeddedServletContainerFactory.customizeCompression* to *AbstractHttp11Protocol.configureProcessor* and end up at *AbstractHttp11Processor* around line 1458","body":"Since all properties are in place I can only suggest more debugging. You can go from <i>TomcatEmbeddedServletContainerFactory.customizeCompression</i> to <i>AbstractHttp11Protocol.configureProcessor</i> and end up at <i>AbstractHttp11Processor</i> around line 1458"},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471652156,"post_id":38434834,"comment_id":65448138,"body_markdown":"@chimmi It looks like request for static js files never reached `TomcatEmbeddedServletContainerFactory.customizeCompression`. Only dynamic api result (application/json) stopped there. But compression was skipped because somehow contentLength was determined to be zero. see my screen shot update. Why would requests to static files bypass the mentioned code and why would content-length be zero for application/json response I returned? I used ResponseEntity.ok(obj) to build the API response.","body":"@chimmi It looks like request for static js files never reached <code>TomcatEmbeddedServletContainerFactory.customizeCompression</code>. Only dynamic api result (application/json) stopped there. But compression was skipped because somehow contentLength was determined to be zero. see my screen shot update. Why would requests to static files bypass the mentioned code and why would content-length be zero for application/json response I returned? I used ResponseEntity.ok(obj) to build the API response."},{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471736090,"post_id":38434834,"comment_id":65468661,"body_markdown":"@chimmi your suggestions took me the furthest. I can&#39;t award you the 50 points because you didn&#39;t create an answer. Could you please create an answer instead of commenting on my question directly so that I can give you 50 points? Thanks.","body":"@chimmi your suggestions took me the furthest. I can&#39;t award you the 50 points because you didn&#39;t create an answer. Could you please create an answer instead of commenting on my question directly so that I can give you 50 points? Thanks."},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471847847,"post_id":38434834,"comment_id":65493500,"body_markdown":"I will not do that since what i said is not an answer in any way. Instead let&#39;s try some more to tackle this thing. I tried to figure out where this 0 comes from, and it looks like there are two possibilities. 1. *java.io.File#length*  returns 0 when path is invalid. 2. Maybe some implementations of *java.net.URLConnection#getContentLength* can return 0 sometimes (there are a lot of them and i dont know which one is used). Please take a look at what is going on at *o.s.c.i.AbstractFileResolvingResource#contentLength*","body":"I will not do that since what i said is not an answer in any way. Instead let&#39;s try some more to tackle this thing. I tried to figure out where this 0 comes from, and it looks like there are two possibilities. 1. <i>java.io.File#length</i>  returns 0 when path is invalid. 2. Maybe some implementations of <i>java.net.URLConnection#getContentLength</i> can return 0 sometimes (there are a lot of them and i dont know which one is used). Please take a look at what is going on at <i>o.s.c.i.AbstractFileResolvingResource#contentLength</i>"},{"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"score":0,"creation_date":1471849613,"post_id":38434834,"comment_id":65494378,"body_markdown":"Btw it is starting to feel like resources location misconfiguration.","body":"Btw it is starting to feel like resources location misconfiguration."}],"answers":[{"comments":[{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1471418496,"post_id":38983902,"comment_id":65332848,"body_markdown":"I guess he doesn&#39;t have a server.xml since he uses spring boot","body":"I guess he doesn&#39;t have a server.xml since he uses spring boot"},{"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"score":0,"creation_date":1484336160,"post_id":38983902,"comment_id":70484141,"body_markdown":"I am having the same issue... I deploy my Spring Boot REST application to AWS Elastic Beanstalk (Tomcat instance), so there is no server.xml. Even though I specify `Accept-Encoding: gzip, deflate`, I don&#39;t see a `Content-Encoding` in the response. How do I work around this?","body":"I am having the same issue... I deploy my Spring Boot REST application to AWS Elastic Beanstalk (Tomcat instance), so there is no server.xml. Even though I specify <code>Accept-Encoding: gzip, deflate</code>, I don&#39;t see a <code>Content-Encoding</code> in the response. How do I work around this?"},{"owner":{"account_id":1246795,"reputation":421,"user_id":1208060,"accept_rate":100,"display_name":"vinicius gati"},"score":0,"creation_date":1611169881,"post_id":38983902,"comment_id":116367778,"body_markdown":"my solution was Accept-Encoding on the request header Thanks","body":"my solution was Accept-Encoding on the request header Thanks"}],"tags":[],"owner":{"account_id":7182597,"reputation":327,"user_id":5485919,"display_name":"Patryk Dobrzyński"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471379297,"creation_date":1471379297,"answer_id":38983902,"question_id":38434834,"body_markdown":"If you use non-embedded Tomcat you should add this to your server.xml:\r\n\r\n    compression=&quot;on&quot; \r\n    compressionMinSize=&quot;2048&quot; \r\n    compressableMimeType=&quot;text/html,text/xml,application/javascript&quot;\r\n\r\n[More tomcat 8 config variables][1]\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/config/http.html#Standard_Implementation","title":"Spring boot response compression not working","body":"<p>If you use non-embedded Tomcat you should add this to your server.xml:</p>\n\n<pre><code>compression=\"on\" \ncompressionMinSize=\"2048\" \ncompressableMimeType=\"text/html,text/xml,application/javascript\"\n</code></pre>\n\n<p><a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/http.html#Standard_Implementation\" rel=\"nofollow\">More tomcat 8 config variables</a></p>\n"},{"comments":[{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471495405,"post_id":38993750,"comment_id":65371897,"body_markdown":"I tried the break point approach @chimmi suggested and it shows that all properties are read by spring boot container (I&#39;ve updated my original post with the screenshot) but they are ignored somehow...","body":"I tried the break point approach @chimmi suggested and it shows that all properties are read by spring boot container (I&#39;ve updated my original post with the screenshot) but they are ignored somehow..."}],"tags":[],"owner":{"account_id":7182597,"reputation":327,"user_id":5485919,"display_name":"Patryk Dobrzyński"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1471430100,"creation_date":1471428735,"answer_id":38993750,"question_id":38434834,"body_markdown":"Maybe the problem is with YAML configuration.\r\nIf you use ‘Starters’ SnakeYAML will be automatically provided via `spring-boot-starter`. If you don&#39;t - you must use properties convention in application.properties.\r\n[Using YAML instead of Properties][1]\r\n\r\n**EDIT:**\r\nTry with this in your yml file:\r\n\r\n    server:\r\n          compression:\r\n            enabled: true\r\n            mime-types: text/html,text/xml,text/plain,text/css,application/javascript,application/json\r\n            min-response-size: 1024\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-external-config-yaml","title":"Spring boot response compression not working","body":"<p>Maybe the problem is with YAML configuration.\nIf you use ‘Starters’ SnakeYAML will be automatically provided via <code>spring-boot-starter</code>. If you don't - you must use properties convention in application.properties.\n<a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-external-config-yaml\" rel=\"noreferrer\">Using YAML instead of Properties</a></p>\n\n<p><strong>EDIT:</strong>\nTry with this in your yml file:</p>\n\n<pre><code>server:\n      compression:\n        enabled: true\n        mime-types: text/html,text/xml,text/plain,text/css,application/javascript,application/json\n        min-response-size: 1024\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"score":0,"creation_date":1471649095,"post_id":39026340,"comment_id":65447503,"body_markdown":"tried chrom, firefox, safari. all same behavior, no content compression. :(","body":"tried chrom, firefox, safari. all same behavior, no content compression. :("}],"tags":[],"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471549407,"creation_date":1471549407,"answer_id":39026340,"question_id":38434834,"body_markdown":"Did you try with different browsers? That could be because of antivirus which is unzipping the file as mentioned in the SO post https://stackoverflow.com/questions/33563312/spring-boot-http-response-compression-doesnt-work-for-some-user-agents ","title":"Spring boot response compression not working","body":"<p>Did you try with different browsers? That could be because of antivirus which is unzipping the file as mentioned in the SO post <a href=\"https://stackoverflow.com/questions/33563312/spring-boot-http-response-compression-doesnt-work-for-some-user-agents\">Spring boot http response compression doesn&#39;t work for some User-Agents</a> </p>\n"},{"comments":[{"owner":{"account_id":113024,"reputation":4516,"user_id":297907,"accept_rate":56,"display_name":"StackOverFlow"},"score":0,"creation_date":1593430579,"post_id":39027711,"comment_id":110769452,"body_markdown":"why javax.servlet.servlet-api need to exclude ? if we exclude then What  will be package for Filter class ?","body":"why javax.servlet.servlet-api need to exclude ? if we exclude then What  will be package for Filter class ?"},{"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"score":2,"creation_date":1593467667,"post_id":39027711,"comment_id":110787238,"body_markdown":"Spring already has a servlet library included, that&#39;s why you exclude this one.  Also this post is 4 years old, I&#39;m sure compression in Spring Boot works properly now..","body":"Spring already has a servlet library included, that&#39;s why you exclude this one.  Also this post is 4 years old, I&#39;m sure compression in Spring Boot works properly now.."},{"owner":{"account_id":113024,"reputation":4516,"user_id":297907,"accept_rate":56,"display_name":"StackOverFlow"},"score":0,"creation_date":1593491338,"post_id":39027711,"comment_id":110792409,"body_markdown":"Ohh, Got it. Thanks. How we can provide configuration property to compressing filter? like change min response size,  mime type etc.. in ziplet readme mentioned config property but not mentioned example i.e how to add/configure","body":"Ohh, Got it. Thanks. How we can provide configuration property to compressing filter? like change min response size,  mime type etc.. in ziplet readme mentioned config property but not mentioned example i.e how to add/configure"},{"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"score":0,"creation_date":1593627810,"post_id":39027711,"comment_id":110850508,"body_markdown":"Look at this class for hints - you&#39;ll want to create a FilterConfig and pass it to the constructor of the CompressingServlet - https://github.com/ziplet/ziplet/blob/master/src/main/java/com/github/ziplet/filter/compression/CompressingFilterContext.java","body":"Look at this class for hints - you&#39;ll want to create a FilterConfig and pass it to the constructor of the CompressingServlet - <a href=\"https://github.com/ziplet/ziplet/blob/master/src/main/java/com/github/ziplet/filter/compression/CompressingFilterContext.java\" rel=\"nofollow noreferrer\">github.com/ziplet/ziplet/blob/master/src/main/java/com/githu&zwnj;&#8203;b/&hellip;</a>"},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1631788845,"post_id":39027711,"comment_id":122319672,"body_markdown":"Note from the future: Spring Boot compression still fails even on modern versions, so you may want to take a serious look at ziplet.","body":"Note from the future: Spring Boot compression still fails even on modern versions, so you may want to take a serious look at ziplet."}],"tags":[],"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471555350,"creation_date":1471555350,"answer_id":39027711,"question_id":38434834,"body_markdown":"Never had much luck with the Spring Boot compression.  A simple solution could be to use a third party library like ziplet.\r\n\r\nAdd to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.ziplet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ziplet&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n        \t&lt;exclusion&gt;\r\n        \t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        \t&lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdd to your @Config class :\r\n\r\n\t@Bean\r\n\tpublic Filter compressingFilter() {\r\n\t    return new CompressingFilter();\r\n\t}","title":"Spring boot response compression not working","body":"<p>Never had much luck with the Spring Boot compression.  A simple solution could be to use a third party library like ziplet.</p>\n\n<p>Add to pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.ziplet&lt;/groupId&gt;\n    &lt;artifactId&gt;ziplet&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Add to your @Config class :</p>\n\n<pre><code>@Bean\npublic Filter compressingFilter() {\n    return new CompressingFilter();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10685747,"reputation":93,"user_id":7866352,"display_name":"s.a.hosseini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534752383,"creation_date":1534751931,"answer_id":51926368,"question_id":38434834,"body_markdown":"you have to enable ssl \r\nlike http2 mode, response compression (Content-Encoding) can work, when ssl mode is configured.\r\n[![Content-Encoding:gzip][1]][1]\r\n\r\nresponse compression\r\n----------\r\n\r\n  [1]: https://i.stack.imgur.com/D6CYi.png\r\n\r\napplication.yml\r\n\r\n \r\n\r\n    server:\r\n      compression:\r\n         enabled: true\r\n         mime-types: text/html,text/xml,text/plain,text/css, application/javascript, application/json\r\n         min-response-size: 1024\r\n      ssl:\r\n       enabled: true\r\n       key-store: keystore.p12\r\n       key-store-password: pass\r\n       keyStoreType: PKCS12\r\n       keyAlias: name\r\n       \r\n       \r\n    spring:\r\n      resources:   \r\n          chain:\r\n            gzipped: true\r\n\r\n","title":"Spring boot response compression not working","body":"<p>you have to enable ssl \nlike http2 mode, response compression (Content-Encoding) can work, when ssl mode is configured.\n<a href=\"https://i.stack.imgur.com/D6CYi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6CYi.png\" alt=\"Content-Encoding:gzip\"></a></p>\n\n<h2>response compression</h2>\n\n<p>application.yml</p>\n\n<pre><code>server:\n  compression:\n     enabled: true\n     mime-types: text/html,text/xml,text/plain,text/css, application/javascript, application/json\n     min-response-size: 1024\n  ssl:\n   enabled: true\n   key-store: keystore.p12\n   key-store-password: pass\n   keyStoreType: PKCS12\n   keyAlias: name\n\n\nspring:\n  resources:   \n      chain:\n        gzipped: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8625756,"reputation":405,"user_id":6459046,"display_name":"Thomas Mwania"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645692297,"creation_date":1645692297,"answer_id":71249257,"question_id":38434834,"body_markdown":"I was having the same issue on production. My configuration file is as follows:\r\n\r\n    server:\r\n        port: 8080\r\n        compression:\r\n            enabled: true\r\n            mime-types: text/html,text/xml,text/plain,text/css, application/javascript, application/json\r\n            min-response-size: 1024\r\nSince i was not using the Embedded tomcat, I had to enable compression on the Tomcat itself by editing the following section of the `server.xml` file:\r\n\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot; compression=&quot;on&quot;/&gt;\r\n\r\nMake sure that this section has the `compression=&quot;on&quot;` part and the issue should be resolved","title":"Spring boot response compression not working","body":"<p>I was having the same issue on production. My configuration file is as follows:</p>\n<pre><code>server:\n    port: 8080\n    compression:\n        enabled: true\n        mime-types: text/html,text/xml,text/plain,text/css, application/javascript, application/json\n        min-response-size: 1024\n</code></pre>\n<p>Since i was not using the Embedded tomcat, I had to enable compression on the Tomcat itself by editing the following section of the <code>server.xml</code> file:</p>\n<pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot; compression=&quot;on&quot;/&gt;\n</code></pre>\n<p>Make sure that this section has the <code>compression=&quot;on&quot;</code> part and the issue should be resolved</p>\n"},{"tags":[],"owner":{"account_id":4154011,"reputation":826,"user_id":6113718,"accept_rate":75,"display_name":"Michiel Haisma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648556787,"creation_date":1648556787,"answer_id":71662001,"question_id":38434834,"body_markdown":"When upgrading to Spring Boot 2.6 I had to add the following to my `application.yml` to allow static resources to be compressed:\r\n\r\n```\r\nspring:\r\n  web:\r\n    resources:\r\n      chain:\r\n        compressed: true\r\n```\r\n\r\nThe `server.compression` settings seem not to impact this.","title":"Spring boot response compression not working","body":"<p>When upgrading to Spring Boot 2.6 I had to add the following to my <code>application.yml</code> to allow static resources to be compressed:</p>\n<pre><code>spring:\n  web:\n    resources:\n      chain:\n        compressed: true\n</code></pre>\n<p>The <code>server.compression</code> settings seem not to impact this.</p>\n"},{"tags":[],"owner":{"account_id":146322,"reputation":392,"user_id":356700,"display_name":"johncurrier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691011101,"creation_date":1690996856,"answer_id":76822203,"question_id":38434834,"body_markdown":"I ran into the same issue and spent many hours stepping through Apache and Spring code around this. I finally tracked it down to `org.apache.coyote.CompressionConfig::useCompression()` and found something surprising. If you&#39;re generating ETags and they&#39;re strong (that is, they don&#39;t start with W/) then compression is disabled.\r\n\r\nI&#39;m using Spring&#39;s `ShallowEtagHeaderFilter`, which. by default, generates strong ETags. My fix was to change that via `setWriteWeakETag(true)`.","title":"Spring boot response compression not working","body":"<p>I ran into the same issue and spent many hours stepping through Apache and Spring code around this. I finally tracked it down to <code>org.apache.coyote.CompressionConfig::useCompression()</code> and found something surprising. If you're generating ETags and they're strong (that is, they don't start with W/) then compression is disabled.</p>\n<p>I'm using Spring's <code>ShallowEtagHeaderFilter</code>, which. by default, generates strong ETags. My fix was to change that via <code>setWriteWeakETag(true)</code>.</p>\n"}],"owner":{"account_id":6274744,"reputation":727,"user_id":4877745,"accept_rate":65,"display_name":"Quan Ding"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22674,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"answer_count":8,"score":28,"last_activity_date":1691011101,"creation_date":1468839064,"question_id":38434834,"body_markdown":"I have some javascript bundled file that is pretty big, ~1MB.\r\nI&#39;m trying to turn on response compression with the following application properties in my yml file:\r\n\r\n    server.compression.enabled: true\r\n    server.compression.mime-types: application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css\r\n\r\nBut it doesn&#39;t work. No compression is happening. \r\n\r\nRequest headers:\r\n\r\n    Connection: keep-alive\r\n    Pragma: no-cache\r\n    Cache-Control: no-cache\r\n    User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36\r\n    Accept: */*\r\n    Accept-Encoding: gzip, deflate, sdch, br\r\n\r\nResponse headers\r\n\r\n    Cache-Control:no-cache, no-store, max-age=0, must-revalidate\r\n    Connection:keep-alive\r\n    Content-Length:842821\r\n    Content-Type:application/javascript;charset=UTF-8\r\n\r\nThere&#39;s no content encoding header in the response.\r\n\r\nI&#39;m using spring boot version 1.3.5.RELEASE\r\n\r\nWhat am I missing?\r\n\r\n=== EDIT 4 ===\r\nI was planning to create a stand alone app to investigate further why content compression properties weren&#39;t working.\r\nBut all of sudden it started working and I haven&#39;t changed any thing configuration-wise, not POM file change, not application.yml file change. So I don&#39;t know what has changed that made it working...\r\n\r\n**===EDIT 3===**\r\nfollow @chimmi&#39;s suggestions further. I&#39;ve put break points in the suggested places. It looks like requests to static resources (js files) never stopped at those break points. Only rest API requests do. And for those request, the content-length was zero for some reason which causes the content compression to be skipped.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**===EDIT 2===**\r\nI&#39;ve put a break point at line 180 of o.s.b.a.w.ServerProperties thanks to @chimmi&#39;s suggestion and it shows that all the properties are set but somehow the server doesn&#39;t honor the setting... :(\r\n\r\n[![Printing the Compression object at o.s.b.a.w.ServerProperties line 180 ][2]][2]\r\n\r\n\r\n**===EDIT 1===**\r\n\r\nnot sure if it matters, but I&#39;m pasting my application main and configuration code here:\r\n\r\nApplication.java:\r\n\r\n    @SpringBootApplication\r\n    public class TuangouApplication extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tSpringApplication.run(TuangouApplication.class, args);\r\n    \t}\r\n    \r\n    \t// this is for WAR file deployment\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        \treturn application.sources(TuangouApplication.class);\r\n        }\r\n    \t\r\n        @Bean\r\n        public javax.validation.Validator localValidatorFactoryBean() {\r\n           return new LocalValidatorFactoryBean();\r\n        }\r\n    }\r\n\r\nConfiguration:\r\n\r\n    @Configuration\r\n    public class TuangouConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t// @formatter:off\t\r\n    \t\thttp.antMatcher(&quot;/**&quot;).authorizeRequests().antMatchers(&quot;/&quot;, &quot;/login**&quot;).permitAll()\r\n    \t\t\t.and().antMatcher(&quot;/**&quot;).authorizeRequests().antMatchers(&quot;/api/**&quot;).permitAll()\r\n    \t\t\t.and().exceptionHandling().authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(&quot;/&quot;))\r\n    \t\t\t.and().formLogin().loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error&quot;).permitAll()\r\n    \t\t\t.and().logout().logoutSuccessUrl(&quot;/&quot;).permitAll()\r\n    \t\t\t.and().csrf().csrfTokenRepository(csrfTokenRepository())\r\n    \t\t\t.and().addFilterAfter(csrfHeaderFilter(), CsrfFilter.class)\r\n    \t\t\t.headers().defaultsDisabled().cacheControl();\r\n    \t\t// @formatter:on\r\n    \t}\r\n    \r\n    \t@Order(Ordered.HIGHEST_PRECEDENCE)\r\n    \t@Configuration\r\n    \t@EnableGlobalMethodSecurity(prePostEnabled=true)\r\n    \tprotected static class AuthenticationSecurity extends GlobalAuthenticationConfigurerAdapter {\r\n    \t\t\r\n            @Override\r\n            public void init(AuthenticationManagerBuilder auth) throws Exception {\r\n              auth.userDetailsService(userDetailsService()).passwordEncoder(new BCryptPasswordEncoder());\r\n          \t}\r\n    \r\n            @Bean\r\n            public UserDetailsService userDetailsService() {\r\n                return new DatabaseUserServiceDetails();\r\n            }\r\n    \t}\r\n        \r\n    \tprivate Filter csrfHeaderFilter() {\r\n    \t\treturn new OncePerRequestFilter() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void doFilterInternal(HttpServletRequest request,\r\n    \t\t\t\t\tHttpServletResponse response, FilterChain filterChain)\r\n    \t\t\t\t\t\t\tthrows ServletException, IOException {\r\n    \t\t\t\tCsrfToken csrf = (CsrfToken) request\r\n    \t\t\t\t\t\t.getAttribute(CsrfToken.class.getName());\r\n    \t\t\t\tif (csrf != null) {\r\n    \t\t\t\t\tCookie cookie = WebUtils.getCookie(request, &quot;XSRF-TOKEN&quot;);\r\n    \t\t\t\t\tString token = csrf.getToken();\r\n    \t\t\t\t\tif (cookie == null\r\n    \t\t\t\t\t\t\t|| token != null &amp;&amp; !token.equals(cookie.getValue())) {\r\n    \t\t\t\t\t\tcookie = new Cookie(&quot;XSRF-TOKEN&quot;, token);\r\n    \t\t\t\t\t\tcookie.setPath(&quot;/&quot;);\r\n    \t\t\t\t\t\tresponse.addCookie(cookie);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tfilterChain.doFilter(request, response);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tprivate CsrfTokenRepository csrfTokenRepository() {\r\n    \t\tHttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\r\n    \t\trepository.setHeaderName(&quot;X-XSRF-TOKEN&quot;);\r\n    \t\treturn repository;\r\n    \t}\r\n    }\r\n\r\nResource server config:\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfiguration extends ResourceServerConfigurerAdapter{\r\n    \t\r\n    \t@Autowired\r\n    \tprivate TokenStore tokenStore;\r\n    \r\n    \t@Override\r\n    \tpublic void configure(ResourceServerSecurityConfigurer resources)\r\n    \t\t\tthrows Exception {\r\n    \t\tresources.tokenStore(tokenStore);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(HttpSecurity http) throws Exception {\r\n    \t\t// @formatter:off\r\n    \t\thttp.antMatcher(&quot;/**&quot;).authorizeRequests().antMatchers(&quot;/api/**&quot;).permitAll();\r\n    \t\t// @formatter:on\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7oBeh.png\r\n  [2]: http://i.stack.imgur.com/zRUZU.png","title":"Spring boot response compression not working","body":"<p>I have some javascript bundled file that is pretty big, ~1MB.\nI'm trying to turn on response compression with the following application properties in my yml file:</p>\n\n<pre><code>server.compression.enabled: true\nserver.compression.mime-types: application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css\n</code></pre>\n\n<p>But it doesn't work. No compression is happening. </p>\n\n<p>Request headers:</p>\n\n<pre><code>Connection: keep-alive\nPragma: no-cache\nCache-Control: no-cache\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36\nAccept: */*\nAccept-Encoding: gzip, deflate, sdch, br\n</code></pre>\n\n<p>Response headers</p>\n\n<pre><code>Cache-Control:no-cache, no-store, max-age=0, must-revalidate\nConnection:keep-alive\nContent-Length:842821\nContent-Type:application/javascript;charset=UTF-8\n</code></pre>\n\n<p>There's no content encoding header in the response.</p>\n\n<p>I'm using spring boot version 1.3.5.RELEASE</p>\n\n<p>What am I missing?</p>\n\n<p>=== EDIT 4 ===\nI was planning to create a stand alone app to investigate further why content compression properties weren't working.\nBut all of sudden it started working and I haven't changed any thing configuration-wise, not POM file change, not application.yml file change. So I don't know what has changed that made it working...</p>\n\n<p><strong>===EDIT 3===</strong>\nfollow @chimmi's suggestions further. I've put break points in the suggested places. It looks like requests to static resources (js files) never stopped at those break points. Only rest API requests do. And for those request, the content-length was zero for some reason which causes the content compression to be skipped.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7oBeh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7oBeh.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>===EDIT 2===</strong>\nI've put a break point at line 180 of o.s.b.a.w.ServerProperties thanks to @chimmi's suggestion and it shows that all the properties are set but somehow the server doesn't honor the setting... :(</p>\n\n<p><a href=\"https://i.stack.imgur.com/zRUZU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zRUZU.png\" alt=\"Printing the Compression object at o.s.b.a.w.ServerProperties line 180 \"></a></p>\n\n<p><strong>===EDIT 1===</strong></p>\n\n<p>not sure if it matters, but I'm pasting my application main and configuration code here:</p>\n\n<p>Application.java:</p>\n\n<pre><code>@SpringBootApplication\npublic class TuangouApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(TuangouApplication.class, args);\n    }\n\n    // this is for WAR file deployment\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(TuangouApplication.class);\n    }\n\n    @Bean\n    public javax.validation.Validator localValidatorFactoryBean() {\n       return new LocalValidatorFactoryBean();\n    }\n}\n</code></pre>\n\n<p>Configuration:</p>\n\n<pre><code>@Configuration\npublic class TuangouConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // @formatter:off   \n        http.antMatcher(\"/**\").authorizeRequests().antMatchers(\"/\", \"/login**\").permitAll()\n            .and().antMatcher(\"/**\").authorizeRequests().antMatchers(\"/api/**\").permitAll()\n            .and().exceptionHandling().authenticationEntryPoint(new LoginUrlAuthenticationEntryPoint(\"/\"))\n            .and().formLogin().loginPage(\"/login\").failureUrl(\"/login?error\").permitAll()\n            .and().logout().logoutSuccessUrl(\"/\").permitAll()\n            .and().csrf().csrfTokenRepository(csrfTokenRepository())\n            .and().addFilterAfter(csrfHeaderFilter(), CsrfFilter.class)\n            .headers().defaultsDisabled().cacheControl();\n        // @formatter:on\n    }\n\n    @Order(Ordered.HIGHEST_PRECEDENCE)\n    @Configuration\n    @EnableGlobalMethodSecurity(prePostEnabled=true)\n    protected static class AuthenticationSecurity extends GlobalAuthenticationConfigurerAdapter {\n\n        @Override\n        public void init(AuthenticationManagerBuilder auth) throws Exception {\n          auth.userDetailsService(userDetailsService()).passwordEncoder(new BCryptPasswordEncoder());\n        }\n\n        @Bean\n        public UserDetailsService userDetailsService() {\n            return new DatabaseUserServiceDetails();\n        }\n    }\n\n    private Filter csrfHeaderFilter() {\n        return new OncePerRequestFilter() {\n            @Override\n            protected void doFilterInternal(HttpServletRequest request,\n                    HttpServletResponse response, FilterChain filterChain)\n                            throws ServletException, IOException {\n                CsrfToken csrf = (CsrfToken) request\n                        .getAttribute(CsrfToken.class.getName());\n                if (csrf != null) {\n                    Cookie cookie = WebUtils.getCookie(request, \"XSRF-TOKEN\");\n                    String token = csrf.getToken();\n                    if (cookie == null\n                            || token != null &amp;&amp; !token.equals(cookie.getValue())) {\n                        cookie = new Cookie(\"XSRF-TOKEN\", token);\n                        cookie.setPath(\"/\");\n                        response.addCookie(cookie);\n                    }\n                }\n                filterChain.doFilter(request, response);\n            }\n        };\n    }\n\n    private CsrfTokenRepository csrfTokenRepository() {\n        HttpSessionCsrfTokenRepository repository = new HttpSessionCsrfTokenRepository();\n        repository.setHeaderName(\"X-XSRF-TOKEN\");\n        return repository;\n    }\n}\n</code></pre>\n\n<p>Resource server config:</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServerConfiguration extends ResourceServerConfigurerAdapter{\n\n    @Autowired\n    private TokenStore tokenStore;\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources)\n            throws Exception {\n        resources.tokenStore(tokenStore);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http.antMatcher(\"/**\").authorizeRequests().antMatchers(\"/api/**\").permitAll();\n        // @formatter:on\n    }\n}\n</code></pre>\n"},{"tags":["java","android","security","aes"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1691008806,"post_id":76823265,"comment_id":135434254,"body_markdown":"In general hard coded keys are bad, but it depends on what you do with the keys. AES can be used of deobfuscation of resources or you can use it to generate a MAC. So you should track where the key is used and what data is en- or decrypted with it.","body":"In general hard coded keys are bad, but it depends on what you do with the keys. AES can be used of deobfuscation of resources or you can use it to generate a MAC. So you should track where the key is used and what data is en- or decrypted with it."},{"owner":{"account_id":18307018,"reputation":117,"user_id":13948289,"display_name":"Not a Salmon Fish"},"score":0,"creation_date":1691009395,"post_id":76823265,"comment_id":135434365,"body_markdown":"@Robert please check now","body":"@Robert please check now"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691021061,"post_id":76823265,"comment_id":135435785,"body_markdown":"It certainly is now, because you leaked it. This is what keystores are for.","body":"It certainly is now, because you leaked it. This is what keystores are for."},{"owner":{"account_id":18307018,"reputation":117,"user_id":13948289,"display_name":"Not a Salmon Fish"},"score":0,"creation_date":1691046863,"post_id":76823265,"comment_id":135438653,"body_markdown":"@user207421 hımm, i confused now. According to the answer of Andreas Lundgren ,it is not. When ı read the java code, i think it is used in AES but not sure because of i am not a java expert.Moreover, it became me suspicious that why they used $111.111$ instead of using random key such as $A14#e%...$","body":"@user207421 hımm, i confused now. According to the answer of Andreas Lundgren ,it is not. When ı read the java code, i think it is used in AES but not sure because of i am not a java expert.Moreover, it became me suspicious that why they used $111.111$ instead of using random key such as $A14#e%...$"}],"answers":[{"comments":[{"owner":{"account_id":18307018,"reputation":117,"user_id":13948289,"display_name":"Not a Salmon Fish"},"score":1,"creation_date":1691009836,"post_id":76823430,"comment_id":135434462,"body_markdown":"hımm, when i look at the foregoing source code, i became suspicious. So, there is no vulnerability here","body":"hımm, when i look at the foregoing source code, i became suspicious. So, there is no vulnerability here"}],"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691011063,"creation_date":1691009475,"answer_id":76823430,"question_id":76823265,"body_markdown":"ASE (Advanced Encryption Standard) is a symmetric cipher, that is there is only one key and that is supposed to be secret. It&#39;s used both for encryption and decryption. A third party that obtains your key can thus decipher your messages. **For that reason, yes, it&#39;s a vulnerability if leaked.**\r\n\r\nThis should never be stored as code in any central cvs, only is dedicated secret storages. In practise though, **before you raise a red alert**, it could be that this specific key is used for some test environment or local development, and in reality causes no harm if leaked. It&#39;s not uncommon although still bad practise because of false positive that make searches like yours (or similar provided by github, gitlab, etc) hard to use and trust. ","title":"Is the following AES key a vulnerability?","body":"<p>ASE (Advanced Encryption Standard) is a symmetric cipher, that is there is only one key and that is supposed to be secret. It's used both for encryption and decryption. A third party that obtains your key can thus decipher your messages. <strong>For that reason, yes, it's a vulnerability if leaked.</strong></p>\n<p>This should never be stored as code in any central cvs, only is dedicated secret storages. In practise though, <strong>before you raise a red alert</strong>, it could be that this specific key is used for some test environment or local development, and in reality causes no harm if leaked. It's not uncommon although still bad practise because of false positive that make searches like yours (or similar provided by github, gitlab, etc) hard to use and trust.</p>\n"}],"owner":{"account_id":18307018,"reputation":117,"user_id":13948289,"display_name":"Not a Salmon Fish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691011063,"creation_date":1691007762,"question_id":76823265,"body_markdown":"I am searching the source code of an application. I wanted to check whether there is any hardcoded key inside in it,so I have searched for keyword. I found the followings:\r\n\r\n\r\n    package com.igen.configlib.constant;\r\n    public class Constant{\r\n        public static final String AES_KEY=&quot;1111111111111111&quot;;\r\n        public static final String AES_KEY_PRE=&quot;&quot;214028&quot;;\r\n        public static final String AES_VECTOR=&quot;1111111111111111&quot;;\r\n        ...\r\n        \r\n    }\r\n\r\n\r\nCan the foregoing information be seen as vulnerability such as hardcoded key vulnerability ,or it is something irrelevant  ? \r\n\r\nI am new in mobile and java, so can you explain what do they mean\r\n\r\nThey are used in:\r\n\r\n    .....\r\n\r\n    public static byte[] encrypt4CBC128ByDeviceSN(String str, String str2){\r\n        String formatKeyAndVector=formayKeyAndVector(str2);\r\n        return encrypt4CBC128(str, formatKeyandVector,formatKeyandVector)\r\n    }\r\n    public static byte[] encrypt4CBC128(String str){\r\n        return encrypt4CBC128(str,&quot;1111111111111111&quot;,&quot;1111111111111111&quot;)\r\n    }\r\n\r\n    ....\r\n\r\n     public static byte[] decrypt4CBC128ByDeviceSN(byte[] bArr, String str){\r\n        String formatKeyAndVector=formayKeyAndVector(str);\r\n        return decrypt4CBC128(str, formatKeyandVector,formatKeyandVector)\r\n    }\r\n    public static byte[] decrypt4CBC128(byte[] bArr){\r\n        return decrypt4CBC128(bArr,&quot;1111111111111111&quot;,&quot;1111111111111111&quot;)\r\n    }\r\n\r\n    ....","title":"Is the following AES key a vulnerability?","body":"<p>I am searching the source code of an application. I wanted to check whether there is any hardcoded key inside in it,so I have searched for keyword. I found the followings:</p>\n<pre><code>package com.igen.configlib.constant;\npublic class Constant{\n    public static final String AES_KEY=&quot;1111111111111111&quot;;\n    public static final String AES_KEY_PRE=&quot;&quot;214028&quot;;\n    public static final String AES_VECTOR=&quot;1111111111111111&quot;;\n    ...\n    \n}\n</code></pre>\n<p>Can the foregoing information be seen as vulnerability such as hardcoded key vulnerability ,or it is something irrelevant  ?</p>\n<p>I am new in mobile and java, so can you explain what do they mean</p>\n<p>They are used in:</p>\n<pre><code>.....\n\npublic static byte[] encrypt4CBC128ByDeviceSN(String str, String str2){\n    String formatKeyAndVector=formayKeyAndVector(str2);\n    return encrypt4CBC128(str, formatKeyandVector,formatKeyandVector)\n}\npublic static byte[] encrypt4CBC128(String str){\n    return encrypt4CBC128(str,&quot;1111111111111111&quot;,&quot;1111111111111111&quot;)\n}\n\n....\n\n public static byte[] decrypt4CBC128ByDeviceSN(byte[] bArr, String str){\n    String formatKeyAndVector=formayKeyAndVector(str);\n    return decrypt4CBC128(str, formatKeyandVector,formatKeyandVector)\n}\npublic static byte[] decrypt4CBC128(byte[] bArr){\n    return decrypt4CBC128(bArr,&quot;1111111111111111&quot;,&quot;1111111111111111&quot;)\n}\n\n....\n</code></pre>\n"},{"tags":["java","regex","imagej"],"comments":[{"owner":{"account_id":7820671,"reputation":1041,"user_id":6551213,"display_name":"Uberhumus"},"score":0,"creation_date":1691007189,"post_id":76823192,"comment_id":135433966,"body_markdown":"The example digits differ only in the &quot;1&quot; or &quot;0&quot; after the &quot;d&quot;. Is that how it is supposed to look like?","body":"The example digits differ only in the &quot;1&quot; or &quot;0&quot; after the &quot;d&quot;. Is that how it is supposed to look like?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691007328,"post_id":76823192,"comment_id":135433988,"body_markdown":"Can there be multiple zeroes or only one between the B and the &quot;well&quot; number?","body":"Can there be multiple zeroes or only one between the B and the &quot;well&quot; number?"},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691007353,"post_id":76823192,"comment_id":135433991,"body_markdown":"Yup, d0 and d1 are two different color channels of the same tissue sample, I want to stack the two together.","body":"Yup, d0 and d1 are two different color channels of the same tissue sample, I want to stack the two together."},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691007384,"post_id":76823192,"comment_id":135433998,"body_markdown":"@DavidConrad Only one zero.","body":"@DavidConrad Only one zero."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691007672,"post_id":76823192,"comment_id":135434056,"body_markdown":"In the case of &quot;B11f&quot; then the well number is 11? If this were a Java regex I would just add &quot;0?&quot; after the B, but it seems it is using a shell-style regular expression.","body":"In the case of &quot;B11f&quot; then the well number is 11? If this were a Java regex I would just add &quot;0?&quot; after the B, but it seems it is using a shell-style regular expression."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691007776,"post_id":76823192,"comment_id":135434075,"body_markdown":"The current filename only contains one regex syntax, the dot-character.  So, escape that character, and replace the _0_ in the _B01_ with a `\\d`.  The pattern would be, `aSMA neut_Plate_D_p00_0_B\\d1f00d1\\.TIF`.  Would this be a solution; it will match a `\\d` with any digit, 0 through 9.","body":"The current filename only contains one regex syntax, the dot-character.  So, escape that character, and replace the <i>0</i> in the <i>B01</i> with a <code>\\d</code>.  The pattern would be, <code>aSMA neut_Plate_D_p00_0_B\\d1f00d1\\.TIF</code>.  Would this be a solution; it will match a <code>\\d</code> with any digit, 0 through 9."},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691008003,"post_id":76823192,"comment_id":135434119,"body_markdown":"It would need to match all integers up through 12 at the moment. This is what would need to be recognized:\n01, 02, ..., 10, 11, 12","body":"It would need to match all integers up through 12 at the moment. This is what would need to be recognized: 01, 02, ..., 10, 11, 12"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691008018,"post_id":76823192,"comment_id":135434122,"body_markdown":"@Reilas That would match completely different well numbers, but also, look at the beginning of the filename. It starts with `*/`. This looks like a glob syntax for the shell, not a Java regex.","body":"@Reilas That would match completely different well numbers, but also, look at the beginning of the filename. It starts with <code>*&#47;</code>. This looks like a glob syntax for the shell, not a Java regex."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691008144,"post_id":76823192,"comment_id":135434152,"body_markdown":"What regex syntax does `open` take? Is that your method, or part of a library you&#39;re using?","body":"What regex syntax does <code>open</code> take? Is that your method, or part of a library you&#39;re using?"},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691008170,"post_id":76823192,"comment_id":135434159,"body_markdown":"Honestly not sure, it&#39;s part of the ImageJ Macro language.","body":"Honestly not sure, it&#39;s part of the ImageJ Macro language."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1691008787,"post_id":76823192,"comment_id":135434246,"body_markdown":"If it&#39;s what I&#39;m looking at, I wonder if it would make sense to call [`getName`](https://imagej.nih.gov/ij/developer/api/ij/ij/io/Opener.html#getName(java.lang.String)) on both `&quot;...B0&quot; + i + &quot;f...&quot;` and on `&quot;...B&quot; + i + &quot;f...&quot;` and use whichever one returns successfully? I&#39;m not sure.","body":"If it&#39;s what I&#39;m looking at, I wonder if it would make sense to call <a href=\"https://imagej.nih.gov/ij/developer/api/ij/ij/io/Opener.html#getName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getName</code></a> on both <code>&quot;...B0&quot; + i + &quot;f...&quot;</code> and on <code>&quot;...B&quot; + i + &quot;f...&quot;</code> and use whichever one returns successfully? I&#39;m not sure."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691010402,"post_id":76823192,"comment_id":135434576,"body_markdown":"It looks like the _ImageJ_ syntax includes a string.matches function.  I imagine you can use that to check the filename.","body":"It looks like the <i>ImageJ</i> syntax includes a string.matches function.  I imagine you can use that to check the filename."},{"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"score":0,"creation_date":1691010853,"post_id":76823192,"comment_id":135434653,"body_markdown":"I found a workaround using an if/else statement; basically, if ```i``` is below 10, the expression is ```aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF```, else it&#39;s ```aSMA_neut_Plate_D_p00_0_B&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF```","body":"I found a workaround using an if/else statement; basically, if <code>i</code> is below 10, the expression is <code>aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF</code>, else it&#39;s <code>aSMA_neut_Plate_D_p00_0_B&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF</code>"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691010920,"creation_date":1691010920,"answer_id":76823585,"question_id":76823192,"body_markdown":"I&#39;m not sure if it&#39;s understood the question right, even after all the comments I find it a bit confusing. \r\n\r\nMaybe you need something like this? Here I added a question mark to the 0 to make it optional. This would also match `011` but not `001`. But maybe that is OK, and 100 files is a maximum for you.\r\n`open(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0?&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF&quot;);`\r\n\r\nYou can also produce an exact string to match, using `String.format(&quot;%02d&quot;, i)`, looking like this:\r\n`open(String.format(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B%02df0%dd0.TIF&quot;, i, p));`\r\n","title":"Regex to recognize integers with 0 before them in Java","body":"<p>I'm not sure if it's understood the question right, even after all the comments I find it a bit confusing.</p>\n<p>Maybe you need something like this? Here I added a question mark to the 0 to make it optional. This would also match <code>011</code> but not <code>001</code>. But maybe that is OK, and 100 files is a maximum for you.\n<code>open(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0?&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF&quot;);</code></p>\n<p>You can also produce an exact string to match, using <code>String.format(&quot;%02d&quot;, i)</code>, looking like this:\n<code>open(String.format(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B%02df0%dd0.TIF&quot;, i, p));</code></p>\n"}],"owner":{"account_id":24864768,"reputation":93,"user_id":19650014,"display_name":"fgootkind"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691010920,"creation_date":1691006923,"question_id":76823192,"body_markdown":"I&#39;m working on a macro in ImageJ that will loop through a series of images with a standard format and merge them together as two different channels. I have the macro written, but I need it to be able to accept different formats of integers as part of the filenames. \r\n\r\nHere&#39;s the filename format.\r\n\r\nImage 1: aSMA neut_Plate_D_p00_0_B01f00d0.TIF\r\n\r\nImage 2: aSMA neut_Plate_D_p00_0_B01f00d1.TIF\r\n\r\nB01 is the ID for the &quot;well&quot; that the tissue corresponds to. I need a script that can accept &quot;aSMA neut_Plate_D_p00_0_B01f00d1.TIF&quot; and &quot;aSMA neut_Plate_D_p00_0_B11f00d1.TIF&quot; regardless of having the &quot;0&quot; in front of the digit.\r\n\r\nHere&#39;s the code so far. The directory setting is something I&#39;m still working on.\r\n```\r\n// Get directory of images\r\n//inDir = getDirectory(&quot;*\\aSMA neut.2022-12-05-22-40-09&quot;)\r\n\r\n// Set output directory for merged images\r\n//outDir = getDirectory(&quot;&quot;)\r\n\r\n// For loop to go through all images\r\n\r\nvar well=9;\r\nvar image=5;\r\n\r\nfor (i = 1; i &lt;= well; ++i) {\r\n\tfor (p = 0; p &lt;= image; ++p) {\r\n\t\topen(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF&quot;); // Will need to change i value to account for presence of 0 before single digits\r\n\t\timage1 = getTitle;\r\n\t\topen(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d1.TIF&quot;); // Will need to change i value to account for presence of 0 before single digits\r\n\t\timage2 = getTitle;\r\n\r\n\t\trun(&quot;Merge Channels...&quot;, &quot;c1=&quot; + image1 + &quot; c2=&quot; + image2 + &quot; create keep&quot;);\r\n\t\tsaveAs(&quot;tif&quot;, &quot;C:/Users/fgoot/Downloads/OneDrive_2023-07-24/aSMA neut.2022-12-05-22-40-09/merged/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d&quot; + &quot;_merged.tif&quot;);\r\n\r\n\t\trun(&quot;Close All&quot;);\r\n\t\r\n\t\tprint(image1);\r\n\t\tprint(image2);\r\n\t\tprint(i);\r\n\t}\r\n}\r\n```\r\n\r\nBasically, I need an &quot;01&quot; string to be recognized as a &quot;1&quot;.\r\n\r\nEdit: added a &quot;0&quot; after B in the filenames in the example. This is what works with values 1-9, but when it gets to 10 or more, there&#39;s no &quot;0&quot; after the B.","title":"Regex to recognize integers with 0 before them in Java","body":"<p>I'm working on a macro in ImageJ that will loop through a series of images with a standard format and merge them together as two different channels. I have the macro written, but I need it to be able to accept different formats of integers as part of the filenames.</p>\n<p>Here's the filename format.</p>\n<p>Image 1: aSMA neut_Plate_D_p00_0_B01f00d0.TIF</p>\n<p>Image 2: aSMA neut_Plate_D_p00_0_B01f00d1.TIF</p>\n<p>B01 is the ID for the &quot;well&quot; that the tissue corresponds to. I need a script that can accept &quot;aSMA neut_Plate_D_p00_0_B01f00d1.TIF&quot; and &quot;aSMA neut_Plate_D_p00_0_B11f00d1.TIF&quot; regardless of having the &quot;0&quot; in front of the digit.</p>\n<p>Here's the code so far. The directory setting is something I'm still working on.</p>\n<pre><code>// Get directory of images\n//inDir = getDirectory(&quot;*\\aSMA neut.2022-12-05-22-40-09&quot;)\n\n// Set output directory for merged images\n//outDir = getDirectory(&quot;&quot;)\n\n// For loop to go through all images\n\nvar well=9;\nvar image=5;\n\nfor (i = 1; i &lt;= well; ++i) {\n    for (p = 0; p &lt;= image; ++p) {\n        open(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d0.TIF&quot;); // Will need to change i value to account for presence of 0 before single digits\n        image1 = getTitle;\n        open(&quot;*/aSMA neut.2022-12-05-22-40-09/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d1.TIF&quot;); // Will need to change i value to account for presence of 0 before single digits\n        image2 = getTitle;\n\n        run(&quot;Merge Channels...&quot;, &quot;c1=&quot; + image1 + &quot; c2=&quot; + image2 + &quot; create keep&quot;);\n        saveAs(&quot;tif&quot;, &quot;C:/Users/fgoot/Downloads/OneDrive_2023-07-24/aSMA neut.2022-12-05-22-40-09/merged/aSMA_neut_Plate_D_p00_0_B0&quot; + i + &quot;f0&quot; + p + &quot;d&quot; + &quot;_merged.tif&quot;);\n\n        run(&quot;Close All&quot;);\n    \n        print(image1);\n        print(image2);\n        print(i);\n    }\n}\n</code></pre>\n<p>Basically, I need an &quot;01&quot; string to be recognized as a &quot;1&quot;.</p>\n<p>Edit: added a &quot;0&quot; after B in the filenames in the example. This is what works with values 1-9, but when it gets to 10 or more, there's no &quot;0&quot; after the B.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1691010190,"post_id":76823495,"comment_id":135434525,"body_markdown":"What exactly do you mean by &quot;dynamically change&quot;? You could have some common base-class for `Myclass1` and `Myclass2` - but that really depends on what you are intending to do","body":"What exactly do you mean by &quot;dynamically change&quot;? You could have some common base-class for <code>Myclass1</code> and <code>Myclass2</code> - but that really depends on what you are intending to do"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691010617,"creation_date":1691010617,"answer_id":76823551,"question_id":76823495,"body_markdown":"You could create a generic class. The name of the field would remain the same, though.\r\n\r\n```java\r\nclass MyClass&lt;T&gt; {\r\n    private String str1;\r\n    private String str2;\r\n    private T obj;\r\n    public MyClass(String str1, String str2, T obj) {\r\n        this.str1 = str1;\r\n        this.str2 = str2;\r\n        this.obj = obj;\r\n    }\r\n    // methods...\r\n}\r\n```\r\n\r\nExample usage:\r\n\r\n```java\r\nMyClass&lt;String&gt; c1 = new MyClass&lt;&gt;(&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;);\r\nMyClass&lt;Integer&gt; c2 = new MyClass&lt;&gt;(&quot;str1&quot;, &quot;str2&quot;, 1);\r\n```","title":"how to make the members in the class dynamic in java","body":"<p>You could create a generic class. The name of the field would remain the same, though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass&lt;T&gt; {\n    private String str1;\n    private String str2;\n    private T obj;\n    public MyClass(String str1, String str2, T obj) {\n        this.str1 = str1;\n        this.str2 = str2;\n        this.obj = obj;\n    }\n    // methods...\n}\n</code></pre>\n<p>Example usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyClass&lt;String&gt; c1 = new MyClass&lt;&gt;(&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;);\nMyClass&lt;Integer&gt; c2 = new MyClass&lt;&gt;(&quot;str1&quot;, &quot;str2&quot;, 1);\n</code></pre>\n"}],"owner":{"account_id":5260590,"reputation":210,"user_id":4202236,"display_name":"user4202236"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76823551,"answer_count":1,"score":0,"last_activity_date":1691010617,"creation_date":1691010071,"question_id":76823495,"body_markdown":"I have a class \r\n```\r\npublic class MyClass {\r\n    String str1;\r\n    String str2;\r\n    Myclass1 class1;\r\n}\r\n```\r\n\r\nnow, I want to have another class \r\n```\r\npublic class MyClass {\r\n    String str1;\r\n    String str2;\r\n    Myclass2 class2;\r\n}\r\n```\r\nNotice how both classes have only one member different. \r\nIs it possible in java that I just define one class for this and dynamically change the member when needed?  \r\n\r\n\r\n","title":"how to make the members in the class dynamic in java","body":"<p>I have a class</p>\n<pre><code>public class MyClass {\n    String str1;\n    String str2;\n    Myclass1 class1;\n}\n</code></pre>\n<p>now, I want to have another class</p>\n<pre><code>public class MyClass {\n    String str1;\n    String str2;\n    Myclass2 class2;\n}\n</code></pre>\n<p>Notice how both classes have only one member different.\nIs it possible in java that I just define one class for this and dynamically change the member when needed?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691010612,"post_id":76822563,"comment_id":135434614,"body_markdown":"Because `supplier.get()` is evaluated eagerly and only once before the `reduce` function is even entered? There is no supplier, there&#39;s only the pre-constructed StringBuffer instance","body":"Because <code>supplier.get()</code> is evaluated eagerly and only once before the <code>reduce</code> function is even entered? There is no supplier, there&#39;s only the pre-constructed StringBuffer instance"},{"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"score":0,"creation_date":1691085003,"post_id":76822563,"comment_id":135447384,"body_markdown":"Switched to a collector, and now the code works as I expected, kudos to @Luis Wasserman for pointing me in the right direction.","body":"Switched to a collector, and now the code works as I expected, kudos to @Luis Wasserman for pointing me in the right direction."}],"answers":[{"comments":[{"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"score":0,"creation_date":1691085167,"post_id":76823538,"comment_id":135447413,"body_markdown":"thank you, it was a case of the wrong tool for the job, collect() uses a Supplier, while reduce() just a value, therefore I assume expects a single instance of it.","body":"thank you, it was a case of the wrong tool for the job, collect() uses a Supplier, while reduce() just a value, therefore I assume expects a single instance of it."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1691254053,"post_id":76823538,"comment_id":135468455,"body_markdown":"If this answer solved your problem, please mark it accepted by clicking the check mark.","body":"If this answer solved your problem, please mark it accepted by clicking the check mark."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691010493,"creation_date":1691010493,"answer_id":76823538,"question_id":76822563,"body_markdown":"You haven&#39;t told it how to.  You just passed it a single StringBuffer, it doesn&#39;t know how to make more.\r\n\r\nThis `reduce` function isn&#39;t intended or designed to be able to handle this case, where you have a mutable accumulator.  For this, you&#39;ll need a `Collector`, and to use `stream.collect(customCollector)`.  The simplest implementation for this would be\r\n\r\n```\r\nCollector.of(StringBuilder::new, StringBuilder::append, StringBuilder::append)\r\n```\r\n\r\nor if you want a `String` at the end\r\n\r\n```\r\nCollector.of(\r\n  StringBuilder::new, StringBuilder::append,\r\n  StringBuilder::append, StringBuilder::toString)\r\n```","title":"Java Streams parallel streams are using the same accumulator for multiple threads","body":"<p>You haven't told it how to.  You just passed it a single StringBuffer, it doesn't know how to make more.</p>\n<p>This <code>reduce</code> function isn't intended or designed to be able to handle this case, where you have a mutable accumulator.  For this, you'll need a <code>Collector</code>, and to use <code>stream.collect(customCollector)</code>.  The simplest implementation for this would be</p>\n<pre><code>Collector.of(StringBuilder::new, StringBuilder::append, StringBuilder::append)\n</code></pre>\n<p>or if you want a <code>String</code> at the end</p>\n<pre><code>Collector.of(\n  StringBuilder::new, StringBuilder::append,\n  StringBuilder::append, StringBuilder::toString)\n</code></pre>\n"}],"owner":{"account_id":28922124,"reputation":25,"user_id":22152808,"display_name":"Eliezer Garza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76823538,"answer_count":1,"score":0,"last_activity_date":1691010493,"creation_date":1691000470,"question_id":76822563,"body_markdown":"I&#39;m an old Java programmer, and trying to properly learn streams, while doing some testing with the reduce function and StringBuffer/StringBuilder I found some behavior I don&#39;t quite understand.\r\n\r\nThis is the first example, it works as expected:\r\n\r\n    System.out.println(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).stream().reduce(new StringBuilder(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)));\r\n\r\nthis is the second example, using parallel streams and StringBuffer(thread safe)\r\n\r\n    System.out.println(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).parallelStream().reduce(new StringBuffer(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)));\r\n\r\nnow the thing is: the combiner checks to see if it&#39;s receiving the same object on both sides, if so it returns the left operand (they are the same object), and if they are not, it combines them and returns them: `(sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)` but so far I always have the same StringBuffer object in all the threads, I added more data, but still receive the same object.\r\n\r\nI switched to a Supplier&lt;StringBuffer&gt; and added a sequence at the creation of the object, but my runs always use the same one regardless.\r\n```\r\nvar list = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\r\nvar counter = new HashMap&lt;String, Integer&gt;();\r\nSupplier&lt;StringBuffer&gt; supplier = ()-&gt;{\r\n    var s = new StringBuffer();\r\n    s.append(counter.merge(&quot;c&quot;, 1, (a, b)-&gt;a+b));\r\n    System.out.printf(&quot;new:%s%n&quot;, s);\r\n    return s;\r\n};\r\nSystem.out.println(list.parallelStream().reduce(supplier.get(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;{System.out.printf(&quot;called with[%s] and [%s]%n&quot;, sb1, sb2);return sb1==sb2?sb1:sb1.append(sb2);}));\r\n\r\n```\r\n\r\nSame Object on the left and right side:\r\n```\r\ncalled with[1qsr] and [1qsr]\r\ncalled with[1qsr] and [1qsr]\r\ncalled with[1qsrhi] and [1qsrhi]\r\ncalled with[1qsrhigno] and [1qsrhignopuv]\r\ncalled with[1qsrhignopuvlm] and [1qsrhignopuvlm]\r\ncalled with[1qsrhignopuvlmkjt] and [1qsrhignopuvlmkjt]\r\ncalled with[1qsrhignopuvlmkjtxwzy] and [1qsrhignopuvlmkjtxwzydfe]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebc] and [1qsrhignopuvlmkjtxwzydfebc]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebc] and [1qsrhignopuvlmkjtxwzydfebc]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\r\n```\r\n\r\nSo why isn&#39;t every thread creating a different instance of the accumulator object?","title":"Java Streams parallel streams are using the same accumulator for multiple threads","body":"<p>I'm an old Java programmer, and trying to properly learn streams, while doing some testing with the reduce function and StringBuffer/StringBuilder I found some behavior I don't quite understand.</p>\n<p>This is the first example, it works as expected:</p>\n<pre><code>System.out.println(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).stream().reduce(new StringBuilder(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)));\n</code></pre>\n<p>this is the second example, using parallel streams and StringBuffer(thread safe)</p>\n<pre><code>System.out.println(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;).parallelStream().reduce(new StringBuffer(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)));\n</code></pre>\n<p>now the thing is: the combiner checks to see if it's receiving the same object on both sides, if so it returns the left operand (they are the same object), and if they are not, it combines them and returns them: <code>(sb1, sb2)-&gt;sb1==sb2?sb1:sb1.append(sb2)</code> but so far I always have the same StringBuffer object in all the threads, I added more data, but still receive the same object.</p>\n<p>I switched to a Supplier and added a sequence at the creation of the object, but my runs always use the same one regardless.</p>\n<pre><code>var list = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;, &quot;n&quot;, &quot;o&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;u&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\nvar counter = new HashMap&lt;String, Integer&gt;();\nSupplier&lt;StringBuffer&gt; supplier = ()-&gt;{\n    var s = new StringBuffer();\n    s.append(counter.merge(&quot;c&quot;, 1, (a, b)-&gt;a+b));\n    System.out.printf(&quot;new:%s%n&quot;, s);\n    return s;\n};\nSystem.out.println(list.parallelStream().reduce(supplier.get(), (s, e)-&gt;s.append(e) , (sb1, sb2)-&gt;{System.out.printf(&quot;called with[%s] and [%s]%n&quot;, sb1, sb2);return sb1==sb2?sb1:sb1.append(sb2);}));\n\n</code></pre>\n<p>Same Object on the left and right side:</p>\n<pre><code>called with[1qsr] and [1qsr]\ncalled with[1qsr] and [1qsr]\ncalled with[1qsrhi] and [1qsrhi]\ncalled with[1qsrhigno] and [1qsrhignopuv]\ncalled with[1qsrhignopuvlm] and [1qsrhignopuvlm]\ncalled with[1qsrhignopuvlmkjt] and [1qsrhignopuvlmkjt]\ncalled with[1qsrhignopuvlmkjtxwzy] and [1qsrhignopuvlmkjtxwzydfe]\ncalled with[1qsrhignopuvlmkjtxwzydfebc] and [1qsrhignopuvlmkjtxwzydfebc]\ncalled with[1qsrhignopuvlmkjtxwzydfebc] and [1qsrhignopuvlmkjtxwzydfebc]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\ncalled with[1qsrhignopuvlmkjtxwzydfebca] and [1qsrhignopuvlmkjtxwzydfebca]\n</code></pre>\n<p>So why isn't every thread creating a different instance of the accumulator object?</p>\n"},{"tags":["java","elasticsearch","design-patterns","opensearch","amazon-opensearch"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690412767,"post_id":76774550,"comment_id":135351935,"body_markdown":"Is using reflection an option?","body":"Is using reflection an option?"},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1690988804,"post_id":76774550,"comment_id":135430345,"body_markdown":"Reflection is an option and I am actually using reflection combined with FieldCallback from Spring, where each fields are annotated where you can also specify Type enum.","body":"Reflection is an option and I am actually using reflection combined with FieldCallback from Spring, where each fields are annotated where you can also specify Type enum."},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1691007394,"post_id":76774550,"comment_id":135434002,"body_markdown":"So FieldCallback is a library type or do you own it? And where is doWith(Field) called?","body":"So FieldCallback is a library type or do you own it? And where is doWith(Field) called?"},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1691007937,"post_id":76774550,"comment_id":135434106,"body_markdown":"`ReflectionUtils.FieldCallback` is an interface provided by Spring framework [here](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.FieldCallback.html). When you call `ReflectionUtils.doWithFields(clazz, walker)` (I have called it in `MappingFactory.getMapping(clazz)`), the method will get all the fields declared in the `clazz`, and call `walker.doWith(field)` on each of those fields (basically, it will loop through fields).","body":"<code>ReflectionUtils.FieldCallback</code> is an interface provided by Spring framework <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.FieldCallback.html\" rel=\"nofollow noreferrer\">here</a>. When you call <code>ReflectionUtils.doWithFields(clazz, walker)</code> (I have called it in <code>MappingFactory.getMapping(clazz)</code>), the method will get all the fields declared in the <code>clazz</code>, and call <code>walker.doWith(field)</code> on each of those fields (basically, it will loop through fields)."},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1691008036,"post_id":76774550,"comment_id":135434128,"body_markdown":"Here is what the [doc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html#doWithFields(java.lang.Class,org.springframework.util.ReflectionUtils.FieldCallback)) says about `ReflectionUtils.doWithFields`: &quot;Invoke the given callback on all fields in the target class, going up the class hierarchy to get all declared fields.&quot;","body":"Here is what the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/ReflectionUtils.html#doWithFields(java.lang.Class,org.springframework.util.ReflectionUtils.FieldCallback)\" rel=\"nofollow noreferrer\">doc</a> says about <code>ReflectionUtils.doWithFields</code>: &quot;Invoke the given callback on all fields in the target class, going up the class hierarchy to get all declared fields.&quot;"},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1691009792,"post_id":76774550,"comment_id":135434454,"body_markdown":"Thank you for the input. May i ask why you went the annotation+reflection route? I assume your mapper is supposed to work for any type and not only a handful of known types? if this isn&#39;t a requirement I would not do that as it would introduce the slow reflection along with the not very graceful implementation details.","body":"Thank you for the input. May i ask why you went the annotation+reflection route? I assume your mapper is supposed to work for any type and not only a handful of known types? if this isn&#39;t a requirement I would not do that as it would introduce the slow reflection along with the not very graceful implementation details."},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1691010340,"post_id":76774550,"comment_id":135434561,"body_markdown":"So, the library that I am working at is using really old version of ElasticSearch and it allows using both annotation+reflection and `TypeMappingBuilder`. I am migrating its usage to OpenSearch, and would like to keep the client using both approaches in the beginning until we deprecate using the annotation+reflection option (`MappingFactory`). And, the mapper is supposed to work for any types that we support (basically, handful of types that we use from what OpenSearch/ElasticSearch supports). Types that we support are defined by enum `Type`.","body":"So, the library that I am working at is using really old version of ElasticSearch and it allows using both annotation+reflection and <code>TypeMappingBuilder</code>. I am migrating its usage to OpenSearch, and would like to keep the client using both approaches in the beginning until we deprecate using the annotation+reflection option (<code>MappingFactory</code>). And, the mapper is supposed to work for any types that we support (basically, handful of types that we use from what OpenSearch/ElasticSearch supports). Types that we support are defined by enum <code>Type</code>."},{"owner":{"display_name":"user21970328"},"score":1,"creation_date":1691013008,"post_id":76774550,"comment_id":135434982,"body_markdown":"Thanks for the information. In this case there is nothing you can do to improve the annotations version. Java annotations are very limited, for example you can&#39;t add methods to an annotation or use inheritance like you could do in C#. So using a hash table to lookup the factory or alternatively a lambda expression is your only way. However, you can still improve the `MappingFactory`. But only if you have limited types that are expected. For example if `Memory` and `Cpu` are the only classes then you can improve `MappingFactory`. If you want to support any type then there is nothing to improve.","body":"Thanks for the information. In this case there is nothing you can do to improve the annotations version. Java annotations are very limited, for example you can&#39;t add methods to an annotation or use inheritance like you could do in C#. So using a hash table to lookup the factory or alternatively a lambda expression is your only way. However, you can still improve the <code>MappingFactory</code>. But only if you have limited types that are expected. For example if <code>Memory</code> and <code>Cpu</code> are the only classes then you can improve <code>MappingFactory</code>. If you want to support any type then there is nothing to improve."},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1691013406,"post_id":76774550,"comment_id":135435034,"body_markdown":"Make sense. Thank you!","body":"Make sense. Thank you!"},{"owner":{"display_name":"user21970328"},"score":1,"creation_date":1691013419,"post_id":76774550,"comment_id":135435036,"body_markdown":"The problem is that the actual Property type is only available as meta data via the annotation. There is no other way to provide this information to the Walker when annotations are used - unless your system is not open for any types or can introduce conventions, for example all participating classes must implement a PropertyProvider interface in addition to the annotation. But I guess this is not possible because you have to work with legacy code if I understood correctly. A PropertyProvider would be a graceful solution to eliminate the hash map.","body":"The problem is that the actual Property type is only available as meta data via the annotation. There is no other way to provide this information to the Walker when annotations are used - unless your system is not open for any types or can introduce conventions, for example all participating classes must implement a PropertyProvider interface in addition to the annotation. But I guess this is not possible because you have to work with legacy code if I understood correctly. A PropertyProvider would be a graceful solution to eliminate the hash map."},{"owner":{"display_name":"user21970328"},"score":1,"creation_date":1691013560,"post_id":76774550,"comment_id":135435052,"body_markdown":"In case of the TypeMappingBuilder, the type information was provided as a parameter. That enabled refactoring to improve the API. that&#39;s a totally different scenario, but a good example why you have to use annotations sparingly. Aside from reflection they introduce other negative side effects in terms of class design.","body":"In case of the TypeMappingBuilder, the type information was provided as a parameter. That enabled refactoring to improve the API. that&#39;s a totally different scenario, but a good example why you have to use annotations sparingly. Aside from reflection they introduce other negative side effects in terms of class design."}],"answers":[{"tags":[],"owner":{"account_id":2058631,"reputation":13975,"user_id":1835769,"accept_rate":94,"display_name":"displayName"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690407885,"creation_date":1690407885,"answer_id":76775232,"question_id":76774550,"body_markdown":"If you are willing to sacrifice space, you could pre populate a hash map of Property.Kind mapping to TypeMapBuilder.\r\n\r\nNow in the method, just need a single return map.get(type);","title":"How to avoid code smells (too many if else) where each enum if condition will call different methods which are controlled by the third party library?","body":"<p>If you are willing to sacrifice space, you could pre populate a hash map of Property.Kind mapping to TypeMapBuilder.</p>\n<p>Now in the method, just need a single return map.get(type);</p>\n"},{"comments":[{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1690990484,"post_id":76786730,"comment_id":135430750,"body_markdown":"This is a way better solution. Thank you! As I have TypeMappingBuilder which the client uses, I can explicitly provide methods for each different types. Now, the client has the ability to either use TypeMappingBuilder, but the client also have the ability to use an Annotation TypeAnnotation (it has Type field) and annotate it&#39;s POJO&#39;s field with this annotation. I have MappingFactory with method getMapping(Class) to retrieve mappings based on the POJO. So, I have to use switch or if/else to check which Property to build. Should I use Factory pattern to create Factories for different Type&#39;s?","body":"This is a way better solution. Thank you! As I have TypeMappingBuilder which the client uses, I can explicitly provide methods for each different types. Now, the client has the ability to either use TypeMappingBuilder, but the client also have the ability to use an Annotation TypeAnnotation (it has Type field) and annotate it&#39;s POJO&#39;s field with this annotation. I have MappingFactory with method getMapping(Class) to retrieve mappings based on the POJO. So, I have to use switch or if/else to check which Property to build. Should I use Factory pattern to create Factories for different Type&#39;s?"},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1690990757,"post_id":76786730,"comment_id":135430819,"body_markdown":"The client has the ability to either use TypeMappingBuilder or MappingFactory. In MappingFactory, I have to create Property based on the Type enum attached to the Annotation TypeAnnotation in a specific POJO. In this scenario, there is no other option than to either use if/else or switch or factory pattern with Map&lt;Type, SpecificTypeFactory&gt;. Is there any other better solution in this case or does it change the solution you provided if the client have either the option to use TypeMappingBuilder or MappingFactory?","body":"The client has the ability to either use TypeMappingBuilder or MappingFactory. In MappingFactory, I have to create Property based on the Type enum attached to the Annotation TypeAnnotation in a specific POJO. In this scenario, there is no other option than to either use if/else or switch or factory pattern with Map&lt;Type, SpecificTypeFactory&gt;. Is there any other better solution in this case or does it change the solution you provided if the client have either the option to use TypeMappingBuilder or MappingFactory?"},{"owner":{"display_name":"user21970328"},"score":0,"creation_date":1690991346,"post_id":76786730,"comment_id":135430945,"body_markdown":"May be you could update your question with a small example especially to show the switch you are asking about? From what I understood I would suggest to implement MappingFactory as a generic type. I don&#39;t think that a factory will solve your problem. But I don&#39;t have enough details. Would you mind to update your question? This would be really helpful.","body":"May be you could update your question with a small example especially to show the switch you are asking about? From what I understood I would suggest to implement MappingFactory as a generic type. I don&#39;t think that a factory will solve your problem. But I don&#39;t have enough details. Would you mind to update your question? This would be really helpful."},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1690991500,"post_id":76786730,"comment_id":135430986,"body_markdown":"Yeah, will do it.","body":"Yeah, will do it."},{"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"score":0,"creation_date":1690996173,"post_id":76786730,"comment_id":135431935,"body_markdown":"I have updated the question and the new information is under **EDIT:**. Let me know if something is unclear.","body":"I have updated the question and the new information is under <b>EDIT:</b>. Let me know if something is unclear."},{"owner":{"display_name":"user21970328"},"score":1,"creation_date":1691007441,"post_id":76786730,"comment_id":135434013,"body_markdown":"Thank you. I will update my answer accordingly.","body":"Thank you. I will update my answer accordingly."}],"tags":[],"owner":{"display_name":"user21970328"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690539411,"creation_date":1690538114,"answer_id":76786730,"question_id":76774550,"body_markdown":"Usually, the caller of your API knows all the details of the context. You only have to expose a complete path for each supported context.  \r\nAs a result the client code now explicitly selects the method/execution path instead of selecting an enum value.  \r\nThis will make your API bigger opposed to a more generic API. But if it is about code paths, generic APIs are not useful (see your problem).  \r\ngeneric APIs only help in terms of type compatibility (input/output). \r\n\r\nIn terms of execution paths, you always need the client of your API to select an execution path: either in form of a parameter (you current choice) or by explicitly invoking the desired functionality.  \r\nThe latter provides: \r\n- a much cleaner API that allows the client code to communicates the intend better: it&#39;s more convenient to read and understand the client code because we are now enabled to read method names opposed to having to read through an argument list. Argument names are only useful if the reader knows about their purpose. To know this he must read the API documentation. Method names on the other hand directly communicate the purpose of the operation without the requirement to read any documentation.  \r\n- it also reduces the parameter count of the method: in your case the enum parameter is converted to a method name.  \r\n- and as a bonus you avoid extra documentation: the method  names now clearly communicate the purpose of the method (if the names are chosen properly).\r\n- you eliminate the `Property.Kind` enum (additional type only introduced to select the execution path).\r\n- you eliminate the terrible to maintain cascades of if-statements and switch cases: this code breaks the Open-Close principle and therefore does not make your code/class extensible.\r\n\r\n\r\nThe solution is to allow the builder to explicitly fork the execution path. This eliminates the `Property.Kind` enum (previously used to identify the selected execution path) and the `getTypeProperty` method (previously used to execute the specialized execution path). Now the client of the `TypeMappingBuilder` API is responsible to select the execution path explicitly by calling the related method instead of passing the enum identifier.  \r\n\r\nThe result is a more verbose client code (in terms of enhanced readability) and a more convenient API.  \r\nIt&#39;s the only solution that improves the API, for example in contrast to alternative solutions like looking up instances in a hash table.  \r\nA hash table solution only works for object lookup. A hash table still won&#39;t solve more complex scenarios. In addition a hash table solution adds more memory and types overhead - while we usually can live with the memory overhead, the additional types we have to implement add unnecessary complexity). \r\n  \r\nSo instead of adding more complexity to your internal code, simply clean up the API:\r\n\r\n**Usage example:**\r\n```java\r\n// Easier to read client code, where the intend is communicated via method names instead of argument names. \r\n// Even the argument name is meaning less \r\n// if the reader does not know that the argument is an actual execution path selector.\r\n// To know this, he would have to read the API documentation.\r\n// The method name allows the reader to instantly know the purpose \r\n// and the author which method to invoke.\r\nTypeMappingBuilder builder = new TypeMappingBuilder();\r\nbuilder.putTextProperty(...)\r\n  .putTextProperty(...)\r\n  .putKeywordProperty(...);\r\n```\r\n**TypeMappingBuilder.java**\r\n```java\r\npublic class TypeMappingBuilder {\r\n    private DynamicMapping dynamic;\r\n    private final Map&lt;String, Property&gt; properties;\r\n\r\n    public TypeMappingBuilder() {\r\n        this.properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public TypeMappingBuilder disableDynamic() {\r\n        this.mapping = DynamicMapping.Strict;\r\n        return this;\r\n    }\r\n    \r\n    public TypeMappingBuilder putTextProperty(\r\n            String name, \r\n            boolean shouldIndex, \r\n            Map&lt;String, Property&gt; subTypeProperties) {\r\n\r\n        Property textProperty = new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n        this.properties.put(name, textProperty);\r\n\r\n        return this;\r\n    }\r\n    \r\n    public TypeMappingBuilder putKeywordProperty(\r\n            String name, \r\n            boolean shouldIndex, \r\n            Map&lt;String, Property&gt; subTypeProperties) {\r\n\r\n        Property keywordProperty = new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n        this.properties.put(name, keywordProperty);\r\n\r\n        return this;\r\n    }\r\n\r\n    public TypeMapping build() {\r\n        return new TypeMapping.Builder()\r\n                .dynamic(dynamic)\r\n                .properties(properties)\r\n                .build();\r\n    }\r\n}\r\n```","title":"How to avoid code smells (too many if else) where each enum if condition will call different methods which are controlled by the third party library?","body":"<p>Usually, the caller of your API knows all the details of the context. You only have to expose a complete path for each supported context.<br />\nAs a result the client code now explicitly selects the method/execution path instead of selecting an enum value.<br />\nThis will make your API bigger opposed to a more generic API. But if it is about code paths, generic APIs are not useful (see your problem).<br />\ngeneric APIs only help in terms of type compatibility (input/output).</p>\n<p>In terms of execution paths, you always need the client of your API to select an execution path: either in form of a parameter (you current choice) or by explicitly invoking the desired functionality.<br />\nThe latter provides:</p>\n<ul>\n<li>a much cleaner API that allows the client code to communicates the intend better: it's more convenient to read and understand the client code because we are now enabled to read method names opposed to having to read through an argument list. Argument names are only useful if the reader knows about their purpose. To know this he must read the API documentation. Method names on the other hand directly communicate the purpose of the operation without the requirement to read any documentation.</li>\n<li>it also reduces the parameter count of the method: in your case the enum parameter is converted to a method name.</li>\n<li>and as a bonus you avoid extra documentation: the method  names now clearly communicate the purpose of the method (if the names are chosen properly).</li>\n<li>you eliminate the <code>Property.Kind</code> enum (additional type only introduced to select the execution path).</li>\n<li>you eliminate the terrible to maintain cascades of if-statements and switch cases: this code breaks the Open-Close principle and therefore does not make your code/class extensible.</li>\n</ul>\n<p>The solution is to allow the builder to explicitly fork the execution path. This eliminates the <code>Property.Kind</code> enum (previously used to identify the selected execution path) and the <code>getTypeProperty</code> method (previously used to execute the specialized execution path). Now the client of the <code>TypeMappingBuilder</code> API is responsible to select the execution path explicitly by calling the related method instead of passing the enum identifier.</p>\n<p>The result is a more verbose client code (in terms of enhanced readability) and a more convenient API.<br />\nIt's the only solution that improves the API, for example in contrast to alternative solutions like looking up instances in a hash table.<br />\nA hash table solution only works for object lookup. A hash table still won't solve more complex scenarios. In addition a hash table solution adds more memory and types overhead - while we usually can live with the memory overhead, the additional types we have to implement add unnecessary complexity).</p>\n<p>So instead of adding more complexity to your internal code, simply clean up the API:</p>\n<p><strong>Usage example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Easier to read client code, where the intend is communicated via method names instead of argument names. \n// Even the argument name is meaning less \n// if the reader does not know that the argument is an actual execution path selector.\n// To know this, he would have to read the API documentation.\n// The method name allows the reader to instantly know the purpose \n// and the author which method to invoke.\nTypeMappingBuilder builder = new TypeMappingBuilder();\nbuilder.putTextProperty(...)\n  .putTextProperty(...)\n  .putKeywordProperty(...);\n</code></pre>\n<p><strong>TypeMappingBuilder.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TypeMappingBuilder {\n    private DynamicMapping dynamic;\n    private final Map&lt;String, Property&gt; properties;\n\n    public TypeMappingBuilder() {\n        this.properties = new HashMap&lt;&gt;();\n    }\n\n    public TypeMappingBuilder disableDynamic() {\n        this.mapping = DynamicMapping.Strict;\n        return this;\n    }\n    \n    public TypeMappingBuilder putTextProperty(\n            String name, \n            boolean shouldIndex, \n            Map&lt;String, Property&gt; subTypeProperties) {\n\n        Property textProperty = new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n        this.properties.put(name, textProperty);\n\n        return this;\n    }\n    \n    public TypeMappingBuilder putKeywordProperty(\n            String name, \n            boolean shouldIndex, \n            Map&lt;String, Property&gt; subTypeProperties) {\n\n        Property keywordProperty = new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n        this.properties.put(name, keywordProperty);\n\n        return this;\n    }\n\n    public TypeMapping build() {\n        return new TypeMapping.Builder()\n                .dynamic(dynamic)\n                .properties(properties)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10676925,"reputation":59,"user_id":9410813,"display_name":"Chintan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76786730,"answer_count":2,"score":0,"last_activity_date":1691009701,"creation_date":1690400552,"question_id":76774550,"body_markdown":"(Understanding OpenSearch/ElasticSearch is not important for this question, but the below information provides some context).\r\nI am using the new opensearch-java (version 2.4.0) library to interact with the OpenSearch cluster. I am trying to build the `TypeMapping` using Builder pattern, so that I can pass these [properties][1] mapping when creating a new index in OpenSearch like so:\r\n```\r\n// client will call this method when creating index.\r\npublic void createIndex(String name, TypeMapping typeMappings) {\r\n    CreateIndexRequest createIndexRequest = new CreateIndexRequest.Builder()\r\n                .index(name)\r\n                .mappings(typeMappings)\r\n                .build();\r\n    createIndex(openSearchClient, createIndexRequest);\r\n}\r\nprivate static void createIndex(OpenSearchClient osClient, CreateIndexRequest createIndexRequest) {\r\n    osClient.indices().create(createIndexRequest);\r\n}\r\n```\r\n\r\nI have the following code to use the Builder pattern to build the `TypeMapping`.\r\n```\r\npackage test;\r\n\r\nimport java.util.Map;\r\nimport org.opensearch.client.opensearch._types.mapping.Property;\r\nimport org.opensearch.client.opensearch._types.mapping.TypeMapping;\r\nimport org.opensearch.client.opensearch._types.mapping.DynamicMapping;\r\n\r\n \r\npublic class TypeMappingBuilder {\r\n    private DynamicMapping dynamic;\r\n    private final Map&lt;String, Property&gt; properties;\r\n\r\n    public TypeMappingBuilder() {\r\n        this.properties = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public TypeMappingBuilder disableDynamic() {\r\n        this.mapping = DynamicMapping.Strict;\r\n        return this;\r\n    }\r\n    \r\n    public TypeMappingBuilder putTypeProperty(\r\n            String name, \r\n            Property.Kind type, \r\n            boolean shouldIndex, \r\n            Map&lt;String, Property&gt; subTypeProperties) {\r\n        this.properties.put(name, getTypeProperty(type, shouldIndex, subTypeProperties));\r\n        return this;\r\n    }\r\n\r\n    private Property getTypeProperty(\r\n            Property.Kind type, \r\n            boolean shouldIndex, \r\n            Map&lt;String, Property&gt; subTypeProperties) {\r\n        if (type == Property.Kind.Text) {\r\n// Here, in (p -&gt; p), p is the TextProperty.Builder() provided by OpenSearch Java client\r\n            return new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n        }\r\n        if (type == Property.Kind.Keyword) {\r\n// Here, in (p -&gt; p), p is the KeywordProperty.Builder() provided by OpenSearch Java client\r\n            return new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n        }\r\n//...\r\n//...\r\n//... and so forth, there are more than 20 of the Property.Kind values where I can use the if condition\r\n    }\r\n\r\n    public TypeMapping build() {\r\n        return new TypeMapping.Builder()\r\n                .dynamic(dynamic)\r\n                .properties(properties)\r\n                .build();\r\n    }\r\n}\r\n```\r\nThe issue is that too many if statement here (in method `getTypeProperty`) will cause code smell and also if a new type is added in the future, then I have to update `getTypeProperty` method to apply for the new type. Also, in this `new Property.Builder().{specificType}({specificTypeBuilder}).build()`, I cannot use polymorphism as there is different method names for each `{specificType}` and different type Builder for each `{specificTypeBuilder}`. I don&#39;t see any other options than to use if statements to create different Property based on a specific type. I thought of using static Map like so and access specific Property from the Map, but would only work if I didn&#39;t have `subTypeProperties` to put in for sub `fields` (but, it will have more memory and type overhead):\r\n```\r\nMap&lt;PropertyHolder, Property&gt; propertyMap = ImmutableMap.&lt;PropertyHolder, Property&gt;builder()\r\n            .put(new PropertyHolder(Property.Kind.Text, true), new Property.Builder()\r\n                    .text(p -&gt; p.index(true)).build())\r\n            .put(new PropertyHolder(Property.Kind.Text, false), new Property.Builder()\r\n                    .text(p -&gt; p.index(false)).build())\r\n            .put(new PropertyHolder(Property.Kind.Keyword, true), new Property.Builder()\r\n                    .keyword(p -&gt; p.index(true)).build())\r\n            .put(new PropertyHolder(Property.Kind.Keyword, false), new Property.Builder()\r\n                    .keyword(p -&gt; p.index(false)).build())\r\n            ...\r\n            ...\r\n            ...\r\n            .build();\r\n\r\n    final class PropertyHolder {\r\n        private final Property.Kind type;\r\n        private final boolean index;\r\n\r\n        private PropertyHolder(Property.Kind type, boolean index) {\r\n            this.type = type;\r\n            this.index = index;\r\n        }\r\n\r\n        public static Property getTypeProperty(Property.Kind type, boolean shouldIndex) {\r\n            return propertyMap.get(new PropertyHolder(type, shouldIndex));\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            PropertyHolder that = (PropertyHolder) o;\r\n            return type == that.type &amp;&amp; index == that.index;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(type, index);\r\n        }\r\n    }\r\n```\r\nAnother option that can actually work was to create my own enum and have a method defined for each enum value that returns a specific Property based on the enum value (Strategy pattern). But, that would be an abuse of enums and probably code smell. Here is what I am talking about:\r\n```\r\npublic enum Type {\r\n        TEXT {\r\n            @Override\r\n            public Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties) {\r\n                return new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n            }\r\n        },\r\n        KEYWORD {\r\n            @Override\r\n            public Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties) {\r\n                return new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\r\n            }\r\n        },\r\n        ...,\r\n        ...,\r\n        ...;\r\n\r\n        public abstract Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties);\r\n    }\r\n```\r\n\r\nWhat design pattern can I use in this scenario to avoid code smell? Thank you!\r\n\r\n**EDIT:**\r\n\r\nIn the scenario that I am working on, the client can either create `TypeMapping` using `TypeMappingBuilder` and then, pass that to the `createIndex` request, like so (added based on the answer mentioned by BionicCode):\r\n```\r\nTypeMapping typeMappings = new TypeMappingBuilder();\r\nbuilder.putTextProperty(...)\r\n    .putTextProperty(...)\r\n    .putKeywordProperty(...)\r\n    .build();\r\ncreateIndex(indexName, typeMappings);\r\n```\r\nor using `MappingFactory` like so:\r\n```\r\nprivate static final Map&lt;String, Property&gt; MAPPINGS = ImmutableMap.&lt;String, Property&gt;builder()\r\n        .putAll(MappingFactory.getMapping(Memory.class))\r\n        .putAll(MappingFactory.getMapping(Cpu.class))\r\n...\r\n...\r\n...\r\n        .build();\r\nTypeMapping typeMappings = new TypeMapping.Builder().properties(MAPPINGS).build();\r\ncreateIndex(indexName, typeMappings);\r\n```\r\nHere, the `Memory.class` or `Cpu.class` POJO looks like this:\r\n```\r\nclass Memory {\r\n    @TypeAnnotation(name = &quot;mem_type&quot;, type = Type.KEYWORD, index = FALSE)\r\n    private final String memType;\r\n\r\n    @TypeAnnotation(name = &quot;bytes&quot;, type = Type.LONG, index = true)\r\n    private final long bytes;\r\n...\r\n...\r\n...\r\n}\r\n```\r\nAnd, the `TypeAnnotation` in my library looks like this:\r\n```\r\n@interface TypeAnnotation {\r\n    String name();\r\n    Type type();\r\n    boolean index();\r\n\r\n    public static final Map&lt;Type, Factory&gt; TYPE_FACTORY_MAP = ImmutableMap.&lt;Type, Factory&gt;builder()\r\n        .put(Type.TEXT, new TextFactory())\r\n        .put(Type.KEYWORD, new KeywordFactory())\r\n...\r\n...\r\n...\r\n        .build();\r\n}\r\n```\r\n\r\nNow, in the scenario where the Client uses `TypeMappingBuilder`, I can setup `putKeywordProperty`, `putTextProperty`, etc. methods for the client to use to add specific property to the properties `Map` before building `TypeMapping`.\r\nBut, when the Client calls `MappingFactory.getMapping(Memory.class)`, the current implementation for `getMapping(Class)` method is like so:\r\n```\r\nclass MappingFactory {\r\n    public static Map&lt;String, Property&gt; getMapping(Class&lt;?&gt; clazz) {\r\n        Walker walker = new Walker();\r\n        // this will walk the fields and add each Property to Walker properties Map. \r\n        ReflectionUtils.doWithFields(clazz, walker);\r\n        return walker.getMapping();\r\n    }\r\n\r\n    // FieldCallback is provided by Spring framework as part of it&#39;s ReflectionUtils\r\n    private static final class Walker implements FieldCallback {\r\n        private final ImmutableMap.Builder&lt;String, Property&gt; properties = ImmutableMap.builder();\r\n        public ImmutableMap&lt;String, Property&gt; getMapping() {\r\n            return this.properties.build();\r\n        }\r\n\r\n        @Override\r\n        public void doWith(java.lang.reflect.Field field) {\r\n            TypeAnnotation typeAnnotation = (TypeAnnotation) field.getAnnotation(TypeAnnotation.class);\r\n            String name = typeAnnotation.name();\r\n            Type type = typeAnnotation.type();\r\n            boolean index = typeAnnotation.index();\r\n            // map defined in TypeAnnotation that contains &lt;Type, Factory&gt; and will return a specific property Factory (implements Factory) that you can use to create Property.\r\n            Factory factory = TYPE_FACTORY_MAP.get(type);\r\n            Property property = factory.getProperty(index);\r\n            this.properties.put(name, property);\r\n        }\r\n    }\r\n}\r\ninterface Factory {\r\n    Property getProperty(boolean index);\r\n    Property getProperty(boolean index, Map&lt;String, Property&gt; subProperties);\r\n}\r\nclass KeywordFactory implements Factory {\r\n    @Override\r\n    public Property getProperty(boolean index) {\r\n        return new Property.Builder().keyword(p -&gt; p.index(index)).build();\r\n    }\r\n\r\n    @Override\r\n    public Property getProperty(boolean index, Map&lt;String, Property&gt; subProperties) {\r\n        return new Property.Builder().keyword(p -&gt; p.index(index).fields(subProperties)).build();\r\n    }\r\n}\r\n```\r\nThe issue is that I have to use either if/else or switch or factory pattern (I am using factory pattern here in `doWith` method and storing each factory in a `Map&lt;Type, Factory&gt;` that is defined in `TypeAnnotation`). Is there any other solution or a solution that is better when the client have the options to either use `TypeMappingBuilder` or `MappingFactory`? Thanks!\r\n\r\n\r\n  [1]: https://github.com/opensearch-project/opensearch-java/blob/94ef0cd0644827b5ef61cae23dfdfbb0c284e6f2/java-client/src/main/java/org/opensearch/client/opensearch/_types/mapping/Property.java","title":"How to avoid code smells (too many if else) where each enum if condition will call different methods which are controlled by the third party library?","body":"<p>(Understanding OpenSearch/ElasticSearch is not important for this question, but the below information provides some context).\nI am using the new opensearch-java (version 2.4.0) library to interact with the OpenSearch cluster. I am trying to build the <code>TypeMapping</code> using Builder pattern, so that I can pass these <a href=\"https://github.com/opensearch-project/opensearch-java/blob/94ef0cd0644827b5ef61cae23dfdfbb0c284e6f2/java-client/src/main/java/org/opensearch/client/opensearch/_types/mapping/Property.java\" rel=\"nofollow noreferrer\">properties</a> mapping when creating a new index in OpenSearch like so:</p>\n<pre><code>// client will call this method when creating index.\npublic void createIndex(String name, TypeMapping typeMappings) {\n    CreateIndexRequest createIndexRequest = new CreateIndexRequest.Builder()\n                .index(name)\n                .mappings(typeMappings)\n                .build();\n    createIndex(openSearchClient, createIndexRequest);\n}\nprivate static void createIndex(OpenSearchClient osClient, CreateIndexRequest createIndexRequest) {\n    osClient.indices().create(createIndexRequest);\n}\n</code></pre>\n<p>I have the following code to use the Builder pattern to build the <code>TypeMapping</code>.</p>\n<pre><code>package test;\n\nimport java.util.Map;\nimport org.opensearch.client.opensearch._types.mapping.Property;\nimport org.opensearch.client.opensearch._types.mapping.TypeMapping;\nimport org.opensearch.client.opensearch._types.mapping.DynamicMapping;\n\n \npublic class TypeMappingBuilder {\n    private DynamicMapping dynamic;\n    private final Map&lt;String, Property&gt; properties;\n\n    public TypeMappingBuilder() {\n        this.properties = new HashMap&lt;&gt;();\n    }\n\n    public TypeMappingBuilder disableDynamic() {\n        this.mapping = DynamicMapping.Strict;\n        return this;\n    }\n    \n    public TypeMappingBuilder putTypeProperty(\n            String name, \n            Property.Kind type, \n            boolean shouldIndex, \n            Map&lt;String, Property&gt; subTypeProperties) {\n        this.properties.put(name, getTypeProperty(type, shouldIndex, subTypeProperties));\n        return this;\n    }\n\n    private Property getTypeProperty(\n            Property.Kind type, \n            boolean shouldIndex, \n            Map&lt;String, Property&gt; subTypeProperties) {\n        if (type == Property.Kind.Text) {\n// Here, in (p -&gt; p), p is the TextProperty.Builder() provided by OpenSearch Java client\n            return new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n        }\n        if (type == Property.Kind.Keyword) {\n// Here, in (p -&gt; p), p is the KeywordProperty.Builder() provided by OpenSearch Java client\n            return new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n        }\n//...\n//...\n//... and so forth, there are more than 20 of the Property.Kind values where I can use the if condition\n    }\n\n    public TypeMapping build() {\n        return new TypeMapping.Builder()\n                .dynamic(dynamic)\n                .properties(properties)\n                .build();\n    }\n}\n</code></pre>\n<p>The issue is that too many if statement here (in method <code>getTypeProperty</code>) will cause code smell and also if a new type is added in the future, then I have to update <code>getTypeProperty</code> method to apply for the new type. Also, in this <code>new Property.Builder().{specificType}({specificTypeBuilder}).build()</code>, I cannot use polymorphism as there is different method names for each <code>{specificType}</code> and different type Builder for each <code>{specificTypeBuilder}</code>. I don't see any other options than to use if statements to create different Property based on a specific type. I thought of using static Map like so and access specific Property from the Map, but would only work if I didn't have <code>subTypeProperties</code> to put in for sub <code>fields</code> (but, it will have more memory and type overhead):</p>\n<pre><code>Map&lt;PropertyHolder, Property&gt; propertyMap = ImmutableMap.&lt;PropertyHolder, Property&gt;builder()\n            .put(new PropertyHolder(Property.Kind.Text, true), new Property.Builder()\n                    .text(p -&gt; p.index(true)).build())\n            .put(new PropertyHolder(Property.Kind.Text, false), new Property.Builder()\n                    .text(p -&gt; p.index(false)).build())\n            .put(new PropertyHolder(Property.Kind.Keyword, true), new Property.Builder()\n                    .keyword(p -&gt; p.index(true)).build())\n            .put(new PropertyHolder(Property.Kind.Keyword, false), new Property.Builder()\n                    .keyword(p -&gt; p.index(false)).build())\n            ...\n            ...\n            ...\n            .build();\n\n    final class PropertyHolder {\n        private final Property.Kind type;\n        private final boolean index;\n\n        private PropertyHolder(Property.Kind type, boolean index) {\n            this.type = type;\n            this.index = index;\n        }\n\n        public static Property getTypeProperty(Property.Kind type, boolean shouldIndex) {\n            return propertyMap.get(new PropertyHolder(type, shouldIndex));\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            PropertyHolder that = (PropertyHolder) o;\n            return type == that.type &amp;&amp; index == that.index;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(type, index);\n        }\n    }\n</code></pre>\n<p>Another option that can actually work was to create my own enum and have a method defined for each enum value that returns a specific Property based on the enum value (Strategy pattern). But, that would be an abuse of enums and probably code smell. Here is what I am talking about:</p>\n<pre><code>public enum Type {\n        TEXT {\n            @Override\n            public Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties) {\n                return new Property.Builder().text(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n            }\n        },\n        KEYWORD {\n            @Override\n            public Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties) {\n                return new Property.Builder().keyword(p -&gt; p.index(shouldIndex).fields(subTypeProperties)).build();\n            }\n        },\n        ...,\n        ...,\n        ...;\n\n        public abstract Property getTypeProperty(boolean shouldIndex, Map&lt;String, Property&gt; subTypeProperties);\n    }\n</code></pre>\n<p>What design pattern can I use in this scenario to avoid code smell? Thank you!</p>\n<p><strong>EDIT:</strong></p>\n<p>In the scenario that I am working on, the client can either create <code>TypeMapping</code> using <code>TypeMappingBuilder</code> and then, pass that to the <code>createIndex</code> request, like so (added based on the answer mentioned by BionicCode):</p>\n<pre><code>TypeMapping typeMappings = new TypeMappingBuilder();\nbuilder.putTextProperty(...)\n    .putTextProperty(...)\n    .putKeywordProperty(...)\n    .build();\ncreateIndex(indexName, typeMappings);\n</code></pre>\n<p>or using <code>MappingFactory</code> like so:</p>\n<pre><code>private static final Map&lt;String, Property&gt; MAPPINGS = ImmutableMap.&lt;String, Property&gt;builder()\n        .putAll(MappingFactory.getMapping(Memory.class))\n        .putAll(MappingFactory.getMapping(Cpu.class))\n...\n...\n...\n        .build();\nTypeMapping typeMappings = new TypeMapping.Builder().properties(MAPPINGS).build();\ncreateIndex(indexName, typeMappings);\n</code></pre>\n<p>Here, the <code>Memory.class</code> or <code>Cpu.class</code> POJO looks like this:</p>\n<pre><code>class Memory {\n    @TypeAnnotation(name = &quot;mem_type&quot;, type = Type.KEYWORD, index = FALSE)\n    private final String memType;\n\n    @TypeAnnotation(name = &quot;bytes&quot;, type = Type.LONG, index = true)\n    private final long bytes;\n...\n...\n...\n}\n</code></pre>\n<p>And, the <code>TypeAnnotation</code> in my library looks like this:</p>\n<pre><code>@interface TypeAnnotation {\n    String name();\n    Type type();\n    boolean index();\n\n    public static final Map&lt;Type, Factory&gt; TYPE_FACTORY_MAP = ImmutableMap.&lt;Type, Factory&gt;builder()\n        .put(Type.TEXT, new TextFactory())\n        .put(Type.KEYWORD, new KeywordFactory())\n...\n...\n...\n        .build();\n}\n</code></pre>\n<p>Now, in the scenario where the Client uses <code>TypeMappingBuilder</code>, I can setup <code>putKeywordProperty</code>, <code>putTextProperty</code>, etc. methods for the client to use to add specific property to the properties <code>Map</code> before building <code>TypeMapping</code>.\nBut, when the Client calls <code>MappingFactory.getMapping(Memory.class)</code>, the current implementation for <code>getMapping(Class)</code> method is like so:</p>\n<pre><code>class MappingFactory {\n    public static Map&lt;String, Property&gt; getMapping(Class&lt;?&gt; clazz) {\n        Walker walker = new Walker();\n        // this will walk the fields and add each Property to Walker properties Map. \n        ReflectionUtils.doWithFields(clazz, walker);\n        return walker.getMapping();\n    }\n\n    // FieldCallback is provided by Spring framework as part of it's ReflectionUtils\n    private static final class Walker implements FieldCallback {\n        private final ImmutableMap.Builder&lt;String, Property&gt; properties = ImmutableMap.builder();\n        public ImmutableMap&lt;String, Property&gt; getMapping() {\n            return this.properties.build();\n        }\n\n        @Override\n        public void doWith(java.lang.reflect.Field field) {\n            TypeAnnotation typeAnnotation = (TypeAnnotation) field.getAnnotation(TypeAnnotation.class);\n            String name = typeAnnotation.name();\n            Type type = typeAnnotation.type();\n            boolean index = typeAnnotation.index();\n            // map defined in TypeAnnotation that contains &lt;Type, Factory&gt; and will return a specific property Factory (implements Factory) that you can use to create Property.\n            Factory factory = TYPE_FACTORY_MAP.get(type);\n            Property property = factory.getProperty(index);\n            this.properties.put(name, property);\n        }\n    }\n}\ninterface Factory {\n    Property getProperty(boolean index);\n    Property getProperty(boolean index, Map&lt;String, Property&gt; subProperties);\n}\nclass KeywordFactory implements Factory {\n    @Override\n    public Property getProperty(boolean index) {\n        return new Property.Builder().keyword(p -&gt; p.index(index)).build();\n    }\n\n    @Override\n    public Property getProperty(boolean index, Map&lt;String, Property&gt; subProperties) {\n        return new Property.Builder().keyword(p -&gt; p.index(index).fields(subProperties)).build();\n    }\n}\n</code></pre>\n<p>The issue is that I have to use either if/else or switch or factory pattern (I am using factory pattern here in <code>doWith</code> method and storing each factory in a <code>Map&lt;Type, Factory&gt;</code> that is defined in <code>TypeAnnotation</code>). Is there any other solution or a solution that is better when the client have the options to either use <code>TypeMappingBuilder</code> or <code>MappingFactory</code>? Thanks!</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1375695072,"post_id":18054767,"comment_id":26416598,"body_markdown":"`&lt;strong&gt;foo&lt;/strong&gt;` - note that the first sentence is generally bolded automatically (but you need a `.` after `foo`).","body":"<code>&lt;strong&gt;foo&lt;&#47;strong&gt;</code> - note that the first sentence is generally bolded automatically (but you need a <code>.</code> after <code>foo</code>)."}],"answers":[{"comments":[{"owner":{"account_id":1841815,"reputation":20206,"user_id":1671066,"accept_rate":82,"display_name":"Micha Wiedenmann"},"score":0,"creation_date":1375695649,"post_id":18054860,"comment_id":26416890,"body_markdown":"should I put a `&lt;br&gt;` in front and after it to get the line breaks?","body":"should I put a <code>&lt;br&gt;</code> in front and after it to get the line breaks?"},{"owner":{"account_id":2401660,"reputation":7686,"user_id":2099208,"display_name":"Ankur Lathi"},"score":0,"creation_date":1375695995,"post_id":18054860,"comment_id":26417081,"body_markdown":"It will add single line break automatically.","body":"It will add single line break automatically."},{"owner":{"account_id":1841815,"reputation":20206,"user_id":1671066,"accept_rate":82,"display_name":"Micha Wiedenmann"},"score":0,"creation_date":1375702892,"post_id":18054860,"comment_id":26420655,"body_markdown":"For me, neither Eclipse javadoc-view nor the tooltip adds line breaks.","body":"For me, neither Eclipse javadoc-view nor the tooltip adds line breaks."},{"owner":{"account_id":2401660,"reputation":7686,"user_id":2099208,"display_name":"Ankur Lathi"},"score":0,"creation_date":1375703072,"post_id":18054860,"comment_id":26420759,"body_markdown":"But in the image you attached, there is a line breake between &#39;foo&#39; and Parameters.","body":"But in the image you attached, there is a line breake between &#39;foo&#39; and Parameters."},{"owner":{"account_id":1841815,"reputation":20206,"user_id":1671066,"accept_rate":82,"display_name":"Micha Wiedenmann"},"score":0,"creation_date":1375726863,"post_id":18054860,"comment_id":26434675,"body_markdown":"This line break is there by default. `&lt;strong&gt;` does not change anything about the line breaks for me.","body":"This line break is there by default. <code>&lt;strong&gt;</code> does not change anything about the line breaks for me."},{"owner":{"account_id":1841815,"reputation":20206,"user_id":1671066,"accept_rate":82,"display_name":"Micha Wiedenmann"},"score":0,"creation_date":1375773776,"post_id":18054860,"comment_id":26450608,"body_markdown":"I disagree, it does not add line breaks.","body":"I disagree, it does not add line breaks."},{"owner":{"account_id":2401660,"reputation":7686,"user_id":2099208,"display_name":"Ankur Lathi"},"score":0,"creation_date":1375777371,"post_id":18054860,"comment_id":26452455,"body_markdown":"If you need more than one line break than use &lt;br /&gt;. Modified the answer.","body":"If you need more than one line break than use &lt;br /&gt;. Modified the answer."}],"tags":[],"owner":{"account_id":2401660,"reputation":7686,"user_id":2099208,"display_name":"Ankur Lathi"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1375777333,"creation_date":1375695263,"answer_id":18054860,"question_id":18054767,"body_markdown":"Use:\r\n\r\n    /**\r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     * &lt;br /&gt; &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n    public int foo(int x) { return x; }","title":"How to format a heading in a javadoc comment?","body":"<p>Use:</p>\n\n<pre><code>/**\n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n * &lt;br /&gt; &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\npublic int foo(int x) { return x; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152633,"reputation":48313,"user_id":367285,"accept_rate":81,"display_name":"FrVaBe"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1376032428,"creation_date":1376032123,"answer_id":18141686,"question_id":18054767,"body_markdown":"Just have a look at the generated Java Doc of the JAVA API, e.g. [SimpleDateFormat.parse][1] (have a look at the HTML source code).\r\n\r\nThey use a html description list for formatting and a &lt;code&gt;strong&lt;/code&gt; CSS class to format the term. So do it the same:\r\n\r\n\t/**\r\n\t * Introdcution\r\n\t * \r\n\t * &lt;dl&gt;\r\n\t * &lt;dt&gt;&lt;span class=&quot;strong&quot;&gt;Heading 1&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\r\n\t * &lt;dt&gt;&lt;span class=&quot;strong&quot;&gt;Heading 2&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\r\n\t * &lt;/dl&gt;\r\n\t *\r\n\t * @param x foo\r\n\t * @return foo\r\n\t * @throws foo\r\n\t */\r\n\r\nLooks like this:\r\n\r\n![JavaDoc screenshot][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\r\n  [2]: http://i.stack.imgur.com/2oqs4.png","title":"How to format a heading in a javadoc comment?","body":"<p>Just have a look at the generated Java Doc of the JAVA API, e.g. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\" rel=\"noreferrer\">SimpleDateFormat.parse</a> (have a look at the HTML source code).</p>\n\n<p>They use a html description list for formatting and a <code>strong</code> CSS class to format the term. So do it the same:</p>\n\n<pre><code>/**\n * Introdcution\n * \n * &lt;dl&gt;\n * &lt;dt&gt;&lt;span class=\"strong\"&gt;Heading 1&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\n * &lt;dt&gt;&lt;span class=\"strong\"&gt;Heading 2&lt;/span&gt;&lt;/dt&gt;&lt;dd&gt;There is a line break.&lt;/dd&gt;\n * &lt;/dl&gt;\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\n</code></pre>\n\n<p>Looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/2oqs4.png\" alt=\"JavaDoc screenshot\"></p>\n"}],"owner":{"account_id":1841815,"reputation":20206,"user_id":1671066,"accept_rate":82,"display_name":"Micha Wiedenmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21681,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":18141686,"answer_count":2,"score":12,"last_activity_date":1691009429,"creation_date":1375694959,"question_id":18054767,"body_markdown":"How can I format headings in a Javadoc comment such that they match the format of `@param`, `@return`, or `@throws`. I am *not* asking how to define my own keywords, rather how to have a bold face heading similar to them.\r\n\r\nI have tried `&lt;h1&gt;&lt;/h1&gt;` but it looks terrible in the Javadoc-view of Eclipse, in particular the size is much larger. Is there an alternative, or is `&lt;h1&gt;&lt;/h1&gt;` the way to go?\r\n\r\n\r\n    /**\r\n     * foo\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n    public int foo(int x) { return x; }\r\n\r\n![enter image description here][1]\r\n\r\nThe screenshot is taken from Eclipse.\r\n\r\n**Update**\r\n\r\nI do not think that `&lt;strong&gt;` is sufficient, since it does not add line breaks:\r\n\r\n    /**\r\n     * Introduction\r\n     * \r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\r\n     *\r\n     * @param x foo\r\n     * @return foo\r\n     * @throws foo\r\n     */\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/g88PO.png\r\n  [2]: http://i.stack.imgur.com/zpDd6.png","title":"How to format a heading in a javadoc comment?","body":"<p>How can I format headings in a Javadoc comment such that they match the format of <code>@param</code>, <code>@return</code>, or <code>@throws</code>. I am <em>not</em> asking how to define my own keywords, rather how to have a bold face heading similar to them.</p>\n<p>I have tried <code>&lt;h1&gt;&lt;/h1&gt;</code> but it looks terrible in the Javadoc-view of Eclipse, in particular the size is much larger. Is there an alternative, or is <code>&lt;h1&gt;&lt;/h1&gt;</code> the way to go?</p>\n<pre><code>/**\n * foo\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\npublic int foo(int x) { return x; }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/g88PO.png\" alt=\"enter image description here\" /></p>\n<p>The screenshot is taken from Eclipse.</p>\n<p><strong>Update</strong></p>\n<p>I do not think that <code>&lt;strong&gt;</code> is sufficient, since it does not add line breaks:</p>\n<pre><code>/**\n * Introduction\n * \n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n * &lt;strong&gt;Heading&lt;/strong&gt;There is no line break.\n *\n * @param x foo\n * @return foo\n * @throws foo\n */\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/zpDd6.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","gradle","junit","spock"],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690562995,"creation_date":1690562995,"answer_id":76789694,"question_id":76787100,"body_markdown":"I&#39;d recommend to use the official [jvm-test-suites](https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html) plugin. With that you can add additional test tasks without having to muck with all the wiring that was necessary previously.\r\n\r\nThis should get you started.\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;groovy&#39;\r\n    id &#39;jvm-test-suite&#39;\r\n}\r\n\r\n\r\n\r\ntesting {\r\n    suites { \r\n        test { \r\n            useSpock(&#39;2.4-M1-groovy-4.0&#39;) \r\n        }\r\n\r\n        integrationTest(JvmTestSuite) { \r\n            useSpock(&#39;2.4-M1-groovy-4.0&#39;) \r\n\r\n            dependencies {\r\n                // add dependencies for the integration test here and not in the top-level dependencies block\r\n\r\n                implementation project() \r\n            }\r\n\r\n            targets { \r\n                all {\r\n                    testTask.configure {\r\n                        shouldRunAfter(test)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ntasks.named(&#39;check&#39;) { \r\n    dependsOn(testing.suites.integrationTest)\r\n}\r\n```\r\n","title":"Test events were not received at the second run but 1st is OK. Check does not run test and later custom integrationTest task","body":"<p>I'd recommend to use the official <a href=\"https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html\" rel=\"nofollow noreferrer\">jvm-test-suites</a> plugin. With that you can add additional test tasks without having to muck with all the wiring that was necessary previously.</p>\n<p>This should get you started.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'groovy'\n    id 'jvm-test-suite'\n}\n\n\n\ntesting {\n    suites { \n        test { \n            useSpock('2.4-M1-groovy-4.0') \n        }\n\n        integrationTest(JvmTestSuite) { \n            useSpock('2.4-M1-groovy-4.0') \n\n            dependencies {\n                // add dependencies for the integration test here and not in the top-level dependencies block\n\n                implementation project() \n            }\n\n            targets { \n                all {\n                    testTask.configure {\n                        shouldRunAfter(test)\n                    }\n                }\n            }\n        }\n    }\n}\n\ntasks.named('check') { \n    dependsOn(testing.suites.integrationTest)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":1,"creation_date":1691066972,"post_id":76823391,"comment_id":135443301,"body_markdown":"You can simple use `./gradlew integrationTest --rerun` which will rerun the given task, no need to modify any sources.","body":"You can simple use <code>.&#47;gradlew integrationTest --rerun</code> which will rerun the given task, no need to modify any sources."}],"tags":[],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691009023,"creation_date":1691009023,"answer_id":76823391,"question_id":76787100,"body_markdown":"Groovy does not re-run tests if source files are up to date. This being a root cause of my issue. To re-run test you can simply fiddle with test sources.","title":"Test events were not received at the second run but 1st is OK. Check does not run test and later custom integrationTest task","body":"<p>Groovy does not re-run tests if source files are up to date. This being a root cause of my issue. To re-run test you can simply fiddle with test sources.</p>\n"}],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691009023,"creation_date":1690541161,"question_id":76787100,"body_markdown":"Recently, I&#39;ve decided to upgrade spring-boot to 3.1.2 and gradle 8.2.1, running java 19.\r\nUnfortunately, `unbroken-dome.test-sets 4.0.0`, that I used for managing test modules, ceased to work, thus I decided to get rid of it and create similar in effect gradle script on my own.\r\n\r\nThe issue I&#39;m having is that task `test` is once working and later returns `Test events were not received`, which is driving my crazy. \r\n\r\nOther issue is with task `check`, ideally I&#39;d like it to run `test` and my `integrationTest` task one after another but it seems it only runs `integrationTest`.\r\n\r\n\r\nThis is what I come up with (`test-suites.gradle`)\r\n```\r\nsourceSets {\r\n  integrationTest {\r\n    compileClasspath += sourceSets.main.output\r\n    runtimeClasspath += sourceSets.main.output\r\n  }\r\n}\r\n\r\nconfigurations {\r\n  integrationTestImplementation.extendsFrom testImplementation\r\n  integrationTestImplementation.extendsFrom testRuntime\r\n  integrationTestImplementation.extendsFrom testCompileOnly\r\n  integrationTestImplementation.extendsFrom testAnnotationProcessor\r\n}\r\n\r\ntasks.withType(Test).configureEach {\r\n  useJUnitPlatform()\r\n  systemProperty &#39;spock.logEnabled&#39;, &#39;true&#39;\r\n  systemProperty &#39;spock.logFileDir&#39;, &#39;./build/test-results/test&#39;\r\n  systemProperty &#39;spock.logFileName&#39;, &#39;spock-report&#39;\r\n}\r\n\r\ntasks.register(&#39;integrationTest&#39;, Test) {\r\n  group = &#39;verification&#39;\r\n\r\n  testClassesDirs = sourceSets.integrationTest.output.classesDirs\r\n  classpath = sourceSets.integrationTest.runtimeClasspath\r\n  shouldRunAfter(test)\r\n\r\n//  filter {\r\n//    include &#39;**/**IntegrationTest.class&#39;\r\n//    include &#39;**/**IntegrationSpec.class&#39;\r\n//  }\r\n}\r\n\r\ncheck.dependsOn(integrationTest)\r\n```\r\nand my `build.gradle`\r\n```\r\nplugins {\r\n  id &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n  id &#39;org.flywaydb.flyway&#39; version &#39;9.21.0&#39;\r\n}\r\n\r\nallprojects {\r\n\r\n  repositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n    maven {\r\n      url = uri(&#39;https://repo.maven.apache.org/maven2/&#39;)\r\n    }\r\n  }\r\n\r\n  apply plugin: &#39;java&#39;\r\n  apply plugin: &#39;groovy&#39;\r\n  apply plugin: &#39;org.springframework.boot&#39;\r\n  apply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n  dependencies {\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    testImplementation &#39;org.apache.groovy:groovy-all:4.0.13&#39;\r\n    testImplementation &#39;org.spockframework:spock-core:2.4-M1-groovy-4.0&#39;\r\n    testImplementation &#39;org.spockframework:spock-spring:2.4-M1-groovy-4.0&#39;\r\n  }\r\n}\r\n\r\napply from: file(&#39;gradle/test-suites.gradle&#39;)\r\napply from: file(&#39;gradle/database.gradle&#39;)\r\n\r\ndependencies {\r\n  implementation project(&#39;:my-service-backend-api&#39;)\r\n  implementation project(&#39;:email-sender-service&#39;)\r\n  implementation &#39;ch.qos.logback:logback-core:1.4.8&#39;\r\n\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\r\n  implementation(group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.6.0&#39;)\r\n\r\n  implementation(group: &#39;org.modelmapper&#39;, name: &#39;modelmapper&#39;, version: &#39;3.1.1&#39;)\r\n  implementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.2&#39;\r\n\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n  testImplementation &#39;org.testcontainers:spock:1.18.3&#39;\r\n  testImplementation &#39;org.testcontainers:postgresql:1.18.3&#39;\r\n\r\n}\r\n\r\nproject(&#39;:email-sender-service&#39;) {\r\n\r\n  bootJar {\r\n    enabled = false\r\n  }\r\n\r\n  dependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n    implementation &#39;org.freemarker:freemarker:2.3.31&#39;\r\n\r\n  }\r\n}\r\n\r\nproject(&#39;:my-service-backend-api&#39;) {\r\n  bootJar {\r\n    enabled = false\r\n  }\r\n}\r\n\r\ngroup = &#39;pl.tchorzyksen&#39;\r\nversion = &#39;0.1.1-SNAPSHOT&#39;\r\ndescription = &#39;my-service-backend&#39;\r\njava {\r\n  sourceCompatibility = JavaVersion.VERSION_19\r\n}\r\n```\r\nYou can find the entire project here: \r\nhttps://github.com/Tchorzyksen37/my-service-backend/tree/Create-integrationTest-module\r\nThe code is far from perfect and integrationTest are failing due to flyway not supporting the latest liquibase version. \r\n\r\nI&#39;d be happy to receive any help :D and thank you in advice for your time.","title":"Test events were not received at the second run but 1st is OK. Check does not run test and later custom integrationTest task","body":"<p>Recently, I've decided to upgrade spring-boot to 3.1.2 and gradle 8.2.1, running java 19.\nUnfortunately, <code>unbroken-dome.test-sets 4.0.0</code>, that I used for managing test modules, ceased to work, thus I decided to get rid of it and create similar in effect gradle script on my own.</p>\n<p>The issue I'm having is that task <code>test</code> is once working and later returns <code>Test events were not received</code>, which is driving my crazy.</p>\n<p>Other issue is with task <code>check</code>, ideally I'd like it to run <code>test</code> and my <code>integrationTest</code> task one after another but it seems it only runs <code>integrationTest</code>.</p>\n<p>This is what I come up with (<code>test-suites.gradle</code>)</p>\n<pre><code>sourceSets {\n  integrationTest {\n    compileClasspath += sourceSets.main.output\n    runtimeClasspath += sourceSets.main.output\n  }\n}\n\nconfigurations {\n  integrationTestImplementation.extendsFrom testImplementation\n  integrationTestImplementation.extendsFrom testRuntime\n  integrationTestImplementation.extendsFrom testCompileOnly\n  integrationTestImplementation.extendsFrom testAnnotationProcessor\n}\n\ntasks.withType(Test).configureEach {\n  useJUnitPlatform()\n  systemProperty 'spock.logEnabled', 'true'\n  systemProperty 'spock.logFileDir', './build/test-results/test'\n  systemProperty 'spock.logFileName', 'spock-report'\n}\n\ntasks.register('integrationTest', Test) {\n  group = 'verification'\n\n  testClassesDirs = sourceSets.integrationTest.output.classesDirs\n  classpath = sourceSets.integrationTest.runtimeClasspath\n  shouldRunAfter(test)\n\n//  filter {\n//    include '**/**IntegrationTest.class'\n//    include '**/**IntegrationSpec.class'\n//  }\n}\n\ncheck.dependsOn(integrationTest)\n</code></pre>\n<p>and my <code>build.gradle</code></p>\n<pre><code>plugins {\n  id 'org.springframework.boot' version '3.1.2'\n  id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n  id 'org.flywaydb.flyway' version '9.21.0'\n}\n\nallprojects {\n\n  repositories {\n    mavenLocal()\n    mavenCentral()\n    maven {\n      url = uri('https://repo.maven.apache.org/maven2/')\n    }\n  }\n\n  apply plugin: 'java'\n  apply plugin: 'groovy'\n  apply plugin: 'org.springframework.boot'\n  apply plugin: 'io.spring.dependency-management'\n\n  dependencies {\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testCompileOnly 'org.projectlombok:lombok:1.18.24'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.24'\n\n    testImplementation 'org.apache.groovy:groovy-all:4.0.13'\n    testImplementation 'org.spockframework:spock-core:2.4-M1-groovy-4.0'\n    testImplementation 'org.spockframework:spock-spring:2.4-M1-groovy-4.0'\n  }\n}\n\napply from: file('gradle/test-suites.gradle')\napply from: file('gradle/database.gradle')\n\ndependencies {\n  implementation project(':my-service-backend-api')\n  implementation project(':email-sender-service')\n  implementation 'ch.qos.logback:logback-core:1.4.8'\n\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  implementation 'org.springframework.boot:spring-boot-starter-security'\n  implementation 'org.springframework.boot:spring-boot-starter-actuator'\n\n  implementation(group: 'io.jsonwebtoken', name: 'jjwt', version: '0.6.0')\n\n  implementation(group: 'org.modelmapper', name: 'modelmapper', version: '3.1.1')\n  implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.2'\n\n  implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  testImplementation 'org.testcontainers:spock:1.18.3'\n  testImplementation 'org.testcontainers:postgresql:1.18.3'\n\n}\n\nproject(':email-sender-service') {\n\n  bootJar {\n    enabled = false\n  }\n\n  dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.freemarker:freemarker:2.3.31'\n\n  }\n}\n\nproject(':my-service-backend-api') {\n  bootJar {\n    enabled = false\n  }\n}\n\ngroup = 'pl.tchorzyksen'\nversion = '0.1.1-SNAPSHOT'\ndescription = 'my-service-backend'\njava {\n  sourceCompatibility = JavaVersion.VERSION_19\n}\n</code></pre>\n<p>You can find the entire project here:\n<a href=\"https://github.com/Tchorzyksen37/my-service-backend/tree/Create-integrationTest-module\" rel=\"nofollow noreferrer\">https://github.com/Tchorzyksen37/my-service-backend/tree/Create-integrationTest-module</a>\nThe code is far from perfect and integrationTest are failing due to flyway not supporting the latest liquibase version.</p>\n<p>I'd be happy to receive any help :D and thank you in advice for your time.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1505820868,"post_id":46295013,"comment_id":79560913,"body_markdown":"Try to use module.addSerializer() instead of addKeySerializer. I think that key serializer works only for keys.","body":"Try to use module.addSerializer() instead of addKeySerializer. I think that key serializer works only for keys."},{"owner":{"account_id":3458598,"reputation":53,"user_id":2896449,"display_name":"Rodion"},"score":0,"creation_date":1505822585,"post_id":46295013,"comment_id":79562035,"body_markdown":"@oleg.cherednik, thanks for pointing this out, that was the reason! I&#39;ve changed to `addSerializer` and now my code works perfectly fine.","body":"@oleg.cherednik, thanks for pointing this out, that was the reason! I&#39;ve changed to <code>addSerializer</code> and now my code works perfectly fine."}],"answers":[{"comments":[{"owner":{"account_id":3458598,"reputation":53,"user_id":2896449,"display_name":"Rodion"},"score":0,"creation_date":1505817710,"post_id":46298017,"comment_id":79558743,"body_markdown":"This workaround will require delegating serialization of all other class types to some other &quot;base&quot; or &quot;generic&quot; serializer. I didn&#39;t find such one.","body":"This workaround will require delegating serialization of all other class types to some other &quot;base&quot; or &quot;generic&quot; serializer. I didn&#39;t find such one."},{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1505818136,"post_id":46298017,"comment_id":79559011,"body_markdown":"You can use obejct mapper for that thing, see my updated PgObjectSerializer","body":"You can use obejct mapper for that thing, see my updated PgObjectSerializer"},{"owner":{"account_id":3458598,"reputation":53,"user_id":2896449,"display_name":"Rodion"},"score":0,"creation_date":1505819970,"post_id":46298017,"comment_id":79560310,"body_markdown":"Unfortunately, the `else` part leads to exception during String key serialization: `Caused by: com.fasterxml.jackson.core.JsonGenerationException: Can not write a string, expecting field name (context: Object)`.\nI&#39;ve tried `serializers.defaultSerializeValue(value, gen)` and `gen.writeString(value.toString())` but getting the same error.","body":"Unfortunately, the <code>else</code> part leads to exception during String key serialization: <code>Caused by: com.fasterxml.jackson.core.JsonGenerationException: Can not write a string, expecting field name (context: Object)</code>. I&#39;ve tried <code>serializers.defaultSerializeValue(value, gen)</code> and <code>gen.writeString(value.toString())</code> but getting the same error."},{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1505820516,"post_id":46298017,"comment_id":79560675,"body_markdown":"try `mapper.writeValue(gen, object);`  I have also updated in answer","body":"try <code>mapper.writeValue(gen, object);</code>  I have also updated in answer"},{"owner":{"account_id":3458598,"reputation":53,"user_id":2896449,"display_name":"Rodion"},"score":0,"creation_date":1505823187,"post_id":46298017,"comment_id":79562476,"body_markdown":"After a small fix for `module` from @oleg.cherednik&#39;s comment this workaround works as expected. Thanks!","body":"After a small fix for <code>module</code> from @oleg.cherednik&#39;s comment this workaround works as expected. Thanks!"}],"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691008567,"creation_date":1505816644,"answer_id":46298017,"question_id":46295013,"body_markdown":"One work-around could be to add serializer for `Object`.\r\n\r\nThen in serializer itself, you can check whether Object is instanceOf `PGobject` or not.\r\n\r\nand in myMapType you can specify `Object.class`:\r\n\r\n    JavaType myMapType = mapper.getTypeFactory().\r\n                    constructMapType(HashMap.class, String.class, Object.class);\r\n\r\n\r\nSerializer would be:\r\n\r\n    class PgObjectSerializer extends JsonSerializer&lt;Object&gt; {\r\n    @Override\r\n    public void serialize(Object object, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n    \tif (object instanceof PGobject) {\r\n    \t\tPGobject pgObject = (PGobject) object;\r\n    \t\tswitch (pgObject.getType()) {\r\n    \t\tcase &quot;json&quot;:\r\n    \t\tcase &quot;jsonb&quot;:\r\n    \t\t\tgen.writeRawValue(pgObject.getType());\r\n    \t\t\tbreak;\r\n    \t\tdefault:\r\n    \t\t\tgen.writeString(pgObject.getType());\r\n    \t\t}\r\n    \t} else {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tmapper.writeValue(gen, object);\r\n    \t}\r\n    }","title":"How to use Jackson custom value serializer for Map&lt;String, Object&gt;?","body":"<p>One work-around could be to add serializer for <code>Object</code>.</p>\n<p>Then in serializer itself, you can check whether Object is instanceOf <code>PGobject</code> or not.</p>\n<p>and in myMapType you can specify <code>Object.class</code>:</p>\n<pre><code>JavaType myMapType = mapper.getTypeFactory().\n                constructMapType(HashMap.class, String.class, Object.class);\n</code></pre>\n<p>Serializer would be:</p>\n<pre><code>class PgObjectSerializer extends JsonSerializer&lt;Object&gt; {\n@Override\npublic void serialize(Object object, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n    if (object instanceof PGobject) {\n        PGobject pgObject = (PGobject) object;\n        switch (pgObject.getType()) {\n        case &quot;json&quot;:\n        case &quot;jsonb&quot;:\n            gen.writeRawValue(pgObject.getType());\n            break;\n        default:\n            gen.writeString(pgObject.getType());\n        }\n    } else {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(gen, object);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3458598,"reputation":53,"user_id":2896449,"display_name":"Rodion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9311,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46298017,"answer_count":1,"score":5,"last_activity_date":1691008567,"creation_date":1505807934,"question_id":46295013,"body_markdown":"I have a result set from DB in form of `Map&lt;String, Object&gt;` that I should return as `json` from a REST-service. Values in the map could be of various types including `PGObject`, `String`, `Integer` and `Date`.\r\n\r\nAnd I wrote a custom serializer for `org.postgresql.util.PGObject` class with type &quot;jsonb&quot;, which works fine in `List&lt;?&gt;`, but not in `Map&lt;String, Object&gt;`.\r\n\r\n    public class PgObjectSerializer extends JsonSerializer&lt;PGobject&gt;{\r\n    \r\n        @Override\r\n        public void serialize(PGobject pgObject, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            switch (pgObject.getType()) {\r\n                case &quot;json&quot;:\r\n                case &quot;jsonb&quot;:\r\n                    gen.writeRawValue(pgObject.getValue());\r\n                    break;\r\n                default:\r\n                    gen.writeString(pgObject.getValue());\r\n            }\r\n        }\r\n    }\r\nTarget PGObject looks like this:\r\n\r\n    PGObject pgo = new PGObject();\r\n    pgo.setType(&quot;jsonb&quot;);\r\n    pgo.setValue(&quot;[{&quot;id&quot;: 6, &quot;name&quot;: &quot;Foo&quot;}, {&quot;id&quot;: 7, &quot;name&quot;: &quot;Bar&quot;}, {&quot;id&quot;: 8, &quot;name&quot;: &quot;Baz&quot;}]&quot;); map.put(&quot;reason&quot;, pgo);\r\n    \r\nWhen Jackson serializes this `PGObject` value in a `Map&lt;String, Object&gt;` then I get `json` value like:\r\n\r\n      &quot;reason&quot;: {\r\n        &quot;type&quot;: &quot;jsonb&quot;,\r\n        &quot;value&quot;: &quot;[{\\&quot;id\\&quot;: 6, \\&quot;name\\&quot;: \\&quot;Foo\\&quot;}, {\\&quot;id\\&quot;: 7, \\&quot;name\\&quot;: \\&quot;Bar\\&quot;}, {\\&quot;id\\&quot;: 8, \\&quot;name\\&quot;: \\&quot;Baz\\&quot;}]&quot;\r\n      }\r\n\r\nWhat I need:\r\n\r\n      &quot;reason&quot;: [\r\n        {\r\n          &quot;id&quot;: 6,\r\n          &quot;name&quot;: &quot;Foo&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 7,\r\n          &quot;name&quot;: &quot;Bar&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 8,\r\n          &quot;name&quot;: &quot;Baz&quot;\r\n        },\r\n      ],\r\n\r\nI&#39;ve tried adding module to `ObjectMapper` and custom `MapType` to `ObjectWriter` as shown in the answer to https://stackoverflow.com/questions/6574636/serializing-mapdate-string-with-jackson:\r\n\r\n    @Service\r\n    @Transactional\r\n    public class MyClass {\r\n        private final ObjectWriter writer;\r\n        private final MyRepo repository;\r\n    \r\n        @Autowired\r\n        public MyClass(MyRepo repository) {\r\n            this.repository = repository;\r\n    \r\n            SimpleModule module = new SimpleModule();\r\n            module.addKeySerializer(PGobject.class, new PgObjectSerializer());\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            JavaType myMapType = mapper.getTypeFactory().\r\n                    constructMapType(HashMap.class, String.class, PGobject.class);\r\n            writer = mapper.registerModule(module).writerFor(myMapType);\r\n        }\r\n        \r\n        ...\r\n        \r\n        private String toJsonString(Map&lt;String, Object&gt; map) {\r\n            try {\r\n                return writer.writeValueAsString(map);\r\n            } catch (JsonProcessingException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nbut I get serialization error for every non-`PGObject` object in the map:\r\n\r\n    [Test worker] ERROR \r\n    com.fasterxml.jackson.databind.JsonMappingException: object is not an instance of declaring class (through reference chain: java.util.HashMap[&quot;end_date&quot;]-&gt;java.lang.String[&quot;type&quot;])\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388)\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348)\r\n    \tat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:343)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:698)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155)\r\n    \tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFieldsUsing(MapSerializer.java:736)\r\n    \tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:534)\r\n    \tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:30)\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:416)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1425)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter._configAndWriteValue(ObjectWriter.java:1158)\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1031)\r\n\r\nHow to enable my `PGObjectSerializer` in Jackson when PGObject is found as a value during serialization of a `Map&lt;String, Object&gt;`?","title":"How to use Jackson custom value serializer for Map&lt;String, Object&gt;?","body":"<p>I have a result set from DB in form of <code>Map&lt;String, Object&gt;</code> that I should return as <code>json</code> from a REST-service. Values in the map could be of various types including <code>PGObject</code>, <code>String</code>, <code>Integer</code> and <code>Date</code>.</p>\n\n<p>And I wrote a custom serializer for <code>org.postgresql.util.PGObject</code> class with type \"jsonb\", which works fine in <code>List&lt;?&gt;</code>, but not in <code>Map&lt;String, Object&gt;</code>.</p>\n\n<pre><code>public class PgObjectSerializer extends JsonSerializer&lt;PGobject&gt;{\n\n    @Override\n    public void serialize(PGobject pgObject, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        switch (pgObject.getType()) {\n            case \"json\":\n            case \"jsonb\":\n                gen.writeRawValue(pgObject.getValue());\n                break;\n            default:\n                gen.writeString(pgObject.getValue());\n        }\n    }\n}\n</code></pre>\n\n<p>Target PGObject looks like this:</p>\n\n<pre><code>PGObject pgo = new PGObject();\npgo.setType(\"jsonb\");\npgo.setValue(\"[{\"id\": 6, \"name\": \"Foo\"}, {\"id\": 7, \"name\": \"Bar\"}, {\"id\": 8, \"name\": \"Baz\"}]\"); map.put(\"reason\", pgo);\n</code></pre>\n\n<p>When Jackson serializes this <code>PGObject</code> value in a <code>Map&lt;String, Object&gt;</code> then I get <code>json</code> value like:</p>\n\n<pre><code>  \"reason\": {\n    \"type\": \"jsonb\",\n    \"value\": \"[{\\\"id\\\": 6, \\\"name\\\": \\\"Foo\\\"}, {\\\"id\\\": 7, \\\"name\\\": \\\"Bar\\\"}, {\\\"id\\\": 8, \\\"name\\\": \\\"Baz\\\"}]\"\n  }\n</code></pre>\n\n<p>What I need:</p>\n\n<pre><code>  \"reason\": [\n    {\n      \"id\": 6,\n      \"name\": \"Foo\"\n    },\n    {\n      \"id\": 7,\n      \"name\": \"Bar\"\n    },\n    {\n      \"id\": 8,\n      \"name\": \"Baz\"\n    },\n  ],\n</code></pre>\n\n<p>I've tried adding module to <code>ObjectMapper</code> and custom <code>MapType</code> to <code>ObjectWriter</code> as shown in the answer to <a href=\"https://stackoverflow.com/questions/6574636/serializing-mapdate-string-with-jackson\">Serializing Map&lt;Date, String&gt; with Jackson</a>:</p>\n\n<pre><code>@Service\n@Transactional\npublic class MyClass {\n    private final ObjectWriter writer;\n    private final MyRepo repository;\n\n    @Autowired\n    public MyClass(MyRepo repository) {\n        this.repository = repository;\n\n        SimpleModule module = new SimpleModule();\n        module.addKeySerializer(PGobject.class, new PgObjectSerializer());\n\n        ObjectMapper mapper = new ObjectMapper();\n        JavaType myMapType = mapper.getTypeFactory().\n                constructMapType(HashMap.class, String.class, PGobject.class);\n        writer = mapper.registerModule(module).writerFor(myMapType);\n    }\n\n    ...\n\n    private String toJsonString(Map&lt;String, Object&gt; map) {\n        try {\n            return writer.writeValueAsString(map);\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>but I get serialization error for every non-<code>PGObject</code> object in the map:</p>\n\n<pre><code>[Test worker] ERROR \ncom.fasterxml.jackson.databind.JsonMappingException: object is not an instance of declaring class (through reference chain: java.util.HashMap[\"end_date\"]-&gt;java.lang.String[\"type\"])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:388)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:348)\n    at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:343)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:698)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:155)\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFieldsUsing(MapSerializer.java:736)\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:534)\n    at com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:30)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:416)\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1425)\n    at com.fasterxml.jackson.databind.ObjectWriter._configAndWriteValue(ObjectWriter.java:1158)\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1031)\n</code></pre>\n\n<p>How to enable my <code>PGObjectSerializer</code> in Jackson when PGObject is found as a value during serialization of a <code>Map&lt;String, Object&gt;</code>?</p>\n"},{"tags":["java","apache-httpclient-4.x","apache-commons-httpclient"],"comments":[{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":2,"creation_date":1362998489,"post_id":15336477,"comment_id":21658772,"body_markdown":"NetBeans is telling you wrong, or you are misreading something. `DefaultHttpClient` is definitely not deprecated. What version did you specify in your POM?","body":"NetBeans is telling you wrong, or you are misreading something. <code>DefaultHttpClient</code> is definitely not deprecated. What version did you specify in your POM?"},{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":8,"creation_date":1362998709,"post_id":15336477,"comment_id":21658880,"body_markdown":"in 4.3-alpha1 it seems to be deprecated","body":"in 4.3-alpha1 it seems to be deprecated"},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1362998960,"post_id":15336477,"comment_id":21659015,"body_markdown":"@sreemanth Thanks but although I eventually intend to use this for Json, the actual question is not related to Json at all.","body":"@sreemanth Thanks but although I eventually intend to use this for Json, the actual question is not related to Json at all."},{"owner":{"account_id":101889,"reputation":5685,"user_id":273826,"accept_rate":100,"display_name":"Hans Westerbeek"},"score":3,"creation_date":1403079007,"post_id":15336477,"comment_id":37514984,"body_markdown":"You are right the httpclient API is a trainwreck","body":"You are right the httpclient API is a trainwreck"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":2,"creation_date":1416406499,"post_id":15336477,"comment_id":42562732,"body_markdown":"I would recommend you set the version to some major release number instead of LATEST. This will allow you to manually control the upgrade process and not let Maven decide for you.","body":"I would recommend you set the version to some major release number instead of LATEST. This will allow you to manually control the upgrade process and not let Maven decide for you."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1416408732,"post_id":15336477,"comment_id":42564271,"body_markdown":"@ChristopheRoussy Sure, when you&#39;ve finished writing it... But for your first piece of code in a new project, why not use Latest? Once you&#39;ve actually got a dependency on a specific version, absolutely nail it down","body":"@ChristopheRoussy Sure, when you&#39;ve finished writing it... But for your first piece of code in a new project, why not use Latest? Once you&#39;ve actually got a dependency on a specific version, absolutely nail it down"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1416412942,"post_id":15336477,"comment_id":42567044,"body_markdown":"@Basic it may change any time while you work on it even in a new project, this may be confusing if you did not set it yourself. For example it worked and compiled and you commit the code. Someone else arrives the next day, checkout and it does not even compile because the LATEST version changed. Of course you do what you want but I would avoid using it for this reason (versionning).","body":"@Basic it may change any time while you work on it even in a new project, this may be confusing if you did not set it yourself. For example it worked and compiled and you commit the code. Someone else arrives the next day, checkout and it does not even compile because the LATEST version changed. Of course you do what you want but I would avoid using it for this reason (versionning)."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":1,"creation_date":1416416773,"post_id":15336477,"comment_id":42569405,"body_markdown":"@ChristopheRoussy Let&#39;s agree to disagree","body":"@ChristopheRoussy Let&#39;s agree to disagree"},{"owner":{"account_id":3065497,"reputation":1582,"user_id":2597290,"accept_rate":71,"display_name":"Casey Murray"},"score":1,"creation_date":1551886415,"post_id":15336477,"comment_id":96806226,"body_markdown":"I think it&#39;s worth noting here that with Java 11 now comes a built in HttpClient and possibly freedom from the apache dependency for some applications, depending on your needs.","body":"I think it&#39;s worth noting here that with Java 11 now comes a built in HttpClient and possibly freedom from the apache dependency for some applications, depending on your needs."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1551887410,"post_id":15336477,"comment_id":96806860,"body_markdown":"@CaseyMurray That&#39;s very welcome indeed, if long overdue.","body":"@CaseyMurray That&#39;s very welcome indeed, if long overdue."}],"answers":[{"comments":[{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1362998833,"post_id":15336606,"comment_id":21658940,"body_markdown":"Thanks for the response - Netbeans isn&#39;t showing any JavaDocs for any of the org.apache stuff - but I suppose that&#39;s a different problem","body":"Thanks for the response - Netbeans isn&#39;t showing any JavaDocs for any of the org.apache stuff - but I suppose that&#39;s a different problem"},{"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"score":0,"creation_date":1362998977,"post_id":15336606,"comment_id":21659023,"body_markdown":"You probably don&#39;t have the sources attached to the library. I don&#39;t use Netbeans, but I guess there is a way to ask it to download the sources of the dependencies.","body":"You probably don&#39;t have the sources attached to the library. I don&#39;t use Netbeans, but I guess there is a way to ask it to download the sources of the dependencies."}],"tags":[],"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1362998739,"creation_date":1362998739,"answer_id":15336606,"question_id":15336477,"body_markdown":"It got deprecated in version `4.3-alpha1` which you use because of the `LATEST` version specification. If you take a look at the javadoc of the class, it tells you what to use instead: `HttpClientBuilder`.\r\n\r\nIn the latest stable version (`4.2.3`) the `DefaultHttpClient` is not deprecated yet.","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>It got deprecated in version <code>4.3-alpha1</code> which you use because of the <code>LATEST</code> version specification. If you take a look at the javadoc of the class, it tells you what to use instead: <code>HttpClientBuilder</code>.</p>\n\n<p>In the latest stable version (<code>4.2.3</code>) the <code>DefaultHttpClient</code> is not deprecated yet.</p>\n"},{"comments":[{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1436857663,"post_id":15336663,"comment_id":50774518,"body_markdown":"Why `new HttpClientBuilder()` and not `HttpClientBuilder.create()`?","body":"Why <code>new HttpClientBuilder()</code> and not <code>HttpClientBuilder.create()</code>?"}],"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1362999856,"creation_date":1362998937,"answer_id":15336663,"question_id":15336477,"body_markdown":"Use [HttpClientBuilder][1] to build the [HttpClient][2] instead of using DefaultHttpClient\r\n\r\nex:\r\n\r\n    MinimalHttpClient httpclient = new HttpClientBuilder().build();\r\n    \r\n     // Prepare a request object\r\n     HttpGet httpget = new HttpGet(&quot;http://www.apache.org/&quot;);\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-dev/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\r\n  [2]: http://hc.apache.org/httpcomponents-client-dev/httpclient/apidocs/org/apache/http/client/HttpClient.html","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>Use <a href=\"http://hc.apache.org/httpcomponents-client-dev/httpclient/apidocs/org/apache/http/impl/client/HttpClientBuilder.html\" rel=\"nofollow\">HttpClientBuilder</a> to build the <a href=\"http://hc.apache.org/httpcomponents-client-dev/httpclient/apidocs/org/apache/http/client/HttpClient.html\" rel=\"nofollow\">HttpClient</a> instead of using DefaultHttpClient</p>\n\n<p>ex:</p>\n\n<pre><code>MinimalHttpClient httpclient = new HttpClientBuilder().build();\n\n // Prepare a request object\n HttpGet httpget = new HttpGet(\"http://www.apache.org/\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1362999469,"post_id":15336793,"comment_id":21659307,"body_markdown":"The questions says `DefaultHttpClient` is deprecated and you suggest using it in your answer...","body":"The questions says <code>DefaultHttpClient</code> is deprecated and you suggest using it in your answer..."},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1363027572,"post_id":15336793,"comment_id":21676451,"body_markdown":"Thanks for the alternate approach. I&#39;ve already gone with the acdepted answer but this looks light-weight enough that I&#39;ll give it a try next time.","body":"Thanks for the alternate approach. I&#39;ve already gone with the acdepted answer but this looks light-weight enough that I&#39;ll give it a try next time."}],"tags":[],"owner":{"account_id":1742178,"reputation":1756,"user_id":1593272,"accept_rate":56,"display_name":"Anubhab"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1561573403,"creation_date":1362999341,"answer_id":15336793,"question_id":15336477,"body_markdown":"I would suggest using the below method if you are trying to read the json data only.\r\n\r\n    URL requestUrl=new URL(url);\r\n    URLConnection con = requestUrl.openConnection();\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n    StringBuilder sb=new StringBuilder();\r\n    int cp;\r\n    try {\r\n    \twhile((cp=rd.read())!=-1){\r\n    \tsb.append((char)cp);\r\n      }\r\n     catch(Exception e){\r\n     }\r\n     String json=sb.toString();\r\n\r\n","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>I would suggest using the below method if you are trying to read the json data only.</p>\n\n<pre><code>URL requestUrl=new URL(url);\nURLConnection con = requestUrl.openConnection();\nBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\nStringBuilder sb=new StringBuilder();\nint cp;\ntry {\n    while((cp=rd.read())!=-1){\n    sb.append((char)cp);\n  }\n catch(Exception e){\n }\n String json=sb.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":98060,"reputation":5346,"user_id":265650,"accept_rate":61,"display_name":"jagamot"},"score":0,"creation_date":1394554499,"post_id":15336796,"comment_id":33935612,"body_markdown":"This is giving me - Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE","body":"This is giving me - Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: INSTANCE"},{"owner":{"account_id":189379,"reputation":3490,"user_id":428685,"display_name":"Alfishe"},"score":2,"creation_date":1394899139,"post_id":15336796,"comment_id":34101764,"body_markdown":"You&#39;re using version below 4.3 (and it should be Apache HTTPClient, not Commons HTTPClient)","body":"You&#39;re using version below 4.3 (and it should be Apache HTTPClient, not Commons HTTPClient)"},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":7,"creation_date":1397885727,"post_id":15336796,"comment_id":35427562,"body_markdown":"Note that the return value is a `CloseableHttpClient`, which you should be closing after use.  It implements `AutoCloseable`, so you can use it in a try-with-resources statement in Java 7+: `try (CloseableHttpClient httpclient = ...) { ... }`.","body":"Note that the return value is a <code>CloseableHttpClient</code>, which you should be closing after use.  It implements <code>AutoCloseable</code>, so you can use it in a try-with-resources statement in Java 7+: <code>try (CloseableHttpClient httpclient = ...) { ... }</code>."},{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":0,"creation_date":1407236037,"post_id":15336796,"comment_id":39126960,"body_markdown":"how to build within a Spring xml config. file?","body":"how to build within a Spring xml config. file?"},{"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"score":2,"creation_date":1414735742,"post_id":15336796,"comment_id":41938008,"body_markdown":"CloseableHttpClient httpClient = HttpClientBuilder.create().build(); this work for me","body":"CloseableHttpClient httpClient = HttpClientBuilder.create().build(); this work for me"},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":7,"creation_date":1436857823,"post_id":15336796,"comment_id":50774606,"body_markdown":"**Question:** Should we hold on to the HttpClientBuilder instance returned by the `create()` static method? Or can we just call `create()` whenever we need one?... Btw, `import org.apache.http.impl.client.HttpClientBuilder` for anyone who needs that. *[Dislikes answers without import statements. Don&#39;t worry I still upvoted :)]*","body":"<b>Question:</b> Should we hold on to the HttpClientBuilder instance returned by the <code>create()</code> static method? Or can we just call <code>create()</code> whenever we need one?... Btw, <code>import org.apache.http.impl.client.HttpClientBuilder</code> for anyone who needs that. <i>[Dislikes answers without import statements. Don&#39;t worry I still upvoted :)]</i>"},{"owner":{"account_id":1265422,"reputation":133,"user_id":2527264,"accept_rate":50,"display_name":"Paul"},"score":0,"creation_date":1450085692,"post_id":15336796,"comment_id":56268587,"body_markdown":"can also use     `CloseableHttpClient httpClient = HttpClients.createDefault()`","body":"can also use     <code>CloseableHttpClient httpClient = HttpClients.createDefault()</code>"},{"owner":{"account_id":2255269,"reputation":2304,"user_id":1986583,"accept_rate":86,"display_name":"Hartmut Pfitzinger"},"score":0,"creation_date":1465882902,"post_id":15336796,"comment_id":63072337,"body_markdown":"With API 23 this becomes much more complicated: https://hc.apache.org/httpcomponents-client-4.5.x/android-port.html","body":"With API 23 this becomes much more complicated: <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/android-port.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpcomponents-client-4.5.x/android-port.html</a>"},{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":1,"creation_date":1480068224,"post_id":15336796,"comment_id":68825573,"body_markdown":"@HartmutPfitzinger use OkHttp on Android. They messed up with a forked Apache Http Client, that is now legacy.","body":"@HartmutPfitzinger use OkHttp on Android. They messed up with a forked Apache Http Client, that is now legacy."},{"owner":{"account_id":4085133,"reputation":595,"user_id":3354594,"accept_rate":33,"display_name":"charitha amarasinghe"},"score":0,"creation_date":1616611400,"post_id":15336796,"comment_id":118060031,"body_markdown":"i am getting this error &quot;Caused by: java.lang.NoSuchFieldError: No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; in class Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; or its superclasses (declaration of &#39;org.apache.http.conn.ssl.AllowAllHostnameVerifier&#39; appears in /system/framework/framework.jar!classes3.dex)\n        at org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;(SSLConnectionSocketFactory.java:151)\n        at org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:977)&quot;","body":"i am getting this error &quot;Caused by: java.lang.NoSuchFieldError: No static field INSTANCE of type Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; in class Lorg/apache/http/conn/ssl/AllowAllHostnameVerifier; or its superclasses (declaration of &#39;org.apache.http.conn.ssl.AllowAllHostnameVerifier&#39; appears in /system/framework/framework.jar!classes3.dex)         at org.apache.http.conn.ssl.SSLConnectionSocketFactory.&lt;clinit&gt;&zwnj;&#8203;(SSLConnectionSocket&zwnj;&#8203;Factory.java:151)         at org.apache.http.impl.client.HttpClientBuilder.build(HttpClie&zwnj;&#8203;ntBuilder.java:977)&quot;"}],"tags":[],"owner":{"display_name":"user2030471"},"comment_count":10,"down_vote_count":0,"up_vote_count":276,"is_accepted":true,"score":276,"last_activity_date":1454624722,"creation_date":1362999348,"answer_id":15336796,"question_id":15336477,"body_markdown":"Relevant imports:\r\n\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import java.io.IOException;\r\n\r\nUsage:\r\n\r\n    HttpClient httpClient = HttpClientBuilder.create().build();\r\n\r\nEDIT (after Jules&#39; suggestion):\r\n\r\nAs the `build()` method returns a `CloseableHttpClient` which *is-a* `AutoClosable`, you can place the declaration in a try-with-resources  statement (Java 7+):\r\n\r\n\ttry (CloseableHttpClient httpClient = HttpClientBuilder.create().build()) {\r\n\r\n        // use httpClient (no need to close it explicitly)\r\n\r\n\t} catch (IOException e) {\r\n\r\n        // handle\r\n\r\n\t}","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>Relevant imports:</p>\n\n<pre><code>import org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport java.io.IOException;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>HttpClient httpClient = HttpClientBuilder.create().build();\n</code></pre>\n\n<p>EDIT (after Jules' suggestion):</p>\n\n<p>As the <code>build()</code> method returns a <code>CloseableHttpClient</code> which <em>is-a</em> <code>AutoClosable</code>, you can place the declaration in a try-with-resources  statement (Java 7+):</p>\n\n<pre><code>try (CloseableHttpClient httpClient = HttpClientBuilder.create().build()) {\n\n    // use httpClient (no need to close it explicitly)\n\n} catch (IOException e) {\n\n    // handle\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1398170364,"creation_date":1398170364,"answer_id":23219857,"question_id":15336477,"body_markdown":"For the original issue, I would request you to apply below logic:\r\n\r\n     CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n     HttpPost httpPostRequest = new HttpPost();","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>For the original issue, I would request you to apply below logic:</p>\n\n<pre><code> CloseableHttpClient httpClient = HttpClientBuilder.create().build();\n HttpPost httpPostRequest = new HttpPost();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"comment_count":0,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1511359748,"creation_date":1416403129,"answer_id":27017861,"question_id":15336477,"body_markdown":"IMHO the accepted answer is correct but misses some &#39;teaching&#39; as it does not explain how to come up with the answer.\r\nFor all deprecated classes look at the [**JavaDoc**][1] (if you do not have it either download it or [go online][1]), it will hint at which class to use to replace the old code. Of course it will not tell you everything, but this is a start. Example:\r\n\r\n    ...\r\n     *\r\n     * @deprecated (4.3) use {@link HttpClientBuilder}.  &lt;----- THE HINT IS HERE !\r\n     */\r\n    @ThreadSafe\r\n    @Deprecated\r\n    public class DefaultHttpClient extends AbstractHttpClient {\r\n\r\nNow you have the class to use, `HttpClientBuilder`, as there is no constructor to get a **builder** instance you may guess that there must be a static method instead: `create`. Once you have the builder you can also guess that as for most builders there is a **build method**, thus:\r\n\r\n    org.apache.http.impl.client.HttpClientBuilder.create().build();\r\n\r\n**AutoClosable:**\r\n\r\nAs Jules hinted in the comments, the returned class implements `java.io.Closable`, so if you use Java 7 or above you can now do:\r\n\r\n        try (CloseableHttpClient httpClient = HttpClientBuilder.create().build()) {...}\r\n\r\nThe advantage is that you do not have to deal with finally and nulls.\r\n\r\n**Other relevant info**\r\n\r\nAlso make sure to read about [connection pooling][2] and set the [timeouts][3].\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\r\n  [2]: https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html\r\n  [3]: https://stackoverflow.com/questions/39256157/apache-http-setsockettimout-vs-setconnecttimout-vs-setconnectionrequesttimeout","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>IMHO the accepted answer is correct but misses some 'teaching' as it does not explain how to come up with the answer.\nFor all deprecated classes look at the <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\" rel=\"noreferrer\"><strong>JavaDoc</strong></a> (if you do not have it either download it or <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/client/DefaultHttpClient.html\" rel=\"noreferrer\">go online</a>), it will hint at which class to use to replace the old code. Of course it will not tell you everything, but this is a start. Example:</p>\n\n<pre><code>...\n *\n * @deprecated (4.3) use {@link HttpClientBuilder}.  &lt;----- THE HINT IS HERE !\n */\n@ThreadSafe\n@Deprecated\npublic class DefaultHttpClient extends AbstractHttpClient {\n</code></pre>\n\n<p>Now you have the class to use, <code>HttpClientBuilder</code>, as there is no constructor to get a <strong>builder</strong> instance you may guess that there must be a static method instead: <code>create</code>. Once you have the builder you can also guess that as for most builders there is a <strong>build method</strong>, thus:</p>\n\n<pre><code>org.apache.http.impl.client.HttpClientBuilder.create().build();\n</code></pre>\n\n<p><strong>AutoClosable:</strong></p>\n\n<p>As Jules hinted in the comments, the returned class implements <code>java.io.Closable</code>, so if you use Java 7 or above you can now do:</p>\n\n<pre><code>    try (CloseableHttpClient httpClient = HttpClientBuilder.create().build()) {...}\n</code></pre>\n\n<p>The advantage is that you do not have to deal with finally and nulls.</p>\n\n<p><strong>Other relevant info</strong></p>\n\n<p>Also make sure to read about <a href=\"https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html\" rel=\"noreferrer\">connection pooling</a> and set the <a href=\"https://stackoverflow.com/questions/39256157/apache-http-setsockettimout-vs-setconnecttimout-vs-setconnectionrequesttimeout\">timeouts</a>.</p>\n"},{"tags":[],"owner":{"account_id":5909595,"reputation":81,"user_id":4650278,"display_name":"Frutos Marquez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441094605,"creation_date":1441094605,"answer_id":32326524,"question_id":15336477,"body_markdown":"This is the solution that I have applied to the problem that httpclient deprecated in this version of android 22\r\n\r\n     public static String getContenxtWeb(String urlS) {\r\n        String pagina = &quot;&quot;, devuelve = &quot;&quot;;\r\n        URL url;\r\n        try {\r\n            url = new URL(urlS);\r\n            HttpURLConnection conexion = (HttpURLConnection) url\r\n                    .openConnection();\r\n            conexion.setRequestProperty(&quot;User-Agent&quot;,\r\n                    &quot;Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)&quot;);\r\n            if (conexion.getResponseCode() == HttpURLConnection.HTTP_OK) {\r\n                BufferedReader reader = new BufferedReader(\r\n                        new InputStreamReader(conexion.getInputStream()));\r\n                String linea = reader.readLine();\r\n                while (linea != null) {\r\n                    pagina += linea;\r\n                    linea = reader.readLine();\r\n                }\r\n                reader.close();\r\n\r\n                devuelve = pagina;\r\n            } else {\r\n                conexion.disconnect();\r\n                return null;\r\n            }\r\n            conexion.disconnect();\r\n            return devuelve;\r\n        } catch (Exception ex) {\r\n            return devuelve;\r\n        }\r\n    }","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>This is the solution that I have applied to the problem that httpclient deprecated in this version of android 22</p>\n\n<pre><code> public static String getContenxtWeb(String urlS) {\n    String pagina = \"\", devuelve = \"\";\n    URL url;\n    try {\n        url = new URL(urlS);\n        HttpURLConnection conexion = (HttpURLConnection) url\n                .openConnection();\n        conexion.setRequestProperty(\"User-Agent\",\n                \"Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)\");\n        if (conexion.getResponseCode() == HttpURLConnection.HTTP_OK) {\n            BufferedReader reader = new BufferedReader(\n                    new InputStreamReader(conexion.getInputStream()));\n            String linea = reader.readLine();\n            while (linea != null) {\n                pagina += linea;\n                linea = reader.readLine();\n            }\n            reader.close();\n\n            devuelve = pagina;\n        } else {\n            conexion.disconnect();\n            return null;\n        }\n        conexion.disconnect();\n        return devuelve;\n    } catch (Exception ex) {\n        return devuelve;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2987459,"reputation":9583,"user_id":2535875,"accept_rate":50,"display_name":"Md Imran Choudhury"},"score":0,"creation_date":1499320072,"post_id":32364785,"comment_id":76857144,"body_markdown":"get error &quot;Caused by: java.lang.VerifyError: org/apache/http/conn/ssl/DefaultHostnameVerifier&quot;\n\nwhen use HttpClient client = HttpClients.createDefault();","body":"get error &quot;Caused by: java.lang.VerifyError: org/apache/http/conn/ssl/DefaultHostnameVerifier&quot;  when use HttpClient client = HttpClients.createDefault();"}],"tags":[],"owner":{"account_id":1903290,"reputation":7155,"user_id":1718678,"accept_rate":80,"display_name":"IvanRF"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1585547478,"creation_date":1441236827,"answer_id":32364785,"question_id":15336477,"body_markdown":"**[Examples from Apache](https://hc.apache.org/httpcomponents-client-4.5.x/examples.html)** use this:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n\r\nThe class `org.apache.http.impl.client.HttpClients` is there since version 4.3.\r\n\r\nThe code for `HttpClients.createDefault()` is the same as the [accepted answer][1] in here.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15336796","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p><strong><a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/examples.html\" rel=\"nofollow noreferrer\">Examples from Apache</a></strong> use this:</p>\n\n<pre><code>CloseableHttpClient httpclient = HttpClients.createDefault();\n</code></pre>\n\n<p>The class <code>org.apache.http.impl.client.HttpClients</code> is there since version 4.3.</p>\n\n<p>The code for <code>HttpClients.createDefault()</code> is the same as the <a href=\"https://stackoverflow.com/a/15336796\">accepted answer</a> in here.</p>\n"},{"comments":[{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1522833529,"post_id":49606275,"comment_id":86302430,"body_markdown":"Thanks for taking the time to answer, but how is this different from the accepted answer?","body":"Thanks for taking the time to answer, but how is this different from the accepted answer?"},{"owner":{"account_id":1075172,"reputation":5529,"user_id":1073487,"display_name":"Red Boy"},"score":1,"creation_date":1522837927,"post_id":49606275,"comment_id":86305439,"body_markdown":"Most of answers are psuedo codes, I tried doing an end-to-end basic working Java code with Apache HTTP Client API along with maven dependency. Nothing great though.","body":"Most of answers are psuedo codes, I tried doing an end-to-end basic working Java code with Apache HTTP Client API along with maven dependency. Nothing great though."}],"tags":[],"owner":{"account_id":1075172,"reputation":5529,"user_id":1073487,"display_name":"Red Boy"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522652352,"creation_date":1522649966,"answer_id":49606275,"question_id":15336477,"body_markdown":"**You could add the following Maven dependency.**\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpmime --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n**You could use following import in your java code.**\r\n\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpGett;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.client.methods.HttpUriRequest;\r\n\r\n**You could use following code block in your java code.**\r\n\r\n    HttpClient client = HttpClientBuilder.create().build();\r\n\tHttpUriRequest httpUriRequest = new HttpGet(&quot;http://example.domain/someuri&quot;);\r\n       \t\r\n\tHttpResponse response = client.execute(httpUriRequest);\r\n    System.out.println(&quot;Response:&quot;+response);","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p><strong>You could add the following Maven dependency.</strong></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpmime --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n        &lt;version&gt;4.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>You could use following import in your java code.</strong></p>\n\n<pre><code>import org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGett;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.client.methods.HttpUriRequest;\n</code></pre>\n\n<p><strong>You could use following code block in your java code.</strong></p>\n\n<pre><code>HttpClient client = HttpClientBuilder.create().build();\nHttpUriRequest httpUriRequest = new HttpGet(\"http://example.domain/someuri\");\n\nHttpResponse response = client.execute(httpUriRequest);\nSystem.out.println(\"Response:\"+response);\n</code></pre>\n"}],"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203495,"favorite_count":0,"down_vote_count":0,"up_vote_count":181,"accepted_answer_id":15336796,"answer_count":9,"score":181,"last_activity_date":1691008497,"creation_date":1362998335,"question_id":15336477,"body_markdown":"All I&#39;m trying to do is download some JSON and deserialize it into an object. I haven&#39;t got as far as downloading the JSON yet.\r\n\r\nAlmost every single HttpClient example I can find, including those on the apache site looks something like...\r\n\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    \r\n    public void blah() {\r\n        HttpClient client = new DefaultHttpClient();\r\n        ...\r\n    }\r\n\r\nHowever, Netbeans tells me that `DefaultHttpClient` is deprecated. I&#39;ve tried googling for `DefaultHttpClient deprecated` and as many other variations as I can think of and can&#39;t find any useful results, so I&#39;m obviously missing something.\r\n\r\nWhat is the correct Java7 way to download the contents of a webpage? Is there really no decent Http Client as part of the language? I find that hard to believe.\r\n\r\nMy Maven dependency for this is...\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;LATEST&lt;/version&gt;\r\n        &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Deprecated Java HttpClient - How hard can it be?","body":"<p>All I'm trying to do is download some JSON and deserialize it into an object. I haven't got as far as downloading the JSON yet.</p>\n\n<p>Almost every single HttpClient example I can find, including those on the apache site looks something like...</p>\n\n<pre><code>import org.apache.http.client.HttpClient;\nimport org.apache.http.impl.client.DefaultHttpClient;\n\npublic void blah() {\n    HttpClient client = new DefaultHttpClient();\n    ...\n}\n</code></pre>\n\n<p>However, Netbeans tells me that <code>DefaultHttpClient</code> is deprecated. I've tried googling for <code>DefaultHttpClient deprecated</code> and as many other variations as I can think of and can't find any useful results, so I'm obviously missing something.</p>\n\n<p>What is the correct Java7 way to download the contents of a webpage? Is there really no decent Http Client as part of the language? I find that hard to believe.</p>\n\n<p>My Maven dependency for this is...</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;LATEST&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","http","httpclient"],"comments":[{"owner":{"account_id":1449905,"reputation":1841,"user_id":1367154,"accept_rate":57,"display_name":"Nishanth"},"score":0,"creation_date":1528406141,"post_id":6051648,"comment_id":88508306,"body_markdown":"https://github.com/square/okhttp is a good and popular one. Very well maintained","body":"<a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\">github.com/square/okhttp</a> is a good and popular one. Very well maintained"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1644800074,"post_id":6051648,"comment_id":125695052,"body_markdown":"FYI: Java 11+ has a new HTTP client implementation built-in. See [*JEP 321: HTTP Client*](https://openjdk.java.net/jeps/321).","body":"FYI: Java 11+ has a new HTTP client implementation built-in. See <a href=\"https://openjdk.java.net/jeps/321\" rel=\"nofollow noreferrer\"><i>JEP 321: HTTP Client</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1305757173,"creation_date":1305756757,"answer_id":6051660,"question_id":6051648,"body_markdown":"Many people use [Apache&#39;s HTTPClient][1].\r\n\r\nHave a look at the first few chapters of [its tutorial][2] to see if it&#39;s what you&#39;re looking for.\r\n\r\nIf you&#39;re after something simple that&#39;s already built into Java, you can look at [HttpURLConnection][3], which you can use to build HTTP requests ([example][4]). If you need to do anything more than just simple HTTP requests, though, HTTPClient is probably the way to go.\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/\r\n  [2]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/index.html\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html\r\n  [4]: https://stackoverflow.com/questions/359439/how-do-i-retrieve-a-url-from-a-web-site-using-java/360291#360291","title":"HttpClient in java","body":"<p>Many people use <a href=\"http://hc.apache.org/httpcomponents-client-ga/\" rel=\"nofollow noreferrer\">Apache's HTTPClient</a>.</p>\n\n<p>Have a look at the first few chapters of <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/index.html\" rel=\"nofollow noreferrer\">its tutorial</a> to see if it's what you're looking for.</p>\n\n<p>If you're after something simple that's already built into Java, you can look at <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a>, which you can use to build HTTP requests (<a href=\"https://stackoverflow.com/questions/359439/how-do-i-retrieve-a-url-from-a-web-site-using-java/360291#360291\">example</a>). If you need to do anything more than just simple HTTP requests, though, HTTPClient is probably the way to go.</p>\n"},{"tags":[],"owner":{"account_id":1719885,"reputation":572,"user_id":1576089,"display_name":"Hachmaninow"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1382517412,"creation_date":1382517412,"answer_id":19536795,"question_id":6051648,"body_markdown":"There is another option in using [google-http-java-client][1]. \r\n\r\nThis library provides a simple and flexible API together with a pluggable approach to use low-level HTTP libraries like java.net.HttpURLConnection or Apache HTTP Client.\r\n\r\nSample code for posting content to content from an InputStream to a specific URL:\r\n\r\n    HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\r\n    HttpRequestFactory requestFactory = HTTP_TRANSPORT.createRequestFactory();\r\n    InputStream is = ...;\r\n    URL url = new URL(...);\r\n    String contentType = ...;\r\n    HttpRequest httpRequest = requestFactory.buildPostRequest(\r\n      new GenericUrl(url), new InputStreamContent(contentType, is)\r\n    );\r\n    HttpResponse execute = httpRequest.execute();\r\n\r\n\r\n  [1]: https://code.google.com/p/google-http-java-client/","title":"HttpClient in java","body":"<p>There is another option in using <a href=\"https://code.google.com/p/google-http-java-client/\" rel=\"nofollow\">google-http-java-client</a>. </p>\n\n<p>This library provides a simple and flexible API together with a pluggable approach to use low-level HTTP libraries like java.net.HttpURLConnection or Apache HTTP Client.</p>\n\n<p>Sample code for posting content to content from an InputStream to a specific URL:</p>\n\n<pre><code>HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\nHttpRequestFactory requestFactory = HTTP_TRANSPORT.createRequestFactory();\nInputStream is = ...;\nURL url = new URL(...);\nString contentType = ...;\nHttpRequest httpRequest = requestFactory.buildPostRequest(\n  new GenericUrl(url), new InputStreamContent(contentType, is)\n);\nHttpResponse execute = httpRequest.execute();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8069,"reputation":39367,"user_id":14302,"accept_rate":98,"display_name":"Nik Reiman"},"score":0,"creation_date":1603989782,"post_id":27602744,"comment_id":114216935,"body_markdown":"Sadly the above link is dead.","body":"Sadly the above link is dead."}],"tags":[],"owner":{"account_id":5522675,"reputation":25,"user_id":4385161,"display_name":"Amit G"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1419252700,"creation_date":1419251244,"answer_id":27602744,"question_id":6051648,"body_markdown":"You don&#39;t need a third party class, just use java&#39;s own `URL` and `HttpURLConnection` classes.  \r\nSee an example [here][1]. \r\n\r\n\r\n  [1]: http://agalaxyjava.blogspot.in/2014/12/simple-java-httpclient.html","title":"HttpClient in java","body":"<p>You don't need a third party class, just use java's own <code>URL</code> and <code>HttpURLConnection</code> classes.<br>\nSee an example <a href=\"http://agalaxyjava.blogspot.in/2014/12/simple-java-httpclient.html\" rel=\"nofollow\">here</a>. </p>\n"},{"comments":[{"owner":{"account_id":306470,"reputation":481,"user_id":617232,"display_name":"Hoang Tran"},"score":0,"creation_date":1447005036,"post_id":27846399,"comment_id":54969135,"body_markdown":"Unirest &amp; jcabi-http (as suggested by @yegor256) seem to be the 2 most easy to use library, and the usage are pretty similar. Do you guys know any different between the two?","body":"Unirest &amp; jcabi-http (as suggested by @yegor256) seem to be the 2 most easy to use library, and the usage are pretty similar. Do you guys know any different between the two?"},{"owner":{"account_id":5750179,"reputation":2797,"user_id":4540114,"accept_rate":44,"display_name":"Tobias Uhmann"},"score":0,"creation_date":1548435859,"post_id":27846399,"comment_id":95553715,"body_markdown":"Those static methods are a pain when it comes to unit testing. I&#39;m considering replacing Unirest with OkHttp in my project as I could pass in a mocked OkHttpClient object then (instead of using PowerMock as of now). Also, OkHttp comes with a MockWebServer for integration testing.","body":"Those static methods are a pain when it comes to unit testing. I&#39;m considering replacing Unirest with OkHttp in my project as I could pass in a mocked OkHttpClient object then (instead of using PowerMock as of now). Also, OkHttp comes with a MockWebServer for integration testing."},{"owner":{"account_id":10784730,"reputation":2516,"user_id":8252883,"accept_rate":38,"display_name":"Shuai Li"},"score":0,"creation_date":1557411662,"post_id":27846399,"comment_id":98763234,"body_markdown":"I think this is most easy to use client","body":"I think this is most easy to use client"}],"tags":[],"owner":{"account_id":40679,"reputation":1406,"user_id":117900,"accept_rate":100,"display_name":"Paweł Krupiński"},"comment_count":3,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1420739294,"creation_date":1420739294,"answer_id":27846399,"question_id":6051648,"body_markdown":"I highly recommend [Unirest](http://unirest.io/java.html):\r\n\r\n    Unirest.post(&quot;http://httpbin.org/post&quot;)\r\n      .queryString(&quot;name&quot;, &quot;Mark&quot;)\r\n      .field(&quot;last&quot;, &quot;Polo&quot;)\r\n      .asString()\r\n\r\n\r\n  [1]: http://unirest.io/java.html","title":"HttpClient in java","body":"<p>I highly recommend <a href=\"http://unirest.io/java.html\">Unirest</a>:</p>\n\n<pre><code>Unirest.post(\"http://httpbin.org/post\")\n  .queryString(\"name\", \"Mark\")\n  .field(\"last\", \"Polo\")\n  .asString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479379657,"creation_date":1479308760,"answer_id":40635471,"question_id":6051648,"body_markdown":"Try [Apache&#39;s HTTPClient fluent API][1] it&#39;s so easy in use!\r\n\r\n    // Execute a GET with timeout settings and return response content as String.\r\n    Request.Get(&quot;http://somehost/&quot;)\r\n        .connectTimeout(1000)\r\n        .socketTimeout(1000)\r\n        .execute().returnContent().asString();\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fluent.html","title":"HttpClient in java","body":"<p>Try <a href=\"http://hc.apache.org/httpcomponents-client-ga/tutorial/html/fluent.html\" rel=\"nofollow noreferrer\">Apache's HTTPClient fluent API</a> it's so easy in use!</p>\n\n<pre><code>// Execute a GET with timeout settings and return response content as String.\nRequest.Get(\"http://somehost/\")\n    .connectTimeout(1000)\n    .socketTimeout(1000)\n    .execute().returnContent().asString();\n</code></pre>\n"}],"owner":{"account_id":755326,"reputation":267,"user_id":760049,"display_name":"computeAlot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76095,"favorite_count":0,"down_vote_count":2,"up_vote_count":27,"closed_date":1479311482,"answer_count":5,"score":25,"last_activity_date":1691008466,"creation_date":1305756681,"question_id":6051648,"body_markdown":"I want to use a simple HttpClient.\r\n\r\nHowever, it appears `sun.net.www.http.HttpClient` is inaccessible.\r\n\r\nAlso, `com.ibm.ws.http.HTTPConnection` - appears to be more supporting of http server and not client. Why? Because when I create an instance of HttpConnection, it has a &quot;getHttpResponse&quot; to which I am supposed to write.\r\n\r\nAnyway to use the IBM HttpConnection for HttpClient?\r\n\r\nOr, is there any standard httpClient code that I can use?","title":"HttpClient in java","body":"<p>I want to use a simple HttpClient.</p>\n\n<p>However, it appears <code>sun.net.www.http.HttpClient</code> is inaccessible.</p>\n\n<p>Also, <code>com.ibm.ws.http.HTTPConnection</code> - appears to be more supporting of http server and not client. Why? Because when I create an instance of HttpConnection, it has a \"getHttpResponse\" to which I am supposed to write.</p>\n\n<p>Anyway to use the IBM HttpConnection for HttpClient?</p>\n\n<p>Or, is there any standard httpClient code that I can use?</p>\n"},{"tags":["java","sql","spring-boot","docker","h2"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1682072269,"post_id":76071925,"comment_id":134161727,"body_markdown":"When you say &quot;fails&quot;, what happens; can you [edit] the message to include your process&#39;s log messages?  Since H2 is an in-process in-memory database it shouldn&#39;t be any different running it in Docker or not.","body":"When you say &quot;fails&quot;, what happens; can you <a href=\"https://stackoverflow.com/posts/76071925/edit\">edit</a> the message to include your process&#39;s log messages?  Since H2 is an in-process in-memory database it shouldn&#39;t be any different running it in Docker or not."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682179992,"post_id":76071925,"comment_id":134176218,"body_markdown":"You say you want to use H2, but the error indicates a MySQL connection string was used.","body":"You say you want to use H2, but the error indicates a MySQL connection string was used."}],"answers":[{"comments":[{"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"score":0,"creation_date":1682081090,"post_id":76072745,"comment_id":134163653,"body_markdown":"If I run the app outside Docker works fine, so it is not that the reason I guess","body":"If I run the app outside Docker works fine, so it is not that the reason I guess"},{"owner":{"account_id":11389441,"reputation":71,"user_id":8350036,"display_name":"Danilo Jakob"},"score":1,"creation_date":1682087500,"post_id":76072745,"comment_id":134165262,"body_markdown":"Had you the chance to try it though? I&#39;ll be honest I only did a superficial research on the matter and as far as i can tell all examples i&#39;ve found thus far all use a database name.","body":"Had you the chance to try it though? I&#39;ll be honest I only did a superficial research on the matter and as far as i can tell all examples i&#39;ve found thus far all use a database name."},{"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"score":0,"creation_date":1682102221,"post_id":76072745,"comment_id":134168358,"body_markdown":"of course I tried","body":"of course I tried"}],"tags":[],"owner":{"account_id":11389441,"reputation":71,"user_id":8350036,"display_name":"Danilo Jakob"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1682076733,"creation_date":1682076733,"answer_id":76072745,"question_id":76071925,"body_markdown":"I think the problem lies within your `spring.datasource.url` property. It should also contain the name of the database you want to connect to. For example: `spring.datasource.url=jdbc:h2:mem:mydb`.","title":"Spring Boot H2 db in Docker container","body":"<p>I think the problem lies within your <code>spring.datasource.url</code> property. It should also contain the name of the database you want to connect to. For example: <code>spring.datasource.url=jdbc:h2:mem:mydb</code>.</p>\n"},{"tags":[],"owner":{"account_id":20515025,"reputation":70,"user_id":15055898,"display_name":"Clauber Martins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691007855,"creation_date":1691007855,"answer_id":76823273,"question_id":76071925,"body_markdown":"Refactor your code like this:\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.h2.console.enabled=true\r\nspring.h2.console.settings.web-allow-others=true\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=root\r\nspring.datasource.password=pass\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n```\r\nSo you are allowing remote connections and you can access the h2 database in docker.","title":"Spring Boot H2 db in Docker container","body":"<p>Refactor your code like this:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.h2.console.enabled=true\nspring.h2.console.settings.web-allow-others=true\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=root\nspring.datasource.password=pass\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>So you are allowing remote connections and you can access the h2 database in docker.</p>\n"}],"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691007855,"creation_date":1682070166,"question_id":76071925,"body_markdown":"I have a basic Spring Boot app running in a container with an in memory H2 database.\r\nI am able to run the container but seems that connection to the db fails.\r\n\r\n```\r\n2023-04-21T10:30:36.542599002Z org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Communications link failure\r\n\r\nSQL State  : 08S01\r\n2023-04-21T09:51:54.117632638Z Error Code : 0\r\n2023-04-21T09:51:54.117636830Z Message    : Communications link failure\r\n\r\n2023-04-21T09:51:54.209294453Z Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nCaused by: java.net.ConnectException: Connection refused\r\n```\r\n\r\n```\r\nversion: &#39;3.3&#39;\r\nservices:\r\n  \r\napp:\r\n\r\nbuild:\r\n  context: .\r\n\r\nports:\r\n  - &quot;8080:8080&quot;\r\n\r\ncommand: java -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=local -jar /app.jar  \r\n```\r\n\r\nproperties:\r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=root\r\nspring.datasource.password=pass\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n```\r\n\r\ndocker file:\r\n\r\n```\r\nFROM eclipse-temurin:17-jdk-alpine\r\nVOLUME /tmp\r\nCOPY target/*.jar app.jar\r\nEXPOSE 8080\r\n```","title":"Spring Boot H2 db in Docker container","body":"<p>I have a basic Spring Boot app running in a container with an in memory H2 database.\nI am able to run the container but seems that connection to the db fails.</p>\n<pre><code>2023-04-21T10:30:36.542599002Z org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: Communications link failure\n\nSQL State  : 08S01\n2023-04-21T09:51:54.117632638Z Error Code : 0\n2023-04-21T09:51:54.117636830Z Message    : Communications link failure\n\n2023-04-21T09:51:54.209294453Z Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nCaused by: java.net.ConnectException: Connection refused\n</code></pre>\n<pre><code>version: '3.3'\nservices:\n  \napp:\n\nbuild:\n  context: .\n\nports:\n  - &quot;8080:8080&quot;\n\ncommand: java -Djava.security.egd=file:/dev/./urandom -Dspring.profiles.active=local -jar /app.jar  \n</code></pre>\n<p>properties:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=root\nspring.datasource.password=pass\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p>docker file:</p>\n<pre><code>FROM eclipse-temurin:17-jdk-alpine\nVOLUME /tmp\nCOPY target/*.jar app.jar\nEXPOSE 8080\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","nhibernate-mapping"],"comments":[{"owner":{"account_id":2595198,"reputation":3707,"user_id":2255293,"display_name":"Marco Behler"},"score":0,"creation_date":1587144294,"post_id":61276947,"comment_id":108403113,"body_markdown":"i don&#39;t know the rest of your source code, but do you have a transaction open in your workflow? when does this exception happen?","body":"i don&#39;t know the rest of your source code, but do you have a transaction open in your workflow? when does this exception happen?"},{"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"score":0,"creation_date":1587187320,"post_id":61276947,"comment_id":108416148,"body_markdown":"@Override\n\tpublic Transaction getTransaction() throws HibernateException {\n\t\tif ( getFactory().getSessionFactoryOptions().getJpaCompliance().isJpaTransactionComplianceEnabled() ) {\n\t\t\t// JPA requires that we throw IllegalStateException if this is called\n\t\t\t// on a JTA EntityManager\n\t\t\tif ( getTransactionCoordinator().getTransactionCoordinatorBuilder().isJta() ) {\n\t\t\t\tif ( !getFactory().getSessionFactoryOptions().isJtaTransactionAccessEnabled() ) {\n\t\t\t\t\tthrow new IllegalStateException( &quot;A JTA EntityManager cannot use getTransaction()&quot; );\n\t\t\t\t}\n\t\t\t}\n\t\t}","body":"@Override \tpublic Transaction getTransaction() throws HibernateException { \t\tif ( getFactory().getSessionFactoryOptions().getJpaCompliance().i&zwnj;&#8203;sJpaTransactionCompl&zwnj;&#8203;ianceEnabled() ) { \t\t\t// JPA requires that we throw IllegalStateException if this is called \t\t\t// on a JTA EntityManager \t\t\tif ( getTransactionCoordinator().getTransactionCoordinatorBuilder&zwnj;&#8203;().isJta() ) { \t\t\t\tif ( !getFactory().getSessionFactoryOptions().isJtaTransactionAcc&zwnj;&#8203;essEnabled() ) { \t\t\t\t\tthrow new IllegalStateException( &quot;A JTA EntityManager cannot use getTransaction()&quot; ); \t\t\t\t} \t\t\t} \t\t}"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1617103294,"post_id":61276947,"comment_id":118204155,"body_markdown":"can u tell how how u resolved it?","body":"can u tell how how u resolved it?"},{"owner":{"account_id":17336075,"reputation":137,"user_id":12557978,"display_name":"Pluto_rider"},"score":0,"creation_date":1644666048,"post_id":61276947,"comment_id":125670351,"body_markdown":"Have you resolved this issue? if yes please provide the solution. currently facing the same","body":"Have you resolved this issue? if yes please provide the solution. currently facing the same"}],"answers":[{"tags":[],"owner":{"account_id":8396800,"reputation":3965,"user_id":6303579,"display_name":"QuickSilver"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587144275,"creation_date":1587144275,"answer_id":61277244,"question_id":61276947,"body_markdown":"You have missed dependency injection dataSource for txManager\r\nso the bean entry should look like\r\n```\r\n&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactoryBean&quot; /&gt;\r\n&lt;/bean&gt;\r\n```\r\n","title":"javax.persistence.TransactionRequiredException: no transaction is in progress in Spring 5","body":"<p>You have missed dependency injection dataSource for txManager\nso the bean entry should look like</p>\n\n<pre><code>&lt;bean id=\"txManager\" class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactoryBean\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7192553,"reputation":21,"user_id":5492341,"display_name":"Adi G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658391791,"creation_date":1658391791,"answer_id":73062903,"question_id":61276947,"body_markdown":"For me the solution proposed by QuickSilver didn&#39;t work.\r\nIn my case, I was calling session.flush() and there was, obviously, no transaction left in the session, which caused the above error. Even if I was flushing after the saveOrUpdate(), it seems that the flush occurred soon enough to lead to this error.\r\nRemoving the flush solved my issue.","title":"javax.persistence.TransactionRequiredException: no transaction is in progress in Spring 5","body":"<p>For me the solution proposed by QuickSilver didn't work.\nIn my case, I was calling session.flush() and there was, obviously, no transaction left in the session, which caused the above error. Even if I was flushing after the saveOrUpdate(), it seems that the flush occurred soon enough to lead to this error.\nRemoving the flush solved my issue.</p>\n"},{"comments":[{"owner":{"account_id":31256,"reputation":1176,"user_id":85711,"accept_rate":71,"display_name":"Greg Noe"},"score":0,"creation_date":1674327325,"post_id":73335875,"comment_id":132692796,"body_markdown":"Here&#39;s the Hibernate migration guide explaining why this was necessary: https://github.com/hibernate/hibernate-orm/blob/5.2/migration-guide.adoc#misc","body":"Here&#39;s the Hibernate migration guide explaining why this was necessary: <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2/migration-guide.adoc#misc\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-orm/blob/5.2/&hellip;</a>"}],"tags":[],"owner":{"account_id":20576249,"reputation":51,"user_id":15103375,"display_name":"Sharath"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660805545,"creation_date":1660315442,"answer_id":73335875,"question_id":61276947,"body_markdown":"Use the below property in hibernate.cfg.xml file\r\n\r\n    property -- &gt;   hibernate.allow_update_outside_transaction = true\r\n\r\nReference:  https://developer.jboss.org/thread/278691\r\n","title":"javax.persistence.TransactionRequiredException: no transaction is in progress in Spring 5","body":"<p>Use the below property in hibernate.cfg.xml file</p>\n<pre><code>property -- &gt;   hibernate.allow_update_outside_transaction = true\n</code></pre>\n<p>Reference:  <a href=\"https://developer.jboss.org/thread/278691\" rel=\"noreferrer\">https://developer.jboss.org/thread/278691</a></p>\n"}],"owner":{"account_id":3745976,"reputation":1103,"user_id":3114631,"display_name":"Sachin Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5332,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1691007272,"creation_date":1587143211,"question_id":61276947,"body_markdown":"I am working a product build in spring 3 and hibernate 3, i have updated this hibernate 5 and Spring 5. Now i am able to deploy the application, but when I try to connect with database then getting this &quot;javax.persistence.TransactionRequiredException: no transaction is in progress&quot;\r\n\r\n\r\n\t&lt;bean id=&quot;sessionFactoryBean&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceBean&quot; /&gt;\r\n\t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\t\t\t\r\n\t\t\t&lt;!-- The model class is incorporated here --&gt;\r\n\t\t\t&lt;list&gt;\t\t\t\t \r\n\t\t\t\t &lt;value&gt;com.test.ab.base.AaUser&lt;/value&gt;\r\n\t\t\t\t &lt;value&gt;com.test.ab.dealer.AaDealer&lt;/value&gt;\r\n               &lt;list&gt;\r\n&lt;/bean&gt;\r\n\r\n\r\n &lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; /&gt; \r\n\t\r\n\t&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n    \t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactoryBean&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\nAnd this is my Dao Layer:\r\n\r\n    public class DatabaseConnection extends HibernateDaoSupport {\r\n    \t \r\n    \tpublic DatabaseConnection (){\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static String QUERY_PREFIX_COUNT = &quot;SELECT COUNT(*) &quot;;\r\n    \t\r\n    \tprotected void applyNamedParameterToQuery(Query queryObject, String paramName, Object value)\r\n    \t\t\tthrows HibernateException {\r\n    \r\n    \t\tif (value instanceof Collection) {\r\n    \t\t\tqueryObject.setParameterList(paramName, (Collection) value);\r\n    \t\t}\r\n    \t\telse if (value instanceof Object[]) {\r\n    \t\t\tqueryObject.setParameterList(paramName, (Object[]) value);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tqueryObject.setParameter(paramName, value);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprotected String save(Object obj) throws HibernateException {\r\n    \t\treturn getHibernateTemplate().save(obj).toString();\r\n    \t}\r\n    \t\r\n    \tprotected void update(Object obj) throws HibernateException {\r\n    \t\tgetHibernateTemplate().update(obj);\r\n    \t}\r\n    \r\n    \t//this is to be used to attached the detached object in session...\r\n    \tprotected void merge(Object obj) throws HibernateException {\r\n    \t\tgetHibernateTemplate().merge(obj);\r\n    \t}\r\n    \t\r\n    \tprotected void saveOrUpdObj(Object obj) throws HibernateException {\r\n    \t\tgetHibernateTemplate().saveOrUpdate(obj);\r\n    \t}\r\n    }\r\n\r\n\r\n&lt;pre&gt;\r\njavax.persistence.TransactionRequiredException: no transaction is in progress\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398)\r\n\tat org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3584)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1462)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:148)\r\n\tat org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\r\n\tat org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:96)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:919)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:727)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy89.getAllAbModuleUserMapping(Unknown Source)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.fillModules(WelcomeActionManager.java:249)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.createUsrSessBean(WelcomeActionManager.java:211)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserDataInternal(WelcomeActionManager.java:83)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserData(WelcomeActionManager.java:61)\r\n\tat com.actionbean.ab.base.WelcomeAction.performExecute(WelcomeAction.java:47)\r\n\tat com.actionbean.ab.base.BaseAction.execute(BaseAction.java:153)\r\n\tat org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\tat org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.actionbean.ab.filter.AbFilter.doFilter(AbFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:444)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\njavax.persistence.TransactionRequiredException: no transaction is in progress\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398)\r\n\tat org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3584)\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1462)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)\r\n\tat org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:148)\r\n\tat org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\r\n\tat org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:96)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:919)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:727)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy89.getAllAbModuleUserMapping(Unknown Source)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.fillModules(WelcomeActionManager.java:249)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.createUsrSessBean(WelcomeActionManager.java:211)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserDataInternal(WelcomeActionManager.java:83)\r\n\tat com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserData(WelcomeActionManager.java:61)\r\n\tat com.actionbean.ab.base.WelcomeAction.performExecute(WelcomeAction.java:47)\r\n\tat com.actionbean.ab.base.BaseAction.execute(BaseAction.java:153)\r\n\tat org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\r\n\tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\r\n\tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\r\n\tat org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat com.actionbean.ab.filter.AbFilter.doFilter(AbFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:444)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n&lt;/pre&gt;\r\n\r\n\r\n","title":"javax.persistence.TransactionRequiredException: no transaction is in progress in Spring 5","body":"<p>I am working a product build in spring 3 and hibernate 3, i have updated this hibernate 5 and Spring 5. Now i am able to deploy the application, but when I try to connect with database then getting this &quot;javax.persistence.TransactionRequiredException: no transaction is in progress&quot;</p>\n<pre><code>&lt;bean id=&quot;sessionFactoryBean&quot;\n    class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceBean&quot; /&gt;\n    &lt;property name=&quot;annotatedClasses&quot;&gt;          \n        &lt;!-- The model class is incorporated here --&gt;\n        &lt;list&gt;               \n             &lt;value&gt;com.test.ab.base.AaUser&lt;/value&gt;\n             &lt;value&gt;com.test.ab.dealer.AaDealer&lt;/value&gt;\n           &lt;list&gt;\n</code></pre>\n\n<p>&lt;tx:annotation-driven transaction-manager=&quot;txManager&quot; /&gt;</p>\n<pre><code>&lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactoryBean&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>And this is my Dao Layer:</p>\n<pre><code>public class DatabaseConnection extends HibernateDaoSupport {\n     \n    public DatabaseConnection (){\n        \n    }\n    \n    public static String QUERY_PREFIX_COUNT = &quot;SELECT COUNT(*) &quot;;\n    \n    protected void applyNamedParameterToQuery(Query queryObject, String paramName, Object value)\n            throws HibernateException {\n\n        if (value instanceof Collection) {\n            queryObject.setParameterList(paramName, (Collection) value);\n        }\n        else if (value instanceof Object[]) {\n            queryObject.setParameterList(paramName, (Object[]) value);\n        }\n        else {\n            queryObject.setParameter(paramName, value);\n        }\n    }\n\n    protected String save(Object obj) throws HibernateException {\n        return getHibernateTemplate().save(obj).toString();\n    }\n    \n    protected void update(Object obj) throws HibernateException {\n        getHibernateTemplate().update(obj);\n    }\n\n    //this is to be used to attached the detached object in session...\n    protected void merge(Object obj) throws HibernateException {\n        getHibernateTemplate().merge(obj);\n    }\n    \n    protected void saveOrUpdObj(Object obj) throws HibernateException {\n        getHibernateTemplate().saveOrUpdate(obj);\n    }\n}\n</code></pre>\n<pre>\njavax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398)\n    at org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3584)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1462)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)\n    at org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:148)\n    at org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\n    at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:96)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:919)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:727)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy89.getAllAbModuleUserMapping(Unknown Source)\n    at com.actionbean.ab.base.WelcomeActionManager.fillModules(WelcomeActionManager.java:249)\n    at com.actionbean.ab.base.WelcomeActionManager.createUsrSessBean(WelcomeActionManager.java:211)\n    at com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserDataInternal(WelcomeActionManager.java:83)\n    at com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserData(WelcomeActionManager.java:61)\n    at com.actionbean.ab.base.WelcomeAction.performExecute(WelcomeAction.java:47)\n    at com.actionbean.ab.base.BaseAction.execute(BaseAction.java:153)\n    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\n    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at com.actionbean.ab.filter.AbFilter.doFilter(AbFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:444)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\njavax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.internal.AbstractSharedSessionContract.checkTransactionNeededForUpdateOperation(AbstractSharedSessionContract.java:398)\n    at org.hibernate.internal.SessionImpl.checkTransactionNeededForUpdateOperation(SessionImpl.java:3584)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1462)\n    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1458)\n    at org.springframework.orm.hibernate5.SessionFactoryUtils.flush(SessionFactoryUtils.java:148)\n    at org.springframework.orm.hibernate5.SpringSessionSynchronization.beforeCommit(SpringSessionSynchronization.java:95)\n    at org.springframework.transaction.support.TransactionSynchronizationUtils.triggerBeforeCommit(TransactionSynchronizationUtils.java:96)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.triggerBeforeCommit(AbstractPlatformTransactionManager.java:919)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:727)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:631)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy89.getAllAbModuleUserMapping(Unknown Source)\n    at com.actionbean.ab.base.WelcomeActionManager.fillModules(WelcomeActionManager.java:249)\n    at com.actionbean.ab.base.WelcomeActionManager.createUsrSessBean(WelcomeActionManager.java:211)\n    at com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserDataInternal(WelcomeActionManager.java:83)\n    at com.actionbean.ab.base.WelcomeActionManager.retrieveSessionUserData(WelcomeActionManager.java:61)\n    at com.actionbean.ab.base.WelcomeAction.performExecute(WelcomeAction.java:47)\n    at com.actionbean.ab.base.BaseAction.execute(BaseAction.java:153)\n    at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:425)\n    at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:228)\n    at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1913)\n    at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:462)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at com.actionbean.ab.filter.AbFilter.doFilter(AbFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:444)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:319)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</pre>\n"},{"tags":["java","maven","jar","maven-3"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701607230,"post_id":76822536,"comment_id":136794403,"body_markdown":"What do you mean by `The size of Base Module is large because it has many source files and lot of third party dependencies.` Do you package the source files in your jar file? Why using fat jars as dependencies for others thats the wrong way... never do that....","body":"What do you mean by <code>The size of Base Module is large because it has many source files and lot of third party dependencies.</code> Do you package the source files in your jar file? Why using fat jars as dependencies for others thats the wrong way... never do that...."}],"owner":{"account_id":3401937,"reputation":21,"user_id":2853900,"display_name":"Jaydeep S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691006954,"creation_date":1691000078,"question_id":76822536,"body_markdown":"We are converting legacy application from On Premise to Cloud. \r\n\r\nNew Cloud offering has a Micro service architecture. In order to reuse some of the existing code we have used one of the Modules (Base Module - Common code) from On-Prem Project and added it as a dependency in most of Micro services.   \r\n\r\nThe problem here is - Size of the base module dependency is too large roughly 150 MB and since it is included in multiple micro services the fat jar created for most of micro services is also large which in turn increases the overall size.\r\n\r\n\r\n\r\nThe size of Base Module is large because it has many source files and lot of third party dependencies.\r\n\r\nWe tried removing the unnecessary code and keeping only required classes and third party jars but since it is legacy code there are lot of interdependent classes and this thing is just not working even after spending lot of time on cleanup. \r\n\r\nIs there any another way to decrease the size of all micro service&#39;s jar ? \r\n\r\nAlthough I know it is compile time dependency but still - Something like only one fat jar created for Base Module and that is referenced by other micro services but that base module&#39;s fat jar is not bundled in each micro service&#39;s jar.\r\n\r\nOr any other options ","title":"Maven : How to decrease jar size in maven-project?","body":"<p>We are converting legacy application from On Premise to Cloud.</p>\n<p>New Cloud offering has a Micro service architecture. In order to reuse some of the existing code we have used one of the Modules (Base Module - Common code) from On-Prem Project and added it as a dependency in most of Micro services.</p>\n<p>The problem here is - Size of the base module dependency is too large roughly 150 MB and since it is included in multiple micro services the fat jar created for most of micro services is also large which in turn increases the overall size.</p>\n<p>The size of Base Module is large because it has many source files and lot of third party dependencies.</p>\n<p>We tried removing the unnecessary code and keeping only required classes and third party jars but since it is legacy code there are lot of interdependent classes and this thing is just not working even after spending lot of time on cleanup.</p>\n<p>Is there any another way to decrease the size of all micro service's jar ?</p>\n<p>Although I know it is compile time dependency but still - Something like only one fat jar created for Base Module and that is referenced by other micro services but that base module's fat jar is not bundled in each micro service's jar.</p>\n<p>Or any other options</p>\n"},{"tags":["java","spring","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1690850095,"post_id":76807381,"comment_id":135407401,"body_markdown":"A Spring+JavaFX app for somebody who is a beginner at Java is very ambitious.","body":"A Spring+JavaFX app for somebody who is a beginner at Java is very ambitious."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691006932,"creation_date":1691005946,"answer_id":76823114,"question_id":76807381,"body_markdown":"**Making your application non-modular**\r\n\r\nSpring &lt;=6 does not work well or easily with [java platform modules][1] in my experience. \r\n\r\nInstead, make your application non-modular. To do this, remove the `module-info.java` file from your application. \r\n\r\nThen you need JavaFX on your module path. The easiest way to do that IMO is to use a JDK that includes JavaFX, either:\r\n\r\n * Azul Zulu &quot;JDK FX&quot; \r\n\r\nOR \r\n\r\n * Bellsoft Liberica &quot;Full JDK&quot;\r\n\r\nOtherwise, follow the [getting started instructions at openjfx.io][2] for non-modular JavaFX applications.  \r\n\r\n**My thoughts on Spring 6 with Java Platform Modules**\r\n\r\nSpring 6 (and Spring Boot 3) [can be made to work in a modular application][3] with some effort.  \r\n\r\nUsing Spring components as modules means that many of the components and their transitive dependencies are deployed as [automatic modules][4].  Automatic modules differ from well-defined modules.  Automatic modules do not include a module definition in a `module-info` file.  \r\n\r\nThe use of automatic modules means that you can&#39;t take advantage of benefits that you would otherwise receive from the module system.  For instance, at least with Java 20, you can&#39;t use [`jlink`][5] to package a runtime that includes automatic modules.  By creating a modular project that uses Spring modules in automatic module form, you receive many of the difficulties of creating such a modular application while realizing only a few of the benefits.  It is a bitter pill with little upside.\r\n\r\nIMO, it is just not worth the effort to use Spring 6 or SpringBoot 3 in a modular JavaFX 20 application.  Instead, SpringBoot 3 in a non-modular JavaFX 20 application is recommended.\r\n\r\nPerhaps a future upgrade of Spring will make it more module friendly and thus change the recommendation, perhaps not.\r\n\r\n\r\n  [1]: https://www.oracle.com/corporate/features/understanding-java-9-modules.html\r\n  [2]: https://openjfx.io/openjfx-docs/\r\n  [3]: https://developer.okta.com/blog/2020/07/27/spring-boot-using-java-modules\r\n  [4]: https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/jlink.html","title":"IllegalAccessError in unnamed module using springframework","body":"<p><strong>Making your application non-modular</strong></p>\n<p>Spring &lt;=6 does not work well or easily with <a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">java platform modules</a> in my experience.</p>\n<p>Instead, make your application non-modular. To do this, remove the <code>module-info.java</code> file from your application.</p>\n<p>Then you need JavaFX on your module path. The easiest way to do that IMO is to use a JDK that includes JavaFX, either:</p>\n<ul>\n<li>Azul Zulu &quot;JDK FX&quot;</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Bellsoft Liberica &quot;Full JDK&quot;</li>\n</ul>\n<p>Otherwise, follow the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">getting started instructions at openjfx.io</a> for non-modular JavaFX applications.</p>\n<p><strong>My thoughts on Spring 6 with Java Platform Modules</strong></p>\n<p>Spring 6 (and Spring Boot 3) <a href=\"https://developer.okta.com/blog/2020/07/27/spring-boot-using-java-modules\" rel=\"nofollow noreferrer\">can be made to work in a modular application</a> with some effort.</p>\n<p>Using Spring components as modules means that many of the components and their transitive dependencies are deployed as <a href=\"https://stackoverflow.com/questions/46741907/what-is-an-automatic-module\">automatic modules</a>.  Automatic modules differ from well-defined modules.  Automatic modules do not include a module definition in a <code>module-info</code> file.</p>\n<p>The use of automatic modules means that you can't take advantage of benefits that you would otherwise receive from the module system.  For instance, at least with Java 20, you can't use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a> to package a runtime that includes automatic modules.  By creating a modular project that uses Spring modules in automatic module form, you receive many of the difficulties of creating such a modular application while realizing only a few of the benefits.  It is a bitter pill with little upside.</p>\n<p>IMO, it is just not worth the effort to use Spring 6 or SpringBoot 3 in a modular JavaFX 20 application.  Instead, SpringBoot 3 in a non-modular JavaFX 20 application is recommended.</p>\n<p>Perhaps a future upgrade of Spring will make it more module friendly and thus change the recommendation, perhaps not.</p>\n"}],"owner":{"account_id":29131860,"reputation":31,"user_id":22316931,"display_name":"mjsick1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691006932,"creation_date":1690840895,"question_id":76807381,"body_markdown":"I&#39;ve been trying to solve this error for hours and just cannot figure it out. I&#39;m integrating JavaFX, Spring, and several other dependencies in this application, and it&#39;s being built using Maven. It seems like the issue is maybe something with my Spring compatibility with my jdk version or my javafx version? Or maybe its my code or my module-info file. I have no clue, but I need some help diagnosing what this issue is. I&#39;m pretty much a beginner at Java, so I may be way off as to what&#39;s causing this. Here&#39;s my full error:\r\n\r\n    java.lang.IllegalStateException: Unable to load cache item\r\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) \\~\\[spring-context-6.0.11.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:312) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) \\~\\[spring-boot-3.1.2.jar:na\\]\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen.start(EmailSubmitScreen.java:21) \\~\\[classes/:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400) \\~\\[na:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    at javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\r\n    Caused by: java.lang.IllegalAccessError: class com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0 (in module com.haven.hipmobileapp) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x63bae4c7) because module com.haven.hipmobileapp does not read unnamed module @0x63bae4c7\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.CGLIB$STATICHOOK1(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.\\&lt;clinit\\&gt;(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\r\n    at java.base/java.lang.Class.forName0(Native Method) \\~\\[na:na\\]\r\n    at java.base/java.lang.Class.forName(Class.java:496) \\~\\[na:na\\]\r\n    at java.base/java.lang.Class.forName(Class.java:475) \\~\\[na:na\\]\r\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) \\~\\[na:na\\]\r\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\r\n    ... 26 common frames omitted\r\n    \r\n    Exception in Application start method\r\n    Exception in Application stop method\r\n    java.lang.reflect.InvocationTargetException\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n    at java.base/java.lang.Thread.run(Thread.java:1623)\r\n    Caused by: java.lang.IllegalStateException: Unable to load cache item\r\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75)\r\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130)\r\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317)\r\n    at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562)\r\n    at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407)\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138)\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531)\r\n    at spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308)\r\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358)\r\n    at spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150)\r\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\r\n    at spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\r\n    at spring.boot@3.1.2/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n    at spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen.start(EmailSubmitScreen.java:21)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    at javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    at javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    Caused by: java.lang.IllegalAccessError: class com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0 (in module com.haven.hipmobileapp) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x63bae4c7) because module com.haven.hipmobileapp does not read unnamed module @0x63bae4c7\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.CGLIB$STATICHOOK1(\\&lt;generated\\&gt;)\r\n    at com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.\\&lt;clinit\\&gt;(\\&lt;generated\\&gt;)\r\n    at java.base/java.lang.Class.forName0(Native Method)\r\n    at java.base/java.lang.Class.forName(Class.java:496)\r\n    at java.base/java.lang.Class.forName(Class.java:475)\r\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551)\r\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371)\r\n    at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575)\r\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107)\r\n    at org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52)\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57)\r\n    ... 26 more\r\n    Exception running application com.haven.hipmobileapp.EmailSubmitScreen\r\n    \r\n    Process finished with exit code 1\r\n\r\nHere&#39;s my code for my main class:\r\n\r\n```\r\npackage com.haven.hipmobileapp;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport net.rgielen.fxweaver.core.FxWeaver;\r\n\r\n@SpringBootApplication\r\npublic class EmailSubmitScreen extends Application {\r\n\r\n    private ConfigurableApplicationContext applicationContext;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n\r\n        applicationContext = SpringApplication.run(EmailSubmitScreen.class);\r\n        // Get the FxWeaver instance from the Spring context\r\n        FxWeaver fxWeaver = applicationContext.getBean(FxWeaver.class);\r\n\r\n        // Load FXML file with FxWeaver\r\n        Parent root = fxWeaver.loadView(EmailInputController.class);\r\n\r\n        // Create the scene and set it on the stage\r\n        Scene scene = new Scene(root, 800, 600);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    @Override\r\n    public void stop() throws Exception{\r\n        // Close the Spring context\r\n        applicationContext.close();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Launch the JavaFX application\r\n        launch(args);\r\n    }\r\n}\r\n`\r\n```\r\n\r\nHere&#39;s my controller class:\r\n\r\n```\r\npackage com.haven.hipmobileapp;\r\n\r\nimport javafx.event.Event;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport net.rgielen.fxweaver.core.FxmlView;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\n\r\n@Controller\r\n@FxmlView(&quot;/com/haven/hipmobileapp/EmailMenu.fxml&quot;)\r\npublic class EmailInputController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @FXML\r\n    private TextField emailTextField;\r\n\r\n    @FXML\r\n    private Button submitButton;\r\n\r\n    public EmailInputController(){\r\n\r\n    }\r\n\r\n\r\n    // Constructor to inject the UserService\r\n\r\n    // This method will be called when the submit button is tapped or clicked\r\n    @FXML\r\n    private void handleSubmitButtonAction(Event event) {\r\n        String email = emailTextField.getText();\r\n\r\n        // Generate temporary password\r\n        String tempPassword = PasswordGenerator.generateTemporaryPassword(15);\r\n        String encodedPassword = PasswordGenerator.encodePassword(tempPassword);\r\n\r\n        // Use the UserService to register the user\r\n        User registeredUser = userService.registerUser(email, encodedPassword);\r\n        // Clear the email text field\r\n        emailTextField.clear();\r\n\r\n        // Display a message to the user\r\n        if (registeredUser != null) {\r\n            System.out.println(&quot;User registered with email: &quot; + email);\r\n        } else {\r\n            System.out.println(&quot;User registration failed.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s the service being called:\r\n\r\n```\r\npackage com.haven.hipmobileapp;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    public User registerUser(String email, String encodedPassword) {\r\n        // Encode the user&#39;s password using BCryptPasswordEncoder\r\n        if (userRepository.existsByEmail(email)){\r\n            return null;\r\n    }\r\n\r\n        // Create a new user object and save it to the database\r\n        User newUser = new User(email, encodedPassword);\r\n       return userRepository.save(newUser);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried to add ALL-UNNAMED for the module in my JVM arguments but that hasn&#39;t worked. Happy to provide any other info needed.\r\n","title":"IllegalAccessError in unnamed module using springframework","body":"<p>I've been trying to solve this error for hours and just cannot figure it out. I'm integrating JavaFX, Spring, and several other dependencies in this application, and it's being built using Maven. It seems like the issue is maybe something with my Spring compatibility with my jdk version or my javafx version? Or maybe its my code or my module-info file. I have no clue, but I need some help diagnosing what this issue is. I'm pretty much a beginner at Java, so I may be way off as to what's causing this. Here's my full error:</p>\n<pre><code>java.lang.IllegalStateException: Unable to load cache item\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) \\~\\[spring-context-6.0.11.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:312) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) \\~\\[spring-boot-3.1.2.jar:na\\]\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) \\~\\[spring-boot-3.1.2.jar:na\\]\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen.start(EmailSubmitScreen.java:21) \\~\\[classes/:na\\]\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:400) \\~\\[na:na\\]\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nat javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95) \\~\\[javafx-graphics-20.0.1-mac-aarch64.jar:na\\]\nCaused by: java.lang.IllegalAccessError: class com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0 (in module com.haven.hipmobileapp) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x63bae4c7) because module com.haven.hipmobileapp does not read unnamed module @0x63bae4c7\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.CGLIB$STATICHOOK1(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.\\&lt;clinit\\&gt;(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\nat java.base/java.lang.Class.forName0(Native Method) \\~\\[na:na\\]\nat java.base/java.lang.Class.forName(Class.java:496) \\~\\[na:na\\]\nat java.base/java.lang.Class.forName(Class.java:475) \\~\\[na:na\\]\nat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) \\~\\[na:na\\]\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57) \\~\\[spring-core-6.0.11.jar:6.0.11\\]\n... 26 common frames omitted\n\nException in Application start method\nException in Application stop method\njava.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1081)\nCaused by: java.lang.RuntimeException: Exception in Application start method\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\nat java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.lang.IllegalStateException: Unable to load cache item\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:75)\nat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:130)\nat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:317)\nat org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:562)\nat org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:407)\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:138)\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109)\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:531)\nat spring.context@6.0.11/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:308)\nat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:358)\nat spring.context@6.0.11/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:150)\nat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)\nat spring.context@6.0.11/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)\nat spring.boot@3.1.2/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nat spring.boot@3.1.2/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen.start(EmailSubmitScreen.java:21)\nat javafx.graphics@20.0.1/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\nat javafx.graphics@20.0.1/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\nat javafx.graphics@20.0.1/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\nCaused by: java.lang.IllegalAccessError: class com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0 (in module com.haven.hipmobileapp) cannot access class org.springframework.cglib.core.ReflectUtils (in unnamed module @0x63bae4c7) because module com.haven.hipmobileapp does not read unnamed module @0x63bae4c7\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.CGLIB$STATICHOOK1(\\&lt;generated\\&gt;)\nat com.haven.hipmobileapp/com.haven.hipmobileapp.EmailSubmitScreen$$SpringCGLIB$$0.\\&lt;clinit\\&gt;(\\&lt;generated\\&gt;)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:496)\nat java.base/java.lang.Class.forName(Class.java:475)\nat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:551)\nat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:371)\nat org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:575)\nat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.lambda$new$1(AbstractClassGenerator.java:107)\nat org.springframework.cglib.core.internal.LoadingCache.lambda$createEntry$1(LoadingCache.java:52)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\nat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:57)\n... 26 more\nException running application com.haven.hipmobileapp.EmailSubmitScreen\n\nProcess finished with exit code 1\n</code></pre>\n<p>Here's my code for my main class:</p>\n<pre><code>package com.haven.hipmobileapp;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport net.rgielen.fxweaver.core.FxWeaver;\n\n@SpringBootApplication\npublic class EmailSubmitScreen extends Application {\n\n    private ConfigurableApplicationContext applicationContext;\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n\n        applicationContext = SpringApplication.run(EmailSubmitScreen.class);\n        // Get the FxWeaver instance from the Spring context\n        FxWeaver fxWeaver = applicationContext.getBean(FxWeaver.class);\n\n        // Load FXML file with FxWeaver\n        Parent root = fxWeaver.loadView(EmailInputController.class);\n\n        // Create the scene and set it on the stage\n        Scene scene = new Scene(root, 800, 600);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    @Override\n    public void stop() throws Exception{\n        // Close the Spring context\n        applicationContext.close();\n    }\n\n    public static void main(String[] args) {\n        // Launch the JavaFX application\n        launch(args);\n    }\n}\n`\n</code></pre>\n<p>Here's my controller class:</p>\n<pre><code>package com.haven.hipmobileapp;\n\nimport javafx.event.Event;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport net.rgielen.fxweaver.core.FxmlView;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\n\n@Controller\n@FxmlView(&quot;/com/haven/hipmobileapp/EmailMenu.fxml&quot;)\npublic class EmailInputController {\n\n    @Autowired\n    private UserService userService;\n\n    @FXML\n    private TextField emailTextField;\n\n    @FXML\n    private Button submitButton;\n\n    public EmailInputController(){\n\n    }\n\n\n    // Constructor to inject the UserService\n\n    // This method will be called when the submit button is tapped or clicked\n    @FXML\n    private void handleSubmitButtonAction(Event event) {\n        String email = emailTextField.getText();\n\n        // Generate temporary password\n        String tempPassword = PasswordGenerator.generateTemporaryPassword(15);\n        String encodedPassword = PasswordGenerator.encodePassword(tempPassword);\n\n        // Use the UserService to register the user\n        User registeredUser = userService.registerUser(email, encodedPassword);\n        // Clear the email text field\n        emailTextField.clear();\n\n        // Display a message to the user\n        if (registeredUser != null) {\n            System.out.println(&quot;User registered with email: &quot; + email);\n        } else {\n            System.out.println(&quot;User registration failed.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here's the service being called:</p>\n<pre><code>package com.haven.hipmobileapp;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    @Autowired\n    public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    public User registerUser(String email, String encodedPassword) {\n        // Encode the user's password using BCryptPasswordEncoder\n        if (userRepository.existsByEmail(email)){\n            return null;\n    }\n\n        // Create a new user object and save it to the database\n        User newUser = new User(email, encodedPassword);\n       return userRepository.save(newUser);\n    }\n}\n</code></pre>\n<p>I've tried to add ALL-UNNAMED for the module in my JVM arguments but that hasn't worked. Happy to provide any other info needed.</p>\n"},{"tags":["java","debugging"],"owner":{"account_id":29081477,"reputation":1,"user_id":22288144,"display_name":"Nicole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690986831,"answer_count":0,"score":0,"last_activity_date":1691005787,"creation_date":1690985273,"question_id":76820722,"body_markdown":"Right now the code works but, it prints out line 3 even though there is no data for number 3 so it follows with a bunch of zeros. How can I skip blanks instead?\r\n\r\n\r\n    //DataManager.java\r\n    \r\n    \r\n    import java.io.*;\r\n    \r\n    public class DataManager {\r\n        public static void main(String[] args) {\r\n            DataManager dataManager = new DataManager();\r\n            dataManager.init();\r\n        }\r\n    \r\n        public void init() {\r\n            Row dataSet[] = new Row[13486]; // current number of rows in the dataset\r\n    \r\n            // read the data\r\n            try (FileReader fr =\r\n                     new FileReader(&quot;SmallAreaIncomePovertyEstData.txt&quot;)) {\r\n                int c;\r\n                int i = 0;\r\n                int j = 0;\r\n                char rowInputs[] = new char[1130]; // number of characters per row\r\n    \r\n                while ((c = fr.read()) != -1) {\r\n                    rowInputs[i] = (char) c;\r\n                    i++;\r\n                    if (c == 10) { // `32` is blank space, &#39;10&#39; is new line\r\n                        dataSet[j] = new Row(rowInputs);\r\n                        j++;\r\n                        i = 0;\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;I/O Error: &quot; + e);\r\n            }\r\n    \r\n            // manipulate the data\r\n            this.manipulateData(dataSet);\r\n    \r\n            // write the data\r\n        }\r\n    \r\n        public Row[] manipulateData(Row[] dataset) {\r\n            Row[] manipulatedData = new Row[57];\r\n    \r\n            try (BufferedWriter bw = new BufferedWriter(new FileWriter(\r\n                     &quot;../SmallAreaIncomePovertyEstDataManipulated.txt&quot;))) {\r\n                int stateId = 1; // starting point id\r\n                int statePopulation = 0;\r\n                int stateChildPopulation = 0;\r\n                int stateChildPovertyPopulation = 0;\r\n                for (int i = 0; i &lt; dataset.length; i++) {\r\n                    if (dataset[i].id == stateId) {\r\n                        statePopulation += dataset[i].population;\r\n                        stateChildPopulation += dataset[i].childPopulation;\r\n                        stateChildPovertyPopulation +=\r\n                            dataset[i].childPovertyPopulation;\r\n                    } else {\r\n                        double stateChildPovertyPopulationPercentage = 0;\r\n                        if (stateChildPopulation != 0) {\r\n                            stateChildPovertyPopulationPercentage =\r\n                                (double) stateChildPovertyPopulation\r\n                                / stateChildPopulation * 100;\r\n                            int z = 12;\r\n                        } else {\r\n                            stateChildPovertyPopulationPercentage = 0;\r\n                        }\r\n                        bw.append(stateId + &quot; \\t &quot; + statePopulation + &quot; \\t &quot;\r\n                            + stateChildPopulation + &quot; \\t &quot;\r\n                            + stateChildPovertyPopulation + &quot; \\t &quot;\r\n                            + stateChildPovertyPopulationPercentage + &quot;\\n&quot;);\r\n                        statePopulation = 0;\r\n                        stateChildPopulation = 0;\r\n                        stateChildPovertyPopulation = 0;\r\n                        i--;\r\n                        stateId++;\r\n                    }\r\n                }\r\n    \r\n            } catch (IOException e) {\r\n                System.out.println(&quot;I/O Error: &quot; + e);\r\n            }\r\n    \r\n            int x = 12;\r\n            return manipulatedData;\r\n        };\r\n    \r\n        public class Row {\r\n            private char[] contents;\r\n            private int id;\r\n            private int population;\r\n            private int childPopulation; // Population of Relevant Children 5 to 17\r\n                                         // years of Age\r\n            private int childPovertyPopulation; // Estimated Number of Relevant\r\n                                                // Children 5 to 17 years old\r\n            //                     in Poverty Related to the Householder\r\n            private double percentageChildPovertyPopulation;\r\n            Row(char[] input) {\r\n                contents = input;\r\n                char[] stateIdPlaceholder = java.util.Arrays.copyOfRange(\r\n                    contents, 0, 2); // state id [char range]\r\n                id = Integer.parseInt(new String(stateIdPlaceholder).trim());\r\n                char[] tPopPlaceholder = java.util.Arrays.copyOfRange(\r\n                    contents, 83, 90); // total poulation [char range]\r\n                population = Integer.parseInt(new String(tPopPlaceholder).trim());\r\n                char[] cPopPlaceholder = java.util.Arrays.copyOfRange(\r\n                    contents, 92, 99); // child population [char range]\r\n                childPopulation =\r\n                    Integer.parseInt(new String(cPopPlaceholder).trim());\r\n                char[] cPPopPlaceholder = java.util.Arrays.copyOfRange(\r\n                    contents, 101, 108); // child poverty population [char range]\r\n                try {\r\n                    childPovertyPopulation =\r\n                        Integer.parseInt(new String(cPPopPlaceholder).trim());\r\n                } catch (NumberFormatException e) {\r\n                    System.out.println(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    //DataPresenter.java\r\n    \r\n    import java.io.*;\r\n    public class DataPresenter {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n               System.out.println(&quot;File: ../SmallAreaIncomePovertyEstDataManipulated.txt&quot;);           \r\n               System.out.println(&quot;Id&quot; + &quot; \\t &quot; + &quot;Population&quot; + &quot; \\t &quot; + &quot;ChildPop&quot; + &quot; \\t &quot; + &quot;CPovPop&quot; + &quot; \\t \\t&quot; + &quot;CPovPop%&quot; + &quot;\\t&quot;);\r\n    \r\n    \r\n            // read the data\r\n            try ( FileReader fr = new FileReader(&quot;../SmallAreaIncomePovertyEstDataManipulated.txt&quot;))\r\n            {\r\n                int c;\r\n                while((c = fr.read()) != -1) {\r\n                    System.out.print((char) c);\r\n                }\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;I/O Error: &quot; + e);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n[When the code compiles and runs, the data is not properly aligned to all of the columns. How do I get them to line up like they are supposed to?][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AffEi.png","title":"How do I skip blank rows rather than printing out the State ID with a bunch of zeros after","body":"<p>Right now the code works but, it prints out line 3 even though there is no data for number 3 so it follows with a bunch of zeros. How can I skip blanks instead?</p>\n<pre><code>//DataManager.java\n\n\nimport java.io.*;\n\npublic class DataManager {\n    public static void main(String[] args) {\n        DataManager dataManager = new DataManager();\n        dataManager.init();\n    }\n\n    public void init() {\n        Row dataSet[] = new Row[13486]; // current number of rows in the dataset\n\n        // read the data\n        try (FileReader fr =\n                 new FileReader(&quot;SmallAreaIncomePovertyEstData.txt&quot;)) {\n            int c;\n            int i = 0;\n            int j = 0;\n            char rowInputs[] = new char[1130]; // number of characters per row\n\n            while ((c = fr.read()) != -1) {\n                rowInputs[i] = (char) c;\n                i++;\n                if (c == 10) { // `32` is blank space, '10' is new line\n                    dataSet[j] = new Row(rowInputs);\n                    j++;\n                    i = 0;\n                }\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;I/O Error: &quot; + e);\n        }\n\n        // manipulate the data\n        this.manipulateData(dataSet);\n\n        // write the data\n    }\n\n    public Row[] manipulateData(Row[] dataset) {\n        Row[] manipulatedData = new Row[57];\n\n        try (BufferedWriter bw = new BufferedWriter(new FileWriter(\n                 &quot;../SmallAreaIncomePovertyEstDataManipulated.txt&quot;))) {\n            int stateId = 1; // starting point id\n            int statePopulation = 0;\n            int stateChildPopulation = 0;\n            int stateChildPovertyPopulation = 0;\n            for (int i = 0; i &lt; dataset.length; i++) {\n                if (dataset[i].id == stateId) {\n                    statePopulation += dataset[i].population;\n                    stateChildPopulation += dataset[i].childPopulation;\n                    stateChildPovertyPopulation +=\n                        dataset[i].childPovertyPopulation;\n                } else {\n                    double stateChildPovertyPopulationPercentage = 0;\n                    if (stateChildPopulation != 0) {\n                        stateChildPovertyPopulationPercentage =\n                            (double) stateChildPovertyPopulation\n                            / stateChildPopulation * 100;\n                        int z = 12;\n                    } else {\n                        stateChildPovertyPopulationPercentage = 0;\n                    }\n                    bw.append(stateId + &quot; \\t &quot; + statePopulation + &quot; \\t &quot;\n                        + stateChildPopulation + &quot; \\t &quot;\n                        + stateChildPovertyPopulation + &quot; \\t &quot;\n                        + stateChildPovertyPopulationPercentage + &quot;\\n&quot;);\n                    statePopulation = 0;\n                    stateChildPopulation = 0;\n                    stateChildPovertyPopulation = 0;\n                    i--;\n                    stateId++;\n                }\n            }\n\n        } catch (IOException e) {\n            System.out.println(&quot;I/O Error: &quot; + e);\n        }\n\n        int x = 12;\n        return manipulatedData;\n    };\n\n    public class Row {\n        private char[] contents;\n        private int id;\n        private int population;\n        private int childPopulation; // Population of Relevant Children 5 to 17\n                                     // years of Age\n        private int childPovertyPopulation; // Estimated Number of Relevant\n                                            // Children 5 to 17 years old\n        //                     in Poverty Related to the Householder\n        private double percentageChildPovertyPopulation;\n        Row(char[] input) {\n            contents = input;\n            char[] stateIdPlaceholder = java.util.Arrays.copyOfRange(\n                contents, 0, 2); // state id [char range]\n            id = Integer.parseInt(new String(stateIdPlaceholder).trim());\n            char[] tPopPlaceholder = java.util.Arrays.copyOfRange(\n                contents, 83, 90); // total poulation [char range]\n            population = Integer.parseInt(new String(tPopPlaceholder).trim());\n            char[] cPopPlaceholder = java.util.Arrays.copyOfRange(\n                contents, 92, 99); // child population [char range]\n            childPopulation =\n                Integer.parseInt(new String(cPopPlaceholder).trim());\n            char[] cPPopPlaceholder = java.util.Arrays.copyOfRange(\n                contents, 101, 108); // child poverty population [char range]\n            try {\n                childPovertyPopulation =\n                    Integer.parseInt(new String(cPPopPlaceholder).trim());\n            } catch (NumberFormatException e) {\n                System.out.println(e);\n            }\n        }\n    }\n}\n\n//DataPresenter.java\n\nimport java.io.*;\npublic class DataPresenter {\n\n\n    public static void main(String[] args) {\n           System.out.println(&quot;File: ../SmallAreaIncomePovertyEstDataManipulated.txt&quot;);           \n           System.out.println(&quot;Id&quot; + &quot; \\t &quot; + &quot;Population&quot; + &quot; \\t &quot; + &quot;ChildPop&quot; + &quot; \\t &quot; + &quot;CPovPop&quot; + &quot; \\t \\t&quot; + &quot;CPovPop%&quot; + &quot;\\t&quot;);\n\n\n        // read the data\n        try ( FileReader fr = new FileReader(&quot;../SmallAreaIncomePovertyEstDataManipulated.txt&quot;))\n        {\n            int c;\n            while((c = fr.read()) != -1) {\n                System.out.print((char) c);\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;I/O Error: &quot; + e);\n        }\n\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AffEi.png\" rel=\"nofollow noreferrer\">When the code compiles and runs, the data is not properly aligned to all of the columns. How do I get them to line up like they are supposed to?</a></p>\n"},{"tags":["java","spring","spring-boot","jwt"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1691010505,"post_id":76823082,"comment_id":135434599,"body_markdown":"a breakpoint at e.printStackTrace(); in the trycatch of the authservice is not activating?","body":"a breakpoint at e.printStackTrace(); in the trycatch of the authservice is not activating?"}],"owner":{"account_id":21788897,"reputation":13,"user_id":16089453,"display_name":"anon1225"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691005658,"creation_date":1691005658,"question_id":76823082,"body_markdown":"I want to make a role based jwt application so i build login and registration system. TI was able to run the app exactly like this before but it is not working right now. Only returns 200 OK without any response body.\r\n\r\nI debugged all endpoints but didn&#39;t catch anything. This is my sample login-registeration endpoints.\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class authController {\r\n    @Autowired private authService Authservice;\r\n    @PostMapping(&quot;/login/user&quot;)\r\n    public LoginResponseDTO loginUser(@RequestBody LoginDTO body){\r\n        return Authservice.loginUser(body.getEmail(), body.getPassword());\r\n    }\r\n    @PostMapping(&quot;/register/user&quot;)\r\n    public Users registerUser(@RequestBody RegisterDTO body){\r\n        return Authservice.registerUser(body.getFirstname(),body.getLastname(),body.getEmail(), body.getPassword());\r\n    }\r\n}\r\n```\r\nthis is my service file\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class authService {\r\n    @Autowired private UserRepo userRepo;\r\n    @Autowired private RoleRepo roleRepo;\r\n    @Autowired private AuthenticationManager authenticationManager;\r\n    @Autowired private JwtTokenUtil tokenService;\r\n    @Autowired private PasswordEncoder passwordEncoder;\r\n    @Autowired private UserService userService;\r\n\r\n    public Users registerUser(String firstname, String lastname, String email, String password){\r\n        String encodedPassword = passwordEncoder.encode(password);\r\n        Role userRole = roleRepo.findByAuthority(&quot;USER&quot;).get();\r\n\r\n        Set&lt;Role&gt; authorities = new HashSet&lt;&gt;();\r\n        authorities.add(userRole);\r\n        System.out.println(&quot;Email: &quot; + email + &quot;Password: &quot; + password);\r\n        return userRepo.save(new Users(firstname,lastname,email,encodedPassword,authorities));\r\n    }\r\n    public LoginResponseDTO loginUser(String email, String password){\r\n        try{\r\n            UserDetails userDetails = userService.loadUserByUsername(email);\r\n            if (passwordEncoder.matches(password, userDetails.getPassword())){\r\n\r\n                String token = tokenService.generateToken(userDetails);\r\n                return new LoginResponseDTO(userDetails, token);\r\n            }\r\n            throw new ValidationException(&quot;Email veya şifre hatalı.&quot;);\r\n        }catch (AuthenticationException e){\r\n            e.printStackTrace();\r\n            return new LoginResponseDTO(null,&quot;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand this is my securityconfig file\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n    private final JWTAuthenticationFilter filter;\r\n\r\n    public SecurityConfig(JWTAuthenticationFilter filter) {\r\n        this.filter = filter;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Bean\r\n    public AuthenticationManager authManager(UserDetailsService detailsService){\r\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\r\n        daoProvider.setUserDetailsService(detailsService);\r\n        daoProvider.setPasswordEncoder(passwordEncoder());\r\n        return new ProviderManager(daoProvider);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .csrf(csrf-&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth-&gt;{\r\n                    auth.requestMatchers(&quot;/auth/**&quot;).permitAll();\r\n                    auth.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;);\r\n                    auth.requestMatchers(&quot;/corpuser/**&quot;).hasRole(&quot;USER&quot;);\r\n                    auth.anyRequest().authenticated();\r\n                });\r\n        http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\r\n        http.sessionManagement(\r\n                session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        );\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n","title":"Spring Security all endpoints return status 200 but postman returns nothing as response body","body":"<p>I want to make a role based jwt application so i build login and registration system. TI was able to run the app exactly like this before but it is not working right now. Only returns 200 OK without any response body.</p>\n<p>I debugged all endpoints but didn't catch anything. This is my sample login-registeration endpoints.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class authController {\n    @Autowired private authService Authservice;\n    @PostMapping(&quot;/login/user&quot;)\n    public LoginResponseDTO loginUser(@RequestBody LoginDTO body){\n        return Authservice.loginUser(body.getEmail(), body.getPassword());\n    }\n    @PostMapping(&quot;/register/user&quot;)\n    public Users registerUser(@RequestBody RegisterDTO body){\n        return Authservice.registerUser(body.getFirstname(),body.getLastname(),body.getEmail(), body.getPassword());\n    }\n}\n</code></pre>\n<p>this is my service file</p>\n<pre><code>@Service\n@Transactional\npublic class authService {\n    @Autowired private UserRepo userRepo;\n    @Autowired private RoleRepo roleRepo;\n    @Autowired private AuthenticationManager authenticationManager;\n    @Autowired private JwtTokenUtil tokenService;\n    @Autowired private PasswordEncoder passwordEncoder;\n    @Autowired private UserService userService;\n\n    public Users registerUser(String firstname, String lastname, String email, String password){\n        String encodedPassword = passwordEncoder.encode(password);\n        Role userRole = roleRepo.findByAuthority(&quot;USER&quot;).get();\n\n        Set&lt;Role&gt; authorities = new HashSet&lt;&gt;();\n        authorities.add(userRole);\n        System.out.println(&quot;Email: &quot; + email + &quot;Password: &quot; + password);\n        return userRepo.save(new Users(firstname,lastname,email,encodedPassword,authorities));\n    }\n    public LoginResponseDTO loginUser(String email, String password){\n        try{\n            UserDetails userDetails = userService.loadUserByUsername(email);\n            if (passwordEncoder.matches(password, userDetails.getPassword())){\n\n                String token = tokenService.generateToken(userDetails);\n                return new LoginResponseDTO(userDetails, token);\n            }\n            throw new ValidationException(&quot;Email veya şifre hatalı.&quot;);\n        }catch (AuthenticationException e){\n            e.printStackTrace();\n            return new LoginResponseDTO(null,&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and this is my securityconfig file</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    private final JWTAuthenticationFilter filter;\n\n    public SecurityConfig(JWTAuthenticationFilter filter) {\n        this.filter = filter;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    public AuthenticationManager authManager(UserDetailsService detailsService){\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\n        daoProvider.setUserDetailsService(detailsService);\n        daoProvider.setPasswordEncoder(passwordEncoder());\n        return new ProviderManager(daoProvider);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        http\n                .csrf(csrf-&gt; csrf.disable())\n                .authorizeHttpRequests(auth-&gt;{\n                    auth.requestMatchers(&quot;/auth/**&quot;).permitAll();\n                    auth.requestMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;);\n                    auth.requestMatchers(&quot;/corpuser/**&quot;).hasRole(&quot;USER&quot;);\n                    auth.anyRequest().authenticated();\n                });\n        http.addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class);\n        http.sessionManagement(\n                session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        );\n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","serilog"],"comments":[{"owner":{"account_id":46750,"reputation":30596,"user_id":138206,"display_name":"Nicholas Blumhardt"},"score":0,"creation_date":1691012772,"post_id":76822986,"comment_id":135434957,"body_markdown":"Anything in Seq&#39;s Settings &gt; Diagnostics &gt; Ingestion log?","body":"Anything in Seq&#39;s Settings &gt; Diagnostics &gt; Ingestion log?"},{"owner":{"account_id":21354009,"reputation":23,"user_id":15723206,"display_name":"Timtendo12"},"score":0,"creation_date":1691056377,"post_id":76822986,"comment_id":135441044,"body_markdown":"@NicholasBlumhardt Only this line,\n\n`[2023-07-17T18:01:13.3658359+00:00 DBG] The ingestion API is configured and accepting requests`","body":"@NicholasBlumhardt Only this line,  <code>[2023-07-17T18:01:13.3658359+00:00 DBG] The ingestion API is configured and accepting requests</code>"}],"owner":{"account_id":21354009,"reputation":23,"user_id":15723206,"display_name":"Timtendo12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691004788,"creation_date":1691004788,"question_id":76822986,"body_markdown":"So I&#39;m trying to set up a serilogger to log to our Seq instance, It seems like it can connect to Seq but when I log something it never shows up in Seq itself. The selfLogger also is empty. I&#39;m using Serilogj version 0.6.1\r\n\r\n```java\r\nimport serilogj.Log;\r\nimport serilogj.LoggerConfiguration;\r\nimport serilogj.debugging.SelfLog;\r\nimport serilogj.events.LogEventLevel;\r\n...\r\n\r\npublic void initSeriLogger(String seqAPIUrl, String seqAPIKey) {\r\n\r\n        try {\r\n            // create a file to store the log of SelfLog\r\n\r\n            File logFile = new File(getDataFolder(), &quot;serilog.log&quot;);\r\n\r\n            if (!logFile.exists()) {\r\n                if(!logFile.createNewFile()) {\r\n                    throw new IOException(&quot;Failed to create log file.&quot;);\r\n                }\r\n            }\r\n\r\n            PrintStream output = new PrintStream(logFile);\r\n\r\n            // set the log file as the log of SelfLog\r\n            SelfLog.setOut(output);\r\n\r\n            Log.setLogger(new LoggerConfiguration()\r\n                    .writeTo(seq(seqAPIUrl, seqAPIKey))\r\n                    .setMinimumLevel(LogEventLevel.Warning)\r\n                    .createLogger());\r\n\r\n        } catch (Exception e) {\r\n            Core.getPlugin().getLogger().warning(&quot;!!!!!Serilog failed to initialize. Logging to console only.!!!!&quot;);\r\n            return;\r\n        }\r\n\r\n        this.getLogger().info(&quot;Serilog initialized. Logging to &#39;&quot; + seqAPIUrl + &quot;&#39; with API key ending with &#39;&quot; + seqAPIKey.substring(0, 4) + &quot;&#39;.&quot;);\r\n        Log.warning(&quot;Serilog initialized.&quot;);\r\n    }\r\n```\r\n\r\nconsole output:\r\n\r\n`[21:21:47 INFO]: [Core] Serilog initialized. Logging to &#39;http://{myserverip}:5341&#39; with API key ending with &#39;HPtJ&#39;.`\r\n\r\n\r\nSeq being empty:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vX8D1.png\r\n\r\nAnyone knows what exactly I&#39;m doing wrong?","title":"Java serilogger connects to seq using API but does not log","body":"<p>So I'm trying to set up a serilogger to log to our Seq instance, It seems like it can connect to Seq but when I log something it never shows up in Seq itself. The selfLogger also is empty. I'm using Serilogj version 0.6.1</p>\n<pre class=\"lang-java prettyprint-override\"><code>import serilogj.Log;\nimport serilogj.LoggerConfiguration;\nimport serilogj.debugging.SelfLog;\nimport serilogj.events.LogEventLevel;\n...\n\npublic void initSeriLogger(String seqAPIUrl, String seqAPIKey) {\n\n        try {\n            // create a file to store the log of SelfLog\n\n            File logFile = new File(getDataFolder(), &quot;serilog.log&quot;);\n\n            if (!logFile.exists()) {\n                if(!logFile.createNewFile()) {\n                    throw new IOException(&quot;Failed to create log file.&quot;);\n                }\n            }\n\n            PrintStream output = new PrintStream(logFile);\n\n            // set the log file as the log of SelfLog\n            SelfLog.setOut(output);\n\n            Log.setLogger(new LoggerConfiguration()\n                    .writeTo(seq(seqAPIUrl, seqAPIKey))\n                    .setMinimumLevel(LogEventLevel.Warning)\n                    .createLogger());\n\n        } catch (Exception e) {\n            Core.getPlugin().getLogger().warning(&quot;!!!!!Serilog failed to initialize. Logging to console only.!!!!&quot;);\n            return;\n        }\n\n        this.getLogger().info(&quot;Serilog initialized. Logging to '&quot; + seqAPIUrl + &quot;' with API key ending with '&quot; + seqAPIKey.substring(0, 4) + &quot;'.&quot;);\n        Log.warning(&quot;Serilog initialized.&quot;);\n    }\n</code></pre>\n<p>console output:</p>\n<p><code>[21:21:47 INFO]: [Core] Serilog initialized. Logging to 'http://{myserverip}:5341' with API key ending with 'HPtJ'.</code></p>\n<p>Seq being empty:\n<a href=\"https://i.stack.imgur.com/vX8D1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vX8D1.png\" alt=\"enter image description here\" /></a></p>\n<p>Anyone knows what exactly I'm doing wrong?</p>\n"},{"tags":["java","for-loop","debugging","boolean"],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1691004443,"post_id":76822917,"comment_id":135433452,"body_markdown":"that does not change anything but readability","body":"that does not change anything but readability"},{"owner":{"account_id":1612692,"reputation":269,"user_id":1491213,"display_name":"triplej"},"score":0,"creation_date":1691004623,"post_id":76822917,"comment_id":135433493,"body_markdown":"Which is important.","body":"Which is important."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1691006375,"post_id":76822917,"comment_id":135433808,"body_markdown":"important, but not an **answer** to the question :-/  -  and &quot;*This should work*&quot; is just wrong - it is changing nothing - actually that assignment is exactly the problem of the question (and indentation also is important)","body":"important, but not an <b>answer</b> to the question :-/  -  and &quot;<i>This should work</i>&quot; is just wrong - it is changing nothing - actually that assignment is exactly the problem of the question (and indentation also is important)"}],"tags":[],"owner":{"account_id":1612692,"reputation":269,"user_id":1491213,"display_name":"triplej"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691004039,"creation_date":1691004039,"answer_id":76822917,"question_id":76822737,"body_markdown":"You gave 2, 5, 20 as a problematic input. 20 is greater than 10. `(20 &lt; 11)` is false. Also, you shouldn&#39;t need so many parenthesis. This should work:\r\n\r\n```java\r\nif (newInput &gt; 0 &amp;&amp; newInput &lt; 11) {\r\nallValid = true;\r\n}\r\n```","title":"Debugging a Boolean Loop Statement That Sometimes Works","body":"<p>You gave 2, 5, 20 as a problematic input. 20 is greater than 10. <code>(20 &lt; 11)</code> is false. Also, you shouldn't need so many parenthesis. This should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (newInput &gt; 0 &amp;&amp; newInput &lt; 11) {\nallValid = true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691004772,"creation_date":1691004454,"answer_id":76822951,"question_id":76822737,"body_markdown":"You are currently reaching a false value, then continuing to the next loop iteration, which will overwrite the previous value of your `allValid` effectively making only the final result of your loop matter.\r\n\r\nInstead you can set `allValid` to `true` as the initial value, and then set it to `false` it ever reaches a value that is not valid. You do not need to ever set `allValid` back to true as once it fails, it should stay failed.\r\n\r\nHere a look at the modified code\r\n\r\n    public static void main(String[] args) {\r\n    \tScanner scnr = new Scanner(System.in);\r\n    \tint numInts = scnr.nextInt();\r\n    \r\n    \tboolean allValid = true;\r\n    \tfor (int i = 0; i &lt; numInts; i++) {\r\n    \t\tint newInput = scnr.nextInt();\r\n    \t\t// Any value lower than 1 OR above 10 fails\r\n    \t\tif (newInput &lt; 1 || newInput &gt; 10) {\r\n    \t\t\tallValid = false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tif (allValid) {\r\n    \t\tSystem.out.println(&quot;All valid&quot;);\r\n    \t} else {\r\n    \t\tSystem.out.println(&quot;Has non-matching value(s)&quot;);\r\n    \t}\r\n    }\r\n\r\nNote: I also made minor changes such as only declaring variables in the scope they are required.\r\n\r\nTest Runs:\r\n\r\n    4\r\n    -1 2 3 4\r\n    Has non-matching value(s)\r\n    \r\n    6\r\n    4 8 3 9 9 1\r\n    All valid\r\n\r\n\r\n","title":"Debugging a Boolean Loop Statement That Sometimes Works","body":"<p>You are currently reaching a false value, then continuing to the next loop iteration, which will overwrite the previous value of your <code>allValid</code> effectively making only the final result of your loop matter.</p>\n<p>Instead you can set <code>allValid</code> to <code>true</code> as the initial value, and then set it to <code>false</code> it ever reaches a value that is not valid. You do not need to ever set <code>allValid</code> back to true as once it fails, it should stay failed.</p>\n<p>Here a look at the modified code</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n    int numInts = scnr.nextInt();\n\n    boolean allValid = true;\n    for (int i = 0; i &lt; numInts; i++) {\n        int newInput = scnr.nextInt();\n        // Any value lower than 1 OR above 10 fails\n        if (newInput &lt; 1 || newInput &gt; 10) {\n            allValid = false;\n        }\n    }\n\n    if (allValid) {\n        System.out.println(&quot;All valid&quot;);\n    } else {\n        System.out.println(&quot;Has non-matching value(s)&quot;);\n    }\n}\n</code></pre>\n<p>Note: I also made minor changes such as only declaring variables in the scope they are required.</p>\n<p>Test Runs:</p>\n<pre><code>4\n-1 2 3 4\nHas non-matching value(s)\n\n6\n4 8 3 9 9 1\nAll valid\n</code></pre>\n"}],"owner":{"account_id":29082801,"reputation":21,"user_id":22278428,"display_name":"Nicole Haight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691004772,"creation_date":1691002205,"question_id":76822737,"body_markdown":"I am learning to code in Java, and I am struggling with problems that require boolean variables. Of note - no, this is not homework. I am teaching myself.\r\n\r\nThe problem I am encountering is that sometimes my code for this problem works, other times, it doesn&#39;t. I put the problem into NetBeans to check if I had any syntax errors, and I couldn&#39;t find any, so I am hoping someone can better illustrate how the code should be written.\r\n\r\n\r\nThe textbook question:\r\nDeclare a Boolean variable named allValid. Then, read integer numInts from input representing the number of integers to be read next. Use a loop to read the remaining integers from input. If all of the numInts integers are in the range 1 to 10 inclusive, assign allValid with true. Otherwise, assign allValid with false.\r\n\r\nCode at the end of main() outputs &quot;All valid&quot; if allValid is true or &quot;Has non-matching value(s)&quot; if allValid is false.\r\n\r\nEx: If the input is:\r\n\r\n2\r\n5 20\r\nthen the output is:\r\n\r\nHas non-matching value(s)\r\n-----------------------------------------\r\n\r\n\r\nTextbook problem with my answer (the code I have written is between where I have placed a row of asteriks):\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class IntegerData {\r\n    public static void main(String [] args) {\r\n    Scanner scnr = new Scanner(System.in);\r\n\r\n    int numInts;\r\n    ****************My code starts****************\r\n    boolean allValid = true;\r\n    int newInput;\r\n    int i;\r\n      \r\n    numInts = scnr.nextInt();\r\n      \r\n    for(i=0; i&lt;numInts; ++i) {\r\n    newInput = scnr.nextInt();\r\n      \r\n    if (((newInput &gt; 0) &amp;&amp; (newInput &lt; 11))) {\r\n    allValid = true;\r\n    }\r\n      \r\n    else {\r\n    allValid = false;\r\n    }\r\n    }\r\n    **************My code ends********************        \r\n    if (allValid) {\r\n    System.out.println(&quot;All valid&quot;);\r\n    }\r\n\r\n    else {\r\n    System.out.println(&quot;Has non-matching value(s)&quot;);\r\n    }\r\n    }\r\n    }\r\n-----------\r\n-----------\r\nThe following numbers work, for example: 11, -2, 5, 12, -1, 14 (outputs &quot;Has non-matching value(s)&quot;\r\nThe following numbers do NOT work, for example: 6, 2, 12, 4, 9 (outputs &quot;All Valid&quot;)\r\n\r\nAnd no, it has nothing to do with it being &gt;10, versus &lt;0 because negative numbers sometimes get an incorrect output, too.\r\n","title":"Debugging a Boolean Loop Statement That Sometimes Works","body":"<p>I am learning to code in Java, and I am struggling with problems that require boolean variables. Of note - no, this is not homework. I am teaching myself.</p>\n<p>The problem I am encountering is that sometimes my code for this problem works, other times, it doesn't. I put the problem into NetBeans to check if I had any syntax errors, and I couldn't find any, so I am hoping someone can better illustrate how the code should be written.</p>\n<p>The textbook question:\nDeclare a Boolean variable named allValid. Then, read integer numInts from input representing the number of integers to be read next. Use a loop to read the remaining integers from input. If all of the numInts integers are in the range 1 to 10 inclusive, assign allValid with true. Otherwise, assign allValid with false.</p>\n<p>Code at the end of main() outputs &quot;All valid&quot; if allValid is true or &quot;Has non-matching value(s)&quot; if allValid is false.</p>\n<p>Ex: If the input is:</p>\n<p>2\n5 20\nthen the output is:</p>\n<h2>Has non-matching value(s)</h2>\n<p>Textbook problem with my answer (the code I have written is between where I have placed a row of asteriks):</p>\n<pre><code>import java.util.Scanner;\n\npublic class IntegerData {\npublic static void main(String [] args) {\nScanner scnr = new Scanner(System.in);\n\nint numInts;\n****************My code starts****************\nboolean allValid = true;\nint newInput;\nint i;\n  \nnumInts = scnr.nextInt();\n  \nfor(i=0; i&lt;numInts; ++i) {\nnewInput = scnr.nextInt();\n  \nif (((newInput &gt; 0) &amp;&amp; (newInput &lt; 11))) {\nallValid = true;\n}\n  \nelse {\nallValid = false;\n}\n}\n**************My code ends********************        \nif (allValid) {\nSystem.out.println(&quot;All valid&quot;);\n}\n\nelse {\nSystem.out.println(&quot;Has non-matching value(s)&quot;);\n}\n}\n}\n</code></pre>\n<hr />\n<hr />\n<p>The following numbers work, for example: 11, -2, 5, 12, -1, 14 (outputs &quot;Has non-matching value(s)&quot;\nThe following numbers do NOT work, for example: 6, 2, 12, 4, 9 (outputs &quot;All Valid&quot;)</p>\n<p>And no, it has nothing to do with it being &gt;10, versus &lt;0 because negative numbers sometimes get an incorrect output, too.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1404723825,"post_id":24606389,"comment_id":38127396,"body_markdown":"You could write it as a class, or try: `new InteractiveMode().with { foo() }`","body":"You could write it as a class, or try: <code>new InteractiveMode().with { foo() }</code>"},{"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"score":0,"creation_date":1404724865,"post_id":24606389,"comment_id":38127923,"body_markdown":"I&#39;m not sure I understand what you mean so I&#39;ll clarify in case there is some confusion. InteractiveMode is the class in which the GroovyShell is created. Foo, the method I need to call is declared in the InteractiveMode class. So if I were to replace the Groovy part (ie making it non-interactive) I would just write `this.foo();`. When using Groovy however I can&#39;t use `this.foo()` since `this` references the script and can&#39;t be overriden (or can it?) and have to therefore write `im.foo()`. \n\nIs this how you understood my question?","body":"I&#39;m not sure I understand what you mean so I&#39;ll clarify in case there is some confusion. InteractiveMode is the class in which the GroovyShell is created. Foo, the method I need to call is declared in the InteractiveMode class. So if I were to replace the Groovy part (ie making it non-interactive) I would just write <code>this.foo();</code>. When using Groovy however I can&#39;t use <code>this.foo()</code> since <code>this</code> references the script and can&#39;t be overriden (or can it?) and have to therefore write <code>im.foo()</code>.   Is this how you understood my question?"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1404732615,"post_id":24606389,"comment_id":38132693,"body_markdown":"You mean like when you call setDelegate on the script?","body":"You mean like when you call setDelegate on the script?"},{"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"score":0,"creation_date":1404738129,"post_id":24606389,"comment_id":38136044,"body_markdown":"Well, yes actually. That seems to be very close to what I&#39;m looking for. However, I now can&#39;t seem to find out how to achieve this with Java code. This is what my code looks like now:\n\n    `InteractiveMode test = new InteractiveMode();\n    GroovyShell gs = new GroovyShell();\n    gs.setVariable(&quot;im&quot;, test);\n    gs.evaluate(&quot;im.foo();&quot;);`\n\nI would like the last line to be:\n\n    `gs.evaluate(&quot;foo();&quot;);`\n\nAnd still give exactly the same output.","body":"Well, yes actually. That seems to be very close to what I&#39;m looking for. However, I now can&#39;t seem to find out how to achieve this with Java code. This is what my code looks like now:      <code>InteractiveMode test = new InteractiveMode();     GroovyShell gs = new GroovyShell();     gs.setVariable(&quot;im&quot;, test);     gs.evaluate(&quot;im.foo();&quot;);</code>  I would like the last line to be:      <code>gs.evaluate(&quot;foo();&quot;);</code>  And still give exactly the same output."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1404743250,"post_id":24606389,"comment_id":38139551,"body_markdown":"See http://sysgears.com/articles/customizing-scripts-execution-in-groovyshell/","body":"See <a href=\"http://sysgears.com/articles/customizing-scripts-execution-in-groovyshell/\" rel=\"nofollow noreferrer\">sysgears.com/articles/&hellip;</a>"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1404743291,"post_id":24606389,"comment_id":38139581,"body_markdown":"Why are you going to the trouble of removing their types?  It seems you could leave them alone and everything would still work, right?","body":"Why are you going to the trouble of removing their types?  It seems you could leave them alone and everything would still work, right?"},{"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"score":0,"creation_date":1404743776,"post_id":24606389,"comment_id":38139935,"body_markdown":"The reason I&#39;m removing the types is because the users will enter Java code, see what the output is, and when they&#39;re done they&#39;ll export their lines of code to a .java file. When a variable is declared with a type in Groovy it isn&#39;t added to the binding which means it won&#39;t be accessible for the next command. Removing the types were simply one way of adding the variables to the binding.","body":"The reason I&#39;m removing the types is because the users will enter Java code, see what the output is, and when they&#39;re done they&#39;ll export their lines of code to a .java file. When a variable is declared with a type in Groovy it isn&#39;t added to the binding which means it won&#39;t be accessible for the next command. Removing the types were simply one way of adding the variables to the binding."}],"answers":[{"comments":[{"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"score":0,"creation_date":1404739597,"post_id":24611224,"comment_id":38137053,"body_markdown":"Thanks for the answers! I&#39;m unfortunately still a bit confused however. The mix between Groovy and Java makes me unsure how I should solve this. Most examples I find when researching this seems to be written in Groovy. My project however contains no Groovy at all except for the lines that the GroovyShell object evaluates (which are essentially just Java code). Because of this I have a hard time translating your links to my project.","body":"Thanks for the answers! I&#39;m unfortunately still a bit confused however. The mix between Groovy and Java makes me unsure how I should solve this. Most examples I find when researching this seems to be written in Groovy. My project however contains no Groovy at all except for the lines that the GroovyShell object evaluates (which are essentially just Java code). Because of this I have a hard time translating your links to my project."},{"owner":{"account_id":3128873,"reputation":1180,"user_id":2647192,"display_name":"allTwentyQuestions"},"score":0,"creation_date":1404821519,"post_id":24611224,"comment_id":38174814,"body_markdown":"Those examples don&#39;t use any of the magical groovyness. You should be able to just replace `def` with type declarations and add semicolons. If you use Intellij, it even has a groovy-to-java converter as part of the groovy plugin.","body":"Those examples don&#39;t use any of the magical groovyness. You should be able to just replace <code>def</code> with type declarations and add semicolons. If you use Intellij, it even has a groovy-to-java converter as part of the groovy plugin."}],"tags":[],"owner":{"account_id":3128873,"reputation":1180,"user_id":2647192,"display_name":"allTwentyQuestions"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1404738471,"creation_date":1404738098,"answer_id":24611224,"question_id":24606389,"body_markdown":"Sounds like you want to pass in a customized CompilerConfiguration when you create your GroovyShell. Then you can set the script base class as described [in this post][1].\r\n\r\nYou can also look into using a Binding if all you need is some properties accessible from the script. A Binding is just a map of property names to properties. If you want, you can even setup Bindings to a closure and then just call it like a method. Using Binding is described near the top of [this page][2]\r\n\r\nIf you don&#39;t want to to hold state outside of the script, then I&#39;d use a Binding. If you need to hold state outside of the script, as in the car example, then the base class described in that post is what you want. The third option, if you need access to shared application state, would be to simply set the delegate on your script before it&#39;s run. This is shown near the bottom of the first link. \r\n\r\n\r\n  [1]: http://mrhaki.blogspot.com/2013/11/groovy-goodness-set-delegating-class.html\r\n  [2]: http://groovy.codehaus.org/Embedding+Groovy","title":"Override &quot;this&quot;-keyword in GroovyShell","body":"<p>Sounds like you want to pass in a customized CompilerConfiguration when you create your GroovyShell. Then you can set the script base class as described <a href=\"http://mrhaki.blogspot.com/2013/11/groovy-goodness-set-delegating-class.html\" rel=\"nofollow\">in this post</a>.</p>\n\n<p>You can also look into using a Binding if all you need is some properties accessible from the script. A Binding is just a map of property names to properties. If you want, you can even setup Bindings to a closure and then just call it like a method. Using Binding is described near the top of <a href=\"http://groovy.codehaus.org/Embedding+Groovy\" rel=\"nofollow\">this page</a></p>\n\n<p>If you don't want to to hold state outside of the script, then I'd use a Binding. If you need to hold state outside of the script, as in the car example, then the base class described in that post is what you want. The third option, if you need access to shared application state, would be to simply set the delegate on your script before it's run. This is shown near the bottom of the first link. </p>\n"},{"tags":[],"owner":{"account_id":29026020,"reputation":27,"user_id":22234175,"display_name":"chamanswami"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691004533,"creation_date":1691004533,"answer_id":76822960,"question_id":24606389,"body_markdown":"Understanding the this keyword in JavaScript can be a bit tricky, but I&#39;ll try to explain it in a simple way.\r\n\r\nIn JavaScript, this is a special keyword that refers to the context in which a function is executed. It is a reference to the object on which the function is being invoked. The value of this depends on how the function is called, and it can change in different situations.\r\n\r\nTo simplify it, you can think of this as a placeholder that gets its value assigned dynamically based on how the function is called.\r\n\r\nHere&#39;s a simple rule of thumb that might help you understand how this works:\r\n\r\n&quot;this refers to the object that the function belongs to or the object that is calling the function.&quot;\r\n\r\nLet&#39;s go through a few scenarios to illustrate how this works:\r\n\r\nGlobal context: If the function is called in the global context (outside any object or function), this will refer to the global object, which is window in browsers or global in Node.js.\r\n\r\nMethod of an object: If the function is called as a method of an object, this will refer to that object.\r\n\r\nConstructor function: If the function is used as a constructor (using the new keyword), this will refer to the newly created object that the constructor is building.\r\n\r\nExplicit binding: Sometimes you can explicitly bind this to a specific object using methods like .call(), .apply(), or .bind().\r\n\r\nNow, let&#39;s apply this knowledge to your code snippet:\r\n\r\n    javascript\r\n    Copy code\r\n    function hello() {\r\n        let list = {\r\n            firstName: &quot;Jack&quot;\r\n        };\r\n        return &quot;Hello &quot; + this.firstName;\r\n    }\r\n\r\nconsole.log(hello());\r\nIn this case, the hello() function is called in the global context since it&#39;s not a method of any object. As a result, this will refer to the global object (e.g., window in browsers).\r\n\r\nHowever, since the firstName property is not defined in the global object, this.firstName will be undefined, and you&#39;ll get the output: &quot;Hello undefined.&quot;\r\n\r\nIf you want to access the firstName property of the list object correctly, you should use it directly like this:\r\n\r\njavascript\r\n\r\n    function hello() {\r\n        let list = {\r\n            firstName: &quot;Jack&quot;\r\n        };\r\n        return &quot;Hello &quot; + list.firstName;\r\n    }\r\n    \r\n    console.log(hello()); // Output: Hello Jack\r\n\r\nIn this updated version, we use the list object directly to access the firstName property, and it gives the correct output: &quot;Hello Jack.&quot;\r\n\r\nRemember, understanding this might take some practice and getting used to different scenarios where it can be used. It&#39;s important to pay attention to how the function is called and what object it belongs to in order to determine the value of this.\r\n\r\nBut in GroovyShell\r\nThe text is referring to the ability to change the behavior of the &quot;this&quot; keyword in GroovyShell, which is a command-line tool for running Groovy scripts. The &quot;this&quot; keyword is used in object-oriented programming to refer to the current instance of an object. By overriding the &quot;this&quot; keyword in GroovyShell, one can change the way it behaves when used in a script. This can be useful for testing or experimentation purposes.","title":"Override &quot;this&quot;-keyword in GroovyShell","body":"<p>Understanding the this keyword in JavaScript can be a bit tricky, but I'll try to explain it in a simple way.</p>\n<p>In JavaScript, this is a special keyword that refers to the context in which a function is executed. It is a reference to the object on which the function is being invoked. The value of this depends on how the function is called, and it can change in different situations.</p>\n<p>To simplify it, you can think of this as a placeholder that gets its value assigned dynamically based on how the function is called.</p>\n<p>Here's a simple rule of thumb that might help you understand how this works:</p>\n<p>&quot;this refers to the object that the function belongs to or the object that is calling the function.&quot;</p>\n<p>Let's go through a few scenarios to illustrate how this works:</p>\n<p>Global context: If the function is called in the global context (outside any object or function), this will refer to the global object, which is window in browsers or global in Node.js.</p>\n<p>Method of an object: If the function is called as a method of an object, this will refer to that object.</p>\n<p>Constructor function: If the function is used as a constructor (using the new keyword), this will refer to the newly created object that the constructor is building.</p>\n<p>Explicit binding: Sometimes you can explicitly bind this to a specific object using methods like .call(), .apply(), or .bind().</p>\n<p>Now, let's apply this knowledge to your code snippet:</p>\n<pre><code>javascript\nCopy code\nfunction hello() {\n    let list = {\n        firstName: &quot;Jack&quot;\n    };\n    return &quot;Hello &quot; + this.firstName;\n}\n</code></pre>\n<p>console.log(hello());\nIn this case, the hello() function is called in the global context since it's not a method of any object. As a result, this will refer to the global object (e.g., window in browsers).</p>\n<p>However, since the firstName property is not defined in the global object, this.firstName will be undefined, and you'll get the output: &quot;Hello undefined.&quot;</p>\n<p>If you want to access the firstName property of the list object correctly, you should use it directly like this:</p>\n<p>javascript</p>\n<pre><code>function hello() {\n    let list = {\n        firstName: &quot;Jack&quot;\n    };\n    return &quot;Hello &quot; + list.firstName;\n}\n\nconsole.log(hello()); // Output: Hello Jack\n</code></pre>\n<p>In this updated version, we use the list object directly to access the firstName property, and it gives the correct output: &quot;Hello Jack.&quot;</p>\n<p>Remember, understanding this might take some practice and getting used to different scenarios where it can be used. It's important to pay attention to how the function is called and what object it belongs to in order to determine the value of this.</p>\n<p>But in GroovyShell\nThe text is referring to the ability to change the behavior of the &quot;this&quot; keyword in GroovyShell, which is a command-line tool for running Groovy scripts. The &quot;this&quot; keyword is used in object-oriented programming to refer to the current instance of an object. By overriding the &quot;this&quot; keyword in GroovyShell, one can change the way it behaves when used in a script. This can be useful for testing or experimentation purposes.</p>\n"}],"owner":{"account_id":4593506,"reputation":49,"user_id":3726223,"accept_rate":80,"display_name":"Andreascmj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24611224,"answer_count":2,"score":1,"last_activity_date":1691004533,"creation_date":1404722573,"question_id":24606389,"body_markdown":"I&#39;m trying to use GroovyShell in my java application for runtime execution of code. The code will be used for testing and will be exported to a java file when the program is finished. To make it easy for the users I would like the input to groovy to be as similar as possible to the java code that will be executed. This means that I, among other things, will remove types when the user tries to create a variable in order to avoid private variables ie. \r\n\r\n        String str = &quot;Lorem&quot; \r\nwill be executed as \r\n\r\n        str = &quot;Lorem&quot;.\r\n\r\nOne thing that I can&#39;t seem to solve however is that, where a user would normally be able to just call a method `foo()` they now have to call the method on a object.\r\n\r\n        Java code {\r\n            foo();\r\n        }\r\n\r\n        Groovy code {\r\n            im = new InteractiveMode();\r\n            im.foo();\r\n        }\r\n\r\nThis is of course because the method `foo()` is called on the object `this`, which in the groovy code references the script and not the java object. So my question is: Can I somehow override the `this` keyword in groovy or in some other way allow methods to be called on a object without having to specify what object every time?\r\n\r\n**EDIT: To clarify**\r\n\r\nThis is what my code looks like now:\r\n\r\n    InteractiveMode test = new InteractiveMode();\r\n    GroovyShell gs = new GroovyShell();\r\n    gs.setVariable(&quot;im&quot;, test);\r\n    gs.evaluate(&quot;im.foo();&quot;);\r\n\r\nI want to get the same output with this instead:\r\n\r\n    InteractiveMode test = new InteractiveMode();\r\n    GroovyShell gs = new GroovyShell();\r\n    gs.setVariable(&quot;im&quot;, test);\r\n    //Some groovy magic\r\n    gs.evaluate(&quot;foo();&quot;);","title":"Override &quot;this&quot;-keyword in GroovyShell","body":"<p>I'm trying to use GroovyShell in my java application for runtime execution of code. The code will be used for testing and will be exported to a java file when the program is finished. To make it easy for the users I would like the input to groovy to be as similar as possible to the java code that will be executed. This means that I, among other things, will remove types when the user tries to create a variable in order to avoid private variables ie. </p>\n\n<pre><code>    String str = \"Lorem\" \n</code></pre>\n\n<p>will be executed as </p>\n\n<pre><code>    str = \"Lorem\".\n</code></pre>\n\n<p>One thing that I can't seem to solve however is that, where a user would normally be able to just call a method <code>foo()</code> they now have to call the method on a object.</p>\n\n<pre><code>    Java code {\n        foo();\n    }\n\n    Groovy code {\n        im = new InteractiveMode();\n        im.foo();\n    }\n</code></pre>\n\n<p>This is of course because the method <code>foo()</code> is called on the object <code>this</code>, which in the groovy code references the script and not the java object. So my question is: Can I somehow override the <code>this</code> keyword in groovy or in some other way allow methods to be called on a object without having to specify what object every time?</p>\n\n<p><strong>EDIT: To clarify</strong></p>\n\n<p>This is what my code looks like now:</p>\n\n<pre><code>InteractiveMode test = new InteractiveMode();\nGroovyShell gs = new GroovyShell();\ngs.setVariable(\"im\", test);\ngs.evaluate(\"im.foo();\");\n</code></pre>\n\n<p>I want to get the same output with this instead:</p>\n\n<pre><code>InteractiveMode test = new InteractiveMode();\nGroovyShell gs = new GroovyShell();\ngs.setVariable(\"im\", test);\n//Some groovy magic\ngs.evaluate(\"foo();\");\n</code></pre>\n"},{"tags":["java","spring-boot","spring-websocket","spring-session"],"owner":{"account_id":29146736,"reputation":1,"user_id":22328480,"display_name":"thomn9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691003042,"creation_date":1691003004,"question_id":76822821,"body_markdown":"Problem: WebSocker session data are not persisted in precreated session tables (SPRING_SESSION, SPRING_SESSION_ATTRIBUTES)\r\n\r\nI followed this guide to implement it https://docs.spring.io/spring-session/reference/web-socket.html\r\n\r\nI&#180;m using Spring Boot 2.7.6, Java 11\r\n\r\nSpring related dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nApp properties:\r\n\r\n```\r\nspring:\r\n  session:\r\n    store-type: jdbc\r\n  datasource:\r\n    url: jdbc:h2:mem:testdb;MODE=LEGACY\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password: password\r\n  jpa:\r\n    generate-ddl: true\r\n  h2:\r\n    console:\r\n      enabled: true\r\n  liquibase:\r\n    enabled: true\r\n    change-log: liquibase/db.changelog-master.yaml\r\n```\r\n\r\nWebSocket config:\r\n\r\n```\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\r\nimport org.springframework.session.Session;\r\nimport org.springframework.session.web.socket.config.annotation.AbstractSessionWebSocketMessageBrokerConfigurer;\r\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\r\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\r\n\r\n\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig extends AbstractSessionWebSocketMessageBrokerConfigurer&lt;Session&gt; {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configureStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/reservation&quot;);\r\n        registry.addEndpoint(&quot;/reservation&quot;).withSockJS();\r\n    }\r\n}\r\n```\r\n\r\nWebSocket Controller impl:\r\n\r\n```\r\nimport cz.reservation.app.ErrorCode;\r\nimport cz.reservation.app.model.WsRequest;\r\nimport cz.reservation.app.model.dto.ReservableScheduleDto;\r\nimport cz.reservation.app.service.ReservationService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.messaging.handler.annotation.MessageMapping;\r\nimport org.springframework.messaging.handler.annotation.SendTo;\r\nimport org.springframework.stereotype.Controller;\r\n\r\n@Controller\r\npublic class ReservableScheduleWebSocketController {\r\n\r\n    @Autowired\r\n    private ReservationService reservationService;\r\n\r\n    @MessageMapping(&quot;/reservation&quot;)\r\n    @SendTo(&quot;/topic/reservable-schedule&quot;)\r\n    public ReservableScheduleDto wsRequestHandle(WsRequest wsRequest) throws Exception {\r\n\r\n        ...some logic\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI checked in a browser that SESSION cookie is created when conneting with websocket.\r\n\r\nI expect that Spring Boot will ensure that WebSocket session will be also stored in pregenerated SPRING_SESSION table (not only in a browser). What could be wrong with my code? Thank you!","title":"Websocket session is not being persisted in JDBC session store type","body":"<p>Problem: WebSocker session data are not persisted in precreated session tables (SPRING_SESSION, SPRING_SESSION_ATTRIBUTES)</p>\n<p>I followed this guide to implement it <a href=\"https://docs.spring.io/spring-session/reference/web-socket.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-session/reference/web-socket.html</a></p>\n<p>I´m using Spring Boot 2.7.6, Java 11</p>\n<p>Spring related dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-session-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>App properties:</p>\n<pre><code>spring:\n  session:\n    store-type: jdbc\n  datasource:\n    url: jdbc:h2:mem:testdb;MODE=LEGACY\n    driver-class-name: org.h2.Driver\n    username: sa\n    password: password\n  jpa:\n    generate-ddl: true\n  h2:\n    console:\n      enabled: true\n  liquibase:\n    enabled: true\n    change-log: liquibase/db.changelog-master.yaml\n</code></pre>\n<p>WebSocket config:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry;\nimport org.springframework.session.Session;\nimport org.springframework.session.web.socket.config.annotation.AbstractSessionWebSocketMessageBrokerConfigurer;\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry;\n\n\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractSessionWebSocketMessageBrokerConfigurer&lt;Session&gt; {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void configureStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/reservation&quot;);\n        registry.addEndpoint(&quot;/reservation&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>WebSocket Controller impl:</p>\n<pre><code>import cz.reservation.app.ErrorCode;\nimport cz.reservation.app.model.WsRequest;\nimport cz.reservation.app.model.dto.ReservableScheduleDto;\nimport cz.reservation.app.service.ReservationService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.messaging.handler.annotation.MessageMapping;\nimport org.springframework.messaging.handler.annotation.SendTo;\nimport org.springframework.stereotype.Controller;\n\n@Controller\npublic class ReservableScheduleWebSocketController {\n\n    @Autowired\n    private ReservationService reservationService;\n\n    @MessageMapping(&quot;/reservation&quot;)\n    @SendTo(&quot;/topic/reservable-schedule&quot;)\n    public ReservableScheduleDto wsRequestHandle(WsRequest wsRequest) throws Exception {\n\n        ...some logic\n\n    }\n\n}\n</code></pre>\n<p>I checked in a browser that SESSION cookie is created when conneting with websocket.</p>\n<p>I expect that Spring Boot will ensure that WebSocket session will be also stored in pregenerated SPRING_SESSION table (not only in a browser). What could be wrong with my code? Thank you!</p>\n"},{"tags":["java","time","jodatime","java-time","java.time.instant"],"comments":[{"owner":{"account_id":3054375,"reputation":916,"user_id":2588342,"display_name":"discipliuned"},"score":0,"creation_date":1469209077,"post_id":38532361,"comment_id":64458505,"body_markdown":"for comparison you could get the millis from each","body":"for comparison you could get the millis from each"}],"answers":[{"tags":[],"owner":{"account_id":3054375,"reputation":916,"user_id":2588342,"display_name":"discipliuned"},"comment_count":0,"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1496926438,"creation_date":1469209581,"answer_id":38532505,"question_id":38532361,"body_markdown":"`getMillis()` from joda.time can be compared to `toEpochMilli()` from java.time.\r\n\r\nClass documentation:\r\n\r\n - [org.joda.time.Instant::getMillis][1]\r\n - [java.time.Instant::toEpochMilli][2]\r\n\r\nExample code.\r\n\r\n    java.time.Instant myJavaInstant = \r\n        java.time.Instant.ofEpochMilli( myJodaInstant.getMillis() ) ;\r\n\r\nGoing the other way.\r\n\r\n    // Caution: Loss of data if the java.time.Instant has microsecond\r\n    // or nanosecond fraction of second.\r\n    org.joda.time.Instant myJodaInstant = \r\n        new org.joda.time.Instant( myJavaInstant.toEpochMilli() ); \r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/apidocs/org/joda/time/Instant.html#getMillis--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toEpochMilli--","title":"converting Joda time Instant to Java time Instant","body":"<p><code>getMillis()</code> from joda.time can be compared to <code>toEpochMilli()</code> from java.time.</p>\n\n<p>Class documentation:</p>\n\n<ul>\n<li><a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Instant.html#getMillis--\" rel=\"noreferrer\">org.joda.time.Instant::getMillis</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toEpochMilli--\" rel=\"noreferrer\">java.time.Instant::toEpochMilli</a></li>\n</ul>\n\n<p>Example code.</p>\n\n<pre><code>java.time.Instant myJavaInstant = \n    java.time.Instant.ofEpochMilli( myJodaInstant.getMillis() ) ;\n</code></pre>\n\n<p>Going the other way.</p>\n\n<pre><code>// Caution: Loss of data if the java.time.Instant has microsecond\n// or nanosecond fraction of second.\norg.joda.time.Instant myJodaInstant = \n    new org.joda.time.Instant( myJavaInstant.toEpochMilli() ); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6348,"reputation":15925,"user_id":10639,"accept_rate":84,"display_name":"Jason"},"score":0,"creation_date":1551906623,"post_id":49899352,"comment_id":96816950,"body_markdown":"the call to `parse` makes this answer confusing, but actually calling `toDate` returns a `java.util.Date`, which can be used to get the Instant...","body":"the call to <code>parse</code> makes this answer confusing, but actually calling <code>toDate</code> returns a <code>java.util.Date</code>, which can be used to get the Instant..."},{"owner":{"account_id":1327199,"reputation":587,"user_id":1271788,"display_name":"xYan"},"score":0,"creation_date":1552030073,"post_id":49899352,"comment_id":96865557,"body_markdown":"hence the brackets: (the datetime and formatting are just an example)","body":"hence the brackets: (the datetime and formatting are just an example)"}],"tags":[],"owner":{"account_id":1327199,"reputation":587,"user_id":1271788,"display_name":"xYan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524053295,"creation_date":1524053295,"answer_id":49899352,"question_id":38532361,"body_markdown":"You can convert from joda Instant to java&#39;s (*the datetime and formatting are just an example*):\r\n\r\n    org.joda.time.Instant.parse(&quot;10.02.2017 13:45:32&quot;, DateTimeFormat.forPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;)).toDate().toInstant()\r\n\r\nSo you call `toDate()` and `toInstant()` on your joda Instant.","title":"converting Joda time Instant to Java time Instant","body":"<p>You can convert from joda Instant to java's (<em>the datetime and formatting are just an example</em>):</p>\n\n<pre><code>org.joda.time.Instant.parse(\"10.02.2017 13:45:32\", DateTimeFormat.forPattern(\"dd.MM.yyyy HH:mm:ss\")).toDate().toInstant()\n</code></pre>\n\n<p>So you call <code>toDate()</code> and <code>toInstant()</code> on your joda Instant.</p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1691245040,"post_id":76822809,"comment_id":135467468,"body_markdown":"The output is correct. It&#39;s not a bug; it&#39;s the expected behaviour. An `Instant` gives you a date-time denoting a moment at UTC (which is specified by a `Z`).","body":"The output is correct. It&#39;s not a bug; it&#39;s the expected behaviour. An <code>Instant</code> gives you a date-time denoting a moment at UTC (which is specified by a <code>Z</code>)."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1691390158,"post_id":76822809,"comment_id":135479477,"body_markdown":"So your answer is that there is a bug in Joda-Time SDK? Apparently not, according to the comment to your answer. So how does your answer help anybody who is experiencing this problem? Your answer seems more suitable as a comment - but you can&#39;t comment as you don&#39;t have enough reputation. Maybe consider deleting this answer?","body":"So your answer is that there is a bug in Joda-Time SDK? Apparently not, according to the comment to your answer. So how does your answer help anybody who is experiencing this problem? Your answer seems more suitable as a comment - but you can&#39;t comment as you don&#39;t have enough reputation. Maybe consider deleting this answer?"}],"tags":[],"owner":{"account_id":22540680,"reputation":1,"user_id":16731272,"display_name":"SAFSAF SAFSAF"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691002880,"creation_date":1691002880,"answer_id":76822809,"question_id":38532361,"body_markdown":"I think there is a bug in the Joda-Time sdk. It changes the time and time zone when you convert this way.\r\n\r\nMy original ISO string is: \r\noriginalISOString = 2023-08-02T22:00:00.000+01:00\r\n\r\nI run the step above as:\r\norg.joda.time.Instant.parse(originalISOString, \r\n\t\t\t\t\tISODateTimeFormat.dateTime()).toDate().toInstant();\r\n\r\nbut after running through the step above, my resulting string (using Instant.toString()) is 2023-08-02T21:00:00Z\r\n\r\nIt has changed the time and the time zone.\r\n","title":"converting Joda time Instant to Java time Instant","body":"<p>I think there is a bug in the Joda-Time sdk. It changes the time and time zone when you convert this way.</p>\n<p>My original ISO string is:\noriginalISOString = 2023-08-02T22:00:00.000+01:00</p>\n<p>I run the step above as:\norg.joda.time.Instant.parse(originalISOString,\nISODateTimeFormat.dateTime()).toDate().toInstant();</p>\n<p>but after running through the step above, my resulting string (using Instant.toString()) is 2023-08-02T21:00:00Z</p>\n<p>It has changed the time and the time zone.</p>\n"}],"owner":{"account_id":4177994,"reputation":1075,"user_id":3449882,"accept_rate":14,"display_name":"user123475"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23101,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":38532505,"answer_count":3,"score":30,"last_activity_date":1691002880,"creation_date":1469209018,"question_id":38532361,"body_markdown":"I have an instance of Instant (org.joda.time.Instant) which I get in some api response. I have another instance from (java.time.Instant) which I get from some other call. Now, I want to compare these two object to check which one get the latest one. How would it be possible?","title":"converting Joda time Instant to Java time Instant","body":"<p>I have an instance of Instant (org.joda.time.Instant) which I get in some api response. I have another instance from (java.time.Instant) which I get from some other call. Now, I want to compare these two object to check which one get the latest one. How would it be possible?</p>\n"},{"tags":["java","spring-boot","application.properties"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1691003543,"post_id":76822806,"comment_id":135433283,"body_markdown":"Why can’t the second key be simply the value? You don’t know the value?","body":"Why can’t the second key be simply the value? You don’t know the value?"},{"owner":{"account_id":982652,"reputation":303,"user_id":1001982,"accept_rate":82,"display_name":"Anvesh Raavi"},"score":0,"creation_date":1691004080,"post_id":76822806,"comment_id":135433366,"body_markdown":"Yes, I don&#39;t have a way to know the value.","body":"Yes, I don&#39;t have a way to know the value."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1691004130,"post_id":76822806,"comment_id":135433379,"body_markdown":"YAML doesn’t support dynamic keys. You’ll have to do it in code.","body":"YAML doesn’t support dynamic keys. You’ll have to do it in code."}],"owner":{"account_id":982652,"reputation":303,"user_id":1001982,"accept_rate":82,"display_name":"Anvesh Raavi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691002849,"creation_date":1691002849,"question_id":76822806,"body_markdown":"Would it be possible to define like this in a spring boot application.properties file \r\n\r\n    a.property = value\r\n    ${value} = another Value\r\n\r\nIf yes, how to resolve a.property in the spring using @Value annotation?","title":"Spring Application.properties, can value of a key be another key with value?","body":"<p>Would it be possible to define like this in a spring boot application.properties file</p>\n<pre><code>a.property = value\n${value} = another Value\n</code></pre>\n<p>If yes, how to resolve a.property in the spring using @Value annotation?</p>\n"},{"tags":["java","angular","spring-security"],"owner":{"account_id":26880675,"reputation":21,"user_id":20461179,"display_name":"CarrotSnip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691002405,"creation_date":1691002405,"question_id":76822751,"body_markdown":"I have tried the login process manually with insomnia. I am able to login and logout so long as I set `X-CSRF-TOKEN`. [![enter image description here][1]][1]\r\n\r\nBut when I try to do it in my angular app, I am unable to login even if I already setup the \r\n`X-CSRF-TOKEN`. Why is this happening? I checked the request and I can see the token there.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe request doesn&#39;t even enter my login method. It just says that CSRF token is invalid, when it is perfectly valid. I am getting the token generated from this method in my controller:\r\n\r\n```\r\n    @GetMapping(&quot;/csrf&quot;)\r\n    public CsrfResponse getCsrf(HttpServletRequest request) {\r\n        CsrfToken csrfToken = (CsrfToken) request.getAttribute(&quot;_csrf&quot;);\r\n        log.info(&quot;Returning token: {}&quot;, csrfToken.getToken());\r\n        return new CsrfResponse(csrfToken.getToken());\r\n    }\r\n```\r\n\r\nHere&#39;s my login method:\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n    public CurrentUser login(@Valid @RequestBody LoginRequest request,\r\n                             BindingResult bindingResult,\r\n                             HttpServletRequest httpServletRequest,\r\n                             HttpServletResponse response) throws LoginException {\r\n\r\n        log.info(&quot;header: {}&quot;, httpServletRequest.getHeader(&quot;X-CSRF-TOKEN&quot;));\r\n\r\n        if (httpServletRequest.getUserPrincipal() != null) {\r\n            throw new LoginException(&quot;Please logout first.&quot;);\r\n        }\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            throw new LoginException(&quot;Invalid username or password.&quot;);\r\n        }\r\n\r\n        try {\r\n            httpServletRequest.login(request.getUsername(), request.getPassword());\r\n        } catch (ServletException e) {\r\n            throw new LoginException(&quot;Invalid username or password.&quot;);\r\n        }\r\n\r\n        Authentication auth = (Authentication) httpServletRequest.getUserPrincipal();\r\n        User user = (User) auth.getPrincipal();\r\n        String csrfToken = httpServletRequest.getHeader(&quot;X-CSRF-TOKEN&quot;);\r\n\r\n        log.info(&quot;User {} logged in.&quot;, user.getUsername());\r\n        rememberMeServices.loginSuccess(httpServletRequest, response, auth);\r\n        return new CurrentUser(user.getId(), user.getUsername(), csrfToken);\r\n    }\r\n```\r\n\r\nHere&#39;s my configuration:\r\n\r\n```\r\n    @Bean(&quot;securityFilterChain&quot;)\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        CookieCsrfTokenRepository csrfTokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse();\r\n        csrfTokenRepository.setCookiePath(&quot;/&quot;);\r\n        csrfTokenRepository.setHeaderName(&quot;X-CSRF-TOKEN&quot;);\r\n\r\n        DefaultSecurityFilterChain chain = http\r\n                .cors(Customizer.withDefaults())\r\n                .authorizeHttpRequests(customizer -&gt; customizer\r\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/csrf&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET,&quot;/api/v1/destination&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.GET,&quot;/api/v1/destination/featured&quot;).permitAll()\r\n                        .requestMatchers(&quot;/error&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST,&quot;/api/v1/login&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST,&quot;/api/v1/destination&quot;).authenticated()\r\n                        .requestMatchers(&quot;/api/v1/**&quot;).authenticated()\r\n                        .anyRequest().denyAll()\r\n                )\r\n                .csrf(csrf -&gt; csrf.csrfTokenRepository(csrfTokenRepository))\r\n                .exceptionHandling(customizer -&gt; customizer\r\n                        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n                )\r\n                .rememberMe(customizer -&gt; customizer.alwaysRemember(true).key(&quot;remember&quot;))\r\n                .build();\r\n\r\n        RememberMeServices rememberMeServices = http.getSharedObject(RememberMeServices.class);\r\n        beanFactory.registerSingleton(&quot;rememberMeServices&quot;, rememberMeServices);\r\n\r\n        return chain;\r\n    }\r\n```\r\n\r\nHere&#39;s the interceptor I created that attaches the `X-CSRF-TOKEN`.\r\n\r\n```\r\n@Injectable()\r\nexport class CsrfInterceptor implements HttpInterceptor {\r\n\r\n    constructor(private headerService: CsrfService) {\r\n    }\r\n\r\n    intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n        \r\n        const csrfToken = this.headerService.getCsrfToken();\r\n\r\n        const modifiedRequest = request.clone({\r\n            setHeaders: {\r\n                &#39;X-CSRF-TOKEN&#39;: csrfToken,\r\n                &#39;Content-Type&#39;: &#39;application/json&#39;\r\n            }\r\n        });\r\n        \r\n        return next.handle(modifiedRequest);\r\n    }\r\n}\r\n```\r\nI don&#39;t understand, from my perspective, I should be able to login successfully. But why am I getting this error instead?\r\n\r\n```\r\n2023-08-03T02:49:09.572+08:00 DEBUG 94056 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-08-03T02:49:10.657+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/login\r\n2023-08-03T02:49:10.660+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for http://localhost:8080/api/v1/login\r\n2023-08-03T02:49:10.660+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n2023-08-03T02:49:10.664+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error\r\n2023-08-03T02:49:10.667+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /error\r\n2023-08-03T02:49:10.682+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n```\r\n\r\nI&#39;ve been trying to solve this for 2 days already! I don&#39;t get it! I am on angular 15, and spring security 6.1.0.\r\n\r\n  [1]: https://i.stack.imgur.com/GDqBG.png\r\n  [2]: https://i.stack.imgur.com/p3cGF.png","title":"Why is my CSRF token invalid? I already set it in my angular app","body":"<p>I have tried the login process manually with insomnia. I am able to login and logout so long as I set <code>X-CSRF-TOKEN</code>. <a href=\"https://i.stack.imgur.com/GDqBG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GDqBG.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I try to do it in my angular app, I am unable to login even if I already setup the\n<code>X-CSRF-TOKEN</code>. Why is this happening? I checked the request and I can see the token there.</p>\n<p><a href=\"https://i.stack.imgur.com/p3cGF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p3cGF.png\" alt=\"enter image description here\" /></a></p>\n<p>The request doesn't even enter my login method. It just says that CSRF token is invalid, when it is perfectly valid. I am getting the token generated from this method in my controller:</p>\n<pre><code>    @GetMapping(&quot;/csrf&quot;)\n    public CsrfResponse getCsrf(HttpServletRequest request) {\n        CsrfToken csrfToken = (CsrfToken) request.getAttribute(&quot;_csrf&quot;);\n        log.info(&quot;Returning token: {}&quot;, csrfToken.getToken());\n        return new CsrfResponse(csrfToken.getToken());\n    }\n</code></pre>\n<p>Here's my login method:</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public CurrentUser login(@Valid @RequestBody LoginRequest request,\n                             BindingResult bindingResult,\n                             HttpServletRequest httpServletRequest,\n                             HttpServletResponse response) throws LoginException {\n\n        log.info(&quot;header: {}&quot;, httpServletRequest.getHeader(&quot;X-CSRF-TOKEN&quot;));\n\n        if (httpServletRequest.getUserPrincipal() != null) {\n            throw new LoginException(&quot;Please logout first.&quot;);\n        }\n\n        if (bindingResult.hasErrors()) {\n            throw new LoginException(&quot;Invalid username or password.&quot;);\n        }\n\n        try {\n            httpServletRequest.login(request.getUsername(), request.getPassword());\n        } catch (ServletException e) {\n            throw new LoginException(&quot;Invalid username or password.&quot;);\n        }\n\n        Authentication auth = (Authentication) httpServletRequest.getUserPrincipal();\n        User user = (User) auth.getPrincipal();\n        String csrfToken = httpServletRequest.getHeader(&quot;X-CSRF-TOKEN&quot;);\n\n        log.info(&quot;User {} logged in.&quot;, user.getUsername());\n        rememberMeServices.loginSuccess(httpServletRequest, response, auth);\n        return new CurrentUser(user.getId(), user.getUsername(), csrfToken);\n    }\n</code></pre>\n<p>Here's my configuration:</p>\n<pre><code>    @Bean(&quot;securityFilterChain&quot;)\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        CookieCsrfTokenRepository csrfTokenRepository = CookieCsrfTokenRepository.withHttpOnlyFalse();\n        csrfTokenRepository.setCookiePath(&quot;/&quot;);\n        csrfTokenRepository.setHeaderName(&quot;X-CSRF-TOKEN&quot;);\n\n        DefaultSecurityFilterChain chain = http\n                .cors(Customizer.withDefaults())\n                .authorizeHttpRequests(customizer -&gt; customizer\n                        .requestMatchers(HttpMethod.GET, &quot;/api/v1/csrf&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET,&quot;/api/v1/destination&quot;).permitAll()\n                        .requestMatchers(HttpMethod.GET,&quot;/api/v1/destination/featured&quot;).permitAll()\n                        .requestMatchers(&quot;/error&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST,&quot;/api/v1/login&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST,&quot;/api/v1/destination&quot;).authenticated()\n                        .requestMatchers(&quot;/api/v1/**&quot;).authenticated()\n                        .anyRequest().denyAll()\n                )\n                .csrf(csrf -&gt; csrf.csrfTokenRepository(csrfTokenRepository))\n                .exceptionHandling(customizer -&gt; customizer\n                        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n                )\n                .rememberMe(customizer -&gt; customizer.alwaysRemember(true).key(&quot;remember&quot;))\n                .build();\n\n        RememberMeServices rememberMeServices = http.getSharedObject(RememberMeServices.class);\n        beanFactory.registerSingleton(&quot;rememberMeServices&quot;, rememberMeServices);\n\n        return chain;\n    }\n</code></pre>\n<p>Here's the interceptor I created that attaches the <code>X-CSRF-TOKEN</code>.</p>\n<pre><code>@Injectable()\nexport class CsrfInterceptor implements HttpInterceptor {\n\n    constructor(private headerService: CsrfService) {\n    }\n\n    intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n        \n        const csrfToken = this.headerService.getCsrfToken();\n\n        const modifiedRequest = request.clone({\n            setHeaders: {\n                'X-CSRF-TOKEN': csrfToken,\n                'Content-Type': 'application/json'\n            }\n        });\n        \n        return next.handle(modifiedRequest);\n    }\n}\n</code></pre>\n<p>I don't understand, from my perspective, I should be able to login successfully. But why am I getting this error instead?</p>\n<pre><code>2023-08-03T02:49:09.572+08:00 DEBUG 94056 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-08-03T02:49:10.657+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/login\n2023-08-03T02:49:10.660+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.csrf.CsrfFilter         : Invalid CSRF token found for http://localhost:8080/api/v1/login\n2023-08-03T02:49:10.660+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n2023-08-03T02:49:10.664+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /error\n2023-08-03T02:49:10.667+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /error\n2023-08-03T02:49:10.682+08:00 DEBUG 94056 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n</code></pre>\n<p>I've been trying to solve this for 2 days already! I don't get it! I am on angular 15, and spring security 6.1.0.</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-cdt"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1690814463,"post_id":76803705,"comment_id":135401689,"body_markdown":"Have you looked at the code that executes when finishing the new project wizard for that kind of project? If you set a breakpoint in the implementation of one of the methods you&#39;re calling yourself, you should find it relatively quickly when you run the wizard.","body":"Have you looked at the code that executes when finishing the new project wizard for that kind of project? If you set a breakpoint in the implementation of one of the methods you&#39;re calling yourself, you should find it relatively quickly when you run the wizard."},{"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"score":0,"creation_date":1690816705,"post_id":76803705,"comment_id":135402227,"body_markdown":"@nitind The original project import was completely manual. A user creating/importing a project via Eclipse Wizard is not going to trigger anything in my plugin, and likewise, my plugin doesn&#39;t trigger any Eclipse wizard.","body":"@nitind The original project import was completely manual. A user creating/importing a project via Eclipse Wizard is not going to trigger anything in my plugin, and likewise, my plugin doesn&#39;t trigger any Eclipse wizard."},{"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"score":0,"creation_date":1690817901,"post_id":76803705,"comment_id":135402498,"body_markdown":"@nitind That being said, I&#39;ve managed to deduce ```org.eclipse.core.cdt.CCorePlugin``` class has its ```createCDTProject``` function called, so I have managed to get a breakpoint on that and am currently tracing to see what it does differently to my code.","body":"@nitind That being said, I&#39;ve managed to deduce <code>org.eclipse.core.cdt.CCorePlugin</code> class has its <code>createCDTProject</code> function called, so I have managed to get a breakpoint on that and am currently tracing to see what it does differently to my code."}],"answers":[{"tags":[],"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691002144,"creation_date":1691002144,"answer_id":76822729,"question_id":76803705,"body_markdown":"OK, so after as much tracing in to Eclipse as I could do, I found some but not all things that I needed to directly create a project with a ```.cproject``` file.\r\n\r\nHowever, after finding that there are some project conversion functions on the Eclipse ```CCorePlugin``` class, I decided to try those (at the time mixed in with some other code). Ultimately, I only needed to call a single method after calling ```open(...)``` on my ```IProject``` reference.\r\n\r\nI discovered that converting to a ```CProjectNature``` is only suitable for C and that I need to also cover C++. Converting solely to a ```CCProjectNature``` (note the extra C at the front) would add both types of nature to the project. It also ultimately calls the code I put in my question update, so writes the ```.cproject``` file. I checked the context menus and and the project properties and they now match what the Eclipse import wizard was producing.\r\n\r\nSo short version is this original code:\r\n```\r\ntry {\r\n      newProject.open(monitor);\r\n    } catch (CoreException e) {\r\n      // &lt;snipped - do some logging&gt;\r\n}\r\nreturn newProject; \r\n```\r\n\r\n...becomes...\r\n\r\n```\r\ntry {\r\n      newProject.open(monitor);\r\n      cdtCorePlugin.convertProjectToNewCC(newProject, DEFAULT_PREFERENCE_CONFIG, monitor);\r\n    } catch (CoreException e) {\r\n      // &lt;snipped - do some logging&gt;\r\n}\r\nreturn newProject; \r\n```\r\n\r\nwhere ```cdtCorePlugin``` is simply defined earlier as:\r\n\r\n```\r\nCCorePlugin cdtCorePlugin = CCorePlugin.getDefault();\r\n```\r\n\r\nand ```DEFAULT_PREFERENCE_CONFIG``` is a constant defined as:\r\n\r\n```\r\nprivate static final String DEFAULT_PREFERENCE_CONFIG = &quot;org.eclipse.cdt.managedbuilder.core.configurationDataProvider&quot;;\r\n```","title":"Eclipse .cproject programmatic creation","body":"<p>OK, so after as much tracing in to Eclipse as I could do, I found some but not all things that I needed to directly create a project with a <code>.cproject</code> file.</p>\n<p>However, after finding that there are some project conversion functions on the Eclipse <code>CCorePlugin</code> class, I decided to try those (at the time mixed in with some other code). Ultimately, I only needed to call a single method after calling <code>open(...)</code> on my <code>IProject</code> reference.</p>\n<p>I discovered that converting to a <code>CProjectNature</code> is only suitable for C and that I need to also cover C++. Converting solely to a <code>CCProjectNature</code> (note the extra C at the front) would add both types of nature to the project. It also ultimately calls the code I put in my question update, so writes the <code>.cproject</code> file. I checked the context menus and and the project properties and they now match what the Eclipse import wizard was producing.</p>\n<p>So short version is this original code:</p>\n<pre><code>try {\n      newProject.open(monitor);\n    } catch (CoreException e) {\n      // &lt;snipped - do some logging&gt;\n}\nreturn newProject; \n</code></pre>\n<p>...becomes...</p>\n<pre><code>try {\n      newProject.open(monitor);\n      cdtCorePlugin.convertProjectToNewCC(newProject, DEFAULT_PREFERENCE_CONFIG, monitor);\n    } catch (CoreException e) {\n      // &lt;snipped - do some logging&gt;\n}\nreturn newProject; \n</code></pre>\n<p>where <code>cdtCorePlugin</code> is simply defined earlier as:</p>\n<pre><code>CCorePlugin cdtCorePlugin = CCorePlugin.getDefault();\n</code></pre>\n<p>and <code>DEFAULT_PREFERENCE_CONFIG</code> is a constant defined as:</p>\n<pre><code>private static final String DEFAULT_PREFERENCE_CONFIG = &quot;org.eclipse.cdt.managedbuilder.core.configurationDataProvider&quot;;\n</code></pre>\n"}],"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76822729,"answer_count":1,"score":0,"last_activity_date":1691002144,"creation_date":1690807056,"question_id":76803705,"body_markdown":"I&#39;ve got Eclipse plugin code that programmatically creates an Eclipse project. The gist of it is here: https://stackoverflow.com/questions/75833893/programmatic-creation-of-eclipse-project-in-the-eclipse-workspace (the code shown on this post is the same coding project as I am currently asking about).\r\n\r\nIn my use-cases, the projects created are always C/C++ projects.\r\n\r\nI initially thought just adding a ```CNature``` to the instance of ```IProjectDescription``` would suffice when it is assigned to the instance of an ```IProject``` but this does not appear to be enough. The code runs seemlessly (no errors), but I&#39;m rightly or wrongly expecting a ```.cproject``` file to be created also. I&#39;ve tried various things to create this, including this:\r\n\r\n```\r\nIProject newProject = workspace.getRoot().getProject(projectName);\r\ntry {\r\n       newProject.create(newProjectDescription, monitor);  // create Eclipse project\r\n       CoreModel model = CoreModel.getDefault();           // get default CDT model\r\n       ICProject cproject = model.create(newProject);      // create CDT model for project\r\n    } catch (CoreException ex) {\r\n       // &lt;snipped - does some logging&gt;\r\n    }\r\n```\r\n\r\n...with this later...\r\n\r\n```\r\ntry {\r\n        newProject.open(monitor);\r\n        newProject.setDescription(newProjectDescription, null);\r\n        cproject.save(null, true);  \r\n    } catch (CoreException e) {\r\n        // &lt;snipped - does some loggging&gt;\r\n    }\r\n```\r\n\r\n...to no avail.\r\n\r\nThe programmatically created project is a duplicate of an existing project. The existing project was imported in to Eclipse using the &quot;Existing Projects into Workspace...&quot; option. I did not specify a toolchain for it. Neither does it actually have anything like make files in its structure, it&#39;s purely C and C++ files only. Yet, when I right-click on each and examine the context menu, the original manually imported one has &quot;Build Project&quot;, &quot;Clean Project&quot; and &quot;Make Targets&quot;. Similarly, if I compare properties, the original has a &quot;C/C++ Build&quot; section, but the programmatically created one lacks this. The same is true in that the original has a ```.cproject``` file and the programmatically created one does not.\r\n\r\nI wish them to be identical such that the programmatically created one has the items I mention it currently lacks, in order to have the same context menu, &quot;C/C++ Build&quot; section in its properties and the important ```.cproject``` file.\r\n\r\nI suspect it is the presence of the ```.cproject``` file that makes the difference in IDE behaviour, and I wish to know how to ensure that gets created also.\r\n\r\n**UPDATE 1:**\r\n\r\nBased on @nitind idea of tracing in to Eclipse code, I have discovered that the ```.cproject``` file is written from package ```org.eclipse.cdt.internal.core.settings.model.xml``` and class ```DesSerializationRunnable```, which has the following function (given it implements ```Runnable```):\r\n\r\n```\r\npublic void run(IProgressMonitor monitor) throws CoreException {\r\n  JobChangeAdapter notifyJobCanceller = new NotifyJobCanceller((NotifyJobCanceller)null);\r\n  try {\r\n\tJob.getJobManager().addJobChangeListener(notifyJobCanceller);\r\n\tResourcesPlugin.getWorkspace().run(new IWorkspaceRunnable() {\r\n\t\tpublic void run(IProgressMonitor monitor) throws CoreException {\r\n\t\t}\r\n\t}, (ISchedulingRule)null, 1, (IProgressMonitor)null);\r\n\tXmlProjectDescriptionStorage.this.serializingLock.acquire();\r\n\tLanguageSettingsProvidersSerializer.serializeLanguageSettings(this.fDes);\r\n\tXmlProjectDescriptionStorage.this.projectModificaitonStamp = XmlProjectDescriptionStorage.this.serialize(this.fDes.getProject(), &quot;.cproject&quot;, this.fElement);\r\n\t((ContributedEnvironment)CCorePlugin.getDefault().getBuildEnvironmentManager().getContributedEnvironment()).serialize(this.fDes);\r\n  } finally {\r\n\tXmlProjectDescriptionStorage.this.serializingLock.release();\r\n\tJob.getJobManager().removeJobChangeListener(notifyJobCanceller);\r\n  }\r\n}\r\n```\r\n\r\nand specifically the line referring to &quot;.cproject&quot; writes the file.\r\n\r\nI now just need to see how this gets called, and deduce if I can mimic it in my scenario, or better still, find a way to re-use this Eclipse code.","title":"Eclipse .cproject programmatic creation","body":"<p>I've got Eclipse plugin code that programmatically creates an Eclipse project. The gist of it is here: <a href=\"https://stackoverflow.com/questions/75833893/programmatic-creation-of-eclipse-project-in-the-eclipse-workspace\">Programmatic creation of Eclipse project in the Eclipse workspace</a> (the code shown on this post is the same coding project as I am currently asking about).</p>\n<p>In my use-cases, the projects created are always C/C++ projects.</p>\n<p>I initially thought just adding a <code>CNature</code> to the instance of <code>IProjectDescription</code> would suffice when it is assigned to the instance of an <code>IProject</code> but this does not appear to be enough. The code runs seemlessly (no errors), but I'm rightly or wrongly expecting a <code>.cproject</code> file to be created also. I've tried various things to create this, including this:</p>\n<pre><code>IProject newProject = workspace.getRoot().getProject(projectName);\ntry {\n       newProject.create(newProjectDescription, monitor);  // create Eclipse project\n       CoreModel model = CoreModel.getDefault();           // get default CDT model\n       ICProject cproject = model.create(newProject);      // create CDT model for project\n    } catch (CoreException ex) {\n       // &lt;snipped - does some logging&gt;\n    }\n</code></pre>\n<p>...with this later...</p>\n<pre><code>try {\n        newProject.open(monitor);\n        newProject.setDescription(newProjectDescription, null);\n        cproject.save(null, true);  \n    } catch (CoreException e) {\n        // &lt;snipped - does some loggging&gt;\n    }\n</code></pre>\n<p>...to no avail.</p>\n<p>The programmatically created project is a duplicate of an existing project. The existing project was imported in to Eclipse using the &quot;Existing Projects into Workspace...&quot; option. I did not specify a toolchain for it. Neither does it actually have anything like make files in its structure, it's purely C and C++ files only. Yet, when I right-click on each and examine the context menu, the original manually imported one has &quot;Build Project&quot;, &quot;Clean Project&quot; and &quot;Make Targets&quot;. Similarly, if I compare properties, the original has a &quot;C/C++ Build&quot; section, but the programmatically created one lacks this. The same is true in that the original has a <code>.cproject</code> file and the programmatically created one does not.</p>\n<p>I wish them to be identical such that the programmatically created one has the items I mention it currently lacks, in order to have the same context menu, &quot;C/C++ Build&quot; section in its properties and the important <code>.cproject</code> file.</p>\n<p>I suspect it is the presence of the <code>.cproject</code> file that makes the difference in IDE behaviour, and I wish to know how to ensure that gets created also.</p>\n<p><strong>UPDATE 1:</strong></p>\n<p>Based on @nitind idea of tracing in to Eclipse code, I have discovered that the <code>.cproject</code> file is written from package <code>org.eclipse.cdt.internal.core.settings.model.xml</code> and class <code>DesSerializationRunnable</code>, which has the following function (given it implements <code>Runnable</code>):</p>\n<pre><code>public void run(IProgressMonitor monitor) throws CoreException {\n  JobChangeAdapter notifyJobCanceller = new NotifyJobCanceller((NotifyJobCanceller)null);\n  try {\n    Job.getJobManager().addJobChangeListener(notifyJobCanceller);\n    ResourcesPlugin.getWorkspace().run(new IWorkspaceRunnable() {\n        public void run(IProgressMonitor monitor) throws CoreException {\n        }\n    }, (ISchedulingRule)null, 1, (IProgressMonitor)null);\n    XmlProjectDescriptionStorage.this.serializingLock.acquire();\n    LanguageSettingsProvidersSerializer.serializeLanguageSettings(this.fDes);\n    XmlProjectDescriptionStorage.this.projectModificaitonStamp = XmlProjectDescriptionStorage.this.serialize(this.fDes.getProject(), &quot;.cproject&quot;, this.fElement);\n    ((ContributedEnvironment)CCorePlugin.getDefault().getBuildEnvironmentManager().getContributedEnvironment()).serialize(this.fDes);\n  } finally {\n    XmlProjectDescriptionStorage.this.serializingLock.release();\n    Job.getJobManager().removeJobChangeListener(notifyJobCanceller);\n  }\n}\n</code></pre>\n<p>and specifically the line referring to &quot;.cproject&quot; writes the file.</p>\n<p>I now just need to see how this gets called, and deduce if I can mimic it in my scenario, or better still, find a way to re-use this Eclipse code.</p>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":293130,"reputation":238938,"user_id":596285,"accept_rate":100,"display_name":"BMitch"},"score":0,"creation_date":1689457437,"post_id":76694890,"comment_id":135217087,"body_markdown":"You need to run the command from the folder with the Dockerfile. Use `cd` to change directories.","body":"You need to run the command from the folder with the Dockerfile. Use <code>cd</code> to change directories."}],"answers":[{"tags":[],"owner":{"account_id":3553633,"reputation":439,"user_id":3029310,"display_name":"wkukielczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691001838,"creation_date":1691001838,"answer_id":76822700,"question_id":76694890,"body_markdown":"Ah, got it!\r\n\r\nYou ran the following command:\r\n`C:\\Users\\User&gt;docker build -t javaapp1`\r\nfrom `C:\\Users\\User` directory, which don&#39;t contain your `Dockerfile`.\r\nTo get it working, first change the directory to one that contains your `Dockerfile`, which is `C:\\Users\\User\\Desktop\\New folder 1` and then run docker build command\r\n\r\nHope it helped! ✌️","title":"how to resolve failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount3554908678/Dockerfile:","body":"<p>Ah, got it!</p>\n<p>You ran the following command:\n<code>C:\\Users\\User&gt;docker build -t javaapp1</code>\nfrom <code>C:\\Users\\User</code> directory, which don't contain your <code>Dockerfile</code>.\nTo get it working, first change the directory to one that contains your <code>Dockerfile</code>, which is <code>C:\\Users\\User\\Desktop\\New folder 1</code> and then run docker build command</p>\n<p>Hope it helped! ✌️</p>\n"}],"owner":{"account_id":27808710,"reputation":21,"user_id":21231501,"display_name":"Deepali Sinha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4146,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1691001838,"creation_date":1689440345,"question_id":76694890,"body_markdown":"I am trying to build a docker image on windows 10 using visual code \r\n\r\nDockerfile: \r\n\r\n    FROM openjdk\r\n    WORKDIR /app\r\n    COPY . /app\r\n    RUN javac dockerSample.java\r\n    CMD [&quot;java&quot;,&quot;dockerSample&quot;]\r\n\r\nDocker file path `C:\\Users\\User\\Desktop\\New folder 1\\Dockerfile`\r\n\r\nAfter running this command, I&#39;m getting the following error:\r\n\r\n&gt; C:\\Users\\User&gt;docker build -t javaapp1 . [+] Building 0.0s (0/0)      \r\n&gt; docker:default 2023/07/15 22:22:19 http2: server: error reading\r\n&gt; preface from client //./pipe/docker_engine: file has already been\r\n&gt; close[+] Building 4.0s (2/2) FINISHED                                 \r\n&gt; docker:default  =&gt; [internal] load build definition from Dockerfile   \r\n&gt; 1.4s  =&gt; =&gt; transferring dockerfile: 2B                                                                                 0.0s  =&gt; [internal] load .dockerignore                                                                                  1.9s  =&gt; =&gt; transferring context: 2B                                                                                    0.0s ERROR: failed to solve: failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount3554908678/Dockerfile: no such file\r\n&gt; or directory","title":"how to resolve failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount3554908678/Dockerfile:","body":"<p>I am trying to build a docker image on windows 10 using visual code</p>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk\nWORKDIR /app\nCOPY . /app\nRUN javac dockerSample.java\nCMD [&quot;java&quot;,&quot;dockerSample&quot;]\n</code></pre>\n<p>Docker file path <code>C:\\Users\\User\\Desktop\\New folder 1\\Dockerfile</code></p>\n<p>After running this command, I'm getting the following error:</p>\n<blockquote>\n<p>C:\\Users\\User&gt;docker build -t javaapp1 . [+] Building 0.0s (0/0)<br />\ndocker:default 2023/07/15 22:22:19 http2: server: error reading\npreface from client //./pipe/docker_engine: file has already been\nclose[+] Building 4.0s (2/2) FINISHED<br />\ndocker:default  =&gt; [internal] load build definition from Dockerfile<br />\n1.4s  =&gt; =&gt; transferring dockerfile: 2B                                                                                 0.0s  =&gt; [internal] load .dockerignore                                                                                  1.9s  =&gt; =&gt; transferring context: 2B                                                                                    0.0s ERROR: failed to solve: failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount3554908678/Dockerfile: no such file\nor directory</p>\n</blockquote>\n"},{"tags":["java","exception","spring-webflux","java-11"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690999926,"post_id":76822132,"comment_id":135432616,"body_markdown":"As `Error` is a `Throwable` you can still catch them so your logic/reasoning is flawed you cannot catch them, because you can. Generally `Errors` are for unrecoverable situations. That being said the Error will never propagate to your client as that only knows about HTTP status codes.","body":"As <code>Error</code> is a <code>Throwable</code> you can still catch them so your logic/reasoning is flawed you cannot catch them, because you can. Generally <code>Errors</code> are for unrecoverable situations. That being said the Error will never propagate to your client as that only knows about HTTP status codes."},{"owner":{"account_id":5329935,"reputation":3,"user_id":4250786,"display_name":"Rafael Zucareli"},"score":0,"creation_date":1691051988,"post_id":76822132,"comment_id":135440057,"body_markdown":"Yes, I&#39;ll follow the suggestion to use RuntimeException. I&#39;ll try to document better as possible to prevent anyone to catch exceptions from this library (An exception error should always fail the tests, never test in any scenario).","body":"Yes, I&#39;ll follow the suggestion to use RuntimeException. I&#39;ll try to document better as possible to prevent anyone to catch exceptions from this library (An exception error should always fail the tests, never test in any scenario)."}],"answers":[{"comments":[{"owner":{"account_id":5329935,"reputation":3,"user_id":4250786,"display_name":"Rafael Zucareli"},"score":0,"creation_date":1691051413,"post_id":76822287,"comment_id":135439955,"body_markdown":"The solution solved my problem but I thought the logic should work better in a functional code than in a reactive one.  I will use the suggestions to go back to a RuntimeException and document well to anyone who keeps looking when working with the library in a test for exception scenarios.","body":"The solution solved my problem but I thought the logic should work better in a functional code than in a reactive one.  I will use the suggestions to go back to a RuntimeException and document well to anyone who keeps looking when working with the library in a test for exception scenarios."}],"tags":[],"owner":{"account_id":13715041,"reputation":16,"user_id":9896347,"display_name":"Ricardo Schuller"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691000867,"creation_date":1690997730,"answer_id":76822287,"question_id":76822132,"body_markdown":"You might want to try to return a \r\n`Mono.error(new CustomError(response));` in your `handleError()` method.\r\nThis way you&#39;ve let the reactive pipeline know an error has occured and what to throw afterwards. Right now you just map to an Error object, which is not handled the same way as RuntimeExceptions.\r\n\r\nI would also say that it is probably better to stick to `Exceptions` instead of `Errors`. Errors tend to be unrecoverable situations for the program to run (`OutOfMemoryError` for example), whereas Exceptions are just exceptional cases that _could_ be reacted to potentially (retrying for a 503 status code, or reauthenticating when you receive a 401 status code back).\r\n\r\n\r\nExample implementation\r\n```java\r\n\tpublic Mono&lt;? extends Throwable&gt; handleError(ClientResponse clientResponse) {\r\n\t\tString message = String.format(&quot;Service error: %s&quot;,\r\n\t\t\t\tclientResponse.statusCode().getReasonPhrase());\r\n\t\treturn Mono.error(new CustomError(message));\r\n\t}\r\n```\r\nThis is also a good answer: https://stackoverflow.com/questions/53595420/correct-way-of-throwing-exceptions-with-reactor","title":"Deal with java.lang.Errors in Spring&#39;s WebClient requests","body":"<p>You might want to try to return a\n<code>Mono.error(new CustomError(response));</code> in your <code>handleError()</code> method.\nThis way you've let the reactive pipeline know an error has occured and what to throw afterwards. Right now you just map to an Error object, which is not handled the same way as RuntimeExceptions.</p>\n<p>I would also say that it is probably better to stick to <code>Exceptions</code> instead of <code>Errors</code>. Errors tend to be unrecoverable situations for the program to run (<code>OutOfMemoryError</code> for example), whereas Exceptions are just exceptional cases that <em>could</em> be reacted to potentially (retrying for a 503 status code, or reauthenticating when you receive a 401 status code back).</p>\n<p>Example implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;? extends Throwable&gt; handleError(ClientResponse clientResponse) {\n        String message = String.format(&quot;Service error: %s&quot;,\n                clientResponse.statusCode().getReasonPhrase());\n        return Mono.error(new CustomError(message));\n    }\n</code></pre>\n<p>This is also a good answer: <a href=\"https://stackoverflow.com/questions/53595420/correct-way-of-throwing-exceptions-with-reactor\">Correct way of throwing exceptions with Reactor</a></p>\n"}],"owner":{"account_id":5329935,"reputation":3,"user_id":4250786,"display_name":"Rafael Zucareli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76822287,"answer_count":1,"score":-2,"last_activity_date":1691000867,"creation_date":1690996222,"question_id":76822132,"body_markdown":"I&#39;m trying to retrieve data from a REST service using Spring&#39;s WebClient and trying to throw the 4XX and 5XX in a `Error` instead of instead of a `RuntimeException`.\r\n\r\n```\r\nreturn webclient. \r\n    .get()\r\n    .uri(myURI)\r\n    .accept(MediaType.APPLICATION_JSON)\r\n    .retrieve()\r\n    .onStatus(HttpStatus::isError, handleError()\r\n    .bodyToMono(String.class)\r\n    .block();\r\n```\r\n\r\n```\r\nprivate static Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleError() {\r\n    return response -&gt; response.bodyToMono(String.class).map(CustomError::new);\r\n}\r\n```\r\n\r\nI&#39;m trying to get this `Error` in a test but received a `ReactiveException` instead.\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: Unexpected exception type thrown, \r\nExpected :class com.example.CustomError\r\nActual   :class reactor.core.Exceptions$ReactiveException\r\n```\r\n\r\nWhen I switch the extesion of `CustomError` from `Error` to `RuntimeException` the test pass.\r\n\r\nSince the onStatus expcept a `Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt;` I expected to be able to throw an Error in this call.\r\n\r\nI&#39;m working on a test library and a initial request is strictly necessary and without a successfully request the test must fail. A `Error` will be prevent anyone to catch any problem related with the REST request in their own tests.","title":"Deal with java.lang.Errors in Spring&#39;s WebClient requests","body":"<p>I'm trying to retrieve data from a REST service using Spring's WebClient and trying to throw the 4XX and 5XX in a <code>Error</code> instead of instead of a <code>RuntimeException</code>.</p>\n<pre><code>return webclient. \n    .get()\n    .uri(myURI)\n    .accept(MediaType.APPLICATION_JSON)\n    .retrieve()\n    .onStatus(HttpStatus::isError, handleError()\n    .bodyToMono(String.class)\n    .block();\n</code></pre>\n<pre><code>private static Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleError() {\n    return response -&gt; response.bodyToMono(String.class).map(CustomError::new);\n}\n</code></pre>\n<p>I'm trying to get this <code>Error</code> in a test but received a <code>ReactiveException</code> instead.</p>\n<pre><code>org.opentest4j.AssertionFailedError: Unexpected exception type thrown, \nExpected :class com.example.CustomError\nActual   :class reactor.core.Exceptions$ReactiveException\n</code></pre>\n<p>When I switch the extesion of <code>CustomError</code> from <code>Error</code> to <code>RuntimeException</code> the test pass.</p>\n<p>Since the onStatus expcept a <code>Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt;</code> I expected to be able to throw an Error in this call.</p>\n<p>I'm working on a test library and a initial request is strictly necessary and without a successfully request the test must fail. A <code>Error</code> will be prevent anyone to catch any problem related with the REST request in their own tests.</p>\n"},{"tags":["java","spring","spring-cloud-feign"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691079745,"post_id":76822589,"comment_id":135446304,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":11509761,"reputation":1,"user_id":8434978,"display_name":"Guilherme Oliveira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691000793,"creation_date":1691000793,"question_id":76822589,"body_markdown":"I am the feign client to fetch a list of comics from the Marvel Api. But a doubt arose, I created a MarvelComicsResponse class adding the attributes that I want to print in postman. I have an attribute called issueNumber of type Long and today MarvelApi returns me a numerical value, if by chance the MarvelApi devs change the issueNumber return from a numerical value to a String, I will possibly have an error in my application that will break it . My doubt is, is there any way I can make my application more tolerable using the feign client, that is, if MarvelApi changes the return type from numeric to String, I want my application to just ignore it instead of breaking it, until I to be able to make the necessary adjustments, is it possible?\r\n\r\nI would like to know if it is possible, if so I would like to see an example or some article or documentation about it please","title":"More tolerable feign client","body":"<p>I am the feign client to fetch a list of comics from the Marvel Api. But a doubt arose, I created a MarvelComicsResponse class adding the attributes that I want to print in postman. I have an attribute called issueNumber of type Long and today MarvelApi returns me a numerical value, if by chance the MarvelApi devs change the issueNumber return from a numerical value to a String, I will possibly have an error in my application that will break it . My doubt is, is there any way I can make my application more tolerable using the feign client, that is, if MarvelApi changes the return type from numeric to String, I want my application to just ignore it instead of breaking it, until I to be able to make the necessary adjustments, is it possible?</p>\n<p>I would like to know if it is possible, if so I would like to see an example or some article or documentation about it please</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1691589911,"post_id":76822381,"comment_id":135512314,"body_markdown":"[This answer](https://stackoverflow.com/a/62219452/1729265) discusses the analoguous topic for iText 7 for .NET.","body":"<a href=\"https://stackoverflow.com/a/62219452/1729265\">This answer</a> discusses the analoguous topic for iText 7 for .NET."}],"owner":{"account_id":4410931,"reputation":5,"user_id":3593900,"display_name":"user3593900"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691000725,"creation_date":1690998660,"question_id":76822381,"body_markdown":" I have a single pdf file with 10 pages, I need to split into 10 files, how can I do it in iText?\r\n\r\nI&#39;m able to split the documents by page like below\r\n\r\n    List&lt;PdfDocument&gt; splitDocuments = new PdfSplitter(pdfDoc).splitByPageNumbers(1,2,3 ..10);\r\n\r\nHow Could I get get File object for each of the PdfDocument? \r\n\r\nThanks.","title":"How to create java File for each page from a signgle pdf document in iText 7 or above?","body":"<p>I have a single pdf file with 10 pages, I need to split into 10 files, how can I do it in iText?</p>\n<p>I'm able to split the documents by page like below</p>\n<pre><code>List&lt;PdfDocument&gt; splitDocuments = new PdfSplitter(pdfDoc).splitByPageNumbers(1,2,3 ..10);\n</code></pre>\n<p>How Could I get get File object for each of the PdfDocument?</p>\n<p>Thanks.</p>\n"},{"tags":["java","memory","intellij-idea","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1509593544,"creation_date":1509593544,"answer_id":47067163,"question_id":47066443,"body_markdown":"Use Help | [Edit Custom VM Options](https://intellij-support.jetbrains.com/hc/articles/206544869), change `-Xmx` value only to `2GB` or whatever value you need, `-Xms` value should be lower or the same. Note that too high heap can make GC pauses much longer.\r\n\r\nYou problem may be not related to memory settings at all. The proper way of reporting performance issues is [described in this document](https://intellij-support.jetbrains.com/hc/articles/207241235). You need to capture a CPU snapshot and submit it to JetBrains support or the issue tracker.","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>Use Help | <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544869\" rel=\"nofollow noreferrer\">Edit Custom VM Options</a>, change <code>-Xmx</code> value only to <code>2GB</code> or whatever value you need, <code>-Xms</code> value should be lower or the same. Note that too high heap can make GC pauses much longer.</p>\n\n<p>You problem may be not related to memory settings at all. The proper way of reporting performance issues is <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241235\" rel=\"nofollow noreferrer\">described in this document</a>. You need to capture a CPU snapshot and submit it to JetBrains support or the issue tracker.</p>\n"},{"tags":[],"owner":{"account_id":1604295,"reputation":571,"user_id":1484679,"accept_rate":70,"display_name":"Able Johnson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519723477,"creation_date":1519723477,"answer_id":49005171,"question_id":47066443,"body_markdown":"I had the same issue in IntelliJ in MAC.\r\n\r\nThere is a build process heap size configuration in IntelliJ. You can find this setting in \r\n\r\n&gt; **Preferences &gt; Compiler &gt; Build Process Heap Size**\r\n\r\nMake sure the Xmx value(in the environment or VM options) is lower than the value in settings. If not either increase **Build Process Heap Size** in IntelliJ settings or reduce Xmx value in VM options.\r\n\r\nBy default **Build Process Heap Size** will be 700m.\r\n\r\n\r\n","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>I had the same issue in IntelliJ in MAC.</p>\n\n<p>There is a build process heap size configuration in IntelliJ. You can find this setting in </p>\n\n<blockquote>\n  <p><strong>Preferences > Compiler > Build Process Heap Size</strong></p>\n</blockquote>\n\n<p>Make sure the Xmx value(in the environment or VM options) is lower than the value in settings. If not either increase <strong>Build Process Heap Size</strong> in IntelliJ settings or reduce Xmx value in VM options.</p>\n\n<p>By default <strong>Build Process Heap Size</strong> will be 700m.</p>\n"},{"comments":[{"owner":{"account_id":456456,"reputation":169,"user_id":855230,"accept_rate":50,"display_name":"futuredaemon"},"score":0,"creation_date":1575347209,"post_id":53148782,"comment_id":104525678,"body_markdown":"ake sure that the -Xms value is **lower** than or equals to the -Xmx","body":"ake sure that the -Xms value is <b>lower</b> than or equals to the -Xmx"}],"tags":[],"owner":{"account_id":1953703,"reputation":611,"user_id":1757247,"display_name":"Mijo"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1541395536,"creation_date":1541395536,"answer_id":53148782,"question_id":47066443,"body_markdown":"I had the same issue on Linux. The configuration file is found in \r\n`~/.IntelliJIdea2018.2/config/idea64.vmoptions`\r\nThe directory will look like ~/.IntelliJIdeayyyy.n/config where yyyy is the year, and n is the release number in that year.\r\nMake sure that the \r\n`-Xms` value is higher than the `-Xmx`\r\nHere is my working config for ubuntu 18.04 with 8GB RAM\r\n\r\n    # custom IntelliJ IDEA VM options\r\n\r\n    -server\r\n    -Xms4096m\r\n    -Xmx4096m\r\n    -XX:NewSize=1024m\r\n    -XX:MaxNewSize=1512m\r\n    -XX:NewRatio=1\r\n    -XX:+UseParNewGC\r\n    -XX:ParallelGCThreads=4\r\n    -XX:MaxTenuringThreshold=1\r\n    -XX:SurvivorRatio=8\r\n    -XX:+UseCodeCacheFlushing\r\n    -XX:+UseConcMarkSweepGC\r\n    -XX:+AggressiveOpts\r\n    -XX:+CMSClassUnloadingEnabled\r\n    -XX:+CMSIncrementalMode\r\n    -XX:+CMSIncrementalPacing\r\n    -XX:+CMSParallelRemarkEnabled\r\n    -XX:CMSInitiatingOccupancyFraction=65\r\n    -XX:+CMSScavengeBeforeRemark\r\n    -XX:+UseCMSInitiatingOccupancyOnly\r\n    -XX:ReservedCodeCacheSize=64m\r\n    -XX:-TraceClassUnloading\r\n    -ea\r\n    -Dsun.io.useCanonCaches=false","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>I had the same issue on Linux. The configuration file is found in \n<code>~/.IntelliJIdea2018.2/config/idea64.vmoptions</code>\nThe directory will look like ~/.IntelliJIdeayyyy.n/config where yyyy is the year, and n is the release number in that year.\nMake sure that the \n<code>-Xms</code> value is higher than the <code>-Xmx</code>\nHere is my working config for ubuntu 18.04 with 8GB RAM</p>\n\n<pre><code># custom IntelliJ IDEA VM options\n\n-server\n-Xms4096m\n-Xmx4096m\n-XX:NewSize=1024m\n-XX:MaxNewSize=1512m\n-XX:NewRatio=1\n-XX:+UseParNewGC\n-XX:ParallelGCThreads=4\n-XX:MaxTenuringThreshold=1\n-XX:SurvivorRatio=8\n-XX:+UseCodeCacheFlushing\n-XX:+UseConcMarkSweepGC\n-XX:+AggressiveOpts\n-XX:+CMSClassUnloadingEnabled\n-XX:+CMSIncrementalMode\n-XX:+CMSIncrementalPacing\n-XX:+CMSParallelRemarkEnabled\n-XX:CMSInitiatingOccupancyFraction=65\n-XX:+CMSScavengeBeforeRemark\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:ReservedCodeCacheSize=64m\n-XX:-TraceClassUnloading\n-ea\n-Dsun.io.useCanonCaches=false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2019920,"reputation":1770,"user_id":1806348,"accept_rate":84,"display_name":"Jochem Kuijpers"},"score":0,"creation_date":1571880855,"post_id":57559461,"comment_id":103389302,"body_markdown":"A restart is required.  \nFile &gt; Invalidate Caches / Restart... &gt; **Just Restart**. For me the file was in `~/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/&lt;version&gt;/bin`.","body":"A restart is required.   File &gt; Invalidate Caches / Restart... &gt; <b>Just Restart</b>. For me the file was in <code>~&#47;.local&#47;share&#47;JetBrains&#47;Toolbox&#47;apps&#47;IDEA-U&#47;ch-0&#47;&lt;version&gt;&#47;&zwnj;&#8203;bin</code>."},{"owner":{"account_id":1839825,"reputation":6122,"user_id":1669464,"accept_rate":74,"display_name":"Pytry"},"score":1,"creation_date":1575587929,"post_id":57559461,"comment_id":104627162,"body_markdown":"I was on version 2019.2.4 running on Windows 10, then upgraded to 2019.3 and got this bug. Trying to start it using the &quot;exe&quot; files did not output any errors, even in cmd and powershell. I got the message about memory by executing the included &quot;idea.bat&quot;. I checked my idea64.vm.options files and everything looked correct. Thanks to @Mijo, I checked the file under my user profile. It changed &quot;-Xmx4096m&quot; to &quot;-Xmx2038m&quot;; That&#39;s right ... &quot;-Xmx2038m&quot; ... .  I had &quot;-Xms2048m&quot; as the minimal startup memory.","body":"I was on version 2019.2.4 running on Windows 10, then upgraded to 2019.3 and got this bug. Trying to start it using the &quot;exe&quot; files did not output any errors, even in cmd and powershell. I got the message about memory by executing the included &quot;idea.bat&quot;. I checked my idea64.vm.options files and everything looked correct. Thanks to @Mijo, I checked the file under my user profile. It changed &quot;-Xmx4096m&quot; to &quot;-Xmx2038m&quot;; That&#39;s right ... &quot;-Xmx2038m&quot; ... .  I had &quot;-Xms2048m&quot; as the minimal startup memory."},{"owner":{"account_id":938147,"reputation":514,"user_id":966699,"display_name":"Donald Duck"},"score":1,"creation_date":1575985225,"post_id":57559461,"comment_id":104744370,"body_markdown":"Correct path: _~/Library/Preferences/IdeaIC2019.2/idea.vmoptions_","body":"Correct path: <i>~/Library/Preferences/IdeaIC2019.2/idea.vmoptions</i>"}],"tags":[],"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1566227218,"creation_date":1566227218,"answer_id":57559461,"question_id":47066443,"body_markdown":"\r\nIf you are seeing this error in InteliJ after the 2019.2 update it is because the update changed the JVM XMX value to 2048m without checking the related values which can allow XMS to become larger than the max XMX value which is not valid and creates that error.\r\n\r\ni.e.  The values for me had been XMX=6000m and XMS=4096m but after the 2019.2 update they were XMX=2048m and XMS=4096m \r\n\r\nYou will have to manually change the values so XMS is equal to or less than XMX.  On Macs the VM options file is  ~/Library/Preferences/IntelliJIdea2019.2/idea.vmoptions \r\n\r\nNOTE:  That path assumes you are on InteliJ version 2019.2.   You will need to change that value in the path to the version you are on if ","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>If you are seeing this error in InteliJ after the 2019.2 update it is because the update changed the JVM XMX value to 2048m without checking the related values which can allow XMS to become larger than the max XMX value which is not valid and creates that error.</p>\n\n<p>i.e.  The values for me had been XMX=6000m and XMS=4096m but after the 2019.2 update they were XMX=2048m and XMS=4096m </p>\n\n<p>You will have to manually change the values so XMS is equal to or less than XMX.  On Macs the VM options file is  ~/Library/Preferences/IntelliJIdea2019.2/idea.vmoptions </p>\n\n<p>NOTE:  That path assumes you are on InteliJ version 2019.2.   You will need to change that value in the path to the version you are on if </p>\n"}],"owner":{"account_id":11958156,"reputation":241,"user_id":8749883,"display_name":"김상기"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34661,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":4,"score":24,"last_activity_date":1691000599,"creation_date":1509588318,"question_id":47066443,"body_markdown":"I&#39;m a beginner in Java, and I just started using IntelliJ IDEA as my IDE.\r\n\r\nWhen I use it, sometimes it&#39;s delayed.\r\n\r\nI changed my `xms` and `xmx` for larger heap size (xms = 1024, xmx = 2048), but it throws an error. So, I rolled it back.\r\n\r\nThe error message was something like this: &quot;Initial heap size set to a larger value than the maximum heap size&quot;. What is the problem?\r\n\r\nIf possible, how do I increase maximum heap size?\r\n\r\nI&#39;m using a laptop and it has 8GB memory, x64 IntelliJ.exe used.\r\n","title":"IntelliJ IDEA heap size, initial heap size set to a larger value than the maximum heap size","body":"<p>I'm a beginner in Java, and I just started using IntelliJ IDEA as my IDE.</p>\n<p>When I use it, sometimes it's delayed.</p>\n<p>I changed my <code>xms</code> and <code>xmx</code> for larger heap size (xms = 1024, xmx = 2048), but it throws an error. So, I rolled it back.</p>\n<p>The error message was something like this: &quot;Initial heap size set to a larger value than the maximum heap size&quot;. What is the problem?</p>\n<p>If possible, how do I increase maximum heap size?</p>\n<p>I'm using a laptop and it has 8GB memory, x64 IntelliJ.exe used.</p>\n"},{"tags":["java","weblogic","weblogic12c"],"answers":[{"tags":[],"owner":{"account_id":2708748,"reputation":188,"user_id":2337743,"display_name":"Mario.Cadiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691000207,"creation_date":1691000207,"answer_id":76822544,"question_id":76387648,"body_markdown":"If you need to build a page to change the password (located in embeddedLDAP or OpenLDAP) this Java API could help:\r\n\r\nhttps://github.com/talenteddeveloper/LDAPWithJava/blob/master/src/main/java/ldap/learn/App.java","title":"How to change user password of application running under WebLogic","body":"<p>If you need to build a page to change the password (located in embeddedLDAP or OpenLDAP) this Java API could help:</p>\n<p><a href=\"https://github.com/talenteddeveloper/LDAPWithJava/blob/master/src/main/java/ldap/learn/App.java\" rel=\"nofollow noreferrer\">https://github.com/talenteddeveloper/LDAPWithJava/blob/master/src/main/java/ldap/learn/App.java</a></p>\n"}],"owner":{"account_id":9722759,"reputation":656,"user_id":7210927,"display_name":"Hussain Akbar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691000207,"creation_date":1685687414,"question_id":76387648,"body_markdown":"I have deployed a Java application on a WebLogic 12C server. It uses security descriptors in web.xml and weblogic.xml for JSecurity authentication and authorization. That part works fine.\r\n\r\nweb.xml:\r\n````\r\n\t&lt;security-constraint&gt;\r\n\t\t&lt;display-name&gt;Security Constraint for User&lt;/display-name&gt;\r\n\t\t&lt;web-resource-collection&gt;\r\n\t\t\t&lt;web-resource-name&gt;Protected resources&lt;/web-resource-name&gt;\r\n\t\t\t&lt;description&gt;Protection for internal pages&lt;/description&gt;\r\n\t\t\t&lt;url-pattern&gt;/home/*&lt;/url-pattern&gt;\r\n\t\t\t&lt;url-pattern&gt;/Summary/*&lt;/url-pattern&gt;\r\n\t\t&lt;/web-resource-collection&gt;\r\n\t\t&lt;auth-constraint&gt;\r\n\t\t\t&lt;role-name&gt;MyAppUser&lt;/role-name&gt;\r\n\t\t&lt;/auth-constraint&gt;\r\n\t&lt;/security-constraint&gt;\r\n\t&lt;security-constraint&gt;\r\n\t\t&lt;display-name&gt;Constraint for Administrators&lt;/display-name&gt;\r\n\t\t&lt;web-resource-collection&gt;\r\n\t\t\t&lt;web-resource-name&gt;Pages protected for administrators&lt;/web-resource-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/Profile/*&lt;/url-pattern&gt;\r\n\t\t&lt;/web-resource-collection&gt;\r\n\t\t&lt;auth-constraint&gt;\r\n\t\t\t&lt;role-name&gt;MyAppAdmin&lt;/role-name&gt;\r\n\t\t&lt;/auth-constraint&gt;\r\n\t&lt;/security-constraint&gt;\r\n\t&lt;login-config&gt;\r\n\t\t&lt;auth-method&gt;FORM&lt;/auth-method&gt;\r\n\t\t&lt;form-login-config&gt;\r\n\t\t\t&lt;form-login-page&gt;/Login/&lt;/form-login-page&gt;\r\n\t\t\t&lt;form-error-page&gt;/LoginError/&lt;/form-error-page&gt;\r\n\t\t&lt;/form-login-config&gt;\r\n\t&lt;/login-config&gt;\r\n````\r\n\r\nNow I am attempting to add code to have a JSP where a logged in user types old and new passwords to have it changed. I found one reference but can&#39;t find it again. All searches point to resetting WebLogic admin account using configuration files or using the security realm pages of the console.\r\n\r\nI should also mention that users &amp; roles are defined in the security realm on the dev server while on the production they are being authenticated using an OpenLDAP server which has been added as an authentication provider in WL&#39;s security realm.\r\n","title":"How to change user password of application running under WebLogic","body":"<p>I have deployed a Java application on a WebLogic 12C server. It uses security descriptors in web.xml and weblogic.xml for JSecurity authentication and authorization. That part works fine.</p>\n<p>web.xml:</p>\n<pre><code>    &lt;security-constraint&gt;\n        &lt;display-name&gt;Security Constraint for User&lt;/display-name&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;Protected resources&lt;/web-resource-name&gt;\n            &lt;description&gt;Protection for internal pages&lt;/description&gt;\n            &lt;url-pattern&gt;/home/*&lt;/url-pattern&gt;\n            &lt;url-pattern&gt;/Summary/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;MyAppUser&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n    &lt;security-constraint&gt;\n        &lt;display-name&gt;Constraint for Administrators&lt;/display-name&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;Pages protected for administrators&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/Profile/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;MyAppAdmin&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n    &lt;login-config&gt;\n        &lt;auth-method&gt;FORM&lt;/auth-method&gt;\n        &lt;form-login-config&gt;\n            &lt;form-login-page&gt;/Login/&lt;/form-login-page&gt;\n            &lt;form-error-page&gt;/LoginError/&lt;/form-error-page&gt;\n        &lt;/form-login-config&gt;\n    &lt;/login-config&gt;\n</code></pre>\n<p>Now I am attempting to add code to have a JSP where a logged in user types old and new passwords to have it changed. I found one reference but can't find it again. All searches point to resetting WebLogic admin account using configuration files or using the security realm pages of the console.</p>\n<p>I should also mention that users &amp; roles are defined in the security realm on the dev server while on the production they are being authenticated using an OpenLDAP server which has been added as an authentication provider in WL's security realm.</p>\n"},{"tags":["java","apache-kafka","guice","dropwizard","dropwizard-guice"],"owner":{"account_id":16487419,"reputation":13,"user_id":12058690,"display_name":"Pedro Ventura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691000065,"creation_date":1690987090,"question_id":76820988,"body_markdown":"Im trying to bind a producer in a java aplication on the following code on my appModule:\r\n\r\n```\r\nprotected void configure() {\r\n        try {\r\n            Environment environment = environment();\r\n            final JdbiFactory factory = new JdbiFactory();\r\n            final Jdbi jdbi = factory.build(environment, configuration.getDatabase(), DATABASE);\r\n            bind(CompanyNoticeRoundRepository.class).toInstance(jdbi.onDemand(CompanyNoticeRoundRepository.class));\r\n            bind(ISendNoticesRound.class).annotatedWith(Names.named(&quot;FreemiumCompanyNoticeRound&quot;)).to(SendNoticesRoundFreemium.class);\r\n            bind(new TypeLiteral&lt;Producer&lt;String, String&gt;&gt;(){}).toInstance(this.noticeKafka.getProducer());\r\n            bind(IProducerTopicHandler.class).to(ProducerTopicHandler.class);\r\n            bind(ISendNoticesRound.class).to(SendNoticesRoundCompany.class);\r\n        } catch (Exception e) {\r\n            this.logger.error(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setConfiguration(AppConfiguration configuration) {\r\n        this.configuration = configuration;\r\n    }\r\n\r\n    public void setNoticeKafka(KafkaProducerBundle&lt;String, String, AppConfiguration&gt; noticeKafka) {\r\n        this.noticeKafka = noticeKafka;\r\n    }\r\n\r\n```\r\n\r\nAnd my kafkaProducerBundle in MainApplication:\r\n\r\n\r\n```\r\n    public final KafkaProducerBundle&lt;String, String, AppConfiguration&gt; kafka = new KafkaProducerBundle&lt;String, String, AppConfiguration&gt;(Collections.emptyList()) {\r\n\r\n        private Producer&lt;String, String&gt; producer;\r\n\r\n        @Override\r\n        public void run(AppConfiguration configuration, Environment environment) {\r\n            KafkaProducerFactory&lt;String, String&gt; kafkaProducerFactory =\r\n                    Objects.requireNonNull(this.getKafkaProducerFactory(configuration));\r\n            Tracing tracing = Tracing.current();\r\n            Collection&lt;String&gt; topics = configuration.getTopicsName();\r\n            this.producer = kafkaProducerFactory.build(environment.lifecycle(), environment.healthChecks(), topics, tracing,\r\n                    Collections.emptyMap());\r\n        }\r\n\r\n        @Override\r\n        public KafkaProducerFactory&lt;String, String&gt; getKafkaProducerFactory(AppConfiguration configuration) {\r\n            return configuration.getKafkaProducerFactory();\r\n        }\r\n\r\n        @Override\r\n        public Producer&lt;String, String&gt; getProducer() {\r\n            return Objects.requireNonNull(this.producer);\r\n        }\r\n    };\r\n\r\n```\r\n\r\nAnd my initilize:\r\n\r\n\r\n```\r\n    public void initialize(Bootstrap&lt;AppConfiguration&gt; bootstrap) {\r\n        //Guice\r\n        AppModule module = new AppModule();\r\n        module.setNoticeKafka(this.kafka);\r\n        bootstrap.addBundle(GuiceBundle.builder()\r\n                .enableAutoConfig(&quot;...&quot;)\r\n                .modules(module)\r\n                .printDiagnosticInfo()\r\n                .build());\r\n        //Google Secrets Manager\r\n//        ParameterStoreSourceProvider parameterStoreSourceProvider = new ParameterStoreSourceProvider(bootstrap.getConfigurationSourceProvider());\r\n//        bootstrap.setConfigurationSourceProvider(parameterStoreSourceProvider);\r\n        //Command\r\n        bootstrap.addCommand(new ExecuteCommand(this));\r\n    }\r\n```\r\n\r\n\r\nbut when i try to start the application i receive the following error:\r\n\r\n1) [Guice/MissingImplementation]: No implementation for Producer&lt;String, String&gt; was bound.\r\n\r\nRequested by:\r\n1  : AppModule.configure(AppModule.java:37)\r\n      \\_ installed by: Elements$ElementsAsModule -&gt; AppModule\r\n\r\nthe dependency:\r\n\r\n       \r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard.modules&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-kafka&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI really dont know what to do, can u guys ṕlease help me? \r\n\r\nIve tried to set he module.SetNoticeKafka before guice, created a class for producer, but none worked","title":"Receiving &quot;Unable to create injector [Guice/MissingImplementation]: No implementation for Producer&lt;String, String&gt; was bound.&quot;","body":"<p>Im trying to bind a producer in a java aplication on the following code on my appModule:</p>\n<pre><code>protected void configure() {\n        try {\n            Environment environment = environment();\n            final JdbiFactory factory = new JdbiFactory();\n            final Jdbi jdbi = factory.build(environment, configuration.getDatabase(), DATABASE);\n            bind(CompanyNoticeRoundRepository.class).toInstance(jdbi.onDemand(CompanyNoticeRoundRepository.class));\n            bind(ISendNoticesRound.class).annotatedWith(Names.named(&quot;FreemiumCompanyNoticeRound&quot;)).to(SendNoticesRoundFreemium.class);\n            bind(new TypeLiteral&lt;Producer&lt;String, String&gt;&gt;(){}).toInstance(this.noticeKafka.getProducer());\n            bind(IProducerTopicHandler.class).to(ProducerTopicHandler.class);\n            bind(ISendNoticesRound.class).to(SendNoticesRoundCompany.class);\n        } catch (Exception e) {\n            this.logger.error(e.getMessage());\n        }\n    }\n\n    @Override\n    public void setConfiguration(AppConfiguration configuration) {\n        this.configuration = configuration;\n    }\n\n    public void setNoticeKafka(KafkaProducerBundle&lt;String, String, AppConfiguration&gt; noticeKafka) {\n        this.noticeKafka = noticeKafka;\n    }\n\n</code></pre>\n<p>And my kafkaProducerBundle in MainApplication:</p>\n<pre><code>    public final KafkaProducerBundle&lt;String, String, AppConfiguration&gt; kafka = new KafkaProducerBundle&lt;String, String, AppConfiguration&gt;(Collections.emptyList()) {\n\n        private Producer&lt;String, String&gt; producer;\n\n        @Override\n        public void run(AppConfiguration configuration, Environment environment) {\n            KafkaProducerFactory&lt;String, String&gt; kafkaProducerFactory =\n                    Objects.requireNonNull(this.getKafkaProducerFactory(configuration));\n            Tracing tracing = Tracing.current();\n            Collection&lt;String&gt; topics = configuration.getTopicsName();\n            this.producer = kafkaProducerFactory.build(environment.lifecycle(), environment.healthChecks(), topics, tracing,\n                    Collections.emptyMap());\n        }\n\n        @Override\n        public KafkaProducerFactory&lt;String, String&gt; getKafkaProducerFactory(AppConfiguration configuration) {\n            return configuration.getKafkaProducerFactory();\n        }\n\n        @Override\n        public Producer&lt;String, String&gt; getProducer() {\n            return Objects.requireNonNull(this.producer);\n        }\n    };\n\n</code></pre>\n<p>And my initilize:</p>\n<pre><code>    public void initialize(Bootstrap&lt;AppConfiguration&gt; bootstrap) {\n        //Guice\n        AppModule module = new AppModule();\n        module.setNoticeKafka(this.kafka);\n        bootstrap.addBundle(GuiceBundle.builder()\n                .enableAutoConfig(&quot;...&quot;)\n                .modules(module)\n                .printDiagnosticInfo()\n                .build());\n        //Google Secrets Manager\n//        ParameterStoreSourceProvider parameterStoreSourceProvider = new ParameterStoreSourceProvider(bootstrap.getConfigurationSourceProvider());\n//        bootstrap.setConfigurationSourceProvider(parameterStoreSourceProvider);\n        //Command\n        bootstrap.addCommand(new ExecuteCommand(this));\n    }\n</code></pre>\n<p>but when i try to start the application i receive the following error:</p>\n<ol>\n<li>[Guice/MissingImplementation]: No implementation for Producer&lt;String, String&gt; was bound.</li>\n</ol>\n<p>Requested by:\n1  : AppModule.configure(AppModule.java:37)\n_ installed by: Elements$ElementsAsModule -&gt; AppModule</p>\n<p>the dependency:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard.modules&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-kafka&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I really dont know what to do, can u guys ṕlease help me?</p>\n<p>Ive tried to set he module.SetNoticeKafka before guice, created a class for producer, but none worked</p>\n"},{"tags":["java","maven","nexus","sonatype"],"comments":[{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1691007218,"post_id":76822503,"comment_id":135433972,"body_markdown":"Upgrade to 3.8.8+","body":"Upgrade to 3.8.8+"},{"owner":{"account_id":15779511,"reputation":419,"user_id":11386331,"display_name":"Codebaard"},"score":0,"creation_date":1691051908,"post_id":76822503,"comment_id":135440041,"body_markdown":"maven or sonatype nexus?","body":"maven or sonatype nexus?"},{"owner":{"account_id":15779511,"reputation":419,"user_id":11386331,"display_name":"Codebaard"},"score":0,"creation_date":1691416146,"post_id":76822503,"comment_id":135484584,"body_markdown":"I updated to maven 3.9.4 which didn&#39;t solve my issue. In case you meant nexus, this is nothing I could so, since it&#39;s managed by a different department. Any other idea maybe?","body":"I updated to maven 3.9.4 which didn&#39;t solve my issue. In case you meant nexus, this is nothing I could so, since it&#39;s managed by a different department. Any other idea maybe?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1691416570,"post_id":76822503,"comment_id":135484714,"body_markdown":"I see nothing with this response of the Nexus server is configured to the repo sharding/partitioning. You might want to consider to try https://maven.apache.org/resolver/remote-repository-filtering.html to reduce the request count.","body":"I see nothing with this response of the Nexus server is configured to the repo sharding/partitioning. You might want to consider to try <a href=\"https://maven.apache.org/resolver/remote-repository-filtering.html\" rel=\"nofollow noreferrer\">maven.apache.org/resolver/remote-repository-filtering.html</a> to reduce the request count."}],"owner":{"account_id":15779511,"reputation":419,"user_id":11386331,"display_name":"Codebaard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690999768,"creation_date":1690999768,"question_id":76822503,"body_markdown":"I&#39;m trying to build my application in Maven in a large enterprise setting (internal support is out of ideas, hence I&#39;m carrying it to a wider audience).\r\n\r\nWe&#39;re using a Sonatype Nexus repository to either proxy or host all plugins/dependencies and upon executing `mvn clean install` I get the following error:\r\n\r\n `[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:resources (default-resources) on project &lt;redacted&gt;: Execution default-resources of goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:resources failed: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.1 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-resources-plugin:jar:3.3.1 -&gt; org.codehaus.plexus:plexus-interpolation:jar:1.26: Failed to read artifact descriptor for org.codehaus.plexus:plexus-interpolation:jar:1.26: Could not transfer artifact org.codehaus.plexus:plexus-interpolation:pom:1.26 from/to nexus (http://&lt;redacted.tld&gt;/repository/maven/): Access denied to: http://&lt;redacted.tld&gt;/repository/maven/org/codehaus/plexus/plexus-interpolation/1.26/plexus-interpolation-1.26.pom , ReasonPhrase:Forbidden. -&gt; [Help 1]\r\n`\r\n\r\nWhat left me puzzled is that according to our Nexus Team, the access is anonymous, hence no login is required. Also if I just *wget* the package with the link from the UI is works perfectly fine. Any SO answer I managed to find so far either describes how to properly enter user and password in the *~/.m2/settings.xml* - which in my case is even not required at all - or is related to uploading an artifact into the repository. The other packages in my project seem to download just fine, so the proxy config *generally* appears to be working.\r\n\r\nI&#39;m using Maven 3.5.2 on Amazon Linux 2 (EC2@AWS), Coretto 17.0.8 LTS and Nexus Repository Pro 3.44.0.\r\n\r\nAny ideas?","title":"Maven failing to transfer artifact to/from + Access denied: ReasonPhrase:Forbidden","body":"<p>I'm trying to build my application in Maven in a large enterprise setting (internal support is out of ideas, hence I'm carrying it to a wider audience).</p>\n<p>We're using a Sonatype Nexus repository to either proxy or host all plugins/dependencies and upon executing <code>mvn clean install</code> I get the following error:</p>\n<p><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:resources (default-resources) on project &lt;redacted&gt;: Execution default-resources of goal org.apache.maven.plugins:maven-resources-plugin:3.3.1:resources failed: Plugin org.apache.maven.plugins:maven-resources-plugin:3.3.1 or one of its dependencies could not be resolved: Failed to collect dependencies at org.apache.maven.plugins:maven-resources-plugin:jar:3.3.1 -&gt; org.codehaus.plexus:plexus-interpolation:jar:1.26: Failed to read artifact descriptor for org.codehaus.plexus:plexus-interpolation:jar:1.26: Could not transfer artifact org.codehaus.plexus:plexus-interpolation:pom:1.26 from/to nexus (http://&lt;redacted.tld&gt;/repository/maven/): Access denied to: http://&lt;redacted.tld&gt;/repository/maven/org/codehaus/plexus/plexus-interpolation/1.26/plexus-interpolation-1.26.pom , ReasonPhrase:Forbidden. -&gt; [Help 1] </code></p>\n<p>What left me puzzled is that according to our Nexus Team, the access is anonymous, hence no login is required. Also if I just <em>wget</em> the package with the link from the UI is works perfectly fine. Any SO answer I managed to find so far either describes how to properly enter user and password in the <em>~/.m2/settings.xml</em> - which in my case is even not required at all - or is related to uploading an artifact into the repository. The other packages in my project seem to download just fine, so the proxy config <em>generally</em> appears to be working.</p>\n<p>I'm using Maven 3.5.2 on Amazon Linux 2 (EC2@AWS), Coretto 17.0.8 LTS and Nexus Repository Pro 3.44.0.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","multithreading","threadpool"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1690999280,"post_id":76822328,"comment_id":135432520,"body_markdown":"The &quot;sub-threads&quot; as you call them are created with `new Thread`. They do not come out of any pool, they are new objects, with their underlying system resources. A pool simply contains already started threads that are shared among &quot;clients&quot; of the pool. I do not think there is a way to start a thread with `new` and still get it out of a pool.","body":"The &quot;sub-threads&quot; as you call them are created with <code>new Thread</code>. They do not come out of any pool, they are new objects, with their underlying system resources. A pool simply contains already started threads that are shared among &quot;clients&quot; of the pool. I do not think there is a way to start a thread with <code>new</code> and still get it out of a pool."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1690999307,"post_id":76822328,"comment_id":135432525,"body_markdown":"Since you create your threads yourself with `new Thread()` and not with ThreadPools, then they are not part of any thread pools ;) There&#39;s no notion of sub-threads - just threads. You can create as many as you want manually, or you can ask Thread Pools to do that (and those pools will keep track of those threads that they created).","body":"Since you create your threads yourself with <code>new Thread()</code> and not with ThreadPools, then they are not part of any thread pools ;) There&#39;s no notion of sub-threads - just threads. You can create as many as you want manually, or you can ask Thread Pools to do that (and those pools will keep track of those threads that they created)."},{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1691001450,"post_id":76822328,"comment_id":135432871,"body_markdown":"That was very helpful. Thank you both for your time.","body":"That was very helpful. Thank you both for your time."}],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690999029,"creation_date":1690998111,"question_id":76822328,"body_markdown":"Here is short program in which I have queries posted after the program\r\n```java\r\npublic class ThreadCheck {\r\n    public static void main(String[] args) {\r\n        ThreadCheck threadCheck = new ThreadCheck();\r\n        threadCheck.execute();\r\n    }\r\n\r\n    public void execute() {\r\n        ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;my-thread-pool-%d&quot;).build();\r\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\r\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(availableProcessors, threadFactory);\r\n        executor.execute(() -&gt; executeThread());\r\n        executor.execute(() -&gt; executeThread());\r\n        executor.execute(() -&gt; executeThread());\r\n    }\r\n\r\n    private void executeThread() {\r\n        System.out.println(Thread.currentThread().getName()); // the name format is my-thread-pool-%d\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            // executing sub-Threads\r\n            new Thread(() -&gt;\r\n                    System.out.println(Thread.currentThread().getName())).start(); // the name format is Thread-%d\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nOutput:\r\n```\r\nmy-thread-pool-0\r\nmy-thread-pool-1\r\nmy-thread-pool-2\r\nThread-0\r\nThread-1\r\nThread-5\r\nThread-4\r\nThread-3\r\nThread-6\r\nThread-2\r\nThread-7\r\nThread-8\r\n```\r\n\r\n\r\nI wanted to execute my Threads and the sub-Threads created within the Thread using a particular ThreadPool. For that I have created a `ScheduledExecutorService` with a `ThreadFactory` having name format as **my-thread-pool-%d**. Since I am not executing my sub-Threads using the given ScheduledExecutorService, the sub-Threads names are of the format **Thread-%d**. \r\n\r\nMy question is, are these sub-Threads executed via the `ForkJoinPool` or via the ScheduledExecutorService since they are sub-Threads?\r\n\r\nIf the sub-Threads are not executed by the given ScheduledExecutorService, is there any way to execute them without even providing the `ExecutorService`.","title":"ThreadPool of Threads executed inside a Thread","body":"<p>Here is short program in which I have queries posted after the program</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadCheck {\n    public static void main(String[] args) {\n        ThreadCheck threadCheck = new ThreadCheck();\n        threadCheck.execute();\n    }\n\n    public void execute() {\n        ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;my-thread-pool-%d&quot;).build();\n        int availableProcessors = Runtime.getRuntime().availableProcessors();\n        ScheduledExecutorService executor = Executors.newScheduledThreadPool(availableProcessors, threadFactory);\n        executor.execute(() -&gt; executeThread());\n        executor.execute(() -&gt; executeThread());\n        executor.execute(() -&gt; executeThread());\n    }\n\n    private void executeThread() {\n        System.out.println(Thread.currentThread().getName()); // the name format is my-thread-pool-%d\n        for (int i = 0; i &lt; 3; i++) {\n            // executing sub-Threads\n            new Thread(() -&gt;\n                    System.out.println(Thread.currentThread().getName())).start(); // the name format is Thread-%d\n        }\n    }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>my-thread-pool-0\nmy-thread-pool-1\nmy-thread-pool-2\nThread-0\nThread-1\nThread-5\nThread-4\nThread-3\nThread-6\nThread-2\nThread-7\nThread-8\n</code></pre>\n<p>I wanted to execute my Threads and the sub-Threads created within the Thread using a particular ThreadPool. For that I have created a <code>ScheduledExecutorService</code> with a <code>ThreadFactory</code> having name format as <strong>my-thread-pool-%d</strong>. Since I am not executing my sub-Threads using the given ScheduledExecutorService, the sub-Threads names are of the format <strong>Thread-%d</strong>.</p>\n<p>My question is, are these sub-Threads executed via the <code>ForkJoinPool</code> or via the ScheduledExecutorService since they are sub-Threads?</p>\n<p>If the sub-Threads are not executed by the given ScheduledExecutorService, is there any way to execute them without even providing the <code>ExecutorService</code>.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":14099491,"reputation":97,"user_id":10185188,"display_name":"mounika"},"score":0,"creation_date":1536564275,"post_id":52252729,"comment_id":91453165,"body_markdown":"when I am adding that query. I am getting another error.","body":"when I am adding that query. I am getting another error."},{"owner":{"account_id":14099491,"reputation":97,"user_id":10185188,"display_name":"mounika"},"score":0,"creation_date":1536564432,"post_id":52252729,"comment_id":91453237,"body_markdown":"I have added the error in my code above. please once go through it and help me","body":"I have added the error in my code above. please once go through it and help me"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1536564680,"post_id":52252729,"comment_id":91453367,"body_markdown":"Check the compatibility of your jars. For the new Error message you should ask a new question","body":"Check the compatibility of your jars. For the new Error message you should ask a new question"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1536564438,"creation_date":1536563471,"answer_id":52252729,"question_id":52252698,"body_markdown":"If you read the error message you can see \r\n\r\n&gt; Could not resolve placeholder &#39;spring.queries.users-query&#39; in value &quot;${spring.queries.users-query}&quot;\r\n\r\nYou miss a property in your property file `spring.queries.users-query`\r\nAdd it and the eror should go away\r\n\r\nUPDATE:\r\n\r\nif you read the new error message: \r\n\r\n&gt; java.lang.NoSuchMethodError: javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;\r\n\r\nYou can see an exception which Shows incompatible jar files\r\n","title":"Error creating bean with name &#39;securityConfig&#39;,Injection of autowired dependencies failed;exception java.lang.IllegalArgumentException","body":"<p>If you read the error message you can see </p>\n\n<blockquote>\n  <p>Could not resolve placeholder 'spring.queries.users-query' in value \"${spring.queries.users-query}\"</p>\n</blockquote>\n\n<p>You miss a property in your property file <code>spring.queries.users-query</code>\nAdd it and the eror should go away</p>\n\n<p>UPDATE:</p>\n\n<p>if you read the new error message: </p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError: javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;</p>\n</blockquote>\n\n<p>You can see an exception which Shows incompatible jar files</p>\n"}],"owner":{"account_id":14099491,"reputation":97,"user_id":10185188,"display_name":"mounika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52252729,"answer_count":1,"score":1,"last_activity_date":1690998977,"creation_date":1536563320,"question_id":52252698,"body_markdown":"I am doing spring boot security application of Library management system. When I run my application, I am getting the mentioned error. Could someone please help me out. Thanks in advance!\r\n\r\n//Securityconfig\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration  extends WebSecurityConfigurerAdapter{\r\n    \t@Autowired\r\n    \tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \t@Autowired\r\n    \tprivate DataSource dataSource;\r\n    \t@Value(&quot;${spring.queries.users-query}&quot;)\r\n    \tprivate String usersQuery;\r\n    \t@Value(&quot;${spring.queries.roles-query}&quot;)\r\n    \tprivate String rolesQuery;\r\n    \t@Override\r\n    \tprotected void configure(AuthenticationManagerBuilder auth)\r\n    \t\t\tthrows Exception {\r\n    \t\tauth.\r\n    \t\t\tjdbcAuthentication()\r\n    \t\t\t.usersByUsernameQuery(usersQuery)\r\n    \t\t\t.authoritiesByUsernameQuery(rolesQuery)\r\n    \t\t\t.dataSource(dataSource)\r\n    \t\t\t\t.passwordEncoder(bCryptPasswordEncoder);\r\n    \t}\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\t\r\n    \t\thttp.\r\n    \t\t\tauthorizeRequests()\r\n    \t\t\t.antMatchers(&quot;/&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/login&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/registration&quot;).permitAll()\r\n    \t\t\t.antMatchers(&quot;/admin/**&quot;).hasAuthority(&quot;ADMIN&quot;).anyRequest()\r\n    \t\t\t.authenticated().and().csrf().disable().formLogin()\r\n    \t\t\t.loginPage(&quot;/login&quot;).failureUrl(&quot;/login?error=true&quot;)\r\n    \t\t\t.defaultSuccessUrl(&quot;/admin/home&quot;)\r\n    \t\t\t.usernameParameter(&quot;email&quot;)\r\n    \t\t\t.passwordParameter(&quot;password&quot;)\r\n    \t\t\t.and().logout()\r\n    \t\t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n    \t\t\t.logoutSuccessUrl(&quot;/&quot;).and().exceptionHandling()\r\n    \t\t\t.accessDeniedPage(&quot;/access-denied&quot;);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void configure(WebSecurity web) throws Exception {\r\n    \t    web\r\n    \t       .ignoring()\r\n    \t       .antMatchers(&quot;/resources/**&quot;, &quot;/static/**&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;);\r\n    \t}\r\n    }\r\n//ServiceImpl\r\n\r\n    @Service\r\n    public class StudentServiceImpl implements StudentService {\r\n    \tprivate StudentRepository stuRepository;\r\n    \tpublic StudentServiceImpl(StudentRepository stuRepository) {\r\n    \t\tthis.stuRepository=stuRepository;\r\n    \t}\r\n    \t@Autowired   \r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;    \t\r\n    \t@Override\r\n    \tpublic Student findStudentByEmail(String email) {\r\n    \t\treturn stuRepository.findByEmail(email);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void saveStudent(Student stu) {\r\n    \t\tstu.setPassword(bCryptPasswordEncoder.encode(stu.getPassword()));\r\n            stuRepository.save(stu);\r\n    \t}\r\n    }\r\n\r\n//Error\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;securityConfiguration&#39;: Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;spring.queries.users-query&#39; in value &quot;${spring.queries.users-query}&quot;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1341) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n\r\n//if I am adding the query in properties file. i am getting this error\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;loginController&#39;: Unsatisfied dependency expressed through field &#39;stuserv&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;studentServiceImpl&#39; defined in file [C:\\Users\\Root\\eclipse-workspace\\manlib\\target\\classes\\com\\itcinfo\\manlib\\service\\StudentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;studentRepository&#39;: Post-processing of merged bean definition failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:586) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:91) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n\r\n","title":"Error creating bean with name &#39;securityConfig&#39;,Injection of autowired dependencies failed;exception java.lang.IllegalArgumentException","body":"<p>I am doing spring boot security application of Library management system. When I run my application, I am getting the mentioned error. Could someone please help me out. Thanks in advance!</p>\n\n<p>//Securityconfig</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration  extends WebSecurityConfigurerAdapter{\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private DataSource dataSource;\n    @Value(\"${spring.queries.users-query}\")\n    private String usersQuery;\n    @Value(\"${spring.queries.roles-query}\")\n    private String rolesQuery;\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth)\n            throws Exception {\n        auth.\n            jdbcAuthentication()\n            .usersByUsernameQuery(usersQuery)\n            .authoritiesByUsernameQuery(rolesQuery)\n            .dataSource(dataSource)\n                .passwordEncoder(bCryptPasswordEncoder);\n    }\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        http.\n            authorizeRequests()\n            .antMatchers(\"/\").permitAll()\n            .antMatchers(\"/login\").permitAll()\n            .antMatchers(\"/registration\").permitAll()\n            .antMatchers(\"/admin/**\").hasAuthority(\"ADMIN\").anyRequest()\n            .authenticated().and().csrf().disable().formLogin()\n            .loginPage(\"/login\").failureUrl(\"/login?error=true\")\n            .defaultSuccessUrl(\"/admin/home\")\n            .usernameParameter(\"email\")\n            .passwordParameter(\"password\")\n            .and().logout()\n            .logoutRequestMatcher(new AntPathRequestMatcher(\"/logout\"))\n            .logoutSuccessUrl(\"/\").and().exceptionHandling()\n            .accessDeniedPage(\"/access-denied\");\n    }\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web\n           .ignoring()\n           .antMatchers(\"/resources/**\", \"/static/**\", \"/css/**\", \"/js/**\", \"/images/**\");\n    }\n}\n</code></pre>\n\n<p>//ServiceImpl</p>\n\n<pre><code>@Service\npublic class StudentServiceImpl implements StudentService {\n    private StudentRepository stuRepository;\n    public StudentServiceImpl(StudentRepository stuRepository) {\n        this.stuRepository=stuRepository;\n    }\n    @Autowired   \n    private BCryptPasswordEncoder bCryptPasswordEncoder;        \n    @Override\n    public Student findStudentByEmail(String email) {\n        return stuRepository.findByEmail(email);\n    }\n    @Override\n    public void saveStudent(Student stu) {\n        stu.setPassword(bCryptPasswordEncoder.encode(stu.getPassword()));\n        stuRepository.save(stu);\n    }\n}\n</code></pre>\n\n<p>//Error</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'spring.queries.users-query' in value \"${spring.queries.users-query}\"\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:378) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1341) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n</code></pre>\n\n<p>//if I am adding the query in properties file. i am getting this error</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'loginController': Unsatisfied dependency expressed through field 'stuserv'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'studentServiceImpl' defined in file [C:\\Users\\Root\\eclipse-workspace\\manlib\\target\\classes\\com\\itcinfo\\manlib\\service\\StudentServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'studentRepository': Post-processing of merged bean definition failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.PersistenceContext.synchronization()Ljavax/persistence/SynchronizationType;\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:586) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:91) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n</code></pre>\n"},{"tags":["java","android","kotlin","aar"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1690984547,"post_id":76820597,"comment_id":135429217,"body_markdown":"we need more information in order to help you. I recommend creating a separate project as a [mcve] to try to recreate the issue.","body":"we need more information in order to help you. I recommend creating a separate project as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to try to recreate the issue."},{"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"score":0,"creation_date":1690984825,"post_id":76820597,"comment_id":135429300,"body_markdown":"@Code-Apprentice since I am talking about my working project it would be impossible to post the project here :(","body":"@Code-Apprentice since I am talking about my working project it would be impossible to post the project here :("},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1691006212,"post_id":76820597,"comment_id":135433783,"body_markdown":"that is why you create a separate project to reproduce the problem as the link I gave earlier describes","body":"that is why you create a separate project to reproduce the problem as the link I gave earlier describes"}],"answers":[{"tags":[],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690998708,"creation_date":1690998708,"answer_id":76822386,"question_id":76820597,"body_markdown":"Finally this answer helped me to figure it out - https://stackoverflow.com/a/20927125/5709159, namely this query in terminal - `/gradlew assembleRelease` (or `/gradlew assembleDebug`)","title":"AAR file is not generating from the lib","body":"<p>Finally this answer helped me to figure it out - <a href=\"https://stackoverflow.com/a/20927125/5709159\">https://stackoverflow.com/a/20927125/5709159</a>, namely this query in terminal - <code>/gradlew assembleRelease</code> (or <code>/gradlew assembleDebug</code>)</p>\n"}],"owner":{"account_id":7378264,"reputation":4782,"user_id":5709159,"accept_rate":58,"display_name":"Sirop4ik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691006248,"accepted_answer_id":76822386,"answer_count":1,"score":0,"last_activity_date":1690998708,"creation_date":1690984435,"question_id":76820597,"body_markdown":"I have a project and the lib module (actually my project is a wrapper on the lib module in order to generate .aar). It&#39;s expected to work like this - once I build the project it is supposed to build the lib-module which is supposed to generate (under the hood) `.aar` under the `build-&gt;output` folder. So, finally, I can use it, however, the problem is that the `.aar` file is not being generated.\r\n\r\nAlso, have to mention that actually there are 2 lib modules under the project and the second lib-module `.aar` file generates successfully each time, so obviously it is something wrong with my first lib module.\r\n\r\nI have tried to clean, rebuild, invalidate and all of these things, but it doesn&#39;t work.\r\n\r\nIs there a way to figure out what is a possible issue?\r\n\r\nIs there a way to check (eg: with logs) where this `.aar` is generated? Or change the location? Or get any details about the generation process?","title":"AAR file is not generating from the lib","body":"<p>I have a project and the lib module (actually my project is a wrapper on the lib module in order to generate .aar). It's expected to work like this - once I build the project it is supposed to build the lib-module which is supposed to generate (under the hood) <code>.aar</code> under the <code>build-&gt;output</code> folder. So, finally, I can use it, however, the problem is that the <code>.aar</code> file is not being generated.</p>\n<p>Also, have to mention that actually there are 2 lib modules under the project and the second lib-module <code>.aar</code> file generates successfully each time, so obviously it is something wrong with my first lib module.</p>\n<p>I have tried to clean, rebuild, invalidate and all of these things, but it doesn't work.</p>\n<p>Is there a way to figure out what is a possible issue?</p>\n<p>Is there a way to check (eg: with logs) where this <code>.aar</code> is generated? Or change the location? Or get any details about the generation process?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1690710761,"post_id":76791699,"comment_id":135388950,"body_markdown":"`&lt;property name=&quot;dataSource&quot; ref=&quot;secondDataSource&quot; /&gt;` - the `firstEMF` bean definition does not contain similar property.","body":"<code>&lt;property name=&quot;dataSource&quot; ref=&quot;secondDataSource&quot; &#47;&gt;</code> - the <code>firstEMF</code> bean definition does not contain similar property."},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1690998075,"post_id":76791699,"comment_id":135432332,"body_markdown":"Yes, my &quot;sanitizing&quot; deleted that, but it&#39;s in the original, I&#39;m editing to correct that which is misleading here. What I discovered is that my two configured EMFs are initialized just fine, but the framework really, really wants a bean named entityManagerFactory. I can&#39;t figure out how to turn that off.","body":"Yes, my &quot;sanitizing&quot; deleted that, but it&#39;s in the original, I&#39;m editing to correct that which is misleading here. What I discovered is that my two configured EMFs are initialized just fine, but the framework really, really wants a bean named entityManagerFactory. I can&#39;t figure out how to turn that off."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690999025,"post_id":76791699,"comment_id":135432487,"body_markdown":"You can just set `primary=&quot;true&quot;` as an xml atttribute on one of your beans. To get more information on which EMF it is you can enable debug logging to see what is happening when. I also wonder how you are loading this XML file, because in theory Spring Boot should backoff as you have defined a `LocalEntityManagerFactoryBean` and shouldn&#39;t do another one itself.","body":"You can just set <code>primary=&quot;true&quot;</code> as an xml atttribute on one of your beans. To get more information on which EMF it is you can enable debug logging to see what is happening when. I also wonder how you are loading this XML file, because in theory Spring Boot should backoff as you have defined a <code>LocalEntityManagerFactoryBean</code> and shouldn&#39;t do another one itself."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690999817,"post_id":76791699,"comment_id":135432597,"body_markdown":"There are parts of your configuration missing. I wonder where this `jpaSharedEM_entityManagerFactory` bean comes from (as that seems to be the ultimate culprit).","body":"There are parts of your configuration missing. I wonder where this <code>jpaSharedEM_entityManagerFactory</code> bean comes from (as that seems to be the ultimate culprit)."},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1692284946,"post_id":76791699,"comment_id":135605211,"body_markdown":"I&#39;ll have to try the `primary=&quot;true&quot;` as that would be cleaner than my &quot;solution&quot; below. I haven&#39;t figured out where that `jpaSharedEM_entityManagerFactory` comes from either, though I recall one post referencing it in the context of Hikari, which I am *not* using. Most of the migration to Java 17 and Spring 6 involved mechanically replacing javax with jakarta in the imports","body":"I&#39;ll have to try the <code>primary=&quot;true&quot;</code> as that would be cleaner than my &quot;solution&quot; below. I haven&#39;t figured out where that <code>jpaSharedEM_entityManagerFactory</code> comes from either, though I recall one post referencing it in the context of Hikari, which I am <i>not</i> using. Most of the migration to Java 17 and Spring 6 involved mechanically replacing javax with jakarta in the imports"},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1694118998,"post_id":76791699,"comment_id":135853129,"body_markdown":"@M.Deinum, for this question\n  I also wonder how you are loading this XML file\nThis is effectively two apps in one project. The web app is declared as \n`\n @SpringBootApplication \n @Configuration\n @ImportResource({ &quot;classpath*:applicationContext.xml&quot;, &quot;classpath*:servletContext.xml&quot; }) \n public class MyServletApplication { ... }\n`","body":"@M.Deinum, for this question   I also wonder how you are loading this XML file This is effectively two apps in one project. The web app is declared as  `  @SpringBootApplication   @Configuration  @ImportResource({ &quot;classpath*:applicationContext.xml&quot;, &quot;classpath*:servletContext.xml&quot; })   public class MyServletApplication { ... } `"},{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1694119099,"post_id":76791699,"comment_id":135853143,"body_markdown":"@M.Deinum the calculation driver &quot;manually &quot;loads the file\n\n@Service(value = &quot;poll&quot;)\npublic class CalcLaunch {\n  ...\n  private static ClassPathXmlApplicationContext factory;\n  public static void main(String[] args) throws Throwable {\n    factory = new ClassPathXmlApplicationContext(new String[] { &quot;applicationContext.xml&quot; });\n    CalcLaunch poll = factory.getBean(&quot;poll&quot;, CalcLaunch.class);\n    MyOptionsmyOptions = MyOptions.parseArgs(args);\n    poll.run(myOptions);\nfactory.close();\n  }\n}","body":"@M.Deinum the calculation driver &quot;manually &quot;loads the file  @Service(value = &quot;poll&quot;) public class CalcLaunch {   ...   private static ClassPathXmlApplicationContext factory;   public static void main(String[] args) throws Throwable {     factory = new ClassPathXmlApplicationContext(new String[] { &quot;applicationContext.xml&quot; });     CalcLaunch poll = factory.getBean(&quot;poll&quot;, CalcLaunch.class);     MyOptionsmyOptions = MyOptions.parseArgs(args);     poll.run(myOptions); factory.close();   } }"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694156333,"post_id":76791699,"comment_id":135856858,"body_markdown":"Don&#39;t write code in comments that is totally unreadable.","body":"Don&#39;t write code in comments that is totally unreadable."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690784999,"post_id":76797097,"comment_id":135395829,"body_markdown":"You cannot create an `EntityManagerFactory` without a datasource and no it wasn&#39;t created beforehand. Nor does he even use the Spring Boot support to create the EMF he used XML.","body":"You cannot create an <code>EntityManagerFactory</code> without a datasource and no it wasn&#39;t created beforehand. Nor does he even use the Spring Boot support to create the EMF he used XML."}],"tags":[],"owner":{"account_id":13147502,"reputation":336,"user_id":9497126,"display_name":"acakojic"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690708604,"creation_date":1690708604,"answer_id":76797097,"question_id":76791699,"body_markdown":"In Spring Boot 3 the auto-configuration for JPA has changed and it now expects the DataSource to be provided upfront before creating the EntityManagerFactory.\r\n\r\nIn your previous Spring Boot 2 setup, the EntityManagerFactory bean was created first, and then it would lookup the DataSource bean. But now this fails because the DataSource is not initialized yet when building the EMF.\r\n\r\nThe solution is to configure the LocalContainerEntityManagerFactoryBean to depend on the DataSource bean, so that it gets initialized first before building the EMF.\r\n```\r\n@Bean\r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\r\n  LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n  \r\n  emf.setDataSource(dataSource()); // add this\r\n\r\n  // others configs\r\n  \r\n  return emf;\r\n}\r\n```\r\n```\r\n@Bean \r\npublic DataSource dataSource() {\r\n  // create and return the data source bean\r\n}\r\n```\r\nDataSource must be initialized before EntityManagerFactory. Configure EMF bean to depend on DataSource using setDataSource()\r\n\r\nThe key fix is making sure DataSource is available before building EntityManagerFactory","title":"Migrating to Spring 6, multiple datasources and entity managers","body":"<p>In Spring Boot 3 the auto-configuration for JPA has changed and it now expects the DataSource to be provided upfront before creating the EntityManagerFactory.</p>\n<p>In your previous Spring Boot 2 setup, the EntityManagerFactory bean was created first, and then it would lookup the DataSource bean. But now this fails because the DataSource is not initialized yet when building the EMF.</p>\n<p>The solution is to configure the LocalContainerEntityManagerFactoryBean to depend on the DataSource bean, so that it gets initialized first before building the EMF.</p>\n<pre><code>@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n\n  LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\n  \n  emf.setDataSource(dataSource()); // add this\n\n  // others configs\n  \n  return emf;\n}\n</code></pre>\n<pre><code>@Bean \npublic DataSource dataSource() {\n  // create and return the data source bean\n}\n</code></pre>\n<p>DataSource must be initialized before EntityManagerFactory. Configure EMF bean to depend on DataSource using setDataSource()</p>\n<p>The key fix is making sure DataSource is available before building EntityManagerFactory</p>\n"},{"comments":[{"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"score":0,"creation_date":1690981674,"post_id":76818846,"comment_id":135428429,"body_markdown":"It also breaks the unit tests which now need to have a @MockBean added for entityManagerFactory.","body":"It also breaks the unit tests which now need to have a @MockBean added for entityManagerFactory."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1694156384,"post_id":76818846,"comment_id":135856873,"body_markdown":"IN XML you just state `primary=&quot;true&quot;` in the `bean` element.","body":"IN XML you just state <code>primary=&quot;true&quot;</code> in the <code>bean</code> element."}],"tags":[],"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690971005,"creation_date":1690971005,"answer_id":76818846,"question_id":76791699,"body_markdown":"Here&#39;s what I&#39;ve done. Please tell me why this is wrong. It feels wrong, it smells wrong.\r\n\r\nI added this class\r\n\r\n    @Configuration\r\n    public class SpringBootVoodoo {\r\n\r\n        @Autowired\r\n        private ApplicationContext context;\r\n    \r\n        @Bean(name=&quot;entityManagerFactory&quot;)\r\n        public EntityManagerFactory sessionFactory() {\r\n            return (EntityManagerFactory) context.getBean(&quot;firstEMF&quot;);\r\n        }\r\n    }\r\n\r\nIt now starts up just fine.\r\n\r\nWhy did I even try this? Well, the article [Configure and Use Multiple DataSources in Spring Boot][1] implies I need to make one of my existing EMF beans be the primary. I can&#39;t find how to do that in XML. I don&#39;t really want to pull all the XML into code, and adding @Primary to FirstDAO didn&#39;t do the trick. This does. \r\n\r\nBut it smells wrong :-(\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-configure-multiple-datasources","title":"Migrating to Spring 6, multiple datasources and entity managers","body":"<p>Here's what I've done. Please tell me why this is wrong. It feels wrong, it smells wrong.</p>\n<p>I added this class</p>\n<pre><code>@Configuration\npublic class SpringBootVoodoo {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Bean(name=&quot;entityManagerFactory&quot;)\n    public EntityManagerFactory sessionFactory() {\n        return (EntityManagerFactory) context.getBean(&quot;firstEMF&quot;);\n    }\n}\n</code></pre>\n<p>It now starts up just fine.</p>\n<p>Why did I even try this? Well, the article <a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">Configure and Use Multiple DataSources in Spring Boot</a> implies I need to make one of my existing EMF beans be the primary. I can't find how to do that in XML. I don't really want to pull all the XML into code, and adding @Primary to FirstDAO didn't do the trick. This does.</p>\n<p>But it smells wrong :-(</p>\n"}],"owner":{"account_id":3783770,"reputation":19,"user_id":3142422,"display_name":"rbrbrts"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690998189,"creation_date":1690592515,"question_id":76791699,"body_markdown":"I&#39;m migrating a project from Spring 5 (Spring Boot 2.x) to Spring 6 (Spring Boot 3.1) and upgrading to Java 17. This was originally done in Spring 4, and the application connects to two different databases, each configured in XML following the pattern in this post\r\n\r\n[Configuring Multiple Databases with Multiple EntityManagerFactory in Spring Data](https://stackoverflow.com/questions/49767032/configuring-multiple-databases-with-multiple-entitymanagerfactory-in-spring-data) \r\n\r\nI&#39;m running into a problem on start with the error like this one\r\n\r\n[Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument](https://stackoverflow.com/questions/53140135/cannot-resolve-reference-to-bean-entitymanagerfactory-while-setting-constructo)\r\n\r\nBut I&#39;m stumped on how to correct this. My config looks something like this\r\n\r\n```\r\n    &lt;context:property-placeholder\r\n            location=&quot;file:${fvis.home}/conf/fvisconf.properties&quot;\r\n            ignore-unresolvable=&quot;false&quot; ignore-resource-not-found=&quot;true&quot; /&gt;\r\n\r\n    &lt;bean id=&quot;firstDataSource&quot;\r\n         class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot;\r\n            value=&quot;jdbc:oracle:thin:@(description=(address_list=(address=(host=${fvisbt.drpg.host})(protocol=tcp)(port=1521))(load_balance=yes)(failover=yes))(connect_data=(service_name=${fvisbt.drpg.sid})))&quot;&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;firstUser&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${second.password}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;secondDataSource&quot;\r\n         class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot;\r\n            value=&quot;jdbc:oracle:thin:@(description=(address_list=(address=(host=${fvisbt.drpg.host})(protocol=tcp)(port=1521))(load_balance=yes)(failover=yes))(connect_data=(service_name=${fvisbt.jobdb.sid})))&quot;&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;secondUser&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${second.password}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- EntityManager injection is by package --&gt;\r\n    &lt;bean id=&quot;firstEMF&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;firstDataSource&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.ejb.entitymanager_factory_name&quot;&gt;firstEMF&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.example.entity.first&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;secondEMF&quot;\r\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;secondDataSource&quot; /&gt;\r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.ejb.entitymanager_factory_name&quot;&gt;secondEMF&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.example.entity.second&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n```\r\n\r\n\r\nThe launch log looks like this\r\n\r\n```\r\n...\r\nINFO  c.e.w.MyApp                              : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\nINFO  .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\nINFO  .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.\r\nINFO  o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port(s): 8080 (http)\r\nINFO  o.a.c.c.StandardService                  : Starting service [Tomcat]\r\nINFO  o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.10]\r\nINFO  o.a.j.s.TldScanner                       : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nINFO  o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext\r\nINFO  w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2636 ms\r\nINFO  o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\r\nINFO  o.h.Version                              : HHH000412: Hibernate ORM core version 6.2.5.Final\r\nINFO  o.h.c.Environment                        : HHH000406: Using bytecode reflection optimizer\r\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\nINFO  o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\nWARN  o.h.e.j.c.i.ConnectionProviderInitiator  : HHH000181: No appropriate connection provider encountered, assuming application will be supplying connections\r\nWARN  o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\njava.lang.UnsupportedOperationException: The application must supply JDBC connections\r\n\tat org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:44) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) [spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) [spring-beans-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) [spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) [spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) [spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) [spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-3.1.1.jar:3.1.1]\r\n        ...\r\n\r\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\nINFO  o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nINFO  j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nINFO  o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\r\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\nINFO  o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\nINFO  o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nINFO  j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nINFO  c.e.w.MyApp                              : adding properties resource, /META-INF/MANIFEST.MF\r\nWARN  ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaSharedEM_entityManagerFactory&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument\r\nINFO  j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nINFO  j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n```\r\n\r\nI have DAO objects which implement some basic CRUD operations as well as a few look-up. Ignoring the CRUD operations, they were done in a hierarchy to eliminate a lot of duplicate code, and the inheritance looks like\r\n\r\n```\r\npublic abstract class AbstractDAO&lt;T&gt; implements DAO&lt;T&gt; {\r\n    protected EntityManagerFactory entityManagerFactory;\r\n    protected abstract void setEntityManagerFactory(EntityManagerFactory entityManagerFactory);\r\n    public EntityManagerFactory getEntityManagerFactory() {\r\n        return this.entityManagerFactory;\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\n```\r\npublic class FirstAbstractDAO &lt;K&gt; extends AbstractDAO&lt;K&gt; {\r\n    @Override\r\n    @Autowired\r\n    @Qualifier(&quot;firstEMF&quot;)\r\n    public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\r\n        this.entityManagerFactory = entityManagerFactory;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class SecondAbstractDAO &lt;K&gt; extends AbstractDAO&lt;K&gt; {\r\n    @Override\r\n    @Autowired\r\n    @Qualifier(&quot;secondEMF&quot;)\r\n    public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\r\n        this.entityManagerFactory = entityManagerFactory;\r\n    }\r\n}\r\n```\r\n\r\nThe logs show those getting intialized and, if I set a breakpoint in setEntityManagerFactory, I can clearly see them being initialized.\r\n\r\nWhat I can&#39;t figure out, is what is it that Spring Boot 3 is trying to initialize that results in the error in this traceback\r\n\r\n```\r\njava.lang.UnsupportedOperationException: The application must supply JDBC connections\r\n\tat org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:44) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\r\n...\r\n```\r\n\r\nIf I put a breakpoint in createContainerEntityManagerFactory, I see it is trying to intialize firstEMF. I suspect it is doing it &quot;too early&quot; in that when I get down into EntityManager.build, the configuration values for firstEMF are all set, but the dataSource is null.\r\n\r\nThis *seems* to me like I&#39;m missing something in my configuration, but I can&#39;t figure out what. Noice in the log the &quot;Initialized JPA EntityManagerFactory&quot; *after* the exception.\r\n\r\n-- EDIT/Additional Info --\r\n\r\nI&#39;ve put a breakpoint in one of the getBean methods in AnnotationConfigServletWebServerApplication where it is trying to resolve &quot;firstEMF&quot; as well as in LocalContainerEntityManagerFactoryBean.setDataSource. My XML is being correctly read and it is creating &quot;firstDataSource&quot; and the connection parameters all look to be correctly read. Look at the call chain, this is *while initializing firstEMF*. So I&#39;m more puzzled now as to why I&#39;m getting an exception later. \r\n\r\n[Configure and Use Multiple DataSources in Spring Boot][1] mentions using @Primary, but that when doing configuration in Java; I&#39;m not clear on how to configure the same via XML only.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-configure-multiple-datasources","title":"Migrating to Spring 6, multiple datasources and entity managers","body":"<p>I'm migrating a project from Spring 5 (Spring Boot 2.x) to Spring 6 (Spring Boot 3.1) and upgrading to Java 17. This was originally done in Spring 4, and the application connects to two different databases, each configured in XML following the pattern in this post</p>\n<p><a href=\"https://stackoverflow.com/questions/49767032/configuring-multiple-databases-with-multiple-entitymanagerfactory-in-spring-data\">Configuring Multiple Databases with Multiple EntityManagerFactory in Spring Data</a></p>\n<p>I'm running into a problem on start with the error like this one</p>\n<p><a href=\"https://stackoverflow.com/questions/53140135/cannot-resolve-reference-to-bean-entitymanagerfactory-while-setting-constructo\">Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument</a></p>\n<p>But I'm stumped on how to correct this. My config looks something like this</p>\n<pre><code>    &lt;context:property-placeholder\n            location=&quot;file:${fvis.home}/conf/fvisconf.properties&quot;\n            ignore-unresolvable=&quot;false&quot; ignore-resource-not-found=&quot;true&quot; /&gt;\n\n    &lt;bean id=&quot;firstDataSource&quot;\n         class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\n        &lt;property name=&quot;url&quot;\n            value=&quot;jdbc:oracle:thin:@(description=(address_list=(address=(host=${fvisbt.drpg.host})(protocol=tcp)(port=1521))(load_balance=yes)(failover=yes))(connect_data=(service_name=${fvisbt.drpg.sid})))&quot;&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;username&quot; value=&quot;firstUser&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${second.password}&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;secondDataSource&quot;\n         class=&quot;org.apache.tomcat.jdbc.pool.DataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\n        &lt;property name=&quot;url&quot;\n            value=&quot;jdbc:oracle:thin:@(description=(address_list=(address=(host=${fvisbt.drpg.host})(protocol=tcp)(port=1521))(load_balance=yes)(failover=yes))(connect_data=(service_name=${fvisbt.jobdb.sid})))&quot;&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;username&quot; value=&quot;secondUser&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${second.password}&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- EntityManager injection is by package --&gt;\n    &lt;bean id=&quot;firstEMF&quot;\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;firstDataSource&quot; /&gt;\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;jpaProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.ejb.entitymanager_factory_name&quot;&gt;firstEMF&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;packagesToScan&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.example.entity.first&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;secondEMF&quot;\n          class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;secondDataSource&quot; /&gt;\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;jpaProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.ejb.entitymanager_factory_name&quot;&gt;secondEMF&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;packagesToScan&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;com.example.entity.second&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>The launch log looks like this</p>\n<pre><code>...\nINFO  c.e.w.MyApp                              : No active profile set, falling back to 1 default profile: &quot;default&quot;\nINFO  .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\nINFO  .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 JPA repository interfaces.\nINFO  o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port(s): 8080 (http)\nINFO  o.a.c.c.StandardService                  : Starting service [Tomcat]\nINFO  o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.10]\nINFO  o.a.j.s.TldScanner                       : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nINFO  o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext\nINFO  w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2636 ms\nINFO  o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\nINFO  o.h.Version                              : HHH000412: Hibernate ORM core version 6.2.5.Final\nINFO  o.h.c.Environment                        : HHH000406: Using bytecode reflection optimizer\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\nINFO  o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\nWARN  o.h.e.j.c.i.ConnectionProviderInitiator  : HHH000181: No appropriate connection provider encountered, assuming application will be supplying connections\nWARN  o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\njava.lang.UnsupportedOperationException: The application must supply JDBC connections\n    at org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:44) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) [spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) [spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) [spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) [spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) [spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) [spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) [spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) [spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-3.1.1.jar:3.1.1]\n        ...\n\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\nINFO  o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nINFO  j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nINFO  o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\nINFO  o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\nINFO  o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\nINFO  o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nINFO  j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\nINFO  c.e.w.MyApp                              : adding properties resource, /META-INF/MANIFEST.MF\nWARN  ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument\nINFO  j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\nINFO  j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n</code></pre>\n<p>I have DAO objects which implement some basic CRUD operations as well as a few look-up. Ignoring the CRUD operations, they were done in a hierarchy to eliminate a lot of duplicate code, and the inheritance looks like</p>\n<pre><code>public abstract class AbstractDAO&lt;T&gt; implements DAO&lt;T&gt; {\n    protected EntityManagerFactory entityManagerFactory;\n    protected abstract void setEntityManagerFactory(EntityManagerFactory entityManagerFactory);\n    public EntityManagerFactory getEntityManagerFactory() {\n        return this.entityManagerFactory;\n    }\n    ...\n}\n</code></pre>\n<pre><code>public class FirstAbstractDAO &lt;K&gt; extends AbstractDAO&lt;K&gt; {\n    @Override\n    @Autowired\n    @Qualifier(&quot;firstEMF&quot;)\n    public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n}\n</code></pre>\n<pre><code>public class SecondAbstractDAO &lt;K&gt; extends AbstractDAO&lt;K&gt; {\n    @Override\n    @Autowired\n    @Qualifier(&quot;secondEMF&quot;)\n    public void setEntityManagerFactory(EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n}\n</code></pre>\n<p>The logs show those getting intialized and, if I set a breakpoint in setEntityManagerFactory, I can clearly see them being initialized.</p>\n<p>What I can't figure out, is what is it that Spring Boot 3 is trying to initialize that results in the error in this traceback</p>\n<pre><code>java.lang.UnsupportedOperationException: The application must supply JDBC connections\n    at org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:44) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:316) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:152) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:34) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:264) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:239) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:216) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:45) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:230) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:198) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:166) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\n...\n</code></pre>\n<p>If I put a breakpoint in createContainerEntityManagerFactory, I see it is trying to intialize firstEMF. I suspect it is doing it &quot;too early&quot; in that when I get down into EntityManager.build, the configuration values for firstEMF are all set, but the dataSource is null.</p>\n<p>This <em>seems</em> to me like I'm missing something in my configuration, but I can't figure out what. Noice in the log the &quot;Initialized JPA EntityManagerFactory&quot; <em>after</em> the exception.</p>\n<p>-- EDIT/Additional Info --</p>\n<p>I've put a breakpoint in one of the getBean methods in AnnotationConfigServletWebServerApplication where it is trying to resolve &quot;firstEMF&quot; as well as in LocalContainerEntityManagerFactoryBean.setDataSource. My XML is being correctly read and it is creating &quot;firstDataSource&quot; and the connection parameters all look to be correctly read. Look at the call chain, this is <em>while initializing firstEMF</em>. So I'm more puzzled now as to why I'm getting an exception later.</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">Configure and Use Multiple DataSources in Spring Boot</a> mentions using @Primary, but that when doing configuration in Java; I'm not clear on how to configure the same via XML only.</p>\n"},{"tags":["java","search"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690991132,"post_id":76821509,"comment_id":135430898,"body_markdown":"You are trying to call a method that doesn&#39;t exist by trying to call `searchRange(int, int)` but the actual method expects 3 parameters: `searchRange(int, int, boolean)`.  If your method expects 3 arguments you need to call it with those 3 arguments. Also: The error message points to specific line in your code, and for some reason you didn&#39;t include that line - the line that actually causes the error - into the code of your question. This is quite sub-optimal.","body":"You are trying to call a method that doesn&#39;t exist by trying to call <code>searchRange(int, int)</code> but the actual method expects 3 parameters: <code>searchRange(int, int, boolean)</code>.  If your method expects 3 arguments you need to call it with those 3 arguments. Also: The error message points to specific line in your code, and for some reason you didn&#39;t include that line - the line that actually causes the error - into the code of your question. This is quite sub-optimal."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1690991247,"post_id":76821509,"comment_id":135430917,"body_markdown":"Off-topic:  This seems to be the page for the problem at LeetCode: https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/","body":"Off-topic:  This seems to be the page for the problem at LeetCode: <a href=\"https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/\" rel=\"nofollow noreferrer\">leetcode.com/problems/&hellip;</a>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1690992388,"post_id":76821509,"comment_id":135431167,"body_markdown":"Please include all the code in your question.  You provided all the code except the part that caused the error.  Namely the instance of `Solution` invoking `searchRange`.  And main should be declare static if you expect to run this (although that may be a leetcode requriement).","body":"Please include all the code in your question.  You provided all the code except the part that caused the error.  Namely the instance of <code>Solution</code> invoking <code>searchRange</code>.  And main should be declare static if you expect to run this (although that may be a leetcode requriement)."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1690993412,"post_id":76821509,"comment_id":135431400,"body_markdown":"Or just call `.search(int[],int)` since that may be the intent of the class.","body":"Or just call <code>.search(int[],int)</code> since that may be the intent of the class."},{"owner":{"account_id":29145578,"reputation":11,"user_id":22327574,"display_name":"Madhiha Shaik"},"score":1,"creation_date":1691071293,"post_id":76821509,"comment_id":135444354,"body_markdown":"@WJS That&#39;s the problem here. There is no such line.","body":"@WJS That&#39;s the problem here. There is no such line."}],"answers":[{"comments":[{"owner":{"account_id":29145578,"reputation":11,"user_id":22327574,"display_name":"Madhiha Shaik"},"score":1,"creation_date":1691071373,"post_id":76821798,"comment_id":135444377,"body_markdown":"It worked.Thanks!","body":"It worked.Thanks!"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690993307,"creation_date":1690993307,"answer_id":76821798,"question_id":76821509,"body_markdown":"The problem is clear from the error message: the LeetCode framework has code that calls `searchRange` with 2 arguments, while your implementation doesn&#39;t have a function with that signature. It has a `searchRange` with a third parameter.\r\n\r\nThe fix is to rename your `search` function (which *does* have the required parameter list) to `searchRange`. That way you overload `searchRange` so it can be called with both 2 and 3 arguments. The LeetCode code that will test your solution will now find the right function and will be able to call it.\r\n\r\nThe `main` function should not be part of what you submit to LeetCode: it is not used.\r\n\r\nThe rest of your code is fine. ","title":"First and last occurrence of an element in an sorted array","body":"<p>The problem is clear from the error message: the LeetCode framework has code that calls <code>searchRange</code> with 2 arguments, while your implementation doesn't have a function with that signature. It has a <code>searchRange</code> with a third parameter.</p>\n<p>The fix is to rename your <code>search</code> function (which <em>does</em> have the required parameter list) to <code>searchRange</code>. That way you overload <code>searchRange</code> so it can be called with both 2 and 3 arguments. The LeetCode code that will test your solution will now find the right function and will be able to call it.</p>\n<p>The <code>main</code> function should not be part of what you submit to LeetCode: it is not used.</p>\n<p>The rest of your code is fine.</p>\n"}],"owner":{"account_id":29145578,"reputation":11,"user_id":22327574,"display_name":"Madhiha Shaik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1691574241,"accepted_answer_id":76821798,"answer_count":1,"score":-3,"last_activity_date":1690998007,"creation_date":1690990860,"question_id":76821509,"body_markdown":"I am solving a leetcode problem of finding the first and last occurrence of an element in an sorted array. Since it is a sorted array I&#39;m using binary search. but even though I&#39;m passing the ryt arguments to a method it shows an error actual and formal argument lists differ in length.\r\n\r\nHere&#39;s my code,\r\n\r\n\r\n```\r\n\r\nclass Solution {\r\n    public int searchRange(int[] nums, int target, boolean findStart) {\r\n        int ans = -1;\r\n        int start = 0;\r\n        int end = nums.length - 1;\r\n        while (start &lt;= end) {\r\n            int mid = start + (end - start) / 2;\r\n            if (target &lt; nums[mid]) {\r\n                end = mid - 1;\r\n            } else if (target &gt; nums[mid]) {\r\n                start = mid + 1;\r\n            } else {\r\n                ans = mid;\r\n                if (findStart) {\r\n                    end = mid - 1;\r\n                } else {\r\n                    start = mid + 1;\r\n                }\r\n            }\r\n        }\r\n        return ans;\r\n    }\r\n\r\n    public void main(String[] args) {\r\n        int[] nums = {5, 7, 7, 8, 8, 10};\r\n        int target = 8;\r\n        int[] result = search(nums,target);\r\n        System.out.println(result);\r\n    }\r\n\r\n    public int[] search(int[] nums, int target) {\r\n        int[] result = {-1, -1};\r\n        int start = searchRange(nums, target, true);\r\n        int end = searchRange(nums, target, false);\r\n        result[0] = start;\r\n        result[1] = end;\r\n        return result;\r\n    }\r\n}\r\n\r\nCompile Error\r\nLine 7: error: method searchRange in class Solution cannot be applied to given types; [in __Driver__.java]\r\n      int[] ret = new Solution().searchRange(param_1, param_2);\r\n                                ^\r\n  required: int[],int,boolean\r\n  found:    int[],int\r\n  reason: actual and formal argument lists differ in length\r\n\r\n```","title":"First and last occurrence of an element in an sorted array","body":"<p>I am solving a leetcode problem of finding the first and last occurrence of an element in an sorted array. Since it is a sorted array I'm using binary search. but even though I'm passing the ryt arguments to a method it shows an error actual and formal argument lists differ in length.</p>\n<p>Here's my code,</p>\n<pre><code>\nclass Solution {\n    public int searchRange(int[] nums, int target, boolean findStart) {\n        int ans = -1;\n        int start = 0;\n        int end = nums.length - 1;\n        while (start &lt;= end) {\n            int mid = start + (end - start) / 2;\n            if (target &lt; nums[mid]) {\n                end = mid - 1;\n            } else if (target &gt; nums[mid]) {\n                start = mid + 1;\n            } else {\n                ans = mid;\n                if (findStart) {\n                    end = mid - 1;\n                } else {\n                    start = mid + 1;\n                }\n            }\n        }\n        return ans;\n    }\n\n    public void main(String[] args) {\n        int[] nums = {5, 7, 7, 8, 8, 10};\n        int target = 8;\n        int[] result = search(nums,target);\n        System.out.println(result);\n    }\n\n    public int[] search(int[] nums, int target) {\n        int[] result = {-1, -1};\n        int start = searchRange(nums, target, true);\n        int end = searchRange(nums, target, false);\n        result[0] = start;\n        result[1] = end;\n        return result;\n    }\n}\n\nCompile Error\nLine 7: error: method searchRange in class Solution cannot be applied to given types; [in __Driver__.java]\n      int[] ret = new Solution().searchRange(param_1, param_2);\n                                ^\n  required: int[],int,boolean\n  found:    int[],int\n  reason: actual and formal argument lists differ in length\n\n</code></pre>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1690993721,"post_id":76821814,"comment_id":135431469,"body_markdown":"Well a TV is not a remote control. A *TV remote* is a remote; a remote *for* a TV. So the classes should more accurately be called &#39;TVRemote&#39; and &#39;ACRemote&#39;. Maybe if you expanded the model a bit more, TVRemote would hold a reference to a TV - the TV that it&#39;s associated with. Otherwise, looks good.","body":"Well a TV is not a remote control. A <i>TV remote</i> is a remote; a remote <i>for</i> a TV. So the classes should more accurately be called &#39;TVRemote&#39; and &#39;ACRemote&#39;. Maybe if you expanded the model a bit more, TVRemote would hold a reference to a TV - the TV that it&#39;s associated with. Otherwise, looks good."},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690996897,"post_id":76821814,"comment_id":135432098,"body_markdown":"@Michael just replace RemoteControl with RemoteControllable and its good. You are correct though :-)","body":"@Michael just replace RemoteControl with RemoteControllable and its good. You are correct though :-)"}],"answers":[{"comments":[{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690994198,"post_id":76821841,"comment_id":135431561,"body_markdown":"except its not correct because they are instantiating a tv object and an ac object.  Static polymorphism is occuring here not dynamic and not what they describe. Its just that they are both guarenteed to share the common interfaces of the remote control class.","body":"except its not correct because they are instantiating a tv object and an ac object.  Static polymorphism is occuring here not dynamic and not what they describe. Its just that they are both guarenteed to share the common interfaces of the remote control class."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1690994455,"post_id":76821841,"comment_id":135431619,"body_markdown":"Well, for dynamic polymorphism you should have kind of dependency injection here. It looks like the topic-starter has just started to use Java.","body":"Well, for dynamic polymorphism you should have kind of dependency injection here. It looks like the topic-starter has just started to use Java."},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690994749,"post_id":76821841,"comment_id":135431678,"body_markdown":"This isn&#39;t dynamic polymorphism. Inheratance is dynamic, interfaces are static.. its a fundamental difference. You are telling her she&#39;s right when she is wrong.","body":"This isn&#39;t dynamic polymorphism. Inheratance is dynamic, interfaces are static.. its a fundamental difference. You are telling her she&#39;s right when she is wrong."},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690994778,"post_id":76821841,"comment_id":135431683,"body_markdown":"dependency injection has nothing to do with this","body":"dependency injection has nothing to do with this"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690993675,"creation_date":1690993675,"answer_id":76821841,"question_id":76821814,"body_markdown":"In general your understanding is correct: interface is the means of describing a contract of interaction of a particular implementation of the interface with other code. Interfaces allow you to write your code in more general way.","title":"Is this how we use Interfaces in Java?","body":"<p>In general your understanding is correct: interface is the means of describing a contract of interaction of a particular implementation of the interface with other code. Interfaces allow you to write your code in more general way.</p>\n"},{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1690995087,"post_id":76821971,"comment_id":135431745,"body_markdown":"Your advice about `override` might apply to C++, but this is Java. `@Override` here is syntactic sugar, the only thing it will ever cause to be different in code is a build failure if you add it to a method which isn&#39;t overriding any method. Additionally, all Java methods are &quot;virtual&quot; in the sense that they will always dynamically dispatch the in-memory object for the class used when defining the object (working up the inheritance chain further if it was not overridden).","body":"Your advice about <code>override</code> might apply to C++, but this is Java. <code>@Override</code> here is syntactic sugar, the only thing it will ever cause to be different in code is a build failure if you add it to a method which isn&#39;t overriding any method. Additionally, all Java methods are &quot;virtual&quot; in the sense that they will always dynamically dispatch the in-memory object for the class used when defining the object (working up the inheritance chain further if it was not overridden)."},{"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"score":0,"creation_date":1690996201,"post_id":76821971,"comment_id":135431940,"body_markdown":"It just an Example. I did not provide whole model, it was only for understanding purpose. Obv for total abstraction it would need more functionalities, As a beginner learner wanted to check what i am learning is correct line or not. And As for Polymorphism yes its a static polymorphism, i did not specify much complicated example just as per my basic knowledge I said it as a Polymorphism i still dont have much hands on Polymorphism but with practise i will try to understant what you actually meant. And for Overriding methods, as i said i did not provide full functionalities it just simple eg.","body":"It just an Example. I did not provide whole model, it was only for understanding purpose. Obv for total abstraction it would need more functionalities, As a beginner learner wanted to check what i am learning is correct line or not. And As for Polymorphism yes its a static polymorphism, i did not specify much complicated example just as per my basic knowledge I said it as a Polymorphism i still dont have much hands on Polymorphism but with practise i will try to understant what you actually meant. And for Overriding methods, as i said i did not provide full functionalities it just simple eg."},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690996358,"post_id":76821971,"comment_id":135431971,"body_markdown":"override has the exact same effect in modern C++.  it causes a compiler error if you aren&#39;t overriding a virtual function from a base class.  I&#39;ll take it on assumption that it considers an interface implemented method to be an override, that actually seems like a useful thing for the same reason its useful in C++. I&#39;ve removed that statement accordingly.  Your &quot;everything is virtual&quot; is a gross oversimplification that I&#39;m not even going to get into.","body":"override has the exact same effect in modern C++.  it causes a compiler error if you aren&#39;t overriding a virtual function from a base class.  I&#39;ll take it on assumption that it considers an interface implemented method to be an override, that actually seems like a useful thing for the same reason its useful in C++. I&#39;ve removed that statement accordingly.  Your &quot;everything is virtual&quot; is a gross oversimplification that I&#39;m not even going to get into."},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690996452,"post_id":76821971,"comment_id":135431990,"body_markdown":"The point is you operate directly on the instantiated objects, you said in your question that you weren&#39;t. Thats the key point I&#39;m describing that you got wrong. Thats a key difference between the types of polymorphism.","body":"The point is you operate directly on the instantiated objects, you said in your question that you weren&#39;t. Thats the key point I&#39;m describing that you got wrong. Thats a key difference between the types of polymorphism."},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690997252,"post_id":76821971,"comment_id":135432174,"body_markdown":"@SouravKarjole yes we all understand and APPRECIATE that you kept the thing simple that you shared and asked about.  That is a core tenet of asking a good question here! I think its commendable that you asked the question and put together a minimal functional example for it.  As for the difference I&#39;m getting at, you will need to understand the difference between &#39;extending&#39; a class vs. &#39;implementing&#39; an interface. Which are Java&#39;s way of saying &quot;inheritance&quot;/dynamic polymorphism or &quot;contract composition&quot;/static polymorphism. you are on a good path","body":"@SouravKarjole yes we all understand and APPRECIATE that you kept the thing simple that you shared and asked about.  That is a core tenet of asking a good question here! I think its commendable that you asked the question and put together a minimal functional example for it.  As for the difference I&#39;m getting at, you will need to understand the difference between &#39;extending&#39; a class vs. &#39;implementing&#39; an interface. Which are Java&#39;s way of saying &quot;inheritance&quot;/dynamic polymorphism or &quot;contract composition&quot;/static polymorphism. you are on a good path"},{"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"score":0,"creation_date":1690997738,"post_id":76821971,"comment_id":135432269,"body_markdown":"@UpAndAdam i updated the explanation with more details. Can you check now ? and Thanks","body":"@UpAndAdam i updated the explanation with more details. Can you check now ? and Thanks"},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":0,"creation_date":1690998356,"post_id":76821971,"comment_id":135432386,"body_markdown":"its slightly better i would just edit above the original text, &quot;So when we use this reference we are not actually instantiating T.V class but using and interface reference so that User can use it&quot; to be &quot;So when we use this reference we are utilizing the interface methods of the concrete target class such as `TV` as specified in the interface&quot;","body":"its slightly better i would just edit above the original text, &quot;So when we use this reference we are not actually instantiating T.V class but using and interface reference so that User can use it&quot; to be &quot;So when we use this reference we are utilizing the interface methods of the concrete target class such as <code>TV</code> as specified in the interface&quot;"},{"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"score":0,"creation_date":1690999905,"post_id":76821971,"comment_id":135432612,"body_markdown":"@UpAndAdam ohh mean that we are instantiating T.V class but using interface reference we are utilizing the interface methods of the concrete target class such as TV as specified in the interface??","body":"@UpAndAdam ohh mean that we are instantiating T.V class but using interface reference we are utilizing the interface methods of the concrete target class such as TV as specified in the interface??"}],"tags":[],"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"comment_count":8,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1690997011,"creation_date":1690994691,"answer_id":76821971,"question_id":76821814,"body_markdown":"Your explanation at the end is incorrect. You do not achieve **TOTAL** abstraction the way you describe it.  You **ARE** instantiating a `TV` object and an `AC` object.  The polymorphism is **static polymorphism**, not dynamic polymorphism.  So when you call the functions they operate **directly on the instantiated class** with the efficiency as if it was regular method.  \r\n\r\nBy implementing an interface in a class you are saying that your class behaves according to that interface in addition to anything else it does.  That means users can expect it to have certain features and behaviors without knowing subtleties of your class allowing for more abstraction and generalized usage.\r\n\r\nI want to point out that your ultimate usage **IS** correct.","title":"Is this how we use Interfaces in Java?","body":"<p>Your explanation at the end is incorrect. You do not achieve <strong>TOTAL</strong> abstraction the way you describe it.  You <strong>ARE</strong> instantiating a <code>TV</code> object and an <code>AC</code> object.  The polymorphism is <strong>static polymorphism</strong>, not dynamic polymorphism.  So when you call the functions they operate <strong>directly on the instantiated class</strong> with the efficiency as if it was regular method.</p>\n<p>By implementing an interface in a class you are saying that your class behaves according to that interface in addition to anything else it does.  That means users can expect it to have certain features and behaviors without knowing subtleties of your class allowing for more abstraction and generalized usage.</p>\n<p>I want to point out that your ultimate usage <strong>IS</strong> correct.</p>\n"}],"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1691152469,"accepted_answer_id":76821971,"answer_count":2,"score":0,"last_activity_date":1690997268,"creation_date":1690993433,"question_id":76821814,"body_markdown":"Understanding interfaces in Java with example (checking what I learnt is correct)\r\n\r\nSuppose we have an interface called `RemoteControl` that declares a method `turnOn()`:\r\n```java\r\n// Interface defining the RemoteControl contract\r\ninterface RemoteControl {\r\n    void turnOn();\r\n}\r\n```\r\nNow, we have two classes TV and AC, both of which implement the `RemoteControl` interface:\r\n```java\r\n// TV class implementing the RemoteControl interface\r\nclass TV implements RemoteControl {\r\n    @Override\r\n    public void turnOn() {\r\n        System.out.println(&quot;TV is turned on&quot;);\r\n    }\r\n}\r\n\r\n// AC class implementing the RemoteControl interface\r\nclass AC implements RemoteControl {\r\n    @Override\r\n    public void turnOn() {\r\n        System.out.println(&quot;AC is turned on&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow, in the user code, we can interact with the TV and AC objects through the `RemoteControl` interface:\r\n```java\r\npublic class UserCode {\r\n    public static void main(String[] args) {\r\n        RemoteControl tvRemote = new TV(); // Create a TV object using the RemoteControl interface reference\r\n        RemoteControl acRemote = new AC(); // Create an AC object using the RemoteControl interface reference\r\n\r\n        tvRemote.turnOn(); // Calls the turnOn() method on the TV object\r\n        acRemote.turnOn(); // Calls the turnOn() method on the AC object\r\n    }\r\n}\r\n```\r\nIn this example, the `UserCode` class represents the user code that interacts with the TV and AC objects. And here user code creates objects of TV and AC classes using the `RemoteControl` interface reference.\r\n\r\nBy using the `RemoteControl` reference, is this where we say like --&gt; &quot; *User actually uses an interface (remote control) rather than interacting directly with classes (T.V class)*&quot;. \r\n\r\nSo when we use this reference we are not actually instantiating T.V class but using and interface reference so that User can use it. And hence we achieve here total **Abstraction** ( if more functionalities were included ) by not interacting directly with T.V class but only interface. \r\n\r\nAnd also we are able to make use of **Polymorphism**.\r\nAs a beginner learner i dont have much hands on Polymorphism yet but from code what i say is as a static **Polymorphism** when TV class and remote class would have again one same methods but with different parameters like ***turnOn(int channelNum)*** and same in **AC class** like ***turnOn(int increaseTemp)***, The compiler knows at compile time which implementation of the turnOn() method to call based on the reference type (RemoteControl). \r\n\r\nYeah and for **dynamic Polymorphism** there should be **inheritance** included and then methods **Overrinding** would make sense even more,here i have not provided much details just making sure my understanding is correct or not","title":"Is this how we use Interfaces in Java?","body":"<p>Understanding interfaces in Java with example (checking what I learnt is correct)</p>\n<p>Suppose we have an interface called <code>RemoteControl</code> that declares a method <code>turnOn()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Interface defining the RemoteControl contract\ninterface RemoteControl {\n    void turnOn();\n}\n</code></pre>\n<p>Now, we have two classes TV and AC, both of which implement the <code>RemoteControl</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// TV class implementing the RemoteControl interface\nclass TV implements RemoteControl {\n    @Override\n    public void turnOn() {\n        System.out.println(&quot;TV is turned on&quot;);\n    }\n}\n\n// AC class implementing the RemoteControl interface\nclass AC implements RemoteControl {\n    @Override\n    public void turnOn() {\n        System.out.println(&quot;AC is turned on&quot;);\n    }\n}\n</code></pre>\n<p>Now, in the user code, we can interact with the TV and AC objects through the <code>RemoteControl</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserCode {\n    public static void main(String[] args) {\n        RemoteControl tvRemote = new TV(); // Create a TV object using the RemoteControl interface reference\n        RemoteControl acRemote = new AC(); // Create an AC object using the RemoteControl interface reference\n\n        tvRemote.turnOn(); // Calls the turnOn() method on the TV object\n        acRemote.turnOn(); // Calls the turnOn() method on the AC object\n    }\n}\n</code></pre>\n<p>In this example, the <code>UserCode</code> class represents the user code that interacts with the TV and AC objects. And here user code creates objects of TV and AC classes using the <code>RemoteControl</code> interface reference.</p>\n<p>By using the <code>RemoteControl</code> reference, is this where we say like --&gt; &quot; <em>User actually uses an interface (remote control) rather than interacting directly with classes (T.V class)</em>&quot;.</p>\n<p>So when we use this reference we are not actually instantiating T.V class but using and interface reference so that User can use it. And hence we achieve here total <strong>Abstraction</strong> ( if more functionalities were included ) by not interacting directly with T.V class but only interface.</p>\n<p>And also we are able to make use of <strong>Polymorphism</strong>.\nAs a beginner learner i dont have much hands on Polymorphism yet but from code what i say is as a static <strong>Polymorphism</strong> when TV class and remote class would have again one same methods but with different parameters like <em><strong>turnOn(int channelNum)</strong></em> and same in <strong>AC class</strong> like <em><strong>turnOn(int increaseTemp)</strong></em>, The compiler knows at compile time which implementation of the turnOn() method to call based on the reference type (RemoteControl).</p>\n<p>Yeah and for <strong>dynamic Polymorphism</strong> there should be <strong>inheritance</strong> included and then methods <strong>Overrinding</strong> would make sense even more,here i have not provided much details just making sure my understanding is correct or not</p>\n"},{"tags":["java","android","kotlin","proguard"],"answers":[{"comments":[{"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"score":1,"creation_date":1585209743,"post_id":60862591,"comment_id":107682703,"body_markdown":"Thanks for the detailed answer. Regarding the second answer , 1)  does that mean the consumer-rules.pro should not be used by the library creator but instead is meant for use by its users?","body":"Thanks for the detailed answer. Regarding the second answer , 1)  does that mean the consumer-rules.pro should not be used by the library creator but instead is meant for use by its users?"},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1585209897,"post_id":60862591,"comment_id":107682771,"body_markdown":"Exactly, it&#39;s like providing rules others can use while using library. For library development, one can use proguard-rules file to declare rules for library just like we do in app module.","body":"Exactly, it&#39;s like providing rules others can use while using library. For library development, one can use proguard-rules file to declare rules for library just like we do in app module."},{"owner":{"account_id":1741826,"reputation":1818,"user_id":1593007,"accept_rate":76,"display_name":"nww04"},"score":0,"creation_date":1599893294,"post_id":60862591,"comment_id":112921553,"body_markdown":"When you say transitive deps, so let say App module is (A):\nA -&gt; B -&gt; C -&gt; D. Here A (usually our app module), will only obfuscate code that are in B, but C -&gt; D wouldn&#39;t get touched. They will only be obfuscated because B has proguard-rules for them, so when B is obfuscated (in a per-module basis) it will obfuscate C but D won&#39;t get obfuscated and so on and so forth?","body":"When you say transitive deps, so let say App module is (A): A -&gt; B -&gt; C -&gt; D. Here A (usually our app module), will only obfuscate code that are in B, but C -&gt; D wouldn&#39;t get touched. They will only be obfuscated because B has proguard-rules for them, so when B is obfuscated (in a per-module basis) it will obfuscate C but D won&#39;t get obfuscated and so on and so forth?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1617545941,"post_id":60862591,"comment_id":118329332,"body_markdown":"Suppose I have an Android library, should I set both consumer-rules.pro and proguard-rules.pro for it? As others will use it, shouldn&#39;t we use only the consumer-rules.pro? And how does it work if I have to offer the library as a dependency via Jitpack (from AAR file)? Does it somehow exist in POM or somewhere else? Do I have to tell the library-user to add the rules manually?","body":"Suppose I have an Android library, should I set both consumer-rules.pro and proguard-rules.pro for it? As others will use it, shouldn&#39;t we use only the consumer-rules.pro? And how does it work if I have to offer the library as a dependency via Jitpack (from AAR file)? Does it somehow exist in POM or somewhere else? Do I have to tell the library-user to add the rules manually?"},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":2,"creation_date":1617613498,"post_id":60862591,"comment_id":118343694,"body_markdown":"@androiddeveloper You&#39;ve multiple questions, so I&#39;ll try to answer them one by one. When you develop a library it&#39;s best practice to have both proguard files. &#39;proguard-rules.pro&#39; for library is the file where you declare rules for any 3rd party library you use within your library (Just like we do for app module). When you offer your library for public use via any repo center then consumer-rules.pro file also gets shipped, so that end consumer doesn&#39;t have to manually end up writing rules on their own proguard file.","body":"@androiddeveloper You&#39;ve multiple questions, so I&#39;ll try to answer them one by one. When you develop a library it&#39;s best practice to have both proguard files. &#39;proguard-rules.pro&#39; for library is the file where you declare rules for any 3rd party library you use within your library (Just like we do for app module). When you offer your library for public use via any repo center then consumer-rules.pro file also gets shipped, so that end consumer doesn&#39;t have to manually end up writing rules on their own proguard file."},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1617613751,"post_id":60862591,"comment_id":118343760,"body_markdown":"@androiddeveloper When you ship your library, basically it depends upon packaging how consumer-rules.pro files are treated. If it&#39;s packaged with library itself then you don&#39;t need to intimate end consumer about rules, but eventually it&#39;s again good have those written somewhere on the documentation of the library so that anyone can refer to. Personally I have no idea about packaging structure for Jitpack publication but I&#39;ve noticed consumer-rules file gets shipped with maven publication for libraries.","body":"@androiddeveloper When you ship your library, basically it depends upon packaging how consumer-rules.pro files are treated. If it&#39;s packaged with library itself then you don&#39;t need to intimate end consumer about rules, but eventually it&#39;s again good have those written somewhere on the documentation of the library so that anyone can refer to. Personally I have no idea about packaging structure for Jitpack publication but I&#39;ve noticed consumer-rules file gets shipped with maven publication for libraries."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1617619869,"post_id":60862591,"comment_id":118345749,"body_markdown":"@JeelVankhede Jitpack uses the POM files too, so maybe it&#39;s the same. You say consumer-rules.pro should be set. Is it ok to set both files to be exactly the same? Is it a common thing to do?","body":"@JeelVankhede Jitpack uses the POM files too, so maybe it&#39;s the same. You say consumer-rules.pro should be set. Is it ok to set both files to be exactly the same? Is it a common thing to do?"},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":1,"creation_date":1617623080,"post_id":60862591,"comment_id":118346801,"body_markdown":"@androiddeveloper No, both files are different. Consider like this, consumer-rules file is used by your library user while proguard-rules file is used by your library itself if your library has third party dependency that requires you to add their rules on your library project.","body":"@androiddeveloper No, both files are different. Consider like this, consumer-rules file is used by your library user while proguard-rules file is used by your library itself if your library has third party dependency that requires you to add their rules on your library project."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1617807897,"post_id":60862591,"comment_id":118411335,"body_markdown":"@JeelVankhede OK I got to this point now: https://stackoverflow.com/q/66983761/878126","body":"@JeelVankhede OK I got to this point now: <a href=\"https://stackoverflow.com/q/66983761/878126\">stackoverflow.com/q/66983761/878126</a>"},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":1,"creation_date":1617808159,"post_id":60862591,"comment_id":118411470,"body_markdown":"@androiddeveloper Thank you for the separate question, let me go through it and see how can I help. :)","body":"@androiddeveloper Thank you for the separate question, let me go through it and see how can I help. :)"},{"owner":{"account_id":91981,"reputation":3055,"user_id":252308,"accept_rate":36,"display_name":"swooby"},"score":0,"creation_date":1648484605,"post_id":60862591,"comment_id":126630008,"body_markdown":"Can anyone explain or point me to a reference that explains how a library dependent gets the consumer-rules.pro? I created a lib with `android { defaultConfig { consumerProguardFiles &#39;consumer-rules.pro&#39; } }` and assembleRelease and publish that aar to artifactory. I download that .aar and unzip it and nowhere in the unzip can I find a &#39;consumer-rules.pro&#39; for a dependent to consume. How does a dependent get this file if it does not appear to be in the .aar?","body":"Can anyone explain or point me to a reference that explains how a library dependent gets the consumer-rules.pro? I created a lib with <code>android { defaultConfig { consumerProguardFiles &#39;consumer-rules.pro&#39; } }</code> and assembleRelease and publish that aar to artifactory. I download that .aar and unzip it and nowhere in the unzip can I find a &#39;consumer-rules.pro&#39; for a dependent to consume. How does a dependent get this file if it does not appear to be in the .aar?"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1655098279,"post_id":60862591,"comment_id":128240729,"body_markdown":"I think a much simpler explanation is `proguard-rules.pro` applies rule to the dependencies you use in your module/library (if you are developing a library). While `consumer-rules.pro` applies rule to your module/library itself as a dependency for other module such as app module. However since app module has `proguard-rules.pro` can&#39;t we just put it there thus we can disregard `consumer-rules.pro`.","body":"I think a much simpler explanation is <code>proguard-rules.pro</code> applies rule to the dependencies you use in your module/library (if you are developing a library). While <code>consumer-rules.pro</code> applies rule to your module/library itself as a dependency for other module such as app module. However since app module has <code>proguard-rules.pro</code> can&#39;t we just put it there thus we can disregard <code>consumer-rules.pro</code>."},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":0,"creation_date":1655098512,"post_id":60862591,"comment_id":128240764,"body_markdown":"@JeelVankhede so it means that `consumer-rules.pro` is like a default rules you want to apply and be used by all consumer of your library is that correct but they can also just put these rule on their app module `proguard-rules.pro`","body":"@JeelVankhede so it means that <code>consumer-rules.pro</code> is like a default rules you want to apply and be used by all consumer of your library is that correct but they can also just put these rule on their app module <code>proguard-rules.pro</code>"},{"owner":{"account_id":2555320,"reputation":359,"user_id":2217447,"accept_rate":50,"display_name":"BigApeWhat"},"score":0,"creation_date":1698707263,"post_id":60862591,"comment_id":136436997,"body_markdown":"if i add &quot;-dontoptimize&quot; in my `consumer-rules.pro` will it effect my apps `proguard-rules.pro`. i want the app to optimize but not the module","body":"if i add &quot;-dontoptimize&quot; in my <code>consumer-rules.pro</code> will it effect my apps <code>proguard-rules.pro</code>. i want the app to optimize but not the module"}],"tags":[],"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"comment_count":14,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1668281714,"creation_date":1585207633,"answer_id":60862591,"question_id":60861929,"body_markdown":"I&#39;ll try to answer each question, but let me know if something doesn&#39;t make sense!\r\n\r\n### 1. *Will all of the modules code be obfuscated by the rules of the main modules pro-guard rules even if the module does not specify any rules?*\r\n\r\nObfuscation doesn&#39;t work that way. When you enable the `minifyEnabled` property in your app module, it tries to obfuscate code available from the app module as well as its 3rd party dependencies, and your library modules would be considered 3rd party deps. *But it doesn&#39;t touch any transitive dependency of your 3rd party dependencies*.\r\n\r\n----------\r\n\r\n### 2. *What is the difference between consumer-rules.pro and proguard-rules.pro in Android?*\r\n\r\n**proguard-rules.pro** is the file where you declare rules related to Proguard for your module and its dependencies.\r\n\r\n**consumer-rules.pro** is the file where you declare rules that can be applied to your module by the consumer *(whoever would be using your module/library as a dependency -- typically library devs)*.\r\n\r\n----------\r\n\r\n### 3. *Should i enable minifyEnabled in my module?*\r\n\r\nI would suggest that you do *(Every dev should on release APKs)*, but make sure everything is working as expected because the underlying **classes.dex** changes after applying `minifyEnabled`. It helps reduce output APK size, optimizes code, obfuscates class files, and much more...\r\n\r\n----------\r\n\r\n### 4. *I noticed that i can add proguard rules for my module in the main module , so does that mean pro-guard rules in the module are overriden in the main module?*\r\n\r\nNo, basically library rules get applied from the **consumer-rules** file from the library module itself, so when you declare those rules for the library in the app module, it gets applied the same way from **consumer-rules**, which is basically an indication that the consumer should use these rules when minifying.\r\n\r\n**proguard-rules.pro** of the library is the place where you declare rules for 3rd party dependencies of your library *(which is considered a transitive dependency for your app module/main module)*, and it doesn&#39;t get overridden by app module rules.\r\n\r\n----------\r\n\r\nI hope that makes sense!","title":"What is the difference between consumer-rules.pro and proguard-rules.pro in Android?","body":"<p>I'll try to answer each question, but let me know if something doesn't make sense!</p>\n<h3>1. <em>Will all of the modules code be obfuscated by the rules of the main modules pro-guard rules even if the module does not specify any rules?</em></h3>\n<p>Obfuscation doesn't work that way. When you enable the <code>minifyEnabled</code> property in your app module, it tries to obfuscate code available from the app module as well as its 3rd party dependencies, and your library modules would be considered 3rd party deps. <em>But it doesn't touch any transitive dependency of your 3rd party dependencies</em>.</p>\n<hr />\n<h3>2. <em>What is the difference between consumer-rules.pro and proguard-rules.pro in Android?</em></h3>\n<p><strong>proguard-rules.pro</strong> is the file where you declare rules related to Proguard for your module and its dependencies.</p>\n<p><strong>consumer-rules.pro</strong> is the file where you declare rules that can be applied to your module by the consumer <em>(whoever would be using your module/library as a dependency -- typically library devs)</em>.</p>\n<hr />\n<h3>3. <em>Should i enable minifyEnabled in my module?</em></h3>\n<p>I would suggest that you do <em>(Every dev should on release APKs)</em>, but make sure everything is working as expected because the underlying <strong>classes.dex</strong> changes after applying <code>minifyEnabled</code>. It helps reduce output APK size, optimizes code, obfuscates class files, and much more...</p>\n<hr />\n<h3>4. <em>I noticed that i can add proguard rules for my module in the main module , so does that mean pro-guard rules in the module are overriden in the main module?</em></h3>\n<p>No, basically library rules get applied from the <strong>consumer-rules</strong> file from the library module itself, so when you declare those rules for the library in the app module, it gets applied the same way from <strong>consumer-rules</strong>, which is basically an indication that the consumer should use these rules when minifying.</p>\n<p><strong>proguard-rules.pro</strong> of the library is the place where you declare rules for 3rd party dependencies of your library <em>(which is considered a transitive dependency for your app module/main module)</em>, and it doesn't get overridden by app module rules.</p>\n<hr />\n<p>I hope that makes sense!</p>\n"},{"comments":[{"owner":{"account_id":2364939,"reputation":636,"user_id":2070800,"display_name":"hardik9850"},"score":2,"creation_date":1671586297,"post_id":73947524,"comment_id":132129608,"body_markdown":"Please correct me if I am wrong. consumer-rules is used only when you are serving the library to others so as to define rules which will be common to all the clients of my library.","body":"Please correct me if I am wrong. consumer-rules is used only when you are serving the library to others so as to define rules which will be common to all the clients of my library."},{"owner":{"account_id":995676,"reputation":848,"user_id":1011688,"display_name":"Glaucus"},"score":0,"creation_date":1690994484,"post_id":73947524,"comment_id":135431621,"body_markdown":"Does the consumer need to do anything to consume the consumer-rules.pro file or does Android Studio/gradle automatically pick that up if present?","body":"Does the consumer need to do anything to consume the consumer-rules.pro file or does Android Studio/gradle automatically pick that up if present?"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":2,"creation_date":1690996814,"post_id":73947524,"comment_id":135432075,"body_markdown":"@hardik9850 correct","body":"@hardik9850 correct"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":1,"creation_date":1690997080,"post_id":73947524,"comment_id":135432138,"body_markdown":"@Glaucus as a consumer of library you should not manipulate `consumer-rules.pro` since it is prepared by the creator of library. If you ever need to manipulate the consumer-rules.pro as a consumer let say you add the library locally on your project, then you probably just want to do it directly in your modules&#39; regular proguard rules.","body":"@Glaucus as a consumer of library you should not manipulate <code>consumer-rules.pro</code> since it is prepared by the creator of library. If you ever need to manipulate the consumer-rules.pro as a consumer let say you add the library locally on your project, then you probably just want to do it directly in your modules&#39; regular proguard rules."},{"owner":{"account_id":995676,"reputation":848,"user_id":1011688,"display_name":"Glaucus"},"score":0,"creation_date":1691002018,"post_id":73947524,"comment_id":135433006,"body_markdown":"@BitwiseDEVS Thanks. My question was more in terms of how to consume it, not about modifying it. So if a library has a consumer-rules.pro, does that automatically get merged into the consuming app&#39;s proguard-rules.pro at build time?","body":"@BitwiseDEVS Thanks. My question was more in terms of how to consume it, not about modifying it. So if a library has a consumer-rules.pro, does that automatically get merged into the consuming app&#39;s proguard-rules.pro at build time?"},{"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"score":1,"creation_date":1691024611,"post_id":73947524,"comment_id":135436081,"body_markdown":"based on my experience consumer rules is automatically applied","body":"based on my experience consumer rules is automatically applied"}],"tags":[],"owner":{"account_id":16877632,"reputation":2683,"user_id":12204620,"display_name":"Bitwise DEVS"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690997237,"creation_date":1664884632,"answer_id":73947524,"question_id":60861929,"body_markdown":"If you are developing a library/module you can use `consumer-rules.pro` to put rules to the consumer of your library. One example is when I created a common module that contains Moshi + Retrofit and enabled full mode R8. I need to add certain rules to for it to work in the consumer&#39;s project, I could either leave that task to consumer or I can put it in the library&#39;s `consumer-rules.pro` to make sure that every usage or all consumer of my library will not need to worry of adding a such rules on their project when using/consuming my library.","title":"What is the difference between consumer-rules.pro and proguard-rules.pro in Android?","body":"<p>If you are developing a library/module you can use <code>consumer-rules.pro</code> to put rules to the consumer of your library. One example is when I created a common module that contains Moshi + Retrofit and enabled full mode R8. I need to add certain rules to for it to work in the consumer's project, I could either leave that task to consumer or I can put it in the library's <code>consumer-rules.pro</code> to make sure that every usage or all consumer of my library will not need to worry of adding a such rules on their project when using/consuming my library.</p>\n"}],"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14836,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":60862591,"answer_count":2,"score":50,"last_activity_date":1690997237,"creation_date":1585203699,"question_id":60861929,"body_markdown":"I have create a module in Android to use in my main app and there seem to be two of these files \r\nconsumer-rules.pro and proguard-rules.pro. \r\n\r\nI would like to know the folllowing things\r\n\r\n 1. Will all of the modules code be obfuscated by the rules of the main modules pro-guard rules \r\n    even if the module does not specify any rules?\r\n 2. What is the difference between consumer-rules.pro and proguard-rules.pro in Android?\r\n 3. Should i enable minifyEnabled in my module?\r\n 4. I noticed that i can add proguard rules for my module in the main module , so does that mean\r\n    pro-guard rules in the module are overriden in the main module?\r\n\r\nPlease advise.","title":"What is the difference between consumer-rules.pro and proguard-rules.pro in Android?","body":"<p>I have create a module in Android to use in my main app and there seem to be two of these files \nconsumer-rules.pro and proguard-rules.pro. </p>\n\n<p>I would like to know the folllowing things</p>\n\n<ol>\n<li>Will all of the modules code be obfuscated by the rules of the main modules pro-guard rules \neven if the module does not specify any rules?</li>\n<li>What is the difference between consumer-rules.pro and proguard-rules.pro in Android?</li>\n<li>Should i enable minifyEnabled in my module?</li>\n<li>I noticed that i can add proguard rules for my module in the main module , so does that mean\npro-guard rules in the module are overriden in the main module?</li>\n</ol>\n\n<p>Please advise.</p>\n"},{"tags":["java","apache-spark","java-17"],"comments":[{"owner":{"account_id":7288242,"reputation":557,"user_id":5555637,"display_name":"combinatorist"},"score":0,"creation_date":1673292061,"post_id":72724816,"comment_id":132461854,"body_markdown":"FWIW, it actually broke for me in 3.2.3 and was fixed in 3.3.1.","body":"FWIW, it actually broke for me in 3.2.3 and was fixed in 3.3.1."},{"owner":{"account_id":7288242,"reputation":557,"user_id":5555637,"display_name":"combinatorist"},"score":0,"creation_date":1675371521,"post_id":72724816,"comment_id":132920684,"body_markdown":"That was it works from spark-submit, but not if I try to run it via sbt test in unit (actually acceptance/integration) tests, even in local mode (cluster or client mode).","body":"That was it works from spark-submit, but not if I try to run it via sbt test in unit (actually acceptance/integration) tests, even in local mode (cluster or client mode)."}],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1661720776,"post_id":72724817,"comment_id":129833311,"body_markdown":"Is there a Spark ticket open to fix this?","body":"Is there a Spark ticket open to fix this?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1661725999,"post_id":72724817,"comment_id":129834046,"body_markdown":"Surely those options are overkill. Does someone want to investigate further. I imagine most of options would work with `--add-exports` instead of `--add-opens` (see [docs](https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html)), because surely Spark isn&#39;t using reflection on all those packages. For a simple use case of reading CSV files and saving to JSON locally, just `--add-exports java.base/sun.nio.ch=ALL-UNNAMED` is working for me. Still we shouldn&#39;t have this problem in the first place. Does Spark intend to fix this?","body":"Surely those options are overkill. Does someone want to investigate further. I imagine most of options would work with <code>--add-exports</code> instead of <code>--add-opens</code> (see <a href=\"https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html\" rel=\"nofollow noreferrer\">docs</a>), because surely Spark isn&#39;t using reflection on all those packages. For a simple use case of reading CSV files and saving to JSON locally, just <code>--add-exports java.base&#47;sun.nio.ch=ALL-UNNAMED</code> is working for me. Still we shouldn&#39;t have this problem in the first place. Does Spark intend to fix this?"},{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":0,"creation_date":1661726730,"post_id":72724817,"comment_id":129834136,"body_markdown":"@GarretWilson The link to the `user@spark.apache.org` [mailing list discussion](https://lists.apache.org/thread/814cpb1rpp73zkhtv9t4mkzzrznl82yn) is in the answer if you want to take up the discussion with Yang Jie further.","body":"@GarretWilson The link to the <code>user@spark.apache.org</code> <a href=\"https://lists.apache.org/thread/814cpb1rpp73zkhtv9t4mkzzrznl82yn\" rel=\"nofollow noreferrer\">mailing list discussion</a> is in the answer if you want to take up the discussion with Yang Jie further."},{"owner":{"account_id":7288242,"reputation":557,"user_id":5555637,"display_name":"combinatorist"},"score":0,"creation_date":1675371608,"post_id":72724817,"comment_id":132920698,"body_markdown":"This would be for a spark-submit, but can we fix this in scala code/testing (kicked off with sbt)?","body":"This would be for a spark-submit, but can we fix this in scala code/testing (kicked off with sbt)?"}],"tags":[],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1656021333,"creation_date":1655960961,"answer_id":72724817,"question_id":72724816,"body_markdown":"Even though Spark now supports Java 17, it still references the JDK internal class `sun.nio.ch.DirectBuffer`:\r\n\r\n```\r\n  // In Java 8, the type of DirectBuffer.cleaner() was sun.misc.Cleaner, and it was possible\r\n  // to access the method sun.misc.Cleaner.clean() to invoke it. The type changed to\r\n  // jdk.internal.ref.Cleaner in later JDKs, and the .clean() method is not accessible even with\r\n  // reflection. However sun.misc.Unsafe added a invokeCleaner() method in JDK 9+ and this is\r\n  // still accessible with reflection.\r\n  private val bufferCleaner: DirectBuffer =&gt; Unit = [...]\r\n``` \r\n\r\nUnder the Java module system, access to this class is restricted.  The [Java 9 migration guide][1] says:\r\n\r\n&gt; If you must use an internal API that has been made inaccessible by default, then you can break encapsulation using the --add-exports command-line option.\r\n\r\nWe need to open access to our module.  To do this for Surefire, we add this configuration to the plugin:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;argLine&gt;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&lt;/argLine&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBased on a [discussion with one of the Spark developers][2], Spark adds the following in order to execute all of its internal unit tests.\r\n\r\n&gt; These options are used to pass all Spark UTs, but maybe you don&#39;t need all.\r\n\r\n```\r\n--add-opens=java.base/java.lang=ALL-UNNAMED\r\n--add-opens=java.base/java.lang.invoke=ALL-UNNAMED\r\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\r\n--add-opens=java.base/java.io=ALL-UNNAMED\r\n--add-opens=java.base/java.net=ALL-UNNAMED\r\n--add-opens=java.base/java.nio=ALL-UNNAMED\r\n--add-opens=java.base/java.util=ALL-UNNAMED\r\n--add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\r\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n--add-opens=java.base/sun.nio.cs=ALL-UNNAMED\r\n--add-opens=java.base/sun.security.action=ALL-UNNAMED\r\n--add-opens=java.base/sun.util.calendar=ALL-UNNAMED\r\n```\r\n\r\nIt was also commented:\r\n\r\n&gt; However, these Options needn&#39;t explicit add when using spark-shell, spark-sql and spark-submit\r\n\r\n[1]: https://docs.oracle.com/javase/9/migrate/toc.htm\r\n[2]: https://lists.apache.org/thread/814cpb1rpp73zkhtv9t4mkzzrznl82yn","title":"Running unit tests with Spark 3.3.0 on Java 17 fails with IllegalAccessError: class StorageUtils cannot access class sun.nio.ch.DirectBuffer","body":"<p>Even though Spark now supports Java 17, it still references the JDK internal class <code>sun.nio.ch.DirectBuffer</code>:</p>\n<pre><code>  // In Java 8, the type of DirectBuffer.cleaner() was sun.misc.Cleaner, and it was possible\n  // to access the method sun.misc.Cleaner.clean() to invoke it. The type changed to\n  // jdk.internal.ref.Cleaner in later JDKs, and the .clean() method is not accessible even with\n  // reflection. However sun.misc.Unsafe added a invokeCleaner() method in JDK 9+ and this is\n  // still accessible with reflection.\n  private val bufferCleaner: DirectBuffer =&gt; Unit = [...]\n</code></pre>\n<p>Under the Java module system, access to this class is restricted.  The <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm\" rel=\"noreferrer\">Java 9 migration guide</a> says:</p>\n<blockquote>\n<p>If you must use an internal API that has been made inaccessible by default, then you can break encapsulation using the --add-exports command-line option.</p>\n</blockquote>\n<p>We need to open access to our module.  To do this for Surefire, we add this configuration to the plugin:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M7&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;argLine&gt;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&lt;/argLine&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Based on a <a href=\"https://lists.apache.org/thread/814cpb1rpp73zkhtv9t4mkzzrznl82yn\" rel=\"noreferrer\">discussion with one of the Spark developers</a>, Spark adds the following in order to execute all of its internal unit tests.</p>\n<blockquote>\n<p>These options are used to pass all Spark UTs, but maybe you don't need all.</p>\n</blockquote>\n<pre><code>--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.lang.invoke=ALL-UNNAMED\n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/java.nio=ALL-UNNAMED\n--add-opens=java.base/java.util=ALL-UNNAMED\n--add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/sun.nio.cs=ALL-UNNAMED\n--add-opens=java.base/sun.security.action=ALL-UNNAMED\n--add-opens=java.base/sun.util.calendar=ALL-UNNAMED\n</code></pre>\n<p>It was also commented:</p>\n<blockquote>\n<p>However, these Options needn't explicit add when using spark-shell, spark-sql and spark-submit</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"score":0,"creation_date":1672760544,"post_id":73799321,"comment_id":132344544,"body_markdown":"How can I add the options inside supark-submit.cmd so that I can use pyspark inside my IDE (PyCharm)?","body":"How can I add the options inside supark-submit.cmd so that I can use pyspark inside my IDE (PyCharm)?"},{"owner":{"account_id":7288242,"reputation":557,"user_id":5555637,"display_name":"combinatorist"},"score":0,"creation_date":1673291154,"post_id":73799321,"comment_id":132461595,"body_markdown":"The single adjustment (first option) worked for me. Thanks!","body":"The single adjustment (first option) worked for me. Thanks!"},{"owner":{"account_id":7288242,"reputation":557,"user_id":5555637,"display_name":"combinatorist"},"score":0,"creation_date":1675373590,"post_id":73799321,"comment_id":132921180,"body_markdown":"To clarify, it worked for me for a spark-submit with spark 3.2, but I&#39;m still not seeing anywhere in this answer how to run scala tests (like with sbt) on a spark project. Even with spark 3.3, I still get the OP&#39;s error, so something is configured differently with `sbt test` than a `spark-submit --master=local[*]`.","body":"To clarify, it worked for me for a spark-submit with spark 3.2, but I&#39;m still not seeing anywhere in this answer how to run scala tests (like with sbt) on a spark project. Even with spark 3.3, I still get the OP&#39;s error, so something is configured differently with <code>sbt test</code> than a <code>spark-submit --master=local[*]</code>."}],"tags":[],"owner":{"account_id":185892,"reputation":2062,"user_id":422894,"accept_rate":20,"display_name":"Anton Andreev"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663758210,"creation_date":1663756640,"answer_id":73799321,"question_id":72724816,"body_markdown":"Based on the discussions above I am using:\r\n\r\n    %SPARK_HOME%\\bin\\spark-submit.cmd --driver-java-options &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot; spark_ml_heart.py\r\n\r\nwith a single `--add-exports` to run a Python script on Spark 3.2.1 on Java 17. \r\n\r\nYou may need the full version with all `--add-exports`:\r\n\r\n    %SPARK_HOME%\\bin\\spark-submit.cmd --driver-java-options &quot;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED&quot; spark_ml_heart.py","title":"Running unit tests with Spark 3.3.0 on Java 17 fails with IllegalAccessError: class StorageUtils cannot access class sun.nio.ch.DirectBuffer","body":"<p>Based on the discussions above I am using:</p>\n<pre><code>%SPARK_HOME%\\bin\\spark-submit.cmd --driver-java-options &quot;--add-exports java.base/sun.nio.ch=ALL-UNNAMED&quot; spark_ml_heart.py\n</code></pre>\n<p>with a single <code>--add-exports</code> to run a Python script on Spark 3.2.1 on Java 17.</p>\n<p>You may need the full version with all <code>--add-exports</code>:</p>\n<pre><code>%SPARK_HOME%\\bin\\spark-submit.cmd --driver-java-options &quot;--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.nio=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED --add-opens=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/sun.nio.cs=ALL-UNNAMED --add-opens=java.base/sun.security.action=ALL-UNNAMED --add-opens=java.base/sun.util.calendar=ALL-UNNAMED&quot; spark_ml_heart.py\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14386851,"reputation":141,"user_id":10392603,"display_name":"Oscar Drai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680023868,"creation_date":1673567751,"answer_id":75103523,"question_id":72724816,"body_markdown":"After fixing some of these errors, I got an error with the KryoSerializer:\r\n\r\n    java.lang.IllegalArgumentException: Unable to create serializer &quot;com.esotericsoftware.kryo.serializers.FieldSerializer&quot; for class: java.nio.HeapByteBuffer\r\n\r\nI got around this issue by adding some of the VM arguments aforementioned by @Greg Kopff to my pom.xml (I am using maven):\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${scalatest-maven-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;argLine&gt;\r\n                    --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\r\n                    --add-opens=java.base/java.nio=ALL-UNNAMED\r\n                    --add-opens=java.base/java.util=ALL-UNNAMED\r\n                    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n                &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;","title":"Running unit tests with Spark 3.3.0 on Java 17 fails with IllegalAccessError: class StorageUtils cannot access class sun.nio.ch.DirectBuffer","body":"<p>After fixing some of these errors, I got an error with the KryoSerializer:</p>\n<pre><code>java.lang.IllegalArgumentException: Unable to create serializer &quot;com.esotericsoftware.kryo.serializers.FieldSerializer&quot; for class: java.nio.HeapByteBuffer\n</code></pre>\n<p>I got around this issue by adding some of the VM arguments aforementioned by @Greg Kopff to my pom.xml (I am using maven):</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n        &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${scalatest-maven-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;argLine&gt;\n                --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\n                --add-opens=java.base/java.nio=ALL-UNNAMED\n                --add-opens=java.base/java.util=ALL-UNNAMED\n                --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n            &lt;/argLine&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11495,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":72724817,"answer_count":3,"score":12,"last_activity_date":1690996615,"creation_date":1655960961,"question_id":72724816,"body_markdown":"According to the [release notes][1], and specifically the ticket _Build and Run Spark on Java 17 ([SPARK-33772][2])_, Spark now supports running on Java 17.\r\n\r\nHowever, using Java 17 (Temurin-17.0.3+7) with Maven (3.8.6) and maven-surefire-plugin (3.0.0-M7), when running a unit test that uses Spark (3.3.0) it fails with:\r\n\r\n&gt; `java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x1e7ba8d9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x1e7ba8d9`\r\n\r\nThe stack is:\r\n\r\n```\r\njava.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x1e7ba8d9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x1e7ba8d9\r\n  at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\r\n  at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\r\n  at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:114)\r\n  at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:353)\r\n  at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:290)\r\n  at org.apache.spark.SparkEnv$.create(SparkEnv.scala:339)\r\n  at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:194)\r\n  at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:279)\r\n  at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:464)\r\n  at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\r\n  at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\r\n  at scala.Option.getOrElse(Option.scala:189)\r\n  at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\r\n  [...]\r\n```\r\n\r\nThe question [_Java 17 solution for Spark - java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils_][3] was asked only 2 months ago, but this pre-dated the Spark 3.3.0 release, and thus predated official support for Java 17.  \r\n\r\nWhy can&#39;t I run my Spark 3.3.0 test with Java 17, and how can we fix it?\r\n\r\n\r\n\r\n\r\n\r\n\r\n[1]: https://spark.apache.org/releases/spark-release-3-3-0.html\r\n[2]: https://issues.apache.org/jira/browse/SPARK-33772\r\n[3]: https://stackoverflow.com/questions/72230174","title":"Running unit tests with Spark 3.3.0 on Java 17 fails with IllegalAccessError: class StorageUtils cannot access class sun.nio.ch.DirectBuffer","body":"<p>According to the <a href=\"https://spark.apache.org/releases/spark-release-3-3-0.html\" rel=\"noreferrer\">release notes</a>, and specifically the ticket <em>Build and Run Spark on Java 17 (<a href=\"https://issues.apache.org/jira/browse/SPARK-33772\" rel=\"noreferrer\">SPARK-33772</a>)</em>, Spark now supports running on Java 17.</p>\n<p>However, using Java 17 (Temurin-17.0.3+7) with Maven (3.8.6) and maven-surefire-plugin (3.0.0-M7), when running a unit test that uses Spark (3.3.0) it fails with:</p>\n<blockquote>\n<p><code>java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x1e7ba8d9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x1e7ba8d9</code></p>\n</blockquote>\n<p>The stack is:</p>\n<pre><code>java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x1e7ba8d9) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x1e7ba8d9\n  at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)\n  at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\n  at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:114)\n  at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:353)\n  at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:290)\n  at org.apache.spark.SparkEnv$.create(SparkEnv.scala:339)\n  at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:194)\n  at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:279)\n  at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:464)\n  at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2704)\n  at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$2(SparkSession.scala:953)\n  at scala.Option.getOrElse(Option.scala:189)\n  at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:947)\n  [...]\n</code></pre>\n<p>The question <a href=\"https://stackoverflow.com/questions/72230174\"><em>Java 17 solution for Spark - java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils</em></a> was asked only 2 months ago, but this pre-dated the Spark 3.3.0 release, and thus predated official support for Java 17.</p>\n<p>Why can't I run my Spark 3.3.0 test with Java 17, and how can we fix it?</p>\n"},{"tags":["java","spring","validation","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1425679928,"post_id":28908368,"comment_id":46076425,"body_markdown":"Model attributes are request attributes. They only exist in one request-response cycle. You&#39;re performing a redirect. That is two request-response cycles.","body":"Model attributes are request attributes. They only exist in one request-response cycle. You&#39;re performing a redirect. That is two request-response cycles."},{"owner":{"account_id":3553933,"reputation":8812,"user_id":2968101,"accept_rate":50,"display_name":"mfrachet"},"score":0,"creation_date":1425711962,"post_id":28908368,"comment_id":46083210,"body_markdown":"It doesnt work even if I dont redirect and only return the concerned view :-/. And according to the tutorial ( http://spring.io/guides/gs/validating-form-input/) redirection could work no ? Thanks for your reply by the way :-)","body":"It doesnt work even if I dont redirect and only return the concerned view :-/. And according to the tutorial ( <a href=\"http://spring.io/guides/gs/validating-form-input/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/validating-form-input</a>) redirection could work no ? Thanks for your reply by the way :-)"}],"answers":[{"comments":[{"owner":{"account_id":3553933,"reputation":8812,"user_id":2968101,"accept_rate":50,"display_name":"mfrachet"},"score":0,"creation_date":1425714319,"post_id":28912404,"comment_id":46083641,"body_markdown":"Thanks for this, it&#39;s clearer in my mind. But the fact is that I&#39;ve the same problem and that I even don&#39;t pass in the controller when I&#39;m getting a bad validation field :-/","body":"Thanks for this, it&#39;s clearer in my mind. But the fact is that I&#39;ve the same problem and that I even don&#39;t pass in the controller when I&#39;m getting a bad validation field :-/"},{"owner":{"account_id":3553933,"reputation":8812,"user_id":2968101,"accept_rate":50,"display_name":"mfrachet"},"score":0,"creation_date":1425717568,"post_id":28912404,"comment_id":46084320,"body_markdown":"Not solved in fact. I always have the problem, and Editted my post.","body":"Not solved in fact. I always have the problem, and Editted my post."}],"tags":[],"owner":{"account_id":1066298,"reputation":3742,"user_id":1066779,"accept_rate":89,"display_name":"Abhishek Nayak"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1425712664,"creation_date":1425712344,"answer_id":28912404,"question_id":28908368,"body_markdown":"&gt; How should I do to manage my redirection correctly ?\r\n\r\nWhen you redirect a request, then the current request destroyed, and a new request object is created to process the request, so as per Sotirios Delimanolis has mentioned in comment, that model attributes are request attributes, which are available for per request only, If you want to store model attributes in the HTTP session between requests use [@SessionAttributes][1], or a [FlashAttributes][2].\r\n\r\n\r\nAs per your html form you have:\r\n\r\n    &lt;p th:if=&quot;${#fields.hasErrors(&#39;name&#39;)}&quot; th:errors=&quot;*{name}&quot;&gt;Name Error&lt;/p&gt;\r\n\r\nyou mean you want to show validation errors in the same page, then don&#39;t redirect return the same view.\r\n\r\n    if (bindingResult.hasErrors()) {\r\n        //return &quot;redirect:/formPrinter&quot;;\r\n        return &quot;your html form view&quot;;\r\n    }\r\n\r\nthen, on your view you can render all validation error messages like:\r\n\r\n    &lt;p th:each=&quot;err : ${#fields.errors(&#39;*&#39;)}&quot; th:text=&quot;${err}&quot;&gt;&lt;/p&gt; \r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-sessionattrib\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-flash-attributes","title":"Spring validator annotation and error redirection","body":"<blockquote>\n  <p>How should I do to manage my redirection correctly ?</p>\n</blockquote>\n\n<p>When you redirect a request, then the current request destroyed, and a new request object is created to process the request, so as per Sotirios Delimanolis has mentioned in comment, that model attributes are request attributes, which are available for per request only, If you want to store model attributes in the HTTP session between requests use <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-ann-sessionattrib\" rel=\"nofollow\">@SessionAttributes</a>, or a <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-flash-attributes\" rel=\"nofollow\">FlashAttributes</a>.</p>\n\n<p>As per your html form you have:</p>\n\n<pre><code>&lt;p th:if=\"${#fields.hasErrors('name')}\" th:errors=\"*{name}\"&gt;Name Error&lt;/p&gt;\n</code></pre>\n\n<p>you mean you want to show validation errors in the same page, then don't redirect return the same view.</p>\n\n<pre><code>if (bindingResult.hasErrors()) {\n    //return \"redirect:/formPrinter\";\n    return \"your html form view\";\n}\n</code></pre>\n\n<p>then, on your view you can render all validation error messages like:</p>\n\n<pre><code>&lt;p th:each=\"err : ${#fields.errors('*')}\" th:text=\"${err}\"&gt;&lt;/p&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20758982,"reputation":1,"user_id":15244662,"display_name":"imacd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613758669,"creation_date":1613758669,"answer_id":66282943,"question_id":28908368,"body_markdown":"I had the same problem and it was solved by reordering the parameters in my @PostMapping method to (@Valid @ModelAttribute Form form, BindingResult bindingResult, Model model)\r\n\r\nWhen the params were in the same order as your controller (@Valid @ModelAttribute Form form, Model model, BindingResult bindingResult) I was also redirected to /error without the controller @PostMethod being called.","title":"Spring validator annotation and error redirection","body":"<p>I had the same problem and it was solved by reordering the parameters in my @PostMapping method to (@Valid @ModelAttribute Form form, BindingResult bindingResult, Model model)</p>\n<p>When the params were in the same order as your controller (@Valid @ModelAttribute Form form, Model model, BindingResult bindingResult) I was also redirected to /error without the controller @PostMethod being called.</p>\n"},{"tags":[],"owner":{"account_id":19029355,"reputation":1,"user_id":13891789,"display_name":"CarpeDiem1703"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690995926,"creation_date":1690995519,"answer_id":76822058,"question_id":28908368,"body_markdown":"Just a little addon to imacd&#39;s comment about the parameters&#39; order. As per [Spring Boot Reference](https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/modelattrib-method-args.html), BindingResult parameter should be added **immediately** next to @ModelAttribute in the parameters list of @RequestMapping method. Then Spring processes as expected and injects binding result to the model attribute instead of redirecting to the error page.\r\nSo if by any chance you need to add other parameters (i.e. HttpServletRequest, Model or whatever) do it before @ModelAttribute or after BindingResult, but not between them.","title":"Spring validator annotation and error redirection","body":"<p>Just a little addon to imacd's comment about the parameters' order. As per <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/modelattrib-method-args.html\" rel=\"nofollow noreferrer\">Spring Boot Reference</a>, BindingResult parameter should be added <strong>immediately</strong> next to @ModelAttribute in the parameters list of @RequestMapping method. Then Spring processes as expected and injects binding result to the model attribute instead of redirecting to the error page.\nSo if by any chance you need to add other parameters (i.e. HttpServletRequest, Model or whatever) do it before @ModelAttribute or after BindingResult, but not between them.</p>\n"}],"owner":{"account_id":3553933,"reputation":8812,"user_id":2968101,"accept_rate":50,"display_name":"mfrachet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28912404,"answer_count":3,"score":0,"last_activity_date":1690995926,"creation_date":1425679046,"question_id":28908368,"body_markdown":"I m actually studying the Spring framework with Spring Boot and Sprint MVC.\r\nI m doing a form that post some data to complete an object, and I need to validate some values.\r\n\r\nThe fact is that the validation works, in fact, if I dont respect the validation, I m &quot;redirected&quot; (not really in fact, the URL doesn&#39;t change) to the error.html content.\r\n\r\nHow should I do to manage my redirection correctly ? This doesn&#39;t work this way :\r\n\r\n    @RequestMapping(value = &quot;/print&quot;, method = RequestMethod.POST)\r\n        public String printPost(@ModelAttribute(&quot;printerentity&quot;) @Valid PrinterEntity print, Model model, BindingResult bindingResult) {\r\n            if (bindingResult.hasErrors()) {\r\n                return &quot;redirect:/formPrinter&quot;;\r\n            }\r\n    \r\n            model.addAttribute(&quot;printed&quot;, print.getName());\r\n            model.addAttribute(&quot;printerentity&quot;, new PrinterEntity());\r\n    \r\n            return &quot;index&quot;;\r\n        }\r\n\r\nAnd the form :\r\n\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/print}&quot; th:object=&quot;${printerentity}&quot;&gt;\r\n        &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;/&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Valider&lt;/button&gt;\r\n    \r\n        &lt;p th:if=&quot;${#fields.hasErrors(&#39;name&#39;)}&quot; th:errors=&quot;*{name}&quot;&gt;Name Error&lt;/p&gt;\r\n    &lt;/form&gt;\r\n\r\nWhat am I doing wrong ?\r\n\r\nEDIT : It seems that when I have an error, I dont pass in the controller code :o =&gt;\r\n\r\n     @RequestMapping(value = &quot;/print&quot;, method = RequestMethod.POST)\r\n        public String printPost(@ModelAttribute(&quot;printerentity&quot;) @Valid PrinterEntity print, Model model, BindingResult bindingResult) {\r\n            System.out.println(&quot;I dont passe here when error but I m redirected&quot;);\r\n            if (bindingResult.hasErrors()) {\r\n                return &quot;formPrinter&quot;;\r\n            }\r\n    \r\n            model.addAttribute(&quot;printed&quot;, print.getName());\r\n            model.addAttribute(&quot;printerentity&quot;, new PrinterEntity());\r\n    \r\n            return &quot;index&quot;;\r\n        }\r\n\r\nthanks for advance","title":"Spring validator annotation and error redirection","body":"<p>I m actually studying the Spring framework with Spring Boot and Sprint MVC.\nI m doing a form that post some data to complete an object, and I need to validate some values.</p>\n\n<p>The fact is that the validation works, in fact, if I dont respect the validation, I m \"redirected\" (not really in fact, the URL doesn't change) to the error.html content.</p>\n\n<p>How should I do to manage my redirection correctly ? This doesn't work this way :</p>\n\n<pre><code>@RequestMapping(value = \"/print\", method = RequestMethod.POST)\n    public String printPost(@ModelAttribute(\"printerentity\") @Valid PrinterEntity print, Model model, BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            return \"redirect:/formPrinter\";\n        }\n\n        model.addAttribute(\"printed\", print.getName());\n        model.addAttribute(\"printerentity\", new PrinterEntity());\n\n        return \"index\";\n    }\n</code></pre>\n\n<p>And the form :</p>\n\n<pre><code>&lt;form method=\"post\" th:action=\"@{/print}\" th:object=\"${printerentity}\"&gt;\n    &lt;input type=\"text\" th:field=\"*{name}\"/&gt;\n    &lt;button type=\"submit\"&gt;Valider&lt;/button&gt;\n\n    &lt;p th:if=\"${#fields.hasErrors('name')}\" th:errors=\"*{name}\"&gt;Name Error&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n\n<p>EDIT : It seems that when I have an error, I dont pass in the controller code :o =></p>\n\n<pre><code> @RequestMapping(value = \"/print\", method = RequestMethod.POST)\n    public String printPost(@ModelAttribute(\"printerentity\") @Valid PrinterEntity print, Model model, BindingResult bindingResult) {\n        System.out.println(\"I dont passe here when error but I m redirected\");\n        if (bindingResult.hasErrors()) {\n            return \"formPrinter\";\n        }\n\n        model.addAttribute(\"printed\", print.getName());\n        model.addAttribute(\"printerentity\", new PrinterEntity());\n\n        return \"index\";\n    }\n</code></pre>\n\n<p>thanks for advance</p>\n"},{"tags":["java","amazon-web-services","scala","aws-cdk","amazon-vpc"],"answers":[{"tags":[],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690995806,"creation_date":1690974405,"answer_id":76819261,"question_id":76818985,"body_markdown":"Issue is related to `jsii` dependency:\r\n\r\nhttps://stackoverflow.com/a/76821623/1876739","title":"AWS CDK suddenly failing with Construct cannot be cast to class InterfaceVpcEndpoint","body":"<p>Issue is related to <code>jsii</code> dependency:</p>\n<p><a href=\"https://stackoverflow.com/a/76821623/1876739\">https://stackoverflow.com/a/76821623/1876739</a></p>\n"}],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690995806,"creation_date":1690972242,"question_id":76818985,"body_markdown":"As of yesterday my `cdk` code started returning an error:\r\n\r\n&gt; java.lang.ClassCastException: class software.constructs.Construct cannot be cast to class software.amazon.awscdk.services.ec2.InterfaceVpcEndpoint\r\n\r\nThis is being triggered by standard code that has not changed in months and has been deploying resources to AWS successfully:\r\n\r\n    import software.amazon.awscdk.services.ec2._\r\n\r\n    val myVpc = Vpc.Builder...build()\r\n\r\n    myVpc.addInterfaceEndpoint(\r\n      &quot;SecretsManagerEndpoint&quot;,\r\n      InterfaceVpcEndpointOptions\r\n        .builder()\r\n        .service(InterfaceVpcEndpointAwsService.SECRETS_MANAGER)\r\n        .privateDnsEnabled(true)\r\n        .build()\r\n    )\r\n\r\nI&#39;ve tried to revert the cdk npm package and reverting the `aws-cdk-lib` package that I&#39;m pulling from maven, but neither fixed the issue.\r\n\r\n**How can cdk be used to add an interface VPC endpoint without throwing a cast error?**\r\n\r\nThank you in advance for your consideration and response.","title":"AWS CDK suddenly failing with Construct cannot be cast to class InterfaceVpcEndpoint","body":"<p>As of yesterday my <code>cdk</code> code started returning an error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class software.constructs.Construct cannot be cast to class software.amazon.awscdk.services.ec2.InterfaceVpcEndpoint</p>\n</blockquote>\n<p>This is being triggered by standard code that has not changed in months and has been deploying resources to AWS successfully:</p>\n<pre><code>import software.amazon.awscdk.services.ec2._\n\nval myVpc = Vpc.Builder...build()\n\nmyVpc.addInterfaceEndpoint(\n  &quot;SecretsManagerEndpoint&quot;,\n  InterfaceVpcEndpointOptions\n    .builder()\n    .service(InterfaceVpcEndpointAwsService.SECRETS_MANAGER)\n    .privateDnsEnabled(true)\n    .build()\n)\n</code></pre>\n<p>I've tried to revert the cdk npm package and reverting the <code>aws-cdk-lib</code> package that I'm pulling from maven, but neither fixed the issue.</p>\n<p><strong>How can cdk be used to add an interface VPC endpoint without throwing a cast error?</strong></p>\n<p>Thank you in advance for your consideration and response.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"comments":[{"owner":{"account_id":3283619,"reputation":777,"user_id":2763598,"display_name":"Kaus2b"},"score":0,"creation_date":1650950597,"post_id":72008690,"comment_id":127238443,"body_markdown":"see if this helps\nhttps://stackoverflow.com/questions/53314552/java-instant-to-localdatetime-trailing-zero\nif that doesnt help you might need to use custom serializer using `@JsonGetter`","body":"see if this helps <a href=\"https://stackoverflow.com/questions/53314552/java-instant-to-localdatetime-trailing-zero\" title=\"java instant to localdatetime trailing zero\">stackoverflow.com/questions/53314552/&hellip;</a> if that doesnt help you might need to use custom serializer using <code>@JsonGetter</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1650960587,"post_id":72008690,"comment_id":127241301,"body_markdown":"That’s a pity. Your JSON string lives up to [the ISO 8601 standard](https://en.wikipedia.org/wiki/ISO_8601) nicely no matter if the trailing 0 is there or not, so any decent receiving system ought to accept it.","body":"That’s a pity. Your JSON string lives up to <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">the ISO 8601 standard</a> nicely no matter if the trailing 0 is there or not, so any decent receiving system ought to accept it."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1651027854,"post_id":72008690,"comment_id":127262000,"body_markdown":"Did you mean &quot;54.12453&quot; rather than &quot;54:12453&quot;? (FULL STOP versus COLON)","body":"Did you mean &quot;54.12453&quot; rather than &quot;54:12453&quot;? (FULL STOP versus COLON)"}],"answers":[{"tags":[],"owner":{"account_id":25084421,"reputation":141,"user_id":18936800,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650961892,"creation_date":1650961520,"answer_id":72010687,"question_id":72008690,"body_markdown":"LocaleDateTime class ha no static string format. It includes few options:\r\n\r\n- uuuu-MM-dd&#39;T&#39;HH:mm\r\n- uuuu-MM-dd&#39;T&#39;HH:mm:ss\r\n- uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS\r\n- uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS\r\n- uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS\r\n\r\nCustom Serialization will help you to achieve static output.\r\nIn example below I use a format with 6 milliseconds digits just like in your case.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @JsonDeserialize(using = BodyDeserializer.class)\r\n    @JsonSerialize(using = BodySerializer.class)\r\n    public class Body {\r\n\r\n        public static final DATE_FORMAT = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss:SSSSSS&quot;);\r\n        \r\n        private LocalDateTime myDate;\r\n\r\n        public Body(LocalDateTime myDate) {\r\n            this.myDate = myDate;\r\n        }\r\n\r\n        public StrLocalDateTimeing getMyDate() { return myDate; }\r\n    }\r\n\r\n    public class BodyDeserializer extends JsonDeserializer {\r\n\r\n        @Override\r\n        public User deserialize(JsonParser jsonParser,\r\n                DeserializationContext deserializationContext) throws IOException {\r\n            ObjectCodec oc = jsonParser.getCodec();\r\n            JsonNode node = oc.readTree(jsonParser);\r\n            String date = node.get(&quot;myDate&quot;);\r\n            LocalDateTime myDate = LocalDateTime.from(Body.DATE_FORMAT.parse(date))\r\n            return new Body(myDate),\r\n        }\r\n    }\r\n\r\n    public class BodySerializer extends JsonSerializer {\r\n\r\n        @Override\r\n        public void serialize(Body body, JsonGenerator jsonGenerator,\r\n                SerializerProvider serializerProvider) throws IOException {\r\n            jsonGenerator.writeStartObject();\r\n            \r\n            jsonGenerator.writeNumberField(&quot;myDate&quot;, Body.DATE_FORMAT.format(body.getMyDate()));\r\n            jsonGenerator.writeEndObject();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Jackson and LocalDateTime: Trailing zeros are removed","body":"<p>LocaleDateTime class ha no static string format. It includes few options:</p>\n<ul>\n<li>uuuu-MM-dd'T'HH:mm</li>\n<li>uuuu-MM-dd'T'HH:mm:ss</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSS</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSSSSS</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSS</li>\n</ul>\n<p>Custom Serialization will help you to achieve static output.\nIn example below I use a format with 6 milliseconds digits just like in your case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using = BodyDeserializer.class)\n@JsonSerialize(using = BodySerializer.class)\npublic class Body {\n\n    public static final DATE_FORMAT = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss:SSSSSS&quot;);\n    \n    private LocalDateTime myDate;\n\n    public Body(LocalDateTime myDate) {\n        this.myDate = myDate;\n    }\n\n    public StrLocalDateTimeing getMyDate() { return myDate; }\n}\n\npublic class BodyDeserializer extends JsonDeserializer {\n\n    @Override\n    public User deserialize(JsonParser jsonParser,\n            DeserializationContext deserializationContext) throws IOException {\n        ObjectCodec oc = jsonParser.getCodec();\n        JsonNode node = oc.readTree(jsonParser);\n        String date = node.get(&quot;myDate&quot;);\n        LocalDateTime myDate = LocalDateTime.from(Body.DATE_FORMAT.parse(date))\n        return new Body(myDate),\n    }\n}\n\npublic class BodySerializer extends JsonSerializer {\n\n    @Override\n    public void serialize(Body body, JsonGenerator jsonGenerator,\n            SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeStartObject();\n        \n        jsonGenerator.writeNumberField(&quot;myDate&quot;, Body.DATE_FORMAT.format(body.getMyDate()));\n        jsonGenerator.writeEndObject();\n    }\n}\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":468916,"reputation":76,"user_id":875170,"display_name":"Boyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690995212,"creation_date":1690995212,"answer_id":76822024,"question_id":72008690,"body_markdown":"You can use @JsonFormat to suppress the removal of trailing zeros.\r\n\r\n    public class Transaction {\r\n\r\n        import com.fasterxml.jackson.annotation.JsonFormat;\r\n        //...\r\n\r\n        @JsonFormat(\r\n            shape = JsonFormat.Shape.STRING,\r\n            pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&quot;)\r\n        public LocalDateTime dateTime;\r\n\r\n    }\r\n\r\nMy use case of the above code is for json kafka serializer.","title":"Jackson and LocalDateTime: Trailing zeros are removed","body":"<p>You can use @JsonFormat to suppress the removal of trailing zeros.</p>\n<pre><code>public class Transaction {\n\n    import com.fasterxml.jackson.annotation.JsonFormat;\n    //...\n\n    @JsonFormat(\n        shape = JsonFormat.Shape.STRING,\n        pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSSSS&quot;)\n    public LocalDateTime dateTime;\n\n}\n</code></pre>\n<p>My use case of the above code is for json kafka serializer.</p>\n"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1690995212,"creation_date":1650950084,"question_id":72008690,"body_markdown":"I am using Jackson inside my Spring Boot project for generator JSON. \r\nIn my Java class I am using `private LocalDateTime timestamp;` Jackson converts it to JSON. \r\nWhen timestamp contains for example: `2022-04-26T05:59:54:124530`the JSON Object will receive `2022-04-26T05:59:54:12453`\r\n\r\nThis causes an error in my receiving system which cannnot work with this date format. Unfortunantelly I am not able to change the receiving system. \r\n\r\nIs there a way I can Jackson tell not to remove the zeros at the end? ","title":"Jackson and LocalDateTime: Trailing zeros are removed","body":"<p>I am using Jackson inside my Spring Boot project for generator JSON.\nIn my Java class I am using <code>private LocalDateTime timestamp;</code> Jackson converts it to JSON.\nWhen timestamp contains for example: <code>2022-04-26T05:59:54:124530</code>the JSON Object will receive <code>2022-04-26T05:59:54:12453</code></p>\n<p>This causes an error in my receiving system which cannnot work with this date format. Unfortunantelly I am not able to change the receiving system.</p>\n<p>Is there a way I can Jackson tell not to remove the zeros at the end?</p>\n"},{"tags":["java","if-statement","anti-patterns"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690977653,"post_id":76819514,"comment_id":135427460,"body_markdown":"I&#39;m not sure what &quot;clean out different else blocks&quot; or &quot;focus on else-blocks which have diferent functionality&quot; mean. Can you explain more?","body":"I&#39;m not sure what &quot;clean out different else blocks&quot; or &quot;focus on else-blocks which have diferent functionality&quot; mean. Can you explain more?"},{"owner":{"account_id":29143840,"reputation":3,"user_id":22326222,"display_name":"Sergio L&#243;pez L&#243;pez"},"score":0,"creation_date":1690994695,"post_id":76819514,"comment_id":135431665,"body_markdown":"Yeah of course, what i meant is that i had seen solutions that focus on reducing the number of if-blocks or arranging them in a more elegant way so the code is easier to follow and maintain but i hadnt seen any solutions focusing on reducing the number of else-blocks or simply making the arrangement more readable and elegant.\n\nA lot of solutions simply dont care about what is in the else-blocks (obviusly because it is not relevant in their code) but in the code im proposing the else-blocks contain code that is not just the defaultFunction. I hope i have explained myself correcly this time :)","body":"Yeah of course, what i meant is that i had seen solutions that focus on reducing the number of if-blocks or arranging them in a more elegant way so the code is easier to follow and maintain but i hadnt seen any solutions focusing on reducing the number of else-blocks or simply making the arrangement more readable and elegant.  A lot of solutions simply dont care about what is in the else-blocks (obviusly because it is not relevant in their code) but in the code im proposing the else-blocks contain code that is not just the defaultFunction. I hope i have explained myself correcly this time :)"}],"answers":[{"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1690982557,"post_id":76819618,"comment_id":135428669,"body_markdown":"You should be able to omit the return statements since there is no fall-through behavior with the if-else blocks.","body":"You should be able to omit the return statements since there is no fall-through behavior with the if-else blocks."}],"tags":[],"owner":{"account_id":22581504,"reputation":100,"user_id":16766083,"display_name":"LarsJaeger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690977388,"creation_date":1690977388,"answer_id":76819618,"question_id":76819514,"body_markdown":"It heavily depends on the type of conditions. Without further knowledge of the code logic, you could look at early returns, which could look something like this:\r\n```python\r\nif (not condition1) {\r\n    //do something if condition 1 is NOT met\r\n\r\n    return; //only required if language does not support else if\r\n}\r\nelse if (not condition2) {\r\n    //do something if condition 2 is NOT met\r\n\r\n    return; //only required if language does not support else if\r\n}\r\nelse if (not condition3) {\r\n    //do something if condition 3 is NOT met\r\n\r\n    return; //only required if language does not support else if\r\n}\r\nelse {\r\n    //do something if all three conditions are met\r\n    \r\n    return;\r\n}\r\n```","title":"How can i reduce an Arrow head type if statement with 3 different else`s?","body":"<p>It heavily depends on the type of conditions. Without further knowledge of the code logic, you could look at early returns, which could look something like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>if (not condition1) {\n    //do something if condition 1 is NOT met\n\n    return; //only required if language does not support else if\n}\nelse if (not condition2) {\n    //do something if condition 2 is NOT met\n\n    return; //only required if language does not support else if\n}\nelse if (not condition3) {\n    //do something if condition 3 is NOT met\n\n    return; //only required if language does not support else if\n}\nelse {\n    //do something if all three conditions are met\n    \n    return;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690992460,"post_id":76819873,"comment_id":135431183,"body_markdown":"You don&#39;t even need early return for this, chaining if .. else if .. else if ... would also work.","body":"You don&#39;t even need early return for this, chaining if .. else if .. else if ... would also work."}],"tags":[],"owner":{"account_id":7868017,"reputation":66,"user_id":5946263,"display_name":"Boldi Istvan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690979127,"creation_date":1690979127,"answer_id":76819873,"question_id":76819514,"body_markdown":"Using early returns, you can simplify your logic to this:\r\n```\r\n if (!condition1) {\r\n    //do something if condition 1 is NOT met\r\n\treturn;\r\n }\r\n \r\n if (!condition2) {\r\n\t//do something if condition 2 is NOT met\r\n\treturn;\r\n }\r\n \r\n if(condition3) {\r\n\t//do something if the 3 conditions are met\r\n } else {\r\n    //do something if condition 3 is NOT met      \r\n }\r\n```","title":"How can i reduce an Arrow head type if statement with 3 different else`s?","body":"<p>Using early returns, you can simplify your logic to this:</p>\n<pre><code> if (!condition1) {\n    //do something if condition 1 is NOT met\n    return;\n }\n \n if (!condition2) {\n    //do something if condition 2 is NOT met\n    return;\n }\n \n if(condition3) {\n    //do something if the 3 conditions are met\n } else {\n    //do something if condition 3 is NOT met      \n }\n</code></pre>\n"}],"owner":{"account_id":29143840,"reputation":3,"user_id":22326222,"display_name":"Sergio L&#243;pez L&#243;pez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76819618,"answer_count":2,"score":0,"last_activity_date":1690995142,"creation_date":1690976627,"question_id":76819514,"body_markdown":"im going to try to explain myself in the best way possible, i have a method that looks like this:\r\n\r\n```\r\nif(condition1)\r\n\tif(condition2) {\r\n\t\tif(condition3) {\r\n                      //do something if the 3 conditions are met\r\n\t\t}\r\n\t\telse {\r\n\t\t      //do something if condition 3 is NOT met\t\t\r\n\t\t}\t\r\n\t}\r\n\telse{\r\n                //do something if condition 2 is NOT met\r\n        } \t\t\t\t\r\nelse{\r\n        //do something if condition 1 is NOT met\r\n}\r\n```\r\n\r\n\r\nI have been having trouble expanding and maintaining this code and i have seen ways to prevent this anti-pattern from happening but the solutions only focused on how to refactor the code so the if-blocks came out more clean, but i havent seen any solutions aiming to clean out diferent else blocks and even less solutions that focus on else-blocks which have diferent functionality.\r\n\r\nI&#39;d be glad if any of you could enlight me on how to tackle this problem. Looking forward to your responses and thank you in advance :).\r\n\r\nEdit: i know there are a lot of ways to arreange these conditionals what im asking is the most correct way to do it so the code is a little easier to maintain ","title":"How can i reduce an Arrow head type if statement with 3 different else`s?","body":"<p>im going to try to explain myself in the best way possible, i have a method that looks like this:</p>\n<pre><code>if(condition1)\n    if(condition2) {\n        if(condition3) {\n                      //do something if the 3 conditions are met\n        }\n        else {\n              //do something if condition 3 is NOT met      \n        }   \n    }\n    else{\n                //do something if condition 2 is NOT met\n        }               \nelse{\n        //do something if condition 1 is NOT met\n}\n</code></pre>\n<p>I have been having trouble expanding and maintaining this code and i have seen ways to prevent this anti-pattern from happening but the solutions only focused on how to refactor the code so the if-blocks came out more clean, but i havent seen any solutions aiming to clean out diferent else blocks and even less solutions that focus on else-blocks which have diferent functionality.</p>\n<p>I'd be glad if any of you could enlight me on how to tackle this problem. Looking forward to your responses and thank you in advance :).</p>\n<p>Edit: i know there are a lot of ways to arreange these conditionals what im asking is the most correct way to do it so the code is a little easier to maintain</p>\n"},{"tags":["java","javafx","combobox"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1518539493,"post_id":48770915,"comment_id":84543861,"body_markdown":"Try setting the `value` to null.","body":"Try setting the <code>value</code> to null."},{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1527519424,"post_id":48770915,"comment_id":88147937,"body_markdown":"Setting the value to `null` clears the selection, but does not cause the prompt text to be displayed again. I have yet to find a way to force the prompt text to show after the value has been changed.","body":"Setting the value to <code>null</code> clears the selection, but does not cause the prompt text to be displayed again. I have yet to find a way to force the prompt text to show after the value has been changed."}],"owner":{"account_id":12939494,"reputation":1,"user_id":9355748,"display_name":"Mrp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690994944,"creation_date":1518537968,"question_id":48770915,"body_markdown":"i&#39;m currently having problem with ComboBox prompt text. setPromptText() works fine, the prompt text is changing until i select item from the ComboBox. After that if i do clear the ComboBox items with getItems().clear(), and set new prompt text with setPromtText(), the new prompt text is not displayed however getPromtText reveal it has been changed to proper one. Prompt text reappear only after changing currently set text to a different one. Is there any way to force update on ComboBox prompt text ?\r\n\r\n    public class Controller {\r\n    @FXML\r\n    ComboBox&lt;String&gt; textCombobox;\r\n    @FXML\r\n    Button but1;\r\n    @FXML\r\n    Button but2;\r\n\r\n    public void addStuff(){\r\n\r\n        textCombobox.setPromptText(&quot;Stuff Added&quot;);\r\n        textCombobox.getItems().add(&quot;Something 1&quot;);\r\n        textCombobox.getItems().add(&quot;Something 2&quot;);\r\n    }\r\n\r\n    public void clearStuff(){\r\n        textCombobox.getItems().clear();\r\n        textCombobox.setPromptText(&quot;CLEAR&quot;);\r\n    }\r\n","title":"javaFX combobox promttext dont display after selecting something and clearing combobox","body":"<p>i'm currently having problem with ComboBox prompt text. setPromptText() works fine, the prompt text is changing until i select item from the ComboBox. After that if i do clear the ComboBox items with getItems().clear(), and set new prompt text with setPromtText(), the new prompt text is not displayed however getPromtText reveal it has been changed to proper one. Prompt text reappear only after changing currently set text to a different one. Is there any way to force update on ComboBox prompt text ?</p>\n\n<pre><code>public class Controller {\n@FXML\nComboBox&lt;String&gt; textCombobox;\n@FXML\nButton but1;\n@FXML\nButton but2;\n\npublic void addStuff(){\n\n    textCombobox.setPromptText(\"Stuff Added\");\n    textCombobox.getItems().add(\"Something 1\");\n    textCombobox.getItems().add(\"Something 2\");\n}\n\npublic void clearStuff(){\n    textCombobox.getItems().clear();\n    textCombobox.setPromptText(\"CLEAR\");\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1690889686,"post_id":76811144,"comment_id":135413247,"body_markdown":"Please read [how to ask](https://stackoverflow.com/help/how-to-ask) and [minimum reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) pages.","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimum reproducible example</a> pages."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690891383,"post_id":76811144,"comment_id":135413619,"body_markdown":"@GiorgiTsiklauri What cant be reproduced?","body":"@GiorgiTsiklauri What cant be reproduced?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690898049,"post_id":76811144,"comment_id":135415156,"body_markdown":"Please add your POM to the question.","body":"Please add your POM to the question."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690898577,"post_id":76811144,"comment_id":135415321,"body_markdown":"@JFabianMeier Both from bytebuddy?  I have no pom.xml because I have no maven project.","body":"@JFabianMeier Both from bytebuddy?  I have no pom.xml because I have no maven project."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690903968,"post_id":76811144,"comment_id":135416519,"body_markdown":"The correct POM should be in the `byte-buddy` folder. You can compare it with the POM next to the JAR in the repository.","body":"The correct POM should be in the <code>byte-buddy</code> folder. You can compare it with the POM next to the JAR in the repository."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690904067,"post_id":76811144,"comment_id":135416550,"body_markdown":"@JFabianMeier Since I need to do this programatically, have you a source from an official reference?","body":"@JFabianMeier Since I need to do this programatically, have you a source from an official reference?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690905292,"post_id":76811144,"comment_id":135416780,"body_markdown":"What exactly are you trying to do programmatically? Find POMs for JARs in Maven Central?","body":"What exactly are you trying to do programmatically? Find POMs for JARs in Maven Central?"},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690907262,"post_id":76811144,"comment_id":135417144,"body_markdown":"@JFabianMeier No, I have a offline server who have no access to maven central. Someone gave me a thumbdrive having thousands of jars generated by maven to install them to the server.","body":"@JFabianMeier No, I have a offline server who have no access to maven central. Someone gave me a thumbdrive having thousands of jars generated by maven to install them to the server."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690907392,"post_id":76811144,"comment_id":135417167,"body_markdown":"Please ask a new question with that information.","body":"Please ask a new question with that information."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690907431,"post_id":76811144,"comment_id":135417176,"body_markdown":"@JFabianMeier No, this question is answerable.","body":"@JFabianMeier No, this question is answerable."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1690909887,"post_id":76811144,"comment_id":135417674,"body_markdown":"With a new question, I would a have written you an answer. This question is closed, and therefore I can&#39;t. So, good luck with your problem.","body":"With a new question, I would a have written you an answer. This question is closed, and therefore I can&#39;t. So, good luck with your problem."},{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1690986539,"post_id":76811144,"comment_id":135429751,"body_markdown":"@JFabianMeier You can answer now.","body":"@JFabianMeier You can answer now."}],"answers":[{"comments":[{"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1694740352,"post_id":76821947,"comment_id":135934435,"body_markdown":"`determine the groupId and artifactId` ok, how to do that?","body":"<code>determine the groupId and artifactId</code> ok, how to do that?"}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690994431,"creation_date":1690994431,"answer_id":76821947,"question_id":76811144,"body_markdown":"Maven puts the POMs into the directory `META-INF/maven/{groupId}/{artifactId}`.\r\n\r\nThere may be other POMs as well in `META-INF/maven`. These usually come from other JARs that are shaded into the original JAR.\r\n\r\nSo first determine the groupId and artifactId of the JAR, then look for the POM inside the JAR.","title":"Maven ususally place the pom.xml in the jar during build, but two different pom.xml?","body":"<p>Maven puts the POMs into the directory <code>META-INF/maven/{groupId}/{artifactId}</code>.</p>\n<p>There may be other POMs as well in <code>META-INF/maven</code>. These usually come from other JARs that are shaded into the original JAR.</p>\n<p>So first determine the groupId and artifactId of the JAR, then look for the POM inside the JAR.</p>\n"}],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"answer_count":1,"score":-7,"last_activity_date":1690994431,"creation_date":1690889047,"question_id":76811144,"body_markdown":"\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBoth folders have a pom.xml !\r\n--\r\n\r\nThe pom in the byte-buddy folder references the byte-buddy-dep&#39;s pom.\r\n\r\n  [1]: https://i.stack.imgur.com/XEoV1.png\r\n\r\n\r\nHow to identify the main pom.xml?\r\n\r\nThis is the jar: https://repo1.maven.org/maven2/net/bytebuddy/byte-buddy/1.10.17/byte-buddy-1.10.17.jar\r\n\r\nThe aim is to build a tool that analyses a large number of JARs and tries to find the POMs inside of them.\r\n","title":"Maven ususally place the pom.xml in the jar during build, but two different pom.xml?","body":"<p><a href=\"https://i.stack.imgur.com/XEoV1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XEoV1.png\" alt=\"enter image description here\" /></a></p>\n<h2>Both folders have a pom.xml !</h2>\n<p>The pom in the byte-buddy folder references the byte-buddy-dep's pom.</p>\n<p>How to identify the main pom.xml?</p>\n<p>This is the jar: <a href=\"https://repo1.maven.org/maven2/net/bytebuddy/byte-buddy/1.10.17/byte-buddy-1.10.17.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/net/bytebuddy/byte-buddy/1.10.17/byte-buddy-1.10.17.jar</a></p>\n<p>The aim is to build a tool that analyses a large number of JARs and tries to find the POMs inside of them.</p>\n"},{"tags":["java","css","javafx","datepicker","javafx-8"],"comments":[{"owner":{"account_id":5503196,"reputation":132,"user_id":4371908,"display_name":"KarlTheGreat"},"score":0,"creation_date":1499703228,"post_id":45016887,"comment_id":77007704,"body_markdown":"I don&#39;t know how to link other questions, and neither can find any resources on that in the webs...","body":"I don&#39;t know how to link other questions, and neither can find any resources on that in the webs..."},{"owner":{"account_id":5503196,"reputation":132,"user_id":4371908,"display_name":"KarlTheGreat"},"score":0,"creation_date":1499711213,"post_id":45016887,"comment_id":77012362,"body_markdown":"https://stackoverflow.com/questions/27229168/selecting-a-period-or-a-date-using-one-javafx-8-datepicker","body":"<a href=\"https://stackoverflow.com/questions/27229168/selecting-a-period-or-a-date-using-one-javafx-8-datepicker\" title=\"selecting a period or a date using one javafx 8 datepicker\">stackoverflow.com/questions/27229168/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5503196,"reputation":132,"user_id":4371908,"display_name":"KarlTheGreat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499877099,"creation_date":1499877099,"answer_id":45063201,"question_id":45016887,"body_markdown":"Don&#39;t add a listener to the property, just set `datePicker.onShown`.\r\n\r\n    //Get the content\r\n    datePicker.onShown(e -&gt; {\r\n            DatePickerContent content = (DatePickerContent)((DatePickerSkin)datePicker.getSkin()).getPopupContent();\r\n            content.lookupAll(&quot;.day-cell&quot;).forEach(cell -&gt; { \r\n                cell.getStyleClass().add(&quot;selected&quot;);\r\n            });\r\n    }","title":"DateCell not changing, after applying &quot;selected&quot; Style","body":"<p>Don't add a listener to the property, just set <code>datePicker.onShown</code>.</p>\n\n<pre><code>//Get the content\ndatePicker.onShown(e -&gt; {\n        DatePickerContent content = (DatePickerContent)((DatePickerSkin)datePicker.getSkin()).getPopupContent();\n        content.lookupAll(\".day-cell\").forEach(cell -&gt; { \n            cell.getStyleClass().add(\"selected\");\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":5503196,"reputation":132,"user_id":4371908,"display_name":"KarlTheGreat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45063201,"answer_count":1,"score":0,"last_activity_date":1690994066,"creation_date":1499703007,"question_id":45016887,"body_markdown":"I have a DatePicker and add this Listener.\r\n\r\n    datePicker.showingProperty().addListener((observable, oldValue, showing) -&gt; {\r\n            if(showing) {\r\n                //Get the content\r\n                DatePickerContent content = (DatePickerContent)((DatePickerSkin)datePicker.getSkin()).getPopupContent();\r\n                content.lookupAll(&quot;.day-cell&quot;).forEach(cell -&gt; { \r\n                    cell.getStyleClass().add(&quot;selected&quot;);\r\n                    System.out.println(cell.getStyleClass() + &quot; Day: &quot; + ((DateCell) cell).getItem());\r\n                });\r\n            }\r\n        });\r\n\r\n\r\nBut after showing the DatePicker and selecting a date, only one cell is shown as being selected.\r\n\r\n[![DatePicker with one day selected][1]][1]\r\n\r\nEven tough the styles printed out in the console all have &quot;selected&quot;, but what keeps me wondering, that the Cell which is really selected has 2 &quot;selected&quot; styles. \r\nThis is Console output (part of it): \r\n\r\n    cell date-cell day-cell selected Day: 2017-07-11\r\n    cell date-cell day-cell selected Day: 2017-07-12\r\n    cell date-cell day-cell selected selected Day: 2017-07-13\r\n    cell date-cell day-cell selected Day: 2017-07-14\r\n    cell date-cell day-cell selected Day: 2017-07-15\r\n\r\nSo why is only one Cell being displayed as selected?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ur9zh.png","title":"DateCell not changing, after applying &quot;selected&quot; Style","body":"<p>I have a DatePicker and add this Listener.</p>\n<pre><code>datePicker.showingProperty().addListener((observable, oldValue, showing) -&gt; {\n        if(showing) {\n            //Get the content\n            DatePickerContent content = (DatePickerContent)((DatePickerSkin)datePicker.getSkin()).getPopupContent();\n            content.lookupAll(&quot;.day-cell&quot;).forEach(cell -&gt; { \n                cell.getStyleClass().add(&quot;selected&quot;);\n                System.out.println(cell.getStyleClass() + &quot; Day: &quot; + ((DateCell) cell).getItem());\n            });\n        }\n    });\n</code></pre>\n<p>But after showing the DatePicker and selecting a date, only one cell is shown as being selected.</p>\n<p><a href=\"https://i.stack.imgur.com/ur9zh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ur9zh.png\" alt=\"DatePicker with one day selected\" /></a></p>\n<p>Even tough the styles printed out in the console all have &quot;selected&quot;, but what keeps me wondering, that the Cell which is really selected has 2 &quot;selected&quot; styles.\nThis is Console output (part of it):</p>\n<pre><code>cell date-cell day-cell selected Day: 2017-07-11\ncell date-cell day-cell selected Day: 2017-07-12\ncell date-cell day-cell selected selected Day: 2017-07-13\ncell date-cell day-cell selected Day: 2017-07-14\ncell date-cell day-cell selected Day: 2017-07-15\n</code></pre>\n<p>So why is only one Cell being displayed as selected?</p>\n"},{"tags":["java","android","kotlin","accessibility","accessibilityservice"],"answers":[{"tags":[],"owner":{"account_id":21447811,"reputation":16,"user_id":15800941,"display_name":"siapost"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690993054,"creation_date":1690977849,"answer_id":76819693,"question_id":76817206,"body_markdown":"A trick found on the stackoverflow site helped me in a similar situation. (I think it was in this [question][1])\r\n    \r\n    android:packageNames=&quot;@null&quot;\r\n    \r\nin config xml file (then reassign in code).\r\n\r\nPerhaps it will help you too.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10084804/accessibility-service-for-my-app-is-not-working-if-i-reinstall-my-app/14256441#14256441","title":"Android Accessibility Service Malfunctioning After App Upgrade, Requires Programmatic Fix","body":"<p>A trick found on the stackoverflow site helped me in a similar situation. (I think it was in this <a href=\"https://stackoverflow.com/questions/10084804/accessibility-service-for-my-app-is-not-working-if-i-reinstall-my-app/14256441#14256441\">question</a>)</p>\n<pre><code>android:packageNames=&quot;@null&quot;\n</code></pre>\n<p>in config xml file (then reassign in code).</p>\n<p>Perhaps it will help you too.</p>\n"}],"owner":{"account_id":25561344,"reputation":1,"user_id":19343933,"display_name":"Sohail Mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690993054,"creation_date":1690958547,"question_id":76817206,"body_markdown":"I&#39;m encountering an issue with the Accessibility Service in my Android app after users upgrade from an older version to a newer version. The Accessibility Service is intended to assist users with disabilities in accessing and using the app.\r\n\r\nThe problem manifests after the app upgrade, where the Accessibility Service seems to malfunction, and users are presented with error messages like &quot;This app isn&#39;t working correctly. Turn it off above, then turn it on again, to restart it&quot; on Samsung Tab A7 Lite and &quot;This service is malfunctioning&quot; on Micromax devices.\r\n\r\nRestarting the device or manually restarting the Accessibility Service temporarily resolves the issue. However, as a developer, I&#39;m seeking a programmatic solution to address this problem automatically, as restarting the service or the device should not be the expected behavior after an app update.\r\n\r\nI&#39;ve tried examining the update logic, but I couldn&#39;t find any specific issues related to the Accessibility Service in the codebase. I&#39;m wondering if there are any additional steps I can take during the app upgrade to ensure the Accessibility Service works seamlessly without requiring manual intervention.\r\n\r\nIs there a way to programmatically fix the Accessibility Service after an app update? Are there any specific considerations, best practices, or compatibility checks that I should incorporate into my codebase to prevent this issue from occurring in the future?\r\n\r\nAny insights or guidance on resolving this matter programmatically would be greatly appreciated. Thank you!\r\n\r\nThe images can be found below -&gt;\r\n\r\n[[[[enter image description here](https://i.stack.imgur.com/3B0H0.png)](https://i.stack.imgur.com/D51DJ.png)](https://i.stack.imgur.com/BpRsD.png)](https://i.stack.imgur.com/4HMvg.png)\r\n\r\nRestarting the accessibility or Restarting the device itself fixed the issue. But I am looking for a programatic solution.","title":"Android Accessibility Service Malfunctioning After App Upgrade, Requires Programmatic Fix","body":"<p>I'm encountering an issue with the Accessibility Service in my Android app after users upgrade from an older version to a newer version. The Accessibility Service is intended to assist users with disabilities in accessing and using the app.</p>\n<p>The problem manifests after the app upgrade, where the Accessibility Service seems to malfunction, and users are presented with error messages like &quot;This app isn't working correctly. Turn it off above, then turn it on again, to restart it&quot; on Samsung Tab A7 Lite and &quot;This service is malfunctioning&quot; on Micromax devices.</p>\n<p>Restarting the device or manually restarting the Accessibility Service temporarily resolves the issue. However, as a developer, I'm seeking a programmatic solution to address this problem automatically, as restarting the service or the device should not be the expected behavior after an app update.</p>\n<p>I've tried examining the update logic, but I couldn't find any specific issues related to the Accessibility Service in the codebase. I'm wondering if there are any additional steps I can take during the app upgrade to ensure the Accessibility Service works seamlessly without requiring manual intervention.</p>\n<p>Is there a way to programmatically fix the Accessibility Service after an app update? Are there any specific considerations, best practices, or compatibility checks that I should incorporate into my codebase to prevent this issue from occurring in the future?</p>\n<p>Any insights or guidance on resolving this matter programmatically would be greatly appreciated. Thank you!</p>\n<p>The images can be found below -&gt;</p>\n<p>[[[<a href=\"https://i.stack.imgur.com/3B0H0.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/D51DJ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/D51DJ.png</a>)](<a href=\"https://i.stack.imgur.com/BpRsD.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/BpRsD.png</a>)](<a href=\"https://i.stack.imgur.com/4HMvg.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4HMvg.png</a>)</p>\n<p>Restarting the accessibility or Restarting the device itself fixed the issue. But I am looking for a programatic solution.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":4905966,"reputation":1880,"user_id":3952702,"accept_rate":71,"display_name":"SME_Dev"},"score":0,"creation_date":1439561919,"post_id":32012206,"comment_id":51926876,"body_markdown":"How do you identify the method you are looking for? Which information on the method&#39;s signature do you have? Maybe you could wrap your examples in a `lookupMethod()` function to display your search parameters.","body":"How do you identify the method you are looking for? Which information on the method&#39;s signature do you have? Maybe you could wrap your examples in a <code>lookupMethod()</code> function to display your search parameters."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1439562169,"post_id":32012206,"comment_id":51927053,"body_markdown":"I have the name of the method and the parameters + their types","body":"I have the name of the method and the parameters + their types"},{"owner":{"display_name":"user319799"},"score":0,"creation_date":1439563270,"post_id":32012206,"comment_id":51927778,"body_markdown":"I would say that the second approach is the right one, let standard library do the matching. It&#39;s unfortunate that Java insists on throwing exceptions whenever someone sneezes, rather than returning null, which would be perfect in this case. But that&#39;s how it is.","body":"I would say that the second approach is the right one, let standard library do the matching. It&#39;s unfortunate that Java insists on throwing exceptions whenever someone sneezes, rather than returning null, which would be perfect in this case. But that&#39;s how it is."},{"owner":{"account_id":2973985,"reputation":571,"user_id":2525456,"accept_rate":80,"display_name":"theRoot"},"score":0,"creation_date":1439563545,"post_id":32012206,"comment_id":51927962,"body_markdown":"IMO you can cache the method with its class which provides good performance....which is bad while  frequent  **getDeclaredMethod** call","body":"IMO you can cache the method with its class which provides good performance....which is bad while  frequent  <b>getDeclaredMethod</b> call"}],"answers":[{"tags":[],"owner":{"account_id":551682,"reputation":15303,"user_id":869867,"display_name":"Sileria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690992968,"creation_date":1690992968,"answer_id":76821765,"question_id":32012206,"body_markdown":"Here is my recursive extension method in Kotlin:\r\n\r\n    /** Recursively find a declared method in current and all super classes. */\r\n    private fun Class&lt;*&gt;.findMethod(methodName: String, vararg paramTypes: Class&lt;*&gt;): Method? =\r\n        try {\r\n            getDeclaredMethod(methodName, *paramTypes)\r\n        } catch (e: NoSuchMethodException) {\r\n            superclass?.findMethod(methodName, *paramTypes) ?: throw e\r\n        }\r\n\r\nExample Usage:\r\n\r\n    obj.javaClass.findMethod(methodName, *paramTypes)?.run {\r\n        isAccessible = true\r\n        invoke(obj, *params)\r\n    }\r\n\r\n","title":"Using getDeclaredMethod to get a private method of any super (parent) class","body":"<p>Here is my recursive extension method in Kotlin:</p>\n<pre><code>/** Recursively find a declared method in current and all super classes. */\nprivate fun Class&lt;*&gt;.findMethod(methodName: String, vararg paramTypes: Class&lt;*&gt;): Method? =\n    try {\n        getDeclaredMethod(methodName, *paramTypes)\n    } catch (e: NoSuchMethodException) {\n        superclass?.findMethod(methodName, *paramTypes) ?: throw e\n    }\n</code></pre>\n<p>Example Usage:</p>\n<pre><code>obj.javaClass.findMethod(methodName, *paramTypes)?.run {\n    isAccessible = true\n    invoke(obj, *params)\n}\n</code></pre>\n"}],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690992968,"creation_date":1439561633,"question_id":32012206,"body_markdown":"I need to call a private method via reflection. In advance I don&#39;t kow if that private method is part of the specified class or a super class. I have the name of the private method, their parameters and their parameter types.\r\nMy first approach was the following:\r\n\r\n    Object classToTest = ....;\r\n    ArrayList&lt;Method&gt; methods = new ArrayList&lt;Method&gt;();\r\n    Class&lt;?&gt; classIndex = classToTest.getClass();\r\n    \r\n    //iterate over (super) classes to collect all methods\r\n    do{\r\n    \tmethods.addAll(Arrays.asList(classIndex.getDeclaredMethods()));\r\n    \tclassIndex = classIndex.getSuperclass();\r\n    }\r\n    while(classIndex.getClass()!=null);\r\n   \t\t\t\r\n\tfor(Method method : methods){\r\n     //match the right method\r\n   \t}\r\n    //call it\r\n   \tmethod.setAccessible(true);\r\n    method.invoke(classToTest,parameterValues);\r\n\r\n**Problem with that approach:** Getting the right method out of the list is not trivial as the sourcecode for .getDeclaredMethod(...) shows. Unfortunatly many private internal methods are used which thus cant&#39;t be reused...\r\n\r\nThe 2nd approach was to use the getDeclaredMethod() which does the matching for me:\r\n\r\n    Method method=null;\r\n\tClass&lt;?&gt; classIndex = classToTest.getClass();\r\n\r\n\t//iterate over (super) classes since private method may be inherited\r\n\tdo{\r\n\t\t//exception catching as part of the normal code is ugly \r\n\t\ttry{\r\n\t\t\tmethod = classIndex.getDeclaredMethod(nameOfMethod, parameterTypes);\r\n\t\t\t//method found thus exit\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcatch(NoSuchMethodException nsme){\r\n\t\t\t//method not found thus check super class\r\n\t\t\tclassIndex = classIndex.getSuperclass();\r\n\t\t}\r\n\t}\r\n\twhile(classIndex!=null);\r\n\t\t\t\r\n\tif(method==null) throw new NoSuchMethodException( classToTest.getClass().getName() + &quot;.&quot; + nameOfMethod + Arrays.toString(parameterValues));\r\n\t\t\t\r\n\t//no method matching necessary\r\n\tmethod.setAccessible(true);\r\n    method.invoke(classToTest,parameterValues);\r\n\r\n**Disadvantage of that approach:** the exception catching as part of the code flow is ugly - however I currently don&#39;t see an alternative without reimplementing the matching code of Class.java.\r\n\r\n**So does anyone see an alternative approach to get the right private method?**","title":"Using getDeclaredMethod to get a private method of any super (parent) class","body":"<p>I need to call a private method via reflection. In advance I don't kow if that private method is part of the specified class or a super class. I have the name of the private method, their parameters and their parameter types.\nMy first approach was the following:</p>\n\n<pre><code>Object classToTest = ....;\nArrayList&lt;Method&gt; methods = new ArrayList&lt;Method&gt;();\nClass&lt;?&gt; classIndex = classToTest.getClass();\n\n//iterate over (super) classes to collect all methods\ndo{\n    methods.addAll(Arrays.asList(classIndex.getDeclaredMethods()));\n    classIndex = classIndex.getSuperclass();\n}\nwhile(classIndex.getClass()!=null);\n\nfor(Method method : methods){\n //match the right method\n}\n//call it\nmethod.setAccessible(true);\nmethod.invoke(classToTest,parameterValues);\n</code></pre>\n\n<p><strong>Problem with that approach:</strong> Getting the right method out of the list is not trivial as the sourcecode for .getDeclaredMethod(...) shows. Unfortunatly many private internal methods are used which thus cant't be reused...</p>\n\n<p>The 2nd approach was to use the getDeclaredMethod() which does the matching for me:</p>\n\n<pre><code>Method method=null;\nClass&lt;?&gt; classIndex = classToTest.getClass();\n\n//iterate over (super) classes since private method may be inherited\ndo{\n    //exception catching as part of the normal code is ugly \n    try{\n        method = classIndex.getDeclaredMethod(nameOfMethod, parameterTypes);\n        //method found thus exit\n        break;\n    }\n    catch(NoSuchMethodException nsme){\n        //method not found thus check super class\n        classIndex = classIndex.getSuperclass();\n    }\n}\nwhile(classIndex!=null);\n\nif(method==null) throw new NoSuchMethodException( classToTest.getClass().getName() + \".\" + nameOfMethod + Arrays.toString(parameterValues));\n\n//no method matching necessary\nmethod.setAccessible(true);\nmethod.invoke(classToTest,parameterValues);\n</code></pre>\n\n<p><strong>Disadvantage of that approach:</strong> the exception catching as part of the code flow is ugly - however I currently don't see an alternative without reimplementing the matching code of Class.java.</p>\n\n<p><strong>So does anyone see an alternative approach to get the right private method?</strong></p>\n"},{"tags":["java","spring-boot","gradle","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690908441,"creation_date":1690908441,"answer_id":76813724,"question_id":76813668,"body_markdown":"To use JDK 17 for the Gradle wrapper, configure the IDE settings to use JDK 17 instead of setting the JDK version in the project structure.\r\n\r\ncheck this image:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aosbY.png","title":"Spring Boot 3 Gradle Build Failed in IntelliJ Idea 2023.2","body":"<p>To use JDK 17 for the Gradle wrapper, configure the IDE settings to use JDK 17 instead of setting the JDK version in the project structure.</p>\n<p>check this image:\n<a href=\"https://i.stack.imgur.com/aosbY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aosbY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29133537,"reputation":61,"user_id":22318225,"display_name":"Abdul Wazed Sobuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":76813724,"answer_count":1,"score":5,"last_activity_date":1690992742,"creation_date":1690907916,"question_id":76813668,"body_markdown":"Gradle build failed.\r\n\r\nbuild.gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;war&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &#39;https://repo.spring.io/milestone&#39; }\r\n    maven { url &#39;https://repo.spring.io/snapshot&#39; }\r\n    gradlePluginPortal()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    runtimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    providedRuntime &#39;org.springframework.boot:spring-boot-starter-tomcat&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nError log:\r\n~~~\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\r\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.2.1&#39; but:\r\n          - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n          - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n           - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n           - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n           - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n           - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 11)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.2.1&#39;)\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n~~~\r\nI checked JVM dependency also in project structure. Here I set JDK-17  \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AFSDQ.png","title":"Spring Boot 3 Gradle Build Failed in IntelliJ Idea 2023.2","body":"<p>Gradle build failed.</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'war'\n    id 'org.springframework.boot' version '3.1.2'\n    id 'io.spring.dependency-management' version '1.1.2'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://repo.spring.io/milestone' }\n    maven { url 'https://repo.spring.io/snapshot' }\n    gradlePluginPortal()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Error log:</p>\n<pre><code>&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.2.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.2\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.2 was found. The consumer was configured to find a library for use during runtime, compatible with Java 11, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.2.1' but:\n          - Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n          - Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 11)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n           - Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n           - Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n           - Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 11\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n           - Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.2 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 11)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.2.1')\n\n* Try:\n\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n</code></pre>\n<p>I checked JVM dependency also in project structure. Here I set JDK-17<br />\n<a href=\"https://i.stack.imgur.com/AFSDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFSDQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","stream","ignite"],"answers":[{"comments":[{"owner":{"account_id":9599006,"reputation":11,"user_id":7127238,"accept_rate":0,"display_name":"Sirius B"},"score":0,"creation_date":1499780194,"post_id":45035436,"comment_id":77046144,"body_markdown":"Thank you for your quick answer. It&#39;s what I was thinking about... Never mind, I will use the Messaging part. Is there an architectural reason to use Streams instead of other features? I thought that Streams was a combination of cache and compute or/and messaging, to make an abstraction layer. It could provide a kind of simple distributed orchestrator, Ignite have all it need to do that...","body":"Thank you for your quick answer. It&#39;s what I was thinking about... Never mind, I will use the Messaging part. Is there an architectural reason to use Streams instead of other features? I thought that Streams was a combination of cache and compute or/and messaging, to make an abstraction layer. It could provide a kind of simple distributed orchestrator, Ignite have all it need to do that..."},{"owner":{"account_id":10639054,"reputation":2997,"user_id":7834803,"display_name":"Evgenii Zhuravlev"},"score":0,"creation_date":1499780449,"post_id":45035436,"comment_id":77046351,"body_markdown":"DataStreamer built to inject large amounts of continuous streams of data into Ignite caches. It internally will properly batch keys together and collocate those batches with nodes on which the data will be cached. But if you want to use Receiver, you can still use it, it will be invoked directly on the nodes where data will be cached.","body":"DataStreamer built to inject large amounts of continuous streams of data into Ignite caches. It internally will properly batch keys together and collocate those batches with nodes on which the data will be cached. But if you want to use Receiver, you can still use it, it will be invoked directly on the nodes where data will be cached."},{"owner":{"account_id":9599006,"reputation":11,"user_id":7127238,"accept_rate":0,"display_name":"Sirius B"},"score":0,"creation_date":1499781279,"post_id":45035436,"comment_id":77047065,"body_markdown":"Thank you for your reply :) . I think I don&#39;t well understand the role of receiver and how they work, I&#39;ll go further into the documentation. Thank you again.","body":"Thank you for your reply :) . I think I don&#39;t well understand the role of receiver and how they work, I&#39;ll go further into the documentation. Thank you again."}],"tags":[],"owner":{"account_id":10639054,"reputation":2997,"user_id":7834803,"display_name":"Evgenii Zhuravlev"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499778270,"creation_date":1499778270,"answer_id":45035436,"question_id":45034975,"body_markdown":"ignite.dataStreamer(&quot;CacheStream&quot;) doesn&#39;t return same data streamer which you created before, it creates new datastreamer each time.\r\n\r\nSo, in your case, you configured 2 different datastreamers, and you upload data with streamer that doesn&#39;t have configured receiver.","title":"Apache ignite data streamer","body":"<p>ignite.dataStreamer(\"CacheStream\") doesn't return same data streamer which you created before, it creates new datastreamer each time.</p>\n\n<p>So, in your case, you configured 2 different datastreamers, and you upload data with streamer that doesn't have configured receiver.</p>\n"}],"owner":{"account_id":9599006,"reputation":11,"user_id":7127238,"accept_rate":0,"display_name":"Sirius B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690992432,"creation_date":1499776953,"question_id":45034975,"body_markdown":"I have a question about the Streaming part of Ignite.\r\n\r\nWhat I understand is that it is way to import data into the cache, but I also see that we can configure stream receivers to apply some other custom logic.\r\n\r\nSo I tried to create a class with the receiver and a class which injects data into the stream (so 2 main and 2 Ignite instances in server mode), but I &quot;just&quot; have data into the cache of the streamer (no any custom logic processed into the receiver). So, I&#39;m asking if I missed something or if I don&#39;t well understand about what are Streams into Ignite.\r\n\r\nIf I put the sender part into the receiver, I well have the print.\r\n\r\nDoes anyone know what I am doing (or understanding) wrong?\r\n\r\nReceiver class:\r\n\r\n\tpublic class Receiver {\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tIgniteConfiguration igniteConfig = new IgniteConfiguration();\r\n\t\t\tCacheConfiguration&lt;String, String&gt; cacheConfig = new CacheConfiguration&lt;&gt;(&quot;CacheStream&quot;);\t\r\n\r\n\r\n\t\t\tigniteConfig.setCacheConfiguration(cacheConfig);\r\n\r\n\t\t\t\r\n\t\t\tIgnite ignite = Ignition.getOrStart(igniteConfig);\r\n\t\t\t\r\n\t\t\tIgniteDataStreamer&lt;String, String&gt; streamer = ignite.dataStreamer(&quot;CacheStream&quot;);\r\n\t\t\t\r\n\t\t\tstreamer.receiver(StreamVisitor.from((cacheLambda, e) -&gt; {\r\n\t\t\t\tSystem.out.println(&quot;Value : &quot; + e.getValue());\r\n\t\t\t}));\r\n\t\t}\r\n\t}\r\n\r\n\r\nSender class: \r\n\r\n\tpublic class Sender {\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tIgniteConfiguration igniteConfig = new IgniteConfiguration();\r\n\t\t\tCacheConfiguration&lt;String, String&gt; cacheConfig = new CacheConfiguration&lt;&gt;(&quot;CacheStream&quot;);\r\n\r\n\t\t\tigniteConfig.setCacheConfiguration(cacheConfig);\r\n\r\n\t\t\tIgnite ignite = Ignition.getOrStart(igniteConfig);\r\n\t\t\t\r\n\t\t\tIgniteDataStreamer&lt;String, String&gt; streamer = ignite.dataStreamer(&quot;CacheStream&quot;);\r\n\t\t\t\r\n\t\t\tfor(int i = 0 ; i &lt; 10 ; i++){\r\n\t\t\t\tstreamer.addData(&quot;key-&quot;+i, &quot;value-&quot;+i);\r\n\t\t\t}\r\n\t\t\tstreamer.flush();\r\n\t\t}\r\n\t}\r\n","title":"Apache ignite data streamer","body":"<p>I have a question about the Streaming part of Ignite.</p>\n<p>What I understand is that it is way to import data into the cache, but I also see that we can configure stream receivers to apply some other custom logic.</p>\n<p>So I tried to create a class with the receiver and a class which injects data into the stream (so 2 main and 2 Ignite instances in server mode), but I &quot;just&quot; have data into the cache of the streamer (no any custom logic processed into the receiver). So, I'm asking if I missed something or if I don't well understand about what are Streams into Ignite.</p>\n<p>If I put the sender part into the receiver, I well have the print.</p>\n<p>Does anyone know what I am doing (or understanding) wrong?</p>\n<p>Receiver class:</p>\n<pre><code>public class Receiver {\n    public static void main(String[] args){\n        IgniteConfiguration igniteConfig = new IgniteConfiguration();\n        CacheConfiguration&lt;String, String&gt; cacheConfig = new CacheConfiguration&lt;&gt;(&quot;CacheStream&quot;);   \n\n\n        igniteConfig.setCacheConfiguration(cacheConfig);\n\n        \n        Ignite ignite = Ignition.getOrStart(igniteConfig);\n        \n        IgniteDataStreamer&lt;String, String&gt; streamer = ignite.dataStreamer(&quot;CacheStream&quot;);\n        \n        streamer.receiver(StreamVisitor.from((cacheLambda, e) -&gt; {\n            System.out.println(&quot;Value : &quot; + e.getValue());\n        }));\n    }\n}\n</code></pre>\n<p>Sender class:</p>\n<pre><code>public class Sender {\n    public static void main(String[] args){\n        IgniteConfiguration igniteConfig = new IgniteConfiguration();\n        CacheConfiguration&lt;String, String&gt; cacheConfig = new CacheConfiguration&lt;&gt;(&quot;CacheStream&quot;);\n\n        igniteConfig.setCacheConfiguration(cacheConfig);\n\n        Ignite ignite = Ignition.getOrStart(igniteConfig);\n        \n        IgniteDataStreamer&lt;String, String&gt; streamer = ignite.dataStreamer(&quot;CacheStream&quot;);\n        \n        for(int i = 0 ; i &lt; 10 ; i++){\n            streamer.addData(&quot;key-&quot;+i, &quot;value-&quot;+i);\n        }\n        streamer.flush();\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-httpclient-4.x","hostname-verifier"],"answers":[{"tags":[],"owner":{"account_id":28804636,"reputation":1,"user_id":22060781,"display_name":"Erez Scholz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690991990,"creation_date":1690815969,"answer_id":76804908,"question_id":76456706,"body_markdown":"The bug was caused by `athena-jdbc` dependency which is used somewhere else in the project and has it&#39;s own `public-suffix-list`.\r\nThis function `PublicSuffixMatcherLoader.getDefault()` read the `public-suffix-list` of `athena jdbc` instead of http-client by `apache`.","title":"java apache httpclient 4.5.13 SSLPeerUnverifiedException: Certificate for &lt;foo.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names:[]","body":"<p>The bug was caused by <code>athena-jdbc</code> dependency which is used somewhere else in the project and has it's own <code>public-suffix-list</code>.\nThis function <code>PublicSuffixMatcherLoader.getDefault()</code> read the <code>public-suffix-list</code> of <code>athena jdbc</code> instead of http-client by <code>apache</code>.</p>\n"}],"owner":{"account_id":28804636,"reputation":1,"user_id":22060781,"display_name":"Erez Scholz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690991990,"creation_date":1686573135,"question_id":76456706,"body_markdown":"I have changed my SSLConnectionSocketFactory to take DefaultHostNameVerifier instead of NoopHostNameVerifier.\r\n\r\n```\r\nfinal SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext, new String[] { &quot;TLSv1.2&quot; }, null, NoopHostnameVerifier.INSTANCE);\r\n\r\nfinal SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext, new String[] { &quot;TLSv1.2&quot; }, null, new DefaultHostnameVerifier(PublicSuffixMatcherLoader.getDefault()));\r\n```\r\nsince then I am having an issue when executing a validation on : &quot;https://foo.s3.amazonaws.com/fileName.csv&quot;\r\nI get an error:\r\n```\r\nCertificate for &lt;foo.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names:[*.s3.amazonaws.com, s3.amazonaws.com]\r\n```\r\nany idea what the issue might be?\r\n\r\n*I am using apache httpclient 4.5.13, and it only happens on production (can not reproduce locally).\r\n\r\n```\r\njavax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;foo.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names: [*.s3.amazonaws.com, s3.amazonaws.com]\r\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:507)\r\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:437)\r\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n```","title":"java apache httpclient 4.5.13 SSLPeerUnverifiedException: Certificate for &lt;foo.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names:[]","body":"<p>I have changed my SSLConnectionSocketFactory to take DefaultHostNameVerifier instead of NoopHostNameVerifier.</p>\n<pre><code>final SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext, new String[] { &quot;TLSv1.2&quot; }, null, NoopHostnameVerifier.INSTANCE);\n\nfinal SSLConnectionSocketFactory sslConnectionSocketFactory = new SSLConnectionSocketFactory(sslContext, new String[] { &quot;TLSv1.2&quot; }, null, new DefaultHostnameVerifier(PublicSuffixMatcherLoader.getDefault()));\n</code></pre>\n<p>since then I am having an issue when executing a validation on : &quot;https://foo.s3.amazonaws.com/fileName.csv&quot;\nI get an error:</p>\n<pre><code>Certificate for &lt;foo.s3.amazonaws.com&gt; doesn't match any of the subject alternative names:[*.s3.amazonaws.com, s3.amazonaws.com]\n</code></pre>\n<p>any idea what the issue might be?</p>\n<p>*I am using apache httpclient 4.5.13, and it only happens on production (can not reproduce locally).</p>\n<pre><code>javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;foo.s3.amazonaws.com&gt; doesn't match any of the subject alternative names: [*.s3.amazonaws.com, s3.amazonaws.com]\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:507)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:437)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n</code></pre>\n"},{"tags":["java","spring-boot","docker","paketo"],"answers":[{"comments":[{"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"score":0,"creation_date":1690991409,"post_id":76693743,"comment_id":135430965,"body_markdown":"`JAVA_TOOL_OPTIONS` doesn&#39;t work anymore unfortunately.","body":"<code>JAVA_TOOL_OPTIONS</code> doesn&#39;t work anymore unfortunately."},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":1,"creation_date":1690993339,"post_id":76693743,"comment_id":135431382,"body_markdown":"OK, that&#39;s unfortunate. You should be able to use `JDK_JAVA_OPTIONS` the same way as `JAVA_TOOL_OPTIONS` though. See https://docs.spring.io/spring-boot/docs/3.1.2/gradle-plugin/reference/htmlsingle/#build-image.examples.builder-configuration or `pack build -e JDK_JAVA_OPTIONS=..`. That would set it at build time. If you need it set a runtime, then you need to `docker run -e JDK_JAVA_OPTIONS=..` or use whatever method your container runtime expects to set env variables. https://paketo.io/docs/howto/configuration/#environment-variables","body":"OK, that&#39;s unfortunate. You should be able to use <code>JDK_JAVA_OPTIONS</code> the same way as <code>JAVA_TOOL_OPTIONS</code> though. See <a href=\"https://docs.spring.io/spring-boot/docs/3.1.2/gradle-plugin/reference/htmlsingle/#build-image.examples.builder-configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/3.1.2/gradle-plugin/referenc&zwnj;&#8203;e/&hellip;</a> or <code>pack build -e JDK_JAVA_OPTIONS=..</code>. That would set it at build time. If you need it set a runtime, then you need to <code>docker run -e JDK_JAVA_OPTIONS=..</code> or use whatever method your container runtime expects to set env variables. <a href=\"https://paketo.io/docs/howto/configuration/#environment-variables\" rel=\"nofollow noreferrer\">paketo.io/docs/howto/configuration/#environment-variables</a>"},{"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"score":1,"creation_date":1690993573,"post_id":76693743,"comment_id":135431434,"body_markdown":"You can also set env variables at buildtime in a particular way such that they&#39;ll get included in the image, which means you don&#39;t need to set them at runtime. See embedding variables, https://paketo.io/docs/howto/configuration/#image-embedded-environment-variables","body":"You can also set env variables at buildtime in a particular way such that they&#39;ll get included in the image, which means you don&#39;t need to set them at runtime. See embedding variables, <a href=\"https://paketo.io/docs/howto/configuration/#image-embedded-environment-variables\" rel=\"nofollow noreferrer\">paketo.io/docs/howto/configuration/&hellip;</a>"}],"tags":[],"owner":{"account_id":1731647,"reputation":14046,"user_id":1585136,"display_name":"Daniel Mikusa"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689424445,"creation_date":1689424100,"answer_id":76693743,"question_id":76687419,"body_markdown":"&gt; Does anyone know why it doesn&#39;t work? Or generally what&#39;s the right way to get rid of the warning?\r\n\r\nMy suspicion is that it&#39;s because the generated container image does not actually contain the JAR, it contains the exploded JAR files.\r\n\r\nWhen you build with the Spring Boot Gradle plugin, roughly the following steps happen:\r\n\r\nOutside of the container:\r\n\r\n1. Gradle runs, it compiles your code and produces a JAR\r\n2. The Spring Boot plugin downloads images &amp; sets up the container build environment\r\n3. The Spring Boot plugin provides the contents of your JAR to the container environment (not the JAR, but what&#39;s in the JAR)\r\n4. The Spring Boot plugin starts the container build\r\n5. The buildpacks run and generate an image.\r\n\r\nBecause the container build process gets the contents of the JAR file, not an actual JAR the start command is *not* `java -jar`, it&#39;s `java -cp .. your.Main`. I suspect that is why Java is not honoring the value in the `MANIFEST.MF` file.\r\n\r\n------------\r\n\r\nThe easy fix is to just set the arguments like you&#39;ve been doing either as an argument or [in the environment variable `JDK_JAVA_OPTIONS`](https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE__USINGTHEJDK_JAVA_OPTIONSLAUNCHERENV-F3C0E3BA).\r\n\r\nI think you can also use `JAVA_TOOL_OPTIONS` they should both work here.\r\n\r\nBesides this, you can make buildpacks configure your application to run using `java -jar` but you would need to make a couple of changes.\r\n\r\n1. Build using `pack build` instead of the Spring Boot plugin. Spring Boot plugin will only build the JAR outside of the container. With `pack build`, it will by default build from your source so the Java compilation happens inside the build container.\r\n\r\n2. If you `pack build`, you can then set `BP_GRADLE_BUILT_ARTIFACT` and have the pattern match multiple files including your JAR. The buildpack will carry those files over into final image, but more importantly it will *NOT* explode the JAR file (that only happens when `BP_GRADLE_BUILT_ARTIFACT` matches a single JAR file).\r\n\r\n&gt; If $BP_GRADLE_BUILT_ARTIFACT matched a directory or multiple files\r\nRestores the files matched by $BP_GRADLE_BUILT_ARTIFACT to &lt;APPLICATION_ROOT&gt;\r\n\r\n3. The executable JAR buildpack will then run, find your JAR file and it should configure the container image to run using `java -jar your-executable.jar`.\r\n\r\nI would recommend one of the other options, but if you really want to configure through the `MANIFEST.mf` file, you should be able to make that work.","title":"Add-Opens Entry in Java MANIFEST.MF Doesn&#39;t Work In Docker Image Built by Spring Boot Plugin","body":"<blockquote>\n<p>Does anyone know why it doesn't work? Or generally what's the right way to get rid of the warning?</p>\n</blockquote>\n<p>My suspicion is that it's because the generated container image does not actually contain the JAR, it contains the exploded JAR files.</p>\n<p>When you build with the Spring Boot Gradle plugin, roughly the following steps happen:</p>\n<p>Outside of the container:</p>\n<ol>\n<li>Gradle runs, it compiles your code and produces a JAR</li>\n<li>The Spring Boot plugin downloads images &amp; sets up the container build environment</li>\n<li>The Spring Boot plugin provides the contents of your JAR to the container environment (not the JAR, but what's in the JAR)</li>\n<li>The Spring Boot plugin starts the container build</li>\n<li>The buildpacks run and generate an image.</li>\n</ol>\n<p>Because the container build process gets the contents of the JAR file, not an actual JAR the start command is <em>not</em> <code>java -jar</code>, it's <code>java -cp .. your.Main</code>. I suspect that is why Java is not honoring the value in the <code>MANIFEST.MF</code> file.</p>\n<hr />\n<p>The easy fix is to just set the arguments like you've been doing either as an argument or <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE__USINGTHEJDK_JAVA_OPTIONSLAUNCHERENV-F3C0E3BA\" rel=\"nofollow noreferrer\">in the environment variable <code>JDK_JAVA_OPTIONS</code></a>.</p>\n<p>I think you can also use <code>JAVA_TOOL_OPTIONS</code> they should both work here.</p>\n<p>Besides this, you can make buildpacks configure your application to run using <code>java -jar</code> but you would need to make a couple of changes.</p>\n<ol>\n<li><p>Build using <code>pack build</code> instead of the Spring Boot plugin. Spring Boot plugin will only build the JAR outside of the container. With <code>pack build</code>, it will by default build from your source so the Java compilation happens inside the build container.</p>\n</li>\n<li><p>If you <code>pack build</code>, you can then set <code>BP_GRADLE_BUILT_ARTIFACT</code> and have the pattern match multiple files including your JAR. The buildpack will carry those files over into final image, but more importantly it will <em>NOT</em> explode the JAR file (that only happens when <code>BP_GRADLE_BUILT_ARTIFACT</code> matches a single JAR file).</p>\n</li>\n</ol>\n<blockquote>\n<p>If $BP_GRADLE_BUILT_ARTIFACT matched a directory or multiple files\nRestores the files matched by $BP_GRADLE_BUILT_ARTIFACT to &lt;APPLICATION_ROOT&gt;</p>\n</blockquote>\n<ol start=\"3\">\n<li>The executable JAR buildpack will then run, find your JAR file and it should configure the container image to run using <code>java -jar your-executable.jar</code>.</li>\n</ol>\n<p>I would recommend one of the other options, but if you really want to configure through the <code>MANIFEST.mf</code> file, you should be able to make that work.</p>\n"}],"owner":{"account_id":2379900,"reputation":4402,"user_id":2194119,"accept_rate":76,"display_name":"Rad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76693743,"answer_count":1,"score":1,"last_activity_date":1690991856,"creation_date":1689335600,"question_id":76687419,"body_markdown":"I&#39;ve got a Spring Boot application (V3 + JDK 17) that prints a warning to open some modules (because of JRuby):\r\n```\r\n2023-07-14T11:13:35.651Z [main] WARN FilenoUtil : Native subprocess control requires open access to the JDK IO subsystem\r\nPass &#39;--add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED&#39; to enable.\r\n```\r\n\r\nNow passing the suggested params (either as command-line args or via `JDK_JAVA_OPTIONS` env var) removes the warning.  \r\nI also learned that the same can be achieved by adding the modules in an `Add-Opens` entry:\r\n```kotlin\r\n// build.gradle.kts\r\n\r\nbootJar {\r\n  requiresUnpack(&quot;**/asciidoctorj-*.jar&quot;)\r\n\r\n  manifest {\r\n    attributes[&quot;Add-Opens&quot;] = &quot;java.base/java.io java.base/sun.nio.ch&quot;\r\n  }\r\n}\r\n```\r\nAnd I can confirm that the final fat JAR file created by Spring Boot plugin does indeed have a MANIFEST.MF with the expected entry:\r\n```\r\nManifest-Version: 1.0\r\nAdd-Opens: java.base/java.io java.base/sun.nio.ch\r\nMain-Class: org.springframework.boot.loader.JarLauncher\r\n# Other entries!!!\r\n```\r\nAnd when I run the JAR file (using `java -jar`) I can see the warning is gone.\r\n\r\nHowever, when I deploy the docker image built by `gradle bootBuildImage` (default configuration, nothing customized), I still see the warning. I checked the MANIFEST.MF file in the container and the expected entry exists.\r\n\r\nDoes anyone know why it doesn&#39;t work? Or generally what&#39;s the right way to get rid of the warning?\r\n\r\n**Update**  \r\nThe short answer is &quot;`Add-Opens` manifest entries are only supported when launching the JVM using `java -jar`.&quot; (see [this][1] and [this][2]).\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/33698\r\n  [2]: https://github.com/paketo-buildpacks/bellsoft-liberica/issues/440","title":"Add-Opens Entry in Java MANIFEST.MF Doesn&#39;t Work In Docker Image Built by Spring Boot Plugin","body":"<p>I've got a Spring Boot application (V3 + JDK 17) that prints a warning to open some modules (because of JRuby):</p>\n<pre><code>2023-07-14T11:13:35.651Z [main] WARN FilenoUtil : Native subprocess control requires open access to the JDK IO subsystem\nPass '--add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED' to enable.\n</code></pre>\n<p>Now passing the suggested params (either as command-line args or via <code>JDK_JAVA_OPTIONS</code> env var) removes the warning.<br />\nI also learned that the same can be achieved by adding the modules in an <code>Add-Opens</code> entry:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build.gradle.kts\n\nbootJar {\n  requiresUnpack(&quot;**/asciidoctorj-*.jar&quot;)\n\n  manifest {\n    attributes[&quot;Add-Opens&quot;] = &quot;java.base/java.io java.base/sun.nio.ch&quot;\n  }\n}\n</code></pre>\n<p>And I can confirm that the final fat JAR file created by Spring Boot plugin does indeed have a MANIFEST.MF with the expected entry:</p>\n<pre><code>Manifest-Version: 1.0\nAdd-Opens: java.base/java.io java.base/sun.nio.ch\nMain-Class: org.springframework.boot.loader.JarLauncher\n# Other entries!!!\n</code></pre>\n<p>And when I run the JAR file (using <code>java -jar</code>) I can see the warning is gone.</p>\n<p>However, when I deploy the docker image built by <code>gradle bootBuildImage</code> (default configuration, nothing customized), I still see the warning. I checked the MANIFEST.MF file in the container and the expected entry exists.</p>\n<p>Does anyone know why it doesn't work? Or generally what's the right way to get rid of the warning?</p>\n<p><strong>Update</strong><br />\nThe short answer is &quot;<code>Add-Opens</code> manifest entries are only supported when launching the JVM using <code>java -jar</code>.&quot; (see <a href=\"https://github.com/spring-projects/spring-boot/issues/33698\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/paketo-buildpacks/bellsoft-liberica/issues/440\" rel=\"nofollow noreferrer\">this</a>).</p>\n"},{"tags":["java","jdbc","mariadb"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1690991463,"post_id":76821508,"comment_id":135430973,"body_markdown":"Probably the cols names are wrong (with spaces) like &quot;First Name&quot; or you must escape the col name. Try to run the sql first from a db client (eg dbeaver).","body":"Probably the cols names are wrong (with spaces) like &quot;First Name&quot; or you must escape the col name. Try to run the sql first from a db client (eg dbeaver)."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690991494,"post_id":76821508,"comment_id":135430983,"body_markdown":"My guess is that you need to put quotes around the column name with spaces. https://mariadb.com/kb/en/identifier-names/","body":"My guess is that you need to put quotes around the column name with spaces. <a href=\"https://mariadb.com/kb/en/identifier-names/\" rel=\"nofollow noreferrer\">mariadb.com/kb/en/identifier-names</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690991664,"post_id":76821508,"comment_id":135431016,"body_markdown":"Regular identifiers cannot contain spaces, so `First Name`, `Enrol no`, `Mobile No` are invalid. You need to change them to quoted identifiers (for MySQL and MariaDB, enclose in backticks, for standard SQL as supported by most other databases, enclose in double quotes). Also, **never ever** concatenate user sourced values into a query string like that. It makes you vulnerable to SQL injection. Always use parameterized queries. In fact, you&#39;re forgetting to actual quote string values in single quotes, which is another reason for errors.","body":"Regular identifiers cannot contain spaces, so <code>First Name</code>, <code>Enrol no</code>, <code>Mobile No</code> are invalid. You need to change them to quoted identifiers (for MySQL and MariaDB, enclose in backticks, for standard SQL as supported by most other databases, enclose in double quotes). Also, <b>never ever</b> concatenate user sourced values into a query string like that. It makes you vulnerable to SQL injection. Always use parameterized queries. In fact, you&#39;re forgetting to actual quote string values in single quotes, which is another reason for errors."},{"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"score":0,"creation_date":1690992129,"post_id":76821508,"comment_id":135431114,"body_markdown":"@MarkRotteveel I removed the spaces in the column names, but it still gives this error:\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;@gmail.com)&#39; at line 1","body":"@MarkRotteveel I removed the spaces in the column names, but it still gives this error: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near &#39;@gmail.com)&#39; at line 1"},{"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"score":0,"creation_date":1690992420,"post_id":76821508,"comment_id":135431175,"body_markdown":"@MarkRotteveel okay I changed it to backtick, but now I get another exception:\nMySQLSyntaxErrorException: Unknown column &#39;Effie&#39; in &#39;field list&#39;\nHere &quot;Effie&quot; is the value i wanna enter in the column.","body":"@MarkRotteveel okay I changed it to backtick, but now I get another exception: MySQLSyntaxErrorException: Unknown column &#39;Effie&#39; in &#39;field list&#39; Here &quot;Effie&quot; is the value i wanna enter in the column."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690992533,"post_id":76821508,"comment_id":135431198,"body_markdown":"That is because you&#39;re concatenating values into the query string, which you shouldn&#39;t, but if you really insist on it, you need to make sure string values, like a name or an email address, are enclosed in single quotes (i.e. `&quot; ... values (&#39;&quot; + name + &quot;&#39;, ...&quot;`), or better yet use [`Statement.enquoteLiteral`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#enquoteLiteral(java.lang.String)) to also make sure the value is properly escaped.","body":"That is because you&#39;re concatenating values into the query string, which you shouldn&#39;t, but if you really insist on it, you need to make sure string values, like a name or an email address, are enclosed in single quotes (i.e. <code>&quot; ... values (&#39;&quot; + name + &quot;&#39;, ...&quot;</code>), or better yet use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Statement.html#enquoteLiteral(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Statement.enquoteLiteral</code></a> to also make sure the value is properly escaped."},{"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"score":0,"creation_date":1690992979,"post_id":76821508,"comment_id":135431299,"body_markdown":"@MarkRotteveel I did that but now there&#39;s a new error:\nMysqlDataTruncation: Data truncation: Out of range value for column &#39;MobileNo&#39; at row 1\nThe max length for MobileNo is 11, and I&#39;ve only entered 10 numbers as a string. Thanks for still helping me !!","body":"@MarkRotteveel I did that but now there&#39;s a new error: MysqlDataTruncation: Data truncation: Out of range value for column &#39;MobileNo&#39; at row 1 The max length for MobileNo is 11, and I&#39;ve only entered 10 numbers as a string. Thanks for still helping me !!"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690993105,"post_id":76821508,"comment_id":135431327,"body_markdown":"Print out `sql` and see where you went wrong.","body":"Print out <code>sql</code> and see where you went wrong."},{"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"score":0,"creation_date":1690994036,"post_id":76821508,"comment_id":135431534,"body_markdown":"All the errors are solved!! I can finally make my submission file thanks to you!! Thank you so much!!!","body":"All the errors are solved!! I can finally make my submission file thanks to you!! Thank you so much!!!"}],"owner":{"account_id":28926484,"reputation":1,"user_id":22156269,"display_name":"Effie"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691060396,"answer_count":0,"score":0,"last_activity_date":1690991728,"creation_date":1690990858,"question_id":76821508,"body_markdown":"&gt; MySQLSyntaxErrorException: You have an error in your SQL syntax; check\r\n&gt; the manual that corresponds to your MariaDB server version for the\r\n&gt; right syntax to use near &#39;Name,Enrol no,Department,Mobile No,Email)\r\n&gt; values(Effie,1051,CE,123456789,121...&#39; at line 1\r\n\r\nThe above exception is displaying. I don&#39;t know what I&#39;m doing wrong, but here is the code:\r\n\r\n\r\n```java\r\nString Create()\r\n{\r\n    String sql;\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Enter name:&quot;);\r\n    String name = sc.nextLine();\r\n    \r\n    System.out.println(&quot;Enter enrl:&quot;);\r\n    long enrl = sc.nextInt();\r\n    \r\n    sc.nextLine();\r\n     \r\n    System.out.println(&quot;Enter department:&quot;);\r\n    String dept = sc.nextLine();\r\n    \r\n    System.out.println(&quot;Enter mobile no:&quot;);\r\n    String mono = sc.nextLine();\r\n    \r\n    System.out.println(&quot;Enter mail:&quot;);\r\n    String mail = sc.nextLine();\r\n    \r\n    sql=&quot;Insert into stud_details(First Name,Enrol no,Department,Mobile No,Email) values(&quot;+name+&quot;,&quot;+enrl+&quot;,&quot;+dept+&quot;,&quot;+mono+&quot;,&quot;+mail+&quot;);&quot;;\r\n    return sql; \r\n}\r\n```\r\n\r\nThe above code is written in class &quot;demo&quot; and I&#39;ve called it in the main class containing PSVM. I cannot find the mistake here.","title":"MySQLSyntaxErrorException while using jdbc","body":"<blockquote>\n<p>MySQLSyntaxErrorException: You have an error in your SQL syntax; check\nthe manual that corresponds to your MariaDB server version for the\nright syntax to use near 'Name,Enrol no,Department,Mobile No,Email)\nvalues(Effie,1051,CE,123456789,121...' at line 1</p>\n</blockquote>\n<p>The above exception is displaying. I don't know what I'm doing wrong, but here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String Create()\n{\n    String sql;\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter name:&quot;);\n    String name = sc.nextLine();\n    \n    System.out.println(&quot;Enter enrl:&quot;);\n    long enrl = sc.nextInt();\n    \n    sc.nextLine();\n     \n    System.out.println(&quot;Enter department:&quot;);\n    String dept = sc.nextLine();\n    \n    System.out.println(&quot;Enter mobile no:&quot;);\n    String mono = sc.nextLine();\n    \n    System.out.println(&quot;Enter mail:&quot;);\n    String mail = sc.nextLine();\n    \n    sql=&quot;Insert into stud_details(First Name,Enrol no,Department,Mobile No,Email) values(&quot;+name+&quot;,&quot;+enrl+&quot;,&quot;+dept+&quot;,&quot;+mono+&quot;,&quot;+mail+&quot;);&quot;;\n    return sql; \n}\n</code></pre>\n<p>The above code is written in class &quot;demo&quot; and I've called it in the main class containing PSVM. I cannot find the mistake here.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1690954652,"post_id":76816420,"comment_id":135422966,"body_markdown":"Your question is not clear. Do you want data separated into different workbooks? Or into different sheets in same workbook? If so, then what is the problem? If you can put all data into one sheet, you also should be able to put parts of data into different sheets. Or shall all data be in one sheet in same workbook but only **printed** using page breaks and repeating header rows? Please clarify.","body":"Your question is not clear. Do you want data separated into different workbooks? Or into different sheets in same workbook? If so, then what is the problem? If you can put all data into one sheet, you also should be able to put parts of data into different sheets. Or shall all data be in one sheet in same workbook but only <b>printed</b> using page breaks and repeating header rows? Please clarify."},{"owner":{"account_id":17341920,"reputation":57,"user_id":12562338,"display_name":"Daniel0909"},"score":0,"creation_date":1690955218,"post_id":76816420,"comment_id":135423019,"body_markdown":"Sorry, the question is not clean. I want all in one sheet in same workbook, and only printed using page break and repeating header row.","body":"Sorry, the question is not clean. I want all in one sheet in same workbook, and only printed using page break and repeating header row."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690991503,"creation_date":1690965152,"answer_id":76817996,"question_id":76816420,"body_markdown":"What you seems to want is [Insert page breaks in a worksheet](https://support.microsoft.com/en-us/office/insert-move-or-delete-page-breaks-in-a-worksheet-ad3dc726-beec-4a4c-861f-ed640612bdc2#:~:text=1%20To%20verify%20that%20drag-and-drop%20is%20enabled%2C%20do,page%20break%20to%20a%20new%20location.%20See%20More) and [Repeat specific rows or columns on every printed page](https://support.microsoft.com/en-us/office/repeat-specific-rows-or-columns-on-every-printed-page-0d6dac43-7ee7-4f34-8b08-ffcc8b022409#:~:text=1%20In%20the%20Rows%20to%20repeat%20at%20top,in%20the%20Rows%20to%20repeat%20at%20top%20box.).\r\n\r\nApache POI provides [Sheet.setRowBreak](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#setRowBreak-int-) and [Sheet.setRepeatingRows](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#setRepeatingRows-org.apache.poi.ss.util.CellRangeAddress-) to do this.\r\n\r\nThe following complete example shows how to use those methods.\r\n\r\nThe data should determine which rows shall be set to perform a page break and which rows shall be repeated on top of every page. In this simple example both is set static to minimize the complexity of the example. Making both dynamic will be a challenge of its own.\r\n\r\nThis code uses current Apache POI version 5.2.3. It should result in an Excel file where the print preview is exactly as you have shown.\r\n\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.ss.util.CellRangeAddress;\r\n    \r\n    class CreateExcelRowBreaksRepeatingRows {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (\r\n       //Workbook workbook = new XSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;)\r\n       Workbook workbook = new SXSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;)\r\n       //Workbook workbook = new HSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xls&quot;)\r\n       ) {\r\n           \r\n       // create cell styles on workbook level     \r\n       CellStyle centered = workbook.createCellStyle();\r\n       centered.setAlignment(HorizontalAlignment.CENTER); \r\n       CellStyle bordered = workbook.createCellStyle();\r\n       bordered.setBorderTop(BorderStyle.THIN); \r\n       bordered.setBorderBottom(BorderStyle.THIN); \r\n       bordered.setBorderLeft(BorderStyle.THIN); \r\n       bordered.setBorderRight(BorderStyle.THIN); \r\n    \r\n       // create data and set on which rows shall be row breaks\r\n       // only static size for this simple example\r\n       Object[][] data = new Object[16][3];\r\n       int[] rowBreaks = new int[2];\r\n       data[0] = new Object[] {&quot;Company name&quot;, &quot;Company data1&quot;, &quot;Company data2&quot;};\r\n       for (int i = 1; i &lt; 5; i++) {\r\n        data[i] = new Object[] {&quot;A&quot;, &quot;AX&quot;, &quot;AY&quot;};\r\n       }\r\n       rowBreaks[0] = 4;\r\n       for (int i = 5; i &lt; 11; i++) {\r\n        data[i] = new Object[] {&quot;B&quot;, &quot;BX&quot;, &quot;BY&quot;};\r\n       }\r\n       rowBreaks[1] = 10;\r\n       for (int i = 11; i &lt; 16; i++) {\r\n        data[i] = new Object[] {&quot;C&quot;, &quot;CX&quot;, &quot;CY&quot;};\r\n       }\r\n       \r\n       Sheet sheet = workbook.createSheet(); \r\n    \r\n       sheet.setColumnWidth(0, 15*256);\r\n       sheet.setColumnWidth(1, 15*256);\r\n       sheet.setColumnWidth(2, 15*256);\r\n    \r\n       // create first row - content is outside the defined data\r\n       Row row = sheet.createRow(0);\r\n       Cell cell = row.createCell(0);\r\n       cell.setCellValue(&quot;Total company list&quot;);\r\n       sheet.addMergedRegion(new CellRangeAddress(0, 0, 0, 2));\r\n       cell.setCellStyle(centered);\r\n    \r\n       // put data into the sheet\r\n       int startR = 1;\r\n       for (int r = 0; r &lt; data.length; r++) {\r\n        row = sheet.createRow(startR + r);\r\n        for (int rb = 0; rb &lt; rowBreaks.length; rb++) {\r\n         // shall this row set page break?\r\n         if (rowBreaks[rb] == r) sheet.setRowBreak(row.getRowNum());    \r\n        }   \r\n        for (int c = 0; c &lt; data[0].length; c++) {\r\n         cell = row.createCell(c);\r\n         if (r ==0) cell.setCellStyle(bordered);\r\n         Object cellValue = data[r][c];\r\n         if (cellValue instanceof String) {\r\n          cell.setCellValue((String)cellValue);\r\n         //} else if (cellValue instanceof ToDo) {\r\n          //cell.setCellValue((ToDo)cellValue);\r\n         }\r\n        }\r\n       }\r\n       \r\n       // first two rows shall be repeating rows\r\n       sheet.setRepeatingRows(new CellRangeAddress(0, 1, 0, 0));\r\n    \r\n       workbook.write(fileout);\r\n       \r\n       if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\r\n       \r\n      }\r\n     }\r\n    }","title":"How to use Apache POI Workbook to sprarate different data in different excel?","body":"<p>What you seems to want is <a href=\"https://support.microsoft.com/en-us/office/insert-move-or-delete-page-breaks-in-a-worksheet-ad3dc726-beec-4a4c-861f-ed640612bdc2#:%7E:text=1%20To%20verify%20that%20drag-and-drop%20is%20enabled%2C%20do,page%20break%20to%20a%20new%20location.%20See%20More\" rel=\"nofollow noreferrer\">Insert page breaks in a worksheet</a> and <a href=\"https://support.microsoft.com/en-us/office/repeat-specific-rows-or-columns-on-every-printed-page-0d6dac43-7ee7-4f34-8b08-ffcc8b022409#:%7E:text=1%20In%20the%20Rows%20to%20repeat%20at%20top,in%20the%20Rows%20to%20repeat%20at%20top%20box.\" rel=\"nofollow noreferrer\">Repeat specific rows or columns on every printed page</a>.</p>\n<p>Apache POI provides <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#setRowBreak-int-\" rel=\"nofollow noreferrer\">Sheet.setRowBreak</a> and <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Sheet.html#setRepeatingRows-org.apache.poi.ss.util.CellRangeAddress-\" rel=\"nofollow noreferrer\">Sheet.setRepeatingRows</a> to do this.</p>\n<p>The following complete example shows how to use those methods.</p>\n<p>The data should determine which rows shall be set to perform a page break and which rows shall be repeated on top of every page. In this simple example both is set static to minimize the complexity of the example. Making both dynamic will be a challenge of its own.</p>\n<p>This code uses current Apache POI version 5.2.3. It should result in an Excel file where the print preview is exactly as you have shown.</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.ss.util.CellRangeAddress;\n\nclass CreateExcelRowBreaksRepeatingRows {\n\n public static void main(String[] args) throws Exception {\n\n  try (\n   //Workbook workbook = new XSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;)\n   Workbook workbook = new SXSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xlsx&quot;)\n   //Workbook workbook = new HSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;Excel.xls&quot;)\n   ) {\n       \n   // create cell styles on workbook level     \n   CellStyle centered = workbook.createCellStyle();\n   centered.setAlignment(HorizontalAlignment.CENTER); \n   CellStyle bordered = workbook.createCellStyle();\n   bordered.setBorderTop(BorderStyle.THIN); \n   bordered.setBorderBottom(BorderStyle.THIN); \n   bordered.setBorderLeft(BorderStyle.THIN); \n   bordered.setBorderRight(BorderStyle.THIN); \n\n   // create data and set on which rows shall be row breaks\n   // only static size for this simple example\n   Object[][] data = new Object[16][3];\n   int[] rowBreaks = new int[2];\n   data[0] = new Object[] {&quot;Company name&quot;, &quot;Company data1&quot;, &quot;Company data2&quot;};\n   for (int i = 1; i &lt; 5; i++) {\n    data[i] = new Object[] {&quot;A&quot;, &quot;AX&quot;, &quot;AY&quot;};\n   }\n   rowBreaks[0] = 4;\n   for (int i = 5; i &lt; 11; i++) {\n    data[i] = new Object[] {&quot;B&quot;, &quot;BX&quot;, &quot;BY&quot;};\n   }\n   rowBreaks[1] = 10;\n   for (int i = 11; i &lt; 16; i++) {\n    data[i] = new Object[] {&quot;C&quot;, &quot;CX&quot;, &quot;CY&quot;};\n   }\n   \n   Sheet sheet = workbook.createSheet(); \n\n   sheet.setColumnWidth(0, 15*256);\n   sheet.setColumnWidth(1, 15*256);\n   sheet.setColumnWidth(2, 15*256);\n\n   // create first row - content is outside the defined data\n   Row row = sheet.createRow(0);\n   Cell cell = row.createCell(0);\n   cell.setCellValue(&quot;Total company list&quot;);\n   sheet.addMergedRegion(new CellRangeAddress(0, 0, 0, 2));\n   cell.setCellStyle(centered);\n\n   // put data into the sheet\n   int startR = 1;\n   for (int r = 0; r &lt; data.length; r++) {\n    row = sheet.createRow(startR + r);\n    for (int rb = 0; rb &lt; rowBreaks.length; rb++) {\n     // shall this row set page break?\n     if (rowBreaks[rb] == r) sheet.setRowBreak(row.getRowNum());    \n    }   \n    for (int c = 0; c &lt; data[0].length; c++) {\n     cell = row.createCell(c);\n     if (r ==0) cell.setCellStyle(bordered);\n     Object cellValue = data[r][c];\n     if (cellValue instanceof String) {\n      cell.setCellValue((String)cellValue);\n     //} else if (cellValue instanceof ToDo) {\n      //cell.setCellValue((ToDo)cellValue);\n     }\n    }\n   }\n   \n   // first two rows shall be repeating rows\n   sheet.setRepeatingRows(new CellRangeAddress(0, 1, 0, 0));\n\n   workbook.write(fileout);\n   \n   if (workbook instanceof SXSSFWorkbook) ((SXSSFWorkbook)workbook).dispose();\n   \n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":17341920,"reputation":57,"user_id":12562338,"display_name":"Daniel0909"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76817996,"answer_count":1,"score":1,"last_activity_date":1690991503,"creation_date":1690946546,"question_id":76816420,"body_markdown":"I&#39;m new guy to learn Apache POI in java.\r\nMy data show like this, I can print all data in one excel.\r\nI want to separate different company data in different excel when I print the excel.\r\nJust like A company data in first page excel, B company data in second page excel and C company data in third page excel.\r\nThe excel title can repeat in different excel.\r\n\r\nI want all in one sheet in same workbook, and only printed using page break and repeating header row. \r\n\r\nNow, I can do like this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI want the excel ike this.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1OoDQ.jpg\r\n  [2]: https://i.stack.imgur.com/BTtdv.jpg\r\n  [3]: https://i.stack.imgur.com/XI1G7.jpg\r\n  [4]: https://i.stack.imgur.com/eibbA.jpg","title":"How to use Apache POI Workbook to sprarate different data in different excel?","body":"<p>I'm new guy to learn Apache POI in java.\nMy data show like this, I can print all data in one excel.\nI want to separate different company data in different excel when I print the excel.\nJust like A company data in first page excel, B company data in second page excel and C company data in third page excel.\nThe excel title can repeat in different excel.</p>\n<p>I want all in one sheet in same workbook, and only printed using page break and repeating header row.</p>\n<p>Now, I can do like this.</p>\n<p><a href=\"https://i.stack.imgur.com/1OoDQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1OoDQ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I want the excel ike this.</p>\n<p><a href=\"https://i.stack.imgur.com/BTtdv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BTtdv.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XI1G7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XI1G7.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eibbA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eibbA.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","avro","jolt"],"owner":{"account_id":10771995,"reputation":1,"user_id":7925222,"display_name":"Ankit Punamiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690991408,"creation_date":1690991408,"question_id":76821578,"body_markdown":"This is my source input json\r\n\r\n```\r\n{\r\n  &quot;payload&quot;: {\r\n    &quot;keys&quot;: {\r\n      &quot;sce0_client_num&quot;: 101,\r\n      &quot;sce0_application_num&quot;: -5493929203645992000,\r\n      &quot;sce0_application_suffix&quot;: 101\r\n    },\r\n    &quot;sce0_segment_length&quot;: 101,\r\n    &quot;sce0_behavior_scores&quot;: [\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 101,\r\n        &quot;sce0_triad_score_aligned&quot;: 101,\r\n        &quot;sce0_triad_scorecard_id&quot;: 101,\r\n        &quot;sce0_date_behavior_scores&quot;: -1319636323\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 52645188,\r\n        &quot;sce0_triad_score_aligned&quot;: -1856889773,\r\n        &quot;sce0_triad_scorecard_id&quot;: 101,\r\n        &quot;sce0_date_behavior_scores&quot;: 101\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 1,\r\n        &quot;sce0_triad_score_aligned&quot;: -11,\r\n        &quot;sce0_triad_scorecard_id&quot;: 101,\r\n        &quot;sce0_date_behavior_scores&quot;: 101\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 2,\r\n        &quot;sce0_triad_score_aligned&quot;: -22,\r\n        &quot;sce0_triad_scorecard_id&quot;: 102,\r\n        &quot;sce0_date_behavior_scores&quot;: 102\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 3,\r\n        &quot;sce0_triad_score_aligned&quot;: -33,\r\n        &quot;sce0_triad_scorecard_id&quot;: 103,\r\n        &quot;sce0_date_behavior_scores&quot;: 103\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 4,\r\n        &quot;sce0_triad_score_aligned&quot;: -44,\r\n        &quot;sce0_triad_scorecard_id&quot;: 104,\r\n        &quot;sce0_date_behavior_scores&quot;: 104\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 5,\r\n        &quot;sce0_triad_score_aligned&quot;: -55,\r\n        &quot;sce0_triad_scorecard_id&quot;: 105,\r\n        &quot;sce0_date_behavior_scores&quot;: 105\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 6,\r\n        &quot;sce0_triad_score_aligned&quot;: -66,\r\n        &quot;sce0_triad_scorecard_id&quot;: 106,\r\n        &quot;sce0_date_behavior_scores&quot;: 106\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 7,\r\n        &quot;sce0_triad_score_aligned&quot;: -77,\r\n        &quot;sce0_triad_scorecard_id&quot;: 107,\r\n        &quot;sce0_date_behavior_scores&quot;: 107\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 8,\r\n        &quot;sce0_triad_score_aligned&quot;: -88,\r\n        &quot;sce0_triad_scorecard_id&quot;: 108,\r\n        &quot;sce0_date_behavior_scores&quot;: 108\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 9,\r\n        &quot;sce0_triad_score_aligned&quot;: -99,\r\n        &quot;sce0_triad_scorecard_id&quot;: 109,\r\n        &quot;sce0_date_behavior_scores&quot;: 109\r\n      },\r\n      {\r\n        &quot;sce0_triad_score_raw&quot;: 10,\r\n        &quot;sce0_triad_score_aligned&quot;: -100,\r\n        &quot;sce0_triad_scorecard_id&quot;: 111,\r\n        &quot;sce0_date_behavior_scores&quot;: 111\r\n      }\r\n    ],\r\n    &quot;sce0_credit_score_org&quot;: 1720785150,\r\n    &quot;sce0_mds_auth_score&quot;: 101,\r\n    &quot;sce0_mds_coll_score&quot;: 101,\r\n    &quot;sce0_cb_score_data&quot;: [\r\n      {\r\n        &quot;sce0_cb_score&quot;: -326862643,\r\n        &quot;sce0_date_cb_score&quot;: 1271544989\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: -1664695633,\r\n        &quot;sce0_date_cb_score&quot;: 101\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 1340696727,\r\n        &quot;sce0_date_cb_score&quot;: -1830228389\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 101,\r\n        &quot;sce0_date_cb_score&quot;: 337343512\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 102,\r\n        &quot;sce0_date_cb_score&quot;: 55555\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 103,\r\n        &quot;sce0_date_cb_score&quot;: 6666\r\n      },\r\n      {\r\n        &quot;sce0_cb_score&quot;: 104,\r\n        &quot;sce0_date_cb_score&quot;: 7777\r\n      }\r\n    ],\r\n    &quot;sce0_cb_worst_public_record&quot;: 2024061225,\r\n    &quot;sce0_cb_worst_trade_line&quot;: -506011687,\r\n    &quot;sce0_cb_number_trade_lines&quot;: 2000451889,\r\n    &quot;sce0_cb_number_disputed_lines&quot;: 834290474,\r\n    &quot;sce0_triad_batch_auth_cntr&quot;: 101,\r\n    &quot;sce0_triad_blaze_advisor&quot;: [\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 1\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: -2\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 3\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 4\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 5\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 6\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 7\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 8\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 9\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 10\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 11\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 12\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 13\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 14\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 15\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 16\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 17\r\n      },\r\n      {\r\n        &quot;sce0_triad_blaze_score&quot;: 18\r\n      }\r\n    ],\r\n    &quot;sce0_cb_score_data_2&quot;: [\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: -326862643,\r\n        &quot;sce0_date_cb_score_2&quot;: 1271544989\r\n      },\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: -1664695633,\r\n        &quot;sce0_date_cb_score_2&quot;: 101\r\n      },\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: 1340696727,\r\n        &quot;sce0_date_cb_score_2&quot;: -1830228389\r\n      },\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: 101,\r\n        &quot;sce0_date_cb_score_2&quot;: 337343512\r\n      },\r\n      {\r\n        &quot;sce0_cb_score_2&quot;: 102,\r\n        &quot;sce0_date_cb_score_2&quot;: 55555\r\n      }\r\n    ],\r\n    &quot;sce0_custom_char_field&quot;: [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16\r\n    ],\r\n    &quot;sce0_custom_numeric_field&quot;: [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16,\r\n      17,\r\n      18,\r\n      19,\r\n      20,\r\n      21,\r\n      22,\r\n      23,\r\n      24,\r\n      25,\r\n      26,\r\n      27,\r\n      28,\r\n      29,\r\n      30,\r\n      31,\r\n      32,\r\n      33,\r\n      34,\r\n      35,\r\n      36,\r\n      37,\r\n      38\r\n    ],\r\n    &quot;sce0_custom_numeric_field_33&quot;: [\r\n      1,\r\n      2,\r\n      3,\r\n      4,\r\n      5,\r\n      6,\r\n      7,\r\n      8,\r\n      9,\r\n      10,\r\n      11,\r\n      12,\r\n      13,\r\n      14,\r\n      15,\r\n      16,\r\n      17,\r\n      18,\r\n      19,\r\n      20,\r\n      21,\r\n      22,\r\n      23,\r\n      24,\r\n      25,\r\n      26,\r\n      27,\r\n      28,\r\n      29,\r\n      30,\r\n      31,\r\n      32,\r\n      33\r\n    ],\r\n    &quot;sce0_pmax_score_dollar_val_01&quot;: &quot;iiiiiii&quot;,\r\n    &quot;sce0_pmax_score_dollar_val_02&quot;: &quot;ooooo&quot;,\r\n    &quot;sce0_pmax_score_aligned_03&quot;: 101,\r\n    &quot;sce0_pmax_score_aligned_04&quot;: -1252234954199944000,\r\n    &quot;sce0_pmax_score_aligned_05&quot;: 9201734396028061000\r\n  }\r\n}\r\n```\r\n\r\nSo in the above input i have 2 types of array type fields, 1 normal array (sce0-*custom-numeric*-\\*field) and second fields inside an array (eg sce0-triad-score-\\*aligned inside sce0-behavior-scores). If we take the second case, i want the whole array under a single string in output, i.e. the whole array i want to map it to behavr_scr.\r\n\r\nCan anyone help how i can achieve that in jolt itself.\r\n\r\nI tried doing the below for the first scenario but there was no change.  \r\nhttps://github.com/bazaarvoice/jolt/issues/547","title":"Transforming an array to a string containing that array using jolt","body":"<p>This is my source input json</p>\n<pre><code>{\n  &quot;payload&quot;: {\n    &quot;keys&quot;: {\n      &quot;sce0_client_num&quot;: 101,\n      &quot;sce0_application_num&quot;: -5493929203645992000,\n      &quot;sce0_application_suffix&quot;: 101\n    },\n    &quot;sce0_segment_length&quot;: 101,\n    &quot;sce0_behavior_scores&quot;: [\n      {\n        &quot;sce0_triad_score_raw&quot;: 101,\n        &quot;sce0_triad_score_aligned&quot;: 101,\n        &quot;sce0_triad_scorecard_id&quot;: 101,\n        &quot;sce0_date_behavior_scores&quot;: -1319636323\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 52645188,\n        &quot;sce0_triad_score_aligned&quot;: -1856889773,\n        &quot;sce0_triad_scorecard_id&quot;: 101,\n        &quot;sce0_date_behavior_scores&quot;: 101\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 1,\n        &quot;sce0_triad_score_aligned&quot;: -11,\n        &quot;sce0_triad_scorecard_id&quot;: 101,\n        &quot;sce0_date_behavior_scores&quot;: 101\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 2,\n        &quot;sce0_triad_score_aligned&quot;: -22,\n        &quot;sce0_triad_scorecard_id&quot;: 102,\n        &quot;sce0_date_behavior_scores&quot;: 102\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 3,\n        &quot;sce0_triad_score_aligned&quot;: -33,\n        &quot;sce0_triad_scorecard_id&quot;: 103,\n        &quot;sce0_date_behavior_scores&quot;: 103\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 4,\n        &quot;sce0_triad_score_aligned&quot;: -44,\n        &quot;sce0_triad_scorecard_id&quot;: 104,\n        &quot;sce0_date_behavior_scores&quot;: 104\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 5,\n        &quot;sce0_triad_score_aligned&quot;: -55,\n        &quot;sce0_triad_scorecard_id&quot;: 105,\n        &quot;sce0_date_behavior_scores&quot;: 105\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 6,\n        &quot;sce0_triad_score_aligned&quot;: -66,\n        &quot;sce0_triad_scorecard_id&quot;: 106,\n        &quot;sce0_date_behavior_scores&quot;: 106\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 7,\n        &quot;sce0_triad_score_aligned&quot;: -77,\n        &quot;sce0_triad_scorecard_id&quot;: 107,\n        &quot;sce0_date_behavior_scores&quot;: 107\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 8,\n        &quot;sce0_triad_score_aligned&quot;: -88,\n        &quot;sce0_triad_scorecard_id&quot;: 108,\n        &quot;sce0_date_behavior_scores&quot;: 108\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 9,\n        &quot;sce0_triad_score_aligned&quot;: -99,\n        &quot;sce0_triad_scorecard_id&quot;: 109,\n        &quot;sce0_date_behavior_scores&quot;: 109\n      },\n      {\n        &quot;sce0_triad_score_raw&quot;: 10,\n        &quot;sce0_triad_score_aligned&quot;: -100,\n        &quot;sce0_triad_scorecard_id&quot;: 111,\n        &quot;sce0_date_behavior_scores&quot;: 111\n      }\n    ],\n    &quot;sce0_credit_score_org&quot;: 1720785150,\n    &quot;sce0_mds_auth_score&quot;: 101,\n    &quot;sce0_mds_coll_score&quot;: 101,\n    &quot;sce0_cb_score_data&quot;: [\n      {\n        &quot;sce0_cb_score&quot;: -326862643,\n        &quot;sce0_date_cb_score&quot;: 1271544989\n      },\n      {\n        &quot;sce0_cb_score&quot;: -1664695633,\n        &quot;sce0_date_cb_score&quot;: 101\n      },\n      {\n        &quot;sce0_cb_score&quot;: 1340696727,\n        &quot;sce0_date_cb_score&quot;: -1830228389\n      },\n      {\n        &quot;sce0_cb_score&quot;: 101,\n        &quot;sce0_date_cb_score&quot;: 337343512\n      },\n      {\n        &quot;sce0_cb_score&quot;: 102,\n        &quot;sce0_date_cb_score&quot;: 55555\n      },\n      {\n        &quot;sce0_cb_score&quot;: 103,\n        &quot;sce0_date_cb_score&quot;: 6666\n      },\n      {\n        &quot;sce0_cb_score&quot;: 104,\n        &quot;sce0_date_cb_score&quot;: 7777\n      }\n    ],\n    &quot;sce0_cb_worst_public_record&quot;: 2024061225,\n    &quot;sce0_cb_worst_trade_line&quot;: -506011687,\n    &quot;sce0_cb_number_trade_lines&quot;: 2000451889,\n    &quot;sce0_cb_number_disputed_lines&quot;: 834290474,\n    &quot;sce0_triad_batch_auth_cntr&quot;: 101,\n    &quot;sce0_triad_blaze_advisor&quot;: [\n      {\n        &quot;sce0_triad_blaze_score&quot;: 1\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: -2\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 3\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 4\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 5\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 6\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 7\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 8\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 9\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 10\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 11\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 12\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 13\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 14\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 15\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 16\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 17\n      },\n      {\n        &quot;sce0_triad_blaze_score&quot;: 18\n      }\n    ],\n    &quot;sce0_cb_score_data_2&quot;: [\n      {\n        &quot;sce0_cb_score_2&quot;: -326862643,\n        &quot;sce0_date_cb_score_2&quot;: 1271544989\n      },\n      {\n        &quot;sce0_cb_score_2&quot;: -1664695633,\n        &quot;sce0_date_cb_score_2&quot;: 101\n      },\n      {\n        &quot;sce0_cb_score_2&quot;: 1340696727,\n        &quot;sce0_date_cb_score_2&quot;: -1830228389\n      },\n      {\n        &quot;sce0_cb_score_2&quot;: 101,\n        &quot;sce0_date_cb_score_2&quot;: 337343512\n      },\n      {\n        &quot;sce0_cb_score_2&quot;: 102,\n        &quot;sce0_date_cb_score_2&quot;: 55555\n      }\n    ],\n    &quot;sce0_custom_char_field&quot;: [\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16\n    ],\n    &quot;sce0_custom_numeric_field&quot;: [\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16,\n      17,\n      18,\n      19,\n      20,\n      21,\n      22,\n      23,\n      24,\n      25,\n      26,\n      27,\n      28,\n      29,\n      30,\n      31,\n      32,\n      33,\n      34,\n      35,\n      36,\n      37,\n      38\n    ],\n    &quot;sce0_custom_numeric_field_33&quot;: [\n      1,\n      2,\n      3,\n      4,\n      5,\n      6,\n      7,\n      8,\n      9,\n      10,\n      11,\n      12,\n      13,\n      14,\n      15,\n      16,\n      17,\n      18,\n      19,\n      20,\n      21,\n      22,\n      23,\n      24,\n      25,\n      26,\n      27,\n      28,\n      29,\n      30,\n      31,\n      32,\n      33\n    ],\n    &quot;sce0_pmax_score_dollar_val_01&quot;: &quot;iiiiiii&quot;,\n    &quot;sce0_pmax_score_dollar_val_02&quot;: &quot;ooooo&quot;,\n    &quot;sce0_pmax_score_aligned_03&quot;: 101,\n    &quot;sce0_pmax_score_aligned_04&quot;: -1252234954199944000,\n    &quot;sce0_pmax_score_aligned_05&quot;: 9201734396028061000\n  }\n}\n</code></pre>\n<p>So in the above input i have 2 types of array type fields, 1 normal array (sce0-<em>custom-numeric</em>-*field) and second fields inside an array (eg sce0-triad-score-*aligned inside sce0-behavior-scores). If we take the second case, i want the whole array under a single string in output, i.e. the whole array i want to map it to behavr_scr.</p>\n<p>Can anyone help how i can achieve that in jolt itself.</p>\n<p>I tried doing the below for the first scenario but there was no change.<br />\n<a href=\"https://github.com/bazaarvoice/jolt/issues/547\" rel=\"nofollow noreferrer\">https://github.com/bazaarvoice/jolt/issues/547</a></p>\n"},{"tags":["java","hibernate","jpa","h2","many-to-one"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1690995641,"post_id":76821555,"comment_id":135431841,"body_markdown":"You don&#39;t want the parent persisted. Your issue is when you persist the child, your cascade setting tells JPA to also persist the parent - the specification requires an exception to be thrown if you persist an existing entity. So if all your children will only be associated to existing parents and you don&#39;t want to do the work to read in the parent and have it use the managed parent reference, don&#39;t use cascade persist.","body":"You don&#39;t want the parent persisted. Your issue is when you persist the child, your cascade setting tells JPA to also persist the parent - the specification requires an exception to be thrown if you persist an existing entity. So if all your children will only be associated to existing parents and you don&#39;t want to do the work to read in the parent and have it use the managed parent reference, don&#39;t use cascade persist."}],"owner":{"account_id":14780587,"reputation":351,"user_id":10674188,"display_name":"rost shan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690991182,"creation_date":1690991182,"question_id":76821555,"body_markdown":"Assume that I have the following entity (Yes with lombok):\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\n@Table(name = &quot;entry&quot;)\r\n@Entity\r\npublic class EntryEntity {\r\n    @Id\r\n    int id;\r\n\r\n    String name;\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    @ToString.Exclude\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\r\n    @JoinColumn(name = &quot;parent_id&quot;)\r\n    EntryEntity entity;\r\n}\r\n```\r\n\r\nThat entity represents some linked tree, that children entries refer to their parents. I assume that 1 child has 1 parent entity. For example, I want to save 2 entries in different transaction:\r\n\r\n1. `EntryEntity child1 = new EntryEntity(2, &quot;child1&quot;, new EntryEntity(1, &quot;parent&quot;, null));`\r\n2. `EntryEntity child2 = new EntryEntity(3, &quot;child2&quot;, new EntryEntity(1, &quot;parent&quot;, null));`.\r\n\r\n`child1` and `child2` refer to the one entry `parent`.\r\n\r\nI use H2 database with jakarta annotations with Hibernate Implementation.\r\n\r\nWhen I try to save 2 children in different transactions, I receive the error: `Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.ENTRY(ID) ( /* key:1 */ 1, &#39;root&#39;, NULL)&quot;`. Hibernate try to save twice `parent` entry.\r\n\r\nShould I refuse to use cascade saving in that way or do I need to configure hibernate somehow in order to fix my problem?","title":"What is the correct way to use cascade type when an entities refers to itself?","body":"<p>Assume that I have the following entity (Yes with lombok):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\n@Table(name = &quot;entry&quot;)\n@Entity\npublic class EntryEntity {\n    @Id\n    int id;\n\n    String name;\n\n    @EqualsAndHashCode.Exclude\n    @ToString.Exclude\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinColumn(name = &quot;parent_id&quot;)\n    EntryEntity entity;\n}\n</code></pre>\n<p>That entity represents some linked tree, that children entries refer to their parents. I assume that 1 child has 1 parent entity. For example, I want to save 2 entries in different transaction:</p>\n<ol>\n<li><code>EntryEntity child1 = new EntryEntity(2, &quot;child1&quot;, new EntryEntity(1, &quot;parent&quot;, null));</code></li>\n<li><code>EntryEntity child2 = new EntryEntity(3, &quot;child2&quot;, new EntryEntity(1, &quot;parent&quot;, null));</code>.</li>\n</ol>\n<p><code>child1</code> and <code>child2</code> refer to the one entry <code>parent</code>.</p>\n<p>I use H2 database with jakarta annotations with Hibernate Implementation.</p>\n<p>When I try to save 2 children in different transactions, I receive the error: <code>Unique index or primary key violation: &quot;PRIMARY KEY ON PUBLIC.ENTRY(ID) ( /* key:1 */ 1, 'root', NULL)&quot;</code>. Hibernate try to save twice <code>parent</code> entry.</p>\n<p>Should I refuse to use cascade saving in that way or do I need to configure hibernate somehow in order to fix my problem?</p>\n"},{"tags":["java","spring","openapi"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690529943,"post_id":76754704,"comment_id":135369444,"body_markdown":"Does this even work as an actual endpoint in Spring? I doubt it&#39;s smart enough to know which endpoint you &quot;meant&quot; to hit.","body":"Does this even work as an actual endpoint in Spring? I doubt it&#39;s smart enough to know which endpoint you &quot;meant&quot; to hit."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":1,"creation_date":1690530072,"post_id":76754704,"comment_id":135369465,"body_markdown":"@Jorn yeah I was shocked as well. But apparently it is smart enough. This code is quite old and is actively used by clients without issues &#175;\\_(ツ)_/&#175;","body":"@Jorn yeah I was shocked as well. But apparently it is smart enough. This code is quite old and is actively used by clients without issues &#175;_(ツ)_/&#175;"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1690549861,"post_id":76754704,"comment_id":135373331,"body_markdown":"Why don&#39;t you use that @RequestBody (required=false) ?","body":"Why don&#39;t you use that @RequestBody (required=false) ?"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1690556692,"post_id":76754704,"comment_id":135374959,"body_markdown":"@Joan not entirely sure how that would help?","body":"@Joan not entirely sure how that would help?"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1690798868,"post_id":76754704,"comment_id":135398300,"body_markdown":"Sorry, not developing more my comment. But maybe if you define a single endpoint with @RequestBody(required = false). Then you can auto generate the open API documentation. (And so you will know the correct way to define it)","body":"Sorry, not developing more my comment. But maybe if you define a single endpoint with @RequestBody(required = false). Then you can auto generate the open API documentation. (And so you will know the correct way to define it)"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1690800751,"post_id":76754704,"comment_id":135398645,"body_markdown":"@Joan hmm I could try that, any particular plugin or library that you use to automatically generate OpenAPI files?","body":"@Joan hmm I could try that, any particular plugin or library that you use to automatically generate OpenAPI files?"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1690881765,"post_id":76754704,"comment_id":135411607,"body_markdown":"@Miss Skooter You could try this: https://www.baeldung.com/spring-rest-openapi-documentation","body":"@Miss Skooter You could try this: <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"nofollow noreferrer\">baeldung.com/spring-rest-openapi-documentation</a>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691068602,"post_id":76795541,"comment_id":135443671,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76795541/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":3696585,"reputation":11,"user_id":3077761,"display_name":"Jason091"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690991028,"creation_date":1690666347,"answer_id":76795541,"question_id":76754704,"body_markdown":"one of your endpoints `(Controller1.create())` expects a `RandomObject` in the request body, and the other `(Controller2.createDifferent())` does not expect anybody. To define this in the OpenAPI specification, you should use required: true for the first endpoint and required: false (or simply omit the requestBody section) for the second.\r\n\r\nThe required attribute in the requestBody section of OpenAPI spec indicates whether the request body itself is required for the request, not if individual properties within the body are nullable or not. If it&#39;s set to true, the API endpoint expects a body in the request. If it&#39;s false, the API endpoint can be called without a body.","title":"How can I define two endpoints with the same mapping and request type but different parameters in OpenAPI 3.0.0 spec?","body":"<p>one of your endpoints <code>(Controller1.create())</code> expects a <code>RandomObject</code> in the request body, and the other <code>(Controller2.createDifferent())</code> does not expect anybody. To define this in the OpenAPI specification, you should use required: true for the first endpoint and required: false (or simply omit the requestBody section) for the second.</p>\n<p>The required attribute in the requestBody section of OpenAPI spec indicates whether the request body itself is required for the request, not if individual properties within the body are nullable or not. If it's set to true, the API endpoint expects a body in the request. If it's false, the API endpoint can be called without a body.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690817825,"creation_date":1690817825,"answer_id":76805139,"question_id":76754704,"body_markdown":"The code provided will work fine in Spring Boot. However it is not allowed according to the OpenAPI Specification. Hence you can&#39;t generate two different specifications for the same path/method combination.\r\n\r\n&gt; OpenAPI defines a unique operation as a combination of a path and an HTTP method. This means that two GET or two POST methods for the same path are not allowed – *even if they have different parameters (parameters have no effect on uniqueness)*.\r\n\r\nBased on: [https://swagger.io/docs/specification/paths-and-operations/][1]\r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/paths-and-operations/","title":"How can I define two endpoints with the same mapping and request type but different parameters in OpenAPI 3.0.0 spec?","body":"<p>The code provided will work fine in Spring Boot. However it is not allowed according to the OpenAPI Specification. Hence you can't generate two different specifications for the same path/method combination.</p>\n<blockquote>\n<p>OpenAPI defines a unique operation as a combination of a path and an HTTP method. This means that two GET or two POST methods for the same path are not allowed – <em>even if they have different parameters (parameters have no effect on uniqueness)</em>.</p>\n</blockquote>\n<p>Based on: <a href=\"https://swagger.io/docs/specification/paths-and-operations/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/paths-and-operations/</a></p>\n"}],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76805139,"answer_count":2,"score":1,"last_activity_date":1690991028,"creation_date":1690203147,"question_id":76754704,"body_markdown":"Given the following classes:\r\n\r\n```\r\npublic class Controller1 {\r\n\r\n    @PostMapping(path = &quot;endpoint/path/post&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    @Override\r\n    public ResponseEntity&lt;RandomObject&gt; create(RandomObject randomObject) throws Exception {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\n@RequestMapping(EVALUATION_DOMAIN)\r\npublic class Controller2 extends Controller1 {\r\n\r\n    @PostMapping(path = &quot;endpoint/path/post&quot;)\r\n    @Override\r\n    public ResponseEntity&lt;Void&gt; createDifferent() throws Exception {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nYou&#39;ll notice the only difference between these methods (aside from the implementation) is that one takes a body and the other does not.\r\n\r\nMy problem becomes how to define such endpoints in the OpenAPI spec.\r\n\r\nUltimately, my purpose is to validate that each endpoint defined in the controllers has a definition in the relevant OpenAPI file. This is usually simple to do through a combination of the mapping and the request type.\r\n\r\nHowever, as far as I can tell, the only way to define these methods would be to have something like this:\r\n\r\n```\r\n/endpoint/path/post:\r\n  post:\r\n    requestBody:\r\n      required: false\r\n```\r\n\r\nMy question is essentially this:\r\n\r\nIs this the correct (expected) usage of the `required` property? Or is it meant for when the body is nullable?\r\n\r\nIf not, is there another way to define the endpoints in an unambiguous manner?\r\n\r\n-----\r\n\r\nI could not find much in the [swagger documentation](https://swagger.io/docs/specification/describing-request-body/) aside from this (rather unclear) sentence:\r\n\r\n&gt; Request bodies are optional by default. To mark the body as required, use required: true.\r\n\r\nand [this question](https://stackoverflow.com/questions/28687616/use-requestbody-with-optional-body-in-latest-spring-v4) makes me think that &quot;optional&quot; is probably not meant as two different methods, but rather as a nullable body.\r\n\r\nSide note: To be honest, I didn&#39;t even know spring-boot allowed you to define methods with the same mapping + method type, but apparently this code is in production and works as expected.","title":"How can I define two endpoints with the same mapping and request type but different parameters in OpenAPI 3.0.0 spec?","body":"<p>Given the following classes:</p>\n<pre><code>public class Controller1 {\n\n    @PostMapping(path = &quot;endpoint/path/post&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    @Override\n    public ResponseEntity&lt;RandomObject&gt; create(RandomObject randomObject) throws Exception {\n        ...\n    }\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(EVALUATION_DOMAIN)\npublic class Controller2 extends Controller1 {\n\n    @PostMapping(path = &quot;endpoint/path/post&quot;)\n    @Override\n    public ResponseEntity&lt;Void&gt; createDifferent() throws Exception {\n        ...\n    }\n}\n</code></pre>\n<p>You'll notice the only difference between these methods (aside from the implementation) is that one takes a body and the other does not.</p>\n<p>My problem becomes how to define such endpoints in the OpenAPI spec.</p>\n<p>Ultimately, my purpose is to validate that each endpoint defined in the controllers has a definition in the relevant OpenAPI file. This is usually simple to do through a combination of the mapping and the request type.</p>\n<p>However, as far as I can tell, the only way to define these methods would be to have something like this:</p>\n<pre><code>/endpoint/path/post:\n  post:\n    requestBody:\n      required: false\n</code></pre>\n<p>My question is essentially this:</p>\n<p>Is this the correct (expected) usage of the <code>required</code> property? Or is it meant for when the body is nullable?</p>\n<p>If not, is there another way to define the endpoints in an unambiguous manner?</p>\n<hr />\n<p>I could not find much in the <a href=\"https://swagger.io/docs/specification/describing-request-body/\" rel=\"nofollow noreferrer\">swagger documentation</a> aside from this (rather unclear) sentence:</p>\n<blockquote>\n<p>Request bodies are optional by default. To mark the body as required, use required: true.</p>\n</blockquote>\n<p>and <a href=\"https://stackoverflow.com/questions/28687616/use-requestbody-with-optional-body-in-latest-spring-v4\">this question</a> makes me think that &quot;optional&quot; is probably not meant as two different methods, but rather as a nullable body.</p>\n<p>Side note: To be honest, I didn't even know spring-boot allowed you to define methods with the same mapping + method type, but apparently this code is in production and works as expected.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1691000425,"post_id":76821226,"comment_id":135432705,"body_markdown":"`$(` is the wrong start for a value expression you must use curly braces. Also `-montly.text` is the wrong way of providing system. properties they must be prefixed with `-D`. `-Dmontly.text=foo`.","body":"<code>$(</code> is the wrong start for a value expression you must use curly braces. Also <code>-montly.text</code> is the wrong way of providing system. properties they must be prefixed with <code>-D</code>. <code>-Dmontly.text=foo</code>."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1691005449,"post_id":76821226,"comment_id":135433648,"body_markdown":"System properties are part of the `Environment` so you can just use `@Value(&quot;${monthly.text}&quot;)`. Do you have to use a SpEL expression for some reason?","body":"System properties are part of the <code>Environment</code> so you can just use <code>@Value(&quot;${monthly.text}&quot;)</code>. Do you have to use a SpEL expression for some reason?"},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1691029053,"post_id":76821226,"comment_id":135436440,"body_markdown":"@AndyWilkinson it is a question in interview more than a reality case (must choose 2 ways). In the past, I used SpEL in Thymeleaf view, even I also used SpEL in Java code.","body":"@AndyWilkinson it is a question in interview more than a reality case (must choose 2 ways). In the past, I used SpEL in Thymeleaf view, even I also used SpEL in Java code."}],"answers":[{"tags":[],"owner":{"account_id":257549,"reputation":4998,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690990839,"creation_date":1690990839,"answer_id":76821505,"question_id":76821226,"body_markdown":"This worked for me:\r\n\r\n    @Value(&quot;#{systemProperties[&#39;monthly.text&#39;]}&quot;)\r\n    String string2;\r\n\r\nAnd set the JVM arguments:\r\n\r\n    -Dmonthly.text=love\r\n\r\nPart of the difficulty is that the name of the property includes a period. If you have control over the name of the property, I would get rid of the period. Then it becomes simpler:\r\n\r\n    @Value(&quot;${monthly_text}&quot;) String param\r\n\r\nAnd of course:\r\n\r\n    -Dmonthly_text=love\r\n","title":"Spring cannot print system properties","body":"<p>This worked for me:</p>\n<pre><code>@Value(&quot;#{systemProperties['monthly.text']}&quot;)\nString string2;\n</code></pre>\n<p>And set the JVM arguments:</p>\n<pre><code>-Dmonthly.text=love\n</code></pre>\n<p>Part of the difficulty is that the name of the property includes a period. If you have control over the name of the property, I would get rid of the period. Then it becomes simpler:</p>\n<pre><code>@Value(&quot;${monthly_text}&quot;) String param\n</code></pre>\n<p>And of course:</p>\n<pre><code>-Dmonthly_text=love\n</code></pre>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690990839,"creation_date":1690988738,"question_id":76821226,"body_markdown":"My `pom.xml`\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;20&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n\r\n\r\n\t\t&lt;!--&lt;dependency&gt;--&gt;\r\n\t\t&lt;!--\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n\t\t&lt;!--\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;--&gt;\r\n\t\t&lt;!--&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nFile `FooController.java`\r\n\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController(&quot;foo&quot;)\r\npublic class FooController {\r\n\r\n    @Value(&quot;#{systemEnvironment[&#39;JAVA_HOME&#39;]}&quot;)\r\n    String javaHome;\r\n\r\n    @Value(&quot;$(systemProperties.monthly.text)&quot;)\r\n    String string2;\r\n\r\n    @Value(&quot;#{systemProperties[&#39;monthly.text&#39;]}&quot;)\r\n    String string3;\r\n\r\n    @GetMapping(&quot;/bar&quot;)\r\n    String foo(){\r\n        System.out.println(&quot;string2 = &quot; + string2);\r\n        System.out.println(&quot;string3 = &quot; + string3);\r\n        return javaHome;\r\n    }\r\n\r\n}\r\n\r\n// http://localhost:8080/bar\r\n// D:\\tools\\graalvm-jdk-20.0.1+9.1\r\n```\r\nThis is my full project https://github.com/donhuvy/spring-boot3-system-properties/blob/main/src/main/java/com/example/demo/FooController.java#L13 .\r\n\r\nI want print system properties in 2 ways. Please help me `monthly.text`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FA5hN.png\r\n  [2]: https://i.stack.imgur.com/39mKP.png\r\n  [3]: https://i.stack.imgur.com/Zf62P.png","title":"Spring cannot print system properties","body":"<p>My <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n\n\n        &lt;!--&lt;dependency&gt;--&gt;\n        &lt;!--    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n        &lt;!--    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;--&gt;\n        &lt;!--&lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/FA5hN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FA5hN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/39mKP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/39mKP.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Zf62P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zf62P.png\" alt=\"enter image description here\" /></a></p>\n<p>File <code>FooController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController(&quot;foo&quot;)\npublic class FooController {\n\n    @Value(&quot;#{systemEnvironment['JAVA_HOME']}&quot;)\n    String javaHome;\n\n    @Value(&quot;$(systemProperties.monthly.text)&quot;)\n    String string2;\n\n    @Value(&quot;#{systemProperties['monthly.text']}&quot;)\n    String string3;\n\n    @GetMapping(&quot;/bar&quot;)\n    String foo(){\n        System.out.println(&quot;string2 = &quot; + string2);\n        System.out.println(&quot;string3 = &quot; + string3);\n        return javaHome;\n    }\n\n}\n\n// http://localhost:8080/bar\n// D:\\tools\\graalvm-jdk-20.0.1+9.1\n</code></pre>\n<p>This is my full project <a href=\"https://github.com/donhuvy/spring-boot3-system-properties/blob/main/src/main/java/com/example/demo/FooController.java#L13\" rel=\"nofollow noreferrer\">https://github.com/donhuvy/spring-boot3-system-properties/blob/main/src/main/java/com/example/demo/FooController.java#L13</a> .</p>\n<p>I want print system properties in 2 ways. Please help me <code>monthly.text</code></p>\n"},{"tags":["java","junit","junit4"],"comments":[{"owner":{"display_name":"user2453382"},"score":2,"creation_date":1690599172,"post_id":76791850,"comment_id":135379892,"body_markdown":"The message says `199970 more` so it is unrealistic to think any one person can go through the whole sequence, that is why it makes sense JUnit would truncate it. Alternatively, if you care about the exact difference between these two lists, check out https://stackoverflow.com/q/41723028/2453382 and it&#39;s corresponding answers.","body":"The message says <code>199970 more</code> so it is unrealistic to think any one person can go through the whole sequence, that is why it makes sense JUnit would truncate it. Alternatively, if you care about the exact difference between these two lists, check out <a href=\"https://stackoverflow.com/q/41723028/2453382\">stackoverflow.com/q/41723028/2453382</a> and it&#39;s corresponding answers."},{"owner":{"display_name":"user2453382"},"score":1,"creation_date":1690599360,"post_id":76791850,"comment_id":135379895,"body_markdown":"I am also curious as to why would you need to compare two large generics AND care about their members? Should it not be enough to know that they are not the same? What was the motivation behind this test? Usually complicated problems come with systemic issues, you can consider a refactor as well.","body":"I am also curious as to why would you need to compare two large generics AND care about their members? Should it not be enough to know that they are not the same? What was the motivation behind this test? Usually complicated problems come with systemic issues, you can consider a refactor as well."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690599929,"post_id":76791850,"comment_id":135379923,"body_markdown":"Every class has `toString`, so I&#39;m not sure why the members of the Lists being of an unknown class is an obstacle to printing them?","body":"Every class has <code>toString</code>, so I&#39;m not sure why the members of the Lists being of an unknown class is an obstacle to printing them?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690599998,"post_id":76791850,"comment_id":135379927,"body_markdown":"Incidentally you can connect a debugger to a JVM remotely, so you can use a GUI debugger, as long as you can get access to a socket.","body":"Incidentally you can connect a debugger to a JVM remotely, so you can use a GUI debugger, as long as you can get access to a socket."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1690619457,"post_id":76791850,"comment_id":135381206,"body_markdown":"Are you using AssertJ? Please [edit] your question to include a [mcve], which shows the problem you have and how you use the generic types. Is it an option to use `assertThatList()`?","body":"Are you using AssertJ? Please <a href=\"https://stackoverflow.com/posts/76791850/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which shows the problem you have and how you use the generic types. Is it an option to use <code>assertThatList()</code>?"},{"owner":{"account_id":13763612,"reputation":125,"user_id":9932718,"display_name":"Lucas W"},"score":0,"creation_date":1690990738,"post_id":76791850,"comment_id":135430812,"body_markdown":"Thank you all for the feedback! I&#39;ve added an example &amp; will investigate the directions above.","body":"Thank you all for the feedback! I&#39;ve added an example &amp; will investigate the directions above."}],"owner":{"account_id":13763612,"reputation":125,"user_id":9932718,"display_name":"Lucas W"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690990690,"creation_date":1690598096,"question_id":76791850,"body_markdown":"In my headless system, I&#39;m looking to check for content equality of two generic types (e.g `T`) with the `assertThat(generic1).isEqualTo(generic2)` function in JUnit4.\r\n\r\nA minimally reproducible example can be made by defining two generic variables and calling the `isEqualTo` method on them, where `T` is a Java Generic type, and the function `returnArrayListGeneric()` has a return type of T, which ***could*** be an ArrayList:\r\n\r\n    T a = returnArrayListGeneric();\r\n    T b = returnArrayListGeneric();\r\n    \r\n    assertThat(a).isEqualTo(b)\r\n\r\nThis works when T is some simple generic types, but with a very long array, JUnit automatically truncates the printed content of the Arrays to 30 elements long, which makes it impossible to examine the difference between the ArrayLists past that point. Example below:\r\n\r\n    Expecting:\r\n     &lt;&quot;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, ... (199970 more)] (ArrayList@7bde3f35)&quot;&gt;\r\n    to be equal to:\r\n     &lt;&quot;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, ... (199970 more)] (ArrayList@c67be61)&quot;&gt;\r\n    but was not.\r\n\r\nSince this is a headless system, I don&#39;t believe that I have access to setting variables such as `idea.junit....`, neither do I have access to GUI-based debuggers.\r\n\r\nI have attempted augmenting the test method itself to print out the content of the arrays manually. But since the arguments themselves are generics and cannot be directly casted to an `ArrayList&lt;Integer&gt;`, and I do not wish to modify the implementation of the classes and methods themselves, I am currently stuck on that as well.\r\n\r\nAny input  would be greatly appreciated!","title":"JUnit AssertEquals truncates array results","body":"<p>In my headless system, I'm looking to check for content equality of two generic types (e.g <code>T</code>) with the <code>assertThat(generic1).isEqualTo(generic2)</code> function in JUnit4.</p>\n<p>A minimally reproducible example can be made by defining two generic variables and calling the <code>isEqualTo</code> method on them, where <code>T</code> is a Java Generic type, and the function <code>returnArrayListGeneric()</code> has a return type of T, which <em><strong>could</strong></em> be an ArrayList:</p>\n<pre><code>T a = returnArrayListGeneric();\nT b = returnArrayListGeneric();\n\nassertThat(a).isEqualTo(b)\n</code></pre>\n<p>This works when T is some simple generic types, but with a very long array, JUnit automatically truncates the printed content of the Arrays to 30 elements long, which makes it impossible to examine the difference between the ArrayLists past that point. Example below:</p>\n<pre><code>Expecting:\n &lt;&quot;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, ... (199970 more)] (ArrayList@7bde3f35)&quot;&gt;\nto be equal to:\n &lt;&quot;[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, ... (199970 more)] (ArrayList@c67be61)&quot;&gt;\nbut was not.\n</code></pre>\n<p>Since this is a headless system, I don't believe that I have access to setting variables such as <code>idea.junit....</code>, neither do I have access to GUI-based debuggers.</p>\n<p>I have attempted augmenting the test method itself to print out the content of the arrays manually. But since the arguments themselves are generics and cannot be directly casted to an <code>ArrayList&lt;Integer&gt;</code>, and I do not wish to modify the implementation of the classes and methods themselves, I am currently stuck on that as well.</p>\n<p>Any input  would be greatly appreciated!</p>\n"},{"tags":["java","android","dagger-2","classnotfoundexception","androidx"],"answers":[{"comments":[{"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"score":0,"creation_date":1574347744,"post_id":58976771,"comment_id":104208378,"body_markdown":"thanks @Segun Wahaab, and \n1- Yes app was working fine before migrating to AndroidX\n2- Yes app works without crash in other devices and crashes in andoirdX\n3- Yes i refracted the code and all the packages are in lowercase\n[source file for the project could you help](https://github.com/MukeshGreenDeveloper/PrUserNew)","body":"thanks @Segun Wahaab, and  1- Yes app was working fine before migrating to AndroidX 2- Yes app works without crash in other devices and crashes in andoirdX 3- Yes i refracted the code and all the packages are in lowercase <a href=\"https://github.com/MukeshGreenDeveloper/PrUserNew\" rel=\"nofollow noreferrer\">source file for the project could you help</a>"},{"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"score":0,"creation_date":1574351018,"post_id":58976771,"comment_id":104210377,"body_markdown":"I have just forked your repo and downloaded your code to android studio and about to start debugging.","body":"I have just forked your repo and downloaded your code to android studio and about to start debugging."},{"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"score":0,"creation_date":1574351406,"post_id":58976771,"comment_id":104210618,"body_markdown":"Meanwhile, I noticed you added the green checkbox to another answer in the previous question you asked here: https://stackoverflow.com/questions/58915112/debug-databindinggenbaseclassesdebug-databinding-activitysignupbinding-java-andr/58940668#58940668 . Adding the checkbox to an anwer which is not the direct answer to your issue could confuse future users","body":"Meanwhile, I noticed you added the green checkbox to another answer in the previous question you asked here: <a href=\"https://stackoverflow.com/questions/58915112/debug-databindinggenbaseclassesdebug-databinding-activitysignupbinding-java-andr/58940668#58940668\" title=\"debug databindinggenbaseclassesdebug databinding activitysignupbinding java andr\">stackoverflow.com/questions/58915112/&hellip;</a> . Adding the checkbox to an anwer which is not the direct answer to your issue could confuse future users"},{"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"score":0,"creation_date":1574352944,"post_id":58976771,"comment_id":104211595,"body_markdown":"There are quite a lot of errors in your project. some of these are related to calling new methods on older versions of android. You need to fix all these errors one after the other to prevent crashes at the user end. To see these errors, right-click the app directory, click &#39;analyze&#39;, then &#39;inspect code&#39;.","body":"There are quite a lot of errors in your project. some of these are related to calling new methods on older versions of android. You need to fix all these errors one after the other to prevent crashes at the user end. To see these errors, right-click the app directory, click &#39;analyze&#39;, then &#39;inspect code&#39;."},{"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"score":0,"creation_date":1574353098,"post_id":58976771,"comment_id":104211687,"body_markdown":"At least there are 9 errors related to calling new methods on older versions of android. You need to first check if the version of android is above or equal to the min supported version before you call these methods. Unless your code would crash on lower versions of android","body":"At least there are 9 errors related to calling new methods on older versions of android. You need to first check if the version of android is above or equal to the min supported version before you call these methods. Unless your code would crash on lower versions of android"},{"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"score":0,"creation_date":1574353705,"post_id":58976771,"comment_id":104212038,"body_markdown":"You could focus on fixing the android errors and ignore the warnings and typos for now","body":"You could focus on fixing the android errors and ignore the warnings and typos for now"},{"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"score":0,"creation_date":1574407406,"post_id":58976771,"comment_id":104230020,"body_markdown":"thanks, could you point out one so that i could identify the rest error","body":"thanks, could you point out one so that i could identify the rest error"},{"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"score":0,"creation_date":1574408043,"post_id":58976771,"comment_id":104230268,"body_markdown":"To see these errors, right-click the app directory, click &#39;analyze&#39;, then &#39;inspect code&#39;","body":"To see these errors, right-click the app directory, click &#39;analyze&#39;, then &#39;inspect code&#39;"},{"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"score":0,"creation_date":1574841276,"post_id":58976771,"comment_id":104369386,"body_markdown":"thanks **@Segun Wahaab**, i have fixed the error from analyze still shows the same error                            \n`java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName`","body":"thanks <b>@Segun Wahaab</b>, i have fixed the error from analyze still shows the same error                             <code>java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName</code>"},{"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"score":0,"creation_date":1574842113,"post_id":58976771,"comment_id":104369758,"body_markdown":"error when screen loaded\n`java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)&#39; on a null object reference\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\n        at android.os.MessageQueue.nativePollOnce(Native Method)`","body":"error when screen loaded <code>java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForC&zwnj;&#8203;ompatibility(android&zwnj;&#8203;.view.InputEvent)&#39; on a null object reference         at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEv&zwnj;&#8203;ent(ViewRootImpl.jav&zwnj;&#8203;a:7614)         at android.view.InputEventReceiver.dispatchInputEvent(InputEven&zwnj;&#8203;tReceiver.java:188)         at android.os.MessageQueue.nativePollOnce(Native Method)</code>"},{"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"score":0,"creation_date":1574842136,"post_id":58976771,"comment_id":104369768,"body_markdown":"And error on click of editText of the loaded screen\n`java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)&#39; on a null object reference\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)`","body":"And error on click of editText of the loaded screen <code>java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForC&zwnj;&#8203;ompatibility(android&zwnj;&#8203;.view.InputEvent)&#39; on a null object reference         at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEv&zwnj;&#8203;ent(ViewRootImpl.jav&zwnj;&#8203;a:7614)         at android.view.InputEventReceiver.dispatchInputEvent(InputEven&zwnj;&#8203;tReceiver.java:188)</code>"},{"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"score":0,"creation_date":1574919302,"post_id":58976771,"comment_id":104401088,"body_markdown":"post a link to your new error-free project on git hub","body":"post a link to your new error-free project on git hub"},{"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"score":0,"creation_date":1574920021,"post_id":58976771,"comment_id":104401287,"body_markdown":"updated code  with removed old method errors [Source Code](https://github.com/MukeshGreenDeveloper/PrUserNew)","body":"updated code  with removed old method errors <a href=\"https://github.com/MukeshGreenDeveloper/PrUserNew\" rel=\"nofollow noreferrer\">Source Code</a>"},{"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"score":0,"creation_date":1575228514,"post_id":58976771,"comment_id":104486235,"body_markdown":"thanks for your support **@SegunWahaab** fixed the problem it was not related to migration\nSolutions https://stackoverflow.com/a/59129135/9191757","body":"thanks for your support <b>@SegunWahaab</b> fixed the problem it was not related to migration Solutions <a href=\"https://stackoverflow.com/a/59129135/9191757\">stackoverflow.com/a/59129135/9191757</a>"}],"tags":[],"owner":{"account_id":12175166,"reputation":2703,"user_id":8888461,"display_name":"Oluwasegun Wahaab"},"comment_count":14,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574345009,"creation_date":1574345009,"answer_id":58976771,"question_id":58965782,"body_markdown":"There are a couple of clarifications needed to answer your question\r\n\r\n1. Was the app working fine before you migrated to androidx?\r\n\r\n2. Does the app work without crashing on other devices but crashes on just android 10.0?\r\n\r\n3. did you refactor your package names correctly? If your file names in the manifest or generated code have a package name starting with capital letters, &#39;class not found exception&#39; could result\r\n\r\n\r\nYou can try pasting (if possible) the Github link to the whole project for proper debugging. \r\n\r\nHowever, from the code you pasted, your minsdkversion= 16 in your project build.gradle ext block differs from the minsdkversion= 15 in your app build.gradle file. The targetsdkversion also differs in the two files\r\n","title":"ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName androidx, running on andoridx crashes","body":"<p>There are a couple of clarifications needed to answer your question</p>\n\n<ol>\n<li><p>Was the app working fine before you migrated to androidx?</p></li>\n<li><p>Does the app work without crashing on other devices but crashes on just android 10.0?</p></li>\n<li><p>did you refactor your package names correctly? If your file names in the manifest or generated code have a package name starting with capital letters, 'class not found exception' could result</p></li>\n</ol>\n\n<p>You can try pasting (if possible) the Github link to the whole project for proper debugging. </p>\n\n<p>However, from the code you pasted, your minsdkversion= 16 in your project build.gradle ext block differs from the minsdkversion= 15 in your app build.gradle file. The targetsdkversion also differs in the two files</p>\n"},{"tags":[],"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575228427,"creation_date":1575228427,"answer_id":59129135,"question_id":58965782,"body_markdown":"thanks for all the support i solved the issues, this was due to the usage of deprecated method, this was not related to migration\r\n\r\n    @Override\r\n    public Resources getResources() {\r\n        return new CustomResources(sharedPrefence, getAssets(), super.getResources().getDisplayMetrics(), super.getResources().getConfiguration());\r\n    }\r\n\r\n custom Resources class cannot be used in this way in androidX, by removing this method from Baseactivity.java solved the problem, thanks for all your suppor","title":"ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName androidx, running on andoridx crashes","body":"<p>thanks for all the support i solved the issues, this was due to the usage of deprecated method, this was not related to migration</p>\n\n<pre><code>@Override\npublic Resources getResources() {\n    return new CustomResources(sharedPrefence, getAssets(), super.getResources().getDisplayMetrics(), super.getResources().getConfiguration());\n}\n</code></pre>\n\n<p>custom Resources class cannot be used in this way in androidX, by removing this method from Baseactivity.java solved the problem, thanks for all your suppor</p>\n"},{"comments":[{"owner":{"account_id":5179553,"reputation":307,"user_id":4145643,"display_name":"Antoine"},"score":1,"creation_date":1601041599,"post_id":61213419,"comment_id":113289127,"body_markdown":"I wanna add some emphasis on the part about &quot;Make sure all verions of getText() in your custom Resource respect the original behavior and it won&#39;t cause NPE crash.&quot; This is what was causing an issue for me.","body":"I wanna add some emphasis on the part about &quot;Make sure all verions of getText() in your custom Resource respect the original behavior and it won&#39;t cause NPE crash.&quot; This is what was causing an issue for me."},{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1660128780,"post_id":61213419,"comment_id":129458210,"body_markdown":"Unfortunately, this seems not works for me as well :(\n\nfor getString, getText, getString, getText. \n\nis this right doing it with: `try { super.get*(...) } catch (NotFoundException) { &quot;&quot; }`","body":"Unfortunately, this seems not works for me as well :(  for getString, getText, getString, getText.   is this right doing it with: <code>try { super.get*(...) } catch (NotFoundException) { &quot;&quot; }</code>"}],"tags":[],"owner":{"account_id":7684850,"reputation":1085,"user_id":5823014,"display_name":"J&#225;nos Sicz-Meszi&#225;r"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1586884426,"creation_date":1586884426,"answer_id":61213419,"question_id":58965782,"body_markdown":"I have faced with the same issue on Android 10. I used the [Restring][1] library which injects a custom `Resource` implementation through `attachBaseContext(newBase: Context)`. Everyone here mentioned that constructor of `Resource` marked as deprecated, but it doesn&#39;t really cause a problem.\r\n\r\nI was digging into the Android source code and I found the real reason that can throw NPE.\r\n\r\nAffected lines from `ViewRootImpl.java`:\r\n```java\r\nString processorOverrideName = context.getResources().getString(\r\n                                    R.string.config_inputEventCompatProcessorOverrideClassName);\r\n        if (processorOverrideName.isEmpty()) {\r\n            // No compatibility processor override, using default.\r\n            mInputCompatProcessor = new InputEventCompatProcessor(context);\r\n        } else {\r\n            InputEventCompatProcessor compatProcessor = null;\r\n            try {\r\n                final Class&lt;? extends InputEventCompatProcessor&gt; klass =\r\n                        (Class&lt;? extends InputEventCompatProcessor&gt;) Class.forName(\r\n                                processorOverrideName);\r\n                compatProcessor = klass.getConstructor(Context.class).newInstance(context);\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;Unable to create the InputEventCompatProcessor. &quot;, e);\r\n            } finally {\r\n                mInputCompatProcessor = compatProcessor;\r\n            }\r\n        }\r\n```\r\n\r\nIn my case, using Restring library, I defined a new way to resolve a string key and return text. If the key isn&#39;t available in my string repository (simple HashMap) or as a string resource, it returns with the key itself. So never will be empty, but according to the code it will try to load as custom `InputEventCompatProcessor` that will fail and  `mInputCompatProcessor` will be `null`.\r\n\r\nMake sure all verions of `getText()` in your custom `Resource` respect the original behavior and it won&#39;t cause NPE crash. For example make sure `R.string.config_inputEventCompatProcessorOverrideClassName` resource will be resolved as empty string when it&#39;s not available.\r\n\r\nThis will solve the real issue and you can still use the deprecated Resource constructor.\r\n\r\n\r\n  [1]: https://github.com/hamidness/restring","title":"ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName androidx, running on andoridx crashes","body":"<p>I have faced with the same issue on Android 10. I used the <a href=\"https://github.com/hamidness/restring\" rel=\"noreferrer\">Restring</a> library which injects a custom <code>Resource</code> implementation through <code>attachBaseContext(newBase: Context)</code>. Everyone here mentioned that constructor of <code>Resource</code> marked as deprecated, but it doesn't really cause a problem.</p>\n\n<p>I was digging into the Android source code and I found the real reason that can throw NPE.</p>\n\n<p>Affected lines from <code>ViewRootImpl.java</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String processorOverrideName = context.getResources().getString(\n                                    R.string.config_inputEventCompatProcessorOverrideClassName);\n        if (processorOverrideName.isEmpty()) {\n            // No compatibility processor override, using default.\n            mInputCompatProcessor = new InputEventCompatProcessor(context);\n        } else {\n            InputEventCompatProcessor compatProcessor = null;\n            try {\n                final Class&lt;? extends InputEventCompatProcessor&gt; klass =\n                        (Class&lt;? extends InputEventCompatProcessor&gt;) Class.forName(\n                                processorOverrideName);\n                compatProcessor = klass.getConstructor(Context.class).newInstance(context);\n            } catch (Exception e) {\n                Log.e(TAG, \"Unable to create the InputEventCompatProcessor. \", e);\n            } finally {\n                mInputCompatProcessor = compatProcessor;\n            }\n        }\n</code></pre>\n\n<p>In my case, using Restring library, I defined a new way to resolve a string key and return text. If the key isn't available in my string repository (simple HashMap) or as a string resource, it returns with the key itself. So never will be empty, but according to the code it will try to load as custom <code>InputEventCompatProcessor</code> that will fail and  <code>mInputCompatProcessor</code> will be <code>null</code>.</p>\n\n<p>Make sure all verions of <code>getText()</code> in your custom <code>Resource</code> respect the original behavior and it won't cause NPE crash. For example make sure <code>R.string.config_inputEventCompatProcessorOverrideClassName</code> resource will be resolved as empty string when it's not available.</p>\n\n<p>This will solve the real issue and you can still use the deprecated Resource constructor.</p>\n"}],"owner":{"account_id":7854411,"reputation":63,"user_id":9191757,"display_name":"Mukesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59129135,"answer_count":3,"score":1,"last_activity_date":1690990651,"creation_date":1574298752,"question_id":58965782,"body_markdown":"After Migrating to AndroidX(29) running on the AndroidX device Crashes showing \r\n\r\n    ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\r\n\r\nthe project compiles and runs it crashes when launched in andorid10.0\r\nwhen clicked on the editText i get this error\r\n\r\n    NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)&#39; on a null object reference\r\n\r\nproject/build.gradle\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n            maven { url &#39;https://maven.fabric.io/public&#39; }\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n            google()\r\n        }\r\n        dependencies {\r\n    //        classpath &#39;com.android.tools.build:gradle:2.3.3&#39;\r\n            classpath &#39;com.android.tools.build:gradle:3.5.0&#39;\r\n            classpath &#39;com.google.gms:google-services:3.0.0&#39;\r\n    //        classpath &#39;io.fabric.tools:gradle:1.+&#39;\r\n\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            mavenCentral()\r\n            maven { url &#39;https://maven.google.com&#39; }\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n    ext {\r\n        // Sdk and tools\r\n        minSdkVersion = 16\r\n        targetSdkVersion = 26\r\n        compileSdkVersion = 26\r\n        buildToolsVersion = &#39;26.0.0&#39;\r\n\r\n        // App dependencies\r\n        supportLibraryVersion = &#39;25.4.0&#39;\r\n        gsonVersion = &#39;2.8.0&#39;\r\n        calligraphyVersion = &#39;2.2.0&#39;\r\n        glideVersion = &#39;3.7.0&#39;\r\n        roomDatabase = &#39;1.0.0-alpha3&#39;\r\n        rx2FastAndroidNetworking = &#39;1.0.0&#39;\r\n\r\n        dagger2Version = &#39;2.16&#39;\r\n        rxjava2Version = &#39;2.0.6&#39;\r\n        rxandroidVersion = &#39;2.0.1&#39;\r\n        placeholderviewVersion = &#39;0.6.1&#39;\r\n        debugDBVersion = &#39;1.0.0&#39;\r\n        timberVersion = &#39;4.5.1&#39;\r\n        lifecycle = &#39;1.0.0-alpha3&#39;\r\n\r\n        retrofitVersion=&#39;2.3.0&#39;\r\n        GsonVersion=&#39;2.7&#39;\r\n        okhttpVersion= &#39;3.8.0&#39;\r\n        googleplus= &#39;11.0.0&#39;//&#39;10.2.0&#39;//&#39;11.0.4&#39;\r\n        glideversion= &#39;4.1.1&#39;\r\n\r\n        //Test dependencies\r\n        junitVersion = &#39;4.12&#39;\r\n        espressoVersion = &#39;2.2.2&#39;\r\n        mockitoVersion = &#39;2.7.1&#39;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\napp/build.gradle\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;io.fabric&#39;\r\n\r\n    repositories {\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    }\r\n    buildscript {\r\n        repositories {\r\n            maven { url &#39;https://maven.fabric.io/public&#39; }\r\n        }\r\n\r\n        dependencies {\r\n            classpath &#39;io.fabric.tools:gradle:1.27.1&#39;\r\n        }\r\n    }\r\n    android {\r\n        compileSdkVersion 28\r\n        signingConfigs {\r\n            ReleaseConfig {\r\n                keyAlias &#39;xxxxx&#39;\r\n                keyPassword &#39;xxxxx&#39;\r\n                storeFile file(&#39;../KeyStore/xxxxx.jks&#39;)\r\n                storePassword &#39;xxxxx&#39;\r\n            }\r\n        }\r\n        defaultConfig {\r\n            applicationId &quot;bz.pei.driver&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 28\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            multiDexEnabled true\r\n            vectorDrawables.useSupportLibrary = true\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            signingConfig signingConfigs.ReleaseConfig\r\n            setProperty(&quot;archivesBaseName&quot;, &quot;PEI Taxi_Driver_v$versionName&quot;)\r\n\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_7\r\n            targetCompatibility JavaVersion.VERSION_1_7\r\n        }\r\n\r\n        List&lt;String&gt; dirs = [\r\n                &#39;main&#39;,     // main sample code; look here for the interesting stuff.\r\n                &#39;common&#39;,   // components that are reused by multiple samples\r\n                &#39;template&#39;] // boilerplate code that is generated by the sample template process\r\n        sourceSets {\r\n            main {\r\n                dirs.each { dir -&gt;\r\n                    java.srcDirs &quot;src/${dir}/java&quot;\r\n                    res.srcDirs &quot;src/${dir}/res&quot;\r\n                }\r\n            }\r\n            androidTest.setRoot(&#39;tests&#39;)\r\n            androidTest.java.srcDirs = [&#39;tests/src&#39;]\r\n\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }\r\n        dataBinding.enabled = true\r\n    }\r\n\r\n    dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestImplementation(&#39;androidx.test.espresso:espresso-core:3.1.0&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        //Crashlytics\r\n        implementation(&#39;com.crashlytics.sdk.android:crashlytics:2.8.0@aar&#39;) {\r\n            transitive = true;\r\n        }\r\n        // dependency injection\r\n        implementation &quot;com.google.dagger:dagger:$rootProject.dagger2Version&quot;\r\n        annotationProcessor &quot;com.google.dagger:dagger-compiler:$rootProject.dagger2Version&quot;\r\n        annotationProcessor &quot;com.google.dagger:dagger-android-processor:$rootProject.dagger2Version&quot;\r\n        implementation &quot;com.google.dagger:dagger-android-support:$rootProject.dagger2Version&quot;\r\n        //Viewmodel\r\n        implementation &quot;com.squareup.retrofit2:retrofit:$rootProject.retrofitVersion&quot;\r\n        implementation &quot;com.squareup.retrofit2:converter-gson:$rootProject.retrofitVersion&quot;\r\n        implementation &quot;com.squareup.okhttp3:logging-interceptor:$rootProject.okhttpVersion&quot;\r\n        implementation &quot;com.google.android.gms:play-services-auth:$rootProject.googleplus&quot;\r\n        implementation &quot;com.google.android.gms:play-services-maps:$rootProject.googleplus&quot;\r\n        implementation &quot;com.google.android.gms:play-services-location:11.0.0&quot;\r\n        implementation &#39;com.google.maps.android:android-maps-utils:0.5+&#39;\r\n        implementation &#39;com.github.javiersantos:AppUpdater:2.7&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:11.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:11.0.0&#39;\r\n        implementation &quot;com.github.bumptech.glide:glide:$rootProject.glideversion&quot;\r\n        implementation(&#39;io.socket:socket.io-client:1.0.0&#39;) {//0.8.3&#39;) {\r\n            exclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\n        }\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.intuit.sdp:sdp-android:1.0.4&#39;\r\n        implementation &quot;com.google.android.gms:play-services-maps:$rootProject.googleplus&quot;\r\n        implementation &#39;fr.avianey.com.viewpagerindicator:library:2.4.1.1@aar&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n\r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    configurations.all {\r\n        resolutionStrategy.force &quot;com.android.support:support-annotations:$supportLibraryVersion&quot;\r\n        resolutionStrategy.force &#39;com.google.code.findbugs:jsr305:1.3.9&#39;\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ngradle-wrapper.properties\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    #Wed Nov 20 00:37:33 IST 2019\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    # Project-wide Gradle settings.\r\n\r\n    # IDE (e.g. Android Studio) users:\r\n    # Gradle settings configured through the IDE *will override*\r\n    # any settings specified in this file.\r\n\r\n    # For more details on how to configure your build environment visit\r\n    # http://www.gradle.org/docs/current/userguide/build_environment.html\r\n\r\n    # Specifies the JVM arguments used for the daemon process.\r\n    # The setting is particularly useful for tweaking memory settings.\r\n    android.enableJetifier=true\r\n    android.useAndroidX=true\r\n    org.gradle.jvmargs=-Xmx1536m\r\n\r\n    # When configured, Gradle will run in incubating parallel mode.\r\n    # This option should only be used with decoupled projects. More details, visit\r\n    # http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n    # org.gradle.parallel=true\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.Class.forName(Class.java:454)\r\n        at java.lang.Class.forName(Class.java:379)\r\n        at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:635)\r\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:377)\r\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\r\n        at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4296)\r\n        at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.BootClassLoader.findClass(ClassLoader.java:1358)\r\n        at java.lang.BootClassLoader.loadClass(ClassLoader.java:1418)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at java.lang.Class.classForName(Native Method)&#160;\r\n        at java.lang.Class.forName(Class.java:454)&#160;\r\n        at java.lang.Class.forName(Class.java:379)&#160;\r\n        at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:635)&#160;\r\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:377)&#160;\r\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)&#160;\r\n        at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4296)&#160;\r\n        at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)&#39; on a null object reference\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:336)\r\n        at android.os.Looper.loop(Looper.java:174)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n2019-11-21 06:41:59.007 27692-27692/bz.pei.driver E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: bz.pei.driver, PID: 27692\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)&#39; on a null object reference\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:336)\r\n        at android.os.Looper.loop(Looper.java:174)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n\r\n","title":"ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName androidx, running on andoridx crashes","body":"<p>After Migrating to AndroidX(29) running on the AndroidX device Crashes showing</p>\n<pre><code>ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\n</code></pre>\n<p>the project compiles and runs it crashes when launched in andorid10.0\nwhen clicked on the editText i get this error</p>\n<pre><code>NullPointerException: Attempt to invoke virtual method 'java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)' on a null object reference\n</code></pre>\n<p>project/build.gradle\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>buildscript {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.fabric.io/public' }\n        maven { url 'https://jitpack.io' }\n        google()\n    }\n    dependencies {\n//        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath 'com.android.tools.build:gradle:3.5.0'\n        classpath 'com.google.gms:google-services:3.0.0'\n//        classpath 'io.fabric.tools:gradle:1.+'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven { url 'https://maven.google.com' }\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\next {\n    // Sdk and tools\n    minSdkVersion = 16\n    targetSdkVersion = 26\n    compileSdkVersion = 26\n    buildToolsVersion = '26.0.0'\n\n    // App dependencies\n    supportLibraryVersion = '25.4.0'\n    gsonVersion = '2.8.0'\n    calligraphyVersion = '2.2.0'\n    glideVersion = '3.7.0'\n    roomDatabase = '1.0.0-alpha3'\n    rx2FastAndroidNetworking = '1.0.0'\n\n    dagger2Version = '2.16'\n    rxjava2Version = '2.0.6'\n    rxandroidVersion = '2.0.1'\n    placeholderviewVersion = '0.6.1'\n    debugDBVersion = '1.0.0'\n    timberVersion = '4.5.1'\n    lifecycle = '1.0.0-alpha3'\n\n    retrofitVersion='2.3.0'\n    GsonVersion='2.7'\n    okhttpVersion= '3.8.0'\n    googleplus= '11.0.0'//'10.2.0'//'11.0.4'\n    glideversion= '4.1.1'\n\n    //Test dependencies\n    junitVersion = '4.12'\n    espressoVersion = '2.2.2'\n    mockitoVersion = '2.7.1'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>app/build.gradle</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>apply plugin: 'com.android.application'\napply plugin: 'io.fabric'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n}\nbuildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.27.1'\n    }\n}\nandroid {\n    compileSdkVersion 28\n    signingConfigs {\n        ReleaseConfig {\n            keyAlias 'xxxxx'\n            keyPassword 'xxxxx'\n            storeFile file('../KeyStore/xxxxx.jks')\n            storePassword 'xxxxx'\n        }\n    }\n    defaultConfig {\n        applicationId \"bz.pei.driver\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        signingConfig signingConfigs.ReleaseConfig\n        setProperty(\"archivesBaseName\", \"PEI Taxi_Driver_v$versionName\")\n\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n\n    List&lt;String&gt; dirs = [\n            'main',     // main sample code; look here for the interesting stuff.\n            'common',   // components that are reused by multiple samples\n            'template'] // boilerplate code that is generated by the sample template process\n    sourceSets {\n        main {\n            dirs.each { dir -&gt;\n                java.srcDirs \"src/${dir}/java\"\n                res.srcDirs \"src/${dir}/res\"\n            }\n        }\n        androidTest.setRoot('tests')\n        androidTest.java.srcDirs = ['tests/src']\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n    dataBinding.enabled = true\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('androidx.test.espresso:espresso-core:3.1.0', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    //Crashlytics\n    implementation('com.crashlytics.sdk.android:crashlytics:2.8.0@aar') {\n        transitive = true;\n    }\n    // dependency injection\n    implementation \"com.google.dagger:dagger:$rootProject.dagger2Version\"\n    annotationProcessor \"com.google.dagger:dagger-compiler:$rootProject.dagger2Version\"\n    annotationProcessor \"com.google.dagger:dagger-android-processor:$rootProject.dagger2Version\"\n    implementation \"com.google.dagger:dagger-android-support:$rootProject.dagger2Version\"\n    //Viewmodel\n    implementation \"com.squareup.retrofit2:retrofit:$rootProject.retrofitVersion\"\n    implementation \"com.squareup.retrofit2:converter-gson:$rootProject.retrofitVersion\"\n    implementation \"com.squareup.okhttp3:logging-interceptor:$rootProject.okhttpVersion\"\n    implementation \"com.google.android.gms:play-services-auth:$rootProject.googleplus\"\n    implementation \"com.google.android.gms:play-services-maps:$rootProject.googleplus\"\n    implementation \"com.google.android.gms:play-services-location:11.0.0\"\n    implementation 'com.google.maps.android:android-maps-utils:0.5+'\n    implementation 'com.github.javiersantos:AppUpdater:2.7'\n    implementation 'com.google.firebase:firebase-core:11.0.0'\n    implementation 'com.google.firebase:firebase-messaging:11.0.0'\n    implementation \"com.github.bumptech.glide:glide:$rootProject.glideversion\"\n    implementation('io.socket:socket.io-client:1.0.0') {//0.8.3') {\n        exclude group: 'org.json', module: 'json'\n    }\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.intuit.sdp:sdp-android:1.0.4'\n    implementation \"com.google.android.gms:play-services-maps:$rootProject.googleplus\"\n    implementation 'fr.avianey.com.viewpagerindicator:library:2.4.1.1@aar'\n    testImplementation 'junit:junit:4.12'\n\n}\napply plugin: 'com.google.gms.google-services'\nconfigurations.all {\n    resolutionStrategy.force \"com.android.support:support-annotations:$supportLibraryVersion\"\n    resolutionStrategy.force 'com.google.code.findbugs:jsr305:1.3.9'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>gradle-wrapper.properties</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#Wed Nov 20 00:37:33 IST 2019\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code># Project-wide Gradle settings.\n\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\nandroid.enableJetifier=true\nandroid.useAndroidX=true\norg.gradle.jvmargs=-Xmx1536m\n\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.Class.forName(Class.java:454)\n    at java.lang.Class.forName(Class.java:379)\n    at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:635)\n    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:377)\n    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\n    at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4296)\n    at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52)\n    at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n    at android.os.Handler.dispatchMessage(Handler.java:107)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n Caused by: java.lang.ClassNotFoundException: config_inputEventCompatProcessorOverrideClassName\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.BootClassLoader.findClass(ClassLoader.java:1358)\n    at java.lang.BootClassLoader.loadClass(ClassLoader.java:1418)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n    at java.lang.Class.classForName(Native Method) \n    at java.lang.Class.forName(Class.java:454) \n    at java.lang.Class.forName(Class.java:379) \n    at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:635) \n    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:377) \n    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95) \n    at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:4296) \n    at android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:52) \n    at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176) \n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n    at android.os.Handler.dispatchMessage(Handler.java:107) \n    at android.os.Looper.loop(Looper.java:214) \n    at android.app.ActivityThread.main(ActivityThread.java:7356) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)' on a null object reference\n    at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\n    at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\n    at android.os.MessageQueue.nativePollOnce(Native Method)\n    at android.os.MessageQueue.next(MessageQueue.java:336)\n    at android.os.Looper.loop(Looper.java:174)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>2019-11-21 06:41:59.007 27692-27692/bz.pei.driver E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: bz.pei.driver, PID: 27692\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.util.List android.view.InputEventCompatProcessor.processInputEventForCompatibility(android.view.InputEvent)' on a null object reference\nat android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7614)\nat android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\nat android.os.MessageQueue.nativePollOnce(Native Method)\nat android.os.MessageQueue.next(MessageQueue.java:336)\nat android.os.Looper.loop(Looper.java:174)\nat android.app.ActivityThread.main(ActivityThread.java:7356)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9862,"page":272,"page_size":100}
