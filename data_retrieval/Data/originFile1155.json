{"items":[{"tags":["java","chronicle","chronicle-queue","chronicle-bytes"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658919010,"creation_date":1658919010,"answer_id":73136589,"question_id":73104986,"body_markdown":"Chronicle 3.6.4 was released in Jan 2017 and only supported on Java 7 and 8. (It was released before Java 11)\r\nIf you need this version of Chronicle, I suggest only using Java 8.\r\n\r\nIf you need a newer JVM, I suggest using Chronicle Queue 5.22 or later.","title":"chronicle with corretto jdk17 java.lang.NoSuchMethodError: &#39;sun.misc.Cleaner sun.nio.ch.DirectBuffer.cleaner()&#39;","body":"<p>Chronicle 3.6.4 was released in Jan 2017 and only supported on Java 7 and 8. (It was released before Java 11)\nIf you need this version of Chronicle, I suggest only using Java 8.</p>\n<p>If you need a newer JVM, I suggest using Chronicle Queue 5.22 or later.</p>\n"}],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73136589,"answer_count":1,"score":1,"last_activity_date":1658919010,"creation_date":1658731530,"question_id":73104986,"body_markdown":"Trying to follow the guide on the [chronicle blog][1]. Have upgraded jars and added the following jvm options :\r\n\r\n    JDK17_VM_ARGS=&quot;-Dio.netty.tryReflectionSetAccessible=true\r\n    --add-exports=java.base/jdk.internal.ref=ALL-UNNAMED\r\n    --add-exports=java.base/sun.nio.ch=ALL-UNNAMED \r\n    --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \r\n    --add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \r\n    --add-opens=jdk.compiler/com.sun.tools.javac=ALL-UNNAMED \r\n    --add-opens=java.base/java.lang=ALL-UNNAMED \r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED \r\n    --add-opens=java.base/java.io=ALL-UNNAMED \r\n    --add-opens=java.base/java.util=ALL-UNNAMED \r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED &quot;  \r\n    \r\n    DEFAULT_VM_ARGS=&quot;-XX:+UseParallelGC -Xms16g -Xmx16g -XX:NewRatio=3 -XX:MaxGCPauseMillis=500&quot;\r\n\r\nBut still get the following exception\r\n\r\n&gt; ERROR: Uncaught Exception: chronicle-source-1\r\n&gt; java.lang.NoSuchMethodError: &#39;sun.misc.Cleaner\r\n&gt; sun.nio.ch.DirectBuffer.cleaner()&#39; at\r\n&gt; net.openhft.lang.io.VanillaMappedBytes.cleanup(VanillaMappedBytes.java:95)\r\n&gt; ~[lang-6.8.2.jar:?] at\r\n&gt; net.openhft.lang.io.AbstractBytes.release(AbstractBytes.java:646)\r\n&gt; ~[lang-6.8.2.jar:?] at\r\n&gt; net.openhft.lang.io.VanillaMappedBytes.release(VanillaMappedBytes.java:86)\r\n&gt; ~[lang-6.8.2.jar:?] at\r\n&gt; net.openhft.lang.io.VanillaMappedBlocks.acquire0(VanillaMappedBlocks.java:63)\r\n&gt; ~[lang-6.8.2.jar:?] at\r\n&gt; net.openhft.lang.io.VanillaMappedBlocks.acquire(VanillaMappedBlocks.java:57)\r\n&gt; ~[lang-6.8.2.jar:?] at\r\n&gt; net.openhft.chronicle.IndexedChronicle$AbstractIndexedExcerpt.setDataBuffer(IndexedChronicle.java:515)\r\n&gt; ~[chronicle-3.6.4.jar:?] at\r\n&gt; net.openhft.chronicle.IndexedChronicle$AbstractIndexedExcerpt.indexForRead(IndexedChronicle.java:440)\r\n&gt; ~[chronicle-3.6.4.jar:?] at\r\n&gt; net.openhft.chronicle.IndexedChronicle$IndexedExcerptTailer.index(IndexedChronicle.java:964)\r\n&gt; ~[chronicle-3.6.4.jar:?] at\r\n&gt; net.openhft.chronicle.tcp.SourceTcp$IndexedSessionHandler.write(SourceTcp.java:551)\r\n&gt; ~[chronicle-3.6.4.jar:?] at\r\n&gt; net.openhft.chronicle.tcp.SourceTcp$SessionHandler.onWrite(SourceTcp.java:365)\r\n&gt; ~[chronicle-3.6.4.jar:?] at\r\n&gt; net.openhft.chronicle.tcp.SourceTcp$SessionHandler.onSelectionKey(SourceTcp.java:327)\r\n&gt; ~[chronicle-3.6.4.jar:?] at\r\n&gt; net.openhft.chronicle.tcp.SourceTcp$SessionHandler.vanillaNioLoop(SourceTcp.java:245)\r\n&gt; ~[chronicle-3.6.4.jar:?] at\r\n&gt; net.openhft.chronicle.tcp.SourceTcp$SessionHandler.run(SourceTcp.java:195)\r\n&gt; ~[chronicle-3.6.4.jar:?] at\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; ~[?:?] at\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; ~[?:?] at java.lang.Thread.run(Thread.java:833) [?:?]\r\n\r\nThis is using **amazon correto**\r\n\r\n  [1]: https://chronicle.software/chronicle-support-java-17/","title":"chronicle with corretto jdk17 java.lang.NoSuchMethodError: &#39;sun.misc.Cleaner sun.nio.ch.DirectBuffer.cleaner()&#39;","body":"<p>Trying to follow the guide on the <a href=\"https://chronicle.software/chronicle-support-java-17/\" rel=\"nofollow noreferrer\">chronicle blog</a>. Have upgraded jars and added the following jvm options :</p>\n<pre><code>JDK17_VM_ARGS=&quot;-Dio.netty.tryReflectionSetAccessible=true\n--add-exports=java.base/jdk.internal.ref=ALL-UNNAMED\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED \n--add-opens=jdk.compiler/com.sun.tools.javac=ALL-UNNAMED \n--add-opens=java.base/java.lang=ALL-UNNAMED \n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED \n--add-opens=java.base/java.io=ALL-UNNAMED \n--add-opens=java.base/java.util=ALL-UNNAMED \n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED &quot;  \n\nDEFAULT_VM_ARGS=&quot;-XX:+UseParallelGC -Xms16g -Xmx16g -XX:NewRatio=3 -XX:MaxGCPauseMillis=500&quot;\n</code></pre>\n<p>But still get the following exception</p>\n<blockquote>\n<p>ERROR: Uncaught Exception: chronicle-source-1\njava.lang.NoSuchMethodError: 'sun.misc.Cleaner\nsun.nio.ch.DirectBuffer.cleaner()' at\nnet.openhft.lang.io.VanillaMappedBytes.cleanup(VanillaMappedBytes.java:95)\n~[lang-6.8.2.jar:?] at\nnet.openhft.lang.io.AbstractBytes.release(AbstractBytes.java:646)\n~[lang-6.8.2.jar:?] at\nnet.openhft.lang.io.VanillaMappedBytes.release(VanillaMappedBytes.java:86)\n~[lang-6.8.2.jar:?] at\nnet.openhft.lang.io.VanillaMappedBlocks.acquire0(VanillaMappedBlocks.java:63)\n~[lang-6.8.2.jar:?] at\nnet.openhft.lang.io.VanillaMappedBlocks.acquire(VanillaMappedBlocks.java:57)\n~[lang-6.8.2.jar:?] at\nnet.openhft.chronicle.IndexedChronicle$AbstractIndexedExcerpt.setDataBuffer(IndexedChronicle.java:515)\n~[chronicle-3.6.4.jar:?] at\nnet.openhft.chronicle.IndexedChronicle$AbstractIndexedExcerpt.indexForRead(IndexedChronicle.java:440)\n~[chronicle-3.6.4.jar:?] at\nnet.openhft.chronicle.IndexedChronicle$IndexedExcerptTailer.index(IndexedChronicle.java:964)\n~[chronicle-3.6.4.jar:?] at\nnet.openhft.chronicle.tcp.SourceTcp$IndexedSessionHandler.write(SourceTcp.java:551)\n~[chronicle-3.6.4.jar:?] at\nnet.openhft.chronicle.tcp.SourceTcp$SessionHandler.onWrite(SourceTcp.java:365)\n~[chronicle-3.6.4.jar:?] at\nnet.openhft.chronicle.tcp.SourceTcp$SessionHandler.onSelectionKey(SourceTcp.java:327)\n~[chronicle-3.6.4.jar:?] at\nnet.openhft.chronicle.tcp.SourceTcp$SessionHandler.vanillaNioLoop(SourceTcp.java:245)\n~[chronicle-3.6.4.jar:?] at\nnet.openhft.chronicle.tcp.SourceTcp$SessionHandler.run(SourceTcp.java:195)\n~[chronicle-3.6.4.jar:?] at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n~[?:?] at\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n~[?:?] at java.lang.Thread.run(Thread.java:833) [?:?]</p>\n</blockquote>\n<p>This is using <strong>amazon correto</strong></p>\n"},{"tags":["java","android","android-recyclerview","android-adapter","android-viewholder"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1619398781,"post_id":67258488,"comment_id":118885584,"body_markdown":"You can move the listener to the `ViewHolder` class","body":"You can move the listener to the <code>ViewHolder</code> class"}],"answers":[{"tags":[],"owner":{"account_id":6467782,"reputation":680,"user_id":5009024,"display_name":"lyncx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619399149,"creation_date":1619397792,"answer_id":67259561,"question_id":67258488,"body_markdown":"Try using the position passed through `onBindViewHolder` rather than currentposition. \r\n\r\n    viewHolder.LikePostButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Toast.makeText(context, &quot;Recycle Click&quot; + position, Toast.LENGTH_SHORT).show();\r\n                }\r\n        });","title":"Custom adapter view holder positions of elements","body":"<p>Try using the position passed through <code>onBindViewHolder</code> rather than currentposition.</p>\n<pre><code>viewHolder.LikePostButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, &quot;Recycle Click&quot; + position, Toast.LENGTH_SHORT).show();\n            }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25739271,"reputation":653,"user_id":19493508,"display_name":"Hanif Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658918714,"creation_date":1658915611,"answer_id":73135802,"question_id":67258488,"body_markdown":"```java\r\npublic void onBindViewHolder(@NonNull ViewHolder viewHolder, int position) {\r\n    viewHolder.LikePostButton.setOnClickListener(v -&gt; {\r\n        Toast.makeText(context,&quot;Click Position &quot;+ position,Toast.LENGTH_SHORT).show();\r\n    });\r\n}\r\n```","title":"Custom adapter view holder positions of elements","body":"<pre class=\"lang-java prettyprint-override\"><code>public void onBindViewHolder(@NonNull ViewHolder viewHolder, int position) {\n    viewHolder.LikePostButton.setOnClickListener(v -&gt; {\n        Toast.makeText(context,&quot;Click Position &quot;+ position,Toast.LENGTH_SHORT).show();\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":18746138,"reputation":113,"user_id":13668285,"display_name":"luker74"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658918714,"creation_date":1619386340,"question_id":67258488,"body_markdown":"I have a **RecylcerView** filled with a Custom Adapter `recylerView.setAdapter(myAdapter)`, and the Adapter is filled with different elements by an **ArrayList**.\r\n\r\nIn the **ViewHolder** I overrided the `public void onBindViewHolder(@NonNull ViewHolder viewHolder, int position)` method.\r\n\r\nIn the custom **ViewHolder** i put a Button. The Button has a click listener on it. When i click the Button i read the variable position and i am facing that the variable changes every time i click the same Button. Why this happens?\r\n\r\nMy Adapter is like this:\r\n\r\n```\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.amplifyframework.core.Amplify;\r\nimport com.amplifyframework.core.model.query.Where;\r\nimport com.amplifyframework.datastore.generated.model.Comments;\r\nimport com.amplifyframework.datastore.generated.model.Likes;\r\nimport com.amplifyframework.datastore.generated.model.Posts;\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\nimport java.net.URL;\r\nimport java.util.LinkedList;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\nimport static com.amazonaws.mobile.auth.core.internal.util.ThreadUtils.runOnUiThread;\r\n\r\npublic class PostsAdapter extends RecyclerView.Adapter&lt;PostsAdapter.PostViewHolder&gt;\r\n{\r\n    private LinkedList&lt;Posts&gt; usersPostsList;\r\n    private FirebaseAuth mAuth;\r\n    private Context context;\r\n    //private Boolean likeChecker;\r\n    private String currentUserId;\r\n    private MainActivity mainActivity;\r\n    private int currentPosition;\r\n\r\n    public PostsAdapter(Context context, String currentUserId, MainActivity mainActivity)\r\n    {\r\n        this.context = context;\r\n        this.currentUserId = currentUserId;\r\n        this.mainActivity = mainActivity;\r\n    }\r\n\r\n    public PostsAdapter(LinkedList&lt;Posts&gt; usersPostsList, Context context)\r\n    {\r\n        this.usersPostsList = usersPostsList;\r\n        this.context = context;\r\n    }\r\n\r\n    public void setMessages(LinkedList&lt;Posts&gt; usersPostsList) {\r\n        this.usersPostsList = usersPostsList;\r\n    }\r\n\r\n    public static class PostViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        View mView;\r\n\r\n        public static ImageButton LikePostButton, CommentPostButton;\r\n        public TextView DisplayNoOfLikes, modifyPost;\r\n        private TextView DisplayNoOfComments;\r\n        String currentUserID;\r\n        ExpandableTextView PostDescription;\r\n        private Context context;\r\n\r\n        public PostViewHolder(@NonNull View itemView, Context context)\r\n        {\r\n            super(itemView);\r\n            mView = itemView;\r\n            this.context = context;\r\n\r\n            LikePostButton = (ImageButton) mView.findViewById(R.id.like_button);\r\n            CommentPostButton = (ImageButton) mView.findViewById(R.id.comment_button);\r\n            DisplayNoOfLikes = (TextView) mView.findViewById(R.id.display_no_of_likes);\r\n            DisplayNoOfComments = (TextView) mView.findViewById(R.id.display_no_of_comments);\r\n            currentUserID = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n            modifyPost = mView.findViewById(R.id.modify_post);\r\n        }\r\n\r\n\r\n\r\n        public void setLikeButtonStatus(final String PostKey) {\r\n\r\n            Amplify.DataStore.query(\r\n                    Likes.class, Where.matches(Likes.POST_ID.eq(PostKey.trim()).and(Likes.SENDER.eq(currentUserID.trim()))),\r\n                    items -&gt; {\r\n                        int countLikes = 0;\r\n                        if (!items.hasNext()) {\r\n                            LikePostButton.setImageResource(R.drawable.ic_star_border);\r\n                        }\r\n                        while (items.hasNext()) {\r\n                            Likes item = items.next();\r\n                            countLikes++;\r\n                            LikePostButton.setImageResource(R.drawable.ic_star_fill);\r\n                            Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId());\r\n                        }\r\n                        int finalCountLikes = countLikes;\r\n                        DisplayNoOfLikes.setText(finalCountLikes + (&quot; Likes&quot;));\r\n                    },\r\n                    failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\r\n            );\r\n\r\n        }\r\n\r\n\r\n        public void setFullname(String fullname)\r\n        {\r\n            TextView username = (TextView) mView.findViewById(R.id.post_user_name);\r\n            username.setText(fullname);\r\n        }\r\n\r\n        public void setProfileimage(Context ctx, String profileimage)\r\n        {\r\n            CircleImageView image = (CircleImageView) mView.findViewById(R.id.post_profile_image);\r\n            Amplify.Storage.getUrl(profileimage,\r\n                    result -&gt; {\r\n                        URL url = result.getUrl();\r\n                        runOnUiThread(() -&gt; Glide.with(ctx)\r\n                                .load(url)\r\n                                .apply(new RequestOptions()\r\n                                        .diskCacheStrategy(DiskCacheStrategy.NONE)\r\n                                        .skipMemoryCache(true))\r\n                                .into(image));\r\n                    },\r\n                    error -&gt; Log.i(&quot;Amplify&quot;, &quot;error while retrieving url&quot;));\r\n        }\r\n\r\n        public void setTime(String time)\r\n        {\r\n            TextView PostTime = (TextView) mView.findViewById(R.id.post_time);\r\n            PostTime.setText(&quot;   &quot; + time);\r\n        }\r\n        public void setDate(String date)\r\n        {\r\n            TextView PostDate = (TextView) mView.findViewById(R.id.post_date);\r\n            PostDate.setText(&quot;   &quot; + date);\r\n        }\r\n        public void setDescription(String description)\r\n        {\r\n            PostDescription = mView.findViewById(R.id.post_description);\r\n            PostDescription.setText(description);\r\n        }\r\n\r\n\r\n        public void setPostimage(Context ctx, String postimage, String id)\r\n        {\r\n            ImageView postImageInner = mView.findViewById(R.id.post_image);\r\n\r\n             Amplify.Storage.getUrl(postimage,\r\n                    result -&gt; {\r\n                        URL url = result.getUrl();\r\n                        runOnUiThread(() -&gt; Glide.with(ctx)\r\n                                .load(url)\r\n                                .apply(new RequestOptions()\r\n                                        .diskCacheStrategy(DiskCacheStrategy.NONE)\r\n                                        .skipMemoryCache(true))\r\n                                .into(postImageInner));\r\n                        Log.i(&quot;Amplify---------&quot;, &quot;url ok----&quot;);\r\n                    },\r\n                    error -&gt; Log.e(&quot;Amplify---------&quot;, &quot;error while retrieving url: &quot; + error.getCause().toString()));\r\n\r\n            postImageInner.setOnClickListener(v -&gt; {\r\n                Intent clickPostIntent = new Intent(context, ClickPostActivity.class);\r\n                clickPostIntent.putExtra(&quot;PostKey&quot;, id);\r\n                clickPostIntent.putExtra(&quot;postImagePath&quot;, postimage);\r\n                context.startActivity (clickPostIntent);\r\n            });\r\n\r\n        }\r\n        public void setCountry(String country)\r\n        {\r\n            TextView CountryName = (TextView) mView.findViewById(R.id.post_country_name);\r\n            CountryName.setText(country);\r\n        }\r\n\r\n        public void setCity(String city)\r\n        {\r\n            TextView City = (TextView) mView.findViewById(R.id.post_city_name);\r\n            City.setText(&quot;- &quot; + city);\r\n        }\r\n\r\n\r\n        public void setCommentStatus(final String PostKey) {\r\n\r\n            Amplify.DataStore.query(\r\n                    Comments.class, Where.matches(Comments.POST_ID.eq(PostKey.trim())),\r\n                    items -&gt; {\r\n                        int i = 0;\r\n                        while (items.hasNext()) {\r\n                            Comments comments = items.next();\r\n                            i++;\r\n                            int finalI = i;\r\n                            runOnUiThread(() -&gt; DisplayNoOfComments.setText(finalI + &quot; comments&quot;));\r\n                            Log.i(&quot;amplify?&quot;, &quot;comment id: &quot; + comments.getId());\r\n                        }\r\n                    },\r\n                    failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public PostViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n    {\r\n        View V = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.all_posts_layout, parent,false);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        return new PostViewHolder(V, context);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        currentPosition = position;\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PostViewHolder viewHolder, int position) {\r\n        viewHolder.setFullname(usersPostsList.get(position).getFullname());\r\n        viewHolder.setTime(usersPostsList.get(position).getTime());\r\n        viewHolder.setDate(usersPostsList.get(position).getDate());\r\n        viewHolder.setDescription(usersPostsList.get(position).getDescription());\r\n        viewHolder.setProfileimage(context, usersPostsList.get(position).getProfileimage());\r\n        viewHolder.setPostimage(context, usersPostsList.get(position).getPostimage(), usersPostsList.get(position).getId());\r\n        viewHolder.setCountry(usersPostsList.get(position).getCountry());\r\n        viewHolder.setCity(usersPostsList.get(position).getCity());\r\n\r\n\r\n        if( viewHolder.PostDescription.originalText.length() &gt; 100 ) {\r\n            viewHolder.PostDescription.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (!((ExpandableTextView)v).read) {\r\n                        ((ExpandableTextView)v).expandText();\r\n                        ((ExpandableTextView)v).read = true;\r\n                    } else {\r\n                        ((ExpandableTextView)v).truncateText();\r\n                        ((ExpandableTextView)v).read = false;\r\n                    }\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        viewHolder.CommentPostButton.setOnClickListener(v -&gt; {\r\n            Intent commentsIntent = new Intent(context, CommentActivity.class);\r\n            commentsIntent.putExtra(&quot;PostKey&quot;,usersPostsList.get(currentPosition).getId());\r\n            context.startActivity(commentsIntent);\r\n        });\r\n\r\n\r\n        viewHolder.LikePostButton.setOnClickListener(v -&gt; {\r\n\r\n            Amplify.DataStore.query(\r\n                    Likes.class, Where.matches(Likes.POST_ID.eq(usersPostsList.get(currentPosition).getId().trim())\r\n                            .and(Likes.SENDER.eq(currentUserId.trim()))\r\n                            .and((Likes.RECEIVER.eq(usersPostsList.get(currentPosition).getUid())))\r\n                    ),\r\n                    items -&gt; {\r\n                        if (items.hasNext()) {\r\n                            Likes item = items.next();\r\n                            Amplify.DataStore.delete(item,\r\n                                    deleted -&gt; Log.i(&quot;Amplify&quot;, &quot;Deleted item.&quot;),\r\n                                    failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Delete failed.&quot;, failure)\r\n                            );\r\n\r\n                            Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId());\r\n                        } else {\r\n                            Likes likes = Likes.builder()\r\n                                    .receiver(usersPostsList.get(currentPosition).getUid().trim())\r\n                                    .sender(currentUserId.trim())\r\n                                    .postId(usersPostsList.get(currentPosition).getId().trim())\r\n                                    .value(&quot;true&quot;)\r\n                                    .build();\r\n                            Amplify.DataStore.save(\r\n                                    likes,\r\n                                    success -&gt; Log.i(&quot;Amplify&quot;, &quot;Item updated: &quot; + success.item().getId()),\r\n                                    error -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not save item to DataStore&quot;, error)\r\n                            );\r\n                        }\r\n                    },\r\n                    failure -&gt; {\r\n                        Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure);\r\n                    }\r\n            );\r\n            notifyDataSetChanged();\r\n        });\r\n\r\n        viewHolder.modifyPost.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(context, ClickPostActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n            intent.putExtra(&quot;PostKey&quot;, usersPostsList.get(currentPosition).getId());\r\n            intent.putExtra(&quot;postImagePath&quot;, usersPostsList.get(currentPosition).getPostimage());\r\n            context.startActivity(intent);\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return usersPostsList.size() ;\r\n    }\r\n\r\n}\r\n```\r\n\r\nSeems that method getItemViewType is called after the click on LikePostButton so that : ```viewHolder.LikePostButton.setOnClickListener(v -&gt; { ``` gets an older currentPosition variable value\r\n\r\nAnd also:\r\n\r\nDoes anyone knows if there is the official repository in github or somewere else of the Android **RecyclerView** and **Adapters**\r\n\r\n\r\nThanks to everyone helping me to understand","title":"Custom adapter view holder positions of elements","body":"<p>I have a <strong>RecylcerView</strong> filled with a Custom Adapter <code>recylerView.setAdapter(myAdapter)</code>, and the Adapter is filled with different elements by an <strong>ArrayList</strong>.</p>\n<p>In the <strong>ViewHolder</strong> I overrided the <code>public void onBindViewHolder(@NonNull ViewHolder viewHolder, int position)</code> method.</p>\n<p>In the custom <strong>ViewHolder</strong> i put a Button. The Button has a click listener on it. When i click the Button i read the variable position and i am facing that the variable changes every time i click the same Button. Why this happens?</p>\n<p>My Adapter is like this:</p>\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.amplifyframework.core.Amplify;\nimport com.amplifyframework.core.model.query.Where;\nimport com.amplifyframework.datastore.generated.model.Comments;\nimport com.amplifyframework.datastore.generated.model.Likes;\nimport com.amplifyframework.datastore.generated.model.Posts;\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\nimport com.bumptech.glide.request.RequestOptions;\nimport com.google.firebase.auth.FirebaseAuth;\n\nimport java.net.URL;\nimport java.util.LinkedList;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\nimport static com.amazonaws.mobile.auth.core.internal.util.ThreadUtils.runOnUiThread;\n\npublic class PostsAdapter extends RecyclerView.Adapter&lt;PostsAdapter.PostViewHolder&gt;\n{\n    private LinkedList&lt;Posts&gt; usersPostsList;\n    private FirebaseAuth mAuth;\n    private Context context;\n    //private Boolean likeChecker;\n    private String currentUserId;\n    private MainActivity mainActivity;\n    private int currentPosition;\n\n    public PostsAdapter(Context context, String currentUserId, MainActivity mainActivity)\n    {\n        this.context = context;\n        this.currentUserId = currentUserId;\n        this.mainActivity = mainActivity;\n    }\n\n    public PostsAdapter(LinkedList&lt;Posts&gt; usersPostsList, Context context)\n    {\n        this.usersPostsList = usersPostsList;\n        this.context = context;\n    }\n\n    public void setMessages(LinkedList&lt;Posts&gt; usersPostsList) {\n        this.usersPostsList = usersPostsList;\n    }\n\n    public static class PostViewHolder extends RecyclerView.ViewHolder\n    {\n        View mView;\n\n        public static ImageButton LikePostButton, CommentPostButton;\n        public TextView DisplayNoOfLikes, modifyPost;\n        private TextView DisplayNoOfComments;\n        String currentUserID;\n        ExpandableTextView PostDescription;\n        private Context context;\n\n        public PostViewHolder(@NonNull View itemView, Context context)\n        {\n            super(itemView);\n            mView = itemView;\n            this.context = context;\n\n            LikePostButton = (ImageButton) mView.findViewById(R.id.like_button);\n            CommentPostButton = (ImageButton) mView.findViewById(R.id.comment_button);\n            DisplayNoOfLikes = (TextView) mView.findViewById(R.id.display_no_of_likes);\n            DisplayNoOfComments = (TextView) mView.findViewById(R.id.display_no_of_comments);\n            currentUserID = FirebaseAuth.getInstance().getCurrentUser().getUid();\n            modifyPost = mView.findViewById(R.id.modify_post);\n        }\n\n\n\n        public void setLikeButtonStatus(final String PostKey) {\n\n            Amplify.DataStore.query(\n                    Likes.class, Where.matches(Likes.POST_ID.eq(PostKey.trim()).and(Likes.SENDER.eq(currentUserID.trim()))),\n                    items -&gt; {\n                        int countLikes = 0;\n                        if (!items.hasNext()) {\n                            LikePostButton.setImageResource(R.drawable.ic_star_border);\n                        }\n                        while (items.hasNext()) {\n                            Likes item = items.next();\n                            countLikes++;\n                            LikePostButton.setImageResource(R.drawable.ic_star_fill);\n                            Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId());\n                        }\n                        int finalCountLikes = countLikes;\n                        DisplayNoOfLikes.setText(finalCountLikes + (&quot; Likes&quot;));\n                    },\n                    failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\n            );\n\n        }\n\n\n        public void setFullname(String fullname)\n        {\n            TextView username = (TextView) mView.findViewById(R.id.post_user_name);\n            username.setText(fullname);\n        }\n\n        public void setProfileimage(Context ctx, String profileimage)\n        {\n            CircleImageView image = (CircleImageView) mView.findViewById(R.id.post_profile_image);\n            Amplify.Storage.getUrl(profileimage,\n                    result -&gt; {\n                        URL url = result.getUrl();\n                        runOnUiThread(() -&gt; Glide.with(ctx)\n                                .load(url)\n                                .apply(new RequestOptions()\n                                        .diskCacheStrategy(DiskCacheStrategy.NONE)\n                                        .skipMemoryCache(true))\n                                .into(image));\n                    },\n                    error -&gt; Log.i(&quot;Amplify&quot;, &quot;error while retrieving url&quot;));\n        }\n\n        public void setTime(String time)\n        {\n            TextView PostTime = (TextView) mView.findViewById(R.id.post_time);\n            PostTime.setText(&quot;   &quot; + time);\n        }\n        public void setDate(String date)\n        {\n            TextView PostDate = (TextView) mView.findViewById(R.id.post_date);\n            PostDate.setText(&quot;   &quot; + date);\n        }\n        public void setDescription(String description)\n        {\n            PostDescription = mView.findViewById(R.id.post_description);\n            PostDescription.setText(description);\n        }\n\n\n        public void setPostimage(Context ctx, String postimage, String id)\n        {\n            ImageView postImageInner = mView.findViewById(R.id.post_image);\n\n             Amplify.Storage.getUrl(postimage,\n                    result -&gt; {\n                        URL url = result.getUrl();\n                        runOnUiThread(() -&gt; Glide.with(ctx)\n                                .load(url)\n                                .apply(new RequestOptions()\n                                        .diskCacheStrategy(DiskCacheStrategy.NONE)\n                                        .skipMemoryCache(true))\n                                .into(postImageInner));\n                        Log.i(&quot;Amplify---------&quot;, &quot;url ok----&quot;);\n                    },\n                    error -&gt; Log.e(&quot;Amplify---------&quot;, &quot;error while retrieving url: &quot; + error.getCause().toString()));\n\n            postImageInner.setOnClickListener(v -&gt; {\n                Intent clickPostIntent = new Intent(context, ClickPostActivity.class);\n                clickPostIntent.putExtra(&quot;PostKey&quot;, id);\n                clickPostIntent.putExtra(&quot;postImagePath&quot;, postimage);\n                context.startActivity (clickPostIntent);\n            });\n\n        }\n        public void setCountry(String country)\n        {\n            TextView CountryName = (TextView) mView.findViewById(R.id.post_country_name);\n            CountryName.setText(country);\n        }\n\n        public void setCity(String city)\n        {\n            TextView City = (TextView) mView.findViewById(R.id.post_city_name);\n            City.setText(&quot;- &quot; + city);\n        }\n\n\n        public void setCommentStatus(final String PostKey) {\n\n            Amplify.DataStore.query(\n                    Comments.class, Where.matches(Comments.POST_ID.eq(PostKey.trim())),\n                    items -&gt; {\n                        int i = 0;\n                        while (items.hasNext()) {\n                            Comments comments = items.next();\n                            i++;\n                            int finalI = i;\n                            runOnUiThread(() -&gt; DisplayNoOfComments.setText(finalI + &quot; comments&quot;));\n                            Log.i(&quot;amplify?&quot;, &quot;comment id: &quot; + comments.getId());\n                        }\n                    },\n                    failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure)\n            );\n        }\n    }\n\n\n\n    @NonNull\n    @Override\n    public PostViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n    {\n        View V = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.all_posts_layout, parent,false);\n\n        mAuth = FirebaseAuth.getInstance();\n        return new PostViewHolder(V, context);\n\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        currentPosition = position;\n        return position;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull PostViewHolder viewHolder, int position) {\n        viewHolder.setFullname(usersPostsList.get(position).getFullname());\n        viewHolder.setTime(usersPostsList.get(position).getTime());\n        viewHolder.setDate(usersPostsList.get(position).getDate());\n        viewHolder.setDescription(usersPostsList.get(position).getDescription());\n        viewHolder.setProfileimage(context, usersPostsList.get(position).getProfileimage());\n        viewHolder.setPostimage(context, usersPostsList.get(position).getPostimage(), usersPostsList.get(position).getId());\n        viewHolder.setCountry(usersPostsList.get(position).getCountry());\n        viewHolder.setCity(usersPostsList.get(position).getCity());\n\n\n        if( viewHolder.PostDescription.originalText.length() &gt; 100 ) {\n            viewHolder.PostDescription.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    if (!((ExpandableTextView)v).read) {\n                        ((ExpandableTextView)v).expandText();\n                        ((ExpandableTextView)v).read = true;\n                    } else {\n                        ((ExpandableTextView)v).truncateText();\n                        ((ExpandableTextView)v).read = false;\n                    }\n\n                }\n            });\n        }\n\n\n        viewHolder.CommentPostButton.setOnClickListener(v -&gt; {\n            Intent commentsIntent = new Intent(context, CommentActivity.class);\n            commentsIntent.putExtra(&quot;PostKey&quot;,usersPostsList.get(currentPosition).getId());\n            context.startActivity(commentsIntent);\n        });\n\n\n        viewHolder.LikePostButton.setOnClickListener(v -&gt; {\n\n            Amplify.DataStore.query(\n                    Likes.class, Where.matches(Likes.POST_ID.eq(usersPostsList.get(currentPosition).getId().trim())\n                            .and(Likes.SENDER.eq(currentUserId.trim()))\n                            .and((Likes.RECEIVER.eq(usersPostsList.get(currentPosition).getUid())))\n                    ),\n                    items -&gt; {\n                        if (items.hasNext()) {\n                            Likes item = items.next();\n                            Amplify.DataStore.delete(item,\n                                    deleted -&gt; Log.i(&quot;Amplify&quot;, &quot;Deleted item.&quot;),\n                                    failure -&gt; Log.e(&quot;Amplify&quot;, &quot;Delete failed.&quot;, failure)\n                            );\n\n                            Log.i(&quot;Amplify&quot;, &quot;Id &quot; + item.getId());\n                        } else {\n                            Likes likes = Likes.builder()\n                                    .receiver(usersPostsList.get(currentPosition).getUid().trim())\n                                    .sender(currentUserId.trim())\n                                    .postId(usersPostsList.get(currentPosition).getId().trim())\n                                    .value(&quot;true&quot;)\n                                    .build();\n                            Amplify.DataStore.save(\n                                    likes,\n                                    success -&gt; Log.i(&quot;Amplify&quot;, &quot;Item updated: &quot; + success.item().getId()),\n                                    error -&gt; Log.e(&quot;Amplify&quot;, &quot;Could not save item to DataStore&quot;, error)\n                            );\n                        }\n                    },\n                    failure -&gt; {\n                        Log.e(&quot;Amplify&quot;, &quot;Could not query DataStore&quot;, failure);\n                    }\n            );\n            notifyDataSetChanged();\n        });\n\n        viewHolder.modifyPost.setOnClickListener(v -&gt; {\n            Intent intent = new Intent(context, ClickPostActivity.class);\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n            intent.putExtra(&quot;PostKey&quot;, usersPostsList.get(currentPosition).getId());\n            intent.putExtra(&quot;postImagePath&quot;, usersPostsList.get(currentPosition).getPostimage());\n            context.startActivity(intent);\n        });\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return usersPostsList.size() ;\n    }\n\n}\n</code></pre>\n<p>Seems that method getItemViewType is called after the click on LikePostButton so that : <code>viewHolder.LikePostButton.setOnClickListener(v -&gt; { </code> gets an older currentPosition variable value</p>\n<p>And also:</p>\n<p>Does anyone knows if there is the official repository in github or somewere else of the Android <strong>RecyclerView</strong> and <strong>Adapters</strong></p>\n<p>Thanks to everyone helping me to understand</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1658917028,"post_id":73136099,"comment_id":129169049,"body_markdown":"There are no getters/setters in your entity so no values will be in the json. You need `@Getters` and `@Setters` as well to generate those.","body":"There are no getters/setters in your entity so no values will be in the json. You need <code>@Getters</code> and <code>@Setters</code> as well to generate those."},{"owner":{"account_id":7921521,"reputation":989,"user_id":5982359,"display_name":"Juan Diego Lozano"},"score":0,"creation_date":1658917472,"post_id":73136099,"comment_id":129169226,"body_markdown":"It was that, I&#39;ve been trying to fix the problem for hours and I didn&#39;t realize I didn&#39;t have them. Thanks!","body":"It was that, I&#39;ve been trying to fix the problem for hours and I didn&#39;t realize I didn&#39;t have them. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658918457,"creation_date":1658918457,"answer_id":73136472,"question_id":73136099,"body_markdown":"It actually does return your list, which is apparent by the assertion of size 3 not failing. The problem is your `Book` class doesn&#39;t have getters and setters and those (or at least the getters) are needed to create JSON. \r\n\r\nAs you are using Lombok add `@Getters` and `@Setters` to the class to generate those. ","title":"MockHttpServletResponse is not returning mocked list","body":"<p>It actually does return your list, which is apparent by the assertion of size 3 not failing. The problem is your <code>Book</code> class doesn't have getters and setters and those (or at least the getters) are needed to create JSON.</p>\n<p>As you are using Lombok add <code>@Getters</code> and <code>@Setters</code> to the class to generate those.</p>\n"}],"owner":{"account_id":7921521,"reputation":989,"user_id":5982359,"display_name":"Juan Diego Lozano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73136472,"answer_count":1,"score":0,"last_activity_date":1658918457,"creation_date":1658916787,"question_id":73136099,"body_markdown":"I&#39;m trying to test a simple controller mocking the service results. For that I&#39;m using `when().thenReturn()` method of Mockito returning a new array. It does work for asserting the OK status and the returning array size, the problem is that the objects inside that array are empty, so I can&#39;t assert them to have some value.\r\n\r\nSpecifically the `MockHttpServletResponse` response body is `[{},{},{}]` and the assertion error `java.lang.AssertionError: No value at JSON path &quot;$[0].id&quot;`.\r\n\r\nThis is a really basic case, but I will need to do some transformations at the returning array from the service, so I need their values to be mocked in order to test them.\r\n\r\nIs it possible to mock them? What am I doing wrong? Thanks.\r\n\r\nHere is the code for the test:\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(BookController.class)\r\npublic class BookControllerTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private BookService bookService;\r\n\r\n    @Test\r\n    void getAllBooks() throws Exception {\r\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n        books.add(new Book(1L, &quot;Book 1&quot;, &quot;Author 1&quot;, &quot;Description 1&quot;));\r\n        books.add(new Book(2L, &quot;Book 2&quot;, &quot;Author 2&quot;, &quot;Description 2&quot;));\r\n        books.add(new Book(3L, &quot;Book 3&quot;, &quot;Author 3&quot;, &quot;Description 3&quot;));\r\n        when(bookService.getAllBooks()).thenReturn(books);\r\n\r\n        mockMvc.perform(MockMvcRequestBuilders.get(Urls.BOOK_URL)\r\n                .contentType(MediaType.APPLICATION_JSON))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$&quot;, hasSize(3)))\r\n                .andExpect(jsonPath(&quot;$[0].id&quot;).value(1L));\r\n    }\r\n}\r\n```\r\n\r\nThe actual controller:\r\n```java\r\n@RestController\r\n@RequestMapping(Urls.BOOK_URL)\r\npublic class BookController {\r\n\r\n    private final BookService bookService;\r\n\r\n    public BookController(BookService bookService) {\r\n        this.bookService = bookService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Book&gt; getAllBooks() {\r\n        return bookService.getAllBooks();\r\n    }\r\n\r\n}\r\n```\r\nAnd the basic entity:\r\n```java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String title;\r\n    private String author;\r\n    private String description;\r\n}\r\n```","title":"MockHttpServletResponse is not returning mocked list","body":"<p>I'm trying to test a simple controller mocking the service results. For that I'm using <code>when().thenReturn()</code> method of Mockito returning a new array. It does work for asserting the OK status and the returning array size, the problem is that the objects inside that array are empty, so I can't assert them to have some value.</p>\n<p>Specifically the <code>MockHttpServletResponse</code> response body is <code>[{},{},{}]</code> and the assertion error <code>java.lang.AssertionError: No value at JSON path &quot;$[0].id&quot;</code>.</p>\n<p>This is a really basic case, but I will need to do some transformations at the returning array from the service, so I need their values to be mocked in order to test them.</p>\n<p>Is it possible to mock them? What am I doing wrong? Thanks.</p>\n<p>Here is the code for the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(BookController.class)\npublic class BookControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    private BookService bookService;\n\n    @Test\n    void getAllBooks() throws Exception {\n        List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n        books.add(new Book(1L, &quot;Book 1&quot;, &quot;Author 1&quot;, &quot;Description 1&quot;));\n        books.add(new Book(2L, &quot;Book 2&quot;, &quot;Author 2&quot;, &quot;Description 2&quot;));\n        books.add(new Book(3L, &quot;Book 3&quot;, &quot;Author 3&quot;, &quot;Description 3&quot;));\n        when(bookService.getAllBooks()).thenReturn(books);\n\n        mockMvc.perform(MockMvcRequestBuilders.get(Urls.BOOK_URL)\n                .contentType(MediaType.APPLICATION_JSON))\n                .andDo(print())\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$&quot;, hasSize(3)))\n                .andExpect(jsonPath(&quot;$[0].id&quot;).value(1L));\n    }\n}\n</code></pre>\n<p>The actual controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(Urls.BOOK_URL)\npublic class BookController {\n\n    private final BookService bookService;\n\n    public BookController(BookService bookService) {\n        this.bookService = bookService;\n    }\n\n    @GetMapping\n    public List&lt;Book&gt; getAllBooks() {\n        return bookService.getAllBooks();\n    }\n\n}\n</code></pre>\n<p>And the basic entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Book {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String title;\n    private String author;\n    private String description;\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-security"],"answers":[{"tags":[],"owner":{"account_id":25906278,"reputation":41,"user_id":19631321,"display_name":"qwester"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658918103,"creation_date":1658912692,"answer_id":73135101,"question_id":73134974,"body_markdown":"When you call `HasId.id`, you call method `getId()` from `BaseTo.class`, which returns `null`. Change the method to\r\n```\r\ngetId(){\r\n  return this.id;\r\n}\r\n```","title":"Caused by: java.lang.IllegalArgumentException: Entity must has id","body":"<p>When you call <code>HasId.id</code>, you call method <code>getId()</code> from <code>BaseTo.class</code>, which returns <code>null</code>. Change the method to</p>\n<pre><code>getId(){\n  return this.id;\n}\n</code></pre>\n"}],"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73135101,"answer_count":1,"score":1,"last_activity_date":1658918329,"creation_date":1658912114,"question_id":73134974,"body_markdown":"I don&#39;t understand what kind of mysticism. This method located in class UserService:\r\n\r\n\r\n    @Override\r\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n            User user = repository.getByEmail(email.toLowerCase());\r\n            if (user == null) {\r\n                throw new UsernameNotFoundException(&quot;User &quot; + email + &quot; isn&#39;t found&quot;);\r\n            }\r\n           AuthorizedUser authorizedUser = new AuthorizedUser(user); // 1\r\n           Objects.requireNonNull(authorizedUser);                   // 2\r\n           System.out.println(new AuthorizedUser(user) + &quot; 1&quot;);      // 3\r\n           int userId = authorizedUser.getId();                      // 4\r\n           return authorizedUser;                                    // 5\r\n        }\r\nIn the lines which are numbered in comments,\r\nwhy does everything go smoothly in line 1-3, line 3 goes to the console:\r\n\r\n    UserTo{id=100000, name=&#39;VadimUserAdmin&#39;, email=&#39;vadim@gmail.com&#39;} 1\r\n\r\nAnd in line 4, an exception is thrown:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Entity must has id\r\n    \tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n    \tat topjava.quest.HasId.id(HasId.java:14)\r\n    \tat topjava.quest.AuthorizedUser.getId(AuthorizedUser.java:22)\r\n    \tat topjava.quest.service.UserService.loadUserByUsername(UserService.java:64)\r\n\r\nWhat should I do with this?\r\n\r\nspring.security.version - 5.6.2\r\n\r\nhibernate.version - 5.6.5.Final\r\n\r\nclass AuthorizedUser:\r\n\r\n    public class AuthorizedUser extends org.springframework.security.core.userdetails.User {\r\n    \r\n        @Serial\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        private UserTo userTo;\r\n    \r\n        public AuthorizedUser(User user) {\r\n            super(user.getEmail(), user.getPassword(), true, true, true, true, user.getRoleSet());\r\n            setUserTo(Util.userAsTo(user));\r\n        }\r\n    \r\n        public int getId() {\r\n            return userTo.id();\r\n        }\r\n    \r\n        public void setUserTo(UserTo userTo) {\r\n            userTo.setPassword(null);\r\n            this.userTo = userTo;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return userTo.toString();\r\n        }\r\n    }\r\n\r\nclass UserTo:\r\n\r\n    public class UserTo extends BaseTo implements Serializable {\r\n    \r\n        @Serial\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @NotBlank\r\n        @Size(min = 2, max = 100)\r\n        @ApiModelProperty(example = &quot;New name&quot;)\r\n        private final String name;\r\n    \r\n        @Email\r\n        @NotBlank\r\n        @Size(max = 100)\r\n        @ApiModelProperty(example = &quot;newmame@gmail.com&quot;)\r\n        private final String email;\r\n    \r\n        @NotBlank\r\n        @Size(min = 6, max = 32)\r\n        @ApiModelProperty(example = &quot;newmame123&quot;)\r\n        private String password;\r\n    \r\n        @ConstructorProperties({&quot;id&quot;, &quot;name&quot;, &quot;email&quot;, &quot;password&quot;})\r\n        public UserTo(Integer id, String name, String email, String password) {\r\n            super(id);\r\n            this.name = name;\r\n            this.email = email;\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;UserTo{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nclass BaseTo:\r\n\r\n    public class BaseTo implements HasId {\r\n    \r\n        @ApiModelProperty(hidden = true)\r\n        protected Integer id;\r\n    \r\n        public BaseTo() {\r\n        }\r\n    \r\n        public BaseTo(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        @Override\r\n        public Integer getId() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\nclass HasId:\r\n\r\n    public interface HasId {\r\n        Integer getId();\r\n        void setId(Integer id);\r\n    \r\n        default boolean isNew() {\r\n            return getId() == null;\r\n        }\r\n    \r\n        default int id() {\r\n            Assert.notNull(getId(), &quot;Entity must has id&quot;);\r\n            return getId();\r\n        }\r\n    }\r\n\r\nWhat I do wrong?","title":"Caused by: java.lang.IllegalArgumentException: Entity must has id","body":"<p>I don't understand what kind of mysticism. This method located in class UserService:</p>\n<pre><code>@Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = repository.getByEmail(email.toLowerCase());\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User &quot; + email + &quot; isn't found&quot;);\n        }\n       AuthorizedUser authorizedUser = new AuthorizedUser(user); // 1\n       Objects.requireNonNull(authorizedUser);                   // 2\n       System.out.println(new AuthorizedUser(user) + &quot; 1&quot;);      // 3\n       int userId = authorizedUser.getId();                      // 4\n       return authorizedUser;                                    // 5\n    }\n</code></pre>\n<p>In the lines which are numbered in comments,\nwhy does everything go smoothly in line 1-3, line 3 goes to the console:</p>\n<pre><code>UserTo{id=100000, name='VadimUserAdmin', email='vadim@gmail.com'} 1\n</code></pre>\n<p>And in line 4, an exception is thrown:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Entity must has id\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at topjava.quest.HasId.id(HasId.java:14)\n    at topjava.quest.AuthorizedUser.getId(AuthorizedUser.java:22)\n    at topjava.quest.service.UserService.loadUserByUsername(UserService.java:64)\n</code></pre>\n<p>What should I do with this?</p>\n<p>spring.security.version - 5.6.2</p>\n<p>hibernate.version - 5.6.5.Final</p>\n<p>class AuthorizedUser:</p>\n<pre><code>public class AuthorizedUser extends org.springframework.security.core.userdetails.User {\n\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    private UserTo userTo;\n\n    public AuthorizedUser(User user) {\n        super(user.getEmail(), user.getPassword(), true, true, true, true, user.getRoleSet());\n        setUserTo(Util.userAsTo(user));\n    }\n\n    public int getId() {\n        return userTo.id();\n    }\n\n    public void setUserTo(UserTo userTo) {\n        userTo.setPassword(null);\n        this.userTo = userTo;\n    }\n\n    @Override\n    public String toString() {\n        return userTo.toString();\n    }\n}\n</code></pre>\n<p>class UserTo:</p>\n<pre><code>public class UserTo extends BaseTo implements Serializable {\n\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    @NotBlank\n    @Size(min = 2, max = 100)\n    @ApiModelProperty(example = &quot;New name&quot;)\n    private final String name;\n\n    @Email\n    @NotBlank\n    @Size(max = 100)\n    @ApiModelProperty(example = &quot;newmame@gmail.com&quot;)\n    private final String email;\n\n    @NotBlank\n    @Size(min = 6, max = 32)\n    @ApiModelProperty(example = &quot;newmame123&quot;)\n    private String password;\n\n    @ConstructorProperties({&quot;id&quot;, &quot;name&quot;, &quot;email&quot;, &quot;password&quot;})\n    public UserTo(Integer id, String name, String email, String password) {\n        super(id);\n        this.name = name;\n        this.email = email;\n        this.password = password;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;UserTo{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>class BaseTo:</p>\n<pre><code>public class BaseTo implements HasId {\n\n    @ApiModelProperty(hidden = true)\n    protected Integer id;\n\n    public BaseTo() {\n    }\n\n    public BaseTo(Integer id) {\n        this.id = id;\n    }\n\n    @Override\n    public Integer getId() {\n        return null;\n    }\n\n    @Override\n    public void setId(Integer id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>class HasId:</p>\n<pre><code>public interface HasId {\n    Integer getId();\n    void setId(Integer id);\n\n    default boolean isNew() {\n        return getId() == null;\n    }\n\n    default int id() {\n        Assert.notNull(getId(), &quot;Entity must has id&quot;);\n        return getId();\n    }\n}\n</code></pre>\n<p>What I do wrong?</p>\n"},{"tags":["java","csv","netbeans","txt"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1658917353,"post_id":73136115,"comment_id":129169181,"body_markdown":"What should the output file contain? Should it have three rows with the sum of every element in the respective row in the source file or a single number?","body":"What should the output file contain? Should it have three rows with the sum of every element in the respective row in the source file or a single number?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1658917390,"post_id":73136115,"comment_id":129169193,"body_markdown":"Sum each data line in file or sum ALL file lines?","body":"Sum each data line in file or sum ALL file lines?"},{"owner":{"account_id":25900264,"reputation":9,"user_id":19626264,"display_name":"SP08AL"},"score":0,"creation_date":1658917806,"post_id":73136115,"comment_id":129169368,"body_markdown":"@AddeusExMachina output just sum of number","body":"@AddeusExMachina output just sum of number"},{"owner":{"account_id":25900264,"reputation":9,"user_id":19626264,"display_name":"SP08AL"},"score":0,"creation_date":1658917875,"post_id":73136115,"comment_id":129169386,"body_markdown":"@DevilsHnd  sum ALL file lines","body":"@DevilsHnd  sum ALL file lines"},{"owner":{"account_id":25900264,"reputation":9,"user_id":19626264,"display_name":"SP08AL"},"score":0,"creation_date":1658918258,"post_id":73136115,"comment_id":129169547,"body_markdown":"I&#39;m really sorry with my English and I&#39;m beginner with Java if I made you guys confused. sometime I don&#39;t know how to explain my problem.","body":"I&#39;m really sorry with my English and I&#39;m beginner with Java if I made you guys confused. sometime I don&#39;t know how to explain my problem."}],"answers":[{"tags":[],"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658918287,"creation_date":1658918287,"answer_id":73136429,"question_id":73136115,"body_markdown":"```java\r\n  public static void main(String[] args) throws IOException {\r\n    Path source = Path.of(&quot;src/sample.csv&quot;);\r\n    Path dest = Path.of(&quot;src/result.txt&quot;);\r\n\r\n    try (var s = Files.lines(source);\r\n        var d = Files.newBufferedWriter(dest)) {\r\n\r\n      int sum = s.map(f -&gt; f.split(&quot;,&quot;))\r\n          .flatMap(Arrays::stream)\r\n          .mapToInt(Integer::parseInt)\r\n          .sum();\r\n\r\n      d.write(String.valueOf(sum));\r\n    }\r\n  }\r\n```","title":"How to sum numbers From a CSV File and output it to TXT File In Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) throws IOException {\n    Path source = Path.of(&quot;src/sample.csv&quot;);\n    Path dest = Path.of(&quot;src/result.txt&quot;);\n\n    try (var s = Files.lines(source);\n        var d = Files.newBufferedWriter(dest)) {\n\n      int sum = s.map(f -&gt; f.split(&quot;,&quot;))\n          .flatMap(Arrays::stream)\n          .mapToInt(Integer::parseInt)\n          .sum();\n\n      d.write(String.valueOf(sum));\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":25900264,"reputation":9,"user_id":19626264,"display_name":"SP08AL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1659112742,"accepted_answer_id":73136429,"answer_count":1,"score":0,"last_activity_date":1658918287,"creation_date":1658916847,"question_id":73136115,"body_markdown":"I have CSV flie in flie like this\r\n\r\n    5,4,3,2,1\r\n    \r\n    1,2,3,4,5\r\n    \r\n    6,7,8,9,10\r\n\r\nand I want to sum all number and I have to get output is TXT file","title":"How to sum numbers From a CSV File and output it to TXT File In Java?","body":"<p>I have CSV flie in flie like this</p>\n<pre><code>5,4,3,2,1\n\n1,2,3,4,5\n\n6,7,8,9,10\n</code></pre>\n<p>and I want to sum all number and I have to get output is TXT file</p>\n"},{"tags":["java","android","realm","realm-list","realm-migration"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1635964224,"post_id":69824951,"comment_id":123434937,"body_markdown":"That&#39;s very interesting; generally speaking, additive changes do not require a migration. e.g. adding a property to an object usually just &#39;works&#39;. The only thing that needs to happen is the increment the schema version. The exception to that is when you need to set default values for said property.","body":"That&#39;s very interesting; generally speaking, additive changes do not require a migration. e.g. adding a property to an object usually just &#39;works&#39;. The only thing that needs to happen is the increment the schema version. The exception to that is when you need to set default values for said property."}],"owner":{"account_id":20899067,"reputation":153,"user_id":15352563,"display_name":"Razvan22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658918270,"creation_date":1635942928,"question_id":69824951,"body_markdown":"I added a new property called &#39;productsList&#39; of type RealmList&lt; String &gt; to the class which extends RealmObject. \r\nTHe problem is that when I run the application I get a crash and this error message:\r\n\r\n**io.realm.exceptions.RealmMigrationNeededException: Migration is required due to the following errors:\r\n    - Property &#39;FuelStationBean.productsList&#39; has been added.**\r\n\r\nI have a class RealmMigration which implements RealmMigration:\r\n\r\n    public class RealmMigration implements io.realm.RealmMigration {\r\n    @Override\r\n    public void migrate(DynamicRealm realm, long oldVersion, long newVersion) {\r\n        RealmSchema schema = realm.getSchema();\r\n\r\n        if (oldVersion == 0) {\r\n            schema.get(&quot;FuelStationBean&quot;)\r\n                    .addField(&quot;ladestation&quot;, boolean.class)\r\n                    .addField(&quot;ladepunkt&quot;, String.class);\r\n            oldVersion++;\r\n        }\r\n    }\r\n}\r\n\r\nAnd in a class AppController I have this function which initiates Realm:\r\n\r\n    protected static synchronized void initRealm(Context context) {\r\n        if (!isRealInitialized) {\r\n            // Initialize Realm\r\n            Realm.init(context);\r\n\r\n            RealmConfiguration config = new RealmConfiguration.Builder()\r\n                    .schemaVersion(1) \r\n                    .migration(new RealmMigration()) \r\n                    .build();\r\n\r\n            Realm.setDefaultConfiguration(config);\r\n\r\n            //Realm realm = Realm.getInstance(config);\r\n            //realm.close();\r\n\r\n            isRealInitialized = true;\r\n        }\r\n    }\r\n\r\nMy question is: How should I do the migration so the app will work? I tried updating the the schemaVersion from 1 to 2 in **initRealm** function but didn&#39;t work. I know there are other topics on this subject but couldn&#39;t find a proper solution for this issue. Thanks","title":"Migration is required due to the following errors: Property has been added","body":"<p>I added a new property called 'productsList' of type RealmList&lt; String &gt; to the class which extends RealmObject.\nTHe problem is that when I run the application I get a crash and this error message:</p>\n<p><strong>io.realm.exceptions.RealmMigrationNeededException: Migration is required due to the following errors:\n- Property 'FuelStationBean.productsList' has been added.</strong></p>\n<p>I have a class RealmMigration which implements RealmMigration:</p>\n<pre><code>public class RealmMigration implements io.realm.RealmMigration {\n@Override\npublic void migrate(DynamicRealm realm, long oldVersion, long newVersion) {\n    RealmSchema schema = realm.getSchema();\n\n    if (oldVersion == 0) {\n        schema.get(&quot;FuelStationBean&quot;)\n                .addField(&quot;ladestation&quot;, boolean.class)\n                .addField(&quot;ladepunkt&quot;, String.class);\n        oldVersion++;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>And in a class AppController I have this function which initiates Realm:</p>\n<pre><code>protected static synchronized void initRealm(Context context) {\n    if (!isRealInitialized) {\n        // Initialize Realm\n        Realm.init(context);\n\n        RealmConfiguration config = new RealmConfiguration.Builder()\n                .schemaVersion(1) \n                .migration(new RealmMigration()) \n                .build();\n\n        Realm.setDefaultConfiguration(config);\n\n        //Realm realm = Realm.getInstance(config);\n        //realm.close();\n\n        isRealInitialized = true;\n    }\n}\n</code></pre>\n<p>My question is: How should I do the migration so the app will work? I tried updating the the schemaVersion from 1 to 2 in <strong>initRealm</strong> function but didn't work. I know there are other topics on this subject but couldn't find a proper solution for this issue. Thanks</p>\n"},{"tags":["java","swing","awt","windowstate"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1396011821,"post_id":22713093,"comment_id":34612065,"body_markdown":"_a bean property &quot;visible&quot;_ no, its not a bean property. You&#39;ll need an adapter that listens to windowEvents and maps them to a bean property, then bind your client to that adapter","body":"<i>a bean property &quot;visible&quot;</i> no, its not a bean property. You&#39;ll need an adapter that listens to windowEvents and maps them to a bean property, then bind your client to that adapter"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":3,"creation_date":1396011966,"post_id":22713093,"comment_id":34612175,"body_markdown":"You can use a `ComponentListener` and override `componentShown` and `componentHidden`. It&#39;s similar in nature","body":"You can use a <code>ComponentListener</code> and override <code>componentShown</code> and <code>componentHidden</code>. It&#39;s similar in nature"}],"answers":[{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396012244,"creation_date":1396012244,"answer_id":22713847,"question_id":22713093,"body_markdown":"The [method documentation][1] for `Component.addPropertyChangeListener` clearly lists the properties that are being observed. The visibility state is not listed. And as a `JFrame` (or one of its super classes up to `Component`) does not add any new behavior, you cannot observe changes to the visibility state on a `JFrame`.\r\n\r\nHowever, you could subclass `JFrame` with overriding the `setVisible` method. In this new implementation you can fire such a property change:\r\n\r\n    public class VisibleAwareFrame extends JFrame {\r\n        public void setVisible(boolean b) {\r\n            boolean visible = isVisible();\r\n            super.setVisible(b);\r\n            firePropertyChange(&quot;visible&quot;, visible, b);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#addPropertyChangeListener%28java.lang.String,%20java.beans.PropertyChangeListener%29","title":"How to listen for &quot;visible&quot; property of Window in Swing/AWT?","body":"<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#addPropertyChangeListener%28java.lang.String,%20java.beans.PropertyChangeListener%29\" rel=\"nofollow\">method documentation</a> for <code>Component.addPropertyChangeListener</code> clearly lists the properties that are being observed. The visibility state is not listed. And as a <code>JFrame</code> (or one of its super classes up to <code>Component</code>) does not add any new behavior, you cannot observe changes to the visibility state on a <code>JFrame</code>.</p>\n\n<p>However, you could subclass <code>JFrame</code> with overriding the <code>setVisible</code> method. In this new implementation you can fire such a property change:</p>\n\n<pre><code>public class VisibleAwareFrame extends JFrame {\n    public void setVisible(boolean b) {\n        boolean visible = isVisible();\n        super.setVisible(b);\n        firePropertyChange(\"visible\", visible, b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396017048,"creation_date":1396016302,"answer_id":22715399,"question_id":22713093,"body_markdown":"Try **[Global AWT Event Listener](http://tips4java.wordpress.com/2009/08/30/global-event-listeners/)**\r\n\r\n    long eventMask = AWTEvent.COMPONENT_EVENT_MASK;\r\n\r\n    Toolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener() {\r\n        public void eventDispatched(AWTEvent e) {\r\n            String paramString = e.paramString();\r\n            System.out.println(paramString);\r\n        }\r\n    }, eventMask);\r\n\r\n\r\nHere is the some outputs\r\n\r\n\tCOMPONENT_RESIZED (0,0 500x500)\r\n\tCOMPONENT_HIDDEN\r\n\tCOMPONENT_RESIZED (0,0 500x500)\r\n\tCOMPONENT_RESIZED (0,0 500x500)\r\n\tCOMPONENT_RESIZED (4,23 492x473)\r\n\tCOMPONENT_MOVED (4,23 492x473)\r\n\tCOMPONENT_RESIZED (0,0 492x473)\r\n\tCOMPONENT_RESIZED (0,0 500x500)\r\n\tCOMPONENT_MOVED (0,0 500x500)\r\n\tCOMPONENT_SHOWN\r\n\tCOMPONENT_MOVED (0,0 500x500)\r\n\tCOMPONENT_MOVED (0,0 500x500)\r\n\tCOMPONENT_RESIZED (0,0 500x500)\r\n\tCOMPONENT_HIDDEN\r\n\tCOMPONENT_RESIZED (0,0 494x475)\r\n\tCOMPONENT_MOVED (0,0 494x475)\r\n\r\nYou can put checks on source as well as event type on `paramString`. Check for `COMPONENT_HIDDEN` and `COMPONENT_SHOWN` event and based on event change or set the `visible` property.\r\nIt might help you.","title":"How to listen for &quot;visible&quot; property of Window in Swing/AWT?","body":"<p>Try <strong><a href=\"http://tips4java.wordpress.com/2009/08/30/global-event-listeners/\" rel=\"nofollow\">Global AWT Event Listener</a></strong></p>\n\n<pre><code>long eventMask = AWTEvent.COMPONENT_EVENT_MASK;\n\nToolkit.getDefaultToolkit().addAWTEventListener(new AWTEventListener() {\n    public void eventDispatched(AWTEvent e) {\n        String paramString = e.paramString();\n        System.out.println(paramString);\n    }\n}, eventMask);\n</code></pre>\n\n<p>Here is the some outputs</p>\n\n<pre><code>COMPONENT_RESIZED (0,0 500x500)\nCOMPONENT_HIDDEN\nCOMPONENT_RESIZED (0,0 500x500)\nCOMPONENT_RESIZED (0,0 500x500)\nCOMPONENT_RESIZED (4,23 492x473)\nCOMPONENT_MOVED (4,23 492x473)\nCOMPONENT_RESIZED (0,0 492x473)\nCOMPONENT_RESIZED (0,0 500x500)\nCOMPONENT_MOVED (0,0 500x500)\nCOMPONENT_SHOWN\nCOMPONENT_MOVED (0,0 500x500)\nCOMPONENT_MOVED (0,0 500x500)\nCOMPONENT_RESIZED (0,0 500x500)\nCOMPONENT_HIDDEN\nCOMPONENT_RESIZED (0,0 494x475)\nCOMPONENT_MOVED (0,0 494x475)\n</code></pre>\n\n<p>You can put checks on source as well as event type on <code>paramString</code>. Check for <code>COMPONENT_HIDDEN</code> and <code>COMPONENT_SHOWN</code> event and based on event change or set the <code>visible</code> property.\nIt might help you.</p>\n"},{"tags":[],"owner":{"account_id":1058082,"reputation":18227,"user_id":1060349,"accept_rate":72,"display_name":"toto_tico"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658917964,"creation_date":1460838883,"answer_id":36669414,"question_id":22713093,"body_markdown":"The `visible` property is not really bound to the `WindowsListener`, but to the `ComponentListener` because it belong to the `Component` class, not the `Window` class.\r\n\r\nIn order to listen to changes in the `visible` property, the `componentShown(ComponentEvent e)` method of the `ComponentListener` needs to be implemented. It is always easier to inherit from the adapters, so in this case:\r\n\r\n    frame2.addComponentListener(new ComponentAdapter() {\r\n\r\n        @Override\r\n        public void componentShown(ComponentEvent e) {\r\n            System.out.println(&quot;Component is Visible&quot;);\r\n        }\r\n    });\r\n\r\nThe adapters have empty implementations of the listeners, e.g. `ComponentAdapter` class which has empty implementations of the methods in `ComponentListener`, and `WindowAdapter` from `WindowListener`.\r\n\r\nFor more details, see [Component Adapter](http://docs.oracle.com/javase/7/docs/api/java/awt/event/ComponentAdapter.html), [Component Listener](http://docs.oracle.com/javase/7/docs/api/java/awt/event/ComponentListener.html), and  [How to Write a Component Listener](http://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html) and \r\n","title":"How to listen for &quot;visible&quot; property of Window in Swing/AWT?","body":"<p>The <code>visible</code> property is not really bound to the <code>WindowsListener</code>, but to the <code>ComponentListener</code> because it belong to the <code>Component</code> class, not the <code>Window</code> class.</p>\n<p>In order to listen to changes in the <code>visible</code> property, the <code>componentShown(ComponentEvent e)</code> method of the <code>ComponentListener</code> needs to be implemented. It is always easier to inherit from the adapters, so in this case:</p>\n<pre><code>frame2.addComponentListener(new ComponentAdapter() {\n\n    @Override\n    public void componentShown(ComponentEvent e) {\n        System.out.println(&quot;Component is Visible&quot;);\n    }\n});\n</code></pre>\n<p>The adapters have empty implementations of the listeners, e.g. <code>ComponentAdapter</code> class which has empty implementations of the methods in <code>ComponentListener</code>, and <code>WindowAdapter</code> from <code>WindowListener</code>.</p>\n<p>For more details, see <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/ComponentAdapter.html\" rel=\"nofollow noreferrer\">Component Adapter</a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/ComponentListener.html\" rel=\"nofollow noreferrer\">Component Listener</a>, and  <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/componentlistener.html\" rel=\"nofollow noreferrer\">How to Write a Component Listener</a> and</p>\n"}],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4122,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1658917964,"creation_date":1396010236,"question_id":22713093,"body_markdown":"There is a bean property &quot;visible&quot;, which is represented by getter `isVisible()` and setter `setVisible()` in class `Window`.\r\n\r\nHow to listen for this value? \r\n\r\nI would like to implement popular &quot;view&quot; menu with check box with binding library. Unfortunately I can&#39;t see how to bind &quot;visible&quot; property of a window. Even I can&#39;t write translator, because I see no any predefined way to listen for this property:\r\n\r\n    package tests;\r\n    \r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.event.WindowListener;\r\n    import java.awt.event.WindowStateListener;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.beans.PropertyChangeListener;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n        public class Try_Swing2 {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t\r\n        \t\tSwingUtilities.invokeLater(new Runnable() {\r\n        \t\t\t\r\n        \t\t\t@Override\r\n        \t\t\tpublic void run() {\r\n        \t\t\t\t\r\n        \t\t\t\t\r\n        \t\t\t\tfinal JFrame frame2 = new JFrame();\r\n        \t\t\t\tframe2.addWindowStateListener(new WindowStateListener() {\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void windowStateChanged(WindowEvent e) {\r\n        \t\t\t\t\t\t\r\n        \t\t\t\t\t\tSystem.out.println(&quot;windowState.newState = &quot; + e.getNewState());\r\n        \r\n        \t\t\t\t\t\t\r\n        \t\t\t\t\t}\r\n        \t\t\t\t});\r\n        \t\t\t\t\r\n        \t\t\t\tframe2.addWindowListener(new WindowListener() {\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void windowOpened(WindowEvent e) {\r\n        \t\t\t\t\t\tSystem.out.println(&quot;windowOpened&quot;);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void windowIconified(WindowEvent e) {\r\n        \t\t\t\t\t\tSystem.out.println(&quot;windowIconified&quot;);\r\n        \t\t\t\t\t\t\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void windowDeiconified(WindowEvent e) {\r\n        \t\t\t\t\t\tSystem.out.println(&quot;windowDeiconified&quot;);\r\n        \t\t\t\t\t\t\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void windowDeactivated(WindowEvent e) {\r\n        \t\t\t\t\t\tSystem.out.println(&quot;windowDeactivated&quot;);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void windowClosing(WindowEvent e) {\r\n        \t\t\t\t\t\tSystem.out.println(&quot;windowClosing&quot;);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void windowClosed(WindowEvent e) {\r\n        \t\t\t\t\t\tSystem.out.println(&quot;windowClosed&quot;);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void windowActivated(WindowEvent e) {\r\n        \t\t\t\t\t\tSystem.out.println(&quot;windowActivated&quot;);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t});\r\n        \t\t\t\t\r\n        \t\t\t\tframe2.addPropertyChangeListener(&quot;visible&quot;, new PropertyChangeListener() {\r\n        \t\t\t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void propertyChange(PropertyChangeEvent evt) {\r\n        \t\t\t\t\t\tSystem.out.println(&quot;visible = &quot; + evt.getNewValue());\r\n        \t\t\t\t\t}\r\n        \t\t\t\t});\r\n        \t\t\t\t\r\n        \t\t\t\tframe2.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n        \t\t\t\t\r\n        \t\t\t\tframe2.setTitle(&quot;This window is controlled by another window&quot;);\r\n        \t\t\t\t\r\n        \t\t\t\tframe2.setSize(800, 600);\r\n        \t\t\t\tframe2.setLocationRelativeTo(null);\r\n        \t\t\t\tframe2.setVisible(true);\r\n        \t\t\t\t\r\n        \t\t\t\tAbstractAction toggleAction = new AbstractAction(&quot;Toggle another window visibility&quot;) {\r\n        \r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n        \t\t\t\t\t\tframe2.setVisible( !frame2.isVisible() );\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t};\r\n        \t\t\t\t\r\n        \t\t\t\t\r\n        \t\t\t\tJButton toggleButton = new JButton(toggleAction);\r\n        \t\t\t\t\r\n        \t\t\t\tJFrame frame1 = new JFrame();\r\n        \t\t\t\t\r\n        \t\t\t\tframe1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \t\t\t\t\r\n        \t\t\t\tframe1.setTitle(&quot;This windows controls&quot;);\r\n        \t\t\t\tframe1.setLayout(new FlowLayout());\r\n        \t\t\t\tframe1.add(toggleButton);\r\n        \t\t\t\t\r\n        \t\t\t\t\r\n        \t\t\t\tframe1.pack();\r\n        \t\t\t\tframe1.setLocation(0, 0);\r\n        \t\t\t\tframe1.setVisible(true);\r\n        \t\t\t\t\r\n        \r\n        \t\t\t\t\r\n        \t\t\t\t\r\n        \t\t\t}\r\n        \t\t});\r\n        \t\t\r\n        \t}\r\n        }\r\n\r\n\r\n","title":"How to listen for &quot;visible&quot; property of Window in Swing/AWT?","body":"<p>There is a bean property \"visible\", which is represented by getter <code>isVisible()</code> and setter <code>setVisible()</code> in class <code>Window</code>.</p>\n\n<p>How to listen for this value? </p>\n\n<p>I would like to implement popular \"view\" menu with check box with binding library. Unfortunately I can't see how to bind \"visible\" property of a window. Even I can't write translator, because I see no any predefined way to listen for this property:</p>\n\n<pre><code>package tests;\n\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.WindowListener;\nimport java.awt.event.WindowStateListener;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.SwingUtilities;\n\n    public class Try_Swing2 {\n\n        public static void main(String[] args) {\n\n            SwingUtilities.invokeLater(new Runnable() {\n\n                @Override\n                public void run() {\n\n\n                    final JFrame frame2 = new JFrame();\n                    frame2.addWindowStateListener(new WindowStateListener() {\n\n                        @Override\n                        public void windowStateChanged(WindowEvent e) {\n\n                            System.out.println(\"windowState.newState = \" + e.getNewState());\n\n\n                        }\n                    });\n\n                    frame2.addWindowListener(new WindowListener() {\n\n                        @Override\n                        public void windowOpened(WindowEvent e) {\n                            System.out.println(\"windowOpened\");\n                        }\n\n                        @Override\n                        public void windowIconified(WindowEvent e) {\n                            System.out.println(\"windowIconified\");\n\n                        }\n\n                        @Override\n                        public void windowDeiconified(WindowEvent e) {\n                            System.out.println(\"windowDeiconified\");\n\n                        }\n\n                        @Override\n                        public void windowDeactivated(WindowEvent e) {\n                            System.out.println(\"windowDeactivated\");\n                        }\n\n                        @Override\n                        public void windowClosing(WindowEvent e) {\n                            System.out.println(\"windowClosing\");\n                        }\n\n                        @Override\n                        public void windowClosed(WindowEvent e) {\n                            System.out.println(\"windowClosed\");\n                        }\n\n                        @Override\n                        public void windowActivated(WindowEvent e) {\n                            System.out.println(\"windowActivated\");\n                        }\n                    });\n\n                    frame2.addPropertyChangeListener(\"visible\", new PropertyChangeListener() {\n\n                        @Override\n                        public void propertyChange(PropertyChangeEvent evt) {\n                            System.out.println(\"visible = \" + evt.getNewValue());\n                        }\n                    });\n\n                    frame2.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n\n                    frame2.setTitle(\"This window is controlled by another window\");\n\n                    frame2.setSize(800, 600);\n                    frame2.setLocationRelativeTo(null);\n                    frame2.setVisible(true);\n\n                    AbstractAction toggleAction = new AbstractAction(\"Toggle another window visibility\") {\n\n                        @Override\n                        public void actionPerformed(ActionEvent e) {\n                            frame2.setVisible( !frame2.isVisible() );\n                        }\n\n                    };\n\n\n                    JButton toggleButton = new JButton(toggleAction);\n\n                    JFrame frame1 = new JFrame();\n\n                    frame1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n                    frame1.setTitle(\"This windows controls\");\n                    frame1.setLayout(new FlowLayout());\n                    frame1.add(toggleButton);\n\n\n                    frame1.pack();\n                    frame1.setLocation(0, 0);\n                    frame1.setVisible(true);\n\n\n\n\n                }\n            });\n\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1658918052,"post_id":73136345,"comment_id":129169446,"body_markdown":"Check this https://stackoverflow.com/questions/43881272/select-based-on-many-to-one-relationship-criteria-spring-data #Dublicate","body":"Check this <a href=\"https://stackoverflow.com/questions/43881272/select-based-on-many-to-one-relationship-criteria-spring-data\" title=\"select based on many to one relationship criteria spring data\">stackoverflow.com/questions/43881272/&hellip;</a> #Dublicate"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1658918174,"post_id":73136345,"comment_id":129169495,"body_markdown":"The parameter needs a `List&lt;String&gt;` not a single `String`. Which is what the exception is telling you as well.","body":"The parameter needs a <code>List&lt;String&gt;</code> not a single <code>String</code>. Which is what the exception is telling you as well."},{"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"score":0,"creation_date":1658918179,"post_id":73136345,"comment_id":129169499,"body_markdown":"@VictorGubin But I am not using MySql. I am using DynamoDB will it work for it?","body":"@VictorGubin But I am not using MySql. I am using DynamoDB will it work for it?"},{"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"score":0,"creation_date":1658918285,"post_id":73136345,"comment_id":129169561,"body_markdown":"@M.Deinum Yeah , But I want to search that string parameter in List of String . Is it possible by Creating custom method ?","body":"@M.Deinum Yeah , But I want to search that string parameter in List of String . Is it possible by Creating custom method ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1658918337,"post_id":73136345,"comment_id":129169586,"body_markdown":"Again it needs a `List&lt;String&gt;` not a single `String`. You just pass it a List with 1 string in it.","body":"Again it needs a <code>List&lt;String&gt;</code> not a single <code>String</code>. You just pass it a List with 1 string in it."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1658918659,"post_id":73136345,"comment_id":129169714,"body_markdown":"DynamoDB is not a relational database at all, this is NoSQL solution and not a JPA at all. My advice forget about spring data with DynamoDB, use amazon API directly and read this https://www.alexdebrie.com/posts/dynamodb-one-to-many/","body":"DynamoDB is not a relational database at all, this is NoSQL solution and not a JPA at all. My advice forget about spring data with DynamoDB, use amazon API directly and read this <a href=\"https://www.alexdebrie.com/posts/dynamodb-one-to-many/\" rel=\"nofollow noreferrer\">alexdebrie.com/posts/dynamodb-one-to-many</a>"},{"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"score":0,"creation_date":1658985686,"post_id":73136345,"comment_id":129188920,"body_markdown":"@M.Deinum After passing List&lt;String&gt; as parameter it gives Unable to &#39;&#39;unmarshall exception response with the unmarshallers provided &#39;&#39; exception","body":"@M.Deinum After passing List&lt;String&gt; as parameter it gives Unable to &#39;&#39;unmarshall exception response with the unmarshallers provided &#39;&#39; exception"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1658986672,"post_id":73136345,"comment_id":129189071,"body_markdown":"So it basically works and you have an issue in your controller.","body":"So it basically works and you have an issue in your controller."}],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658917865,"creation_date":1658917865,"question_id":73136345,"body_markdown":"There is a list of String in my Database table \r\n\r\n    class Users{\r\n        String userId;\r\n        String userName;\r\n        List&lt;String&gt; bookIds=new ArrayList&lt;&gt;();\r\n    }\r\n\r\nI am using crud reposity  `CrudRepository&lt;Users, String&gt;`. and want to fetch all users who matches bookId.\r\n\r\n`List&lt;Users&gt; findByBookIdsContaining(String bookId);`\r\n\r\nbut i got error **class java.lang.String cannot be cast to class java.util.List**\r\n","title":"How to find record that matches inside List of String in Spring Boot JPA?","body":"<p>There is a list of String in my Database table</p>\n<pre><code>class Users{\n    String userId;\n    String userName;\n    List&lt;String&gt; bookIds=new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>I am using crud reposity  <code>CrudRepository&lt;Users, String&gt;</code>. and want to fetch all users who matches bookId.</p>\n<p><code>List&lt;Users&gt; findByBookIdsContaining(String bookId);</code></p>\n<p>but i got error <strong>class java.lang.String cannot be cast to class java.util.List</strong></p>\n"},{"tags":["java","spring-boot","soap"],"answers":[{"tags":[],"owner":{"account_id":935931,"reputation":370,"user_id":964853,"display_name":"Antonio Musarra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658917773,"creation_date":1658917773,"answer_id":73136323,"question_id":73066816,"body_markdown":"When building the WS-Security headers, I recommend you to use [Apache WSS4J][1]. I am attaching a code example that I use frequently.\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.wss4j.dom.WSConstants;\r\n    import org.apache.wss4j.dom.message.WSSecHeader;\r\n    import org.apache.wss4j.dom.message.WSSecTimestamp;\r\n    import org.apache.wss4j.dom.message.WSSecUsernameToken;\r\n    import org.w3c.dom.Element;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.soap.SOAPEnvelope;\r\n    import javax.xml.soap.SOAPException;\r\n    import javax.xml.soap.SOAPHeader;\r\n    import javax.xml.soap.SOAPMessage;\r\n    import javax.xml.soap.SOAPPart;\r\n    import javax.xml.ws.handler.MessageContext;\r\n    import javax.xml.ws.handler.soap.SOAPHandler;\r\n    import javax.xml.ws.handler.soap.SOAPMessageContext;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    @Slf4j\r\n    public class ClientWSSecurityUsernameTokenHandler implements\r\n    \tSOAPHandler&lt;SOAPMessageContext&gt; {\r\n    \r\n    \tpublic ClientWSSecurityUsernameTokenHandler(\r\n    \t\tString userName, String password) {\r\n    \t\t_userName = userName;\r\n    \t\t_password = password;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;QName&gt; getHeaders() {\r\n    \t\tfinal String NAMESPACE_URI =\r\n    \t\t\t&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;;\r\n    \t\tfinal String LOCAL_PART = &quot;Security&quot;;\r\n    \t\tfinal String PREFIX = &quot;wsse&quot;;\r\n    \r\n    \t\tfinal QName wsSecurity = new QName(NAMESPACE_URI, LOCAL_PART, PREFIX);\r\n    \t\tfinal Set&lt;QName&gt; headers = new HashSet&lt;QName&gt;();\r\n    \t\theaders.add(wsSecurity);\r\n    \r\n    \t\treturn headers;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean handleMessage(SOAPMessageContext soapMessageContext) {\r\n    \t\tBoolean outboundProperty = (Boolean) soapMessageContext.get(\r\n    \t\t\tMessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n    \t\tif (outboundProperty) {\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\tSOAPMessage soapMessage = soapMessageContext.getMessage();\r\n    \t\t\t\tSOAPPart soapPart = soapMessage.getSOAPPart();\r\n    \r\n    \t\t\t\tSOAPHeader soapHeader = soapMessage.getSOAPHeader();\r\n    \r\n    \t\t\t\tif (null == soapHeader) {\r\n    \t\t\t\t\tSOAPEnvelope soapEnvelope = soapPart.getEnvelope();\r\n    \t\t\t\t\tsoapHeader = soapEnvelope.addHeader();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tWSSecHeader wsSecHeader = new WSSecHeader(soapPart);\r\n    \t\t\t\tElement securityElement =\r\n    \t\t\t\t\twsSecHeader.insertSecurityHeader();\r\n    \r\n    \t\t\t\t_addUsernamePassword(soapMessageContext, soapPart, wsSecHeader);\r\n    \r\n    \t\t\t\tWSSecTimestamp wsSecTimeStamp = new WSSecTimestamp(wsSecHeader);\r\n    \t\t\t\twsSecTimeStamp.build();\r\n    \r\n    \t\t\t\t_appendSecurityHeader(soapHeader, securityElement);\r\n    \r\n    \t\t\t\t_logSOAPMessage(soapMessageContext.getMessage());\r\n    \t\t\t}\r\n    \t\t\tcatch (Exception exception) {\r\n    \t\t\t\tlog.error(exception.getMessage(), exception);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate String getPassword() {\r\n    \t\treturn _password;\r\n    \t}\r\n    \r\n    \tprivate String getUserName() {\r\n    \t\treturn _userName;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean handleFault(SOAPMessageContext soapMessageContext) {\r\n    \t\t_logSOAPMessage(soapMessageContext.getMessage());\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void close(MessageContext messageContext) {\r\n    \t}\r\n    \r\n    \tprivate String _userName;\r\n    \tprivate String _password;\r\n    \r\n    \tprivate void _appendSecurityHeader(\r\n    \t\tSOAPHeader soapHeader, Element securityElement) {\r\n    \t\tsoapHeader.removeChild(securityElement);\r\n    \t\tsoapHeader.appendChild(securityElement);\r\n    \t}\r\n    \r\n    \tprivate void _addUsernamePassword(\r\n    \t\tSOAPMessageContext soapMessageContext, SOAPPart soapPart,\r\n    \t\tWSSecHeader wsSecHeader) {\r\n    \t\tlog.debug(&quot;Adding Username Token for the user: {}&quot;, getUserName());\r\n    \r\n    \t\tWSSecUsernameToken usernameToken = new WSSecUsernameToken(wsSecHeader);\r\n    \t\tusernameToken.setUserInfo(getUserName(), getPassword());\r\n    \t\tusernameToken.setPasswordType(WSConstants.PASSWORD_TEXT);\r\n    \t\tusernameToken.addCreated();\r\n    \t\tusernameToken.addNonce();\r\n    \t\tusernameToken.build();\r\n    \t}\r\n    \r\n    \tprivate void _logSOAPMessage(SOAPMessage message) {\r\n    \t\tif (log.isDebugEnabled()) {\r\n    \t\t\tByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n    \t\t\ttry {\r\n    \t\t\t\tmessage.writeTo(bout);\r\n    \t\t\t\tString msg = bout.toString(&quot;UTF-8&quot;);\r\n    \t\t\t\tlog.debug(&quot;Start of SOAP Message&quot;);\r\n    \t\t\t\tlog.debug(msg);\r\n    \t\t\t\tlog.debug(&quot;End of SOAP Message&quot;);\r\n    \t\t\t}\r\n    \t\t\tcatch (SOAPException | IOException exception) {\r\n    \t\t\t\tif (log.isErrorEnabled()) {\r\n    \t\t\t\t\tlog.error(exception.getMessage(), exception);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nSource Code 1 - SOAP Handler ClientWSSecurityUsernameTokenHandler\r\n\r\nThe following code instead shows how to add the handler to the chain.\r\n\r\n    ClientWSSecurityUsernameTokenHandler\r\n    \tclientWSSSecurityUsernameTokenHandler =\r\n    \t\tnew ClientWSSecurityUsernameTokenHandler(soapClientProperties.getUsername(),\r\n    \t\t\tsoapClientProperties.getPassword());\r\n    \r\n        List&lt;Handler&gt; handlerChain = List.of(clientWSSSecurityUsernameTokenHandler);\r\n    \r\n        ((BindingProvider) serviceSOAP).getBinding().setHandlerChain(handlerChain);\r\nSource Code 2 - Add the ClientWSSecurityUsernameTokenHandler to SOAP Handler Chain\r\n\r\nThe following code instead shows how to add the wss4j-ws-security-dom as dependency.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.wss4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;wss4j-ws-security-dom&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://ws.apache.org/wss4j/","title":"SOAP security, client authentication problem","body":"<p>When building the WS-Security headers, I recommend you to use <a href=\"https://ws.apache.org/wss4j/\" rel=\"nofollow noreferrer\">Apache WSS4J</a>. I am attaching a code example that I use frequently.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.apache.wss4j.dom.WSConstants;\nimport org.apache.wss4j.dom.message.WSSecHeader;\nimport org.apache.wss4j.dom.message.WSSecTimestamp;\nimport org.apache.wss4j.dom.message.WSSecUsernameToken;\nimport org.w3c.dom.Element;\n\nimport javax.xml.namespace.QName;\nimport javax.xml.soap.SOAPEnvelope;\nimport javax.xml.soap.SOAPException;\nimport javax.xml.soap.SOAPHeader;\nimport javax.xml.soap.SOAPMessage;\nimport javax.xml.soap.SOAPPart;\nimport javax.xml.ws.handler.MessageContext;\nimport javax.xml.ws.handler.soap.SOAPHandler;\nimport javax.xml.ws.handler.soap.SOAPMessageContext;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Slf4j\npublic class ClientWSSecurityUsernameTokenHandler implements\n    SOAPHandler&lt;SOAPMessageContext&gt; {\n\n    public ClientWSSecurityUsernameTokenHandler(\n        String userName, String password) {\n        _userName = userName;\n        _password = password;\n    }\n\n    @Override\n    public Set&lt;QName&gt; getHeaders() {\n        final String NAMESPACE_URI =\n            &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;;\n        final String LOCAL_PART = &quot;Security&quot;;\n        final String PREFIX = &quot;wsse&quot;;\n\n        final QName wsSecurity = new QName(NAMESPACE_URI, LOCAL_PART, PREFIX);\n        final Set&lt;QName&gt; headers = new HashSet&lt;QName&gt;();\n        headers.add(wsSecurity);\n\n        return headers;\n    }\n\n    @Override\n    public boolean handleMessage(SOAPMessageContext soapMessageContext) {\n        Boolean outboundProperty = (Boolean) soapMessageContext.get(\n            MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n        if (outboundProperty) {\n            try {\n\n                SOAPMessage soapMessage = soapMessageContext.getMessage();\n                SOAPPart soapPart = soapMessage.getSOAPPart();\n\n                SOAPHeader soapHeader = soapMessage.getSOAPHeader();\n\n                if (null == soapHeader) {\n                    SOAPEnvelope soapEnvelope = soapPart.getEnvelope();\n                    soapHeader = soapEnvelope.addHeader();\n                }\n\n                WSSecHeader wsSecHeader = new WSSecHeader(soapPart);\n                Element securityElement =\n                    wsSecHeader.insertSecurityHeader();\n\n                _addUsernamePassword(soapMessageContext, soapPart, wsSecHeader);\n\n                WSSecTimestamp wsSecTimeStamp = new WSSecTimestamp(wsSecHeader);\n                wsSecTimeStamp.build();\n\n                _appendSecurityHeader(soapHeader, securityElement);\n\n                _logSOAPMessage(soapMessageContext.getMessage());\n            }\n            catch (Exception exception) {\n                log.error(exception.getMessage(), exception);\n            }\n        }\n        return true;\n    }\n\n    private String getPassword() {\n        return _password;\n    }\n\n    private String getUserName() {\n        return _userName;\n    }\n\n    @Override\n    public boolean handleFault(SOAPMessageContext soapMessageContext) {\n        _logSOAPMessage(soapMessageContext.getMessage());\n        return true;\n    }\n\n    @Override\n    public void close(MessageContext messageContext) {\n    }\n\n    private String _userName;\n    private String _password;\n\n    private void _appendSecurityHeader(\n        SOAPHeader soapHeader, Element securityElement) {\n        soapHeader.removeChild(securityElement);\n        soapHeader.appendChild(securityElement);\n    }\n\n    private void _addUsernamePassword(\n        SOAPMessageContext soapMessageContext, SOAPPart soapPart,\n        WSSecHeader wsSecHeader) {\n        log.debug(&quot;Adding Username Token for the user: {}&quot;, getUserName());\n\n        WSSecUsernameToken usernameToken = new WSSecUsernameToken(wsSecHeader);\n        usernameToken.setUserInfo(getUserName(), getPassword());\n        usernameToken.setPasswordType(WSConstants.PASSWORD_TEXT);\n        usernameToken.addCreated();\n        usernameToken.addNonce();\n        usernameToken.build();\n    }\n\n    private void _logSOAPMessage(SOAPMessage message) {\n        if (log.isDebugEnabled()) {\n            ByteArrayOutputStream bout = new ByteArrayOutputStream();\n            try {\n                message.writeTo(bout);\n                String msg = bout.toString(&quot;UTF-8&quot;);\n                log.debug(&quot;Start of SOAP Message&quot;);\n                log.debug(msg);\n                log.debug(&quot;End of SOAP Message&quot;);\n            }\n            catch (SOAPException | IOException exception) {\n                if (log.isErrorEnabled()) {\n                    log.error(exception.getMessage(), exception);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Source Code 1 - SOAP Handler ClientWSSecurityUsernameTokenHandler</p>\n<p>The following code instead shows how to add the handler to the chain.</p>\n<pre><code>ClientWSSecurityUsernameTokenHandler\n    clientWSSSecurityUsernameTokenHandler =\n        new ClientWSSecurityUsernameTokenHandler(soapClientProperties.getUsername(),\n            soapClientProperties.getPassword());\n\n    List&lt;Handler&gt; handlerChain = List.of(clientWSSSecurityUsernameTokenHandler);\n\n    ((BindingProvider) serviceSOAP).getBinding().setHandlerChain(handlerChain);\n</code></pre>\n<p>Source Code 2 - Add the ClientWSSecurityUsernameTokenHandler to SOAP Handler Chain</p>\n<p>The following code instead shows how to add the wss4j-ws-security-dom as dependency.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.wss4j&lt;/groupId&gt;\n  &lt;artifactId&gt;wss4j-ws-security-dom&lt;/artifactId&gt;\n  &lt;version&gt;2.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":25861752,"reputation":21,"user_id":19594114,"display_name":"pio_trek248"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1658917773,"creation_date":1658408851,"question_id":73066816,"body_markdown":"I tried to connect to TERYT but I get an error about the lack of authorization.\r\nWSDL address - https://uslugaterytws1test.stat.gov.pl/wsdl/terytws1.wsdl\r\n\r\n    java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:765) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.example.teryt.TerytApplication.main(TerytApplication.java:15) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_332]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_332]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_332]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_332]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.7.1.jar:2.7.1]\r\nCaused by: com.sun.xml.internal.ws.fault.ServerSOAPFaultException: Client received SOAP Fault from server: An error occurred when processing the security tokens in the message. Please see the server log to find more detail regarding exact cause of the failure.\r\n\tat com.sun.xml.internal.ws.fault.SOAP11Fault.getProtocolException(SOAP11Fault.java:178) ~[na:1.8.0_332]\r\n\tat com.sun.xml.internal.ws.fault.SOAPFaultBuilder.createException(SOAPFaultBuilder.java:116) ~[na:1.8.0_332]\r\n\tat com.sun.xml.internal.ws.client.sei.StubHandler.readResponse(StubHandler.java:238) ~[na:1.8.0_332]\r\n\tat com.sun.xml.internal.ws.db.DatabindingImpl.deserializeResponse(DatabindingImpl.java:189) ~[na:1.8.0_332]\r\n\tat com.sun.xml.internal.ws.db.DatabindingImpl.deserializeResponse(DatabindingImpl.java:276) ~[na:1.8.0_332]\r\n\tat com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:104) ~[na:1.8.0_332]\r\n\tat com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:77) ~[na:1.8.0_332]\r\n\tat com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:147) ~[na:1.8.0_332]\r\n\tat com.sun.proxy.$Proxy83.pobierzListeWojewodztw(Unknown Source) ~[na:na]\r\n\tat com.example.teryt.TerytClient.getResponse(TerytClient.java:31) ~[classes/:na]\r\n\tat com.example.teryt.TerytApplication.lambda$lookup$0(TerytApplication.java:20) [classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762) [spring-boot-2.7.1.jar:2.7.1]\r\n\r\nThis is what the correct query should look like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ns1=&quot;http://tempuri.org/&quot;&gt;\r\n    &lt;soapenv:Header&gt;\r\n        &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n            &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-2018-01-11T00:16:02+00:00&quot;&gt;\r\n                &lt;wsse:Username&gt;TestPubliczny&lt;/wsse:Username&gt;\r\n                &lt;wsse:Password&gt;1234abcd&lt;/wsse:Password&gt;\r\n            &lt;/wsse:UsernameToken&gt;\r\n        &lt;/wsse:Security&gt;\r\n        &lt;wsa:Action xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;http://tempuri.org/ITerytWs1/PobierzListeWojewodztw&lt;/wsa:Action&gt;\r\n    &lt;/soapenv:Header&gt;\r\n    &lt;soapenv:Body&gt;\r\n        &lt;ns1:PobierzListeWojewodztw&gt;\r\n            &lt;ns1:DataStanu&gt;2020-05-18&lt;/ns1:DataStanu&gt;\r\n        &lt;/ns1:PobierzListeWojewodztw&gt;\r\n    &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n\r\n**TerytApplication.java:**\r\n\r\n    @SpringBootApplication\r\npublic class TerytApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(TerytApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    ApplicationRunner lookup(TerytClient terytClient){\r\n        return args -&gt; System.out.println(terytClient.getResponse());\r\n    }\r\n}\r\n\r\n**Client.java:**\r\n\r\n    @Component\r\npublic class TerytClient extends WebServiceGatewaySupport {\r\n\r\n    public Boolean getResponse() throws DatatypeConfigurationException {\r\n        GregorianCalendar cal = new GregorianCalendar();\r\n        cal.setTime(new Date());\r\n        XMLGregorianCalendar xCal = DatatypeFactory.newInstance()\r\n                .newXMLGregorianCalendar(cal);\r\n\r\n        ITerytWs1 instance = new TerytWs1().getCustom(new AddressingFeature(true));\r\n        Binding binding = ((BindingProvider) instance).getBinding();\r\n        List&lt;Handler&gt; handlerList = binding.getHandlerChain();\r\n        if (handlerList == null)\r\n            handlerList = new ArrayList&lt;Handler&gt;();\r\n        handlerList.add(new TerytHeaderHandler(&quot;TestPubliczny&quot;, &quot;1234abcd&quot;));\r\n        binding.setHandlerChain(handlerList);\r\n        System.out.println(instance.pobierzListeWojewodztw(xCal));\r\n\r\n        return instance.czyZalogowany();\r\n    }\r\n\r\n**HeaderHandler.java**\r\n\r\n       @Override\r\n    public boolean handleMessage(SOAPMessageContext smc) {\r\n        Boolean outboundProperty = (Boolean) smc.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n        if (outboundProperty.booleanValue()) {\r\n            try {\r\n                SOAPEnvelope envelope = smc.getMessage().getSOAPPart().getEnvelope();\r\n                SOAPHeader header = envelope.getHeader();\r\n                SOAPElement security = header.addChildElement(&quot;Security&quot;, &quot;wsse&quot;,\r\n                        &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\r\n                SOAPElement usernameToken = security.addChildElement(&quot;UsernameToken&quot;, &quot;wsse&quot;);\r\n                SOAPElement username = usernameToken.addChildElement(&quot;Username&quot;, &quot;wsse&quot;);\r\n                username.addTextNode(wsUser);\r\n                SOAPElement password = usernameToken.addChildElement(&quot;Password&quot;, &quot;wsse&quot;);\r\n                password.setAttribute(&quot;Type&quot;,\r\n                        &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;);\r\n                password.addTextNode(wsPassword);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            //This handler does nothing with the response from the Web Service\r\n            //even though it should probably check its mustUnderstand headers\r\n            SOAPMessage message = smc.getMessage();\r\n        }\r\n        return outboundProperty;\r\n    }\r\n\r\n    @Override\r\n    public boolean handleFault(SOAPMessageContext context) {\r\n        // TODO Auto-generated method stub\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void close(MessageContext context) {\r\n        // TODO Auto-generated method stub\r\n    }\r\n\r\n    // Gets the header blocks that can be processed by this Handler instance.\r\n    @Override\r\n    public Set&lt;QName&gt; getHeaders() {\r\n        QName securityHeader = new QName(&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;,\r\n                &quot;Security&quot;);\r\n        HashSet&lt;QName&gt; headers = new HashSet&lt;QName&gt;();\r\n        headers.add(securityHeader);\r\n        return headers;\r\n    }\r\n}\r\n\r\nI would be grateful for any help and suggestions.","title":"SOAP security, client authentication problem","body":"<p>I tried to connect to TERYT but I get an error about the lack of authorization.\nWSDL address - <a href=\"https://uslugaterytws1test.stat.gov.pl/wsdl/terytws1.wsdl\" rel=\"nofollow noreferrer\">https://uslugaterytws1test.stat.gov.pl/wsdl/terytws1.wsdl</a></p>\n<pre><code>java.lang.IllegalStateException: Failed to execute ApplicationRunner\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:765) [spring-boot-2.7.1.jar:2.7.1]\nat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752) [spring-boot-2.7.1.jar:2.7.1]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.7.1.jar:2.7.1]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\nat com.example.teryt.TerytApplication.main(TerytApplication.java:15) [classes/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_332]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_332]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_332]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_332]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.7.1.jar:2.7.1]\n</code></pre>\n<p>Caused by: com.sun.xml.internal.ws.fault.ServerSOAPFaultException: Client received SOAP Fault from server: An error occurred when processing the security tokens in the message. Please see the server log to find more detail regarding exact cause of the failure.\nat com.sun.xml.internal.ws.fault.SOAP11Fault.getProtocolException(SOAP11Fault.java:178) ~[na:1.8.0_332]\nat com.sun.xml.internal.ws.fault.SOAPFaultBuilder.createException(SOAPFaultBuilder.java:116) ~[na:1.8.0_332]\nat com.sun.xml.internal.ws.client.sei.StubHandler.readResponse(StubHandler.java:238) ~[na:1.8.0_332]\nat com.sun.xml.internal.ws.db.DatabindingImpl.deserializeResponse(DatabindingImpl.java:189) ~[na:1.8.0_332]\nat com.sun.xml.internal.ws.db.DatabindingImpl.deserializeResponse(DatabindingImpl.java:276) ~[na:1.8.0_332]\nat com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:104) ~[na:1.8.0_332]\nat com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:77) ~[na:1.8.0_332]\nat com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:147) ~[na:1.8.0_332]\nat com.sun.proxy.$Proxy83.pobierzListeWojewodztw(Unknown Source) ~[na:na]\nat com.example.teryt.TerytClient.getResponse(TerytClient.java:31) ~[classes/:na]\nat com.example.teryt.TerytApplication.lambda$lookup$0(TerytApplication.java:20) [classes/:na]\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762) [spring-boot-2.7.1.jar:2.7.1]</p>\n<p>This is what the correct query should look like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ns1=&quot;http://tempuri.org/&quot;&gt;\nsoapenv:Header\n&lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\n&lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-2018-01-11T00:16:02+00:00&quot;&gt;\nwsse:UsernameTestPubliczny&lt;/wsse:Username&gt;\nwsse:Password1234abcd&lt;/wsse:Password&gt;\n&lt;/wsse:UsernameToken&gt;\n&lt;/wsse:Security&gt;\n&lt;wsa:Action xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;http://tempuri.org/ITerytWs1/PobierzListeWojewodztw&lt;/wsa:Action&gt;\n&lt;/soapenv:Header&gt;\nsoapenv:Body\nns1:PobierzListeWojewodztw\nns1:DataStanu2020-05-18&lt;/ns1:DataStanu&gt;\n&lt;/ns1:PobierzListeWojewodztw&gt;\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;</p>\n<p><strong>TerytApplication.java:</strong></p>\n<pre><code>@SpringBootApplication\n</code></pre>\n<p>public class TerytApplication {</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(TerytApplication.class, args);\n}\n\n@Bean\nApplicationRunner lookup(TerytClient terytClient){\n    return args -&gt; System.out.println(terytClient.getResponse());\n}\n</code></pre>\n<p>}</p>\n<p><strong>Client.java:</strong></p>\n<pre><code>@Component\n</code></pre>\n<p>public class TerytClient extends WebServiceGatewaySupport {</p>\n<pre><code>public Boolean getResponse() throws DatatypeConfigurationException {\n    GregorianCalendar cal = new GregorianCalendar();\n    cal.setTime(new Date());\n    XMLGregorianCalendar xCal = DatatypeFactory.newInstance()\n            .newXMLGregorianCalendar(cal);\n\n    ITerytWs1 instance = new TerytWs1().getCustom(new AddressingFeature(true));\n    Binding binding = ((BindingProvider) instance).getBinding();\n    List&lt;Handler&gt; handlerList = binding.getHandlerChain();\n    if (handlerList == null)\n        handlerList = new ArrayList&lt;Handler&gt;();\n    handlerList.add(new TerytHeaderHandler(&quot;TestPubliczny&quot;, &quot;1234abcd&quot;));\n    binding.setHandlerChain(handlerList);\n    System.out.println(instance.pobierzListeWojewodztw(xCal));\n\n    return instance.czyZalogowany();\n}\n</code></pre>\n<p><strong>HeaderHandler.java</strong></p>\n<pre><code>   @Override\npublic boolean handleMessage(SOAPMessageContext smc) {\n    Boolean outboundProperty = (Boolean) smc.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n    if (outboundProperty.booleanValue()) {\n        try {\n            SOAPEnvelope envelope = smc.getMessage().getSOAPPart().getEnvelope();\n            SOAPHeader header = envelope.getHeader();\n            SOAPElement security = header.addChildElement(&quot;Security&quot;, &quot;wsse&quot;,\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\n            SOAPElement usernameToken = security.addChildElement(&quot;UsernameToken&quot;, &quot;wsse&quot;);\n            SOAPElement username = usernameToken.addChildElement(&quot;Username&quot;, &quot;wsse&quot;);\n            username.addTextNode(wsUser);\n            SOAPElement password = usernameToken.addChildElement(&quot;Password&quot;, &quot;wsse&quot;);\n            password.setAttribute(&quot;Type&quot;,\n                    &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;);\n            password.addTextNode(wsPassword);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    } else {\n        //This handler does nothing with the response from the Web Service\n        //even though it should probably check its mustUnderstand headers\n        SOAPMessage message = smc.getMessage();\n    }\n    return outboundProperty;\n}\n\n@Override\npublic boolean handleFault(SOAPMessageContext context) {\n    // TODO Auto-generated method stub\n    return false;\n}\n\n@Override\npublic void close(MessageContext context) {\n    // TODO Auto-generated method stub\n}\n\n// Gets the header blocks that can be processed by this Handler instance.\n@Override\npublic Set&lt;QName&gt; getHeaders() {\n    QName securityHeader = new QName(&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;,\n            &quot;Security&quot;);\n    HashSet&lt;QName&gt; headers = new HashSet&lt;QName&gt;();\n    headers.add(securityHeader);\n    return headers;\n}\n</code></pre>\n<p>}</p>\n<p>I would be grateful for any help and suggestions.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-paging"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1557417370,"post_id":56062481,"comment_id":98766710,"body_markdown":"Or you can skip using FirestorePagingAdapter and bind the results of a query to a RecyclerView yourself.  Recommended modern app architecture uses Android Jetpack with Firebase SDKs as shown in this repo.  https://github.com/CodingDoug/firebase-jetpack","body":"Or you can skip using FirestorePagingAdapter and bind the results of a query to a RecyclerView yourself.  Recommended modern app architecture uses Android Jetpack with Firebase SDKs as shown in this repo.  <a href=\"https://github.com/CodingDoug/firebase-jetpack\" rel=\"nofollow noreferrer\">github.com/CodingDoug/firebase-jetpack</a>"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557415450,"creation_date":1557414989,"answer_id":56062613,"question_id":56062481,"body_markdown":"As you already noticed:\r\n\r\n    String id = getSnapshots().getSnapshot(position).getId();\r\n\r\nDoesn&#39;t work, it works only when using `FirestoreRecyclerAdapter`. So to solve this, you need to store the id of the document as property of your document. If the id of the document is the id of the user that comes from the Firebase autentication, then simply store that `uid`. If you are not using the `uid`, get the id of the document and pass it to the `User` constructor when creating a new object like this:\r\n\r\n    FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\r\n    CollectionReference usersRef = rootRef.collection(&quot;users&quot;);\r\n    String id = eventsRef.document().getId();\r\n    User user = new User(id, name, status, thumb_image);\r\n    usersRef.document(id).set(user);","title":"How to get document id in In FirestorePagingAdapter?","body":"<p>As you already noticed:</p>\n\n<pre><code>String id = getSnapshots().getSnapshot(position).getId();\n</code></pre>\n\n<p>Doesn't work, it works only when using <code>FirestoreRecyclerAdapter</code>. So to solve this, you need to store the id of the document as property of your document. If the id of the document is the id of the user that comes from the Firebase autentication, then simply store that <code>uid</code>. If you are not using the <code>uid</code>, get the id of the document and pass it to the <code>User</code> constructor when creating a new object like this:</p>\n\n<pre><code>FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\nCollectionReference usersRef = rootRef.collection(\"users\");\nString id = eventsRef.document().getId();\nUser user = new User(id, name, status, thumb_image);\nusersRef.document(id).set(user);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8145317,"reputation":701,"user_id":6134137,"display_name":"Shubhaw Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1557422612,"creation_date":1557422612,"answer_id":56064579,"question_id":56062481,"body_markdown":"I was able to do this by using `SnapshotParser` in `setQuery` method. Through this, I was able to modify the object which I got from the firestore. The `documentSnapshot.getId()` method returns the document id.\r\n```\r\nFirestorePagingOptions&lt;User&gt; firestorePagingOptions = new FirestorePagingOptions.Builder&lt;User&gt;()\r\n                .setLifecycleOwner(this)\r\n                .setQuery(query, config, new SnapshotParser&lt;User&gt;() {\r\n                    @NonNull\r\n                    @Override\r\n                    public User parseSnapshot(@NonNull DocumentSnapshot snapshot) {\r\n                        User user = snapshot.toObject(User.class);\r\n                        user.userId = snapshot.getId();\r\n                        return user;\r\n                    }\r\n                })\r\n                .build();\r\n```\r\nIn the User class, I just added another field &quot;String userId&quot; in the User class. The userId field doesn&#39;t exist in my firestore document.\r\nIn the `onClickListener`, I can then directly use `user.userId` to get the document id and send it to other activity.\r\n","title":"How to get document id in In FirestorePagingAdapter?","body":"<p>I was able to do this by using <code>SnapshotParser</code> in <code>setQuery</code> method. Through this, I was able to modify the object which I got from the firestore. The <code>documentSnapshot.getId()</code> method returns the document id.</p>\n\n<pre><code>FirestorePagingOptions&lt;User&gt; firestorePagingOptions = new FirestorePagingOptions.Builder&lt;User&gt;()\n                .setLifecycleOwner(this)\n                .setQuery(query, config, new SnapshotParser&lt;User&gt;() {\n                    @NonNull\n                    @Override\n                    public User parseSnapshot(@NonNull DocumentSnapshot snapshot) {\n                        User user = snapshot.toObject(User.class);\n                        user.userId = snapshot.getId();\n                        return user;\n                    }\n                })\n                .build();\n</code></pre>\n\n<p>In the User class, I just added another field \"String userId\" in the User class. The userId field doesn't exist in my firestore document.\nIn the <code>onClickListener</code>, I can then directly use <code>user.userId</code> to get the document id and send it to other activity.</p>\n"},{"tags":[],"owner":{"account_id":12804042,"reputation":1,"user_id":9264401,"display_name":"Swahilidoc Tz"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1582427661,"creation_date":1582419515,"answer_id":60358270,"question_id":56062481,"body_markdown":"Try using this\r\n```\r\ngetSnapshots().getSnapshot(position).getId()\r\n```","title":"How to get document id in In FirestorePagingAdapter?","body":"<p>Try using this</p>\n\n<pre><code>getSnapshots().getSnapshot(position).getId()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16254260,"reputation":809,"user_id":11737287,"display_name":"Mr. Disability"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594107166,"creation_date":1594107166,"answer_id":62770202,"question_id":56062481,"body_markdown":"I spent a day trying to get the id of the document as I am now using the FirestorePagingAdapter. For Kotlin this is what worked for me\r\n```\r\noverride fun onBindViewHolder(viewHolder: LyricViewHolder, position: Int, song: Lyric) {\r\n                // Bind to ViewHolder\r\n                viewHolder.bind(song)\r\n\r\n                viewHolder.itemView.setOnClickListener { view -&gt;\r\n\r\n                    val id = getItem(position)?.id\r\n\r\n                    var bundle = bundleOf(&quot;id&quot; to id)\r\n                    view.findNavController().navigate(R.id.songDetailFragment, bundle)\r\n                }\r\n            }\r\n```\r\nHope this helps someone else in the near future. Can post full code and fully explain if anyone is confused. Happy coding!","title":"How to get document id in In FirestorePagingAdapter?","body":"<p>I spent a day trying to get the id of the document as I am now using the FirestorePagingAdapter. For Kotlin this is what worked for me</p>\n<pre><code>override fun onBindViewHolder(viewHolder: LyricViewHolder, position: Int, song: Lyric) {\n                // Bind to ViewHolder\n                viewHolder.bind(song)\n\n                viewHolder.itemView.setOnClickListener { view -&gt;\n\n                    val id = getItem(position)?.id\n\n                    var bundle = bundleOf(&quot;id&quot; to id)\n                    view.findNavController().navigate(R.id.songDetailFragment, bundle)\n                }\n            }\n</code></pre>\n<p>Hope this helps someone else in the near future. Can post full code and fully explain if anyone is confused. Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":5907840,"reputation":945,"user_id":4648976,"accept_rate":75,"display_name":"mustangDC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614012432,"creation_date":1614012432,"answer_id":66319862,"question_id":56062481,"body_markdown":"While trying to access the document snapshot from itemView, I found out [this][1]\r\n \r\n    itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    int pos = getAdapterPosition();\r\n                    if (pos != RecyclerView.NO_POSITION &amp;&amp; listener != null) {\r\n                        String docId = getItem(pos).getId();\r\n                        Toast.makeText(context, &quot;doc Id: &quot;+docId, Toast.LENGTH_SHORT).show();\r\n                        //listener.onItemClick(getSnapshots().getSnapshot(pos), pos, docId);\r\n                        listener.onItemClick(getItem(pos), pos, docId); \r\n                    }\r\n                }\r\n            });\r\n\r\n\r\nAs mentioned [here][2], the `getItem()` returns the item&#39;s data object. \r\n\r\n  [1]: https://developer.android.com/reference/android/widget/Adapter#getItem(int)\r\n[2]: https://stackoverflow.com/a/14030555/4648976","title":"How to get document id in In FirestorePagingAdapter?","body":"<p>While trying to access the document snapshot from itemView, I found out <a href=\"https://developer.android.com/reference/android/widget/Adapter#getItem(int)\" rel=\"nofollow noreferrer\">this</a></p>\n<pre><code>itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                int pos = getAdapterPosition();\n                if (pos != RecyclerView.NO_POSITION &amp;&amp; listener != null) {\n                    String docId = getItem(pos).getId();\n                    Toast.makeText(context, &quot;doc Id: &quot;+docId, Toast.LENGTH_SHORT).show();\n                    //listener.onItemClick(getSnapshots().getSnapshot(pos), pos, docId);\n                    listener.onItemClick(getItem(pos), pos, docId); \n                }\n            }\n        });\n</code></pre>\n<p>As mentioned <a href=\"https://stackoverflow.com/a/14030555/4648976\">here</a>, the <code>getItem()</code> returns the item's data object.</p>\n"}],"owner":{"account_id":8145317,"reputation":701,"user_id":6134137,"display_name":"Shubhaw Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1372,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56064579,"answer_count":5,"score":2,"last_activity_date":1658917531,"creation_date":1557414532,"question_id":56062481,"body_markdown":"I am trying to use the `FirestorePagingAdapter` to display a list of all users in my firestore database. I am using `FirestorePagingAdapter` instead of FirestoreRecyclerAdapter to minimize the number of reads as F`irestorePagingAdapter `doesn&#39;t read the whole list of documents while `FirestoreRecyclerAdapter` does. I am able to display the paginated list successfully but I need to implement `onClickListener` onto it and on click of every item, I need to open another activity which shows a detailed description of the particular user which was clicked. For this, I need to pass the documentId of the clicked user to the next activity. \r\n\r\n\r\nBut unfortunately, ***FirestorePagingAdapter doesn&#39;t have getSnapshots() method so that I use getSnapshots().getSnapshot(position).getId().***\r\n\r\nOn the other hand, FirestoreRecyclerAdapter has this method which makes fetching the document id a very easy task. Something like this: https://stackoverflow.com/questions/47986504/how-to-get-document-id-or-name-in-android-in-firestore-db-for-passing-on-to-anot/47995871#47995871\r\n\r\n```\r\n// Query to fetch documents from user collection ordered by name\r\nQuery query = FirebaseFirestore.getInstance().collection(&quot;users&quot;)\r\n                .orderBy(&quot;name&quot;);\r\n\r\n// Setting the pagination configuration\r\nPagedList.Config config = new PagedList.Config.Builder()\r\n                .setEnablePlaceholders(false)\r\n                .setPrefetchDistance(10)\r\n                .setPageSize(20)\r\n                .build();\r\n\r\n\r\nFirestorePagingOptions&lt;User&gt; firestorePagingOptions = new FirestorePagingOptions.Builder&lt;User&gt;()\r\n                .setLifecycleOwner(this)\r\n                .setQuery(query, config, User.class)\r\n                .build();\r\n\r\nfirestorePagingAdapter =\r\n                new FirestorePagingAdapter&lt;User, UserViewHolder&gt;(firestorePagingOptions){\r\n\r\n                    @NonNull\r\n                    @Override\r\n                    public UserViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                        View view = LayoutInflater.from(parent.getContext())\r\n                                .inflate(R.layout.single_user_layout, parent, false);\r\n\r\n                        return new UserViewHolder(view);\r\n                    }\r\n\r\n                    @Override\r\n                    protected void onBindViewHolder(@NonNull UserViewHolder holder, int position, @NonNull User user) {\r\n                        holder.setUserName(user.name);\r\n                        holder.setStatus(user.status);\r\n                        holder.setThumbImage(user.thumb_image, UsersActivity.this);\r\n\r\n\r\n                        holder.mView.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent userProfileIntent = new Intent(UsersActivity.this, UserProfileActivity.class);\r\n                                // Need to fetch the user_id to pass it as intent extra\r\n                                // String user_id = getSnapshots().getSnapshot(position).getId();\r\n                                // userProfileIntent.putExtra(&quot;user_id&quot;, user_id);\r\n                                startActivity(userProfileIntent);\r\n                            }\r\n                        });\r\n                    }\r\n                };","title":"How to get document id in In FirestorePagingAdapter?","body":"<p>I am trying to use the <code>FirestorePagingAdapter</code> to display a list of all users in my firestore database. I am using <code>FirestorePagingAdapter</code> instead of FirestoreRecyclerAdapter to minimize the number of reads as F<code>irestorePagingAdapter</code>doesn't read the whole list of documents while <code>FirestoreRecyclerAdapter</code> does. I am able to display the paginated list successfully but I need to implement <code>onClickListener</code> onto it and on click of every item, I need to open another activity which shows a detailed description of the particular user which was clicked. For this, I need to pass the documentId of the clicked user to the next activity. </p>\n\n<p>But unfortunately, <strong><em>FirestorePagingAdapter doesn't have getSnapshots() method so that I use getSnapshots().getSnapshot(position).getId().</em></strong></p>\n\n<p>On the other hand, FirestoreRecyclerAdapter has this method which makes fetching the document id a very easy task. Something like this: <a href=\"https://stackoverflow.com/questions/47986504/how-to-get-document-id-or-name-in-android-in-firestore-db-for-passing-on-to-anot/47995871#47995871\">How to get document id or name in Android in Firestore db for passing on to another activity?</a></p>\n\n<pre><code>// Query to fetch documents from user collection ordered by name\nQuery query = FirebaseFirestore.getInstance().collection(\"users\")\n                .orderBy(\"name\");\n\n// Setting the pagination configuration\nPagedList.Config config = new PagedList.Config.Builder()\n                .setEnablePlaceholders(false)\n                .setPrefetchDistance(10)\n                .setPageSize(20)\n                .build();\n\n\nFirestorePagingOptions&lt;User&gt; firestorePagingOptions = new FirestorePagingOptions.Builder&lt;User&gt;()\n                .setLifecycleOwner(this)\n                .setQuery(query, config, User.class)\n                .build();\n\nfirestorePagingAdapter =\n                new FirestorePagingAdapter&lt;User, UserViewHolder&gt;(firestorePagingOptions){\n\n                    @NonNull\n                    @Override\n                    public UserViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n                        View view = LayoutInflater.from(parent.getContext())\n                                .inflate(R.layout.single_user_layout, parent, false);\n\n                        return new UserViewHolder(view);\n                    }\n\n                    @Override\n                    protected void onBindViewHolder(@NonNull UserViewHolder holder, int position, @NonNull User user) {\n                        holder.setUserName(user.name);\n                        holder.setStatus(user.status);\n                        holder.setThumbImage(user.thumb_image, UsersActivity.this);\n\n\n                        holder.mView.setOnClickListener(new View.OnClickListener() {\n                            @Override\n                            public void onClick(View v) {\n                                Intent userProfileIntent = new Intent(UsersActivity.this, UserProfileActivity.class);\n                                // Need to fetch the user_id to pass it as intent extra\n                                // String user_id = getSnapshots().getSnapshot(position).getId();\n                                // userProfileIntent.putExtra(\"user_id\", user_id);\n                                startActivity(userProfileIntent);\n                            }\n                        });\n                    }\n                };\n</code></pre>\n"},{"tags":["java","compiler-errors","dynamic-programming","fibonacci"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1658917384,"post_id":71579395,"comment_id":129169191,"body_markdown":"See also: https://stackoverflow.com/questions/51632152","body":"See also: <a href=\"https://stackoverflow.com/questions/51632152\">stackoverflow.com/questions/51632152</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647987115,"creation_date":1647987115,"answer_id":71579548,"question_id":71579395,"body_markdown":"You&#39;re asking for a _long_ which is a primitive type that can hold larger numbers than ints. If your intent is to actually allow the user to enter &#39;Triponacci(4000000000123451)&#39; - then you have a much bigger problem, that&#39;s way too large and requires BigInteger and probably a better algorithm than this. Using `long` can make sense, but only for the outputs (the sums - the value of the storage array). _NOT_ for the inputs.\r\n\r\nNote that in java arrays _must_ have `int` indices, so in that sense, you need a much more complicated algorithm in any case if you really intend for the user to be able to enter a number beyond the confines of `int` (which are: plus 2 billion to minus 2 billion, approximately).\r\n\r\nNB: Your code has a bug; if `storage[n]` is _less_ than 0? I think you meant _more_ than 0.\r\n\r\n```\r\nstatic long[] storage;\r\npublic static long trip(int n) {\r\n  if (n &lt;= 2) return n;\r\n  if (storage[n] != 0) return storage[n];\r\n  return storage[n] = trip(n-1) + trip(n-2) + trip(n-3);\r\n}\r\n\r\npublic static void main(String[]args) {\r\n  Scanner scan = new Scanner(System.in);\r\n  int n = scan.nextInt();\r\n  storage = new long[n+1];\r\n  long res = trip(n);\r\n  System.out.println(res);\r\n}\r\n```\r\n","title":"Compiler error: possible lossy conversion from long to int___Fibonacci","body":"<p>You're asking for a <em>long</em> which is a primitive type that can hold larger numbers than ints. If your intent is to actually allow the user to enter 'Triponacci(4000000000123451)' - then you have a much bigger problem, that's way too large and requires BigInteger and probably a better algorithm than this. Using <code>long</code> can make sense, but only for the outputs (the sums - the value of the storage array). <em>NOT</em> for the inputs.</p>\n<p>Note that in java arrays <em>must</em> have <code>int</code> indices, so in that sense, you need a much more complicated algorithm in any case if you really intend for the user to be able to enter a number beyond the confines of <code>int</code> (which are: plus 2 billion to minus 2 billion, approximately).</p>\n<p>NB: Your code has a bug; if <code>storage[n]</code> is <em>less</em> than 0? I think you meant <em>more</em> than 0.</p>\n<pre><code>static long[] storage;\npublic static long trip(int n) {\n  if (n &lt;= 2) return n;\n  if (storage[n] != 0) return storage[n];\n  return storage[n] = trip(n-1) + trip(n-2) + trip(n-3);\n}\n\npublic static void main(String[]args) {\n  Scanner scan = new Scanner(System.in);\n  int n = scan.nextInt();\n  storage = new long[n+1];\n  long res = trip(n);\n  System.out.println(res);\n}\n</code></pre>\n"}],"owner":{"account_id":24650705,"reputation":3,"user_id":18547848,"display_name":"Patrick Poinar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71579548,"answer_count":1,"score":0,"last_activity_date":1658917266,"creation_date":1647986088,"question_id":71579395,"body_markdown":"This is my first post here so if I made some mistakes I am sorry. Also, coding is not necessarily my thing, I am trying to get the hang of it and doing my best.\r\nSo basically, I have to solve this problem using dynamic programming:\r\n\r\nTriponacci is a series where the nth value is equal to the sum of the previous 3 values. The initial 3 values (base values) of our series are {0, 1, 2}.Note that the very first value in our series is 0th value.\r\nOutput will be in the form of a statement: Triponacci(2) = 2 The value in the parenthesis is the input value n. The number to the right of the equals sign is the value of the nth element of the series.\r\nTriponacci(0) = 0 Triponacci(3) = 3\r\n\r\nI thought, ok easy peasy Fibonacci with an extra step, right? Well... this is what I did:\r\n\r\n    static long[] storage;\r\n    \r\n    public static long trip(int n)\r\n    {\r\n        if(n&lt;=2)\r\n            return n;\r\n        if(storage[n]&lt;0)\r\n            return storage[n];\r\n        long result= trip(n-1) + trip(n-2)+trip(n-3);\r\n        storage[n]= result;\r\n        return result;\r\n    }\r\n    \r\n    public static void main(String[]args)\r\n    {\r\n        Scanner scan= new Scanner(System.in);\r\n        long n = scan.nextLong();\r\n        storage= new long[n+1];\r\n        long res= trip(n);\r\n        System.out.println(res);\r\n    }\r\n\r\nAt first it looked fine to me but when I compiled it threw multiple errors at me.\r\n\r\n    Triponacci.java:22: error: incompatible types: possible lossy conversion from long to int\r\n    storage= new long\\[n+1\\];\r\n    ^\r\n    Triponacci.java:23: error: incompatible types: possible lossy conversion from long to int\r\n    long res= trip(n);\r\n    ^\r\n\r\nWhat should I do to make it work? Thank you in advance for your time and answers.\r\n\r\nI thought I should use long instead of int due to boundaries issues.\r\nexpected to work fine but well.\r\n\r\n\r\n","title":"Compiler error: possible lossy conversion from long to int___Fibonacci","body":"<p>This is my first post here so if I made some mistakes I am sorry. Also, coding is not necessarily my thing, I am trying to get the hang of it and doing my best.\nSo basically, I have to solve this problem using dynamic programming:</p>\n<p>Triponacci is a series where the nth value is equal to the sum of the previous 3 values. The initial 3 values (base values) of our series are {0, 1, 2}.Note that the very first value in our series is 0th value.\nOutput will be in the form of a statement: Triponacci(2) = 2 The value in the parenthesis is the input value n. The number to the right of the equals sign is the value of the nth element of the series.\nTriponacci(0) = 0 Triponacci(3) = 3</p>\n<p>I thought, ok easy peasy Fibonacci with an extra step, right? Well... this is what I did:</p>\n<pre><code>static long[] storage;\n\npublic static long trip(int n)\n{\n    if(n&lt;=2)\n        return n;\n    if(storage[n]&lt;0)\n        return storage[n];\n    long result= trip(n-1) + trip(n-2)+trip(n-3);\n    storage[n]= result;\n    return result;\n}\n\npublic static void main(String[]args)\n{\n    Scanner scan= new Scanner(System.in);\n    long n = scan.nextLong();\n    storage= new long[n+1];\n    long res= trip(n);\n    System.out.println(res);\n}\n</code></pre>\n<p>At first it looked fine to me but when I compiled it threw multiple errors at me.</p>\n<pre><code>Triponacci.java:22: error: incompatible types: possible lossy conversion from long to int\nstorage= new long\\[n+1\\];\n^\nTriponacci.java:23: error: incompatible types: possible lossy conversion from long to int\nlong res= trip(n);\n^\n</code></pre>\n<p>What should I do to make it work? Thank you in advance for your time and answers.</p>\n<p>I thought I should use long instead of int due to boundaries issues.\nexpected to work fine but well.</p>\n"},{"tags":["java","cucumber","testng"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1642168955,"post_id":70711506,"comment_id":125005900,"body_markdown":"In the future, it won&#39;t hurt if you include the versions you are running (i.e. Cucumber version, TestNG version, even Java version. Sometimes the answers could vary depend on the software versions you are running.","body":"In the future, it won&#39;t hurt if you include the versions you are running (i.e. Cucumber version, TestNG version, even Java version. Sometimes the answers could vary depend on the software versions you are running."},{"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"score":0,"creation_date":1642169492,"post_id":70711506,"comment_id":125006119,"body_markdown":"Cucumber 6.9.1, TestNG 7.0 and Java 11","body":"Cucumber 6.9.1, TestNG 7.0 and Java 11"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642263965,"creation_date":1642168618,"answer_id":70711691,"question_id":70711506,"body_markdown":"The problem most likely is caused by `glue = &quot;classpath:&quot;`\r\n\r\nIn Cucumber, the &quot;*glue*&quot; is the location (folder) for your step definitions. I am sure your step definitions folder is not named `classpath:`. If the folder where your step definitions reside is called *tests* and it is inside your project, you could use a relative path such as `glue = &quot;tests&quot;`. Most people choose to name their step definitions folder as *stepDefinitions*.\r\n\r\nAlso, make sure your *tags* are correct or you may see a similar problem.\r\n\r\n***UPDATE***: According to the info provided by M.P. Korstanje, the `glue` can be a classpath URI. However, your URI is empty. The problem is the same: You are not letting Cucumber know where to find your step definitions. You need to provide either a package (i.e. *com.myapp.mypackage*), a path (i.e. *com/myapp/mypackage*), or an URI (i.e. *classpath: http://com/myapp/mypackage*).","title":"How to execute test runner with multiple tags in Cucumber","body":"<p>The problem most likely is caused by <code>glue = &quot;classpath:&quot;</code></p>\n<p>In Cucumber, the &quot;<em>glue</em>&quot; is the location (folder) for your step definitions. I am sure your step definitions folder is not named <code>classpath:</code>. If the folder where your step definitions reside is called <em>tests</em> and it is inside your project, you could use a relative path such as <code>glue = &quot;tests&quot;</code>. Most people choose to name their step definitions folder as <em>stepDefinitions</em>.</p>\n<p>Also, make sure your <em>tags</em> are correct or you may see a similar problem.</p>\n<p><em><strong>UPDATE</strong></em>: According to the info provided by M.P. Korstanje, the <code>glue</code> can be a classpath URI. However, your URI is empty. The problem is the same: You are not letting Cucumber know where to find your step definitions. You need to provide either a package (i.e. <em>com.myapp.mypackage</em>), a path (i.e. <em>com/myapp/mypackage</em>), or an URI (i.e. <em>classpath: http://com/myapp/mypackage</em>).</p>\n"},{"tags":[],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642169798,"creation_date":1642169798,"answer_id":70711961,"question_id":70711506,"body_markdown":"It was due to my wrong understanding of this tags handling.\r\nI thought that I need to join scenarios for execution by `and` but it&#39;s logical `and`\r\nso this `tags = &quot;@Test213 and @Test214&quot;`executes only scenarios which are annotated by both these tags and there are not any in my suite.\r\nIf I want to run scenarios one by one I need to configure it like this `tags = &quot;@Test213 or @Test214&quot;` ","title":"How to execute test runner with multiple tags in Cucumber","body":"<p>It was due to my wrong understanding of this tags handling.\nI thought that I need to join scenarios for execution by <code>and</code> but it's logical <code>and</code>\nso this <code>tags = &quot;@Test213 and @Test214&quot;</code>executes only scenarios which are annotated by both these tags and there are not any in my suite.\nIf I want to run scenarios one by one I need to configure it like this <code>tags = &quot;@Test213 or @Test214&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":25809012,"reputation":36,"user_id":19550107,"display_name":"Aruna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658917101,"creation_date":1658917101,"answer_id":73136170,"question_id":70711506,"body_markdown":"You need to use &#39;or&#39; if you want to run scenarios that are annotated with either of these tags.\r\n\r\n&#39;And&#39; is to run scenarios that are annotated with both the tags\r\n\r\nSometimes we would want to run some regression scenarios that are failed in the last run.\r\n\r\nSo, that time we can use &#39;and&#39; -&gt; @Regression and @Defect","title":"How to execute test runner with multiple tags in Cucumber","body":"<p>You need to use 'or' if you want to run scenarios that are annotated with either of these tags.</p>\n<p>'And' is to run scenarios that are annotated with both the tags</p>\n<p>Sometimes we would want to run some regression scenarios that are failed in the last run.</p>\n<p>So, that time we can use 'and' -&gt; @Regression and @Defect</p>\n"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1658917101,"creation_date":1642167762,"question_id":70711506,"body_markdown":"I want to execute two specified test cases one by one\r\nI have test runner configured like below\r\n\r\n    @CucumberOptions(\r\n        features = {&quot;src/test/resources/features&quot;},\r\n        glue = &quot;classpath:&quot;,\r\n        plugin = { &quot;html:src/test/resources/execution/report/cucumber-reports.html&quot; },\r\n        tags = &quot;@Test213 and @Test214&quot;\r\n    )\r\n    public class TestRunner extends AbstractTestRunner {\r\n    }\r\n\r\nbut when I run it none scenarios is executed - only @Before from testNG.\r\n\r\nConsole output:\r\n\r\n    14:32:09.036 [main] INFO  integration.RestFXTestBaseClass - New browser instance opened\r\n    14:32:09.039 [main] INFO  cleaner.RestFXCleaner - Cleaning execution directory...\r\n    14:32:09.044 [main] INFO  cleaner.RestFXCleaner - Items deleted\r\n    \r\n    ===============================================\r\n    Default Suite\r\n    Total tests run: 0, Passes: 0, Failures: 0, Skips: 0\r\n    ===============================================\r\n\r\n\r\n\r\n","title":"How to execute test runner with multiple tags in Cucumber","body":"<p>I want to execute two specified test cases one by one\nI have test runner configured like below</p>\n<pre><code>@CucumberOptions(\n    features = {&quot;src/test/resources/features&quot;},\n    glue = &quot;classpath:&quot;,\n    plugin = { &quot;html:src/test/resources/execution/report/cucumber-reports.html&quot; },\n    tags = &quot;@Test213 and @Test214&quot;\n)\npublic class TestRunner extends AbstractTestRunner {\n}\n</code></pre>\n<p>but when I run it none scenarios is executed - only @Before from testNG.</p>\n<p>Console output:</p>\n<pre><code>14:32:09.036 [main] INFO  integration.RestFXTestBaseClass - New browser instance opened\n14:32:09.039 [main] INFO  cleaner.RestFXCleaner - Cleaning execution directory...\n14:32:09.044 [main] INFO  cleaner.RestFXCleaner - Items deleted\n\n===============================================\nDefault Suite\nTotal tests run: 0, Passes: 0, Failures: 0, Skips: 0\n===============================================\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":2,"creation_date":1658915492,"post_id":73135705,"comment_id":129168400,"body_markdown":"What have you tried? \nAlso please see: https://stackoverflow.com/help/minimal-reproducible-example\nPlease provide more code to make it easier to help :) Ex. The price and exchange rate variables are undefined","body":"What have you tried?  Also please see: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> Please provide more code to make it easier to help :) Ex. The price and exchange rate variables are undefined"}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658916998,"creation_date":1658916998,"answer_id":73136146,"question_id":73135705,"body_markdown":"You can use [`Stream#anyMatch`][1] to filter based on another list. Something like this(not tested since I don&#39;t have the POJO)\r\n```\r\nList&lt;Price&gt; list1 = price.getData();\r\nList&lt;AnotherPojo&gt; list2 =  exchangeRates.getData();\r\n\r\nMap&lt;String, Price&gt; response = list1.stream()\r\n                                    .filter(p -&gt; list2.stream().anyMatch(e -&gt; e.getTodayDate().isEqual(p.getTodayDate())))\r\n                                    .collect(Collectors.toMap(p -&gt; s1.getId(), p-&gt;p))\r\n\r\n```\r\n\r\n\r\nworking test example:\r\n```\r\nList&lt;String&gt; list1 = Arrays.asList(&quot;A1&quot;, &quot;B1&quot;, &quot;C1&quot;, &quot;D1&quot;);\r\nList&lt;String&gt; list2 = Arrays.asList(&quot;A2&quot;, &quot;B1&quot;, &quot;C2&quot;, &quot;D1&quot;);\r\n\r\nMap&lt;String, String&gt; map = list1.stream()\r\n    .filter(s1 -&gt; list2.stream().anyMatch(s2 -&gt; s2.equals(s1)))\r\n    .collect(Collectors.toMap(s1 -&gt; s1, s1 -&gt; s1));\r\n\r\n//output  {D1=D1, B1=B1}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-","title":"How do I write for-loop statements in streams?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Stream#anyMatch</code></a> to filter based on another list. Something like this(not tested since I don't have the POJO)</p>\n<pre><code>List&lt;Price&gt; list1 = price.getData();\nList&lt;AnotherPojo&gt; list2 =  exchangeRates.getData();\n\nMap&lt;String, Price&gt; response = list1.stream()\n                                    .filter(p -&gt; list2.stream().anyMatch(e -&gt; e.getTodayDate().isEqual(p.getTodayDate())))\n                                    .collect(Collectors.toMap(p -&gt; s1.getId(), p-&gt;p))\n\n</code></pre>\n<p>working test example:</p>\n<pre><code>List&lt;String&gt; list1 = Arrays.asList(&quot;A1&quot;, &quot;B1&quot;, &quot;C1&quot;, &quot;D1&quot;);\nList&lt;String&gt; list2 = Arrays.asList(&quot;A2&quot;, &quot;B1&quot;, &quot;C2&quot;, &quot;D1&quot;);\n\nMap&lt;String, String&gt; map = list1.stream()\n    .filter(s1 -&gt; list2.stream().anyMatch(s2 -&gt; s2.equals(s1)))\n    .collect(Collectors.toMap(s1 -&gt; s1, s1 -&gt; s1));\n\n//output  {D1=D1, B1=B1}\n</code></pre>\n"}],"owner":{"display_name":"user19078589"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73136146,"answer_count":1,"score":-2,"last_activity_date":1658916998,"creation_date":1658915180,"question_id":73135705,"body_markdown":"    Map&lt;String, Price&gt; response = new HashMap&lt;&gt;();\r\n\r\n\t\tfor(int i=0; i&lt;price.getData().size(); i++){\r\n\t\t\tfor(int j=0; j&lt;exchangeRates.getData().size(); j++){\r\n\t\t\t\tif(priceOutput.getData().get(i).getTodayDate().isEqual(exchangeRates.getData().get(j).getTodayDate())){\r\n\t\t\t\t\tresponse.put(price.getData().get(i).getId(), price.getData().get(i));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\treturn response;\r\n\r\nI have written this logic using for-loops statements,\r\n\r\nNow how do I write the same piece of code using streams?","title":"How do I write for-loop statements in streams?","body":"<pre><code>Map&lt;String, Price&gt; response = new HashMap&lt;&gt;();\n\n    for(int i=0; i&lt;price.getData().size(); i++){\n        for(int j=0; j&lt;exchangeRates.getData().size(); j++){\n            if(priceOutput.getData().get(i).getTodayDate().isEqual(exchangeRates.getData().get(j).getTodayDate())){\n                response.put(price.getData().get(i).getId(), price.getData().get(i));\n            }\n        }\n    }\nreturn response;\n</code></pre>\n<p>I have written this logic using for-loops statements,</p>\n<p>Now how do I write the same piece of code using streams?</p>\n"},{"tags":["java","c#","android","sqlite","encryption"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1441983573,"post_id":32526419,"comment_id":52910852,"body_markdown":"On Android, we generally use [SQLCipher for Android](https://www.zetetic.net/sqlcipher/sqlcipher-for-android), though I have no idea if somebody has created C# bindings for it.","body":"On Android, we generally use <a href=\"https://www.zetetic.net/sqlcipher/sqlcipher-for-android\" rel=\"nofollow noreferrer\">SQLCipher for Android</a>, though I have no idea if somebody has created C# bindings for it."},{"owner":{"account_id":5541357,"reputation":3016,"user_id":4397753,"accept_rate":94,"display_name":"Jenix"},"score":0,"creation_date":1441983690,"post_id":32526419,"comment_id":52910934,"body_markdown":"@CommonsWare I&#39;ve heard of it. Is it free? Anybody knows if I can use it in C# too?","body":"@CommonsWare I&#39;ve heard of it. Is it free? Anybody knows if I can use it in C# too?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1441983761,"post_id":32526419,"comment_id":52910988,"body_markdown":"It is open source, BSD-licensed.","body":"It is open source, BSD-licensed."},{"owner":{"account_id":1225655,"reputation":38395,"user_id":1207921,"accept_rate":79,"display_name":"Karakuri"},"score":1,"creation_date":1442013364,"post_id":32526419,"comment_id":52924950,"body_markdown":"The only problem is it&#39;s fairly old, the bindings haven&#39;t been updated in years.","body":"The only problem is it&#39;s fairly old, the bindings haven&#39;t been updated in years."}],"owner":{"account_id":5541357,"reputation":3016,"user_id":4397753,"accept_rate":94,"display_name":"Jenix"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1658916902,"creation_date":1441983406,"question_id":32526419,"body_markdown":"I&#39;m planning to use SQLite in my android app. But problem is, SQLite doesn&#39;t support Encryption officially without a license of SQLite Encryption Extention. So I just kept searching without any hope, and found something interesting. [This link][1] explains how to use SQLite encryption with AES 256 on the BlackBerry devices. And I could also get the information of how to use SQLite encryption in C# [here][2].\r\n\r\n**1. Google android OS or other phone manufacturers support the function like BlackBerry as well?**\r\n\r\n**2. Can I use SetPassword() method of SQLiteConnection class in C# without any plugin?**\r\n\r\n(I&#39;m also developing an app in Unity5, so if the answer of No.2 is yes, it&#39;ll be very helpful. So I tried but only to fail)\r\n\r\n\r\n  [1]: http://docs.blackberry.com/en/developers/deliverables/17952/Protecting_a_SQLite_database_1219777_11.jsp\r\n  [2]: https://stackoverflow.com/questions/12190672/can-i-password-encrypt-sqlite-database","title":"Security of SQLite databases in Android","body":"<p>I'm planning to use SQLite in my android app. But problem is, SQLite doesn't support Encryption officially without a license of SQLite Encryption Extention. So I just kept searching without any hope, and found something interesting. <a href=\"http://docs.blackberry.com/en/developers/deliverables/17952/Protecting_a_SQLite_database_1219777_11.jsp\" rel=\"nofollow noreferrer\">This link</a> explains how to use SQLite encryption with AES 256 on the BlackBerry devices. And I could also get the information of how to use SQLite encryption in C# <a href=\"https://stackoverflow.com/questions/12190672/can-i-password-encrypt-sqlite-database\">here</a>.</p>\n\n<p><strong>1. Google android OS or other phone manufacturers support the function like BlackBerry as well?</strong></p>\n\n<p><strong>2. Can I use SetPassword() method of SQLiteConnection class in C# without any plugin?</strong></p>\n\n<p>(I'm also developing an app in Unity5, so if the answer of No.2 is yes, it'll be very helpful. So I tried but only to fail)</p>\n"},{"tags":["java","xsd"],"answers":[{"tags":[],"owner":{"account_id":1542133,"reputation":6307,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445380947,"creation_date":1445380947,"answer_id":33248073,"question_id":33232039,"body_markdown":"I have had success with\r\n\r\n 1. Put both the schema and bindings in src/main/resources\r\n\r\n    src/main/resources/myxsd.xsd\r\n\r\n    src/main/resources/mybindings.xjb\r\n\r\n 2. Point your maven plugin that is going to run xjc to find the files there\r\n 3. In the bindings file use\r\n\r\n    schemaLocation=&quot;myxsd.xsd&quot;\r\n\r\nIf you want to add some directories under src/main/resources, you can certainly do that - you will have to figure out the proper relative path to use when specifying schemaLocation.","title":".xsd is not a part of this compilation. Is this a mistake for .xjb","body":"<p>I have had success with</p>\n\n<ol>\n<li><p>Put both the schema and bindings in src/main/resources</p>\n\n<p>src/main/resources/myxsd.xsd</p>\n\n<p>src/main/resources/mybindings.xjb</p></li>\n<li><p>Point your maven plugin that is going to run xjc to find the files there</p></li>\n<li><p>In the bindings file use</p>\n\n<p>schemaLocation=\"myxsd.xsd\"</p></li>\n</ol>\n\n<p>If you want to add some directories under src/main/resources, you can certainly do that - you will have to figure out the proper relative path to use when specifying schemaLocation.</p>\n"},{"tags":[],"owner":{"account_id":1230559,"reputation":3379,"user_id":1195266,"accept_rate":70,"display_name":"Macilias"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1448286126,"creation_date":1448286126,"answer_id":33872554,"question_id":33232039,"body_markdown":"In my environment (version 2.2) it only worked when the files was in dedicated folders (schema in src/main/xsd/schema.xsd and binding ind src/main/xsb/binding.xsb) and the binding file referenced the schema relatively: schemaLocation=&quot;../xsd/schema.xsd&quot;\r\n\r\nIt really seams to be fragile.","title":".xsd is not a part of this compilation. Is this a mistake for .xjb","body":"<p>In my environment (version 2.2) it only worked when the files was in dedicated folders (schema in src/main/xsd/schema.xsd and binding ind src/main/xsb/binding.xsb) and the binding file referenced the schema relatively: schemaLocation=\"../xsd/schema.xsd\"</p>\n\n<p>It really seams to be fragile.</p>\n"},{"tags":[],"owner":{"account_id":1843594,"reputation":731,"user_id":1672486,"display_name":"Vivek Shukla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525398067,"creation_date":1510035938,"answer_id":47151290,"question_id":33232039,"body_markdown":"While looking at problem, I can suggest below steps:&lt;br&gt;\r\n\r\nFirst, assuming you are using some plugin to generate your stubs. I use cxf-codegen-plugin( you can use any), important step is to define the location of your binding file, let&#39;s say its inside a resources\\wsdl&lt;br&gt;Here is the snippet:\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;generate-sources&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;wsdlOptions&gt;\r\n\t\t\t\t\t\t&lt;wsdlOption&gt;\r\n\t\t\t\t\t\t\t&lt;wsdl&gt;${basedir}/src/main/resources/wsdl/YOUR_WSDL_NAME.wsdl&lt;/wsdl&gt;\r\n\t\t\t\t\t\t\t&lt;wsdlLocation&gt;classpath:wsdl/YOUR_WSDL_NAME.wsdl&lt;/wsdlLocation&gt;\r\n\t\t\t\t\t\t\t&lt;extraargs&gt;\r\n\t\t\t\t\t\t\t\t&lt;extraarg&gt;-xjc-Xts&lt;/extraarg&gt;\r\n\t\t\t\t\t\t\t&lt;/extraargs&gt;\r\n\t\t\t\t\t\t\t&lt;bindingFiles&gt;\r\n\t\t\t\t\t\t\t\t&lt;bindingFile&gt;${basedir}/src/main/resources/wsdl/binding.xml&lt;/bindingFile&gt;\r\n\t\t\t\t\t\t\t&lt;/bindingFiles&gt;\r\n\t\t\t\t\t\t&lt;/wsdlOption&gt;\r\n\t\t\t\t\t&lt;/wsdlOptions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.cxf.xjcplugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cxf-xjc-ts&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/plugin&gt;\r\nNext, so now while executing &quot;mvn generate-sources&quot;, maven have idea where to look for your binding file. Let&#39;s assume that you are also putting your xsd file in resources\\wsdl folder (you can have any path) &lt;br&gt;\r\n Let&#39;s see the snippet of binding.xml\r\n\r\n    &lt;jxb:bindings schemaLocation=&quot;YOUR_XSD_FILE.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n    \t\t.....\r\n    &lt;/jxb:bindings&gt;\r\n&lt;br&gt;\r\nSince you have already defined your binding file path in maven plugin, and your xsd are also in that path, you needn&#39;t to define this path again in schemaLocation of your binding file.\r\n\r\n\r\n\r\n\r\n","title":".xsd is not a part of this compilation. Is this a mistake for .xjb","body":"<p>While looking at problem, I can suggest below steps:<br></p>\n\n<p>First, assuming you are using some plugin to generate your stubs. I use cxf-codegen-plugin( you can use any), important step is to define the location of your binding file, let's say its inside a resources\\wsdl<br>Here is the snippet:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${cxf.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;wsdlOptions&gt;\n                    &lt;wsdlOption&gt;\n                        &lt;wsdl&gt;${basedir}/src/main/resources/wsdl/YOUR_WSDL_NAME.wsdl&lt;/wsdl&gt;\n                        &lt;wsdlLocation&gt;classpath:wsdl/YOUR_WSDL_NAME.wsdl&lt;/wsdlLocation&gt;\n                        &lt;extraargs&gt;\n                            &lt;extraarg&gt;-xjc-Xts&lt;/extraarg&gt;\n                        &lt;/extraargs&gt;\n                        &lt;bindingFiles&gt;\n                            &lt;bindingFile&gt;${basedir}/src/main/resources/wsdl/binding.xml&lt;/bindingFile&gt;\n                        &lt;/bindingFiles&gt;\n                    &lt;/wsdlOption&gt;\n                &lt;/wsdlOptions&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsdl2java&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf.xjcplugins&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-xjc-ts&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Next, so now while executing \"mvn generate-sources\", maven have idea where to look for your binding file. Let's assume that you are also putting your xsd file in resources\\wsdl folder (you can have any path) <br>\n Let's see the snippet of binding.xml</p>\n\n<pre><code>&lt;jxb:bindings schemaLocation=\"YOUR_XSD_FILE.xsd\" node=\"/xs:schema\"&gt;\n        .....\n&lt;/jxb:bindings&gt;\n</code></pre>\n\n<p><br>\nSince you have already defined your binding file path in maven plugin, and your xsd are also in that path, you needn't to define this path again in schemaLocation of your binding file.</p>\n"},{"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1516954632,"creation_date":1516954632,"answer_id":48457782,"question_id":33232039,"body_markdown":"It starts working after I add my xsd in pom-file in configuration of a plugin, like this:\r\n\r\n\t                &lt;bindingDirectory&gt;\r\n\t\t\t\t\t\tsrc/main/resources/binding\r\n\t\t\t\t\t&lt;/bindingDirectory&gt;\r\n\r\n\t\t\t\t\t&lt;bindingFiles&gt;\r\n\t\t\t\t\t\t&lt;bindingFile&gt;bindings.xjb&lt;/bindingFile&gt;\r\n\t\t\t\t\t\t&lt;bindingFile&gt;../xsd/egrul.xsd&lt;/bindingFile&gt;\r\n\t\t\t\t\t\t&lt;bindingFile&gt;../xsd/arrays.xsd&lt;/bindingFile&gt;\r\n\t\t\t\t\t&lt;/bindingFiles&gt;\r\n","title":".xsd is not a part of this compilation. Is this a mistake for .xjb","body":"<p>It starts working after I add my xsd in pom-file in configuration of a plugin, like this:</p>\n\n<pre><code>                &lt;bindingDirectory&gt;\n                    src/main/resources/binding\n                &lt;/bindingDirectory&gt;\n\n                &lt;bindingFiles&gt;\n                    &lt;bindingFile&gt;bindings.xjb&lt;/bindingFile&gt;\n                    &lt;bindingFile&gt;../xsd/egrul.xsd&lt;/bindingFile&gt;\n                    &lt;bindingFile&gt;../xsd/arrays.xsd&lt;/bindingFile&gt;\n                &lt;/bindingFiles&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555984011,"creation_date":1555959751,"answer_id":55799687,"question_id":33232039,"body_markdown":"I received this error during compilation because my IDE had added a `bin/` directory under the package with the JAXB compilation.  It was fixed by either using `rm -rf BaseDirectory/bin/` or `rm -rf BaseDirectory; git co BaseDirectory`.  The latter is probably better/more complete.\r\n\r\n(Eclipse, which I use rarely, compiles outputs into `bin/`, whereas IntelliJ IDEA or raw gradle compiles into `build/`)","title":".xsd is not a part of this compilation. Is this a mistake for .xjb","body":"<p>I received this error during compilation because my IDE had added a <code>bin/</code> directory under the package with the JAXB compilation.  It was fixed by either using <code>rm -rf BaseDirectory/bin/</code> or <code>rm -rf BaseDirectory; git co BaseDirectory</code>.  The latter is probably better/more complete.</p>\n\n<p>(Eclipse, which I use rarely, compiles outputs into <code>bin/</code>, whereas IntelliJ IDEA or raw gradle compiles into <code>build/</code>)</p>\n"},{"tags":[],"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587548347,"creation_date":1587548347,"answer_id":61361883,"question_id":33232039,"body_markdown":"In my case I just had to update maven-jaxb2-plugin version:\r\n\r\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.14.0&lt;/version&gt;","title":".xsd is not a part of this compilation. Is this a mistake for .xjb","body":"<p>In my case I just had to update maven-jaxb2-plugin version:</p>\n\n<pre><code>&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.14.0&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658916673,"creation_date":1658916673,"answer_id":73136071,"question_id":33232039,"body_markdown":"In my case the project was using the following plugin:\r\n```xml\r\n&lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;2.2.1&lt;/version&gt;\r\n```\r\n\r\nWith the following error message:\r\n&gt; &quot;file:/D:/some-folder-__[tag]__/mywsdl.wsdl&quot; is not a part of this compilation. \r\n&gt; Is this a mistake for &quot;file:/D:/some-folder-__%5Btag%5D__/myxjb.xjb&quot;?\r\n\r\nSo this error was caused by the brackets `[]` in my local folder name. It appears this specific plugin and/or version did not understand that when the encoded versions `%5B` and `%5D` were used.\r\n\r\nThe solution is to not put any possible confusing characters in the local folder name and path. I would suggest not using `spaces` or any other character that gets encoded.","title":".xsd is not a part of this compilation. Is this a mistake for .xjb","body":"<p>In my case the project was using the following plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.2.1&lt;/version&gt;\n</code></pre>\n<p>With the following error message:</p>\n<blockquote>\n<p>&quot;file:/D:/some-folder-<strong>[tag]</strong>/mywsdl.wsdl&quot; is not a part of this compilation.\nIs this a mistake for &quot;file:/D:/some-folder-<strong>%5Btag%5D</strong>/myxjb.xjb&quot;?</p>\n</blockquote>\n<p>So this error was caused by the brackets <code>[]</code> in my local folder name. It appears this specific plugin and/or version did not understand that when the encoded versions <code>%5B</code> and <code>%5D</code> were used.</p>\n<p>The solution is to not put any possible confusing characters in the local folder name and path. I would suggest not using <code>spaces</code> or any other character that gets encoded.</p>\n"}],"owner":{"account_id":69666,"reputation":6265,"user_id":202576,"accept_rate":47,"display_name":"onknows"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24591,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":33872554,"answer_count":7,"score":17,"last_activity_date":1658916673,"creation_date":1445330957,"question_id":33232039,"body_markdown":"I am trying to change `schemaLocation` in my `xjb` file to use not a remote file using URL but to use a local copy that is also under version control.\r\n\r\nSo for example my `xjb` file has something similar to\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jxb:bindings\r\n            xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n            xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n            xsd:ID=&quot;JaxbBindingsForWMiddleware&quot;\r\n            version=&quot;2.0&quot;&gt;\r\n\r\n        &lt;jxb:bindings node=&quot;/xsd:schema&quot;\r\n                      schemaLocation=&quot;http://myserver:80/a/b/c/d/myxsd.xsd&quot;&gt;\r\n\r\n\r\nWhen I change this to local copy for example\r\n\r\n    schemaLocation=&quot;../../src/main/resources/myxsd.xsd&quot;&gt;\r\n\r\n`mvn clean install` will fail with a message similar to\r\n\r\n&gt; [WARNING]       Caused by: com.sun.istack.SAXParseException2;\r\n&gt; systemId:\r\n&gt; file:/E:/somefolder/somefolder/myjavaproject/target/bindings/myxjb.xjb;\r\n&gt; lineNumber: 33; columnNumber: 33;\r\n&gt; &quot;file:/E:/somefolder/somefolder/myjavaproject/target/bindings/mywsdl.wsdl&quot;\r\n&gt; is not a part of this compilation. Is this a mistake for\r\n&gt; &quot;file:/E:/somefolder/somefolder/myjavaproject/target/bindings/myxjb.xjb&quot;?\r\n\r\nI noticed that it is looking for my wsdl file in the `target` directory. I can manipulate the `schemaLocation` in such way that it points to the `src` directory. The path then exists but the message remains.\r\n\r\nI can also put the wsdl in the target directory, where java tries to find it but in that case also, the message stays the same.\r\n\r\nSo it looks like something specific needs to happen to make it part of this compilation. What should be done to compile this in the correct way?\r\n\r\n","title":".xsd is not a part of this compilation. Is this a mistake for .xjb","body":"<p>I am trying to change <code>schemaLocation</code> in my <code>xjb</code> file to use not a remote file using URL but to use a local copy that is also under version control.</p>\n\n<p>So for example my <code>xjb</code> file has something similar to</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jxb:bindings\n        xmlns:jxb=\"http://java.sun.com/xml/ns/jaxb\"\n        xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"\n        xsd:ID=\"JaxbBindingsForWMiddleware\"\n        version=\"2.0\"&gt;\n\n    &lt;jxb:bindings node=\"/xsd:schema\"\n                  schemaLocation=\"http://myserver:80/a/b/c/d/myxsd.xsd\"&gt;\n</code></pre>\n\n<p>When I change this to local copy for example</p>\n\n<pre><code>schemaLocation=\"../../src/main/resources/myxsd.xsd\"&gt;\n</code></pre>\n\n<p><code>mvn clean install</code> will fail with a message similar to</p>\n\n<blockquote>\n  <p>[WARNING]       Caused by: com.sun.istack.SAXParseException2;\n  systemId:\n  file:/E:/somefolder/somefolder/myjavaproject/target/bindings/myxjb.xjb;\n  lineNumber: 33; columnNumber: 33;\n  \"file:/E:/somefolder/somefolder/myjavaproject/target/bindings/mywsdl.wsdl\"\n  is not a part of this compilation. Is this a mistake for\n  \"file:/E:/somefolder/somefolder/myjavaproject/target/bindings/myxjb.xjb\"?</p>\n</blockquote>\n\n<p>I noticed that it is looking for my wsdl file in the <code>target</code> directory. I can manipulate the <code>schemaLocation</code> in such way that it points to the <code>src</code> directory. The path then exists but the message remains.</p>\n\n<p>I can also put the wsdl in the target directory, where java tries to find it but in that case also, the message stays the same.</p>\n\n<p>So it looks like something specific needs to happen to make it part of this compilation. What should be done to compile this in the correct way?</p>\n"},{"tags":["java","static-variables","in-class-initialization"],"owner":{"account_id":10397196,"reputation":1510,"user_id":7666635,"display_name":"Gunther Schadow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1658913931,"answer_count":0,"score":1,"last_activity_date":1658916383,"creation_date":1658912980,"question_id":73135162,"body_markdown":"Say we have this class:\r\n\r\n    public class Chicken {\r\n    \tpublic static final Chicken THE_FIRST_ONE = new Chicken(&quot;Little&quot;);\r\n    \tpublic static final Chicken THE_FIRST_EGG_1 = new Egg(&quot;Humpty-Dumpty&quot;);\r\n    \tpublic static final Egg     THE_FIRST_EGG_2 = Egg.THE_FIRST_ONE;\r\n    \tprotected String _name;\r\n    \tpublic Chicken(String name) {\r\n    \t\t_name = name;\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Chicken &quot; + _name + &quot;@&quot; + System.identityHashCode(this);\r\n    \t}\r\n    \tpublic static void main(String args[]) {\r\n    \t\tSystem.out.println(&quot;The first chicken was &quot; + THE_FIRST_ONE);\r\n    \t\tSystem.out.println(&quot;The first egg 1 was &quot; + THE_FIRST_EGG_1);\r\n    \t\tSystem.out.println(&quot;The first egg 2 was &quot; + THE_FIRST_EGG_2);\r\n    \t\tSystem.out.println(&quot;The first egg 3 was &quot; + Egg.THE_FIRST_ONE);\r\n    \t}\r\n    }\r\n\r\n\r\nWith\r\n\r\n\r\n    public class Egg extends Chicken {\r\n    \tpublic static final Egg THE_FIRST_ONE = new Egg(&quot;Humpty-Dumpty&quot;);\t\r\n    \tpublic Egg(String name) {\r\n    \t\tsuper(name);\r\n    \t}\r\n    \tpublic String toString() {\r\n    \t\treturn _name + &quot; the egg&quot; + &quot;@&quot; + System.identityHashCode(this);\r\n    \t}\r\n    }\r\n\r\nI think there is a problem with this. But I cannot reproduce the problem. In a more complicated scenario that&#39;s hard to boil down to something simple to post here, I get in some circumstances THE_FIRST_EGG_2 == null. And it&#39;s not during initialization but afterwards. In another case I get reflection not working properly.\r\n\r\nThis raises the question to me how this can even be possible?\r\n\r\nHow can we assign instances of a class during the class&#39; static initialization? Aren&#39;t there circumstances where the class is not ready yet to be instantiated, and yet we require instances (object) to finish the static initialization of the class?\r\n\r\nAnd what if we require an instance of a subclass which requires the super-class to be completely initialized so it can be fully initialized for instantiation. And then we are even asking the superclass to set final static fields to an instance of the subclass?\r\n\r\nLike I said, I cannot reproduce any problem with my simple example here, but I have observed problems in a scenario like this and just from basic reasoning it seems like it should not even work at all like this. So it is a miracle that it does work.\r\n\r\nI would like to know if there are any known anti-patterns surrounding this, any known problem that I should keep in mind when analyzing my code and verifying that it is correct (and fix what is obviously not correct)?\r\n\r\nNot so fast with the closing. While it might be related to circular dependency, I cannot actually reproduce this problem here. BUT I do reproduce something else, surprisingly:\r\n\r\nNow I am making things much simpler: \r\n\r\n    public interface Animal { }\r\n    public interface Cell { }\r\n\r\n    public class Chicken implements Animal {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tChicken chicken = new Chicken();\r\n    \t\tSystem.out.println(&quot;chicken is an Animal? &quot; + (chicken instanceof Animal));\r\n    \t\tSystem.out.println(&quot;chicken interfaces: &quot; + java.util.Arrays.asList(chicken.getClass().getInterfaces()));\r\n    \r\n    \t\tEgg egg = new Egg();\r\n    \t\tSystem.out.println(&quot;egg is an Animal? &quot; + (egg instanceof Animal));\r\n    \t\tSystem.out.println(&quot;egg class interfaces: &quot; + java.util.Arrays.asList(egg.getClass().getInterfaces()));\r\n    \t\tSystem.out.println(&quot;egg&#39;s superclass interfaces: &quot; + java.util.Arrays.asList(egg.getClass().getSuperclass().getInterfaces()));\r\n    \t}\r\n    }\r\n\r\n    public class Egg extends Chicken implements Cell { }\r\n\r\nThe output is \r\n\r\n    chicken is an Animal? true\r\n    chicken interfaces: [interface Animal]\r\n    egg is an Animal? true\r\n    egg class interfaces: [interface Cell]\r\n    egg&#39;s superclass interfaces: [interface Animal]\r\n\r\nThe Class.getInterfaces() method does not return, as it&#39;s documentation says, &quot;all interfaces implemented by the class&quot;. Because egg instanceof Animal is true, but Animal is not in the array of getInterfaces().\r\n\r\nThis is surprising. Normally there is a distinction made between getFields vs. getDeclaredFields. So getInterfaces would be expected to return really all implemented interfaces no matter where declared vs. getDeclaredInterfaces would be expected to only return the interfaces actually declared implemented on that class itself.\r\n","title":"Chicken and egg problem in Java class initialization","body":"<p>Say we have this class:</p>\n<pre><code>public class Chicken {\n    public static final Chicken THE_FIRST_ONE = new Chicken(&quot;Little&quot;);\n    public static final Chicken THE_FIRST_EGG_1 = new Egg(&quot;Humpty-Dumpty&quot;);\n    public static final Egg     THE_FIRST_EGG_2 = Egg.THE_FIRST_ONE;\n    protected String _name;\n    public Chicken(String name) {\n        _name = name;\n    }\n    public String toString() {\n        return &quot;Chicken &quot; + _name + &quot;@&quot; + System.identityHashCode(this);\n    }\n    public static void main(String args[]) {\n        System.out.println(&quot;The first chicken was &quot; + THE_FIRST_ONE);\n        System.out.println(&quot;The first egg 1 was &quot; + THE_FIRST_EGG_1);\n        System.out.println(&quot;The first egg 2 was &quot; + THE_FIRST_EGG_2);\n        System.out.println(&quot;The first egg 3 was &quot; + Egg.THE_FIRST_ONE);\n    }\n}\n</code></pre>\n<p>With</p>\n<pre><code>public class Egg extends Chicken {\n    public static final Egg THE_FIRST_ONE = new Egg(&quot;Humpty-Dumpty&quot;);   \n    public Egg(String name) {\n        super(name);\n    }\n    public String toString() {\n        return _name + &quot; the egg&quot; + &quot;@&quot; + System.identityHashCode(this);\n    }\n}\n</code></pre>\n<p>I think there is a problem with this. But I cannot reproduce the problem. In a more complicated scenario that's hard to boil down to something simple to post here, I get in some circumstances THE_FIRST_EGG_2 == null. And it's not during initialization but afterwards. In another case I get reflection not working properly.</p>\n<p>This raises the question to me how this can even be possible?</p>\n<p>How can we assign instances of a class during the class' static initialization? Aren't there circumstances where the class is not ready yet to be instantiated, and yet we require instances (object) to finish the static initialization of the class?</p>\n<p>And what if we require an instance of a subclass which requires the super-class to be completely initialized so it can be fully initialized for instantiation. And then we are even asking the superclass to set final static fields to an instance of the subclass?</p>\n<p>Like I said, I cannot reproduce any problem with my simple example here, but I have observed problems in a scenario like this and just from basic reasoning it seems like it should not even work at all like this. So it is a miracle that it does work.</p>\n<p>I would like to know if there are any known anti-patterns surrounding this, any known problem that I should keep in mind when analyzing my code and verifying that it is correct (and fix what is obviously not correct)?</p>\n<p>Not so fast with the closing. While it might be related to circular dependency, I cannot actually reproduce this problem here. BUT I do reproduce something else, surprisingly:</p>\n<p>Now I am making things much simpler:</p>\n<pre><code>public interface Animal { }\npublic interface Cell { }\n\npublic class Chicken implements Animal {\n    public static void main(String args[]) {\n        Chicken chicken = new Chicken();\n        System.out.println(&quot;chicken is an Animal? &quot; + (chicken instanceof Animal));\n        System.out.println(&quot;chicken interfaces: &quot; + java.util.Arrays.asList(chicken.getClass().getInterfaces()));\n\n        Egg egg = new Egg();\n        System.out.println(&quot;egg is an Animal? &quot; + (egg instanceof Animal));\n        System.out.println(&quot;egg class interfaces: &quot; + java.util.Arrays.asList(egg.getClass().getInterfaces()));\n        System.out.println(&quot;egg's superclass interfaces: &quot; + java.util.Arrays.asList(egg.getClass().getSuperclass().getInterfaces()));\n    }\n}\n\npublic class Egg extends Chicken implements Cell { }\n</code></pre>\n<p>The output is</p>\n<pre><code>chicken is an Animal? true\nchicken interfaces: [interface Animal]\negg is an Animal? true\negg class interfaces: [interface Cell]\negg's superclass interfaces: [interface Animal]\n</code></pre>\n<p>The Class.getInterfaces() method does not return, as it's documentation says, &quot;all interfaces implemented by the class&quot;. Because egg instanceof Animal is true, but Animal is not in the array of getInterfaces().</p>\n<p>This is surprising. Normally there is a distinction made between getFields vs. getDeclaredFields. So getInterfaces would be expected to return really all implemented interfaces no matter where declared vs. getDeclaredInterfaces would be expected to only return the interfaces actually declared implemented on that class itself.</p>\n"},{"tags":["javascript","java","android","html","xml"],"owner":{"account_id":25820699,"reputation":11,"user_id":19559845,"display_name":"Fan E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658916280,"creation_date":1658916280,"question_id":73135979,"body_markdown":"  i was just trying to use the firebase auth dependency but it is showing this error in my whatsapp clone app\r\n\r\nBut when i try to sync the project the following error comes as shown in the image : that is \r\n\r\n &gt; Task :prepareKotlinBuildScriptModel UP-TO-DATE\r\nWarning: Failed to parse host dhruv\r\n\r\nAll the codes are provided below\r\n\r\n[`Image of the gradle error`][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PcxKx.png\r\n\r\n  \r\n\r\nHere is the build.gradle(module level) file\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n\r\n    android {\r\n        compileSdk 32\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.example.whatsappclone&quot;\r\n            minSdk 21\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        buildFeatures{\r\n            viewBinding true\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n\r\n\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:30.3.1&#39;)\r\n            implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n            implementation &#39;com.google.firebase:firebase-auth&#39;\r\n            implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere is the build.gradle(Project level)\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n        }\r\n    }// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHere is the settings.gradle\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    rootProject.name = &quot;WhatsappClone&quot;\r\n    include &#39;:app&#39;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMy signup activity\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n\r\n    import com.example.whatsappclone.databinding.ActivitySignUpBinding;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n\r\n    public class SignUpActivity extends AppCompatActivity {\r\n    ActivitySignUpBinding binding;\r\n    private FirebaseAuth mAuth;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n    binding = ActivitySignUpBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.getRoot());\r\n            getSupportActionBar().hide();\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPlease help.\r\n","title":"&gt; Task :prepareKotlinBuildScriptModel UP-TO-DATE Warning: Failed to parse host error in android studio","body":"<p>i was just trying to use the firebase auth dependency but it is showing this error in my whatsapp clone app</p>\n<p>But when i try to sync the project the following error comes as shown in the image : that is</p>\n<blockquote>\n<p>Task :prepareKotlinBuildScriptModel UP-TO-DATE\nWarning: Failed to parse host dhruv</p>\n</blockquote>\n<p>All the codes are provided below</p>\n<p><a href=\"https://i.stack.imgur.com/PcxKx.png\" rel=\"nofollow noreferrer\"><code>Image of the gradle error</code></a></p>\n<p>Here is the build.gradle(module level) file</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId \"com.example.whatsappclone\"\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    buildFeatures{\n        viewBinding true\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n\n\n    implementation platform('com.google.firebase:firebase-bom:30.3.1')\n        implementation 'com.google.firebase:firebase-analytics'\n        implementation 'com.google.firebase:firebase-auth'\n        implementation 'com.google.firebase:firebase-firestore'\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here is the build.gradle(Project level)\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>buildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.13'\n    }\n}// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.2.1' apply false\n    id 'com.android.library' version '7.2.1' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here is the settings.gradle</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = \"WhatsappClone\"\ninclude ':app'</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My signup activity</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\nimport com.example.whatsappclone.databinding.ActivitySignUpBinding;\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic class SignUpActivity extends AppCompatActivity {\nActivitySignUpBinding binding;\nprivate FirebaseAuth mAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\nbinding = ActivitySignUpBinding.inflate(getLayoutInflater());\nsetContentView(binding.getRoot());\n        getSupportActionBar().hide();\n\n\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Please help.</p>\n"},{"tags":["java","maven","junit5","cucumber-junit"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1658945877,"post_id":73135688,"comment_id":129180952,"body_markdown":"Your test name is wrong https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html","body":"Your test name is wrong <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/inclusion-exclusion.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658915971,"creation_date":1658915971,"answer_id":73135896,"question_id":73135688,"body_markdown":"You should define only the following as dependencies and don&#39;t use properties because all the dependencies of junit jupiter are defined via the bom file..\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThere is no need for supplemental version properties or alike. The cucumber parts are also defined via cucumber bom.\r\n\r\n","title":"Java &gt;9, Cucumber and JUnit5 execution for a non spring app","body":"<p>You should define only the following as dependencies and don't use properties because all the dependencies of junit jupiter are defined via the bom file..</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n  &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n  &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>There is no need for supplemental version properties or alike. The cucumber parts are also defined via cucumber bom.</p>\n"}],"owner":{"account_id":312375,"reputation":15,"user_id":626407,"display_name":"McGivrer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73135896,"answer_count":1,"score":0,"last_activity_date":1658915971,"creation_date":1658915103,"question_id":73135688,"body_markdown":"Hello dear stackoverflowers\r\n\r\nDealing with the Cucumber docs and a lot of &quot;googleizing&quot;, I still stay stuck with the Maven, Java, Junit5 and Cucumber and some java modules integration (with a JDK18).\r\n\r\nHaving a very simple java desktop application (yes, I know this odd), I am trying to get my cucumber&#39;s features executed from maven (with the help of surefire.\r\n\r\nHere is my simplified [pom.xml][1] file.\r\n\r\n\r\nI think I have no more issues on the Java Module side as there is no &#39;illegal access&quot; error.\r\n\r\nBut having an (I hope) clear configuration, I am not able to get the feature tests executed, nothing happened at &#39;surefire&#39; side: \r\n\r\n    --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ usecasetdd ---\r\n    [INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n    [INFO]\r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO]\r\n    [INFO] Results:\r\n    [INFO]\r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO]\r\n\r\nAnd the Cucumber &quot;bootstraper&quot;:\r\n\r\n    package com.demodemo.core.tests;\r\n    \r\n    //...\r\n    \r\n    @Suite\r\n    @IncludeEngines(&quot;cucumber&quot;)\r\n    @SelectClasspathResource(&quot;com/demodemo/core/tests/features&quot;)\r\n    @ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.demodemo.core.tests&quot;)\r\n    class GameBDDTests {\r\n    }\r\n\r\nAnd the structure of my project is as below:\r\n\r\n[![Project work tree structure][2]][2]\r\n\r\nMaybe I&#39;ve done a basic error, but even digging the web, I&#39;ve not found it... Is there a way to make that work, or no chance to achieve that?\r\nCould you help ?\r\n\r\nAnyway, thanks for any help you will be able to offer on this not so simple topic.\r\n\r\nVery best regards,\r\n\r\nMcG.\r\n\r\n\r\n  [1]: https://gist.githubusercontent.com/mcgivrer/a74eec8c32dcfc52967095421b33a0fe/raw/0c70b93847b237973fc945335efb5473f7f20bd8/pom-with-junit5\r\n  [2]: https://i.stack.imgur.com/zeIwc.png","title":"Java &gt;9, Cucumber and JUnit5 execution for a non spring app","body":"<p>Hello dear stackoverflowers</p>\n<p>Dealing with the Cucumber docs and a lot of &quot;googleizing&quot;, I still stay stuck with the Maven, Java, Junit5 and Cucumber and some java modules integration (with a JDK18).</p>\n<p>Having a very simple java desktop application (yes, I know this odd), I am trying to get my cucumber's features executed from maven (with the help of surefire.</p>\n<p>Here is my simplified <a href=\"https://gist.githubusercontent.com/mcgivrer/a74eec8c32dcfc52967095421b33a0fe/raw/0c70b93847b237973fc945335efb5473f7f20bd8/pom-with-junit5\" rel=\"nofollow noreferrer\">pom.xml</a> file.</p>\n<p>I think I have no more issues on the Java Module side as there is no 'illegal access&quot; error.</p>\n<p>But having an (I hope) clear configuration, I am not able to get the feature tests executed, nothing happened at 'surefire' side:</p>\n<pre><code>--- maven-surefire-plugin:3.0.0-M7:test (default-test) @ usecasetdd ---\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\n[INFO]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n</code></pre>\n<p>And the Cucumber &quot;bootstraper&quot;:</p>\n<pre><code>package com.demodemo.core.tests;\n\n//...\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;com/demodemo/core/tests/features&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.demodemo.core.tests&quot;)\nclass GameBDDTests {\n}\n</code></pre>\n<p>And the structure of my project is as below:</p>\n<p><a href=\"https://i.stack.imgur.com/zeIwc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zeIwc.png\" alt=\"Project work tree structure\" /></a></p>\n<p>Maybe I've done a basic error, but even digging the web, I've not found it... Is there a way to make that work, or no chance to achieve that?\nCould you help ?</p>\n<p>Anyway, thanks for any help you will be able to offer on this not so simple topic.</p>\n<p>Very best regards,</p>\n<p>McG.</p>\n"},{"tags":["java","tomcat","development-environment"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1652367763,"post_id":72089132,"comment_id":127593986,"body_markdown":"Please check [Java: How to configure System.out to have autoflush enabled?](https://stackoverflow.com/questions/59975049/java-how-to-configure-system-out-to-have-autoflush-enabled)","body":"Please check <a href=\"https://stackoverflow.com/questions/59975049/java-how-to-configure-system-out-to-have-autoflush-enabled\">Java: How to configure System.out to have autoflush enabled?</a>"},{"owner":{"account_id":3234177,"reputation":133,"user_id":2728766,"display_name":"Lucio Menci"},"score":0,"creation_date":1658915449,"post_id":72089132,"comment_id":129168387,"body_markdown":"it does not work","body":"it does not work"}],"owner":{"account_id":3234177,"reputation":133,"user_id":2728766,"display_name":"Lucio Menci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658915724,"creation_date":1651506241,"question_id":72089132,"body_markdown":"In my develope environment I have tomcat (9.0) with the System.out.autoflush off. How can I set it to on?\r\n\r\nEDIT:\r\n\r\nI tried to put thoose lines:\r\n\r\n    private static boolean autoflushSetted = false;\r\n    void systemOutPrintln(String str) {\r\n      if (!autoflushSetted) {\r\n        autoflushSetted = true;\r\n        try {\r\n          Field af = PrintStream.class.getDeclaredField(&quot;autoFlush&quot;);\r\n          af.setAccessible(true);\r\n          af.set(System.out, Boolean.TRUE);\r\n        } catch (Throwable e) {\r\n        }\r\n      }\r\n      System.out.println(str);\r\n    }\r\n\r\nI tried also to set autoFlush via reflection to the result of the method findStream on System.out, and verified that the println flushed the writing, but countines to not work. Also setting the System.out to a new PrintStream (thanks to samabcde) does not work. It seems that the console window in Eclipse doesn&#39;t see that there was an output until the thread is completed. I can&#39;t see any setting to force the console windows to be smarter. Eclipse has this behaviour only when I run tomcat projects, instead standalone projects where it runs well. I cannot understand.","title":"Autoflush on System.out of my develope environment","body":"<p>In my develope environment I have tomcat (9.0) with the System.out.autoflush off. How can I set it to on?</p>\n<p>EDIT:</p>\n<p>I tried to put thoose lines:</p>\n<pre><code>private static boolean autoflushSetted = false;\nvoid systemOutPrintln(String str) {\n  if (!autoflushSetted) {\n    autoflushSetted = true;\n    try {\n      Field af = PrintStream.class.getDeclaredField(&quot;autoFlush&quot;);\n      af.setAccessible(true);\n      af.set(System.out, Boolean.TRUE);\n    } catch (Throwable e) {\n    }\n  }\n  System.out.println(str);\n}\n</code></pre>\n<p>I tried also to set autoFlush via reflection to the result of the method findStream on System.out, and verified that the println flushed the writing, but countines to not work. Also setting the System.out to a new PrintStream (thanks to samabcde) does not work. It seems that the console window in Eclipse doesn't see that there was an output until the thread is completed. I can't see any setting to force the console windows to be smarter. Eclipse has this behaviour only when I run tomcat projects, instead standalone projects where it runs well. I cannot understand.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652230999,"creation_date":1652230999,"answer_id":72194350,"question_id":72189463,"body_markdown":"I have not found out of box solution.\r\nIt seems MapStruct is designed to use `updateMethod` only for existing instances, according to [documentation][1].\r\n&lt;br&gt;I resolved problem via additional custom method.\r\n\r\n**MapStruct version 1.4.2.Final**\r\n```java\r\n@Mapper\r\npublic interface BCSecuritiesTradeMapper {\r\n    BCSecuritiesTradeMapper INSTANCE = Mappers.getMapper(BCSecuritiesTradeMapper.class);\r\n\r\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\r\n    BCSecuritiesTrade updateInputBy(String inputBy, @MappingTarget BCSecuritiesTrade bcSecuritiesTrade);\r\n\r\n    default BCSecuritiesTrade updateOrCreateInputBy(String inputBy, BCSecuritiesTrade bcSecuritiesTrade) {\r\n        if (bcSecuritiesTrade == null) {\r\n            bcSecuritiesTrade = new BCSecuritiesTrade();\r\n        }\r\n        if (inputBy == null) {\r\n            return bcSecuritiesTrade;\r\n        }\r\n        return updateInputBy(inputBy, bcSecuritiesTrade);\r\n    }\r\n}\r\n```\r\nGenerated code:\r\n```java\r\npublic class BCSecuritiesTradeMapperImpl implements BCSecuritiesTradeMapper {\r\n    @Override\r\n    public BCSecuritiesTrade updateInputBy(String inputBy, BCSecuritiesTrade bcSecuritiesTrade) {\r\n        if ( inputBy == null ) {\r\n            return null;\r\n        }\r\n        if ( bcSecuritiesTrade.tactical == null ) {\r\n            bcSecuritiesTrade.tactical = new Tactical();\r\n        }\r\n        stringToTactical( inputBy, bcSecuritiesTrade.tactical );\r\n\r\n        return bcSecuritiesTrade;\r\n    }\r\n\r\n    protected void stringToTactical(String string, Tactical mappingTarget) {\r\n        if ( string == null ) {\r\n            return;\r\n        }\r\n        mappingTarget.inputBy = string;\r\n    }\r\n}\r\n```\r\n**MapStruct version 1.5.0.RC1**\r\n&lt;br&gt;The new version has better implementation. In case if the `source` is `null` `target` will be returned, but it still can not create an instance of the `target` object in case passed `null`.\r\n&lt;br&gt;Custom method is simplified but did not eliminate.\r\n```java\r\n@Mapper\r\npublic interface BCSecuritiesTradeMapper {\r\n    BCSecuritiesTradeMapper INSTANCE = Mappers.getMapper(BCSecuritiesTradeMapper.class);\r\n\r\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\r\n    BCSecuritiesTrade updateInputBy(String inputBy, @MappingTarget BCSecuritiesTrade bcSecuritiesTrade);\r\n\r\n    default BCSecuritiesTrade updateOrCreateInputBy(String inputBy, BCSecuritiesTrade bcSecuritiesTrade) {\r\n        if (bcSecuritiesTrade == null) {\r\n            bcSecuritiesTrade = new BCSecuritiesTrade();\r\n        }\r\n        return updateInputBy(inputBy, bcSecuritiesTrade);\r\n    }\r\n}\r\n```\r\nGenerated code:\r\n```java\r\npublic class BCSecuritiesTradeMapperImpl implements BCSecuritiesTradeMapper {\r\n\r\n    @Override\r\n    public BCSecuritiesTrade updateInputBy(String inputBy, BCSecuritiesTrade bcSecuritiesTrade) {\r\n        if ( inputBy == null ) {\r\n            return bcSecuritiesTrade;\r\n        }\r\n        if ( bcSecuritiesTrade.tactical == null ) {\r\n            bcSecuritiesTrade.tactical = new Tactical();\r\n        }\r\n        stringToTactical( inputBy, bcSecuritiesTrade.tactical );\r\n        return bcSecuritiesTrade;\r\n    }\r\n\r\n    protected void stringToTactical(String string, Tactical mappingTarget) {\r\n        if ( string == null ) {\r\n            return;\r\n        }\r\n        mappingTarget.inputBy = string;\r\n    }\r\n}\r\n```\r\n**Unit test:**\r\n```java\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.junit.runners.JUnit4;\r\n\r\n@RunWith(JUnit4.class)\r\npublic class MapperTest {\r\n    @Test\r\n    public void test() {\r\n        BCSecuritiesTrade bcSecuritiesTrade = BCSecuritiesTradeMapper.INSTANCE.updateOrCreateInputBy(null, null);\r\n        Assert.assertNotNull(bcSecuritiesTrade);\r\n        Assert.assertNull(bcSecuritiesTrade.tactical);\r\n\r\n        BCSecuritiesTrade bcSecuritiesTradeUpdate = BCSecuritiesTradeMapper.INSTANCE.updateOrCreateInputBy(null, bcSecuritiesTrade);\r\n        Assert.assertNotNull(bcSecuritiesTradeUpdate);\r\n        Assert.assertNull(bcSecuritiesTradeUpdate.tactical);\r\n        Assert.assertEquals(bcSecuritiesTrade, bcSecuritiesTradeUpdate);\r\n\r\n        bcSecuritiesTrade = BCSecuritiesTradeMapper.INSTANCE.updateOrCreateInputBy(&quot;123&quot;, null);\r\n        Assert.assertNotNull(bcSecuritiesTrade);\r\n        Assert.assertEquals(bcSecuritiesTrade.tactical.inputBy, &quot;123&quot;);\r\n\r\n        bcSecuritiesTradeUpdate = BCSecuritiesTradeMapper.INSTANCE.updateOrCreateInputBy(&quot;124&quot;, bcSecuritiesTrade);\r\n        Assert.assertNotNull(bcSecuritiesTradeUpdate);\r\n        Assert.assertEquals(bcSecuritiesTradeUpdate.tactical.inputBy, &quot;124&quot;);\r\n        Assert.assertEquals(bcSecuritiesTrade, bcSecuritiesTradeUpdate);\r\n\r\n    }\r\n}\r\n```\r\n**Entities that were used:**\r\n```java\r\npublic class BCSecuritiesTrade {\r\n    public Tactical tactical;\r\n}\r\n\r\npublic class Tactical {\r\n    public String inputBy;\r\n}\r\n```\r\n\r\n**Alternative solution:**\r\n&lt;br&gt;Creare two separete methods for `Create` and `Update`.\r\n```java\r\n@Mapper(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\r\npublic interface BCSecuritiesTradeMapper {\r\n    BCSecuritiesTradeMapper INSTANCE = Mappers.getMapper(BCSecuritiesTradeMapper.class);\r\n\r\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\r\n    BCSecuritiesTrade updateInputBy(String inputBy, @MappingTarget BCSecuritiesTrade bcSecuritiesTrade);\r\n\r\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\r\n    BCSecuritiesTrade createInputBy(String inputBy);\r\n}\r\n```\r\n\r\n  [1]: https://mapstruct.org/documentation/dev/reference/html/#updating-bean-instances","title":"MapStruct: initialize using updateMethod(), create even though source is null","body":"<p>I have not found out of box solution.\nIt seems MapStruct is designed to use <code>updateMethod</code> only for existing instances, according to <a href=\"https://mapstruct.org/documentation/dev/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">documentation</a>.\n<br>I resolved problem via additional custom method.</p>\n<p><strong>MapStruct version 1.4.2.Final</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface BCSecuritiesTradeMapper {\n    BCSecuritiesTradeMapper INSTANCE = Mappers.getMapper(BCSecuritiesTradeMapper.class);\n\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\n    BCSecuritiesTrade updateInputBy(String inputBy, @MappingTarget BCSecuritiesTrade bcSecuritiesTrade);\n\n    default BCSecuritiesTrade updateOrCreateInputBy(String inputBy, BCSecuritiesTrade bcSecuritiesTrade) {\n        if (bcSecuritiesTrade == null) {\n            bcSecuritiesTrade = new BCSecuritiesTrade();\n        }\n        if (inputBy == null) {\n            return bcSecuritiesTrade;\n        }\n        return updateInputBy(inputBy, bcSecuritiesTrade);\n    }\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BCSecuritiesTradeMapperImpl implements BCSecuritiesTradeMapper {\n    @Override\n    public BCSecuritiesTrade updateInputBy(String inputBy, BCSecuritiesTrade bcSecuritiesTrade) {\n        if ( inputBy == null ) {\n            return null;\n        }\n        if ( bcSecuritiesTrade.tactical == null ) {\n            bcSecuritiesTrade.tactical = new Tactical();\n        }\n        stringToTactical( inputBy, bcSecuritiesTrade.tactical );\n\n        return bcSecuritiesTrade;\n    }\n\n    protected void stringToTactical(String string, Tactical mappingTarget) {\n        if ( string == null ) {\n            return;\n        }\n        mappingTarget.inputBy = string;\n    }\n}\n</code></pre>\n<p><strong>MapStruct version 1.5.0.RC1</strong>\n<br>The new version has better implementation. In case if the <code>source</code> is <code>null</code> <code>target</code> will be returned, but it still can not create an instance of the <code>target</code> object in case passed <code>null</code>.\n<br>Custom method is simplified but did not eliminate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface BCSecuritiesTradeMapper {\n    BCSecuritiesTradeMapper INSTANCE = Mappers.getMapper(BCSecuritiesTradeMapper.class);\n\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\n    BCSecuritiesTrade updateInputBy(String inputBy, @MappingTarget BCSecuritiesTrade bcSecuritiesTrade);\n\n    default BCSecuritiesTrade updateOrCreateInputBy(String inputBy, BCSecuritiesTrade bcSecuritiesTrade) {\n        if (bcSecuritiesTrade == null) {\n            bcSecuritiesTrade = new BCSecuritiesTrade();\n        }\n        return updateInputBy(inputBy, bcSecuritiesTrade);\n    }\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BCSecuritiesTradeMapperImpl implements BCSecuritiesTradeMapper {\n\n    @Override\n    public BCSecuritiesTrade updateInputBy(String inputBy, BCSecuritiesTrade bcSecuritiesTrade) {\n        if ( inputBy == null ) {\n            return bcSecuritiesTrade;\n        }\n        if ( bcSecuritiesTrade.tactical == null ) {\n            bcSecuritiesTrade.tactical = new Tactical();\n        }\n        stringToTactical( inputBy, bcSecuritiesTrade.tactical );\n        return bcSecuritiesTrade;\n    }\n\n    protected void stringToTactical(String string, Tactical mappingTarget) {\n        if ( string == null ) {\n            return;\n        }\n        mappingTarget.inputBy = string;\n    }\n}\n</code></pre>\n<p><strong>Unit test:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.JUnit4;\n\n@RunWith(JUnit4.class)\npublic class MapperTest {\n    @Test\n    public void test() {\n        BCSecuritiesTrade bcSecuritiesTrade = BCSecuritiesTradeMapper.INSTANCE.updateOrCreateInputBy(null, null);\n        Assert.assertNotNull(bcSecuritiesTrade);\n        Assert.assertNull(bcSecuritiesTrade.tactical);\n\n        BCSecuritiesTrade bcSecuritiesTradeUpdate = BCSecuritiesTradeMapper.INSTANCE.updateOrCreateInputBy(null, bcSecuritiesTrade);\n        Assert.assertNotNull(bcSecuritiesTradeUpdate);\n        Assert.assertNull(bcSecuritiesTradeUpdate.tactical);\n        Assert.assertEquals(bcSecuritiesTrade, bcSecuritiesTradeUpdate);\n\n        bcSecuritiesTrade = BCSecuritiesTradeMapper.INSTANCE.updateOrCreateInputBy(&quot;123&quot;, null);\n        Assert.assertNotNull(bcSecuritiesTrade);\n        Assert.assertEquals(bcSecuritiesTrade.tactical.inputBy, &quot;123&quot;);\n\n        bcSecuritiesTradeUpdate = BCSecuritiesTradeMapper.INSTANCE.updateOrCreateInputBy(&quot;124&quot;, bcSecuritiesTrade);\n        Assert.assertNotNull(bcSecuritiesTradeUpdate);\n        Assert.assertEquals(bcSecuritiesTradeUpdate.tactical.inputBy, &quot;124&quot;);\n        Assert.assertEquals(bcSecuritiesTrade, bcSecuritiesTradeUpdate);\n\n    }\n}\n</code></pre>\n<p><strong>Entities that were used:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BCSecuritiesTrade {\n    public Tactical tactical;\n}\n\npublic class Tactical {\n    public String inputBy;\n}\n</code></pre>\n<p><strong>Alternative solution:</strong>\n<br>Creare two separete methods for <code>Create</code> and <code>Update</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT)\npublic interface BCSecuritiesTradeMapper {\n    BCSecuritiesTradeMapper INSTANCE = Mappers.getMapper(BCSecuritiesTradeMapper.class);\n\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\n    BCSecuritiesTrade updateInputBy(String inputBy, @MappingTarget BCSecuritiesTrade bcSecuritiesTrade);\n\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\n    BCSecuritiesTrade createInputBy(String inputBy);\n}\n</code></pre>\n"}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72194350,"answer_count":1,"score":1,"last_activity_date":1658915354,"creation_date":1652197895,"question_id":72189463,"body_markdown":"could someone tell me how (or if it is even possible) to force update method to create target if it is null?\r\n\r\nI would like to achieve something like this:\r\n\r\n```java\r\n    @BeforeMapping\r\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\r\n    default BCSecuritiesTrade updateOrCreateInputBy(String inputBy, @MappingTarget BCSecuritiesTrade bcSecuritiesTrade){\r\n        return bcSecuritiesTrade != null? bcSecuritiesTrade:new BCSecuritiesTrade();\r\n    }\r\n```\r\n\r\nbut this returns always new instance and does not do the mapping.\r\n\r\nI would like to have method, which update the &quot;target&quot; when it is present and create new &quot;target&quot; object when null was entered.\r\n\r\nAlso when &quot;source&quot; object is null it should not return null, but the &quot;target&quot; object or create new one if &quot;target&quot; object is null. Currently method is returning null when &quot;source&quot; is null.\r\n\r\n\r\nThanks a lot!","title":"MapStruct: initialize using updateMethod(), create even though source is null","body":"<p>could someone tell me how (or if it is even possible) to force update method to create target if it is null?</p>\n<p>I would like to achieve something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @BeforeMapping\n    @Mapping(source = &quot;inputBy&quot;, target = &quot;tactical.inputBy&quot;)\n    default BCSecuritiesTrade updateOrCreateInputBy(String inputBy, @MappingTarget BCSecuritiesTrade bcSecuritiesTrade){\n        return bcSecuritiesTrade != null? bcSecuritiesTrade:new BCSecuritiesTrade();\n    }\n</code></pre>\n<p>but this returns always new instance and does not do the mapping.</p>\n<p>I would like to have method, which update the &quot;target&quot; when it is present and create new &quot;target&quot; object when null was entered.</p>\n<p>Also when &quot;source&quot; object is null it should not return null, but the &quot;target&quot; object or create new one if &quot;target&quot; object is null. Currently method is returning null when &quot;source&quot; is null.</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491688172,"post_id":43300571,"comment_id":73666917,"body_markdown":"`answer(data, 2)` returns `[1, 2, 4, 5]`, but should return `[1, 2, 2, 4, 5, 5]`.","body":"<code>answer(data, 2)</code> returns <code>[1, 2, 4, 5]</code>, but should return <code>[1, 2, 2, 4, 5, 5]</code>."}],"answers":[{"tags":[],"owner":{"account_id":2322973,"reputation":742,"user_id":2302884,"display_name":"muzzlator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491688513,"creation_date":1491688513,"answer_id":43300758,"question_id":43300571,"body_markdown":"Not going to provide a full solution but suggesting a reworking of the algorithm because it&#39;s not clear what you&#39;re doing, you never explained your actual thoughts of the algorithm. For example, what are you using isDistinct for?\r\n\r\n1) Loop through once and compute the frequency of every number. You can just use an array of length 100 since that&#39;s all the data inputs will be. As you loop through, keep track of two things: The total number of entries that occur more than n times, as well as which those numbers are\r\n\r\n2) Create a resulting array of the appropriate size (calculated from above) and loop through the list again and fill in the elements that didn&#39;t cross the threshold.","title":"Removing N duplicates from integer array","body":"<p>Not going to provide a full solution but suggesting a reworking of the algorithm because it's not clear what you're doing, you never explained your actual thoughts of the algorithm. For example, what are you using isDistinct for?</p>\n\n<p>1) Loop through once and compute the frequency of every number. You can just use an array of length 100 since that's all the data inputs will be. As you loop through, keep track of two things: The total number of entries that occur more than n times, as well as which those numbers are</p>\n\n<p>2) Create a resulting array of the appropriate size (calculated from above) and loop through the list again and fill in the elements that didn't cross the threshold.</p>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1491691438,"creation_date":1491690198,"answer_id":43300942,"question_id":43300571,"body_markdown":"I misread the requirements initially, this does what is asked:\r\n\r\n      public static int[] answer(int[] data, int n) {\r\n        Map&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\r\n        int elementsNeeded = 0;\r\n    \r\n        for (int i = 0; i &lt; data.length; i++) {\r\n          Integer currentCount = counts.get(data[i]);\r\n    \r\n          currentCount = currentCount == null ? 1 : ++currentCount;\r\n          counts.put(data[i], currentCount);\r\n    \r\n          if (currentCount &lt;= n + 1) {\r\n            elementsNeeded += currentCount &gt; n ? -n : 1;\r\n          }\r\n        }\r\n    \r\n        int[] resultArray = new int[elementsNeeded];\r\n        int j = 0;\r\n    \r\n        for (int i = 0; i &lt; data.length; i++) {\r\n          if (counts.get(data[i]) &lt;= n) {\r\n            resultArray[j++] = data[i];\r\n          }\r\n        }\r\n    \r\n        return resultArray;\r\n      }\r\n\r\n...and also your own code, slightly altered:\r\n\r\n      public static int[] answer2(int[] data, int n) {\r\n        if (data.length&gt;99){\r\n            System.exit(0);\r\n        }\r\n        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n        int count;\r\n    \r\n        for (int i = 0; i &lt; data.length; i++) {\r\n            count = 0;\r\n            for (int j = 0; j &lt; data.length; j++) {\r\n                if (data[i] == data[j]) {\r\n                    count++;\r\n                }\r\n            }\r\n    \r\n            if (count &lt;= n){\r\n                temp.add(data[i]);\r\n            }\r\n        }\r\n    \r\n    \r\n        data = new int[temp.size()];\r\n        for (int i = 0; i &lt;temp.size() ; i++) {\r\n            data[i] = temp.get(i);\r\n        }\r\n        return data;\r\n      }\r\n\r\n\r\n","title":"Removing N duplicates from integer array","body":"<p>I misread the requirements initially, this does what is asked:</p>\n\n<pre><code>  public static int[] answer(int[] data, int n) {\n    Map&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\n    int elementsNeeded = 0;\n\n    for (int i = 0; i &lt; data.length; i++) {\n      Integer currentCount = counts.get(data[i]);\n\n      currentCount = currentCount == null ? 1 : ++currentCount;\n      counts.put(data[i], currentCount);\n\n      if (currentCount &lt;= n + 1) {\n        elementsNeeded += currentCount &gt; n ? -n : 1;\n      }\n    }\n\n    int[] resultArray = new int[elementsNeeded];\n    int j = 0;\n\n    for (int i = 0; i &lt; data.length; i++) {\n      if (counts.get(data[i]) &lt;= n) {\n        resultArray[j++] = data[i];\n      }\n    }\n\n    return resultArray;\n  }\n</code></pre>\n\n<p>...and also your own code, slightly altered:</p>\n\n<pre><code>  public static int[] answer2(int[] data, int n) {\n    if (data.length&gt;99){\n        System.exit(0);\n    }\n    ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n    int count;\n\n    for (int i = 0; i &lt; data.length; i++) {\n        count = 0;\n        for (int j = 0; j &lt; data.length; j++) {\n            if (data[i] == data[j]) {\n                count++;\n            }\n        }\n\n        if (count &lt;= n){\n            temp.add(data[i]);\n        }\n    }\n\n\n    data = new int[temp.size()];\n    for (int i = 0; i &lt;temp.size() ; i++) {\n        data[i] = temp.get(i);\n    }\n    return data;\n  }\n</code></pre>\n"}],"owner":{"account_id":3668333,"reputation":59,"user_id":3056071,"display_name":"ruhul_inonity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":43300942,"answer_count":2,"score":-2,"last_activity_date":1658915002,"creation_date":1491687078,"question_id":43300571,"body_markdown":"problem statement: I have to remove n duplicates from array.\r\n\r\nHere is the full problem statement : [https://pastebin.com/EJgKUGe3][2]\r\n\r\nand my solution is :\r\n\r\n    public class minion_labour_shift_2ndTry {\r\n        static int[] data = {1,2, 2, 3, 3, 3, 4, 5, 5};   \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner reader = new Scanner(System.in);\r\n            int n = reader.nextInt();\r\n    \r\n            data = answer(data, n);\r\n            for (int i = 0; i &lt; data.length; i++) {\r\n                System.out.print(data[i] + &quot; &quot;);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static int[] answer(int[] data, int n) {\r\n            if (data.length&gt;99){\r\n                System.exit(0);\r\n            }\r\n            int[] result = new int[99];\r\n            ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n            int counter = 0, count ,maxCount = 0;\r\n    \r\n            for (int i = 0; i &lt; data.length; i++) {\r\n                boolean isDistinct = false;\r\n                for (int j = 0; j &lt; i; j++) {\r\n                    if (data[i] == data[j]) {\r\n                        isDistinct = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!isDistinct) {\r\n                    result[counter++] = data[i];\r\n                }\r\n            }\r\n            for (int i = 0; i &lt; counter; i++) {\r\n                count = 0;\r\n                for (int j = 0; j &lt; data.length; j++) {\r\n                    if (result[i] == data[j]) {\r\n                        count++;\r\n                    }\r\n                }\r\n                System.out.println(&quot;....... count&quot;+count);\r\n                if (maxCount &lt;= count){\r\n                    maxCount = count;\r\n                }\r\n           \r\n                if (count &lt;= n){\r\n                    temp.add(result[i]);\r\n                }\r\n            }\r\n    \r\n            if (maxCount-1 &lt; n){\r\n                return data;\r\n            }\r\n    \r\n            data = new int[temp.size()];\r\n            for (int i = 0; i &lt;temp.size() ; i++) {\r\n                data[i] = temp.get(i);\r\n            }\r\n            return data;\r\n        }\r\n    }\r\n **Now, my question is, what I am missing and what should I do to pass all the 10 cases.**\r\n\r\nThanks In Advance :) \r\n\r\nNB:It will be compiled in java 7 , and Map,hashset or third-party libraries, input/output operations, spawning threads or processes and changes to the execution environment are not allowed.\r\n\r\n  [1]: https://i.stack.imgur.com/HH5vz.png\r\n  [2]: https://pastebin.com/sjyMpQA1","title":"Removing N duplicates from integer array","body":"<p>problem statement: I have to remove n duplicates from array.</p>\n\n<p>Here is the full problem statement : <a href=\"https://pastebin.com/sjyMpQA1\" rel=\"nofollow noreferrer\">https://pastebin.com/EJgKUGe3</a></p>\n\n<p>and my solution is :</p>\n\n<pre><code>public class minion_labour_shift_2ndTry {\n    static int[] data = {1,2, 2, 3, 3, 3, 4, 5, 5};   \n\n    public static void main(String[] args) {\n\n        Scanner reader = new Scanner(System.in);\n        int n = reader.nextInt();\n\n        data = answer(data, n);\n        for (int i = 0; i &lt; data.length; i++) {\n            System.out.print(data[i] + \" \");\n        }\n\n    }\n\n    public static int[] answer(int[] data, int n) {\n        if (data.length&gt;99){\n            System.exit(0);\n        }\n        int[] result = new int[99];\n        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n        int counter = 0, count ,maxCount = 0;\n\n        for (int i = 0; i &lt; data.length; i++) {\n            boolean isDistinct = false;\n            for (int j = 0; j &lt; i; j++) {\n                if (data[i] == data[j]) {\n                    isDistinct = true;\n                    break;\n                }\n            }\n            if (!isDistinct) {\n                result[counter++] = data[i];\n            }\n        }\n        for (int i = 0; i &lt; counter; i++) {\n            count = 0;\n            for (int j = 0; j &lt; data.length; j++) {\n                if (result[i] == data[j]) {\n                    count++;\n                }\n            }\n            System.out.println(\"....... count\"+count);\n            if (maxCount &lt;= count){\n                maxCount = count;\n            }\n\n            if (count &lt;= n){\n                temp.add(result[i]);\n            }\n        }\n\n        if (maxCount-1 &lt; n){\n            return data;\n        }\n\n        data = new int[temp.size()];\n        for (int i = 0; i &lt;temp.size() ; i++) {\n            data[i] = temp.get(i);\n        }\n        return data;\n    }\n}\n</code></pre>\n\n<p><strong>Now, my question is, what I am missing and what should I do to pass all the 10 cases.</strong></p>\n\n<p>Thanks In Advance :) </p>\n\n<p>NB:It will be compiled in java 7 , and Map,hashset or third-party libraries, input/output operations, spawning threads or processes and changes to the execution environment are not allowed.</p>\n"},{"tags":["java","maven","sockets","debugging","port"],"comments":[{"owner":{"account_id":6651776,"reputation":998,"user_id":5133529,"display_name":"dung ta van"},"score":0,"creation_date":1658806890,"post_id":73117446,"comment_id":129136927,"body_markdown":"what&#39;s library you&#39;re using?","body":"what&#39;s library you&#39;re using?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1658865053,"post_id":73117446,"comment_id":129156995,"body_markdown":"Give the command in terminal means what exactly?","body":"Give the command in terminal means what exactly?"},{"owner":{"account_id":23007091,"reputation":3,"user_id":17130182,"display_name":"pja"},"score":0,"creation_date":1658896998,"post_id":73117446,"comment_id":129162932,"body_markdown":"the command mvnDebug.","body":"the command mvnDebug."},{"owner":{"account_id":23007091,"reputation":3,"user_id":17130182,"display_name":"pja"},"score":0,"creation_date":1658897185,"post_id":73117446,"comment_id":129162968,"body_markdown":"Which library ?","body":"Which library ?"}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658914881,"creation_date":1658823787,"answer_id":73119982,"question_id":73117446,"body_markdown":"I suppose that you use `mvnDebug ...` command.\r\n\r\nPort 8000 is default for `mvnDebug`, if you want to debug Maven process please simply set in your editor the same port - 8000.\r\n\r\nMaybe you want achieve something else - it is not clear from question.\r\n\r\nFor changing default debug port for `mvnDebug` you can use `MAVEN_DEBUG_ADDRESS` environment variable.\r\n\r\neg.\r\n\r\n```\r\nMAVEN_DEBUG_ADDRESS=8050 mvnDebug ...\r\n```","title":"Listening for transport dt_socket at address: 8000","body":"<p>I suppose that you use <code>mvnDebug ...</code> command.</p>\n<p>Port 8000 is default for <code>mvnDebug</code>, if you want to debug Maven process please simply set in your editor the same port - 8000.</p>\n<p>Maybe you want achieve something else - it is not clear from question.</p>\n<p>For changing default debug port for <code>mvnDebug</code> you can use <code>MAVEN_DEBUG_ADDRESS</code> environment variable.</p>\n<p>eg.</p>\n<pre><code>MAVEN_DEBUG_ADDRESS=8050 mvnDebug ...\n</code></pre>\n"}],"owner":{"account_id":23007091,"reputation":3,"user_id":17130182,"display_name":"pja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658914881,"creation_date":1658806242,"question_id":73117446,"body_markdown":"![enter image description here][1]\r\n\r\n\r\nI have the above debug config . The port  i have given is 8050, but when i give the command in terminal it runs as 8000. How can i change the dt_socket port. \r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/70HpL.png.\r\n  [2]: https://i.stack.imgur.com/Lo2Po.png","title":"Listening for transport dt_socket at address: 8000","body":"<p><img src=\"https://i.stack.imgur.com/70HpL.png.\" alt=\"enter image description here\" /></p>\n<p>I have the above debug config . The port  i have given is 8050, but when i give the command in terminal it runs as 8000. How can i change the dt_socket port.</p>\n<p><img src=\"https://i.stack.imgur.com/Lo2Po.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","algorithm","data-structures","bit-manipulation"],"comments":[{"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"score":0,"creation_date":1657465287,"post_id":72929345,"comment_id":128811439,"body_markdown":"Let&#39;s say two unique values are `x1` and `x2`. In your code, variable `c` is not the first unique value. Instead,  `c = x1 ^ x2`.","body":"Let&#39;s say two unique values are <code>x1</code> and <code>x2</code>. In your code, variable <code>c</code> is not the first unique value. Instead,  <code>c = x1 ^ x2</code>."},{"owner":{"account_id":24688100,"reputation":11,"user_id":18581024,"display_name":"Lostmymind"},"score":0,"creation_date":1657468411,"post_id":72929345,"comment_id":128812102,"body_markdown":"@Haoliang but when i individually checked the value of a[0] or c, i got X1, and the same goes true of a[1] or c1.","body":"@Haoliang but when i individually checked the value of a[0] or c, i got X1, and the same goes true of a[1] or c1."},{"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"score":0,"creation_date":1657469494,"post_id":72929345,"comment_id":128812350,"body_markdown":"Just found another problem: in the for loop, `c=c^nums[i1];` should be `c = c^i1`.","body":"Just found another problem: in the for loop, <code>c=c^nums[i1];</code> should be <code>c = c^i1</code>."},{"owner":{"account_id":24688100,"reputation":11,"user_id":18581024,"display_name":"Lostmymind"},"score":0,"creation_date":1657469613,"post_id":72929345,"comment_id":128812370,"body_markdown":"@Haoliang made the change and got this error\n&quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5\n\tat Solution.singleNumber(File.java:51)\n\tat GFG.main(File.java:24)&quot;","body":"@Haoliang made the change and got this error &quot;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5 \tat Solution.singleNumber(File.java:51) \tat GFG.main(File.java:24)&quot;"},{"owner":{"account_id":25534979,"reputation":1204,"user_id":19322223,"display_name":"Haoliang"},"score":0,"creation_date":1657471211,"post_id":72929345,"comment_id":128812688,"body_markdown":"Since we&#39;ve made changes to the first loop. Now `c = x1 ^ x2`. For example, if the input is `{1, 1, 2, 2, 3, 4}`, then `c = 3 ^ 4 = 7`. Your second for loop is no longer applicable, since there&#39;s no element equals 7.","body":"Since we&#39;ve made changes to the first loop. Now <code>c = x1 ^ x2</code>. For example, if the input is <code>{1, 1, 2, 2, 3, 4}</code>, then <code>c = 3 ^ 4 = 7</code>. Your second for loop is no longer applicable, since there&#39;s no element equals 7."},{"owner":{"account_id":24688100,"reputation":11,"user_id":18581024,"display_name":"Lostmymind"},"score":0,"creation_date":1657480405,"post_id":72929345,"comment_id":128814513,"body_markdown":"@Haoliang please help me correct it, should i change the entire logic and go with the 1&#39;s and 2&#39;s compliment method? Is there no way this approach could work?","body":"@Haoliang please help me correct it, should i change the entire logic and go with the 1&#39;s and 2&#39;s compliment method? Is there no way this approach could work?"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1658913413,"post_id":72929345,"comment_id":129167612,"body_markdown":"The question says expected space complexity is O(1), yours is O(N).","body":"The question says expected space complexity is O(1), yours is O(N)."}],"answers":[{"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658914678,"creation_date":1658914678,"answer_id":73135577,"question_id":72929345,"body_markdown":"There are two problems:\r\n\r\n- expected space complexity is O(1), your is O(N)\r\n- as mentioned by @Haoliang: the result of xoring all elements is a ^ b (the xor of the two missing elements) and not one of the answers (a or b), so your logic doesn&#39;t work\r\n\r\nHere is how you can solve it:\r\n\r\n1. xor all elements =&gt; a ^ b\r\n2. find a bit that is 1 in a ^ b (there has to be a bit that is one if a != b which is the case)\r\n3. xor all numbers that have that bit set and all number that have that bit not set, this will give you a and b\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public int[] solve (int[] arr) {\r\n        int xor = 0, a = 0, b = 0;\r\n        for (int x : arr)\r\n            xor ^= x;\r\n        int mask = 1;\r\n        while ((mask &amp; xor) == 0)\r\n            mask &lt;&lt;= 1;\r\n        for (int x : arr) {\r\n            if ((mask &amp; x) == 0)\r\n                a ^= x;\r\n            else\r\n                b ^= x;\r\n        }\r\n        return a &lt; b ? new int[] {a, b} : new int[] {b, a};\r\n    }","title":"Why does my code not work? It passed the base case but after that it got stuck. The Question is &quot;Non Repeating Numbers&quot; on GFG","body":"<p>There are two problems:</p>\n<ul>\n<li>expected space complexity is O(1), your is O(N)</li>\n<li>as mentioned by @Haoliang: the result of xoring all elements is a ^ b (the xor of the two missing elements) and not one of the answers (a or b), so your logic doesn't work</li>\n</ul>\n<p>Here is how you can solve it:</p>\n<ol>\n<li>xor all elements =&gt; a ^ b</li>\n<li>find a bit that is 1 in a ^ b (there has to be a bit that is one if a != b which is the case)</li>\n<li>xor all numbers that have that bit set and all number that have that bit not set, this will give you a and b</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] solve (int[] arr) {\n    int xor = 0, a = 0, b = 0;\n    for (int x : arr)\n        xor ^= x;\n    int mask = 1;\n    while ((mask &amp; xor) == 0)\n        mask &lt;&lt;= 1;\n    for (int x : arr) {\n        if ((mask &amp; x) == 0)\n            a ^= x;\n        else\n            b ^= x;\n    }\n    return a &lt; b ? new int[] {a, b} : new int[] {b, a};\n}\n</code></pre>\n"}],"owner":{"account_id":24688100,"reputation":11,"user_id":18581024,"display_name":"Lostmymind"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658914678,"creation_date":1657464261,"question_id":72929345,"body_markdown":"The Approach I took was I first used bit manipulation to find that first element which was unique in the variable &quot;c&quot;, then i used another array to copy the elements of the original array, but without the repeating element, and then used the bit manipulation method again to find the 2nd unique element in &quot;C1&quot;.After that since I needed to return an array i added both values to the array &quot;a&quot; and returned it.\r\n\r\n\r\n    class Solution\r\n    {\r\n        public int[] singleNumber(int[] nums)\r\n        {\r\n            int a[]=new int[2];\r\n            int c=0,c1=0;\r\n            for(int i1:nums)\r\n            c=c^nums[i1];\r\n            a[0]=c;\r\n            int b[]=new int[nums.length-1];\r\n             for (int i = 0, k = 0; i &lt; nums.length; i++) {\r\n                if (nums[i] == c) {\r\n                    continue;\r\n                }\r\n                b[k++] = nums[i];\r\n            }\r\n            for(int i2:b)\r\n            c1=c1^b[i2];\r\n            a[1]=c1;\r\n            return a;\r\n            \r\n        }\r\n    }\r\n[This is the link for the Question][1]\r\n\r\n\r\n  [1]: https://practice.geeksforgeeks.org/problems/finding-the-numbers0215/1#","title":"Why does my code not work? It passed the base case but after that it got stuck. The Question is &quot;Non Repeating Numbers&quot; on GFG","body":"<p>The Approach I took was I first used bit manipulation to find that first element which was unique in the variable &quot;c&quot;, then i used another array to copy the elements of the original array, but without the repeating element, and then used the bit manipulation method again to find the 2nd unique element in &quot;C1&quot;.After that since I needed to return an array i added both values to the array &quot;a&quot; and returned it.</p>\n<pre><code>class Solution\n{\n    public int[] singleNumber(int[] nums)\n    {\n        int a[]=new int[2];\n        int c=0,c1=0;\n        for(int i1:nums)\n        c=c^nums[i1];\n        a[0]=c;\n        int b[]=new int[nums.length-1];\n         for (int i = 0, k = 0; i &lt; nums.length; i++) {\n            if (nums[i] == c) {\n                continue;\n            }\n            b[k++] = nums[i];\n        }\n        for(int i2:b)\n        c1=c1^b[i2];\n        a[1]=c1;\n        return a;\n        \n    }\n}\n</code></pre>\n<p><a href=\"https://practice.geeksforgeeks.org/problems/finding-the-numbers0215/1#\" rel=\"nofollow noreferrer\">This is the link for the Question</a></p>\n"},{"tags":["java","eclipse","class","bin"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1370194271,"post_id":16885390,"comment_id":24362028,"body_markdown":"You probably are using [anonymous classes](http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html) in your code.","body":"You probably are using <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">anonymous classes</a> in your code."},{"owner":{"account_id":1083042,"reputation":3291,"user_id":1079484,"accept_rate":37,"display_name":"MichalB"},"score":0,"creation_date":1370194349,"post_id":16885390,"comment_id":24362050,"body_markdown":"how can I find it out? And moreover, is it somehow harmful for the final release of the project?","body":"how can I find it out? And moreover, is it somehow harmful for the final release of the project?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1370194439,"post_id":16885390,"comment_id":24362072,"body_markdown":"Take a look at link in my comment. Normally anonymous classes are created by using `new SomeClassOrInterface(){additional implementation for SomeClassOrInterface};`","body":"Take a look at link in my comment. Normally anonymous classes are created by using <code>new SomeClassOrInterface(){additional implementation for SomeClassOrInterface};</code>"}],"answers":[{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1370194322,"creation_date":1370194322,"answer_id":16885404,"question_id":16885390,"body_markdown":"The dollar sign is used by the compiler for inner classes. \r\n\r\n`$` sign represents inner classes. If it has a `number` after `$` then it is an annonymous inner class. If it has a `name` after `$` then it is only an inner class.\r\n\r\nSo in your casese these are representing annonymouse inner classes","title":"Why do I have so many CLASS files in bin folder?","body":"<p>The dollar sign is used by the compiler for inner classes. </p>\n\n<p><code>$</code> sign represents inner classes. If it has a <code>number</code> after <code>$</code> then it is an annonymous inner class. If it has a <code>name</code> after <code>$</code> then it is only an inner class.</p>\n\n<p>So in your casese these are representing annonymouse inner classes</p>\n"},{"tags":[],"owner":{"account_id":1376202,"reputation":24775,"user_id":1341006,"accept_rate":99,"display_name":"Jainendra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1658914584,"creation_date":1370194328,"answer_id":16885407,"question_id":16885390,"body_markdown":"Inner classes if any present in your class will be compiled and the class file will be `ClassName$InnerClassName`. In the case of Anonymous inner classes, it will appear as numbers.\r\n\r\n**Example:**\r\n\r\n    public class TestInnerOuterClass {\r\n    \tclass TestInnerChild{\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tSerializable annoymousTest = new Serializable() {\r\n    \t};\r\n    }\r\n\r\nFor the above code, the classes that will be generated are:\r\n\r\n 1. `TestInnerOuterClass.class`\r\n 2. `TestInnerOuterClass$TestInnerChild.class`\r\n 3. `TestInnerOuterCasss$1.class`","title":"Why do I have so many CLASS files in bin folder?","body":"<p>Inner classes if any present in your class will be compiled and the class file will be <code>ClassName$InnerClassName</code>. In the case of Anonymous inner classes, it will appear as numbers.</p>\n<p><strong>Example:</strong></p>\n<pre><code>public class TestInnerOuterClass {\n    class TestInnerChild{\n        \n    }\n    \n    Serializable annoymousTest = new Serializable() {\n    };\n}\n</code></pre>\n<p>For the above code, the classes that will be generated are:</p>\n<ol>\n<li><code>TestInnerOuterClass.class</code></li>\n<li><code>TestInnerOuterClass$TestInnerChild.class</code></li>\n<li><code>TestInnerOuterCasss$1.class</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1370194444,"creation_date":1370194444,"answer_id":16885423,"question_id":16885390,"body_markdown":"These class files correspond to anonymous inner classes that you use in the program.\r\n\r\nHere&#39;s an example of an event handler that will be compiled into .class file of its own:\r\n\r\n    button.addActionLister(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e) { .... }\r\n    });","title":"Why do I have so many CLASS files in bin folder?","body":"<p>These class files correspond to anonymous inner classes that you use in the program.</p>\n\n<p>Here's an example of an event handler that will be compiled into .class file of its own:</p>\n\n<pre><code>button.addActionLister(new ActionListener() {\n    public void actionPerformed(ActionEvent e) { .... }\n});\n</code></pre>\n"}],"owner":{"account_id":1083042,"reputation":3291,"user_id":1079484,"accept_rate":37,"display_name":"MichalB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2021,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":16885407,"answer_count":3,"score":4,"last_activity_date":1658914584,"creation_date":1370194208,"question_id":16885390,"body_markdown":"I have a Java project operated in Eclipse with the main executable file called `GreatPlaces.java`. In my `/bin` folder, I would assume to have just one CLASS file called `GreatPlaces.class`. However, I have couple of them, except for `GreatPlaces.class` I have also `GreatPlaces$1.class`, `GreatPlaces$2.class` ... `GreatPlaces$22.class`. Can anyone explain me this? Thanks.","title":"Why do I have so many CLASS files in bin folder?","body":"<p>I have a Java project operated in Eclipse with the main executable file called <code>GreatPlaces.java</code>. In my <code>/bin</code> folder, I would assume to have just one CLASS file called <code>GreatPlaces.class</code>. However, I have couple of them, except for <code>GreatPlaces.class</code> I have also <code>GreatPlaces$1.class</code>, <code>GreatPlaces$2.class</code> ... <code>GreatPlaces$22.class</code>. Can anyone explain me this? Thanks.</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":25895862,"reputation":31,"user_id":19622428,"display_name":"Eric Lingamfelter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658899770,"creation_date":1658899770,"answer_id":73132648,"question_id":73131312,"body_markdown":"I do not believe there are plans for Lombok to implement this:\r\n\r\nhttps://github.com/projectlombok/lombok/issues/3002","title":"@RequiredArgsConstructor does not recognize inherited fields","body":"<p>I do not believe there are plans for Lombok to implement this:</p>\n<p><a href=\"https://github.com/projectlombok/lombok/issues/3002\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok/issues/3002</a></p>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658914551,"creation_date":1658914551,"answer_id":73135545,"question_id":73131312,"body_markdown":"That&#39;s not possible with lombok at the moment. To do so, lombok would have to resolve the parent class, which is not possible at the time when lombok is invoked by the compiler.\r\n\r\nAs a workaround, you could use `@SuperBuilder` (on all classes in your hierarchy) and use that to construct your instances. A `@SuperBuilder` also contains setter methods for all fields from superclasses.","title":"@RequiredArgsConstructor does not recognize inherited fields","body":"<p>That's not possible with lombok at the moment. To do so, lombok would have to resolve the parent class, which is not possible at the time when lombok is invoked by the compiler.</p>\n<p>As a workaround, you could use <code>@SuperBuilder</code> (on all classes in your hierarchy) and use that to construct your instances. A <code>@SuperBuilder</code> also contains setter methods for all fields from superclasses.</p>\n"}],"owner":{"account_id":4510905,"reputation":83,"user_id":3667047,"display_name":"segfault"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658914551,"creation_date":1658884925,"question_id":73131312,"body_markdown":"In the following example:\r\n\r\n    @RequiredArgsConstructor\r\n    class Child extends Parent {\r\n    }\r\n    \r\n    abstract class Parent {\r\n        @NonNull int field;\r\n    }\r\n\r\nThe Lombok annotation @RequiredArgsConstructor does not recognize the field &quot;field&quot; as part of the Child class, thus not adding it to the generated constructor. Here&#39;s the Delombok output for the Child class:\r\n\r\n    class Child extends Parent {\r\n        public Child() {\r\n        }\r\n    }\r\n\r\nIs there any workaround to fix this without scrapping Lombok altogether?","title":"@RequiredArgsConstructor does not recognize inherited fields","body":"<p>In the following example:</p>\n<pre><code>@RequiredArgsConstructor\nclass Child extends Parent {\n}\n\nabstract class Parent {\n    @NonNull int field;\n}\n</code></pre>\n<p>The Lombok annotation @RequiredArgsConstructor does not recognize the field &quot;field&quot; as part of the Child class, thus not adding it to the generated constructor. Here's the Delombok output for the Child class:</p>\n<pre><code>class Child extends Parent {\n    public Child() {\n    }\n}\n</code></pre>\n<p>Is there any workaround to fix this without scrapping Lombok altogether?</p>\n"},{"tags":["java","maven","gwt","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1658845815,"post_id":73125068,"comment_id":129150101,"body_markdown":"Please do not post images..post the text..furthermore much more details...which Maven version do you use? A good reason why not using most recent version https://maven.apache.org/plugins/maven-war-plugin/ ???","body":"Please do not post images..post the text..furthermore much more details...which Maven version do you use? A good reason why not using most recent version <a href=\"https://maven.apache.org/plugins/maven-war-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-war-plugin</a> ???"},{"owner":{"account_id":23730049,"reputation":11,"user_id":17749429,"display_name":""},"score":0,"creation_date":1658927848,"post_id":73125068,"comment_id":129173485,"body_markdown":"@khmarbaise maven version is 3.8.6. I can&#39;t choose a version higher than 3.0.0 for this plugin.","body":"@khmarbaise maven version is 3.8.6. I can&#39;t choose a version higher than 3.0.0 for this plugin."}],"owner":{"account_id":23730049,"reputation":11,"user_id":17749429,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658914358,"creation_date":1658845145,"question_id":73125068,"body_markdown":"Has anyone encountered an error \r\n`Error injecting: org.apache.maven.plugin.war.WarMojo`?\r\nI know that there is a topic about this error, but I have already tried all the ways and solutions, but nothing comes out. Please tell me how to compile a GWT project for IntelliJ IDEA.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rPP5j.jpg","title":"Another one question about this - Error injecting: org.apache.maven.plugin.war.WarMojo","body":"<p>Has anyone encountered an error\n<code>Error injecting: org.apache.maven.plugin.war.WarMojo</code>?\nI know that there is a topic about this error, but I have already tried all the ways and solutions, but nothing comes out. Please tell me how to compile a GWT project for IntelliJ IDEA.</p>\n<p><a href=\"https://i.stack.imgur.com/rPP5j.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rPP5j.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","kubernetes","environment-variables","openshift"],"comments":[{"owner":{"account_id":51211,"reputation":3143,"user_id":152984,"accept_rate":52,"display_name":"CuriousMind"},"score":0,"creation_date":1658842104,"post_id":73121365,"comment_id":129148404,"body_markdown":"It may sound silly, but did you check the spacing in YAML file? `valueFrom` and `name` should be on the same indentation level.","body":"It may sound silly, but did you check the spacing in YAML file? <code>valueFrom</code> and <code>name</code> should be on the same indentation level."},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1658842622,"post_id":73121365,"comment_id":129148651,"body_markdown":"Yes, it was just an error when pasting. It&#39;s OK in the yaml.","body":"Yes, it was just an error when pasting. It&#39;s OK in the yaml."},{"owner":{"account_id":51211,"reputation":3143,"user_id":152984,"accept_rate":52,"display_name":"CuriousMind"},"score":0,"creation_date":1658842990,"post_id":73121365,"comment_id":129148834,"body_markdown":"Can you specify, how did you create secret along with sample command and config?","body":"Can you specify, how did you create secret along with sample command and config?"},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1658843082,"post_id":73121365,"comment_id":129148875,"body_markdown":"It was created by someone else and mounted in a volume, but now I need to access it.","body":"It was created by someone else and mounted in a volume, but now I need to access it."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1658915940,"post_id":73121365,"comment_id":129168576,"body_markdown":"Check you Chelm configuration. Spring reads environment variable, so Chelm  must convert you secret into environment variable inside the container first. Seems like you have a secret, but no environment variable.","body":"Check you Chelm configuration. Spring reads environment variable, so Chelm  must convert you secret into environment variable inside the container first. Seems like you have a secret, but no environment variable."},{"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"score":0,"creation_date":1658916358,"post_id":73121365,"comment_id":129168754,"body_markdown":"Sorry, but what is Chelm?","body":"Sorry, but what is Chelm?"}],"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658914083,"creation_date":1658829528,"question_id":73121365,"body_markdown":"I&#39;ve set an env variable in openshift that I need to be read from my project in Spring:\r\n\r\nThe env variable is set like this in the yaml file:\r\n\r\n         env:\r\n           - name: PRIVATE_KEY\r\n             valueFrom:\r\n               secretKeyRef:\r\n                 name: jwt-signing-keys\r\n                 key: private-key\r\n\r\nOn the other hand I&#39;ve set up the same in my application.properties file as follows:\r\n\r\n    example.private-key=${PRIVATE_KEY}\r\n\r\nLast but not least, the code to read this key is:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class JwtKeyProvider {\r\n    \r\n        private final ResourceUtil resourceUtil;\r\n        private final Base64Util base64Util;\r\n    \r\n        @Value(&quot;${example.private-key}&quot;)\r\n        private String key;\r\n    \r\n        @Getter\r\n        private PrivateKey privateKey;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            privateKey = readKey(\r\n                     key,\r\n                    &quot;PRIVATE&quot;,\r\n                    this::privateKeySpec,\r\n                    this::privateKeyGenerator\r\n            );\r\n        }\r\n    \r\n        private &lt;T extends Key&gt; T readKey(String resourcePath, String headerSpec, Function&lt;String, EncodedKeySpec&gt; keySpec, BiFunction&lt;KeyFactory, EncodedKeySpec, T&gt; keyGenerator) {\r\n            try {\r\n                String keyString = resourceUtil.asString(resourcePath);\r\n                //TODO you can check the headers and throw an exception here if you want\r\n    \r\n                keyString = keyString\r\n                        .replace(&quot;-----BEGIN &quot; + headerSpec + &quot; KEY-----&quot;, &quot;&quot;)\r\n                        .replace(&quot;-----END &quot; + headerSpec + &quot; KEY-----&quot;, &quot;&quot;)\r\n                        .replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    \r\n                return keyGenerator.apply(KeyFactory.getInstance(&quot;RSA&quot;), keySpec.apply(keyString));\r\n            } catch(NoSuchAlgorithmException | IOException e) {\r\n                throw new JwtInitializationException(e);\r\n            }\r\n        }\r\n    \r\n        private EncodedKeySpec privateKeySpec(String data) {\r\n            return new PKCS8EncodedKeySpec(base64Util.decode(data));\r\n        }\r\n    \r\n        private PrivateKey privateKeyGenerator(KeyFactory kf, EncodedKeySpec spec) {\r\n            try {\r\n                return kf.generatePrivate(spec);\r\n            } catch(InvalidKeySpecException e) {\r\n                throw new JwtInitializationException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nI don&#39;t see any issue but for some reason this it&#39;s not working. I know the code works because the PK was read from the resource folder but now that I&#39;ve set this as an env variable I don&#39;t know whay it&#39;s not working.\r\n\r\nAny idea??\r\n\r\n**UPDATE:**\r\nThe private key I want to access was mounted in a volume like this, so at the end all I want is to access from my code in spring to that Data private key field.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8BJxH.png\r\n\r\n**UPDATE 2:**\r\nWhen running my app I get this error message:\r\n\r\n    java.lang.IllegalArgumentException: Could not resolve placeholder &#39;PRIVATE_KEY&#39; in value &quot;${PRIVATE_KEY}&quot;\r\n\r\nI don&#39;t think my error is in the code actually but maybe in the kubernetes configuration. Should I add something else?","title":"Reading secrets from kubernetes in Spring","body":"<p>I've set an env variable in openshift that I need to be read from my project in Spring:</p>\n<p>The env variable is set like this in the yaml file:</p>\n<pre><code>     env:\n       - name: PRIVATE_KEY\n         valueFrom:\n           secretKeyRef:\n             name: jwt-signing-keys\n             key: private-key\n</code></pre>\n<p>On the other hand I've set up the same in my application.properties file as follows:</p>\n<pre><code>example.private-key=${PRIVATE_KEY}\n</code></pre>\n<p>Last but not least, the code to read this key is:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class JwtKeyProvider {\n\n    private final ResourceUtil resourceUtil;\n    private final Base64Util base64Util;\n\n    @Value(&quot;${example.private-key}&quot;)\n    private String key;\n\n    @Getter\n    private PrivateKey privateKey;\n\n    @PostConstruct\n    public void init() {\n        privateKey = readKey(\n                 key,\n                &quot;PRIVATE&quot;,\n                this::privateKeySpec,\n                this::privateKeyGenerator\n        );\n    }\n\n    private &lt;T extends Key&gt; T readKey(String resourcePath, String headerSpec, Function&lt;String, EncodedKeySpec&gt; keySpec, BiFunction&lt;KeyFactory, EncodedKeySpec, T&gt; keyGenerator) {\n        try {\n            String keyString = resourceUtil.asString(resourcePath);\n            //TODO you can check the headers and throw an exception here if you want\n\n            keyString = keyString\n                    .replace(&quot;-----BEGIN &quot; + headerSpec + &quot; KEY-----&quot;, &quot;&quot;)\n                    .replace(&quot;-----END &quot; + headerSpec + &quot; KEY-----&quot;, &quot;&quot;)\n                    .replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n\n            return keyGenerator.apply(KeyFactory.getInstance(&quot;RSA&quot;), keySpec.apply(keyString));\n        } catch(NoSuchAlgorithmException | IOException e) {\n            throw new JwtInitializationException(e);\n        }\n    }\n\n    private EncodedKeySpec privateKeySpec(String data) {\n        return new PKCS8EncodedKeySpec(base64Util.decode(data));\n    }\n\n    private PrivateKey privateKeyGenerator(KeyFactory kf, EncodedKeySpec spec) {\n        try {\n            return kf.generatePrivate(spec);\n        } catch(InvalidKeySpecException e) {\n            throw new JwtInitializationException(e);\n        }\n    }\n}\n</code></pre>\n<p>I don't see any issue but for some reason this it's not working. I know the code works because the PK was read from the resource folder but now that I've set this as an env variable I don't know whay it's not working.</p>\n<p>Any idea??</p>\n<p><strong>UPDATE:</strong>\nThe private key I want to access was mounted in a volume like this, so at the end all I want is to access from my code in spring to that Data private key field.</p>\n<p><a href=\"https://i.stack.imgur.com/8BJxH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BJxH.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>UPDATE 2:</strong>\nWhen running my app I get this error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not resolve placeholder 'PRIVATE_KEY' in value &quot;${PRIVATE_KEY}&quot;\n</code></pre>\n<p>I don't think my error is in the code actually but maybe in the kubernetes configuration. Should I add something else?</p>\n"},{"tags":["java","circular-dependency"],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1410147264,"creation_date":1308598665,"answer_id":6416481,"question_id":6416408,"body_markdown":"Here is what happens in chronological order:\r\n\r\n1. Class `B` contains the main-method so it is loaded by the class loader.\r\n\r\n1. Initialization of `B` references `A`, so class `A` is loaded.\r\n\r\n1. `A` has a static variable `X` initialized to `B.Y + 1`.\r\n \r\n The initialization of `B.Y` hasn&#39;t been executed yet, so `B.Y` evaluates to 0, and thus 1 is assigned to `A.X`\r\n\r\n1. Now `A` has finished loading, and the initialization of `B.Y` can take place.\r\n\r\n The value of `A.X + 1` (1 + 1) is assigned to `B.Y`.\r\n\r\n1. The values of `A.X` and `B.Y` are printed as `1` and `2` respectively.\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n\r\n###Further reading:\r\n\r\n[Java Language Specification, &#167;12.4.1 When Initialization Occurs](http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.1)","title":"Static Circular Dependency in Java","body":"<p>Here is what happens in chronological order:</p>\n\n<ol>\n<li><p>Class <code>B</code> contains the main-method so it is loaded by the class loader.</p></li>\n<li><p>Initialization of <code>B</code> references <code>A</code>, so class <code>A</code> is loaded.</p></li>\n<li><p><code>A</code> has a static variable <code>X</code> initialized to <code>B.Y + 1</code>.</p>\n\n<p>The initialization of <code>B.Y</code> hasn't been executed yet, so <code>B.Y</code> evaluates to 0, and thus 1 is assigned to <code>A.X</code></p></li>\n<li><p>Now <code>A</code> has finished loading, and the initialization of <code>B.Y</code> can take place.</p>\n\n<p>The value of <code>A.X + 1</code> (1 + 1) is assigned to <code>B.Y</code>.</p></li>\n<li><p>The values of <code>A.X</code> and <code>B.Y</code> are printed as <code>1</code> and <code>2</code> respectively.\n<br/>\n<br/></p></li>\n</ol>\n\n<h3>Further reading:</h3>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.1\" rel=\"noreferrer\">Java Language Specification, 12.4.1 When Initialization Occurs</a></p>\n"},{"tags":[],"owner":{"account_id":6832,"reputation":6763,"user_id":11614,"accept_rate":67,"display_name":"Nrj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308598747,"creation_date":1308598747,"answer_id":6416498,"question_id":6416408,"body_markdown":"B being public starts to load itself.\r\n\r\nSees A.X = B.Y +1 == which is 0 to start with  (default int object value) hence 1;\r\n\r\n\r\ninitializes B = 1 + 1 = 2;\r\n\r\nhence the answer.\r\n\r\n","title":"Static Circular Dependency in Java","body":"<p>B being public starts to load itself.</p>\n\n<p>Sees A.X = B.Y +1 == which is 0 to start with  (default int object value) hence 1;</p>\n\n<p>initializes B = 1 + 1 = 2;</p>\n\n<p>hence the answer.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308598853,"creation_date":1308598853,"answer_id":6416518,"question_id":6416408,"body_markdown":"This is only my guess:\r\n\r\n1. Class `B` is loaded because it contains `main` which you have requested to be executed.\r\n2. Class loader discovers that `B` requires `A` to operate (it *uses* `A` by accessing its static field)\r\n3. Class `B` is loaded.\r\n4. Class `A` requires class `B` which happens to be already loaded, but not yet initialized\r\n5. `A` carelessly loads `B.Y` (initialized to 0 by that time by default), since the class looks like loaded (language design flaw?)\r\n6. `A.X = 0 + 1`\r\n7. `A` is now loaded, class loader can continue to load and initialize `B` \r\n8. `B.Y = 1 + 1`.","title":"Static Circular Dependency in Java","body":"<p>This is only my guess:</p>\n\n<ol>\n<li>Class <code>B</code> is loaded because it contains <code>main</code> which you have requested to be executed.</li>\n<li>Class loader discovers that <code>B</code> requires <code>A</code> to operate (it <em>uses</em> <code>A</code> by accessing its static field)</li>\n<li>Class <code>B</code> is loaded.</li>\n<li>Class <code>A</code> requires class <code>B</code> which happens to be already loaded, but not yet initialized</li>\n<li><code>A</code> carelessly loads <code>B.Y</code> (initialized to 0 by that time by default), since the class looks like loaded (language design flaw?)</li>\n<li><code>A.X = 0 + 1</code></li>\n<li><code>A</code> is now loaded, class loader can continue to load and initialize <code>B</code> </li>\n<li><code>B.Y = 1 + 1</code>.</li>\n</ol>\n"}],"owner":{"account_id":97802,"reputation":8416,"user_id":265107,"accept_rate":97,"display_name":"topgun_ivard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4803,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":6416481,"answer_count":3,"score":17,"last_activity_date":1658913918,"creation_date":1308598335,"question_id":6416408,"body_markdown":"for the following code:\r\n\r\n    class A\r\n    {\r\n        public static int X;\r\n        static { X = B.Y + 1;}\r\n    }\r\n    public class B\r\n    {\r\n        public static int Y = A.X + 1;\r\n        static {}\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;X = &quot;+A.X+&quot;, Y = &quot;+B.Y);\r\n        }\r\n    }\r\n\r\nthe output is:\r\n\r\n   X = 1, Y = 2\r\n\r\nWhy? And How?\r\n\r\nP.S: Code snippet taken from [JavaCamp.org][1]\r\n\r\n\r\n  [1]: http://www.javacamp.org/javavscsharp/constructor.html","title":"Static Circular Dependency in Java","body":"<p>for the following code:</p>\n<pre><code>class A\n{\n    public static int X;\n    static { X = B.Y + 1;}\n}\npublic class B\n{\n    public static int Y = A.X + 1;\n    static {}\n    public static void main(String[] args) {\n        System.out.println(&quot;X = &quot;+A.X+&quot;, Y = &quot;+B.Y);\n    }\n}\n</code></pre>\n<p>the output is:</p>\n<p>X = 1, Y = 2</p>\n<p>Why? And How?</p>\n<p>P.S: Code snippet taken from <a href=\"http://www.javacamp.org/javavscsharp/constructor.html\" rel=\"nofollow noreferrer\">JavaCamp.org</a></p>\n"},{"tags":["java","cassandra","apache-flink","cassandra-3.0"],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8270,"user_id":231762,"display_name":"kkrugler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1573400076,"creation_date":1573400076,"answer_id":58790140,"question_id":58779124,"body_markdown":"To implement your own insert-vs-delete logic, create a sink that extends `CassandraSinkBase`, and implement the `send()` method. See `AbstractCassandraTupleSink` as an example of doing this. Note how `CassandraSinkBase` avoids serialization issues with the Cassandra client by making it transient, and creating it in the `open()` call.","title":"How can I delete a row in Cassandra using Apache Flink?","body":"<p>To implement your own insert-vs-delete logic, create a sink that extends <code>CassandraSinkBase</code>, and implement the <code>send()</code> method. See <code>AbstractCassandraTupleSink</code> as an example of doing this. Note how <code>CassandraSinkBase</code> avoids serialization issues with the Cassandra client by making it transient, and creating it in the <code>open()</code> call.</p>\n"},{"tags":[],"owner":{"account_id":12471331,"reputation":23,"user_id":9079336,"display_name":"jimstaffer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584869741,"creation_date":1584869741,"answer_id":60797766,"question_id":58779124,"body_markdown":"I found a solution, but I don&#39;t like it. CassandraPojoInputFormat can be used to both DELETE and UPDATE rows. (I also use it for SELECT, which - the name implies - seems like what it was meant to be used for.)\r\n\r\nThe fact that it works is, IMHO, it&#39;s sole redeeming virtue. I&#39;m stuck using this until I find an elegant solution. I&#39;m still looking...\r\n\r\n    CassandraPojoInputFormat&lt;MyThingyConnector&gt; myThingyCassandraPojoInputFormat =\r\n    new CassandraPojoInputFormat&lt;MyThingyConnector&gt;(\r\n    &quot;DELETE FROM &quot; + dbKeyspace + &quot;.&lt;table_name&gt; &lt;where clause&gt;&quot;,\r\n    clusterBuilder,\r\n    MyThingyConnector.class);\r\n    \r\n    myThingyCassandraPojoInputFormat.configure(null);\r\n    myThingyCassandraPojoInputFormat.open(cassandraInputSplit);\r\n    myThingyCassandraPojoInputFormat.close();\r\n\r\n\r\n","title":"How can I delete a row in Cassandra using Apache Flink?","body":"<p>I found a solution, but I don't like it. CassandraPojoInputFormat can be used to both DELETE and UPDATE rows. (I also use it for SELECT, which - the name implies - seems like what it was meant to be used for.)</p>\n\n<p>The fact that it works is, IMHO, it's sole redeeming virtue. I'm stuck using this until I find an elegant solution. I'm still looking...</p>\n\n<pre><code>CassandraPojoInputFormat&lt;MyThingyConnector&gt; myThingyCassandraPojoInputFormat =\nnew CassandraPojoInputFormat&lt;MyThingyConnector&gt;(\n\"DELETE FROM \" + dbKeyspace + \".&lt;table_name&gt; &lt;where clause&gt;\",\nclusterBuilder,\nMyThingyConnector.class);\n\nmyThingyCassandraPojoInputFormat.configure(null);\nmyThingyCassandraPojoInputFormat.open(cassandraInputSplit);\nmyThingyCassandraPojoInputFormat.close();\n</code></pre>\n"}],"owner":{"account_id":4474630,"reputation":75,"user_id":3640028,"display_name":"user3640028"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58790140,"answer_count":2,"score":0,"last_activity_date":1658913507,"creation_date":1573301292,"question_id":58779124,"body_markdown":"In Apache Flink it is easy via `CassandraSink` to insert a row into Cassandra. But I could not find a way to delete a row.\r\n\r\nI also tried to write custom sink but I got `NotSerializableException`.\r\nHow can I construct a code for delete operation? \r\n\r\n```Java\r\npublic class MyCassandraSink implements SinkFunction&lt;String&gt; {\r\n\r\n    private Cluster cluster = Cluster.builder()\r\n            .addContactPoint(&quot;127.0.0.1&quot;)\r\n            .build();\r\n\r\n    private Session cassandra = cluster.connect(&quot;mykeyspace&quot;);\r\n\r\n    @Override\r\n    public void invoke(String value, Context context) throws Exception {\r\n        cassandra.execute(&quot;SOME DELETE QUERY&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.flink.api.common.InvalidProgramException: [com.datastax.driver.core.SessionManager@3b0fe47a] is not serializable. The object probably contains or references non serializable fields.\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:151)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:126)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:126)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:126)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:126)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:71)\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.clean(StreamExecutionEnvironment.java:1574)\r\n\tat org.apache.flink.streaming.api.datastream.DataStream.clean(DataStream.java:185)\r\n\tat org.apache.flink.streaming.api.datastream.DataStream.addSink(DataStream.java:1227)\r\n\tat com.meshkan.streaming.entry.EventListener.main(EventListener.java:42)\r\nCaused by: java.io.NotSerializableException: com.datastax.driver.core.SessionManager\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat java.util.concurrent.CopyOnWriteArrayList.writeObject(CopyOnWriteArrayList.java:973)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1140)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:586)\r\n\tat org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:133)\r\n\t... 9 more\r\n```","title":"How can I delete a row in Cassandra using Apache Flink?","body":"<p>In Apache Flink it is easy via <code>CassandraSink</code> to insert a row into Cassandra. But I could not find a way to delete a row.</p>\n\n<p>I also tried to write custom sink but I got <code>NotSerializableException</code>.\nHow can I construct a code for delete operation? </p>\n\n<pre><code>public class MyCassandraSink implements SinkFunction&lt;String&gt; {\n\n    private Cluster cluster = Cluster.builder()\n            .addContactPoint(\"127.0.0.1\")\n            .build();\n\n    private Session cassandra = cluster.connect(\"mykeyspace\");\n\n    @Override\n    public void invoke(String value, Context context) throws Exception {\n        cassandra.execute(\"SOME DELETE QUERY\");\n    }\n}\n</code></pre>\n\n<pre><code>Exception in thread \"main\" org.apache.flink.api.common.InvalidProgramException: [com.datastax.driver.core.SessionManager@3b0fe47a] is not serializable. The object probably contains or references non serializable fields.\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:151)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:126)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:126)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:126)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:126)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:71)\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.clean(StreamExecutionEnvironment.java:1574)\n    at org.apache.flink.streaming.api.datastream.DataStream.clean(DataStream.java:185)\n    at org.apache.flink.streaming.api.datastream.DataStream.addSink(DataStream.java:1227)\n    at com.meshkan.streaming.entry.EventListener.main(EventListener.java:42)\nCaused by: java.io.NotSerializableException: com.datastax.driver.core.SessionManager\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1184)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n    at java.util.concurrent.CopyOnWriteArrayList.writeObject(CopyOnWriteArrayList.java:973)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:1140)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1496)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n    at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n    at org.apache.flink.util.InstantiationUtil.serializeObject(InstantiationUtil.java:586)\n    at org.apache.flink.api.java.ClosureCleaner.clean(ClosureCleaner.java:133)\n    ... 9 more\n</code></pre>\n"},{"tags":["java","spring-boot","file"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1658911362,"post_id":73134762,"comment_id":129166822,"body_markdown":"Just create a list of the desired fields and pass it to the same method.","body":"Just create a list of the desired fields and pass it to the same method."},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1658911963,"post_id":73134762,"comment_id":129167060,"body_markdown":"`name = obj.getFullName()+&quot;,&quot;+ obj.getId()+&quot;,&quot;+obj.getEmail()\n                +&quot;,&quot;+obj.getPhone()+&quot;,&quot;+obj.getCreated()+&quot;,&quot;+obj.getUpdated()+&quot;\\r\\n&quot;` instead of this just use specific selected fields","body":"<code>name = obj.getFullName()+&quot;,&quot;+ obj.getId()+&quot;,&quot;+obj.getEmail()                 +&quot;,&quot;+obj.getPhone()+&quot;,&quot;+obj.getCreated()+&quot;,&quot;+obj.getUpdated(&zwnj;&#8203;)+&quot;\\r\\n&quot;</code> instead of this just use specific selected fields"}],"answers":[{"tags":[],"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658911992,"creation_date":1658911992,"answer_id":73134938,"question_id":73134762,"body_markdown":"You can make it more generic by adding diff methods in the Customer model.\r\n\r\ni.e \r\n\r\n    class Customer {\r\n        //properties\r\n\r\n      public String getCustomerDetails(String type) {\r\n         switch(type) {\r\n            case &quot;ONE&quot;:\r\n               return obj.getFullName();\r\n            case &quot;TWO&quot;:\r\n               return obj.getFullName()+&quot;,&quot;+ obj.getId();\r\n            case &quot;THREE&quot;:\r\n               return obj.getFullName()+&quot;,&quot;+ obj.getId()+&quot;,&quot;+obj.getEmail();\r\n\r\n            ...\r\n            default:\r\n            ...   \r\n    }\r\n}\r\n\r\nThen you can update your method and pass the type as an argument.\r\n\r\ni.e \r\n\r\n    public  void makeSCV(List&lt;String&gt; fields, String type){\r\n            String name = &quot;&quot;;\r\n            String FILE_NAME= &quot;C:\\\\Users\\\\Admin\\\\Documents\\\\files.csv&quot;;\r\n            try {\r\n              PrintWriter pw= new PrintWriter(new File(FILE_NAME));\r\n              StringBuilder sb=new StringBuilder();\r\n              List&lt;Customer&gt; list = customerRepository.findAll();\r\n              for(Customer obj : list){\r\n                sb.append(obj.getCustomerDetails(type));\r\n              }\r\n              pw.write(sb.toString());\r\n              pw.close();\r\n            } catch (Exception e) {\r\n              // TODO: handle exception\r\n            }\r\n        \r\n          }","title":"I need a method that returns only one or several list object fields","body":"<p>You can make it more generic by adding diff methods in the Customer model.</p>\n<p>i.e</p>\n<pre><code>class Customer {\n    //properties\n\n  public String getCustomerDetails(String type) {\n     switch(type) {\n        case &quot;ONE&quot;:\n           return obj.getFullName();\n        case &quot;TWO&quot;:\n           return obj.getFullName()+&quot;,&quot;+ obj.getId();\n        case &quot;THREE&quot;:\n           return obj.getFullName()+&quot;,&quot;+ obj.getId()+&quot;,&quot;+obj.getEmail();\n\n        ...\n        default:\n        ...   \n}\n</code></pre>\n<p>}</p>\n<p>Then you can update your method and pass the type as an argument.</p>\n<p>i.e</p>\n<pre><code>public  void makeSCV(List&lt;String&gt; fields, String type){\n        String name = &quot;&quot;;\n        String FILE_NAME= &quot;C:\\\\Users\\\\Admin\\\\Documents\\\\files.csv&quot;;\n        try {\n          PrintWriter pw= new PrintWriter(new File(FILE_NAME));\n          StringBuilder sb=new StringBuilder();\n          List&lt;Customer&gt; list = customerRepository.findAll();\n          for(Customer obj : list){\n            sb.append(obj.getCustomerDetails(type));\n          }\n          pw.write(sb.toString());\n          pw.close();\n        } catch (Exception e) {\n          // TODO: handle exception\n        }\n    \n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658913149,"creation_date":1658912725,"answer_id":73135107,"question_id":73134762,"body_markdown":"You can use Reflection for this. This way, there is no hard-coded behavior, so you can add fields and change the order at any time without changing the code, even at runtime!\r\n\r\n~~~\r\npublic static void makeSCV(List&lt;String&gt; fields, List&lt;Customer&gt; customers) throws IOException {\r\n    // Get desired fields via reflection\r\n    var outPutFields = Arrays.stream(Customer.class.getDeclaredFields())\r\n            .filter(o1 -&gt; fields.contains(o1.getName())) // Only specified fields\r\n            .sorted(Comparator.comparingInt(o -&gt; fields.indexOf(o.getName()))) // Order like specified\r\n            .peek(field -&gt; field.setAccessible(true)) // For private fields\r\n            .collect(Collectors.toList());\r\n\r\n    var csvString = customers.stream()\r\n            .map(customer -&gt; outPutFields.stream()\r\n                    .map(field -&gt; {\r\n                        try {\r\n                            return field.get(customer).toString(); // get value of field for given object\r\n                        } catch (IllegalAccessException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    })\r\n                    .collect(Collectors.toList())\r\n                    .toArray(new String[]{})\r\n            )\r\n            .map(objects -&gt; String.join(&quot;,&quot;, objects)) // single csv line\r\n            .collect(Collectors.joining(&quot;\\r\\n&quot;)); /// join csv lines\r\n\r\n    // Write to file\r\n    Files.write(Path.of(&quot;/path/to/outputFile.csv&quot;), csvString.getBytes(StandardCharsets.UTF_8));\r\n}\r\n~~~","title":"I need a method that returns only one or several list object fields","body":"<p>You can use Reflection for this. This way, there is no hard-coded behavior, so you can add fields and change the order at any time without changing the code, even at runtime!</p>\n<pre><code>public static void makeSCV(List&lt;String&gt; fields, List&lt;Customer&gt; customers) throws IOException {\n    // Get desired fields via reflection\n    var outPutFields = Arrays.stream(Customer.class.getDeclaredFields())\n            .filter(o1 -&gt; fields.contains(o1.getName())) // Only specified fields\n            .sorted(Comparator.comparingInt(o -&gt; fields.indexOf(o.getName()))) // Order like specified\n            .peek(field -&gt; field.setAccessible(true)) // For private fields\n            .collect(Collectors.toList());\n\n    var csvString = customers.stream()\n            .map(customer -&gt; outPutFields.stream()\n                    .map(field -&gt; {\n                        try {\n                            return field.get(customer).toString(); // get value of field for given object\n                        } catch (IllegalAccessException e) {\n                            throw new RuntimeException(e);\n                        }\n                    })\n                    .collect(Collectors.toList())\n                    .toArray(new String[]{})\n            )\n            .map(objects -&gt; String.join(&quot;,&quot;, objects)) // single csv line\n            .collect(Collectors.joining(&quot;\\r\\n&quot;)); /// join csv lines\n\n    // Write to file\n    Files.write(Path.of(&quot;/path/to/outputFile.csv&quot;), csvString.getBytes(StandardCharsets.UTF_8));\n}\n</code></pre>\n"}],"owner":{"account_id":24253099,"reputation":13,"user_id":19631112,"display_name":"Loki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73135107,"answer_count":2,"score":1,"last_activity_date":1658913149,"creation_date":1658911160,"question_id":73134762,"body_markdown":"I have a method that writes an object to a file for all fields, I need a method that writes only selected fields to a file\r\n    \r\n    public  void makeSCV(List&lt;String&gt; fields){\r\n            String name = &quot;&quot;;\r\n            String FILE_NAME= &quot;C:\\\\Users\\\\Admin\\\\Documents\\\\files.csv&quot;;\r\n            try {\r\n              PrintWriter pw= new PrintWriter(new File(FILE_NAME));\r\n              StringBuilder sb=new StringBuilder();\r\n              List&lt;Customer&gt; list = customerRepository.findAll();\r\n              for(Customer obj : list){\r\n                name = obj.getFullName()+&quot;,&quot;+ obj.getId()+&quot;,&quot;+obj.getEmail()\r\n                    +&quot;,&quot;+obj.getPhone()+&quot;,&quot;+obj.getCreated()+&quot;,&quot;+obj.getUpdated()+&quot;\\r\\n&quot;;\r\n                sb.append(name);\r\n              }\r\n              pw.write(sb.toString());\r\n              pw.close();\r\n            } catch (Exception e) {\r\n              // TODO: handle exception\r\n            }\r\n        \r\n          }","title":"I need a method that returns only one or several list object fields","body":"<p>I have a method that writes an object to a file for all fields, I need a method that writes only selected fields to a file</p>\n<pre><code>public  void makeSCV(List&lt;String&gt; fields){\n        String name = &quot;&quot;;\n        String FILE_NAME= &quot;C:\\\\Users\\\\Admin\\\\Documents\\\\files.csv&quot;;\n        try {\n          PrintWriter pw= new PrintWriter(new File(FILE_NAME));\n          StringBuilder sb=new StringBuilder();\n          List&lt;Customer&gt; list = customerRepository.findAll();\n          for(Customer obj : list){\n            name = obj.getFullName()+&quot;,&quot;+ obj.getId()+&quot;,&quot;+obj.getEmail()\n                +&quot;,&quot;+obj.getPhone()+&quot;,&quot;+obj.getCreated()+&quot;,&quot;+obj.getUpdated()+&quot;\\r\\n&quot;;\n            sb.append(name);\n          }\n          pw.write(sb.toString());\n          pw.close();\n        } catch (Exception e) {\n          // TODO: handle exception\n        }\n    \n      }\n</code></pre>\n"},{"tags":["java","quarkus","quarkus-reactive"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658913111,"creation_date":1658913111,"answer_id":73135200,"question_id":73134949,"body_markdown":"You can easily do something like:\r\n\r\n    public class Fruit {\r\n    \r\n        public final String name;\r\n        public final String description;\r\n    \r\n        public Fruit(String name, String description) {\r\n            this.name = name;\r\n            this.description = description;\r\n        }\r\n    }\r\n\r\n    @Path(&quot;/fruits&quot;)\r\n    public class FruitResource {\r\n    \r\n        private final Set&lt;Fruit&gt; fruits = Set.of(new Fruit(&quot;Apple&quot;, &quot;Winter fruit&quot;), new Fruit(&quot;Pineapple&quot;, &quot;Tropical fruit&quot;));\r\n    \r\n        @GET\r\n        public Uni&lt;Set&lt;Fruit&gt;&gt; list() {\r\n            return Uni.createFrom().item(fruits);\r\n        }\r\n    }\r\n\r\nwhere all you are doing is returning a `Set` of `Fruit` objects via a `Uni` - no database or anything","title":"Mutiny Quarkus : Can you use Mutiny reactive programming in ArrayLists?","body":"<p>You can easily do something like:</p>\n<pre><code>public class Fruit {\n\n    public final String name;\n    public final String description;\n\n    public Fruit(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n}\n\n@Path(&quot;/fruits&quot;)\npublic class FruitResource {\n\n    private final Set&lt;Fruit&gt; fruits = Set.of(new Fruit(&quot;Apple&quot;, &quot;Winter fruit&quot;), new Fruit(&quot;Pineapple&quot;, &quot;Tropical fruit&quot;));\n\n    @GET\n    public Uni&lt;Set&lt;Fruit&gt;&gt; list() {\n        return Uni.createFrom().item(fruits);\n    }\n}\n</code></pre>\n<p>where all you are doing is returning a <code>Set</code> of <code>Fruit</code> objects via a <code>Uni</code> - no database or anything</p>\n"}],"owner":{"account_id":15011970,"reputation":49,"user_id":10836173,"display_name":"Xlorokoptiko Gia Gkazon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73135200,"answer_count":1,"score":0,"last_activity_date":1658913111,"creation_date":1658912037,"question_id":73134949,"body_markdown":"I&#39;m trying to learn Reactive programming in quarkus and run into a problem. I want to make a simple employee system without any database, just the ArrayList with the Employees but in every article  and video tutorial i watched and read , there were all using Databases.Is there a way to use Mutli and Uni in just an ArrayList and Is it worth it at all?  \r\nThanks for your time","title":"Mutiny Quarkus : Can you use Mutiny reactive programming in ArrayLists?","body":"<p>I'm trying to learn Reactive programming in quarkus and run into a problem. I want to make a simple employee system without any database, just the ArrayList with the Employees but in every article  and video tutorial i watched and read , there were all using Databases.Is there a way to use Mutli and Uni in just an ArrayList and Is it worth it at all?<br />\nThanks for your time</p>\n"},{"tags":["java","android","maven","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1525339846,"creation_date":1525339846,"answer_id":50151581,"question_id":50150716,"body_markdown":"As google recommends to use gradle with AndroidStudio I would suggest to stick with that: https://developer.android.com/studio/build/ Back in the days when Android apps where build in eclipse with a plugin provided by google the build system used was ant. I would think that the build process of Android Apps differs enough from the standard Java build cycle it makes sense to use a tool with more expressive capacity then s maven.","title":"Gradle vs. Maven: Which one is the best option for Android development","body":"<p>As google recommends to use gradle with AndroidStudio I would suggest to stick with that: <a href=\"https://developer.android.com/studio/build/\" rel=\"noreferrer\">https://developer.android.com/studio/build/</a> Back in the days when Android apps where build in eclipse with a plugin provided by google the build system used was ant. I would think that the build process of Android Apps differs enough from the standard Java build cycle it makes sense to use a tool with more expressive capacity then s maven.</p>\n"},{"tags":[],"owner":{"account_id":5557928,"reputation":2328,"user_id":4408619,"display_name":"Azzabi Haythem"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1658913038,"creation_date":1525340986,"answer_id":50151991,"question_id":50150716,"body_markdown":"**Gradle** is a build **automation system** that uses a **domain-specific** language based on the programming language Groovy.\r\n\r\n**Maven** is used for **project build automation** using Java which uses **XML** for its project configuration.\r\n\r\n# Maven vs. Gradle\r\n\r\n**Fundamental differences**:\r\n\r\n - Gradle is based on a graph of task dependenciesin which tasks are the things that do the work.\r\n - Maven is based on a fixed and linear model of phases (clean install package deploy, etc.).\r\n\r\nOther differences include build customization ability, dependency vs. directory structure, integrations and user experience. \r\n\r\n## Customized builds\r\n\r\nIn Maven it&#39;s easy to find dependencies, but harder to customize the build (in a big project the [POM][1] can be unreadable) than in Gradle.\r\n\r\n## Dependency management and directory structure\r\n\r\nMaven uses dependency management and Gradle uses the directory structure. Both are clear and easy to maintain.\r\n\r\n## Plugins and integrations\r\n\r\nThere are more available plugins in Maven Central compared to the number of them available for Gradle.\r\n\r\n## Performance\r\n\r\nGradel is faster (build, test, etc.)\r\n\r\n## User Experience\r\n\r\nMaven&#39;s longer tenure means that its support through IDEs is better for many users.\r\n\r\nSources:\r\n\r\n * [Gradle][2]\r\n\r\n * [Dzone][3]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [2]: https://gradle.org/maven-vs-gradle/\r\n  [3]: https://dzone.com/articles/gradle-vs-maven\r\n","title":"Gradle vs. Maven: Which one is the best option for Android development","body":"<p><strong>Gradle</strong> is a build <strong>automation system</strong> that uses a <strong>domain-specific</strong> language based on the programming language Groovy.</p>\n<p><strong>Maven</strong> is used for <strong>project build automation</strong> using Java which uses <strong>XML</strong> for its project configuration.</p>\n<h1>Maven vs. Gradle</h1>\n<p><strong>Fundamental differences</strong>:</p>\n<ul>\n<li>Gradle is based on a graph of task dependenciesin which tasks are the things that do the work.</li>\n<li>Maven is based on a fixed and linear model of phases (clean install package deploy, etc.).</li>\n</ul>\n<p>Other differences include build customization ability, dependency vs. directory structure, integrations and user experience.</p>\n<h2>Customized builds</h2>\n<p>In Maven it's easy to find dependencies, but harder to customize the build (in a big project the <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> can be unreadable) than in Gradle.</p>\n<h2>Dependency management and directory structure</h2>\n<p>Maven uses dependency management and Gradle uses the directory structure. Both are clear and easy to maintain.</p>\n<h2>Plugins and integrations</h2>\n<p>There are more available plugins in Maven Central compared to the number of them available for Gradle.</p>\n<h2>Performance</h2>\n<p>Gradel is faster (build, test, etc.)</p>\n<h2>User Experience</h2>\n<p>Maven's longer tenure means that its support through IDEs is better for many users.</p>\n<p>Sources:</p>\n<ul>\n<li><p><a href=\"https://gradle.org/maven-vs-gradle/\" rel=\"nofollow noreferrer\">Gradle</a></p>\n</li>\n<li><p><a href=\"https://dzone.com/articles/gradle-vs-maven\" rel=\"nofollow noreferrer\">Dzone</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":9065788,"reputation":1997,"user_id":6750645,"display_name":"Venki WAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9726,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"closed_date":1525366247,"accepted_answer_id":50151991,"answer_count":2,"score":14,"last_activity_date":1658913038,"creation_date":1525337186,"question_id":50150716,"body_markdown":"What are the major differences between Gradle and Apache Maven? Why do they benefit in Android applications?\r\n","title":"Gradle vs. Maven: Which one is the best option for Android development","body":"<p>What are the major differences between Gradle and Apache Maven? Why do they benefit in Android applications?</p>\n"},{"tags":["java","android","sdk","encapsulation"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1415872918,"creation_date":1410175072,"answer_id":25723049,"question_id":25722945,"body_markdown":"In Android SDK, the `@hide` annotation is only used when building the stub version of `android.jar`. At compile-time symbols are imported from this stub jar and only non-hidden symbols are available. At runtime in device or emulator the symbols are there in the platform libraries and they can be seen for example via reflection.\r\n\r\nIf your SDK only consists of a jar file or something similar, there really isn&#39;t a way to hide symbols in it.","title":"Android - how to add @hide annotation in my project","body":"<p>In Android SDK, the <code>@hide</code> annotation is only used when building the stub version of <code>android.jar</code>. At compile-time symbols are imported from this stub jar and only non-hidden symbols are available. At runtime in device or emulator the symbols are there in the platform libraries and they can be seen for example via reflection.</p>\n\n<p>If your SDK only consists of a jar file or something similar, there really isn't a way to hide symbols in it.</p>\n"}],"owner":{"account_id":2407400,"reputation":7420,"user_id":2103462,"accept_rate":44,"display_name":"galvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1759,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1658912763,"creation_date":1410174693,"question_id":25722945,"body_markdown":"I&#39;m developing SDK, and I would like to use @hide annotation for methods/classes which I don&#39;t want to be visible for the user who uses my SDK. (same as in [Activity implementation - line 3898][1])\r\n\r\nI tried just to add @hide annotation but I saw that nothing happens.\r\nWhat should I need to do in order to use @hide annotation/or any other similar solution for encapsulating my internal SDK&#39;s classes/methods.\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/android-2.3.5_r1/core/java/android/app/Activity.java","title":"Android - how to add @hide annotation in my project","body":"<p>I'm developing SDK, and I would like to use @hide annotation for methods/classes which I don't want to be visible for the user who uses my SDK. (same as in <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-2.3.5_r1/core/java/android/app/Activity.java\" rel=\"noreferrer\">Activity implementation - line 3898</a>)</p>\n\n<p>I tried just to add @hide annotation but I saw that nothing happens.\nWhat should I need to do in order to use @hide annotation/or any other similar solution for encapsulating my internal SDK's classes/methods.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1658912202,"post_id":73132959,"comment_id":129167151,"body_markdown":"Note that `s.replace(&quot;+&quot;, &quot;&quot;)` is better than replaceAll as it avoids regex each call so it is just `emailList.stream().map(s -&gt; s.replace(&quot;+&quot;, &quot;&quot;)).forEach(System.out::println)` or `emailList.stream().map(s -&gt; s.replace(&quot;+&quot;, &quot;&quot;)).toList()`","body":"Note that <code>s.replace(&quot;+&quot;, &quot;&quot;)</code> is better than replaceAll as it avoids regex each call so it is just <code>emailList.stream().map(s -&gt; s.replace(&quot;+&quot;, &quot;&quot;)).forEach(System.out::println)</code> or <code>emailList.stream().map(s -&gt; s.replace(&quot;+&quot;, &quot;&quot;)).toList()</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1658912924,"post_id":73132959,"comment_id":129167436,"body_markdown":"Note that for Gmail addresses, emailadress `aaa+bbb@gmail.com` refers to just `aaa@gmail.com`, so the suffix behind the `+` can be used as *label*. However, they&#39;re not the same as `aaabbb@gmail.com`, which would be the result of your string replacement.","body":"Note that for Gmail addresses, emailadress <code>aaa+bbb@gmail.com</code> refers to just <code>aaa@gmail.com</code>, so the suffix behind the <code>+</code> can be used as <i>label</i>. However, they&#39;re not the same as <code>aaabbb@gmail.com</code>, which would be the result of your string replacement."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658902598,"creation_date":1658902598,"answer_id":73133057,"question_id":73132959,"body_markdown":"You can use `replaceAll` on all strings and string not having `+` symbol will remains unchanged \r\n\r\n    List&lt;String&gt;  updatedEmail = emailList.stream()\r\n            .map(s -&gt; s.replaceAll(&quot;\\\\+&quot;, &quot;&quot;))\r\n            .collect(Collectors.toList());","title":"Efficient way to replace char from each index of a String array if condition match","body":"<p>You can use <code>replaceAll</code> on all strings and string not having <code>+</code> symbol will remains unchanged</p>\n<pre><code>List&lt;String&gt;  updatedEmail = emailList.stream()\n        .map(s -&gt; s.replaceAll(&quot;\\\\+&quot;, &quot;&quot;))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25340200,"reputation":11,"user_id":19158682,"display_name":"Peter Stoilkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658905385,"creation_date":1658905385,"answer_id":73133556,"question_id":73132959,"body_markdown":"You already use `replaceAll` method and you can directly modify every element in current list and print it with `foreach`.\r\n\r\n    emailList.stream()\r\n                    .map(s -&gt; s.replaceAll(&quot;\\\\+&quot;, &quot;&quot;))\r\n                    .forEach(b -&gt; System.out.println(&quot;email: &quot; + b));","title":"Efficient way to replace char from each index of a String array if condition match","body":"<p>You already use <code>replaceAll</code> method and you can directly modify every element in current list and print it with <code>foreach</code>.</p>\n<pre><code>emailList.stream()\n                .map(s -&gt; s.replaceAll(&quot;\\\\+&quot;, &quot;&quot;))\n                .forEach(b -&gt; System.out.println(&quot;email: &quot; + b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658912531,"creation_date":1658912531,"answer_id":73135068,"question_id":73132959,"body_markdown":"In case you want to modify the original list without using streams and creating a new list, you can do something like:\r\n\r\n    emailList.replaceAll(s -&gt; s.replace(&quot;+&quot;, &quot;&quot;));","title":"Efficient way to replace char from each index of a String array if condition match","body":"<p>In case you want to modify the original list without using streams and creating a new list, you can do something like:</p>\n<pre><code>emailList.replaceAll(s -&gt; s.replace(&quot;+&quot;, &quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":4026865,"reputation":9,"user_id":3314714,"display_name":"user3314714"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1658912531,"creation_date":1658901923,"question_id":73132959,"body_markdown":"I&#39;m looking for efficient way to replace specific char from a list of email addresses if the char matches in any index of the array. But it should return the full array list.\r\n\r\nmy current code:\r\n\r\n    List&lt;String&gt; emailList = new ArrayList&lt;&gt;();\r\n        emailList.addAll(Arrays.asList(&quot;testEmail@gmail.com&quot;,&quot;TestnewEmail+454332@gmail.com&quot;,&quot;testgmail+4342232545@gmail.com&quot;));\r\n        List&lt;String&gt;  updatedEmail = emailList.stream().filter(a-&gt;a.contains(&quot;+&quot;)).\r\n                map(s -&gt; s.replaceAll(&quot;\\\\+&quot;, &quot;&quot;))\r\n                .collect(Collectors.toList());\r\n        emailList.stream().filter(a-&gt;!a.contains(&quot;+&quot;)).forEach(b-&gt;updatedEmail.add(b));\r\n\r\n        updatedEmail.stream().forEach(b-&gt;System.out.println(&quot;email: &quot;+b));\r\n\r\nConsole:\r\n\r\n    email: TestnewEmail454332@gmail.com\r\n    email: testgmail4342232545@gmail.com\r\n    email: testEmail@gmail.com","title":"Efficient way to replace char from each index of a String array if condition match","body":"<p>I'm looking for efficient way to replace specific char from a list of email addresses if the char matches in any index of the array. But it should return the full array list.</p>\n<p>my current code:</p>\n<pre><code>List&lt;String&gt; emailList = new ArrayList&lt;&gt;();\n    emailList.addAll(Arrays.asList(&quot;testEmail@gmail.com&quot;,&quot;TestnewEmail+454332@gmail.com&quot;,&quot;testgmail+4342232545@gmail.com&quot;));\n    List&lt;String&gt;  updatedEmail = emailList.stream().filter(a-&gt;a.contains(&quot;+&quot;)).\n            map(s -&gt; s.replaceAll(&quot;\\\\+&quot;, &quot;&quot;))\n            .collect(Collectors.toList());\n    emailList.stream().filter(a-&gt;!a.contains(&quot;+&quot;)).forEach(b-&gt;updatedEmail.add(b));\n\n    updatedEmail.stream().forEach(b-&gt;System.out.println(&quot;email: &quot;+b));\n</code></pre>\n<p>Console:</p>\n<pre><code>email: TestnewEmail454332@gmail.com\nemail: testgmail4342232545@gmail.com\nemail: testEmail@gmail.com\n</code></pre>\n"},{"tags":["java","hibernate","jpa","domain-driven-design","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":3723522,"reputation":2189,"user_id":3097923,"accept_rate":25,"display_name":"Taras Boychuk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658912001,"creation_date":1597316586,"answer_id":63393747,"question_id":63393388,"body_markdown":"Please check out this very **similar question**: [Are persistence annotations in domain objects a bad practice?][1]\r\n\r\nI think that as engineers we should be pragmatic. Any best practices, principles, or &quot;guru suggestions&quot; should help. They should not make things worse. So I suggest to **treat them as guidance, not strict rules**. For instance, I generally agree that  &quot;database is a detail&quot;. But we rarely change that detail. \r\n\r\nOn the other hand, annotations do not execute any code. And the coupling is not so bad. Your **domain object can be a JPA entity at the same time**, and it will be very clean and useful. By the way, this **does not violate the Single Responsibility Principle (SPR)**. If you thought it does, check out [SOLID explanation by its author Uncle Bob][2]\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT**\r\n\r\n&gt; @Ren&#233;Link I don&#39;t agree: Annotations are interpreted and the code that executes them can be exchanged with a different interpreter even with a no-op interpreter. The annotation stays untouched and doesn&#39;t care. It&#39;s a declarative element, nothing more.\r\n\r\nAnnotations are source code dependencies, which means that the source code can not be compiled if the annotation is not present on the compile classpath.\r\n\r\nIt&#39;s right that annotations are not hard runtime dependencies. If the annotation class is not available on the classpath the annotation is also not available. Thus you can use bytecode that was compiled with annotations even if the annotations are not present on the classpath.\r\n\r\nSo annotations are a less restrictive dependency then normal classes, interfaces and so on. \r\n\r\nI always try to minimize the dependencies in my code. Let&#39;s take a spring example.\r\n\r\nIn spring you can either implement `InitializingBean` or you can define a method annotated with `@PostConstruct` in this case I would use post construct. Often I don&#39;t need a `@PostConstruct`, because I do constructor injection. But if I move the initialization to a java config I can just call an arbitrary &#39;post construct&#39; method befor returning the bean instance and I don&#39;t need a `@PostConstruct` annotation at all.\r\n\r\nI agree that annotation dependencies are less problematic than other classes or interfaces. But keep in mind that the annotations the OP talks about also have another problem. If you mix domain objects with JPA annotations you violate the single responsibility principle. Your domain objects now have more then one reason to change (domain changes and persistence changes).\r\n\r\nYou will recognize the problem as soon as you add `@Transient` annotations or you might get merge conflicts because you changed domain logic and a colleague persistence things.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10099636/are-persistence-annotations-in-domain-objects-a-bad-practice\r\n  [2]: https://youtu.be/t86v3N4OshQ","title":"Annotations in domain objects with JPA violates Database is a detail","body":"<p>Please check out this very <strong>similar question</strong>: <a href=\"https://stackoverflow.com/questions/10099636/are-persistence-annotations-in-domain-objects-a-bad-practice\">Are persistence annotations in domain objects a bad practice?</a></p>\n<p>I think that as engineers we should be pragmatic. Any best practices, principles, or &quot;guru suggestions&quot; should help. They should not make things worse. So I suggest to <strong>treat them as guidance, not strict rules</strong>. For instance, I generally agree that  &quot;database is a detail&quot;. But we rarely change that detail.</p>\n<p>On the other hand, annotations do not execute any code. And the coupling is not so bad. Your <strong>domain object can be a JPA entity at the same time</strong>, and it will be very clean and useful. By the way, this <strong>does not violate the Single Responsibility Principle (SPR)</strong>. If you thought it does, check out <a href=\"https://youtu.be/t86v3N4OshQ\" rel=\"nofollow noreferrer\">SOLID explanation by its author Uncle Bob</a></p>\n<hr />\n<p><strong>EDIT</strong></p>\n<blockquote>\n<p>@RenLink I don't agree: Annotations are interpreted and the code that executes them can be exchanged with a different interpreter even with a no-op interpreter. The annotation stays untouched and doesn't care. It's a declarative element, nothing more.</p>\n</blockquote>\n<p>Annotations are source code dependencies, which means that the source code can not be compiled if the annotation is not present on the compile classpath.</p>\n<p>It's right that annotations are not hard runtime dependencies. If the annotation class is not available on the classpath the annotation is also not available. Thus you can use bytecode that was compiled with annotations even if the annotations are not present on the classpath.</p>\n<p>So annotations are a less restrictive dependency then normal classes, interfaces and so on.</p>\n<p>I always try to minimize the dependencies in my code. Let's take a spring example.</p>\n<p>In spring you can either implement <code>InitializingBean</code> or you can define a method annotated with <code>@PostConstruct</code> in this case I would use post construct. Often I don't need a <code>@PostConstruct</code>, because I do constructor injection. But if I move the initialization to a java config I can just call an arbitrary 'post construct' method befor returning the bean instance and I don't need a <code>@PostConstruct</code> annotation at all.</p>\n<p>I agree that annotation dependencies are less problematic than other classes or interfaces. But keep in mind that the annotations the OP talks about also have another problem. If you mix domain objects with JPA annotations you violate the single responsibility principle. Your domain objects now have more then one reason to change (domain changes and persistence changes).</p>\n<p>You will recognize the problem as soon as you add <code>@Transient</code> annotations or you might get merge conflicts because you changed domain logic and a colleague persistence things.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1599753205,"creation_date":1598441546,"answer_id":63596747,"question_id":63393388,"body_markdown":"Yes, these annotations are details and should be kept away from the entities of the clean architecture.\r\n\r\nDon&#39;t be confused about the name entity in the clean architecture and the `@Entity` annotation from your persistence framework. They are different things.\r\n\r\nThere is [a video][1] of Uncle Bob about clean architecture and at the end he makes it really clear, because he says:\r\n\r\n&gt; the entities are not instances of database tables. They are usually constructions from many database tables.\r\n\r\nIn [another video][2] he talks about dependency injection and the annotations that these frameworks use. Well, dependency injection has nothing to do with persistence that you asked for, but this video makes clear what Uncle Bob thinks about framework annotations in the use case or entities layer of the clean architechture.\r\n\r\nAnd in [this video][3] he makes it really clear that the entities should not have persistence details. It doesn&#39;t matter if it is hibernate or JPA.\r\n\r\n\r\n  [1]: https://youtu.be/o_TH-Y78tt4?t=4374\r\n  [2]: https://www.youtube.com/watch?v=2dKZ-dWaCiU&amp;feature=youtu.be&amp;t=4210\r\n  [3]: https://youtu.be/HhNIttd87xs?t=4267","title":"Annotations in domain objects with JPA violates Database is a detail","body":"<p>Yes, these annotations are details and should be kept away from the entities of the clean architecture.</p>\n<p>Don't be confused about the name entity in the clean architecture and the <code>@Entity</code> annotation from your persistence framework. They are different things.</p>\n<p>There is <a href=\"https://youtu.be/o_TH-Y78tt4?t=4374\" rel=\"nofollow noreferrer\">a video</a> of Uncle Bob about clean architecture and at the end he makes it really clear, because he says:</p>\n<blockquote>\n<p>the entities are not instances of database tables. They are usually constructions from many database tables.</p>\n</blockquote>\n<p>In <a href=\"https://www.youtube.com/watch?v=2dKZ-dWaCiU&amp;feature=youtu.be&amp;t=4210\" rel=\"nofollow noreferrer\">another video</a> he talks about dependency injection and the annotations that these frameworks use. Well, dependency injection has nothing to do with persistence that you asked for, but this video makes clear what Uncle Bob thinks about framework annotations in the use case or entities layer of the clean architechture.</p>\n<p>And in <a href=\"https://youtu.be/HhNIttd87xs?t=4267\" rel=\"nofollow noreferrer\">this video</a> he makes it really clear that the entities should not have persistence details. It doesn't matter if it is hibernate or JPA.</p>\n"}],"owner":{"account_id":5214373,"reputation":79,"user_id":4169810,"display_name":"JBallester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1311,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":63596747,"answer_count":2,"score":6,"last_activity_date":1658912001,"creation_date":1597315379,"question_id":63393388,"body_markdown":"What do you think about have persistence models and domain models separated? I&#39;ve read that you don&#39;t have to mix persistence concerns with your business concerns (DDD, Clean Architecture,MartinFowler, Eric Evans and a lot and a lot of much more). Even so, I still see in all projects domain models annotated directly with ORM annotations like that, being the domain model coupled to the persistence mechanism reaching an anemic model and violating other principles.\r\n\r\n    //PersistenceJPA entity\r\n    @Entity\r\n    @Table(name=&quot;training_cycle&quot;)\r\n    class TrainingCycle {\r\n        @Id\r\n        private Long id;\r\n        private String name;\r\n    \r\n        @Column(name=&quot;discipline_id&quot;)\r\n        @JoinColumn(name=&quot;discipline_id&quot;)\r\n        private Long disciplineId; //Referencing by Id because Discipline is another Aggregate ROOT\r\n    \r\n        //EmptyConstructor, getters and setters avoided\r\n    }\r\n    \r\n    //PersistenceJPA entity\r\n    @Entity\r\n    @Table(name=&quot;training_cycle&quot;)\r\n    class Discipline {\r\n        @Id\r\n        private Long disciplineId;\r\n        private String name;\r\n        //EmptyConstructor, getters and setters avoided\r\n    } \r\n\r\nSo if you want to follow clean principles you need to split Domain and Persistence Model(as shown below)to have Domain model with business behavior(this avoid anemic model and follows the SRP) and because of that you need to map the domain model to the persistence model (with typical methods like *mapToEntity(DomainModel DM)* and *mapToDomain(PersistenceModel PM)* maybe in a mapper/tranformer maybe in the repository class) when you want to interact with Datastore and viceversa when you want to retrieve data from database.\r\n\r\n    class Discipline {\r\n        private DisciplineId disciplineId;\r\n        private String name;\r\n\r\n        public Discipline(DisciplineId disciplineId, String name) {\r\n            this.disciplineId = disciplineId;\r\n            this.name = name\r\n        }\r\n    }\r\n    \r\n    public class TrainingCycle{\r\n        private TrainingCycleId trainingCycleId;\r\n        private String name;\r\n        private DisciplineId disciplineId;\r\n    \r\n        public TrainingCycle(TrainingCyleId trainingCycleId, String name, DisciplineId disciplineId) {\r\n            this.trainingCycleId = trainingCycleId;\r\n            this.name = name;\r\n            assignDiscipline(disciplineId);\r\n        }\r\n    \r\n        public void assignDiscipline(DisciplineId aDisicplineId) {\r\n            if(aDisicplineId == null) {\r\n                throw new IllegalArgumenException(&quot;Discipline cannot be null&quot;)\r\n            }\r\n            this.disciplineId = aDisicplineId;\r\n        }\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;training_cycle&quot;)\r\n    class TrainingCycleJpa {\r\n        @Id\r\n        private Long id;\r\n        private String name;\r\n    \r\n        @Column(name=&quot;discipline_id&quot;)\r\n        @JoinColumn(name=&quot;discipline_id&quot;)\r\n        private Long disciplineId; //Referencing by Id because Discipline is another Aggregate ROOT\r\n    \r\n        //EmptyConstructor, getters and setters avoided\r\n    }\r\n    \r\n\r\n    @Entity\r\n    @Table(name=&quot;training_cycle&quot;)\r\n    class DisciplineJpa {\r\n\r\n        @Id\r\n        private Long disciplineId;\r\n        private String name;\r\n       //EmptyConstructor, getters and setters avoided\r\n    }\r\n    \r\n    class TrainingCyleJpaRepository implements TrainigCycleRepository {\r\n    \r\n        public void create(TrainingCycle trainingCycle) {\r\n            entityManager.persist(this.mapToEntity(trainingCycle)\r\n        }\r\n    \r\n        public TrainingCycle create(TrainingCycleId trainingCycleId) {\r\n            return this.mapToDomain(entityManager.find(TrainingCycleId));\r\n        }\r\n    }\r\n\r\nSo the discussion/question is Split or not Split Persistence Model from Domain Model? When to split or when not? In the most projects, not to say in all the ones I&#39;ve seen as an example, I&#39;ve seen they couple annotations of persistence model in Domain Model when &quot;gurus are allways hawking&quot; DataStore is a detail.\r\n\r\n\r\nThanks a lot.\r\n\r\n\r\n\r\n","title":"Annotations in domain objects with JPA violates Database is a detail","body":"<p>What do you think about have persistence models and domain models separated? I've read that you don't have to mix persistence concerns with your business concerns (DDD, Clean Architecture,MartinFowler, Eric Evans and a lot and a lot of much more). Even so, I still see in all projects domain models annotated directly with ORM annotations like that, being the domain model coupled to the persistence mechanism reaching an anemic model and violating other principles.</p>\n<pre><code>//PersistenceJPA entity\n@Entity\n@Table(name=&quot;training_cycle&quot;)\nclass TrainingCycle {\n    @Id\n    private Long id;\n    private String name;\n\n    @Column(name=&quot;discipline_id&quot;)\n    @JoinColumn(name=&quot;discipline_id&quot;)\n    private Long disciplineId; //Referencing by Id because Discipline is another Aggregate ROOT\n\n    //EmptyConstructor, getters and setters avoided\n}\n\n//PersistenceJPA entity\n@Entity\n@Table(name=&quot;training_cycle&quot;)\nclass Discipline {\n    @Id\n    private Long disciplineId;\n    private String name;\n    //EmptyConstructor, getters and setters avoided\n} \n</code></pre>\n<p>So if you want to follow clean principles you need to split Domain and Persistence Model(as shown below)to have Domain model with business behavior(this avoid anemic model and follows the SRP) and because of that you need to map the domain model to the persistence model (with typical methods like <em>mapToEntity(DomainModel DM)</em> and <em>mapToDomain(PersistenceModel PM)</em> maybe in a mapper/tranformer maybe in the repository class) when you want to interact with Datastore and viceversa when you want to retrieve data from database.</p>\n<pre><code>class Discipline {\n    private DisciplineId disciplineId;\n    private String name;\n\n    public Discipline(DisciplineId disciplineId, String name) {\n        this.disciplineId = disciplineId;\n        this.name = name\n    }\n}\n\npublic class TrainingCycle{\n    private TrainingCycleId trainingCycleId;\n    private String name;\n    private DisciplineId disciplineId;\n\n    public TrainingCycle(TrainingCyleId trainingCycleId, String name, DisciplineId disciplineId) {\n        this.trainingCycleId = trainingCycleId;\n        this.name = name;\n        assignDiscipline(disciplineId);\n    }\n\n    public void assignDiscipline(DisciplineId aDisicplineId) {\n        if(aDisicplineId == null) {\n            throw new IllegalArgumenException(&quot;Discipline cannot be null&quot;)\n        }\n        this.disciplineId = aDisicplineId;\n    }\n}\n\n\n@Entity\n@Table(name=&quot;training_cycle&quot;)\nclass TrainingCycleJpa {\n    @Id\n    private Long id;\n    private String name;\n\n    @Column(name=&quot;discipline_id&quot;)\n    @JoinColumn(name=&quot;discipline_id&quot;)\n    private Long disciplineId; //Referencing by Id because Discipline is another Aggregate ROOT\n\n    //EmptyConstructor, getters and setters avoided\n}\n\n\n@Entity\n@Table(name=&quot;training_cycle&quot;)\nclass DisciplineJpa {\n\n    @Id\n    private Long disciplineId;\n    private String name;\n   //EmptyConstructor, getters and setters avoided\n}\n\nclass TrainingCyleJpaRepository implements TrainigCycleRepository {\n\n    public void create(TrainingCycle trainingCycle) {\n        entityManager.persist(this.mapToEntity(trainingCycle)\n    }\n\n    public TrainingCycle create(TrainingCycleId trainingCycleId) {\n        return this.mapToDomain(entityManager.find(TrainingCycleId));\n    }\n}\n</code></pre>\n<p>So the discussion/question is Split or not Split Persistence Model from Domain Model? When to split or when not? In the most projects, not to say in all the ones I've seen as an example, I've seen they couple annotations of persistence model in Domain Model when &quot;gurus are allways hawking&quot; DataStore is a detail.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","android","tensorflow","kotlin","kotlin-coroutines"],"comments":[{"owner":{"account_id":10163497,"reputation":319,"user_id":9358737,"display_name":"Rupesh Rathore"},"score":0,"creation_date":1658993730,"post_id":73134884,"comment_id":129191040,"body_markdown":"use only lifecycleScope and remove lifecycleOwner. in lifecycleScope, coroutines launched within the activity also die when the activity dies.","body":"use only lifecycleScope and remove lifecycleOwner. in lifecycleScope, coroutines launched within the activity also die when the activity dies."},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1659120972,"post_id":73134884,"comment_id":129226085,"body_markdown":"Do you get any exceptions? Have you checked which parts of your code get executed by adding [logging](https://developer.android.com/studio/debug/am-logcat)?","body":"Do you get any exceptions? Have you checked which parts of your code get executed by adding <a href=\"https://developer.android.com/studio/debug/am-logcat\" rel=\"nofollow noreferrer\">logging</a>?"}],"owner":{"account_id":21235924,"reputation":1,"user_id":15620106,"display_name":"ngojc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658911759,"creation_date":1658911759,"question_id":73134884,"body_markdown":"I&#39;m trying to integrate Google&#39;s TensorflowLite Pose Estimation Model in my project, however the [demo][1] they provided is only written in Kotlin. I&#39;ve never worked with Kotlin before, and the rest of my project is implemented in Java, so I&#39;m trying to re-write the code at least in their `MainActivity` [(link)][2] into Java code. However, I&#39;m having problem with this line of code that uses `lifecycleScope`, which was a concept only introduced in Kotlin:\r\n```\r\nlifecycleScope.launch(Dispatchers.Main) {\r\n    cameraSource?.initCamera()\r\n}\r\n```\r\nI tried [this workaround][3] and re-write that line in my `MainActivity` as:\r\n```\r\ninitCameraAsync(this);\r\n```\r\nwhile adding this to the file `CameraSource.kt` (the Kotlin file that has `initCamera()`)\r\n```\r\nfun initCameraAsync(lifecycleOwner: LifecycleOwner) {\r\n    lifecycleOwner.lifecycleScope.launch {\r\n        initCamera()\r\n    }\r\n}\r\n```\r\nHowever, it still not work and the Camera failed to launch. I&#39;m very new to this, so can someone give me some explanation of what might have gone wrong, and shed some light on how I might fix this? Thank you!\r\n\r\n\r\n  [1]: https://github.com/tensorflow/examples/tree/master/lite/examples/pose_estimation/android\r\n  [2]: https://github.com/tensorflow/examples/blob/master/lite/examples/pose_estimation/android/app/src/main/java/org/tensorflow/lite/examples/poseestimation/MainActivity.kt\r\n  [3]: https://stackoverflow.com/questions/61483062/what-scope-should-i-use-when-calling-a-suspended-function-from-a-java-activity","title":"Launching Lifecycle and calling Kotlin suspend function from Java file","body":"<p>I'm trying to integrate Google's TensorflowLite Pose Estimation Model in my project, however the <a href=\"https://github.com/tensorflow/examples/tree/master/lite/examples/pose_estimation/android\" rel=\"nofollow noreferrer\">demo</a> they provided is only written in Kotlin. I've never worked with Kotlin before, and the rest of my project is implemented in Java, so I'm trying to re-write the code at least in their <code>MainActivity</code> <a href=\"https://github.com/tensorflow/examples/blob/master/lite/examples/pose_estimation/android/app/src/main/java/org/tensorflow/lite/examples/poseestimation/MainActivity.kt\" rel=\"nofollow noreferrer\">(link)</a> into Java code. However, I'm having problem with this line of code that uses <code>lifecycleScope</code>, which was a concept only introduced in Kotlin:</p>\n<pre><code>lifecycleScope.launch(Dispatchers.Main) {\n    cameraSource?.initCamera()\n}\n</code></pre>\n<p>I tried <a href=\"https://stackoverflow.com/questions/61483062/what-scope-should-i-use-when-calling-a-suspended-function-from-a-java-activity\">this workaround</a> and re-write that line in my <code>MainActivity</code> as:</p>\n<pre><code>initCameraAsync(this);\n</code></pre>\n<p>while adding this to the file <code>CameraSource.kt</code> (the Kotlin file that has <code>initCamera()</code>)</p>\n<pre><code>fun initCameraAsync(lifecycleOwner: LifecycleOwner) {\n    lifecycleOwner.lifecycleScope.launch {\n        initCamera()\n    }\n}\n</code></pre>\n<p>However, it still not work and the Camera failed to launch. I'm very new to this, so can someone give me some explanation of what might have gone wrong, and shed some light on how I might fix this? Thank you!</p>\n"},{"tags":["java","class","oop","java-8"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1658833068,"post_id":73122014,"comment_id":129144721,"body_markdown":"What exactly does &quot;I&#39;m totally bounced over this piece of code&quot; mean? The code should compile and run with no problem. Whether it is good design to have a return type of subclass B in your superclass A is of course another question, but its totally valid java and I don&#39;t quite understand your actual problem.","body":"What exactly does &quot;I&#39;m totally bounced over this piece of code&quot; mean? The code should compile and run with no problem. Whether it is good design to have a return type of subclass B in your superclass A is of course another question, but its totally valid java and I don&#39;t quite understand your actual problem."},{"owner":{"account_id":21787453,"reputation":177,"user_id":16088224,"display_name":"MuaazH"},"score":1,"creation_date":1658834253,"post_id":73122014,"comment_id":129145190,"body_markdown":"I think you are worried about circular dependency. How can A depend on B (A returns B means A need to know what B is) when B depends on A (B extends A means B need to know what A is).\nIt&#39;s a bad design, but it works in java.","body":"I think you are worried about circular dependency. How can A depend on B (A returns B means A need to know what B is) when B depends on A (B extends A means B need to know what A is). It&#39;s a bad design, but it works in java."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1658834516,"post_id":73122014,"comment_id":129145300,"body_markdown":"Unrelated but: &quot;I can call method2 in class B since it extends A&quot; not quite. Since `method2` doesn&#39;t have any visibility modifier it is set as &quot;package-private&quot; so only classes in *same* package as `A` will be able to call it. If `B extends A` but is in *other* package it will not be able to access `method2` *directly*.","body":"Unrelated but: &quot;I can call method2 in class B since it extends A&quot; not quite. Since <code>method2</code> doesn&#39;t have any visibility modifier it is set as &quot;package-private&quot; so only classes in <i>same</i> package as <code>A</code> will be able to call it. If <code>B extends A</code> but is in <i>other</i> package it will not be able to access <code>method2</code> <i>directly</i>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1658835411,"post_id":73122014,"comment_id":129145662,"body_markdown":"Anyway what is the problem which prevents you from accepting fact that `method1` was declared to return `B`? Methods can declare to return *any* type, so why not `B`?","body":"Anyway what is the problem which prevents you from accepting fact that <code>method1</code> was declared to return <code>B</code>? Methods can declare to return <i>any</i> type, so why not <code>B</code>?"},{"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"score":0,"creation_date":1658836741,"post_id":73122014,"comment_id":129146156,"body_markdown":"@Pshemo  normally I have encountered programs where class that extends the parent class , methods can be accessed from parent class. The other way around is new to me. And yes both classes are in the same package","body":"@Pshemo  normally I have encountered programs where class that extends the parent class , methods can be accessed from parent class. The other way around is new to me. And yes both classes are in the same package"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1658846025,"post_id":73122014,"comment_id":129150216,"body_markdown":"&quot;I have encountered programs where class that extends the parent class , methods can be accessed from parent class. The other way around is new to me.&quot; &lt;- But that isn&#39;t the case here. A isn&#39;t accessing any methods from B. It&#39;s just declaring B as a return type for his own method. That&#39;s something completely different.","body":"&quot;I have encountered programs where class that extends the parent class , methods can be accessed from parent class. The other way around is new to me.&quot; &lt;- But that isn&#39;t the case here. A isn&#39;t accessing any methods from B. It&#39;s just declaring B as a return type for his own method. That&#39;s something completely different."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658856047,"creation_date":1658855614,"answer_id":73127339,"question_id":73122014,"body_markdown":"### Question\r\n\r\nHere&#39;s the code you posted (edited slightly to tidy it up, but the structure is the same):\r\n\r\n```\r\nabstract public class A {\r\n  public B method1() { ... }\r\n  void method2() {};\r\n}\r\n\r\npublic class B extends A {\r\n  ...\r\n}\r\n```\r\n\r\nYou asked this question:\r\n&gt; _how can I have return value of a class B in parent class A defined as return value of function method1?_\r\n\r\nSpecifically, you are asking how &quot;method1()&quot; on class A can return B, when B itself is a class which extends A:\r\n```\r\nabstract public class A {\r\n  public B method1() { ... }\r\n```\r\n\r\n### Explanation\r\n\r\nThe reason this works is that the _return type_ of `method1()`  and in general, _any_ method defined in class A  has nothing to do with the _class structure_ of A _or_ B.\r\n\r\nThe return type simply means if you call `method1()`:\r\n* there is a result from that method call,\r\n* the result is an object,\r\n* and the object has type &quot;B&quot;\r\n\r\nIt does _not_ say anything about _how_ (or even _if_) B relates to A.\r\n\r\nMethods can specify any return types (so long as that type is valid.. you can&#39;t just return things which don&#39;t exist). Here&#39;s a simple edit of class A showing a few other return types. These additional return types are clearly unrelated to class A  String and `List&lt;Integer&gt;`.\r\n```\r\nabstract class A {\r\n    abstract public B method1();\r\n    abstract public String method2();\r\n    abstract public List&lt;Integer&gt; method3();\r\n}\r\n```\r\nIn this new &quot;A&quot;, all it says is:\r\n* method1() returns something of type B, whatever that is\r\n* method2() returns something of type String\r\n* method3() returns `List&lt;Integer&gt;`\r\n\r\nIt&#39;s fine if B itself is defined in terms of A (`class B extends A`), or is altogether defined as a separate class. Here&#39;s a version of B, but without &quot;extends A&quot;, so it&#39;s just a standalone class definition, this would work fine with your definition of A, too.\r\n```\r\nclass B {\r\n}\r\n```\r\n\r\n\r\n\r\n### More reading\r\n\r\nHere are a few snips from the [Java Tutorials](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html) about method definitions:\r\n\r\n&gt; _The only required elements of a method declaration are the method&#39;s return type, name, a pair of parentheses, (), and a body between braces, {}._\r\n\r\nand also:\r\n&gt; _The return typethe data type of the value returned by the method, or void if the method does not return a value._\r\n\r\nThere&#39;s an additional section possibly worth reading - [Returning a Value from a Method](https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html)  which has more discussion about how this works, what&#39;s allowed, etc.\r\n","title":"Defining function with return value as another class in Java","body":"<h3>Question</h3>\n<p>Here's the code you posted (edited slightly to tidy it up, but the structure is the same):</p>\n<pre><code>abstract public class A {\n  public B method1() { ... }\n  void method2() {};\n}\n\npublic class B extends A {\n  ...\n}\n</code></pre>\n<p>You asked this question:</p>\n<blockquote>\n<p><em>how can I have return value of a class B in parent class A defined as return value of function method1?</em></p>\n</blockquote>\n<p>Specifically, you are asking how &quot;method1()&quot; on class A can return B, when B itself is a class which extends A:</p>\n<pre><code>abstract public class A {\n  public B method1() { ... }\n</code></pre>\n<h3>Explanation</h3>\n<p>The reason this works is that the <em>return type</em> of <code>method1()</code>  and in general, <em>any</em> method defined in class A  has nothing to do with the <em>class structure</em> of A <em>or</em> B.</p>\n<p>The return type simply means if you call <code>method1()</code>:</p>\n<ul>\n<li>there is a result from that method call,</li>\n<li>the result is an object,</li>\n<li>and the object has type &quot;B&quot;</li>\n</ul>\n<p>It does <em>not</em> say anything about <em>how</em> (or even <em>if</em>) B relates to A.</p>\n<p>Methods can specify any return types (so long as that type is valid.. you can't just return things which don't exist). Here's a simple edit of class A showing a few other return types. These additional return types are clearly unrelated to class A  String and <code>List&lt;Integer&gt;</code>.</p>\n<pre><code>abstract class A {\n    abstract public B method1();\n    abstract public String method2();\n    abstract public List&lt;Integer&gt; method3();\n}\n</code></pre>\n<p>In this new &quot;A&quot;, all it says is:</p>\n<ul>\n<li>method1() returns something of type B, whatever that is</li>\n<li>method2() returns something of type String</li>\n<li>method3() returns <code>List&lt;Integer&gt;</code></li>\n</ul>\n<p>It's fine if B itself is defined in terms of A (<code>class B extends A</code>), or is altogether defined as a separate class. Here's a version of B, but without &quot;extends A&quot;, so it's just a standalone class definition, this would work fine with your definition of A, too.</p>\n<pre><code>class B {\n}\n</code></pre>\n<h3>More reading</h3>\n<p>Here are a few snips from the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">Java Tutorials</a> about method definitions:</p>\n<blockquote>\n<p><em>The only required elements of a method declaration are the method's return type, name, a pair of parentheses, (), and a body between braces, {}.</em></p>\n</blockquote>\n<p>and also:</p>\n<blockquote>\n<p><em>The return typethe data type of the value returned by the method, or void if the method does not return a value.</em></p>\n</blockquote>\n<p>There's an additional section possibly worth reading - <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html\" rel=\"nofollow noreferrer\">Returning a Value from a Method</a>  which has more discussion about how this works, what's allowed, etc.</p>\n"}],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73127339,"answer_count":1,"score":0,"last_activity_date":1658911753,"creation_date":1658832509,"question_id":73122014,"body_markdown":"I was reading one piece of code in Java and one function definition caught my eye. Its a long piece of code so I am just putting a abstract version to know how it worked.\r\n\r\nConsider I have a file A.java with below code.\r\n```\r\nabstract public class A\r\n{\r\n  public B method1()\r\n  {\r\n   .....\r\n   }\r\n  abstract public boolean  method2();\r\n  if (method2())   // Is this valid . If yes , what is the concept behind it?\r\n  {.....}   \r\n}\r\n```\r\n\r\nNow I have file B.java with below sample contents\r\n```\r\npublic class B extends A \r\n{\r\n  @Override\r\n  public boolean method2() {\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\nNow I am a beginner in Java but from what I have learned that I can call method2 in class B since it extends A. But how can I have return value of a class B in parent class A defined as return value of function method1. Please help me in clearing this concept. I am totally bounced over this piece of code. ","title":"Defining function with return value as another class in Java","body":"<p>I was reading one piece of code in Java and one function definition caught my eye. Its a long piece of code so I am just putting a abstract version to know how it worked.</p>\n<p>Consider I have a file A.java with below code.</p>\n<pre><code>abstract public class A\n{\n  public B method1()\n  {\n   .....\n   }\n  abstract public boolean  method2();\n  if (method2())   // Is this valid . If yes , what is the concept behind it?\n  {.....}   \n}\n</code></pre>\n<p>Now I have file B.java with below sample contents</p>\n<pre><code>public class B extends A \n{\n  @Override\n  public boolean method2() {\n    return false;\n  }\n}\n</code></pre>\n<p>Now I am a beginner in Java but from what I have learned that I can call method2 in class B since it extends A. But how can I have return value of a class B in parent class A defined as return value of function method1. Please help me in clearing this concept. I am totally bounced over this piece of code.</p>\n"},{"tags":["java","ssl","tls1.2","tls1.3"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1649853361,"post_id":71855760,"comment_id":126980322,"body_markdown":"On my 8u301 and 8u311 the default enabled list is 45 entries, numbered 0 to 44. You appear to be printing #1-44 but not #0 which omits TLS_AES_128_GCM_SHA256 in 8u301 and TLS_AES_256_GCM_SHA384 in 8u311. Do you mean an update 204 to 8 and if so where did you see it? I check the Oracle website every month and I got 8u201,202 in Jan &#39;19 and 8u211,212 in May &#39;19 but nothing in between, neither is there any such version in www.oracle.com/java/technologies/downloads/archive/ now, and no 8 I&#39;ve ever seen had CHACHA.","body":"On my 8u301 and 8u311 the default enabled list is 45 entries, numbered 0 to 44. You appear to be printing #1-44 but not #0 which omits TLS_AES_128_GCM_SHA256 in 8u301 and TLS_AES_256_GCM_SHA384 in 8u311. Do you mean an update 204 to 8 and if so where did you see it? I check the Oracle website every month and I got 8u201,202 in Jan &#39;19 and 8u211,212 in May &#39;19 but nothing in between, neither is there any such version in www.oracle.com/java/technologies/downloads/archive/ now, and no 8 I&#39;ve ever seen had CHACHA."},{"owner":{"account_id":1958750,"reputation":2612,"user_id":1761023,"accept_rate":88,"display_name":"Zera42"},"score":0,"creation_date":1649883418,"post_id":71855760,"comment_id":126991560,"body_markdown":"@dave_thompson_085 https://bugs.openjdk.java.net/browse/JDK-8240229?jql=project%20%3D%20JDK%20AND%20fixVersion%20%3D%20%2212%22; but it may be openjdk that it was backported on. I may have misread though; going through the logs; it may have just been for jdk 11. Also you&#39;re right on the 45 entries; I accidentally started the for loop with a 1;  it&#39;s interesting how okhttp supports https://square.github.io/okhttp/3.x/okhttp/okhttp3/CipherSuite.html#TLS_CHACHA20_POLY1305_SHA256; not sure if it&#39;s on java8 or only higher. Ill look into this.","body":"@dave_thompson_085 <a href=\"https://bugs.openjdk.java.net/browse/JDK-8240229?jql=project%20%3D%20JDK%20AND%20fixVersion%20%3D%20%2212%22\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/&hellip;</a>; but it may be openjdk that it was backported on. I may have misread though; going through the logs; it may have just been for jdk 11. Also you&#39;re right on the 45 entries; I accidentally started the for loop with a 1;  it&#39;s interesting how okhttp supports <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/CipherSuite.html#TLS_CHACHA20_POLY1305_SHA256\" rel=\"nofollow noreferrer\">square.github.io/okhttp/3.x/okhttp/okhttp3/&hellip;</a>; not sure if it&#39;s on java8 or only higher. Ill look into this."}],"answers":[{"tags":[],"owner":{"account_id":6971642,"reputation":237,"user_id":5347791,"accept_rate":79,"display_name":"zoomzoomvince"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658911665,"creation_date":1658911665,"answer_id":73134865,"question_id":71855760,"body_markdown":"I had this exact same issue a while ago - I downloaded the very latest version of Java OpenJDK to replace my current version and when I checked the ciphers TLS_AES_256_GCM_SHA384 was missing. I tried different versions of Java from Amazon and AdoptOpenJDK and they were all missing TLS_AES_256_GCM_SHA384 despite it being the listed on their web sites as being supported.\r\nIt turned out that tracking down the cause was rather simple. I&#39;m keeping the instructions below rather generic as you may be using Windows/Linux but the principle is the key thing here.\r\n \r\n - Firstly, download the latest Java version e.g. 1.8.0_342 to a temporary folder (I download the .zip file rather than the .msi file). \r\n - Extract the zip file\r\n - Go to the \\bin folder\r\n - Run this one line command to list all the ciphers in this new java version\r\n\r\n    jrunscript -e &quot;java.util.Arrays.asList(javax.net.ssl.SSLServerSocketFactory.getDefault().getSupportedCipherSuites()).stream().forEach(println)&quot;\r\n\r\n - This will produce a list of the ciphers e.g.\r\n\r\n&gt; TLS_AES_256_GCM_SHA384\\\r\n&gt; TLS_AES_128_GCM_SHA256\\\r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\\\r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\\\r\n&gt; TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\\\r\n&gt; TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\\\r\n&gt; TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\\\r\n&gt; TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\\\r\n&gt; TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\\\r\nTLS_DHE_DSS_WITH_AES_128_GCM_SHA256\\\r\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\\\r\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\\\r\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\\\r\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\\\r\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA256\\\r\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA256\\\r\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA256\\\r\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA256\\\r\nTLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\\\r\nTLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\\\r\nTLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\\\r\nTLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\\\r\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\\\r\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\\\r\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\\\r\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\\\r\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\\\r\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\\\r\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\\\r\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\\\r\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA\\\r\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA\\\r\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA\\\r\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA\\\r\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\\\r\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA\\\r\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\\\r\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA\\\r\nTLS_RSA_WITH_AES_256_GCM_SHA384\\\r\nTLS_RSA_WITH_AES_128_GCM_SHA256\\\r\nTLS_RSA_WITH_AES_256_CBC_SHA256\\\r\nTLS_RSA_WITH_AES_128_CBC_SHA256\\\r\nTLS_RSA_WITH_AES_256_CBC_SHA\\\r\nTLS_RSA_WITH_AES_128_CBC_SHA\\\r\nTLS_EMPTY_RENEGOTIATION_INFO_SCSV\\\r\nTLS_ECDHE_ECDSA_WITH_RC4_128_SHA\\\r\nTLS_ECDHE_RSA_WITH_RC4_128_SHA\\\r\nSSL_RSA_WITH_RC4_128_SHA\\\r\nTLS_ECDH_ECDSA_WITH_RC4_128_SHA\\\r\nTLS_ECDH_RSA_WITH_RC4_128_SHA\\\r\nSSL_RSA_WITH_RC4_128_MD5\\\r\nSSL_RSA_EXPORT_WITH_RC4_40_MD5\\\r\nTLS_KRB5_WITH_RC4_128_SHA\\\r\nTLS_KRB5_WITH_RC4_128_MD5\\\r\nTLS_KRB5_EXPORT_WITH_RC4_40_SHA\\\r\nTLS_KRB5_EXPORT_WITH_RC4_40_MD5\\\r\n\r\n - This new Java version does contain TLS_AES_256_GCM_SHA384 as expected\r\n - Therefore my old Java that is used by my app, must not have been updated correctly when I last upgraded it (files in use by the app possibly). \r\n - Stop any process that is using the old Java version, and delete the contents of the old java folder including subfolders\r\n - Copy over the new Java version from the temporary area.\r\n - Start the app as normal and check for any handshake errors.\r\n - Go the area that you just copied the new Java version into and in the \\bin folder repeat the same one liner to check the cipher list - it should still have TLS_AES_256_GCM_SHA384 listed. \r\n\r\nSo a rather simple fix - just make sure when you install the new Java version that you completely erase the old folder contents first.\r\n\r\n","title":"Java 8 Cipher Suites downgraded with later update?","body":"<p>I had this exact same issue a while ago - I downloaded the very latest version of Java OpenJDK to replace my current version and when I checked the ciphers TLS_AES_256_GCM_SHA384 was missing. I tried different versions of Java from Amazon and AdoptOpenJDK and they were all missing TLS_AES_256_GCM_SHA384 despite it being the listed on their web sites as being supported.\nIt turned out that tracking down the cause was rather simple. I'm keeping the instructions below rather generic as you may be using Windows/Linux but the principle is the key thing here.</p>\n<ul>\n<li><p>Firstly, download the latest Java version e.g. 1.8.0_342 to a temporary folder (I download the .zip file rather than the .msi file).</p>\n</li>\n<li><p>Extract the zip file</p>\n</li>\n<li><p>Go to the \\bin folder</p>\n</li>\n<li><p>Run this one line command to list all the ciphers in this new java version</p>\n<p>jrunscript -e &quot;java.util.Arrays.asList(javax.net.ssl.SSLServerSocketFactory.getDefault().getSupportedCipherSuites()).stream().forEach(println)&quot;</p>\n</li>\n<li><p>This will produce a list of the ciphers e.g.</p>\n</li>\n</ul>\n<blockquote>\n<p>TLS_AES_256_GCM_SHA384<br />\nTLS_AES_128_GCM_SHA256<br />\nTLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384<br />\nTLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256<br />\nTLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384<br />\nTLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256<br />\nTLS_DHE_RSA_WITH_AES_256_GCM_SHA384<br />\nTLS_DHE_DSS_WITH_AES_256_GCM_SHA384<br />\nTLS_DHE_RSA_WITH_AES_128_GCM_SHA256<br />\nTLS_DHE_DSS_WITH_AES_128_GCM_SHA256<br />\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384<br />\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384<br />\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256<br />\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256<br />\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA256<br />\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA256<br />\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA256<br />\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA256<br />\nTLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384<br />\nTLS_ECDH_RSA_WITH_AES_256_GCM_SHA384<br />\nTLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256<br />\nTLS_ECDH_RSA_WITH_AES_128_GCM_SHA256<br />\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384<br />\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA384<br />\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256<br />\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA256<br />\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA<br />\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA<br />\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA<br />\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA<br />\nTLS_DHE_RSA_WITH_AES_256_CBC_SHA<br />\nTLS_DHE_DSS_WITH_AES_256_CBC_SHA<br />\nTLS_DHE_RSA_WITH_AES_128_CBC_SHA<br />\nTLS_DHE_DSS_WITH_AES_128_CBC_SHA<br />\nTLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA<br />\nTLS_ECDH_RSA_WITH_AES_256_CBC_SHA<br />\nTLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA<br />\nTLS_ECDH_RSA_WITH_AES_128_CBC_SHA<br />\nTLS_RSA_WITH_AES_256_GCM_SHA384<br />\nTLS_RSA_WITH_AES_128_GCM_SHA256<br />\nTLS_RSA_WITH_AES_256_CBC_SHA256<br />\nTLS_RSA_WITH_AES_128_CBC_SHA256<br />\nTLS_RSA_WITH_AES_256_CBC_SHA<br />\nTLS_RSA_WITH_AES_128_CBC_SHA<br />\nTLS_EMPTY_RENEGOTIATION_INFO_SCSV<br />\nTLS_ECDHE_ECDSA_WITH_RC4_128_SHA<br />\nTLS_ECDHE_RSA_WITH_RC4_128_SHA<br />\nSSL_RSA_WITH_RC4_128_SHA<br />\nTLS_ECDH_ECDSA_WITH_RC4_128_SHA<br />\nTLS_ECDH_RSA_WITH_RC4_128_SHA<br />\nSSL_RSA_WITH_RC4_128_MD5<br />\nSSL_RSA_EXPORT_WITH_RC4_40_MD5<br />\nTLS_KRB5_WITH_RC4_128_SHA<br />\nTLS_KRB5_WITH_RC4_128_MD5<br />\nTLS_KRB5_EXPORT_WITH_RC4_40_SHA<br />\nTLS_KRB5_EXPORT_WITH_RC4_40_MD5\\</p>\n</blockquote>\n<ul>\n<li>This new Java version does contain TLS_AES_256_GCM_SHA384 as expected</li>\n<li>Therefore my old Java that is used by my app, must not have been updated correctly when I last upgraded it (files in use by the app possibly).</li>\n<li>Stop any process that is using the old Java version, and delete the contents of the old java folder including subfolders</li>\n<li>Copy over the new Java version from the temporary area.</li>\n<li>Start the app as normal and check for any handshake errors.</li>\n<li>Go the area that you just copied the new Java version into and in the \\bin folder repeat the same one liner to check the cipher list - it should still have TLS_AES_256_GCM_SHA384 listed.</li>\n</ul>\n<p>So a rather simple fix - just make sure when you install the new Java version that you completely erase the old folder contents first.</p>\n"}],"owner":{"account_id":1958750,"reputation":2612,"user_id":1761023,"accept_rate":88,"display_name":"Zera42"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1892,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658911665,"creation_date":1649844904,"question_id":71855760,"body_markdown":"Per [https://java.com/en/configure_crypto.html][1], the website says that &quot;For TLS 1.3, TLS_AES_256_GCM_SHA384 will now be preferred over TLS_AES_128_GCM_SHA256.&quot; but with the later updates `TLS_AES_256_GCM_SHA384` is no longer available as supported suites.\r\n\r\nIs there a way to enable more suites than the default enabled ones? Such as `TLS_CHACHA20_POLY1305_SHA256` which was added and enabled in update 204; but no longer in the latest update.\r\n\r\nCipher Suites dump on 1.8 update 301\r\n```\r\n 1. TLS_AES_256_GCM_SHA384\r\n 2. TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n 3. TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n 4. TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n 5. TLS_RSA_WITH_AES_256_GCM_SHA384\r\n 6. TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\r\n 7. TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\r\n 8. TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n 9. TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n 10. TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n 11. TLS_RSA_WITH_AES_128_GCM_SHA256\r\n 12. TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\r\n 13. TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\r\n 14. TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n 15. TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n 16. TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n 17. TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n 18. TLS_RSA_WITH_AES_256_CBC_SHA256\r\n 19. TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\n 20. TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\n 21. TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n 22. TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n 23. TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\n 24. TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n 25. TLS_RSA_WITH_AES_256_CBC_SHA\r\n 26. TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\r\n 27. TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\r\n 28. TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n 29. TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n 30. TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n 31. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n 32. TLS_RSA_WITH_AES_128_CBC_SHA256\r\n 33. TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n 34. TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n 35. TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n 36. TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n 37. TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\r\n 38. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n 39. TLS_RSA_WITH_AES_128_CBC_SHA\r\n 40. TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\r\n 41. TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\r\n 42. TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n 43. TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n 44. TLS_EMPTY_RENEGOTIATION_INFO_SCSV\r\n```\r\nCipher Suites dump on 1.8 update 311\r\n```\r\n 1. TLS_AES_128_GCM_SHA256\r\n 2. TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n 3. TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\r\n 4. TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n 5. TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n 6. TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n 7. TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\r\n 8. TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n 9. TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\r\n 10. TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\n 11. TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n 12. TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n 13. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n 14. TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\n 15. TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\n 16. TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\n 17. TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\n 18. TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\r\n 19. TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\r\n 20. TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\r\n 21. TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\r\n 22. TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\n 23. TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\n 24. TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\n 25. TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\n 26. TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\r\n 27. TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n 28. TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\r\n 29. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n 30. TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n 31. TLS_DHE_DSS_WITH_AES_256_CBC_SHA\r\n 32. TLS_DHE_RSA_WITH_AES_128_CBC_SHA\r\n 33. TLS_DHE_DSS_WITH_AES_128_CBC_SHA\r\n 34. TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\r\n 35. TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\r\n 36. TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\r\n 37. TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\r\n 38. TLS_RSA_WITH_AES_256_GCM_SHA384\r\n 39. TLS_RSA_WITH_AES_128_GCM_SHA256\r\n 40. TLS_RSA_WITH_AES_256_CBC_SHA256\r\n 41. TLS_RSA_WITH_AES_128_CBC_SHA256\r\n 42. TLS_RSA_WITH_AES_256_CBC_SHA\r\n 43. TLS_RSA_WITH_AES_128_CBC_SHA\r\n 44. TLS_EMPTY_RENEGOTIATION_INFO_SCSV\r\n```\r\n\r\n\r\n  [1]: https://java.com/en/configure_crypto.html","title":"Java 8 Cipher Suites downgraded with later update?","body":"<p>Per <a href=\"https://java.com/en/configure_crypto.html\" rel=\"nofollow noreferrer\">https://java.com/en/configure_crypto.html</a>, the website says that &quot;For TLS 1.3, TLS_AES_256_GCM_SHA384 will now be preferred over TLS_AES_128_GCM_SHA256.&quot; but with the later updates <code>TLS_AES_256_GCM_SHA384</code> is no longer available as supported suites.</p>\n<p>Is there a way to enable more suites than the default enabled ones? Such as <code>TLS_CHACHA20_POLY1305_SHA256</code> which was added and enabled in update 204; but no longer in the latest update.</p>\n<p>Cipher Suites dump on 1.8 update 301</p>\n<pre><code> 1. TLS_AES_256_GCM_SHA384\n 2. TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\n 3. TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n 4. TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n 5. TLS_RSA_WITH_AES_256_GCM_SHA384\n 6. TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\n 7. TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\n 8. TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\n 9. TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\n 10. TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n 11. TLS_RSA_WITH_AES_128_GCM_SHA256\n 12. TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\n 13. TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\n 14. TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n 15. TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\n 16. TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n 17. TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n 18. TLS_RSA_WITH_AES_256_CBC_SHA256\n 19. TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\n 20. TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\n 21. TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\n 22. TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\n 23. TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\n 24. TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\n 25. TLS_RSA_WITH_AES_256_CBC_SHA\n 26. TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\n 27. TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\n 28. TLS_DHE_RSA_WITH_AES_256_CBC_SHA\n 29. TLS_DHE_DSS_WITH_AES_256_CBC_SHA\n 30. TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n 31. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n 32. TLS_RSA_WITH_AES_128_CBC_SHA256\n 33. TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\n 34. TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\n 35. TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\n 36. TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\n 37. TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\n 38. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\n 39. TLS_RSA_WITH_AES_128_CBC_SHA\n 40. TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\n 41. TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\n 42. TLS_DHE_RSA_WITH_AES_128_CBC_SHA\n 43. TLS_DHE_DSS_WITH_AES_128_CBC_SHA\n 44. TLS_EMPTY_RENEGOTIATION_INFO_SCSV\n</code></pre>\n<p>Cipher Suites dump on 1.8 update 311</p>\n<pre><code> 1. TLS_AES_128_GCM_SHA256\n 2. TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\n 3. TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\n 4. TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n 5. TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n 6. TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\n 7. TLS_DHE_DSS_WITH_AES_256_GCM_SHA384\n 8. TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n 9. TLS_DHE_DSS_WITH_AES_128_GCM_SHA256\n 10. TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\n 11. TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n 12. TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n 13. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n 14. TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\n 15. TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\n 16. TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\n 17. TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\n 18. TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384\n 19. TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384\n 20. TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256\n 21. TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256\n 22. TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\n 23. TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\n 24. TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\n 25. TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\n 26. TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA\n 27. TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\n 28. TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\n 29. TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\n 30. TLS_DHE_RSA_WITH_AES_256_CBC_SHA\n 31. TLS_DHE_DSS_WITH_AES_256_CBC_SHA\n 32. TLS_DHE_RSA_WITH_AES_128_CBC_SHA\n 33. TLS_DHE_DSS_WITH_AES_128_CBC_SHA\n 34. TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA\n 35. TLS_ECDH_RSA_WITH_AES_256_CBC_SHA\n 36. TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA\n 37. TLS_ECDH_RSA_WITH_AES_128_CBC_SHA\n 38. TLS_RSA_WITH_AES_256_GCM_SHA384\n 39. TLS_RSA_WITH_AES_128_GCM_SHA256\n 40. TLS_RSA_WITH_AES_256_CBC_SHA256\n 41. TLS_RSA_WITH_AES_128_CBC_SHA256\n 42. TLS_RSA_WITH_AES_256_CBC_SHA\n 43. TLS_RSA_WITH_AES_128_CBC_SHA\n 44. TLS_EMPTY_RENEGOTIATION_INFO_SCSV\n</code></pre>\n"},{"tags":["java","spring-boot","webhooks"],"answers":[{"tags":[],"owner":{"account_id":7861189,"reputation":513,"user_id":5941560,"display_name":"kamentk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658911595,"creation_date":1658911595,"answer_id":73134856,"question_id":73134377,"body_markdown":"Webhooks are usually used to notify other service that some event occurred on your side. This is made by standard HTTP request sent to some URL. \r\n\r\nThere is no specific thing like Webhook Server. This is standard application that sends request to someone proactively. \r\n\r\nShould both services communicating with webhooks handle something special - this depends on your architecture, there is no &quot;standard&quot; here. You can implement any sort of retry or mechanism to validate that the other side received the information. Im most cases it is assumed that webhooks should be idempotent, so if two same webhooks are sent, the other side should not repeat their action. ","title":"Webhook implementation | Doubts?","body":"<p>Webhooks are usually used to notify other service that some event occurred on your side. This is made by standard HTTP request sent to some URL.</p>\n<p>There is no specific thing like Webhook Server. This is standard application that sends request to someone proactively.</p>\n<p>Should both services communicating with webhooks handle something special - this depends on your architecture, there is no &quot;standard&quot; here. You can implement any sort of retry or mechanism to validate that the other side received the information. Im most cases it is assumed that webhooks should be idempotent, so if two same webhooks are sent, the other side should not repeat their action.</p>\n"}],"owner":{"account_id":10600828,"reputation":95,"user_id":7807817,"display_name":"Yashpal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658911595,"creation_date":1658909542,"question_id":73134377,"body_markdown":"There is a client to my server, which is calling a GET API to know all updates regarding a particular thing very frequently (let&#39;s say once every 5 seconds). Due to this there is unnecessary network calls are landing on my server even if I don&#39;t an an update to share.\r\n\r\nI reached a decision to replace above approach with web-hooks, where I&#39;ll call there POST API whenever I have an Update to share instead of letting them put unnecessary load on my server.\r\n\r\n**What I understand about Web-hooks**:\r\n- A web-hook is **like a reverse API** which POSTs the updates to the server (The client which was calling our application frequently to know/GET updates).\r\n- My client has to implement a Web-hook client, which is basically a POST API, I&#39;ll be calling whenever there&#39;s an event/update to be shared.\r\n- I need to call their POST API using REST template wherever there&#39;s a new event.\r\n\r\n\r\n**What I don&#39;t understand**:\r\n- Is there anything called a Webhook server? If yes, how do I create/implement it? Any references?\r\n- Is it just a reverse API, or is there anything special which both the server and the client needs to handle?\r\n\r\n","title":"Webhook implementation | Doubts?","body":"<p>There is a client to my server, which is calling a GET API to know all updates regarding a particular thing very frequently (let's say once every 5 seconds). Due to this there is unnecessary network calls are landing on my server even if I don't an an update to share.</p>\n<p>I reached a decision to replace above approach with web-hooks, where I'll call there POST API whenever I have an Update to share instead of letting them put unnecessary load on my server.</p>\n<p><strong>What I understand about Web-hooks</strong>:</p>\n<ul>\n<li>A web-hook is <strong>like a reverse API</strong> which POSTs the updates to the server (The client which was calling our application frequently to know/GET updates).</li>\n<li>My client has to implement a Web-hook client, which is basically a POST API, I'll be calling whenever there's an event/update to be shared.</li>\n<li>I need to call their POST API using REST template wherever there's a new event.</li>\n</ul>\n<p><strong>What I don't understand</strong>:</p>\n<ul>\n<li>Is there anything called a Webhook server? If yes, how do I create/implement it? Any references?</li>\n<li>Is it just a reverse API, or is there anything special which both the server and the client needs to handle?</li>\n</ul>\n"},{"tags":["java","upgrade","quarkus","jandex"],"answers":[{"tags":[],"owner":{"account_id":5162100,"reputation":439,"user_id":4133438,"display_name":"mettw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658911002,"creation_date":1658911002,"answer_id":73134722,"question_id":72059298,"body_markdown":"At the end, I figured out that this was a problem with some pom.xml dependencies due to migrating to the higher version of Quarkus. So, I had to change / migrate following dependencies.\r\n\r\nOld dependencies:\r\n- io.quarkus:quarkus-resteasy-mutiny\r\n- io.quarkus.resteasy.reactive:resteasy-reactive\r\n\r\nNew dependencies:\r\n- io.quarkus:quarkus-resteasy-reactive-jackson\r\n- io.quarkus:quarkus-resteasy-reactive\r\n\r\nSo, the problem was not caused by some issues in the beans lookup.","title":"Problem with the upgrade of quarkus app from the 2.6.3.Final (last working version) to the 2.8.2.Final version - maybe external module beans&#39; lookup","body":"<p>At the end, I figured out that this was a problem with some pom.xml dependencies due to migrating to the higher version of Quarkus. So, I had to change / migrate following dependencies.</p>\n<p>Old dependencies:</p>\n<ul>\n<li>io.quarkus:quarkus-resteasy-mutiny</li>\n<li>io.quarkus.resteasy.reactive:resteasy-reactive</li>\n</ul>\n<p>New dependencies:</p>\n<ul>\n<li>io.quarkus:quarkus-resteasy-reactive-jackson</li>\n<li>io.quarkus:quarkus-resteasy-reactive</li>\n</ul>\n<p>So, the problem was not caused by some issues in the beans lookup.</p>\n"}],"owner":{"account_id":5162100,"reputation":439,"user_id":4133438,"display_name":"mettw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658911002,"creation_date":1651241531,"question_id":72059298,"body_markdown":"Situation: I have a Quarkus application which uses another quarkus application&#39;s beans (added as a maven dependency) for RESTEASY calls to some HTTP rest service. After updating Quarkus 2.6.3.Final to 2.8.2.Final, I am getting following errors when starting the app in dev mode by running ``mvn clean compile quarkus:dev``\r\n \r\n```\r\n2022-04-29 15:42:04,755 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\r\n2022-04-29 15:42:04,763 ERROR [io.qua.run.boo.StartupActionImpl] (Quarkus Main Thread) Error running Quarkus: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:103)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at java.base/java.lang.Class.newInstance(Class.java:584)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:66)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:120)\r\n        at io.quarkus.runner.GeneratedMain.main(Unknown Source)\r\n        ... 6 more\r\nCaused by: java.lang.RuntimeException: Failed to start quarkus\r\n        at io.quarkus.runner.ApplicationImpl.&lt;clinit&gt;(Unknown Source)\r\n        ... 15 more\r\nCaused by: java.lang.RuntimeException: RESTEASY003190: Could not find constructor for class: io.quarkus.rest.client.reactive.runtime.RestClientReactiveCDIWrapperBase\r\n        at org.jboss.resteasy.spi.metadata.ResourceBuilder.getConstructor(ResourceBuilder.java:852)\r\n        at org.jboss.resteasy.plugins.server.resourcefactory.POJOResourceFactory.registered(POJOResourceFactory.java:59)\r\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:245)\r\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:227)\r\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:208)\r\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:192)\r\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:175)\r\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addPerRequestResource(ResourceMethodRegistry.java:87)\r\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.registerResources(ResteasyDeploymentImpl.java:518)\r\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.registration(ResteasyDeploymentImpl.java:475)\r\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.startInternal(ResteasyDeploymentImpl.java:164)\r\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.start(ResteasyDeploymentImpl.java:121)\r\n        at io.quarkus.resteasy.runtime.standalone.ResteasyStandaloneRecorder.staticInit(ResteasyStandaloneRecorder.java:43)\r\n        at io.quarkus.deployment.steps.ResteasyStandaloneBuildStep$staticInit345281060.deploy_0(Unknown Source)\r\n        at io.quarkus.deployment.steps.ResteasyStandaloneBuildStep$staticInit345281060.deploy(Unknown Source)\r\n        ... 16 more\r\n```\r\n\r\nThis seamed to be somehow connected to that external quarkus &quot;module/library&quot; already mentioned above as after removing it from the code and pom.xml of the main app started just fine.\r\n\r\nThe external module is linked to the main application through.\r\n\r\n```\r\n# from pom.xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.service.xyzclient&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xyzrestclient&lt;/artifactId&gt;\r\n    &lt;version&gt;${xyzrestclient.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n# baens lookup from the application.properties\r\n\r\n#activation of CDI bean lookup for xyzrestclient\r\nquarkus.index-dependency.acme.group-id=org.service.xyzclient\r\nquarkus.index-dependency.acme.artifact-id=xyzrestclient\r\n```\r\n\r\nWell, my assumption was that for some reason the lookup for the externally defined beans stopped working, so the app was not able to start.\r\n\r\nDid anybody hit the same issue ? \r\n\r\nBy the way 2.6.3.Final was last version were it worked. I have also tried to generate jandex index in the external module yet it did not help.","title":"Problem with the upgrade of quarkus app from the 2.6.3.Final (last working version) to the 2.8.2.Final version - maybe external module beans&#39; lookup","body":"<p>Situation: I have a Quarkus application which uses another quarkus application's beans (added as a maven dependency) for RESTEASY calls to some HTTP rest service. After updating Quarkus 2.6.3.Final to 2.8.2.Final, I am getting following errors when starting the app in dev mode by running <code>mvn clean compile quarkus:dev</code></p>\n<pre><code>2022-04-29 15:42:04,755 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\n2022-04-29 15:42:04,763 ERROR [io.qua.run.boo.StartupActionImpl] (Quarkus Main Thread) Error running Quarkus: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:103)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ExceptionInInitializerError\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at java.base/java.lang.Class.newInstance(Class.java:584)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:66)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:120)\n        at io.quarkus.runner.GeneratedMain.main(Unknown Source)\n        ... 6 more\nCaused by: java.lang.RuntimeException: Failed to start quarkus\n        at io.quarkus.runner.ApplicationImpl.&lt;clinit&gt;(Unknown Source)\n        ... 15 more\nCaused by: java.lang.RuntimeException: RESTEASY003190: Could not find constructor for class: io.quarkus.rest.client.reactive.runtime.RestClientReactiveCDIWrapperBase\n        at org.jboss.resteasy.spi.metadata.ResourceBuilder.getConstructor(ResourceBuilder.java:852)\n        at org.jboss.resteasy.plugins.server.resourcefactory.POJOResourceFactory.registered(POJOResourceFactory.java:59)\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:245)\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:227)\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:208)\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:192)\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addResourceFactory(ResourceMethodRegistry.java:175)\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addPerRequestResource(ResourceMethodRegistry.java:87)\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.registerResources(ResteasyDeploymentImpl.java:518)\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.registration(ResteasyDeploymentImpl.java:475)\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.startInternal(ResteasyDeploymentImpl.java:164)\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.start(ResteasyDeploymentImpl.java:121)\n        at io.quarkus.resteasy.runtime.standalone.ResteasyStandaloneRecorder.staticInit(ResteasyStandaloneRecorder.java:43)\n        at io.quarkus.deployment.steps.ResteasyStandaloneBuildStep$staticInit345281060.deploy_0(Unknown Source)\n        at io.quarkus.deployment.steps.ResteasyStandaloneBuildStep$staticInit345281060.deploy(Unknown Source)\n        ... 16 more\n</code></pre>\n<p>This seamed to be somehow connected to that external quarkus &quot;module/library&quot; already mentioned above as after removing it from the code and pom.xml of the main app started just fine.</p>\n<p>The external module is linked to the main application through.</p>\n<pre><code># from pom.xml\n&lt;dependency&gt;\n    &lt;groupId&gt;org.service.xyzclient&lt;/groupId&gt;\n    &lt;artifactId&gt;xyzrestclient&lt;/artifactId&gt;\n    &lt;version&gt;${xyzrestclient.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n# baens lookup from the application.properties\n\n#activation of CDI bean lookup for xyzrestclient\nquarkus.index-dependency.acme.group-id=org.service.xyzclient\nquarkus.index-dependency.acme.artifact-id=xyzrestclient\n</code></pre>\n<p>Well, my assumption was that for some reason the lookup for the externally defined beans stopped working, so the app was not able to start.</p>\n<p>Did anybody hit the same issue ?</p>\n<p>By the way 2.6.3.Final was last version were it worked. I have also tried to generate jandex index in the external module yet it did not help.</p>\n"},{"tags":["java","flutter","dart","admob","flutter-test"],"comments":[{"owner":{"account_id":9242245,"reputation":778,"user_id":10160271,"display_name":"Ahmad Raza"},"score":0,"creation_date":1658907395,"post_id":73133623,"comment_id":129165452,"body_markdown":"Hey @faizy 313 welcome to stack overflow, in order to get answers quickly you need to share more details please take a look of this to learn how to ask goog question https://stackoverflow.com/help/how-to-ask","body":"Hey @faizy 313 welcome to stack overflow, in order to get answers quickly you need to share more details please take a look of this to learn how to ask goog question <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":18732215,"reputation":1284,"user_id":13657344,"display_name":"Ghayas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658910891,"creation_date":1658910891,"answer_id":73134690,"question_id":73133623,"body_markdown":"&gt; **Error Code 0 : ERROR_CODE_INTERNAL_ERROR**\r\n&gt; \r\n&gt; This indicates that something happened internally; for instance, an\r\n&gt; invalid response was received from the ad server.\r\n&gt; \r\n&gt; Newly created Ad Units can take upto 2 hours to become active (SpinUp\r\n&gt; Time). Any Ad requests from newly created Ad Units would also receive\r\n&gt; Error Code 0 in response to Ad requests until they are ready to serve\r\n&gt; live ads.\r\n\r\nFrom **Admob** Documentation for further details click this link below\r\nhttps://support.google.com/admob/thread/3494603/admob-error-codes-logs?hl=en","title":"InterstitialAd failed to load: LoadAdError(code: 0, domain: com.google.android.gms.ad","body":"<blockquote>\n<p><strong>Error Code 0 : ERROR_CODE_INTERNAL_ERROR</strong></p>\n<p>This indicates that something happened internally; for instance, an\ninvalid response was received from the ad server.</p>\n<p>Newly created Ad Units can take upto 2 hours to become active (SpinUp\nTime). Any Ad requests from newly created Ad Units would also receive\nError Code 0 in response to Ad requests until they are ready to serve\nlive ads.</p>\n</blockquote>\n<p>From <strong>Admob</strong> Documentation for further details click this link below\n<a href=\"https://support.google.com/admob/thread/3494603/admob-error-codes-logs?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/admob/thread/3494603/admob-error-codes-logs?hl=en</a></p>\n"}],"owner":{"account_id":24415395,"reputation":35,"user_id":18342317,"display_name":"faizy 313"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658910891,"creation_date":1658905736,"question_id":73133623,"body_markdown":"[this is main][1]\r\n\r\n\r\n[this is my home page on Tap][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xv7fm.png\r\n  [2]: https://i.stack.imgur.com/Dmjgf.png","title":"InterstitialAd failed to load: LoadAdError(code: 0, domain: com.google.android.gms.ad","body":"<p><a href=\"https://i.stack.imgur.com/Xv7fm.png\" rel=\"nofollow noreferrer\">this is main</a></p>\n<p><a href=\"https://i.stack.imgur.com/Dmjgf.png\" rel=\"nofollow noreferrer\">this is my home page on Tap</a></p>\n"},{"tags":["java","maven","intellij-idea","maven-resources-plugin"],"answers":[{"tags":[],"owner":{"account_id":18064674,"reputation":11,"user_id":13130920,"display_name":"Athiban Studio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658910722,"creation_date":1658910722,"answer_id":73134654,"question_id":73104336,"body_markdown":"One possible workaround is to downgrade the Java version to a non-module version (less than 9), so that the code works.","title":"getResourceAsStream returns null under Thread.currentThread.getContextClassLoader().getClass()","body":"<p>One possible workaround is to downgrade the Java version to a non-module version (less than 9), so that the code works.</p>\n"}],"owner":{"account_id":18064674,"reputation":11,"user_id":13130920,"display_name":"Athiban Studio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73134654,"answer_count":1,"score":1,"last_activity_date":1658910722,"creation_date":1658726217,"question_id":73104336,"body_markdown":"So The currently the loading configuration used by the library is\r\n```\r\nClassLoader loader = Thread.currentThread().getContextClassLoader();\r\nInputStream in = loader.getClass().getResourceAsStream(&quot;/properties/a.properties&quot;) // null\r\n```\r\n\r\nBut when I tried to debug the application, the following expression contains the file\r\n```\r\nloader.getResourceAsStream(&quot;properties/a.properties&quot;)\r\n```\r\n\r\nI am using IntelliJ IDE and Maven build tool. The resources are copied into the target folder. And using IntelliJ run command to run the class currently.\r\n\r\n\r\nSince the code is from the library, I can&#39;t modify it. What is the problem here and how it can be solved?","title":"getResourceAsStream returns null under Thread.currentThread.getContextClassLoader().getClass()","body":"<p>So The currently the loading configuration used by the library is</p>\n<pre><code>ClassLoader loader = Thread.currentThread().getContextClassLoader();\nInputStream in = loader.getClass().getResourceAsStream(&quot;/properties/a.properties&quot;) // null\n</code></pre>\n<p>But when I tried to debug the application, the following expression contains the file</p>\n<pre><code>loader.getResourceAsStream(&quot;properties/a.properties&quot;)\n</code></pre>\n<p>I am using IntelliJ IDE and Maven build tool. The resources are copied into the target folder. And using IntelliJ run command to run the class currently.</p>\n<p>Since the code is from the library, I can't modify it. What is the problem here and how it can be solved?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":6,"creation_date":1658909991,"post_id":73134431,"comment_id":129166332,"body_markdown":"Try [BigInteger](https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html)","body":"Try <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a>"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1658909997,"post_id":73134431,"comment_id":129166334,"body_markdown":"What are you going to do with this number? Can you not store it as a String?","body":"What are you going to do with this number? Can you not store it as a String?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1658910084,"post_id":73134431,"comment_id":129166364,"body_markdown":"definitely not one of the primitive types. Is there any specific reason you need numbers this large? Do you need to perform numerical/mathematical operations on it?","body":"definitely not one of the primitive types. Is there any specific reason you need numbers this large? Do you need to perform numerical/mathematical operations on it?"},{"owner":{"account_id":20885314,"reputation":1,"user_id":15342050,"display_name":"Codered"},"score":0,"creation_date":1658910137,"post_id":73134431,"comment_id":129166388,"body_markdown":"i submitted this code on beecrowd and this was one of its input due to which my code not getting accepted and giving runtime error","body":"i submitted this code on beecrowd and this was one of its input due to which my code not getting accepted and giving runtime error"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1658910391,"post_id":73134431,"comment_id":129166490,"body_markdown":"You don&#39;t seem to be using any mathematical operations with the numbers you are receiving, so just store them as Strings instead. (And then use `next()` or `nextLine()` instead of `nextInt()`/`nextLong()`.)","body":"You don&#39;t seem to be using any mathematical operations with the numbers you are receiving, so just store them as Strings instead. (And then use <code>next()</code> or <code>nextLine()</code> instead of <code>nextInt()</code>/<code>nextLong()</code>.)"}],"answers":[{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1658910481,"creation_date":1658910481,"answer_id":73134590,"question_id":73134431,"body_markdown":"You can use BigInteger for this:\r\n\r\n~~~\r\nvar bigInt = new BigInteger(&quot;58176849671553176833344572581&quot;);\r\n\r\nbigInt.add(new BigInteger(&quot;1234&quot;));\r\nbigInt.subtract(new BigInteger(&quot;1234&quot;));\r\nbigInt.divide(new BigInteger(&quot;1234&quot;));\r\nbigInt.multiply(new BigInteger(&quot;1234&quot;));\r\nbigInt.pow(1234);\r\n// And more operations\r\n~~~\r\n\r\nSee this Guide for more information: https://www.baeldung.com/java-biginteger  \r\nAnd also take a look at the javadoc: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigInteger.html","title":"Which data type should i use to store a number this large &quot;58176849671553176833344572581&quot; in java?","body":"<p>You can use BigInteger for this:</p>\n<pre><code>var bigInt = new BigInteger(&quot;58176849671553176833344572581&quot;);\n\nbigInt.add(new BigInteger(&quot;1234&quot;));\nbigInt.subtract(new BigInteger(&quot;1234&quot;));\nbigInt.divide(new BigInteger(&quot;1234&quot;));\nbigInt.multiply(new BigInteger(&quot;1234&quot;));\nbigInt.pow(1234);\n// And more operations\n</code></pre>\n<p>See this Guide for more information: <a href=\"https://www.baeldung.com/java-biginteger\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-biginteger</a><br />\nAnd also take a look at the javadoc: <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/math/BigInteger.html</a></p>\n"}],"owner":{"account_id":20885314,"reputation":1,"user_id":15342050,"display_name":"Codered"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1658914988,"answer_count":1,"score":-4,"last_activity_date":1658910481,"creation_date":1658909814,"question_id":73134431,"body_markdown":"So i am working on this code on a site but among the test cases one of them is so large that it can&#39;t fit in long type and when I move on to float or double answer ain&#39;t coming out in numerical form anymore\r\n\r\n    \r\n    package uri;\r\n    import java.util.*;\r\n    public class Clutter {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tint a=sc.nextInt();\r\n    \t\tlong b=sc.nextLong();\r\n    \t\twhile(a!=0 &amp;&amp; b!=0) {\r\n    \t\tString aa=new String(Long.toString(b));\r\n    \t\tString r=&quot;&quot;;\r\n    \t\tfor(int i=0;i&lt;aa.length();i++) {\r\n    \t\t\tint t=Character.getNumericValue(aa.charAt(i));\r\n    \t\t\tif(a==t) {\r\n    \t\t\t\tif(i==aa.length()-1 &amp;&amp; r.length()==0) {\r\n    \t\t\t\t\tSystem.out.println(0);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}else {\r\n    \t\t\t\tr+=(int)t;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tlong re=Long.parseLong(r);\r\n    \t\tSystem.out.println(re);\r\n    \t\ta=sc.nextInt();\r\n    \t\tb=sc.nextLong();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Which data type should i use to store a number this large &quot;58176849671553176833344572581&quot; in java?","body":"<p>So i am working on this code on a site but among the test cases one of them is so large that it can't fit in long type and when I move on to float or double answer ain't coming out in numerical form anymore</p>\n<pre><code>package uri;\nimport java.util.*;\npublic class Clutter {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Scanner sc=new Scanner(System.in);\n        int a=sc.nextInt();\n        long b=sc.nextLong();\n        while(a!=0 &amp;&amp; b!=0) {\n        String aa=new String(Long.toString(b));\n        String r=&quot;&quot;;\n        for(int i=0;i&lt;aa.length();i++) {\n            int t=Character.getNumericValue(aa.charAt(i));\n            if(a==t) {\n                if(i==aa.length()-1 &amp;&amp; r.length()==0) {\n                    System.out.println(0);\n                    return;\n                }\n                continue;\n            }else {\n                r+=(int)t;\n            }\n        }\n        long re=Long.parseLong(r);\n        System.out.println(re);\n        a=sc.nextInt();\n        b=sc.nextLong();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","guava"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1658908583,"post_id":73133788,"comment_id":129165841,"body_markdown":"`Does anyone know how to manipulate the output to just show one side` question is unclear, you might need to rephrase &amp; mention what is expected output &amp; what input you are passing here.","body":"<code>Does anyone know how to manipulate the output to just show one side</code> question is unclear, you might need to rephrase &amp; mention what is expected output &amp; what input you are passing here."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1658912771,"post_id":73133788,"comment_id":129167383,"body_markdown":"The question is not presented as a [mre], can you reduce the code to not depend on external data (by hard-coding data using `Map.of()` for example)? Also, are you simply asking for [`MapDifference.entriesOnlyOnRight`](https://guava.dev/releases/20.0/api/docs/com/google/common/collect/MapDifference.html#entriesOnlyOnRight--)/`...Left`?","body":"The question is not presented as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, can you reduce the code to not depend on external data (by hard-coding data using <code>Map.of()</code> for example)? Also, are you simply asking for <a href=\"https://guava.dev/releases/20.0/api/docs/com/google/common/collect/MapDifference.html#entriesOnlyOnRight--\" rel=\"nofollow noreferrer\"><code>MapDifference.entriesOnlyOnRight</code></a>/<code>...Left</code>?"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658908722,"creation_date":1658908722,"answer_id":73134191,"question_id":73133788,"body_markdown":"I assume that you want to end up with another `Map&lt;String,Object&gt;`, but taking the value of keys with differing values from the right (or maybe the left, you don&#39;t say).\r\n\r\n```\r\nimport com.google.common.collect.MapDifference;\r\nimport com.google.common.collect.Maps;\r\n\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Object&gt; left = Map.of(&quot;name&quot;, &quot;sarah&quot;);\r\n        Map&lt;String, Object&gt; right = Map.of(&quot;name&quot;, &quot;connor&quot;);\r\n        MapDifference&lt;String, Object&gt; result = Maps.difference(left, right);\r\n        Map&lt;String,Object&gt; f = result.entriesDiffering().entrySet().stream()\r\n                .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; e.getValue().rightValue()));\r\n        System.out.println(f);\r\n    }\r\n}\r\n```","title":"Guava getting one map for differences","body":"<p>I assume that you want to end up with another <code>Map&lt;String,Object&gt;</code>, but taking the value of keys with differing values from the right (or maybe the left, you don't say).</p>\n<pre><code>import com.google.common.collect.MapDifference;\nimport com.google.common.collect.Maps;\n\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        Map&lt;String, Object&gt; left = Map.of(&quot;name&quot;, &quot;sarah&quot;);\n        Map&lt;String, Object&gt; right = Map.of(&quot;name&quot;, &quot;connor&quot;);\n        MapDifference&lt;String, Object&gt; result = Maps.difference(left, right);\n        Map&lt;String,Object&gt; f = result.entriesDiffering().entrySet().stream()\n                .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; e.getValue().rightValue()));\n        System.out.println(f);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Roniecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658910021,"creation_date":1658910021,"answer_id":73134484,"question_id":73133788,"body_markdown":"`MapDifference#entriesDiffering()` returns `Map&lt;K,MapDifference.ValueDifference&lt;V&gt;&gt;`, so please read [`ValueDifference`][1] and make use of its API.\r\n\r\nHere&#39;s a sample [MRE][2]:\r\n\r\n    @Test\r\n    public void shouldShowDifferences() throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        TypeReference&lt;HashMap&lt;String, Object&gt;&gt; type =\r\n                new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\r\n\r\n        String leftJson = &quot;{\\&quot;package\\&quot;: [{\\&quot;Name\\&quot;: \\&quot;Sarah\\&quot;}]}&quot;;\r\n        String rightJson = &quot;{\\&quot;package\\&quot;: [{\\&quot;Name\\&quot;: \\&quot;Connor\\&quot;}]}&quot;;\r\n        Map&lt;String, Object&gt; leftMap = mapper.readValue(leftJson, type);\r\n        Map&lt;String, Object&gt; rightMap = mapper.readValue(rightJson, type);\r\n\r\n        MapDifference&lt;String, Object&gt; difference = Maps.difference(leftMap, rightMap);\r\n        System.out.println(difference.entriesDiffering());\r\n        // {package=([{Name=Sarah}], [{Name=Connor}])}\r\n        difference.entriesDiffering().forEach(\r\n                (key, valueDifference) -&gt; System.out.printf(\r\n                        &quot;key: &#39;%s&#39;; values: left: &#39;%s&#39;, right: &#39;%s&#39;&quot;,\r\n                        key, valueDifference.leftValue(), valueDifference.rightValue()));\r\n        // key: &#39;package&#39;; values: left: &#39;[{Name=Sarah}]&#39;, right: &#39;[{Name=Connor}]&#39;\r\n    }\r\n\r\n\r\n  [1]: https://guava.dev/releases/31.1-jre/api/docs/com/google/common/collect/MapDifference.ValueDifference.html\r\n  [2]: https://en.wikipedia.org/wiki/Minimal_reproducible_example","title":"Guava getting one map for differences","body":"<p><code>MapDifference#entriesDiffering()</code> returns <code>Map&lt;K,MapDifference.ValueDifference&lt;V&gt;&gt;</code>, so please read <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/collect/MapDifference.ValueDifference.html\" rel=\"nofollow noreferrer\"><code>ValueDifference</code></a> and make use of its API.</p>\n<p>Here's a sample <a href=\"https://en.wikipedia.org/wiki/Minimal_reproducible_example\" rel=\"nofollow noreferrer\">MRE</a>:</p>\n<pre><code>@Test\npublic void shouldShowDifferences() throws JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n    TypeReference&lt;HashMap&lt;String, Object&gt;&gt; type =\n            new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\n\n    String leftJson = &quot;{\\&quot;package\\&quot;: [{\\&quot;Name\\&quot;: \\&quot;Sarah\\&quot;}]}&quot;;\n    String rightJson = &quot;{\\&quot;package\\&quot;: [{\\&quot;Name\\&quot;: \\&quot;Connor\\&quot;}]}&quot;;\n    Map&lt;String, Object&gt; leftMap = mapper.readValue(leftJson, type);\n    Map&lt;String, Object&gt; rightMap = mapper.readValue(rightJson, type);\n\n    MapDifference&lt;String, Object&gt; difference = Maps.difference(leftMap, rightMap);\n    System.out.println(difference.entriesDiffering());\n    // {package=([{Name=Sarah}], [{Name=Connor}])}\n    difference.entriesDiffering().forEach(\n            (key, valueDifference) -&gt; System.out.printf(\n                    &quot;key: '%s'; values: left: '%s', right: '%s'&quot;,\n                    key, valueDifference.leftValue(), valueDifference.rightValue()));\n    // key: 'package'; values: left: '[{Name=Sarah}]', right: '[{Name=Connor}]'\n}\n</code></pre>\n"}],"owner":{"account_id":14152021,"reputation":47,"user_id":10223717,"display_name":"spn161"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658910381,"creation_date":1658906672,"question_id":73133788,"body_markdown":"I&#39;m using guava to compare two JSON files together and have done the following:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    TypeReference&lt;HashMap&lt;String, Object&gt;&gt; type = \r\n        new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\r\n    \r\n    Map&lt;String, Object&gt; leftMap = mapper.readValue(leftJson, type);\r\n    Map&lt;String, Object&gt; rightMap = mapper.readValue(rightJson, type);\r\n    \r\n    MapDifference&lt;String, Object&gt; difference = Maps.difference(leftMap, rightMap);\r\n    System.out.println(difference.entriesDiffering());\r\n\r\nOutput\r\n\r\n    package=([{Name=Sarah}], [{Name=Conor}])\r\nExpected output\r\n\r\n    package=([{Name=Conor}])\r\n\r\nDoes anyone know how to manipulate the output to just show one side? ","title":"Guava getting one map for differences","body":"<p>I'm using guava to compare two JSON files together and have done the following:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nTypeReference&lt;HashMap&lt;String, Object&gt;&gt; type = \n    new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {};\n\nMap&lt;String, Object&gt; leftMap = mapper.readValue(leftJson, type);\nMap&lt;String, Object&gt; rightMap = mapper.readValue(rightJson, type);\n\nMapDifference&lt;String, Object&gt; difference = Maps.difference(leftMap, rightMap);\nSystem.out.println(difference.entriesDiffering());\n</code></pre>\n<p>Output</p>\n<pre><code>package=([{Name=Sarah}], [{Name=Conor}])\n</code></pre>\n<p>Expected output</p>\n<pre><code>package=([{Name=Conor}])\n</code></pre>\n<p>Does anyone know how to manipulate the output to just show one side?</p>\n"},{"tags":["java","json","spring-boot","api","rest"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1658902568,"post_id":73132962,"comment_id":129164016,"body_markdown":"you just can&#39;t.","body":"you just can&#39;t."},{"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"score":0,"creation_date":1658902572,"post_id":73132962,"comment_id":129164018,"body_markdown":"Found a way to check fields by using @RequestBody parameter as Map&lt;String,Object&gt; instead of the Object Class type. I was looking for a better solution where I don&#39;t have to check each field individually as the request contains 35 fields","body":"Found a way to check fields by using @RequestBody parameter as Map&lt;String,Object&gt; instead of the Object Class type. I was looking for a better solution where I don&#39;t have to check each field individually as the request contains 35 fields"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1658902707,"post_id":73132962,"comment_id":129164056,"body_markdown":"you should ask yourself why do you want to identify if it was set or not.","body":"you should ask yourself why do you want to identify if it was set or not."},{"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"score":0,"creation_date":1658912715,"post_id":73132962,"comment_id":129167364,"body_markdown":"@Morph21 Its because of the way we plan to implement PUT as explained in the question","body":"@Morph21 Its because of the way we plan to implement PUT as explained in the question"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1658941383,"post_id":73132962,"comment_id":129179375,"body_markdown":"PUT request should updat every field, so if you don&#39;t send anything it should be replaced with null. PATCH request on the other hand should update only values that were sent to you, I imagine that sending empty string there should remove value from some fields. Also sending null field vs not sending it at all is on the client side.","body":"PUT request should updat every field, so if you don&#39;t send anything it should be replaced with null. PATCH request on the other hand should update only values that were sent to you, I imagine that sending empty string there should remove value from some fields. Also sending null field vs not sending it at all is on the client side."},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1658941706,"post_id":73132962,"comment_id":129179493,"body_markdown":"You should check this post for better explanation: https://stackoverflow.com/questions/49647682/patch-in-rest-and-null","body":"You should check this post for better explanation: <a href=\"https://stackoverflow.com/questions/49647682/patch-in-rest-and-null\" title=\"patch in rest and null\">stackoverflow.com/questions/49647682/patch-in-rest-and-null</a>"}],"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658910300,"creation_date":1658901959,"question_id":73132962,"body_markdown":"In a PUT request scenario.\r\nRequest with all the fields:\r\n```\r\n{\r\n\t&quot;firstName&quot;:&quot;first&quot;,\r\n\t&quot;middleName&quot;:&quot;middle&quot;,\r\n\t&quot;lastName&quot;:&quot;last&quot;,\r\n\t&quot;location&quot;:&quot;USA&quot;\r\n}\r\n```\r\nRequest with missing field `middleName` when I don&#39;t want to update `middleName`:\r\n```\r\n{\r\n\t&quot;firstName&quot;:&quot;first&quot;,\r\n\t&quot;lastName&quot;:&quot;last&quot;,\r\n\t&quot;location&quot;:&quot;USA&quot;\r\n}\r\n```\r\n\r\nRequest with field `middleName` set to null when I want to update `middleName` to `null`:\r\n```\r\n{\r\n\t&quot;firstName&quot;:&quot;first&quot;,\r\n\t&quot;middleName&quot;:null,\r\n\t&quot;lastName&quot;:&quot;last&quot;,\r\n\t&quot;location&quot;:&quot;USA&quot;\r\n}\r\n```\r\nHow do I identify which field has been set to `null` and which has not been passed in the request at all.","title":"Differentiate between JSON request fields explicitly set to null and request fields not set at all java","body":"<p>In a PUT request scenario.\nRequest with all the fields:</p>\n<pre><code>{\n    &quot;firstName&quot;:&quot;first&quot;,\n    &quot;middleName&quot;:&quot;middle&quot;,\n    &quot;lastName&quot;:&quot;last&quot;,\n    &quot;location&quot;:&quot;USA&quot;\n}\n</code></pre>\n<p>Request with missing field <code>middleName</code> when I don't want to update <code>middleName</code>:</p>\n<pre><code>{\n    &quot;firstName&quot;:&quot;first&quot;,\n    &quot;lastName&quot;:&quot;last&quot;,\n    &quot;location&quot;:&quot;USA&quot;\n}\n</code></pre>\n<p>Request with field <code>middleName</code> set to null when I want to update <code>middleName</code> to <code>null</code>:</p>\n<pre><code>{\n    &quot;firstName&quot;:&quot;first&quot;,\n    &quot;middleName&quot;:null,\n    &quot;lastName&quot;:&quot;last&quot;,\n    &quot;location&quot;:&quot;USA&quot;\n}\n</code></pre>\n<p>How do I identify which field has been set to <code>null</code> and which has not been passed in the request at all.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1657279874,"post_id":72908864,"comment_id":128778762,"body_markdown":"Do you have any error&#39;s in the console that you know of? Maybe it tries to parse a date, but fails and recovers by cutting of and completing that json you showed?","body":"Do you have any error&#39;s in the console that you know of? Maybe it tries to parse a date, but fails and recovers by cutting of and completing that json you showed?"},{"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"score":0,"creation_date":1657368993,"post_id":72908864,"comment_id":128796882,"body_markdown":"no, but Swagger tells me about:\n\n500\nUndocumented\nError:\nResponse body\nDownload\ncan&#39;t parse JSON.  Raw result:\n\n[{&quot;id&quot;:100016,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:910,&quot;updateDate&quot;}].\n\nAnd when I&#39;m doing debugg in array with dishes each dish with exception:\n\nMethod threw &#39;org.hibernate.LazyInitializationException&#39; exception. Cannot evaluate topjava.quest.model.Dish.toString()","body":"no, but Swagger tells me about:  500 Undocumented Error: Response body Download can&#39;t parse JSON.  Raw result:  [{&quot;id&quot;:100016,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:910,&quot;updateDate&quot;}].  And when I&#39;m doing debugg in array with dishes each dish with exception:  Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. Cannot evaluate topjava.quest.model.Dish.toString()"}],"answers":[{"tags":[],"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658910267,"creation_date":1658910267,"answer_id":73134538,"question_id":72908864,"body_markdown":"The solution was add customization JSON. \r\nAdd class and MappingJackson2HttpMessageConverter in spring-mvc.\r\n\r\n\r\npublic class JacksonObjectMapper extends ObjectMapper {\r\n\r\n    private static final ObjectMapper MAPPER = new JacksonObjectMapper();\r\n\r\n    private JacksonObjectMapper() {\r\n        registerModule(new Hibernate5Module());\r\n\r\n        registerModule(new JavaTimeModule());\r\n        configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n\r\n        setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\r\n        setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n\r\n        setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    }\r\n\r\n    public static ObjectMapper getMapper() {\r\n        return MAPPER;\r\n    }\r\n}\r\n\r\nin spring-mvc:\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n            &lt;mvc:message-converters&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\r\n                    &lt;property name=&quot;objectMapper&quot;&gt;\r\n                        &lt;bean class=&quot;topjava.quest.web.json.JacksonObjectMapper&quot;/&gt;\r\n                    &lt;/property&gt;\r\n                &lt;/bean&gt;\r\n            &lt;/mvc:message-converters&gt;\r\n    &lt;/mvc:annotation-driven&gt;","title":"I can&#39;t get the full body of the response in the postman","body":"<p>The solution was add customization JSON.\nAdd class and MappingJackson2HttpMessageConverter in spring-mvc.</p>\n<p>public class JacksonObjectMapper extends ObjectMapper {</p>\n<pre><code>private static final ObjectMapper MAPPER = new JacksonObjectMapper();\n\nprivate JacksonObjectMapper() {\n    registerModule(new Hibernate5Module());\n\n    registerModule(new JavaTimeModule());\n    configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n\n    setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE);\n    setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n\n    setSerializationInclusion(JsonInclude.Include.NON_NULL);\n}\n\npublic static ObjectMapper getMapper() {\n    return MAPPER;\n}\n</code></pre>\n<p>}</p>\n<p>in spring-mvc:</p>\n<pre><code>&lt;mvc:annotation-driven&gt;\n        &lt;mvc:message-converters&gt;\n            &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt;\n                &lt;property name=&quot;objectMapper&quot;&gt;\n                    &lt;bean class=&quot;topjava.quest.web.json.JacksonObjectMapper&quot;/&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n"}],"owner":{"account_id":25598846,"reputation":21,"user_id":19374156,"display_name":"VadiMayer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73134538,"answer_count":1,"score":0,"last_activity_date":1658910267,"creation_date":1657269897,"question_id":72908864,"body_markdown":"I can&#39;t get the full body of the response in the postman. A list comes with food for the restaurant. I assume that I have this problem because of the date, because when I put the `@JsonIgnore` annotation on the field `private LocalDateTime updateDate` in the entity, the food list is displayed completely, when I remove this annotation, only one food is displayed without a date, but with the name of the field.\r\n\r\nwithout annotation:\r\n\r\n    [{&quot;id&quot;:100010,&quot;name&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:1400,&quot;updateDate&quot;}]\r\n\r\n\r\nwith annotation`@JsonIgnore`:\r\n\r\n    [{&quot;id&quot;:100016,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:910},{&quot;id&quot;:100012,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:760},{&quot;id&quot;:100018,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:260},{&quot;id&quot;:100013,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:1540},{&quot;id&quot;:100011,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:1400},{&quot;id&quot;:100015,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:720},{&quot;id&quot;:100014,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:470},{&quot;id&quot;:100010,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:1850},{&quot;id&quot;:100017,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:847}]\r\n\r\ncode in class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;restaurant_dishes&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;restaurant_id&quot;, name = &quot;restaurant_dishes_unique_id_rest&quot;)})\r\n    public class Dish extends AbstractBaseEntity {\r\n    \r\n        @Column(name = &quot;description&quot;, nullable = false)\r\n        @NotBlank\r\n        @Size(min = 5, max = 90)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;cost&quot;, nullable = false)\r\n        @NotNull\r\n        private int cost;\r\n    \r\n        @Column(name = &quot;update_date&quot;, nullable = false)\r\n        @NotNull\r\n        @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\r\n        @JsonIgnore\r\n        private LocalDateTime updateDate;\r\n    \r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;restaurant_id&quot;, nullable = false)\r\n        @OnDelete(action = OnDeleteAction.CASCADE)\r\n        @NotNull\r\n        @JsonIgnore\r\n        private Restaurant restaurant;\r\n\r\ncontroller:\r\n\r\n    @RequestMapping(value = DishUIController.REST_URL, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public class DishUIController {\r\n        private final Logger log = LoggerFactory.getLogger(getClass());\r\n    \r\n        public static final String REST_URL = &quot;/users/dishes&quot;;\r\n    \r\n        private final RestaurantService restaurantService;\r\n    \r\n        private final DishService dishService;\r\n    \r\n        public DishUIController(RestaurantService restaurantService, DishService dishService) {\r\n            this.restaurantService = restaurantService;\r\n            this.dishService = dishService;\r\n        }\r\n    \r\n        @GetMapping\r\n        public List&lt;Dish&gt; getAll() {\r\n            log.info(&quot;getAll&quot;);\r\n            return dishService.getAll();\r\n        }\r\n\r\nis there a problem with the controller or what?","title":"I can&#39;t get the full body of the response in the postman","body":"<p>I can't get the full body of the response in the postman. A list comes with food for the restaurant. I assume that I have this problem because of the date, because when I put the <code>@JsonIgnore</code> annotation on the field <code>private LocalDateTime updateDate</code> in the entity, the food list is displayed completely, when I remove this annotation, only one food is displayed without a date, but with the name of the field.</p>\n<p>without annotation:</p>\n<pre><code>[{&quot;id&quot;:100010,&quot;name&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:1400,&quot;updateDate&quot;}]\n</code></pre>\n<p>with annotation<code>@JsonIgnore</code>:</p>\n<pre><code>[{&quot;id&quot;:100016,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:910},{&quot;id&quot;:100012,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:760},{&quot;id&quot;:100018,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:260},{&quot;id&quot;:100013,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:1540},{&quot;id&quot;:100011,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:1400},{&quot;id&quot;:100015,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:720},{&quot;id&quot;:100014,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:470},{&quot;id&quot;:100010,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:1850},{&quot;id&quot;:100017,&quot;description&quot;:&quot; \\&quot;\\&quot;&quot;,&quot;cost&quot;:847}]\n</code></pre>\n<p>code in class:</p>\n<pre><code>@Entity\n@Table(name = &quot;restaurant_dishes&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;restaurant_id&quot;, name = &quot;restaurant_dishes_unique_id_rest&quot;)})\npublic class Dish extends AbstractBaseEntity {\n\n    @Column(name = &quot;description&quot;, nullable = false)\n    @NotBlank\n    @Size(min = 5, max = 90)\n    private String description;\n\n    @Column(name = &quot;cost&quot;, nullable = false)\n    @NotNull\n    private int cost;\n\n    @Column(name = &quot;update_date&quot;, nullable = false)\n    @NotNull\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\n    @JsonIgnore\n    private LocalDateTime updateDate;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;restaurant_id&quot;, nullable = false)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @NotNull\n    @JsonIgnore\n    private Restaurant restaurant;\n</code></pre>\n<p>controller:</p>\n<pre><code>@RequestMapping(value = DishUIController.REST_URL, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class DishUIController {\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    public static final String REST_URL = &quot;/users/dishes&quot;;\n\n    private final RestaurantService restaurantService;\n\n    private final DishService dishService;\n\n    public DishUIController(RestaurantService restaurantService, DishService dishService) {\n        this.restaurantService = restaurantService;\n        this.dishService = dishService;\n    }\n\n    @GetMapping\n    public List&lt;Dish&gt; getAll() {\n        log.info(&quot;getAll&quot;);\n        return dishService.getAll();\n    }\n</code></pre>\n<p>is there a problem with the controller or what?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1658910245,"post_id":73134465,"comment_id":129166434,"body_markdown":"Your interface could have a generic parameter for the type of BaseClass it applies to. `interface SomeInterface&lt;T extends BaseClass&gt;`.","body":"Your interface could have a generic parameter for the type of BaseClass it applies to. <code>interface SomeInterface&lt;T extends BaseClass&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658910235,"creation_date":1658910235,"answer_id":73134532,"question_id":73134465,"body_markdown":"You can:\r\n\r\n```\r\npublic interface SomeInterface&lt;T extends BaseClass&gt; {\r\n\r\n    void update(T impl);\r\n\r\n}\r\n```\r\n\r\nand then:\r\n\r\n```\r\n@Service\r\npublic class Impl1 extends SomeInterface&lt;ChildClass&gt; {\r\n    @Override\r\n    void update(ChildClass impl) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Java bounded type parameters in interface implementation","body":"<p>You can:</p>\n<pre><code>public interface SomeInterface&lt;T extends BaseClass&gt; {\n\n    void update(T impl);\n\n}\n</code></pre>\n<p>and then:</p>\n<pre><code>@Service\npublic class Impl1 extends SomeInterface&lt;ChildClass&gt; {\n    @Override\n    void update(ChildClass impl) {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19581210,"reputation":23,"user_id":14330235,"display_name":"morohon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658910235,"creation_date":1658909940,"question_id":73134465,"body_markdown":"I want to combine the use of bounded type parameters with DI spring. That is, I would like to declare an interface: \r\n\r\n```java\r\npublic abstract class BaseClass {\r\n}\r\n\r\npublic class ChildClass extends BaseClass {\r\n}\r\n\r\npublic interface SomeInterface {\r\n    &lt;T extends BaseClass&gt; void update(T impl);\r\n}\r\n```\r\nand make its implementation:\r\n```java\r\n@Service\r\npublic class Impl1 extends SomeInterface {\r\n    @Override\r\n    void update(ChildClass impl) {\r\n    }\r\n}\r\n```\r\n\r\nThat is, I want to declare in the interface a general type condition for implementations and use a specific type of successor in the implementation.\r\n\r\nIs it possible?","title":"Java bounded type parameters in interface implementation","body":"<p>I want to combine the use of bounded type parameters with DI spring. That is, I would like to declare an interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseClass {\n}\n\npublic class ChildClass extends BaseClass {\n}\n\npublic interface SomeInterface {\n    &lt;T extends BaseClass&gt; void update(T impl);\n}\n</code></pre>\n<p>and make its implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class Impl1 extends SomeInterface {\n    @Override\n    void update(ChildClass impl) {\n    }\n}\n</code></pre>\n<p>That is, I want to declare in the interface a general type condition for implementations and use a specific type of successor in the implementation.</p>\n<p>Is it possible?</p>\n"},{"tags":["java","sql","scala","apache-spark","teradata"],"comments":[{"owner":{"account_id":16007202,"reputation":1951,"user_id":11552426,"display_name":"Fred"},"score":0,"creation_date":1649803313,"post_id":71815657,"comment_id":126967425,"body_markdown":"NUMBER gets mapped to java.math.BigDecimal but it seems that &quot;unbounded&quot; NUMBER is mapped to (38,0). You may need to use a SELECT query rather than a table name so you can CAST the column to a NUMBER type with specific scale, or perhaps to DECIMAL or FLOAT if that&#39;s more appropriate.","body":"NUMBER gets mapped to java.math.BigDecimal but it seems that &quot;unbounded&quot; NUMBER is mapped to (38,0). You may need to use a SELECT query rather than a table name so you can CAST the column to a NUMBER type with specific scale, or perhaps to DECIMAL or FLOAT if that&#39;s more appropriate."},{"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"score":0,"creation_date":1650352840,"post_id":71815657,"comment_id":127087992,"body_markdown":"@Fred Thanks for the comment, it could be a workaround. The original type in Teradata is Number without explicit scale setting. So I can&#39;t cast it to a decimal type with correct scale setting. If wrong scale set, the number convert exception is thrown. Anyway, it&#39;s proved that convert Number to double/float is workable, it could be a workaround if the precision missing (double/float can&#39;t hold as much fractional digits as Number/Decimal does) is tolerated.","body":"@Fred Thanks for the comment, it could be a workaround. The original type in Teradata is Number without explicit scale setting. So I can&#39;t cast it to a decimal type with correct scale setting. If wrong scale set, the number convert exception is thrown. Anyway, it&#39;s proved that convert Number to double/float is workable, it could be a workaround if the precision missing (double/float can&#39;t hold as much fractional digits as Number/Decimal does) is tolerated."}],"answers":[{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658910221,"creation_date":1658910221,"answer_id":73134526,"question_id":71815657,"body_markdown":"Per this [pull request][1], the Spark 3.4.0 will respect the scale info of Teradata Number Type. \r\n\r\n\r\n  [1]: https://github.com/apache/spark/pull/36499","title":"Fractional part is removed after load data from Teradata to Spark","body":"<p>Per this <a href=\"https://github.com/apache/spark/pull/36499\" rel=\"nofollow noreferrer\">pull request</a>, the Spark 3.4.0 will respect the scale info of Teradata Number Type.</p>\n"}],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658910221,"creation_date":1649585951,"question_id":71815657,"body_markdown":"We&#39;re trying to load data from Teradata, the code using is:\r\n    \r\n\r\n    sparkSession.read\r\n          .format(&quot;jdbc&quot;)\r\n          .options(\r\n            Map(\r\n              &quot;url&quot; -&gt; &quot;jdbc:teradata://hostname, user=$username, password=$password&quot;,\r\n              &quot;MAYBENULL&quot; -&gt; &quot;ON&quot;,\r\n              &quot;SIP_SUPPORT&quot; -&gt; &quot;ON&quot;,\r\n              &quot;driver&quot; -&gt; &quot;com.teradata.jdbc.TeraDriver&quot;,\r\n              &quot;dbtable&quot; -&gt; $table_name\r\n            )\r\n          )\r\n          .load()\r\n\r\nHowever, some data lost its fractional part after loading. To be more concise, the column in Teradata is in the type of [Number][1] and after loading, the data type in Spark is `DecimalType(38,0)`, the scale value is 0 which means no digits after decimal point. \r\n\r\nData in Teradata is something like,\r\n\r\n    id column1 column2\r\n    1   50.23    100.23\r\n    2   25.8     20.669\r\n    3   30.2     19.23\r\n\r\nThe `dataframe` of Spark is like,\r\n\r\n    id column1 column2\r\n    1   50     100\r\n    2   26     21\r\n    3   30     19\r\n\r\nThe meta data of the table in Teradata is like:\r\n\r\n    CREATE SET TABLE table_name (id BIGINT, column1 NUMBER, column2 NUMBER) PRIMARY INDEX (id);\r\n\r\nThe Spark version is 2.3.0 and Teradata is 16.20.32.59. \r\n\r\nSo here comes question, why the automatic conversion happens and how can I keep the data&#39;s fractional part in Spark just as it was in Teradata. \r\n  [1]: https://docs.teradata.com/r/Teradata-Database-SQL-Data-Types-and-Literals/June-2017/Numeric-Data-Types/FLOAT/REAL/DOUBLE-PRECISION-Data-Types","title":"Fractional part is removed after load data from Teradata to Spark","body":"<p>We're trying to load data from Teradata, the code using is:</p>\n<pre><code>sparkSession.read\n      .format(&quot;jdbc&quot;)\n      .options(\n        Map(\n          &quot;url&quot; -&gt; &quot;jdbc:teradata://hostname, user=$username, password=$password&quot;,\n          &quot;MAYBENULL&quot; -&gt; &quot;ON&quot;,\n          &quot;SIP_SUPPORT&quot; -&gt; &quot;ON&quot;,\n          &quot;driver&quot; -&gt; &quot;com.teradata.jdbc.TeraDriver&quot;,\n          &quot;dbtable&quot; -&gt; $table_name\n        )\n      )\n      .load()\n</code></pre>\n<p>However, some data lost its fractional part after loading. To be more concise, the column in Teradata is in the type of [Number][1] and after loading, the data type in Spark is <code>DecimalType(38,0)</code>, the scale value is 0 which means no digits after decimal point.</p>\n<p>Data in Teradata is something like,</p>\n<pre><code>id column1 column2\n1   50.23    100.23\n2   25.8     20.669\n3   30.2     19.23\n</code></pre>\n<p>The <code>dataframe</code> of Spark is like,</p>\n<pre><code>id column1 column2\n1   50     100\n2   26     21\n3   30     19\n</code></pre>\n<p>The meta data of the table in Teradata is like:</p>\n<pre><code>CREATE SET TABLE table_name (id BIGINT, column1 NUMBER, column2 NUMBER) PRIMARY INDEX (id);\n</code></pre>\n<p>The Spark version is 2.3.0 and Teradata is 16.20.32.59.</p>\n<p>So here comes question, why the automatic conversion happens and how can I keep the data's fractional part in Spark just as it was in Teradata.\n[1]: <a href=\"https://docs.teradata.com/r/Teradata-Database-SQL-Data-Types-and-Literals/June-2017/Numeric-Data-Types/FLOAT/REAL/DOUBLE-PRECISION-Data-Types\" rel=\"nofollow noreferrer\">https://docs.teradata.com/r/Teradata-Database-SQL-Data-Types-and-Literals/June-2017/Numeric-Data-Types/FLOAT/REAL/DOUBLE-PRECISION-Data-Types</a></p>\n"},{"tags":["java","constants"],"comments":[{"owner":{"account_id":106983,"reputation":44143,"user_id":284685,"accept_rate":67,"display_name":"Adam"},"score":0,"creation_date":1450119469,"post_id":244191,"comment_id":56290787,"body_markdown":"Is there a memory usage advantage to declaring the constant at the class level as opposed to the method level, if the class is a Singleton? Any thoughts: @Chris Cudmore","body":"Is there a memory usage advantage to declaring the constant at the class level as opposed to the method level, if the class is a Singleton? Any thoughts: @Chris Cudmore"}],"answers":[{"tags":[],"owner":{"account_id":12184,"reputation":14301,"user_id":23855,"accept_rate":91,"display_name":"chills42"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1225216828,"creation_date":1225216828,"answer_id":244213,"question_id":244191,"body_markdown":"I would think that you should only put them at the class level if they are used by multiple methods.  If it is only used in that method then that looks fine to me.","title":"What are your thoughts on method scoped constants?","body":"<p>I would think that you should only put them at the class level if they are used by multiple methods.  If it is only used in that method then that looks fine to me.</p>\n"},{"tags":[],"owner":{"account_id":14170,"reputation":4301,"user_id":28921,"accept_rate":86,"display_name":"sakana"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1225216867,"creation_date":1225216867,"answer_id":244215,"question_id":244191,"body_markdown":"The reason why you can define a final variable at a class level or method (local) level it&#39;s because you can override the global static constant inside the (local) method. \r\n\r\nExample: \r\n\r\n    public class Test {\r\n    \r\n        final double MIN_INTEREST = 0.0;\r\n    \r\n        /**\r\n         * @param args\r\n         */\r\n        public static void main(String[] args) {\r\n           \r\n    \r\n            Test test = new Test();\r\n    \r\n            test.doSomethingLocal();\r\n            test.doSomethingGlobal();\r\n    \r\n        }\r\n    \r\n        public void doSomethingGlobal() {\r\n    \r\n            System.out.println(&quot;Global-&gt; &quot; + MIN_INTEREST);\r\n    \r\n        }\r\n    \r\n        public void doSomethingLocal() {\r\n    \r\n            final double MIN_INTEREST = 0.1;\r\n    \r\n            System.out.println(&quot;Local-&gt; &quot; + MIN_INTEREST);\r\n    \r\n        }\r\n    }\r\n\r\nThe output will be:\r\n\r\n    Local-&gt; 0.1\r\n    Global-&gt; 0.0\r\n\r\nSo your question doesn&#39;t make any sense.","title":"What are your thoughts on method scoped constants?","body":"<p>The reason why you can define a final variable at a class level or method (local) level it's because you can override the global static constant inside the (local) method. </p>\n\n<p>Example: </p>\n\n<pre><code>public class Test {\n\n    final double MIN_INTEREST = 0.0;\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n\n\n        Test test = new Test();\n\n        test.doSomethingLocal();\n        test.doSomethingGlobal();\n\n    }\n\n    public void doSomethingGlobal() {\n\n        System.out.println(\"Global-&gt; \" + MIN_INTEREST);\n\n    }\n\n    public void doSomethingLocal() {\n\n        final double MIN_INTEREST = 0.1;\n\n        System.out.println(\"Local-&gt; \" + MIN_INTEREST);\n\n    }\n}\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>Local-&gt; 0.1\nGlobal-&gt; 0.0\n</code></pre>\n\n<p>So your question doesn't make any sense.</p>\n"},{"tags":[],"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516322438,"creation_date":1225217824,"answer_id":244279,"question_id":244191,"body_markdown":"I&#39;ve used this method scoped constants myself but every so often a colleague will down mod it during code reviews. Again, these colleagues are not into reading/writing open source but they are used to enterprise software.\r\n\r\nI tell them that it does NOT make sense to use a class level constant if it is used within a single method but I&#39;ve found more than 1 colleague insisting that it be moved UP.\r\nI usually comply since I&#39;m not so rigid unless it affects readability and/or performance.","title":"What are your thoughts on method scoped constants?","body":"<p>I've used this method scoped constants myself but every so often a colleague will down mod it during code reviews. Again, these colleagues are not into reading/writing open source but they are used to enterprise software.</p>\n\n<p>I tell them that it does NOT make sense to use a class level constant if it is used within a single method but I've found more than 1 colleague insisting that it be moved UP.\nI usually comply since I'm not so rigid unless it affects readability and/or performance.</p>\n"},{"tags":[],"owner":{"account_id":10095,"reputation":29853,"user_id":18907,"accept_rate":97,"display_name":"Chris Cudmore"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1658910168,"creation_date":1225218408,"answer_id":244315,"question_id":244191,"body_markdown":"My starting position is that every variable or constant should be declared/initialized as close to its first use as possible/practical (i.e. don&#39;t break a logical block of code in half, just to declare a few lines closer), and scoped as tightly as possible. -- Unless you can give me a damn good reason why it should be different.\r\n\r\nFor example, a method scoped final won&#39;t be visible in the public API.  Sometimes this bit of information could be quite useful to the users of your class, and should be moved up.\r\n\r\nIn the example you gave in the question, I would say that `MIN_INTEREST` is probably one of those pieces of information that a user would like to get their hands on, and it should be scoped to the class, not the method.  (Although, there is no context to the example code, and my assumption could be completely wrong.)","title":"What are your thoughts on method scoped constants?","body":"<p>My starting position is that every variable or constant should be declared/initialized as close to its first use as possible/practical (i.e. don't break a logical block of code in half, just to declare a few lines closer), and scoped as tightly as possible. -- Unless you can give me a damn good reason why it should be different.</p>\n<p>For example, a method scoped final won't be visible in the public API.  Sometimes this bit of information could be quite useful to the users of your class, and should be moved up.</p>\n<p>In the example you gave in the question, I would say that <code>MIN_INTEREST</code> is probably one of those pieces of information that a user would like to get their hands on, and it should be scoped to the class, not the method.  (Although, there is no context to the example code, and my assumption could be completely wrong.)</p>\n"},{"tags":[],"owner":{"account_id":15223,"reputation":614,"user_id":31962,"display_name":"dongilmore"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1225219551,"creation_date":1225219551,"answer_id":244374,"question_id":244191,"body_markdown":"Information hiding and modularity are key principles, and narrow scoping is better information hiding. If the constant is only needed by the method, the hiding is good. If and when the constant is useful elsewhere, bring it out to a broader scope, but only as broadly as needed. \r\n\r\nYou are probably concerned because this is a constant, and therefore, it may seem to belong to some global properties table. Maybe it does. Maybe it doesn&#39;t. Your concern is valid, but there is no one best place for all constants. ","title":"What are your thoughts on method scoped constants?","body":"<p>Information hiding and modularity are key principles, and narrow scoping is better information hiding. If the constant is only needed by the method, the hiding is good. If and when the constant is useful elsewhere, bring it out to a broader scope, but only as broadly as needed. </p>\n\n<p>You are probably concerned because this is a constant, and therefore, it may seem to belong to some global properties table. Maybe it does. Maybe it doesn't. Your concern is valid, but there is no one best place for all constants. </p>\n"},{"tags":[],"owner":{"display_name":"jbisotti"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1226023498,"creation_date":1226023498,"answer_id":271033,"question_id":244191,"body_markdown":"Technically, there is no such thing as a &quot;method scoped constant&quot; in Java.  What you are referring to is simply a final local variable; it is created an destroyed with each method invocation.\r\n\r\nhttp://www.java-tips.org/java-se-tips/java.lang/how-do-i-declare-a-constant-in-java.html","title":"What are your thoughts on method scoped constants?","body":"<p>Technically, there is no such thing as a \"method scoped constant\" in Java.  What you are referring to is simply a final local variable; it is created an destroyed with each method invocation.</p>\n\n<p><a href=\"http://www.java-tips.org/java-se-tips/java.lang/how-do-i-declare-a-constant-in-java.html\" rel=\"noreferrer\">http://www.java-tips.org/java-se-tips/java.lang/how-do-i-declare-a-constant-in-java.html</a></p>\n"},{"tags":[],"owner":{"account_id":7906039,"reputation":286,"user_id":5971511,"display_name":"Gautam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488051507,"creation_date":1488051507,"answer_id":42460729,"question_id":244191,"body_markdown":"I have a different take on this: IMHO its better to place them at file/class scope especially if you are working in teams for this reason: say you start with a small piece of code...\r\n\r\n    public void doSomething() {\r\n\r\n      final double MIN_INTEREST = 0.0;\r\n\r\n      // ...  \r\n    }\r\n\r\nand other members of you team expand the class with whole bunch of methods and now the class is a wonderful `500 lines`/`50 methods` giant class. Imagine the experience of an engineer who is trying to adding a new method with a constant, they will have to `1` scan the whole class looking for constants that match their need, `2` move the constant to class scope hoping that there are no conflicts with existing code and `3` also add their method.\r\n\r\nIf you instead add all constants at file/class scope to begin with, engineers have a `1` single place to look for existing constants and, `2` derive some constants from others where it makes sense. (for example if you have a constant for `pi` you may also want to define a new constant with a value of `pi/2`).","title":"What are your thoughts on method scoped constants?","body":"<p>I have a different take on this: IMHO its better to place them at file/class scope especially if you are working in teams for this reason: say you start with a small piece of code...</p>\n\n<pre><code>public void doSomething() {\n\n  final double MIN_INTEREST = 0.0;\n\n  // ...  \n}\n</code></pre>\n\n<p>and other members of you team expand the class with whole bunch of methods and now the class is a wonderful <code>500 lines</code>/<code>50 methods</code> giant class. Imagine the experience of an engineer who is trying to adding a new method with a constant, they will have to <code>1</code> scan the whole class looking for constants that match their need, <code>2</code> move the constant to class scope hoping that there are no conflicts with existing code and <code>3</code> also add their method.</p>\n\n<p>If you instead add all constants at file/class scope to begin with, engineers have a <code>1</code> single place to look for existing constants and, <code>2</code> derive some constants from others where it makes sense. (for example if you have a constant for <code>pi</code> you may also want to define a new constant with a value of <code>pi/2</code>).</p>\n"}],"owner":{"account_id":15297,"reputation":1181,"user_id":32142,"accept_rate":86,"display_name":"Liggy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18633,"favorite_count":0,"down_vote_count":2,"up_vote_count":32,"accepted_answer_id":244315,"answer_count":7,"score":30,"last_activity_date":1658910168,"creation_date":1225216530,"question_id":244191,"body_markdown":"For example:\r\n\r\n    public void doSomething() {\r\n\r\n        final double MIN_INTEREST = 0.0;\r\n\r\n        // ...  \r\n    }\r\n\r\nPersonally, I would rather see these substitution constants declared statically at the class level.\r\nI suppose I&#39;m looking for an &quot;industry viewpoint&quot; on the matter.\r\n\r\n","title":"What are your thoughts on method scoped constants?","body":"<p>For example:</p>\n\n<pre><code>public void doSomething() {\n\n    final double MIN_INTEREST = 0.0;\n\n    // ...  \n}\n</code></pre>\n\n<p>Personally, I would rather see these substitution constants declared statically at the class level.\nI suppose I'm looking for an \"industry viewpoint\" on the matter.</p>\n"},{"tags":["java","build","jar","program-entry-point","bazel"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1549328362,"post_id":54526458,"comment_id":95855104,"body_markdown":"In step 6, is that an extra comma after defining the `main_class` ? (is it needed? or is it just a typo on the question?)","body":"In step 6, is that an extra comma after defining the <code>main_class</code> ? (is it needed? or is it just a typo on the question?)"},{"owner":{"account_id":7785919,"reputation":9877,"user_id":5890784,"accept_rate":90,"display_name":"Hind Forsum"},"score":0,"creation_date":1549330672,"post_id":54526458,"comment_id":95855498,"body_markdown":"I just tried to remove it, then same problem. Thanks.","body":"I just tried to remove it, then same problem. Thanks."},{"owner":{"account_id":11647,"reputation":629,"user_id":22554,"accept_rate":60,"display_name":"Bhavik"},"score":0,"creation_date":1549338929,"post_id":54526458,"comment_id":95856885,"body_markdown":"you need to run `bazel-bin/hello` OR `java -cp bazel-bin/hello.jar com.demo.DemoRunner` , even you can run it using `bazel run //:hello`","body":"you need to run <code>bazel-bin&#47;hello</code> OR <code>java -cp bazel-bin&#47;hello.jar com.demo.DemoRunner</code> , even you can run it using <code>bazel run &#47;&#47;:hello</code>"},{"owner":{"account_id":7785919,"reputation":9877,"user_id":5890784,"accept_rate":90,"display_name":"Hind Forsum"},"score":0,"creation_date":1549408923,"post_id":54526458,"comment_id":95889963,"body_markdown":"Thanks Bhavik, that works for me","body":"Thanks Bhavik, that works for me"},{"owner":{"account_id":20728043,"reputation":338,"user_id":15220917,"display_name":"SG_Bazel"},"score":0,"creation_date":1658909834,"post_id":54526458,"comment_id":129166281,"body_markdown":"{bazel build ... }","body":"{bazel build ... }"}],"answers":[{"tags":[],"owner":{"account_id":975399,"reputation":7972,"user_id":996815,"accept_rate":96,"display_name":"Vertexwahn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573501138,"creation_date":1573501138,"answer_id":58807635,"question_id":54526458,"body_markdown":"The Bazel command `run` can be used to run specified targets (see also comment from Bhavik):\r\n\r\n    bazel run //:hello","title":"Bazel build java demo: build ok but fail to run","body":"<p>The Bazel command <code>run</code> can be used to run specified targets (see also comment from Bhavik):</p>\n\n<pre><code>bazel run //:hello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20728043,"reputation":338,"user_id":15220917,"display_name":"SG_Bazel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658910127,"creation_date":1658910127,"answer_id":73134507,"question_id":54526458,"body_markdown":"`bazel build //...` &amp; `bazel run //...` builds and executes everything. You can find the build specific to the targets from [here][1]\r\n\r\n&gt; //...\tAll targets in packages in the workspace.\r\n\r\n\r\n  [1]: https://docs.bazel.build/versions/main/guide.html#specifying-targets-to-build","title":"Bazel build java demo: build ok but fail to run","body":"<p><code>bazel build //...</code> &amp; <code>bazel run //...</code> builds and executes everything. You can find the build specific to the targets from <a href=\"https://docs.bazel.build/versions/main/guide.html#specifying-targets-to-build\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>//... All targets in packages in the workspace.</p>\n</blockquote>\n"}],"owner":{"account_id":7785919,"reputation":9877,"user_id":5890784,"accept_rate":90,"display_name":"Hind Forsum"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658910127,"creation_date":1549328030,"question_id":54526458,"body_markdown":"I&#39;m new to bazel and have this demo project:\r\n\r\n(1)mkdir demo-project\r\n\r\n(2)cd demo-project\r\n\r\n(3)mkdir -p src/main/java/com/demo\r\n\r\n(4)vi src/main/java/com/demo/DemoRunner.java\r\n\r\n    package com.demo;\r\n    public class DemoRunner {\r\n        public static void main(String args[]) {\r\n            Hello.hello();\r\n        }\r\n    }\r\n\r\n(5)vi src/main/java/com/demo/Hello.java\r\n\r\n    package com.demo;\r\n\r\n    public class Hello {\r\n        public static void hello() {\r\n            System.out.println(&quot;hello,world&quot;);\r\n        }\r\n    }\r\n\r\n(6)vi ~/demo-project/BUILD\r\n\r\n    java_binary(\r\n        name = &quot;hello&quot;,\r\n        srcs = glob([&quot;**/*.java&quot;]),\r\n        main_class = &quot;com.demo.DemoRunner&quot;,\r\n    )\r\n\r\n(7) bazel build //:hello\r\n\r\n    Starting local Bazel server and connecting to it...\r\n    ...........\r\n    Analyzing: target //:hello (2 packages loaded)\r\n    INFO: Analysed target //:hello (15 packages loaded).\r\n    INFO: Found 1 target...\r\n    Target //:hello up-to-date:\r\n    bazel-bin/hello.jar\r\n    bazel-bin/hello\r\n    INFO: Elapsed time: 60.505s, Critical Path: 1.24s\r\n    INFO: 1 process: 1 worker.\r\n    INFO: Build completed successfully, 6 total actions\r\n\r\nEverything seems OK, but when I tried to \r\n\r\n    java bazel-bin/hello # Cannot find or load main class bazel-bin.hello\r\n    java -jar bazel-bin/hello.jar # Cannot find main list property in bazel-bin/hello.jar\r\n\r\nNeither command is successful, as described above. So after bazel compile, how can I run the java executable?","title":"Bazel build java demo: build ok but fail to run","body":"<p>I'm new to bazel and have this demo project:</p>\n\n<p>(1)mkdir demo-project</p>\n\n<p>(2)cd demo-project</p>\n\n<p>(3)mkdir -p src/main/java/com/demo</p>\n\n<p>(4)vi src/main/java/com/demo/DemoRunner.java</p>\n\n<pre><code>package com.demo;\npublic class DemoRunner {\n    public static void main(String args[]) {\n        Hello.hello();\n    }\n}\n</code></pre>\n\n<p>(5)vi src/main/java/com/demo/Hello.java</p>\n\n<pre><code>package com.demo;\n\npublic class Hello {\n    public static void hello() {\n        System.out.println(\"hello,world\");\n    }\n}\n</code></pre>\n\n<p>(6)vi ~/demo-project/BUILD</p>\n\n<pre><code>java_binary(\n    name = \"hello\",\n    srcs = glob([\"**/*.java\"]),\n    main_class = \"com.demo.DemoRunner\",\n)\n</code></pre>\n\n<p>(7) bazel build //:hello</p>\n\n<pre><code>Starting local Bazel server and connecting to it...\n...........\nAnalyzing: target //:hello (2 packages loaded)\nINFO: Analysed target //:hello (15 packages loaded).\nINFO: Found 1 target...\nTarget //:hello up-to-date:\nbazel-bin/hello.jar\nbazel-bin/hello\nINFO: Elapsed time: 60.505s, Critical Path: 1.24s\nINFO: 1 process: 1 worker.\nINFO: Build completed successfully, 6 total actions\n</code></pre>\n\n<p>Everything seems OK, but when I tried to </p>\n\n<pre><code>java bazel-bin/hello # Cannot find or load main class bazel-bin.hello\njava -jar bazel-bin/hello.jar # Cannot find main list property in bazel-bin/hello.jar\n</code></pre>\n\n<p>Neither command is successful, as described above. So after bazel compile, how can I run the java executable?</p>\n"},{"tags":["java","macos","gradle"],"answers":[{"tags":[],"owner":{"account_id":3488489,"reputation":724,"user_id":2918734,"display_name":"Igor Khvostenkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658910088,"creation_date":1658910088,"answer_id":73134499,"question_id":73134498,"body_markdown":"I spent almost an hour to find out what the problem is. This might be useful to someone who faces the same problem and saves some time.\r\n\r\nActual problem was in folder path. I am using MacOs and folder name like ```ProjectA/ProjectB``` is absolutely valid in MacOs. This folder name transforms in terminal into something like this: ```~/gitHub/ProjectA:ProjectB/ProjectA/src```. And from terminal point of view this is also absolutely valid path, you can cd there and list files, everything is working, but Gradle does not like it, when you execute command with gradle wrapper it returns an error from the question above. \r\nIt was not a good idea to name folder like this, but gradle might have better error returned or even handle such case, but probably this is just a generic java limitation.","title":"Error: Could not find or load main class org.gradle.wrapper.GradleWrapperMain in MacOs","body":"<p>I spent almost an hour to find out what the problem is. This might be useful to someone who faces the same problem and saves some time.</p>\n<p>Actual problem was in folder path. I am using MacOs and folder name like <code>ProjectA/ProjectB</code> is absolutely valid in MacOs. This folder name transforms in terminal into something like this: <code>~/gitHub/ProjectA:ProjectB/ProjectA/src</code>. And from terminal point of view this is also absolutely valid path, you can cd there and list files, everything is working, but Gradle does not like it, when you execute command with gradle wrapper it returns an error from the question above.\nIt was not a good idea to name folder like this, but gradle might have better error returned or even handle such case, but probably this is just a generic java limitation.</p>\n"}],"owner":{"account_id":3488489,"reputation":724,"user_id":2918734,"display_name":"Igor Khvostenkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73134499,"answer_count":1,"score":0,"last_activity_date":1658910088,"creation_date":1658910088,"question_id":73134498,"body_markdown":"I have simple java gradle project and use gradle wrapper to run it. However when I run ```./gradlew run``` I get:\r\n```\r\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\r\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\r\n```\r\nRemoving wrapper and generating it again did not help.","title":"Error: Could not find or load main class org.gradle.wrapper.GradleWrapperMain in MacOs","body":"<p>I have simple java gradle project and use gradle wrapper to run it. However when I run <code>./gradlew run</code> I get:</p>\n<pre><code>Error: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\nCaused by: java.lang.ClassNotFoundException: org.gradle.wrapper.GradleWrapperMain\n</code></pre>\n<p>Removing wrapper and generating it again did not help.</p>\n"},{"tags":["java","sql","hibernate"],"answers":[{"tags":[],"owner":{"account_id":939326,"reputation":31,"user_id":5372591,"display_name":"R C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658909879,"creation_date":1658909879,"answer_id":73134454,"question_id":71393862,"body_markdown":"Same issue here and could not find a way to prevent it from doing so, and as a workaround I have used hsqldb: read hibernate.properties + only modified driver/url/user/password to those of hsqldb, and only then handed the properties to hibernate to process them: this way hibernate gets a database to connect to (even though it does not need one for this task), while dialect remains intact, which is important for DDL/sql-scripts generation; tested and proved to work.","title":"Howto create sql files without database connection using hibernate 5","body":"<p>Same issue here and could not find a way to prevent it from doing so, and as a workaround I have used hsqldb: read hibernate.properties + only modified driver/url/user/password to those of hsqldb, and only then handed the properties to hibernate to process them: this way hibernate gets a database to connect to (even though it does not need one for this task), while dialect remains intact, which is important for DDL/sql-scripts generation; tested and proved to work.</p>\n"}],"owner":{"account_id":4501532,"reputation":837,"user_id":3659940,"accept_rate":80,"display_name":"Aster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1658909879,"creation_date":1646736994,"question_id":71393862,"body_markdown":"In hibernate 4 I used `config.generateSchemaCreationScript(dialect);` to generate sql creation script files from our classes. After update to hibernate 5 (5.6.5.Final to be precise) I&#39;m trying to create the same behavior.\r\n\r\nTried the following:\r\n```\r\nConfiguration config = new Configuration();\r\nfor (Class&lt;?&gt; type : types) {\r\n  config.addAnnotatedClass(type);\r\n}\r\nServiceRegistry serviceRegistry = config.getStandardServiceRegistryBuilder().applySetting(Environment.DIALECT, MariaDBDialect.class).build();\r\nMetadata metadata = new MetadataSources(serviceRegistry).getMetadataBuilder().build();\r\n\r\nSchemaExport schemaExport = new SchemaExport();\r\nschemaExport.setHaltOnError(true);\r\nschemaExport.setFormat(true);\r\nschemaExport.setDelimiter(&quot;;&quot;);\r\nschemaExport.setOutputFile(new File(&quot;create.sql&quot;));\r\nschemaExport.createOnly(EnumSet.of(TargetType.SCRIPT), metadata);\r\n```\r\n\r\nThis code gives me lots of warnings &quot;java.sql.SQLException: No suitable driver&quot; and &quot;java.sql.SQLException: Connections could not be acquired from the underlying database!&quot;. It seems that creation of the metadata object already tries to create a database connection. But I don&#39;t have/want a database connection, I only want to create sql files from the database objects.\r\n\r\nI&#39;ve also tried to do `schemaExport.execute(EnumSet.of(TargetType.SCRIPT), Action.CREATE, null, serviceRegistry);`. This will still try to setup a database connection and fails on a nullpointer exception for metadata.\r\n\r\nHow can I create sql files from my Configuration in hibernate 5 without a database connection?","title":"Howto create sql files without database connection using hibernate 5","body":"<p>In hibernate 4 I used <code>config.generateSchemaCreationScript(dialect);</code> to generate sql creation script files from our classes. After update to hibernate 5 (5.6.5.Final to be precise) I'm trying to create the same behavior.</p>\n<p>Tried the following:</p>\n<pre><code>Configuration config = new Configuration();\nfor (Class&lt;?&gt; type : types) {\n  config.addAnnotatedClass(type);\n}\nServiceRegistry serviceRegistry = config.getStandardServiceRegistryBuilder().applySetting(Environment.DIALECT, MariaDBDialect.class).build();\nMetadata metadata = new MetadataSources(serviceRegistry).getMetadataBuilder().build();\n\nSchemaExport schemaExport = new SchemaExport();\nschemaExport.setHaltOnError(true);\nschemaExport.setFormat(true);\nschemaExport.setDelimiter(&quot;;&quot;);\nschemaExport.setOutputFile(new File(&quot;create.sql&quot;));\nschemaExport.createOnly(EnumSet.of(TargetType.SCRIPT), metadata);\n</code></pre>\n<p>This code gives me lots of warnings &quot;java.sql.SQLException: No suitable driver&quot; and &quot;java.sql.SQLException: Connections could not be acquired from the underlying database!&quot;. It seems that creation of the metadata object already tries to create a database connection. But I don't have/want a database connection, I only want to create sql files from the database objects.</p>\n<p>I've also tried to do <code>schemaExport.execute(EnumSet.of(TargetType.SCRIPT), Action.CREATE, null, serviceRegistry);</code>. This will still try to setup a database connection and fails on a nullpointer exception for metadata.</p>\n<p>How can I create sql files from my Configuration in hibernate 5 without a database connection?</p>\n"},{"tags":["java","eclipse","server","client","stun"],"comments":[{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1658814857,"post_id":73105443,"comment_id":129138163,"body_markdown":"I am the maintainer and original author of Stuntman. I know for a fact that JSTUN and Stuntman interop just fine. What exactly is the issue?","body":"I am the maintainer and original author of Stuntman. I know for a fact that JSTUN and Stuntman interop just fine. What exactly is the issue?"},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1658909767,"post_id":73105443,"comment_id":129166257,"body_markdown":"I edited your original question to include your commentary you had added as an answer.  You should delete your answer below and focus on making the most understood question in the original post.","body":"I edited your original question to include your commentary you had added as an answer.  You should delete your answer below and focus on making the most understood question in the original post."},{"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"score":0,"creation_date":1658910436,"post_id":73105443,"comment_id":129166514,"body_markdown":"Also, I&#39;m not a Java build expert. The JSTUN&#39;s author doesn&#39;t have great build instructions. And the last time I built it was years ago - slogging through and learning the java build process as I went.","body":"Also, I&#39;m not a Java build expert. The JSTUN&#39;s author doesn&#39;t have great build instructions. And the last time I built it was years ago - slogging through and learning the java build process as I went."}],"owner":{"account_id":25887806,"reputation":1,"user_id":19615631,"display_name":"ABINAYASRI S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658909706,"creation_date":1658734181,"question_id":73105443,"body_markdown":"I&#39;m just using the stuntman stun server and I want to connect the jstun client library.And I use Eclipse IDE for jstun. Now I want to connect the client and server.\r\n\r\nPlease anyone help me!  \r\n\r\nI&#39;m trying to run jstun project by run the command in \r\n\r\n```\r\nmvn java -cp jstun-0.7.4.jar:slf4j-api-1.7.5.jar:slf4j-jdk14-1.7.5.jar de.javawi.jstun.test.demo.DiscoveryTestDemo\r\n```\r\nBut it shows the error of \r\n\r\n```\r\nError resolving version for plugin &#39;jstun-0.7.4.jar:slf4j-api-1.7.5.jar&#39;\r\n from the repositories [local (C:\\Users\\DELL\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]: Plugin not found in any plugin repository -&gt;\r\n```\r\n\r\nI tried many ways.But it didn&#39;t works.\r\nAnd I also step by step procedure to connect the jstun client with stuntman server.\r\n\r\nPlease answer me as soon as possible.","title":"How to connect the stuntman stun server with JSTUN stun client","body":"<p>I'm just using the stuntman stun server and I want to connect the jstun client library.And I use Eclipse IDE for jstun. Now I want to connect the client and server.</p>\n<p>Please anyone help me!</p>\n<p>I'm trying to run jstun project by run the command in</p>\n<pre><code>mvn java -cp jstun-0.7.4.jar:slf4j-api-1.7.5.jar:slf4j-jdk14-1.7.5.jar de.javawi.jstun.test.demo.DiscoveryTestDemo\n</code></pre>\n<p>But it shows the error of</p>\n<pre><code>Error resolving version for plugin 'jstun-0.7.4.jar:slf4j-api-1.7.5.jar'\n from the repositories [local (C:\\Users\\DELL\\.m2\\repository), central (https://repo.maven.apache.org/maven2)]: Plugin not found in any plugin repository -&gt;\n</code></pre>\n<p>I tried many ways.But it didn't works.\nAnd I also step by step procedure to connect the jstun client with stuntman server.</p>\n<p>Please answer me as soon as possible.</p>\n"},{"tags":["java","oracle","jdeveloper"],"answers":[{"tags":[],"owner":{"account_id":17533031,"reputation":1,"user_id":12716711,"display_name":"mengli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585276182,"creation_date":1585276182,"answer_id":60879159,"question_id":57890927,"body_markdown":"The main reason is that your Java and javac versions are inconsistent. You can check `java -version` and `javac -version` respectively in CMD","title":"Error : A JNI error has occurred, please check your installation and try again","body":"<p>The main reason is that your Java and javac versions are inconsistent. You can check <code>java -version</code> and <code>javac -version</code> respectively in CMD</p>\n"},{"tags":[],"owner":{"account_id":21550882,"reputation":11,"user_id":15887009,"display_name":"Adesh Kesarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631081610,"creation_date":1631081610,"answer_id":69097807,"question_id":57890927,"body_markdown":"I am using eclipse, so write my procedure for eclipse.\r\nFirst You should change the build path for for your project\r\n\r\nright click &gt;&gt; build path &gt;&gt;select ==  configure build path &gt;&gt; Libraries &gt;&gt; edit &gt;&gt; Execution Environment &gt;&gt; select == JavaSE-1.8(jre) &gt;&gt; Apply &gt;&gt; Apply and close \r\n\r\nalso you go on \r\nJRE System Library &gt;&gt; right click &gt;&gt; build path &gt;&gt;select ==  configure build path &gt;&gt; Libraries &gt;&gt; edit &gt;&gt; Execution Environment &gt;&gt; select == JavaSE-1.8(jre) &gt;&gt; Apply &gt;&gt; Apply and close","title":"Error : A JNI error has occurred, please check your installation and try again","body":"<p>I am using eclipse, so write my procedure for eclipse.\nFirst You should change the build path for for your project</p>\n<p>right click &gt;&gt; build path &gt;&gt;select ==  configure build path &gt;&gt; Libraries &gt;&gt; edit &gt;&gt; Execution Environment &gt;&gt; select == JavaSE-1.8(jre) &gt;&gt; Apply &gt;&gt; Apply and close</p>\n<p>also you go on\nJRE System Library &gt;&gt; right click &gt;&gt; build path &gt;&gt;select ==  configure build path &gt;&gt; Libraries &gt;&gt; edit &gt;&gt; Execution Environment &gt;&gt; select == JavaSE-1.8(jre) &gt;&gt; Apply &gt;&gt; Apply and close</p>\n"},{"tags":[],"owner":{"account_id":2191856,"reputation":318,"user_id":2436073,"accept_rate":100,"display_name":"Meera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658909531,"creation_date":1658909531,"answer_id":73134374,"question_id":57890927,"body_markdown":"Altough this question is already a bit older, I want to add some information since the problem seems to occur often and does not provide further information.\r\n\r\n - Check that the jar was compiled with the same Java version that is used to execute it. (Like mengli mentioned check java and javac version in the command line if you build there or check the java version in the command line where you execute the jar (or the topmost java version in your PATH environment variable if you execute it via double click) vs. the version that you configured in your development IDE for the project/jar artifact.\r\n - Make sure your topmost package does not start with &quot;Java&quot; and no class is named &quot;Java&quot;.\r\n - Check the contents of your jar and make sure that the folder hierarchy for class files resembles their packages (I did not know that and extracted dependency jars not into the root folder but into a subfolder - this leads to the JNI error!)","title":"Error : A JNI error has occurred, please check your installation and try again","body":"<p>Altough this question is already a bit older, I want to add some information since the problem seems to occur often and does not provide further information.</p>\n<ul>\n<li>Check that the jar was compiled with the same Java version that is used to execute it. (Like mengli mentioned check java and javac version in the command line if you build there or check the java version in the command line where you execute the jar (or the topmost java version in your PATH environment variable if you execute it via double click) vs. the version that you configured in your development IDE for the project/jar artifact.</li>\n<li>Make sure your topmost package does not start with &quot;Java&quot; and no class is named &quot;Java&quot;.</li>\n<li>Check the contents of your jar and make sure that the folder hierarchy for class files resembles their packages (I did not know that and extracted dependency jars not into the root folder but into a subfolder - this leads to the JNI error!)</li>\n</ul>\n"}],"owner":{"account_id":13122502,"reputation":49,"user_id":9479499,"display_name":"Ahmed Omar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1658909531,"creation_date":1568210647,"question_id":57890927,"body_markdown":"I&#39;m using Oracle Jdeveloper 12c.\r\n\r\nI&#39;m trying to deploy my java application as a jar file, The deployment process goes smoothly without errors but when i try o run the jar file i gt this error &quot;A JNI error has occurred, please check your installation and try again&quot;\r\n\r\nplease help.","title":"Error : A JNI error has occurred, please check your installation and try again","body":"<p>I'm using Oracle Jdeveloper 12c.</p>\n\n<p>I'm trying to deploy my java application as a jar file, The deployment process goes smoothly without errors but when i try o run the jar file i gt this error \"A JNI error has occurred, please check your installation and try again\"</p>\n\n<p>please help.</p>\n"},{"tags":["java","spring","spring-boot","jpa","logic"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658909523,"creation_date":1658909523,"answer_id":73134370,"question_id":73134313,"body_markdown":"Per specification, the ID must be assigned to the Entity after calling EntityManager.persist.\r\n\r\nThis means you will have the ID after you call save() and then you can generate the unique id.\r\n\r\nThe INSERT statement will be executed on before commit not when calling save(). But take care there is saveAndFlush() that will execute the INSERT.","title":"Generate a code with the unique id which will be generated after the saving the object into database","body":"<p>Per specification, the ID must be assigned to the Entity after calling EntityManager.persist.</p>\n<p>This means you will have the ID after you call save() and then you can generate the unique id.</p>\n<p>The INSERT statement will be executed on before commit not when calling save(). But take care there is saveAndFlush() that will execute the INSERT.</p>\n"}],"owner":{"account_id":18108075,"reputation":39,"user_id":13165294,"display_name":"Saif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658909523,"creation_date":1658909229,"question_id":73134313,"body_markdown":"I will try to explain if it is not clear please tell. \r\n\r\nI have a requirement where I need to generate a code(which is an attribute of an object) that will be a combination of some `string + (unique id generated after saving the object into DB)`.\r\n\r\nThe problem is that I will not be knowing the id of that object before saving that object and that attribute refers to a not null column in the table. \r\nSo is there a way by which I can know the id which will be generated before saving it?\r\n\r\nI am using JPA.\r\n","title":"Generate a code with the unique id which will be generated after the saving the object into database","body":"<p>I will try to explain if it is not clear please tell.</p>\n<p>I have a requirement where I need to generate a code(which is an attribute of an object) that will be a combination of some <code>string + (unique id generated after saving the object into DB)</code>.</p>\n<p>The problem is that I will not be knowing the id of that object before saving that object and that attribute refers to a not null column in the table.\nSo is there a way by which I can know the id which will be generated before saving it?</p>\n<p>I am using JPA.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","configuration","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658909497,"creation_date":1658909497,"answer_id":73134366,"question_id":72989018,"body_markdown":"We were investigating this issue and unable to really figure-out the root cause. However we could overcome this issue. I have no logical explanation for the moment to support how come this fixes the issue but anyway I will mention it here since it might help someone if ever come across the same issue. \r\n\r\nMy issue is solved after removing the following configuration from the `application.yml` file.\r\n\r\n    recordExceptions:\r\n      - org.springframework.web.client.HttpServerErrorException\r\n      - org.springframework.web.client.RestClientException\r\n      - java.util.concurrent.TimeoutException\r\n      - java.io.IOException\r\n    ignoreExceptions:\r\n      - org.springframework.web.client.ResourceAccessException\r\n\r\nAgain, I have no clue to explain the fix but until I figure out the problem, this might help. Thanks! ","title":"Spring boot application properties are not reading in AWS environment","body":"<p>We were investigating this issue and unable to really figure-out the root cause. However we could overcome this issue. I have no logical explanation for the moment to support how come this fixes the issue but anyway I will mention it here since it might help someone if ever come across the same issue.</p>\n<p>My issue is solved after removing the following configuration from the <code>application.yml</code> file.</p>\n<pre><code>recordExceptions:\n  - org.springframework.web.client.HttpServerErrorException\n  - org.springframework.web.client.RestClientException\n  - java.util.concurrent.TimeoutException\n  - java.io.IOException\nignoreExceptions:\n  - org.springframework.web.client.ResourceAccessException\n</code></pre>\n<p>Again, I have no clue to explain the fix but until I figure out the problem, this might help. Thanks!</p>\n"}],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73134366,"answer_count":1,"score":0,"last_activity_date":1658909497,"creation_date":1657858971,"question_id":72989018,"body_markdown":"Apparently, myself along with my team is facing an issue related to our spring boot application&#39;s `application.yml` file. We did attempt to solve this issue for over three days and still unable to figure out what went wrong.  \r\n\r\nThis issue is with the `application.yml` used in `spring-cloud-starter-circuitbreaker-resilience4j` with version `2.1.3`. All other application properties related to other libraries are working fine. However, in my local PC, all the test cases and Maven build is successful including Resilience4J related properties. When the application is deployed into AWS environment then the Resilience4J related properties are not read. \r\n\r\nI have no clue how does this happen. It works fine in local environment and does not work on AWS environment but only Resilience4J related application properties. I will add the application properties I am using as well. \r\n\r\n    resilience4j:\r\n      circuitbreaker:\r\n        instances:\r\n          backendA:\r\n            registerHealthIndicator: true\r\n            slidingWindowSize: 3\r\n            minimumNumberOfCalls: 4\r\n            permittedNumberOfCallsInHalfOpenState: 3\r\n            automaticTransitionFromOpenToHalfOpenEnabled: true\r\n            waitDurationInOpenState: 10s\r\n            failureRateThreshold: 50\r\n            eventConsumerBufferSize: 10\r\n            recordExceptions:\r\n              - org.springframework.web.client.HttpServerErrorException\r\n              - org.springframework.web.client.RestClientException\r\n              - java.util.concurrent.TimeoutException\r\n              - java.io.IOException\r\n            ignoreExceptions:\r\n              - org.springframework.web.client.ResourceAccessException\r\n\r\nSample code usage is also added bellow.\r\n\r\n\r\n    import org.springframework.cloud.client.circuitbreaker.CircuitBreaker;\r\n    import org.springframework.cloud.client.circuitbreaker.CircuitBreakerFactory;\r\n    \r\n      @Override\r\n      public String getRemoteData(boolean isRequestTimeout) {\r\n        CircuitBreaker circuitBreaker = circuitBreakerFactory.create(&quot;backendTest&quot;);\r\n    \r\n        String remoteUrl = url + &quot;circuit-breaker/sample-data&quot;;\r\n    \r\n        if (isRequestTimeout) {\r\n          remoteUrl = &quot;http://localhost:8090/invalid-endpoint&quot;; //invalid uri\r\n        }\r\n        String finalRemoteUrl = remoteUrl;\r\n        return circuitBreaker.run(\r\n            () -&gt; {\r\n              log.info(&quot;CircuitBreaker Caller Method&quot;);\r\n              return longTimeoutRestTemplate.getForObject(finalRemoteUrl, String.class);\r\n            }\r\n            , throwable -&gt; getDefaultList());\r\n      }\r\n\r\nI am using `java 11` and locally built with `maven 3.8.1` in `windows` platform. In AWS I am using `java-11-openjdk` in `amazon-linux` platform. This issue may sounds weird and impossible but I have no logical explanation on how does this happen in this way. Please help me to figure this out and thank you. \r\n\r\n***Something new to add***\r\n\r\nIf we declare another java class to get those application properties and create the factory bean, then it works. \r\n\r\n    @Bean\r\n    public Customizer&lt;Resilience4JCircuitBreakerFactory&gt; specificCustomConfiguration1() {\r\n    \r\n     TimeLimiterConfig timeLimiterConfig = TimeLimiterConfig.custom()\r\n       .timeoutDuration(Duration.ofSeconds(4))\r\n       .build();\r\n     CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\r\n       .failureRateThreshold(50)\r\n       .waitDurationInOpenState(Duration.ofMillis(10000))\r\n       .slidingWindowSize(2)\r\n       .build();\r\n    \r\n     return factory -&gt; factory.configure(builder -&gt; builder.circuitBreakerConfig(circuitBreakerConfig)\r\n       .timeLimiterConfig(timeLimiterConfig).build(), &quot;backendTest&quot;);\r\n    }\r\nThis manual `@Bean` creation is not mandatory and the library should read the `application.yml` file and create the `@Bean` factory. If the above code is missing, then the factory is created with default configuration properties.\r\n","title":"Spring boot application properties are not reading in AWS environment","body":"<p>Apparently, myself along with my team is facing an issue related to our spring boot application's <code>application.yml</code> file. We did attempt to solve this issue for over three days and still unable to figure out what went wrong.</p>\n<p>This issue is with the <code>application.yml</code> used in <code>spring-cloud-starter-circuitbreaker-resilience4j</code> with version <code>2.1.3</code>. All other application properties related to other libraries are working fine. However, in my local PC, all the test cases and Maven build is successful including Resilience4J related properties. When the application is deployed into AWS environment then the Resilience4J related properties are not read.</p>\n<p>I have no clue how does this happen. It works fine in local environment and does not work on AWS environment but only Resilience4J related application properties. I will add the application properties I am using as well.</p>\n<pre><code>resilience4j:\n  circuitbreaker:\n    instances:\n      backendA:\n        registerHealthIndicator: true\n        slidingWindowSize: 3\n        minimumNumberOfCalls: 4\n        permittedNumberOfCallsInHalfOpenState: 3\n        automaticTransitionFromOpenToHalfOpenEnabled: true\n        waitDurationInOpenState: 10s\n        failureRateThreshold: 50\n        eventConsumerBufferSize: 10\n        recordExceptions:\n          - org.springframework.web.client.HttpServerErrorException\n          - org.springframework.web.client.RestClientException\n          - java.util.concurrent.TimeoutException\n          - java.io.IOException\n        ignoreExceptions:\n          - org.springframework.web.client.ResourceAccessException\n</code></pre>\n<p>Sample code usage is also added bellow.</p>\n<pre><code>import org.springframework.cloud.client.circuitbreaker.CircuitBreaker;\nimport org.springframework.cloud.client.circuitbreaker.CircuitBreakerFactory;\n\n  @Override\n  public String getRemoteData(boolean isRequestTimeout) {\n    CircuitBreaker circuitBreaker = circuitBreakerFactory.create(&quot;backendTest&quot;);\n\n    String remoteUrl = url + &quot;circuit-breaker/sample-data&quot;;\n\n    if (isRequestTimeout) {\n      remoteUrl = &quot;http://localhost:8090/invalid-endpoint&quot;; //invalid uri\n    }\n    String finalRemoteUrl = remoteUrl;\n    return circuitBreaker.run(\n        () -&gt; {\n          log.info(&quot;CircuitBreaker Caller Method&quot;);\n          return longTimeoutRestTemplate.getForObject(finalRemoteUrl, String.class);\n        }\n        , throwable -&gt; getDefaultList());\n  }\n</code></pre>\n<p>I am using <code>java 11</code> and locally built with <code>maven 3.8.1</code> in <code>windows</code> platform. In AWS I am using <code>java-11-openjdk</code> in <code>amazon-linux</code> platform. This issue may sounds weird and impossible but I have no logical explanation on how does this happen in this way. Please help me to figure this out and thank you.</p>\n<p><em><strong>Something new to add</strong></em></p>\n<p>If we declare another java class to get those application properties and create the factory bean, then it works.</p>\n<pre><code>@Bean\npublic Customizer&lt;Resilience4JCircuitBreakerFactory&gt; specificCustomConfiguration1() {\n\n TimeLimiterConfig timeLimiterConfig = TimeLimiterConfig.custom()\n   .timeoutDuration(Duration.ofSeconds(4))\n   .build();\n CircuitBreakerConfig circuitBreakerConfig = CircuitBreakerConfig.custom()\n   .failureRateThreshold(50)\n   .waitDurationInOpenState(Duration.ofMillis(10000))\n   .slidingWindowSize(2)\n   .build();\n\n return factory -&gt; factory.configure(builder -&gt; builder.circuitBreakerConfig(circuitBreakerConfig)\n   .timeLimiterConfig(timeLimiterConfig).build(), &quot;backendTest&quot;);\n}\n</code></pre>\n<p>This manual <code>@Bean</code> creation is not mandatory and the library should read the <code>application.yml</code> file and create the <code>@Bean</code> factory. If the above code is missing, then the factory is created with default configuration properties.</p>\n"},{"tags":["java","reflection","bytecode-manipulation"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1452204549,"post_id":34665941,"comment_id":57077906,"body_markdown":"Review all answers:  http://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens","body":"Review all answers:  <a href=\"http://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\" title=\"java generics type erasure when and what happens\">stackoverflow.com/questions/339699/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1452204841,"post_id":34665941,"comment_id":57078022,"body_markdown":"Short answer: no, it&#39;s not possible.  At runtime, the objects don&#39;t even know their own generic type.","body":"Short answer: no, it&#39;s not possible.  At runtime, the objects don&#39;t even know their own generic type."}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1452204328,"creation_date":1452204328,"answer_id":34666032,"question_id":34665941,"body_markdown":"Due to type erasure, you can&#39;t do it. The most you can do with reflection is get information about the declared type variables, not the actual types bound by an instance at run time. That information is thrown away by the compiler.\r\n\r\nFor more info, read the [tutorial on Type Erasure][1] and/or [section 4.6 of the Java Language Specification][2], which discusses type erasure.\r\n\r\nIf you need run-time type information about the instance class, the best you can do is require that a `Class` object be passed at instance construction:\r\n\r\n    class Container&lt;T&gt; {\r\n        private List&lt;T&gt; list;\r\n        private Class&lt;T&gt; type;\r\n\r\n        public Container(Class&lt;T&gt; type) {\r\n            this.type = type;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6","title":"Resolve a TypeVariable","body":"<p>Due to type erasure, you can't do it. The most you can do with reflection is get information about the declared type variables, not the actual types bound by an instance at run time. That information is thrown away by the compiler.</p>\n\n<p>For more info, read the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow\">tutorial on Type Erasure</a> and/or <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6\" rel=\"nofollow\">section 4.6 of the Java Language Specification</a>, which discusses type erasure.</p>\n\n<p>If you need run-time type information about the instance class, the best you can do is require that a <code>Class</code> object be passed at instance construction:</p>\n\n<pre><code>class Container&lt;T&gt; {\n    private List&lt;T&gt; list;\n    private Class&lt;T&gt; type;\n\n    public Container(Class&lt;T&gt; type) {\n        this.type = type;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658240839,"creation_date":1452207110,"answer_id":34666668,"question_id":34665941,"body_markdown":"With your edit, yes, you can find out that `String` is the actual type parameter:\r\n\r\n    Field field = StringContainerContainer.class.getDeclaredField(&quot;container&quot;);\r\n    ParameterizedType gt = (ParameterizedType) field.getGenericType();\r\n    Class&lt;?&gt; arg = (Class&lt;?&gt;) gt.getActualTypeArguments()[0];\r\n    System.out.println(arg);\r\n\r\nI should point out that this identifies the type argument of the `container` field of `StringContainerContainer`. Given how `Container` is written, that also happens to be the type argument of its `list` field, but that field isn&#39;t directly examined.","title":"Resolve a TypeVariable","body":"<p>With your edit, yes, you can find out that <code>String</code> is the actual type parameter:</p>\n<pre><code>Field field = StringContainerContainer.class.getDeclaredField(&quot;container&quot;);\nParameterizedType gt = (ParameterizedType) field.getGenericType();\nClass&lt;?&gt; arg = (Class&lt;?&gt;) gt.getActualTypeArguments()[0];\nSystem.out.println(arg);\n</code></pre>\n<p>I should point out that this identifies the type argument of the <code>container</code> field of <code>StringContainerContainer</code>. Given how <code>Container</code> is written, that also happens to be the type argument of its <code>list</code> field, but that field isn't directly examined.</p>\n"},{"tags":[],"owner":{"account_id":88135,"reputation":15266,"user_id":243991,"accept_rate":22,"display_name":"Peter Kriens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658909125,"creation_date":1658909125,"answer_id":73134292,"question_id":34665941,"body_markdown":"There is always a lot of confusion around generics and erasure. Erasure means that the actual runtime objects are void of generic information. However, the reflection in Java does expose whenever generic information is recorded in the types. To carry the generic information, Java reflection has the `Type` marker interface. Implementations are:\r\n\r\n* Class  Each class is a Type\r\n* ParameterizedType  Links the _raw type_ to a set of argument Type objects. For example, `List&lt;String&gt;` has a raw type of `List` and one argument that is `String`.\r\n* GenericArrayType  Records the component Type of an array\r\n* WildcardType  Handles declarations like `? extends Foo`.\r\n* TypeVariable  Handles references to type variables. For example, `class A&lt;X&gt; extends Foo&lt;X&gt; {}`, the `X` in the declaration of `Foo` will be represented as a `TypeVariable`.\r\n\r\nWhen generics were introduced, all reflective methods that could provide a Class, were augmented with a method that could provide a Type. For example, a Class has a method `Class&lt;?&gt; Class.getSuperType()`, which is super confusing since it returns a Class object. There was a new method added, `Type Class.getGenericSuperType()`\r\n\r\nJava lacks syntax support for a Type, there is no simple way to create a Type object in the language. The only way that I know to get a random Type is using a hack. \r\n\r\n     |  Welcome to JShell -- Version 17.0.3\r\n     jshell&gt; import java.lang.reflect.*;\r\n     jshell&gt; public abstract class TypeReference&lt;T&gt; {}\r\n     |  created class TypeReference\r\n     jshell&gt; \r\n\r\nNow in code we can do this:\r\n\r\n     jshell&gt;     ParameterizedType supertype = (ParameterizedType) new TypeReference&lt;List&lt;String&gt;&gt;() {}.getClass().getGenericSuperclass();\r\n     ...&gt;     Type typeref = supertype.getActualTypeArguments()[0];\r\n     supertype ==&gt; TypeReference&lt;java.util.List&lt;java.lang.String&gt;&gt;\r\n     typeref ==&gt; java.util.List&lt;java.lang.String&gt;\r\n     jshell&gt;     Type typeref = supertype.getActualTypeArguments()[0];\r\n     typeref ==&gt; java.util.List&lt;java.lang.String&gt;\r\n     jshell&gt; \r\n\r\nThe typeref is in the given example `List&lt;String&gt;`. We can move this code to the TypeReference class:\r\n\r\n     jshell&gt;     public abstract class TypeReference&lt;T&gt; {\r\n        ...&gt;         public Type getType() {\r\n        ...&gt;             ParameterizedType supertype = (ParameterizedType) \r\n        ...&gt;                  new TypeReference&lt;List&lt;String&gt;&gt;() {}\r\n        ...&gt;                        .getClass().getGenericSuperclass();\r\n        ...&gt;            return supertype.getActualTypeArguments()[0];\r\n        ...&gt;         }\r\n        ...&gt;     }\r\n\r\n\r\nThis code looks a tad scary with the wild cast &amp; array indexing. However, this code cannot fail, it is hard coded in the types we use, Java just lacks the power to do this in a syntactically clear way. However, when you have a loose `Type`, you will need to do some parsing using `instanceof` and lots of recursing. \r\n\r\nThe hard one in the parsing is the `TypeVariable`. A `TypeVariable` refers to a `GenericDeclaration`. A `Class` is a `GenericDeclaration`, it represents the formal type parameters, i.e. the TypeVariable. For example, `class Foo&lt;X,Y&gt; {}` declares two TypeVariables X and Y. Don&#39;t be seduced by the name _variable_, it is only the formal declaration.\r\n\r\n    public interface GenericDeclaration extends AnnotatedElement {\r\n       public TypeVariable&lt;?&gt;[] getTypeParameters();\r\n    }\r\n\r\nSo when you get a `ParameterizedType` that has a `TypeVariable` argument, you need to know the _current invocation_. This is really tricky and cannot always be done properly. Lets have:\r\n\r\n    jshell&gt;     class B&lt;T&gt; {}\r\n       ...&gt;     class A&lt;X&gt; extends B&lt;X&gt; {}\r\n       ...&gt;     A&lt;String&gt; a = new A&lt;String&gt;() {};\r\n       ...&gt;     TypeVariable X = A.class.getTypeParameters()[0];\r\n       ...&gt; \r\n    |  created class B\r\n    |  created class A\r\n    a ==&gt; 1@2b98378d\r\n    X ==&gt; X\r\n\r\nWe created an anonymous subclass to record the generic reference to the super class A. This allows us to fetch the generic declaration.\r\n\r\n    jshell&gt;     ParameterizedType atype = (ParameterizedType) a.getClass().getGenericSuperclass();\r\n       ...&gt; \r\n    atype ==&gt; A&lt;java.lang.String&gt;\r\n\r\nThis `atype` now gives us a current definition for the `X` type variable. Lets store it.\r\n\r\n    jshell&gt;     Map&lt;TypeVariable,Type&gt; vars = new HashMap&lt;&gt;();\r\n       ...&gt;     vars.put(X, atype.getActualTypeArguments()[0] );\r\n       ...&gt; \r\n    vars ==&gt; {}\r\n    $13 ==&gt; null\r\n\r\nSo now we can get the generic super type of A\r\n\r\n     ParameterizedType btype = (ParameterizedType) a.getClass().getSuperclass().getGenericSuperclass();\r\n       ...&gt;     Type T = btype.getActualTypeArguments()[0];\r\n       ...&gt;     assert T instanceof TypeVariable;\r\n       ...&gt;     Type actualT = vars.get((TypeVariable)T);\r\n       ...&gt;     assert actualT == String.class\r\n     btype ==&gt; B&lt;X&gt;\r\n     T ==&gt; X\r\n     actualT ==&gt; class java.lang.String\r\n  \r\nIf you need to parse a complex type graph you will therefore need to maintain the current values of the type variables while you traverse it. I think you can run into situations where you would need to have multiple values for a Type Variable but have not spent the time to come up with an example.\r\n\r\nAnyway, in your example you have the Container class. So you can get the field and then the generic declaration (casts omitted).\r\n\r\n    ParameterizedType type = Container.class.getField(&quot;list&quot;).getGenericType();\r\n    Class listtype = type.getActualArgumentType()[0];\r\n\r\nUnderstanding the Java generic types is incredibly powerful. More than 10 years ago I created a Converter class in [bnd][1] that used generics to convert anything to anything if possible. A byte array to a `List&lt;Double&gt;`, no problem! This became one of my most heavily used classes, cutting down boiler plate code to peanut size. Many other problems can also be reduced to a fraction of the code size. \r\n\r\nAlthough the reflection support of the JVM is impressive, there is a continuous pain that the Java language completely ignores it. The lack of type literals, the problem we solved with the TypeReference class, and references to methods, constructors, and fields is so puzzling. We now have very syntax like `Foo::a` to refer to a method but there is no known way to get the class &amp; method back. And it is imho _really_ hard to get any useful documentation. Really sad.\r\n\r\n\r\n[1]: https://github.com/bndtools/bnd/blob/master/aQute.libg/src/aQute/lib/converter/Converter.java\r\n\r\n\r\n            \r\n","title":"Resolve a TypeVariable","body":"<p>There is always a lot of confusion around generics and erasure. Erasure means that the actual runtime objects are void of generic information. However, the reflection in Java does expose whenever generic information is recorded in the types. To carry the generic information, Java reflection has the <code>Type</code> marker interface. Implementations are:</p>\n<ul>\n<li>Class  Each class is a Type</li>\n<li>ParameterizedType  Links the <em>raw type</em> to a set of argument Type objects. For example, <code>List&lt;String&gt;</code> has a raw type of <code>List</code> and one argument that is <code>String</code>.</li>\n<li>GenericArrayType  Records the component Type of an array</li>\n<li>WildcardType  Handles declarations like <code>? extends Foo</code>.</li>\n<li>TypeVariable  Handles references to type variables. For example, <code>class A&lt;X&gt; extends Foo&lt;X&gt; {}</code>, the <code>X</code> in the declaration of <code>Foo</code> will be represented as a <code>TypeVariable</code>.</li>\n</ul>\n<p>When generics were introduced, all reflective methods that could provide a Class, were augmented with a method that could provide a Type. For example, a Class has a method <code>Class&lt;?&gt; Class.getSuperType()</code>, which is super confusing since it returns a Class object. There was a new method added, <code>Type Class.getGenericSuperType()</code></p>\n<p>Java lacks syntax support for a Type, there is no simple way to create a Type object in the language. The only way that I know to get a random Type is using a hack.</p>\n<pre><code> |  Welcome to JShell -- Version 17.0.3\n jshell&gt; import java.lang.reflect.*;\n jshell&gt; public abstract class TypeReference&lt;T&gt; {}\n |  created class TypeReference\n jshell&gt; \n</code></pre>\n<p>Now in code we can do this:</p>\n<pre><code> jshell&gt;     ParameterizedType supertype = (ParameterizedType) new TypeReference&lt;List&lt;String&gt;&gt;() {}.getClass().getGenericSuperclass();\n ...&gt;     Type typeref = supertype.getActualTypeArguments()[0];\n supertype ==&gt; TypeReference&lt;java.util.List&lt;java.lang.String&gt;&gt;\n typeref ==&gt; java.util.List&lt;java.lang.String&gt;\n jshell&gt;     Type typeref = supertype.getActualTypeArguments()[0];\n typeref ==&gt; java.util.List&lt;java.lang.String&gt;\n jshell&gt; \n</code></pre>\n<p>The typeref is in the given example <code>List&lt;String&gt;</code>. We can move this code to the TypeReference class:</p>\n<pre><code> jshell&gt;     public abstract class TypeReference&lt;T&gt; {\n    ...&gt;         public Type getType() {\n    ...&gt;             ParameterizedType supertype = (ParameterizedType) \n    ...&gt;                  new TypeReference&lt;List&lt;String&gt;&gt;() {}\n    ...&gt;                        .getClass().getGenericSuperclass();\n    ...&gt;            return supertype.getActualTypeArguments()[0];\n    ...&gt;         }\n    ...&gt;     }\n</code></pre>\n<p>This code looks a tad scary with the wild cast &amp; array indexing. However, this code cannot fail, it is hard coded in the types we use, Java just lacks the power to do this in a syntactically clear way. However, when you have a loose <code>Type</code>, you will need to do some parsing using <code>instanceof</code> and lots of recursing.</p>\n<p>The hard one in the parsing is the <code>TypeVariable</code>. A <code>TypeVariable</code> refers to a <code>GenericDeclaration</code>. A <code>Class</code> is a <code>GenericDeclaration</code>, it represents the formal type parameters, i.e. the TypeVariable. For example, <code>class Foo&lt;X,Y&gt; {}</code> declares two TypeVariables X and Y. Don't be seduced by the name <em>variable</em>, it is only the formal declaration.</p>\n<pre><code>public interface GenericDeclaration extends AnnotatedElement {\n   public TypeVariable&lt;?&gt;[] getTypeParameters();\n}\n</code></pre>\n<p>So when you get a <code>ParameterizedType</code> that has a <code>TypeVariable</code> argument, you need to know the <em>current invocation</em>. This is really tricky and cannot always be done properly. Lets have:</p>\n<pre><code>jshell&gt;     class B&lt;T&gt; {}\n   ...&gt;     class A&lt;X&gt; extends B&lt;X&gt; {}\n   ...&gt;     A&lt;String&gt; a = new A&lt;String&gt;() {};\n   ...&gt;     TypeVariable X = A.class.getTypeParameters()[0];\n   ...&gt; \n|  created class B\n|  created class A\na ==&gt; 1@2b98378d\nX ==&gt; X\n</code></pre>\n<p>We created an anonymous subclass to record the generic reference to the super class A. This allows us to fetch the generic declaration.</p>\n<pre><code>jshell&gt;     ParameterizedType atype = (ParameterizedType) a.getClass().getGenericSuperclass();\n   ...&gt; \natype ==&gt; A&lt;java.lang.String&gt;\n</code></pre>\n<p>This <code>atype</code> now gives us a current definition for the <code>X</code> type variable. Lets store it.</p>\n<pre><code>jshell&gt;     Map&lt;TypeVariable,Type&gt; vars = new HashMap&lt;&gt;();\n   ...&gt;     vars.put(X, atype.getActualTypeArguments()[0] );\n   ...&gt; \nvars ==&gt; {}\n$13 ==&gt; null\n</code></pre>\n<p>So now we can get the generic super type of A</p>\n<pre><code> ParameterizedType btype = (ParameterizedType) a.getClass().getSuperclass().getGenericSuperclass();\n   ...&gt;     Type T = btype.getActualTypeArguments()[0];\n   ...&gt;     assert T instanceof TypeVariable;\n   ...&gt;     Type actualT = vars.get((TypeVariable)T);\n   ...&gt;     assert actualT == String.class\n btype ==&gt; B&lt;X&gt;\n T ==&gt; X\n actualT ==&gt; class java.lang.String\n</code></pre>\n<p>If you need to parse a complex type graph you will therefore need to maintain the current values of the type variables while you traverse it. I think you can run into situations where you would need to have multiple values for a Type Variable but have not spent the time to come up with an example.</p>\n<p>Anyway, in your example you have the Container class. So you can get the field and then the generic declaration (casts omitted).</p>\n<pre><code>ParameterizedType type = Container.class.getField(&quot;list&quot;).getGenericType();\nClass listtype = type.getActualArgumentType()[0];\n</code></pre>\n<p>Understanding the Java generic types is incredibly powerful. More than 10 years ago I created a Converter class in <a href=\"https://github.com/bndtools/bnd/blob/master/aQute.libg/src/aQute/lib/converter/Converter.java\" rel=\"nofollow noreferrer\">bnd</a> that used generics to convert anything to anything if possible. A byte array to a <code>List&lt;Double&gt;</code>, no problem! This became one of my most heavily used classes, cutting down boiler plate code to peanut size. Many other problems can also be reduced to a fraction of the code size.</p>\n<p>Although the reflection support of the JVM is impressive, there is a continuous pain that the Java language completely ignores it. The lack of type literals, the problem we solved with the TypeReference class, and references to methods, constructors, and fields is so puzzling. We now have very syntax like <code>Foo::a</code> to refer to a method but there is no known way to get the class &amp; method back. And it is imho <em>really</em> hard to get any useful documentation. Really sad.</p>\n"}],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34666668,"answer_count":3,"score":2,"last_activity_date":1658909125,"creation_date":1452203911,"question_id":34665941,"body_markdown":"Say I have these classes:\r\n\r\n    class Container&lt;T&gt; {\r\n      private List&lt;T&gt; list;\r\n    }\r\n\r\nAnd I have an instance of `Container`, say\r\n\r\n    Container&lt;?&gt; instance = new Container&lt;String&gt;();\r\n\r\nIs there a way to find out `list`&#39;s actual type parameter at run-time? I.e., that it&#39;s a `List` of **`String`**, rather than a `List` of **`java.lang.reflect.TypeVariable`**.\r\n\r\nI&#39;ve been looking at Java&#39;s reflection (`field.getGenericType()`), various libraries ([Guava Reflect](https://github.com/google/guava/wiki/ReflectionExplained), [Typetools](https://github.com/jhalterman/typetools), [ClassMate](https://github.com/FasterXML/java-classmate), even [ASM](http://asm.ow2.org/), etc.) but I can&#39;t figure it out.\r\n\r\nI have no control over the `Container` type, so I can&#39;t add any fields to it.\r\n\r\nI realize it may not be possible at all due to erasure, although I don&#39;t mind messing with bytecode if that makes it possible.\r\n\r\n\r\n**EDIT** I over-simplified my initial question. I have an additional piece of information available; I also have this type:\r\n\r\n    class StringContainerContainer {\r\n      private Container&lt;String&gt; container;\r\n    }\r\n\r\n(And several more types like it, for different generic parameters.)\r\n\r\nAt run-time, I&#39;m given the `instance` object mentioned above. With a little refactoring of my codebase, I can also get to the `StringContainerContainer` class (or whichever `*ContainerContainer` class is relevant), which I can use to get a `java.lang.reflect.Field` for `container`.","title":"Resolve a TypeVariable","body":"<p>Say I have these classes:</p>\n\n<pre><code>class Container&lt;T&gt; {\n  private List&lt;T&gt; list;\n}\n</code></pre>\n\n<p>And I have an instance of <code>Container</code>, say</p>\n\n<pre><code>Container&lt;?&gt; instance = new Container&lt;String&gt;();\n</code></pre>\n\n<p>Is there a way to find out <code>list</code>'s actual type parameter at run-time? I.e., that it's a <code>List</code> of <strong><code>String</code></strong>, rather than a <code>List</code> of <strong><code>java.lang.reflect.TypeVariable</code></strong>.</p>\n\n<p>I've been looking at Java's reflection (<code>field.getGenericType()</code>), various libraries (<a href=\"https://github.com/google/guava/wiki/ReflectionExplained\" rel=\"nofollow\">Guava Reflect</a>, <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow\">Typetools</a>, <a href=\"https://github.com/FasterXML/java-classmate\" rel=\"nofollow\">ClassMate</a>, even <a href=\"http://asm.ow2.org/\" rel=\"nofollow\">ASM</a>, etc.) but I can't figure it out.</p>\n\n<p>I have no control over the <code>Container</code> type, so I can't add any fields to it.</p>\n\n<p>I realize it may not be possible at all due to erasure, although I don't mind messing with bytecode if that makes it possible.</p>\n\n<p><strong>EDIT</strong> I over-simplified my initial question. I have an additional piece of information available; I also have this type:</p>\n\n<pre><code>class StringContainerContainer {\n  private Container&lt;String&gt; container;\n}\n</code></pre>\n\n<p>(And several more types like it, for different generic parameters.)</p>\n\n<p>At run-time, I'm given the <code>instance</code> object mentioned above. With a little refactoring of my codebase, I can also get to the <code>StringContainerContainer</code> class (or whichever <code>*ContainerContainer</code> class is relevant), which I can use to get a <code>java.lang.reflect.Field</code> for <code>container</code>.</p>\n"},{"tags":["java","android","xml","xml-parsing"],"comments":[{"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"score":0,"creation_date":1656421678,"post_id":72786760,"comment_id":128564183,"body_markdown":"Hello. Have you try this guide ? https://developer.android.com/training/basics/network-ops/xml","body":"Hello. Have you try this guide ? <a href=\"https://developer.android.com/training/basics/network-ops/xml\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/network-ops/xml</a>"}],"answers":[{"tags":[],"owner":{"account_id":10329025,"reputation":1640,"user_id":7619578,"accept_rate":67,"display_name":"Int&#39;l Man Of Coding Mystery"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656522048,"creation_date":1656423319,"answer_id":72787420,"question_id":72786760,"body_markdown":"I&#39;ve used [Jackson][1] to serialize and deserialize(parse) xml. I make a POJO for each element and then using the annotations it parses to the POJO as needed. The below is a rough example. But the the two outer classes will ignore everything(unless you include it in the POJO) using the `@JsonIgnoreProperties` annotations. And the `Rootfile` class will parse the attribute you want using the `@JacksonXmlProperty` annotation. \r\n\r\nSidenote: I&#39;m not 100% on the `@JsonRootName`. That is how I marked the xml root, but my colleague parsed the xml string to POJO using `@JackonXmlRootElement(value = &quot;...&quot;)`\r\n\r\n```java\r\n@JsonRootName(value = &quot;container&quot;)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Container {\r\n\r\n  @JsonIgnoreProperties(ignoreUnknown = true)\r\n  public class Rootfiles {\r\n\r\n    @JsonRootName(value = &quot;rootfile&quot;)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Rootfile {\r\n      \r\n      @JacksonXmlProperty(isAttribute = true, localName = &quot;full-path&quot;)\r\n      private String fullPath;\r\n\r\n      public String getFullPath() { return fullPath; }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://www.baeldung.com/jackson-xml-serialization-and-deserialization","title":"How to parse an xml file in android?","body":"<p>I've used <a href=\"https://www.baeldung.com/jackson-xml-serialization-and-deserialization\" rel=\"nofollow noreferrer\">Jackson</a> to serialize and deserialize(parse) xml. I make a POJO for each element and then using the annotations it parses to the POJO as needed. The below is a rough example. But the the two outer classes will ignore everything(unless you include it in the POJO) using the <code>@JsonIgnoreProperties</code> annotations. And the <code>Rootfile</code> class will parse the attribute you want using the <code>@JacksonXmlProperty</code> annotation.</p>\n<p>Sidenote: I'm not 100% on the <code>@JsonRootName</code>. That is how I marked the xml root, but my colleague parsed the xml string to POJO using <code>@JackonXmlRootElement(value = &quot;...&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonRootName(value = &quot;container&quot;)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Container {\n\n  @JsonIgnoreProperties(ignoreUnknown = true)\n  public class Rootfiles {\n\n    @JsonRootName(value = &quot;rootfile&quot;)\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    public class Rootfile {\n      \n      @JacksonXmlProperty(isAttribute = true, localName = &quot;full-path&quot;)\n      private String fullPath;\n\n      public String getFullPath() { return fullPath; }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18922174,"reputation":558,"user_id":13806019,"display_name":"Ankit Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658909011,"creation_date":1658909011,"answer_id":73134261,"question_id":72786760,"body_markdown":"I found a way to access the attribute values. I have explained all the lines in the comments. \r\n```\r\n DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\n Document doc = builder.parse(file);   // We can use inputstream or uri also\r\n\r\n NodeList node = doc.getElementsByTagName(&quot;rootfile&quot;); //  gets list of all nodes by specified tag name.\r\n\r\n Node map = node.item(0); // Getting the specific node\r\n\r\n NamedNodeMap namedNodeMap = map.getAttributes();  // Getting attributed of the nodes.\r\n            \r\n Node file_path = namedNodeMap.getNamedItem(&quot;full-path&quot;); // getting the partcular node attribute\r\n\r\n String path = file_path.getNodeValue();  // This will give the value of full-path \r\n```\r\n","title":"How to parse an xml file in android?","body":"<p>I found a way to access the attribute values. I have explained all the lines in the comments.</p>\n<pre><code> DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n DocumentBuilder builder = factory.newDocumentBuilder();\n\n Document doc = builder.parse(file);   // We can use inputstream or uri also\n\n NodeList node = doc.getElementsByTagName(&quot;rootfile&quot;); //  gets list of all nodes by specified tag name.\n\n Node map = node.item(0); // Getting the specific node\n\n NamedNodeMap namedNodeMap = map.getAttributes();  // Getting attributed of the nodes.\n            \n Node file_path = namedNodeMap.getNamedItem(&quot;full-path&quot;); // getting the partcular node attribute\n\n String path = file_path.getNodeValue();  // This will give the value of full-path \n</code></pre>\n"}],"owner":{"account_id":18922174,"reputation":558,"user_id":13806019,"display_name":"Ankit Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73134261,"answer_count":2,"score":0,"last_activity_date":1658909011,"creation_date":1656420674,"question_id":72786760,"body_markdown":"I have an XML file like \r\n```\r\n&lt;container xmlns=&quot;urn:oasis:names:tc:opendocument:xmlns:container&quot; version=&quot;1.0&quot;&gt;\r\n   &lt;rootfiles&gt;\r\n        &lt;rootfile full-path=&quot;OEBPS/content.opf&quot; media-type=&quot;application/oebps-package+xml&quot;/&gt;\r\n   &lt;/rootfiles&gt;\r\n&lt;/container&gt;\r\n```\r\n\r\nI need the `full-path` value that is &quot;OEBPS/content.opf&quot; text. I tried using Document builder and XML parser but no results. How do I traverse to that node and get the value","title":"How to parse an xml file in android?","body":"<p>I have an XML file like</p>\n<pre><code>&lt;container xmlns=&quot;urn:oasis:names:tc:opendocument:xmlns:container&quot; version=&quot;1.0&quot;&gt;\n   &lt;rootfiles&gt;\n        &lt;rootfile full-path=&quot;OEBPS/content.opf&quot; media-type=&quot;application/oebps-package+xml&quot;/&gt;\n   &lt;/rootfiles&gt;\n&lt;/container&gt;\n</code></pre>\n<p>I need the <code>full-path</code> value that is &quot;OEBPS/content.opf&quot; text. I tried using Document builder and XML parser but no results. How do I traverse to that node and get the value</p>\n"},{"tags":["java","list","java-8","null-check"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1658905591,"post_id":73133580,"comment_id":129164894,"body_markdown":"Should the null check just skip the element or should it stop the sorting? What do you want to null-check, exactly?","body":"Should the null check just skip the element or should it stop the sorting? What do you want to null-check, exactly?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658905751,"creation_date":1658905751,"answer_id":73133630,"question_id":73133580,"body_markdown":"Use if/then/else to specify your needs. If you want all of this within one line, check the ternary operator on \r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\r\n\r\nIt is explained including some examples here:\r\nhttps://www.tutorialspoint.com/Java-Ternary-Operator-Examples","title":"Sort a Java collection object based on one field in it and apply checks","body":"<p>Use if/then/else to specify your needs. If you want all of this within one line, check the ternary operator on\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html</a></p>\n<p>It is explained including some examples here:\n<a href=\"https://www.tutorialspoint.com/Java-Ternary-Operator-Examples\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/Java-Ternary-Operator-Examples</a></p>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658905792,"creation_date":1658905792,"answer_id":73133634,"question_id":73133580,"body_markdown":"you have to put {} inside the lambda for multiple line code:\r\n\r\n    retList.sort((comp1, comp2) -&gt; {\r\n                if(compartmentOrderMap.get(comp2.getCompartment()) != null &amp;&amp; compartmentOrderMap.get(comp1.getCompartment()) != null)\r\n                    return compartmentOrderMap.get(comp2.getCompartment()).compareTo(compartmentOrderMap\r\n                    .get(comp1.getCompartment()));\r\n                else \r\n                   // throw a RuntimeException or return some integer value based on your logic\r\n            });","title":"Sort a Java collection object based on one field in it and apply checks","body":"<p>you have to put {} inside the lambda for multiple line code:</p>\n<pre><code>retList.sort((comp1, comp2) -&gt; {\n            if(compartmentOrderMap.get(comp2.getCompartment()) != null &amp;&amp; compartmentOrderMap.get(comp1.getCompartment()) != null)\n                return compartmentOrderMap.get(comp2.getCompartment()).compareTo(compartmentOrderMap\n                .get(comp1.getCompartment()));\n            else \n               // throw a RuntimeException or return some integer value based on your logic\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1658908949,"creation_date":1658908949,"answer_id":73134243,"question_id":73133580,"body_markdown":"Your operation\r\n\r\n```java\r\nretList.sort((comp1, comp2) -&gt;\r\n    compartmentOrderMap.get(comp2.getCompartment())\r\n        .compareTo(compartmentOrderMap.get(comp1.getCompartment())));\r\n```\r\n\r\nis equivalent to\r\n\r\n```java\r\nretList.sort(Comparator.comparing(\r\n    c -&gt; compartmentOrderMap.get(c.getCompartment()), \r\n    Comparator.reverseOrder()));\r\n```\r\n\r\nWith this factory based form, you can easily replace the value comparator with a null safe variant, e.g.\r\n\r\n```java\r\nretList.sort(Comparator.comparing(\r\n    c -&gt; compartmentOrderMap.get(c.getCompartment()),\r\n    Comparator.nullsFirst(Comparator.reverseOrder())));\r\n```\r\n\r\nYou have to decide for a policy. Instead of `nullsFirst` you can also use `nullsLast`.","title":"Sort a Java collection object based on one field in it and apply checks","body":"<p>Your operation</p>\n<pre class=\"lang-java prettyprint-override\"><code>retList.sort((comp1, comp2) -&gt;\n    compartmentOrderMap.get(comp2.getCompartment())\n        .compareTo(compartmentOrderMap.get(comp1.getCompartment())));\n</code></pre>\n<p>is equivalent to</p>\n<pre class=\"lang-java prettyprint-override\"><code>retList.sort(Comparator.comparing(\n    c -&gt; compartmentOrderMap.get(c.getCompartment()), \n    Comparator.reverseOrder()));\n</code></pre>\n<p>With this factory based form, you can easily replace the value comparator with a null safe variant, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>retList.sort(Comparator.comparing(\n    c -&gt; compartmentOrderMap.get(c.getCompartment()),\n    Comparator.nullsFirst(Comparator.reverseOrder())));\n</code></pre>\n<p>You have to decide for a policy. Instead of <code>nullsFirst</code> you can also use <code>nullsLast</code>.</p>\n"}],"owner":{"account_id":18340601,"reputation":1,"user_id":13356967,"display_name":"Aakash Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73133634,"answer_count":3,"score":0,"last_activity_date":1658908949,"creation_date":1658905489,"question_id":73133580,"body_markdown":"```\r\nretList.sort((comp1, comp2) -&gt;\r\n         compartmentOrderMap.get(comp2.getCompartment()).compareTo(compartmentOrderMap\r\n  \t\t.get(comp1.getCompartment())));\r\n```\r\n\r\n\r\nI want to add a null check before comparing. How can I do that?\r\n\r\n```\r\nretList.sort((comp1, comp2) -&gt;\r\n        \tif(compartmentOrderMap.get(comp2.getCompartment()) != null &amp;&amp; compartmentOrderMap.get(comp1.getCompartment()) != null)\r\n        \t\tcompartmentOrderMap.get(comp2.getCompartment()).compareTo(compartmentOrderMap\r\n    \t\t\t.get(comp1.getCompartment()));\r\n        );\r\n\r\n//I want to do something like this\r\n```\r\n","title":"Sort a Java collection object based on one field in it and apply checks","body":"<pre><code>retList.sort((comp1, comp2) -&gt;\n         compartmentOrderMap.get(comp2.getCompartment()).compareTo(compartmentOrderMap\n        .get(comp1.getCompartment())));\n</code></pre>\n<p>I want to add a null check before comparing. How can I do that?</p>\n<pre><code>retList.sort((comp1, comp2) -&gt;\n            if(compartmentOrderMap.get(comp2.getCompartment()) != null &amp;&amp; compartmentOrderMap.get(comp1.getCompartment()) != null)\n                compartmentOrderMap.get(comp2.getCompartment()).compareTo(compartmentOrderMap\n                .get(comp1.getCompartment()));\n        );\n\n//I want to do something like this\n</code></pre>\n"},{"tags":["java","json","serialization","jackson"],"owner":{"account_id":465172,"reputation":1952,"user_id":869088,"accept_rate":96,"display_name":"tb189"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1658908613,"creation_date":1658897335,"question_id":73132353,"body_markdown":"I want to deserialize a data structure that has several lists containing objects of a specific subtype - i.e. several `List&lt;? extends CustomElement&gt;`. Each list is a different subclass of `CustomElement`. When setting these fields, I need to do some additional actions each time an element is added to the list, so I have several `addElement(CustomElement)` methods that handle this when the structure is being created with code. An example:\r\n\r\n\tprivate List&lt;CustomResourceCost&gt; costs;\r\n\tprivate List&lt;CustomEffect&gt; effects;\r\n\r\n\tpublic void addCost(CustomResourceCost cost) {\r\n\t\t//other actions\r\n\t\tcosts.add(cost);\r\n\t}\r\n\t\r\n\tpublic void addEffect(CustomEffect effect) {\r\n\t\t//other actions\r\n\t\teffects.add(effect);\r\n\t}\r\n\r\n(`CustomResourceCost` and `CustomEffect` both extend `CustomElement`)\r\n\r\nIs there a way to make sure Jackson uses these `addX` methods, without each time adding a setter like the following? I have about 50 instances where this used, so would prefer not to repeat this over and over.\r\n\r\n\tpublic void setEffects(List&lt;CustomEffect&gt; effects) {\r\n\t\teffects.clear();\r\n\t\teffects.forEach(e -&gt; addEffect(e));\r\n\t}\r\n\r\nNote that deserializing the `List&lt;CustomElement&gt;` is not a problem, this happens correctly with default Jackson behaviour. Rather, I want to customize the way a _setter method_ is called for this type of object (without requiring a new setter method for each instance). Is there a way to specify your own custom setter method based on the generic object type?\r\n","title":"Custom Jackson setter method for Lists of a specific generic type","body":"<p>I want to deserialize a data structure that has several lists containing objects of a specific subtype - i.e. several <code>List&lt;? extends CustomElement&gt;</code>. Each list is a different subclass of <code>CustomElement</code>. When setting these fields, I need to do some additional actions each time an element is added to the list, so I have several <code>addElement(CustomElement)</code> methods that handle this when the structure is being created with code. An example:</p>\n<pre><code>private List&lt;CustomResourceCost&gt; costs;\nprivate List&lt;CustomEffect&gt; effects;\n\npublic void addCost(CustomResourceCost cost) {\n    //other actions\n    costs.add(cost);\n}\n\npublic void addEffect(CustomEffect effect) {\n    //other actions\n    effects.add(effect);\n}\n</code></pre>\n<p>(<code>CustomResourceCost</code> and <code>CustomEffect</code> both extend <code>CustomElement</code>)</p>\n<p>Is there a way to make sure Jackson uses these <code>addX</code> methods, without each time adding a setter like the following? I have about 50 instances where this used, so would prefer not to repeat this over and over.</p>\n<pre><code>public void setEffects(List&lt;CustomEffect&gt; effects) {\n    effects.clear();\n    effects.forEach(e -&gt; addEffect(e));\n}\n</code></pre>\n<p>Note that deserializing the <code>List&lt;CustomElement&gt;</code> is not a problem, this happens correctly with default Jackson behaviour. Rather, I want to customize the way a <em>setter method</em> is called for this type of object (without requiring a new setter method for each instance). Is there a way to specify your own custom setter method based on the generic object type?</p>\n"},{"tags":["java","spring-boot","maven","gradle","multi-module"],"owner":{"account_id":3139674,"reputation":515,"user_id":2655362,"accept_rate":55,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658908441,"creation_date":1658905671,"question_id":73133613,"body_markdown":"Below is my multimodule project setup.\r\n\r\n\tRoot project &#39;gradle-lib&#39;\r\n\t+--- Project &#39;:environment-config1&#39;\r\n\t+--- Project &#39;:environment-config2&#39;\r\n\t+--- Project &#39;:environment-api&#39;\r\n\t\\--- Project &#39;:environment-lib&#39;\r\n\r\ngradle-lib/build.gradle\r\n\r\n\tplugins {\r\n\t\tid &quot;org.springframework.boot&quot; version &quot;2.6.7&quot; apply false\r\n\t\tid &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot; apply false\r\n\t}\r\n\t\r\n\tsubprojects { final Project subproject -&gt;\r\n\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;jacoco&#39;\r\n    apply plugin: &#39;java-library&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    \r\n    version = rootProject.version\r\n    group = rootProject.group\r\n\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n    }\r\n\r\n    configurations {\r\n\t\tcompileOnly {\r\n\t\t\textendsFrom annotationProcessor\r\n\t\t}\r\n\t}\r\n\r\n    // No spring boot application   \r\n    bootJar {\r\n    \tenabled = false\r\n\t}\r\n    \r\n    jar {\r\n    \tenabled = true\r\n    \t// Remove `plain` postfix from jar file name\r\n    \tarchiveClassifier.set(&quot;&quot;)\r\n\t}\r\n\t\r\n\tsourceCompatibility = &#39;1.8&#39;\t\r\n\r\n    //\tAdd dependencies that common to all projects\r\n\tdependencies {\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\t\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\t\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\t\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\t\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t}\r\n\r\nenvironment-config1/build.gradle\r\n\r\n\tdependencies {\r\n\t\timplementation project(&quot;:environment-api&quot;)\r\n\t}\r\n\r\nenvironment-config2/build.gradle\r\n\r\n\tdependencies {\r\n\t\timplementation project(&quot;:environment-api&quot;)\r\n\t}\r\n\r\nenvironment-api/build.gradle\r\n\r\n    // Boiler plate code with some jar dependencies\r\n\t dependencies {\r\n        \r\n\t}\r\n\r\nenvironment-lib/build.gradle\r\n\r\n\tdependencies {\r\n\t\timplementation project(&quot;:environment-api&quot;)\r\n\t\timplementation project(&quot;:environment-config1&quot;)\r\n\t\timplementation project(&quot;:environment-config2&quot;)\r\n\t}\r\n\t\r\n1.\tWhenever I try to build this project with gradlew clean build, these is compileJava task failed at &#39;environment-lib&#39; which actually uses certain class files from environment-config1 &amp; environment-api projects.\r\n\r\n\r\n* I could suppress the same as below, but what configuration: &#39;default&#39; will do?\r\n\r\n\t\timplementation project(&quot;:environment-api&quot;, configuration: &#39;default&#39;)\r\n\t\timplementation project(&quot;:environment-config1&quot;, configuration: &#39;default&#39;)\r\n\t\timplementation project(&quot;:environment-config2&quot;, configuration: &#39;default&#39;)\r\n\t\t\r\n2.\tHow can I create a single jar with other module as individual jar like below. Is it possible or recommended way?\r\n\r\n        gradle-lib-1.0.0.jar ---&gt; + META-INF\r\n\t\t\t\t\t\t\t\t    \\- MANIFEST.MF\r\n\t\t\t\t\t\t\t      + //source files of environment-lib project\r\n\t\t\t\t\t\t\t      + lib\r\n\t\t\t\t\t\t\t\t     \\- environment-api-1.0.0.jar\r\n\t\t\t\t\t\t\t\t     \\- environment-config1-1.0.0.jar\r\n\t\t\t\t\t\t\t\t     \\- environment-config2-1.0.0.jar","title":"Gradle multimodule project - how to create library with individual module as dependency jar","body":"<p>Below is my multimodule project setup.</p>\n<pre><code>Root project 'gradle-lib'\n+--- Project ':environment-config1'\n+--- Project ':environment-config2'\n+--- Project ':environment-api'\n\\--- Project ':environment-lib'\n</code></pre>\n<p>gradle-lib/build.gradle</p>\n<pre><code>plugins {\n    id &quot;org.springframework.boot&quot; version &quot;2.6.7&quot; apply false\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.11.RELEASE&quot; apply false\n}\n\nsubprojects { final Project subproject -&gt;\n\napply plugin: 'org.springframework.boot'\napply plugin: 'java'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'jacoco'\napply plugin: 'java-library'\napply plugin: 'maven-publish'\n\nversion = rootProject.version\ngroup = rootProject.group\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\n// No spring boot application   \nbootJar {\n    enabled = false\n}\n\njar {\n    enabled = true\n    // Remove `plain` postfix from jar file name\n    archiveClassifier.set(&quot;&quot;)\n}\n\nsourceCompatibility = '1.8' \n\n//  Add dependencies that common to all projects\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>environment-config1/build.gradle</p>\n<pre><code>dependencies {\n    implementation project(&quot;:environment-api&quot;)\n}\n</code></pre>\n<p>environment-config2/build.gradle</p>\n<pre><code>dependencies {\n    implementation project(&quot;:environment-api&quot;)\n}\n</code></pre>\n<p>environment-api/build.gradle</p>\n<pre><code>// Boiler plate code with some jar dependencies\n dependencies {\n    \n}\n</code></pre>\n<p>environment-lib/build.gradle</p>\n<pre><code>dependencies {\n    implementation project(&quot;:environment-api&quot;)\n    implementation project(&quot;:environment-config1&quot;)\n    implementation project(&quot;:environment-config2&quot;)\n}\n</code></pre>\n<ol>\n<li>Whenever I try to build this project with gradlew clean build, these is compileJava task failed at 'environment-lib' which actually uses certain class files from environment-config1 &amp; environment-api projects.</li>\n</ol>\n<ul>\n<li><p>I could suppress the same as below, but what configuration: 'default' will do?</p>\n<pre><code>  implementation project(&quot;:environment-api&quot;, configuration: 'default')\n  implementation project(&quot;:environment-config1&quot;, configuration: 'default')\n  implementation project(&quot;:environment-config2&quot;, configuration: 'default')\n</code></pre>\n</li>\n</ul>\n<ol start=\"2\">\n<li><p>How can I create a single jar with other module as individual jar like below. Is it possible or recommended way?</p>\n<pre><code>gradle-lib-1.0.0.jar ---&gt; + META-INF\n                            \\- MANIFEST.MF\n                          + //source files of environment-lib project\n                          + lib\n                             \\- environment-api-1.0.0.jar\n                             \\- environment-config1-1.0.0.jar\n                             \\- environment-config2-1.0.0.jar\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","android","arraylist","android-recyclerview","searchview"],"comments":[{"owner":{"account_id":23808129,"reputation":924,"user_id":17817329,"display_name":"robni"},"score":1,"creation_date":1658907012,"post_id":73132936,"comment_id":129165328,"body_markdown":"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25192167,"reputation":339,"user_id":19374335,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658907445,"creation_date":1658907445,"answer_id":73133927,"question_id":73132936,"body_markdown":"**Check this**\r\n\r\n    else{\r\n        RestaurantAdapter restaurantAdapter = new RestaurantAdapter(getApplicationContext(),filteredList);\r\n        restaurantAdapter.setFilteredList(filteredList);\r\n     }","title":"Unable to solve constructor applied to given types","body":"<p><strong>Check this</strong></p>\n<pre><code>else{\n    RestaurantAdapter restaurantAdapter = new RestaurantAdapter(getApplicationContext(),filteredList);\n    restaurantAdapter.setFilteredList(filteredList);\n }\n</code></pre>\n"}],"owner":{"account_id":25904713,"reputation":7,"user_id":19629949,"display_name":"El33m"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658908382,"creation_date":1658901784,"question_id":73132936,"body_markdown":"I am doing a Semester project of our own app development. I am making a Recipe/Restaurant app. \r\nThe issue is that in my Restaurant.java is unable to get the RestaurantAdapter -&gt;  public void setFilteredList as it has come with an error I am unable to solve after referring to [previous error][1].\r\n\r\nThe current error I got was:\r\n\r\nconstructor RestaurantAdapter in class RestaurantAdapter cannot be applied to given types\r\n\r\n&gt; Error message\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThese are the Java and XML files that are used:\r\n\r\nThe java class:\r\n\r\n&gt; 1st half\r\n\r\n[![enter image description here][3]][3]\r\n\r\n&gt; 2nd half\r\n\r\n[![enter image description here][4]][4]\r\n\r\nerror part:\r\n\r\n    else{\r\n    RestaurantAdapter restaurantAdapter = new RestaurantAdapter();\r\n    restaurantAdapter.setFilteredList(filteredList);\r\n    }\r\n\r\nRestaurantAdapter:\r\n\r\n&gt; Adpapter part 1\r\n\r\n[![enter image description here][5]][5]\r\n\r\n&gt; Adpapter part 2\r\n\r\n[![enter image description here][6]][6]\r\n\r\nApologies if the response is scuffed, this is my first time posting. \r\nGreatly appreciate the help!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58678761/non-static-method-filterdlistarraylistsuitcasemodel-cannot-be-referenced-fro\r\n  [2]: https://i.stack.imgur.com/6dHnT.png\r\n  [3]: https://i.stack.imgur.com/gN8P1.png\r\n  [4]: https://i.stack.imgur.com/ODgJS.png\r\n  [5]: https://i.stack.imgur.com/OfazW.png\r\n  [6]: https://i.stack.imgur.com/Hpl8z.png","title":"Unable to solve constructor applied to given types","body":"<p>I am doing a Semester project of our own app development. I am making a Recipe/Restaurant app.\nThe issue is that in my Restaurant.java is unable to get the RestaurantAdapter -&gt;  public void setFilteredList as it has come with an error I am unable to solve after referring to <a href=\"https://stackoverflow.com/questions/58678761/non-static-method-filterdlistarraylistsuitcasemodel-cannot-be-referenced-fro\">previous error</a>.</p>\n<p>The current error I got was:</p>\n<p>constructor RestaurantAdapter in class RestaurantAdapter cannot be applied to given types</p>\n<blockquote>\n<p>Error message</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/6dHnT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6dHnT.png\" alt=\"enter image description here\" /></a></p>\n<p>These are the Java and XML files that are used:</p>\n<p>The java class:</p>\n<blockquote>\n<p>1st half</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/gN8P1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gN8P1.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>2nd half</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/ODgJS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ODgJS.png\" alt=\"enter image description here\" /></a></p>\n<p>error part:</p>\n<pre><code>else{\nRestaurantAdapter restaurantAdapter = new RestaurantAdapter();\nrestaurantAdapter.setFilteredList(filteredList);\n}\n</code></pre>\n<p>RestaurantAdapter:</p>\n<blockquote>\n<p>Adpapter part 1</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/OfazW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OfazW.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>Adpapter part 2</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Hpl8z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hpl8z.png\" alt=\"enter image description here\" /></a></p>\n<p>Apologies if the response is scuffed, this is my first time posting.\nGreatly appreciate the help!</p>\n"},{"tags":["java","macos","maven","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":1075746,"reputation":2029,"user_id":1073945,"accept_rate":100,"display_name":"Diyarbakir"},"score":0,"creation_date":1458744671,"post_id":36180999,"comment_id":60004646,"body_markdown":"This might help you: [IntelliJ IDEA 2016.1 Help /Developing a Java EE Application](https://www.jetbrains.com/help/idea/2016.1/developing-a-java-ee-application.html). See the sections for: - [Packaging the application into a WAR file](https://www.jetbrains.com/help/idea/2016.1/developing-a-java-ee-application.html?#d121447e467) - [Deploying an artifact onto a running server](https://www.jetbrains.com/help/idea/2016.1/developing-a-java-ee-application.html?origin=old_help#d121447e535)","body":"This might help you: <a href=\"https://www.jetbrains.com/help/idea/2016.1/developing-a-java-ee-application.html\" rel=\"nofollow noreferrer\">IntelliJ IDEA 2016.1 Help /Developing a Java EE Application</a>. See the sections for: - <a href=\"https://www.jetbrains.com/help/idea/2016.1/developing-a-java-ee-application.html?#d121447e467\" rel=\"nofollow noreferrer\">Packaging the application into a WAR file</a> - <a href=\"https://www.jetbrains.com/help/idea/2016.1/developing-a-java-ee-application.html?origin=old_help#d121447e535\" rel=\"nofollow noreferrer\">Deploying an artifact onto a running server</a>"},{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":0,"creation_date":1458816047,"post_id":36180999,"comment_id":60029692,"body_markdown":"there are some differences between &quot;deploying via maven&quot; and &quot;deploying via IntelliJ&quot;. You can go both ways comfortably using IntelliJ.","body":"there are some differences between &quot;deploying via maven&quot; and &quot;deploying via IntelliJ&quot;. You can go both ways comfortably using IntelliJ."},{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":0,"creation_date":1458816741,"post_id":36180999,"comment_id":60030093,"body_markdown":"If you want to go the [maven way, you can find informations here](http://stackoverflow.com/a/27317631/1988304). If you want to deploy [via IntelliJ only, look at this answer](http://stackoverflow.com/a/35601869/1988304) and [here](http://stackoverflow.com/a/30297935/1988304)","body":"If you want to go the <a href=\"http://stackoverflow.com/a/27317631/1988304\">maven way, you can find informations here</a>. If you want to deploy <a href=\"http://stackoverflow.com/a/35601869/1988304\">via IntelliJ only, look at this answer</a> and <a href=\"http://stackoverflow.com/a/30297935/1988304\">here</a>"},{"owner":{"account_id":5217235,"reputation":5750,"user_id":4171786,"display_name":"Harmelodic"},"score":0,"creation_date":1458822742,"post_id":36180999,"comment_id":60033814,"body_markdown":"RE: Mac/Windows: as you&#39;re developing in Java, the OS doesn&#39;t really matter and IntelliJ will work the same. The only difference comes if you have to use a terminal/command line at which point the commands might be a little different.","body":"RE: Mac/Windows: as you&#39;re developing in Java, the OS doesn&#39;t really matter and IntelliJ will work the same. The only difference comes if you have to use a terminal/command line at which point the commands might be a little different."}],"answers":[{"tags":[],"owner":{"account_id":5750275,"reputation":583,"user_id":4540170,"display_name":"harsh hundiwala"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1506722390,"creation_date":1506722390,"answer_id":46497444,"question_id":36180999,"body_markdown":"IntelliJ has different process to build war:\r\n\r\nGoto -&gt; Files -&gt; Project Structure -&gt; Artifacts\r\n\r\nIn artifacts tab, you will see a small + button on top right corner.\r\nClick it and fill up the right panel data such as name and output directory.\r\n\r\nMake sure to create the Manifest file. Keep default location for Manifest file.\r\n\r\nAfter building manifest, click apply-&gt;Ok.\r\n\r\nNow you can go to Build-&gt; Build Artifact.\r\n\r\nYour .war file will be ready in the output folder you specified above.\r\n","title":"How to create and deploy war in Intellij","body":"<p>IntelliJ has different process to build war:</p>\n\n<p>Goto -> Files -> Project Structure -> Artifacts</p>\n\n<p>In artifacts tab, you will see a small + button on top right corner.\nClick it and fill up the right panel data such as name and output directory.</p>\n\n<p>Make sure to create the Manifest file. Keep default location for Manifest file.</p>\n\n<p>After building manifest, click apply->Ok.</p>\n\n<p>Now you can go to Build-> Build Artifact.</p>\n\n<p>Your .war file will be ready in the output folder you specified above.</p>\n"},{"tags":[],"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1577621616,"creation_date":1577621616,"answer_id":59519297,"question_id":36180999,"body_markdown":"you can use maven build to create war file.\r\nGo to right maven -&gt; Lifecycle -&gt; double click package. You can see your war generated default directory i.e Target ","title":"How to create and deploy war in Intellij","body":"<p>you can use maven build to create war file.\nGo to right maven -> Lifecycle -> double click package. You can see your war generated default directory i.e Target </p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1585089070,"creation_date":1585089070,"answer_id":60840341,"question_id":36180999,"body_markdown":" 1. **File | Project Structure** `Ctrl+Shift+Alt+S` and click **Artifacts**.\r\n 2. Click Add + and create a **Web Application: Archive** For **&#39;Web Application:war exploded&#39;**\r\n 3. **Build | Build Artifacts** &gt; **Web Application: war** &gt; Build\r\n\r\nYou should see the artifact `&lt;project &gt;/out/artifacts/Web Application_war.war`\r\n\r\nGL\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/deploying-a-web-app-into-an-app-server-container.html","title":"How to create and deploy war in Intellij","body":"<ol>\n<li><strong>File | Project Structure</strong> <code>Ctrl+Shift+Alt+S</code> and click <strong>Artifacts</strong>.</li>\n<li>Click Add + and create a <strong>Web Application: Archive</strong> For <strong>'Web Application:war exploded'</strong></li>\n<li><strong>Build | Build Artifacts</strong> > <strong>Web Application: war</strong> > Build</li>\n</ol>\n\n<p>You should see the artifact <code>&lt;project &gt;/out/artifacts/Web Application_war.war</code></p>\n\n<p>GL</p>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/deploying-a-web-app-into-an-app-server-container.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":13907598,"reputation":51,"user_id":14105787,"display_name":"Tomasz Machura"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598881768,"creation_date":1597415013,"answer_id":63414654,"question_id":36180999,"body_markdown":"It took me a while to realise that you can&#39;t build a war file with intellij community edition, at least I could not do it looking at answers from this thread. \r\n\r\nMy approach was to download and activate &quot;Maven Helper&quot; plugin directly from the IDE ie. File-&gt;settings-&gt;Plugins.\r\n\r\nThen, select your pom.xml in the project viewer and in the &quot;Run&quot; tab, you will be able to choose Run new Maven Goal. \r\nThere simply add the command line &quot;clean install&quot;.\r\nYour war file (if you selected &lt;packaging&gt;war&lt;/packaging&gt; in your pom.xml file) will be located under the folder &quot;target&quot; in your project main folder.","title":"How to create and deploy war in Intellij","body":"<p>It took me a while to realise that you can't build a war file with intellij community edition, at least I could not do it looking at answers from this thread.</p>\n<p>My approach was to download and activate &quot;Maven Helper&quot; plugin directly from the IDE ie. File-&gt;settings-&gt;Plugins.</p>\n<p>Then, select your pom.xml in the project viewer and in the &quot;Run&quot; tab, you will be able to choose Run new Maven Goal.\nThere simply add the command line &quot;clean install&quot;.\nYour war file (if you selected war in your pom.xml file) will be located under the folder &quot;target&quot; in your project main folder.</p>\n"},{"tags":[],"owner":{"account_id":14536364,"reputation":1652,"user_id":10499624,"display_name":"Aramis NSR"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1618338602,"creation_date":1618331973,"answer_id":67078989,"question_id":36180999,"body_markdown":"**This absolutely works!**\r\n\r\n**First:**\r\n\r\nWow, I was reading and trying the answers provided and i couldnt believe why no one mentions the root of the issue which is &quot;NOT MENTIONING THE WAY YOU WANT YOUR OUTPUT TO BE&quot; which is `war` so lets first tell intellij what we want by adding bellow tag to your `pom.xml`\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\nwhere to paste? anywhere inside `&lt;project&gt;` tag\r\n\r\n***Now lets talk about the method***\r\n\r\nYou can install &quot;Maven Helper&quot; plugin as it will help beginners nicely, but if your intelij has a good handshake with maven, it will automatically or manually refresh your project and add the war capability to your maven settings ( the panel you see at the right hand side of the editor that mentions Maven) there you click on Plugins and you should see now you have `war (org.apache.maven.plugins:maven-war-plugin:xxx)` as you click on the + you see many options, war:war and war:exploded are your friends to do what you like\r\n\r\n          &lt;!-- Package as an executable jar/war --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QQKj7.jpg\r\n\r\nUse clean to dust off the previous mess, use war:war to create .war file, and for manifest war:exploded will do, if these didnt help for manifest, use the \r\n\r\nFile | Project Structure and click Artifacts.\r\nClick Add + and  &#39;Web Application:war exploded&#39; then it will pop-up your project and select it and hit OK and then go and do Build &gt; Build Artifact.\r\n\r\nGood luck.\r\n","title":"How to create and deploy war in Intellij","body":"<p><strong>This absolutely works!</strong></p>\n<p><strong>First:</strong></p>\n<p>Wow, I was reading and trying the answers provided and i couldnt believe why no one mentions the root of the issue which is &quot;NOT MENTIONING THE WAY YOU WANT YOUR OUTPUT TO BE&quot; which is <code>war</code> so lets first tell intellij what we want by adding bellow tag to your <code>pom.xml</code></p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n<p>where to paste? anywhere inside <code>&lt;project&gt;</code> tag</p>\n<p><em><strong>Now lets talk about the method</strong></em></p>\n<p>You can install &quot;Maven Helper&quot; plugin as it will help beginners nicely, but if your intelij has a good handshake with maven, it will automatically or manually refresh your project and add the war capability to your maven settings ( the panel you see at the right hand side of the editor that mentions Maven) there you click on Plugins and you should see now you have <code>war (org.apache.maven.plugins:maven-war-plugin:xxx)</code> as you click on the + you see many options, war:war and war:exploded are your friends to do what you like</p>\n<pre><code>      &lt;!-- Package as an executable jar/war --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QQKj7.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QQKj7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Use clean to dust off the previous mess, use war:war to create .war file, and for manifest war:exploded will do, if these didnt help for manifest, use the</p>\n<p>File | Project Structure and click Artifacts.\nClick Add + and  'Web Application:war exploded' then it will pop-up your project and select it and hit OK and then go and do Build &gt; Build Artifact.</p>\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":22108636,"reputation":1,"user_id":16363862,"display_name":"Trng Thy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658908303,"creation_date":1658906487,"answer_id":73133752,"question_id":36180999,"body_markdown":"[Step-1][1]\r\n\r\n[Step-2][2] [Step-2.2][3]\r\n\r\n[Step-3][4] [Step-3.2][5]\r\n\r\n[Step-4][6] [Step-4.2][7]\r\n\r\n[Result][8]\r\n\r\n07/2022\r\n1. **File | Project Structure** `Ctrl+Shift+Alt+S` and *click* **Artifacts**.\r\n2. *Click* **Add** + and *select* **&#39;Web Application:war exploded&#39;** *click* **&#39;From modunles..&#39;** and *select* **Modules**\r\n3. *Click* **Add** + and *select* **&#39;Web Application:war Archive&#39;** *click* **&#39;Modules:war exploded&#39;**  \r\n4. **Build | Build Artifacts** &gt; **Web Application: war** &gt; **Build**\r\n\r\nYou should see the .war file in **&#39;out/artifacts/&#39;**. And you can use it to deloy onto the *Glassfish Server*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/njpy9.png\r\n  [2]: https://i.stack.imgur.com/qi9xM.png\r\n  [3]: https://i.stack.imgur.com/qdirQ.png\r\n  [4]: https://i.stack.imgur.com/xALH0.png\r\n  [5]: https://i.stack.imgur.com/sIyls.png\r\n  [6]: https://i.stack.imgur.com/QvuRB.png\r\n  [7]: https://i.stack.imgur.com/Hlguf.png\r\n  [8]: https://i.stack.imgur.com/ZOMMR.png","title":"How to create and deploy war in Intellij","body":"<p><a href=\"https://i.stack.imgur.com/njpy9.png\" rel=\"nofollow noreferrer\">Step-1</a></p>\n<p><a href=\"https://i.stack.imgur.com/qi9xM.png\" rel=\"nofollow noreferrer\">Step-2</a> <a href=\"https://i.stack.imgur.com/qdirQ.png\" rel=\"nofollow noreferrer\">Step-2.2</a></p>\n<p><a href=\"https://i.stack.imgur.com/xALH0.png\" rel=\"nofollow noreferrer\">Step-3</a> <a href=\"https://i.stack.imgur.com/sIyls.png\" rel=\"nofollow noreferrer\">Step-3.2</a></p>\n<p><a href=\"https://i.stack.imgur.com/QvuRB.png\" rel=\"nofollow noreferrer\">Step-4</a> <a href=\"https://i.stack.imgur.com/Hlguf.png\" rel=\"nofollow noreferrer\">Step-4.2</a></p>\n<p><a href=\"https://i.stack.imgur.com/ZOMMR.png\" rel=\"nofollow noreferrer\">Result</a></p>\n<p>07/2022</p>\n<ol>\n<li><strong>File | Project Structure</strong> <code>Ctrl+Shift+Alt+S</code> and <em>click</em> <strong>Artifacts</strong>.</li>\n<li><em>Click</em> <strong>Add</strong> + and <em>select</em> <strong>'Web Application:war exploded'</strong> <em>click</em> <strong>'From modunles..'</strong> and <em>select</em> <strong>Modules</strong></li>\n<li><em>Click</em> <strong>Add</strong> + and <em>select</em> <strong>'Web Application:war Archive'</strong> <em>click</em> <strong>'Modules:war exploded'</strong></li>\n<li><strong>Build | Build Artifacts</strong> &gt; <strong>Web Application: war</strong> &gt; <strong>Build</strong></li>\n</ol>\n<p>You should see the .war file in <strong>'out/artifacts/'</strong>. And you can use it to deloy onto the <em>Glassfish Server</em></p>\n"}],"owner":{"account_id":1082455,"reputation":2095,"user_id":1079065,"accept_rate":44,"display_name":"user1079065"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79478,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1658908303,"creation_date":1458743471,"question_id":36180999,"body_markdown":"I have a multi-module project in my IntelliJ environment. I want to create and deploy war for only one module in apache tomcat. (IntelliJ comes with default installation of tomcat.)\r\n\r\nI have worked almost four years with Eclipse and started with IntelliJ like three days back. Just the way we right click on the project in eclipse and say export as war and it directly deploys in my app server, can I do same / similar in IntelliJ?\r\n\r\nAny help will be helpful.\r\n\r\nThanks\r\n\r\nPS : may be stupid to ask but  would mac / windows make difference?","title":"How to create and deploy war in Intellij","body":"<p>I have a multi-module project in my IntelliJ environment. I want to create and deploy war for only one module in apache tomcat. (IntelliJ comes with default installation of tomcat.)</p>\n\n<p>I have worked almost four years with Eclipse and started with IntelliJ like three days back. Just the way we right click on the project in eclipse and say export as war and it directly deploys in my app server, can I do same / similar in IntelliJ?</p>\n\n<p>Any help will be helpful.</p>\n\n<p>Thanks</p>\n\n<p>PS : may be stupid to ask but  would mac / windows make difference?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1658906403,"post_id":73133653,"comment_id":129165150,"body_markdown":"Search for untar or extract tar in java.","body":"Search for untar or extract tar in java."},{"owner":{"account_id":15052812,"reputation":35,"user_id":10864048,"display_name":"Trips"},"score":0,"creation_date":1658906839,"post_id":73133653,"comment_id":129165268,"body_markdown":"Sorry but I have already explored and then posted here. I found the answer till one level of extraction as if its .tar.gz or .tar file then extract it.But if there is nested .tar or .tar.gz inside directory available then I didnt find any relevant suggestion. thanks.","body":"Sorry but I have already explored and then posted here. I found the answer till one level of extraction as if its .tar.gz or .tar file then extract it.But if there is nested .tar or .tar.gz inside directory available then I didnt find any relevant suggestion. thanks."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658907613,"creation_date":1658907613,"answer_id":73133960,"question_id":73133653,"body_markdown":"So your question is how to allow up to ten levels of recursion. How about this?\r\n\r\n    void unarchive(File archive, File targetDirectory) {\r\n        unarchive(File archive, File targetDirectory, 10);\r\n    }\r\n\r\n    void unarchive(File archive, File targetDirectory, int depth) {\r\n        // perform your unarchive that you have anyway\r\n\r\n        if (depth&gt;0) {\r\n            // loop over extracted files. If you have any kind of archive, then\r\n            unarchive(foundarchive, new File(targetDirectory, foundarchive.getName()), depth-1);\r\n        }\r\n    }","title":"Looping over .tar folder to go multilevel extraction","body":"<p>So your question is how to allow up to ten levels of recursion. How about this?</p>\n<pre><code>void unarchive(File archive, File targetDirectory) {\n    unarchive(File archive, File targetDirectory, 10);\n}\n\nvoid unarchive(File archive, File targetDirectory, int depth) {\n    // perform your unarchive that you have anyway\n\n    if (depth&gt;0) {\n        // loop over extracted files. If you have any kind of archive, then\n        unarchive(foundarchive, new File(targetDirectory, foundarchive.getName()), depth-1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15052812,"reputation":35,"user_id":10864048,"display_name":"Trips"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1658908012,"creation_date":1658905877,"question_id":73133653,"body_markdown":"I have a `.tar` directory and inside that again `.tar.gz` directory and within that `.gz` or `.tar` folder/files my or may not be available.\r\nI want to keep checking and extract this **till 10 level deeper**.\r\n\r\nIt means extract the .tar folder, found `.tar.gz`, again go on till the end and extract it.\r\n\r\nI am able to do till 1 level using apache commons that is .tar if i am extracting, i am able to see `.tar.gz` file at destination folder.\r\n\r\nMy concern is how to loop in this logic to check till ten level deeper and extract it.","title":"Looping over .tar folder to go multilevel extraction","body":"<p>I have a <code>.tar</code> directory and inside that again <code>.tar.gz</code> directory and within that <code>.gz</code> or <code>.tar</code> folder/files my or may not be available.\nI want to keep checking and extract this <strong>till 10 level deeper</strong>.</p>\n<p>It means extract the .tar folder, found <code>.tar.gz</code>, again go on till the end and extract it.</p>\n<p>I am able to do till 1 level using apache commons that is .tar if i am extracting, i am able to see <code>.tar.gz</code> file at destination folder.</p>\n<p>My concern is how to loop in this logic to check till ten level deeper and extract it.</p>\n"},{"tags":["java","android-studio","intellij-idea","bazel"],"answers":[{"tags":[],"owner":{"account_id":246849,"reputation":12858,"user_id":521209,"display_name":"Jin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568907101,"creation_date":1568907101,"answer_id":58014476,"question_id":58005512,"body_markdown":"The pile of error messages here is hard to read, but here&#39;s the root cause:\r\n\r\n&gt; &quot;/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_impl.bzl&quot;, line 118, in get_res_artifacts for file in resource.files: ... type &#39;depset&#39; is not iterable. Use the to_list() method to get a list. Use --incompatible_depset_is_not_iterable=false to temporarily disable this check.\r\n\r\nEither add `build --incompatible_depset_is_not_iterable=false` to your project&#39;s `.bazelrc` file, or wait for the next plugin release `v2019.09.16` that contains [the patch fix.][1]\r\n\r\n\r\n  [1]: https://github.com/bazelbuild/intellij/commit/ad367ad80a0f75797268ea1b0f8a115b2e7cba2a","title":"Bazel - unable to build with Android Studio","body":"<p>The pile of error messages here is hard to read, but here's the root cause:</p>\n\n<blockquote>\n  <p>\"/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_impl.bzl\", line 118, in get_res_artifacts for file in resource.files: ... type 'depset' is not iterable. Use the to_list() method to get a list. Use --incompatible_depset_is_not_iterable=false to temporarily disable this check.</p>\n</blockquote>\n\n<p>Either add <code>build --incompatible_depset_is_not_iterable=false</code> to your project's <code>.bazelrc</code> file, or wait for the next plugin release <code>v2019.09.16</code> that contains <a href=\"https://github.com/bazelbuild/intellij/commit/ad367ad80a0f75797268ea1b0f8a115b2e7cba2a\" rel=\"nofollow noreferrer\">the patch fix.</a></p>\n"},{"tags":[],"owner":{"account_id":20728043,"reputation":338,"user_id":15220917,"display_name":"SG_Bazel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658907234,"creation_date":1658907234,"answer_id":73133887,"question_id":58005512,"body_markdown":"    You need to clean by `bazel clean --expunge`. It will remove all downloaded artifacts. You should clean and rebuild by below steps. \r\n\r\n1. Please uncheck &#39;Bazel &gt; Sync &gt; Expand Sync to Working Set&#39; and try again. \r\n2. Build through bazel plugin from intellij","title":"Bazel - unable to build with Android Studio","body":"<pre><code>You need to clean by `bazel clean --expunge`. It will remove all downloaded artifacts. You should clean and rebuild by below steps. \n</code></pre>\n<ol>\n<li>Please uncheck 'Bazel &gt; Sync &gt; Expand Sync to Working Set' and try again.</li>\n<li>Build through bazel plugin from intellij</li>\n</ol>\n"}],"owner":{"account_id":239809,"reputation":7564,"user_id":1209216,"accept_rate":52,"display_name":"user1209216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1658907234,"creation_date":1568876780,"question_id":58005512,"body_markdown":"First, I installed and configured Bazel, now I am able to succesfully compile and deploy app, using that [tutorial][1].\r\n\r\nHowever, I&#39;m stuck with Android Studio. I installed official Bazel plugin, then tried to import my Bazel project to Android studio (import from BUILD file). And I&#39;m getting sync errors:\r\n\r\n&gt; Syncing project: Sync (incremental)... Updating VCS... Running Bazel\r\n&gt; info... Command: bazel info --tool_tag=ijwb:AndroidStudio --curses=no\r\n&gt; --color=yes --progress_in_terminal_title=no --\r\n&gt; \r\n&gt; Computing VCS working set... Querying targets in project\r\n&gt; directories... Command: bazel query --tool_tag=ijwb:AndroidStudio\r\n&gt; --output=label_kind --keep_going &quot;attr(\\&quot;tags\\&quot;, \\&quot;^((?!manual).)*$\\&quot;, //src/main/...:all)&quot; --\r\n&gt; \r\n&gt; 2 targets found under project directories; syncing 2 of them. Sync\r\n&gt; targets from project view directories:  \r\n&gt; //src/main/java/com/example/bazel:greeter_activity   //src/main:app\r\n&gt; \r\n&gt; Building Bazel targets... Command: bazel build\r\n&gt; --tool_tag=ijwb:AndroidStudio --keep_going --build_event_binary_file=/tmp/intellij-bep-782d8b0b-2f34-43f6-8f09-1efdd034cbfb\r\n&gt; --nobuild_event_binary_file_path_conversion --curses=no --color=yes --progress_in_terminal_title=no --aspects=@intellij_aspect//:intellij_info_bundled.bzl%intellij_info_aspect\r\n&gt; --override_repository=intellij_aspect=/home/michal/.AndroidStudio3.5/config/plugins/aswb/aspect\r\n&gt; --output_groups=intellij-info-android,intellij-info-generic,intellij-info-java,intellij-resolve-android,intellij-resolve-java\r\n&gt; -- //src/main/java/com/example/bazel:greeter_activity //src/main:app\r\n&gt; \r\n&gt; Loading:  Loading: 0 packages loaded Analyzing: 2 targets (0 packages\r\n&gt; loaded, 0 targets configured) Analyzing: 2 targets (31 packages\r\n&gt; loaded, 622 targets configured) ERROR:\r\n&gt; /home/michal/AndroidStudioProjects/bazel/2/examples-master/android/tutorial/src/main/java/com/example/bazel/BUILD:5:1:\r\n&gt; in @intellij_aspect//:intellij_info_bundled.bzl%intellij_info_aspect\r\n&gt; aspect on android_library rule\r\n&gt; //src/main/java/com/example/bazel:greeter_activity:  Traceback (most\r\n&gt; recent call last): \tFile\r\n&gt; &quot;/home/michal/AndroidStudioProjects/bazel/2/examples-master/android/tutorial/src/main/java/com/example/bazel/BUILD&quot;,\r\n&gt; line 5\r\n&gt; \t\t@intellij_aspect//:intellij_info_bundled.bzl%intellij_info_aspect(...)\r\n&gt; \tFile\r\n&gt; &quot;/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_bundled.bzl&quot;,\r\n&gt; line 54, in _aspect_impl \t\tintellij_info_aspect_impl(target, ctx,\r\n&gt; semantics) \tFile\r\n&gt; &quot;/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_impl.bzl&quot;,\r\n&gt; line 895, in intellij_info_aspect_impl \t\tcollect_android_info(target,\r\n&gt; ctx, semantics, ide_info, &lt;2 more arguments&gt;) \tFile\r\n&gt; &quot;/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_impl.bzl&quot;,\r\n&gt; line 706, in collect_android_info\r\n&gt; \t\tget_res_artifacts(ctx.rule.attr.resource_files, andr...) \tFile\r\n&gt; &quot;/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_impl.bzl&quot;,\r\n&gt; line 118, in get_res_artifacts \t\tfor file in resource.files: ... type\r\n&gt; &#39;depset&#39; is not iterable. Use the `to_list()` method to get a list.\r\n&gt; Use --incompatible_depset_is_not_iterable=false to temporarily disable\r\n&gt; this check. INFO: Analyzed 2 targets (33 packages loaded, 699 targets\r\n&gt; configured). INFO: Found 2 targets... INFO: Deleting stale sandbox\r\n&gt; base\r\n&gt; /home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/sandbox\r\n&gt; [0 / 1] [Prepa] BazelWorkspaceStatusAction stable-status.txt ERROR:\r\n&gt; command succeeded, but not all targets were analyzed INFO: Elapsed\r\n&gt; time: 3.012s, Critical Path: 0.02s INFO: 0 processes. FAILED: Build\r\n&gt; did NOT complete successfully FAILED: Build did NOT complete\r\n&gt; successfully INFO: Build Event Protocol files produced successfully.\r\n&gt; FAILED: Build did NOT complete successfully build invocation result:\r\n&gt; build_error Sync was successful, but there were Bazel build errors.\r\n&gt; The project may not be fully updated or resolve until fixed. If the\r\n&gt; errors are from your working set, please uncheck &#39;Bazel &gt; Sync &gt;\r\n&gt; Expand Sync to Working Set&#39; and try again. Parsing build outputs...\r\n&gt; Total rules: 0, new/changed: 0, removed: 0 Reading IDE info result...\r\n&gt; Updating target map Loaded 0 aspect files, total size 0kB Target map\r\n&gt; size: 0 Reading jdeps files... Loaded 0 jdeps files, total size 0kB\r\n&gt; Reading package manifests... Java content entry count: 1 Updating\r\n&gt; Unpacked AAR libraries... Updating Jar Cache... Prefetching files...\r\n&gt; Refreshing files Computing directory structure... Committing project\r\n&gt; structure... Workspace has 0 libraries Android resource module count:\r\n&gt; 0, run config modules: 0, order entries: 0, generated resources: 0\r\n&gt; Workspace has 2 modules Updating in-memory state... Could not read\r\n&gt; from manifest file:\r\n&gt; /home/michal/AndroidStudioProjects/bazel/2/examples-master/android/tutorial/AndroidManifest.xml\r\n&gt; Sync finished\r\n&gt; \r\n&gt; Error:(5, 1) in\r\n&gt; @intellij_aspect//:intellij_info_bundled.bzl%intellij_info_aspect\r\n&gt; aspect on android_library rule\r\n&gt; //src/main/java/com/example/bazel:greeter_activity:\n\n\n  [1]: https://docs.bazel.build/versions/master/tutorial/android-app.html","title":"Bazel - unable to build with Android Studio","body":"<p>First, I installed and configured Bazel, now I am able to succesfully compile and deploy app, using that <a href=\"https://docs.bazel.build/versions/master/tutorial/android-app.html\" rel=\"noreferrer\">tutorial</a>.</p>\n\n<p>However, I'm stuck with Android Studio. I installed official Bazel plugin, then tried to import my Bazel project to Android studio (import from BUILD file). And I'm getting sync errors:</p>\n\n<blockquote>\n  <p>Syncing project: Sync (incremental)... Updating VCS... Running Bazel\n  info... Command: bazel info --tool_tag=ijwb:AndroidStudio --curses=no\n  --color=yes --progress_in_terminal_title=no --</p>\n  \n  <p>Computing VCS working set... Querying targets in project\n  directories... Command: bazel query --tool_tag=ijwb:AndroidStudio\n  --output=label_kind --keep_going \"attr(\\\"tags\\\", \\\"^((?!manual).)*$\\\", //src/main/...:all)\" --</p>\n  \n  <p>2 targets found under project directories; syncing 2 of them. Sync\n  targets from project view directories:<br>\n  //src/main/java/com/example/bazel:greeter_activity   //src/main:app</p>\n  \n  <p>Building Bazel targets... Command: bazel build\n  --tool_tag=ijwb:AndroidStudio --keep_going --build_event_binary_file=/tmp/intellij-bep-782d8b0b-2f34-43f6-8f09-1efdd034cbfb\n  --nobuild_event_binary_file_path_conversion --curses=no --color=yes --progress_in_terminal_title=no --aspects=@intellij_aspect//:intellij_info_bundled.bzl%intellij_info_aspect\n  --override_repository=intellij_aspect=/home/michal/.AndroidStudio3.5/config/plugins/aswb/aspect\n  --output_groups=intellij-info-android,intellij-info-generic,intellij-info-java,intellij-resolve-android,intellij-resolve-java\n  -- //src/main/java/com/example/bazel:greeter_activity //src/main:app</p>\n  \n  <p>Loading:  Loading: 0 packages loaded Analyzing: 2 targets (0 packages\n  loaded, 0 targets configured) Analyzing: 2 targets (31 packages\n  loaded, 622 targets configured) ERROR:\n  /home/michal/AndroidStudioProjects/bazel/2/examples-master/android/tutorial/src/main/java/com/example/bazel/BUILD:5:1:\n  in @intellij_aspect//:intellij_info_bundled.bzl%intellij_info_aspect\n  aspect on android_library rule\n  //src/main/java/com/example/bazel:greeter_activity:  Traceback (most\n  recent call last):    File\n  \"/home/michal/AndroidStudioProjects/bazel/2/examples-master/android/tutorial/src/main/java/com/example/bazel/BUILD\",\n  line 5\n        @intellij_aspect//:intellij_info_bundled.bzl%intellij_info_aspect(...)\n    File\n  \"/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_bundled.bzl\",\n  line 54, in _aspect_impl      intellij_info_aspect_impl(target, ctx,\n  semantics)    File\n  \"/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_impl.bzl\",\n  line 895, in intellij_info_aspect_impl        collect_android_info(target,\n  ctx, semantics, ide_info, &lt;2 more arguments>)     File\n  \"/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_impl.bzl\",\n  line 706, in collect_android_info\n        get_res_artifacts(ctx.rule.attr.resource_files, andr...)    File\n  \"/home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/external/intellij_aspect/intellij_info_impl.bzl\",\n  line 118, in get_res_artifacts        for file in resource.files: ... type\n  'depset' is not iterable. Use the <code>to_list()</code> method to get a list.\n  Use --incompatible_depset_is_not_iterable=false to temporarily disable\n  this check. INFO: Analyzed 2 targets (33 packages loaded, 699 targets\n  configured). INFO: Found 2 targets... INFO: Deleting stale sandbox\n  base\n  /home/michal/.cache/bazel/_bazel_michal/d2759e71c9e0462cf95e741761af2e78/sandbox\n  [0 / 1] [Prepa] BazelWorkspaceStatusAction stable-status.txt ERROR:\n  command succeeded, but not all targets were analyzed INFO: Elapsed\n  time: 3.012s, Critical Path: 0.02s INFO: 0 processes. FAILED: Build\n  did NOT complete successfully FAILED: Build did NOT complete\n  successfully INFO: Build Event Protocol files produced successfully.\n  FAILED: Build did NOT complete successfully build invocation result:\n  build_error Sync was successful, but there were Bazel build errors.\n  The project may not be fully updated or resolve until fixed. If the\n  errors are from your working set, please uncheck 'Bazel > Sync >\n  Expand Sync to Working Set' and try again. Parsing build outputs...\n  Total rules: 0, new/changed: 0, removed: 0 Reading IDE info result...\n  Updating target map Loaded 0 aspect files, total size 0kB Target map\n  size: 0 Reading jdeps files... Loaded 0 jdeps files, total size 0kB\n  Reading package manifests... Java content entry count: 1 Updating\n  Unpacked AAR libraries... Updating Jar Cache... Prefetching files...\n  Refreshing files Computing directory structure... Committing project\n  structure... Workspace has 0 libraries Android resource module count:\n  0, run config modules: 0, order entries: 0, generated resources: 0\n  Workspace has 2 modules Updating in-memory state... Could not read\n  from manifest file:\n  /home/michal/AndroidStudioProjects/bazel/2/examples-master/android/tutorial/AndroidManifest.xml\n  Sync finished</p>\n  \n  <p>Error:(5, 1) in\n  @intellij_aspect//:intellij_info_bundled.bzl%intellij_info_aspect\n  aspect on android_library rule\n  //src/main/java/com/example/bazel:greeter_activity:</p>\n</blockquote>\n"},{"tags":["java","android","rx-java","huawei-developers","harmonyos"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1658415921,"post_id":73067739,"comment_id":129051038,"body_markdown":"I&#39;m not familiar with HarmonyOS. Based on docs, It has a `TaskDispatcher uiTaskDispatcher = getUITaskDispatcher();` and `TaskDispatcher` has a `asyncDispatch` method. I presume you can implement a `java.util.concurrent.Executor` over it and hand it to `Schedulers.from` without too much trouble.","body":"I&#39;m not familiar with HarmonyOS. Based on docs, It has a <code>TaskDispatcher uiTaskDispatcher = getUITaskDispatcher();</code> and <code>TaskDispatcher</code> has a <code>asyncDispatch</code> method. I presume you can implement a <code>java.util.concurrent.Executor</code> over it and hand it to <code>Schedulers.from</code> without too much trouble."}],"answers":[{"tags":[],"owner":{"account_id":19232330,"reputation":53,"user_id":14053945,"display_name":"Maros Zelo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658905891,"creation_date":1658905891,"answer_id":73133657,"question_id":73067739,"body_markdown":"Thanks **akarnokd** for the answer! Seems working.\r\n\r\nFor clarification, I inject `UiExecutor` in `BaseUseCase` and use it as:\r\n\r\n `.observeOn(Schedulers.from(uiExecutor));`\r\n```\r\n@Singleton\r\npublic class UiExecutor implements Executor {\r\n\r\n    TaskDispatcher dispatcher;\r\n\r\n    @Inject\r\n    public UiExecutor(AbilityPackage abilityPackage) {\r\n        this.dispatcher = abilityPackage.getUITaskDispatcher();\r\n    }\r\n\r\n    @Override\r\n    public void execute(Runnable runnable) {\r\n        dispatcher.asyncDispatch(runnable);\r\n    }\r\n}\r\n```","title":"RxJava observeOn Main Thread in Android/HarmonyOS","body":"<p>Thanks <strong>akarnokd</strong> for the answer! Seems working.</p>\n<p>For clarification, I inject <code>UiExecutor</code> in <code>BaseUseCase</code> and use it as:</p>\n<p><code>.observeOn(Schedulers.from(uiExecutor));</code></p>\n<pre><code>@Singleton\npublic class UiExecutor implements Executor {\n\n    TaskDispatcher dispatcher;\n\n    @Inject\n    public UiExecutor(AbilityPackage abilityPackage) {\n        this.dispatcher = abilityPackage.getUITaskDispatcher();\n    }\n\n    @Override\n    public void execute(Runnable runnable) {\n        dispatcher.asyncDispatch(runnable);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19232330,"reputation":53,"user_id":14053945,"display_name":"Maros Zelo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73133657,"answer_count":1,"score":3,"last_activity_date":1658907012,"creation_date":1658412620,"question_id":73067739,"body_markdown":"I am developing Huawei HarmonyOS app, and I am trying to implement a base class for background tasks with RxJava. My problem is that I don&#39;t know how to observe on the main thread.\r\n\r\nOn regular Android I would use `AndroidSchedulers.mainThread()`.\r\n\r\nBut what can I use on HarmonyOS, respectively basic java application?\r\n\r\n```\r\npublic abstract class BaseUseCase&lt;I, O&gt; {\r\n\r\n    private final CompositeDisposable disposables;\r\n\r\n    public BaseUseCase() {\r\n        this.disposables = new CompositeDisposable();\r\n    }\r\n\r\n    /**\r\n     * Builds an {@link Observable} which will be used when executing the current {@link BaseUseCase}.\r\n     */\r\n    public abstract Observable&lt;O&gt; observable(I input);\r\n\r\n\r\n    /**\r\n     * Executes the current use case.\r\n     *\r\n     * @param observer {@link DisposableObserver} which will be listening to the observable build\r\n     * by {@link #observable(I)} ()} method.\r\n     * @param input Parameters (Optional) used to build/execute this use case.\r\n     */\r\n    public void execute(DisposableObserver&lt;O&gt; observer, I input) {\r\n        Preconditions.checkNotNull(observer);\r\n        final Observable&lt;O&gt; observable = observable(input)\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn( ??? );                &lt;- What here???\r\n        addDisposable(observable.subscribeWith(observer));\r\n    }\r\n\r\n\r\n    /**\r\n     * Dispose from current {@link CompositeDisposable}.\r\n     */\r\n    private void addDisposable(Disposable disposable) {\r\n        Preconditions.checkNotNull(disposable);\r\n        Preconditions.checkNotNull(disposables);\r\n        disposables.add(disposable);\r\n    }\r\n\r\n```\r\n\r\nPs. I used architecture concept by Fernando Cejas\r\nhttps://fernandocejas.com/blog/engineering/2014-09-03-architecting-android-the-clean-way/","title":"RxJava observeOn Main Thread in Android/HarmonyOS","body":"<p>I am developing Huawei HarmonyOS app, and I am trying to implement a base class for background tasks with RxJava. My problem is that I don't know how to observe on the main thread.</p>\n<p>On regular Android I would use <code>AndroidSchedulers.mainThread()</code>.</p>\n<p>But what can I use on HarmonyOS, respectively basic java application?</p>\n<pre><code>public abstract class BaseUseCase&lt;I, O&gt; {\n\n    private final CompositeDisposable disposables;\n\n    public BaseUseCase() {\n        this.disposables = new CompositeDisposable();\n    }\n\n    /**\n     * Builds an {@link Observable} which will be used when executing the current {@link BaseUseCase}.\n     */\n    public abstract Observable&lt;O&gt; observable(I input);\n\n\n    /**\n     * Executes the current use case.\n     *\n     * @param observer {@link DisposableObserver} which will be listening to the observable build\n     * by {@link #observable(I)} ()} method.\n     * @param input Parameters (Optional) used to build/execute this use case.\n     */\n    public void execute(DisposableObserver&lt;O&gt; observer, I input) {\n        Preconditions.checkNotNull(observer);\n        final Observable&lt;O&gt; observable = observable(input)\n                .subscribeOn(Schedulers.io())\n                .observeOn( ??? );                &lt;- What here???\n        addDisposable(observable.subscribeWith(observer));\n    }\n\n\n    /**\n     * Dispose from current {@link CompositeDisposable}.\n     */\n    private void addDisposable(Disposable disposable) {\n        Preconditions.checkNotNull(disposable);\n        Preconditions.checkNotNull(disposables);\n        disposables.add(disposable);\n    }\n\n</code></pre>\n<p>Ps. I used architecture concept by Fernando Cejas\n<a href=\"https://fernandocejas.com/blog/engineering/2014-09-03-architecting-android-the-clean-way/\" rel=\"nofollow noreferrer\">https://fernandocejas.com/blog/engineering/2014-09-03-architecting-android-the-clean-way/</a></p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1529604791,"creation_date":1529604791,"answer_id":50975148,"question_id":50970199,"body_markdown":"Using `Anchor` for internal links is something of the old days. I see that you&#39;re using an ancient version of iText, since the `Anchor` class (available up until iText 5) was replaced by the `Link` class (introduced in iText 7). See the [overview of the iText 7 building block classes](https://developers.itextpdf.com/content/itext-7-building-blocks/we-start-overview-classes-and-interfaces).\r\n\r\nEven in iText 5, it&#39;s not common to use `Anchor` for local destinations. It is better to use a `Chunk` instead of an `Anchor`, to use the `setLocalDestination()` method to define the target, and to use the `setLocalGoto()` method to define the link:\r\n\r\n    Chunk chunk = new Chunk(&quot;Contact information&quot;);\r\n    chunk.setLocalGoto(&quot;contact&quot;);  \r\n    document.add(new Paragraph(chunk));\r\n    document.newPage();\r\n    chunk chunk1 = new Chunk(&quot;Contact information&quot;);\r\n    chunk1.setLocalDestination(&quot;contact&quot;);\r\n    Chapter chapter = new Chapter(new Paragraph(chunk1),1);    \r\n    chapter.setNumberDepth(0);\r\n    document.add(chapter);\r\n\r\nSee also the almost duplicate question [Add anchor to pdf using itext java](https://stackoverflow.com/questions/23423479). It&#39;s as if you copied your code from the question instead of from the answer (which is really strange).","title":"iText PDF : How to create internal links to other sections in PDF","body":"<p>Using <code>Anchor</code> for internal links is something of the old days. I see that you're using an ancient version of iText, since the <code>Anchor</code> class (available up until iText 5) was replaced by the <code>Link</code> class (introduced in iText 7). See the <a href=\"https://developers.itextpdf.com/content/itext-7-building-blocks/we-start-overview-classes-and-interfaces\" rel=\"nofollow noreferrer\">overview of the iText 7 building block classes</a>.</p>\n\n<p>Even in iText 5, it's not common to use <code>Anchor</code> for local destinations. It is better to use a <code>Chunk</code> instead of an <code>Anchor</code>, to use the <code>setLocalDestination()</code> method to define the target, and to use the <code>setLocalGoto()</code> method to define the link:</p>\n\n<pre><code>Chunk chunk = new Chunk(\"Contact information\");\nchunk.setLocalGoto(\"contact\");  \ndocument.add(new Paragraph(chunk));\ndocument.newPage();\nchunk chunk1 = new Chunk(\"Contact information\");\nchunk1.setLocalDestination(\"contact\");\nChapter chapter = new Chapter(new Paragraph(chunk1),1);    \nchapter.setNumberDepth(0);\ndocument.add(chapter);\n</code></pre>\n\n<p>See also the almost duplicate question <a href=\"https://stackoverflow.com/questions/23423479\">Add anchor to pdf using itext java</a>. It's as if you copied your code from the question instead of from the answer (which is really strange).</p>\n"}],"owner":{"account_id":11008493,"reputation":89,"user_id":8086695,"display_name":"Yuvaraj Chitela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2576,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":50975148,"answer_count":1,"score":-1,"last_activity_date":1658906047,"creation_date":1529588897,"question_id":50970199,"body_markdown":"I&#39;m using itext 5 to generate a pdf file and using `Anchor` to create internal links to different pages inside pdf. links are working fine but, In adobe PDF reader when mouse pointer is placed at the bottom edge of the link,&#39;W&#39; appears on top of Hand tool and when clicked it opens a new file in web browser but it is not redirecting to the linked page. Here is a sample code. Please suggest how to disable internal links opening in browser.\r\n    \r\n    import com.itextpdf.text.Anchor;\r\n    import com.itextpdf.text.Document;\r\n    import com.itextpdf.text.DocumentException;\r\n    import com.itextpdf.text.Paragraph;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n\r\n\r\n    public class AnchorExample {\r\n\r\n    public static void main(String[] args) {\r\n\r\n    Document document = new Document();\r\n\r\n    try {\r\n        PdfWriter.getInstance(document,\r\n                new FileOutputStream(&quot;Anchor2.pdf&quot;));\r\n\r\n        document.open();\r\n\r\n        \r\n            Anchor anchor =\r\n            new Anchor(&quot;Jump down to next paragraph&quot;);\r\n            anchor.setReference(&quot;#linkTarget&quot;);\r\n            Paragraph paragraph = new Paragraph();\r\n            paragraph.add(anchor);\r\n            document.add(paragraph);\r\n            \r\n            document.newPage();\r\n\r\n            Anchor anchorTarget =\r\n            new Anchor(&quot;This is the target of the link above&quot;);\r\n            anchorTarget.setName(&quot;linkTarget&quot;);\r\n            Paragraph targetParagraph = new Paragraph();\r\n            targetParagraph.setSpacingBefore(50);\r\n\r\n            targetParagraph.add(anchorTarget);\r\n            document.add(targetParagraph);\r\n        \r\n\r\n        document.close();\r\n    } catch (DocumentException e) {\r\n        e.printStackTrace();\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    }\r\n    }","title":"iText PDF : How to create internal links to other sections in PDF","body":"<p>I'm using itext 5 to generate a pdf file and using <code>Anchor</code> to create internal links to different pages inside pdf. links are working fine but, In adobe PDF reader when mouse pointer is placed at the bottom edge of the link,'W' appears on top of Hand tool and when clicked it opens a new file in web browser but it is not redirecting to the linked page. Here is a sample code. Please suggest how to disable internal links opening in browser.</p>\n\n<pre><code>import com.itextpdf.text.Anchor;\nimport com.itextpdf.text.Document;\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.Paragraph;\nimport com.itextpdf.text.pdf.PdfWriter;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\n\n\npublic class AnchorExample {\n\npublic static void main(String[] args) {\n\nDocument document = new Document();\n\ntry {\n    PdfWriter.getInstance(document,\n            new FileOutputStream(\"Anchor2.pdf\"));\n\n    document.open();\n\n\n        Anchor anchor =\n        new Anchor(\"Jump down to next paragraph\");\n        anchor.setReference(\"#linkTarget\");\n        Paragraph paragraph = new Paragraph();\n        paragraph.add(anchor);\n        document.add(paragraph);\n\n        document.newPage();\n\n        Anchor anchorTarget =\n        new Anchor(\"This is the target of the link above\");\n        anchorTarget.setName(\"linkTarget\");\n        Paragraph targetParagraph = new Paragraph();\n        targetParagraph.setSpacingBefore(50);\n\n        targetParagraph.add(anchorTarget);\n        document.add(targetParagraph);\n\n\n    document.close();\n} catch (DocumentException e) {\n    e.printStackTrace();\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658868758,"creation_date":1658868758,"answer_id":73129615,"question_id":73128611,"body_markdown":"I had implemented CDC (Change Data Capture) using [Debezium][1].\r\n\r\nTo set it up, you create a relevant connector for your DB ([example][2]), it uses Kafka connect and keeps track of your DB operations.\r\n\r\nWhen any DB operation (Insert, Update, Delete) occurs then it publishes CDC messages to a Kafka topic.\r\n\r\nYou can setup a Spring Kafka Consumer application to listen to this Kafka topic, consume the CDC events and react on the basis of the type of operation `[ op = c (create), u (update), d (delete) ]`.\r\n\r\n[Here][3] is a sample project that I have created. You can use it as a reference.\r\n\r\nThis is how do the Kafka messages look like - [link][4]\r\n\r\n\r\n  [1]: https://debezium.io/\r\n  [2]: https://github.com/abhinav-nath/cdc-using-debezium#create-a-debezium-connector\r\n  [3]: https://github.com/abhinav-nath/cdc-using-debezium\r\n  [4]: https://github.com/abhinav-nath/cdc-using-debezium#messages-received-by-the-consumer","title":"Call a function on db update","body":"<p>I had implemented CDC (Change Data Capture) using <a href=\"https://debezium.io/\" rel=\"nofollow noreferrer\">Debezium</a>.</p>\n<p>To set it up, you create a relevant connector for your DB (<a href=\"https://github.com/abhinav-nath/cdc-using-debezium#create-a-debezium-connector\" rel=\"nofollow noreferrer\">example</a>), it uses Kafka connect and keeps track of your DB operations.</p>\n<p>When any DB operation (Insert, Update, Delete) occurs then it publishes CDC messages to a Kafka topic.</p>\n<p>You can setup a Spring Kafka Consumer application to listen to this Kafka topic, consume the CDC events and react on the basis of the type of operation <code>[ op = c (create), u (update), d (delete) ]</code>.</p>\n<p><a href=\"https://github.com/abhinav-nath/cdc-using-debezium\" rel=\"nofollow noreferrer\">Here</a> is a sample project that I have created. You can use it as a reference.</p>\n<p>This is how do the Kafka messages look like - <a href=\"https://github.com/abhinav-nath/cdc-using-debezium#messages-received-by-the-consumer\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":9545258,"reputation":162,"user_id":7635717,"display_name":"Carlos Martel Lamas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658905936,"creation_date":1658862717,"question_id":73128611,"body_markdown":"I want to create a Spring Boot App that has an API that clients query to get data from. Also I&#39;d like to update any change that is made on the db appear in the front in real time. Something like firebase does when updating a document. I&#39;m using in-memory H2 Database at the moment as it is not something that I need to persist between runs (for now I guess...)\r\n\r\nThe API is not a problem but the real-time updates as that part is already done.\r\n\r\nI thought about implementing pub-sub strategy or something like that but I&#39;m a bit lost about it actually.\r\n\r\nI also know the existence about WebFlux and have read info about it but I&#39;m not sure that fulfill my needs.\r\n\r\n","title":"Call a function on db update","body":"<p>I want to create a Spring Boot App that has an API that clients query to get data from. Also I'd like to update any change that is made on the db appear in the front in real time. Something like firebase does when updating a document. I'm using in-memory H2 Database at the moment as it is not something that I need to persist between runs (for now I guess...)</p>\n<p>The API is not a problem but the real-time updates as that part is already done.</p>\n<p>I thought about implementing pub-sub strategy or something like that but I'm a bit lost about it actually.</p>\n<p>I also know the existence about WebFlux and have read info about it but I'm not sure that fulfill my needs.</p>\n"},{"tags":["java","machine-learning","neural-network","deep-learning","deeplearning4j"],"comments":[{"owner":{"account_id":162227,"reputation":1070,"user_id":1615070,"display_name":"404pio"},"score":0,"creation_date":1456165301,"post_id":35545819,"comment_id":58810221,"body_markdown":"Ask your question on gitter chat on nd4j page.","body":"Ask your question on gitter chat on nd4j page."}],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1528714766,"creation_date":1456248100,"answer_id":35584084,"question_id":35545819,"body_markdown":"Since you appear to be newer to neural nets, I&#39;d look at CNNs:\r\nhttps://github.com/deeplearning4j/dl4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/convolution/LenetMnistExample.java\r\n","title":"DL4J - Accuracy with Denoising Autoencoder","body":"<p>Since you appear to be newer to neural nets, I'd look at CNNs:\n<a href=\"https://github.com/deeplearning4j/dl4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/convolution/LenetMnistExample.java\" rel=\"nofollow noreferrer\">https://github.com/deeplearning4j/dl4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/convolution/LenetMnistExample.java</a></p>\n"}],"owner":{"account_id":5964034,"reputation":1,"user_id":4688258,"display_name":"Chris Hayduk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658905876,"creation_date":1456115218,"question_id":35545819,"body_markdown":"I&#39;ve been trying to run the example code provided by DL4J for the stacked denoising autoencoder. However, my results have been really bad:\r\n\r\n    Warning: class 0 was never predicted by the model. This class was excluded    from the average precision\r\n    Warning: class 1 was never predicted by the model. This class was excluded from the average precision\r\n    Warning: class 2 was never predicted by the model. This class was excluded from the average precision\r\n    Warning: class 3 was never predicted by the model. This class was excluded from the average precision\r\n    Warning: class 4 was never predicted by the model. This class was excluded from the average precision\r\n    Warning: class 5 was never predicted by the model. This class was excluded from the average precision\r\n    Warning: class 6 was never predicted by the model. This class was excluded from the average precision\r\n    Warning: class 7 was never predicted by the model. This class was excluded from the average precision\r\n    Warning: class 9 was never predicted by the model. This class was excluded from the average precision\r\n\r\n    ==========================Scores========================================\r\n     Accuracy:  0.0944\r\n     Precision: 0.0944\r\n     Recall:    0.1\r\n     F1 Score:  0.0971\r\n\r\nI&#39;m not exactly sure what could be causing the results to be that bad. I&#39;m using the MNIST dataset, and the code for the stacked denoising autoencoder was provided by DL4J. My code is below:\r\n\r\n    /**\r\n     * Created by chris on 1/31/16.\r\n     * Import statements above\r\n     */\r\n    public class stackedDenoisingAutoencoderExample {\r\n\r\n        private static Logger log = LoggerFactory.getLogger(stackedDenoisingAutoencoderExample.class);\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            final int numRows = 28;\r\n            final int numColumns = 28;\r\n            int outputNum = 10;\r\n            int numSamples = 60000;\r\n            int batchSize = 100;\r\n            int iterations = 10;\r\n            int seed = 123;\r\n            int listenerFreq = batchSize / 5;\r\n\r\n            log.info(&quot;Load data....&quot;);\r\n            DataSetIterator iter = new MnistDataSetIterator(batchSize,numSamples,true);\r\n\r\n            log.info(&quot;Build model....&quot;);\r\n\r\n            MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\r\n                .seed(seed)\r\n      .gradientNormalization(GradientNormalization.ClipElementWiseAbsoluteValue)\r\n                .gradientNormalizationThreshold(1.0)\r\n                .iterations(iterations)\r\n                .momentum(0.5)\r\n                .momentumAfter(Collections.singletonMap(3, 0.9))\r\n                .optimizationAlgo(OptimizationAlgorithm.CONJUGATE_GRADIENT)\r\n                .list(4)\r\n                .layer(0, new AutoEncoder.Builder().nIn(numRows * numColumns).nOut(500)\r\n                        .weightInit(WeightInit.XAVIER).lossFunction(LossFunctions.LossFunction.RMSE_XENT)\r\n                        .corruptionLevel(0.3)\r\n                        .build())\r\n                .layer(1, new AutoEncoder.Builder().nIn(500).nOut(250)\r\n                        .weightInit(WeightInit.XAVIER).lossFunction(LossFunctions.LossFunction.RMSE_XENT)\r\n                        .corruptionLevel(0.3)\r\n\r\n                        .build())\r\n                .layer(2, new AutoEncoder.Builder().nIn(250).nOut(200)\r\n                        .weightInit(WeightInit.XAVIER).lossFunction(LossFunctions.LossFunction.RMSE_XENT)\r\n                        .corruptionLevel(0.3)\r\n                        .build())\r\n                .layer(3, new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD).activation(&quot;softmax&quot;)\r\n                        .nIn(200).nOut(outputNum).build())\r\n                .pretrain(true).backprop(false)\r\n                .build();\r\n\r\n            MultiLayerNetwork model = new MultiLayerNetwork(conf);\r\n            model.init();\r\n            model.setListeners(Arrays.asList((IterationListener) new ScoreIterationListener(listenerFreq)));\r\n\r\n            log.info(&quot;Train model....&quot;);\r\n            model.fit(iter); // achieves end to end pre-training\r\n\r\n            log.info(&quot;Evaluate model....&quot;);\r\n            Evaluation eval = new Evaluation(outputNum);\r\n\r\n            DataSetIterator testIter = new MnistDataSetIterator(100,10000);\r\n            while(testIter.hasNext()) {\r\n                DataSet testMnist = testIter.next();\r\n                INDArray predict2 = model.output(testMnist.getFeatureMatrix());\r\n                eval.eval(testMnist.getLabels(), predict2);\r\n            }\r\n\r\n            log.info(eval.stats());\r\n            log.info(&quot;****************Example finished********************&quot;);\r\n\r\n        }\r\n    }\r\n\r\nThanks!","title":"DL4J - Accuracy with Denoising Autoencoder","body":"<p>I've been trying to run the example code provided by DL4J for the stacked denoising autoencoder. However, my results have been really bad:</p>\n\n<pre><code>Warning: class 0 was never predicted by the model. This class was excluded    from the average precision\nWarning: class 1 was never predicted by the model. This class was excluded from the average precision\nWarning: class 2 was never predicted by the model. This class was excluded from the average precision\nWarning: class 3 was never predicted by the model. This class was excluded from the average precision\nWarning: class 4 was never predicted by the model. This class was excluded from the average precision\nWarning: class 5 was never predicted by the model. This class was excluded from the average precision\nWarning: class 6 was never predicted by the model. This class was excluded from the average precision\nWarning: class 7 was never predicted by the model. This class was excluded from the average precision\nWarning: class 9 was never predicted by the model. This class was excluded from the average precision\n\n==========================Scores========================================\n Accuracy:  0.0944\n Precision: 0.0944\n Recall:    0.1\n F1 Score:  0.0971\n</code></pre>\n\n<p>I'm not exactly sure what could be causing the results to be that bad. I'm using the MNIST dataset, and the code for the stacked denoising autoencoder was provided by DL4J. My code is below:</p>\n\n<pre><code>/**\n * Created by chris on 1/31/16.\n * Import statements above\n */\npublic class stackedDenoisingAutoencoderExample {\n\n    private static Logger log = LoggerFactory.getLogger(stackedDenoisingAutoencoderExample.class);\n\n    public static void main(String[] args) throws Exception {\n        final int numRows = 28;\n        final int numColumns = 28;\n        int outputNum = 10;\n        int numSamples = 60000;\n        int batchSize = 100;\n        int iterations = 10;\n        int seed = 123;\n        int listenerFreq = batchSize / 5;\n\n        log.info(\"Load data....\");\n        DataSetIterator iter = new MnistDataSetIterator(batchSize,numSamples,true);\n\n        log.info(\"Build model....\");\n\n        MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\n            .seed(seed)\n  .gradientNormalization(GradientNormalization.ClipElementWiseAbsoluteValue)\n            .gradientNormalizationThreshold(1.0)\n            .iterations(iterations)\n            .momentum(0.5)\n            .momentumAfter(Collections.singletonMap(3, 0.9))\n            .optimizationAlgo(OptimizationAlgorithm.CONJUGATE_GRADIENT)\n            .list(4)\n            .layer(0, new AutoEncoder.Builder().nIn(numRows * numColumns).nOut(500)\n                    .weightInit(WeightInit.XAVIER).lossFunction(LossFunctions.LossFunction.RMSE_XENT)\n                    .corruptionLevel(0.3)\n                    .build())\n            .layer(1, new AutoEncoder.Builder().nIn(500).nOut(250)\n                    .weightInit(WeightInit.XAVIER).lossFunction(LossFunctions.LossFunction.RMSE_XENT)\n                    .corruptionLevel(0.3)\n\n                    .build())\n            .layer(2, new AutoEncoder.Builder().nIn(250).nOut(200)\n                    .weightInit(WeightInit.XAVIER).lossFunction(LossFunctions.LossFunction.RMSE_XENT)\n                    .corruptionLevel(0.3)\n                    .build())\n            .layer(3, new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD).activation(\"softmax\")\n                    .nIn(200).nOut(outputNum).build())\n            .pretrain(true).backprop(false)\n            .build();\n\n        MultiLayerNetwork model = new MultiLayerNetwork(conf);\n        model.init();\n        model.setListeners(Arrays.asList((IterationListener) new ScoreIterationListener(listenerFreq)));\n\n        log.info(\"Train model....\");\n        model.fit(iter); // achieves end to end pre-training\n\n        log.info(\"Evaluate model....\");\n        Evaluation eval = new Evaluation(outputNum);\n\n        DataSetIterator testIter = new MnistDataSetIterator(100,10000);\n        while(testIter.hasNext()) {\n            DataSet testMnist = testIter.next();\n            INDArray predict2 = model.output(testMnist.getFeatureMatrix());\n            eval.eval(testMnist.getLabels(), predict2);\n        }\n\n        log.info(eval.stats());\n        log.info(\"****************Example finished********************\");\n\n    }\n}\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1658905384,"post_id":73133186,"comment_id":129164829,"body_markdown":"have you checked [here](https://howtodoinjava.com/spring-boot2/war-packaging-example/)?","body":"have you checked <a href=\"https://howtodoinjava.com/spring-boot2/war-packaging-example/\" rel=\"nofollow noreferrer\">here</a>?"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":0,"creation_date":1658911275,"post_id":73133186,"comment_id":129166796,"body_markdown":"Does this answer your question? [How to create .war file using maven?](https://stackoverflow.com/questions/17164896/how-to-create-war-file-using-maven)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17164896/how-to-create-war-file-using-maven\">How to create .war file using maven?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1867826,"reputation":1114,"user_id":1690929,"accept_rate":80,"display_name":"Andries"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658905739,"creation_date":1658905739,"answer_id":73133625,"question_id":73133186,"body_markdown":"You can use existing libraries to achieve this.\r\nIf you use `maven`, you can use the [maven-dependency-plugin](https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin)\r\n\r\nFor example, in your `pom.xml` file, add the following to your dependencies:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAnd then, use it as a `plugin` in your `pom.xml`:\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;!-- http://jonathangraham.github.io/2016/01/05/Local_Jar_Dependency_With_Maven --&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;compile&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\nThe entire process is explained [here](http://jonathangraham.github.io/2016/01/05/Local_Jar_Dependency_With_Maven) in more detail.","title":"How to package spring boot project with multiple JAR dependencies?","body":"<p>You can use existing libraries to achieve this.\nIf you use <code>maven</code>, you can use the <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin\" rel=\"nofollow noreferrer\">maven-dependency-plugin</a></p>\n<p>For example, in your <code>pom.xml</code> file, add the following to your dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And then, use it as a <code>plugin</code> in your <code>pom.xml</code>:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;!-- http://jonathangraham.github.io/2016/01/05/Local_Jar_Dependency_With_Maven --&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>The entire process is explained <a href=\"http://jonathangraham.github.io/2016/01/05/Local_Jar_Dependency_With_Maven\" rel=\"nofollow noreferrer\">here</a> in more detail.</p>\n"}],"owner":{"account_id":6026862,"reputation":41,"user_id":13106846,"display_name":"user13106846"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658905739,"creation_date":1658903367,"question_id":73133186,"body_markdown":"I have a spring boot project that has a few local jar files dependencies like\r\n\r\n - mssql-jdbc-6.2.1.jre8.jar\r\n - internal-commons.jar\r\n - internal-db.jar\r\n - etc.\r\n\r\nHow do I package the project into a WAR file? Thanks in advance!","title":"How to package spring boot project with multiple JAR dependencies?","body":"<p>I have a spring boot project that has a few local jar files dependencies like</p>\n<ul>\n<li>mssql-jdbc-6.2.1.jre8.jar</li>\n<li>internal-commons.jar</li>\n<li>internal-db.jar</li>\n<li>etc.</li>\n</ul>\n<p>How do I package the project into a WAR file? Thanks in advance!</p>\n"},{"tags":["java","class","package"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1658895227,"post_id":73132126,"comment_id":129162683,"body_markdown":"When you print an object in java it calls the objects `toString()` method and prints whatever that outputs exactly as you have shown `javax.crypto.Mac@7508cc45`, this is correct and default behaviour, the part before @ is the class, the part after @ is the  hash code of the object. If you want different results then you need to retrieve the inner value from your object using a method call `obj.getValues()` or `String result = yourObject.someMetohd();` then print that, or you need to override the `toString()` method of the object, then you can just use `System.out.println(yourObject);`.","body":"When you print an object in java it calls the objects <code>toString()</code> method and prints whatever that outputs exactly as you have shown <code>javax.crypto.Mac@7508cc45</code>, this is correct and default behaviour, the part before @ is the class, the part after @ is the  hash code of the object. If you want different results then you need to retrieve the inner value from your object using a method call <code>obj.getValues()</code> or <code>String result = yourObject.someMetohd();</code> then print that, or you need to override the <code>toString()</code> method of the object, then you can just use <code>System.out.println(yourObject);</code>."}],"answers":[{"tags":[],"owner":{"account_id":20506037,"reputation":47,"user_id":15048816,"display_name":"Krishna Krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658905462,"creation_date":1658905462,"answer_id":73133574,"question_id":73132126,"body_markdown":"```\r\nvar sha256Hmac = javax.crypto.Mac.getInstance(&quot;HmacSHA256&quot;);\r\nvar secretKey = new javax.crypto.spec.SecretKeySpec(secret.getBytes(java.nio.charset.StandardCharsets.UTF_8), &quot;HmacSHA256&quot;);\r\nsha256Hmac.init(secretKey);\r\nvar jwttoken = sha256Hmac.doFinal(data.getBytes(java.nio.charset.StandardCharsets.UTF_8));\r\nvar stoken = java.util.Base64.getUrlEncoder().withoutPadding().encodeToString(jwttoken);\r\n```\r\nThe Base64 class by default returns a string so used it to convert the bytes[] to string.","title":"Printing an object returns classname with annotation","body":"<pre><code>var sha256Hmac = javax.crypto.Mac.getInstance(&quot;HmacSHA256&quot;);\nvar secretKey = new javax.crypto.spec.SecretKeySpec(secret.getBytes(java.nio.charset.StandardCharsets.UTF_8), &quot;HmacSHA256&quot;);\nsha256Hmac.init(secretKey);\nvar jwttoken = sha256Hmac.doFinal(data.getBytes(java.nio.charset.StandardCharsets.UTF_8));\nvar stoken = java.util.Base64.getUrlEncoder().withoutPadding().encodeToString(jwttoken);\n</code></pre>\n<p>The Base64 class by default returns a string so used it to convert the bytes[] to string.</p>\n"}],"owner":{"account_id":20506037,"reputation":47,"user_id":15048816,"display_name":"Krishna Krish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1659016516,"accepted_answer_id":73133574,"answer_count":1,"score":-2,"last_activity_date":1658905462,"creation_date":1658894521,"question_id":73132126,"body_markdown":"I am very new to Java and trying to use some Java code inside a custom sandbox environment that can support both java and javascript. It does not allow import or script statements though.\r\n\r\n```\r\nvar sha256Hmac = javax.crypto.Mac.getInstance(&quot;HmacSHA256&quot;);\r\nvar secretKey = new javax.crypto.spec.SecretKeySpec(secret.getBytes(), &quot;HmacSHA256&quot;);\r\nsha256Hmac.init(secretKey);\r\n```\r\n\r\nWhen I print sha256Hmac, I get javax.crypto.Mac@7508cc45 and when I print secretKey, I get javax.crypto.spec.SecretKeySpec@fa75c355\r\n\r\nI was able to use Hashmap and Base 64 like this and get the correct output\r\n```\r\nvar hashMap = new java.util.HashMap();\r\nhashMap.putAll(obj.getValues());\r\nvar payload = java.util.Base64.getUrlEncoder().encodeToString(hashMap.getBytes());\r\n```","title":"Printing an object returns classname with annotation","body":"<p>I am very new to Java and trying to use some Java code inside a custom sandbox environment that can support both java and javascript. It does not allow import or script statements though.</p>\n<pre><code>var sha256Hmac = javax.crypto.Mac.getInstance(&quot;HmacSHA256&quot;);\nvar secretKey = new javax.crypto.spec.SecretKeySpec(secret.getBytes(), &quot;HmacSHA256&quot;);\nsha256Hmac.init(secretKey);\n</code></pre>\n<p>When I print sha256Hmac, I get javax.crypto.Mac@7508cc45 and when I print secretKey, I get javax.crypto.spec.SecretKeySpec@fa75c355</p>\n<p>I was able to use Hashmap and Base 64 like this and get the correct output</p>\n<pre><code>var hashMap = new java.util.HashMap();\nhashMap.putAll(obj.getValues());\nvar payload = java.util.Base64.getUrlEncoder().encodeToString(hashMap.getBytes());\n</code></pre>\n"},{"tags":["java","mongodb","quarkus","mongock"],"comments":[{"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"score":0,"creation_date":1659036901,"post_id":73076943,"comment_id":129206461,"body_markdown":"Version 5.1.1 has been released and we believe your issue is fixed","body":"Version 5.1.1 has been released and we believe your issue is fixed"},{"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"score":0,"creation_date":1659516744,"post_id":73076943,"comment_id":129311159,"body_markdown":"not sure if i have something else but this seems to still be the issue.","body":"not sure if i have something else but this seems to still be the issue."}],"answers":[{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658905240,"creation_date":1658905240,"answer_id":73133518,"question_id":73076943,"body_markdown":"It seems that, mistakenly, the internal JDK packages were removed from the list of package to NOT be proxied. \r\n\r\nNothing to do with Quarkus. It&#39;s due to Java 16 modularisation.\r\n\r\nThat will be updated and released in version 5.1.1 soon","title":"module does not opens unanmed module using quarkus and mongock","body":"<p>It seems that, mistakenly, the internal JDK packages were removed from the list of package to NOT be proxied.</p>\n<p>Nothing to do with Quarkus. It's due to Java 16 modularisation.</p>\n<p>That will be updated and released in version 5.1.1 soon</p>\n"}],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73133518,"answer_count":1,"score":0,"last_activity_date":1658905240,"creation_date":1658476498,"question_id":73076943,"body_markdown":"I get the following issue when starting up quarkus with mongock on java 17:\r\n\r\n```\r\n2022-07-22 07:50:57,109 ERROR [io.mon.run.cor.exe.MongockRunnerImpl] (main) Error in mongock process. ABORTED MIGRATION: io.mongock.api.exception.MongockException: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3c87521\r\n\tat io.mongock.runner.core.executor.MongockRunnerImpl.execute(MongockRunnerImpl.java:67)\r\n\tat mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager.init(MongoMigrationManager.java:89)\r\n\tat mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_Bean.create(Unknown Source)\r\n\tat mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_Bean.create(Unknown Source)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\n\tat io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\n\tat io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\n\tat io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\r\n\tat io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\n\tat mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_ClientProxy.arc$delegate(Unknown Source)\r\n\tat mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_ClientProxy.arc_contextualInstance(Unknown Source)\r\n\tat mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_Observer_Synthetic_d70cd75bf32ab6598217b9a64a8473d65e248c05.notify(Unknown Source)\r\n\tat io.quarkus.arc.impl.EventImpl$Notifier.notifyObservers(EventImpl.java:323)\r\n\tat io.quarkus.arc.impl.EventImpl$Notifier.notify(EventImpl.java:305)\r\n\tat io.quarkus.arc.impl.EventImpl.fire(EventImpl.java:73)\r\n\tat io.quarkus.arc.runtime.ArcRecorder.fireLifecycleEvent(ArcRecorder.java:130)\r\n\tat io.quarkus.arc.runtime.ArcRecorder.handleLifecycleEvents(ArcRecorder.java:99)\r\n\tat io.quarkus.deployment.steps.LifecycleEventsBuildStep$startupEvent1144526294.deploy_0(Unknown Source)\r\n\tat io.quarkus.deployment.steps.LifecycleEventsBuildStep$startupEvent1144526294.deploy(Unknown Source)\r\n\tat io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\r\n\tat io.quarkus.runtime.Application.start(Application.java:101)\r\n\tat io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:103)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\n\tat io.quarkus.runtime.Quarkus.run(Quarkus.java:120)\r\n\tat mt.com.my.proj.tenant.TenantGeoConfigServiceApplication.main(TenantGeoConfigServiceApplication.java:13)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\n\tat io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3c87521\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103)\r\n\tat javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151)\r\n\tat javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134)\r\n\tat javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95)\r\n\tat javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131)\r\n\tat javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530)\r\n\tat javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515)\r\n\tat javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451)\r\n\tat javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422)\r\n\tat io.mongock.driver.api.lock.guard.proxy.LockGuardProxyFactory.createProxy(LockGuardProxyFactory.java:92)\r\n\r\n```\r\n\r\nI am using `quarkus` version `2.9.0.CR1` and `mongock` version `5.1.0`\r\n\r\n\r\nI have migrtation scripts  that inject the following objects (only, no other custom defined objects)\r\n\r\n```\r\n@ChangeUnit(id = &quot;create-global-config&quot;, order = &quot;6&quot;, author = &quot;me&quot;)\r\npublic record Migration006GlobalConfigCreation(ClientSession clientSession, ReactiveMongoDatabase mongoDatabase) {\r\n```","title":"module does not opens unanmed module using quarkus and mongock","body":"<p>I get the following issue when starting up quarkus with mongock on java 17:</p>\n<pre><code>2022-07-22 07:50:57,109 ERROR [io.mon.run.cor.exe.MongockRunnerImpl] (main) Error in mongock process. ABORTED MIGRATION: io.mongock.api.exception.MongockException: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3c87521\n    at io.mongock.runner.core.executor.MongockRunnerImpl.execute(MongockRunnerImpl.java:67)\n    at mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager.init(MongoMigrationManager.java:89)\n    at mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_Bean.create(Unknown Source)\n    at mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_Bean.create(Unknown Source)\n    at io.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\n    at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\n    at io.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\n    at io.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\n    at io.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\n    at io.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\n    at io.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\n    at mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_ClientProxy.arc$delegate(Unknown Source)\n    at mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_ClientProxy.arc_contextualInstance(Unknown Source)\n    at mt.com.my.proj.quarkus.commons.db.mongo.migration.MongoMigrationManager_Observer_Synthetic_d70cd75bf32ab6598217b9a64a8473d65e248c05.notify(Unknown Source)\n    at io.quarkus.arc.impl.EventImpl$Notifier.notifyObservers(EventImpl.java:323)\n    at io.quarkus.arc.impl.EventImpl$Notifier.notify(EventImpl.java:305)\n    at io.quarkus.arc.impl.EventImpl.fire(EventImpl.java:73)\n    at io.quarkus.arc.runtime.ArcRecorder.fireLifecycleEvent(ArcRecorder.java:130)\n    at io.quarkus.arc.runtime.ArcRecorder.handleLifecycleEvents(ArcRecorder.java:99)\n    at io.quarkus.deployment.steps.LifecycleEventsBuildStep$startupEvent1144526294.deploy_0(Unknown Source)\n    at io.quarkus.deployment.steps.LifecycleEventsBuildStep$startupEvent1144526294.deploy(Unknown Source)\n    at io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\n    at io.quarkus.runtime.Application.start(Application.java:101)\n    at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:103)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:67)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\n    at io.quarkus.runtime.Quarkus.run(Quarkus.java:120)\n    at mt.com.my.proj.tenant.TenantGeoConfigServiceApplication.main(TenantGeoConfigServiceApplication.java:13)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at io.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\n    at io.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @3c87521\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at javassist.util.proxy.SecurityActions.setAccessible(SecurityActions.java:103)\n    at javassist.util.proxy.DefineClassHelper.toClass3(DefineClassHelper.java:151)\n    at javassist.util.proxy.DefineClassHelper.toClass2(DefineClassHelper.java:134)\n    at javassist.util.proxy.DefineClassHelper.toClass(DefineClassHelper.java:95)\n    at javassist.util.proxy.FactoryHelper.toClass(FactoryHelper.java:131)\n    at javassist.util.proxy.ProxyFactory.createClass3(ProxyFactory.java:530)\n    at javassist.util.proxy.ProxyFactory.createClass2(ProxyFactory.java:515)\n    at javassist.util.proxy.ProxyFactory.createClass1(ProxyFactory.java:451)\n    at javassist.util.proxy.ProxyFactory.createClass(ProxyFactory.java:422)\n    at io.mongock.driver.api.lock.guard.proxy.LockGuardProxyFactory.createProxy(LockGuardProxyFactory.java:92)\n\n</code></pre>\n<p>I am using <code>quarkus</code> version <code>2.9.0.CR1</code> and <code>mongock</code> version <code>5.1.0</code></p>\n<p>I have migrtation scripts  that inject the following objects (only, no other custom defined objects)</p>\n<pre><code>@ChangeUnit(id = &quot;create-global-config&quot;, order = &quot;6&quot;, author = &quot;me&quot;)\npublic record Migration006GlobalConfigCreation(ClientSession clientSession, ReactiveMongoDatabase mongoDatabase) {\n</code></pre>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1658886065,"post_id":73131397,"comment_id":129161289,"body_markdown":"What is the specific issue you&#39;re having?","body":"What is the specific issue you&#39;re having?"},{"owner":{"account_id":24078021,"reputation":1,"user_id":18053026,"display_name":"unstableindividual"},"score":0,"creation_date":1658886136,"post_id":73131397,"comment_id":129161298,"body_markdown":"@DaveNewton I need to move the pairs from the parameter HashMap into an ArrayList","body":"@DaveNewton I need to move the pairs from the parameter HashMap into an ArrayList"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1658886180,"post_id":73131397,"comment_id":129161306,"body_markdown":"Right. What is preventing you from doing so?","body":"Right. What is preventing you from doing so?"},{"owner":{"account_id":24078021,"reputation":1,"user_id":18053026,"display_name":"unstableindividual"},"score":0,"creation_date":1658886280,"post_id":73131397,"comment_id":129161325,"body_markdown":"@DaveNewton I understand how to copy the values to individual ArrayLists, such as one for the Keys and one for the Values, but I do not understand how to move both the &lt;Key, Value&gt; into an ArrayList.","body":"@DaveNewton I understand how to copy the values to individual ArrayLists, such as one for the Keys and one for the Values, but I do not understand how to move both the &lt;Key, Value&gt; into an ArrayList."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1658886566,"post_id":73131397,"comment_id":129161372,"body_markdown":"There are multiple ways it can be done. I don&#39;t understand what you mean by &quot;using an `entrySet` does not work for my test cases&quot;--*how* the `List` is created is irrelevant; the *content* of the list is the goal. If you can get the map&#39;s keys, you can get the map&#39;s values. If you have the map&#39;s keys and values, you can create the `Pair`. If you can create the `Pair` you can put it into a list. What&#39;s the *specific* issue?","body":"There are multiple ways it can be done. I don&#39;t understand what you mean by &quot;using an <code>entrySet</code> does not work for my test cases&quot;--<i>how</i> the <code>List</code> is created is irrelevant; the <i>content</i> of the list is the goal. If you can get the map&#39;s keys, you can get the map&#39;s values. If you have the map&#39;s keys and values, you can create the <code>Pair</code>. If you can create the <code>Pair</code> you can put it into a list. What&#39;s the <i>specific</i> issue?"},{"owner":{"account_id":24078021,"reputation":1,"user_id":18053026,"display_name":"unstableindividual"},"score":0,"creation_date":1658887615,"post_id":73131397,"comment_id":129161539,"body_markdown":"@DaveNewton So I have altered the wcList to be an `ArrayList&lt;Pair&lt;String, Integer&gt;&gt;(listofKeys, listofValues)` with the listofKeys being an ArrayList of the keys, and the listofValues being an ArrayList of the values. This gives me the error &quot;no suitable constructor found for ArrayList however. \n\nI guess my main question is, how do I get those values into a Pair. Then from their, how would I be able to put those Pairs into an ArrayList.","body":"@DaveNewton So I have altered the wcList to be an <code>ArrayList&lt;Pair&lt;String, Integer&gt;&gt;(listofKeys, listofValues)</code> with the listofKeys being an ArrayList of the keys, and the listofValues being an ArrayList of the values. This gives me the error &quot;no suitable constructor found for ArrayList however.   I guess my main question is, how do I get those values into a Pair. Then from their, how would I be able to put those Pairs into an ArrayList."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1658888273,"post_id":73131397,"comment_id":129161649,"body_markdown":"If you&#39;re given a `HashMap&lt;String, Integer&gt;` what do you need the lists for? Why would you need a list of values if you have a list of keys? You can get the value from the map with the keys. Why can&#39;t you use `entrySet`?","body":"If you&#39;re given a <code>HashMap&lt;String, Integer&gt;</code> what do you need the lists for? Why would you need a list of values if you have a list of keys? You can get the value from the map with the keys. Why can&#39;t you use <code>entrySet</code>?"},{"owner":{"account_id":24078021,"reputation":1,"user_id":18053026,"display_name":"unstableindividual"},"score":0,"creation_date":1658889957,"post_id":73131397,"comment_id":129161893,"body_markdown":"@DaveNewton How would I implement entrySet? I understand how to use it to print a HashMap but don&#39;t quite understand how I would use it to copy the values into an ArrayList. I tried casting the values using the entrySet and I cannot cast entrySet to Pair.","body":"@DaveNewton How would I implement entrySet? I understand how to use it to print a HashMap but don&#39;t quite understand how I would use it to copy the values into an ArrayList. I tried casting the values using the entrySet and I cannot cast entrySet to Pair."},{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":0,"creation_date":1658891856,"post_id":73131397,"comment_id":129162200,"body_markdown":"&quot;One by one&quot; seems to be the answer to a lot of the questions you&#39;re asking.","body":"&quot;One by one&quot; seems to be the answer to a lot of the questions you&#39;re asking."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1658904194,"post_id":73131397,"comment_id":129164483,"body_markdown":"@unstableindividual You do not need to cast or convert to your `Pair` class, you don&#39;t need your `Pair` class at all! The `Map.Entry` interface does exactly what you want your `Pair` class to do. See my Answer for more explanation and code.","body":"@unstableindividual You do not need to cast or convert to your <code>Pair</code> class, you don&#39;t need your <code>Pair</code> class at all! The <code>Map.Entry</code> interface does exactly what you want your <code>Pair</code> class to do. See my Answer for more explanation and code."}],"answers":[{"tags":[],"owner":{"account_id":20226258,"reputation":44,"user_id":14834051,"display_name":"Smit Chawda"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1658891998,"creation_date":1658891436,"answer_id":73131884,"question_id":73131397,"body_markdown":"The below code seperates the keys and values from HashMap and creates 2 ArrayLists to hold them.\r\n\r\nPlease refer the extract method.\r\n&gt;For the above ArrayList I am given a HashMap&lt;String, Integer&gt; as a parameter. The return must be an ArrayList&lt;Pair&lt;String, Integer&gt;&gt;\r\n\r\n    public static void main(String[] args) {\r\n    \tHashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n    \tmap.put(&quot;one&quot;, 1);\r\n    \tmap.put(&quot;two&quot;, 2);\r\n    \tmap.put(&quot;three&quot;, 3);\r\n    \textract(map);\r\n    }\r\n    \r\n    public static ArrayList&lt;Pair&lt;String, Integer&gt;&gt; extract(HashMap map)\r\n    {\r\n    \tArrayList&lt;Pair&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Pair&lt;String,Integer&gt;&gt;();\r\n    \tArrayList&lt;String&gt; mapKeys = new ArrayList&lt;String&gt;(map.keySet());\r\n    \tArrayList&lt;Integer&gt; mapValues = new ArrayList&lt;Integer&gt;(map.values());\r\n    \tPair p;\r\n    \tfor(int i=0; i&lt;map.size(); i++) {\r\n    \t\tp = new Pair(mapKeys.get(i), mapValues.get(i));\r\n    \t\tlist.add(p);\r\n    \t}\r\n    \t\r\n    \tlist.stream().forEach(e -&gt;System.out.println(e.toString()));\r\n    \treturn list;\r\n    }","title":"How to copy values from HashMap into an ArrayList using a Pair object class","body":"<p>The below code seperates the keys and values from HashMap and creates 2 ArrayLists to hold them.</p>\n<p>Please refer the extract method.</p>\n<blockquote>\n<p>For the above ArrayList I am given a HashMap&lt;String, Integer&gt; as a parameter. The return must be an ArrayList&lt;Pair&lt;String, Integer&gt;&gt;</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    map.put(&quot;one&quot;, 1);\n    map.put(&quot;two&quot;, 2);\n    map.put(&quot;three&quot;, 3);\n    extract(map);\n}\n\npublic static ArrayList&lt;Pair&lt;String, Integer&gt;&gt; extract(HashMap map)\n{\n    ArrayList&lt;Pair&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Pair&lt;String,Integer&gt;&gt;();\n    ArrayList&lt;String&gt; mapKeys = new ArrayList&lt;String&gt;(map.keySet());\n    ArrayList&lt;Integer&gt; mapValues = new ArrayList&lt;Integer&gt;(map.values());\n    Pair p;\n    for(int i=0; i&lt;map.size(); i++) {\n        p = new Pair(mapKeys.get(i), mapValues.get(i));\n        list.add(p);\n    }\n    \n    list.stream().forEach(e -&gt;System.out.println(e.toString()));\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658904807,"creation_date":1658891828,"answer_id":73131910,"question_id":73131397,"body_markdown":"# tl;dr\r\n\r\nThe existing [`Map.Entry`][1] interface does the job of your `Pair` class, including `getKey` &amp; `getValue` methods. In your case, use `Map.Entry &lt; String, Integer &gt;`. \r\n\r\n**Example:** From a `Map` of student name (key) to their grade (value), produce a `List` of the key-value pairings, sorted first by their grade (highest first), then by their name alphabetically.\r\n\r\n```java\r\nvar entriesSorted =\r\n        new TreeSet &lt;&gt;(\r\n                Comparator\r\n                        .comparing( Map.Entry &lt; String, Integer &gt; :: getValue ).reversed()  // Reversed for highest grades first.\r\n                        .thenComparing( Map.Entry &lt; String, Integer &gt; :: getKey )  // Names sort alphabetically.\r\n        );\r\nentriesSorted.addAll(\r\n        Map\r\n                .of(\r\n                        &quot;Alice&quot; , 4 ,  // Student, Grade\r\n                        &quot;Bobby&quot; , 2 ,\r\n                        &quot;Carol&quot; , 3 ,\r\n                        &quot;Davis&quot; , 4 ,\r\n                        &quot;Edith&quot; , 1 ,\r\n                        &quot;Frank&quot; , 3\r\n                )\r\n                .entrySet()\r\n);\r\nvar list = List.copyOf( entriesSorted );\r\n```\r\n\r\n&gt;list.toString() = [Alice=4, Davis=4, Carol=3, Frank=3, Bobby=2, Edith=1]\r\n\r\nOr, if you insist upon your `Pair` class, use `Stream#map` to transfer the key &amp; value from each `Map.Entry` to a new `Pair` object.\r\n\r\n```java\r\nList &lt; Pair &gt; list =\r\n        Map\r\n                .of(\r\n                        &quot;Alice&quot; , 4 ,  // Student, Grade\r\n                        &quot;Bobby&quot; , 2 ,\r\n                        &quot;Carol&quot; , 3 ,\r\n                        &quot;Davis&quot; , 4 ,\r\n                        &quot;Edith&quot; , 1 ,\r\n                        &quot;Frank&quot; , 3\r\n                )\r\n                .entrySet()  // Returns a `Set` of `Map.Entry` objects.\r\n                .stream()\r\n                .map( entry -&gt; new Pair( entry.getKey() , entry.getValue() ) )\r\n                .toList();\r\n```\r\n\r\n&gt;list = [Pair{key=Edith, value=1}, Pair{key=Alice, value=4}, Pair{key=Carol, value=3}, Pair{key=Frank, value=3}, Pair{key=Bobby, value=2}, Pair{key=Davis, value=4}]\r\n\r\n\r\n\r\n# `Map.Entry` instead of your `Pair`\r\n\r\nA [`Map`][2] already provides what you want.\r\n\r\nYou imply that you already have a `Map &lt; String , Integer &gt;`, using `HashMap` as your implementation.\r\n\r\nYou want a `List` of the key-value pairs contained in that Map. To represent those key-value pairs, you created a `Pair` class. But there is **no need for your `Pair` class**. The [`Map.Entry`][1] interface already provides the key-value pairing object you desire. To quote the Javadoc:\r\n\r\n&gt;`Map.Entry&lt;K,V&gt;`  A map entry (key-value pair). \r\n\r\nA `Map.Entry` object offers `getKey` and `getValue` methods, to access their contents.\r\n\r\nYou can easily produce a `Set` of those `Entry` objects, with a built-in method on every `Map`. \r\n\r\n    Map&lt; String , Integer &gt; myMap = new HashMap&lt;&gt;() ;\r\n    \r\n    Set&lt; String , Integer &gt; pairs = myMap.entrySet() ;\r\n\r\nA `Set` is appropriate here, because your `HashMap` by definition has no promised order. So a `List`, which keeps elements in a sequence, makes no sense. \r\n\r\n## Example code\r\n\r\nHere is some example code, using student name mapped to their class grade.\r\n\r\nInstead of a `HashMap`, I use an unspecified `Map` implementation produced by the convenient [`Map.of`][3] method. \r\n\r\n\r\n```java\r\nMap &lt; String, Integer &gt; studentGrades =\r\n        Map.of(\r\n                &quot;Alice&quot; , 4 ,\r\n                &quot;Bob&quot; , 2 ,\r\n                &quot;Carol&quot; , 3 ,\r\n                &quot;Davis&quot; , 4 ,\r\n                &quot;Edith&quot; , 1 ,\r\n                &quot;Frank&quot; , 3\r\n        );\r\nSet &lt; Map.Entry &lt; String, Integer &gt; &gt; entries = studentGrades.entrySet();\r\nentries.forEach( System.out :: println );  // Call `toString` on each `Entry` object.\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nDavis=4\r\nEdith=1\r\nAlice=4\r\nBob=2\r\nCarol=3\r\nFrank=3\r\n```\r\n\r\nYou needn&#39;t work out that exact type of `Set &lt; Map.Entry &lt; String, Integer &gt; &gt; entries`; just use `var` to let the compiler figure it out.\r\n\r\n    var entries = studentGrades.entrySet();\r\n\r\n## Ordered set\r\n\r\n    var entries = studentGrades.entrySet();\r\n\r\nIf you want to keep those entries in a specific order, use a [`NavigableSet`][4] (or `SortedSet`) such as [`TreeSet`][5]. You will need to provide the rule by which to order them. \r\n\r\nLets say we want them sorted by the students grades, highest grades first.\r\n\r\n```java\r\nNavigableSet &lt; Map.Entry &lt; String, Integer &gt; &gt; entriesByGrade =\r\n        new TreeSet &lt;&gt;(\r\n                Comparator\r\n                        .comparing( Map.Entry &lt; String, Integer &gt; :: getValue ).reversed()\r\n                        .thenComparing( Map.Entry &lt; String, Integer &gt; :: getKey )\r\n        );\r\nentriesByGrade.addAll( entries );\r\n```\r\n&gt;entriesByGrade.toString() = [Alice=4, Davis=4, Carol=3, Frank=3, Bob=2, Edith=1]\r\n\r\nIf you really need a `List`, you can make one from the `NavigableSet`.\r\n\r\n    List &lt; Map.Entry &lt; String, Integer &gt; &gt; listOfStudentsByGrade = List.copyOf( entriesByGrade );\r\n\r\nOr more simply, use `var`.\r\n\r\n    var listOfStudentsByGrade = List.copyOf( entriesByGrade );\r\n\r\nEither way, when run:\r\n\r\n&gt;listOfStudentsByGrade.toString() = [Alice=4, Davis=4, Carol=3, Frank=3, Bob=2, Edith=1]\r\n\r\n# Using your `Pair` class\r\n\r\nAs discussed in this Answer, and in the Comments, your `Pair` class is utterly superfluous, with `Map.Entry` already doing its job.\r\n\r\nBut if you insist, you could easily pull the key &amp; value out of each entry, then put that same key and value into an object of your `Pair` class. Silly, but easy.\r\n\r\n```java\r\nList &lt; Pair &gt; list =\r\n        Map\r\n                .of(\r\n                        &quot;Alice&quot; , 4 ,  // Student, Grade\r\n                        &quot;Bobby&quot; , 2 ,\r\n                        &quot;Carol&quot; , 3 ,\r\n                        &quot;Davis&quot; , 4 ,\r\n                        &quot;Edith&quot; , 1 ,\r\n                        &quot;Frank&quot; , 3\r\n                )\r\n                .entrySet()\r\n                .stream()\r\n                .map( entry -&gt; new Pair( entry.getKey() , entry.getValue() ) )\r\n                .toList();\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V,K,V,K,V)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html","title":"How to copy values from HashMap into an ArrayList using a Pair object class","body":"<h1>tl;dr</h1>\n<p>The existing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\"><code>Map.Entry</code></a> interface does the job of your <code>Pair</code> class, including <code>getKey</code> &amp; <code>getValue</code> methods. In your case, use <code>Map.Entry &lt; String, Integer &gt;</code>.</p>\n<p><strong>Example:</strong> From a <code>Map</code> of student name (key) to their grade (value), produce a <code>List</code> of the key-value pairings, sorted first by their grade (highest first), then by their name alphabetically.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var entriesSorted =\n        new TreeSet &lt;&gt;(\n                Comparator\n                        .comparing( Map.Entry &lt; String, Integer &gt; :: getValue ).reversed()  // Reversed for highest grades first.\n                        .thenComparing( Map.Entry &lt; String, Integer &gt; :: getKey )  // Names sort alphabetically.\n        );\nentriesSorted.addAll(\n        Map\n                .of(\n                        &quot;Alice&quot; , 4 ,  // Student, Grade\n                        &quot;Bobby&quot; , 2 ,\n                        &quot;Carol&quot; , 3 ,\n                        &quot;Davis&quot; , 4 ,\n                        &quot;Edith&quot; , 1 ,\n                        &quot;Frank&quot; , 3\n                )\n                .entrySet()\n);\nvar list = List.copyOf( entriesSorted );\n</code></pre>\n<blockquote>\n<p>list.toString() = [Alice=4, Davis=4, Carol=3, Frank=3, Bobby=2, Edith=1]</p>\n</blockquote>\n<p>Or, if you insist upon your <code>Pair</code> class, use <code>Stream#map</code> to transfer the key &amp; value from each <code>Map.Entry</code> to a new <code>Pair</code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Pair &gt; list =\n        Map\n                .of(\n                        &quot;Alice&quot; , 4 ,  // Student, Grade\n                        &quot;Bobby&quot; , 2 ,\n                        &quot;Carol&quot; , 3 ,\n                        &quot;Davis&quot; , 4 ,\n                        &quot;Edith&quot; , 1 ,\n                        &quot;Frank&quot; , 3\n                )\n                .entrySet()  // Returns a `Set` of `Map.Entry` objects.\n                .stream()\n                .map( entry -&gt; new Pair( entry.getKey() , entry.getValue() ) )\n                .toList();\n</code></pre>\n<blockquote>\n<p>list = [Pair{key=Edith, value=1}, Pair{key=Alice, value=4}, Pair{key=Carol, value=3}, Pair{key=Frank, value=3}, Pair{key=Bobby, value=2}, Pair{key=Davis, value=4}]</p>\n</blockquote>\n<h1><code>Map.Entry</code> instead of your <code>Pair</code></h1>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> already provides what you want.</p>\n<p>You imply that you already have a <code>Map &lt; String , Integer &gt;</code>, using <code>HashMap</code> as your implementation.</p>\n<p>You want a <code>List</code> of the key-value pairs contained in that Map. To represent those key-value pairs, you created a <code>Pair</code> class. But there is <strong>no need for your <code>Pair</code> class</strong>. The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\"><code>Map.Entry</code></a> interface already provides the key-value pairing object you desire. To quote the Javadoc:</p>\n<blockquote>\n<p><code>Map.Entry&lt;K,V&gt;</code>  A map entry (key-value pair).</p>\n</blockquote>\n<p>A <code>Map.Entry</code> object offers <code>getKey</code> and <code>getValue</code> methods, to access their contents.</p>\n<p>You can easily produce a <code>Set</code> of those <code>Entry</code> objects, with a built-in method on every <code>Map</code>.</p>\n<pre><code>Map&lt; String , Integer &gt; myMap = new HashMap&lt;&gt;() ;\n\nSet&lt; String , Integer &gt; pairs = myMap.entrySet() ;\n</code></pre>\n<p>A <code>Set</code> is appropriate here, because your <code>HashMap</code> by definition has no promised order. So a <code>List</code>, which keeps elements in a sequence, makes no sense.</p>\n<h2>Example code</h2>\n<p>Here is some example code, using student name mapped to their class grade.</p>\n<p>Instead of a <code>HashMap</code>, I use an unspecified <code>Map</code> implementation produced by the convenient <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of</code></a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map &lt; String, Integer &gt; studentGrades =\n        Map.of(\n                &quot;Alice&quot; , 4 ,\n                &quot;Bob&quot; , 2 ,\n                &quot;Carol&quot; , 3 ,\n                &quot;Davis&quot; , 4 ,\n                &quot;Edith&quot; , 1 ,\n                &quot;Frank&quot; , 3\n        );\nSet &lt; Map.Entry &lt; String, Integer &gt; &gt; entries = studentGrades.entrySet();\nentries.forEach( System.out :: println );  // Call `toString` on each `Entry` object.\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Davis=4\nEdith=1\nAlice=4\nBob=2\nCarol=3\nFrank=3\n</code></pre>\n<p>You needn't work out that exact type of <code>Set &lt; Map.Entry &lt; String, Integer &gt; &gt; entries</code>; just use <code>var</code> to let the compiler figure it out.</p>\n<pre><code>var entries = studentGrades.entrySet();\n</code></pre>\n<h2>Ordered set</h2>\n<pre><code>var entries = studentGrades.entrySet();\n</code></pre>\n<p>If you want to keep those entries in a specific order, use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a> (or <code>SortedSet</code>) such as <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>. You will need to provide the rule by which to order them.</p>\n<p>Lets say we want them sorted by the students grades, highest grades first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NavigableSet &lt; Map.Entry &lt; String, Integer &gt; &gt; entriesByGrade =\n        new TreeSet &lt;&gt;(\n                Comparator\n                        .comparing( Map.Entry &lt; String, Integer &gt; :: getValue ).reversed()\n                        .thenComparing( Map.Entry &lt; String, Integer &gt; :: getKey )\n        );\nentriesByGrade.addAll( entries );\n</code></pre>\n<blockquote>\n<p>entriesByGrade.toString() = [Alice=4, Davis=4, Carol=3, Frank=3, Bob=2, Edith=1]</p>\n</blockquote>\n<p>If you really need a <code>List</code>, you can make one from the <code>NavigableSet</code>.</p>\n<pre><code>List &lt; Map.Entry &lt; String, Integer &gt; &gt; listOfStudentsByGrade = List.copyOf( entriesByGrade );\n</code></pre>\n<p>Or more simply, use <code>var</code>.</p>\n<pre><code>var listOfStudentsByGrade = List.copyOf( entriesByGrade );\n</code></pre>\n<p>Either way, when run:</p>\n<blockquote>\n<p>listOfStudentsByGrade.toString() = [Alice=4, Davis=4, Carol=3, Frank=3, Bob=2, Edith=1]</p>\n</blockquote>\n<h1>Using your <code>Pair</code> class</h1>\n<p>As discussed in this Answer, and in the Comments, your <code>Pair</code> class is utterly superfluous, with <code>Map.Entry</code> already doing its job.</p>\n<p>But if you insist, you could easily pull the key &amp; value out of each entry, then put that same key and value into an object of your <code>Pair</code> class. Silly, but easy.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Pair &gt; list =\n        Map\n                .of(\n                        &quot;Alice&quot; , 4 ,  // Student, Grade\n                        &quot;Bobby&quot; , 2 ,\n                        &quot;Carol&quot; , 3 ,\n                        &quot;Davis&quot; , 4 ,\n                        &quot;Edith&quot; , 1 ,\n                        &quot;Frank&quot; , 3\n                )\n                .entrySet()\n                .stream()\n                .map( entry -&gt; new Pair( entry.getKey() , entry.getValue() ) )\n                .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658891984,"creation_date":1658891984,"answer_id":73131917,"question_id":73131397,"body_markdown":"This is a one-liner.  Stream out the map&#39;s entry set, and convert each entry to a `Pair`.  Then collect them into a list.\r\n\r\n    yourMap.entrySet().stream().map(e-&gt;new Pair(e.getKey(), e.getValue())).collect(Collectors.toList());","title":"How to copy values from HashMap into an ArrayList using a Pair object class","body":"<p>This is a one-liner.  Stream out the map's entry set, and convert each entry to a <code>Pair</code>.  Then collect them into a list.</p>\n<pre><code>yourMap.entrySet().stream().map(e-&gt;new Pair(e.getKey(), e.getValue())).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658892175,"creation_date":1658892175,"answer_id":73131928,"question_id":73131397,"body_markdown":"Here&#39;s a bit of code that populates a Map, and then prints out the map contents:\r\n\r\n```\r\nMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;aardvark&quot;, 1);\r\nmap.put(&quot;bear&quot;, 2);\r\nmap.put(&quot;cat&quot;, 3);\r\nSystem.out.println(&quot;map: &quot; + map);\r\n\r\nmap: {cat=3, aardvark=1, bear=2}\r\n```\r\n\r\nUsing that map, here&#39;s a bit of code that:\r\n* gets each key from the map\r\n* for each key, gets the associated value\r\n* for each key-value pair, it creates a new Pair object (using the Pair code you posted)\r\n* each Pair is then added to a List\r\n* at the end, it prints out the contents of the list\r\n* also, I added a `toString()` method to the Pair class (posted below) so that the list printing is more informative\r\n\r\n```\r\nList&lt;Pair&lt;String, Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\nfor (String key : map.keySet()) {\r\n    Integer value = map.get(key);\r\n    Pair&lt;String, Integer&gt; pair = new Pair&lt;&gt;(key, value);\r\n    list.add(pair);\r\n}\r\nSystem.out.println(&quot;list: &quot; + list);\r\n\r\nlist: [Pair{key=cat, value=3}, Pair{key=aardvark, value=1}, Pair{key=bear, value=2}]\r\n```\r\n\r\nHere&#39;s the addition to Pair so that the list contents can be printed nicely:\r\n```\r\n@Override\r\npublic String toString() {\r\n    return &quot;Pair{&quot; +\r\n            &quot;key=&quot; + key +\r\n            &quot;, value=&quot; + value +\r\n            &#39;}&#39;;\r\n}\r\n```\r\n\r\nYou could also solve it with streams:\r\n```\r\nList&lt;Pair&lt;String, Integer&gt;&gt; list = map\r\n\t\t.keySet()\r\n\t\t.stream()\r\n\t\t.map(key -&gt; new Pair&lt;&gt;(key, map.get(key)))\r\n\t\t.toList();\r\n```\r\n","title":"How to copy values from HashMap into an ArrayList using a Pair object class","body":"<p>Here's a bit of code that populates a Map, and then prints out the map contents:</p>\n<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;aardvark&quot;, 1);\nmap.put(&quot;bear&quot;, 2);\nmap.put(&quot;cat&quot;, 3);\nSystem.out.println(&quot;map: &quot; + map);\n\nmap: {cat=3, aardvark=1, bear=2}\n</code></pre>\n<p>Using that map, here's a bit of code that:</p>\n<ul>\n<li>gets each key from the map</li>\n<li>for each key, gets the associated value</li>\n<li>for each key-value pair, it creates a new Pair object (using the Pair code you posted)</li>\n<li>each Pair is then added to a List</li>\n<li>at the end, it prints out the contents of the list</li>\n<li>also, I added a <code>toString()</code> method to the Pair class (posted below) so that the list printing is more informative</li>\n</ul>\n<pre><code>List&lt;Pair&lt;String, Integer&gt;&gt; list = new ArrayList&lt;&gt;();\nfor (String key : map.keySet()) {\n    Integer value = map.get(key);\n    Pair&lt;String, Integer&gt; pair = new Pair&lt;&gt;(key, value);\n    list.add(pair);\n}\nSystem.out.println(&quot;list: &quot; + list);\n\nlist: [Pair{key=cat, value=3}, Pair{key=aardvark, value=1}, Pair{key=bear, value=2}]\n</code></pre>\n<p>Here's the addition to Pair so that the list contents can be printed nicely:</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;Pair{&quot; +\n            &quot;key=&quot; + key +\n            &quot;, value=&quot; + value +\n            '}';\n}\n</code></pre>\n<p>You could also solve it with streams:</p>\n<pre><code>List&lt;Pair&lt;String, Integer&gt;&gt; list = map\n        .keySet()\n        .stream()\n        .map(key -&gt; new Pair&lt;&gt;(key, map.get(key)))\n        .toList();\n</code></pre>\n"}],"owner":{"account_id":24078021,"reputation":1,"user_id":18053026,"display_name":"unstableindividual"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1658904807,"creation_date":1658885950,"question_id":73131397,"body_markdown":"So I am trying to figure out how to move my Pair&lt;Key, Value&gt; from the HashMap that they are originally in, into an ArrayList. Nothing I am doing seems to be working and I am at a loss for how to copy the Keys &amp; Values over. \r\n\r\nThe Pair class: \r\n\r\n```\r\npublic class Pair&lt;K,V&gt; {\r\n    private K key;\r\n    private V value;\r\n    public Pair(K key, V value)\r\n    { this.key = key; this.value = value; }\r\n    public K getKey() { return key; }\r\n    public V getValue() { return value; }\r\n}\r\n```\r\n\r\nAnd here is the ArrayList that I am attempting to put them into: ``` ArrayList&lt;Pair&lt;String,Integer&gt;&gt; wcList = new ArrayList&lt;&gt;(); ```\r\n\r\nFor the above ArrayList I am given a HashMap&lt;String, Integer&gt; as a parameter. The return must be an ArrayList&lt;Pair&lt;String, Integer&gt;&gt;\r\n\r\n** Using an entrySet does not work for my test cases **","title":"How to copy values from HashMap into an ArrayList using a Pair object class","body":"<p>So I am trying to figure out how to move my Pair&lt;Key, Value&gt; from the HashMap that they are originally in, into an ArrayList. Nothing I am doing seems to be working and I am at a loss for how to copy the Keys &amp; Values over.</p>\n<p>The Pair class:</p>\n<pre><code>public class Pair&lt;K,V&gt; {\n    private K key;\n    private V value;\n    public Pair(K key, V value)\n    { this.key = key; this.value = value; }\n    public K getKey() { return key; }\n    public V getValue() { return value; }\n}\n</code></pre>\n<p>And here is the ArrayList that I am attempting to put them into: <code>ArrayList&lt;Pair&lt;String,Integer&gt;&gt; wcList = new ArrayList&lt;&gt;();</code></p>\n<p>For the above ArrayList I am given a HashMap&lt;String, Integer&gt; as a parameter. The return must be an ArrayList&lt;Pair&lt;String, Integer&gt;&gt;</p>\n<p>** Using an entrySet does not work for my test cases **</p>\n"},{"tags":["java","memory"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658904728,"creation_date":1658904728,"answer_id":73133427,"question_id":73133382,"body_markdown":"You likely used `java -Xmx` which limits the maximum heap space for the java process. However heap is not the only memory region a JVM manages.\r\n\r\nThere is a good explanation on https://medium.com/platform-engineer/understanding-java-memory-model-1d0863f6d973","title":"Memory taken by my application showing more than assigned","body":"<p>You likely used <code>java -Xmx</code> which limits the maximum heap space for the java process. However heap is not the only memory region a JVM manages.</p>\n<p>There is a good explanation on <a href=\"https://medium.com/platform-engineer/understanding-java-memory-model-1d0863f6d973\" rel=\"nofollow noreferrer\">https://medium.com/platform-engineer/understanding-java-memory-model-1d0863f6d973</a></p>\n"}],"owner":{"account_id":25272067,"reputation":1,"user_id":19101253,"display_name":"Reeta Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658908486,"answer_count":1,"score":0,"last_activity_date":1658904728,"creation_date":1658904509,"question_id":73133382,"body_markdown":"I am running a java server program to which i have assigned 4096M RAM but it shows memory as below in top command .\r\n\r\nPID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND  \r\n1512384 root      20   0   12.8g   5.3g  38912 S   3.6  11.2 245:33.64 /usr/java/jre/bin/java \r\n\r\nit is showing residential memory as 5.3g and virtual as 12.8 , why this is so. these are higher than assigned memory of 4G\r\n","title":"Memory taken by my application showing more than assigned","body":"<p>I am running a java server program to which i have assigned 4096M RAM but it shows memory as below in top command .</p>\n<p>PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND<br />\n1512384 root      20   0   12.8g   5.3g  38912 S   3.6  11.2 245:33.64 /usr/java/jre/bin/java</p>\n<p>it is showing residential memory as 5.3g and virtual as 12.8 , why this is so. these are higher than assigned memory of 4G</p>\n"},{"tags":["java","coding-style","javadoc"],"answers":[{"tags":[],"owner":{"account_id":280045,"reputation":6775,"user_id":575520,"accept_rate":67,"display_name":"Laurent Pireyn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1302515879,"creation_date":1302515879,"answer_id":5619637,"question_id":5619575,"body_markdown":"If you think implementation details are interesting enough to be a part of the Javadoc, you should simply provide them in a paragraph in the Javadoc comment itself:\r\n\r\n    /**\r\n     * Does something.\r\n     * &lt;p&gt;\r\n     * &lt;b&gt;Implementation details:&lt;/b&gt;&lt;br /&gt;\r\n     * Blah blah blah...\r\n     * &lt;/p&gt;\r\n     */\r\n    public void doSomething() {\r\n        // ...\r\n    }","title":"JavaDoc: where to add notes/remarks to documentation?","body":"<p>If you think implementation details are interesting enough to be a part of the Javadoc, you should simply provide them in a paragraph in the Javadoc comment itself:</p>\n\n<pre><code>/**\n * Does something.\n * &lt;p&gt;\n * &lt;b&gt;Implementation details:&lt;/b&gt;&lt;br /&gt;\n * Blah blah blah...\n * &lt;/p&gt;\n */\npublic void doSomething() {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":356606,"reputation":4953,"user_id":696216,"accept_rate":71,"display_name":"janhink"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1372232164,"creation_date":1302516243,"answer_id":5619704,"question_id":5619575,"body_markdown":"As far as I know, there isn&#39;t any dedicated Javadoc tag for notes or remarks. Generally, the first sentence of Javadoc should give a brief description of the class/method/field. Then the full description should follow. And if you want to include any notes, a specialized paragraph with a &quot;Note:&quot; prepended should suffice.\r\n\r\n    /**\r\n     * Brief description. Full description of the method, generally without\r\n     * implementation details.\r\n     * &lt;p&gt;\r\n     * Note: Additional information, e.g. your implementation notes or remarks.\r\n     * &lt;/p&gt;\r\n     * @param input description of the parameter\r\n     * @return description of return value\r\n     * \r\n     * @since version\r\n     * @author name of the author\r\n     */\r\n    public boolean doSomething(String input)\r\n    {\r\n        // your code\r\n    }","title":"JavaDoc: where to add notes/remarks to documentation?","body":"<p>As far as I know, there isn't any dedicated Javadoc tag for notes or remarks. Generally, the first sentence of Javadoc should give a brief description of the class/method/field. Then the full description should follow. And if you want to include any notes, a specialized paragraph with a \"Note:\" prepended should suffice.</p>\n\n<pre><code>/**\n * Brief description. Full description of the method, generally without\n * implementation details.\n * &lt;p&gt;\n * Note: Additional information, e.g. your implementation notes or remarks.\n * &lt;/p&gt;\n * @param input description of the parameter\n * @return description of return value\n * \n * @since version\n * @author name of the author\n */\npublic boolean doSomething(String input)\n{\n    // your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4668443,"reputation":91,"user_id":3780889,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1440539622,"creation_date":1440539622,"answer_id":32214740,"question_id":5619575,"body_markdown":"You can create your own custom tags too. \r\n\r\nHere is a javadoc comment that includes the custom tag &quot;@note&quot;:\r\n\r\n        /**\r\n         * Quark represents a quark.\r\n         *\r\n         * @note If you spin a quark, it will spin forever!\r\n         */\r\n        public class Quark {\r\n        \r\n        }\r\nTo generate javadocs for the above, run javadoc like this:\r\n\r\n&gt;javadoc -tag note:a:&quot;Note:&quot; Quark.java\r\n\r\nSource: http://www.developer.com/java/other/article.php/3085991/Javadoc-Programming.htm\r\n","title":"JavaDoc: where to add notes/remarks to documentation?","body":"<p>You can create your own custom tags too. </p>\n\n<p>Here is a javadoc comment that includes the custom tag \"@note\":</p>\n\n<pre><code>    /**\n     * Quark represents a quark.\n     *\n     * @note If you spin a quark, it will spin forever!\n     */\n    public class Quark {\n\n    }\n</code></pre>\n\n<p>To generate javadocs for the above, run javadoc like this:</p>\n\n<blockquote>\n  <p>javadoc -tag note:a:\"Note:\" Quark.java</p>\n</blockquote>\n\n<p>Source: <a href=\"http://www.developer.com/java/other/article.php/3085991/Javadoc-Programming.htm\" rel=\"noreferrer\">http://www.developer.com/java/other/article.php/3085991/Javadoc-Programming.htm</a></p>\n"},{"tags":[],"owner":{"account_id":189766,"reputation":863,"user_id":429303,"accept_rate":75,"display_name":"fbahr"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1450820780,"creation_date":1450820780,"answer_id":34424961,"question_id":5619575,"body_markdown":"With iteration 8 of the Java programming language, developers finally have been provided with three additional tags they can use in their code&#39;s documentation &amp;ndash; and which should meet your needs: `@apiNote`, `@implSpec` and `@implNote` (cf., for instance, for a more detailed discussion: [blog.codefx.org/java/new-javadoc-tags/][1]).\r\n\r\n\r\n\r\n\r\n  [1]: http://blog.codefx.org/java/new-javadoc-tags/","title":"JavaDoc: where to add notes/remarks to documentation?","body":"<p>With iteration 8 of the Java programming language, developers finally have been provided with three additional tags they can use in their code's documentation &ndash; and which should meet your needs: <code>@apiNote</code>, <code>@implSpec</code> and <code>@implNote</code> (cf., for instance, for a more detailed discussion: <a href=\"http://blog.codefx.org/java/new-javadoc-tags/\">blog.codefx.org/java/new-javadoc-tags/</a>).</p>\n"},{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658904618,"creation_date":1658904618,"answer_id":73133403,"question_id":5619575,"body_markdown":"You can use `@apiNote`, `@implSpec`, and `@implNote`\r\n\r\n&lt;br&gt;\r\n\r\n# @apiNote, @implSpec, and @implNote\r\n\r\n&lt;br&gt;\r\n\r\n1. **API specification:**\r\n\r\nThis is a description that applies equally to all valid implementations of the method, including preconditions, postconditions, etc.\r\n\r\n\r\n2. **API notes:**\r\n\r\nThese are commentary, rationale, or examples pertaining to the API.\r\n\r\n\r\n3. **Implementation specification:**\r\n\r\nThis is where we say what it means to be a valid default implementation (or an overridable implementation in a class), such as `throws UOE`. Similarly this is where we&#39;d describe what the default for `putIfAbsent` does. It is from this box that the would-be-implementer gets enough information to make a sensible decision as to whether or not to override.\r\n\r\n4. Implementation notes.\r\n\r\nInformative notes about the implementation, such as performance characteristics that are specific to the implementation in this class in this JDK in this version, and might change. These things are allowed to vary across platforms, vendors and versions.\r\n\r\nThe proposal: add three new Javadoc tags, `@apiNote`, `@implSpec`, and `@implNote`. (The remaining box, API Spec, needs no new tag, since that&#39;s how Javadoc is used already.) `@impl{spec,note}` can apply equally well to a concrete method in a class or a default method in an interface.\r\n\r\nSo the new Javadoc tags are meant to categorize the information given in a comment. It distinguishes between the specification of the method&#39;s, class&#39;s,  behavior (which is relevant for all users of the API - this is the &quot;regular&quot; comment and would be `@apiSpec` if it existed) and other, more ephemeral or less universally useful documentation. More concretely, an API user can not rely on anything written in `@implSpec` or `@implNote`, because these tags are concerned with this implementation of the method, saying nothing about overriding implementations.\r\n\r\nFor more information, check the references below\r\n\r\n1. [New Javadoc Tags @apiNote, @implSpec, and @implNote][1]\r\n2. [Oracle - How to Write Doc Comments for the Javadoc Tool][2]\r\n\r\n\r\n  [1]: https://nipafx.dev/javadoc-tags-apiNote-implSpec-implNote/\r\n  [2]: https://www.oracle.com/ke/technical-resources/articles/java/javadoc-tool.html","title":"JavaDoc: where to add notes/remarks to documentation?","body":"<p>You can use <code>@apiNote</code>, <code>@implSpec</code>, and <code>@implNote</code></p>\n<br>\n<h1>@apiNote, @implSpec, and @implNote</h1>\n<br>\n<ol>\n<li><strong>API specification:</strong></li>\n</ol>\n<p>This is a description that applies equally to all valid implementations of the method, including preconditions, postconditions, etc.</p>\n<ol start=\"2\">\n<li><strong>API notes:</strong></li>\n</ol>\n<p>These are commentary, rationale, or examples pertaining to the API.</p>\n<ol start=\"3\">\n<li><strong>Implementation specification:</strong></li>\n</ol>\n<p>This is where we say what it means to be a valid default implementation (or an overridable implementation in a class), such as <code>throws UOE</code>. Similarly this is where we'd describe what the default for <code>putIfAbsent</code> does. It is from this box that the would-be-implementer gets enough information to make a sensible decision as to whether or not to override.</p>\n<ol start=\"4\">\n<li>Implementation notes.</li>\n</ol>\n<p>Informative notes about the implementation, such as performance characteristics that are specific to the implementation in this class in this JDK in this version, and might change. These things are allowed to vary across platforms, vendors and versions.</p>\n<p>The proposal: add three new Javadoc tags, <code>@apiNote</code>, <code>@implSpec</code>, and <code>@implNote</code>. (The remaining box, API Spec, needs no new tag, since that's how Javadoc is used already.) <code>@impl{spec,note}</code> can apply equally well to a concrete method in a class or a default method in an interface.</p>\n<p>So the new Javadoc tags are meant to categorize the information given in a comment. It distinguishes between the specification of the method's, class's,  behavior (which is relevant for all users of the API - this is the &quot;regular&quot; comment and would be <code>@apiSpec</code> if it existed) and other, more ephemeral or less universally useful documentation. More concretely, an API user can not rely on anything written in <code>@implSpec</code> or <code>@implNote</code>, because these tags are concerned with this implementation of the method, saying nothing about overriding implementations.</p>\n<p>For more information, check the references below</p>\n<ol>\n<li><a href=\"https://nipafx.dev/javadoc-tags-apiNote-implSpec-implNote/\" rel=\"nofollow noreferrer\">New Javadoc Tags @apiNote, @implSpec, and @implNote</a></li>\n<li><a href=\"https://www.oracle.com/ke/technical-resources/articles/java/javadoc-tool.html\" rel=\"nofollow noreferrer\">Oracle - How to Write Doc Comments for the Javadoc Tool</a></li>\n</ol>\n"}],"owner":{"account_id":12810,"reputation":23492,"user_id":25418,"accept_rate":89,"display_name":"tunnuz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37567,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":5619704,"answer_count":5,"score":52,"last_activity_date":1658904618,"creation_date":1302515546,"question_id":5619575,"body_markdown":"When coding in C# I have always found the tag `remarks` very useful for providing notes about the implementation of a class or method, or to give information about the theory of what I was implementing. I am now using Java but I can&#39;t find an appropriate JavaDoc tag for this. Maybe in Java you accomplish this in a different manner, does anybody know?","title":"JavaDoc: where to add notes/remarks to documentation?","body":"<p>When coding in C# I have always found the tag <code>remarks</code> very useful for providing notes about the implementation of a class or method, or to give information about the theory of what I was implementing. I am now using Java but I can't find an appropriate JavaDoc tag for this. Maybe in Java you accomplish this in a different manner, does anybody know?</p>\n"},{"tags":["java","intellij-idea","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":4740392,"reputation":1670,"user_id":3833404,"accept_rate":100,"display_name":"Jonathan Schoreels"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601888979,"creation_date":1601888979,"answer_id":64205649,"question_id":64205627,"body_markdown":"If you really need them, add the dependency in your pom.xml :\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.jetbrains/annotations --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;16.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n( https://mvnrepository.com/artifact/org.jetbrains/annotations/16.0.1 )\r\n","title":"package org.jetbrains.annotations does not exist","body":"<p>If you really need them, add the dependency in your pom.xml :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.jetbrains/annotations --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n    &lt;version&gt;16.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>( <a href=\"https://mvnrepository.com/artifact/org.jetbrains/annotations/16.0.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jetbrains/annotations/16.0.1</a> )</p>\n"},{"tags":[],"owner":{"account_id":1802816,"reputation":726,"user_id":1640696,"accept_rate":40,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617089283,"creation_date":1617089283,"answer_id":66866455,"question_id":64205627,"body_markdown":"I had the same issue and arrived here looking for solutions, but I couldn&#39;t find the aforementioned pom.xml. Maybe because I&#39;m not using Maven in my project. But I solved it by editing the *MyProject.iml* file.\r\nI&#39;ve added the following code  inside the `&lt;component&gt;` tags.\r\n\r\n    &lt;orderEntry type=&quot;module-library&quot;&gt;\r\n      &lt;library&gt;\r\n        &lt;CLASSES&gt;\r\n          &lt;root url=&quot;jar://$MAVEN_REPOSITORY$/org/jetbrains/annotations/20.1.0/annotations-20.1.0.jar!/&quot; /&gt;\r\n        &lt;/CLASSES&gt;\r\n        &lt;JAVADOC /&gt;\r\n        &lt;SOURCES /&gt;\r\n      &lt;/library&gt;\r\n    &lt;/orderEntry&gt;\r\n\r\nNow I can use the annotations in my project.","title":"package org.jetbrains.annotations does not exist","body":"<p>I had the same issue and arrived here looking for solutions, but I couldn't find the aforementioned pom.xml. Maybe because I'm not using Maven in my project. But I solved it by editing the <em>MyProject.iml</em> file.\nI've added the following code  inside the <code>&lt;component&gt;</code> tags.</p>\n<pre><code>&lt;orderEntry type=&quot;module-library&quot;&gt;\n  &lt;library&gt;\n    &lt;CLASSES&gt;\n      &lt;root url=&quot;jar://$MAVEN_REPOSITORY$/org/jetbrains/annotations/20.1.0/annotations-20.1.0.jar!/&quot; /&gt;\n    &lt;/CLASSES&gt;\n    &lt;JAVADOC /&gt;\n    &lt;SOURCES /&gt;\n  &lt;/library&gt;\n&lt;/orderEntry&gt;\n</code></pre>\n<p>Now I can use the annotations in my project.</p>\n"},{"tags":[],"owner":{"account_id":6697492,"reputation":1213,"user_id":5165107,"display_name":"CodeWithVikas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624116547,"creation_date":1624116547,"answer_id":68048284,"question_id":64205627,"body_markdown":"For me adding `jetbrains` dependency worked fine.\r\n\r\nProvide dependency something like this. \r\n\r\nFor Gradle:\r\n\r\n    implementation &#39;org.jetbrains:annotations:16.0.2&#39;","title":"package org.jetbrains.annotations does not exist","body":"<p>For me adding <code>jetbrains</code> dependency worked fine.</p>\n<p>Provide dependency something like this.</p>\n<p>For Gradle:</p>\n<pre><code>implementation 'org.jetbrains:annotations:16.0.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14162417,"reputation":21,"user_id":10231346,"display_name":"Stevo Glizzy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624901234,"creation_date":1624901234,"answer_id":68167714,"question_id":64205627,"body_markdown":"just put this code in the build gradle and it will work.\r\n\r\n**implementation &#39;org.jetbrains:annotations:16.0.2&#39;**","title":"package org.jetbrains.annotations does not exist","body":"<p>just put this code in the build gradle and it will work.</p>\n<p><strong>implementation 'org.jetbrains:annotations:16.0.2'</strong></p>\n"},{"tags":[],"owner":{"account_id":4442798,"reputation":345,"user_id":3616940,"display_name":"Karthikaiselvan R"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658904595,"creation_date":1632498352,"answer_id":69317834,"question_id":64205627,"body_markdown":"If anyone is using a plain `Kotlin` project (without any build tool such as maven or gradle) in IntelliJ IDEA, then you can add the jetbrain&#39;s `jetbrains.annotations` library by following the steps given below:\r\n\r\n 1. Right click on the module in the `Project` panel on your left hand side, and select the `Open module settings`\r\n 2. Select `Libraries` under `Project settings`\r\n 3. Click the `+` symbol on the top of the library area and select the `From Maven...`\r\n 4. Enter `org.jetbrains:annotations`, and hit the search icon at the end of it. Then, wait for the dropdown to list the available versions of it.\r\n 5. Select the latest or appropriate version you need and also enable the `Download to:` option.\r\n 6. Then, click `OK` and you are done.","title":"package org.jetbrains.annotations does not exist","body":"<p>If anyone is using a plain <code>Kotlin</code> project (without any build tool such as maven or gradle) in IntelliJ IDEA, then you can add the jetbrain's <code>jetbrains.annotations</code> library by following the steps given below:</p>\n<ol>\n<li>Right click on the module in the <code>Project</code> panel on your left hand side, and select the <code>Open module settings</code></li>\n<li>Select <code>Libraries</code> under <code>Project settings</code></li>\n<li>Click the <code>+</code> symbol on the top of the library area and select the <code>From Maven...</code></li>\n<li>Enter <code>org.jetbrains:annotations</code>, and hit the search icon at the end of it. Then, wait for the dropdown to list the available versions of it.</li>\n<li>Select the latest or appropriate version you need and also enable the <code>Download to:</code> option.</li>\n<li>Then, click <code>OK</code> and you are done.</li>\n</ol>\n"}],"owner":{"account_id":10427918,"reputation":121,"user_id":7688591,"display_name":"Rohit Mehlawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19924,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1658904595,"creation_date":1601888898,"question_id":64205627,"body_markdown":"I am facing an issue in IntelliJ when I tried to build my project through maven using \r\n\r\n    mvn clean install\r\n\r\nI have tried different ways like changing the path of my JDK but nothing worked. Can someone help me out with this issue?","title":"package org.jetbrains.annotations does not exist","body":"<p>I am facing an issue in IntelliJ when I tried to build my project through maven using</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>I have tried different ways like changing the path of my JDK but nothing worked. Can someone help me out with this issue?</p>\n"},{"tags":["java","recursion","time-complexity","binary-tree","inorder"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":2,"creation_date":1658722840,"post_id":73103937,"comment_id":129112818,"body_markdown":"In simple terms, since you are going over each node of the tree at least once, hence time complexity in O(n).","body":"In simple terms, since you are going over each node of the tree at least once, hence time complexity in O(n)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1658731740,"post_id":73103937,"comment_id":129114419,"body_markdown":"@Charchit not &quot;at least once&quot; but &quot;exactly once&quot; (assuming no cycles in tree) || if it was &quot;at least once&quot; then it would be not better (say worse) than `O(n)` (remembering that `O()` is for worst case, we cannot say it is `O(n)`)","body":"@Charchit not &quot;at least once&quot; but &quot;exactly once&quot; (assuming no cycles in tree) || if it was &quot;at least once&quot; then it would be not better (say worse) than <code>O(n)</code> (remembering that <code>O()</code> is for worst case, we cannot say it is <code>O(n)</code>)"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":1,"creation_date":1658732121,"post_id":73103937,"comment_id":129114512,"body_markdown":"@user16320675 in case of cycles, the function won&#39;t end itself. and without cycles also, since we are not skipping any node, it will be O(n) only be it best-case or worst-case.","body":"@user16320675 in case of cycles, the function won&#39;t end itself. and without cycles also, since we are not skipping any node, it will be O(n) only be it best-case or worst-case."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1658733753,"post_id":73103937,"comment_id":129115006,"body_markdown":"that is why I assumed there are no cycles, but that is not my point.  My point was that you wrote &quot; **at least** once&quot;, if it really were &quot;at least once&quot; than we could not deduce its upper bound is `O(n)`; &quot;at least once&quot; could also be `f(n&#178;)`! {{ But for posted code, it is &quot;exactly once&quot;, no more, no less - so it is `O(n)` (actually `f(n)`)! }}","body":"that is why I assumed there are no cycles, but that is not my point.  My point was that you wrote &quot; <b>at least</b> once&quot;, if it really were &quot;at least once&quot; than we could not deduce its upper bound is <code>O(n)</code>; &quot;at least once&quot; could also be <code>f(n&#178;)</code>! {{ But for posted code, it is &quot;exactly once&quot;, no more, no less - so it is <code>O(n)</code> (actually <code>f(n)</code>)! }}"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658904446,"creation_date":1658903408,"answer_id":73133199,"question_id":73103937,"body_markdown":"### Time complexity\r\n\r\nIf we ignore the recursive calls, the time complexity for executing `inOrderTraversal` is (1): all the steps in the code, except the recursive calls, have (1) complexity. Given that the graph is a tree, `inOrderTraversal` is called exactly once on each node, and on all `null` references. In a tree, the number of `null` references is equal to the number of nodes in the tree plus 1. So if the tree has &#119899; nodes, the function is called 2&#119899;+1 times. So the overal time complexity is (2&#119899;+1) = (&#119899;).\r\n\r\n### Space complexity\r\n\r\nFirst, there is the space that is already occupied by the tree itself. This has (&#119899;) space complexity as there are &#119899; `TreeNode` instances and one root reference variable. It is common to only look at the *auxiliary* time complexity, and then the space used by the input is ignored.\r\n\r\nThen we have the space used by the *output*. We can consider as output the array in which node references will be stored: it has a constant overhead (like the size of the array) plus -- eventually -- &#119899; node references, so this represents (&#119899;) space complexity. It is not uncommon to also exclude this from the space complexity, so check whether you need to include or exclude it. \r\n\r\nThe most interesting space complexity of an algorithm, concerns the *temporary* space it needs. Here we must consider the space used by the function call mechanism. Each execution context of the function uses a constant amount of space on the stack (for the stack frame, including the space for the parameter variable). When a function returns, this space is &quot;freed&quot; again as it can be used for a next call. The maximum stack space that is used during the process is (+2) = (), where  is the height of the tree (i.e. the number of edges on longest path from root). Since the height of the tree is &#119899;1 in the worst case (when the tree has just one leaf), this stack memory is bounded by O(&#119899;). In the *best* case, the tree is completely balanced and then its height is (log&#119899;).\r\n\r\nConcluding, we have these space complexities:\r\n\r\n* Input: (&#119899;)\r\n* Output: (&#119899;)\r\n* Auxiliary: worst case (&#119899;); best case (log&#119899;)\r\n* Auxiliary + output: (&#119899;)\r\n\r\nSo take your pick depending on what you want to consider for the space complexity.","title":"How do I calculate time complexity and space complexity of this solution? Could you please explain it to me?","body":"<h3>Time complexity</h3>\n<p>If we ignore the recursive calls, the time complexity for executing <code>inOrderTraversal</code> is (1): all the steps in the code, except the recursive calls, have (1) complexity. Given that the graph is a tree, <code>inOrderTraversal</code> is called exactly once on each node, and on all <code>null</code> references. In a tree, the number of <code>null</code> references is equal to the number of nodes in the tree plus 1. So if the tree has  nodes, the function is called 2+1 times. So the overal time complexity is (2+1) = ().</p>\n<h3>Space complexity</h3>\n<p>First, there is the space that is already occupied by the tree itself. This has () space complexity as there are  <code>TreeNode</code> instances and one root reference variable. It is common to only look at the <em>auxiliary</em> time complexity, and then the space used by the input is ignored.</p>\n<p>Then we have the space used by the <em>output</em>. We can consider as output the array in which node references will be stored: it has a constant overhead (like the size of the array) plus -- eventually --  node references, so this represents () space complexity. It is not uncommon to also exclude this from the space complexity, so check whether you need to include or exclude it.</p>\n<p>The most interesting space complexity of an algorithm, concerns the <em>temporary</em> space it needs. Here we must consider the space used by the function call mechanism. Each execution context of the function uses a constant amount of space on the stack (for the stack frame, including the space for the parameter variable). When a function returns, this space is &quot;freed&quot; again as it can be used for a next call. The maximum stack space that is used during the process is (+2) = (), where  is the height of the tree (i.e. the number of edges on longest path from root). Since the height of the tree is 1 in the worst case (when the tree has just one leaf), this stack memory is bounded by O(). In the <em>best</em> case, the tree is completely balanced and then its height is (log).</p>\n<p>Concluding, we have these space complexities:</p>\n<ul>\n<li>Input: ()</li>\n<li>Output: ()</li>\n<li>Auxiliary: worst case (); best case (log)</li>\n<li>Auxiliary + output: ()</li>\n</ul>\n<p>So take your pick depending on what you want to consider for the space complexity.</p>\n"}],"owner":{"account_id":24260049,"reputation":17,"user_id":18209752,"display_name":"sejo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73133199,"answer_count":1,"score":0,"last_activity_date":1658904446,"creation_date":1658721752,"question_id":73103937,"body_markdown":"It is leetcode problem 94. Binary Tree inorder traversal.  \r\n\r\n           /**\r\n     * Definition for a binary tree node.\r\n     * public class TreeNode {\r\n     *     int val;\r\n     *     TreeNode left;\r\n     *     TreeNode right;\r\n     *     TreeNode() {}\r\n     *     TreeNode(int val) { this.val = val; }\r\n     *     TreeNode(int val, TreeNode left, TreeNode right) {\r\n     *         this.val = val;\r\n     *         this.left = left;\r\n     *         this.right = right;\r\n     *     }\r\n     * }\r\n     */\r\n    class Solution {\r\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        public List&lt;Integer&gt; inorderTraversal(TreeNode root) {\r\n            if (root == null)\r\n                return list;\r\n            inorderTraversal(root.left);\r\n            list.add(root.val);\r\n            inorderTraversal(root.right);\r\n    \r\n            return list;\r\n        }\r\n    }\r\n\r\nI am not sure, but space complexity : O(1)?\r\ntime complextity O(n)? because I am visiting each and every nodes at least once?\r\n\r\nUsually what I do, if there&#39;s loop --&gt; O(n), nested loop--&gt;O(n^2), but\r\nI don&#39;t really sure how to calculate space complexity and time complexity in recursion. \r\nCould you help me with this concept please? \r\n\r\nThank you ","title":"How do I calculate time complexity and space complexity of this solution? Could you please explain it to me?","body":"<p>It is leetcode problem 94. Binary Tree inorder traversal.</p>\n<pre><code>       /**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    public List&lt;Integer&gt; inorderTraversal(TreeNode root) {\n        if (root == null)\n            return list;\n        inorderTraversal(root.left);\n        list.add(root.val);\n        inorderTraversal(root.right);\n\n        return list;\n    }\n}\n</code></pre>\n<p>I am not sure, but space complexity : O(1)?\ntime complextity O(n)? because I am visiting each and every nodes at least once?</p>\n<p>Usually what I do, if there's loop --&gt; O(n), nested loop--&gt;O(n^2), but\nI don't really sure how to calculate space complexity and time complexity in recursion.\nCould you help me with this concept please?</p>\n<p>Thank you</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1658905064,"post_id":73133329,"comment_id":129164734,"body_markdown":"checked [here](https://stackoverflow.com/questions/6300439/multiple-levels-of-mock-and-injectmocks)?","body":"checked <a href=\"https://stackoverflow.com/questions/6300439/multiple-levels-of-mock-and-injectmocks\">here</a>?"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1658908955,"post_id":73133329,"comment_id":129165980,"body_markdown":"Why would you like to create 2 real instances with external mocks at 1 test? Please respect the (S!)OLID principle on your tests or create the services using the constructor call and no annotation.","body":"Why would you like to create 2 real instances with external mocks at 1 test? Please respect the (S!)OLID principle on your tests or create the services using the constructor call and no annotation."},{"owner":{"account_id":25905173,"reputation":43,"user_id":19630346,"display_name":"Jamison Jiang"},"score":0,"creation_date":1658973858,"post_id":73133329,"comment_id":129187166,"body_markdown":"Yes, I didn&#39;t follow Single Responsibility in test unit, it might be more reasonable to try to take apart","body":"Yes, I didn&#39;t follow Single Responsibility in test unit, it might be more reasonable to try to take apart"}],"owner":{"account_id":25905173,"reputation":43,"user_id":19630346,"display_name":"Jamison Jiang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1658904205,"creation_date":1658904205,"question_id":73133329,"body_markdown":"I have three services as follows:\r\n```java\r\npublic class Service1 {\r\n  private Service2 service2;\r\n  private Service3 service3;\r\n}\r\n\r\npublic class Service2 {\r\n  private Service3 service3;\r\n}\r\n\r\npublic class Service3 {\r\n\r\n}\r\n```\r\nNow I use `@InjectMocks` to instance Service1 and I can inject Service2 and Service3 via `@Mock`:\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class Test {\r\n  @InjectMocks\r\n  private Service1 service1;\r\n   \r\n  @Mock\r\n  private Service2 service2;\r\n\r\n  @Mock\r\n  private Service2 service2;\r\n}\r\n```\r\nBut now the problem is that I want to create real Service2 and inject Service3 automatically, because i want to execute really method in Service2, just like `@InjectMocks`.\r\n\r\nIf I mark Service2 with `@Spy`, Service2 cannot actively inject `@Mock` marked Service3.\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class Test {\r\n  @InjectMocks\r\n  private Service1 service1;\r\n   \r\n  // Service2 can not auto inject Service3\r\n  @Spy\r\n  private Service2 service2;\r\n\r\n  @Mock\r\n  private Service2 service2;\r\n}\r\n```\r\n\r\nIf I mark Service2 with `@InjectMocks`, Service2 cannot be actively injected into Service1, so is there any feasible way for me to achieve this?\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class Test {\r\n  // Service1 can not auto inject Service2\r\n  @InjectMocks\r\n  private Service1 service1;\r\n   \r\n  @InjectMocks\r\n  private Service2 service2;\r\n\r\n  @Mock\r\n  private Service2 service2;\r\n}\r\n```","title":"How to inject an object created by @InjectMocks into another object created by @InjectMocks?","body":"<p>I have three services as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Service1 {\n  private Service2 service2;\n  private Service3 service3;\n}\n\npublic class Service2 {\n  private Service3 service3;\n}\n\npublic class Service3 {\n\n}\n</code></pre>\n<p>Now I use <code>@InjectMocks</code> to instance Service1 and I can inject Service2 and Service3 via <code>@Mock</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class Test {\n  @InjectMocks\n  private Service1 service1;\n   \n  @Mock\n  private Service2 service2;\n\n  @Mock\n  private Service2 service2;\n}\n</code></pre>\n<p>But now the problem is that I want to create real Service2 and inject Service3 automatically, because i want to execute really method in Service2, just like <code>@InjectMocks</code>.</p>\n<p>If I mark Service2 with <code>@Spy</code>, Service2 cannot actively inject <code>@Mock</code> marked Service3.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class Test {\n  @InjectMocks\n  private Service1 service1;\n   \n  // Service2 can not auto inject Service3\n  @Spy\n  private Service2 service2;\n\n  @Mock\n  private Service2 service2;\n}\n</code></pre>\n<p>If I mark Service2 with <code>@InjectMocks</code>, Service2 cannot be actively injected into Service1, so is there any feasible way for me to achieve this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class Test {\n  // Service1 can not auto inject Service2\n  @InjectMocks\n  private Service1 service1;\n   \n  @InjectMocks\n  private Service2 service2;\n\n  @Mock\n  private Service2 service2;\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","docker"],"answers":[{"tags":[],"owner":{"account_id":16934508,"reputation":143,"user_id":13606483,"display_name":"bluepuma77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658904153,"creation_date":1658904153,"answer_id":73133321,"question_id":73133034,"body_markdown":"If you define a network in the compose file, you should connect the containers to it.\r\n\r\nhttps://docs.docker.com/compose/networking/#specify-custom-networks","title":"Connection with Mogodb","body":"<p>If you define a network in the compose file, you should connect the containers to it.</p>\n<p><a href=\"https://docs.docker.com/compose/networking/#specify-custom-networks\" rel=\"nofollow noreferrer\">https://docs.docker.com/compose/networking/#specify-custom-networks</a></p>\n"}],"owner":{"account_id":22663038,"reputation":1,"user_id":16835849,"display_name":"grzesiek136"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658904153,"creation_date":1658902481,"question_id":73133034,"body_markdown":"Good morning. I have a problem connecting to a MongoDB database. I have configured myself a database and mongo express in docker-compose.yml file. Using CommandLineRunner, I want to add sample data to the database and then the connection is rejected.\r\n\r\n\r\nMain class\r\n```\r\n@SpringBootApplication\r\npublic class MongoDbApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MongoDbApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CommandLineRunner run(StudentRepository studentRepository) {\r\n\t\treturn args -&gt; {\r\n\t\t\tAddress address = new Address(&quot;Poland&quot;, &quot;00-000&quot;, &quot;Warszawa&quot;);\r\n\t\t\tStudent student = new Student(&quot;Grzegorz&quot;, &quot;Grzegorzewski&quot;, &quot;grzegorz.grzegorzewski@gmail.com&quot;,\r\n\t\t\t\t\tGender.MALE, address, List.of(&quot;Street workout&quot;), BigDecimal.TEN, LocalDateTime.now());\r\n\t\t\tstudentRepository.insert(student);\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nDocument class\r\n```\r\n@Data\r\n@Document\r\npublic class Student {\r\n\r\n    @Id\r\n    private String id;\r\n    private String firstname;\r\n    private String lastname;\r\n    private String email;\r\n    private Gender gender;\r\n    private Address address;\r\n    private List&lt;String&gt; favouriteSubjects;\r\n    private BigDecimal totalSpentInBooks;\r\n    private LocalDateTime created;\r\n\r\n    public Student(String firstname, String lastname, String email, Gender gender, Address address,\r\n                   List&lt;String&gt; favouriteSubjects, BigDecimal totalSpentInBooks, LocalDateTime created) {\r\n        this.firstname = firstname;\r\n        this.lastname = lastname;\r\n        this.email = email;\r\n        this.gender = gender;\r\n        this.address = address;\r\n        this.favouriteSubjects = favouriteSubjects;\r\n        this.totalSpentInBooks = totalSpentInBooks;\r\n        this.created = created;\r\n    }\r\n}\r\n```\r\n\r\napplication.properties file\r\n```\r\nspring.data.mongodb.authentication-database=admin\r\nspring.data.mongodb.username=rootuser\r\nspring.data.mongodb.password=rootpass\r\nspring.data.mongodb.database=amigoscode\r\nspring.data.mongodb.port=27017\r\nspring.data.mongodb.host=localhost\r\n```\r\n\r\nMongoRepository\r\n```\r\n@Repository\r\npublic interface StudentRepository extends MongoRepository&lt;Student, String&gt; {\r\n}\r\n```\r\n\r\ndocker-compose file\r\n```\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  mongodb:\r\n    image: mongo\r\n    container_name: mongodb\r\n    ports:\r\n      - &quot;27017:27017&quot;\r\n    volumes:\r\n      - data:/data\r\n    environment:\r\n      - MONGO_INITDB_ROOT_USERNAME=rootuser\r\n      - MONGO_INITDB_ROOT_PASSWORD=rootpass\r\n  mongo-expres:\r\n    image: mongo-express\r\n    container_name: mongo-express\r\n    restart: always\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    environment:\r\n      - ME_CONFIG_MONGODB_ADMINUSERNAME=rootuser\r\n      - ME_CONFIG_MONGODB_ADMINPASSWORD=rootpass\r\n      - ME_CONFIG_MONGODB_SERVER=mongodb\r\nvolumes:\r\n  data: { }\r\nnetworks:\r\n  default:\r\n    name: mongodb_network\r\n```\r\n\r\nError stack trace\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-27 07:58:41.235 ERROR 940 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat com.example.MongoDB.MongoDbApplication.main(MongoDbApplication.java:16) ~[classes/:na]\r\nCaused by: org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n\tat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:140) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3044) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:600) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1546) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1345) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\tat org.springframework.data.mongodb.repository.support.SimpleMongoRepository.insert(SimpleMongoRepository.java:286) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy56.insert(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy56.insert(Unknown Source) ~[na:na]\r\n\tat com.example.MongoDB.MongoDbApplication.lambda$run$0(MongoDbApplication.java:25) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\t... 5 common frames omitted\r\nCaused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:276) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:139) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.access$100(SaslAuthenticator.java:49) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:283) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:57) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:207) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshake(InternalStreamConnectionInitializer.java:81) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:185) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:54) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:535) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:911) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:852) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:178) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:167) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:103) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:175) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:192) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:592) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$3(OperationHelper.java:574) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:573) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$execute$3(MixedBulkWriteOperation.java:272) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:308) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:85) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:212) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1010) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:471) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:454) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n\tat com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:448) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$15(MongoTemplate.java:1552) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:598) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n\t... 38 common frames omitted\r\nCaused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): &#39;Authentication failed.&#39; on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\r\n\tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:230) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:137) ~[mongodb-driver-core-4.6.1.jar:na]\r\n\t... 71 common frames omitted\r\n```\r\n\r\nI have no more ideas about what I can still change here. I will be very grateful for any tips. Thank you all in advance for your hints.\r\n","title":"Connection with Mogodb","body":"<p>Good morning. I have a problem connecting to a MongoDB database. I have configured myself a database and mongo express in docker-compose.yml file. Using CommandLineRunner, I want to add sample data to the database and then the connection is rejected.</p>\n<p>Main class</p>\n<pre><code>@SpringBootApplication\npublic class MongoDbApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MongoDbApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner run(StudentRepository studentRepository) {\n        return args -&gt; {\n            Address address = new Address(&quot;Poland&quot;, &quot;00-000&quot;, &quot;Warszawa&quot;);\n            Student student = new Student(&quot;Grzegorz&quot;, &quot;Grzegorzewski&quot;, &quot;grzegorz.grzegorzewski@gmail.com&quot;,\n                    Gender.MALE, address, List.of(&quot;Street workout&quot;), BigDecimal.TEN, LocalDateTime.now());\n            studentRepository.insert(student);\n        };\n    }\n}\n</code></pre>\n<p>Document class</p>\n<pre><code>@Data\n@Document\npublic class Student {\n\n    @Id\n    private String id;\n    private String firstname;\n    private String lastname;\n    private String email;\n    private Gender gender;\n    private Address address;\n    private List&lt;String&gt; favouriteSubjects;\n    private BigDecimal totalSpentInBooks;\n    private LocalDateTime created;\n\n    public Student(String firstname, String lastname, String email, Gender gender, Address address,\n                   List&lt;String&gt; favouriteSubjects, BigDecimal totalSpentInBooks, LocalDateTime created) {\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.email = email;\n        this.gender = gender;\n        this.address = address;\n        this.favouriteSubjects = favouriteSubjects;\n        this.totalSpentInBooks = totalSpentInBooks;\n        this.created = created;\n    }\n}\n</code></pre>\n<p>application.properties file</p>\n<pre><code>spring.data.mongodb.authentication-database=admin\nspring.data.mongodb.username=rootuser\nspring.data.mongodb.password=rootpass\nspring.data.mongodb.database=amigoscode\nspring.data.mongodb.port=27017\nspring.data.mongodb.host=localhost\n</code></pre>\n<p>MongoRepository</p>\n<pre><code>@Repository\npublic interface StudentRepository extends MongoRepository&lt;Student, String&gt; {\n}\n</code></pre>\n<p>docker-compose file</p>\n<pre><code>version: '3.8'\nservices:\n  mongodb:\n    image: mongo\n    container_name: mongodb\n    ports:\n      - &quot;27017:27017&quot;\n    volumes:\n      - data:/data\n    environment:\n      - MONGO_INITDB_ROOT_USERNAME=rootuser\n      - MONGO_INITDB_ROOT_PASSWORD=rootpass\n  mongo-expres:\n    image: mongo-express\n    container_name: mongo-express\n    restart: always\n    ports:\n      - &quot;8081:8081&quot;\n    environment:\n      - ME_CONFIG_MONGODB_ADMINUSERNAME=rootuser\n      - ME_CONFIG_MONGODB_ADMINPASSWORD=rootpass\n      - ME_CONFIG_MONGODB_SERVER=mongodb\nvolumes:\n  data: { }\nnetworks:\n  default:\n    name: mongodb_network\n</code></pre>\n<p>Error stack trace</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-27 07:58:41.235 ERROR 940 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\n    at com.example.MongoDB.MongoDbApplication.main(MongoDbApplication.java:16) ~[classes/:na]\nCaused by: org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n    at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:140) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3044) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:600) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    at org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1546) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1345) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.insert(SimpleMongoRepository.java:286) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy56.insert(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at jdk.proxy2/jdk.proxy2.$Proxy56.insert(Unknown Source) ~[na:na]\n    at com.example.MongoDB.MongoDbApplication.lambda$run$0(MongoDbApplication.java:25) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.2.jar:2.7.2]\n    ... 5 common frames omitted\nCaused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n    at com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:276) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:139) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.access$100(SaslAuthenticator.java:49) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:283) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:57) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:207) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshake(InternalStreamConnectionInitializer.java:81) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:185) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:54) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:535) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:911) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:852) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:178) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:167) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:103) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:175) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:192) ~[mongodb-driver-sync-4.6.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:592) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$3(OperationHelper.java:574) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:573) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$execute$3(MixedBulkWriteOperation.java:272) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:308) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:85) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:212) ~[mongodb-driver-sync-4.6.1.jar:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1010) ~[mongodb-driver-sync-4.6.1.jar:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:471) ~[mongodb-driver-sync-4.6.1.jar:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:454) ~[mongodb-driver-sync-4.6.1.jar:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:448) ~[mongodb-driver-sync-4.6.1.jar:na]\n    at org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$15(MongoTemplate.java:1552) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:598) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n    ... 38 common frames omitted\nCaused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): 'Authentication failed.' on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\n    at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:230) ~[mongodb-driver-core-4.6.1.jar:na]\n    at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:137) ~[mongodb-driver-core-4.6.1.jar:na]\n    ... 71 common frames omitted\n</code></pre>\n<p>I have no more ideas about what I can still change here. I will be very grateful for any tips. Thank you all in advance for your hints.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1581162501,"post_id":60119604,"comment_id":106343286,"body_markdown":"What does it mean if and only if it exists in the parent? Are you talking if child is null in the ParentDto or something else? Can you provide an example of what exactly you would expect the mapping code to look like?","body":"What does it mean if and only if it exists in the parent? Are you talking if child is null in the ParentDto or something else? Can you provide an example of what exactly you would expect the mapping code to look like?"}],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658903550,"creation_date":1658874729,"answer_id":73130429,"question_id":60119604,"body_markdown":"You can create a method and put your logic inside\r\n\r\n      /**\r\n       *  If you are sure that the parentDto will never be NULL, you can remove the @NonNull annotation (lombok.NonNull)\r\n       *  I use the AllArgsConstructor to create a new instance of Child,\r\n       *  I pass null to id (I think you will generate the id when you will save the Child entity in the DB), if not, you can change it with parentDto.getChild().getId()\r\n       */\r\n      protected Child mapChild(@NonNull ParentDto parentDto) {\r\n         return parentDto.getChild() != null ? new Child(parentDto.getParentId(), null, parentDto.getChild().getName()) : null;\r\n      }\r\n\r\nand then use it to map Child entity\r\n\r\n    @Mapping(target = &quot;child&quot;, expression = &quot;java(mapChild(source))&quot;)\r\n    abstract Parent map(ParentDto source);\r\n\r\nso now the mapper will look like this:\r\n\r\n    @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    public abstract class ParentMapper {\r\n\r\n      @Mapping(target = &quot;child&quot;, expression = &quot;java(mapChild(source))&quot;)\r\n      abstract Parent map(ParentDto source);\r\n\r\n      protected Child mapChild(@NonNull ParentDto parentDto) {\r\n         return parentDto.getChild() != null ? new Child(parentDto.getParentId(), null, parentDto.getChild().getName()) : null;\r\n      }\r\n\r\n    }","title":"mapstruct conditonly create and nested object","body":"<p>You can create a method and put your logic inside</p>\n<pre><code>  /**\n   *  If you are sure that the parentDto will never be NULL, you can remove the @NonNull annotation (lombok.NonNull)\n   *  I use the AllArgsConstructor to create a new instance of Child,\n   *  I pass null to id (I think you will generate the id when you will save the Child entity in the DB), if not, you can change it with parentDto.getChild().getId()\n   */\n  protected Child mapChild(@NonNull ParentDto parentDto) {\n     return parentDto.getChild() != null ? new Child(parentDto.getParentId(), null, parentDto.getChild().getName()) : null;\n  }\n</code></pre>\n<p>and then use it to map Child entity</p>\n<pre><code>@Mapping(target = &quot;child&quot;, expression = &quot;java(mapChild(source))&quot;)\nabstract Parent map(ParentDto source);\n</code></pre>\n<p>so now the mapper will look like this:</p>\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic abstract class ParentMapper {\n\n  @Mapping(target = &quot;child&quot;, expression = &quot;java(mapChild(source))&quot;)\n  abstract Parent map(ParentDto source);\n\n  protected Child mapChild(@NonNull ParentDto parentDto) {\n     return parentDto.getChild() != null ? new Child(parentDto.getParentId(), null, parentDto.getChild().getName()) : null;\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":153291,"reputation":1547,"user_id":368440,"accept_rate":72,"display_name":"yoav.str"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73130429,"answer_count":1,"score":1,"last_activity_date":1658903550,"creation_date":1581102301,"question_id":60119604,"body_markdown":"I am working with mapstruct and having below problem -\r\n\r\nI have a DTO parent :\r\n\r\n    {\r\n         &quot;parentId&quot;:1,\r\n          &quot;child&quot;:{\r\n           &quot;id&quot;:1,\r\n           &quot;name&quot;:&quot;firstBorn&quot; \r\n           }\r\n    }\r\n\r\nthis are the DTO and server classes :\r\n\r\n     @Data\r\n        public class ParentDTO {\r\n            int parentId;\r\n            ChildDto child; \r\n        } \r\n        @Data\r\n        public class ChildDTO{\r\n            int id;\r\n            ChildDto child; \r\n        } \r\n\r\n the POJO are : \r\n\r\n    @Data\r\n    public class Parent{\r\n        int parentId;\r\n        Child child; \r\n    } \r\n    @Data\r\n    public class Child{\r\n        int parentId;\r\n        int id;\r\n        String name;\r\n    }\r\n\r\nso I am using Mapstruct in order to map between those two :\r\n\r\n    @Mapper( unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n    class ParentMapper {\r\n      @Mappings({\r\n        @Mapping(source = &quot;parentId&quot;, target = &quot;child.parentid&quot;), \r\n        @Mapping(source = &quot;name&quot;, target = &quot;child.name&quot;)\r\n    \r\n      })\r\n      Parent map(ParentDto source);\r\n    \r\n    }\r\n\r\n\r\nI would like to create the instance child if and only if it exists in the parent, otherwise I would like it to be null , how can I achieve this goal?\r\n\r\nthe problem appear when the child in null \r\n\r\n    {\r\n    &quot;parentId&quot;:123\r\n    }\r\n\r\n","title":"mapstruct conditonly create and nested object","body":"<p>I am working with mapstruct and having below problem -</p>\n\n<p>I have a DTO parent :</p>\n\n<pre><code>{\n     \"parentId\":1,\n      \"child\":{\n       \"id\":1,\n       \"name\":\"firstBorn\" \n       }\n}\n</code></pre>\n\n<p>this are the DTO and server classes :</p>\n\n<pre><code> @Data\n    public class ParentDTO {\n        int parentId;\n        ChildDto child; \n    } \n    @Data\n    public class ChildDTO{\n        int id;\n        ChildDto child; \n    } \n</code></pre>\n\n<p>the POJO are : </p>\n\n<pre><code>@Data\npublic class Parent{\n    int parentId;\n    Child child; \n} \n@Data\npublic class Child{\n    int parentId;\n    int id;\n    String name;\n}\n</code></pre>\n\n<p>so I am using Mapstruct in order to map between those two :</p>\n\n<pre><code>@Mapper( unmappedTargetPolicy = ReportingPolicy.IGNORE)\nclass ParentMapper {\n  @Mappings({\n    @Mapping(source = \"parentId\", target = \"child.parentid\"), \n    @Mapping(source = \"name\", target = \"child.name\")\n\n  })\n  Parent map(ParentDto source);\n\n}\n</code></pre>\n\n<p>I would like to create the instance child if and only if it exists in the parent, otherwise I would like it to be null , how can I achieve this goal?</p>\n\n<p>the problem appear when the child in null </p>\n\n<pre><code>{\n\"parentId\":123\n}\n</code></pre>\n"},{"tags":["java","android","api","android-studio","retrofit"],"answers":[{"tags":[],"owner":{"account_id":13445288,"reputation":318,"user_id":9701439,"display_name":"TylerQITX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658903098,"creation_date":1658903098,"answer_id":73133142,"question_id":73132376,"body_markdown":"Reference:\r\nhttps://square.github.io/retrofit/2.x/retrofit/retrofit2/http/Field.html\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;/&quot;)\r\n    Call&lt;ResponseBody&gt; example(\r\n        @Field(&quot;name&quot;) String name,\r\n        @Field(&quot;occupation&quot;) String occupation);","title":"How can I use a post request with Retrofit to deliver data in parameters?","body":"<p>Reference:\n<a href=\"https://square.github.io/retrofit/2.x/retrofit/retrofit2/http/Field.html\" rel=\"nofollow noreferrer\">https://square.github.io/retrofit/2.x/retrofit/retrofit2/http/Field.html</a></p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;/&quot;)\nCall&lt;ResponseBody&gt; example(\n    @Field(&quot;name&quot;) String name,\n    @Field(&quot;occupation&quot;) String occupation);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25870292,"reputation":3,"user_id":19601304,"display_name":"Ahmad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658903245,"creation_date":1658903186,"answer_id":73133161,"question_id":73132376,"body_markdown":"You can make a Pojo/Data class for your desired parameters and Then you can make an object by passing all your parameter. Then you can send data through post by using **@Body** tag like: \r\n\r\n   \r\n\r\n     @POST(&quot;/&quot;)\r\n     Call&lt;ResponseType&gt; send(@Body Data data)","title":"How can I use a post request with Retrofit to deliver data in parameters?","body":"<p>You can make a Pojo/Data class for your desired parameters and Then you can make an object by passing all your parameter. Then you can send data through post by using <strong>@Body</strong> tag like:</p>\n<pre><code> @POST(&quot;/&quot;)\n Call&lt;ResponseType&gt; send(@Body Data data)\n</code></pre>\n"}],"owner":{"account_id":25807833,"reputation":1,"user_id":19549116,"display_name":"Zoha Saleem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658903245,"creation_date":1658897612,"question_id":73132376,"body_markdown":"I designed an API that sends data in parameters, however retrofit prevents us from sending data in parameters through a post request. Is there a way to send data in parameters through a post request with retrofit?","title":"How can I use a post request with Retrofit to deliver data in parameters?","body":"<p>I designed an API that sends data in parameters, however retrofit prevents us from sending data in parameters through a post request. Is there a way to send data in parameters through a post request with retrofit?</p>\n"},{"tags":["java","json","gson","retrofit2"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1659272658,"post_id":73133062,"comment_id":129250512,"body_markdown":"Would it be possibly to adjust your `InputData` class to match the JSON data? Otherwise, as you have mentioned, you would need to use reflection to inspect the fields and their annotations and implement the flattening. That would most likely be possible, but if might be bit complicated.","body":"Would it be possibly to adjust your <code>InputData</code> class to match the JSON data? Otherwise, as you have mentioned, you would need to use reflection to inspect the fields and their annotations and implement the flattening. That would most likely be possible, but if might be bit complicated."}],"owner":{"account_id":3075219,"reputation":385,"user_id":2604777,"accept_rate":50,"display_name":"abdulH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658902610,"creation_date":1658902610,"question_id":73133062,"body_markdown":"I have a Java class with fields annotated (dot separated) with expected JSON field names and I want to serialize this to nested JSON using Gson or retrofit convertors.\r\n\r\nnote: Deserialization is not required.\r\n\r\n**Java Class**\r\n```\r\npublic class InputData {\r\n    public String type = &quot;Usage&quot;;\r\n    public String timeframe = &quot;custom&quot;;\r\n\r\n    @SerializedName(&quot;timePeriod.from&quot;)\r\n    public String from = &quot;2022-07-14T00:00:00+00:00&quot;;\r\n\r\n    @SerializedName(&quot;timePeriod.to&quot;)\r\n    public String to = &quot;2022-07-26T23:59:59+00:00&quot;;\r\n}\r\n```\r\n\r\n**Expected JSON**\r\n```\r\n{\r\n\t&quot;type&quot;: &quot;Usage&quot;,\r\n\t&quot;timeframe&quot;: &quot;custom&quot;,\r\n\t&quot;timePeriod&quot; {\r\n\t\t&quot;from&quot;: &quot;2022-07-14T00:00:00+00:00&quot;,\r\n\t\t&quot;to&quot;: &quot;2022-07-26T23:59:59+00:00&quot;\r\n\t}\r\n}\r\n```\r\n\r\nI have tried a custom serializer but could convert primitive types to objects in JSON.\r\n\r\nI have been attempting TypeAdapterFactory to parse the annotations but there I could not read the value of the fields\r\n\r\nAny help would be much appreciated!\r\n\r\nI have a function which converts to HashMap from given field name and value\r\n\r\n```\r\nprivate static HashMap&lt;String, Object&gt; convertToObj(String key, String value) {\r\n        HashMap&lt;String, Object&gt; root = new HashMap&lt;&gt;();\r\n        Map&lt;String, Object&gt; m = root;\r\n        String[] parts = key.split(&quot;\\\\.&quot;);\r\n        for (int i = 0; i &lt; parts.length; i++) {\r\n            String part = parts[i];\r\n            if (i == parts.length - 1) {\r\n                // At last part so put value\r\n                m.put(part, value);\r\n            } else {\r\n                // Before last part so put map\r\n                Map&lt;String, Object&gt; mm = (Map&lt;String, Object&gt;) m.get(part);\r\n                if (mm == null) {\r\n                    mm = new HashMap&lt;&gt;();\r\n                    m.put(part, mm);\r\n                }\r\n                m = mm;\r\n            }\r\n        }\r\n        return root;\r\n    }\r\n```","title":"Serialize flats objects of Java pojo to structured/nested json using Gson or Retrofit","body":"<p>I have a Java class with fields annotated (dot separated) with expected JSON field names and I want to serialize this to nested JSON using Gson or retrofit convertors.</p>\n<p>note: Deserialization is not required.</p>\n<p><strong>Java Class</strong></p>\n<pre><code>public class InputData {\n    public String type = &quot;Usage&quot;;\n    public String timeframe = &quot;custom&quot;;\n\n    @SerializedName(&quot;timePeriod.from&quot;)\n    public String from = &quot;2022-07-14T00:00:00+00:00&quot;;\n\n    @SerializedName(&quot;timePeriod.to&quot;)\n    public String to = &quot;2022-07-26T23:59:59+00:00&quot;;\n}\n</code></pre>\n<p><strong>Expected JSON</strong></p>\n<pre><code>{\n    &quot;type&quot;: &quot;Usage&quot;,\n    &quot;timeframe&quot;: &quot;custom&quot;,\n    &quot;timePeriod&quot; {\n        &quot;from&quot;: &quot;2022-07-14T00:00:00+00:00&quot;,\n        &quot;to&quot;: &quot;2022-07-26T23:59:59+00:00&quot;\n    }\n}\n</code></pre>\n<p>I have tried a custom serializer but could convert primitive types to objects in JSON.</p>\n<p>I have been attempting TypeAdapterFactory to parse the annotations but there I could not read the value of the fields</p>\n<p>Any help would be much appreciated!</p>\n<p>I have a function which converts to HashMap from given field name and value</p>\n<pre><code>private static HashMap&lt;String, Object&gt; convertToObj(String key, String value) {\n        HashMap&lt;String, Object&gt; root = new HashMap&lt;&gt;();\n        Map&lt;String, Object&gt; m = root;\n        String[] parts = key.split(&quot;\\\\.&quot;);\n        for (int i = 0; i &lt; parts.length; i++) {\n            String part = parts[i];\n            if (i == parts.length - 1) {\n                // At last part so put value\n                m.put(part, value);\n            } else {\n                // Before last part so put map\n                Map&lt;String, Object&gt; mm = (Map&lt;String, Object&gt;) m.get(part);\n                if (mm == null) {\n                    mm = new HashMap&lt;&gt;();\n                    m.put(part, mm);\n                }\n                m = mm;\n            }\n        }\n        return root;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","logging","aspectj","metrics"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1658898023,"post_id":73115805,"comment_id":129163074,"body_markdown":"Not clear if you have considered an AOP approach with pure `AspectJ`  (not Spring AOP). [Spring AOP Capabilities and Goals](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-introduction-spring-defn) and [Choosing which AOP Declaration Style to Use](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-choosing) are in official documentation","body":"Not clear if you have considered an AOP approach with pure <code>AspectJ</code>  (not Spring AOP). <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-introduction-spring-defn\" rel=\"nofollow noreferrer\">Spring AOP Capabilities and Goals</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-choosing\" rel=\"nofollow noreferrer\">Choosing which AOP Declaration Style to Use</a> are in official documentation"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1658899014,"post_id":73115805,"comment_id":129163220,"body_markdown":"An advise around `logger.error()` should be possible through `AspectJ`. Adding `aspectj` tag to get the right attention","body":"An advise around <code>logger.error()</code> should be possible through <code>AspectJ</code>. Adding <code>aspectj</code> tag to get the right attention"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1658902597,"post_id":73115805,"comment_id":129164022,"body_markdown":"not sure if I missed to add the tag or someone removed it after I added . Re added the same. please modify as required.","body":"not sure if I missed to add the tag or someone removed it after I added . Re added the same. please modify as required."},{"owner":{"account_id":11102083,"reputation":1171,"user_id":9914653,"display_name":"hitchhiker"},"score":0,"creation_date":1659122409,"post_id":73115805,"comment_id":129226469,"body_markdown":"@R.G this use case seems very basic and common to me, do you know of libraries which provide such functionality?","body":"@R.G this use case seems very basic and common to me, do you know of libraries which provide such functionality?"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1659145412,"post_id":73115805,"comment_id":129230530,"body_markdown":"How to configure `AspectJ` in Spring Boot project can be read [here](https://www.geekyhacker.com/2020/03/28/how-to-configure-aspectj-in-spring-boot/)","body":"How to configure <code>AspectJ</code> in Spring Boot project can be read <a href=\"https://www.geekyhacker.com/2020/03/28/how-to-configure-aspectj-in-spring-boot/\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":11102083,"reputation":1171,"user_id":9914653,"display_name":"hitchhiker"},"score":0,"creation_date":1659165969,"post_id":73115805,"comment_id":129232625,"body_markdown":"@R.G thank you for the link. I meant if there&#39;re libraries which already implemented such aspect based logging solutions so that I don&#39;t need to write it myself. Like I would just give this library a callback and it would invoke it on each log or something like that","body":"@R.G thank you for the link. I meant if there&#39;re libraries which already implemented such aspect based logging solutions so that I don&#39;t need to write it myself. Like I would just give this library a callback and it would invoke it on each log or something like that"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1659261511,"post_id":73115805,"comment_id":129248451,"body_markdown":"Why would you need to wire the metrics bean into each Spring bean? Is it not enough to wire it into the aspect handling the errors? In any case, please present an [MCVE](https://stackoverflow.com/help/mcve) and not an ambiguous theoretical situation described only in prose. Make your problem reproducible if you hope for helpful answers. Otherwise, the answer will be just as generic and theoretical as your question. Garbage in, garbage out.","body":"Why would you need to wire the metrics bean into each Spring bean? Is it not enough to wire it into the aspect handling the errors? In any case, please present an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> and not an ambiguous theoretical situation described only in prose. Make your problem reproducible if you hope for helpful answers. Otherwise, the answer will be just as generic and theoretical as your question. Garbage in, garbage out."}],"answers":[{"tags":[],"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658812261,"creation_date":1658812261,"answer_id":73117993,"question_id":73115805,"body_markdown":"Not sure if it is the best practice but I would use a UtilityClass as a facade exposing a static method. In that method, wire the metrics registry using `Metrics.globalRegistry` to avoid injection. This will avoid coupling the metric details from where it is used.\r\n\r\nYou can then either invoke the static method everywhere you are handling an exception (so besides `logger.error(ex)`) or combine this with your third option with the pointcut.\r\n\r\n\r\nSimple example:\r\n\r\n    @UtilityClass\r\n    public class ExceptionUtility {\r\n      public static void handleException(Throwable throwable) {\r\n        Counter.builder(&quot;some.name.exception&quot;)\r\n            .tag(&quot;name&quot;, throwable.getClass().getName())\r\n            .register(Metrics.globalRegistry)\r\n            .increment();\r\n      }\r\n    }\r\n\r\nUsage:\r\n\r\n        try {\r\n        ...  \r\n        } catch (RestClientException restClientException) {\r\n          ExceptionUtility.handleException(restClientException);\r\n        }","title":"Patterns for exception handling in Spring Boot using beans or AOP","body":"<p>Not sure if it is the best practice but I would use a UtilityClass as a facade exposing a static method. In that method, wire the metrics registry using <code>Metrics.globalRegistry</code> to avoid injection. This will avoid coupling the metric details from where it is used.</p>\n<p>You can then either invoke the static method everywhere you are handling an exception (so besides <code>logger.error(ex)</code>) or combine this with your third option with the pointcut.</p>\n<p>Simple example:</p>\n<pre><code>@UtilityClass\npublic class ExceptionUtility {\n  public static void handleException(Throwable throwable) {\n    Counter.builder(&quot;some.name.exception&quot;)\n        .tag(&quot;name&quot;, throwable.getClass().getName())\n        .register(Metrics.globalRegistry)\n        .increment();\n  }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>    try {\n    ...  \n    } catch (RestClientException restClientException) {\n      ExceptionUtility.handleException(restClientException);\n    }\n</code></pre>\n"}],"owner":{"account_id":11102083,"reputation":1171,"user_id":9914653,"display_name":"hitchhiker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658902544,"creation_date":1658786819,"question_id":73115805,"body_markdown":"I have a Spring Boot server application where exceptions are caught, logged and handled when possible and when not possible they are handled by `@ControllerAdvice` as the last resort.\r\n\r\nI want to add more logic for exception handling, for example, sending a metric to a monitoring solution on each exception. For example there&#39;s a Spring bean `MetricsBean` which is a service which sends metrics. Using `MetricsBean` is easy for errors which are handled by `@ControllerAdvice` because it&#39;s also a Spring bean.\r\n\r\nHowever using `MetricsBean` is not as straightforward in such code:\r\n\r\n```java\r\ntry {\r\n  // business logic\r\n} catch (Exception ex) {\r\n  logger.error(ex)\r\n}\r\n```\r\nbecause that would mean manually autowiring `MetricsBean` into each service class. Also `logger` object is not a Spring bean.\r\n\r\nSo I have a dilemma how do I send a metric from inside or around `logger.error()` method when the logger class itself is not a Spring bean. I&#39;m wondering what the best practice is in such cases. Here&#39;re some of the options:\r\n\r\n1. Should logger also be a Spring bean? (seems tedious and error-prone)\r\n2. Should there be a custom `Exception` extending class which would be a Spring bean and will send a metric inside its constructor? (seems tedious and error-prone)\r\n3. Should Spring AOP be used with the pointcut being `logger.error()` method?\r\n\r\nI&#39;m surprised that there&#39;s not an established solution for this pattern for such an established framework as Spring (most of the solutions focus on handling errors in `@ControllerAdvice`).\r\n\r\nI&#39;d like the solution to be as generic as possible (point 3 seems to win there) but perhaps there&#39;s a pattern which I&#39;m missing.","title":"Patterns for exception handling in Spring Boot using beans or AOP","body":"<p>I have a Spring Boot server application where exceptions are caught, logged and handled when possible and when not possible they are handled by <code>@ControllerAdvice</code> as the last resort.</p>\n<p>I want to add more logic for exception handling, for example, sending a metric to a monitoring solution on each exception. For example there's a Spring bean <code>MetricsBean</code> which is a service which sends metrics. Using <code>MetricsBean</code> is easy for errors which are handled by <code>@ControllerAdvice</code> because it's also a Spring bean.</p>\n<p>However using <code>MetricsBean</code> is not as straightforward in such code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  // business logic\n} catch (Exception ex) {\n  logger.error(ex)\n}\n</code></pre>\n<p>because that would mean manually autowiring <code>MetricsBean</code> into each service class. Also <code>logger</code> object is not a Spring bean.</p>\n<p>So I have a dilemma how do I send a metric from inside or around <code>logger.error()</code> method when the logger class itself is not a Spring bean. I'm wondering what the best practice is in such cases. Here're some of the options:</p>\n<ol>\n<li>Should logger also be a Spring bean? (seems tedious and error-prone)</li>\n<li>Should there be a custom <code>Exception</code> extending class which would be a Spring bean and will send a metric inside its constructor? (seems tedious and error-prone)</li>\n<li>Should Spring AOP be used with the pointcut being <code>logger.error()</code> method?</li>\n</ol>\n<p>I'm surprised that there's not an established solution for this pattern for such an established framework as Spring (most of the solutions focus on handling errors in <code>@ControllerAdvice</code>).</p>\n<p>I'd like the solution to be as generic as possible (point 3 seems to win there) but perhaps there's a pattern which I'm missing.</p>\n"},{"tags":["java","spring","spring-boot","wildfly","jboss7.x"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1658933035,"post_id":73130070,"comment_id":129175922,"body_markdown":"It can&#39;t find a file - it doesn&#39;t look like a compatibility issue.","body":"It can&#39;t find a file - it doesn&#39;t look like a compatibility issue."},{"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"score":0,"creation_date":1659112497,"post_id":73130070,"comment_id":129223509,"body_markdown":"Previously it was using com.vfs2.javaeatmoi jar to match the files. I removed it as it was for spring 4 what to use for spring 5","body":"Previously it was using com.vfs2.javaeatmoi jar to match the files. I removed it as it was for spring 4 what to use for spring 5"}],"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658902517,"creation_date":1658871919,"question_id":73130070,"body_markdown":"Can anyone please share me the compatibility matrix for Spring and JBOss.\r\nCurrently I am using Spring 5.3.14. Need to know the JBOSS EAP and JBOSS AS version for the same.\r\n\r\nAlso previously in context class in web.xml I used context class as `com.javaetmoi.spring.JBossZmlWebApplicationContext`\r\nAfter upgrading to 5.3 I removed it.\r\nBut It is erroring out:\r\n\r\n    Could not open ServletContext resources [/&lt;none&gt;] org.springfrmework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from servletcontextreaource. Nested exception is Java.io.FileNotFoundException","title":"Spring JBoss compatibility","body":"<p>Can anyone please share me the compatibility matrix for Spring and JBOss.\nCurrently I am using Spring 5.3.14. Need to know the JBOSS EAP and JBOSS AS version for the same.</p>\n<p>Also previously in context class in web.xml I used context class as <code>com.javaetmoi.spring.JBossZmlWebApplicationContext</code>\nAfter upgrading to 5.3 I removed it.\nBut It is erroring out:</p>\n<pre><code>Could not open ServletContext resources [/&lt;none&gt;] org.springfrmework.beans.factory.BeanDefinitionStoreException: IOException parsing XML document from servletcontextreaource. Nested exception is Java.io.FileNotFoundException\n</code></pre>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1367994038,"post_id":16433915,"comment_id":23568740,"body_markdown":"Start with [Basic I/O](http://docs.oracle.com/javase/tutorial/essential/io/) and also try having a look at [Copying a File or Directory](http://docs.oracle.com/javase/tutorial/essential/io/copy.html)","body":"Start with <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"nofollow noreferrer\">Basic I/O</a> and also try having a look at <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/copy.html\" rel=\"nofollow noreferrer\">Copying a File or Directory</a>"},{"owner":{"account_id":2073596,"reputation":2693,"user_id":1847560,"accept_rate":40,"display_name":"vijayk"},"score":0,"creation_date":1367994198,"post_id":16433915,"comment_id":23568796,"body_markdown":"My first problem is how to store that search files ?","body":"My first problem is how to store that search files ?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1367994329,"post_id":16433915,"comment_id":23568838,"body_markdown":"I&#39;m not sure why you would need, however, take a look at [Collections](http://docs.oracle.com/javase/tutorial/collections/TOC.html), I&#39;d focus somewhere around `List`","body":"I&#39;m not sure why you would need, however, take a look at <a href=\"http://docs.oracle.com/javase/tutorial/collections/TOC.html\" rel=\"nofollow noreferrer\">Collections</a>, I&#39;d focus somewhere around <code>List</code>"},{"owner":{"account_id":84539,"reputation":9538,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":0,"creation_date":1494431347,"post_id":16433915,"comment_id":74828509,"body_markdown":"Possible duplicate of [Copying files from one directory to another in Java](http://stackoverflow.com/questions/1146153/copying-files-from-one-directory-to-another-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1146153/copying-files-from-one-directory-to-another-in-java\">Copying files from one directory to another in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":1409397,"reputation":12315,"user_id":1336310,"accept_rate":90,"display_name":"Menno"},"down_vote_count":1,"up_vote_count":154,"is_accepted":true,"score":153,"last_activity_date":1367998645,"creation_date":1367994006,"answer_id":16433947,"question_id":16433915,"body_markdown":"You can use [this][1] (or any variant):\r\n\r\n    Files.copy(src, dst, StandardCopyOption.REPLACE_EXISTING);\r\n\r\nAlso, I&#39;d recommend using `File.separator` or `/` instead of `\\\\` to make it compliant across multiple OS, question/answer on this available [here][2].\r\n\r\nSince you&#39;re not sure how to temporarily store files, take a look at `ArrayList`:\r\n\r\n    List&lt;File&gt; files = new ArrayList();\r\n    files.add(foundFile);\r\n\r\nTo move a `List` of files into a single directory:\r\n\r\n    List&lt;File&gt; files = ...;\r\n    String path = &quot;C:/destination/&quot;;\r\n    for(File file : files) {\r\n        Files.copy(file.toPath(),\r\n            (new File(path + file.getName())).toPath(),\r\n            StandardCopyOption.REPLACE_EXISTING);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\r\n\r\n  [2]: https://stackoverflow.com/questions/2417485/file-separator-vs-slash-in-paths","title":"How to copy file from one location to another location?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\">this</a> (or any variant):</p>\n\n<pre><code>Files.copy(src, dst, StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n\n<p>Also, I'd recommend using <code>File.separator</code> or <code>/</code> instead of <code>\\\\</code> to make it compliant across multiple OS, question/answer on this available <a href=\"https://stackoverflow.com/questions/2417485/file-separator-vs-slash-in-paths\">here</a>.</p>\n\n<p>Since you're not sure how to temporarily store files, take a look at <code>ArrayList</code>:</p>\n\n<pre><code>List&lt;File&gt; files = new ArrayList();\nfiles.add(foundFile);\n</code></pre>\n\n<p>To move a <code>List</code> of files into a single directory:</p>\n\n<pre><code>List&lt;File&gt; files = ...;\nString path = \"C:/destination/\";\nfor(File file : files) {\n    Files.copy(file.toPath(),\n        (new File(path + file.getName())).toPath(),\n        StandardCopyOption.REPLACE_EXISTING);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2845225,"reputation":2169,"user_id":2443824,"accept_rate":62,"display_name":"Quamber Ali"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378708282,"creation_date":1378708282,"answer_id":18692612,"question_id":16433915,"body_markdown":"      public static void copyFile(File oldLocation, File newLocation) throws IOException {\r\n            if ( oldLocation.exists( )) {\r\n                BufferedInputStream  reader = new BufferedInputStream( new FileInputStream(oldLocation) );\r\n                BufferedOutputStream  writer = new BufferedOutputStream( new FileOutputStream(newLocation, false));\r\n                try {\r\n                    byte[]  buff = new byte[8192];\r\n                    int numChars;\r\n                    while ( (numChars = reader.read(  buff, 0, buff.length ) ) != -1) {\r\n                        writer.write( buff, 0, numChars );\r\n                    }\r\n                } catch( IOException ex ) {\r\n                    throw new IOException(&quot;IOException when transferring &quot; + oldLocation.getPath() + &quot; to &quot; + newLocation.getPath());\r\n                } finally {\r\n                    try {\r\n                        if ( reader != null ){                      \r\n                            writer.close();\r\n                            reader.close();\r\n                        }\r\n                    } catch( IOException ex ){\r\n                        Log.e(TAG, &quot;Error closing files when transferring &quot; + oldLocation.getPath() + &quot; to &quot; + newLocation.getPath() ); \r\n                    }\r\n                }\r\n            } else {\r\n                throw new IOException(&quot;Old location does not exist when transferring &quot; + oldLocation.getPath() + &quot; to &quot; + newLocation.getPath() );\r\n            }\r\n        }  ","title":"How to copy file from one location to another location?","body":"<pre><code>  public static void copyFile(File oldLocation, File newLocation) throws IOException {\n        if ( oldLocation.exists( )) {\n            BufferedInputStream  reader = new BufferedInputStream( new FileInputStream(oldLocation) );\n            BufferedOutputStream  writer = new BufferedOutputStream( new FileOutputStream(newLocation, false));\n            try {\n                byte[]  buff = new byte[8192];\n                int numChars;\n                while ( (numChars = reader.read(  buff, 0, buff.length ) ) != -1) {\n                    writer.write( buff, 0, numChars );\n                }\n            } catch( IOException ex ) {\n                throw new IOException(\"IOException when transferring \" + oldLocation.getPath() + \" to \" + newLocation.getPath());\n            } finally {\n                try {\n                    if ( reader != null ){                      \n                        writer.close();\n                        reader.close();\n                    }\n                } catch( IOException ex ){\n                    Log.e(TAG, \"Error closing files when transferring \" + oldLocation.getPath() + \" to \" + newLocation.getPath() ); \n                }\n            }\n        } else {\n            throw new IOException(\"Old location does not exist when transferring \" + oldLocation.getPath() + \" to \" + newLocation.getPath() );\n        }\n    }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3685282,"reputation":545,"user_id":3069161,"display_name":"Amimo Benja"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1432044265,"creation_date":1432044265,"answer_id":30327959,"question_id":16433915,"body_markdown":"Use the New Java File classes in Java &gt;=7.\r\n\r\nCreate the below method and import the necessary libs.\r\n\r\n    public static void copyFile( File from, File to ) throws IOException {\r\n        Files.copy( from.toPath(), to.toPath() );\r\n    } \r\n\r\nUse the created method as below within main:\r\n\r\n    File dirFrom = new File(fileFrom);\r\n    File dirTo = new File(fileTo);\r\n            \r\n    try {\r\n            copyFile(dirFrom, dirTo);\r\n    } catch (IOException ex) {\r\n            Logger.getLogger(TestJava8.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\nNB:- fileFrom is the file that you want to copy to a new file fileTo in a different folder.\r\n\r\nCredits - @Scott: https://stackoverflow.com/questions/106770/standard-concise-way-to-copy-a-file-in-java/16600787#16600787\r\n","title":"How to copy file from one location to another location?","body":"<p>Use the New Java File classes in Java >=7.</p>\n\n<p>Create the below method and import the necessary libs.</p>\n\n<pre><code>public static void copyFile( File from, File to ) throws IOException {\n    Files.copy( from.toPath(), to.toPath() );\n} \n</code></pre>\n\n<p>Use the created method as below within main:</p>\n\n<pre><code>File dirFrom = new File(fileFrom);\nFile dirTo = new File(fileTo);\n\ntry {\n        copyFile(dirFrom, dirTo);\n} catch (IOException ex) {\n        Logger.getLogger(TestJava8.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n\n<p>NB:- fileFrom is the file that you want to copy to a new file fileTo in a different folder.</p>\n\n<p>Credits - @Scott: <a href=\"https://stackoverflow.com/questions/106770/standard-concise-way-to-copy-a-file-in-java/16600787#16600787\">Standard concise way to copy a file in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":2074030,"reputation":2418,"user_id":1847899,"display_name":"Alexander Sidikov Pfeif"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1647622850,"creation_date":1442581938,"answer_id":32652909,"question_id":16433915,"body_markdown":" **Update:** \r\n\r\nsee also\r\nhttps://stackoverflow.com/a/67179064/1847899\r\n\r\n\r\n\r\n**Using Stream**\r\n\r\n    private static void copyFileUsingStream(File source, File dest) throws IOException {\r\n        InputStream is = null;\r\n        OutputStream os = null;\r\n        try {\r\n            is = new FileInputStream(source);\r\n            os = new FileOutputStream(dest);\r\n            byte[] buffer = new byte[1024];\r\n            int length;\r\n            while ((length = is.read(buffer)) &gt; 0) {\r\n                os.write(buffer, 0, length);\r\n            }\r\n        } finally {\r\n            is.close();\r\n            os.close();\r\n        }\r\n    }\r\n\r\n**Using Channel**\r\n\r\n    private static void copyFileUsingChannel(File source, File dest) throws IOException {\r\n        FileChannel sourceChannel = null;\r\n        FileChannel destChannel = null;\r\n        try {\r\n            sourceChannel = new FileInputStream(source).getChannel();\r\n            destChannel = new FileOutputStream(dest).getChannel();\r\n            destChannel.transferFrom(sourceChannel, 0, sourceChannel.size());\r\n           }finally{\r\n               sourceChannel.close();\r\n               destChannel.close();\r\n           }\r\n    }\r\n\r\n\r\n**Using Apache Commons IO lib:**\r\n\r\n    private static void copyFileUsingApacheCommonsIO(File source, File dest) throws IOException {\r\n        FileUtils.copyFile(source, dest);\r\n    }\r\n\r\n**Using Java SE 7 Files class:**\r\n\r\n    private static void copyFileUsingJava7Files(File source, File dest) throws IOException {\r\n        Files.copy(source.toPath(), dest.toPath());\r\n    }\r\n\r\n\r\n**Or try Googles Guava  :**\r\n\r\nhttps://github.com/google/guava\r\n\r\ndocs: \r\nhttps://guava.dev/releases/snapshot-jre/api/docs/com/google/common/io/Files.html\r\n\r\n","title":"How to copy file from one location to another location?","body":"<p><strong>Update:</strong></p>\n<p>see also\n<a href=\"https://stackoverflow.com/a/67179064/1847899\">https://stackoverflow.com/a/67179064/1847899</a></p>\n<p><strong>Using Stream</strong></p>\n<pre><code>private static void copyFileUsingStream(File source, File dest) throws IOException {\n    InputStream is = null;\n    OutputStream os = null;\n    try {\n        is = new FileInputStream(source);\n        os = new FileOutputStream(dest);\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = is.read(buffer)) &gt; 0) {\n            os.write(buffer, 0, length);\n        }\n    } finally {\n        is.close();\n        os.close();\n    }\n}\n</code></pre>\n<p><strong>Using Channel</strong></p>\n<pre><code>private static void copyFileUsingChannel(File source, File dest) throws IOException {\n    FileChannel sourceChannel = null;\n    FileChannel destChannel = null;\n    try {\n        sourceChannel = new FileInputStream(source).getChannel();\n        destChannel = new FileOutputStream(dest).getChannel();\n        destChannel.transferFrom(sourceChannel, 0, sourceChannel.size());\n       }finally{\n           sourceChannel.close();\n           destChannel.close();\n       }\n}\n</code></pre>\n<p><strong>Using Apache Commons IO lib:</strong></p>\n<pre><code>private static void copyFileUsingApacheCommonsIO(File source, File dest) throws IOException {\n    FileUtils.copyFile(source, dest);\n}\n</code></pre>\n<p><strong>Using Java SE 7 Files class:</strong></p>\n<pre><code>private static void copyFileUsingJava7Files(File source, File dest) throws IOException {\n    Files.copy(source.toPath(), dest.toPath());\n}\n</code></pre>\n<p><strong>Or try Googles Guava  :</strong></p>\n<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">https://github.com/google/guava</a></p>\n<p>docs:\n<a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/io/Files.html\" rel=\"noreferrer\">https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/io/Files.html</a></p>\n"},{"tags":[],"owner":{"account_id":8601786,"reputation":299,"user_id":6443130,"display_name":"Shinwar ismail"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546692269,"creation_date":1546692269,"answer_id":54052132,"question_id":16433915,"body_markdown":"Files.exists()\r\n\r\nFiles.createDirectory()\r\n\r\nFiles.copy()\r\n\r\nOverwriting Existing Files: \r\nFiles.move()  \r\n\r\nFiles.delete()\r\n\r\nFiles.walkFileTree()\r\n[enter link description here][1]\r\n    \r\n\r\n  [1]: http://tutorials.jenkov.com/java-nio/files.html#files-copy","title":"How to copy file from one location to another location?","body":"<p>Files.exists()</p>\n\n<p>Files.createDirectory()</p>\n\n<p>Files.copy()</p>\n\n<p>Overwriting Existing Files: \nFiles.move()  </p>\n\n<p>Files.delete()</p>\n\n<p>Files.walkFileTree()\n<a href=\"http://tutorials.jenkov.com/java-nio/files.html#files-copy\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":11691464,"reputation":59,"user_id":8559630,"display_name":"S.Sarkar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1549371474,"creation_date":1549366395,"answer_id":54533477,"question_id":16433915,"body_markdown":"Copy a file from one location to another location means,need to copy the whole content to another location.`Files.copy(Path source, Path target, CopyOption... options) throws IOException` this method expects source location which is original file location and target location which is a new folder location with destination same type file(as original).\r\nEither Target location needs to exist in our system otherwise we need to create a folder location and then in that folder location we need to create a file with the same name as original filename.Then using copy function we can easily copy a file from one location to other.\r\n\r\n   \r\n\r\n   \r\n\r\n     public static void main(String[] args) throws IOException {\r\n            \t\tString destFolderPath = &quot;D:/TestFile/abc&quot;;\r\n            \t\tString fileName = &quot;pqr.xlsx&quot;;\r\n            \t\tString sourceFilePath= &quot;D:/TestFile/xyz.xlsx&quot;;\r\n            \t\tFile f = new File(destFolderPath);\r\n            \t\tif(f.mkdir()){\r\n            \t\t\tSystem.out.println(&quot;Directory created!!!!&quot;);\r\n            \t\t}\r\n            \t\telse {\r\n            \t\t\tSystem.out.println(&quot;Directory Exists!!!!&quot;);\r\n            \t\t}\r\n            \t\tf= new File(destFolderPath,fileName);\r\n            \t\tif(f.createNewFile())\t{\r\n            \t\t\t\r\n            \t\t\tSystem.out.println(&quot;File Created!!!!&quot;);\r\n            \t\t}\telse {\r\n            \t\t\tSystem.out.println(&quot;File exists!!!!&quot;);\r\n            \t\t}\r\n            \t\t\t\t\r\n            \t\tFiles.copy(Paths.get(sourceFilePath), Paths.get(destFolderPath, fileName),REPLACE_EXISTING);\r\n            \t\tSystem.out.println(&quot;Copy done!!!!!!!!!!!!!!&quot;);\r\n            \t\t\t\t\r\n            \r\n            \t}","title":"How to copy file from one location to another location?","body":"<p>Copy a file from one location to another location means,need to copy the whole content to another location.<code>Files.copy(Path source, Path target, CopyOption... options) throws IOException</code> this method expects source location which is original file location and target location which is a new folder location with destination same type file(as original).\nEither Target location needs to exist in our system otherwise we need to create a folder location and then in that folder location we need to create a file with the same name as original filename.Then using copy function we can easily copy a file from one location to other.</p>\n\n<pre><code> public static void main(String[] args) throws IOException {\n                String destFolderPath = \"D:/TestFile/abc\";\n                String fileName = \"pqr.xlsx\";\n                String sourceFilePath= \"D:/TestFile/xyz.xlsx\";\n                File f = new File(destFolderPath);\n                if(f.mkdir()){\n                    System.out.println(\"Directory created!!!!\");\n                }\n                else {\n                    System.out.println(\"Directory Exists!!!!\");\n                }\n                f= new File(destFolderPath,fileName);\n                if(f.createNewFile())   {\n\n                    System.out.println(\"File Created!!!!\");\n                }   else {\n                    System.out.println(\"File exists!!!!\");\n                }\n\n                Files.copy(Paths.get(sourceFilePath), Paths.get(destFolderPath, fileName),REPLACE_EXISTING);\n                System.out.println(\"Copy done!!!!!!!!!!!!!!\");\n\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618925521,"creation_date":1618922112,"answer_id":67179064,"question_id":16433915,"body_markdown":"You can do it with the **Java 8 Streaming API**, **PrintWriter** and the **Files API**\r\n\r\n\r\n    try (PrintWriter pw = new PrintWriter(new File(&quot;destination-path&quot;), StandardCharsets.UTF_8)) {\r\n        Files.readAllLines(Path.of(&quot;src/test/resources/source-file.something&quot;), StandardCharsets.UTF_8)\r\n             .forEach(pw::println);\r\n    }\r\n\r\nIf you want to **modify the content on-the-fly while copying**, check out this link for the **extended example** [https://overflowed.dev/blog/copy-file-and-modify-with-java-streams/][1]\r\n\r\n\r\n  [1]: https://overflowed.dev/blog/copy-file-and-modify-with-java-streams/","title":"How to copy file from one location to another location?","body":"<p>You can do it with the <strong>Java 8 Streaming API</strong>, <strong>PrintWriter</strong> and the <strong>Files API</strong></p>\n<pre><code>try (PrintWriter pw = new PrintWriter(new File(&quot;destination-path&quot;), StandardCharsets.UTF_8)) {\n    Files.readAllLines(Path.of(&quot;src/test/resources/source-file.something&quot;), StandardCharsets.UTF_8)\n         .forEach(pw::println);\n}\n</code></pre>\n<p>If you want to <strong>modify the content on-the-fly while copying</strong>, check out this link for the <strong>extended example</strong> <a href=\"https://overflowed.dev/blog/copy-file-and-modify-with-java-streams/\" rel=\"nofollow noreferrer\">https://overflowed.dev/blog/copy-file-and-modify-with-java-streams/</a></p>\n"},{"tags":[],"owner":{"account_id":24184543,"reputation":61,"user_id":18144670,"display_name":"The_Programming_Taco_Noob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644427671,"creation_date":1644427136,"answer_id":71053956,"question_id":16433915,"body_markdown":"I modified one of the answers to make it a bit more efficient.\r\n\r\n    public void copy(){\r\n        InputStream in = null;\r\n        try {\r\n            in = new FileInputStream(Files);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            OutputStream out = new FileOutputStream();\r\n            try {\r\n                // Transfer bytes from in to out\r\n                byte[] buf = new byte[1024];\r\n                while (true) {\r\n                    int len = 0;\r\n                    try {\r\n                        if (!((len = in.read(buf)) &gt; 0)) break;\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    try {\r\n                        out.write(buf, 0, len);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            } finally {\r\n                try {\r\n                    out.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } finally {\r\n            try {\r\n                in.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void moveFile() {\r\n        copy();\r\n        File dir = getFilesDir();\r\n        File file = new File(dir, &quot;my_filename&quot;);\r\n        boolean deleted = file.delete();\r\n    }","title":"How to copy file from one location to another location?","body":"<p>I modified one of the answers to make it a bit more efficient.</p>\n<pre><code>public void copy(){\n    InputStream in = null;\n    try {\n        in = new FileInputStream(Files);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    try {\n        OutputStream out = new FileOutputStream();\n        try {\n            // Transfer bytes from in to out\n            byte[] buf = new byte[1024];\n            while (true) {\n                int len = 0;\n                try {\n                    if (!((len = in.read(buf)) &gt; 0)) break;\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                try {\n                    out.write(buf, 0, len);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        } finally {\n            try {\n                out.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    } finally {\n        try {\n            in.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nprivate void moveFile() {\n    copy();\n    File dir = getFilesDir();\n    File file = new File(dir, &quot;my_filename&quot;);\n    boolean deleted = file.delete();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7749923,"reputation":563,"user_id":5866166,"accept_rate":60,"display_name":"Pavan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658902467,"creation_date":1658902467,"answer_id":73133031,"question_id":16433915,"body_markdown":"You can use \r\n\r\n    FileUtils.copy(sourceFile, destinationFile);\r\n\r\n\r\nhttps://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html","title":"How to copy file from one location to another location?","body":"<p>You can use</p>\n<pre><code>FileUtils.copy(sourceFile, destinationFile);\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html</a></p>\n"}],"owner":{"account_id":2073596,"reputation":2693,"user_id":1847560,"accept_rate":40,"display_name":"vijayk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280443,"favorite_count":0,"down_vote_count":3,"up_vote_count":94,"accepted_answer_id":16433947,"answer_count":9,"score":91,"last_activity_date":1658902467,"creation_date":1367993862,"question_id":16433915,"body_markdown":"I want to copy a file from one location to another location in Java. What is the best way to do this?\r\n\r\n---\r\nHere is what I have so far:\r\n\r\n    import java.io.File;\r\n    import java.io.FilenameFilter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    public class TestArrayList {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFile f = new File(\r\n                &quot;D:\\\\CBSE_Demo\\\\Demo_original\\\\fscommand\\\\contentplayer\\\\config&quot;);\r\n    \t\tList&lt;String&gt;temp=new ArrayList&lt;String&gt;();\r\n    \t\ttemp.add(0, &quot;N33&quot;);\r\n    \t\ttemp.add(1, &quot;N1417&quot;);\r\n    \t\ttemp.add(2, &quot;N331&quot;);\r\n    \t\tFile[] matchingFiles = null;\r\n    \t\tfor(final String temp1: temp){\r\n    \t\t\tmatchingFiles = f.listFiles(new FilenameFilter() {\r\n    \t\t\t    public boolean accept(File dir, String name) {\r\n    \t\t\t        return name.startsWith(temp1);\r\n    \t\t\t    }\r\n    \t\t\t});\r\n    \t\t\tSystem.out.println(&quot;size&gt;&gt;--&quot;+matchingFiles.length);\r\n\r\n    \t\t}\r\n        }\r\n    }\r\n\r\n\r\nThis does not copy the file, what is the best way to do this?","title":"How to copy file from one location to another location?","body":"<p>I want to copy a file from one location to another location in Java. What is the best way to do this?</p>\n\n<hr>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FilenameFilter;\nimport java.util.ArrayList;\nimport java.util.List;\npublic class TestArrayList {\n    public static void main(String[] args) {\n        File f = new File(\n            \"D:\\\\CBSE_Demo\\\\Demo_original\\\\fscommand\\\\contentplayer\\\\config\");\n        List&lt;String&gt;temp=new ArrayList&lt;String&gt;();\n        temp.add(0, \"N33\");\n        temp.add(1, \"N1417\");\n        temp.add(2, \"N331\");\n        File[] matchingFiles = null;\n        for(final String temp1: temp){\n            matchingFiles = f.listFiles(new FilenameFilter() {\n                public boolean accept(File dir, String name) {\n                    return name.startsWith(temp1);\n                }\n            });\n            System.out.println(\"size&gt;&gt;--\"+matchingFiles.length);\n\n        }\n    }\n}\n</code></pre>\n\n<p>This does not copy the file, what is the best way to do this?</p>\n"},{"tags":["java","dynamic","proxy","rpc"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1658887560,"post_id":73131425,"comment_id":129161531,"body_markdown":"Why don&#39;t you implement real RPC with REST API for instance. Your code here is using reflection. It is not a remote call you are doing.","body":"Why don&#39;t you implement real RPC with REST API for instance. Your code here is using reflection. It is not a remote call you are doing."},{"owner":{"account_id":25903680,"reputation":1,"user_id":19629099,"display_name":"Andyye"},"score":1,"creation_date":1658892105,"post_id":73131425,"comment_id":129162242,"body_markdown":"Thank you. I don&#39;t know much about RPC., I&#39;ll learn the REST API you said","body":"Thank you. I don&#39;t know much about RPC., I&#39;ll learn the REST API you said"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658893116,"creation_date":1658893116,"answer_id":73132000,"question_id":73131425,"body_markdown":"If you want to implement [RPC][1] you should read on some popular implementation such as `SOAP`, `RESTful`, `gRPC` or `GraphQL`. But I will recommand you to start with RESTful.\r\n\r\nI will suggest you this learning path:\r\n\r\n 1. [Client/Server][2] architecture\r\n 2. [Http protocol][3]\r\n 3. [RESTful architecture][4]\r\n 4. Start [Spring Boot][5] with RESTful\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Remote_procedure_call\r\n  [2]: https://www.youtube.com/watch?v=L5BlpPU_muY\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview\r\n  [4]: https://www.codecademy.com/article/what-is-rest\r\n  [5]: https://spring.io/guides/tutorials/rest/","title":"Looking for a way to dynamically instantiate classes and call their methods","body":"<p>If you want to implement <a href=\"https://en.wikipedia.org/wiki/Remote_procedure_call\" rel=\"nofollow noreferrer\">RPC</a> you should read on some popular implementation such as <code>SOAP</code>, <code>RESTful</code>, <code>gRPC</code> or <code>GraphQL</code>. But I will recommand you to start with RESTful.</p>\n<p>I will suggest you this learning path:</p>\n<ol>\n<li><a href=\"https://www.youtube.com/watch?v=L5BlpPU_muY\" rel=\"nofollow noreferrer\">Client/Server</a> architecture</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview\" rel=\"nofollow noreferrer\">Http protocol</a></li>\n<li><a href=\"https://www.codecademy.com/article/what-is-rest\" rel=\"nofollow noreferrer\">RESTful architecture</a></li>\n<li>Start <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">Spring Boot</a> with RESTful</li>\n</ol>\n"}],"owner":{"account_id":25903680,"reputation":1,"user_id":19629099,"display_name":"Andyye"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658902454,"creation_date":1658886320,"question_id":73131425,"body_markdown":"1.Message.java this is javabean\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class RpcMessage {\r\n    String clazz;\r\n    String method;\r\n    List args;\r\n    // get  set method\r\n    public String getClazz() {\r\n        return clazz;\r\n    }\r\n\r\n    public String getMethod() {\r\n        return method;\r\n    }\r\n    public List getArgs() {\r\n        return args;\r\n    }\r\n}\r\n```\r\n2. have some classthese classes and the methods in the classes are what my remote end point may need to call\r\n```\r\nAA.java\r\n   public void aa(){xxx}\r\n   public int  bb(int a, int b)(return a+b)\r\nBB.java\r\n   public boolean isCCC(){return true}\r\n   public String getMsg(String a, String b, int type){return &quot;example&quot;}\r\nCC.java\r\n....\r\n```\r\n3. If the processing logic is as follows\r\n```\r\npublic class MyTest {\r\n    public static void main(String[] args) throws Exception {\r\n        //1. maybe http json string is\r\n        String str = &quot;{\\&quot;clazz\\&quot;:\\&quot;BB\\&quot;,\\&quot;method\\&quot;:\\&quot;getMsg\\&quot;,\\&quot;args\\&quot;:[\\&quot;args1\\&quot;,\\&quot;args2\\&quot;,5]}&quot;;\r\n\r\n        //2. I use jackson convert json string to java class\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Message rpcMsg = mapper.readValue(str, Message.class);\r\n\r\n        //3. reflect\r\n        Class clazz = Class.forName(rpcMsg.getClass());\r\n        Object obj = clazz.newInstance();\r\n\r\n        //Here is my question, how is the parameter type here generated and passed?\r\n        **Method method = clazz.getMethod(&quot;clickText&quot;, ???);**\r\n\r\n        //There is also a problem with the entry here\r\n        // public Object invoke(Object obj, Object... args) \r\n        method.invoke(obj, **rpcMsg.getArgs()**);\r\n     \r\n    }\r\n}\r\n```\r\nGuys, is there any way to solve my needs?\r\n\r\n1. All sent by the remote end are json strings\r\n2. The class and method I want to call may be arbitrary\r\n\r\n\r\n","title":"Looking for a way to dynamically instantiate classes and call their methods","body":"<p>1.Message.java this is javabean</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class RpcMessage {\n    String clazz;\n    String method;\n    List args;\n    // get  set method\n    public String getClazz() {\n        return clazz;\n    }\n\n    public String getMethod() {\n        return method;\n    }\n    public List getArgs() {\n        return args;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>have some classthese classes and the methods in the classes are what my remote end point may need to call</li>\n</ol>\n<pre><code>AA.java\n   public void aa(){xxx}\n   public int  bb(int a, int b)(return a+b)\nBB.java\n   public boolean isCCC(){return true}\n   public String getMsg(String a, String b, int type){return &quot;example&quot;}\nCC.java\n....\n</code></pre>\n<ol start=\"3\">\n<li>If the processing logic is as follows</li>\n</ol>\n<pre><code>public class MyTest {\n    public static void main(String[] args) throws Exception {\n        //1. maybe http json string is\n        String str = &quot;{\\&quot;clazz\\&quot;:\\&quot;BB\\&quot;,\\&quot;method\\&quot;:\\&quot;getMsg\\&quot;,\\&quot;args\\&quot;:[\\&quot;args1\\&quot;,\\&quot;args2\\&quot;,5]}&quot;;\n\n        //2. I use jackson convert json string to java class\n        ObjectMapper mapper = new ObjectMapper();\n        Message rpcMsg = mapper.readValue(str, Message.class);\n\n        //3. reflect\n        Class clazz = Class.forName(rpcMsg.getClass());\n        Object obj = clazz.newInstance();\n\n        //Here is my question, how is the parameter type here generated and passed?\n        **Method method = clazz.getMethod(&quot;clickText&quot;, ???);**\n\n        //There is also a problem with the entry here\n        // public Object invoke(Object obj, Object... args) \n        method.invoke(obj, **rpcMsg.getArgs()**);\n     \n    }\n}\n</code></pre>\n<p>Guys, is there any way to solve my needs?</p>\n<ol>\n<li>All sent by the remote end are json strings</li>\n<li>The class and method I want to call may be arbitrary</li>\n</ol>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":1868145,"reputation":2268,"user_id":1691152,"display_name":"yurloc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658734735,"creation_date":1658734735,"answer_id":73105546,"question_id":73105237,"body_markdown":"&gt; The problem is that the algorithm chooses the transport that comes first and meets the given restrictions.\r\n\r\nThis is how the Construction Heuristic algorithm works. Its goal is to **quickly** find a good enough solution that can be further optimized in the next phase called the Local Search.\r\n\r\nNow, if you consider assigning 6 employees to the transport with capacity 6 better than the transport with capacity 20, you have to provide incentives for OptaPlanner to make that improvement.\r\n\r\nThese incentives are expressed in the form of constraints. In this case you could define a constraint that adds a soft score penalty for the unused capacity on each used transport.\r\n\r\nUsing the transport of size 20 could result in the score of `0hard/-14soft` whereas using the transport of size 6 would result in `0hard/0soft`, which is better.","title":"How to choose a vehicle that can accommodate the specified number of employees with OptaPlanner?","body":"<blockquote>\n<p>The problem is that the algorithm chooses the transport that comes first and meets the given restrictions.</p>\n</blockquote>\n<p>This is how the Construction Heuristic algorithm works. Its goal is to <strong>quickly</strong> find a good enough solution that can be further optimized in the next phase called the Local Search.</p>\n<p>Now, if you consider assigning 6 employees to the transport with capacity 6 better than the transport with capacity 20, you have to provide incentives for OptaPlanner to make that improvement.</p>\n<p>These incentives are expressed in the form of constraints. In this case you could define a constraint that adds a soft score penalty for the unused capacity on each used transport.</p>\n<p>Using the transport of size 20 could result in the score of <code>0hard/-14soft</code> whereas using the transport of size 6 would result in <code>0hard/0soft</code>, which is better.</p>\n"},{"tags":[],"owner":{"account_id":25648217,"reputation":65,"user_id":19415969,"display_name":"Scott A. Levinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658901789,"creation_date":1658764384,"answer_id":73112079,"question_id":73105237,"body_markdown":"Based on the answer of [yurloc][1] we can add 2 constraints:\r\n* The first constraint is responsible for the maximum number of seats in transport.\r\n* The second constraint is responsible for the optimal placement of employees. \r\n\r\n```java\r\nprivate Constraint transportMaxCapacity(ConstraintFactory factory) {\r\nreturn factory.forEach(Transport.class)\r\n        .filter(transport -&gt; transport.getEmployees().size() &gt; transport.getCapacity())\r\n        .penalizeLong(&quot;max capacity conflict&quot;,\r\n                HardMediumSoftLongScore.ONE_HARD, transport -&gt; transport.getEmployees().size() - transport.getCapacity());\r\n}\r\n\r\nprivate Constraint transportCapacity(ConstraintFactory factory) {\r\nreturn factory.forEach(Transport.class)\r\n        .filter(transport -&gt; !transport.getEmployees().isEmpty())\r\n        .filter(transport -&gt; transport.getEmployees().size() &lt; transport.getCapacity())\r\n        .penalizeLong(&quot;optimal placement conflict&quot;,\r\n                HardMediumSoftLongScore.ONE_SOFT, transport -&gt; transport.getCapacity() - transport.getInspectorList().size());\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1691152/yurloc","title":"How to choose a vehicle that can accommodate the specified number of employees with OptaPlanner?","body":"<p>Based on the answer of <a href=\"https://stackoverflow.com/users/1691152/yurloc\">yurloc</a> we can add 2 constraints:</p>\n<ul>\n<li>The first constraint is responsible for the maximum number of seats in transport.</li>\n<li>The second constraint is responsible for the optimal placement of employees.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private Constraint transportMaxCapacity(ConstraintFactory factory) {\nreturn factory.forEach(Transport.class)\n        .filter(transport -&gt; transport.getEmployees().size() &gt; transport.getCapacity())\n        .penalizeLong(&quot;max capacity conflict&quot;,\n                HardMediumSoftLongScore.ONE_HARD, transport -&gt; transport.getEmployees().size() - transport.getCapacity());\n}\n\nprivate Constraint transportCapacity(ConstraintFactory factory) {\nreturn factory.forEach(Transport.class)\n        .filter(transport -&gt; !transport.getEmployees().isEmpty())\n        .filter(transport -&gt; transport.getEmployees().size() &lt; transport.getCapacity())\n        .penalizeLong(&quot;optimal placement conflict&quot;,\n                HardMediumSoftLongScore.ONE_SOFT, transport -&gt; transport.getCapacity() - transport.getInspectorList().size());\n}\n</code></pre>\n"}],"owner":{"account_id":25648217,"reputation":65,"user_id":19415969,"display_name":"Scott A. Levinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73105546,"answer_count":2,"score":1,"last_activity_date":1658901789,"creation_date":1658733085,"question_id":73105237,"body_markdown":"How to choose a vehicle that can accommodate the specified number of employees with OptaPlanner?\r\n\r\nEmployee:\r\n```java\r\npublic class Employee {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n\r\n    private String name;\r\n}\r\n\r\n```\r\nTransport (Vehicle)\r\n```java\r\n@PlanningEntity\r\npublic class Transport {\r\n\r\n    @PlanningId\r\n    private Long id;\r\n    private Integer capacity;\r\n\r\n    @PlanningListVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\r\n    private List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n}\r\n\r\n```\r\n\r\nSolution \r\n```java\r\n@PlanningSolution\r\npublic class Solution {\r\n\r\n    @PlanningEntityCollectionProperty\r\n    private List&lt;Transport&gt; transports;\r\n\r\n    @ProblemFactCollectionProperty\r\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\r\n    private List&lt;Employee&gt; employees;\r\n\r\n    @PlanningScore\r\n    private HardMediumSoftLongScore score;\r\n\r\n    public Plan(List&lt;Transport&gt; transports, List&lt;Employee&gt; employees) {\r\n        this.transports = transports;\r\n        this.employees = employees;\r\n    }\r\n}\r\n```\r\n\r\nConstraint\r\n```java\r\nprivate Constraint transportCapacity(ConstraintFactory factory) {\r\n        return factory.forEach(Transport.class)\r\n                      .filter(transport -&gt; transport.getEmployees().size() &gt;   transport.getCapacity()).penalizeLong(&quot;capacity&quot;,\r\n                    HardMediumSoftLongScore.ONE_HARD, transport -&gt; transport.getEmployees().size() - transport.getCapacity());\r\n}\r\n```\r\n\r\nGiven:\r\n* transports with capacity - 20, 4, 6, 2\r\n* employees - 6\r\n\r\nThe problem is that the algorithm chooses the transport that comes first and meets the given restrictions.\r\nFor example, for solving this problem algorithm chooses transport with capacity 20 instead of 6 which is more optimal.\r\n\r\nHow to solve this problem correctly?\r\nThanks in advance!\r\n","title":"How to choose a vehicle that can accommodate the specified number of employees with OptaPlanner?","body":"<p>How to choose a vehicle that can accommodate the specified number of employees with OptaPlanner?</p>\n<p>Employee:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n\n    @PlanningId\n    private Long id;\n\n    private String name;\n}\n\n</code></pre>\n<p>Transport (Vehicle)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PlanningEntity\npublic class Transport {\n\n    @PlanningId\n    private Long id;\n    private Integer capacity;\n\n    @PlanningListVariable(valueRangeProviderRefs = &quot;employeeRange&quot;)\n    private List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\n}\n\n</code></pre>\n<p>Solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PlanningSolution\npublic class Solution {\n\n    @PlanningEntityCollectionProperty\n    private List&lt;Transport&gt; transports;\n\n    @ProblemFactCollectionProperty\n    @ValueRangeProvider(id = &quot;employeeRange&quot;)\n    private List&lt;Employee&gt; employees;\n\n    @PlanningScore\n    private HardMediumSoftLongScore score;\n\n    public Plan(List&lt;Transport&gt; transports, List&lt;Employee&gt; employees) {\n        this.transports = transports;\n        this.employees = employees;\n    }\n}\n</code></pre>\n<p>Constraint</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Constraint transportCapacity(ConstraintFactory factory) {\n        return factory.forEach(Transport.class)\n                      .filter(transport -&gt; transport.getEmployees().size() &gt;   transport.getCapacity()).penalizeLong(&quot;capacity&quot;,\n                    HardMediumSoftLongScore.ONE_HARD, transport -&gt; transport.getEmployees().size() - transport.getCapacity());\n}\n</code></pre>\n<p>Given:</p>\n<ul>\n<li>transports with capacity - 20, 4, 6, 2</li>\n<li>employees - 6</li>\n</ul>\n<p>The problem is that the algorithm chooses the transport that comes first and meets the given restrictions.\nFor example, for solving this problem algorithm chooses transport with capacity 20 instead of 6 which is more optimal.</p>\n<p>How to solve this problem correctly?\nThanks in advance!</p>\n"},{"tags":["java","inputstream","java-io"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1312452765,"post_id":6939566,"comment_id":8270510,"body_markdown":"Please show some of the code in fetchHeaders and processContentRows. For example, does fetchHeaders actually keep reading until the end of the data, instead of stopping at the end of the headers?","body":"Please show some of the code in fetchHeaders and processContentRows. For example, does fetchHeaders actually keep reading until the end of the data, instead of stopping at the end of the headers?"},{"owner":{"account_id":285929,"reputation":1209,"user_id":584880,"accept_rate":17,"display_name":"maverickm"},"score":0,"creation_date":1312454554,"post_id":6939566,"comment_id":8270931,"body_markdown":"Nope. fetchHeaders() only reads first line of CSV containing Headers. The statement is br.readLine() and its not in a loop.","body":"Nope. fetchHeaders() only reads first line of CSV containing Headers. The statement is br.readLine() and its not in a loop."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1312455830,"post_id":6939566,"comment_id":8271239,"body_markdown":"Well, can you come up with a short but complete program which demonstrates the problem?","body":"Well, can you come up with a short but complete program which demonstrates the problem?"},{"owner":{"account_id":285929,"reputation":1209,"user_id":584880,"accept_rate":17,"display_name":"maverickm"},"score":0,"creation_date":1312459607,"post_id":6939566,"comment_id":8272342,"body_markdown":"Hey Jon, I&#39;ve edited my post with sample program. Can you check out now?","body":"Hey Jon, I&#39;ve edited my post with sample program. Can you check out now?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312452753,"creation_date":1312452753,"answer_id":6939602,"question_id":6939566,"body_markdown":"You&#39;re not doing anything wrong. Just make sure that the method opening a stream/reader also closes it, in a finally block.","title":"Reading single InputStream from multiple methods","body":"<p>You're not doing anything wrong. Just make sure that the method opening a stream/reader also closes it, in a finally block.</p>\n"},{"tags":[],"owner":{"account_id":248722,"reputation":2399,"user_id":524289,"accept_rate":75,"display_name":"Ilya Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312457150,"creation_date":1312457150,"answer_id":6940569,"question_id":6939566,"body_markdown":"If you need a BufferedReader, I think you need to create it in in main method:\r\n\r\n    main() {\r\n      FileInputStream fis = new FileInputStream(&quot;FileName.CSV&quot;);\r\n      BufferedInputStream bis = new BufferedInputStream(fis);\r\n      InputStreamReader isr = new InputStreamReader(bis);\r\n      BufferedReader br = new BufferedReader(isr);\r\n    \r\n      processCSV(br);\r\n    }\r\n    \r\n    processCSV(Reader isr) {\r\n      fetchHeaders(isr);\r\n      processContentRows(isr);\r\n    }\r\n    \r\n    fetchHeaders(Reader isr) {\r\n      //Use BufferedReader to retrieve first line of CSV\r\n      //Even tried mark() and reset() here\r\n    }\r\n    \r\n    processContentRows(Reader isr) {\r\n      //Cannot read the values, fetches null from InputStream :(\r\n    }\r\n\r\n","title":"Reading single InputStream from multiple methods","body":"<p>If you need a BufferedReader, I think you need to create it in in main method:</p>\n\n<pre><code>main() {\n  FileInputStream fis = new FileInputStream(\"FileName.CSV\");\n  BufferedInputStream bis = new BufferedInputStream(fis);\n  InputStreamReader isr = new InputStreamReader(bis);\n  BufferedReader br = new BufferedReader(isr);\n\n  processCSV(br);\n}\n\nprocessCSV(Reader isr) {\n  fetchHeaders(isr);\n  processContentRows(isr);\n}\n\nfetchHeaders(Reader isr) {\n  //Use BufferedReader to retrieve first line of CSV\n  //Even tried mark() and reset() here\n}\n\nprocessContentRows(Reader isr) {\n  //Cannot read the values, fetches null from InputStream :(\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1312461091,"creation_date":1312461091,"answer_id":6941441,"question_id":6939566,"body_markdown":"The problem is in creating two `BufferedReader`s on top of the same `Reader`. When you read data from `BufferedReader`, it&#39;s likely to read more than the data it returns, into its buffer (hence the name). In other words, even though you&#39;ve only read a single line from the `BufferedReader`, the `InputStreamReader` may have had a lot more data read from it - so if you read again *from that `InputStreamReader`* then you&#39;ll miss that data. The data has effectively been sucked *from* the `InputStreamReader` *to* the `BufferedReader`, so the only way of getting it out to client code is to read it from that `BufferedReader`.\r\n\r\nIn other words, your claim that:\r\n\r\n&gt; Nope. fetchHeaders() only reads first line of CSV containing Headers.\r\n\r\nis incorrect. It only *uses* that much data, but it *reads* more from the `InputStreamReader`.\r\n\r\nAs Ilya said, you should only create one `BufferedReader` on top of the original `InputStreamReader`, and pass that into both methods.\r\n\r\n`fetchHeaders` can then use that `BufferedReader` to read a line, and `processContentRows` can do what it likes with the `BufferedReader` at that point - it&#39;s just a `Reader` as far as it needs to know.\r\n\r\nSo to modify Ilya&#39;s example slightly:\r\n\r\n    public static void main(String[] args) {\r\n      FileInputStream fis = new FileInputStream(&quot;FileName.CSV&quot;);\r\n      BufferedInputStream bis = new BufferedInputStream(fis);\r\n      InputStreamReader isr = new InputStreamReader(bis);\r\n      BufferedReader br = new BufferedReader(isr);\r\n    \r\n      processCSV(br);\r\n    }\r\n    \r\n    private static void processCSV(BufferedReader reader) {\r\n      fetchHeaders(reader);\r\n      processContentRows(reader);\r\n    }\r\n    \r\n    private static void fetchHeaders(BufferedReader reader) {\r\n       // Use reader.readLine() here directly... do *not* create\r\n       // another BufferedReader on top.\r\n    }\r\n    \r\n    private static void processContentRows(Reader reader) {\r\n      // This could be declared to take a BufferedReader if you like,\r\n      // but it doesn&#39;t matter much.\r\n    }","title":"Reading single InputStream from multiple methods","body":"<p>The problem is in creating two <code>BufferedReader</code>s on top of the same <code>Reader</code>. When you read data from <code>BufferedReader</code>, it's likely to read more than the data it returns, into its buffer (hence the name). In other words, even though you've only read a single line from the <code>BufferedReader</code>, the <code>InputStreamReader</code> may have had a lot more data read from it - so if you read again <em>from that <code>InputStreamReader</code></em> then you'll miss that data. The data has effectively been sucked <em>from</em> the <code>InputStreamReader</code> <em>to</em> the <code>BufferedReader</code>, so the only way of getting it out to client code is to read it from that <code>BufferedReader</code>.</p>\n\n<p>In other words, your claim that:</p>\n\n<blockquote>\n  <p>Nope. fetchHeaders() only reads first line of CSV containing Headers.</p>\n</blockquote>\n\n<p>is incorrect. It only <em>uses</em> that much data, but it <em>reads</em> more from the <code>InputStreamReader</code>.</p>\n\n<p>As Ilya said, you should only create one <code>BufferedReader</code> on top of the original <code>InputStreamReader</code>, and pass that into both methods.</p>\n\n<p><code>fetchHeaders</code> can then use that <code>BufferedReader</code> to read a line, and <code>processContentRows</code> can do what it likes with the <code>BufferedReader</code> at that point - it's just a <code>Reader</code> as far as it needs to know.</p>\n\n<p>So to modify Ilya's example slightly:</p>\n\n<pre><code>public static void main(String[] args) {\n  FileInputStream fis = new FileInputStream(\"FileName.CSV\");\n  BufferedInputStream bis = new BufferedInputStream(fis);\n  InputStreamReader isr = new InputStreamReader(bis);\n  BufferedReader br = new BufferedReader(isr);\n\n  processCSV(br);\n}\n\nprivate static void processCSV(BufferedReader reader) {\n  fetchHeaders(reader);\n  processContentRows(reader);\n}\n\nprivate static void fetchHeaders(BufferedReader reader) {\n   // Use reader.readLine() here directly... do *not* create\n   // another BufferedReader on top.\n}\n\nprivate static void processContentRows(Reader reader) {\n  // This could be declared to take a BufferedReader if you like,\n  // but it doesn't matter much.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25615605,"reputation":1,"user_id":19388260,"display_name":"Cherry Yap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658901729,"creation_date":1658553336,"answer_id":73088201,"question_id":6939566,"body_markdown":"You can do this by using byte\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String str = &quot;01 Lorem ipsum\\n 02 dolor sit\\n 03 amet\\n&quot;;\r\n        InputStream is = new ByteArrayInputStream(str.getBytes(&quot;UTF-8&quot;));\r\n        \r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        byte[] buffer = new byte[1024];\r\n        int len;\r\n        while ((len = is.read(buffer)) &gt; -1) {\r\n            outputStream.write(buffer, 0, len);\r\n        }\r\n        outputStream.flush();\r\n        InputStream in1 = new ByteArrayInputStream(outputStream.toByteArray());\r\n        InputStream in2 = new ByteArrayInputStream(outputStream.toByteArray());\r\n        \r\n      InputStreamReader isr1 = new InputStreamReader(in1);\r\n      BufferedReader br1 = new BufferedReader(isr1);\r\n      \r\n      InputStreamReader isr2 = new InputStreamReader(in2);\r\n      BufferedReader br2 = new BufferedReader(isr2);\r\n\r\n        System.out.println(&quot;One line from br1:&quot;);\r\n        System.out.println(br1.readLine());\r\n        System.out.println();\r\n        \r\n        System.out.println(&quot;One line from br2:&quot;);\r\n        System.out.println(br2.readLine());\r\n        System.out.println(br2.readLine());\r\n        System.out.println();\r\n    }","title":"Reading single InputStream from multiple methods","body":"<p>You can do this by using byte</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String str = &quot;01 Lorem ipsum\\n 02 dolor sit\\n 03 amet\\n&quot;;\n    InputStream is = new ByteArrayInputStream(str.getBytes(&quot;UTF-8&quot;));\n    \n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    byte[] buffer = new byte[1024];\n    int len;\n    while ((len = is.read(buffer)) &gt; -1) {\n        outputStream.write(buffer, 0, len);\n    }\n    outputStream.flush();\n    InputStream in1 = new ByteArrayInputStream(outputStream.toByteArray());\n    InputStream in2 = new ByteArrayInputStream(outputStream.toByteArray());\n    \n  InputStreamReader isr1 = new InputStreamReader(in1);\n  BufferedReader br1 = new BufferedReader(isr1);\n  \n  InputStreamReader isr2 = new InputStreamReader(in2);\n  BufferedReader br2 = new BufferedReader(isr2);\n\n    System.out.println(&quot;One line from br1:&quot;);\n    System.out.println(br1.readLine());\n    System.out.println();\n    \n    System.out.println(&quot;One line from br2:&quot;);\n    System.out.println(br2.readLine());\n    System.out.println(br2.readLine());\n    System.out.println();\n}\n</code></pre>\n"}],"owner":{"account_id":285929,"reputation":1209,"user_id":584880,"accept_rate":17,"display_name":"maverickm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6093,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6941441,"answer_count":4,"score":0,"last_activity_date":1658901729,"creation_date":1312452590,"question_id":6939566,"body_markdown":"I have initialized an InputStream in a single method in a class and passing it to next method for processing. The InputStream essentially encapsulates CSV file for processing.\r\n\r\nAnother method calls 2 different methods passing in same InputStream one for retrieving headers and another for processing contents. The structure looks something as given below:\r\n\r\n    main() {\r\n      FileInputStream fis = new FileInputStream(&quot;FileName.CSV&quot;);\r\n      BufferedInputStream bis = new BufferedInputStream(fis);\r\n      InputStreamReader isr = new InputStreamReader(bis);\r\n\r\n      processCSV(isr);\r\n    }\r\n\r\n    processCSV(Reader isr) {\r\n      fetchHeaders(isr);\r\n      processContentRows(isr);\r\n    }\r\n\r\n    fetchHeaders(Reader isr) {\r\n      //Use BufferedReader to retrieve first line of CSV\r\n      //Even tried mark() and reset() here\r\n    }\r\n\r\n    processContentRows(Reader isr) {\r\n      //Cannot read the values, fetches null from InputStream :(\r\n    }\r\n\r\nAm I doing something wrong here? Is there any way I can reuse InputStream across different method calls.\r\n\r\nI am putting up complete program that can mimic the issue below:\r\n\r\n      import java.io.FileInputStream;\r\n      import java.io.BufferedInputStream;\r\n      import java.io.InputStreamReader;\r\n      import java.io.BufferedReader;\r\n    \r\n      public class MarkResetTest\r\n      {\r\n    \tpublic static void main(String a[])\r\n    \t{\r\n    \t\tFileInputStream fis = null;\r\n    \t\tBufferedInputStream bis = null;\r\n    \t\tInputStreamReader isr = null;\r\n    \t\tBufferedReader br = null;\r\n    \t\tBufferedReader br2 = null;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tfis = new FileInputStream(&quot;C:/Test/Customers.csv&quot;);\r\n    \t\t\tbis = new BufferedInputStream(fis);\r\n    \t\t\tisr = new InputStreamReader(bis, &quot;Unicode&quot;);\t\r\n    \t\t\r\n    \t\t\tSystem.out.println(&quot;BR readLine()&quot;);\t\t\r\n    \t\t\r\n    \t\t\tbr = new BufferedReader(isr);\r\n    \t\t\t//System.out.println(br.markSupported());\r\n    \t\t\tbr.mark(1000);\r\n    \t\t\tSystem.out.println(br.readLine());\r\n    \t\t\tbr.reset();\r\n    \t\t\t//System.out.println(br.readLine());\t\t\t\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;BR2 readLine()&quot;);\r\n    \t\t\t\r\n    \t\t\tbr2 = new BufferedReader(isr);\r\n    \t\t\tSystem.out.println(br2.readLine());\r\n    \t\t}\r\n    \t\tcatch(Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Exception::&quot; + e);\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\ttry {\r\n    \t\t\t\tbr.close();\r\n    \t\t\t\tisr.close();\r\n    \t\t\t\tbis.close();\r\n    \t\t\t\tfis.close();\r\n    \t\t\t}\r\n    \t\t\tcatch(Exception e) {\r\n    \t\t\t\tSystem.out.println(&quot;Exception while closing streams :: &quot; + e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n      }","title":"Reading single InputStream from multiple methods","body":"<p>I have initialized an InputStream in a single method in a class and passing it to next method for processing. The InputStream essentially encapsulates CSV file for processing.</p>\n\n<p>Another method calls 2 different methods passing in same InputStream one for retrieving headers and another for processing contents. The structure looks something as given below:</p>\n\n<pre><code>main() {\n  FileInputStream fis = new FileInputStream(\"FileName.CSV\");\n  BufferedInputStream bis = new BufferedInputStream(fis);\n  InputStreamReader isr = new InputStreamReader(bis);\n\n  processCSV(isr);\n}\n\nprocessCSV(Reader isr) {\n  fetchHeaders(isr);\n  processContentRows(isr);\n}\n\nfetchHeaders(Reader isr) {\n  //Use BufferedReader to retrieve first line of CSV\n  //Even tried mark() and reset() here\n}\n\nprocessContentRows(Reader isr) {\n  //Cannot read the values, fetches null from InputStream :(\n}\n</code></pre>\n\n<p>Am I doing something wrong here? Is there any way I can reuse InputStream across different method calls.</p>\n\n<p>I am putting up complete program that can mimic the issue below:</p>\n\n<pre><code>  import java.io.FileInputStream;\n  import java.io.BufferedInputStream;\n  import java.io.InputStreamReader;\n  import java.io.BufferedReader;\n\n  public class MarkResetTest\n  {\n    public static void main(String a[])\n    {\n        FileInputStream fis = null;\n        BufferedInputStream bis = null;\n        InputStreamReader isr = null;\n        BufferedReader br = null;\n        BufferedReader br2 = null;\n\n        try {\n            fis = new FileInputStream(\"C:/Test/Customers.csv\");\n            bis = new BufferedInputStream(fis);\n            isr = new InputStreamReader(bis, \"Unicode\");    \n\n            System.out.println(\"BR readLine()\");        \n\n            br = new BufferedReader(isr);\n            //System.out.println(br.markSupported());\n            br.mark(1000);\n            System.out.println(br.readLine());\n            br.reset();\n            //System.out.println(br.readLine());            \n\n            System.out.println(\"BR2 readLine()\");\n\n            br2 = new BufferedReader(isr);\n            System.out.println(br2.readLine());\n        }\n        catch(Exception e) {\n            System.out.println(\"Exception::\" + e);\n        }\n        finally {\n            try {\n                br.close();\n                isr.close();\n                bis.close();\n                fis.close();\n            }\n            catch(Exception e) {\n                System.out.println(\"Exception while closing streams :: \" + e);\n            }\n        }\n    }\n  }\n</code></pre>\n"},{"tags":["java","android","kotlin","delphi","generics"],"comments":[{"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"score":0,"creation_date":1658901481,"post_id":73120013,"comment_id":129163764,"body_markdown":"This is very likely caused by type erasure. The compiler ensures type safety at compile time and then discards the element type information.","body":"This is very likely caused by type erasure. The compiler ensures type safety at compile time and then discards the element type information."}],"answers":[{"tags":[],"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658901684,"creation_date":1658901684,"answer_id":73132926,"question_id":73120013,"body_markdown":"The generic parameters are only in the Java source code.\r\n\r\nThe Java compiler ensures type safety at compile time and then discards the element type information. This is called [type erasure][1].\r\n\r\nThis is standard behaviour, and your Delphi code may only use the Java code using the plain (non-generic) types.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"Java2OP interface with generic parameters","body":"<p>The generic parameters are only in the Java source code.</p>\n<p>The Java compiler ensures type safety at compile time and then discards the element type information. This is called <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>.</p>\n<p>This is standard behaviour, and your Delphi code may only use the Java code using the plain (non-generic) types.</p>\n"}],"owner":{"account_id":1198865,"reputation":216,"user_id":1169972,"display_name":"dominikkv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73132926,"answer_count":1,"score":1,"last_activity_date":1658901684,"creation_date":1658823990,"question_id":73120013,"body_markdown":"I try to build a Delphi bridge file to access an Android library written in Kotlin. The decompiled .jar has the following declarations:\r\n\r\n``` lang-java\r\npublic interface Function&lt;R&gt; {}\r\n\r\npublic interface Function2&lt;P1, P2, R&gt; extends Function&lt;R&gt; {\r\n    R invoke(P1 var1, P2 var2);\r\n}\r\n\r\npublic final class Unit {\r\n    // snip\r\n}\r\n\r\npublic interface Controller {\r\n    void getNearbyStops(@NotNull Function2&lt;? super List&lt;Stop&gt;, ? super Error, Unit&gt; var1);\r\n}\r\n```\r\n\r\nThe best result I can get with Java2OP is this Delphi declaration:\r\n\r\n``` lang-delphi\r\n  Jkotlin_FunctionClass = interface(IJavaClass)\r\n    [&#39;{8F273534-5758-45AB-BC0F-2851C32D3350}&#39;]\r\n  end;\r\n\r\n  [JavaSignature(&#39;kotlin/Function&#39;)]\r\n  Jkotlin_Function = interface(IJavaInstance)\r\n    [&#39;{8DFE502E-1AD9-4AD1-8940-BE903549AFC9}&#39;]\r\n  end;\r\n  TJkotlin_Function = class(TJavaGenericImport&lt;Jkotlin_FunctionClass, Jkotlin_Function&gt;) end;\r\n\r\n  JFunction2Class = interface(Jkotlin_FunctionClass)\r\n    [&#39;{630CDE10-8184-4A7C-9F6C-0F084112415D}&#39;]\r\n  end;\r\n\r\n  [JavaSignature(&#39;kotlin/jvm/functions/Function2&#39;)]\r\n  JFunction2 = interface(Jkotlin_Function)\r\n    [&#39;{8090FA02-E298-4606-8035-17A4FB3A4456}&#39;]\r\n    //function invoke(p1: J; p2: J): JObject; cdecl;\r\n  end;\r\n  TJFunction2 = class(TJavaGenericImport&lt;JFunction2Class, JFunction2&gt;) end;\r\n\r\n  JControllerClass = interface(IJavaClass)\r\n    [&#39;{66D15F2C-39DE-40EE-99F3-3A10A45A93D3}&#39;]\r\n  end;\r\n\r\n  [JavaSignature(&#39;net/company/bla/Controller&#39;)]\r\n  JController = interface(IJavaInstance)\r\n    [&#39;{20455085-2AD1-43F1-B9CD-455E8FB7EAD9}&#39;]\r\n    procedure getNearbyStops(function2: JFunction2); cdecl;\r\n  end;\r\n  TJController = class(TJavaGenericImport&lt;JControllerClass, JController&gt;) end;\r\n\r\n  TRegTypes.RegisterType(&#39;Android.JNI.MyBridge.Jkotlin_Function&#39;, TypeInfo(Android.JNI.MyBridge.Jkotlin_Function));\r\n  TRegTypes.RegisterType(&#39;Android.JNI.MyBridge.JFunction2&#39;, TypeInfo(Android.JNI.MyBridge.JFunction2));\r\n  TRegTypes.RegisterType(&#39;Android.JNI.MyBridge.JController&#39;, TypeInfo(Android.JNI.MyBridge.JController));\r\n```\r\n\r\nYou see that it has generated `Function2`, but without its generic parameters. The `invoke` method is therefore commented.\r\n\r\nIs it possible to modify the Delphi code to support the generic parameters?\r\n\r\nThanks for your help!\r\nDominik","title":"Java2OP interface with generic parameters","body":"<p>I try to build a Delphi bridge file to access an Android library written in Kotlin. The decompiled .jar has the following declarations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Function&lt;R&gt; {}\n\npublic interface Function2&lt;P1, P2, R&gt; extends Function&lt;R&gt; {\n    R invoke(P1 var1, P2 var2);\n}\n\npublic final class Unit {\n    // snip\n}\n\npublic interface Controller {\n    void getNearbyStops(@NotNull Function2&lt;? super List&lt;Stop&gt;, ? super Error, Unit&gt; var1);\n}\n</code></pre>\n<p>The best result I can get with Java2OP is this Delphi declaration:</p>\n<pre class=\"lang-delphi prettyprint-override\"><code>  Jkotlin_FunctionClass = interface(IJavaClass)\n    ['{8F273534-5758-45AB-BC0F-2851C32D3350}']\n  end;\n\n  [JavaSignature('kotlin/Function')]\n  Jkotlin_Function = interface(IJavaInstance)\n    ['{8DFE502E-1AD9-4AD1-8940-BE903549AFC9}']\n  end;\n  TJkotlin_Function = class(TJavaGenericImport&lt;Jkotlin_FunctionClass, Jkotlin_Function&gt;) end;\n\n  JFunction2Class = interface(Jkotlin_FunctionClass)\n    ['{630CDE10-8184-4A7C-9F6C-0F084112415D}']\n  end;\n\n  [JavaSignature('kotlin/jvm/functions/Function2')]\n  JFunction2 = interface(Jkotlin_Function)\n    ['{8090FA02-E298-4606-8035-17A4FB3A4456}']\n    //function invoke(p1: J; p2: J): JObject; cdecl;\n  end;\n  TJFunction2 = class(TJavaGenericImport&lt;JFunction2Class, JFunction2&gt;) end;\n\n  JControllerClass = interface(IJavaClass)\n    ['{66D15F2C-39DE-40EE-99F3-3A10A45A93D3}']\n  end;\n\n  [JavaSignature('net/company/bla/Controller')]\n  JController = interface(IJavaInstance)\n    ['{20455085-2AD1-43F1-B9CD-455E8FB7EAD9}']\n    procedure getNearbyStops(function2: JFunction2); cdecl;\n  end;\n  TJController = class(TJavaGenericImport&lt;JControllerClass, JController&gt;) end;\n\n  TRegTypes.RegisterType('Android.JNI.MyBridge.Jkotlin_Function', TypeInfo(Android.JNI.MyBridge.Jkotlin_Function));\n  TRegTypes.RegisterType('Android.JNI.MyBridge.JFunction2', TypeInfo(Android.JNI.MyBridge.JFunction2));\n  TRegTypes.RegisterType('Android.JNI.MyBridge.JController', TypeInfo(Android.JNI.MyBridge.JController));\n</code></pre>\n<p>You see that it has generated <code>Function2</code>, but without its generic parameters. The <code>invoke</code> method is therefore commented.</p>\n<p>Is it possible to modify the Delphi code to support the generic parameters?</p>\n<p>Thanks for your help!\nDominik</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1658828016,"post_id":73120960,"comment_id":129142817,"body_markdown":"`MyClassHandler&lt;A, M extends MyClass&lt;A&gt;&gt;` should work.","body":"<code>MyClassHandler&lt;A, M extends MyClass&lt;A&gt;&gt;</code> should work."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1658828501,"post_id":73120960,"comment_id":129143008,"body_markdown":"&quot;I would like to use the generic parameter of MyClass (A) without declaring it as a second generic parameter&quot; sorry, you can&#39;t. It&#39;s not redundant: what value does A have if you don&#39;t declare it?","body":"&quot;I would like to use the generic parameter of MyClass (A) without declaring it as a second generic parameter&quot; sorry, you can&#39;t. It&#39;s not redundant: what value does A have if you don&#39;t declare it?"},{"owner":{"account_id":2736011,"reputation":66,"user_id":2358671,"display_name":"Gyula"},"score":0,"creation_date":1658841274,"post_id":73120960,"comment_id":129147924,"body_markdown":"@AndyTurner It is redundant because I am trying to reference the A typeparameter of MyClass&lt;A&gt; already captured by M. M always directly implies a value for the MyClass&lt;A&gt; -&gt; A parameter.","body":"@AndyTurner It is redundant because I am trying to reference the A typeparameter of MyClass&lt;A&gt; already captured by M. M always directly implies a value for the MyClass&lt;A&gt; -&gt; A parameter."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1658845119,"post_id":73120960,"comment_id":129149760,"body_markdown":"@Gyula: depending on how you use the type, it might very well be inferrable from the use, but the parameter is still required. If `A` is not defined to be a type parameter then `MyClass&lt;A&gt;` would try to reference a *concrete type* called `A` (which probably doesn&#39;t exist and definitely isn&#39;t what you&#39;re trying to do). By defining it as a type parameter you tell Java to expect it to be ... well, dynamic/variable.","body":"@Gyula: depending on how you use the type, it might very well be inferrable from the use, but the parameter is still required. If <code>A</code> is not defined to be a type parameter then <code>MyClass&lt;A&gt;</code> would try to reference a <i>concrete type</i> called <code>A</code> (which probably doesn&#39;t exist and definitely isn&#39;t what you&#39;re trying to do). By defining it as a type parameter you tell Java to expect it to be ... well, dynamic/variable."},{"owner":{"account_id":2736011,"reputation":66,"user_id":2358671,"display_name":"Gyula"},"score":0,"creation_date":1658901577,"post_id":73120960,"comment_id":129163795,"body_markdown":"@JoachimSauer in that case a syntax such as `MyClassHandler&lt;M extends MyClass&lt;? as A&gt;&gt;` would better describe what I am looking for :)","body":"@JoachimSauer in that case a syntax such as <code>MyClassHandler&lt;M extends MyClass&lt;? as A&gt;&gt;</code> would better describe what I am looking for :)"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1658908831,"post_id":73120960,"comment_id":129165930,"body_markdown":"What about just `MyClassHandler&lt;M extends MyClass&lt;?&gt;&gt;`? You won&#39;t be able to use `A` in your class then, but otherwise it would work.","body":"What about just <code>MyClassHandler&lt;M extends MyClass&lt;?&gt;&gt;</code>? You won&#39;t be able to use <code>A</code> in your class then, but otherwise it would work."}],"owner":{"account_id":2736011,"reputation":66,"user_id":2358671,"display_name":"Gyula"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658901623,"creation_date":1658827901,"question_id":73120960,"body_markdown":"I am trying to solve the following generic parameter capture problem in Java:\r\n\r\n```java\r\ninterface MyClass&lt;A&gt; {\r\n     A getA();\r\n}\r\n\r\ninterface MyClassHandler&lt;M extends MyClass&lt;? as A&gt;&gt; {\r\n    M getM();\r\n\r\n    A getAfromM();\r\n}\r\n```\r\n(The declaration of `MyClassHandler` doesn&#39;t compile because `? as A` is not valid syntax which is the problem I am trying to solve)\r\n\r\nIn `MyClassHandler` I would like to use the generic parameter of `MyClass` (`A`) without declaring it as a second generic parameter to `MyClassHandler` by simply capturing it from the user provided `M`.\r\n\r\nI don&#39;t really see any reason why we would &quot;need&quot; a redundant declaration of the &quot;inner&quot; type parameter but maybe this is simply not possible in Java or I am missing some other trick.","title":"Capturing Java &quot;inner&quot; generic parameter in class/interface declaration","body":"<p>I am trying to solve the following generic parameter capture problem in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyClass&lt;A&gt; {\n     A getA();\n}\n\ninterface MyClassHandler&lt;M extends MyClass&lt;? as A&gt;&gt; {\n    M getM();\n\n    A getAfromM();\n}\n</code></pre>\n<p>(The declaration of <code>MyClassHandler</code> doesn't compile because <code>? as A</code> is not valid syntax which is the problem I am trying to solve)</p>\n<p>In <code>MyClassHandler</code> I would like to use the generic parameter of <code>MyClass</code> (<code>A</code>) without declaring it as a second generic parameter to <code>MyClassHandler</code> by simply capturing it from the user provided <code>M</code>.</p>\n<p>I don't really see any reason why we would &quot;need&quot; a redundant declaration of the &quot;inner&quot; type parameter but maybe this is simply not possible in Java or I am missing some other trick.</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1651468876,"post_id":72078276,"comment_id":127363953,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25125853,"reputation":11,"user_id":18973657,"display_name":"Rakib Mahmud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658901565,"creation_date":1658645424,"answer_id":73096338,"question_id":72078276,"body_markdown":"You can add the following line in your XML. It works for me.\r\n\r\n    android:inputType=&quot;textVisiblePassword&quot;\r\n\r\nBut generally from device keypad settings, you can disable the auto punctuation.","title":"how disable function: double space converting to point(dot) in EditText Java AndroidStudio","body":"<p>You can add the following line in your XML. It works for me.</p>\n<pre><code>android:inputType=&quot;textVisiblePassword&quot;\n</code></pre>\n<p>But generally from device keypad settings, you can disable the auto punctuation.</p>\n"}],"owner":{"account_id":23075479,"reputation":37,"user_id":17188472,"display_name":"Andrew Production"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658901565,"creation_date":1651420364,"question_id":72078276,"body_markdown":"when type space two times in the row it automatically converting(replacing) to dot(&quot;. &quot;).\r\nI want to disable this function only in my EditText","title":"how disable function: double space converting to point(dot) in EditText Java AndroidStudio","body":"<p>when type space two times in the row it automatically converting(replacing) to dot(&quot;. &quot;).\nI want to disable this function only in my EditText</p>\n"},{"tags":["java","spring","database","spring-boot","spring-autoconfiguration"],"comments":[{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1658913784,"post_id":73132118,"comment_id":129167761,"body_markdown":"Do you mind posting the error message you are getting - There are a couple of ways you can solve this and the error message would help :)","body":"Do you mind posting the error message you are getting - There are a couple of ways you can solve this and the error message would help :)"},{"owner":{"account_id":3295177,"reputation":656,"user_id":2772620,"accept_rate":38,"display_name":"Ujjwal Pathak"},"score":0,"creation_date":1658938133,"post_id":73132118,"comment_id":129178233,"body_markdown":"@Reg I can&#39;t post the exact stack trace of the exception but exception comes in an EnvironmentPostProcessor&#39;s(EPP) postProcessEvent ... in the postProcessEvent the app is trying to fetch a credential that the user is not entitled to see hence the exception is thrown. I&#39;m just trying to make it some how that this EPP is not loaded at startup for certain environments .... namely local environment...","body":"@Reg I can&#39;t post the exact stack trace of the exception but exception comes in an EnvironmentPostProcessor&#39;s(EPP) postProcessEvent ... in the postProcessEvent the app is trying to fetch a credential that the user is not entitled to see hence the exception is thrown. I&#39;m just trying to make it some how that this EPP is not loaded at startup for certain environments .... namely local environment..."}],"answers":[{"tags":[],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658900945,"creation_date":1658898327,"answer_id":73132455,"question_id":73132118,"body_markdown":"`@Lazy` is only to be used with `@Bean` or `@Component` (Or any `@Component`-based annotations ex. `@Service`) \r\n\r\n*Take note*: You can also add it to a `@Configuration` class, but that just means that all Beans in the class are annotated with `@Lazy`\r\n\r\n`@Lazy` is a bit of a weird annotation in general; it should be seen as an IF possible then lazy load. If some other bean needs the lazy bean, the lazy bean will be initialized. (*It&#39;s like the Pirate code, more of a guideline than an enforced rule*)\r\n\r\nFinally, marking `@ConfigurationProperties` with @Lazy seems a bit odd. As Spring will need these Configuration property &quot;beans&quot; to create the Spring Context. \r\n\r\n*However*, the common use case for `@Lazy` is a failing database connection, preventing the application from starting. See the [question][1] if that is what you are running into. \r\n**Summary:** \r\nYou can configure your repositories to be lazy-loaded with:\r\n\r\n`\r\nspring.data.jpa.repositories.bootstrap-mode=lazy\r\n`\r\n \r\n\r\n\r\n\r\n**Last remark (Me just guessing)**\r\n\r\nIf you wish to change properties once your application is already running, I would look at the following [tutorial][2]. It goes into manually reloading configuration and also [@RefreshScope][3]. \r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58695889/how-to-lazy-initialize-spring-boot-datasourcespring-data\r\n  [2]: https://www.baeldung.com/spring-reloading-properties\r\n  [3]: https://www.javadoc.io/doc/org.springframework.cloud/spring-cloud-commons-parent/1.1.4.RELEASE/org/springframework/cloud/context/scope/refresh/RefreshScope.html","title":"Lazy load spring auto configuration","body":"<p><code>@Lazy</code> is only to be used with <code>@Bean</code> or <code>@Component</code> (Or any <code>@Component</code>-based annotations ex. <code>@Service</code>)</p>\n<p><em>Take note</em>: You can also add it to a <code>@Configuration</code> class, but that just means that all Beans in the class are annotated with <code>@Lazy</code></p>\n<p><code>@Lazy</code> is a bit of a weird annotation in general; it should be seen as an IF possible then lazy load. If some other bean needs the lazy bean, the lazy bean will be initialized. (<em>It's like the Pirate code, more of a guideline than an enforced rule</em>)</p>\n<p>Finally, marking <code>@ConfigurationProperties</code> with @Lazy seems a bit odd. As Spring will need these Configuration property &quot;beans&quot; to create the Spring Context.</p>\n<p><em>However</em>, the common use case for <code>@Lazy</code> is a failing database connection, preventing the application from starting. See the <a href=\"https://stackoverflow.com/questions/58695889/how-to-lazy-initialize-spring-boot-datasourcespring-data\">question</a> if that is what you are running into.\n<strong>Summary:</strong>\nYou can configure your repositories to be lazy-loaded with:</p>\n<p><code>spring.data.jpa.repositories.bootstrap-mode=lazy</code></p>\n<p><strong>Last remark (Me just guessing)</strong></p>\n<p>If you wish to change properties once your application is already running, I would look at the following <a href=\"https://www.baeldung.com/spring-reloading-properties\" rel=\"nofollow noreferrer\">tutorial</a>. It goes into manually reloading configuration and also <a href=\"https://www.javadoc.io/doc/org.springframework.cloud/spring-cloud-commons-parent/1.1.4.RELEASE/org/springframework/cloud/context/scope/refresh/RefreshScope.html\" rel=\"nofollow noreferrer\">@RefreshScope</a>.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658900409,"creation_date":1658900409,"answer_id":73132737,"question_id":73132118,"body_markdown":"According to [documentation](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/env/EnvironmentPostProcessor.html) `EnvironmentPostProcessor`s must be registered via `META-INF/spring.factories`:\r\n\r\n&gt; Allows for customization of the application&#39;s Environment prior to the\r\n&gt; application context being refreshed. EnvironmentPostProcessor\r\n&gt; implementations have to be registered in META-INF/spring.factories,\r\n&gt; using the fully qualified name of this class as the key.\r\n&gt; Implementations may implement the Ordered interface or use an @Order\r\n&gt; annotation if they wish to be invoked in specific order.","title":"Lazy load spring auto configuration","body":"<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/env/EnvironmentPostProcessor.html\" rel=\"nofollow noreferrer\">documentation</a> <code>EnvironmentPostProcessor</code>s must be registered via <code>META-INF/spring.factories</code>:</p>\n<blockquote>\n<p>Allows for customization of the application's Environment prior to the\napplication context being refreshed. EnvironmentPostProcessor\nimplementations have to be registered in META-INF/spring.factories,\nusing the fully qualified name of this class as the key.\nImplementations may implement the Ordered interface or use an @Order\nannotation if they wish to be invoked in specific order.</p>\n</blockquote>\n"}],"owner":{"account_id":3295177,"reputation":656,"user_id":2772620,"accept_rate":38,"display_name":"Ujjwal Pathak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1658901494,"creation_date":1658894441,"question_id":73132118,"body_markdown":"I have dependency in my spring boot project which fetches values of some properties using Spring&#39;s EnvironmentPostProcessor.\r\nNow these properties are database credentials and not everyone has access to the credential since there is no dev environment for the db in question. I just want to change the configuration that the credentials don&#39;t get fetched on dev or local environment on application startup as that would result in a error and the application will fail to start.\r\n\r\n    Class A implements EnvironmentPostProcessor{}\r\n\r\nI tried to use @Lazy annotation on the Class Annoteted with @ConfigurationProperties. I also tried using my own BeanFactoryPostProcessor (with @Order(HighestPrecedence) to programmatically set the A to lazy load, but it gets called before my BeanFactoryPostProcessor&#39;s postProcessBeanFactory method.\r\nIs what I&#39;m trying to achieve possible and am I going about it the wrong way?","title":"Lazy load spring auto configuration","body":"<p>I have dependency in my spring boot project which fetches values of some properties using Spring's EnvironmentPostProcessor.\nNow these properties are database credentials and not everyone has access to the credential since there is no dev environment for the db in question. I just want to change the configuration that the credentials don't get fetched on dev or local environment on application startup as that would result in a error and the application will fail to start.</p>\n<pre><code>Class A implements EnvironmentPostProcessor{}\n</code></pre>\n<p>I tried to use @Lazy annotation on the Class Annoteted with @ConfigurationProperties. I also tried using my own BeanFactoryPostProcessor (with @Order(HighestPrecedence) to programmatically set the A to lazy load, but it gets called before my BeanFactoryPostProcessor's postProcessBeanFactory method.\nIs what I'm trying to achieve possible and am I going about it the wrong way?</p>\n"},{"tags":["java","openssl","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658901304,"creation_date":1658337765,"answer_id":73055830,"question_id":73050218,"body_markdown":"The answer you linked _tells you_ what the code returns: &quot;a valid PEM-encoded signedData object containing a signed Certificate chain (of the type that can be imported by keytool)&quot;. Actually it&#39;s not quite valid: (1) it doesn&#39;t put any linebreaks in the base64 as PEM officially requires -- which you fixed, although you did it at 63 not 64 as standard; (2) it uses `BEGIN/END PKCS #7 SIGNED DATA` whereas the [standard](https://datatracker.ietf.org/doc/html/rfc7468#section-8) is `BEGIN/END PKCS7` -- or in most cases `BEGIN/END CMS` because CMS is basically a superset of PKCS7. keytool ignores both of these flaws when reading a &#39;CA reply&#39; (i.e. `-importcert` to an existing `privateKey` entry), but other software doesn&#39;t -- like BouncyCastle and OpenSSL. You already added line breaks; if you change the BEGIN/END labels to PKCS7 and put the result in a file you can read it with among other things\r\n\r\n     openssl pkcs7 -in $file -print_certs # add -text for expanded details\r\n\r\nHowever, calling this &#39;the type that can be imported by keytool&#39; implies it is the only type which is false. keytool can read PKCS7 containing certs -- either PEM _or_ DER -- but it can also read &#39;bare&#39; X.509 certificates in either PEM or DER, and that is usually more convenient. To do that, replace everything from `CMSSignedDataGenerator` onward with something like for DER:\r\n\r\n    Files.write(Paths.get(&quot;outputfile&quot;), certencoded)\r\n\r\nor for PEM since you have Bouncy:\r\n\r\n    try( PemWriter w = new PemWriter(new FileWriter(&quot;outputfile&quot;)) ){\r\n        w.writeObject(new PemObject(&quot;CERTIFICATE&quot;,certencoded));\r\n    }\r\n\r\nor if you prefer to do it yourself:\r\n\r\n    try( Writer w = new FileWriter(&quot;outputfile&quot;) ){\r\n        w.write(&quot;-----BEGIN CERTIFICATE-----\\r\\n&quot; \r\n            + Base64.getMimeEncoder().encodeToString(certencoded) \r\n                // MimeEncoder does linebreaks at 76 by default which \r\n                // is close enough and less work than doing it by hand\r\n            + &quot;\\r\\n-----END CERTIFICATE-----\\r\\n&quot;);\r\n    }\r\n\r\nNote: you may not need the `\\r` -- PEM doesn&#39;t actually specify CRLF vs LF linebreaks -- but MimeEncoder uses them on the interior breaks and I like to be consistent. \r\n\r\nThis -- just the certificate -- is what your `openssl x509 -req -CA*` alternative produces, and that&#39;s why it&#39;s much smaller -- one cert is smaller than _three_ certs _plus_ some overhead.\r\n\r\nSeveral more points:\r\n\r\n* PEMParser can handle CSR just fine; you don&#39;t need the PemReader+PemObject detour \r\n\r\n* using the entire SubjectPublicKeyInfo for the SubjectKeyIdentifier extension is wrong. OTOH nothing uses the SKI extension in a leaf cert anyway, so simplest to just delete this rather than fix it. \r\n\r\n* in `certgen.build()` if you use `JcaContentSignerBuilder` instead of the `BcRSA` variant, you can pass `cakey` directly without going through `PrivateKeyFactory` and the signature scheme directly without going through two `AlgorithmIdentifierFinder`s -- as the `/*cms-sd*/generator.addSignerInfoGenerator` later in the code already does.\r\n\r\n* speaking of the signature scheme, **don&#39;t use SHA1 for cert signatures** (or most others). It was already deprecated in 2013 when that answer was written, and in 2017 was publicly broken for collision (see https://shattered.io) after which many systems either reject it entirely or nag mercilessly for such use, and some related ones like git. In fact many authorities and checklisters now prohibit it for _any_ use, even though some (like HMAC and PBKDF) aren&#39;t actually broken. Your `openssl x509 -req` alternative used SHA256 which is fine*.\r\n\r\n* and lastly, issuing a cert is NOT &#39;sign[ing] {the|a} CSR&#39;. You can just look at the cert contents and see it&#39;s not at all the same as the CSR or even the CSR body. You _create_ (or _generate_ as used in the Bouncy names) a cert and sign _the cert_ -- in _response_ to a CSR.\r\n\r\n\\* at least for now; if and when quantum cryptanalysis works a _lot_ of currently used schemes, including probably SHA256-RSA signature, will be in trouble and will have to be replaced by &#39;post-quantum&#39; schemes which people are now working to develop. But if this happens, you&#39;ll see it on every news channel and site in existence.","title":"Bouncy castle create a certificate from openssl csr in java","body":"<p>The answer you linked <em>tells you</em> what the code returns: &quot;a valid PEM-encoded signedData object containing a signed Certificate chain (of the type that can be imported by keytool)&quot;. Actually it's not quite valid: (1) it doesn't put any linebreaks in the base64 as PEM officially requires -- which you fixed, although you did it at 63 not 64 as standard; (2) it uses <code>BEGIN/END PKCS #7 SIGNED DATA</code> whereas the <a href=\"https://datatracker.ietf.org/doc/html/rfc7468#section-8\" rel=\"nofollow noreferrer\">standard</a> is <code>BEGIN/END PKCS7</code> -- or in most cases <code>BEGIN/END CMS</code> because CMS is basically a superset of PKCS7. keytool ignores both of these flaws when reading a 'CA reply' (i.e. <code>-importcert</code> to an existing <code>privateKey</code> entry), but other software doesn't -- like BouncyCastle and OpenSSL. You already added line breaks; if you change the BEGIN/END labels to PKCS7 and put the result in a file you can read it with among other things</p>\n<pre><code> openssl pkcs7 -in $file -print_certs # add -text for expanded details\n</code></pre>\n<p>However, calling this 'the type that can be imported by keytool' implies it is the only type which is false. keytool can read PKCS7 containing certs -- either PEM <em>or</em> DER -- but it can also read 'bare' X.509 certificates in either PEM or DER, and that is usually more convenient. To do that, replace everything from <code>CMSSignedDataGenerator</code> onward with something like for DER:</p>\n<pre><code>Files.write(Paths.get(&quot;outputfile&quot;), certencoded)\n</code></pre>\n<p>or for PEM since you have Bouncy:</p>\n<pre><code>try( PemWriter w = new PemWriter(new FileWriter(&quot;outputfile&quot;)) ){\n    w.writeObject(new PemObject(&quot;CERTIFICATE&quot;,certencoded));\n}\n</code></pre>\n<p>or if you prefer to do it yourself:</p>\n<pre><code>try( Writer w = new FileWriter(&quot;outputfile&quot;) ){\n    w.write(&quot;-----BEGIN CERTIFICATE-----\\r\\n&quot; \n        + Base64.getMimeEncoder().encodeToString(certencoded) \n            // MimeEncoder does linebreaks at 76 by default which \n            // is close enough and less work than doing it by hand\n        + &quot;\\r\\n-----END CERTIFICATE-----\\r\\n&quot;);\n}\n</code></pre>\n<p>Note: you may not need the <code>\\r</code> -- PEM doesn't actually specify CRLF vs LF linebreaks -- but MimeEncoder uses them on the interior breaks and I like to be consistent.</p>\n<p>This -- just the certificate -- is what your <code>openssl x509 -req -CA*</code> alternative produces, and that's why it's much smaller -- one cert is smaller than <em>three</em> certs <em>plus</em> some overhead.</p>\n<p>Several more points:</p>\n<ul>\n<li><p>PEMParser can handle CSR just fine; you don't need the PemReader+PemObject detour</p>\n</li>\n<li><p>using the entire SubjectPublicKeyInfo for the SubjectKeyIdentifier extension is wrong. OTOH nothing uses the SKI extension in a leaf cert anyway, so simplest to just delete this rather than fix it.</p>\n</li>\n<li><p>in <code>certgen.build()</code> if you use <code>JcaContentSignerBuilder</code> instead of the <code>BcRSA</code> variant, you can pass <code>cakey</code> directly without going through <code>PrivateKeyFactory</code> and the signature scheme directly without going through two <code>AlgorithmIdentifierFinder</code>s -- as the <code>/*cms-sd*/generator.addSignerInfoGenerator</code> later in the code already does.</p>\n</li>\n<li><p>speaking of the signature scheme, <strong>don't use SHA1 for cert signatures</strong> (or most others). It was already deprecated in 2013 when that answer was written, and in 2017 was publicly broken for collision (see <a href=\"https://shattered.io\" rel=\"nofollow noreferrer\">https://shattered.io</a>) after which many systems either reject it entirely or nag mercilessly for such use, and some related ones like git. In fact many authorities and checklisters now prohibit it for <em>any</em> use, even though some (like HMAC and PBKDF) aren't actually broken. Your <code>openssl x509 -req</code> alternative used SHA256 which is fine*.</p>\n</li>\n<li><p>and lastly, issuing a cert is NOT 'sign[ing] {the|a} CSR'. You can just look at the cert contents and see it's not at all the same as the CSR or even the CSR body. You <em>create</em> (or <em>generate</em> as used in the Bouncy names) a cert and sign <em>the cert</em> -- in <em>response</em> to a CSR.</p>\n</li>\n</ul>\n<p>* at least for now; if and when quantum cryptanalysis works a <em>lot</em> of currently used schemes, including probably SHA256-RSA signature, will be in trouble and will have to be replaced by 'post-quantum' schemes which people are now working to develop. But if this happens, you'll see it on every news channel and site in existence.</p>\n"}],"owner":{"account_id":10158876,"reputation":388,"user_id":7503033,"display_name":"Ace of Spade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73055830,"answer_count":1,"score":0,"last_activity_date":1658901304,"creation_date":1658313804,"question_id":73050218,"body_markdown":"I generated a ca-certificate and a key with openssl.\r\n```\r\nopenssl genrsa -aes256 -out $CANAME.key 4096\r\nopenssl req -x509 -new -nodes -key $CANAME.key -sha256 -days 1826 -out $CANAME.crt -subj &#39;/CN=MyOrg Root CA/C=AT/ST=Vienna/L=Vienna/O=MyOrg&#39;\r\n```\r\n\r\nNow I want to sign CSRs with those.  \r\nI found this [question](https://stackoverflow.com/questions/7230330/sign-csr-using-bouncy-castle), but I can&#39;t use the accepted answer, because the class `PKCS10CertificationRequestHolder` seems not to exist anymore.\r\n\r\nBased on the seconds answer I created this service.\r\n\r\n```\r\npublic class SignService {\r\n\r\n    private PrivateKey privateKey;\r\n    private X509CertificateHolder certificateHolder;\r\n\r\n    public SignService(\r\n            String caPathKey,\r\n            String caCert,\r\n            String caKeyPassword\r\n    ) throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\r\n        loadPrivateKey(caPathKey, caKeyPassword);\r\n\r\n        PEMParser pemParser = new PEMParser(new FileReader(caCert));\r\n        this.certificateHolder = (X509CertificateHolder) pemParser.readObject();\r\n\r\n    }\r\n\r\n    private void loadPrivateKey(String caPathKey, String caKeyPassword) throws IOException {\r\n        PEMParser pemParser = new PEMParser(new FileReader(caPathKey));\r\n        Object object = pemParser.readObject();\r\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n        KeyPair kp;\r\n        if (object instanceof PEMEncryptedKeyPair)\r\n        {\r\n            // Encrypted key - we will use provided password\r\n            PEMEncryptedKeyPair ckp = (PEMEncryptedKeyPair) object;\r\n            PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().build(caKeyPassword.toCharArray());\r\n            kp = converter.getKeyPair(ckp.decryptKeyPair(decProv));\r\n        }\r\n        else\r\n        {\r\n            // Unencrypted key - no password needed\r\n            PEMKeyPair ukp = (PEMKeyPair) object;\r\n            kp = converter.getKeyPair(ukp);\r\n        }\r\n\r\n        this.privateKey = kp.getPrivate();\r\n    }\r\n\r\n    public String signCRT(String crs_str) throws NoSuchProviderException, IOException, KeyStoreException, NoSuchAlgorithmException, OperatorCreationException, CMSException {\r\n\r\n        PemReader p = new PemReader(new StringReader(crs_str));\r\n        PemObject pemObject = p.readPemObject();\r\n        PKCS10CertificationRequest csr = new PKCS10CertificationRequest(pemObject.getContent());\r\n\r\n        AlgorithmIdentifier sigAlgId = new DefaultSignatureAlgorithmIdentifierFinder().find(&quot;SHA1withRSA&quot;);\r\n        AlgorithmIdentifier digAlgId = new DefaultDigestAlgorithmIdentifierFinder().find(sigAlgId);\r\n        X500Name issuer = certificateHolder.getIssuer();\r\n        BigInteger serial = new BigInteger(32, new SecureRandom());\r\n        Date from = new Date();\r\n        Date to = new Date(System.currentTimeMillis() + (365 * 86400000L));\r\n\r\n        X509v3CertificateBuilder certgen = new X509v3CertificateBuilder(issuer, serial, from, to, csr.getSubject(), csr.getSubjectPublicKeyInfo());\r\n        certgen.addExtension(X509Extension.basicConstraints, false, new BasicConstraints(false));\r\n        certgen.addExtension(X509Extension.subjectKeyIdentifier, false, new SubjectKeyIdentifier(csr.getSubjectPublicKeyInfo().getEncoded()));\r\n        certgen.addExtension(X509Extension.authorityKeyIdentifier, false, new AuthorityKeyIdentifier(new GeneralNames(new GeneralName(this.certificateHolder.getSubject())), certificateHolder.getSerialNumber()));\r\n\r\n        ContentSigner signer = new BcRSAContentSignerBuilder(sigAlgId, digAlgId).build(PrivateKeyFactory.createKey(this.privateKey.getEncoded()));\r\n        X509CertificateHolder holder = certgen.build(signer);\r\n        byte[] certencoded = holder.toASN1Structure().getEncoded();\r\n\r\n        CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\r\n        signer = new JcaContentSignerBuilder(&quot;SHA1withRSA&quot;).build(this.privateKey);\r\n        generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).build(signer, this.certificateHolder));\r\n        generator.addCertificate(new X509CertificateHolder(certencoded));\r\n        generator.addCertificate(new X509CertificateHolder(this.certificateHolder.getEncoded()));\r\n        CMSTypedData content = new CMSProcessableByteArray(certencoded);\r\n        CMSSignedData signeddata = generator.generate(content, true);\r\n\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        out.write(&quot;-----BEGIN PKCS #7 SIGNED DATA-----\\n&quot;.getBytes(&quot;ISO-8859-1&quot;));\r\n        byte[] cert_encoded = Base64.encode(signeddata.getEncoded());\r\n        for (int i = 0; i &lt; cert_encoded.length; i++) {\r\n            if (i &gt; 0 &amp;&amp; i % 63 == 0) {\r\n                out.write(&#39;\\n&#39;);\r\n            }\r\n            out.write(cert_encoded[i]);\r\n        }\r\n        out.write(&quot;\\n-----END PKCS #7 SIGNED DATA-----\\n&quot;.getBytes(&quot;ISO-8859-1&quot;));\r\n        out.close();\r\n        return new String(out.toByteArray(), &quot;ISO-8859-1&quot;);\r\n    }\r\n}\r\n\r\n``` \r\n\r\n\r\nThe method `signCrt` does not throw any exceptions and returns a string (I am not sure what).\r\n\r\nI can&#39;t verify it or even show any information about the certificate.\r\n\r\nThis openssl command works with the same csr file, I want to do the same thing from java.\r\n```\r\nopenssl x509 -req -in test.csr -CA $CANAME.crt -CAkey $CANAME.key -CAcreateserial -out openssl-signed.crt -days 730 -sha256\r\n```\r\n\r\nThe certificate created with openssl is much smaller the of my java method (Don&#39;t know of this is a useful information).","title":"Bouncy castle create a certificate from openssl csr in java","body":"<p>I generated a ca-certificate and a key with openssl.</p>\n<pre><code>openssl genrsa -aes256 -out $CANAME.key 4096\nopenssl req -x509 -new -nodes -key $CANAME.key -sha256 -days 1826 -out $CANAME.crt -subj '/CN=MyOrg Root CA/C=AT/ST=Vienna/L=Vienna/O=MyOrg'\n</code></pre>\n<p>Now I want to sign CSRs with those.<br />\nI found this <a href=\"https://stackoverflow.com/questions/7230330/sign-csr-using-bouncy-castle\">question</a>, but I can't use the accepted answer, because the class <code>PKCS10CertificationRequestHolder</code> seems not to exist anymore.</p>\n<p>Based on the seconds answer I created this service.</p>\n<pre><code>public class SignService {\n\n    private PrivateKey privateKey;\n    private X509CertificateHolder certificateHolder;\n\n    public SignService(\n            String caPathKey,\n            String caCert,\n            String caKeyPassword\n    ) throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n\n        loadPrivateKey(caPathKey, caKeyPassword);\n\n        PEMParser pemParser = new PEMParser(new FileReader(caCert));\n        this.certificateHolder = (X509CertificateHolder) pemParser.readObject();\n\n    }\n\n    private void loadPrivateKey(String caPathKey, String caKeyPassword) throws IOException {\n        PEMParser pemParser = new PEMParser(new FileReader(caPathKey));\n        Object object = pemParser.readObject();\n        JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\n        KeyPair kp;\n        if (object instanceof PEMEncryptedKeyPair)\n        {\n            // Encrypted key - we will use provided password\n            PEMEncryptedKeyPair ckp = (PEMEncryptedKeyPair) object;\n            PEMDecryptorProvider decProv = new JcePEMDecryptorProviderBuilder().build(caKeyPassword.toCharArray());\n            kp = converter.getKeyPair(ckp.decryptKeyPair(decProv));\n        }\n        else\n        {\n            // Unencrypted key - no password needed\n            PEMKeyPair ukp = (PEMKeyPair) object;\n            kp = converter.getKeyPair(ukp);\n        }\n\n        this.privateKey = kp.getPrivate();\n    }\n\n    public String signCRT(String crs_str) throws NoSuchProviderException, IOException, KeyStoreException, NoSuchAlgorithmException, OperatorCreationException, CMSException {\n\n        PemReader p = new PemReader(new StringReader(crs_str));\n        PemObject pemObject = p.readPemObject();\n        PKCS10CertificationRequest csr = new PKCS10CertificationRequest(pemObject.getContent());\n\n        AlgorithmIdentifier sigAlgId = new DefaultSignatureAlgorithmIdentifierFinder().find(&quot;SHA1withRSA&quot;);\n        AlgorithmIdentifier digAlgId = new DefaultDigestAlgorithmIdentifierFinder().find(sigAlgId);\n        X500Name issuer = certificateHolder.getIssuer();\n        BigInteger serial = new BigInteger(32, new SecureRandom());\n        Date from = new Date();\n        Date to = new Date(System.currentTimeMillis() + (365 * 86400000L));\n\n        X509v3CertificateBuilder certgen = new X509v3CertificateBuilder(issuer, serial, from, to, csr.getSubject(), csr.getSubjectPublicKeyInfo());\n        certgen.addExtension(X509Extension.basicConstraints, false, new BasicConstraints(false));\n        certgen.addExtension(X509Extension.subjectKeyIdentifier, false, new SubjectKeyIdentifier(csr.getSubjectPublicKeyInfo().getEncoded()));\n        certgen.addExtension(X509Extension.authorityKeyIdentifier, false, new AuthorityKeyIdentifier(new GeneralNames(new GeneralName(this.certificateHolder.getSubject())), certificateHolder.getSerialNumber()));\n\n        ContentSigner signer = new BcRSAContentSignerBuilder(sigAlgId, digAlgId).build(PrivateKeyFactory.createKey(this.privateKey.getEncoded()));\n        X509CertificateHolder holder = certgen.build(signer);\n        byte[] certencoded = holder.toASN1Structure().getEncoded();\n\n        CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\n        signer = new JcaContentSignerBuilder(&quot;SHA1withRSA&quot;).build(this.privateKey);\n        generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build()).build(signer, this.certificateHolder));\n        generator.addCertificate(new X509CertificateHolder(certencoded));\n        generator.addCertificate(new X509CertificateHolder(this.certificateHolder.getEncoded()));\n        CMSTypedData content = new CMSProcessableByteArray(certencoded);\n        CMSSignedData signeddata = generator.generate(content, true);\n\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        out.write(&quot;-----BEGIN PKCS #7 SIGNED DATA-----\\n&quot;.getBytes(&quot;ISO-8859-1&quot;));\n        byte[] cert_encoded = Base64.encode(signeddata.getEncoded());\n        for (int i = 0; i &lt; cert_encoded.length; i++) {\n            if (i &gt; 0 &amp;&amp; i % 63 == 0) {\n                out.write('\\n');\n            }\n            out.write(cert_encoded[i]);\n        }\n        out.write(&quot;\\n-----END PKCS #7 SIGNED DATA-----\\n&quot;.getBytes(&quot;ISO-8859-1&quot;));\n        out.close();\n        return new String(out.toByteArray(), &quot;ISO-8859-1&quot;);\n    }\n}\n\n</code></pre>\n<p>The method <code>signCrt</code> does not throw any exceptions and returns a string (I am not sure what).</p>\n<p>I can't verify it or even show any information about the certificate.</p>\n<p>This openssl command works with the same csr file, I want to do the same thing from java.</p>\n<pre><code>openssl x509 -req -in test.csr -CA $CANAME.crt -CAkey $CANAME.key -CAcreateserial -out openssl-signed.crt -days 730 -sha256\n</code></pre>\n<p>The certificate created with openssl is much smaller the of my java method (Don't know of this is a useful information).</p>\n"},{"tags":["java","spring","tomcat","memory-management","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1298927367,"creation_date":1298927367,"answer_id":5147607,"question_id":5147254,"body_markdown":"Check all of the log files for Tomcat. It&#39;s possible that the startup of the Spring WebApplicationContext is encountering errors, but logging it elsewhere.\r\n\r\nSetting the max heap size too large for Tomcat sounds like a red herring to me. If the initial heap size argument is larger than the maximum size of memory on the system, the Java process will fail immediately - Tomcat will not get to the point of initializing your Spring application.","title":"Java, Spring, Tomcat, hangs at &quot;INFO: Initializing Spring root WebApplicationContext&quot;, I think I changed the allowed memory heap for my entire system","body":"<p>Check all of the log files for Tomcat. It's possible that the startup of the Spring WebApplicationContext is encountering errors, but logging it elsewhere.</p>\n\n<p>Setting the max heap size too large for Tomcat sounds like a red herring to me. If the initial heap size argument is larger than the maximum size of memory on the system, the Java process will fail immediately - Tomcat will not get to the point of initializing your Spring application.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1298929419,"creation_date":1298929419,"answer_id":5147907,"question_id":5147254,"body_markdown":"Isn&#39;t finding bugs what debuggers are for? Why not simply start your Tomcat in debug mode, wait until it &quot;hangs&quot;, and find out what it is doing by suspending the relevant thread and looking at the stack trace? \r\n\r\nOr even simpler, do a &quot;thread dump&quot; once the app hangs?","title":"Java, Spring, Tomcat, hangs at &quot;INFO: Initializing Spring root WebApplicationContext&quot;, I think I changed the allowed memory heap for my entire system","body":"<p>Isn't finding bugs what debuggers are for? Why not simply start your Tomcat in debug mode, wait until it \"hangs\", and find out what it is doing by suspending the relevant thread and looking at the stack trace? </p>\n\n<p>Or even simpler, do a \"thread dump\" once the app hangs?</p>\n"},{"tags":[],"owner":{"account_id":745832,"reputation":11,"user_id":734147,"display_name":"sumit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1304324913,"creation_date":1304324913,"answer_id":5854995,"question_id":5147254,"body_markdown":"See if you can increase the server timeout if you are running it from an IDE. From command line, you&#39;ll have to wait.\r\nIf the problem persists, try cleaning /reloading the application","title":"Java, Spring, Tomcat, hangs at &quot;INFO: Initializing Spring root WebApplicationContext&quot;, I think I changed the allowed memory heap for my entire system","body":"<p>See if you can increase the server timeout if you are running it from an IDE. From command line, you'll have to wait.\nIf the problem persists, try cleaning /reloading the application</p>\n"},{"tags":[],"owner":{"account_id":7421871,"reputation":991,"user_id":5645869,"display_name":"Rohit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658901191,"creation_date":1658901191,"answer_id":73132856,"question_id":5147254,"body_markdown":"For me it was another service that was not reachable \r\n - spring was retrying again and again to reach and wating until it timeouts\r\n - Once I started another service it worked automatically.","title":"Java, Spring, Tomcat, hangs at &quot;INFO: Initializing Spring root WebApplicationContext&quot;, I think I changed the allowed memory heap for my entire system","body":"<p>For me it was another service that was not reachable</p>\n<ul>\n<li>spring was retrying again and again to reach and wating until it timeouts</li>\n<li>Once I started another service it worked automatically.</li>\n</ul>\n"}],"owner":{"account_id":159474,"reputation":16722,"user_id":378874,"accept_rate":98,"display_name":"Rick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19280,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5147607,"answer_count":4,"score":6,"last_activity_date":1658901191,"creation_date":1298925225,"question_id":5147254,"body_markdown":"I was playing around with the Java memory heap allocation and I think I did something that set it not just for any specific tomcat folder but for the entire system as I can&#39;t run my application in Spring or with a custom tomcat folder that I had been also using for testing. When I try to run the application, it just hangs at &quot;INFO: Initializing Spring root WebApplicationContext&quot;.\r\n\r\nI am not fully clear on how I could have set this on the Linux command line by doing something like `&quot;export CATALINA_OPTS=&quot;-Xms2000m -Xmx4500m&quot;` or `&quot;JAVA_OPTS=&quot;-Xms2000m -Xmx4500m -XX:MaxPermSize=4500m&quot;`\r\n\r\nI think I accidentally put the settings I had meant for my cloud server (which has a higher amount of memory) so I gave it more memory allocation than my entire system has.\r\n\r\nI would appreciate any help if anyone can let me know if it is possible I did this and if this could be causing the issue and how I can get an output from my system as to the current allocation so I can check / change it, I have tried `&quot;export CATALINA_OPTS=&quot;-Xms2000m -Xmx4500m&quot;` but it still won&#39;t work for me.\r\n\r\nI would like to restore everything to default settings. I normally set the memory heap allocation in the /bin/startup.sh file in the tomcat folder but I had forgotten this, I think, and was experimenting with things on the command line.\r\n\r\nThanks","title":"Java, Spring, Tomcat, hangs at &quot;INFO: Initializing Spring root WebApplicationContext&quot;, I think I changed the allowed memory heap for my entire system","body":"<p>I was playing around with the Java memory heap allocation and I think I did something that set it not just for any specific tomcat folder but for the entire system as I can't run my application in Spring or with a custom tomcat folder that I had been also using for testing. When I try to run the application, it just hangs at \"INFO: Initializing Spring root WebApplicationContext\".</p>\n\n<p>I am not fully clear on how I could have set this on the Linux command line by doing something like <code>\"export CATALINA_OPTS=\"-Xms2000m -Xmx4500m\"</code> or <code>\"JAVA_OPTS=\"-Xms2000m -Xmx4500m -XX:MaxPermSize=4500m\"</code></p>\n\n<p>I think I accidentally put the settings I had meant for my cloud server (which has a higher amount of memory) so I gave it more memory allocation than my entire system has.</p>\n\n<p>I would appreciate any help if anyone can let me know if it is possible I did this and if this could be causing the issue and how I can get an output from my system as to the current allocation so I can check / change it, I have tried <code>\"export CATALINA_OPTS=\"-Xms2000m -Xmx4500m\"</code> but it still won't work for me.</p>\n\n<p>I would like to restore everything to default settings. I normally set the memory heap allocation in the /bin/startup.sh file in the tomcat folder but I had forgotten this, I think, and was experimenting with things on the command line.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","json","jackson"],"owner":{"account_id":12614574,"reputation":1355,"user_id":9172501,"display_name":"Javad Kargar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658900922,"creation_date":1658756273,"question_id":73110180,"body_markdown":"I have Classes like below:\r\n\r\n```lang-java\r\npublic class Car{\r\n   \r\n   String name;\r\n\r\n   Short type;\r\n\r\n   @JsonTypeInfo(property = &quot;type&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY, use = JsonTypeInfo.Id.NAME)\r\n   @JsonSubTypes({\r\n            @JsonSubTypes.Type(value=A.class , name = &quot;1&quot;),\r\n            @JsonSubTypes.Type(value=B.class , name = &quot;2&quot;),\r\n    })\r\n   Object o;\r\n   \r\n}\r\n\r\npublic class A{\r\n   String foo;\r\n}\r\n\r\npublic class B{\r\n   String foo;\r\n   String bar;\r\n}\r\n```\r\nWhen i send wrong `JSON` structure like:\r\n```lang-json\r\n{\r\n&quot;name&quot;: &quot;John&quot; ,\r\n&quot;type&quot;: 1 ,\r\n&quot;o&quot;: {\r\n   &quot;foo&quot;: &quot;fooValue&quot;,\r\n   &quot;bar&quot;: &quot;barValue&quot;\r\n\r\n}\r\n```\r\n\r\nI expect to get `Jackson` `MismatchedInputException` but It do not raise exception. \r\nJackson set o as A class and set `foo` property value to `fooValue`.\r\n\r\n I used `@JsonIgnoreProperties(ignoreUnknown = false)` too but it did not work.\r\nAny body have suggession?","title":"Jackson @JsonSubType Structure check","body":"<p>I have Classes like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Car{\n   \n   String name;\n\n   Short type;\n\n   @JsonTypeInfo(property = &quot;type&quot;, include = JsonTypeInfo.As.EXTERNAL_PROPERTY, use = JsonTypeInfo.Id.NAME)\n   @JsonSubTypes({\n            @JsonSubTypes.Type(value=A.class , name = &quot;1&quot;),\n            @JsonSubTypes.Type(value=B.class , name = &quot;2&quot;),\n    })\n   Object o;\n   \n}\n\npublic class A{\n   String foo;\n}\n\npublic class B{\n   String foo;\n   String bar;\n}\n</code></pre>\n<p>When i send wrong <code>JSON</code> structure like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;name&quot;: &quot;John&quot; ,\n&quot;type&quot;: 1 ,\n&quot;o&quot;: {\n   &quot;foo&quot;: &quot;fooValue&quot;,\n   &quot;bar&quot;: &quot;barValue&quot;\n\n}\n</code></pre>\n<p>I expect to get <code>Jackson</code> <code>MismatchedInputException</code> but It do not raise exception.\nJackson set o as A class and set <code>foo</code> property value to <code>fooValue</code>.</p>\n<p>I used <code>@JsonIgnoreProperties(ignoreUnknown = false)</code> too but it did not work.\nAny body have suggession?</p>\n"},{"tags":["java","jsp","session"],"answers":[{"tags":[],"owner":{"account_id":6739555,"reputation":2184,"user_id":5193194,"display_name":"karim mohsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446012467,"creation_date":1445951756,"answer_id":33369045,"question_id":33368963,"body_markdown":"    Enumeration attributeNames = session.getAttributeNames();\r\n    while (attributeNames.hasMoreElements()) {\r\n        String temp= attributeNames.nextElement();\r\n                if(temp.equalsIgnoreCase(&quot;a&quot;))\r\n                {\r\n                    session.setAttribute(&quot;a&quot;, temp);\r\n                    out.println(&quot;a is Running&lt;br&gt;&quot;);\r\n                }\r\n                if(temp.equalsIgnoreCase(&quot;b&quot;))\r\n                {\r\n                    session.setAttribute(&quot;b&quot;, temp);\r\n                    out.println(&quot;b is Running&lt;br&gt;&quot;);\r\n                }\r\n                if(temp.equalsIgnoreCase(&quot;c&quot;))\r\n                {\r\n                    session.setAttribute(&quot;c&quot;, temp);\r\n                    out.println(&quot;c is Running&lt;br&gt;&quot;);\r\n                }\r\n                if(temp.equalsIgnoreCase(&quot;d&quot;))\r\n                {\r\n                    session.setAttribute(&quot;d&quot;, temp);\r\n                    out.println(&quot;d is Running&lt;br&gt;&quot;);\r\n                }\r\n                if(temp.equalsIgnoreCase(&quot;e&quot;))\r\n                {\r\n                    session.setAttribute(&quot;e&quot;, temp);\r\n                    out.println(&quot;e is Running&lt;br&gt;&quot;);\r\n                }\r\n                if(temp.equalsIgnoreCase(&quot;f&quot;))\r\n                {\r\n                    session.setAttribute(&quot;f&quot;, temp);\r\n                    out.println(&quot;f is Running&lt;br&gt;&quot;);\r\n                }\r\n    }","title":"How to get all Session values and names?","body":"<pre><code>Enumeration attributeNames = session.getAttributeNames();\nwhile (attributeNames.hasMoreElements()) {\n    String temp= attributeNames.nextElement();\n            if(temp.equalsIgnoreCase(\"a\"))\n            {\n                session.setAttribute(\"a\", temp);\n                out.println(\"a is Running&lt;br&gt;\");\n            }\n            if(temp.equalsIgnoreCase(\"b\"))\n            {\n                session.setAttribute(\"b\", temp);\n                out.println(\"b is Running&lt;br&gt;\");\n            }\n            if(temp.equalsIgnoreCase(\"c\"))\n            {\n                session.setAttribute(\"c\", temp);\n                out.println(\"c is Running&lt;br&gt;\");\n            }\n            if(temp.equalsIgnoreCase(\"d\"))\n            {\n                session.setAttribute(\"d\", temp);\n                out.println(\"d is Running&lt;br&gt;\");\n            }\n            if(temp.equalsIgnoreCase(\"e\"))\n            {\n                session.setAttribute(\"e\", temp);\n                out.println(\"e is Running&lt;br&gt;\");\n            }\n            if(temp.equalsIgnoreCase(\"f\"))\n            {\n                session.setAttribute(\"f\", temp);\n                out.println(\"f is Running&lt;br&gt;\");\n            }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7112053,"reputation":347,"user_id":5439556,"accept_rate":0,"display_name":"Manoj Krishna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445954100,"creation_date":1445954100,"answer_id":33369923,"question_id":33368963,"body_markdown":"            Enumeration e = (Enumeration) (session.getAttributeNames());\r\n    \r\n    \t\twhile ( e.hasMoreElements())\r\n    \t\t{\r\n    \t\t\tObject tring;\r\n    \t\t\tif((tring = e.nextElement())!=null)\r\n    \t\t\t{\r\n    \t\t\t\tout.println(session.getValue((String) tring));\r\n    \t\t\t\tout.println(&quot;&lt;br/&gt;&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\nthis code is also working perfectly \r\nthanks for the spark reply @karim mohsen","title":"How to get all Session values and names?","body":"<pre><code>        Enumeration e = (Enumeration) (session.getAttributeNames());\n\n        while ( e.hasMoreElements())\n        {\n            Object tring;\n            if((tring = e.nextElement())!=null)\n            {\n                out.println(session.getValue((String) tring));\n                out.println(\"&lt;br/&gt;\");\n            }\n\n        }\n</code></pre>\n\n<p>this code is also working perfectly \nthanks for the spark reply @karim mohsen</p>\n"},{"tags":[],"owner":{"account_id":12509120,"reputation":1,"user_id":9104992,"display_name":"javed alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513366664,"creation_date":1513366664,"answer_id":47838890,"question_id":33368963,"body_markdown":"This Code is done in JSP\r\n\r\n\r\n&lt;% Enumeration&lt;String&gt; emun= session.getAttributeNames(); // getting all attributes names in session %&gt;\r\n\r\n&lt;%while(emun.hasMoreElements())  //iterating over enum\r\n{%&gt;\r\n\r\n&lt;%String attribute=emun.nextElement() ; // %&gt;\r\n&lt;%String data = (String) session.getAttribute(attribute); // instead of String Take the Data Type%&gt;\r\n&lt;%=data %&gt;\r\n\t&lt;% }%&gt;","title":"How to get all Session values and names?","body":"<p>This Code is done in JSP</p>\n\n emun= session.getAttributeNames(); // getting all attributes names in session %>\n\n\n\n\n\n\n    \n"},{"tags":[],"owner":{"account_id":14014677,"reputation":442,"user_id":10122488,"display_name":"Max CodeSmith"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1561074007,"creation_date":1533941054,"answer_id":51794874,"question_id":33368963,"body_markdown":"    Enumeration&lt;String&gt; attributes = request.getSession().getAttributeNames();\r\n    while (attributes.hasMoreElements()) {\r\n\t\tString attribute = (String) attributes.nextElement();\r\n\t\tSystem.out.println(attribute+&quot; : &quot;+request.getSession().getAttribute(attribute));\r\n    }","title":"How to get all Session values and names?","body":"<pre><code>Enumeration&lt;String&gt; attributes = request.getSession().getAttributeNames();\nwhile (attributes.hasMoreElements()) {\n    String attribute = (String) attributes.nextElement();\n    System.out.println(attribute+\" : \"+request.getSession().getAttribute(attribute));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17848089,"reputation":121,"user_id":12964368,"display_name":"Arpico ICT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595922604,"creation_date":1595922604,"answer_id":63129364,"question_id":33368963,"body_markdown":"    Enumeration keys = session.getAttributeNames();\r\n    while (keys.hasMoreElements()){\r\n       String key = (String)keys.nextElement();\r\n       out.println(key + &quot;: &quot; + session.getValue(key) + &quot;&lt;br&gt;&quot;);\r\n    }\r\n this code is working on jsp","title":"How to get all Session values and names?","body":"<pre><code>Enumeration keys = session.getAttributeNames();\nwhile (keys.hasMoreElements()){\n   String key = (String)keys.nextElement();\n   out.println(key + &quot;: &quot; + session.getValue(key) + &quot;&lt;br&gt;&quot;);\n}\n</code></pre>\n<p>this code is working on jsp</p>\n"},{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658899690,"creation_date":1658899042,"answer_id":73132547,"question_id":33368963,"body_markdown":"## One-liner:\r\nBy converting Enumeration to a list or stream (Improved upon Max CodeSmith&#39;s answer)\r\n```\r\nHttpSession session = request.getSession();\r\n\r\nCollections.list(session.getAttributeNames()).forEach(name -&gt; System.out.println(name + &quot; : &quot; + session.getAttribute(name)));\r\n```\r\nMore info: \r\n\r\n\r\n1. [Iterate an Enumeration in Java 8](https://stackoverflow.com/questions/23261803/iterate-an-enumeration-in-java-8)\r\n\r\n2. [How do I turn a Java Enumeration into a Stream?](https://stackoverflow.com/questions/33242577/how-do-i-turn-a-java-enumeration-into-a-stream)","title":"How to get all Session values and names?","body":"<h2>One-liner:</h2>\n<p>By converting Enumeration to a list or stream (Improved upon Max CodeSmith's answer)</p>\n<pre><code>HttpSession session = request.getSession();\n\nCollections.list(session.getAttributeNames()).forEach(name -&gt; System.out.println(name + &quot; : &quot; + session.getAttribute(name)));\n</code></pre>\n<p>More info:</p>\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/23261803/iterate-an-enumeration-in-java-8\">Iterate an Enumeration in Java 8</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/33242577/how-do-i-turn-a-java-enumeration-into-a-stream\">How do I turn a Java Enumeration into a Stream?</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":7112053,"reputation":347,"user_id":5439556,"accept_rate":0,"display_name":"Manoj Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37114,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":6,"score":10,"last_activity_date":1658899690,"creation_date":1445951553,"question_id":33368963,"body_markdown":"if i have values in a session and i need to get all the values in a session like\r\n\r\n    String[] name = request.getParameterValues(&quot;values&quot;);\r\n    HttpSession session = request.getSession();\r\n\t\r\n    for(String temp:name)\r\n\t{\r\n\t\tif(temp.equalsIgnoreCase(&quot;a&quot;))\r\n\t\t{\r\n\t\t\tsession.setAttribute(&quot;a&quot;, temp);\r\n\t\t\tout.println(&quot;a is Running&lt;br&gt;&quot;);\r\n\t\t}\r\n\t\r\n\t\tif(temp.equalsIgnoreCase(&quot;b&quot;))\r\n\t\t{\r\n\t\t\tsession.setAttribute(&quot;b&quot;, temp);\r\n\t\t\tout.println(&quot;b is Running&lt;br&gt;&quot;);\r\n\t\t}\r\n\r\n\t\tif(temp.equalsIgnoreCase(&quot;c&quot;))\r\n\t\t{\r\n\t\t\tsession.setAttribute(&quot;c&quot;, temp);\r\n\t\t\tout.println(&quot;c is Running&lt;br&gt;&quot;);\r\n\t\t}\r\n\r\n\t\tif(temp.equalsIgnoreCase(&quot;d&quot;))\r\n\t\t{\r\n\t\t\tsession.setAttribute(&quot;d&quot;, temp);\r\n\t\t\tout.println(&quot;d is Running&lt;br&gt;&quot;);\r\n\t\t}\r\n\r\n\t\tif(temp.equalsIgnoreCase(&quot;e&quot;))\r\n\t\t{\r\n\t\t\tsession.setAttribute(&quot;e&quot;, temp);\r\n\t\t\tout.println(&quot;e is Running&lt;br&gt;&quot;);\r\n\t\t}\r\n\r\n\t\tif(temp.equalsIgnoreCase(&quot;f&quot;))\r\n\t\t{\r\n\t\t\tsession.setAttribute(&quot;f&quot;, temp);\r\n\t\t\tout.println(&quot;f is Running&lt;br&gt;&quot;);\r\n\t\t}\r\n\t}\r\n\r\n - if I get a set of checkbox values to a string. Im setting all the\r\n   values which are selected in a .jsp to a session object. I need to\r\n   retrieve only the selected values in a jsp which are saved in the\r\n   above code.\r\n\r\n","title":"How to get all Session values and names?","body":"<p>if i have values in a session and i need to get all the values in a session like</p>\n\n<pre><code>String[] name = request.getParameterValues(\"values\");\nHttpSession session = request.getSession();\n\nfor(String temp:name)\n{\n    if(temp.equalsIgnoreCase(\"a\"))\n    {\n        session.setAttribute(\"a\", temp);\n        out.println(\"a is Running&lt;br&gt;\");\n    }\n\n    if(temp.equalsIgnoreCase(\"b\"))\n    {\n        session.setAttribute(\"b\", temp);\n        out.println(\"b is Running&lt;br&gt;\");\n    }\n\n    if(temp.equalsIgnoreCase(\"c\"))\n    {\n        session.setAttribute(\"c\", temp);\n        out.println(\"c is Running&lt;br&gt;\");\n    }\n\n    if(temp.equalsIgnoreCase(\"d\"))\n    {\n        session.setAttribute(\"d\", temp);\n        out.println(\"d is Running&lt;br&gt;\");\n    }\n\n    if(temp.equalsIgnoreCase(\"e\"))\n    {\n        session.setAttribute(\"e\", temp);\n        out.println(\"e is Running&lt;br&gt;\");\n    }\n\n    if(temp.equalsIgnoreCase(\"f\"))\n    {\n        session.setAttribute(\"f\", temp);\n        out.println(\"f is Running&lt;br&gt;\");\n    }\n}\n</code></pre>\n\n<ul>\n<li>if I get a set of checkbox values to a string. Im setting all the\nvalues which are selected in a .jsp to a session object. I need to\nretrieve only the selected values in a jsp which are saved in the\nabove code.</li>\n</ul>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1658896881,"post_id":73130945,"comment_id":129162919,"body_markdown":"Can you also share an example PDF output of your code that illustrates the issue for analysis?","body":"Can you also share an example PDF output of your code that illustrates the issue for analysis?"},{"owner":{"account_id":4668938,"reputation":359,"user_id":3781237,"accept_rate":60,"display_name":"Barn on a Hill"},"score":0,"creation_date":1658899637,"post_id":73130945,"comment_id":129163341,"body_markdown":"I have added an example output PDF at the end of the post which showcases the issue @mkl","body":"I have added an example output PDF at the end of the post which showcases the issue @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1658931284,"post_id":73130945,"comment_id":129175059,"body_markdown":"One issue: You iterate over the annotations of `dupPage` and then add each of them to `dupPage` (`dupPage.getAnnotations().add(anno)`) - this causes all those annotations to be present twice in the annotation array of `dupPage` which depending on the viewer has funny effects.","body":"One issue: You iterate over the annotations of <code>dupPage</code> and then add each of them to <code>dupPage</code> (<code>dupPage.getAnnotations().add(anno)</code>) - this causes all those annotations to be present twice in the annotation array of <code>dupPage</code> which depending on the viewer has funny effects."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1658932125,"post_id":73130945,"comment_id":129175471,"body_markdown":"Another issue: According to the JavaDocs of `getWidgets()` : _The list of widget annotations. Be aware that this list is &lt;i&gt;not&lt;/i&gt; backed by the actual widget collection of the field, so adding or deleting has no effect on the PDF document until you call `setWidgets` with the modified list._ Thus, `anno` and `dupField` in the end are disconnected. As you eventually set the value of the fields in the `AcroForm` form definition, you set a value in `dupField` but not in `anno`. Some viewers may associate those objects by their name, but the value of which of those objects is used, may differ.","body":"Another issue: According to the JavaDocs of <code>getWidgets()</code> : <i>The list of widget annotations. Be aware that this list is &lt;i&gt;not&lt;/i&gt; backed by the actual widget collection of the field, so adding or deleting has no effect on the PDF document until you call <code>setWidgets</code> with the modified list.</i> Thus, <code>anno</code> and <code>dupField</code> in the end are disconnected. As you eventually set the value of the fields in the <code>AcroForm</code> form definition, you set a value in <code>dupField</code> but not in <code>anno</code>. Some viewers may associate those objects by their name, but the value of which of those objects is used, may differ."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1658932602,"post_id":73130945,"comment_id":129175705,"body_markdown":"Another problem you don&#39;t get to deal with yet is that the PDF object underneath `anno` in your file is not merely a widget annotation, it&#39;s a widget annotation merged with a field. Thus, if you successfully added `anno` as a child element of `dupField`, you would have a field hierarchy with `dupField` as root field named e.g. `ZN0p1` and a child field `anno` named `ZN0p1.ZN0p1`. I&#39;ll try to fix this later this week and write an actual answer unless someone else can do so earlier...","body":"Another problem you don&#39;t get to deal with yet is that the PDF object underneath <code>anno</code> in your file is not merely a widget annotation, it&#39;s a widget annotation merged with a field. Thus, if you successfully added <code>anno</code> as a child element of <code>dupField</code>, you would have a field hierarchy with <code>dupField</code> as root field named e.g. <code>ZN0p1</code> and a child field <code>anno</code> named <code>ZN0p1.ZN0p1</code>. I&#39;ll try to fix this later this week and write an actual answer unless someone else can do so earlier..."}],"owner":{"account_id":4668938,"reputation":359,"user_id":3781237,"accept_rate":60,"display_name":"Barn on a Hill"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658899495,"creation_date":1658880341,"question_id":73130945,"body_markdown":"I have a form filling program that takes in a pdf template with rows of fillable fields as well as JSON data for the field values, then populates said values into the form. **If there&#39;s more rows than can fit on one page, the page is duplicated and the extra rows are added to the duplicate page.** The page is deep cloned, then the tValues for the page annotations are changed, as well as the page for the annotation, and new fields are created for the new page. **When I open my exported pdf in chrome I can see the field values on the new page, but not in Acrobat.** The pdf can be re-saved from chrome to be opened in Acrobat with the values, but this strips away the fillable fields, and I don&#39;t want to make users do a work-around for what&#39;s likely developer error, since I don&#39;t have an in-depth understanding of the PDF spec.\r\n\r\nBelow is my code for duplicating the page, I&#39;m hoping someone more generally knowledgeable about PDFs can identify what I&#39;m doing wrong so that I can fix it. I haven&#39;t included the other helper functions called at the end, but they will essentially find the correct PDField instance and call setValue() on it.\r\n\r\n    \tprivate void createContent(PDDocument document, JSONObject jsonObj) throws IOException {\r\n\r\n\t\tfinal PDAcroForm acroForm = document.getDocumentCatalog().getAcroForm();\r\n\t\tfinal JSONArray rowsArr = (JSONArray)jsonObj.get(&quot;rows&quot;);\r\n\t\tfinal int pages = (int)Math.ceil(rowsArr.size() / 34.0);\r\n\t\t\r\n\t\tif (pages &gt; 1)\r\n\t\t{\r\n\t\t\t// Add additional pages\r\n\t\t\tfinal PDFCloneUtility cloner = new PDFCloneUtility(document);\r\n\t\t\tfinal PDPage oldPage = document.getPage(0);\r\n\r\n\t\t\tfor (int i=1; i &lt; pages; i++)\r\n\t\t\t{\r\n\t\t\t\tfinal COSDictionary dupPageDict = (COSDictionary)cloner.cloneForNewDocument(oldPage);\r\n\t\t\t\tfinal PDPage dupPage = new PDPage(dupPageDict);\r\n\r\n\t\t\t\tfinal List&lt;PDAnnotation&gt; dupAnnoList = dupPage.getAnnotations();\r\n\t\t\t\tfor (PDAnnotation anno : dupAnnoList)\r\n\t\t\t\t{\r\n\t\t\t\t\tfinal COSDictionary annoDict = anno.getCOSObject();\r\n\t\t\t\t\tfinal String oldTStr = annoDict.getString(COSName.T); // Field name, ex: INC0\r\n\r\n\t\t\t\t\t// Change annotation to new page and create a field for it\r\n\t\t\t\t\tif (oldTStr.endsWith(String.valueOf(i-1)))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Change page link and add to dupPage\r\n\t\t\t\t\t\tanno.setPage(dupPage);\r\n\t\t\t\t\t\tdupPage.getAnnotations().add(anno);\r\n\r\n\t\t\t\t\t\t// Update anno name for new page\r\n\t\t\t\t\t\tfinal String dupTStr = oldTStr.substring(0, oldTStr.length() - 1) + i; // ex: INC1\r\n\t\t\t\t\t\tannoDict.setItem(COSName.T, new COSString(dupTStr));\r\n\r\n\t\t\t\t\t\tannoDict.setItem(COSName.AP, null);\r\n\r\n\t\t\t\t\t\t// All the fields should be text fields.\r\n\t\t\t\t\t\tCOSBase ftBase = annoDict.getItem(COSName.FT);\r\n\t\t\t\t\t\tif (ftBase instanceof COSName &amp;&amp; COSName.TX == ftBase)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfinal PDTextField oldField = (PDTextField) acroForm.getField(oldTStr);\r\n\t\t\t\t\t\t\tif (oldField != null)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t// Create new field for anno\r\n\t\t\t\t\t\t\t\tfinal PDTextField dupField = new PDTextField(acroForm);\r\n\t\t\t\t\t\t\t\tdupField.setPartialName(dupTStr);\r\n\t\t\t\t\t\t\t\tdupField.setDefaultAppearance(oldField.getDefaultAppearance());\r\n\r\n\t\t\t\t\t\t\t\tif (anno instanceof PDAnnotationWidget)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tdupField.getWidgets().add((PDAnnotationWidget) anno);\r\n\t\t\t\t\t\t\t\t\tacroForm.getFields().add(dupField);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Append dupPage before instructions page (which is at the end of the doc)\r\n\t\t\t\tfinal PDPageTree pgTree = document.getDocumentCatalog().getPages();\r\n\t\t\t\tpgTree.insertBefore(dupPage, pgTree.get(pgTree.getCount() - 1));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tPDFont font = PDType1Font.HELVETICA;\r\n\t\tPDResources resources = new PDResources();\r\n\t\tresources.put(COSName.getPDFName(&quot;Helv&quot;), font);\r\n\t\tacroForm.setDefaultResources(resources);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; pages; i++)\r\n\t\t{\r\n\t\t\taddHeaderInfo(acroForm, jsonObj, i);\r\n\t\t\taddMainInfo(acroForm, rowsArr, i);\r\n\t\t\taddFooterInfo(acroForm, jsonObj, i);\r\n\t\t}\r\n\t}\r\n\r\nExample output file: https://www.mediafire.com/file/7zu7xxo2fflpdnw/example_out_73130945.pdf/file","title":"Java PDFbox 2.0.25 - After copying fillable fields to another page, browser can see the copied field values but not Acrobat","body":"<p>I have a form filling program that takes in a pdf template with rows of fillable fields as well as JSON data for the field values, then populates said values into the form. <strong>If there's more rows than can fit on one page, the page is duplicated and the extra rows are added to the duplicate page.</strong> The page is deep cloned, then the tValues for the page annotations are changed, as well as the page for the annotation, and new fields are created for the new page. <strong>When I open my exported pdf in chrome I can see the field values on the new page, but not in Acrobat.</strong> The pdf can be re-saved from chrome to be opened in Acrobat with the values, but this strips away the fillable fields, and I don't want to make users do a work-around for what's likely developer error, since I don't have an in-depth understanding of the PDF spec.</p>\n<p>Below is my code for duplicating the page, I'm hoping someone more generally knowledgeable about PDFs can identify what I'm doing wrong so that I can fix it. I haven't included the other helper functions called at the end, but they will essentially find the correct PDField instance and call setValue() on it.</p>\n<pre><code>    private void createContent(PDDocument document, JSONObject jsonObj) throws IOException {\n\n    final PDAcroForm acroForm = document.getDocumentCatalog().getAcroForm();\n    final JSONArray rowsArr = (JSONArray)jsonObj.get(&quot;rows&quot;);\n    final int pages = (int)Math.ceil(rowsArr.size() / 34.0);\n    \n    if (pages &gt; 1)\n    {\n        // Add additional pages\n        final PDFCloneUtility cloner = new PDFCloneUtility(document);\n        final PDPage oldPage = document.getPage(0);\n\n        for (int i=1; i &lt; pages; i++)\n        {\n            final COSDictionary dupPageDict = (COSDictionary)cloner.cloneForNewDocument(oldPage);\n            final PDPage dupPage = new PDPage(dupPageDict);\n\n            final List&lt;PDAnnotation&gt; dupAnnoList = dupPage.getAnnotations();\n            for (PDAnnotation anno : dupAnnoList)\n            {\n                final COSDictionary annoDict = anno.getCOSObject();\n                final String oldTStr = annoDict.getString(COSName.T); // Field name, ex: INC0\n\n                // Change annotation to new page and create a field for it\n                if (oldTStr.endsWith(String.valueOf(i-1)))\n                {\n                    // Change page link and add to dupPage\n                    anno.setPage(dupPage);\n                    dupPage.getAnnotations().add(anno);\n\n                    // Update anno name for new page\n                    final String dupTStr = oldTStr.substring(0, oldTStr.length() - 1) + i; // ex: INC1\n                    annoDict.setItem(COSName.T, new COSString(dupTStr));\n\n                    annoDict.setItem(COSName.AP, null);\n\n                    // All the fields should be text fields.\n                    COSBase ftBase = annoDict.getItem(COSName.FT);\n                    if (ftBase instanceof COSName &amp;&amp; COSName.TX == ftBase)\n                    {\n                        final PDTextField oldField = (PDTextField) acroForm.getField(oldTStr);\n                        if (oldField != null)\n                        {\n                            // Create new field for anno\n                            final PDTextField dupField = new PDTextField(acroForm);\n                            dupField.setPartialName(dupTStr);\n                            dupField.setDefaultAppearance(oldField.getDefaultAppearance());\n\n                            if (anno instanceof PDAnnotationWidget)\n                            {\n                                dupField.getWidgets().add((PDAnnotationWidget) anno);\n                                acroForm.getFields().add(dupField);\n                            }\n                        }\n                    }\n                }\n            }\n\n            // Append dupPage before instructions page (which is at the end of the doc)\n            final PDPageTree pgTree = document.getDocumentCatalog().getPages();\n            pgTree.insertBefore(dupPage, pgTree.get(pgTree.getCount() - 1));\n        }\n    }\n    \n    PDFont font = PDType1Font.HELVETICA;\n    PDResources resources = new PDResources();\n    resources.put(COSName.getPDFName(&quot;Helv&quot;), font);\n    acroForm.setDefaultResources(resources);\n    \n    for (int i = 0; i &lt; pages; i++)\n    {\n        addHeaderInfo(acroForm, jsonObj, i);\n        addMainInfo(acroForm, rowsArr, i);\n        addFooterInfo(acroForm, jsonObj, i);\n    }\n}\n</code></pre>\n<p>Example output file: <a href=\"https://www.mediafire.com/file/7zu7xxo2fflpdnw/example_out_73130945.pdf/file\" rel=\"nofollow noreferrer\">https://www.mediafire.com/file/7zu7xxo2fflpdnw/example_out_73130945.pdf/file</a></p>\n"},{"tags":["java","validation","counter"],"comments":[{"owner":{"account_id":3930812,"reputation":3075,"user_id":3249457,"accept_rate":75,"display_name":"eivamu"},"score":0,"creation_date":1398367436,"post_id":23277619,"comment_id":35628043,"body_markdown":"Nice and honest question :)","body":"Nice and honest question :)"}],"answers":[{"tags":[],"owner":{"account_id":4320007,"reputation":3489,"user_id":3528562,"display_name":"Zoyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398366569,"creation_date":1398366569,"answer_id":23277735,"question_id":23277619,"body_markdown":"This line:\r\n\r\n    int range = Integer.parseInt(input);\r\n\r\nappears before your while loop. So, you know how to convert the input to an int. The next step is to realize that you should do it each time the user gives you an input. You are almost there.","title":"Java Input Validation for Number Range and Numeric values only with counter","body":"<p>This line:</p>\n\n<pre><code>int range = Integer.parseInt(input);\n</code></pre>\n\n<p>appears before your while loop. So, you know how to convert the input to an int. The next step is to realize that you should do it each time the user gives you an input. You are almost there.</p>\n"},{"tags":[],"owner":{"account_id":193447,"reputation":3946,"user_id":435187,"display_name":"Asif Bhutto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398367546,"creation_date":1398366758,"answer_id":23277798,"question_id":23277619,"body_markdown":"If input string does not contain a valid number format in string then this line will throw `NumberFormatException`  \r\n\r\n    int range = Integer.parseInt(input)\r\n\r\nYou need to put it try catch block\r\n\r\n    try {\r\n    \t\t\tInteger.parseInt(&quot;test&quot;);\r\n    \t\t} catch (java.lang.NumberFormatException e) {\r\n        \t\t\tcount++; //allow user for next attempt.\r\n                  //    showInputDialog HERE\r\n                  if(count==3) {\r\n                    // show your msg here in JDIalog.\r\n                  System.exit(0);\r\n               }\r\n    }\r\n\r\nFor 3 chances to input the correct information, you need to use loop, inside loop call your showInputDialog method","title":"Java Input Validation for Number Range and Numeric values only with counter","body":"<p>If input string does not contain a valid number format in string then this line will throw <code>NumberFormatException</code>  </p>\n\n<pre><code>int range = Integer.parseInt(input)\n</code></pre>\n\n<p>You need to put it try catch block</p>\n\n<pre><code>try {\n            Integer.parseInt(\"test\");\n        } catch (java.lang.NumberFormatException e) {\n                count++; //allow user for next attempt.\n              //    showInputDialog HERE\n              if(count==3) {\n                // show your msg here in JDIalog.\n              System.exit(0);\n           }\n}\n</code></pre>\n\n<p>For 3 chances to input the correct information, you need to use loop, inside loop call your showInputDialog method</p>\n"},{"tags":[],"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1398371777,"creation_date":1398371777,"answer_id":23279261,"question_id":23277619,"body_markdown":"As others have said to see if a `String` is a valid integer you catch a `NumberFormatException`.\r\n\r\n    try {\r\n        int number = Integer.parseInt(input);\r\n        // no exception thrown, that means its a valid Integer\r\n    } catch(NumberFormatException e) {\r\n        // invalid Integer\r\n    }\r\n\r\n\r\nHowever I would also like to point out a code change, this is a prefect example of a do while loop. Do while loops are great when you want to use a loop but run the condition at the end of the first iteration.\r\n\r\nIn your case you always want to take the user input. By evaluating the while loops condition after the first loop you can reduce some of that duplicate code you have to do prior to the loop. Consider the following code change. \r\n\r\n    int count = 0;\r\n    String input;\r\n    int range;\r\n    do {\r\n\t    input = JOptionPane.showInputDialog(quantity);\r\n\t    try {\r\n\t    \trange = Integer.parseInt(input);\r\n\t    } catch(NumberFormatException e) {\r\n    \t\tJOptionPane.showMessageDialog(null, &quot;Sorry that input is not valid, please choose a quantity from 1-9&quot;);\r\n\t        count++;\r\n    \t\t// set the range outside the range so we go through the loop again.\r\n\t    \trange = -1;\r\n\t    }\r\n    } while((range &gt; 9 || range &lt; 1) &amp;&amp; (count &lt; 2));\r\n    \r\n    if (count == 2) {\r\n        JOptionPane.showMessageDialog(null, \r\n                &quot;Sorry you failed to input a valid response, terminating.&quot;);\r\n        System.exit(0);\r\n    }\r\n    return range;","title":"Java Input Validation for Number Range and Numeric values only with counter","body":"<p>As others have said to see if a <code>String</code> is a valid integer you catch a <code>NumberFormatException</code>.</p>\n\n<pre><code>try {\n    int number = Integer.parseInt(input);\n    // no exception thrown, that means its a valid Integer\n} catch(NumberFormatException e) {\n    // invalid Integer\n}\n</code></pre>\n\n<p>However I would also like to point out a code change, this is a prefect example of a do while loop. Do while loops are great when you want to use a loop but run the condition at the end of the first iteration.</p>\n\n<p>In your case you always want to take the user input. By evaluating the while loops condition after the first loop you can reduce some of that duplicate code you have to do prior to the loop. Consider the following code change. </p>\n\n<pre><code>int count = 0;\nString input;\nint range;\ndo {\n    input = JOptionPane.showInputDialog(quantity);\n    try {\n        range = Integer.parseInt(input);\n    } catch(NumberFormatException e) {\n        JOptionPane.showMessageDialog(null, \"Sorry that input is not valid, please choose a quantity from 1-9\");\n        count++;\n        // set the range outside the range so we go through the loop again.\n        range = -1;\n    }\n} while((range &gt; 9 || range &lt; 1) &amp;&amp; (count &lt; 2));\n\nif (count == 2) {\n    JOptionPane.showMessageDialog(null, \n            \"Sorry you failed to input a valid response, terminating.\");\n    System.exit(0);\n}\nreturn range;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12974630,"reputation":1,"user_id":9379067,"display_name":"Praz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535921041,"creation_date":1535920635,"answer_id":52140855,"question_id":23277619,"body_markdown":"As of JDK 1.8, you can use the *temporal* package to solve this, along-with the try-catch as shown by rest of the answers from this thread:\r\n\r\n    import java.time.temporal.ValueRange;\r\n    ...\r\n\tpublic static void main (String[] args){\r\n    ValueRange range = ValueRange.of(1,9);\r\n\r\n\t\tint num, counter = 0;\r\n\r\n\t\tdo {\r\n\t\tSystem.out.print(&quot;Enter num: &quot;);\r\n\t\tnum = Integer.parseInt(scanner.next());\r\n\t\tif (range.isValidIntValue(num))\r\n\t\t\tSystem.out.println(&quot;InRange&quot;);\r\n\t\telse \r\n\t\t\tSystem.out.println(&quot;OutOfRange&quot;);\r\n\r\n\t\tcounter ++;\r\n\t\t} while (!range.isValidIntValue(num) &amp;&amp; counter &lt; 3);\r\n    ...\r\n    }\r\n","title":"Java Input Validation for Number Range and Numeric values only with counter","body":"<p>As of JDK 1.8, you can use the <em>temporal</em> package to solve this, along-with the try-catch as shown by rest of the answers from this thread:</p>\n\n<pre><code>import java.time.temporal.ValueRange;\n...\npublic static void main (String[] args){\nValueRange range = ValueRange.of(1,9);\n\n    int num, counter = 0;\n\n    do {\n    System.out.print(\"Enter num: \");\n    num = Integer.parseInt(scanner.next());\n    if (range.isValidIntValue(num))\n        System.out.println(\"InRange\");\n    else \n        System.out.println(\"OutOfRange\");\n\n    counter ++;\n    } while (!range.isValidIntValue(num) &amp;&amp; counter &lt; 3);\n...\n}\n</code></pre>\n"}],"owner":{"account_id":4333057,"reputation":39,"user_id":3537993,"accept_rate":86,"display_name":"user3537993"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17829,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23279261,"answer_count":4,"score":2,"last_activity_date":1658899479,"creation_date":1398366214,"question_id":23277619,"body_markdown":"I am trying to complete a task and I am unsure what route to take. I have tried `while`, `if`, and a combination of statements and cannot get the input validation I need.  \r\n\r\n - I am trying to validate user input and ensure their input is a number between 0 and 10 (excluding 0 and 10). \r\n - Also I need to make sure that what they do enter is a number and not some symbol or letter. \r\n - Finally I need a counter that will allow them 3 chances to input the correct information.  \r\n\r\nThe code below is my method I am trying to setup to accomplish this.\r\n\r\n   \r\n    private static int getNumericInput(String quantity) {\r\n        int count = 0;\r\n        String input;\r\n        input = JOptionPane.showInputDialog(quantity);\r\n        int range = Integer.parseInt(input);\r\n\r\n        while ((range &gt; 9 || range &lt; 1) &amp;&amp; (count &lt; 2)) {\r\n            JOptionPane.showMessageDialog(null, \r\n                    &quot;Sorry that input is not valid, please choose a quantity from 1-9&quot;);\r\n            input = JOptionPane.showInputDialog(quantity);\r\n            count++;\r\n        }\r\n        if (count == 2) {\r\n            JOptionPane.showMessageDialog(null, \r\n                    &quot;Sorry you failed to input a valid response, terminating.&quot;);\r\n            System.exit(0);\r\n        }\r\n        return range;\r\n    }","title":"Java Input Validation for Number Range and Numeric values only with counter","body":"<p>I am trying to complete a task and I am unsure what route to take. I have tried <code>while</code>, <code>if</code>, and a combination of statements and cannot get the input validation I need.  </p>\n\n<ul>\n<li>I am trying to validate user input and ensure their input is a number between 0 and 10 (excluding 0 and 10). </li>\n<li>Also I need to make sure that what they do enter is a number and not some symbol or letter. </li>\n<li>Finally I need a counter that will allow them 3 chances to input the correct information.  </li>\n</ul>\n\n<p>The code below is my method I am trying to setup to accomplish this.</p>\n\n<pre><code>private static int getNumericInput(String quantity) {\n    int count = 0;\n    String input;\n    input = JOptionPane.showInputDialog(quantity);\n    int range = Integer.parseInt(input);\n\n    while ((range &gt; 9 || range &lt; 1) &amp;&amp; (count &lt; 2)) {\n        JOptionPane.showMessageDialog(null, \n                \"Sorry that input is not valid, please choose a quantity from 1-9\");\n        input = JOptionPane.showInputDialog(quantity);\n        count++;\n    }\n    if (count == 2) {\n        JOptionPane.showMessageDialog(null, \n                \"Sorry you failed to input a valid response, terminating.\");\n        System.exit(0);\n    }\n    return range;\n}\n</code></pre>\n"},{"tags":["java","orm","jpa"],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282821866,"creation_date":1282817276,"answer_id":3574049,"question_id":3574029,"body_markdown":"Obviously, a number which is the count from the query:) Its type by specification is Long.","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>Obviously, a number which is the count from the query:) Its type by specification is Long.</p>\n"},{"tags":[],"owner":{"account_id":142796,"reputation":5378,"user_id":350722,"accept_rate":80,"display_name":"Bogdan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282822164,"creation_date":1282817562,"answer_id":3574105,"question_id":3574029,"body_markdown":"AFAIK COUNT function returns Long","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>AFAIK COUNT function returns Long</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1544625279,"creation_date":1282820473,"answer_id":3574441,"question_id":3574029,"body_markdown":"As per the [JPA specification][1], COUNT returns a Long:\r\n\r\n&gt; ### 4.8.4 Aggregate Functions in the SELECT Clause The result of a query\r\n&gt; may be the result of an aggregate\r\n&gt; function applied to a path expression.\r\n&gt; \r\n&gt; The following aggregate functions can\r\n&gt; be used in the SELECT clause of a\r\n&gt; query: AVG, COUNT, MAX, MIN, SUM.\r\n&gt; \r\n&gt; For all aggregate functions except\r\n&gt; COUNT, the path expression that is the\r\n&gt; argument to the aggregate function\r\n&gt; must terminate in a state-field. The\r\n&gt; path expression argument to COUNT may\r\n&gt; terminate in either a state-field or a\r\n&gt; association-field, or the argument to\r\n&gt; COUNT may be an identification\r\n&gt; variable.\r\n&gt; \r\n&gt; Arguments to the functions SUM and AVG\r\n&gt; must be numeric. Arguments to the\r\n&gt; functions MAX and MIN must correspond\r\n&gt; to orderable state-field types (i.e.,\r\n&gt; numeric types, string types, character\r\n&gt; types, or date types).\r\n&gt; \r\n&gt; The Java type that is contained in the\r\n&gt; result of a query using an aggregate\r\n&gt; function is as follows:\r\n&gt; \r\n&gt; - **COUNT returns Long.**\r\n&gt; - MAX, MIN return the type of the state-field to which they are applied.\r\n&gt; - AVG returns Double.\r\n&gt; - SUM returns Long when applied to state-fields of integral types (other\r\n&gt; than BigInteger); Double when applied\r\n&gt; to state-fields of floating point\r\n&gt; types; BigInteger when applied to\r\n&gt; state-fields of type BigInteger; and\r\n&gt; BigDecimal when applied to\r\n&gt; state-fields of type BigDecimal.\r\n&gt; \r\n&gt; If SUM, AVG, MAX, or MIN is used, and\r\n&gt; there are no values to which the\r\n&gt; aggregate function can be applied, the\r\n&gt; result of the aggregate function is\r\n&gt; NULL.\r\n&gt; \r\n&gt; If COUNT is used, and there are no\r\n&gt; values to which COUNT can be applied,\r\n&gt; the result of the aggregate function\r\n&gt; is 0.\r\n&gt; \r\n&gt; The argument to an aggregate function\r\n&gt; may be preceded by the keyword\r\n&gt; DISTINCT to specify that duplicate\r\n&gt; values are to be eliminated before the\r\n&gt; aggregate function is applied.\r\n&gt; \r\n&gt; Null values are eliminated before the\r\n&gt; aggregate function is applied,\r\n&gt; regardless of whether the keyword\r\n&gt; DISTINCT is specified.\r\n\r\n\r\n  [1]: https://download.oracle.com/otndocs/jcp/ejb-3_0-fr-eval-oth-JSpec/","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>As per the <a href=\"https://download.oracle.com/otndocs/jcp/ejb-3_0-fr-eval-oth-JSpec/\" rel=\"noreferrer\">JPA specification</a>, COUNT returns a Long:</p>\n\n<blockquote>\n  <h3>4.8.4 Aggregate Functions in the SELECT Clause The result of a query</h3>\n  \n  <p>may be the result of an aggregate\n  function applied to a path expression.</p>\n  \n  <p>The following aggregate functions can\n  be used in the SELECT clause of a\n  query: AVG, COUNT, MAX, MIN, SUM.</p>\n  \n  <p>For all aggregate functions except\n  COUNT, the path expression that is the\n  argument to the aggregate function\n  must terminate in a state-field. The\n  path expression argument to COUNT may\n  terminate in either a state-field or a\n  association-field, or the argument to\n  COUNT may be an identification\n  variable.</p>\n  \n  <p>Arguments to the functions SUM and AVG\n  must be numeric. Arguments to the\n  functions MAX and MIN must correspond\n  to orderable state-field types (i.e.,\n  numeric types, string types, character\n  types, or date types).</p>\n  \n  <p>The Java type that is contained in the\n  result of a query using an aggregate\n  function is as follows:</p>\n  \n  <ul>\n  <li><strong>COUNT returns Long.</strong></li>\n  <li>MAX, MIN return the type of the state-field to which they are applied.</li>\n  <li>AVG returns Double.</li>\n  <li>SUM returns Long when applied to state-fields of integral types (other\n  than BigInteger); Double when applied\n  to state-fields of floating point\n  types; BigInteger when applied to\n  state-fields of type BigInteger; and\n  BigDecimal when applied to\n  state-fields of type BigDecimal.</li>\n  </ul>\n  \n  <p>If SUM, AVG, MAX, or MIN is used, and\n  there are no values to which the\n  aggregate function can be applied, the\n  result of the aggregate function is\n  NULL.</p>\n  \n  <p>If COUNT is used, and there are no\n  values to which COUNT can be applied,\n  the result of the aggregate function\n  is 0.</p>\n  \n  <p>The argument to an aggregate function\n  may be preceded by the keyword\n  DISTINCT to specify that duplicate\n  values are to be eliminated before the\n  aggregate function is applied.</p>\n  \n  <p>Null values are eliminated before the\n  aggregate function is applied,\n  regardless of whether the keyword\n  DISTINCT is specified.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7910,"reputation":4757,"user_id":13935,"accept_rate":59,"display_name":"Simon Gibbs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1282822683,"creation_date":1282822683,"answer_id":3574683,"question_id":3574029,"body_markdown":"COUNT(t) specifically returns java.lang.Long. When its appears on its own in this context it is returned as-is. \r\n\r\n(In other contexts the Long generated by COUNT may be wrapped, but not today.)","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>COUNT(t) specifically returns java.lang.Long. When its appears on its own in this context it is returned as-is. </p>\n\n<p>(In other contexts the Long generated by COUNT may be wrapped, but not today.)</p>\n"},{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1554212418,"creation_date":1448292691,"answer_id":33874741,"question_id":3574029,"body_markdown":"NB : there&#39;s a difference between **JQPL** and **Native** query \r\n\r\n    Query query = em.createQuery(&quot;SELECT COUNT(p) FROM PersonEntity p &quot; );\r\n\r\n`query.getSingleResult().getClass().getCanonicalName()` --&gt; **java.lang.Long**\r\n\r\n\r\n\r\n    Query query = em.createNativeQuery(&quot;SELECT COUNT(*) FROM PERSON &quot; );\r\n\r\n`query.getSingleResult().getClass().getCanonicalName()` --&gt; **java.math.BigInteger**\r\n\r\n\r\n","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>NB : there's a difference between <strong>JQPL</strong> and <strong>Native</strong> query </p>\n\n<pre><code>Query query = em.createQuery(\"SELECT COUNT(p) FROM PersonEntity p \" );\n</code></pre>\n\n<p><code>query.getSingleResult().getClass().getCanonicalName()</code> --> <strong>java.lang.Long</strong></p>\n\n<pre><code>Query query = em.createNativeQuery(\"SELECT COUNT(*) FROM PERSON \" );\n</code></pre>\n\n<p><code>query.getSingleResult().getClass().getCanonicalName()</code> --> <strong>java.math.BigInteger</strong></p>\n"},{"tags":[],"owner":{"account_id":8902115,"reputation":231,"user_id":6645244,"display_name":"user6645244"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1469628785,"creation_date":1469628785,"answer_id":38615471,"question_id":3574029,"body_markdown":"Native queries can return different objects for a COUNT based on the database driver; however, all those objects extend java.lang.Number, which implements the longValue() method.","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>Native queries can return different objects for a COUNT based on the database driver; however, all those objects extend java.lang.Number, which implements the longValue() method.</p>\n"},{"tags":[],"owner":{"account_id":6705785,"reputation":19,"user_id":5170792,"display_name":"Tiago Moura"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1544499802,"creation_date":1544499802,"answer_id":53717061,"question_id":3574029,"body_markdown":"You can return directly integer, rather than a long.\r\n\r\n    return query.getSingleResult() != null ? Integer.parseInt(query.getSingleResult().toString()) : 0;","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>You can return directly integer, rather than a long.</p>\n\n<pre><code>return query.getSingleResult() != null ? Integer.parseInt(query.getSingleResult().toString()) : 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3547384,"reputation":328,"user_id":2962984,"accept_rate":25,"display_name":"Mohammad Javed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592306877,"creation_date":1592306877,"answer_id":62407377,"question_id":3574029,"body_markdown":"   \r\n\r\n\r\n    return query.getSingleResult() != null ? Integer.parseInt(query.getSingleResult().toString()) : 0;\r\n\r\n&gt; Second call query.getSingleResult() will throw\r\n&gt; org.hibernate.SessionException: Session is closed!\r\n\r\n To avoid the  org.hibernate.SessionException: Session is closed!\r\n use as below\r\n \r\n\tObject obj = query.getSingleResult();\r\n\t\tif (obj != null) {\r\n\t\t\tInteger result = Integer.parseInt(obj.toString());\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\treturn Integer.valueOf(0);","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<pre><code>return query.getSingleResult() != null ? Integer.parseInt(query.getSingleResult().toString()) : 0;\n</code></pre>\n\n<blockquote>\n  <p>Second call query.getSingleResult() will throw\n  org.hibernate.SessionException: Session is closed!</p>\n</blockquote>\n\n<p>To avoid the  org.hibernate.SessionException: Session is closed!\n use as below</p>\n\n<pre><code>Object obj = query.getSingleResult();\n    if (obj != null) {\n        Integer result = Integer.parseInt(obj.toString());\n        return result;\n    }\n\n    return Integer.valueOf(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19097622,"reputation":1,"user_id":13946557,"display_name":"Shruti Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658899105,"creation_date":1658899087,"answer_id":73132551,"question_id":3574029,"body_markdown":"Count returns long.\r\n\r\nQuery query = em.createQuery(&quot;SELECT COUNT(*) FROM Mandate &quot; );\r\n\r\nreturn (Long) query.getSingleResult();\r\n\r\nMapped your entity with the Query.\r\n\r\n","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>Count returns long.</p>\n<p>Query query = em.createQuery(&quot;SELECT COUNT(*) FROM Mandate &quot; );</p>\n<p>return (Long) query.getSingleResult();</p>\n<p>Mapped your entity with the Query.</p>\n"}],"owner":{"account_id":7910,"reputation":4757,"user_id":13935,"accept_rate":59,"display_name":"Simon Gibbs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62939,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":3574683,"answer_count":9,"score":37,"last_activity_date":1658899105,"creation_date":1282817067,"question_id":3574029,"body_markdown":"What does `EntityManager.getSingleResult()` return for a COUNT query?\r\n\r\nSo.. what is the precise runtime type of foo?\r\n\r\n    Object foo = em.createQuery(&quot;SELECT COUNT(t) FROM com.company.Thing t WHERE prop = :param&quot;)\r\n           .setParameter(&quot;param&quot;, value).getSingleResult();","title":"What does JPA EntityManager.getSingleResult() return for a COUNT query?","body":"<p>What does <code>EntityManager.getSingleResult()</code> return for a COUNT query?</p>\n\n<p>So.. what is the precise runtime type of foo?</p>\n\n<pre><code>Object foo = em.createQuery(\"SELECT COUNT(t) FROM com.company.Thing t WHERE prop = :param\")\n       .setParameter(\"param\", value).getSingleResult();\n</code></pre>\n"},{"tags":["java","mysql","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1600156220,"creation_date":1600156220,"answer_id":63897400,"question_id":63893233,"body_markdown":"I don&#39;t think this is possible in MySQL 8.0.21 yet:\r\nhttps://bugs.mysql.com/bug.php?id=83139\r\n\r\nIf you know a way to do this with native MySQL (whatever version), or emulate it somehow, please document it here: https://github.com/jOOQ/jOOQ/issues/6865","title":"In Jooq, how to make the &quot;delete&quot; statement return the deleted records?","body":"<p>I don't think this is possible in MySQL 8.0.21 yet:\n<a href=\"https://bugs.mysql.com/bug.php?id=83139\" rel=\"nofollow noreferrer\">https://bugs.mysql.com/bug.php?id=83139</a></p>\n<p>If you know a way to do this with native MySQL (whatever version), or emulate it somehow, please document it here: <a href=\"https://github.com/jOOQ/jOOQ/issues/6865\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/6865</a></p>\n"},{"tags":[],"owner":{"account_id":16511761,"reputation":43,"user_id":11930285,"display_name":"Favarish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658897914,"creation_date":1658897914,"answer_id":73132404,"question_id":63893233,"body_markdown":"You can use &#39;on delete cascade&#39;. So you can resolve your problem. And you don&#39;t must getting ids from first table. You just must execute delete query from first table and records from second table will deleted too.\r\n\r\nFor example:\r\nhttps://www.mysqltutorial.org/mysql-on-delete-cascade/","title":"In Jooq, how to make the &quot;delete&quot; statement return the deleted records?","body":"<p>You can use 'on delete cascade'. So you can resolve your problem. And you don't must getting ids from first table. You just must execute delete query from first table and records from second table will deleted too.</p>\n<p>For example:\n<a href=\"https://www.mysqltutorial.org/mysql-on-delete-cascade/\" rel=\"nofollow noreferrer\">https://www.mysqltutorial.org/mysql-on-delete-cascade/</a></p>\n"}],"owner":{"account_id":19165345,"reputation":117,"user_id":14000186,"display_name":"Tirion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1745,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63897400,"answer_count":2,"score":1,"last_activity_date":1658897914,"creation_date":1600127587,"question_id":63893233,"body_markdown":"In my project, there are 2 tables, `orders` and `order_payments`. \r\n\r\nThe latter is a join table with 2 columns, `order_id` and `payment_id`. \r\n\r\nI didn&#39;t use FK for efficiency sake.\r\n\r\nWhen I delete some orders from `orders` table, I need to delete the related records from `payments` table based on the `order_id` field.\r\n\r\nSo, after the orders are deleted using the DELETE statement, I want the `order_id`s of the deleted orders to be returned, so that I can use them to retrieve the `order_payments` table and delete related records.\r\n\r\nCould someone teach me how to do that?\r\n\r\nI tried \r\n```\r\n    private List&lt;OrdersRecord&gt; deleteOrders(OrderQuery orderQuery, DSLContext dsl) {\r\n        DeleteQuery&lt;OrdersRecord&gt; deleteQuery = dsl.deleteQuery(ORDERS);\r\n        deleteQuery.addConditions(orderQueryConditions(orderQuery));\r\n        deleteQuery.setReturning();\r\n        deleteQuery.execute();\r\n        return deleteQuery.getReturnedRecords();\r\n    }\r\n```\r\nbut an empty List was returned.\r\n\r\nWhere I did wrong?\r\n\r\nThanks in advance!","title":"In Jooq, how to make the &quot;delete&quot; statement return the deleted records?","body":"<p>In my project, there are 2 tables, <code>orders</code> and <code>order_payments</code>.</p>\n<p>The latter is a join table with 2 columns, <code>order_id</code> and <code>payment_id</code>.</p>\n<p>I didn't use FK for efficiency sake.</p>\n<p>When I delete some orders from <code>orders</code> table, I need to delete the related records from <code>payments</code> table based on the <code>order_id</code> field.</p>\n<p>So, after the orders are deleted using the DELETE statement, I want the <code>order_id</code>s of the deleted orders to be returned, so that I can use them to retrieve the <code>order_payments</code> table and delete related records.</p>\n<p>Could someone teach me how to do that?</p>\n<p>I tried</p>\n<pre><code>    private List&lt;OrdersRecord&gt; deleteOrders(OrderQuery orderQuery, DSLContext dsl) {\n        DeleteQuery&lt;OrdersRecord&gt; deleteQuery = dsl.deleteQuery(ORDERS);\n        deleteQuery.addConditions(orderQueryConditions(orderQuery));\n        deleteQuery.setReturning();\n        deleteQuery.execute();\n        return deleteQuery.getReturnedRecords();\n    }\n</code></pre>\n<p>but an empty List was returned.</p>\n<p>Where I did wrong?</p>\n<p>Thanks in advance!</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8837,"page":1155,"page_size":100}
