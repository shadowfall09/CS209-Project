{"items":[{"tags":["java","spring","multithreading","spring-boot","java-8"],"comments":[{"owner":{"account_id":1269092,"reputation":2862,"user_id":1225786,"accept_rate":86,"display_name":"Christophe De Troyer"},"score":4,"creation_date":1627036604,"post_id":68497833,"comment_id":121056020,"body_markdown":"You are describing a thread pool. It&#39;s a set of threads that are shared. https://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html More specifically, you want a fixed threadpool with 3 threads.","body":"You are describing a thread pool. It&#39;s a set of threads that are shared. <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a> More specifically, you want a fixed threadpool with 3 threads."}],"answers":[{"tags":[],"owner":{"account_id":7556077,"reputation":402,"user_id":5735629,"display_name":"ZIHAO LIU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627037989,"creation_date":1627037989,"answer_id":68498120,"question_id":68497833,"body_markdown":"Try using semaphore;\r\n```\r\npublic class Main {\r\n\r\n    private static final Semaphore SEMAPHORE = new Semaphore(2);\r\n\r\n    public static void main(String[] args) {\r\n        runThread(new Thread(() -&gt; runInThread(1)));\r\n        runThread(new Thread(() -&gt; runInThread(2)));\r\n        runThread(new Thread(() -&gt; runInThread(3)));\r\n\r\n    }\r\n\r\n    public static void runThread(Thread thread) {\r\n        try {\r\n            SEMAPHORE.acquire();\r\n            thread.start();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void runInThread(int i) {\r\n        System.out.println(&quot;Thread &quot; + i + &quot; is running&quot;);\r\n        System.out.println(&quot;Thread &quot; + i + &quot; is waiting&quot;);\r\n        try {\r\n            Thread.sleep(i * 2000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;Thread &quot; + i + &quot; is finish&quot;);\r\n        SEMAPHORE.release();\r\n    }\r\n}\r\n\r\n```","title":"Running fixed number of thread in parallel in java","body":"<p>Try using semaphore;</p>\n<pre><code>public class Main {\n\n    private static final Semaphore SEMAPHORE = new Semaphore(2);\n\n    public static void main(String[] args) {\n        runThread(new Thread(() -&gt; runInThread(1)));\n        runThread(new Thread(() -&gt; runInThread(2)));\n        runThread(new Thread(() -&gt; runInThread(3)));\n\n    }\n\n    public static void runThread(Thread thread) {\n        try {\n            SEMAPHORE.acquire();\n            thread.start();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void runInThread(int i) {\n        System.out.println(&quot;Thread &quot; + i + &quot; is running&quot;);\n        System.out.println(&quot;Thread &quot; + i + &quot; is waiting&quot;);\n        try {\n            Thread.sleep(i * 2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Thread &quot; + i + &quot; is finish&quot;);\n        SEMAPHORE.release();\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20520987,"reputation":11,"user_id":15060579,"display_name":"lonewolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679665452,"creation_date":1679295331,"answer_id":75787321,"question_id":68497833,"body_markdown":"Use `org.apache.tomcat.util.threads.ThreadPoolExecutor` (provided by default in spring)\r\n\r\nYou can do something like this\r\n\r\n```java\r\nList&lt;Task&gt; tasks = // create instances of classes which implement java.concurrent.Callable interface, in the call() method, add the business logic\r\nThreadPoolExecutor executor = new ThreadPoolExecutor(....)  // in the constructor add the parameters as per your requirement\r\nexecutor.invokeAll(tasks);\r\n```\r\n\r\nThis should execute your tasks with the maximum thread pool count as per your requirement.\r\n\r\nIf you&#39;re using spring consider defining a Configuration file that does the bean initialization for you, then Autowire the class where needed.\r\n\r\nFor more information on ThreadPools checkout this: https://www.baeldung.com/thread-pool-java-and-guava\r\n \r\n\r\n","title":"Running fixed number of thread in parallel in java","body":"<p>Use <code>org.apache.tomcat.util.threads.ThreadPoolExecutor</code> (provided by default in spring)</p>\n<p>You can do something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Task&gt; tasks = // create instances of classes which implement java.concurrent.Callable interface, in the call() method, add the business logic\nThreadPoolExecutor executor = new ThreadPoolExecutor(....)  // in the constructor add the parameters as per your requirement\nexecutor.invokeAll(tasks);\n</code></pre>\n<p>This should execute your tasks with the maximum thread pool count as per your requirement.</p>\n<p>If you're using spring consider defining a Configuration file that does the bean initialization for you, then Autowire the class where needed.</p>\n<p>For more information on ThreadPools checkout this: <a href=\"https://www.baeldung.com/thread-pool-java-and-guava\" rel=\"nofollow noreferrer\">https://www.baeldung.com/thread-pool-java-and-guava</a></p>\n"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679665452,"creation_date":1627036464,"question_id":68497833,"body_markdown":"I have `3 threads` in my application, but I am allowed to run only 2 threads in parallel.\r\nonce 1 either of the tread will stop, 3rd thread will start.\r\n\r\nI know `Thread`, `runnable` `start()`, `run()` etc in `Java`, But I dont know how to implement above situation. your little guidance will be very helpful","title":"Running fixed number of thread in parallel in java","body":"<p>I have <code>3 threads</code> in my application, but I am allowed to run only 2 threads in parallel.\nonce 1 either of the tread will stop, 3rd thread will start.</p>\n<p>I know <code>Thread</code>, <code>runnable</code> <code>start()</code>, <code>run()</code> etc in <code>Java</code>, But I dont know how to implement above situation. your little guidance will be very helpful</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679663329,"post_id":75834030,"comment_id":133765905,"body_markdown":"While you&#39;re reading input, you&#39;ll want to track two things: the name of the longest-named city, and the total number of cities. If you read a new city in, you don&#39;t have to keep track of it forever, but instead just compare it to your current results. A `for` loop isn&#39;t needed, but note that a `for` and a `while` loop are semantically the same thing, just written slightly different (`for` has 3 expressions).","body":"While you&#39;re reading input, you&#39;ll want to track two things: the name of the longest-named city, and the total number of cities. If you read a new city in, you don&#39;t have to keep track of it forever, but instead just compare it to your current results. A <code>for</code> loop isn&#39;t needed, but note that a <code>for</code> and a <code>while</code> loop are semantically the same thing, just written slightly different (<code>for</code> has 3 expressions)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679663343,"post_id":75834030,"comment_id":133765909,"body_markdown":"You are not storing the input in a `List&lt;String&gt;`, you just overwrite the input in each loop because you are using a single variable.","body":"You are not storing the input in a <code>List&lt;String&gt;</code>, you just overwrite the input in each loop because you are using a single variable."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679663344,"post_id":75834030,"comment_id":133765911,"body_markdown":"`String citylist;` is a single `String`. Why did you call it a list?","body":"<code>String citylist;</code> is a single <code>String</code>. Why did you call it a list?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679663401,"post_id":75834030,"comment_id":133765928,"body_markdown":"@f1sh while the variable name is admittedly misleading, the problem&#39;s requirements don&#39;t necessitate a `List`. (Edit: Was a little overzealous on the tag there @Elliott)","body":"@f1sh while the variable name is admittedly misleading, the problem&#39;s requirements don&#39;t necessitate a <code>List</code>. (Edit: Was a little overzealous on the tag there @Elliott)"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1679663620,"post_id":75834030,"comment_id":133765968,"body_markdown":"@Rogue I&#39;m aware of that. Still would not call the longest city name a citylist.","body":"@Rogue I&#39;m aware of that. Still would not call the longest city name a citylist."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679665178,"creation_date":1679665178,"answer_id":75834374,"question_id":75834030,"body_markdown":"You need to keep a `count` that you increase monotonically everytime the user enters a valid city (one that isn&#39;t the word *stop*). You also need to keep track of the longest city name. I would use an infinite loop. Read a city name, check if it is *stop* (if so, end the loop) otherwise check if the new city name is longer than the longest city name if so it is the new longest city name. Increment the counter and repeat. Like,\r\n\r\n\tint count = 0;\r\n\tString longestCityName = &quot;&quot;;\r\n\tScanner input = new Scanner(System.in);\r\n\r\n\twhile (true) {\r\n\t\tSystem.out.print(&quot;Name of city: &quot;);\r\n\t\tString cityName = input.nextLine().trim();\r\n\t\tif (cityName.equalsIgnoreCase(&quot;stop&quot;)) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (cityName.length() &gt; longestCityName.length()) {\r\n\t\t\tlongestCityName = cityName;\r\n\t\t}\r\n\t\tcount++;\r\n\t}\r\n\tif (count &gt; 0) {\r\n\t\tSystem.out.printf(&quot;%d cities were entered and the name of the city &quot; \r\n\t\t\t\t+ &quot;with the most letters is: %s&quot;, count,\r\n\t\t\t\tlongestCityName);\r\n\t} else {\r\n\t\tSystem.out.println(&quot;You didn&#39;t enter any cities&quot;);\r\n\t}\r\n\r\nWhich I tested with your sample input (and *stop*) like\r\n\r\n    Name of city: Halifax\r\n    Name of city: Moncton\r\n    Name of city: Charlottetown\r\n    Name of city: stop\r\n    3 cities were entered and the name of the city with the most letters is: Charlottetown","title":"need help in simple java project","body":"<p>You need to keep a <code>count</code> that you increase monotonically everytime the user enters a valid city (one that isn't the word <em>stop</em>). You also need to keep track of the longest city name. I would use an infinite loop. Read a city name, check if it is <em>stop</em> (if so, end the loop) otherwise check if the new city name is longer than the longest city name if so it is the new longest city name. Increment the counter and repeat. Like,</p>\n<pre><code>int count = 0;\nString longestCityName = &quot;&quot;;\nScanner input = new Scanner(System.in);\n\nwhile (true) {\n    System.out.print(&quot;Name of city: &quot;);\n    String cityName = input.nextLine().trim();\n    if (cityName.equalsIgnoreCase(&quot;stop&quot;)) {\n        break;\n    }\n    if (cityName.length() &gt; longestCityName.length()) {\n        longestCityName = cityName;\n    }\n    count++;\n}\nif (count &gt; 0) {\n    System.out.printf(&quot;%d cities were entered and the name of the city &quot; \n            + &quot;with the most letters is: %s&quot;, count,\n            longestCityName);\n} else {\n    System.out.println(&quot;You didn't enter any cities&quot;);\n}\n</code></pre>\n<p>Which I tested with your sample input (and <em>stop</em>) like</p>\n<pre><code>Name of city: Halifax\nName of city: Moncton\nName of city: Charlottetown\nName of city: stop\n3 cities were entered and the name of the city with the most letters is: Charlottetown\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679665190,"creation_date":1679665190,"answer_id":75834376,"question_id":75834030,"body_markdown":"You only have to add some variables and compare the Input.\r\n\r\nIf you dont need all Citys in the end you can leave the variable Citylist but it would be better by naming it like currentCity etc.\r\n\r\nAfter reading the new city you should compare the String like\r\n\r\n```\r\n\r\nprivate int longestNumber;\r\nprivate String longestWord;\r\n\r\n//inside do-while loop\r\nif(cityList.length &gt; longestNumber) longestWord = cityList;\r\n\r\n```\r\n\r\nAlso take a second int variable for counting city`s, than you can do variable++ everytime a city is added inside the loop :D","title":"need help in simple java project","body":"<p>You only have to add some variables and compare the Input.</p>\n<p>If you dont need all Citys in the end you can leave the variable Citylist but it would be better by naming it like currentCity etc.</p>\n<p>After reading the new city you should compare the String like</p>\n<pre><code>\nprivate int longestNumber;\nprivate String longestWord;\n\n//inside do-while loop\nif(cityList.length &gt; longestNumber) longestWord = cityList;\n\n</code></pre>\n<p>Also take a second int variable for counting city`s, than you can do variable++ everytime a city is added inside the loop :D</p>\n"}],"owner":{"account_id":28114441,"reputation":19,"user_id":21481750,"display_name":"Tristan Day"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1679665190,"creation_date":1679663107,"question_id":75834030,"body_markdown":"I am just beginning java and am having difficulites solving this, it is from my textbook, I would prefer if someone was able to solve it with just strings,loops, and if statments if possible. I am not familiar with &quot;for&quot; statments yet. I have tried it but am just puzzled on where to go after my code.\r\n\r\nhere is the question:\r\n\r\nCreate a Cities app that will allow you to enter the name of cities until you enter ‘stop’. Once ‘stop’ is entered, the app will display the number of cities entered and will display the name of the city with the most characters. \r\n\r\nFor example, if you enter Halifax, Moncton, and Charlottetown, it should tell the user that 3 cities were entered and the name of the city with the most letters is: Charlottetown\r\n\r\n\r\nI tried a loop, but am just puzzled. \r\n\r\nhere is my code:\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage cities;\r\n\r\nimport java.util.Scanner;\r\n\r\n/**\r\n *\r\n * @author dtm600744\r\n */\r\npublic class Cities {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n\r\n        String citylist;\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        do {\r\n            System.out.print(&quot;Name of city: &quot;);\r\n            citylist = input.next();\r\n\r\n        } while (!citylist.equals(&quot;stop&quot;));\r\n\r\n        System.out.print(citylist);\r\n    }\r\n}\r\n```","title":"need help in simple java project","body":"<p>I am just beginning java and am having difficulites solving this, it is from my textbook, I would prefer if someone was able to solve it with just strings,loops, and if statments if possible. I am not familiar with &quot;for&quot; statments yet. I have tried it but am just puzzled on where to go after my code.</p>\n<p>here is the question:</p>\n<p>Create a Cities app that will allow you to enter the name of cities until you enter ‘stop’. Once ‘stop’ is entered, the app will display the number of cities entered and will display the name of the city with the most characters.</p>\n<p>For example, if you enter Halifax, Moncton, and Charlottetown, it should tell the user that 3 cities were entered and the name of the city with the most letters is: Charlottetown</p>\n<p>I tried a loop, but am just puzzled.</p>\n<p>here is my code:</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage cities;\n\nimport java.util.Scanner;\n\n/**\n *\n * @author dtm600744\n */\npublic class Cities {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n\n        String citylist;\n        Scanner input = new Scanner(System.in);\n\n        do {\n            System.out.print(&quot;Name of city: &quot;);\n            citylist = input.next();\n\n        } while (!citylist.equals(&quot;stop&quot;));\n\n        System.out.print(citylist);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","layout"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679651564,"post_id":75832127,"comment_id":133762949,"body_markdown":"`p.setBounds(10,10,500,100);` is pointless, make use of appropriate layout managers. I&#39;m also wondering if this could better achieved through the use of a `JTable` or `JList`. `p.setLayout(new GridLayout());` in the loop is resetting the layout information, basically throwing out everything that came before it","body":"<code>p.setBounds(10,10,500,100);</code> is pointless, make use of appropriate layout managers. I&#39;m also wondering if this could better achieved through the use of a <code>JTable</code> or <code>JList</code>. <code>p.setLayout(new GridLayout());</code> in the loop is resetting the layout information, basically throwing out everything that came before it"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1679651579,"post_id":75832127,"comment_id":133762956,"body_markdown":"Show an image of how you want the layout to look like.","body":"Show an image of how you want the layout to look like."},{"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"score":0,"creation_date":1679653398,"post_id":75832127,"comment_id":133763364,"body_markdown":"I added the image","body":"I added the image"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679665108,"creation_date":1679652705,"answer_id":75832335,"question_id":75832127,"body_markdown":"There&#39;s to much repetition in your code, this is screaming for a factory method.\r\n\r\n`setBounds` is clear sign of issues, you shouldn&#39;t be using it and instead, should be making use of appropriate layout managers.\r\n\r\nSo I took you `startFirstRecord` method and re-wrote to use a `GridBagLayout` instead so it could so something more like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n        public void startFirstRecord() {\r\n            // License Plate number + image\r\n            JPanel panel1 = new JPanel(new GridBagLayout());\r\n            JLabel label1 = new JLabel(&quot;Name&quot;);\r\n            JLabel name = new JLabel(&quot;Name: blah&quot;);\r\n            JButton details1 = new JButton(&quot;Details&quot;);\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n\r\n            panel1.add(label1, gbc);\r\n            gbc.gridx++;\r\n            panel1.add(details1, gbc);\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            gbc.gridwidth = gbc.REMAINDER;\r\n            panel1.add(name, gbc);\r\n            label1.setHorizontalTextPosition(JLabel.CENTER);\r\n            label1.setVerticalTextPosition(JLabel.CENTER);\r\n\r\n            add(panel1);\r\n\r\n        }\r\n\r\nAfter looking over your `restRecords`, I ripped out the panel creation and created a factory method instead...\r\n\r\n        protected JPanel makePanel(int index) {\r\n            JPanel panel1 = new JPanel(new GridBagLayout());\r\n            JLabel label1 = new JLabel(&quot;licname &quot; + index);\r\n            JLabel name = new JLabel(&quot;Name: &quot; + index);\r\n            JButton details1 = new JButton(&quot;Details&quot;);\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n\r\n            panel1.add(label1, gbc);\r\n            gbc.gridx++;\r\n            panel1.add(details1, gbc);\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            gbc.gridwidth = gbc.REMAINDER;\r\n            panel1.add(name, gbc);\r\n            label1.setHorizontalTextPosition(JLabel.CENTER);\r\n            label1.setVerticalTextPosition(JLabel.CENTER);\r\n\r\n            return panel1;\r\n        }\r\n\r\nwhich, oddly enough, is the pretty much the same code as your `startFirstRecord`.\r\n\r\nNext I modified your `resetRecords` method to make use of a `GridBagLayout` as well...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    public void restRecords() {\r\n        ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            label.add(makePanel(i));\r\n        }\r\n        JPanel p = new JPanel(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.fill = gbc.HORIZONTAL;\r\n        gbc.weightx = 1;\r\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n        for (JPanel j : label) {\r\n            p.add(j, gbc);\r\n        }\r\n\r\n        add(p);\r\n    }\r\n\r\nNow, if you would prefer to have the panels aligned to the top, you could simply add \r\n\r\n    gbc.weighty = 1;\r\n    p.add(new JPanel(), gbc);\r\n\r\nafter the second loop, which will add a &quot;filler&quot; component to the end which will want to take up the remaining vertical space (but add no height to the overall preferred size)\r\n\r\nBut wait, what if you have more rows then you have vertical space?  Then wrap the `p` (great name by the way) `JPanel` in a `JScrollPane`\r\n\r\nSee: \r\n\r\n* [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)\r\n* [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nI think you would also benefit from having a look at:\r\n\r\n* [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) \r\n* [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html)\r\n* [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)\r\n\r\nThe last two, however, will require you to think differently about how your users would interact with your data, but they are better suited towards the task you seem to be trying to implement.\r\n\r\n  [1]: https://i.stack.imgur.com/ULuAG.png\r\n  [2]: https://i.stack.imgur.com/T1uWC.png\r\n\r\n# Runnable example\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.util.ArrayList;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new BorderLayout());\r\n                //startFirstRecord();\r\n                restRecords();\r\n            }\r\n\r\n            protected JPanel makePanel(int index) {\r\n                JPanel panel1 = new JPanel(new GridBagLayout());\r\n                JLabel label1 = new JLabel(&quot;licname &quot; + index);\r\n                JLabel name = new JLabel(&quot;Name: &quot; + index);\r\n                JButton details1 = new JButton(&quot;Details&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n\r\n                panel1.add(label1, gbc);\r\n                gbc.gridx++;\r\n                panel1.add(details1, gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                panel1.add(name, gbc);\r\n    //            f.add(panel1);\r\n    //            label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\r\n    //            label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n                label1.setHorizontalTextPosition(JLabel.CENTER);\r\n                label1.setVerticalTextPosition(JLabel.CENTER);\r\n    //            panel1.setBounds(10, 10, 500, 100);\r\n\r\n                return panel1;\r\n            }\r\n\r\n            public void startFirstRecord() {\r\n                // License Plate number + image\r\n                JPanel panel1 = new JPanel(new GridBagLayout());\r\n                JLabel label1 = new JLabel(&quot;Name&quot;);\r\n                JLabel name = new JLabel(&quot;Name: blah&quot;);\r\n                JButton details1 = new JButton(&quot;Details&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n\r\n                panel1.add(label1, gbc);\r\n                gbc.gridx++;\r\n                panel1.add(details1, gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                panel1.add(name, gbc);\r\n    //            f.add(panel1);\r\n    //            label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\r\n    //            label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n                label1.setHorizontalTextPosition(JLabel.CENTER);\r\n                label1.setVerticalTextPosition(JLabel.CENTER);\r\n    //            panel1.setBounds(10, 10, 500, 100);\r\n\r\n                add(panel1);\r\n\r\n            }\r\n\r\n            public void restRecords() {\r\n                ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\r\n                for (int i = 0; i &lt; 1000; i++) {\r\n                    label.add(makePanel(i));\r\n                }\r\n                JPanel p = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.weightx = 1;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                for (JPanel j : label) {\r\n                    p.add(j, gbc);\r\n                }\r\n\r\n                gbc.weighty = 1;\r\n                p.add(new JPanel(), gbc);\r\n\r\n                add(new JScrollPane(p));\r\n            }\r\n        }\r\n    }\r\n","title":"layout of elemets in JFrame - java swing","body":"<p>There's to much repetition in your code, this is screaming for a factory method.</p>\n<p><code>setBounds</code> is clear sign of issues, you shouldn't be using it and instead, should be making use of appropriate layout managers.</p>\n<p>So I took you <code>startFirstRecord</code> method and re-wrote to use a <code>GridBagLayout</code> instead so it could so something more like...</p>\n<p><a href=\"https://i.stack.imgur.com/ULuAG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ULuAG.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    public void startFirstRecord() {\n        // License Plate number + image\n        JPanel panel1 = new JPanel(new GridBagLayout());\n        JLabel label1 = new JLabel(&quot;Name&quot;);\n        JLabel name = new JLabel(&quot;Name: blah&quot;);\n        JButton details1 = new JButton(&quot;Details&quot;);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n\n        panel1.add(label1, gbc);\n        gbc.gridx++;\n        panel1.add(details1, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        gbc.gridwidth = gbc.REMAINDER;\n        panel1.add(name, gbc);\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n\n        add(panel1);\n\n    }\n</code></pre>\n<p>After looking over your <code>restRecords</code>, I ripped out the panel creation and created a factory method instead...</p>\n<pre><code>    protected JPanel makePanel(int index) {\n        JPanel panel1 = new JPanel(new GridBagLayout());\n        JLabel label1 = new JLabel(&quot;licname &quot; + index);\n        JLabel name = new JLabel(&quot;Name: &quot; + index);\n        JButton details1 = new JButton(&quot;Details&quot;);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n\n        panel1.add(label1, gbc);\n        gbc.gridx++;\n        panel1.add(details1, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        gbc.gridwidth = gbc.REMAINDER;\n        panel1.add(name, gbc);\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n\n        return panel1;\n    }\n</code></pre>\n<p>which, oddly enough, is the pretty much the same code as your <code>startFirstRecord</code>.</p>\n<p>Next I modified your <code>resetRecords</code> method to make use of a <code>GridBagLayout</code> as well...</p>\n<p><a href=\"https://i.stack.imgur.com/T1uWC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T1uWC.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public void restRecords() {\n    ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; 10; i++) {\n        label.add(makePanel(i));\n    }\n    JPanel p = new JPanel(new GridBagLayout());\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.fill = gbc.HORIZONTAL;\n    gbc.weightx = 1;\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\n    for (JPanel j : label) {\n        p.add(j, gbc);\n    }\n\n    add(p);\n}\n</code></pre>\n<p>Now, if you would prefer to have the panels aligned to the top, you could simply add</p>\n<pre><code>gbc.weighty = 1;\np.add(new JPanel(), gbc);\n</code></pre>\n<p>after the second loop, which will add a &quot;filler&quot; component to the end which will want to take up the remaining vertical space (but add no height to the overall preferred size)</p>\n<p>But wait, what if you have more rows then you have vertical space?  Then wrap the <code>p</code> (great name by the way) <code>JPanel</code> in a <code>JScrollPane</code></p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n</ul>\n<p>I think you would also benefit from having a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a></li>\n</ul>\n<p>The last two, however, will require you to think differently about how your users would interact with your data, but they are better suited towards the task you seem to be trying to implement.</p>\n<h1>Runnable example</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.util.ArrayList;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new BorderLayout());\n            //startFirstRecord();\n            restRecords();\n        }\n\n        protected JPanel makePanel(int index) {\n            JPanel panel1 = new JPanel(new GridBagLayout());\n            JLabel label1 = new JLabel(&quot;licname &quot; + index);\n            JLabel name = new JLabel(&quot;Name: &quot; + index);\n            JButton details1 = new JButton(&quot;Details&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            panel1.add(label1, gbc);\n            gbc.gridx++;\n            panel1.add(details1, gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            gbc.gridwidth = gbc.REMAINDER;\n            panel1.add(name, gbc);\n//            f.add(panel1);\n//            label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\n//            label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n            label1.setHorizontalTextPosition(JLabel.CENTER);\n            label1.setVerticalTextPosition(JLabel.CENTER);\n//            panel1.setBounds(10, 10, 500, 100);\n\n            return panel1;\n        }\n\n        public void startFirstRecord() {\n            // License Plate number + image\n            JPanel panel1 = new JPanel(new GridBagLayout());\n            JLabel label1 = new JLabel(&quot;Name&quot;);\n            JLabel name = new JLabel(&quot;Name: blah&quot;);\n            JButton details1 = new JButton(&quot;Details&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            panel1.add(label1, gbc);\n            gbc.gridx++;\n            panel1.add(details1, gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            gbc.gridwidth = gbc.REMAINDER;\n            panel1.add(name, gbc);\n//            f.add(panel1);\n//            label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\n//            label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n            label1.setHorizontalTextPosition(JLabel.CENTER);\n            label1.setVerticalTextPosition(JLabel.CENTER);\n//            panel1.setBounds(10, 10, 500, 100);\n\n            add(panel1);\n\n        }\n\n        public void restRecords() {\n            ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; 1000; i++) {\n                label.add(makePanel(i));\n            }\n            JPanel p = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.weightx = 1;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            for (JPanel j : label) {\n                p.add(j, gbc);\n            }\n\n            gbc.weighty = 1;\n            p.add(new JPanel(), gbc);\n\n            add(new JScrollPane(p));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679665108,"creation_date":1679651356,"question_id":75832127,"body_markdown":"I have a problem with dispositions of elements in frame. \r\n[enter image description here][1]\r\nFirst function is responsible for layout only first Panel with two JLabels and Button. I would like to have one JLabel and Button side by side and one JLabel below. In second step I created the method which will be add new JPanels in loop when I add new records to my Map (using TextField, ect) \r\nbut when I use it like below I don&#39;t see all my elemets. Problem begins when I add new JPanel in second method.\r\n\r\n\r\n```\r\npublic void startFirstRecord() {\r\n        // License Plate number + image\r\n        JPanel panel1 = new JPanel();\r\n        panel1.setLayout(new GridLayout(2, 2));\r\n        JLabel label1 = new JLabel(licname);\r\n        JLabel name = new JLabel(&quot;Name: &quot; + fullname);\r\n        JButton details1 = new JButton(&quot;Details&quot;);\r\n        panel1.add(label1);\r\n        panel1.add(details1);\r\n        panel1.add(name);\r\n        f.add(panel1);\r\n        label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\r\n        label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n        label1.setHorizontalTextPosition(JLabel.CENTER);\r\n        label1.setVerticalTextPosition(JLabel.CENTER);\r\n        panel1.setBounds(10, 10, 500, 100);\r\n\r\n\r\n    }\r\n\r\n    public void restRecords(){\r\n        ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; vehiclelist.size(); i++) {\r\n            JPanel panel2 = new JPanel();\r\n            panel2.setLayout(new GridLayout(2,2));\r\n            JButton details2 = new JButton(&quot;Details&quot;);\r\n            JLabel name2 = new JLabel(&quot;Name: &quot; + fullname);\r\n            label2 = new JLabel(licname);\r\n            label2.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\r\n            label2.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n            label2.setHorizontalTextPosition(JLabel.CENTER);\r\n            label2.setVerticalTextPosition(JLabel.CENTER);\r\n            panel2.add(label2);\r\n            panel2.add(details2);\r\n            panel2.add(name2);\r\n            panel2.setBounds(10,(i*50)+60,500,100);\r\n            label.add(panel2);\r\n        }\r\n        JPanel p = new JPanel();\r\n        for(JPanel j:label) {\r\n            p.add(j);\r\n           p.setBounds(10,10,500,100);\r\n           p.setLayout(new GridLayout());\r\n        }\r\n        f.add(p);\r\n        f.repaint();\r\n    }\r\n```\r\n\r\nI would like something like that \r\n\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GiQEy.jpg","title":"layout of elemets in JFrame - java swing","body":"<p>I have a problem with dispositions of elements in frame.\n<a href=\"https://i.stack.imgur.com/GiQEy.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nFirst function is responsible for layout only first Panel with two JLabels and Button. I would like to have one JLabel and Button side by side and one JLabel below. In second step I created the method which will be add new JPanels in loop when I add new records to my Map (using TextField, ect)\nbut when I use it like below I don't see all my elemets. Problem begins when I add new JPanel in second method.</p>\n<pre><code>public void startFirstRecord() {\n        // License Plate number + image\n        JPanel panel1 = new JPanel();\n        panel1.setLayout(new GridLayout(2, 2));\n        JLabel label1 = new JLabel(licname);\n        JLabel name = new JLabel(&quot;Name: &quot; + fullname);\n        JButton details1 = new JButton(&quot;Details&quot;);\n        panel1.add(label1);\n        panel1.add(details1);\n        panel1.add(name);\n        f.add(panel1);\n        label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\n        label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n        panel1.setBounds(10, 10, 500, 100);\n\n\n    }\n\n    public void restRecords(){\n        ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; vehiclelist.size(); i++) {\n            JPanel panel2 = new JPanel();\n            panel2.setLayout(new GridLayout(2,2));\n            JButton details2 = new JButton(&quot;Details&quot;);\n            JLabel name2 = new JLabel(&quot;Name: &quot; + fullname);\n            label2 = new JLabel(licname);\n            label2.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\n            label2.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n            label2.setHorizontalTextPosition(JLabel.CENTER);\n            label2.setVerticalTextPosition(JLabel.CENTER);\n            panel2.add(label2);\n            panel2.add(details2);\n            panel2.add(name2);\n            panel2.setBounds(10,(i*50)+60,500,100);\n            label.add(panel2);\n        }\n        JPanel p = new JPanel();\n        for(JPanel j:label) {\n            p.add(j);\n           p.setBounds(10,10,500,100);\n           p.setLayout(new GridLayout());\n        }\n        f.add(p);\n        f.repaint();\n    }\n</code></pre>\n<p>I would like something like that</p>\n<p><a href=\"https://i.stack.imgur.com/GiQEy.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","javacc"],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678191584,"creation_date":1678191584,"answer_id":75661897,"question_id":75658361,"body_markdown":"Let&#39;s say you have the following `parser.jj` file:\r\n\r\n    options {\r\n        STATIC = false;\r\n        IGNORE_CASE = false;\r\n    }\r\n    \r\n    PARSER_BEGIN(Parser)\r\n    package test14;\r\n    public class Parser {\r\n    }\r\n    PARSER_END(Parser)\r\n    \r\n    TOKEN:\r\n    {\r\n      &lt;EVEN: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt;\r\n    }\r\n    \r\n    void llamarNumeroPar (): \r\n    {}\r\n    {\r\n      &lt; EVEN &gt; {System.out.println (&quot;soy un numeroPar&quot;);}\r\n    }\r\n\r\nYou can now write a main class:\r\n\r\n    package test14;\r\n    \r\n    import java.io.StringReader;\r\n    \r\n    public class Test14 {\r\n        public static void main(String[] args) {\r\n            Parser parser = new Parser(new StringReader(&quot;1234567&quot;));\r\n            Token token = parser.getNextToken();\r\n            if (token.kind == Parser.EVEN) {\r\n                System.out.println(&quot;Even&quot;);\r\n            } else {\r\n                System.out.println(&quot;Something else&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd... surprise: the output is &quot;Even&quot;. This is because it has read &quot;123456&quot; which is indeed an even number.\r\n\r\nNow add a second token `ODD`:\r\n\r\n\r\n    TOKEN:\r\n    {\r\n      &lt;EVEN: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt;\r\n    |  &lt;ODD: ([&quot;0&quot;-&quot;9&quot;])* (&quot;1&quot;|&quot;3&quot;|&quot;5&quot;|&quot;7&quot;|&quot;9&quot;) &gt;\r\n    }\r\n\r\nAnd modify the main class as follows:\r\n\r\n        if (token.kind == Parser.EVEN) {\r\n            System.out.println(&quot;Even: &quot; + token.image);\r\n        } else if (token.kind == Parser.ODD) {\r\n            System.out.println(&quot;Odd: &quot; + token.image);\r\n        } else {\r\n            System.out.println(&quot;Something else: &quot; + token.image);\r\n        }\r\n\r\nThis time, the output is as expected:\r\n\r\n    Odd: 1234567\r\n\r\nConsider defining a token `NUMBER` and dealing with its parity in the Java code.\r\n\r\n\r\n","title":"How to test a token in JavaCC","body":"<p>Let's say you have the following <code>parser.jj</code> file:</p>\n<pre><code>options {\n    STATIC = false;\n    IGNORE_CASE = false;\n}\n\nPARSER_BEGIN(Parser)\npackage test14;\npublic class Parser {\n}\nPARSER_END(Parser)\n\nTOKEN:\n{\n  &lt;EVEN: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt;\n}\n\nvoid llamarNumeroPar (): \n{}\n{\n  &lt; EVEN &gt; {System.out.println (&quot;soy un numeroPar&quot;);}\n}\n</code></pre>\n<p>You can now write a main class:</p>\n<pre><code>package test14;\n\nimport java.io.StringReader;\n\npublic class Test14 {\n    public static void main(String[] args) {\n        Parser parser = new Parser(new StringReader(&quot;1234567&quot;));\n        Token token = parser.getNextToken();\n        if (token.kind == Parser.EVEN) {\n            System.out.println(&quot;Even&quot;);\n        } else {\n            System.out.println(&quot;Something else&quot;);\n        }\n    }\n}\n</code></pre>\n<p>And... surprise: the output is &quot;Even&quot;. This is because it has read &quot;123456&quot; which is indeed an even number.</p>\n<p>Now add a second token <code>ODD</code>:</p>\n<pre><code>TOKEN:\n{\n  &lt;EVEN: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt;\n|  &lt;ODD: ([&quot;0&quot;-&quot;9&quot;])* (&quot;1&quot;|&quot;3&quot;|&quot;5&quot;|&quot;7&quot;|&quot;9&quot;) &gt;\n}\n</code></pre>\n<p>And modify the main class as follows:</p>\n<pre><code>    if (token.kind == Parser.EVEN) {\n        System.out.println(&quot;Even: &quot; + token.image);\n    } else if (token.kind == Parser.ODD) {\n        System.out.println(&quot;Odd: &quot; + token.image);\n    } else {\n        System.out.println(&quot;Something else: &quot; + token.image);\n    }\n</code></pre>\n<p>This time, the output is as expected:</p>\n<pre><code>Odd: 1234567\n</code></pre>\n<p>Consider defining a token <code>NUMBER</code> and dealing with its parity in the Java code.</p>\n"},{"tags":[],"owner":{"account_id":338681,"reputation":15564,"user_id":667690,"accept_rate":78,"display_name":"Theodore Norvell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679664676,"creation_date":1678207737,"answer_id":75664916,"question_id":75658361,"body_markdown":"Maurice&#39;s answer is excellent.  I&#39;m going to come at it from a slightly different angle by answering a slightly broader question.\r\n\r\nI don&#39;t think it makes a lot of sense to test one token definition at a time. This is because the tricky part of writing token managers is usually not the individual regular expressions, but rather the interactions between them, especially when there are multiple states.  So the broader question is how to test a token manager as a whole.\r\n\r\nI think something like the following could be quite useful.\r\n\r\n    import your.favourite.test.framework ;\r\n\r\n    class TokenTests implements XYZConstants {\r\n\r\n        private final int TME = -99 ; // -99 because this should not be already in use as a token kind.\r\n    \r\n        private void doOneTokenTest( String input, int[] expectation ) {\r\n            XYZ parser = new XYZ(new StringReader(input));\r\n            for( int k = 0 ; k &lt; expectation.length; ++k ) {\r\n                int state = parser.token_source.curLexState ;\r\n                try {\r\n                    Token token = parser.getNextToken();\r\n                    checkThat( expectation[k] != TME,\r\n                           &quot;Expected a TokenMgrErr, but got a&quot; +\r\n                           tokenImage[ token.kind ] + &quot; at token &quot; +\r\n                           k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\r\n                           &quot; state is &quot; + state ) ;\r\n                    checkThat( token.kind == expectation[k],\r\n                           &quot;Expected a &quot; +\r\n                           tokenImage[ expectation[k] ] +\r\n                           &quot; but got a &quot; +\r\n                           tokenImage[ token.kind ] + &quot; at token &quot; +\r\n                           k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\r\n                           &quot; state is &quot; + state ) ;\r\n                } catch( TokenMgrErr e ) {\r\n                    checkThat( expectation[k] == TME,\r\n                           &quot;Expected a &quot; +\r\n                           tokenImage[ expectation[k] ] +\r\n                           &quot; but got a TokenMgrErr at token &quot; +\r\n                           k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\r\n                           &quot; state is &quot; + state ) ; } } }\r\n\r\n\r\nSo now you can create and run a bunch of tests\r\n\r\n        @Test\r\n        public void testTokenMatching() {\r\n            record Pair( String input, int[] expectation ) ;\r\n            Pair[] tests = {\r\n                new Pair( &quot;1234&quot;, int[]{ EVEN, EOF } ),\r\n                new Pair( &quot;1233&quot;, int[]{ ODD, EOF } ),\r\n                new Pair( &quot;&quot;. int[] { EOF },\r\n                new Pair( &quot;123.3&quot;, int[]{ ODD, TME } } ;\r\n            for( Pair t : tests ) {\r\n                doOneTokenTest( t.input(), t.expectation() ) ; } }\r\n","title":"How to test a token in JavaCC","body":"<p>Maurice's answer is excellent.  I'm going to come at it from a slightly different angle by answering a slightly broader question.</p>\n<p>I don't think it makes a lot of sense to test one token definition at a time. This is because the tricky part of writing token managers is usually not the individual regular expressions, but rather the interactions between them, especially when there are multiple states.  So the broader question is how to test a token manager as a whole.</p>\n<p>I think something like the following could be quite useful.</p>\n<pre><code>import your.favourite.test.framework ;\n\nclass TokenTests implements XYZConstants {\n\n    private final int TME = -99 ; // -99 because this should not be already in use as a token kind.\n\n    private void doOneTokenTest( String input, int[] expectation ) {\n        XYZ parser = new XYZ(new StringReader(input));\n        for( int k = 0 ; k &lt; expectation.length; ++k ) {\n            int state = parser.token_source.curLexState ;\n            try {\n                Token token = parser.getNextToken();\n                checkThat( expectation[k] != TME,\n                       &quot;Expected a TokenMgrErr, but got a&quot; +\n                       tokenImage[ token.kind ] + &quot; at token &quot; +\n                       k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\n                       &quot; state is &quot; + state ) ;\n                checkThat( token.kind == expectation[k],\n                       &quot;Expected a &quot; +\n                       tokenImage[ expectation[k] ] +\n                       &quot; but got a &quot; +\n                       tokenImage[ token.kind ] + &quot; at token &quot; +\n                       k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\n                       &quot; state is &quot; + state ) ;\n            } catch( TokenMgrErr e ) {\n                checkThat( expectation[k] == TME,\n                       &quot;Expected a &quot; +\n                       tokenImage[ expectation[k] ] +\n                       &quot; but got a TokenMgrErr at token &quot; +\n                       k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\n                       &quot; state is &quot; + state ) ; } } }\n</code></pre>\n<p>So now you can create and run a bunch of tests</p>\n<pre><code>    @Test\n    public void testTokenMatching() {\n        record Pair( String input, int[] expectation ) ;\n        Pair[] tests = {\n            new Pair( &quot;1234&quot;, int[]{ EVEN, EOF } ),\n            new Pair( &quot;1233&quot;, int[]{ ODD, EOF } ),\n            new Pair( &quot;&quot;. int[] { EOF },\n            new Pair( &quot;123.3&quot;, int[]{ ODD, TME } } ;\n        for( Pair t : tests ) {\n            doOneTokenTest( t.input(), t.expectation() ) ; } }\n</code></pre>\n"}],"owner":{"account_id":12734034,"reputation":34,"user_id":9249569,"display_name":"Avalon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679664676,"creation_date":1678167309,"question_id":75658361,"body_markdown":"I want to create a token that accepts only even numbers, and I need to test it in javacc, I&#39;m just starting to use it and I can&#39;t think of any way to test this token, can anyone help me, thanks!\r\n\r\n    TOKEN: //I want this token to only accept even numbers\r\n    {\r\n      &lt;TOKENPARANUMEROSPARES: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt; {System.out.println(&quot;Soy un numero par&quot;);}\r\n    }\r\n    \r\n    void llamarNumeroPar (): \r\n    {}\r\n    {\r\n    //I want my program to be able to launch a message from my main with the message shown below\r\n      &lt; TOKENPARANUMEROSPARES &gt; {System.out.println (&quot;soy un numeroPar&quot;);}\r\n    }\r\n\r\nTo print something, what do you recommend? Do I do it from the main or what could I correct in this part of my code?","title":"How to test a token in JavaCC","body":"<p>I want to create a token that accepts only even numbers, and I need to test it in javacc, I'm just starting to use it and I can't think of any way to test this token, can anyone help me, thanks!</p>\n<pre><code>TOKEN: //I want this token to only accept even numbers\n{\n  &lt;TOKENPARANUMEROSPARES: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt; {System.out.println(&quot;Soy un numero par&quot;);}\n}\n\nvoid llamarNumeroPar (): \n{}\n{\n//I want my program to be able to launch a message from my main with the message shown below\n  &lt; TOKENPARANUMEROSPARES &gt; {System.out.println (&quot;soy un numeroPar&quot;);}\n}\n</code></pre>\n<p>To print something, what do you recommend? Do I do it from the main or what could I correct in this part of my code?</p>\n"},{"tags":["java","multithreading","threadpool","wait","producer-consumer"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679644924,"post_id":75831180,"comment_id":133761421,"body_markdown":"Take a thread dump at the point at which they are stuck. Where are they waiting?","body":"Take a thread dump at the point at which they are stuck. Where are they waiting?"},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679645833,"post_id":75831180,"comment_id":133761608,"body_markdown":"added the threaddump. As i clearly used the LinkedList and why its showing unknown source?. Since both threads has locks on the LL object which is synchronized, but why notify not waking the thread? even used the notifyAll and still same result","body":"added the threaddump. As i clearly used the LinkedList and why its showing unknown source?. Since both threads has locks on the LL object which is synchronized, but why notify not waking the thread? even used the notifyAll and still same result"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679646346,"post_id":75831180,"comment_id":133761734,"body_markdown":"How can `notify` ever be called? Both threads are waiting.","body":"How can <code>notify</code> ever be called? Both threads are waiting."},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679648685,"post_id":75831180,"comment_id":133762276,"body_markdown":"so what I need to do? I followed the wait and notify order correct? what i m missing","body":"so what I need to do? I followed the wait and notify order correct? what i m missing"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1679651539,"post_id":75831180,"comment_id":133762942,"body_markdown":"You need to understand that there are 2 patterns to this producer-consumer  problem, 1. Producer produce 1 item and it wait for consumer to consume the item then Consumer consume the item and wait to producer to produce the item. 2. Producer keeps on producing items till buffer size and consumer keeps on consuming items until buffer is empty.","body":"You need to understand that there are 2 patterns to this producer-consumer  problem, 1. Producer produce 1 item and it wait for consumer to consume the item then Consumer consume the item and wait to producer to produce the item. 2. Producer keeps on producing items till buffer size and consumer keeps on consuming items until buffer is empty."},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679651680,"post_id":75831180,"comment_id":133762978,"body_markdown":"Thats what I implemented right? nothing wrong in the logic. But what wrong about the implementation?","body":"Thats what I implemented right? nothing wrong in the logic. But what wrong about the implementation?"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1679654569,"post_id":75831180,"comment_id":133763668,"body_markdown":"I would follow this approach, if store is full wait and do not produce anything else produce, for consumer: if store is empty wait and do not consume anything else consume. I think this works and you call notify on store instead of current thread.","body":"I would follow this approach, if store is full wait and do not produce anything else produce, for consumer: if store is empty wait and do not consume anything else consume. I think this works and you call notify on store instead of current thread."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679662552,"post_id":75831180,"comment_id":133765701,"body_markdown":"Look at the flow of control in your program. Neither thread can notify without calling wait first.","body":"Look at the flow of control in your program. Neither thread can notify without calling wait first."}],"answers":[{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679664143,"creation_date":1679664143,"answer_id":75834180,"question_id":75831180,"body_markdown":"I have modified OP code and tried to keep everything same.   \r\nSolution 1: Single producer and single consumer thread   \r\n- Producer: if Shop.LL is full, then wait on Shop.LL and do not produce anything else produce items and add to Shop.LL.  \r\n- Consumer: if Shop.LL is empty, then wait and do not consume anything else consume and remove item from Shop.LL.\r\n\r\n```java\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class ClientClass {\r\n    // moved items from the producer class, just to use its size in consumer class, but change does not have any impact on the issue\r\n    private static final String[] fruits = {&quot;apple&quot;, &quot;orange&quot;, &quot;pineapple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;kiwi&quot;};\r\n\r\n    // respective trackers to check the conditions\r\n    protected static volatile AtomicInteger fruitProducerTracker = new AtomicInteger();\r\n    protected static volatile AtomicInteger fruitConsumerTracker = new AtomicInteger();\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        final Thread produce = new Thread(() -&gt; {\r\n            synchronized (Shop.LL) {\r\n                // wait before producing \r\n                if (Shop.LL.size() != 0) {\r\n                    try {\r\n                        Shop.LL.wait();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                try {\r\n                    Producer.produce();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Shop.LL.notifyAll();\r\n            }\r\n        });\r\n\r\n        final Thread consume = new Thread(() -&gt; {\r\n            synchronized (Shop.LL) {\r\n                System.out.println(&quot;Entering consumer&quot;);\r\n                if (Shop.LL.size() == 0) {\r\n                    try {\r\n                        Shop.LL.wait();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                Consumer.buy();\r\n                Shop.LL.notifyAll();\r\n            }\r\n        });\r\n\r\n        consume.start();\r\n        produce.start();\r\n\r\n        consume.join();\r\n        produce.join();\r\n    }\r\n\r\n    static class Producer {\r\n        protected static synchronized void produce() throws InterruptedException {\r\n            if (Shop.LL.size() == 0) {\r\n                // To publish all the items, adding all items from the same thread\r\n                for (int j = 0; j &lt; fruits.length; j++) {\r\n                    final String fruit = fruits[fruitProducerTracker.getAndIncrement()];\r\n                    Shop.LL.add(fruit);\r\n                    System.out.println(Thread.currentThread().getName() + &quot; : Producer selling the .....&quot; + fruit);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static class Consumer {\r\n        protected static synchronized void buy() {\r\n            // To consume all items need to use while, if we use if condition similar to OP, then it will consume only 1 item.\r\n            while (fruitConsumerTracker.get() &lt; fruits.length) {\r\n                final String item = Shop.LL.remove(0);\r\n                fruitConsumerTracker.incrementAndGet();\r\n                System.out.println(Thread.currentThread().getName() + &quot; : Consumer buying the .....&quot; + item);\r\n            }\r\n        }\r\n    }\r\n\r\n    static class Shop {\r\n        static final List&lt;String&gt; LL = new LinkedList&lt;String&gt;();\r\n    }\r\n}\r\n/*\r\nEntering consumer\r\nThread-0 : Producer selling the .....apple\r\nThread-0 : Producer selling the .....orange\r\nThread-0 : Producer selling the .....pineapple\r\nThread-0 : Producer selling the .....banana\r\nThread-0 : Producer selling the .....cherry\r\nThread-0 : Producer selling the .....kiwi\r\nThread-1 : Consumer buying the .....apple\r\nThread-1 : Consumer buying the .....orange\r\nThread-1 : Consumer buying the .....pineapple\r\nThread-1 : Consumer buying the .....banana\r\nThread-1 : Consumer buying the .....cherry\r\nThread-1 : Consumer buying the .....kiwi\r\n*/\r\n\r\n```","title":"Producer Consumer problem in java thread is waiting very long","body":"<p>I have modified OP code and tried to keep everything same.<br />\nSolution 1: Single producer and single consumer thread</p>\n<ul>\n<li>Producer: if Shop.LL is full, then wait on Shop.LL and do not produce anything else produce items and add to Shop.LL.</li>\n<li>Consumer: if Shop.LL is empty, then wait and do not consume anything else consume and remove item from Shop.LL.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class ClientClass {\n    // moved items from the producer class, just to use its size in consumer class, but change does not have any impact on the issue\n    private static final String[] fruits = {&quot;apple&quot;, &quot;orange&quot;, &quot;pineapple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;kiwi&quot;};\n\n    // respective trackers to check the conditions\n    protected static volatile AtomicInteger fruitProducerTracker = new AtomicInteger();\n    protected static volatile AtomicInteger fruitConsumerTracker = new AtomicInteger();\n\n    public static void main(String[] args) throws InterruptedException {\n        final Thread produce = new Thread(() -&gt; {\n            synchronized (Shop.LL) {\n                // wait before producing \n                if (Shop.LL.size() != 0) {\n                    try {\n                        Shop.LL.wait();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n                try {\n                    Producer.produce();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                Shop.LL.notifyAll();\n            }\n        });\n\n        final Thread consume = new Thread(() -&gt; {\n            synchronized (Shop.LL) {\n                System.out.println(&quot;Entering consumer&quot;);\n                if (Shop.LL.size() == 0) {\n                    try {\n                        Shop.LL.wait();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n                Consumer.buy();\n                Shop.LL.notifyAll();\n            }\n        });\n\n        consume.start();\n        produce.start();\n\n        consume.join();\n        produce.join();\n    }\n\n    static class Producer {\n        protected static synchronized void produce() throws InterruptedException {\n            if (Shop.LL.size() == 0) {\n                // To publish all the items, adding all items from the same thread\n                for (int j = 0; j &lt; fruits.length; j++) {\n                    final String fruit = fruits[fruitProducerTracker.getAndIncrement()];\n                    Shop.LL.add(fruit);\n                    System.out.println(Thread.currentThread().getName() + &quot; : Producer selling the .....&quot; + fruit);\n                }\n            }\n        }\n    }\n\n    static class Consumer {\n        protected static synchronized void buy() {\n            // To consume all items need to use while, if we use if condition similar to OP, then it will consume only 1 item.\n            while (fruitConsumerTracker.get() &lt; fruits.length) {\n                final String item = Shop.LL.remove(0);\n                fruitConsumerTracker.incrementAndGet();\n                System.out.println(Thread.currentThread().getName() + &quot; : Consumer buying the .....&quot; + item);\n            }\n        }\n    }\n\n    static class Shop {\n        static final List&lt;String&gt; LL = new LinkedList&lt;String&gt;();\n    }\n}\n/*\nEntering consumer\nThread-0 : Producer selling the .....apple\nThread-0 : Producer selling the .....orange\nThread-0 : Producer selling the .....pineapple\nThread-0 : Producer selling the .....banana\nThread-0 : Producer selling the .....cherry\nThread-0 : Producer selling the .....kiwi\nThread-1 : Consumer buying the .....apple\nThread-1 : Consumer buying the .....orange\nThread-1 : Consumer buying the .....pineapple\nThread-1 : Consumer buying the .....banana\nThread-1 : Consumer buying the .....cherry\nThread-1 : Consumer buying the .....kiwi\n*/\n\n</code></pre>\n"}],"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75834180,"answer_count":1,"score":0,"last_activity_date":1679664143,"creation_date":1679644753,"question_id":75831180,"body_markdown":"I have written my own implementation of producer consumer problem. But my thread is waiting very long and even with notify. I don&#39;t get what is happening.\r\n\r\n**MainClass.java**\r\n\r\n    public class MainClass {\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tfinal Thread produce = new Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t\tsynchronized (Shop.LL) {\r\n    \t\t\t\t\t\tif (null != Shop.LL &amp;&amp; Shop.LL.size() == 0) {\r\n    \t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\tProducer.produce();\r\n    \t\t\t\t\t\t\t\tShop.LL.wait();\r\n    \t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tnotify();\r\n    \t\t\t\t\t}}}});\r\n    \r\n    \t\tfinal Thread consume = new Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tsynchronized (Shop.LL) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Entering consumer&quot;);\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tConsumer.buy();\r\n    \t\t\t\t\t\tShop.LL.wait();\r\n    \t\t\t\t\t} catch (InterruptedException e) {e.printStackTrace();}\r\n                    notify();\r\n    \r\n    \t\t\t\t}}});\r\n    \r\n    \t\tproduce.start();\r\n    \t\tconsume.start();\r\n    \t\tproduce.join();\r\n    \t\tconsume.join();\r\n    \t}}\r\n\r\n***Producer.java***\r\n\r\n    public class Producer {\r\n    \tprivate static String[] fruits = { &quot;apple&quot;, &quot;orange&quot;, &quot;pineapple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;kiwi&quot; };\r\n    \tprotected static synchronized void produce() {\r\n    \t\tif (Shop.LL.size() == 0) {\r\n    \t\t\tSystem.out.println(&quot;Producer selling the .....&quot;);\r\n    \t\t\tdo {\r\n    \t\t\t\tSystem.out.println(fruits[Shop.i]);\r\n    \t\t\t\tShop.LL.add(fruits[Shop.i]);\r\n    \t\t\t\tShop.i++;\r\n    \t\t\t} while (Shop.LL.size() &lt;= 1);\r\n    \t\t}}}\r\n\r\n   \r\n**Consumer.java**\r\n\r\n     public class Consumer {\r\n        \tprotected static synchronized void buy() {\r\n        \t\tint i = 0;\r\n        \t\tif (Shop.LL.size() &gt; 0) {\r\n        \t\t\tSystem.out.println(&quot;Cosumer buying the .....&quot;);\r\n        \t\t\twhile (i &lt; 2) {\r\n        \t\t\t\tSystem.out.println(Shop.LL.get(i));\r\n        \t\t\t\ti++;\r\n        \t\t\t}}\r\n        \t\tShop.LL.clear();\r\n        \t}}\r\n\r\n**Shop.java**\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    public class Shop {\r\n    \tprotected static List&lt;String&gt; LL = new LinkedList&lt;String&gt;();\r\n    \tprotected static int i = 0;\r\n    }\r\n\r\n\r\n**OUTPUT:** \r\n\r\n    Entering producer \r\n    Producer selling the ..... apple orange \r\n    Entering consumer \r\n    Cosumer buying the ..... apple orange\r\n\r\n\r\nHere after this both threads are waiting indefinitely and don&#39;t know why. But what is the cause?\r\n\r\n**Thread Dump**\r\n\r\n    8976:\r\n    2023-03-24 13:43:31\r\n    Full thread dump Java HotSpot(TM) 64-Bit Server VM (25.191-b12 mixed mode):\r\n    \r\n    &quot;Thread-1&quot; #11 prio=5 os_prio=0 tid=0x000000001869b000 nid=0x2ca8 in Object.wait() [0x0000000018fae000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\r\n    \tat java.lang.Object.wait(Unknown Source)\r\n    \tat com.consumer.producer.MainClass$2.run(MainClass.java:58)\r\n    \t- locked &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    \r\n    &quot;Thread-0&quot; #10 prio=5 os_prio=0 tid=0x0000000018694000 nid=0x1328 in Object.wait() [0x0000000018eaf000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\r\n    \tat java.lang.Object.wait(Unknown Source)\r\n    \tat com.consumer.producer.MainClass$1.run(MainClass.java:25)\r\n    \t- locked &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    \r\n    &quot;Service Thread&quot; #9 daemon prio=9 os_prio=0 tid=0x00000000185b8000 nid=0x7f0 runnable [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C1 CompilerThread2&quot; #8 daemon prio=9 os_prio=2 tid=0x00000000185b2800 nid=0x11f8 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C2 CompilerThread1&quot; #7 daemon prio=9 os_prio=2 tid=0x0000000016eac000 nid=0x21c8 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C2 CompilerThread0&quot; #6 daemon prio=9 os_prio=2 tid=0x0000000016e4d800 nid=0x30d0 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Attach Listener&quot; #5 daemon prio=5 os_prio=2 tid=0x0000000016e4b800 nid=0x2de0 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=2 tid=0x0000000016e4a000 nid=0xe38 runnable [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Finalizer&quot; #3 daemon prio=8 os_prio=1 tid=0x000000000230b800 nid=0x2688 in Object.wait() [0x00000000181ae000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5e08ed0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    \tat java.lang.ref.ReferenceQueue.remove(Unknown Source)\r\n    \t- locked &lt;0x00000000d5e08ed0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    \tat java.lang.ref.ReferenceQueue.remove(Unknown Source)\r\n    \tat java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)\r\n    \r\n    &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=2 tid=0x0000000016e19000 nid=0x2b4c in Object.wait() [0x00000000180ae000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5e06bf8&gt; (a java.lang.ref.Reference$Lock)\r\n    \tat java.lang.Object.wait(Unknown Source)\r\n    \tat java.lang.ref.Reference.tryHandlePending(Unknown Source)\r\n    \t- locked &lt;0x00000000d5e06bf8&gt; (a java.lang.ref.Reference$Lock)\r\n    \tat java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)\r\n    \r\n    &quot;main&quot; #1 prio=5 os_prio=0 tid=0x00000000020be800 nid=0x1908 in Object.wait() [0x000000000220f000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5e869f0&gt; (a java.lang.Thread)\r\n    \tat java.lang.Thread.join(Unknown Source)\r\n    \t- locked &lt;0x00000000d5e869f0&gt; (a java.lang.Thread)\r\n    \tat java.lang.Thread.join(Unknown Source)\r\n    \tat com.consumer.producer.MainClass.main(MainClass.java:79)\r\n    \r\n    &quot;VM Thread&quot; os_prio=2 tid=0x0000000016e17800 nid=0x3af8 runnable \r\n    \r\n    &quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x0000000002228000 nid=0x2e60 runnable \r\n    \r\n    &quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x0000000002229800 nid=0x16c4 runnable \r\n    \r\n    &quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x000000000222b000 nid=0xe9c runnable \r\n    \r\n    &quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x000000000222d800 nid=0x22e4 runnable \r\n    \r\n    &quot;VM Periodic Task Thread&quot; os_prio=2 tid=0x00000000185ba000 nid=0x21f0 waiting on condition \r\n    \r\n    JNI global references: 4\r\n\r\n","title":"Producer Consumer problem in java thread is waiting very long","body":"<p>I have written my own implementation of producer consumer problem. But my thread is waiting very long and even with notify. I don't get what is happening.</p>\n<p><strong>MainClass.java</strong></p>\n<pre><code>public class MainClass {\n    public static void main(String[] args) throws InterruptedException {\n        final Thread produce = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                    synchronized (Shop.LL) {\n                        if (null != Shop.LL &amp;&amp; Shop.LL.size() == 0) {\n                            try {\n                                Producer.produce();\n                                Shop.LL.wait();\n                            } catch (InterruptedException e) {\n                                e.printStackTrace();\n                            }\n                            notify();\n                    }}}});\n\n        final Thread consume = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                synchronized (Shop.LL) {\n                    System.out.println(&quot;Entering consumer&quot;);\n                    try {\n                        Consumer.buy();\n                        Shop.LL.wait();\n                    } catch (InterruptedException e) {e.printStackTrace();}\n                notify();\n\n                }}});\n\n        produce.start();\n        consume.start();\n        produce.join();\n        consume.join();\n    }}\n</code></pre>\n<p><em><strong>Producer.java</strong></em></p>\n<pre><code>public class Producer {\n    private static String[] fruits = { &quot;apple&quot;, &quot;orange&quot;, &quot;pineapple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;kiwi&quot; };\n    protected static synchronized void produce() {\n        if (Shop.LL.size() == 0) {\n            System.out.println(&quot;Producer selling the .....&quot;);\n            do {\n                System.out.println(fruits[Shop.i]);\n                Shop.LL.add(fruits[Shop.i]);\n                Shop.i++;\n            } while (Shop.LL.size() &lt;= 1);\n        }}}\n</code></pre>\n<p><strong>Consumer.java</strong></p>\n<pre><code> public class Consumer {\n        protected static synchronized void buy() {\n            int i = 0;\n            if (Shop.LL.size() &gt; 0) {\n                System.out.println(&quot;Cosumer buying the .....&quot;);\n                while (i &lt; 2) {\n                    System.out.println(Shop.LL.get(i));\n                    i++;\n                }}\n            Shop.LL.clear();\n        }}\n</code></pre>\n<p><strong>Shop.java</strong></p>\n<pre><code>import java.util.LinkedList;\nimport java.util.List;\npublic class Shop {\n    protected static List&lt;String&gt; LL = new LinkedList&lt;String&gt;();\n    protected static int i = 0;\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>Entering producer \nProducer selling the ..... apple orange \nEntering consumer \nCosumer buying the ..... apple orange\n</code></pre>\n<p>Here after this both threads are waiting indefinitely and don't know why. But what is the cause?</p>\n<p><strong>Thread Dump</strong></p>\n<pre><code>8976:\n2023-03-24 13:43:31\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (25.191-b12 mixed mode):\n\n&quot;Thread-1&quot; #11 prio=5 os_prio=0 tid=0x000000001869b000 nid=0x2ca8 in Object.wait() [0x0000000018fae000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\n    at java.lang.Object.wait(Unknown Source)\n    at com.consumer.producer.MainClass$2.run(MainClass.java:58)\n    - locked &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\n    at java.lang.Thread.run(Unknown Source)\n\n&quot;Thread-0&quot; #10 prio=5 os_prio=0 tid=0x0000000018694000 nid=0x1328 in Object.wait() [0x0000000018eaf000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\n    at java.lang.Object.wait(Unknown Source)\n    at com.consumer.producer.MainClass$1.run(MainClass.java:25)\n    - locked &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\n    at java.lang.Thread.run(Unknown Source)\n\n&quot;Service Thread&quot; #9 daemon prio=9 os_prio=0 tid=0x00000000185b8000 nid=0x7f0 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C1 CompilerThread2&quot; #8 daemon prio=9 os_prio=2 tid=0x00000000185b2800 nid=0x11f8 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread1&quot; #7 daemon prio=9 os_prio=2 tid=0x0000000016eac000 nid=0x21c8 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #6 daemon prio=9 os_prio=2 tid=0x0000000016e4d800 nid=0x30d0 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Attach Listener&quot; #5 daemon prio=5 os_prio=2 tid=0x0000000016e4b800 nid=0x2de0 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=2 tid=0x0000000016e4a000 nid=0xe38 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=1 tid=0x000000000230b800 nid=0x2688 in Object.wait() [0x00000000181ae000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5e08ed0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(Unknown Source)\n    - locked &lt;0x00000000d5e08ed0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(Unknown Source)\n    at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)\n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=2 tid=0x0000000016e19000 nid=0x2b4c in Object.wait() [0x00000000180ae000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5e06bf8&gt; (a java.lang.ref.Reference$Lock)\n    at java.lang.Object.wait(Unknown Source)\n    at java.lang.ref.Reference.tryHandlePending(Unknown Source)\n    - locked &lt;0x00000000d5e06bf8&gt; (a java.lang.ref.Reference$Lock)\n    at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)\n\n&quot;main&quot; #1 prio=5 os_prio=0 tid=0x00000000020be800 nid=0x1908 in Object.wait() [0x000000000220f000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5e869f0&gt; (a java.lang.Thread)\n    at java.lang.Thread.join(Unknown Source)\n    - locked &lt;0x00000000d5e869f0&gt; (a java.lang.Thread)\n    at java.lang.Thread.join(Unknown Source)\n    at com.consumer.producer.MainClass.main(MainClass.java:79)\n\n&quot;VM Thread&quot; os_prio=2 tid=0x0000000016e17800 nid=0x3af8 runnable \n\n&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x0000000002228000 nid=0x2e60 runnable \n\n&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x0000000002229800 nid=0x16c4 runnable \n\n&quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x000000000222b000 nid=0xe9c runnable \n\n&quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x000000000222d800 nid=0x22e4 runnable \n\n&quot;VM Periodic Task Thread&quot; os_prio=2 tid=0x00000000185ba000 nid=0x21f0 waiting on condition \n\nJNI global references: 4\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"owner":{"account_id":1302279,"reputation":87,"user_id":1251950,"display_name":"Karthik Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679663985,"creation_date":1679662694,"question_id":75833957,"body_markdown":"I am making a POST call which returns a **jobId** and then make a GET call using the jobId. If I get back the response as job **COMPLETED** then I need to parse the response and return it. But if the job is still **IN_PROGRESS/PENDING** then I need to retry the GET call after 1 sec. \r\n\r\n    The GET API response is (id=1234, eta=1000, status=IN_PROGRESS, response=null)\r\n\r\nbut still the GET call does not trigger a retry. How can I fix this to retry while job is in progress?\r\n\r\n    externalClient\r\n                .post()\r\n                .uri(url)\r\n                .headers(httpHeaders -&gt; httpHeaders.addAll(buildHeaders()))\r\n                .body(BodyInserters.fromValue(postRequest))\r\n                .retrieve()\r\n                .bodyToMono(new ParameterizedTypeReference&lt;Response&gt;() {\r\n                })\r\n                .log()\r\n                .timeout(Duration.ofSeconds(timeout))\r\n                .onErrorMap(ReadTimeoutException.class, ex -&gt; handleTimeout(ex))\r\n                .flatMap(response -&gt; externalClient.get().uri(getLabelUri + response.getId())\r\n                        .headers(httpHeaders -&gt; httpHeaders.addAll(buildGetHeaders()))\r\n                        .retrieve()\r\n                        .bodyToMono(new ParameterizedTypeReference&lt;Response&gt;() {\r\n                        })\r\n                        .log()\r\n                        .timeout(Duration.ofSeconds(timeout))\r\n                        .onErrorMap(ReadTimeoutException.class, ex -&gt; handleTimeout(ex))\r\n                        .flatMap(getResponse -&gt; {\r\n                            log.info(&quot;Get response received {}&quot;, getResponse);\r\n                            if (!getResponse.getStatus().startsWith(&quot;COMPLETE&quot;)) {\r\n                                return Mono.error(new RetryableException(ApiError.JOB_IN_PROGRESS,\r\n                                        &quot;Job is not yet completed. Job retrying again.&quot;));\r\n                            } else {\r\n                                log.info(&quot;Job status complete, returning response&quot;);\r\n                                return Mono.just(getResponse);\r\n                            }\r\n                        })\r\n                        .retryWhen(handleRetry(maxAttempts, backoff)));\r\n\r\n    \r\n    public static RetryBackoffSpec handleRetry(Integer maxAttempts, Integer backoff) {\r\n        log.info(&quot;Inside handle retry method&quot;);\r\n        return Retry.backoff(maxAttempts, Duration.ofSeconds(backoff))\r\n                .filter(RetryableException.class::isInstance)\r\n                .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\r\n                    RetryableException exception = (RetryableException) retrySignal.failure();\r\n                    return getApiException(exception.getError(), retrySignal.failure());\r\n                });\r\n    }\r\n\r\n\r\nI can see this log getting printed `Get response received (id=1234, eta=1000, status=IN_PROGRESS, response=null)`\r\nbut still the GET call does not trigger a retry. How can I fix this to retry while job is in progress?","title":"Retry not working in Spring Webflux with webclient","body":"<p>I am making a POST call which returns a <strong>jobId</strong> and then make a GET call using the jobId. If I get back the response as job <strong>COMPLETED</strong> then I need to parse the response and return it. But if the job is still <strong>IN_PROGRESS/PENDING</strong> then I need to retry the GET call after 1 sec.</p>\n<pre><code>The GET API response is (id=1234, eta=1000, status=IN_PROGRESS, response=null)\n</code></pre>\n<p>but still the GET call does not trigger a retry. How can I fix this to retry while job is in progress?</p>\n<pre><code>externalClient\n            .post()\n            .uri(url)\n            .headers(httpHeaders -&gt; httpHeaders.addAll(buildHeaders()))\n            .body(BodyInserters.fromValue(postRequest))\n            .retrieve()\n            .bodyToMono(new ParameterizedTypeReference&lt;Response&gt;() {\n            })\n            .log()\n            .timeout(Duration.ofSeconds(timeout))\n            .onErrorMap(ReadTimeoutException.class, ex -&gt; handleTimeout(ex))\n            .flatMap(response -&gt; externalClient.get().uri(getLabelUri + response.getId())\n                    .headers(httpHeaders -&gt; httpHeaders.addAll(buildGetHeaders()))\n                    .retrieve()\n                    .bodyToMono(new ParameterizedTypeReference&lt;Response&gt;() {\n                    })\n                    .log()\n                    .timeout(Duration.ofSeconds(timeout))\n                    .onErrorMap(ReadTimeoutException.class, ex -&gt; handleTimeout(ex))\n                    .flatMap(getResponse -&gt; {\n                        log.info(&quot;Get response received {}&quot;, getResponse);\n                        if (!getResponse.getStatus().startsWith(&quot;COMPLETE&quot;)) {\n                            return Mono.error(new RetryableException(ApiError.JOB_IN_PROGRESS,\n                                    &quot;Job is not yet completed. Job retrying again.&quot;));\n                        } else {\n                            log.info(&quot;Job status complete, returning response&quot;);\n                            return Mono.just(getResponse);\n                        }\n                    })\n                    .retryWhen(handleRetry(maxAttempts, backoff)));\n\n\npublic static RetryBackoffSpec handleRetry(Integer maxAttempts, Integer backoff) {\n    log.info(&quot;Inside handle retry method&quot;);\n    return Retry.backoff(maxAttempts, Duration.ofSeconds(backoff))\n            .filter(RetryableException.class::isInstance)\n            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\n                RetryableException exception = (RetryableException) retrySignal.failure();\n                return getApiException(exception.getError(), retrySignal.failure());\n            });\n}\n</code></pre>\n<p>I can see this log getting printed <code>Get response received (id=1234, eta=1000, status=IN_PROGRESS, response=null)</code>\nbut still the GET call does not trigger a retry. How can I fix this to retry while job is in progress?</p>\n"},{"tags":["java","stack","instruction-set","jvm-bytecode","machine-instruction"],"comments":[{"owner":{"account_id":216101,"reputation":24294,"user_id":471129,"display_name":"Erik Eidt"},"score":0,"creation_date":1679501551,"post_id":75814691,"comment_id":133734463,"body_markdown":"6, 5, 4, 3, 2, 1 DUP2_X1 will result in 6, 5, 4, ***2, 1,*** 3, 2, 1.","body":"6, 5, 4, 3, 2, 1 DUP2_X1 will result in 6, 5, 4, <b><i>2, 1,</i></b> 3, 2, 1."},{"owner":{"account_id":28087799,"reputation":21,"user_id":21457881,"display_name":"Alex"},"score":0,"creation_date":1679504709,"post_id":75814691,"comment_id":133735352,"body_markdown":"thanks! that&#39;s really helpful. So DUP_X2 would be 6 5 4 1 3 2 1. Pop just removes the element at the very top of the stack and POP 2 the 2 elements at the top. I should be able to figure out this now.","body":"thanks! that&#39;s really helpful. So DUP_X2 would be 6 5 4 1 3 2 1. Pop just removes the element at the very top of the stack and POP 2 the 2 elements at the top. I should be able to figure out this now."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679510752,"post_id":75814691,"comment_id":133736838,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679558239,"creation_date":1679558239,"answer_id":75820424,"question_id":75814691,"body_markdown":"So, basically you want to duplicate the last three elements of the operand stack while keeping all other elements intact and not use local variables nor heap space.\r\n\r\nOne sequence to achieve this would be\r\n\r\n|Instruction|Resulting Stack\r\n|-----------|---------------\r\n| (initial) | ...321\r\n|DUP2_X1    | ...21321\r\n|POP2       | ...213\r\n|DUP_X2     | ...3213\r\n|DUP_X2     | ...33213\r\n|POP        | ...3321\r\n|DUP2_X1    | ...321321\r\n\r\nA straight-forward program to test it using the [ASM library] looks like\r\n\r\n```java\r\npackage asm;\r\n\r\nimport static org.objectweb.asm.Opcodes.*;\r\nimport java.lang.invoke.*;\r\nimport org.objectweb.asm.*;\r\n\r\npublic class DuplicateThreeOperands {\r\n  public static void main(String[] args) throws ReflectiveOperationException {\r\n    final String s = &quot;Ljava/lang/String;&quot;;\r\n    ClassWriter cw = new ClassWriter(0);\r\n    cw.visit(55, ACC_INTERFACE | ACC_ABSTRACT,\r\n             &quot;asm/Test&quot;, null, &quot;java/lang/Object&quot;, args);\r\n    MethodVisitor mv = cw.visitMethod(ACC_STATIC | ACC_PUBLIC,\r\n             &quot;test&quot;, &quot;()&quot; + s, null, null);\r\n    mv.visitCode();\r\n    mv.visitLdcInsn(&quot;6&quot;);\r\n    mv.visitLdcInsn(&quot;5&quot;);\r\n    mv.visitLdcInsn(&quot;4&quot;);\r\n    mv.visitLdcInsn(&quot;3&quot;);\r\n    mv.visitLdcInsn(&quot;2&quot;);\r\n    mv.visitLdcInsn(&quot;1&quot;);\r\n\r\n    stackManipulation(mv);\r\n\r\n    mv.visitInvokeDynamicInsn(&quot;concat&quot;, &quot;(&quot; + s.repeat(9) + &quot;)&quot; + s, new Handle(\r\n        H_INVOKESTATIC, &quot;java/lang/invoke/StringConcatFactory&quot;, &quot;makeConcat&quot;,\r\n        MethodType.methodType(CallSite.class, MethodHandles.Lookup.class,\r\n           String.class, MethodType.class).toMethodDescriptorString(), false));\r\n    mv.visitInsn(ARETURN);\r\n    mv.visitMaxs(9, 0);\r\n\r\n    String result = (String)MethodHandles.lookup().defineClass(cw.toByteArray())\r\n        .getMethod(&quot;test&quot;).invoke(null);\r\n    System.out.println(result);\r\n  }\r\n\r\n  private static void stackManipulation(MethodVisitor mv) {\r\n                           // ...321\r\n    mv.visitInsn(DUP2_X1); // ...21321\r\n    mv.visitInsn(POP2);    // ...213\r\n    mv.visitInsn(DUP_X2);  // ...3213\r\n    mv.visitInsn(DUP_X2);  // ...33213\r\n    mv.visitInsn(POP);     // ...3321\r\n    mv.visitInsn(DUP2_X1); // ...321321\r\n  }\r\n}\r\n```\r\n\r\nand prints\r\n\r\n```none\r\n654321321\r\n```\r\n\r\nYou may look at the [`dup` instruction] and following sections in JVM specification for further reference.\r\n\r\n[ASM library]: https://asm.ow2.io/\r\n[`dup` instruction]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.dup","title":"Transform a stack using Java Virtual Machine Instruction Set","body":"<p>So, basically you want to duplicate the last three elements of the operand stack while keeping all other elements intact and not use local variables nor heap space.</p>\n<p>One sequence to achieve this would be</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Instruction</th>\n<th>Resulting Stack</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>(initial)</td>\n<td>...321</td>\n</tr>\n<tr>\n<td>DUP2_X1</td>\n<td>...21321</td>\n</tr>\n<tr>\n<td>POP2</td>\n<td>...213</td>\n</tr>\n<tr>\n<td>DUP_X2</td>\n<td>...3213</td>\n</tr>\n<tr>\n<td>DUP_X2</td>\n<td>...33213</td>\n</tr>\n<tr>\n<td>POP</td>\n<td>...3321</td>\n</tr>\n<tr>\n<td>DUP2_X1</td>\n<td>...321321</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>A straight-forward program to test it using the <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM library</a> looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>package asm;\n\nimport static org.objectweb.asm.Opcodes.*;\nimport java.lang.invoke.*;\nimport org.objectweb.asm.*;\n\npublic class DuplicateThreeOperands {\n  public static void main(String[] args) throws ReflectiveOperationException {\n    final String s = &quot;Ljava/lang/String;&quot;;\n    ClassWriter cw = new ClassWriter(0);\n    cw.visit(55, ACC_INTERFACE | ACC_ABSTRACT,\n             &quot;asm/Test&quot;, null, &quot;java/lang/Object&quot;, args);\n    MethodVisitor mv = cw.visitMethod(ACC_STATIC | ACC_PUBLIC,\n             &quot;test&quot;, &quot;()&quot; + s, null, null);\n    mv.visitCode();\n    mv.visitLdcInsn(&quot;6&quot;);\n    mv.visitLdcInsn(&quot;5&quot;);\n    mv.visitLdcInsn(&quot;4&quot;);\n    mv.visitLdcInsn(&quot;3&quot;);\n    mv.visitLdcInsn(&quot;2&quot;);\n    mv.visitLdcInsn(&quot;1&quot;);\n\n    stackManipulation(mv);\n\n    mv.visitInvokeDynamicInsn(&quot;concat&quot;, &quot;(&quot; + s.repeat(9) + &quot;)&quot; + s, new Handle(\n        H_INVOKESTATIC, &quot;java/lang/invoke/StringConcatFactory&quot;, &quot;makeConcat&quot;,\n        MethodType.methodType(CallSite.class, MethodHandles.Lookup.class,\n           String.class, MethodType.class).toMethodDescriptorString(), false));\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(9, 0);\n\n    String result = (String)MethodHandles.lookup().defineClass(cw.toByteArray())\n        .getMethod(&quot;test&quot;).invoke(null);\n    System.out.println(result);\n  }\n\n  private static void stackManipulation(MethodVisitor mv) {\n                           // ...321\n    mv.visitInsn(DUP2_X1); // ...21321\n    mv.visitInsn(POP2);    // ...213\n    mv.visitInsn(DUP_X2);  // ...3213\n    mv.visitInsn(DUP_X2);  // ...33213\n    mv.visitInsn(POP);     // ...3321\n    mv.visitInsn(DUP2_X1); // ...321321\n  }\n}\n</code></pre>\n<p>and prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>654321321\n</code></pre>\n<p>You may look at the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.dup\" rel=\"nofollow noreferrer\"><code>dup</code> instruction</a> and following sections in JVM specification for further reference.</p>\n"}],"owner":{"account_id":28087799,"reputation":21,"user_id":21457881,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75820424,"answer_count":1,"score":1,"last_activity_date":1679663619,"creation_date":1679501286,"question_id":75814691,"body_markdown":"I need to transform 654321 into 654321321, using only DUP2_X1, POP, DUP_X2, POP2. I have a really difficult time with the DUP. Can anyone help?\r\n\r\nI tried to go like this: 654321 DUP2_X1 654654321, then POP goes to 65465432, then DUP_X2 we&#39;d have 6543265432... but I don&#39;t think I am doing them correctly.","title":"Transform a stack using Java Virtual Machine Instruction Set","body":"<p>I need to transform 654321 into 654321321, using only DUP2_X1, POP, DUP_X2, POP2. I have a really difficult time with the DUP. Can anyone help?</p>\n<p>I tried to go like this: 654321 DUP2_X1 654654321, then POP goes to 65465432, then DUP_X2 we'd have 6543265432... but I don't think I am doing them correctly.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1679663696,"post_id":75834101,"comment_id":133765984,"body_markdown":"Show us the definition of `Account`. My guess is that you made the fields in there `static`.","body":"Show us the definition of <code>Account</code>. My guess is that you made the fields in there <code>static</code>."},{"owner":{"account_id":28042437,"reputation":1,"user_id":21419768,"display_name":"BismuthPixels"},"score":0,"creation_date":1679665376,"post_id":75834101,"comment_id":133766439,"body_markdown":"@JoachimSauer Yeah that was the issue; I had it in as a quick fix to an earlier problem that I fixed and then I forgot to change it back. Ty!","body":"@JoachimSauer Yeah that was the issue; I had it in as a quick fix to an earlier problem that I fixed and then I forgot to change it back. Ty!"}],"owner":{"account_id":28042437,"reputation":1,"user_id":21419768,"display_name":"BismuthPixels"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679663858,"answer_count":0,"score":0,"last_activity_date":1679663592,"creation_date":1679663592,"question_id":75834101,"body_markdown":"I&#39;m trying to put two separate objects in my Hashmap but when I do it just puts the same object in multiple times.\r\n\r\nSo I have a Hashmap \r\n`HashMap&lt;Integer, Account&gt; account_map = new HashMap&lt;&gt;();`\r\nand a method to make accounts that is\r\n\r\n```\r\npublic static Account makeAccount(int id, String handle) {\r\n        Account output_account\r\n                = new Account(id, handle,&quot; &quot;, 0) ;\r\n        return output_account;\r\n```\r\nI then go to put two accounts in my Hashmap by doing\r\n```\r\n        Account output1 = makeAccount(1, &quot;Hat&quot;);\r\n        Account output2 = makeAccount(2, &quot;Coat&quot;);\r\n        //output1 = makeAccount(1, &quot;Hat&quot;);\r\n        account_map.put(1, output1);\r\n        //output2 = makeAccount(2, &quot;Coat&quot;);\r\n        account_map.put(2, output2);\r\n        System.out.println(account_map);\r\n```\r\nbut that just returns the following\r\n\r\n```\r\n{1=Account ID: 2.\r\n Account Handle: Coat.\r\n Account Description:  .\r\n Account Popularity: 0.\r\nThis is the Most Popular Account: false, 2=Account ID: 2.\r\n Account Handle: Coat.\r\n Account Description:  .\r\n Account Popularity: 0.\r\nThis is the Most Popular Account: false}\r\n```\r\nWith output2 in both 1 and 2 rather than output1 in 1 and output2. Anyone able to help?","title":"HashMap puts in the same Object twice","body":"<p>I'm trying to put two separate objects in my Hashmap but when I do it just puts the same object in multiple times.</p>\n<p>So I have a Hashmap\n<code>HashMap&lt;Integer, Account&gt; account_map = new HashMap&lt;&gt;();</code>\nand a method to make accounts that is</p>\n<pre><code>public static Account makeAccount(int id, String handle) {\n        Account output_account\n                = new Account(id, handle,&quot; &quot;, 0) ;\n        return output_account;\n</code></pre>\n<p>I then go to put two accounts in my Hashmap by doing</p>\n<pre><code>        Account output1 = makeAccount(1, &quot;Hat&quot;);\n        Account output2 = makeAccount(2, &quot;Coat&quot;);\n        //output1 = makeAccount(1, &quot;Hat&quot;);\n        account_map.put(1, output1);\n        //output2 = makeAccount(2, &quot;Coat&quot;);\n        account_map.put(2, output2);\n        System.out.println(account_map);\n</code></pre>\n<p>but that just returns the following</p>\n<pre><code>{1=Account ID: 2.\n Account Handle: Coat.\n Account Description:  .\n Account Popularity: 0.\nThis is the Most Popular Account: false, 2=Account ID: 2.\n Account Handle: Coat.\n Account Description:  .\n Account Popularity: 0.\nThis is the Most Popular Account: false}\n</code></pre>\n<p>With output2 in both 1 and 2 rather than output1 in 1 and output2. Anyone able to help?</p>\n"},{"tags":["java","spring","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":19225043,"reputation":231,"user_id":14048096,"display_name":"Valeriy Emelyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679662079,"creation_date":1679662079,"answer_id":75833845,"question_id":65143220,"body_markdown":"My solution is based on adding a class with markers and using the @JsonView annotation. More details [here][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75833731/14048096","title":"Swagger (OpenAPI 3.0) Hide field only on Post, not on Put","body":"<p>My solution is based on adding a class with markers and using the @JsonView annotation. More details <a href=\"https://stackoverflow.com/a/75833731/14048096\">here</a></p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679663358,"creation_date":1679663358,"answer_id":75834064,"question_id":65143220,"body_markdown":"Normally this is done via a combination of schema and path parameters.  You would then mark your id property as `readOnly`, and allow the user to specify which object to update via the path parameter.  Take a look at this example.  Feel free to copy it and paste it into the [swagger editor][1] to play around with it as well.\r\n```yaml\r\nopenapi: 3.0.4\r\ninfo:\r\n  title: User With ReadOnly ID\r\n  description: demoing readOnly propertyuser id in pat for put operation as r\r\n  version: 1.0.17\r\nservers:\r\n  - url: /api/v1\r\npaths:\r\n  /user:\r\n    post:\r\n      tags:\r\n        - user\r\n      summary: Create user\r\n      description: This can only be done by the logged in user.\r\n      operationId: createUser\r\n      requestBody:\r\n        description: Created user object\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n          application/xml:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n          application/x-www-form-urlencoded:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n      responses:\r\n        default:\r\n          description: successful operation\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/User&#39;\r\n            application/xml:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/User&#39;\r\n  /user/{user-id}:\r\n    get:\r\n      tags:\r\n        - user\r\n      summary: Get user by user id\r\n      description: &#39;&#39;\r\n      operationId: getUserById\r\n      parameters:\r\n        - name: user-id\r\n          in: path\r\n          description: &#39;The name that needs to be fetched. Use user1 for testing. &#39;\r\n          required: true\r\n          schema:\r\n            type: string\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: successful operation\r\n          content:\r\n            application/xml:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/User&#39;\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/User&#39;\r\n        &#39;400&#39;:\r\n          description: Invalid user id supplied\r\n        &#39;404&#39;:\r\n          description: User not found\r\n    put:\r\n      tags:\r\n        - user\r\n      summary: Update user\r\n      description: This can only be done by the logged in user.\r\n      operationId: updateUser\r\n      parameters:\r\n        - name: user-id\r\n          in: path\r\n          description: id that needs to be deleted\r\n          required: true\r\n          schema:\r\n            type: string\r\n      requestBody:\r\n        description: Update an existent user\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n          application/xml:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n          application/x-www-form-urlencoded:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n      responses:\r\n        default:\r\n          description: successful operation\r\n    delete:\r\n      tags:\r\n        - user\r\n      summary: Delete user\r\n      description: This can only be done by the logged in user.\r\n      operationId: deleteUser\r\n      parameters:\r\n        - name: user-id\r\n          in: path\r\n          description: The id that needs to be deleted\r\n          required: true\r\n          schema:\r\n            type: string\r\n      responses:\r\n        &#39;400&#39;:\r\n          description: Invalid user id supplied\r\n        &#39;404&#39;:\r\n          description: User not found\r\ncomponents:\r\n  schemas:\r\n    User:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: string\r\n          format: uuid\r\n          example: 10\r\n          readOnly: true\r\n        username:\r\n          type: string\r\n          example: theUser\r\n        firstName:\r\n          type: string\r\n          example: John\r\n        lastName:\r\n          type: string\r\n          example: James\r\n        email:\r\n          type: string\r\n          example: john@email.com\r\n        password:\r\n          type: string\r\n          example: &#39;12345&#39;\r\n        phone:\r\n          type: string\r\n          example: &#39;12345&#39;\r\n        userStatus:\r\n          type: integer\r\n          description: User Status\r\n          format: int32\r\n          example: 1\r\n      xml:\r\n        name: user\r\n```\r\n\r\nHere, by marking the id as readOnly, it is not displayed in the UI for a request object, such as this post request:\r\n\r\n[![POST Request schema][2]][2]\r\n\r\nHowever, in the get request, we can clearly see the id exists in the schema:\r\n\r\n[![GET request][3]][3]\r\n\r\n\r\n  [1]: https://editor.swagger.io/\r\n  [2]: https://i.stack.imgur.com/eSNQg.png\r\n  [3]: https://i.stack.imgur.com/D368b.png","title":"Swagger (OpenAPI 3.0) Hide field only on Post, not on Put","body":"<p>Normally this is done via a combination of schema and path parameters.  You would then mark your id property as <code>readOnly</code>, and allow the user to specify which object to update via the path parameter.  Take a look at this example.  Feel free to copy it and paste it into the <a href=\"https://editor.swagger.io/\" rel=\"nofollow noreferrer\">swagger editor</a> to play around with it as well.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.4\ninfo:\n  title: User With ReadOnly ID\n  description: demoing readOnly propertyuser id in pat for put operation as r\n  version: 1.0.17\nservers:\n  - url: /api/v1\npaths:\n  /user:\n    post:\n      tags:\n        - user\n      summary: Create user\n      description: This can only be done by the logged in user.\n      operationId: createUser\n      requestBody:\n        description: Created user object\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/User'\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/User'\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/User'\n      responses:\n        default:\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/User'\n  /user/{user-id}:\n    get:\n      tags:\n        - user\n      summary: Get user by user id\n      description: ''\n      operationId: getUserById\n      parameters:\n        - name: user-id\n          in: path\n          description: 'The name that needs to be fetched. Use user1 for testing. '\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: successful operation\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/User'\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n        '400':\n          description: Invalid user id supplied\n        '404':\n          description: User not found\n    put:\n      tags:\n        - user\n      summary: Update user\n      description: This can only be done by the logged in user.\n      operationId: updateUser\n      parameters:\n        - name: user-id\n          in: path\n          description: id that needs to be deleted\n          required: true\n          schema:\n            type: string\n      requestBody:\n        description: Update an existent user\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/User'\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/User'\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/User'\n      responses:\n        default:\n          description: successful operation\n    delete:\n      tags:\n        - user\n      summary: Delete user\n      description: This can only be done by the logged in user.\n      operationId: deleteUser\n      parameters:\n        - name: user-id\n          in: path\n          description: The id that needs to be deleted\n          required: true\n          schema:\n            type: string\n      responses:\n        '400':\n          description: Invalid user id supplied\n        '404':\n          description: User not found\ncomponents:\n  schemas:\n    User:\n      type: object\n      properties:\n        id:\n          type: string\n          format: uuid\n          example: 10\n          readOnly: true\n        username:\n          type: string\n          example: theUser\n        firstName:\n          type: string\n          example: John\n        lastName:\n          type: string\n          example: James\n        email:\n          type: string\n          example: john@email.com\n        password:\n          type: string\n          example: '12345'\n        phone:\n          type: string\n          example: '12345'\n        userStatus:\n          type: integer\n          description: User Status\n          format: int32\n          example: 1\n      xml:\n        name: user\n</code></pre>\n<p>Here, by marking the id as readOnly, it is not displayed in the UI for a request object, such as this post request:</p>\n<p><a href=\"https://i.stack.imgur.com/eSNQg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSNQg.png\" alt=\"POST Request schema\" /></a></p>\n<p>However, in the get request, we can clearly see the id exists in the schema:</p>\n<p><a href=\"https://i.stack.imgur.com/D368b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D368b.png\" alt=\"GET request\" /></a></p>\n"}],"owner":{"account_id":10358338,"reputation":713,"user_id":7639540,"display_name":"Buzzet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1485,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1679663358,"creation_date":1607083395,"question_id":65143220,"body_markdown":"I want to implement 2 Endpoints in my REST API:\r\n\r\n    @PostMapping(&quot;/example&quot;)\r\n    public ObjectResponse postObject(@RequestBody Example example){... //Add new Example to DB}\r\n    \r\n    @PutMapping(&quot;/example&quot;)\r\n    public ObjectResponse postObject(@RequestBody Example example){...//Update existing Example}\r\n\r\nMy Example could look like this:\r\n\r\n    public class Example{\r\n       @Id\r\n       @Hidden\r\n       private String id;\r\n       private String somethingCool;\r\n    }\r\n\r\nI want to hide the ID, so that the User who uses Post doesnt send me an request with an ID. I want to let it generate by my mongoDB.\r\n\r\nOn the other useCase, during a Put an ID must be send in order to identify the Object that should be updated. But the ID Field on my Swagger 3.0 is here hidden as well.\r\n\r\nHow can I hide it on my Post but show it on my Put?\r\n\r\nThanks alot!\r\n","title":"Swagger (OpenAPI 3.0) Hide field only on Post, not on Put","body":"<p>I want to implement 2 Endpoints in my REST API:</p>\n<pre><code>@PostMapping(&quot;/example&quot;)\npublic ObjectResponse postObject(@RequestBody Example example){... //Add new Example to DB}\n\n@PutMapping(&quot;/example&quot;)\npublic ObjectResponse postObject(@RequestBody Example example){...//Update existing Example}\n</code></pre>\n<p>My Example could look like this:</p>\n<pre><code>public class Example{\n   @Id\n   @Hidden\n   private String id;\n   private String somethingCool;\n}\n</code></pre>\n<p>I want to hide the ID, so that the User who uses Post doesnt send me an request with an ID. I want to let it generate by my mongoDB.</p>\n<p>On the other useCase, during a Put an ID must be send in order to identify the Object that should be updated. But the ID Field on my Swagger 3.0 is here hidden as well.</p>\n<p>How can I hide it on my Post but show it on my Put?</p>\n<p>Thanks alot!</p>\n"},{"tags":["java","mysql","spring-boot","gradle","lombok"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1679663704,"post_id":75834050,"comment_id":133765987,"body_markdown":"I don&#39;t think the stuff you pasted is relevant to the error you get. There should be a stack trace or similar someplace; essentially that error means: I tried to connect to the database and I couldn&#39;t connect; therefore, I can&#39;t get the metadata (which is &#39;which tables exist in the db already&#39;, for example). The problem is presumably in how you auth to your database, or if the database isn&#39;t running, etc. Which requires knowing your DB, how auth is set up, and so on.","body":"I don&#39;t think the stuff you pasted is relevant to the error you get. There should be a stack trace or similar someplace; essentially that error means: I tried to connect to the database and I couldn&#39;t connect; therefore, I can&#39;t get the metadata (which is &#39;which tables exist in the db already&#39;, for example). The problem is presumably in how you auth to your database, or if the database isn&#39;t running, etc. Which requires knowing your DB, how auth is set up, and so on."},{"owner":{"account_id":23530222,"reputation":23,"user_id":17575988,"display_name":"Stoyan Grozdev"},"score":0,"creation_date":1679669166,"post_id":75834050,"comment_id":133767599,"body_markdown":"Would it be this that you are talking about?:  Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;JPAExerciseRepository&#39; defined in org.example.persistence.JPAExerciseRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class org.example.persistence.entity.ExerciseEntity","body":"Would it be this that you are talking about?:  Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;JPAExerciseRepository&#39; defined in org.example.persistence.JPAExerciseRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class org.example.persistence.entity.ExerciseEntity"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1679672942,"post_id":75834050,"comment_id":133768686,"body_markdown":"That&#39;s certainly an interesting error. It sounds like that is a second, unrelated problem. You should edit the question and include it.","body":"That&#39;s certainly an interesting error. It sounds like that is a second, unrelated problem. You should edit the question and include it."}],"owner":{"account_id":23530222,"reputation":23,"user_id":17575988,"display_name":"Stoyan Grozdev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679663247,"creation_date":1679663247,"question_id":75834050,"body_markdown":"I am making a java application using spring boot with gradle and lombok. Right now I am having difficulties setting up the connection to the database. \r\nthis is in my resources.db.migration: \r\n\r\nCREATE TABLE users\r\n\r\n```\r\n(\r\n    id        int                                NOT NULL AUTO_INCREMENT,\r\n    role      enum(&#39;CUSTOMER&#39;,&#39;TRAINER&#39;,&#39;ADMINISTRATION&#39;) NOT NULL,\r\n    email     varchar(45)                        NOT NULL,\r\n    password  varchar(200)                       NOT NULL,\r\n    firstName varchar(45)                        NOT NULL,\r\n    lastName  varchar(45)                        NOT NULL,\r\n    PRIMARY KEY (id),\r\n    UNIQUE(email)\r\n);\r\n```\r\n\r\nand this is my resources: \r\n```\r\napplication.properties\r\nspring.datasource.url=jdbc:mysql://localhost:3306/hiddenName\r\nspring.datasource.username=hiddenUsername\r\nspring.datasource.password=hiddenPassword\r\n```\r\n\r\nand this is my build.gradle file: \r\n\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.3&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;HiddenName&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.2.11&#39;\r\n    testImplementation &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n   testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    testImplementation &#39;org.assertj:assertj-core:3.20.2&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    testImplementation &#39;org.assertj:assertj-core:3.20.2&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n   implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\n    implementation &#39;mysql:mysql-connector-java:8.0.30&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.2.11&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.10&#39;\r\n   compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testRuntimeOnly &#39;com.h2database:h2&#39;\r\n\r\n\r\n\r\nyour text\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nEvery time I run the program I get the error &quot;Could not obtain connection to query metadata&quot;. What am I doing wrong and what is the fix? \r\n\r\nI expect that the connection will be possible and that the program will compile.","title":"Could not obtain connection to query metadata","body":"<p>I am making a java application using spring boot with gradle and lombok. Right now I am having difficulties setting up the connection to the database.\nthis is in my resources.db.migration:</p>\n<p>CREATE TABLE users</p>\n<pre><code>(\n    id        int                                NOT NULL AUTO_INCREMENT,\n    role      enum('CUSTOMER','TRAINER','ADMINISTRATION') NOT NULL,\n    email     varchar(45)                        NOT NULL,\n    password  varchar(200)                       NOT NULL,\n    firstName varchar(45)                        NOT NULL,\n    lastName  varchar(45)                        NOT NULL,\n    PRIMARY KEY (id),\n    UNIQUE(email)\n);\n</code></pre>\n<p>and this is my resources:</p>\n<pre><code>application.properties\nspring.datasource.url=jdbc:mysql://localhost:3306/hiddenName\nspring.datasource.username=hiddenUsername\nspring.datasource.password=hiddenPassword\n</code></pre>\n<p>and this is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.3'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n    id 'java'\n}\n\ngroup = 'HiddenName'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'ch.qos.logback:logback-classic:1.2.11'\n    testImplementation 'org.projectlombok:lombok:1.18.22'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n   testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'org.assertj:assertj-core:3.20.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'org.assertj:assertj-core:3.20.2'\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n   implementation 'org.springframework.boot:spring-boot-starter-validation'\n\n    implementation 'mysql:mysql-connector-java:8.0.30'\n    implementation 'ch.qos.logback:logback-classic:1.2.11'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.10'\n   compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testRuntimeOnly 'com.h2database:h2'\n\n\n\nyour text\n}\n\ntest {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>Every time I run the program I get the error &quot;Could not obtain connection to query metadata&quot;. What am I doing wrong and what is the fix?</p>\n<p>I expect that the connection will be possible and that the program will compile.</p>\n"},{"tags":["javascript","java","html","angularjs"],"answers":[{"tags":[],"owner":{"account_id":20797923,"reputation":1,"user_id":15274592,"display_name":"Augusto Savi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679663003,"creation_date":1679663003,"answer_id":75834010,"question_id":75722470,"body_markdown":"Couldn&#39;t you check with the field this with the status of dirty? something like: ng-touched or ng-dirty","title":"Angular: how to return HTML validation if email input is null","body":"<p>Couldn't you check with the field this with the status of dirty? something like: ng-touched or ng-dirty</p>\n"}],"owner":{"account_id":28005835,"reputation":1,"user_id":21389265,"display_name":"shazzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679663003,"creation_date":1678713838,"question_id":75722470,"body_markdown":"I want to be able to create a HTML validation when the input for an email is null. So far it can only return an error if there isn&#39;t a correct email input, but not when the input is empty. \r\n\r\n     get controls() {\r\n        return this.userForm.controls;\r\n      }\r\n\r\n      onSubmit() {\r\n        if (this.userForm.invalid) {\r\n          return;\r\n        }\r\n        if (this.userForm == &#39;&#39;) {\r\n          return;\r\n        }\r\n        const newEmail: UpdateEmailRequest = {\r\n          emailAddress: this.userForm.value.email,\r\n          confirmEmailAddress: this.userForm.value.confirmEmail,\r\n        };\r\n\r\n        this.memberService.updateEmail(newEmail, this.userProfile.id).subscribe(\r\n          (res: any) =&gt; {\r\n            this.notificationService.success(\r\n              ACCOUNT_MESSAGES.NOTIFICATION.SUCCESS_PROFILE_UPDATED\r\n            );\r\n          },\r\n          () =&gt; {\r\n            this.notificationService.error(MESSAGES.NOTIFICATION.FAILURE);\r\n          }\r\n        );\r\n      }","title":"Angular: how to return HTML validation if email input is null","body":"<p>I want to be able to create a HTML validation when the input for an email is null. So far it can only return an error if there isn't a correct email input, but not when the input is empty.</p>\n<pre><code> get controls() {\n    return this.userForm.controls;\n  }\n\n  onSubmit() {\n    if (this.userForm.invalid) {\n      return;\n    }\n    if (this.userForm == '') {\n      return;\n    }\n    const newEmail: UpdateEmailRequest = {\n      emailAddress: this.userForm.value.email,\n      confirmEmailAddress: this.userForm.value.confirmEmail,\n    };\n\n    this.memberService.updateEmail(newEmail, this.userProfile.id).subscribe(\n      (res: any) =&gt; {\n        this.notificationService.success(\n          ACCOUNT_MESSAGES.NOTIFICATION.SUCCESS_PROFILE_UPDATED\n        );\n      },\n      () =&gt; {\n        this.notificationService.error(MESSAGES.NOTIFICATION.FAILURE);\n      }\n    );\n  }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1679494186,"post_id":75813292,"comment_id":133732099,"body_markdown":"[Month: If the number of pattern letters is 3 or more, the month is interpreted as text; otherwise, it is interpreted as a number.](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">Month: If the number of pattern letters is 3 or more, the month is interpreted as text; otherwise, it is interpreted as a number.</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679494387,"post_id":75813292,"comment_id":133732169,"body_markdown":"In other words: `MMM` should be the same as what you see.","body":"In other words: <code>MMM</code> should be the same as what you see."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1679494969,"post_id":75813292,"comment_id":133732360,"body_markdown":"*MMM should be the same as what you see*  ... Well, not really ... 3 is short and 4 or more is full month name","body":"<i>MMM should be the same as what you see</i>  ... Well, not really ... 3 is short and 4 or more is full month name"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679496154,"post_id":75813292,"comment_id":133732772,"body_markdown":"@Selvin no difference for parsing (but `MMMM` would be correct for formatting) || Patty - try using `Locale.US` or `Locale.UK` - see https://ideone.com/pxhFSo","body":"@Selvin no difference for parsing (but <code>MMMM</code> would be correct for formatting) || Patty - try using <code>Locale.US</code> or <code>Locale.UK</code> - see <a href=\"https://ideone.com/pxhFSo\" rel=\"nofollow noreferrer\">ideone.com/pxhFSo</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679496738,"post_id":75813292,"comment_id":133732973,"body_markdown":"(missing in first comment [&quot;**Text:** For formatting, if the number of pattern letters is 4 or more, the full form is used; otherwise a short or abbreviated form is used if available. For parsing, both forms are accepted, independent of the number of pattern letters.&quot;](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#text))","body":"(missing in first comment <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#text\" rel=\"nofollow noreferrer\">&quot;<b>Text:</b> For formatting, if the number of pattern letters is 4 or more, the full form is used; otherwise a short or abbreviated form is used if available. For parsing, both forms are accepted, independent of the number of pattern letters.&quot;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":3165766,"reputation":351,"user_id":2675828,"display_name":"Patty P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679662883,"creation_date":1679662883,"answer_id":75833987,"question_id":75813292,"body_markdown":"This is solved in the comments thanks for the help.","title":"Android Datetime","body":"<p>This is solved in the comments thanks for the help.</p>\n"}],"owner":{"account_id":3165766,"reputation":351,"user_id":2675828,"display_name":"Patty P"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75833987,"answer_count":1,"score":0,"last_activity_date":1679662883,"creation_date":1679493937,"question_id":75813292,"body_markdown":"So I&#39;m trying to figure out the correct date format in this legacy code base to use. Currently the code is using this format:\r\n\r\n```java\r\nSimpleDateFormat df = new SimpleDateFormat(&quot;MMMMMMMMM dd, yyyy K:mm a&quot;, Locale.ROOT);\r\n```\r\n\r\nThe values coming in to be parsed look like this coming back `October 08, 2021 08:15 PM`;\r\n\r\nMy question is what the heck kind of format is that for the month. I&#39;ve done some research and I can&#39;t find any information on MMMMMMMMM.","title":"Android Datetime","body":"<p>So I'm trying to figure out the correct date format in this legacy code base to use. Currently the code is using this format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat df = new SimpleDateFormat(&quot;MMMMMMMMM dd, yyyy K:mm a&quot;, Locale.ROOT);\n</code></pre>\n<p>The values coming in to be parsed look like this coming back <code>October 08, 2021 08:15 PM</code>;</p>\n<p>My question is what the heck kind of format is that for the month. I've done some research and I can't find any information on MMMMMMMMM.</p>\n"},{"tags":["java","android","animation","android-animation"],"comments":[{"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"score":0,"creation_date":1679667731,"post_id":75833932,"comment_id":133767151,"body_markdown":"The only suggestion I would make is to use a more descriptive name for the point variable that holds the position of the car. Perhaps carImageView or carPosition would be more appropriate. This would make the code easier to read and understand.","body":"The only suggestion I would make is to use a more descriptive name for the point variable that holds the position of the car. Perhaps carImageView or carPosition would be more appropriate. This would make the code easier to read and understand."},{"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"score":0,"creation_date":1679755090,"post_id":75833932,"comment_id":133779359,"body_markdown":"@sachinthahewawasam, by the way, this code generated ChatGPT, because I didn&#39;t find any answers for my questions.","body":"@sachinthahewawasam, by the way, this code generated ChatGPT, because I didn&#39;t find any answers for my questions."}],"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679662536,"creation_date":1679662536,"question_id":75833932,"body_markdown":"I&#39;m trying to animate the movement of an object.\r\nWhat I have:\r\n1. A map on which there are certain objects.\r\n2. A picture (let it be a car) that moves across the map at speed.\r\nWhat is needed:\r\nWhen the user clicks on the map, the code checks whether this color is prohibited in the list (because the car cannot drive through buildings) - it goes to the point the user clicked on and during movement it is always checked whether the next 2 pixels of the picture are the prohibited ones in the color that is in the list, if it is true, it stops, if not, it goes on. Here is my code that should work:\r\n```java\r\nmap.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n                    // Get the touched position on the map\r\n                    float clickedX = event.getX();\r\n                    float clickedY = event.getY();\r\n\r\n                    // Get the current position of the car\r\n                    float carX = point.getX();\r\n                    float carY = point.getY();\r\n\r\n                    // Check if the clicked pixel is red\r\n                    Bitmap bitmap = ((BitmapDrawable) map.getDrawable()).getBitmap();\r\n                    int clickedPixel = bitmap.getPixel((int) clickedX, (int) clickedY);\r\n                    int pixelColor = getPixelColor((int) clickedX, (int) clickedY);\r\n                    int[] forbiddenColors = {Color.rgb(102,112,127), Color.rgb(76, 76, 76)}; // add any other forbidden colors\r\n\r\n                    // If the touched pixel color is a forbidden color, move the car to the nearest possible point that is not forbidden\r\n                    if (isForbiddenColor(pixelColor, forbiddenColors)) {\r\n                        PointF nearestPoint = findNextNonForbiddenPoint(carX, carY, clickedX, clickedY, forbiddenColors, screenWidth, screenHeight);\r\n                        clickedX = nearestPoint.x;\r\n                        clickedY = nearestPoint.y;\r\n                    }\r\n\r\n                    // Calculate the distance between the car and the touched point\r\n                    float distance = calculateDistance(carX, carY, clickedX, clickedY);\r\n\r\n                    // Calculate the duration it will take to travel the distance at 50 pixels per second\r\n                    long duration = (long) (distance / 50 * 1000);\r\n\r\n                    // Create a ValueAnimator to move the car to the touched point\r\n                    ValueAnimator animator = ValueAnimator.ofFloat(0f, 1f);\r\n                    animator.setDuration(duration);\r\n\r\n                    final float startX = carX;\r\n                    final float startY = carY;\r\n                    final float endX = clickedX;\r\n                    final float endY = clickedY;\r\n\r\n                    // Set an UpdateListener to update the carImageView&#39;s position during the animation\r\n                    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n                        @Override\r\n                        public void onAnimationUpdate(ValueAnimator animation) {\r\n                            float fraction = animation.getAnimatedFraction();\r\n                            float x = startX + fraction * (endX - startX);\r\n                            float y = startY + fraction * (endY - startY);\r\n                            point.setX(x);\r\n                            point.setY(y);\r\n                        }\r\n                    });\r\n\r\n                    // Start the animation\r\n                    animator.start();\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n```\r\nand here some mothods:\r\n```java\r\n// Helper method to check if a color is one of the forbidden colors\r\n    private boolean isForbiddenColor(int color, int[] forbiddenColors) {\r\n        for (int c : forbiddenColors) {\r\n            if (color == c) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private int getPixelColor(int x, int y) {\r\n        Bitmap bitmap = ((BitmapDrawable) map.getDrawable()).getBitmap();\r\n        return bitmap.getPixel(x, y);\r\n    }\r\n\r\n    // Calculate the distance between two points using the Pythagorean theorem\r\n    private float calculateDistance(float x1, float y1, float x2, float y2) {\r\n        float dx = x2 - x1;\r\n        float dy = y2 - y1;\r\n        return (float) Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n\r\n    private PointF findNextNonForbiddenPoint(float startX, float startY, float endX, float endY, int[] forbiddenColors, int screenWidth, int screenHeight) {\r\n        // Calculate direction vector from start point to end point\r\n        PointF direction = new PointF(endX - startX, endY - startY);\r\n        // Normalize direction vector\r\n        float distance = (float) Math.sqrt(direction.x * direction.x + direction.y * direction.y);\r\n        if (distance &gt; 0) {\r\n            direction.set(direction.x / distance, direction.y / distance);\r\n        }\r\n\r\n        // Check for forbidden colors in 1-pixel steps along the direction vector\r\n        PointF nextPoint = new PointF(startX, startY);\r\n        while (isForbiddenColor(getPixelColor((int) nextPoint.x, (int) nextPoint.y), forbiddenColors)) {\r\n            nextPoint.offset(direction.x, direction.y);\r\n            // If next point is out of bounds, return null\r\n            if (nextPoint.x &lt; 0 || nextPoint.x &gt;= screenWidth || nextPoint.y &lt; 0 || nextPoint.y &gt;= screenHeight) {\r\n                return null;\r\n            }\r\n        }\r\n        return nextPoint;\r\n    }\r\n```","title":"Animations on pictures","body":"<p>I'm trying to animate the movement of an object.\nWhat I have:</p>\n<ol>\n<li>A map on which there are certain objects.</li>\n<li>A picture (let it be a car) that moves across the map at speed.\nWhat is needed:\nWhen the user clicks on the map, the code checks whether this color is prohibited in the list (because the car cannot drive through buildings) - it goes to the point the user clicked on and during movement it is always checked whether the next 2 pixels of the picture are the prohibited ones in the color that is in the list, if it is true, it stops, if not, it goes on. Here is my code that should work:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>map.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                if (event.getAction() == MotionEvent.ACTION_DOWN) {\n                    // Get the touched position on the map\n                    float clickedX = event.getX();\n                    float clickedY = event.getY();\n\n                    // Get the current position of the car\n                    float carX = point.getX();\n                    float carY = point.getY();\n\n                    // Check if the clicked pixel is red\n                    Bitmap bitmap = ((BitmapDrawable) map.getDrawable()).getBitmap();\n                    int clickedPixel = bitmap.getPixel((int) clickedX, (int) clickedY);\n                    int pixelColor = getPixelColor((int) clickedX, (int) clickedY);\n                    int[] forbiddenColors = {Color.rgb(102,112,127), Color.rgb(76, 76, 76)}; // add any other forbidden colors\n\n                    // If the touched pixel color is a forbidden color, move the car to the nearest possible point that is not forbidden\n                    if (isForbiddenColor(pixelColor, forbiddenColors)) {\n                        PointF nearestPoint = findNextNonForbiddenPoint(carX, carY, clickedX, clickedY, forbiddenColors, screenWidth, screenHeight);\n                        clickedX = nearestPoint.x;\n                        clickedY = nearestPoint.y;\n                    }\n\n                    // Calculate the distance between the car and the touched point\n                    float distance = calculateDistance(carX, carY, clickedX, clickedY);\n\n                    // Calculate the duration it will take to travel the distance at 50 pixels per second\n                    long duration = (long) (distance / 50 * 1000);\n\n                    // Create a ValueAnimator to move the car to the touched point\n                    ValueAnimator animator = ValueAnimator.ofFloat(0f, 1f);\n                    animator.setDuration(duration);\n\n                    final float startX = carX;\n                    final float startY = carY;\n                    final float endX = clickedX;\n                    final float endY = clickedY;\n\n                    // Set an UpdateListener to update the carImageView's position during the animation\n                    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                        @Override\n                        public void onAnimationUpdate(ValueAnimator animation) {\n                            float fraction = animation.getAnimatedFraction();\n                            float x = startX + fraction * (endX - startX);\n                            float y = startY + fraction * (endY - startY);\n                            point.setX(x);\n                            point.setY(y);\n                        }\n                    });\n\n                    // Start the animation\n                    animator.start();\n                }\n                return true;\n            }\n        });\n</code></pre>\n<p>and here some mothods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Helper method to check if a color is one of the forbidden colors\n    private boolean isForbiddenColor(int color, int[] forbiddenColors) {\n        for (int c : forbiddenColors) {\n            if (color == c) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private int getPixelColor(int x, int y) {\n        Bitmap bitmap = ((BitmapDrawable) map.getDrawable()).getBitmap();\n        return bitmap.getPixel(x, y);\n    }\n\n    // Calculate the distance between two points using the Pythagorean theorem\n    private float calculateDistance(float x1, float y1, float x2, float y2) {\n        float dx = x2 - x1;\n        float dy = y2 - y1;\n        return (float) Math.sqrt(dx * dx + dy * dy);\n    }\n\n    private PointF findNextNonForbiddenPoint(float startX, float startY, float endX, float endY, int[] forbiddenColors, int screenWidth, int screenHeight) {\n        // Calculate direction vector from start point to end point\n        PointF direction = new PointF(endX - startX, endY - startY);\n        // Normalize direction vector\n        float distance = (float) Math.sqrt(direction.x * direction.x + direction.y * direction.y);\n        if (distance &gt; 0) {\n            direction.set(direction.x / distance, direction.y / distance);\n        }\n\n        // Check for forbidden colors in 1-pixel steps along the direction vector\n        PointF nextPoint = new PointF(startX, startY);\n        while (isForbiddenColor(getPixelColor((int) nextPoint.x, (int) nextPoint.y), forbiddenColors)) {\n            nextPoint.offset(direction.x, direction.y);\n            // If next point is out of bounds, return null\n            if (nextPoint.x &lt; 0 || nextPoint.x &gt;= screenWidth || nextPoint.y &lt; 0 || nextPoint.y &gt;= screenHeight) {\n                return null;\n            }\n        }\n        return nextPoint;\n    }\n</code></pre>\n"},{"tags":["java","oauth-2.0","talend"],"owner":{"account_id":28114304,"reputation":11,"user_id":21481633,"display_name":"aouadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679662531,"creation_date":1679662416,"question_id":75833914,"body_markdown":"I am not able to connect to IMAP store . I have this error. I want to implement oauth2 to my talend project\r\n\r\n```\r\nException in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n&#160;&#160;&#160; at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\r\n&#160;&#160;&#160; at javax.mail.Service.connect(Service.java:366)\r\n```\r\nCode : \r\n\r\n```\r\nimport javax.mail.Flags;\r\nimport javax.mail.Folder;\r\nimport javax.mail.Message;\r\nimport javax.mail.Session;\r\nimport javax.mail.search.FlagTerm;&#160;import com.sun.mail.imap.IMAPStore;&#160;\r\npublic class Email {\r\n&#160;&#160;&#160; public static void main(String[] args) throws Exception {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String username = &quot;my_username&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String password = &quot;my_password&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String clientId = &quot;my_client_id&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String clientSecret = &quot;my_client_secret&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String imapHost = &quot;outlook.office365.com&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String imapPort = &quot;993&quot;;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\n        Properties props = new Properties();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.sasl.enable&quot;, &quot;true&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.auth.login.disable&quot;, &quot;true&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.ssl.trust&quot;, imapHost);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.sasl.mechanisms.oauth2.clientId&quot;,clientId);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.sasl.mechanisms.oauth2.clientSecret&quot;, clientSecret);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\nSession session = Session.getInstance(props);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; IMAPStore store = (IMAPStore) session.getStore(&quot;imap&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; store.connect(imapHost, Integer.parseInt(imapPort), username, password);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\nFolder inbox = store.getFolder(&quot;inbox&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; inbox.open(Folder.READ_ONLY);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\nFlags seen = new Flags(Flags.Flag.SEEN);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; FlagTerm unseenFlagTerm = new FlagTerm(seen, false);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; Message[] messages = inbox.search(unseenFlagTerm);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\nfor (Message message :messages){\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;Subject: &quot; + message.getSubject());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;From: &quot; + message.getFrom()[0]);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;Sent Date: &quot; + message.getSentDate());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160;&#160; }\r\n}\r\n```\r\n\r\n\r\n\r\nI want to connect to my account microsoft\r\ni tried few solutions suggested but they dint work .","title":"AUTHENTICATE failed. IMAP Store is not connecting","body":"<p>I am not able to connect to IMAP store . I have this error. I want to implement oauth2 to my talend project</p>\n<pre><code>Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\n    at javax.mail.Service.connect(Service.java:366)\n</code></pre>\n<p>Code :</p>\n<pre><code>import javax.mail.Flags;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.Session;\nimport javax.mail.search.FlagTerm; import com.sun.mail.imap.IMAPStore; \npublic class Email {\n    public static void main(String[] args) throws Exception {\n        final String username = &quot;my_username&quot;;\n        final String password = &quot;my_password&quot;;\n        final String clientId = &quot;my_client_id&quot;;\n        final String clientSecret = &quot;my_client_secret&quot;;\n        final String imapHost = &quot;outlook.office365.com&quot;;\n        final String imapPort = &quot;993&quot;;         \n        Properties props = new Properties();\n        props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.sasl.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\n        props.put(&quot;mail.imap.auth.login.disable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.ssl.trust&quot;, imapHost);\n        props.put(&quot;mail.imap.sasl.mechanisms.oauth2.clientId&quot;,clientId);\n        props.put(&quot;mail.imap.sasl.mechanisms.oauth2.clientSecret&quot;, clientSecret);         \nSession session = Session.getInstance(props);\n        IMAPStore store = (IMAPStore) session.getStore(&quot;imap&quot;);\n        store.connect(imapHost, Integer.parseInt(imapPort), username, password);         \nFolder inbox = store.getFolder(&quot;inbox&quot;);\n        inbox.open(Folder.READ_ONLY);         \nFlags seen = new Flags(Flags.Flag.SEEN);\n        FlagTerm unseenFlagTerm = new FlagTerm(seen, false);\n        Message[] messages = inbox.search(unseenFlagTerm);         \nfor (Message message :messages){\n            System.out.println(&quot;Subject: &quot; + message.getSubject());\n            System.out.println(&quot;From: &quot; + message.getFrom()[0]);\n            System.out.println(&quot;Sent Date: &quot; + message.getSentDate());\n            System.out.println();\n        }     }\n}\n</code></pre>\n<p>I want to connect to my account microsoft\ni tried few solutions suggested but they dint work .</p>\n"},{"tags":["java","spring","oracle","scheduler"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1679656604,"post_id":75829753,"comment_id":133764158,"body_markdown":"V$ tables are not history tables. They are real-time views of what&#39;s happening in the database. SQL will only be visible there while it is shared_pool, which may be longer for some commands than for others. Oracle has internal algorithms to determine how long certain commands are retained there. Some statements may only be visible there for the fraction of a second they are being executed.","body":"V$ tables are not history tables. They are real-time views of what&#39;s happening in the database. SQL will only be visible there while it is shared_pool, which may be longer for some commands than for others. Oracle has internal algorithms to determine how long certain commands are retained there. Some statements may only be visible there for the fraction of a second they are being executed."}],"answers":[{"tags":[],"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679662309,"creation_date":1679662309,"answer_id":75833888,"question_id":75829753,"body_markdown":"As pmdba mentioned, `v$sql` is volatile. DDL&#39;s never show up, and other cursors are removed on an as-needed basis. But as you say you are querying every minute, you certainly should see your SQL.\r\n\r\n1. First, you are asking only for recently loaded cursors. It is possible that your insert was first parsed and loaded into the shared pool many months ago. I can&#39;t recall if `LAST_ACTIVE_TIME` was introduced already in 11.2 or not, but if it was, use that instead and look at the last few minutes. Otherwise, remove the date filter.\r\n\r\n2. Secondly, you mentioned that you are joining to `v$session`, though your SQL above doesn&#39;t show that. Don&#39;t join to `v$session` - the inserting sessions may be very short and no longer present. If you need to see (recent) history, you can query `v$active_session_history` once you know the `SQL_ID`.\r\n\r\n3. Thirdly, find out if it&#39;s a clustered RAC database (query `gv$instance`, if you get more than one row, you&#39;re in RAC). If you are, you will need to use `gv$sql`, not `v$sql`, as you may be querying on a different instance than the application is connecting to.\r\n\r\n4. Fourthly, you can insert rows using a `MERGE` statement, so check for those too... not just `INSERT`.\r\n\r\n5. Fifthly, you are looking for the table name, but you can insert through a synonym or a view. Look for any synonyms pointing to the table, or any views over the table and check for inserts or merges into them.\r\n\r\n6. Lastly, check v$sql_plan so you can get a positive match on the actual physical table name:\r\n\r\n        SELECT *\r\n          FROM v$sql_plan\r\n         WHERE (operation LIKE &#39;%INSERT%&#39; OR operation LIKE &#39;%LOAD%&#39; OR operation LIKE &#39;%MERGE%&#39; OR operation LIKE &#39;%UPSERT%&#39;)\r\n           AND object_name = &#39;[table name]&#39;\r\n\r\nIf you find it, get the `sql_id` and look in `gv$sql` and then figure out why your query wasn&#39;t finding it.\r\n\r\nHope these ideas help.\r\n\r\n","title":"Data is being inserted, but cannot find the query history in v$sql table. (Oracle 11g 11.2.0.2.0)","body":"<p>As pmdba mentioned, <code>v$sql</code> is volatile. DDL's never show up, and other cursors are removed on an as-needed basis. But as you say you are querying every minute, you certainly should see your SQL.</p>\n<ol>\n<li><p>First, you are asking only for recently loaded cursors. It is possible that your insert was first parsed and loaded into the shared pool many months ago. I can't recall if <code>LAST_ACTIVE_TIME</code> was introduced already in 11.2 or not, but if it was, use that instead and look at the last few minutes. Otherwise, remove the date filter.</p>\n</li>\n<li><p>Secondly, you mentioned that you are joining to <code>v$session</code>, though your SQL above doesn't show that. Don't join to <code>v$session</code> - the inserting sessions may be very short and no longer present. If you need to see (recent) history, you can query <code>v$active_session_history</code> once you know the <code>SQL_ID</code>.</p>\n</li>\n<li><p>Thirdly, find out if it's a clustered RAC database (query <code>gv$instance</code>, if you get more than one row, you're in RAC). If you are, you will need to use <code>gv$sql</code>, not <code>v$sql</code>, as you may be querying on a different instance than the application is connecting to.</p>\n</li>\n<li><p>Fourthly, you can insert rows using a <code>MERGE</code> statement, so check for those too... not just <code>INSERT</code>.</p>\n</li>\n<li><p>Fifthly, you are looking for the table name, but you can insert through a synonym or a view. Look for any synonyms pointing to the table, or any views over the table and check for inserts or merges into them.</p>\n</li>\n<li><p>Lastly, check v$sql_plan so you can get a positive match on the actual physical table name:</p>\n<pre><code> SELECT *\n   FROM v$sql_plan\n  WHERE (operation LIKE '%INSERT%' OR operation LIKE '%LOAD%' OR operation LIKE '%MERGE%' OR operation LIKE '%UPSERT%')\n    AND object_name = '[table name]'\n</code></pre>\n</li>\n</ol>\n<p>If you find it, get the <code>sql_id</code> and look in <code>gv$sql</code> and then figure out why your query wasn't finding it.</p>\n<p>Hope these ideas help.</p>\n"}],"owner":{"account_id":23267653,"reputation":11,"user_id":17352926,"display_name":"정상준"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833888,"answer_count":1,"score":0,"last_activity_date":1679662309,"creation_date":1679628253,"question_id":75829753,"body_markdown":"I&#39;m trying to find a Spring scheduled process which inserts data into a particular table,\r\nbut cannot find the WAS server that the spring application is running on.\r\n\r\n\r\n\r\nSo I tried to track the Spring application by the running queries,\r\nwhich can be joined with the sessions table(v$session) to get machine name or other information.\r\n\r\n```\r\nSELECT\r\n\tv.SQL_TEXT,\r\n\tv.PARSING_SCHEMA_NAME,\r\n\tv.LAST_LOAD_TIME,\r\n\tv.DISK_READS,\r\n\tv.ROWS_PROCESSED,\r\n\tv.ELAPSED_TIME,\r\n\tv.service,\r\n\tv.MODULE\r\nFROM\r\n\tv$sql v\r\nWHERE\r\n\tto_date(v.FIRST_LOAD_TIME, &#39;YYYY-MM-DD hh24:mi:ss&#39;)&gt;ADD_MONTHS(trunc(sysdate, &#39;MM&#39;),-2)\r\n\tAND LOWER(SQL_TEXT) LIKE &#39;%[the_table_name]%&#39;\r\n\tAND LOWER(SQL_TEXT) LIKE &#39;%insert %&#39;\r\nORDER BY\r\n\tFIRST_LOAD_TIME DESC\r\n```\r\n\r\nThe scheduled process runs every minute,\r\nbut I couldn&#39;t find the query that inserts data into the target table.\r\n\r\nAm I doing something wrong?\r\nOr is there a way to insert data without logging in the v$sql table?","title":"Data is being inserted, but cannot find the query history in v$sql table. (Oracle 11g 11.2.0.2.0)","body":"<p>I'm trying to find a Spring scheduled process which inserts data into a particular table,\nbut cannot find the WAS server that the spring application is running on.</p>\n<p>So I tried to track the Spring application by the running queries,\nwhich can be joined with the sessions table(v$session) to get machine name or other information.</p>\n<pre><code>SELECT\n    v.SQL_TEXT,\n    v.PARSING_SCHEMA_NAME,\n    v.LAST_LOAD_TIME,\n    v.DISK_READS,\n    v.ROWS_PROCESSED,\n    v.ELAPSED_TIME,\n    v.service,\n    v.MODULE\nFROM\n    v$sql v\nWHERE\n    to_date(v.FIRST_LOAD_TIME, 'YYYY-MM-DD hh24:mi:ss')&gt;ADD_MONTHS(trunc(sysdate, 'MM'),-2)\n    AND LOWER(SQL_TEXT) LIKE '%[the_table_name]%'\n    AND LOWER(SQL_TEXT) LIKE '%insert %'\nORDER BY\n    FIRST_LOAD_TIME DESC\n</code></pre>\n<p>The scheduled process runs every minute,\nbut I couldn't find the query that inserts data into the target table.</p>\n<p>Am I doing something wrong?\nOr is there a way to insert data without logging in the v$sql table?</p>\n"},{"tags":["java","unit-testing","testing","assertj"],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1672949610,"creation_date":1471257549,"answer_id":38953538,"question_id":38943346,"body_markdown":"Not exactly, the best you can do at the moment is using [`hasStackTraceContaining`](https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractThrowableAssert.html#hasStackTraceContaining(java.lang.String)), example \r\n\r\n```java\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, \r\n                                         new Exception(&quot;you shall not pass&quot;));\r\n\r\nassertThat(runtime).hasCauseInstanceOf(Exception.class)\r\n                   .hasStackTraceContaining(&quot;no way&quot;)\r\n                   .hasStackTraceContaining(&quot;you shall not pass&quot;);\r\n```","title":"AssertJ assert on the cause message","body":"<p>Not exactly, the best you can do at the moment is using <a href=\"https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractThrowableAssert.html#hasStackTraceContaining(java.lang.String)\" rel=\"nofollow noreferrer\"><code>hasStackTraceContaining</code></a>, example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable runtime = new RuntimeException(&quot;no way&quot;, \n                                         new Exception(&quot;you shall not pass&quot;));\n\nassertThat(runtime).hasCauseInstanceOf(Exception.class)\n                   .hasStackTraceContaining(&quot;no way&quot;)\n                   .hasStackTraceContaining(&quot;you shall not pass&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1679662294,"creation_date":1580987815,"answer_id":60093740,"question_id":38943346,"body_markdown":"### AssertJ 3.23\r\n\r\n* [`cause()`][1] is favored over `getCause()`:\r\n\r\n```java\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, \r\n                                         new Exception(&quot;you shall not pass&quot;));\r\n\r\nassertThat(runtime).cause()\r\n                   .hasMessage(&quot;you shall not pass&quot;);\r\n```\r\n\r\n* [`rootCause()`][2] is favored over `getRootCause()`:\r\n\r\n```java\r\nThrowable rootCause = new RuntimeException(&quot;go back to the shadow!&quot;);\r\nThrowable cause = new Exception(&quot;you shall not pass&quot;, rootCause);\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, cause);\r\n\r\nassertThat(runtime).rootCause()\r\n                   .hasMessage(&quot;go back to the shadow!&quot;);\r\n```\r\n\r\n----------\r\n\r\n### AssertJ 3.16\r\n\r\nTwo new options are available:\r\n\r\n - [`getCause()`][3]: \r\n\r\n\r\n```java\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, \r\n                                         new Exception(&quot;you shall not pass&quot;));\r\n\r\nassertThat(runtime).getCause()\r\n                   .hasMessage(&quot;you shall not pass&quot;);\r\n```\r\n\r\n - [`getRootCause()`][4]:\r\n\r\n```java\r\nThrowable rootCause = new RuntimeException(&quot;go back to the shadow!&quot;);\r\nThrowable cause = new Exception(&quot;you shall not pass&quot;, rootCause);\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, cause);\r\n\r\nassertThat(runtime).getRootCause()\r\n                   .hasMessage(&quot;go back to the shadow!&quot;);\r\n```\r\n\r\n----------\r\n\r\n### AssertJ 3.14\r\n\r\n[`extracting`][5] with `InstanceOfAssertFactory` could be used:\r\n\r\n```java\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, \r\n                                         new Exception(&quot;you shall not pass&quot;));\r\n\r\nassertThat(runtime).extracting(Throwable::getCause, as(THROWABLE))\r\n                   .hasMessage(&quot;you shall not pass&quot;);\r\n```\r\n\r\n`as()` is statically imported from `org.assertj.core.api.Assertions` and `THROWABLE` is statically imported from `org.assertj.core.api.InstanceOfAssertFactories`.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.23.0/org/assertj/core/api/AbstractThrowableAssert.html#cause()\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.23.0/org/assertj/core/api/AbstractThrowableAssert.html#rootCause()\r\n  [3]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.0/org/assertj/core/api/AbstractThrowableAssert.html#getCause()\r\n  [4]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.0/org/assertj/core/api/AbstractThrowableAssert.html#getRootCause()\r\n  [5]: https://www.javadoc.io/static/org.assertj/assertj-core/3.14.0/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.util.function.Function,org.assertj.core.api.InstanceOfAssertFactory)","title":"AssertJ assert on the cause message","body":"<h3>AssertJ 3.23</h3>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.23.0/org/assertj/core/api/AbstractThrowableAssert.html#cause()\" rel=\"nofollow noreferrer\"><code>cause()</code></a> is favored over <code>getCause()</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable runtime = new RuntimeException(&quot;no way&quot;, \n                                         new Exception(&quot;you shall not pass&quot;));\n\nassertThat(runtime).cause()\n                   .hasMessage(&quot;you shall not pass&quot;);\n</code></pre>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.23.0/org/assertj/core/api/AbstractThrowableAssert.html#rootCause()\" rel=\"nofollow noreferrer\"><code>rootCause()</code></a> is favored over <code>getRootCause()</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable rootCause = new RuntimeException(&quot;go back to the shadow!&quot;);\nThrowable cause = new Exception(&quot;you shall not pass&quot;, rootCause);\nThrowable runtime = new RuntimeException(&quot;no way&quot;, cause);\n\nassertThat(runtime).rootCause()\n                   .hasMessage(&quot;go back to the shadow!&quot;);\n</code></pre>\n<hr />\n<h3>AssertJ 3.16</h3>\n<p>Two new options are available:</p>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.0/org/assertj/core/api/AbstractThrowableAssert.html#getCause()\" rel=\"nofollow noreferrer\"><code>getCause()</code></a>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable runtime = new RuntimeException(&quot;no way&quot;, \n                                         new Exception(&quot;you shall not pass&quot;));\n\nassertThat(runtime).getCause()\n                   .hasMessage(&quot;you shall not pass&quot;);\n</code></pre>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.0/org/assertj/core/api/AbstractThrowableAssert.html#getRootCause()\" rel=\"nofollow noreferrer\"><code>getRootCause()</code></a>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable rootCause = new RuntimeException(&quot;go back to the shadow!&quot;);\nThrowable cause = new Exception(&quot;you shall not pass&quot;, rootCause);\nThrowable runtime = new RuntimeException(&quot;no way&quot;, cause);\n\nassertThat(runtime).getRootCause()\n                   .hasMessage(&quot;go back to the shadow!&quot;);\n</code></pre>\n<hr />\n<h3>AssertJ 3.14</h3>\n<p><a href=\"https://www.javadoc.io/static/org.assertj/assertj-core/3.14.0/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.util.function.Function,org.assertj.core.api.InstanceOfAssertFactory)\" rel=\"nofollow noreferrer\"><code>extracting</code></a> with <code>InstanceOfAssertFactory</code> could be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable runtime = new RuntimeException(&quot;no way&quot;, \n                                         new Exception(&quot;you shall not pass&quot;));\n\nassertThat(runtime).extracting(Throwable::getCause, as(THROWABLE))\n                   .hasMessage(&quot;you shall not pass&quot;);\n</code></pre>\n<p><code>as()</code> is statically imported from <code>org.assertj.core.api.Assertions</code> and <code>THROWABLE</code> is statically imported from <code>org.assertj.core.api.InstanceOfAssertFactories</code>.</p>\n"}],"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5615,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":60093740,"answer_count":2,"score":11,"last_activity_date":1679662294,"creation_date":1471186098,"question_id":38943346,"body_markdown":"Is there a way when using AssertJ agains a method throwing an excetion to check that the message in the cause is equal to some string. \r\n\r\nI&#39;m currently doing something like: \r\n\r\n    assertThatThrownBy(() -&gt; SUT.method())\r\n                .isExactlyInstanceOf(IllegalStateException.class)\r\n                .hasRootCauseExactlyInstanceOf(Exception.class);\r\n\r\nand would like to add an assertion to check the message in the root cause.","title":"AssertJ assert on the cause message","body":"<p>Is there a way when using AssertJ agains a method throwing an excetion to check that the message in the cause is equal to some string. </p>\n\n<p>I'm currently doing something like: </p>\n\n<pre><code>assertThatThrownBy(() -&gt; SUT.method())\n            .isExactlyInstanceOf(IllegalStateException.class)\n            .hasRootCauseExactlyInstanceOf(Exception.class);\n</code></pre>\n\n<p>and would like to add an assertion to check the message in the root cause.</p>\n"},{"tags":["java","nginx","digital-ocean"],"answers":[{"tags":[],"owner":{"account_id":18052657,"reputation":135,"user_id":13121947,"display_name":"Дамир Эсенов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679661695,"creation_date":1679661695,"answer_id":75833787,"question_id":75672654,"body_markdown":"The application was not working.","title":"connect() failed (111: connection refused) while connecting to upstream, java","body":"<p>The application was not working.</p>\n"}],"owner":{"account_id":18052657,"reputation":135,"user_id":13121947,"display_name":"Дамир Эсенов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833787,"answer_count":1,"score":0,"last_activity_date":1679661695,"creation_date":1678276152,"question_id":75672654,"body_markdown":"I configured my server 3-4 months ago, and everything worked perfectly. But for some reason, the server (DigitalOcean - droplet) stopped to answering my request. The request was going to pending status and giving a time-out exception as a response. I decided to reload the server and it gives 502 response.\r\n``` \r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;title&gt;502 Bad Gateway&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;center&gt;\r\n\t\t&lt;h1&gt;502 Bad Gateway&lt;/h1&gt;\r\n\t&lt;/center&gt;\r\n\t&lt;hr&gt;\r\n\t&lt;center&gt;nginx/1.22.0 (Ubuntu)&lt;/center&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\nI was searching for a solution for a while but didn&#39;t find the solution. Backend - Java.\r\nMy conf:\r\n```\r\nserver {\r\n        listen 443 ssl;\r\n        server_name vplannerweddings.com www.vplannerweddings.com;\r\n\r\n        root /var/www/vplannerweddings.com/html;\r\n\r\n        ssl_certificate /root/namecheapconfigs/vplannerweddings_com_chain.crt;\r\n        ssl_certificate_key /root/vplannerweddings_com.key;\r\n\r\n        location / {\r\n                proxy_pass http://127.0.0.1:8080;\r\n                proxy_set_header Host $host;\r\n                proxy_set_header X-Real-IP $remote_addr;\r\n        }\r\n}\r\n```\r\nLogs of nginx gives me:\r\n```\r\n2023/03/08 11:29:36 [error] 8292#8292: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 91.205.48.122, server: vplannerweddings.com, request: &quot;POST /user/login HTTP/1.1&quot;, upstream: &quot;http://127.0.0.1:8080/user/login&quot;, host: &quot;vplannerweddings.com&quot;\r\n```","title":"connect() failed (111: connection refused) while connecting to upstream, java","body":"<p>I configured my server 3-4 months ago, and everything worked perfectly. But for some reason, the server (DigitalOcean - droplet) stopped to answering my request. The request was going to pending status and giving a time-out exception as a response. I decided to reload the server and it gives 502 response.</p>\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;502 Bad Gateway&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;h1&gt;502 Bad Gateway&lt;/h1&gt;\n    &lt;/center&gt;\n    &lt;hr&gt;\n    &lt;center&gt;nginx/1.22.0 (Ubuntu)&lt;/center&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>I was searching for a solution for a while but didn't find the solution. Backend - Java.\nMy conf:</p>\n<pre><code>server {\n        listen 443 ssl;\n        server_name vplannerweddings.com www.vplannerweddings.com;\n\n        root /var/www/vplannerweddings.com/html;\n\n        ssl_certificate /root/namecheapconfigs/vplannerweddings_com_chain.crt;\n        ssl_certificate_key /root/vplannerweddings_com.key;\n\n        location / {\n                proxy_pass http://127.0.0.1:8080;\n                proxy_set_header Host $host;\n                proxy_set_header X-Real-IP $remote_addr;\n        }\n}\n</code></pre>\n<p>Logs of nginx gives me:</p>\n<pre><code>2023/03/08 11:29:36 [error] 8292#8292: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 91.205.48.122, server: vplannerweddings.com, request: &quot;POST /user/login HTTP/1.1&quot;, upstream: &quot;http://127.0.0.1:8080/user/login&quot;, host: &quot;vplannerweddings.com&quot;\n</code></pre>\n"},{"tags":["java","adobe","aem"],"answers":[{"tags":[],"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1434718880,"creation_date":1434718880,"answer_id":30938853,"question_id":30936986,"body_markdown":"You can use the [Replicator][1] api to activate the pages.\r\n\r\nIn your workflow process step. You can do the following\r\n\r\n\r\n`currentPage = getCurrentPagePath(); // this is something which you have to figure out, this depends on your workflow code i.e how exactly your workflow got triggere`d.\r\n\r\nNow,\r\n\r\n    Iterator&lt;Page&gt; childPages = currentPage.listChildren();\r\n\r\nNow iterate over the child pages and for each child page, do the following\r\n\r\n    replicator.replicate(session,repplicationActionType, childPagePath);\r\n\r\nYou can get the instance of replicator using OSGi dependency injection.\r\n\r\n    @Reference\r\n    public Replicator replicator\r\n\r\n\r\n\r\n  [1]: http://docs.adobe.com/docs/en/cq/5-6-1/javadoc/com/day/cq/replication/Replicator.html\r\n","title":"Adobe AEM WorkFlow activate a page including child pages","body":"<p>You can use the <a href=\"http://docs.adobe.com/docs/en/cq/5-6-1/javadoc/com/day/cq/replication/Replicator.html\" rel=\"nofollow\">Replicator</a> api to activate the pages.</p>\n\n<p>In your workflow process step. You can do the following</p>\n\n<p><code>currentPage = getCurrentPagePath(); // this is something which you have to figure out, this depends on your workflow code i.e how exactly your workflow got triggere</code>d.</p>\n\n<p>Now,</p>\n\n<pre><code>Iterator&lt;Page&gt; childPages = currentPage.listChildren();\n</code></pre>\n\n<p>Now iterate over the child pages and for each child page, do the following</p>\n\n<pre><code>replicator.replicate(session,repplicationActionType, childPagePath);\n</code></pre>\n\n<p>You can get the instance of replicator using OSGi dependency injection.</p>\n\n<pre><code>@Reference\npublic Replicator replicator\n</code></pre>\n"}],"owner":{"account_id":6495201,"reputation":29,"user_id":5028026,"display_name":"zerox5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1527,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1434938710,"accepted_answer_id":30938853,"answer_count":1,"score":-1,"last_activity_date":1679661618,"creation_date":1434713170,"question_id":30936986,"body_markdown":"I want to activate a page also include it&#39;s child pages using workflow\r\nlike below\r\n\r\nParent Node\r\n\r\n\r\n    ・Child Node 1\r\n    ・Child Node 2\r\n    ・Child Node 3\r\n\r\n\r\nRequirement is:\r\nIs it possible ??? Please give solution also in comment......\r\nthank you very much!!!","title":"Adobe AEM WorkFlow activate a page including child pages","body":"<p>I want to activate a page also include it's child pages using workflow\nlike below</p>\n\n<p>Parent Node</p>\n\n<pre><code>・Child Node 1\n・Child Node 2\n・Child Node 3\n</code></pre>\n\n<p>Requirement is:\nIs it possible ??? Please give solution also in comment......\nthank you very much!!!</p>\n"},{"tags":["java","android","fragment","toolbar"],"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679661073,"creation_date":1679661073,"question_id":75833681,"body_markdown":"I&#39;m new to android and want to create custom toolbar for my first activity in android app including a popup menu. So searched a lot but couldn&#39;t find any thing useful.  \r\nhere is my main activity code:\r\n\r\n    public class activity_test extends AppCompatActivity {\r\n\r\n       private Toolbar toolbar;\r\n\r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState) {\r\n           super.onCreate(savedInstanceState);\r\n           setContentView(R.layout.activity_test);\r\n           ActivityHolder.get_instance().set_last_activity(this);\r\n\r\n           toolbar = (Toolbar) findViewById(R.id.test_toolbar);\r\n           setSupportActionBar(toolbar);\r\n       }\r\n    }\r\n\r\n\r\nthis is layout for the activity:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/toolbar&quot;\r\n        android:id=&quot;@+id/test_toolbar&quot;/&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nthe fragment of toolbar is as below:\r\n\r\n    public class toolbar_fragment extends Fragment {\r\n\r\n    public toolbar_fragment(){\r\n        super(R.layout.toolbar);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState){\r\n        View rootView = inflater.inflate(R.layout.toolbar, container, false);\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n        inflater.inflate(R.menu.main_menu, menu);\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle presses on the action bar items\r\n        switch (item.getItemId()) {\r\n\r\n        }\r\n        return true;\r\n    }\r\n    }\r\n\r\nthe following code is my main popup menu:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/settings&quot;\r\n        android:title=&quot;settings&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/downloads&quot;\r\n        android:title=&quot;downloads&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/bookmarks&quot;\r\n        android:title=&quot;bookmarks&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/about_us&quot;\r\n        android:title=&quot;about_us&quot;/&gt;\r\n\r\n    &lt;/menu&gt;\r\n\r\nfinally I want to create a toolbar like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xPG5z.jpg\r\n\r\nBut the popup menu does not appear inside the toolbar. \r\nDo you have any idea what should I do?","title":"create custom toolbar using fragment with popup menu","body":"<p>I'm new to android and want to create custom toolbar for my first activity in android app including a popup menu. So searched a lot but couldn't find any thing useful.<br />\nhere is my main activity code:</p>\n<pre><code>public class activity_test extends AppCompatActivity {\n\n   private Toolbar toolbar;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_test);\n       ActivityHolder.get_instance().set_last_activity(this);\n\n       toolbar = (Toolbar) findViewById(R.id.test_toolbar);\n       setSupportActionBar(toolbar);\n   }\n}\n</code></pre>\n<p>this is layout for the activity:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;include layout=&quot;@layout/toolbar&quot;\n    android:id=&quot;@+id/test_toolbar&quot;/&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>the fragment of toolbar is as below:</p>\n<pre><code>public class toolbar_fragment extends Fragment {\n\npublic toolbar_fragment(){\n    super(R.layout.toolbar);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState){\n    View rootView = inflater.inflate(R.layout.toolbar, container, false);\n    return rootView;\n}\n\n@Override\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    inflater.inflate(R.menu.main_menu, menu);\n    super.onCreateOptionsMenu(menu, inflater);\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle presses on the action bar items\n    switch (item.getItemId()) {\n\n    }\n    return true;\n}\n}\n</code></pre>\n<p>the following code is my main popup menu:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n&lt;item\n    android:id=&quot;@+id/settings&quot;\n    android:title=&quot;settings&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/downloads&quot;\n    android:title=&quot;downloads&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/bookmarks&quot;\n    android:title=&quot;bookmarks&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/about_us&quot;\n    android:title=&quot;about_us&quot;/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>finally I want to create a toolbar like this:</p>\n<p><a href=\"https://i.stack.imgur.com/xPG5z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPG5z.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But the popup menu does not appear inside the toolbar.\nDo you have any idea what should I do?</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":1,"creation_date":1643696481,"post_id":70935683,"comment_id":125402039,"body_markdown":"From the message I see, that `it` in the closure is String. So, try `.find{it == &quot;m__tradeString&quot;}`.","body":"From the message I see, that <code>it</code> in the closure is String. So, try <code>.find{it == &quot;m__tradeString&quot;}</code>."},{"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"score":0,"creation_date":1643721815,"post_id":70935683,"comment_id":125410537,"body_markdown":"@MaxDaroshchanka\nThanks for your time, I have tried it but it return null though tag is available in the msg. i tried below two possibilities  node return that tag node, but node1 retrun null.\n\n def node = msg.&quot;**&quot;.find { it.&#39;m__tradeString&#39;.text())                                                                               \n\ndef node1 = msg.&quot;**&quot;.find { it == &#39;m__tradeString&#39;}                                                                           \n\nAtleast it is working for node but i want to pass the tagname dyanmically is there any \nsyntax to concat the dynamic value","body":"@MaxDaroshchanka Thanks for your time, I have tried it but it return null though tag is available in the msg. i tried below two possibilities  node return that tag node, but node1 retrun null.   def node = msg.&quot;<b>&quot;.find { it.&#39;m__tradeString&#39;.text())                                                                                 def node1 = msg.&quot;</b>&quot;.find { it == &#39;m__tradeString&#39;}                                                                             Atleast it is working for node but i want to pass the tagname dyanmically is there any  syntax to concat the dynamic value"},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1643723143,"post_id":70935683,"comment_id":125411111,"body_markdown":"sorry I cannot understand what type of objects you are interacting with, so I&#39;m just guessing, based on the syntax I see. Another try I suggest `def tradeString = msg.&quot;**&quot;.find{it.getName() == &quot;m__tradeString&quot;}` or  `def tradeString = msg.&quot;**&quot;.find{it.name == &quot;m__tradeString&quot;}`.","body":"sorry I cannot understand what type of objects you are interacting with, so I&#39;m just guessing, based on the syntax I see. Another try I suggest <code>def tradeString = msg.&quot;**&quot;.find{it.getName() == &quot;m__tradeString&quot;}</code> or  <code>def tradeString = msg.&quot;**&quot;.find{it.name == &quot;m__tradeString&quot;}</code>."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1643723270,"post_id":70935683,"comment_id":125411171,"body_markdown":"What does `msg.&quot;**&quot;` evaluate to?","body":"What does <code>msg.&quot;**&quot;</code> evaluate to?"},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1643723300,"post_id":70935683,"comment_id":125411188,"body_markdown":"`println(msg.class)`,  `println((msg.&quot;**&quot;).class)` could make it more clear","body":"<code>println(msg.class)</code>,  <code>println((msg.&quot;**&quot;).class)</code> could make it more clear"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":2,"creation_date":1643738626,"post_id":70935683,"comment_id":125417969,"body_markdown":"@MaxDaroshchanka `msg.class` may not help.  For example, if `msg` is a `Map` and the `Map` does not have a key with the value `&#39;class&#39;`, then `msg.class` will evaluate to `null`.  Know what `msg.&quot;**&quot;`is will be more valuable.","body":"@MaxDaroshchanka <code>msg.class</code> may not help.  For example, if <code>msg</code> is a <code>Map</code> and the <code>Map</code> does not have a key with the value <code>&#39;class&#39;</code>, then <code>msg.class</code> will evaluate to <code>null</code>.  Know what <code>msg.&quot;**&quot;</code>is will be more valuable."},{"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"score":0,"creation_date":1643813197,"post_id":70935683,"comment_id":125439113,"body_markdown":"@JeffScottBrown -\nHere is the code snipet :\nType of Message :\norg.springframework.integration -public interface Message&lt;T&gt; \nMessage message;\ndef payload = message.payload.newObjectXML\nXmlParser parser = new XmlParser();\nNode msg = parser.parseText(payload)","body":"@JeffScottBrown - Here is the code snipet : Type of Message : org.springframework.integration -public interface Message&lt;T&gt;  Message message; def payload = message.payload.newObjectXML XmlParser parser = new XmlParser(); Node msg = parser.parseText(payload)"},{"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"score":0,"creation_date":1643813204,"post_id":70935683,"comment_id":125439120,"body_markdown":"@MaxDaroshchanka\nI tried the change which you have suggested : \ndef nodelement = msg.&quot;**&quot;.find { it.getName() == &quot;m__tradeString&quot; }\nError :\nException in execute=No signature of method: groovy.util.Node.getName() is applicable for argument types: () values: []\nPossible solutions: name(), getAt(groovy.namespace.QName), getAt(groovy.xml.QName), getAt(java.lang.String), getClass(), get(java.lang.String)","body":"@MaxDaroshchanka I tried the change which you have suggested :  def nodelement = msg.&quot;**&quot;.find { it.getName() == &quot;m__tradeString&quot; } Error : Exception in execute=No signature of method: groovy.util.Node.getName() is applicable for argument types: () values: [] Possible solutions: name(), getAt(groovy.namespace.QName), getAt(groovy.xml.QName), getAt(java.lang.String), getClass(), get(java.lang.String)"},{"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"score":1,"creation_date":1643863417,"post_id":70935683,"comment_id":125454051,"body_markdown":"@MaxDaroshchanka\nI have tried the below two statements :  both printed &quot;[]&quot;\nprintln(msg.class) : return [] \nprintln((msg.&quot;**&quot;).class) :return []","body":"@MaxDaroshchanka I have tried the below two statements :  both printed &quot;[]&quot; println(msg.class) : return []  println((msg.&quot;**&quot;).class) :return []"}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644084528,"creation_date":1643866529,"answer_id":70966363,"question_id":70935683,"body_markdown":"After discussion in comments..\r\n\r\nFor now I see you iterating through the collection with `groovy.util.Node` objects, and calling `it.name()` seems valid for them. \r\n\r\nBut from the initial error message in your question I saw the String object too. So you might have at least 2 different types (String and Node). And you have to handle this.\r\n\r\n```groovy\r\ndef tradeString = msg.&quot;**&quot;.find{\r\n    String expected = &#39;m__tradeString&#39;\r\n    String actual = it instanceof groovy.util.Node ? it.name() : it\r\n    actual == expected\r\n}\r\n```\r\n\r\nThis code can be shortened of course.\r\n\r\nAnd for such cases I suggest to look throw the initial collection in debugger, or print each object type `.getClass()` and `.toString()`. So It&#39;ll become more clear.\r\n\r\n&gt; groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: [] \r\n\r\nMeans that method `name()` was invoked on `java.lang.String`, but this class doesn&#39;t have such method.\r\n\r\n---\r\n\r\nLess code version:\r\n\r\n\r\n```groovy\r\n// this method can be reused\r\nstatic String extractNodeName(node) {\r\n    node instanceof groovy.util.Node ? node.name() : node\r\n}\r\n\r\ndef tradeString = msg.&quot;**&quot;.find{ extractNodeName(it) ==&#39;m__tradeString&#39; }\r\n```","title":"groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []","body":"<p>After discussion in comments..</p>\n<p>For now I see you iterating through the collection with <code>groovy.util.Node</code> objects, and calling <code>it.name()</code> seems valid for them.</p>\n<p>But from the initial error message in your question I saw the String object too. So you might have at least 2 different types (String and Node). And you have to handle this.</p>\n<pre><code>def tradeString = msg.&quot;**&quot;.find{\n    String expected = 'm__tradeString'\n    String actual = it instanceof groovy.util.Node ? it.name() : it\n    actual == expected\n}\n</code></pre>\n<p>This code can be shortened of course.</p>\n<p>And for such cases I suggest to look throw the initial collection in debugger, or print each object type <code>.getClass()</code> and <code>.toString()</code>. So It'll become more clear.</p>\n<blockquote>\n<p>groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []</p>\n</blockquote>\n<p>Means that method <code>name()</code> was invoked on <code>java.lang.String</code>, but this class doesn't have such method.</p>\n<hr />\n<p>Less code version:</p>\n<pre><code>// this method can be reused\nstatic String extractNodeName(node) {\n    node instanceof groovy.util.Node ? node.name() : node\n}\n\ndef tradeString = msg.&quot;**&quot;.find{ extractNodeName(it) =='m__tradeString' }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4755531,"reputation":359,"user_id":3844391,"display_name":"hagits"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653302270,"creation_date":1653302270,"answer_id":72347145,"question_id":70935683,"body_markdown":"It happened to me when I used a variable with the same name as a method.\r\nExample:\r\nA function with sshCommand String parameter, in which I called:\r\n```sshCommand remote: remote, command: fullCommand```\r\n\r\n(fullCommand was sshCommand  with some flags I added).\r\nSo I had a string, and after that used the method, that was not a string, and this gave the error.","title":"groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []","body":"<p>It happened to me when I used a variable with the same name as a method.\nExample:\nA function with sshCommand String parameter, in which I called:\n<code>sshCommand remote: remote, command: fullCommand</code></p>\n<p>(fullCommand was sshCommand  with some flags I added).\nSo I had a string, and after that used the method, that was not a string, and this gave the error.</p>\n"},{"tags":[],"owner":{"account_id":17021451,"reputation":49,"user_id":12313910,"display_name":"FitAdam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679660678,"creation_date":1679660678,"answer_id":75833618,"question_id":70935683,"body_markdown":"I had the same error message when I called a variable like a method. \r\n\r\nI did\r\n\r\n    isSearchPage()\r\nI should do: \r\n\r\n    isSearchPage","title":"groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []","body":"<p>I had the same error message when I called a variable like a method.</p>\n<p>I did</p>\n<pre><code>isSearchPage()\n</code></pre>\n<p>I should do:</p>\n<pre><code>isSearchPage\n</code></pre>\n"}],"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70966363,"answer_count":3,"score":2,"last_activity_date":1679660678,"creation_date":1643690725,"question_id":70935683,"body_markdown":"I am new to this groovy script, as i have requirement to update the java 1.7 to java8 for my project,after upgrading the version both java &amp; groovy then facing issue with the groovy syntax.\r\nIn java 7 it worked without any issues,but in java 8 facing below error .\r\n\r\nThe below error is occruing while i am trying to find specific tag element as below :\r\n\r\n```\r\ndef tradeString = msg.&quot;**&quot;.find{it.name() == &quot;m__tradeString&quot;}\r\n```\r\n\r\n```\r\ngroovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []\r\nPossible solutions: take(int), take(int), any(), any(groovy.lang.Closure), wait(), dump()\r\n```\r\n\r\nNote : in some places name() method is working but other places facing this error\r\n\r\nplease help me here.\r\n\r\nThanks in advance.","title":"groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []","body":"<p>I am new to this groovy script, as i have requirement to update the java 1.7 to java8 for my project,after upgrading the version both java &amp; groovy then facing issue with the groovy syntax.\nIn java 7 it worked without any issues,but in java 8 facing below error .</p>\n<p>The below error is occruing while i am trying to find specific tag element as below :</p>\n<pre><code>def tradeString = msg.&quot;**&quot;.find{it.name() == &quot;m__tradeString&quot;}\n</code></pre>\n<pre><code>groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []\nPossible solutions: take(int), take(int), any(), any(groovy.lang.Closure), wait(), dump()\n</code></pre>\n<p>Note : in some places name() method is working but other places facing this error</p>\n<p>please help me here.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","oracle","jdbc","time"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1679614308,"post_id":75828720,"comment_id":133757770,"body_markdown":"please show the sql and more code","body":"please show the sql and more code"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679616506,"post_id":75828720,"comment_id":133758024,"body_markdown":"What&#39;s the type of the DATE_COLUMN column?","body":"What&#39;s the type of the DATE_COLUMN column?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1679617892,"post_id":75828720,"comment_id":133758188,"body_markdown":"Try `LocalDate date = resultSet.getObject(&quot;DATE_COLUMN&quot;, java.time.LocalDate);`","body":"Try <code>LocalDate date = resultSet.getObject(&quot;DATE_COLUMN&quot;, java.time.LocalDate);</code>"},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":3,"creation_date":1679618002,"post_id":75828720,"comment_id":133758200,"body_markdown":"See [this](https://stackoverflow.com/a/62104802/266304) and similar answers; in short, use java.time classes, not java.sql.date etc.","body":"See <a href=\"https://stackoverflow.com/a/62104802/266304\">this</a> and similar answers; in short, use java.time classes, not java.sql.date etc."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679637768,"post_id":75828720,"comment_id":133760310,"body_markdown":"What *precisely* is the data type of your column? Did you mean literally the [`DATE`](https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html#GUID-5405B652-C30E-4F4F-9D33-9A4CB2110F1B) type in Oracle Database 21c? Or did you mean one of the `TIMESTAMP…` types? Show the relevant excerpt of your `CREATE TABLE`.","body":"What <i>precisely</i> is the data type of your column? Did you mean literally the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html#GUID-5405B652-C30E-4F4F-9D33-9A4CB2110F1B\" rel=\"nofollow noreferrer\"><code>DATE</code></a> type in Oracle Database 21c? Or did you mean one of the <code>TIMESTAMP…</code> types? Show the relevant excerpt of your <code>CREATE TABLE</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679644935,"post_id":75828720,"comment_id":133761425,"body_markdown":"I never understood the good way to combine Oracle database and Java, not even Oracle Java. Seems they forgot they came from the same company. In any case a good JPA implementation like Hibernate is very likely to take care of your issues for you. Then just use `LocalDate` in the Java side as others have already mentioned.","body":"I never understood the good way to combine Oracle database and Java, not even Oracle Java. Seems they forgot they came from the same company. In any case a good JPA implementation like Hibernate is very likely to take care of your issues for you. Then just use <code>LocalDate</code> in the Java side as others have already mentioned."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679645066,"post_id":75828720,"comment_id":133761449,"body_markdown":"I suppose the bad hack would be reading the date as a string from the database and parsing it into a `LocalDate` yourself. Nothing you want if there’s any way you can get your JDBC driver to do the work for you.","body":"I suppose the bad hack would be reading the date as a string from the database and parsing it into a <code>LocalDate</code> yourself. Nothing you want if there’s any way you can get your JDBC driver to do the work for you."},{"owner":{"account_id":20551428,"reputation":25,"user_id":15084061,"display_name":"potato_programmer"},"score":0,"creation_date":1679649829,"post_id":75828720,"comment_id":133762538,"body_markdown":"@tgdavies, Basil Bourque: Yes, the respective datatype is DATE in Oracle Database 21c.","body":"@tgdavies, Basil Bourque: Yes, the respective datatype is DATE in Oracle Database 21c."}],"owner":{"account_id":20551428,"reputation":25,"user_id":15084061,"display_name":"potato_programmer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679660478,"creation_date":1679612953,"question_id":75828720,"body_markdown":"    java.sql.Date date = resultSet.getDate(&quot;DATE_COLUMN&quot;);\r\n    // let&#39;s say we are reading &#39;16/05/1993 from DB\r\n\r\nWhenever the above gets called, JDBC Oracle driver does some shenanigans on the background with [adjusting the timezone][1]. So in the end, the UNIX epoch long stored inside java.sql.Date might not correspond to 16/05/1993/00:00:00 UTC as I would expect it to.\r\n\r\n\r\n  [1]: https://rogersuen.github.io/2015/03/timezone-for-oracle-jdbc-driver.html\r\n\r\nThe respective datatype is `DATE` in Oracle Database 21c.\r\n\r\nIs there any way to receive the `DATE` from a table in Oracle database in its pure form - with no undesirable timezone adjustments?\r\n\r\nLet&#39;s say the `DATE` in the database is &#39;16/05/1993&#39;, but if some timezone adjustments happen, it can easily reach my app as &#39;15/05/1993&#39; in its end form.\r\n\r\n**TL;DR:** I just want the Oracle DB DATE to reach my app either\r\n\r\n 1. simply as three numbers - day: 16, month: 5, year: 1993\r\n 2. or UNIX Epoch time that would always correspond to 16/05/1993/00:00:00 UTC","title":"Get timezone-less DATE from DB via JDBC Oracle driver","body":"<pre><code>java.sql.Date date = resultSet.getDate(&quot;DATE_COLUMN&quot;);\n// let's say we are reading '16/05/1993 from DB\n</code></pre>\n<p>Whenever the above gets called, JDBC Oracle driver does some shenanigans on the background with <a href=\"https://rogersuen.github.io/2015/03/timezone-for-oracle-jdbc-driver.html\" rel=\"nofollow noreferrer\">adjusting the timezone</a>. So in the end, the UNIX epoch long stored inside java.sql.Date might not correspond to 16/05/1993/00:00:00 UTC as I would expect it to.</p>\n<p>The respective datatype is <code>DATE</code> in Oracle Database 21c.</p>\n<p>Is there any way to receive the <code>DATE</code> from a table in Oracle database in its pure form - with no undesirable timezone adjustments?</p>\n<p>Let's say the <code>DATE</code> in the database is '16/05/1993', but if some timezone adjustments happen, it can easily reach my app as '15/05/1993' in its end form.</p>\n<p><strong>TL;DR:</strong> I just want the Oracle DB DATE to reach my app either</p>\n<ol>\n<li>simply as three numbers - day: 16, month: 5, year: 1993</li>\n<li>or UNIX Epoch time that would always correspond to 16/05/1993/00:00:00 UTC</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1679660539,"post_id":75833532,"comment_id":133765130,"body_markdown":"The problem is that you always need a reference to the structure that the `String` is inside of. The reason is that `String`s are immutable and you need to re-write the reference to the new value in the &quot;surrounding&quot; structure. In case of a `Collection` you need to re`set` that specific value in the collection. In case of a `Map`, you need to call `setValue` on that `Entry`.","body":"The problem is that you always need a reference to the structure that the <code>String</code> is inside of. The reason is that <code>String</code>s are immutable and you need to re-write the reference to the new value in the &quot;surrounding&quot; structure. In case of a <code>Collection</code> you need to re<code>set</code> that specific value in the collection. In case of a <code>Map</code>, you need to call <code>setValue</code> on that <code>Entry</code>."},{"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"score":0,"creation_date":1679663567,"post_id":75833532,"comment_id":133765962,"body_markdown":"@f1sh Wondering if I should check if obj is a String and perform the value sets during the for loops itself before I traverse again. This way I will know the key for maps and index for collections. And just remove the instanceof String check. But will end up with Unsupported Exception if I modify during the loop though when it comes to collection.","body":"@f1sh Wondering if I should check if obj is a String and perform the value sets during the for loops itself before I traverse again. This way I will know the key for maps and index for collections. And just remove the instanceof String check. But will end up with Unsupported Exception if I modify during the loop though when it comes to collection."}],"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679660444,"creation_date":1679660124,"question_id":75833532,"body_markdown":"I have a complex json which has nested data, a mix of String numbers, list within lists, maps within maps and so on.\r\n\r\nI wan to go over every section of this object without having to recreate the object and find all the Strings.\r\n\r\nEvery time a String value is found, append &quot;hello&quot; to it. \r\n\r\nIs this possible? \r\n\r\nCame up with the following but this will not work. \r\n    \r\nAssigning the following won&#39;t actually replace it.\r\n\r\n    value = value + &quot;hello&quot;; // This is not going to work.\r\n\r\nThe complex json is not set in stone, there will be different variations, \r\n\r\nthus just trying to traverse every possible parts of the json and find string and append &quot;hello&quot; to it. \r\n\r\nImplementation where nothing is going to change since String is immutable.\r\n\r\n        public void traverseAndAppendHello(Object obj) {\r\n        if (obj instanceof String) {\r\n            String value = (String) obj;\r\n            value = value + &quot;hello&quot;; // This is not going to work\r\n        } else if (obj instanceof Collection) {\r\n            Collection&lt;?&gt; collection = (Collection&lt;?&gt;) obj;\r\n            for (Object element : collection) {\r\n                traverseAndAppendHello(element);\r\n            }\r\n        } else if (obj instanceof Map) {\r\n            Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;) obj;\r\n            for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n                Object value = entry.getValue();\r\n                traverseAndAppendHello(value);\r\n            }\r\n        } else if (obj instanceof Object[]) {\r\n            Object[] array = (Object[]) obj;\r\n            for (Object o : array) {\r\n                traverseAndAppendHello(o);\r\n            }\r\n        } else if (obj instanceof MyCustomObjectBeingTraversed) {\r\n            Map map = mapper.convertValue(obj, Map.class);\r\n            traverseAndAppendHello(map);\r\n        }\r\n        // move on to next steps if other types found like boolean and Number. \r\n    }","title":"Traverse complex json and modify Strings in place","body":"<p>I have a complex json which has nested data, a mix of String numbers, list within lists, maps within maps and so on.</p>\n<p>I wan to go over every section of this object without having to recreate the object and find all the Strings.</p>\n<p>Every time a String value is found, append &quot;hello&quot; to it.</p>\n<p>Is this possible?</p>\n<p>Came up with the following but this will not work.</p>\n<p>Assigning the following won't actually replace it.</p>\n<pre><code>value = value + &quot;hello&quot;; // This is not going to work.\n</code></pre>\n<p>The complex json is not set in stone, there will be different variations,</p>\n<p>thus just trying to traverse every possible parts of the json and find string and append &quot;hello&quot; to it.</p>\n<p>Implementation where nothing is going to change since String is immutable.</p>\n<pre><code>    public void traverseAndAppendHello(Object obj) {\n    if (obj instanceof String) {\n        String value = (String) obj;\n        value = value + &quot;hello&quot;; // This is not going to work\n    } else if (obj instanceof Collection) {\n        Collection&lt;?&gt; collection = (Collection&lt;?&gt;) obj;\n        for (Object element : collection) {\n            traverseAndAppendHello(element);\n        }\n    } else if (obj instanceof Map) {\n        Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;) obj;\n        for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n            Object value = entry.getValue();\n            traverseAndAppendHello(value);\n        }\n    } else if (obj instanceof Object[]) {\n        Object[] array = (Object[]) obj;\n        for (Object o : array) {\n            traverseAndAppendHello(o);\n        }\n    } else if (obj instanceof MyCustomObjectBeingTraversed) {\n        Map map = mapper.convertValue(obj, Map.class);\n        traverseAndAppendHello(map);\n    }\n    // move on to next steps if other types found like boolean and Number. \n}\n</code></pre>\n"},{"tags":["java","lambda","foreach","java-8","java-stream"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1679658899,"post_id":75833231,"comment_id":133764721,"body_markdown":"The intended behaviour is unclear. Are you looking for the first instance of &quot;test3&quot;? Is the flag supposed to serve any purpose other than being false if the list contains &quot;test3&quot;?","body":"The intended behaviour is unclear. Are you looking for the first instance of &quot;test3&quot;? Is the flag supposed to serve any purpose other than being false if the list contains &quot;test3&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679658979,"creation_date":1679658979,"answer_id":75833348,"question_id":75833231,"body_markdown":"Sure, you can use a `String[] cCN = new String[] {&quot;&quot;};` and then use `cCN[1] = ele;` in your code instead.\r\n\r\nThe more general point here is, lambdas are just worse here. Lambdas are non-transparent in 3 regards:\r\n\r\n* Control flow; you cannot `break` e.g. a while loop that is declared outside a lambda, from inside one. Nor you can `return;` the outer method from within a lambda.\r\n* Checked exceptions: A checked exception thrown by code inside a lambda cannot be caught outside of it, unless the thing you passed the lambda to (`.forEach`, here) explicitly goes out of its way to make that possible, and most lambda-taking methods in the core libraries didn&#39;t.\r\n* Local variables. You cannot modify a local variable declared outside a lambda, from within it.\r\n\r\nAll 3 are __good__ things when the lambda &#39;travels&#39; (continues to exist and could be called after execution has long passed the lexical context where it was created. For example, when you pass a lambda to something that then stores it in a field to call it later, or passing a lambda to code that ends up firing up a new thread / handing the lambda on to code that will execute it in a different thread). Because all 3 are &#39;weird&#39; in that case.\r\n\r\nBut they are just annoying when the lambda doesn&#39;t travel, and `.forEach()` lambdas do not travel.\r\n\r\nConclusion: Do not use lambdas here. Calling `.forEach(ele -&gt; ...)` is, effectively, __always wrong__. Because it is inferior to using `for (var ele : list)`, which can do everything `forEach` can, and 3 more things on top of that - namely the 3 transparencies named above.\r\n\r\n`.forEach` is designed for when you already have a lambda. Imagine you have a method that already has access to some `Consumer&lt;String&gt;` for some reason, for example because it was passed in via parameter, and you want to apply that consumer to a list. Write `list.forEach(theConsumer)`, instead of `for (var ele : list) theConsumer.cosume(ele);`.\r\n","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>Sure, you can use a <code>String[] cCN = new String[] {&quot;&quot;};</code> and then use <code>cCN[1] = ele;</code> in your code instead.</p>\n<p>The more general point here is, lambdas are just worse here. Lambdas are non-transparent in 3 regards:</p>\n<ul>\n<li>Control flow; you cannot <code>break</code> e.g. a while loop that is declared outside a lambda, from inside one. Nor you can <code>return;</code> the outer method from within a lambda.</li>\n<li>Checked exceptions: A checked exception thrown by code inside a lambda cannot be caught outside of it, unless the thing you passed the lambda to (<code>.forEach</code>, here) explicitly goes out of its way to make that possible, and most lambda-taking methods in the core libraries didn't.</li>\n<li>Local variables. You cannot modify a local variable declared outside a lambda, from within it.</li>\n</ul>\n<p>All 3 are <strong>good</strong> things when the lambda 'travels' (continues to exist and could be called after execution has long passed the lexical context where it was created. For example, when you pass a lambda to something that then stores it in a field to call it later, or passing a lambda to code that ends up firing up a new thread / handing the lambda on to code that will execute it in a different thread). Because all 3 are 'weird' in that case.</p>\n<p>But they are just annoying when the lambda doesn't travel, and <code>.forEach()</code> lambdas do not travel.</p>\n<p>Conclusion: Do not use lambdas here. Calling <code>.forEach(ele -&gt; ...)</code> is, effectively, <strong>always wrong</strong>. Because it is inferior to using <code>for (var ele : list)</code>, which can do everything <code>forEach</code> can, and 3 more things on top of that - namely the 3 transparencies named above.</p>\n<p><code>.forEach</code> is designed for when you already have a lambda. Imagine you have a method that already has access to some <code>Consumer&lt;String&gt;</code> for some reason, for example because it was passed in via parameter, and you want to apply that consumer to a list. Write <code>list.forEach(theConsumer)</code>, instead of <code>for (var ele : list) theConsumer.cosume(ele);</code>.</p>\n"},{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679659000,"creation_date":1679659000,"answer_id":75833355,"question_id":75833231,"body_markdown":"It is considered as a bad practice to write lambdas that have heavy side effects as your example. Correct way to do it using stream API would be using *filter* function like:\r\n\r\n```java\r\nList&lt;String&gt; list = Arrays.asList(&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;);\r\n\r\nOptional&lt;String&gt; cCN = list\r\n        .stream()\r\n        .filter(s -&gt; s.equals(&quot;test3&quot;))\r\n        .findFirst();\r\n```\r\n\r\nIt is generally considered a bad practice to use side effects in Java Stream API operations. Stream operations should be designed to produce output based solely on their input, without modifying any external state. \r\nStream API is designed to allow for functional-style processing of collections or arrays of data. \r\n\r\nOne of the key features of functional programming is that functions should be pure, meaning that they should not have any side effects and should only rely on their input arguments to produce output.","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>It is considered as a bad practice to write lambdas that have heavy side effects as your example. Correct way to do it using stream API would be using <em>filter</em> function like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = Arrays.asList(&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;);\n\nOptional&lt;String&gt; cCN = list\n        .stream()\n        .filter(s -&gt; s.equals(&quot;test3&quot;))\n        .findFirst();\n</code></pre>\n<p>It is generally considered a bad practice to use side effects in Java Stream API operations. Stream operations should be designed to produce output based solely on their input, without modifying any external state.\nStream API is designed to allow for functional-style processing of collections or arrays of data.</p>\n<p>One of the key features of functional programming is that functions should be pure, meaning that they should not have any side effects and should only rely on their input arguments to produce output.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679659553,"creation_date":1679659102,"answer_id":75833370,"question_id":75833231,"body_markdown":"You could change the expression to a simple findFirst:\r\n\r\n     String cCN = list.stream().filter(&quot;test3&quot;::equals).findFirst().orElse(&quot;&quot;);\r\n\r\nIf you needed those variables you should save the `Optional&lt;String&gt;` result and declare as:\r\n\r\n    Optional&lt;String&gt; find = list.stream().filter(&quot;test3&quot;::equals).findFirst();\r\n    String cCN  = find.orElse(&quot;&quot;);\r\n    boolean flag= find.isEmpty();\r\n","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>You could change the expression to a simple findFirst:</p>\n<pre><code> String cCN = list.stream().filter(&quot;test3&quot;::equals).findFirst().orElse(&quot;&quot;);\n</code></pre>\n<p>If you needed those variables you should save the <code>Optional&lt;String&gt;</code> result and declare as:</p>\n<pre><code>Optional&lt;String&gt; find = list.stream().filter(&quot;test3&quot;::equals).findFirst();\nString cCN  = find.orElse(&quot;&quot;);\nboolean flag= find.isEmpty();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679660241,"creation_date":1679660241,"answer_id":75833554,"question_id":75833231,"body_markdown":"Why do you want to use streams?  There are less verbose ways to achieve the same end.\r\n\r\n    int k = list.indexOf(&quot;test3&quot;);\r\n    String ccn = (k &gt;= 0 ? list[k] : &quot;&quot;);","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>Why do you want to use streams?  There are less verbose ways to achieve the same end.</p>\n<pre><code>int k = list.indexOf(&quot;test3&quot;);\nString ccn = (k &gt;= 0 ? list[k] : &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833355,"answer_count":4,"score":0,"last_activity_date":1679660343,"creation_date":1679658221,"question_id":75833231,"body_markdown":"I have a `List&lt;String&gt; list = Arrays.asList(&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;);`\r\n\r\nI want to achive something like this:\r\n\r\n    String cCN = &quot;&quot;;\r\n    boolean flag = true;\r\n    list.forEach(ele -&gt; {\r\n        if (ele.equals(&quot;test3&quot;)) {\r\n            cCN = ele;\r\n            flag = false;\r\n        }\r\n    });\r\n\r\nThis is not allowed since lambda expression can only access effectively final or final variables.\r\nIDE suggests using AtomicRefrence for this, but I was thing if there is any other way to do it.\r\n\r\n","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>I have a <code>List&lt;String&gt; list = Arrays.asList(&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;);</code></p>\n<p>I want to achive something like this:</p>\n<pre><code>String cCN = &quot;&quot;;\nboolean flag = true;\nlist.forEach(ele -&gt; {\n    if (ele.equals(&quot;test3&quot;)) {\n        cCN = ele;\n        flag = false;\n    }\n});\n</code></pre>\n<p>This is not allowed since lambda expression can only access effectively final or final variables.\nIDE suggests using AtomicRefrence for this, but I was thing if there is any other way to do it.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","user-roles"],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679344033,"creation_date":1679344033,"answer_id":75795016,"question_id":75793893,"body_markdown":"One of the best solution which help you define rules and security policies dynamicly, is the ABAC (attributes based access control) method. Use one the best implementation:\r\n[https://sapl.io/][1]\r\n\r\n\r\n  [1]: https://sapl.io/","title":"How can i add spring security based on roles authorization in spring boot where i have multiple entiites?","body":"<p>One of the best solution which help you define rules and security policies dynamicly, is the ABAC (attributes based access control) method. Use one the best implementation:\n<a href=\"https://sapl.io/\" rel=\"nofollow noreferrer\">https://sapl.io/</a></p>\n"},{"tags":[],"owner":{"account_id":15111705,"reputation":26,"user_id":10905574,"display_name":"Sourav Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679660237,"creation_date":1679660237,"answer_id":75833551,"question_id":75793893,"body_markdown":"You have to follow Spring boot security standards. \r\nEmail passwords of both Student &amp; Professor should be in the same table.\r\nPlease check Spring Security basic projects and get started.\r\n","title":"How can i add spring security based on roles authorization in spring boot where i have multiple entiites?","body":"<p>You have to follow Spring boot security standards.\nEmail passwords of both Student &amp; Professor should be in the same table.\nPlease check Spring Security basic projects and get started.</p>\n"}],"owner":{"account_id":23060416,"reputation":1,"user_id":21441018,"display_name":"Gordey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679660237,"creation_date":1679336042,"question_id":75793893,"body_markdown":"I study and am writing Spring Boot 3.0.4 project with MVC and want to add **Spring Security** to it. I want to create an electonic university diary, where all students and professors would be in database by from the beginning, and they need only login to this diary to get to their page, registration is not needed.\r\n\r\nI don&#39;t understand how to add security for my project and controller, I need to add two Roles - **Student_Role** and **Professor_Role** and give them to Student and Professor accordingly. After that, i need to create security code so that the student can navigate through their part of the html pages as like in this lines:\r\n\r\n```\r\n.antMatchers(&quot;/student/**&quot;).hasRole(&quot;STUDENT&quot;)\r\n.antMatchers(&quot;/professor/**&quot;).hasRole(&quot;PROFESSOR&quot;)\r\n```\r\n\r\nI don&#39;t find suitable examples on the Internet.\r\nSo I have two entities - **Student** and **Professor**. Here is code for them:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    @NotBlank(message = &quot;first name cannot be empty&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    @NotBlank(message = &quot;last name cannot be empty&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    @NotBlank(message = &quot;email cannot be empty&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    @NotBlank(message = &quot;password cannot be empty&quot;)\r\n    @Size(min = 8, max = 16)\r\n    private String password;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;professor&quot;)\r\npublic class Professor {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    @NotBlank(message = &quot;first name cannot be empty&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    @NotBlank(message = &quot;last name cannot be empty&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    @NotBlank(message = &quot;email cannot be empty&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    @NotBlank(message = &quot;password cannot be empty&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;phone_number&quot;)\r\n    @NotBlank(message = &quot;phone number cannot be empty&quot;)\r\n    private String phoneNumber;\r\n}\r\n```\r\nAnd i also have JpaRepositories for them.\r\nI don&#39;t understand how to add configuration and controller for login. I would be very grateful, if someone can help me with that\r\n\r\n\r\nI tried to find example for solve this problem, but i don&#39;t find. I was trying to do this using LoginUser like buffer that has email and password fields\r\n, but it&#39;s not actualy what i need, there is no spring security that i needed.\r\nHere is my Controller and my login-page:\r\n\r\n```\r\n@Controller\r\npublic class LoginControllerV2 {\r\n\r\n    StudentServiceImpl studentService;\r\n    ProfessorServiceImpl professorService;\r\n\r\n    @Autowired\r\n    public LoginControllerV2(StudentServiceImpl studentService, ProfessorServiceImpl professorService) {\r\n        this.studentService = studentService;\r\n        this.professorService = professorService;\r\n    }\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String menuPage(Model model) {\r\n        model.addAttribute(&quot;loginUser&quot;, new LoginUser());\r\n        return &quot;login-page&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/authenticateTheUser&quot;)\r\n    public String login(@ModelAttribute LoginUser loginUser, Model model) {\r\n\r\n        String page = &quot;&quot;;\r\n        String email = loginUser.getEmail();\r\n        String password = loginUser.getPassword();\r\n        \r\n        if(studentService.findStudentByEmailAndPassword(email, password)!=null){\r\n            Student student = studentService.findStudentByEmailAndPassword(email,password);\r\n            model.addAttribute(&quot;student&quot;, student);\r\n            page = &quot;student-menu&quot;;\r\n        } else if (professorService.findProfessorByEmailAndPassword(email, password)!=null){\r\n            Professor professor = professorService.findProfessorByEmailAndPassword(email,password);\r\n            model.addAttribute(&quot;professor&quot;, professor);\r\n            page = &quot;professor-menu&quot;;\r\n        } \r\n        return page;\r\n    }\r\n}\r\n```\r\nAnd my thymeleaf page was:\r\n\r\n```\r\n!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Login Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;Login Page&lt;/h2&gt;\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/authenticateTheUser}&quot; th:object=&quot;${loginUser}&quot; method=&quot;POST&quot;&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\r\n        &lt;input type=&quot;email&quot; id=&quot;email&quot; th:field=&quot;*{email}&quot; required /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\r\n        &lt;input type=&quot;password&quot; id=&quot;password&quot; th:field=&quot;*{password}&quot; required /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI think i need to create table Roles in database and create ManyToOne relashionship student-roles, professor-roles. But i don&#39;t know will it work and how to use it to configure spring security","title":"How can i add spring security based on roles authorization in spring boot where i have multiple entiites?","body":"<p>I study and am writing Spring Boot 3.0.4 project with MVC and want to add <strong>Spring Security</strong> to it. I want to create an electonic university diary, where all students and professors would be in database by from the beginning, and they need only login to this diary to get to their page, registration is not needed.</p>\n<p>I don't understand how to add security for my project and controller, I need to add two Roles - <strong>Student_Role</strong> and <strong>Professor_Role</strong> and give them to Student and Professor accordingly. After that, i need to create security code so that the student can navigate through their part of the html pages as like in this lines:</p>\n<pre><code>.antMatchers(&quot;/student/**&quot;).hasRole(&quot;STUDENT&quot;)\n.antMatchers(&quot;/professor/**&quot;).hasRole(&quot;PROFESSOR&quot;)\n</code></pre>\n<p>I don't find suitable examples on the Internet.\nSo I have two entities - <strong>Student</strong> and <strong>Professor</strong>. Here is code for them:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    @NotBlank(message = &quot;first name cannot be empty&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    @NotBlank(message = &quot;last name cannot be empty&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    @NotBlank(message = &quot;email cannot be empty&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    @NotBlank(message = &quot;password cannot be empty&quot;)\n    @Size(min = 8, max = 16)\n    private String password;\n}\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;professor&quot;)\npublic class Professor {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    @NotBlank(message = &quot;first name cannot be empty&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    @NotBlank(message = &quot;last name cannot be empty&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    @NotBlank(message = &quot;email cannot be empty&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    @NotBlank(message = &quot;password cannot be empty&quot;)\n    private String password;\n\n    @Column(name = &quot;phone_number&quot;)\n    @NotBlank(message = &quot;phone number cannot be empty&quot;)\n    private String phoneNumber;\n}\n</code></pre>\n<p>And i also have JpaRepositories for them.\nI don't understand how to add configuration and controller for login. I would be very grateful, if someone can help me with that</p>\n<p>I tried to find example for solve this problem, but i don't find. I was trying to do this using LoginUser like buffer that has email and password fields\n, but it's not actualy what i need, there is no spring security that i needed.\nHere is my Controller and my login-page:</p>\n<pre><code>@Controller\npublic class LoginControllerV2 {\n\n    StudentServiceImpl studentService;\n    ProfessorServiceImpl professorService;\n\n    @Autowired\n    public LoginControllerV2(StudentServiceImpl studentService, ProfessorServiceImpl professorService) {\n        this.studentService = studentService;\n        this.professorService = professorService;\n    }\n\n    @GetMapping(&quot;/login&quot;)\n    public String menuPage(Model model) {\n        model.addAttribute(&quot;loginUser&quot;, new LoginUser());\n        return &quot;login-page&quot;;\n    }\n\n    @PostMapping(&quot;/authenticateTheUser&quot;)\n    public String login(@ModelAttribute LoginUser loginUser, Model model) {\n\n        String page = &quot;&quot;;\n        String email = loginUser.getEmail();\n        String password = loginUser.getPassword();\n        \n        if(studentService.findStudentByEmailAndPassword(email, password)!=null){\n            Student student = studentService.findStudentByEmailAndPassword(email,password);\n            model.addAttribute(&quot;student&quot;, student);\n            page = &quot;student-menu&quot;;\n        } else if (professorService.findProfessorByEmailAndPassword(email, password)!=null){\n            Professor professor = professorService.findProfessorByEmailAndPassword(email,password);\n            model.addAttribute(&quot;professor&quot;, professor);\n            page = &quot;professor-menu&quot;;\n        } \n        return page;\n    }\n}\n</code></pre>\n<p>And my thymeleaf page was:</p>\n<pre><code>!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Login Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Login Page&lt;/h2&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/authenticateTheUser}&quot; th:object=&quot;${loginUser}&quot; method=&quot;POST&quot;&gt;\n    &lt;div&gt;\n        &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\n        &lt;input type=&quot;email&quot; id=&quot;email&quot; th:field=&quot;*{email}&quot; required /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\n        &lt;input type=&quot;password&quot; id=&quot;password&quot; th:field=&quot;*{password}&quot; required /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I think i need to create table Roles in database and create ManyToOne relashionship student-roles, professor-roles. But i don't know will it work and how to use it to configure spring security</p>\n"},{"tags":["java","parsing","javaparser"],"answers":[{"tags":[],"owner":{"account_id":9978925,"reputation":28,"user_id":7382493,"display_name":"devesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679660151,"creation_date":1679660151,"answer_id":75833535,"question_id":71798127,"body_markdown":"You can use ClassOrInterfaceDeclaration.addSingleMemberAnnotation(String name , String value) like below :\r\n\r\n    node.addSingleMemberAnnotation(&quot;Foo&quot;, &quot;\\&quot;/a/b/c\\&quot;&quot;);\r\n\r\n   \r\nYou can refer from this java doc :\r\nhttps://www.javadoc.io/doc/com.github.javaparser/javaparser-core/3.3.2/com/github/javaparser/ast/nodeTypes/NodeWithAnnotations.html#addSingleMemberAnnotation-java.lang.String-java.lang.String-\r\n","title":"JavaParser add Annotation with single value","body":"<p>You can use ClassOrInterfaceDeclaration.addSingleMemberAnnotation(String name , String value) like below :</p>\n<pre><code>node.addSingleMemberAnnotation(&quot;Foo&quot;, &quot;\\&quot;/a/b/c\\&quot;&quot;);\n</code></pre>\n<p>You can refer from this java doc :\n<a href=\"https://www.javadoc.io/doc/com.github.javaparser/javaparser-core/3.3.2/com/github/javaparser/ast/nodeTypes/NodeWithAnnotations.html#addSingleMemberAnnotation-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/com.github.javaparser/javaparser-core/3.3.2/com/github/javaparser/ast/nodeTypes/NodeWithAnnotations.html#addSingleMemberAnnotation-java.lang.String-java.lang.String-</a></p>\n"}],"owner":{"account_id":15873055,"reputation":39,"user_id":11453140,"display_name":"Djamaica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833535,"answer_count":1,"score":0,"last_activity_date":1679660151,"creation_date":1649425392,"question_id":71798127,"body_markdown":"I&#39;m tryng to parse a java file to add annotation to the classes.\r\nI have a class like\r\n\r\n    Class A{\r\n    }\r\n\r\nAnd i want it to become like\r\n\r\n    @Foo(Bar)\r\n    ClassA{\r\n    }\r\n\r\nAt the moment i&#39;m using a visitor with like:\r\n\r\n    public void visit(ClassOrInterfaceDeclaration n, Object arg){\r\n            n.addAnnotation(&quot;Foo&quot;);\r\n            SingleMemberAnnotationExpr expr=(SingleMemberAnnotationExpr)n.getAnnotation(0);\r\n        }\r\n\r\nNow i have the annotation but i don&#39;t get how you set the value","title":"JavaParser add Annotation with single value","body":"<p>I'm tryng to parse a java file to add annotation to the classes.\nI have a class like</p>\n<pre><code>Class A{\n}\n</code></pre>\n<p>And i want it to become like</p>\n<pre><code>@Foo(Bar)\nClassA{\n}\n</code></pre>\n<p>At the moment i'm using a visitor with like:</p>\n<pre><code>public void visit(ClassOrInterfaceDeclaration n, Object arg){\n        n.addAnnotation(&quot;Foo&quot;);\n        SingleMemberAnnotationExpr expr=(SingleMemberAnnotationExpr)n.getAnnotation(0);\n    }\n</code></pre>\n<p>Now i have the annotation but i don't get how you set the value</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","webdriverwait"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1569492816,"post_id":58114356,"comment_id":102618378,"body_markdown":"What is `objMap`?","body":"What is <code>objMap</code>?"},{"owner":{"account_id":7849365,"reputation":83,"user_id":5933293,"accept_rate":25,"display_name":"abhishek pandey"},"score":0,"creation_date":1569493290,"post_id":58114356,"comment_id":102618645,"body_markdown":"That was a call to our Object Map repository to fetch the Xpath","body":"That was a call to our Object Map repository to fetch the Xpath"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569493370,"creation_date":1569493370,"answer_id":58114704,"question_id":58114356,"body_markdown":"`ExpectedConditions.or` receives `ExpectedCondition`s as parameters. When you compare the result of `ExpectedConditions.jsReturnsValue` to a string you are changing the all expression to `boolean`.\r\n\r\nYou can create custom `ExpectedCondition` to warp it\r\n\r\n    public static ExpectedCondition&lt;Object&gt; customeJsReturnsValue(final String javaScript) {\r\n        return new ExpectedCondition&lt;Object&gt;() {\r\n            @Override\r\n            public Object apply(WebDriver driver) {\r\n                return ExpectedConditions.jsReturnsValue(&quot;return Spotfire.Busy.idle()&quot;)).equals(&quot;true&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nUses:\r\n\r\n    new WebDriverWait(driver.getDriver(),30).until(\r\n        ExpectedConditions.or(\r\n            customeJsReturnsValue(&quot;return document.ReadyState&quot;)).equals(&quot;complete&quot;),\r\n            ExpectedConditions.visibilityOfElementLocated(driver.findElement(By.Id(&quot;name&quot;))\r\n        )\r\n    );","title":"The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)","body":"<p><code>ExpectedConditions.or</code> receives <code>ExpectedCondition</code>s as parameters. When you compare the result of <code>ExpectedConditions.jsReturnsValue</code> to a string you are changing the all expression to <code>boolean</code>.</p>\n\n<p>You can create custom <code>ExpectedCondition</code> to warp it</p>\n\n<pre><code>public static ExpectedCondition&lt;Object&gt; customeJsReturnsValue(final String javaScript) {\n    return new ExpectedCondition&lt;Object&gt;() {\n        @Override\n        public Object apply(WebDriver driver) {\n            return ExpectedConditions.jsReturnsValue(\"return Spotfire.Busy.idle()\")).equals(\"true\")\n        }\n    }\n}\n</code></pre>\n\n<p>Uses:</p>\n\n<pre><code>new WebDriverWait(driver.getDriver(),30).until(\n    ExpectedConditions.or(\n        customeJsReturnsValue(\"return document.ReadyState\")).equals(\"complete\"),\n        ExpectedConditions.visibilityOfElementLocated(driver.findElement(By.Id(\"name\"))\n    )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569507324,"creation_date":1569497117,"answer_id":58115779,"question_id":58114356,"body_markdown":"jsReturnsValue()\r\n----------------\r\nThe _ExpectedConditions_ of [`jsReturnsValue()`](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#jsReturnsValue-java.lang.String-) returns an _Object_ and is defined as:\r\n\r\n\tpublic static ExpectedCondition&lt;java.lang.Object&gt; jsReturnsValue(java.lang.String javaScript)\r\n\r\n\tAn expectation for String value from javascript\r\n\r\n\tParameters:\r\n\t\tjavaScript - as executable js line\r\n\r\n\tReturns:\r\n\t\ttrue once js return string\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\nvisibilityOfElementLocated()\r\n----------------------------\r\nThe _ExpectedConditions_ of [`visibilityOfElementLocated()`](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-) returns the _WebElement_ and is defined as:\r\n\r\n\tpublic static ExpectedCondition&lt;WebElement&gt; visibilityOfElementLocated(By locator)\r\n\r\n\tAn expectation for checking that an element is present on the DOM of a page and visible. Visibility means that the element is not only displayed but also has a height and width that is greater than 0.\r\n\r\n\tParameters:\r\n\tlocator - used to find the element\r\n\r\n\tReturns:\r\n\tthe WebElement once it is located and visible\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nThis error message...\r\n\r\n\tThe method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait&lt;WebDriver&gt; is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)\r\n\t\r\n...implies that the `until()` is not appplicable for multiple return types `boolean` and `WebElement`. \r\n\r\nIn your usecase,\r\n\r\n- `jsReturnsValue()` returns an _Object_.\r\n- `visibilityOfElementLocated()` returns a _WebElement_.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nIf you your _usecase_ is about the visibility of a certain _WebElement_ you can safely ignore the concern for **&#39;document.readyState&#39; equal to &quot;complete&quot;** as it would be an overhead. You can find a relevant discussion in [Selenium IE WebDriver only works while debugging](https://stackoverflow.com/questions/47709234/selenium-ie-webdriver-only-works-while-debugging/47710701#47710701).\r\n\r\nHowever, to use the `until()` for the `visibilityOfElementLocated()` for multiple element of similar type of data types you can follow the below example:\r\n\r\n- Waiting for either of the elements among `By.xpath(&quot;//span[@id=&#39;id1&#39;]&quot;)` or `By.xpath(&quot;//span[@id=&#39;id2&#39;]&quot;)` be like:\r\n\r\n\t\tnew WebDriverWait(driver, 10).until(ExpectedConditions.or(\r\n\t\t    ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@id=&#39;id1&#39;]&quot;)),\r\n\t\t    ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@id=&#39;id2&#39;]&quot;))\r\n\t\t));\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in \r\n\r\n- [How to extract dynamic text from multiple child nodes within the html through getText()](https://stackoverflow.com/questions/51034819/how-to-extract-dynamic-text-from-multiple-child-nodes-within-the-html-through-ge/51035034#51035034)\r\n- [How to wait for either of the two elements in the page using selenium xpath](https://stackoverflow.com/questions/45166181/how-to-wait-for-either-of-the-two-elements-in-the-page-using-selenium-xpath/45170764#45170764)\r\n\r\n\r\n----------\r\n\r\n\r\nOutro\r\n-----\r\n[Do we have any generic function to check if page has completely loaded in Selenium](https://stackoverflow.com/questions/50327132/do-we-have-any-generic-function-to-check-if-page-has-completely-loaded-in-seleni/50329056#50329056)","title":"The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)","body":"<h2>jsReturnsValue()</h2>\n\n<p>The <em>ExpectedConditions</em> of <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#jsReturnsValue-java.lang.String-\" rel=\"nofollow noreferrer\"><code>jsReturnsValue()</code></a> returns an <em>Object</em> and is defined as:</p>\n\n<pre><code>public static ExpectedCondition&lt;java.lang.Object&gt; jsReturnsValue(java.lang.String javaScript)\n\nAn expectation for String value from javascript\n\nParameters:\n    javaScript - as executable js line\n\nReturns:\n    true once js return string\n</code></pre>\n\n<hr>\n\n<h2>visibilityOfElementLocated()</h2>\n\n<p>The <em>ExpectedConditions</em> of <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-\" rel=\"nofollow noreferrer\"><code>visibilityOfElementLocated()</code></a> returns the <em>WebElement</em> and is defined as:</p>\n\n<pre><code>public static ExpectedCondition&lt;WebElement&gt; visibilityOfElementLocated(By locator)\n\nAn expectation for checking that an element is present on the DOM of a page and visible. Visibility means that the element is not only displayed but also has a height and width that is greater than 0.\n\nParameters:\nlocator - used to find the element\n\nReturns:\nthe WebElement once it is located and visible\n</code></pre>\n\n<hr>\n\n<p>This error message...</p>\n\n<pre><code>The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait&lt;WebDriver&gt; is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)\n</code></pre>\n\n<p>...implies that the <code>until()</code> is not appplicable for multiple return types <code>boolean</code> and <code>WebElement</code>. </p>\n\n<p>In your usecase,</p>\n\n<ul>\n<li><code>jsReturnsValue()</code> returns an <em>Object</em>.</li>\n<li><code>visibilityOfElementLocated()</code> returns a <em>WebElement</em>.</li>\n</ul>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>If you your <em>usecase</em> is about the visibility of a certain <em>WebElement</em> you can safely ignore the concern for <strong>'document.readyState' equal to \"complete\"</strong> as it would be an overhead. You can find a relevant discussion in <a href=\"https://stackoverflow.com/questions/47709234/selenium-ie-webdriver-only-works-while-debugging/47710701#47710701\">Selenium IE WebDriver only works while debugging</a>.</p>\n\n<p>However, to use the <code>until()</code> for the <code>visibilityOfElementLocated()</code> for multiple element of similar type of data types you can follow the below example:</p>\n\n<ul>\n<li><p>Waiting for either of the elements among <code>By.xpath(\"//span[@id='id1']\")</code> or <code>By.xpath(\"//span[@id='id2']\")</code> be like:</p>\n\n<pre><code>new WebDriverWait(driver, 10).until(ExpectedConditions.or(\n    ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//span[@id='id1']\")),\n    ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//span[@id='id2']\"))\n));\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of relevant detailed discussions in </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51034819/how-to-extract-dynamic-text-from-multiple-child-nodes-within-the-html-through-ge/51035034#51035034\">How to extract dynamic text from multiple child nodes within the html through getText()</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45166181/how-to-wait-for-either-of-the-two-elements-in-the-page-using-selenium-xpath/45170764#45170764\">How to wait for either of the two elements in the page using selenium xpath</a></li>\n</ul>\n\n<hr>\n\n<h2>Outro</h2>\n\n<p><a href=\"https://stackoverflow.com/questions/50327132/do-we-have-any-generic-function-to-check-if-page-has-completely-loaded-in-seleni/50329056#50329056\">Do we have any generic function to check if page has completely loaded in Selenium</a></p>\n"},{"tags":[],"owner":{"account_id":28114062,"reputation":1,"user_id":21481421,"display_name":"snehasish panda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679659973,"creation_date":1679659973,"answer_id":75833504,"question_id":58114356,"body_markdown":"Just add the selenium dependency in the pom.xml and the error is gone.\r\n\r\n         &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)","body":"<p>Just add the selenium dependency in the pom.xml and the error is gone.</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7849365,"reputation":83,"user_id":5933293,"accept_rate":25,"display_name":"abhishek pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679659973,"creation_date":1569492267,"question_id":58114356,"body_markdown":"I have been given two conditions based on which the webdriver needs to wait for either of the conditions to fulfill before moving ahead with execution. I am using Explicit wait along with `ExpectedConditions.or` for this purpose.\r\n\r\nI tried using the below code:\r\n\t\t\t\t\r\n    new WebDriverWait(driver.getDriver(),30).until(\r\n        ExpectedConditions.or(\r\n            ExpectedConditions.jsReturnsValue(&quot;return document.ReadyState&quot;)).equals(&quot;complete&quot;),\t\r\n            ExpectedConditions.visibilityOfElementLocated(driver.findElement(By.Id(&quot;name&quot;))\r\n        )\r\n    );\r\n\r\nI am getting the Error: \r\n\r\n    The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait&lt;WebDriver&gt; is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)\r\n\r\nPlease note that I am using Guava 23.0 and its already added as a dependency in my pom.xml","title":"The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)","body":"<p>I have been given two conditions based on which the webdriver needs to wait for either of the conditions to fulfill before moving ahead with execution. I am using Explicit wait along with <code>ExpectedConditions.or</code> for this purpose.</p>\n\n<p>I tried using the below code:</p>\n\n<pre><code>new WebDriverWait(driver.getDriver(),30).until(\n    ExpectedConditions.or(\n        ExpectedConditions.jsReturnsValue(\"return document.ReadyState\")).equals(\"complete\"),    \n        ExpectedConditions.visibilityOfElementLocated(driver.findElement(By.Id(\"name\"))\n    )\n);\n</code></pre>\n\n<p>I am getting the Error: </p>\n\n<pre><code>The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait&lt;WebDriver&gt; is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)\n</code></pre>\n\n<p>Please note that I am using Guava 23.0 and its already added as a dependency in my pom.xml</p>\n"},{"tags":["java","android","database","search","navigation"],"owner":{"account_id":27015033,"reputation":1,"user_id":20574037,"display_name":"Caolan Reilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679659597,"creation_date":1679659597,"question_id":75833460,"body_markdown":"I am looking to create a public transport route planner app on android studio. I have created a database that lists all the routes with the stops in each route and the stop sequence number.\r\n[Database](https://i.stack.imgur.com/KXqIR.png)\r\n\r\nI am looking to implement a search in the app where the user selects a source and destination stop which then searches the database and shows the routes availble that serves these stops. I&#39;m wondering what the best approach for implementing this on Android Studio is?\r\n\r\nI have added the database file to my assets folder and have read in the database in list view. I now just need to implement a search function with two select boxes preferably.","title":"Android Studio: Public Transport route navigation search using SQLITE DB","body":"<p>I am looking to create a public transport route planner app on android studio. I have created a database that lists all the routes with the stops in each route and the stop sequence number.\n<a href=\"https://i.stack.imgur.com/KXqIR.png\" rel=\"nofollow noreferrer\">Database</a></p>\n<p>I am looking to implement a search in the app where the user selects a source and destination stop which then searches the database and shows the routes availble that serves these stops. I'm wondering what the best approach for implementing this on Android Studio is?</p>\n<p>I have added the database file to my assets folder and have read in the database in list view. I now just need to implement a search function with two select boxes preferably.</p>\n"},{"tags":["java","android","push-notification"],"comments":[{"owner":{"account_id":3186446,"reputation":472,"user_id":4527472,"accept_rate":0,"display_name":"BHARAT GUPTA"},"score":0,"creation_date":1514886802,"post_id":46019496,"comment_id":83089739,"body_markdown":"did you make the default notification sound mute? i am also facing same problem. i dont want to play any tone on notification with  NotificationManager.IMPORTANCE_MAX. Can you please help me in this.","body":"did you make the default notification sound mute? i am also facing same problem. i dont want to play any tone on notification with  NotificationManager.IMPORTANCE_MAX. Can you please help me in this."},{"owner":{"account_id":990008,"reputation":1411,"user_id":1007583,"accept_rate":70,"display_name":"Rodrigo Manguinho"},"score":0,"creation_date":1526937381,"post_id":46019496,"comment_id":87926916,"body_markdown":"The only way i got this to work was with RingtoneManager, but I removed it from my code. With RingtoneManager users can&#39;t mute notifications. My app is using the default sound on Android 8. I still don&#39;t know how to make custom sound work with channels.","body":"The only way i got this to work was with RingtoneManager, but I removed it from my code. With RingtoneManager users can&#39;t mute notifications. My app is using the default sound on Android 8. I still don&#39;t know how to make custom sound work with channels."}],"answers":[{"tags":[],"owner":{"account_id":113242,"reputation":8326,"user_id":298345,"display_name":"Paweł Nadolski"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1504885124,"creation_date":1504885124,"answer_id":46120056,"question_id":46019496,"body_markdown":"You may have created the channel originally with default sound. Once channel is created it cannot be changed. You need to either reinstall the app or create channel with new channel ID.","title":"Notification sound on API 26","body":"<p>You may have created the channel originally with default sound. Once channel is created it cannot be changed. You need to either reinstall the app or create channel with new channel ID.</p>\n"},{"tags":[],"owner":{"account_id":9336759,"reputation":4466,"user_id":6930719,"accept_rate":50,"display_name":"Fakhriddin Abdullaev"},"down_vote_count":6,"up_vote_count":22,"is_accepted":false,"score":16,"last_activity_date":1505290243,"creation_date":1505290243,"answer_id":46192246,"question_id":46019496,"body_markdown":"I used RingtoneManager, and it is work for me. Try thius code:\r\n\r\n     NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this);\r\n        builder.setSmallIcon(android.R.drawable.ic_dialog_alert);\r\n        Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://www.google.com/&quot;));\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.this, 0, intent, 0);\r\n        builder.setContentIntent(pendingIntent);\r\n        builder.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher));\r\n        builder.setContentTitle(&quot;Notification title&quot;);\r\n        builder.setContentText(&quot;Notification message.&quot;);\r\n        builder.setSubText(&quot;Url link.&quot;);\r\n\r\n        try {\r\n            Uri notification = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.custom_ringtone);\r\n            Ringtone r = RingtoneManager.getRingtone(getApplicationContext(), notification);\r\n            r.play();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        NotificationManager notificationManager = (NotificationManager) this.getSystemService(NOTIFICATION_SERVICE);\r\n        notificationManager.notify(1, builder.build());","title":"Notification sound on API 26","body":"<p>I used RingtoneManager, and it is work for me. Try thius code:</p>\n\n<pre><code> NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this);\n    builder.setSmallIcon(android.R.drawable.ic_dialog_alert);\n    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(\"http://www.google.com/\"));\n    PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.this, 0, intent, 0);\n    builder.setContentIntent(pendingIntent);\n    builder.setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher));\n    builder.setContentTitle(\"Notification title\");\n    builder.setContentText(\"Notification message.\");\n    builder.setSubText(\"Url link.\");\n\n    try {\n        Uri notification = Uri.parse(\"android.resource://\" + getPackageName() + \"/\" + R.raw.custom_ringtone);\n        Ringtone r = RingtoneManager.getRingtone(getApplicationContext(), notification);\n        r.play();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    NotificationManager notificationManager = (NotificationManager) this.getSystemService(NOTIFICATION_SERVICE);\n    notificationManager.notify(1, builder.build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8363224,"reputation":536,"user_id":6280796,"accept_rate":40,"display_name":"Towfik Alrazihi"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1517411867,"creation_date":1505379349,"answer_id":46214659,"question_id":46019496,"body_markdown":"The default sound overrides any sound.\r\n\r\nYou need to put this in your code:\r\n\r\n    notification.defaults = Notification.DEFAULT_LIGHTS | Notification.DEFAULT_VIBRATE;\r\n\r\nReference:\r\n\r\n[Android notifications][1]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/notifiers/notifications.html","title":"Notification sound on API 26","body":"<p>The default sound overrides any sound.</p>\n\n<p>You need to put this in your code:</p>\n\n<pre><code>notification.defaults = Notification.DEFAULT_LIGHTS | Notification.DEFAULT_VIBRATE;\n</code></pre>\n\n<p>Reference:</p>\n\n<p><a href=\"https://developer.android.com/guide/topics/ui/notifiers/notifications.html\" rel=\"nofollow noreferrer\">Android notifications</a></p>\n"},{"tags":[],"owner":{"account_id":2755843,"reputation":87,"user_id":2373951,"accept_rate":0,"display_name":"Chris"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1508418040,"creation_date":1508418040,"answer_id":46830503,"question_id":46019496,"body_markdown":"In Oreo you need to create a channel for that.\r\nhttps://developer.android.com/reference/android/app/NotificationChannel.html","title":"Notification sound on API 26","body":"<p>In Oreo you need to create a channel for that.\n<a href=\"https://developer.android.com/reference/android/app/NotificationChannel.html\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/NotificationChannel.html</a></p>\n"},{"tags":[],"owner":{"account_id":875840,"reputation":6908,"user_id":925504,"accept_rate":69,"display_name":"Nolesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523509473,"creation_date":1523509473,"answer_id":49788363,"question_id":46019496,"body_markdown":"In addition to the Faxriddin&#39;s answer you can determine when you should to turn off the notification sound by checking the `importance of the notification channel` and `are enabled notifications` parameters.\r\n\r\n    NotificationChannel channel = notificationManager.getNotificationChannel(NOTIFICATION_CHANNEL_ID);\r\n    if(notificationManager.areNotificationsEnabled() &amp;&amp; channel.getImportance() != NotificationManager.IMPORTANCE_NONE) {\r\n      try {\r\n         Ringtone r = RingtoneManager.getRingtone(ctx, soundUri);\r\n         r.play();\r\n      } catch (Exception e) { }\r\n    }","title":"Notification sound on API 26","body":"<p>In addition to the Faxriddin's answer you can determine when you should to turn off the notification sound by checking the <code>importance of the notification channel</code> and <code>are enabled notifications</code> parameters.</p>\n\n<pre><code>NotificationChannel channel = notificationManager.getNotificationChannel(NOTIFICATION_CHANNEL_ID);\nif(notificationManager.areNotificationsEnabled() &amp;&amp; channel.getImportance() != NotificationManager.IMPORTANCE_NONE) {\n  try {\n     Ringtone r = RingtoneManager.getRingtone(ctx, soundUri);\n     r.play();\n  } catch (Exception e) { }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14460644,"reputation":2287,"user_id":10445540,"display_name":"Artem Botnev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559591585,"creation_date":1559591585,"answer_id":56433730,"question_id":46019496,"body_markdown":"I&#39;ve been developing app with similar functionality. And as mentioned Paweł Nadolski we have to recreate channel each time to change ringtone. For this I wrote helper. Hope it can help someone.\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    object ChannelHelper {\r\n        // channel id for 8.0 OS version and higher\r\n        private const val OREO_CHANNEL_ID = &quot;com.ar.app.notifications&quot;\r\n        private const val CHANNEL_ID_PREF = &quot;com.ar.app.notifications_prefs&quot;\r\n\r\n        @JvmStatic\r\n        fun createChannel(context: Context, playSound: Boolean, isVibrated: Boolean, uri: Uri) {\r\n            // establish name and importance of channel\r\n            val name = context.getString(R.string.main_channel_name)\r\n            val importance = if (playSound) {\r\n                NotificationManager.IMPORTANCE_DEFAULT\r\n            } else {\r\n                NotificationManager.IMPORTANCE_LOW\r\n            }\r\n\r\n            // create channel\r\n            val channelId = OREO_CHANNEL_ID + UUID.randomUUID().toString()\r\n            saveChannelId(context, channelId)\r\n\r\n            val channel = NotificationChannel(channelId, name, importance).apply {\r\n                enableLights(true)\r\n                lightColor = Color.GREEN\r\n\r\n                lockscreenVisibility = Notification.VISIBILITY_PUBLIC\r\n\r\n                // add vibration\r\n                enableVibration(isVibrated)\r\n                vibrationPattern = longArrayOf(0L, 300L, 300L, 300L)\r\n\r\n                // add sound\r\n                val attr = AudioAttributes.Builder()\r\n                        .setUsage(AudioAttributes.USAGE_NOTIFICATION_RINGTONE)\r\n                        .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                        .build()\r\n  \r\n                setSound(uri, attr)\r\n            }\r\n  \r\n            // register the channel in the system\r\n            val notificationManager = context.getSystemService(NotificationManager::class.java)\r\n            notificationManager.createNotificationChannel(channel)\r\n        }\r\n\r\n        @JvmStatic\r\n        fun rebuildChannel(context: Context, playSound: Boolean, isVibrated: Boolean, uri: Uri) {\r\n            val notificationManager = context.getSystemService(NOTIFICATION_SERVICE)\r\n                    as NotificationManager\r\n            notificationManager.deleteNotificationChannel(\r\n                getChannelId(context) ?: OREO_CHANNEL_ID\r\n            )\r\n\r\n            createChannel(context, playSound, isVibrated, uri)\r\n        }\r\n\r\n        @JvmStatic\r\n        fun getChannel(context: Context): NotificationChannel? {\r\n            val notificationManager = context.getSystemService(NOTIFICATION_SERVICE)\r\n                    as NotificationManager\r\n\r\n            return notificationManager.getNotificationChannel(\r\n                    getChannelId(context) ?: OREO_CHANNEL_ID\r\n            )\r\n        }\r\n\r\n        @JvmStatic\r\n        fun isChannelAlreadyExist(context: Context) = getChannel(context) != null\r\n\r\n        @JvmStatic\r\n        fun getChannelId(context: Context) =\r\n                PreferenceManager.getDefaultSharedPreferences(context)\r\n                        .getString(CHANNEL_ID_PREF, OREO_CHANNEL_ID)\r\n\r\n        private fun saveChannelId(context: Context, channelId: String) =\r\n                PreferenceManager.getDefaultSharedPreferences(context)\r\n                        .edit()\r\n                        .putString(CHANNEL_ID_PREF, channelId)\r\n                        .apply()\r\n    }\r\n\r\n","title":"Notification sound on API 26","body":"<p>I've been developing app with similar functionality. And as mentioned Paweł Nadolski we have to recreate channel each time to change ringtone. For this I wrote helper. Hope it can help someone.</p>\n\n<pre><code>@RequiresApi(Build.VERSION_CODES.O)\nobject ChannelHelper {\n    // channel id for 8.0 OS version and higher\n    private const val OREO_CHANNEL_ID = \"com.ar.app.notifications\"\n    private const val CHANNEL_ID_PREF = \"com.ar.app.notifications_prefs\"\n\n    @JvmStatic\n    fun createChannel(context: Context, playSound: Boolean, isVibrated: Boolean, uri: Uri) {\n        // establish name and importance of channel\n        val name = context.getString(R.string.main_channel_name)\n        val importance = if (playSound) {\n            NotificationManager.IMPORTANCE_DEFAULT\n        } else {\n            NotificationManager.IMPORTANCE_LOW\n        }\n\n        // create channel\n        val channelId = OREO_CHANNEL_ID + UUID.randomUUID().toString()\n        saveChannelId(context, channelId)\n\n        val channel = NotificationChannel(channelId, name, importance).apply {\n            enableLights(true)\n            lightColor = Color.GREEN\n\n            lockscreenVisibility = Notification.VISIBILITY_PUBLIC\n\n            // add vibration\n            enableVibration(isVibrated)\n            vibrationPattern = longArrayOf(0L, 300L, 300L, 300L)\n\n            // add sound\n            val attr = AudioAttributes.Builder()\n                    .setUsage(AudioAttributes.USAGE_NOTIFICATION_RINGTONE)\n                    .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n                    .build()\n\n            setSound(uri, attr)\n        }\n\n        // register the channel in the system\n        val notificationManager = context.getSystemService(NotificationManager::class.java)\n        notificationManager.createNotificationChannel(channel)\n    }\n\n    @JvmStatic\n    fun rebuildChannel(context: Context, playSound: Boolean, isVibrated: Boolean, uri: Uri) {\n        val notificationManager = context.getSystemService(NOTIFICATION_SERVICE)\n                as NotificationManager\n        notificationManager.deleteNotificationChannel(\n            getChannelId(context) ?: OREO_CHANNEL_ID\n        )\n\n        createChannel(context, playSound, isVibrated, uri)\n    }\n\n    @JvmStatic\n    fun getChannel(context: Context): NotificationChannel? {\n        val notificationManager = context.getSystemService(NOTIFICATION_SERVICE)\n                as NotificationManager\n\n        return notificationManager.getNotificationChannel(\n                getChannelId(context) ?: OREO_CHANNEL_ID\n        )\n    }\n\n    @JvmStatic\n    fun isChannelAlreadyExist(context: Context) = getChannel(context) != null\n\n    @JvmStatic\n    fun getChannelId(context: Context) =\n            PreferenceManager.getDefaultSharedPreferences(context)\n                    .getString(CHANNEL_ID_PREF, OREO_CHANNEL_ID)\n\n    private fun saveChannelId(context: Context, channelId: String) =\n            PreferenceManager.getDefaultSharedPreferences(context)\n                    .edit()\n                    .putString(CHANNEL_ID_PREF, channelId)\n                    .apply()\n}\n</code></pre>\n"}],"owner":{"account_id":990008,"reputation":1411,"user_id":1007583,"accept_rate":70,"display_name":"Rodrigo Manguinho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27191,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":6,"score":34,"last_activity_date":1679659510,"creation_date":1504401717,"question_id":46019496,"body_markdown":"I have a custom mp3 sound that I use on my notifications. It works fine on all devices below API 26. I tried to set the sound on Notification Channel also, but still no work. It plays the default sound.\r\n\r\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channelId)\r\n                .setAutoCancel(true)\r\n                .setSmallIcon(R.drawable.icon_push)\r\n                .setColor(ContextCompat.getColor(this, R.color.green))\r\n                .setContentTitle(title)\r\n                .setSound(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.notification))\r\n                .setDefaults(Notification.DEFAULT_VIBRATE)\r\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\r\n                .setContentText(message);\r\n            Notification notification = builder.build();\r\n            NotificationManager notificationManager = (NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n                NotificationChannel channel = new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_DEFAULT);\r\n                AudioAttributes audioAttributes = new AudioAttributes.Builder()\r\n                        .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\r\n                        .setUsage(AudioAttributes.USAGE_NOTIFICATION_RINGTONE)\r\n                        .build();\r\n                channel.setSound(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.notification), audioAttributes);\r\n                notificationManager.createNotificationChannel(channel);\r\n            }\r\n            notificationManager.notify(1, notification);","title":"Notification sound on API 26","body":"<p>I have a custom mp3 sound that I use on my notifications. It works fine on all devices below API 26. I tried to set the sound on Notification Channel also, but still no work. It plays the default sound.</p>\n\n<pre><code>NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channelId)\n            .setAutoCancel(true)\n            .setSmallIcon(R.drawable.icon_push)\n            .setColor(ContextCompat.getColor(this, R.color.green))\n            .setContentTitle(title)\n            .setSound(Uri.parse(\"android.resource://\" + getPackageName() + \"/\" + R.raw.notification))\n            .setDefaults(Notification.DEFAULT_VIBRATE)\n            .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\n            .setContentText(message);\n        Notification notification = builder.build();\n        NotificationManager notificationManager = (NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(channelId, channelName, NotificationManager.IMPORTANCE_DEFAULT);\n            AudioAttributes audioAttributes = new AudioAttributes.Builder()\n                    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)\n                    .setUsage(AudioAttributes.USAGE_NOTIFICATION_RINGTONE)\n                    .build();\n            channel.setSound(Uri.parse(\"android.resource://\" + getPackageName() + \"/\" + R.raw.notification), audioAttributes);\n            notificationManager.createNotificationChannel(channel);\n        }\n        notificationManager.notify(1, notification);\n</code></pre>\n"},{"tags":["java","spring","internationalization","spring-cloud","spring-internationalization"],"owner":{"account_id":28113710,"reputation":1,"user_id":21481116,"display_name":"sarah2023"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679659440,"creation_date":1679659440,"question_id":75833433,"body_markdown":"Our Spring application gets configuration from a **private** git repository as shown in the following example application.yml:\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          uri: git:si/config-repo.git\r\n          search-paths: &#39;{application}&#39;\r\n          default-label: master\r\n```\r\n\r\nWe would like to move our language resources (messages_en.properties,messages_fr.properties,...) inside this configuration repo but we don&#39;t know how to link them to our application\r\n\r\nThis is our messageSource class :\r\n\r\n```\r\n@Bean(name = &quot;messageSource&quot;)\r\n\tpublic ReloadableResourceBundleMessageSource messageSource() {\r\n\t\t\r\n\t\tReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n\t\tmessageSource.setUseCodeAsDefaultMessage(false);\r\n\t\tmessageSource.setBasenames(&quot;classpath:messages&quot;);\r\n\t\tmessageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n\t\tmessageSource.setCacheSeconds(-1);\r\n\t\treturn messageSource;\r\n\t}\r\n```","title":"How to use config server to serve resource bundles to micro services?","body":"<p>Our Spring application gets configuration from a <strong>private</strong> git repository as shown in the following example application.yml:</p>\n<pre><code>spring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: git:si/config-repo.git\n          search-paths: '{application}'\n          default-label: master\n</code></pre>\n<p>We would like to move our language resources (messages_en.properties,messages_fr.properties,...) inside this configuration repo but we don't know how to link them to our application</p>\n<p>This is our messageSource class :</p>\n<pre><code>@Bean(name = &quot;messageSource&quot;)\n    public ReloadableResourceBundleMessageSource messageSource() {\n        \n        ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n        messageSource.setUseCodeAsDefaultMessage(false);\n        messageSource.setBasenames(&quot;classpath:messages&quot;);\n        messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n        messageSource.setCacheSeconds(-1);\n        return messageSource;\n    }\n</code></pre>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":21427599,"reputation":1585,"user_id":15784650,"display_name":"Jonathan Steele"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679659364,"creation_date":1679659364,"answer_id":75833422,"question_id":75833225,"body_markdown":"```java\r\nSubscription subscription =\r\n  Subscription.retrieve(\r\n    &quot;sub_xxx&quot;\r\n  );\r\n\r\nparams.put(&quot;prorate&quot;, true);\r\n\r\nSubscription deletedSubscription =\r\n  subscription.cancel(params);\r\n```","title":"How to prorate a Stripe subscription before cancellation","body":"<pre class=\"lang-java prettyprint-override\"><code>Subscription subscription =\n  Subscription.retrieve(\n    &quot;sub_xxx&quot;\n  );\n\nparams.put(&quot;prorate&quot;, true);\n\nSubscription deletedSubscription =\n  subscription.cancel(params);\n</code></pre>\n"}],"owner":{"account_id":4622825,"reputation":141,"user_id":3747396,"accept_rate":71,"display_name":"user3747396"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833422,"answer_count":1,"score":0,"last_activity_date":1679659364,"creation_date":1679658190,"question_id":75833225,"body_markdown":"I would like to know how to prorate the unused amount of a Stripe subscription when cancelling the subscription immediately. While I went through the Stripe docs [here][1], the Java example doesn&#39;t specify how to pass proration params.\r\n\r\n\r\n  [1]: https://stripe.com/docs/api/subscriptions/cancel","title":"How to prorate a Stripe subscription before cancellation","body":"<p>I would like to know how to prorate the unused amount of a Stripe subscription when cancelling the subscription immediately. While I went through the Stripe docs <a href=\"https://stripe.com/docs/api/subscriptions/cancel\" rel=\"nofollow noreferrer\">here</a>, the Java example doesn't specify how to pass proration params.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1679660048,"post_id":75833395,"comment_id":133765012,"body_markdown":"This seems like two separate POJO classes to me (perhaps with a common interface / base class)","body":"This seems like two separate POJO classes to me (perhaps with a common interface / base class)"}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679659250,"creation_date":1679659250,"question_id":75833395,"body_markdown":"My question is about a POJO that differs in different environments, I want to get the environment value from a config table in my database, if the value is env1 the POJO will be like this:\r\n\r\n    class MyObject {\r\n      int knownField;\r\n      String myField;\r\n    }\r\n\r\nand if the value is env2 the POJO will be like this:\r\n\r\n    class MyObject{\r\n      int knownField;\r\n      CustomObject myField;\r\n    \r\n      public class CustomObject{\r\n        String value;\r\n      }\r\n    }\r\n\r\nI found this [question][1] which may help but it will work for a situation where `myField` in both POJOs have the same type. But in my question, it will have different types. How can I use the solution for my situation?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39156293/jackson-deserialize-extra-fields-as-map","title":"custom field in POJO for different environments","body":"<p>My question is about a POJO that differs in different environments, I want to get the environment value from a config table in my database, if the value is env1 the POJO will be like this:</p>\n<pre><code>class MyObject {\n  int knownField;\n  String myField;\n}\n</code></pre>\n<p>and if the value is env2 the POJO will be like this:</p>\n<pre><code>class MyObject{\n  int knownField;\n  CustomObject myField;\n\n  public class CustomObject{\n    String value;\n  }\n}\n</code></pre>\n<p>I found this <a href=\"https://stackoverflow.com/questions/39156293/jackson-deserialize-extra-fields-as-map\">question</a> which may help but it will work for a situation where <code>myField</code> in both POJOs have the same type. But in my question, it will have different types. How can I use the solution for my situation?</p>\n"},{"tags":["java","jenkins","jenkins-build-flow"],"answers":[{"tags":[],"owner":{"account_id":27385236,"reputation":23,"user_id":20889195,"display_name":"Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679659220,"creation_date":1679643308,"answer_id":75831002,"question_id":75830922,"body_markdown":"Problem Resolved.\r\n\r\nI edit the Build file\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd change the batch file as below\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**d:**\r\n\r\n**cd \\AWS_Assingnment\\jenkins_assingnment\\Java_Project**\r\n\r\n**javac Hello.java**\r\n\r\n**java Hello**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VjCmf.png\r\n  [2]: https://i.stack.imgur.com/Ey81x.png\r\n  [3]: https://i.stack.imgur.com/IY53j.png","title":"Execute Windows batch command in Jenkins for Java Program","body":"<p>Problem Resolved.</p>\n<p>I edit the Build file\n<a href=\"https://i.stack.imgur.com/VjCmf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VjCmf.png\" alt=\"enter image description here\" /></a></p>\n<p>And change the batch file as below</p>\n<p><a href=\"https://i.stack.imgur.com/Ey81x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ey81x.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>d:</strong></p>\n<p><strong>cd \\AWS_Assingnment\\jenkins_assingnment\\Java_Project</strong></p>\n<p><strong>javac Hello.java</strong></p>\n<p><strong>java Hello</strong></p>\n<p><a href=\"https://i.stack.imgur.com/IY53j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IY53j.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27385236,"reputation":23,"user_id":20889195,"display_name":"Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679659220,"creation_date":1679642476,"question_id":75830922,"body_markdown":"I am facing error when creating a Build on Jenkins.\r\nFollowing are the steps i have done.\r\n\r\n**Step1:**\r\n1) Create Folder\r\n   &quot;Java_Project&quot;\r\n\r\n2) Create File\r\n&quot;Hello.Java&quot;\r\n\r\n        public class Hello {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            for (int i = 1; i &lt;= 5; i++) {\r\n    \r\n                System.out.println(&quot;Hellow World...&quot; + i);\r\n    \r\n            }\r\n        }}\r\n    \r\n\r\n**Step2**\r\n\r\n1) Go to my CMD and type below commands.\r\n\r\na) **javac Hello.java**\r\n\r\nb) **Java Hello**\r\n\r\nand it print below result successfully.\r\n\r\nD:\\AWS_Assingnment\\jenkins_assingnment\\Java_Project&gt;java Hello\r\n      \r\nHellow World...1\r\n\r\nHellow World...2\r\n\r\nHellow World...3\r\n\r\nHellow World...4\r\n\r\nHellow World...5\r\n\r\n**Step 3**\r\n\r\nNow i go to my Jenkins and create a simple Build as follows.\r\nFig 1\r\n[![enter image description here][1]][1]\r\nFig 2\r\n[![enter image description here][2]][2]\r\nFig3 **I AM ON WINDOWS**\r\n[![enter image description here][3]][3]\r\n**Enter Below Commands**\r\n\r\n**cd d:\\AWS_Assingnment\\jenkins_assingnment\\Java_Project**\r\n\r\n**javac Hello.java**\r\n\r\n**java Hello**\r\n\r\nFig4\r\n[![enter image description here][4]][4]\r\n\r\n\r\n**Step 4**\r\nCreate Build\r\nFig 5\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**I AM FACING BELOW ERROR**\r\n---------------------------\r\n[![enter image description here][6]][6]\r\n\r\nGurus, Your Kind Support is needed.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hoOSD.png\r\n  [2]: https://i.stack.imgur.com/vqqt7.png\r\n  [3]: https://i.stack.imgur.com/D1tzy.png\r\n  [4]: https://i.stack.imgur.com/QE5dI.png\r\n  [5]: https://i.stack.imgur.com/Ow9vI.png\r\n  [6]: https://i.stack.imgur.com/7yBF0.png\r\n\r\n","title":"Execute Windows batch command in Jenkins for Java Program","body":"<p>I am facing error when creating a Build on Jenkins.\nFollowing are the steps i have done.</p>\n<p><strong>Step1:</strong></p>\n<ol>\n<li><p>Create Folder\n&quot;Java_Project&quot;</p>\n</li>\n<li><p>Create File\n&quot;Hello.Java&quot;</p>\n<pre><code> public class Hello {\n\n public static void main(String[] args) {\n\n     for (int i = 1; i &lt;= 5; i++) {\n\n         System.out.println(&quot;Hellow World...&quot; + i);\n\n     }\n }}\n</code></pre>\n</li>\n</ol>\n<p><strong>Step2</strong></p>\n<ol>\n<li>Go to my CMD and type below commands.</li>\n</ol>\n<p>a) <strong>javac Hello.java</strong></p>\n<p>b) <strong>Java Hello</strong></p>\n<p>and it print below result successfully.</p>\n<p>D:\\AWS_Assingnment\\jenkins_assingnment\\Java_Project&gt;java Hello</p>\n<p>Hellow World...1</p>\n<p>Hellow World...2</p>\n<p>Hellow World...3</p>\n<p>Hellow World...4</p>\n<p>Hellow World...5</p>\n<p><strong>Step 3</strong></p>\n<p>Now i go to my Jenkins and create a simple Build as follows.\nFig 1\n<a href=\"https://i.stack.imgur.com/hoOSD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoOSD.png\" alt=\"enter image description here\" /></a>\nFig 2\n<a href=\"https://i.stack.imgur.com/vqqt7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vqqt7.png\" alt=\"enter image description here\" /></a>\nFig3 <strong>I AM ON WINDOWS</strong>\n<a href=\"https://i.stack.imgur.com/D1tzy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D1tzy.png\" alt=\"enter image description here\" /></a>\n<strong>Enter Below Commands</strong></p>\n<p><strong>cd d:\\AWS_Assingnment\\jenkins_assingnment\\Java_Project</strong></p>\n<p><strong>javac Hello.java</strong></p>\n<p><strong>java Hello</strong></p>\n<p>Fig4\n<a href=\"https://i.stack.imgur.com/QE5dI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QE5dI.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 4</strong>\nCreate Build\nFig 5</p>\n<p><a href=\"https://i.stack.imgur.com/Ow9vI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ow9vI.png\" alt=\"enter image description here\" /></a></p>\n<h2><strong>I AM FACING BELOW ERROR</strong></h2>\n<p><a href=\"https://i.stack.imgur.com/7yBF0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7yBF0.png\" alt=\"enter image description here\" /></a></p>\n<p>Gurus, Your Kind Support is needed.</p>\n"},{"tags":["java","android","if-statement","android-toast"],"answers":[{"tags":[],"owner":{"account_id":12531475,"reputation":397,"user_id":9119602,"display_name":"touqeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679659106,"creation_date":1679659106,"answer_id":75833371,"question_id":75822602,"body_markdown":"As I was new to boolean methods, so did&#39;nt know much about them but found a video on youtube (HOW TO) and solved the problem. I wasn&#39;t returning any false value so all the toasts were being interrupted and also some conditions were not working. \r\n\r\nchanged the void method to boolean.\r\n\r\n    package com.example.foodeezfavourite;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n\r\n\r\n    public class RegistrationActivity extends AppCompatActivity {\r\n\r\n        EditText registrationEmail, registrationPassword, registrationConfirmPassword, registrationUserName;\r\n        Button registrationButton;\r\n        String userName, email, password, confirmPassword, emailPattern, passwordPattern;\r\n        boolean dataRecorded;\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_registration);\r\n\r\n            registrationUserName = findViewById(R.id.edRegisterUserName);\r\n            registrationEmail = findViewById(R.id.edRegisterEmail);\r\n            registrationPassword = findViewById(R.id.edRegisterPassword);\r\n            registrationConfirmPassword = findViewById(R.id.edRegisterConfirmPassword);\r\n            registrationButton = findViewById(R.id.btnRegisterButton);\r\n\r\n            registrationButton.setOnClickListener(view -&gt; {\r\n                userName = registrationUserName.getText().toString();\r\n                email = registrationEmail.getText().toString();\r\n                password = registrationPassword.getText().toString();\r\n                confirmPassword = registrationConfirmPassword.getText().toString();\r\n                emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n                passwordPattern = &quot;^(?=.*[0-9])(?=.*[A-Z])(?=.*[@#$%^&amp;+=!])(?=\\\\S+$).{8,}$&quot;;\r\n\r\n                dataRecorded = isAllEmpty();\r\n\r\n                if (dataRecorded == true) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Data Recorded&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                }\r\n            });\r\n        }\r\n\r\n        public Boolean isAllEmpty() {\r\n            if (TextUtils.isEmpty(userName) &amp;&amp; TextUtils.isEmpty(email) &amp;&amp; TextUtils.isEmpty(password) &amp;&amp; TextUtils.isEmpty(confirmPassword)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Please fill all details&quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            } else if (TextUtils.isEmpty(userName)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Username field is Empty&quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            } else if (userName.length() &lt; 3) {\r\n                registrationUserName.setError(&quot;Username must be at least 3 letters long&quot;);\r\n                return false;\r\n            } else if (userName.length() &gt; 12) {\r\n                registrationUserName.setError(&quot;Username must be less than 12 letters&quot;);\r\n                return false;\r\n            } else if (TextUtils.isEmpty(email)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Email field is Empty&quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            } else if (!email.matches(emailPattern)) {\r\n                registrationEmail.setError(&quot;Invalid Email Address&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;Email must contain at least 1 Uppercase letter, &quot; + &quot;1 lowercase letter, 1 number &amp; 1 special character&quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            } else if (TextUtils.isEmpty(password)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Password field is Empty&quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            } else if (!password.matches(passwordPattern)) {\r\n                registrationPassword.setError(&quot;Invalid Password&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;Password must contain at least 1 Uppercase letter, &quot; + &quot;1 lowercase letter, 1 number, 1 special character &amp; must be 8 characters long &quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            } else if (TextUtils.isEmpty(confirmPassword)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Confirm Password field is Empty&quot;, Toast.LENGTH_SHORT).show();\r\n                return false;\r\n            } else if (password.compareTo(confirmPassword) != 0) {\r\n                registrationPassword.setError(&quot;Passwords does not match&quot;);\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    }","title":"Created a Registration Activity, Everything works fine except the last two inputs which are Password &amp; Confirm password","body":"<p>As I was new to boolean methods, so did'nt know much about them but found a video on youtube (HOW TO) and solved the problem. I wasn't returning any false value so all the toasts were being interrupted and also some conditions were not working.</p>\n<p>changed the void method to boolean.</p>\n<pre><code>package com.example.foodeezfavourite;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\n\npublic class RegistrationActivity extends AppCompatActivity {\n\n    EditText registrationEmail, registrationPassword, registrationConfirmPassword, registrationUserName;\n    Button registrationButton;\n    String userName, email, password, confirmPassword, emailPattern, passwordPattern;\n    boolean dataRecorded;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_registration);\n\n        registrationUserName = findViewById(R.id.edRegisterUserName);\n        registrationEmail = findViewById(R.id.edRegisterEmail);\n        registrationPassword = findViewById(R.id.edRegisterPassword);\n        registrationConfirmPassword = findViewById(R.id.edRegisterConfirmPassword);\n        registrationButton = findViewById(R.id.btnRegisterButton);\n\n        registrationButton.setOnClickListener(view -&gt; {\n            userName = registrationUserName.getText().toString();\n            email = registrationEmail.getText().toString();\n            password = registrationPassword.getText().toString();\n            confirmPassword = registrationConfirmPassword.getText().toString();\n            emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\n            passwordPattern = &quot;^(?=.*[0-9])(?=.*[A-Z])(?=.*[@#$%^&amp;+=!])(?=\\\\S+$).{8,}$&quot;;\n\n            dataRecorded = isAllEmpty();\n\n            if (dataRecorded == true) {\n                Toast.makeText(getApplicationContext(), &quot;Data Recorded&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n            }\n        });\n    }\n\n    public Boolean isAllEmpty() {\n        if (TextUtils.isEmpty(userName) &amp;&amp; TextUtils.isEmpty(email) &amp;&amp; TextUtils.isEmpty(password) &amp;&amp; TextUtils.isEmpty(confirmPassword)) {\n            Toast.makeText(getApplicationContext(), &quot;Please fill all details&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        } else if (TextUtils.isEmpty(userName)) {\n            Toast.makeText(getApplicationContext(), &quot;Username field is Empty&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        } else if (userName.length() &lt; 3) {\n            registrationUserName.setError(&quot;Username must be at least 3 letters long&quot;);\n            return false;\n        } else if (userName.length() &gt; 12) {\n            registrationUserName.setError(&quot;Username must be less than 12 letters&quot;);\n            return false;\n        } else if (TextUtils.isEmpty(email)) {\n            Toast.makeText(getApplicationContext(), &quot;Email field is Empty&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        } else if (!email.matches(emailPattern)) {\n            registrationEmail.setError(&quot;Invalid Email Address&quot;);\n            Toast.makeText(getApplicationContext(), &quot;Email must contain at least 1 Uppercase letter, &quot; + &quot;1 lowercase letter, 1 number &amp; 1 special character&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        } else if (TextUtils.isEmpty(password)) {\n            Toast.makeText(getApplicationContext(), &quot;Password field is Empty&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        } else if (!password.matches(passwordPattern)) {\n            registrationPassword.setError(&quot;Invalid Password&quot;);\n            Toast.makeText(getApplicationContext(), &quot;Password must contain at least 1 Uppercase letter, &quot; + &quot;1 lowercase letter, 1 number, 1 special character &amp; must be 8 characters long &quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        } else if (TextUtils.isEmpty(confirmPassword)) {\n            Toast.makeText(getApplicationContext(), &quot;Confirm Password field is Empty&quot;, Toast.LENGTH_SHORT).show();\n            return false;\n        } else if (password.compareTo(confirmPassword) != 0) {\n            registrationPassword.setError(&quot;Passwords does not match&quot;);\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12531475,"reputation":397,"user_id":9119602,"display_name":"touqeer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833371,"answer_count":1,"score":0,"last_activity_date":1679659106,"creation_date":1679572061,"question_id":75822602,"body_markdown":"[![Register Activity][1]][1]\r\n\r\nThe toast messages or errors of both password &amp; confirm password doesn&#39;t show at all. Username, email is working fine. What could be the problem ?. First i tried to make different methods for username validation, email validation, password validation &amp; confirm password but was having interrupted toasts then I just removed the methods and compiled them in one method but still having this last issue.\r\n\r\n    package com.example.foodeezfavourite;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.android.material.textfield.TextInputEditText;\r\n    public class RegistrationActivity extends AppCompatActivity {\r\n\r\n        TextInputEditText registrationUserName;\r\n        EditText registrationEmail, registrationPassword, registrationConfirmPassword;\r\n        Button registrationButton;\r\n        String userName, email, password, confirmPassword, emailPattern, passwordPattern;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_registration);\r\n\r\n            registrationUserName = findViewById(R.id.edRegisterUserName);\r\n            registrationEmail = findViewById(R.id.edRegisterEmail);\r\n            registrationPassword = findViewById(R.id.edRegisterPassword);\r\n            registrationConfirmPassword = findViewById(R.id.edRegisterConfirmPassword);\r\n            registrationButton = findViewById(R.id.btnRegisterButton);\r\n\r\n            registrationButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    userName = registrationUserName.getText().toString();\r\n                    email = registrationEmail.getText().toString();\r\n                    password = registrationPassword.getText().toString();\r\n                    confirmPassword = registrationConfirmPassword.getText().toString();\r\n                    emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\r\n                    passwordPattern = &quot;^(?=.*[0-9])(?=.*[A-Z])(?=.*[@#$%^&amp;+=!])(?=\\\\S+$).{4,}$&quot;;\r\n\r\n                    validationProcess();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public void validationProcess() {\r\n            if (TextUtils.isEmpty(userName) &amp;&amp; TextUtils.isEmpty(email) &amp;&amp; TextUtils.isEmpty(password) &amp;&amp; TextUtils.isEmpty(confirmPassword)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Please fill all details&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (TextUtils.isEmpty(userName)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Username field is Empty&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (userName.length() &lt; 3) {\r\n                registrationUserName.setError(&quot;Username must be at least 3 letters long&quot;);\r\n            } else if (userName.length() &gt; 12) {\r\n                registrationUserName.setError(&quot;Username must be less than 12 letters&quot;);\r\n            } else if (TextUtils.isEmpty(email)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Email field is Empty&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (!email.matches(emailPattern)) {\r\n                registrationEmail.setError(&quot;Invalid Email Address&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;Email must contain at least 1 Uppercase letter, &quot; + &quot;1 lowercase letter, 1 number &amp; 1 special character&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (email.matches(emailPattern)) {\r\n                registrationEmail.setError(null);\r\n            } else if (TextUtils.isEmpty(password)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Password field is Empty&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (!password.matches(passwordPattern)) {\r\n                registrationPassword.setError(&quot;Invalid Password&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;Password must contain at least 1 Uppercase letter, &quot; + &quot;1 lowercase letter, 1 number &amp; 1 special character&quot;, Toast.LENGTH_SHORT).show();\r\n            } else if (password.matches(passwordPattern)) {\r\n                registrationPassword.setError(null);\r\n            } else if (password.compareTo(confirmPassword) == 0) {\r\n                registrationPassword.setError(null);\r\n            } else if (password.compareTo(confirmPassword) != 0) {\r\n                registrationPassword.setError(&quot;Passwords does not match&quot;);\r\n            } else if (TextUtils.isEmpty(confirmPassword)) {\r\n                Toast.makeText(getApplicationContext(), &quot;Confirm Password field is Empty&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i9ebR.png","title":"Created a Registration Activity, Everything works fine except the last two inputs which are Password &amp; Confirm password","body":"<p><a href=\"https://i.stack.imgur.com/i9ebR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i9ebR.png\" alt=\"Register Activity\" /></a></p>\n<p>The toast messages or errors of both password &amp; confirm password doesn't show at all. Username, email is working fine. What could be the problem ?. First i tried to make different methods for username validation, email validation, password validation &amp; confirm password but was having interrupted toasts then I just removed the methods and compiled them in one method but still having this last issue.</p>\n<pre><code>package com.example.foodeezfavourite;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.material.textfield.TextInputEditText;\npublic class RegistrationActivity extends AppCompatActivity {\n\n    TextInputEditText registrationUserName;\n    EditText registrationEmail, registrationPassword, registrationConfirmPassword;\n    Button registrationButton;\n    String userName, email, password, confirmPassword, emailPattern, passwordPattern;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_registration);\n\n        registrationUserName = findViewById(R.id.edRegisterUserName);\n        registrationEmail = findViewById(R.id.edRegisterEmail);\n        registrationPassword = findViewById(R.id.edRegisterPassword);\n        registrationConfirmPassword = findViewById(R.id.edRegisterConfirmPassword);\n        registrationButton = findViewById(R.id.btnRegisterButton);\n\n        registrationButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                userName = registrationUserName.getText().toString();\n                email = registrationEmail.getText().toString();\n                password = registrationPassword.getText().toString();\n                confirmPassword = registrationConfirmPassword.getText().toString();\n                emailPattern = &quot;[a-zA-Z0-9._-]+@[a-z]+\\\\.+[a-z]+&quot;;\n                passwordPattern = &quot;^(?=.*[0-9])(?=.*[A-Z])(?=.*[@#$%^&amp;+=!])(?=\\\\S+$).{4,}$&quot;;\n\n                validationProcess();\n            }\n        });\n\n    }\n\n    public void validationProcess() {\n        if (TextUtils.isEmpty(userName) &amp;&amp; TextUtils.isEmpty(email) &amp;&amp; TextUtils.isEmpty(password) &amp;&amp; TextUtils.isEmpty(confirmPassword)) {\n            Toast.makeText(getApplicationContext(), &quot;Please fill all details&quot;, Toast.LENGTH_SHORT).show();\n        } else if (TextUtils.isEmpty(userName)) {\n            Toast.makeText(getApplicationContext(), &quot;Username field is Empty&quot;, Toast.LENGTH_SHORT).show();\n        } else if (userName.length() &lt; 3) {\n            registrationUserName.setError(&quot;Username must be at least 3 letters long&quot;);\n        } else if (userName.length() &gt; 12) {\n            registrationUserName.setError(&quot;Username must be less than 12 letters&quot;);\n        } else if (TextUtils.isEmpty(email)) {\n            Toast.makeText(getApplicationContext(), &quot;Email field is Empty&quot;, Toast.LENGTH_SHORT).show();\n        } else if (!email.matches(emailPattern)) {\n            registrationEmail.setError(&quot;Invalid Email Address&quot;);\n            Toast.makeText(getApplicationContext(), &quot;Email must contain at least 1 Uppercase letter, &quot; + &quot;1 lowercase letter, 1 number &amp; 1 special character&quot;, Toast.LENGTH_SHORT).show();\n        } else if (email.matches(emailPattern)) {\n            registrationEmail.setError(null);\n        } else if (TextUtils.isEmpty(password)) {\n            Toast.makeText(getApplicationContext(), &quot;Password field is Empty&quot;, Toast.LENGTH_SHORT).show();\n        } else if (!password.matches(passwordPattern)) {\n            registrationPassword.setError(&quot;Invalid Password&quot;);\n            Toast.makeText(getApplicationContext(), &quot;Password must contain at least 1 Uppercase letter, &quot; + &quot;1 lowercase letter, 1 number &amp; 1 special character&quot;, Toast.LENGTH_SHORT).show();\n        } else if (password.matches(passwordPattern)) {\n            registrationPassword.setError(null);\n        } else if (password.compareTo(confirmPassword) == 0) {\n            registrationPassword.setError(null);\n        } else if (password.compareTo(confirmPassword) != 0) {\n            registrationPassword.setError(&quot;Passwords does not match&quot;);\n        } else if (TextUtils.isEmpty(confirmPassword)) {\n            Toast.makeText(getApplicationContext(), &quot;Confirm Password field is Empty&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","assertj"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1514734175,"post_id":48042592,"comment_id":83058271,"body_markdown":"Is that your real usecase, or would you rather like to check, for example, that, let&#39;s say, a list of users has users with the name &quot;John&quot; and &quot;Jack&quot; and with the age 25 and 45?","body":"Is that your real usecase, or would you rather like to check, for example, that, let&#39;s say, a list of users has users with the name &quot;John&quot; and &quot;Jack&quot; and with the age 25 and 45?"},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1514735592,"post_id":48042592,"comment_id":83058633,"body_markdown":"The real use case is a source code generator. Each entry of the list is one generated source code snippet. The source code is not parsed (only written to the disk), but there are scenarios where the source code should or should not contain certain patterns. A solution for decomposing objects would not solve the problem.","body":"The real use case is a source code generator. Each entry of the list is one generated source code snippet. The source code is not parsed (only written to the disk), but there are scenarios where the source code should or should not contain certain patterns. A solution for decomposing objects would not solve the problem."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1514736143,"creation_date":1514736143,"answer_id":48043926,"question_id":48042592,"body_markdown":"The closest I&#39;ve found is to write a &quot;ContainsSubstring&quot; condition, and a static method to create one, and use \r\n\r\n    assertThat(list).has(containsSubstring(&quot;15&quot;, atIndex(0)))\r\n                    .has(containsSubstring(&quot;217&quot;, atIndex(1)));\r\n\r\nBut maybe you should simply write a loop:\r\n\r\n    List&lt;String&gt; list = ...;\r\n    List&lt;String&gt; expectedSubstrings = Arrays.asList(&quot;15&quot;, &quot;217&quot;);\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        assertThat(list.get(i)).contains(expectedSubstrings.get(i));\r\n    }\r\n\r\nOr to write a parameterized test, so that each element is tested on each substring by JUnit itself.\r\n","title":"Asserting properties on list elements with assertJ","body":"<p>The closest I've found is to write a \"ContainsSubstring\" condition, and a static method to create one, and use </p>\n\n<pre><code>assertThat(list).has(containsSubstring(\"15\", atIndex(0)))\n                .has(containsSubstring(\"217\", atIndex(1)));\n</code></pre>\n\n<p>But maybe you should simply write a loop:</p>\n\n<pre><code>List&lt;String&gt; list = ...;\nList&lt;String&gt; expectedSubstrings = Arrays.asList(\"15\", \"217\");\nfor (int i = 0; i &lt; list.size(); i++) {\n    assertThat(list.get(i)).contains(expectedSubstrings.get(i));\n}\n</code></pre>\n\n<p>Or to write a parameterized test, so that each element is tested on each substring by JUnit itself.</p>\n"},{"tags":[],"owner":{"account_id":10312640,"reputation":29929,"user_id":7607923,"accept_rate":83,"display_name":"holi-java"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1514741412,"creation_date":1514736648,"answer_id":48043989,"question_id":48042592,"body_markdown":"In fact, you must implements your own `Condition` in assertj for checking the collection containing the substrings in order. for example:\r\n    \r\n                \r\n    assertThat(items).has(containsExactly(\r\n      stream(subItems).map(it -&gt; containsSubstring(it)).toArray(Condition[]::new)\r\n    ));\r\n\r\nWhat&#39;s approach did I choose to meet your requirements? write a **contract** test case, and then implements the feature that the assertj doesn&#39;t given,  here is my test case for the hamcrest `contains(containsString(...))` adapt to  assertj `containsExactly` as below:\r\n\r\n    import org.assertj.core.api.Assertions;\r\n    import org.assertj.core.api.Condition;\r\n    import org.hamcrest.Matchers;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runners.Parameterized;\r\n    import org.junit.runners.Parameterized.Parameters;\r\n\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n\r\n    import static java.util.Arrays.asList;\r\n    import static java.util.Arrays.stream;\r\n    import static java.util.stream.Collectors.toList;\r\n    import static org.hamcrest.Matchers.contains;\r\n    import static org.hamcrest.Matchers.containsString;\r\n    import static org.junit.Assert.assertThat;\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class MatchersTest {\r\n        private final SubstringExpectation expectation;\r\n\r\n        public MatchersTest(SubstringExpectation expectation) {\r\n            this.expectation = expectation;\r\n        }\r\n\r\n        @Parameters\r\n        public static List&lt;SubstringExpectation&gt; parameters() {\r\n            return asList(MatchersTest::hamcrest, MatchersTest::assertj);\r\n        }\r\n\r\n        private static void assertj(Collection&lt;? extends String&gt; items, String... subItems) {\r\n            Assertions.assertThat(items).has(containsExactly(stream(subItems).map(it -&gt; containsSubstring(it)).toArray(Condition[]::new)));\r\n        }\r\n\r\n        private static Condition&lt;String&gt; containsSubstring(String substring) {\r\n            return new Condition&lt;&gt;(s -&gt; s.contains(substring), &quot;contains substring: \\&quot;%s\\&quot;&quot;, substring);\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static &lt;C extends Condition&lt;? super T&gt;, T extends Iterable&lt;? extends E&gt;, E&gt; C containsExactly(Condition&lt;E&gt;... conditions) {\r\n            return (C) new Condition&lt;T&gt;(&quot;contains exactly:&quot; + stream(conditions).map(it -&gt; it.toString()).collect(toList())) {\r\n                @Override\r\n                public boolean matches(T items) {\r\n                    int size = 0;\r\n                    for (E item : items) {\r\n                        if (!matches(item, size++)) return false;\r\n                    }\r\n                    return size == conditions.length;\r\n                }\r\n\r\n                private boolean matches(E item, int i) {\r\n                    return i &lt; conditions.length &amp;&amp; conditions[i].matches(item);\r\n                }\r\n            };\r\n        }\r\n\r\n        private static void hamcrest(Collection&lt;? extends String&gt; items, String... subItems) {\r\n            assertThat(items, contains(stream(subItems).map(Matchers::containsString).collect(toList())));\r\n        }\r\n\r\n        @Test\r\n        public void matchAll() {\r\n            expectation.checking(asList(&quot;foo&quot;, &quot;bar&quot;), &quot;foo&quot;, &quot;bar&quot;);\r\n        }\r\n\r\n\r\n        @Test\r\n        public void matchAllContainingSubSequence() {\r\n            expectation.checking(asList(&quot;foo&quot;, &quot;bar&quot;), &quot;fo&quot;, &quot;ba&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void matchPartlyContainingSubSequence() {\r\n            try {\r\n                expectation.checking(asList(&quot;foo&quot;, &quot;bar&quot;), &quot;fo&quot;);\r\n                fail();\r\n            } catch (AssertionError expected) {\r\n                assertThat(expected.getMessage(), containsString(&quot;\\&quot;bar\\&quot;&quot;));\r\n            }\r\n        }\r\n\r\n        @Test\r\n        public void matchAgainstWithManySubstrings() {\r\n            try {\r\n                expectation.checking(asList(&quot;foo&quot;, &quot;bar&quot;), &quot;fo&quot;, &quot;ba&quot;, &quot;&lt;many&gt;&quot;);\r\n                fail();\r\n            } catch (AssertionError expected) {\r\n                assertThat(expected.getMessage(), containsString(&quot;&lt;many&gt;&quot;));\r\n            }\r\n        }\r\n\r\n        private void fail() {\r\n            throw new IllegalStateException(&quot;should failed&quot;);\r\n        }\r\n\r\n        interface SubstringExpectation {\r\n            void checking(Collection&lt;? extends String&gt; items, String... subItems);\r\n        }\r\n    }\r\n\r\n\r\nHowever, you down to use chained `Condition`s rather than the assertj fluent api, so I suggest you to try use the `hamcrest` instead. in other words, if you use this style in assertj you must write many `Condition`s or adapt hamcrest `Matcher`s to assertj `Condition`.","title":"Asserting properties on list elements with assertJ","body":"<p>In fact, you must implements your own <code>Condition</code> in assertj for checking the collection containing the substrings in order. for example:</p>\n\n<pre><code>assertThat(items).has(containsExactly(\n  stream(subItems).map(it -&gt; containsSubstring(it)).toArray(Condition[]::new)\n));\n</code></pre>\n\n<p>What's approach did I choose to meet your requirements? write a <strong>contract</strong> test case, and then implements the feature that the assertj doesn't given,  here is my test case for the hamcrest <code>contains(containsString(...))</code> adapt to  assertj <code>containsExactly</code> as below:</p>\n\n<pre><code>import org.assertj.core.api.Assertions;\nimport org.assertj.core.api.Condition;\nimport org.hamcrest.Matchers;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Parameterized;\nimport org.junit.runners.Parameterized.Parameters;\n\nimport java.util.Collection;\nimport java.util.List;\n\nimport static java.util.Arrays.asList;\nimport static java.util.Arrays.stream;\nimport static java.util.stream.Collectors.toList;\nimport static org.hamcrest.Matchers.contains;\nimport static org.hamcrest.Matchers.containsString;\nimport static org.junit.Assert.assertThat;\n\n@RunWith(Parameterized.class)\npublic class MatchersTest {\n    private final SubstringExpectation expectation;\n\n    public MatchersTest(SubstringExpectation expectation) {\n        this.expectation = expectation;\n    }\n\n    @Parameters\n    public static List&lt;SubstringExpectation&gt; parameters() {\n        return asList(MatchersTest::hamcrest, MatchersTest::assertj);\n    }\n\n    private static void assertj(Collection&lt;? extends String&gt; items, String... subItems) {\n        Assertions.assertThat(items).has(containsExactly(stream(subItems).map(it -&gt; containsSubstring(it)).toArray(Condition[]::new)));\n    }\n\n    private static Condition&lt;String&gt; containsSubstring(String substring) {\n        return new Condition&lt;&gt;(s -&gt; s.contains(substring), \"contains substring: \\\"%s\\\"\", substring);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    private static &lt;C extends Condition&lt;? super T&gt;, T extends Iterable&lt;? extends E&gt;, E&gt; C containsExactly(Condition&lt;E&gt;... conditions) {\n        return (C) new Condition&lt;T&gt;(\"contains exactly:\" + stream(conditions).map(it -&gt; it.toString()).collect(toList())) {\n            @Override\n            public boolean matches(T items) {\n                int size = 0;\n                for (E item : items) {\n                    if (!matches(item, size++)) return false;\n                }\n                return size == conditions.length;\n            }\n\n            private boolean matches(E item, int i) {\n                return i &lt; conditions.length &amp;&amp; conditions[i].matches(item);\n            }\n        };\n    }\n\n    private static void hamcrest(Collection&lt;? extends String&gt; items, String... subItems) {\n        assertThat(items, contains(stream(subItems).map(Matchers::containsString).collect(toList())));\n    }\n\n    @Test\n    public void matchAll() {\n        expectation.checking(asList(\"foo\", \"bar\"), \"foo\", \"bar\");\n    }\n\n\n    @Test\n    public void matchAllContainingSubSequence() {\n        expectation.checking(asList(\"foo\", \"bar\"), \"fo\", \"ba\");\n    }\n\n    @Test\n    public void matchPartlyContainingSubSequence() {\n        try {\n            expectation.checking(asList(\"foo\", \"bar\"), \"fo\");\n            fail();\n        } catch (AssertionError expected) {\n            assertThat(expected.getMessage(), containsString(\"\\\"bar\\\"\"));\n        }\n    }\n\n    @Test\n    public void matchAgainstWithManySubstrings() {\n        try {\n            expectation.checking(asList(\"foo\", \"bar\"), \"fo\", \"ba\", \"&lt;many&gt;\");\n            fail();\n        } catch (AssertionError expected) {\n            assertThat(expected.getMessage(), containsString(\"&lt;many&gt;\"));\n        }\n    }\n\n    private void fail() {\n        throw new IllegalStateException(\"should failed\");\n    }\n\n    interface SubstringExpectation {\n        void checking(Collection&lt;? extends String&gt; items, String... subItems);\n    }\n}\n</code></pre>\n\n<p>However, you down to use chained <code>Condition</code>s rather than the assertj fluent api, so I suggest you to try use the <code>hamcrest</code> instead. in other words, if you use this style in assertj you must write many <code>Condition</code>s or adapt hamcrest <code>Matcher</code>s to assertj <code>Condition</code>.</p>\n"},{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1581643614,"creation_date":1514779332,"answer_id":48047060,"question_id":48042592,"body_markdown":"For this kind of assertions Hamcrest is superior to AssertJ, you can mimic Hamcrest with Conditions but you need to write them as there are none provided out of the box in AssertJ (assertJ philosphy is not to compete with Hamcrest on this aspect).\r\n\r\nIn the next AssertJ version (soon to be released!), you will be able to reuse Hamcrest Matcher to build AssertJ conditions, example:\r\n\r\n    Condition&lt;String&gt; containing123 = new HamcrestCondition&lt;&gt;(containsString(&quot;123&quot;));\r\n\r\n    // assertions succeed\r\n    assertThat(&quot;abc123&quot;).is(containing123);\r\n    assertThat(&quot;def456&quot;).isNot(containing123);\r\n\r\nAs a final note, this suggestion ...\r\n\r\n    assertThat(mylist).elements()\r\n                      .next().contains(&quot;15&quot;)\r\n                      .next().contains(&quot;217&quot;)\r\n... unfortunately can&#39;t work because of generics limitation, although you know that you have a List of String, Java generics are not powerful enough to choose a specific type (`StringAssert`) depending on another (`String`), this means you can only perform `Object` assertion on the elements but not `String` assertion.\r\n\r\n-- edit -- \r\n\r\nSince 3.13.0 one can use `asInstanceOf` to get specific type assertions, this is useful if the declared type is Object but the runtime type is more specific.\r\n\r\nExample:\r\n\r\n    // Given a String declared as an Object\r\n    Object value = &quot;Once upon a time in the west&quot;;\r\n\r\n    // With asInstanceOf, we switch to specific String assertion by specifying the InstanceOfAssertFactory for String\r\n    assertThat(value).asInstanceOf(InstanceOfAssertFactories.STRING)\r\n                     .startsWith(&quot;Once&quot;);`\r\n\r\nsee https://assertj.github.io/doc/#assertj-core-3.13.0-asInstanceOf\r\n\r\n","title":"Asserting properties on list elements with assertJ","body":"<p>For this kind of assertions Hamcrest is superior to AssertJ, you can mimic Hamcrest with Conditions but you need to write them as there are none provided out of the box in AssertJ (assertJ philosphy is not to compete with Hamcrest on this aspect).</p>\n\n<p>In the next AssertJ version (soon to be released!), you will be able to reuse Hamcrest Matcher to build AssertJ conditions, example:</p>\n\n<pre><code>Condition&lt;String&gt; containing123 = new HamcrestCondition&lt;&gt;(containsString(\"123\"));\n\n// assertions succeed\nassertThat(\"abc123\").is(containing123);\nassertThat(\"def456\").isNot(containing123);\n</code></pre>\n\n<p>As a final note, this suggestion ...</p>\n\n<pre><code>assertThat(mylist).elements()\n                  .next().contains(\"15\")\n                  .next().contains(\"217\")\n</code></pre>\n\n<p>... unfortunately can't work because of generics limitation, although you know that you have a List of String, Java generics are not powerful enough to choose a specific type (<code>StringAssert</code>) depending on another (<code>String</code>), this means you can only perform <code>Object</code> assertion on the elements but not <code>String</code> assertion.</p>\n\n<p>-- edit -- </p>\n\n<p>Since 3.13.0 one can use <code>asInstanceOf</code> to get specific type assertions, this is useful if the declared type is Object but the runtime type is more specific.</p>\n\n<p>Example:</p>\n\n<pre><code>// Given a String declared as an Object\nObject value = \"Once upon a time in the west\";\n\n// With asInstanceOf, we switch to specific String assertion by specifying the InstanceOfAssertFactory for String\nassertThat(value).asInstanceOf(InstanceOfAssertFactories.STRING)\n                 .startsWith(\"Once\");`\n</code></pre>\n\n<p>see <a href=\"https://assertj.github.io/doc/#assertj-core-3.13.0-asInstanceOf\" rel=\"noreferrer\">https://assertj.github.io/doc/#assertj-core-3.13.0-asInstanceOf</a></p>\n"},{"tags":[],"owner":{"account_id":3253049,"reputation":21,"user_id":2742847,"display_name":"Lee Jonas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1581082536,"creation_date":1581081177,"answer_id":60114229,"question_id":48042592,"body_markdown":"You can do the following:\r\n\r\n```\r\nList&lt;String&gt; list1 = Arrays.asList(&quot;Abcd15&quot;, &quot;217aB&quot;);\r\nList&lt;String&gt; list2 = Arrays.asList(&quot;Abcd15&quot;, &quot;218&quot;);\r\n\r\nComparator&lt;String&gt; containingSubstring = (o1, o2) -&gt; o1.contains(o2) ? 0 : 1;\r\nassertThat(list1).usingElementComparator(containingSubstring).contains(&quot;15&quot;, &quot;217&quot;);  // passes\r\nassertThat(list2).usingElementComparator(containingSubstring).contains(&quot;15&quot;, &quot;217&quot;);  // fails\r\n```\r\n\r\nThe error it gives is:\r\n```\r\njava.lang.AssertionError: \r\nExpecting:\r\n &lt;[&quot;Abcd15&quot;, &quot;218&quot;]&gt;\r\nto contain:\r\n &lt;[&quot;15&quot;, &quot;217&quot;]&gt;\r\nbut could not find:\r\n &lt;[&quot;217&quot;]&gt;\r\n```","title":"Asserting properties on list elements with assertJ","body":"<p>You can do the following:</p>\n\n<pre><code>List&lt;String&gt; list1 = Arrays.asList(\"Abcd15\", \"217aB\");\nList&lt;String&gt; list2 = Arrays.asList(\"Abcd15\", \"218\");\n\nComparator&lt;String&gt; containingSubstring = (o1, o2) -&gt; o1.contains(o2) ? 0 : 1;\nassertThat(list1).usingElementComparator(containingSubstring).contains(\"15\", \"217\");  // passes\nassertThat(list2).usingElementComparator(containingSubstring).contains(\"15\", \"217\");  // fails\n</code></pre>\n\n<p>The error it gives is:</p>\n\n<pre><code>java.lang.AssertionError: \nExpecting:\n &lt;[\"Abcd15\", \"218\"]&gt;\nto contain:\n &lt;[\"15\", \"217\"]&gt;\nbut could not find:\n &lt;[\"217\"]&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1664832107,"creation_date":1598349126,"answer_id":63576281,"question_id":48042592,"body_markdown":"You can use `anyMatch`\r\n\r\n    assertThat(mylist)\r\n      .anyMatch(item -&gt; item.contains(&quot;15&quot;))\r\n      .anyMatch(item -&gt; item.contains(&quot;217&quot;))\r\n\r\nbut unfortunately the failure message cannot tell you internals about the expectations\r\n\r\n    Expecting any elements of:\r\n      &lt;[&quot;Abcd15&quot;, &quot;218&quot;]&gt;\r\n    to match given predicate but none did.","title":"Asserting properties on list elements with assertJ","body":"<p>You can use <code>anyMatch</code></p>\n<pre><code>assertThat(mylist)\n  .anyMatch(item -&gt; item.contains(&quot;15&quot;))\n  .anyMatch(item -&gt; item.contains(&quot;217&quot;))\n</code></pre>\n<p>but unfortunately the failure message cannot tell you internals about the expectations</p>\n<pre><code>Expecting any elements of:\n  &lt;[&quot;Abcd15&quot;, &quot;218&quot;]&gt;\nto match given predicate but none did.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9380,"reputation":1161,"user_id":17305,"display_name":"Synoli"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1657742473,"creation_date":1657742473,"answer_id":72971981,"question_id":48042592,"body_markdown":"AssertJ v3.19.0 or newer: use `satisfiesExactly`.\r\n--------------------------------------------------\r\n\r\nAssertJ v3.19.0, released in 2021, has added a `satisfiesExactly` method.\r\n\r\nSo you can write:\r\n\r\n    assertThat(mylist)\r\n        .satisfiesExactly(item1 -&gt; assertThat(item1).contains(&quot;15&quot;),\r\n                          item2 -&gt; assertThat(item2).contains(&quot;217&quot;));\r\n\r\nYou can add more assertions to individual elements if need be:\r\n\r\n    assertThat(mylist)\r\n        .satisfiesExactly(item1 -&gt; assertThat(item1)\r\n                                          .contains(&quot;08&quot;)\r\n                                          .contains(&quot;15&quot;),\r\n                          item2 -&gt; assertThat(item2).contains(&quot;217&quot;));\r\n\r\nIn comparison to the technique that uses a `next()` chain, this one also checks the list size for you. As an added benefit, it lets you use whatever lambda parameter you like, so it’s easier to read and to keep track of which element you’re in.\r\n","title":"Asserting properties on list elements with assertJ","body":"<h2>AssertJ v3.19.0 or newer: use <code>satisfiesExactly</code>.</h2>\n<p>AssertJ v3.19.0, released in 2021, has added a <code>satisfiesExactly</code> method.</p>\n<p>So you can write:</p>\n<pre><code>assertThat(mylist)\n    .satisfiesExactly(item1 -&gt; assertThat(item1).contains(&quot;15&quot;),\n                      item2 -&gt; assertThat(item2).contains(&quot;217&quot;));\n</code></pre>\n<p>You can add more assertions to individual elements if need be:</p>\n<pre><code>assertThat(mylist)\n    .satisfiesExactly(item1 -&gt; assertThat(item1)\n                                      .contains(&quot;08&quot;)\n                                      .contains(&quot;15&quot;),\n                      item2 -&gt; assertThat(item2).contains(&quot;217&quot;));\n</code></pre>\n<p>In comparison to the technique that uses a <code>next()</code> chain, this one also checks the list size for you. As an added benefit, it lets you use whatever lambda parameter you like, so it’s easier to read and to keep track of which element you’re in.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679659005,"creation_date":1679659005,"answer_id":75833357,"question_id":48042592,"body_markdown":"Below is my example using assertJ assertions. \r\n\r\n    @EqualsAndHashCode\r\n    @AllArgsConstructor \r\n    @Getter\r\n    class Employee {\r\n    \r\n    private String firstName;\r\n    private String lastName;\r\n    \r\n    private List&lt;Project&gt; projects;\r\n    }\r\n\r\nProject Class\r\n   \r\n\r\n     @EqualsAndHashCode\r\n     @AllArgsConstructor\r\n     @Getter\r\n        class Project {\r\n        private String id;\r\n        private String name;\r\n        }\r\n\r\nAnd we want to test the below object.\r\n\r\n    var project1 = new Project(&quot;1&quot;,&quot;Customer Management&quot;);\r\n    var project2 = new Project(&quot;1&quot;,&quot;Employee Management&quot;);\r\n    var project3 = new Project(&quot;1&quot;,&quot;School Management&quot;);\r\n    \r\n    var employees = List.of(\r\n        new Employee(&quot;sanjay&quot;,&quot;bharwani&quot;,List.of(project1,project2)),\r\n        new Employee(&quot;Sanjay Kumar&quot;,&quot;Bharwani&quot;,List.of(project13))\r\n    );\r\n\r\n\r\nNow below is the assertion for List of employees along with nested projects assertions. All using assertJ framework.\r\n\r\n    assertThat(employees).satisfiesExactly(\r\n        e1 -&gt; assertThat(e1).hasFieldOrPropertyWithValue(&quot;firstName&quot;, &quot;sanjay&quot;)\r\n        .hasFieldOrPropertyWithValue(&quot;lastName&quot;, &quot;Bharwani&quot;)\r\n        .hasFieldOrPropertyWithValue(&quot;projects&quot;, List.of(project1, project2)),\r\n    \r\n        e2 -&gt; assertThat(e2).hasFieldOrPropertyWithValue(&quot;firstName&quot;, &quot;Sanjay Kumar&quot;)\r\n        .hasFieldOrPropertyWithValue(&quot;lastName&quot;, &quot;Bharwani&quot;)\r\n        .hasFieldOrPropertyWithValue(&quot;projects&quot;, List.of(project3))\r\n     }","title":"Asserting properties on list elements with assertJ","body":"<p>Below is my example using assertJ assertions.</p>\n<pre><code>@EqualsAndHashCode\n@AllArgsConstructor \n@Getter\nclass Employee {\n\nprivate String firstName;\nprivate String lastName;\n\nprivate List&lt;Project&gt; projects;\n}\n</code></pre>\n<p>Project Class</p>\n<pre><code> @EqualsAndHashCode\n @AllArgsConstructor\n @Getter\n    class Project {\n    private String id;\n    private String name;\n    }\n</code></pre>\n<p>And we want to test the below object.</p>\n<pre><code>var project1 = new Project(&quot;1&quot;,&quot;Customer Management&quot;);\nvar project2 = new Project(&quot;1&quot;,&quot;Employee Management&quot;);\nvar project3 = new Project(&quot;1&quot;,&quot;School Management&quot;);\n\nvar employees = List.of(\n    new Employee(&quot;sanjay&quot;,&quot;bharwani&quot;,List.of(project1,project2)),\n    new Employee(&quot;Sanjay Kumar&quot;,&quot;Bharwani&quot;,List.of(project13))\n);\n</code></pre>\n<p>Now below is the assertion for List of employees along with nested projects assertions. All using assertJ framework.</p>\n<pre><code>assertThat(employees).satisfiesExactly(\n    e1 -&gt; assertThat(e1).hasFieldOrPropertyWithValue(&quot;firstName&quot;, &quot;sanjay&quot;)\n    .hasFieldOrPropertyWithValue(&quot;lastName&quot;, &quot;Bharwani&quot;)\n    .hasFieldOrPropertyWithValue(&quot;projects&quot;, List.of(project1, project2)),\n\n    e2 -&gt; assertThat(e2).hasFieldOrPropertyWithValue(&quot;firstName&quot;, &quot;Sanjay Kumar&quot;)\n    .hasFieldOrPropertyWithValue(&quot;lastName&quot;, &quot;Bharwani&quot;)\n    .hasFieldOrPropertyWithValue(&quot;projects&quot;, List.of(project3))\n }\n</code></pre>\n"}],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37959,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":7,"score":11,"last_activity_date":1679659005,"creation_date":1514724666,"question_id":48042592,"body_markdown":"I have a working hamcrest assertion:\r\n\r\n    assertThat(mylist, contains(\r\n      containsString(&quot;15&quot;), \r\n      containsString(&quot;217&quot;)));\r\n\r\nThe intended behavior is:\r\n\r\n* `mylist == asList(&quot;Abcd15&quot;, &quot;217aB&quot;)` =&gt; success\r\n* `myList == asList(&quot;Abcd15&quot;, &quot;218&quot;)` =&gt; failure\r\n\r\nHow can I migrate this expression to assertJ. Of course there exist naive solutions, like asserting on the first and second value, like this:\r\n\r\n    assertThat(mylist.get(0)).contains(&quot;15&quot;);\r\n    assertThat(mylist.get(1)).contains(&quot;217&quot;);\r\n\r\nBut these are assertions on the list elements, not on the list. Trying asserts on the list restricts me to very generic functions. So maybe it could be only resolved with a custom assertion, something like the following would be fine:\r\n\r\n    assertThat(mylist).elements()\r\n      .next().contains(&quot;15&quot;)\r\n      .next().contains(&quot;217&quot;)\r\n\r\nBut before I write a custom assert, I would be interested in how others would solve this problem?  \r\n\r\nEdit: One additional non-functional requirement is, that the test should be easily extendible by additional contstraints. In Hamcrest it is quite easy to express additional constraints, e.g. \r\n\r\n    assertThat(mylist, contains(\r\n      emptyString(),                                     //additional element\r\n      allOf(containsString(&quot;08&quot;), containsString(&quot;15&quot;)), //extended constraint\r\n      containsString(&quot;217&quot;)));                           // unchanged\r\n\r\nTests being dependent on the list index will have to be renumbered for this example, Tests using a custom condition will have to rewrite the complete condition (note that the constraints in `allOf` are not restricted to substring checks).","title":"Asserting properties on list elements with assertJ","body":"<p>I have a working hamcrest assertion:</p>\n\n<pre><code>assertThat(mylist, contains(\n  containsString(\"15\"), \n  containsString(\"217\")));\n</code></pre>\n\n<p>The intended behavior is:</p>\n\n<ul>\n<li><code>mylist == asList(\"Abcd15\", \"217aB\")</code> => success</li>\n<li><code>myList == asList(\"Abcd15\", \"218\")</code> => failure</li>\n</ul>\n\n<p>How can I migrate this expression to assertJ. Of course there exist naive solutions, like asserting on the first and second value, like this:</p>\n\n<pre><code>assertThat(mylist.get(0)).contains(\"15\");\nassertThat(mylist.get(1)).contains(\"217\");\n</code></pre>\n\n<p>But these are assertions on the list elements, not on the list. Trying asserts on the list restricts me to very generic functions. So maybe it could be only resolved with a custom assertion, something like the following would be fine:</p>\n\n<pre><code>assertThat(mylist).elements()\n  .next().contains(\"15\")\n  .next().contains(\"217\")\n</code></pre>\n\n<p>But before I write a custom assert, I would be interested in how others would solve this problem?  </p>\n\n<p>Edit: One additional non-functional requirement is, that the test should be easily extendible by additional contstraints. In Hamcrest it is quite easy to express additional constraints, e.g. </p>\n\n<pre><code>assertThat(mylist, contains(\n  emptyString(),                                     //additional element\n  allOf(containsString(\"08\"), containsString(\"15\")), //extended constraint\n  containsString(\"217\")));                           // unchanged\n</code></pre>\n\n<p>Tests being dependent on the list index will have to be renumbered for this example, Tests using a custom condition will have to rewrite the complete condition (note that the constraints in <code>allOf</code> are not restricted to substring checks).</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":2,"creation_date":1679659309,"post_id":75833347,"comment_id":133764805,"body_markdown":"Sounds like a use-case for profiles: https://maven.apache.org/guides/introduction/introduction-to-profiles.html","body":"Sounds like a use-case for profiles: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679664677,"post_id":75833347,"comment_id":133766248,"body_markdown":"Why do you need two pom files? What are the differences? Please describe more in detail what the differences are? Maybe Profiles could be an answer? But without the context and the differences it&#39;s hard to even guess..","body":"Why do you need two pom files? What are the differences? Please describe more in detail what the differences are? Maybe Profiles could be an answer? But without the context and the differences it&#39;s hard to even guess.."}],"owner":{"account_id":5268299,"reputation":11,"user_id":4207440,"display_name":"User1515"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679658979,"creation_date":1679658979,"question_id":75833347,"body_markdown":"I am trying to implement a project in such a way that, when a specific workflow is initiated one pom (say : pom.xml) should be called and used, if another workflow is initiated use and call pom2.xml.\r\n\r\nFor e.g: workflow1 from github actions: use pom.xml, \r\nworkflow2 from github actions: use pom2.xml\r\n\r\nThe project and code remains the same but there are certain alterations to the workflows.\r\nIm currently using **mvn clean test** command to invoke a single pom.\r\n\r\nAny suggestion would be highly appreciated.\r\n\r\nThanks\r\n  ","title":"How to use 2 POM.xml in java maven project","body":"<p>I am trying to implement a project in such a way that, when a specific workflow is initiated one pom (say : pom.xml) should be called and used, if another workflow is initiated use and call pom2.xml.</p>\n<p>For e.g: workflow1 from github actions: use pom.xml,\nworkflow2 from github actions: use pom2.xml</p>\n<p>The project and code remains the same but there are certain alterations to the workflows.\nIm currently using <strong>mvn clean test</strong> command to invoke a single pom.</p>\n<p>Any suggestion would be highly appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","jpa","spring-data-jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1678293003,"post_id":75675632,"comment_id":133505530,"body_markdown":"Why do you need to change the aliases or why do you even care about them?","body":"Why do you need to change the aliases or why do you even care about them?"},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1678294639,"post_id":75675632,"comment_id":133506064,"body_markdown":"It is quite complex to explain why :) In summary I&#39;m building dynamic native sql query in which I have to use Oracle&#39;s `row_function()` with `over` keyword. In `over` I&#39;m referencing alias in `from` clause. So I need to be able to set my custom alias.","body":"It is quite complex to explain why :) In summary I&#39;m building dynamic native sql query in which I have to use Oracle&#39;s <code>row_function()</code> with <code>over</code> keyword. In <code>over</code> I&#39;m referencing alias in <code>from</code> clause. So I need to be able to set my custom alias."},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1678295746,"post_id":75675632,"comment_id":133506400,"body_markdown":"You need raw SQL here.","body":"You need raw SQL here."},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1678350141,"post_id":75675632,"comment_id":133516072,"body_markdown":"You&#39;re positive that I cannot predefine those aliases programmatically?","body":"You&#39;re positive that I cannot predefine those aliases programmatically?"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1678350549,"post_id":75675632,"comment_id":133516171,"body_markdown":"There is a design problem here.  If you need to use Oracle&#39;s analytic functions, then I would say that absolutely you should be using a native query, or possibly a prepared stored proc, but not CriteriaBuilder.","body":"There is a design problem here.  If you need to use Oracle&#39;s analytic functions, then I would say that absolutely you should be using a native query, or possibly a prepared stored proc, but not CriteriaBuilder."},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1678354045,"post_id":75675632,"comment_id":133517165,"body_markdown":"Native query is used at the end but this subquery is generated programmatically using CriteriaAPI, once I generate query I insert at appropriate place this: `, row_number() over(ORDER BY ebillorder0_.CREATION_TIME) row_number_ ` Then I run: `Query query = entityManager.createNativeQuery(sb.toString());`","body":"Native query is used at the end but this subquery is generated programmatically using CriteriaAPI, once I generate query I insert at appropriate place this: <code>, row_number() over(ORDER BY ebillorder0_.CREATION_TIME) row_number_ </code> Then I run: <code>Query query = entityManager.createNativeQuery(sb.toString());</code>"},{"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"score":0,"creation_date":1678354163,"post_id":75675632,"comment_id":133517200,"body_markdown":"I manually set &#39;ebillorder0_.CREATION_TIME&#39; but I want that ebillorder0_ to be set as myOrder","body":"I manually set &#39;ebillorder0_.CREATION_TIME&#39; but I want that ebillorder0_ to be set as myOrder"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679658852,"creation_date":1679658852,"answer_id":75833324,"question_id":75675632,"body_markdown":"I don&#39;t quite understand what you are trying to achieve here, maybe you could share the SQL you want to execute?\r\nEither way, usually you can try to use a custom `SQLFunction` for this purpose. This is a Hibernate contract that allows you to render custom SQL fragments for a function in HQL/Criteria.\r\n\r\nE.g. you can write something like this:\r\n\r\n```sql\r\nfrom MyEntity e\r\nwhere my_function(e.id) = 1\r\n```\r\n\r\nand the `SQLFunction` that you register under the name `my_function` can render a SQL fragment of your choice.","title":"How to use alias in JPA Criteria API in FROM and SELECT clause in Java?","body":"<p>I don't quite understand what you are trying to achieve here, maybe you could share the SQL you want to execute?\nEither way, usually you can try to use a custom <code>SQLFunction</code> for this purpose. This is a Hibernate contract that allows you to render custom SQL fragments for a function in HQL/Criteria.</p>\n<p>E.g. you can write something like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>from MyEntity e\nwhere my_function(e.id) = 1\n</code></pre>\n<p>and the <code>SQLFunction</code> that you register under the name <code>my_function</code> can render a SQL fragment of your choice.</p>\n"}],"owner":{"account_id":8210886,"reputation":814,"user_id":20390023,"display_name":"Wrapper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679658852,"creation_date":1678292668,"question_id":75675632,"body_markdown":"My current code generates native sql like this:\r\n\r\n  \r\n&lt;!-- language: sql --&gt;\r\n    select ebillorder0_.ID as id1_3_, \r\n    from COMORC_NUTE_EBILL_ORDERS ebillorder0_ \r\n    inner join COMORC_NUTE_EBILL_CUSTOMER ebillcusto1_ on ebillorder0_.EBILL_CUSTOMER=ebillcusto1_.ID \r\n    where ebillorder0_.ORDER_TYPE=? and ebillorder0_.ORDER_STATUS=? and ebillcusto1_.CHANNEL=? and (ebillorder0_.LANGUAGE not in  (?))\r\n\r\n\r\nIn `from`, `where` and `select` clauses I would like to use some predefined alias. That is, I need my code to generates something like this:\r\n&lt;!-- language: sql --&gt;\r\n    select myOrder.ID as id1_3_, \r\n    from COMORC_NUTE_EBILL_ORDERS myOrder\r\n    inner join COMORC_NUTE_EBILL_CUSTOMER ebillcusto1_ on myOrder.EBILL_CUSTOMER=ebillcusto1_.ID \r\n    where myOrder.ORDER_TYPE=? and myOrder.ORDER_STATUS=? and ebillcusto1_.CHANNEL=? and (myOrder.LANGUAGE not in  (?))\r\n\r\nThe code that generates first described query is like so:\r\n\r\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;EbillOrder&gt; criteriaQuery = criteriaBuilder.createQuery(EbillOrder.class);\r\n    Root&lt;EbillOrder&gt; ebillOrderRoot = (Root&lt;EbillOrder&gt;) criteriaQuery.from(EbillOrder.class);\r\n    Join&lt;EbillOrder, EbillCustomer&gt; customerJoin = ebillOrderRoot.join(&quot;ebillCustomer&quot;);\r\n    \r\n    criteriaQuery = criteriaQuery.select(ebillOrderRoot.get(&quot;id&quot;)).where(predicates.toArray(new Predicate[0]));\r\n    \r\n            Query innerQuery = entityManager.createQuery(criteriaQuery);\r\n            String innerQuerySql = com.vladmihalcea.hibernate.type.util.SQLExtractor.from(innerQuery);\r\n\r\nI have tried many things, but this is most relevant I have got:\r\n\r\n\r\n    criteriaQuery = criteriaQuery.select((Selection) ebillOrderRoot.get(&quot;id&quot;).alias(&quot;myOrder&quot;)).where(predicates.toArray(new Predicate[0]));\r\n\r\nRelation between Batch and Order is 1-1.","title":"How to use alias in JPA Criteria API in FROM and SELECT clause in Java?","body":"<p>My current code generates native sql like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select ebillorder0_.ID as id1_3_, \nfrom COMORC_NUTE_EBILL_ORDERS ebillorder0_ \ninner join COMORC_NUTE_EBILL_CUSTOMER ebillcusto1_ on ebillorder0_.EBILL_CUSTOMER=ebillcusto1_.ID \nwhere ebillorder0_.ORDER_TYPE=? and ebillorder0_.ORDER_STATUS=? and ebillcusto1_.CHANNEL=? and (ebillorder0_.LANGUAGE not in  (?))\n</code></pre>\n<p>In <code>from</code>, <code>where</code> and <code>select</code> clauses I would like to use some predefined alias. That is, I need my code to generates something like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select myOrder.ID as id1_3_, \nfrom COMORC_NUTE_EBILL_ORDERS myOrder\ninner join COMORC_NUTE_EBILL_CUSTOMER ebillcusto1_ on myOrder.EBILL_CUSTOMER=ebillcusto1_.ID \nwhere myOrder.ORDER_TYPE=? and myOrder.ORDER_STATUS=? and ebillcusto1_.CHANNEL=? and (myOrder.LANGUAGE not in  (?))\n</code></pre>\n<p>The code that generates first described query is like so:</p>\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;EbillOrder&gt; criteriaQuery = criteriaBuilder.createQuery(EbillOrder.class);\nRoot&lt;EbillOrder&gt; ebillOrderRoot = (Root&lt;EbillOrder&gt;) criteriaQuery.from(EbillOrder.class);\nJoin&lt;EbillOrder, EbillCustomer&gt; customerJoin = ebillOrderRoot.join(&quot;ebillCustomer&quot;);\n\ncriteriaQuery = criteriaQuery.select(ebillOrderRoot.get(&quot;id&quot;)).where(predicates.toArray(new Predicate[0]));\n\n        Query innerQuery = entityManager.createQuery(criteriaQuery);\n        String innerQuerySql = com.vladmihalcea.hibernate.type.util.SQLExtractor.from(innerQuery);\n</code></pre>\n<p>I have tried many things, but this is most relevant I have got:</p>\n<pre><code>criteriaQuery = criteriaQuery.select((Selection) ebillOrderRoot.get(&quot;id&quot;).alias(&quot;myOrder&quot;)).where(predicates.toArray(new Predicate[0]));\n</code></pre>\n<p>Relation between Batch and Order is 1-1.</p>\n"},{"tags":["java","android","space","navigationview"],"answers":[{"tags":[],"owner":{"account_id":5352799,"reputation":2474,"user_id":4266459,"accept_rate":11,"display_name":"bond007"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1441303672,"creation_date":1441303672,"answer_id":32382634,"question_id":32382563,"body_markdown":"You can apply following Theme in your styles.xml for Navigation Drawer\r\n\r\n    &lt;style name=&quot;NavigationTheme&quot; parent=&quot;AppTheme&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;14sp&lt;/item&gt;\r\n        &lt;item  name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\nApply this theme in Navigation Drawer \r\n\r\n    android:theme=&quot;@style/NavigationTheme&quot;","title":"how to change size of navigation view menu items and text?? How to change space between menu?","body":"<p>You can apply following Theme in your styles.xml for Navigation Drawer</p>\n\n<pre><code>&lt;style name=\"NavigationTheme\" parent=\"AppTheme\"&gt;\n    &lt;item name=\"android:textSize\"&gt;14sp&lt;/item&gt;\n    &lt;item  name=\"android:textStyle\"&gt;bold&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Apply this theme in Navigation Drawer </p>\n\n<pre><code>android:theme=\"@style/NavigationTheme\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2679213,"reputation":2715,"user_id":2314881,"accept_rate":32,"display_name":"Amrut"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1448886129,"creation_date":1448886129,"answer_id":33998585,"question_id":32382563,"body_markdown":"Create following Theme in your styles.xml for Navigation Drawer and you&#39;re done.\r\n\r\n    &lt;style name=&quot;NavigationTheme&quot; parent=&quot;AppTheme&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;16sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_marginBottom&quot;&gt;02dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nApply this theme to your navigation drawer layout","title":"how to change size of navigation view menu items and text?? How to change space between menu?","body":"<p>Create following Theme in your styles.xml for Navigation Drawer and you're done.</p>\n\n<pre><code>&lt;style name=\"NavigationTheme\" parent=\"AppTheme\"&gt;\n    &lt;item name=\"android:textSize\"&gt;16sp&lt;/item&gt;\n    &lt;item name=\"android:layout_marginBottom\"&gt;02dp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Apply this theme to your navigation drawer layout</p>\n"},{"tags":[],"owner":{"account_id":6324620,"reputation":4412,"user_id":4911434,"accept_rate":100,"display_name":"Alessandro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591796678,"creation_date":1591796678,"answer_id":62305159,"question_id":32382563,"body_markdown":"The others solutions didn&#39;t worked for me, so I finally solved using the following theme:\r\n\r\n\r\n    &lt;style name=&quot;NavigationTheme&quot; parent=&quot;AppTheme&quot;&gt;\r\n        &lt;item name=&quot;listPreferredItemHeightSmall&quot;&gt;40dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAnd I applied it to the NavigationView:\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:theme=&quot;@style/NavigationTheme&quot;","title":"how to change size of navigation view menu items and text?? How to change space between menu?","body":"<p>The others solutions didn't worked for me, so I finally solved using the following theme:</p>\n\n<pre><code>&lt;style name=\"NavigationTheme\" parent=\"AppTheme\"&gt;\n    &lt;item name=\"listPreferredItemHeightSmall\"&gt;40dp&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>And I applied it to the NavigationView:</p>\n\n<pre><code>&lt;com.google.android.material.navigation.NavigationView\n    android:theme=\"@style/NavigationTheme\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27817043,"reputation":1,"user_id":21238218,"display_name":"Akshita Bhandari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679658289,"creation_date":1679658289,"answer_id":75833246,"question_id":32382563,"body_markdown":"add these line in navigation drawer layout of your xml file.\r\n\r\n \r\n       &lt;com.google.android.material.navigation.NavigationView\r\n\r\n        app:itemVerticalPadding=&quot;10sp&quot;/&gt;\r\n\r\n\r\n","title":"how to change size of navigation view menu items and text?? How to change space between menu?","body":"<p>add these line in navigation drawer layout of your xml file.</p>\n<pre><code>   &lt;com.google.android.material.navigation.NavigationView\n\n    app:itemVerticalPadding=&quot;10sp&quot;/&gt;\n</code></pre>\n"}],"owner":{"display_name":"user3623979"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16865,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":33998585,"answer_count":4,"score":9,"last_activity_date":1679658289,"creation_date":1441303413,"question_id":32382563,"body_markdown":"I am making a sliding menu. I have successfully created a navigation drawer and menu items inside the navigation view in groups. But I want to make the items closer to each other. Can I change the spacing or size of items and text?\r\nPlease help...","title":"how to change size of navigation view menu items and text?? How to change space between menu?","body":"<p>I am making a sliding menu. I have successfully created a navigation drawer and menu items inside the navigation view in groups. But I want to make the items closer to each other. Can I change the spacing or size of items and text?\nPlease help...</p>\n"},{"tags":["java","xml","jackson","jaxb"],"comments":[{"owner":{"account_id":7584775,"reputation":617,"user_id":6251665,"display_name":"Bender"},"score":0,"creation_date":1557921820,"post_id":52999562,"comment_id":98927099,"body_markdown":"did you manage to resolve this?","body":"did you manage to resolve this?"},{"owner":{"account_id":2864110,"reputation":566,"user_id":2458755,"accept_rate":84,"display_name":"PunDefeated"},"score":0,"creation_date":1557939532,"post_id":52999562,"comment_id":98937932,"body_markdown":"I ended up just doing a string replace on the result. Couldn&#39;t figure out how to do it using JAXB.","body":"I ended up just doing a string replace on the result. Couldn&#39;t figure out how to do it using JAXB."},{"owner":{"account_id":7584775,"reputation":617,"user_id":6251665,"display_name":"Bender"},"score":0,"creation_date":1557940292,"post_id":52999562,"comment_id":98938269,"body_markdown":"sad to hear it, but tnx for reply","body":"sad to hear it, but tnx for reply"}],"answers":[{"tags":[],"owner":{"account_id":13517413,"reputation":1,"user_id":9751604,"display_name":"gongxiansheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597936740,"creation_date":1597927768,"answer_id":63505475,"question_id":52999562,"body_markdown":"I meet the same problem and I have resolved this problem by reloading the class `BufferingXmlWriter` (copy from source code and modify a method), the reloading must before that you use Jackson to produce an XML\r\n1. Create package com.ctc.wstx.sw and create class `BufferingXmlWriter`\r\n2. Copy source code from real `com.ctc.wstx.sw.BufferingXmlWriter`\r\n3. Modify method \r\n`writeXmlDeclaration(String version, String encoding, String standalone)`\r\n\r\n```java\r\npublic void writeXmlDeclaration(String version, String encoding, String standalone)\r\n            throws IOException\r\n {\r\n       // final char chQuote = (mUseDoubleQuotesInXmlDecl ? &#39;&quot;&#39; : &#39;\\&#39;&#39;);\r\n        final char chQuote = &#39;&quot;&#39;;\r\n    \r\n        fastWriteRaw(&quot;&lt;?xml version=&quot;);\r\n        fastWriteRaw(chQuote);\r\n        fastWriteRaw(version);\r\n        fastWriteRaw(chQuote);\r\n    \r\n        if (encoding != null &amp;&amp; encoding.length() &gt; 0) {\r\n            fastWriteRaw(&quot; encoding=&quot;);\r\n            fastWriteRaw(chQuote);\r\n            fastWriteRaw(encoding);\r\n            fastWriteRaw(chQuote);\r\n        }\r\n        if (standalone == null) {\r\n            fastWriteRaw(&quot; standalone=&quot;);\r\n            fastWriteRaw(chQuote);\r\n            fastWriteRaw(&quot;yes&quot;);\r\n            fastWriteRaw(chQuote);\r\n        }\r\n        fastWriteRaw(&#39;?&#39;, &#39;&gt;&#39;);\r\n }    \r\n```\r\n\r\n4. Reload\r\n\r\n        Class.forName(&quot;com.ctc.wstx.sw.BufferingXmlWriter&quot;);\r\n\r\n5. Result\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n\r\n\r\n","title":"Add standalone directive to Jackson XML serialization","body":"<p>I meet the same problem and I have resolved this problem by reloading the class <code>BufferingXmlWriter</code> (copy from source code and modify a method), the reloading must before that you use Jackson to produce an XML</p>\n<ol>\n<li>Create package com.ctc.wstx.sw and create class <code>BufferingXmlWriter</code></li>\n<li>Copy source code from real <code>com.ctc.wstx.sw.BufferingXmlWriter</code></li>\n<li>Modify method\n<code>writeXmlDeclaration(String version, String encoding, String standalone)</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public void writeXmlDeclaration(String version, String encoding, String standalone)\n            throws IOException\n {\n       // final char chQuote = (mUseDoubleQuotesInXmlDecl ? '&quot;' : '\\'');\n        final char chQuote = '&quot;';\n    \n        fastWriteRaw(&quot;&lt;?xml version=&quot;);\n        fastWriteRaw(chQuote);\n        fastWriteRaw(version);\n        fastWriteRaw(chQuote);\n    \n        if (encoding != null &amp;&amp; encoding.length() &gt; 0) {\n            fastWriteRaw(&quot; encoding=&quot;);\n            fastWriteRaw(chQuote);\n            fastWriteRaw(encoding);\n            fastWriteRaw(chQuote);\n        }\n        if (standalone == null) {\n            fastWriteRaw(&quot; standalone=&quot;);\n            fastWriteRaw(chQuote);\n            fastWriteRaw(&quot;yes&quot;);\n            fastWriteRaw(chQuote);\n        }\n        fastWriteRaw('?', '&gt;');\n }    \n</code></pre>\n<ol start=\"4\">\n<li><p>Reload</p>\n<pre><code> Class.forName(&quot;com.ctc.wstx.sw.BufferingXmlWriter&quot;);\n</code></pre>\n</li>\n<li><p>Result</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13646162,"reputation":328,"user_id":9845110,"display_name":"rahulkesharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679658260,"creation_date":1679658260,"answer_id":75833239,"question_id":52999562,"body_markdown":"If you want exactly as JaxB then solution provided by @gongxiansheng would work.\r\n\r\nBut if you are looking for **double quoted XML declaration** like me and have default Woodstox dependency then below setting will just be fine:\r\n\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);  // for Pretty print or formatting\r\n        xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\r\n        xmlMapper.getFactory().getXMLOutputFactory().setProperty(WstxOutputProperties.P_USE_DOUBLE_QUOTES_IN_XML_DECL, true);\r\n        String reqXml = xmlMapper.writeValueAsString(new MyRequestDetail());\r\n\r\nThis will result in double quoted xml declaration:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n**Note:** More configurations are listed here on this excellent article: [Configuring Woodstox XML parser: Woodstox-specific properties][1] \r\n\r\n\r\n  [1]: https://cowtowncoder.medium.com/configuring-woodstox-xml-parser-woodstox-specific-properties-1ce5030a5173","title":"Add standalone directive to Jackson XML serialization","body":"<p>If you want exactly as JaxB then solution provided by @gongxiansheng would work.</p>\n<p>But if you are looking for <strong>double quoted XML declaration</strong> like me and have default Woodstox dependency then below setting will just be fine:</p>\n<pre><code>    XmlMapper xmlMapper = new XmlMapper();\n    xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);  // for Pretty print or formatting\n    xmlMapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\n    xmlMapper.getFactory().getXMLOutputFactory().setProperty(WstxOutputProperties.P_USE_DOUBLE_QUOTES_IN_XML_DECL, true);\n    String reqXml = xmlMapper.writeValueAsString(new MyRequestDetail());\n</code></pre>\n<p>This will result in double quoted xml declaration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p><strong>Note:</strong> More configurations are listed here on this excellent article: <a href=\"https://cowtowncoder.medium.com/configuring-woodstox-xml-parser-woodstox-specific-properties-1ce5030a5173\" rel=\"nofollow noreferrer\">Configuring Woodstox XML parser: Woodstox-specific properties</a></p>\n"}],"owner":{"account_id":2864110,"reputation":566,"user_id":2458755,"accept_rate":84,"display_name":"PunDefeated"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1890,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679658260,"creation_date":1540511162,"question_id":52999562,"body_markdown":"I&#39;m trying to get Jackson to produce an XML header like JAXB does, but I can&#39;t figure out how to add the &quot;standalone=&#39;yes&#39;?&quot;\r\n\r\nExample:\r\n\r\n    public class XmlTest {\r\n    \r\n        @XmlRootElement\r\n        public static class Book {\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void testBookXml() throws JsonProcessingException {\r\n            XmlMapper mapper = new XmlMapper();\r\n            mapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\r\n    \r\n            System.out.println(&quot;Jackson\\n&quot; + mapper.writeValueAsString(new Book()) + &quot;\\n&quot;);\r\n    \r\n            StringWriter sw = new StringWriter();\r\n            JAXB.marshal(new Book(), sw);\r\n            System.out.println(&quot;JAXB\\n&quot; + sw.toString());\r\n        }\r\n    }\r\n\r\nThe output is this:\r\n\r\n    Jackson\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&lt;Book/&gt;\r\n    \r\n    JAXB\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;book/&gt;\r\n\r\nI don&#39;t care about `&lt;Book/&gt; vs &lt;book/&gt;`. Other than String manipulation, is there a way to get the Jackson header to be like the JAXB one?","title":"Add standalone directive to Jackson XML serialization","body":"<p>I'm trying to get Jackson to produce an XML header like JAXB does, but I can't figure out how to add the \"standalone='yes'?\"</p>\n\n<p>Example:</p>\n\n<pre><code>public class XmlTest {\n\n    @XmlRootElement\n    public static class Book {\n\n    }\n\n    @Test\n    public void testBookXml() throws JsonProcessingException {\n        XmlMapper mapper = new XmlMapper();\n        mapper.configure(ToXmlGenerator.Feature.WRITE_XML_DECLARATION, true);\n\n        System.out.println(\"Jackson\\n\" + mapper.writeValueAsString(new Book()) + \"\\n\");\n\n        StringWriter sw = new StringWriter();\n        JAXB.marshal(new Book(), sw);\n        System.out.println(\"JAXB\\n\" + sw.toString());\n    }\n}\n</code></pre>\n\n<p>The output is this:</p>\n\n<pre><code>Jackson\n&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;Book/&gt;\n\nJAXB\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;book/&gt;\n</code></pre>\n\n<p>I don't care about <code>&lt;Book/&gt; vs &lt;book/&gt;</code>. Other than String manipulation, is there a way to get the Jackson header to be like the JAXB one?</p>\n"},{"tags":["java","resttemplate","openapi-generator-maven-plugin"],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679658067,"creation_date":1679658067,"question_id":75833209,"body_markdown":"I&#39;m using the client generator for Java with resttemplate to generate a client from a OAS 3 specification containing a variable for the server URL:\r\n```\r\n    servers:\r\n      - url: https://{environment}.example.com/v2\r\n        variables:\r\n          environment:\r\n            default: api    # Production server\r\n            enum:\r\n              - api         # Production server\r\n              - api.dev     # Development server\r\n              - api.staging # Staging server\r\n```\r\nI would have expected that the generated code would contain an enum called &#39;Environment&#39; with values `&quot;api&quot;`, `&quot;api.dev&quot;`, `&quot;api.staging&quot;` and a method to pass these values to the `apiClient`.\r\n\r\nHowever, looking at the generated code, this does not seem to be the case. `apiClient` has a member `basepath` that is initialized to a string representing the default case: `&quot;https://api.example.com/v2&quot;`. There is a setter for basepath so I can work around this, but I&#39;m wondering if I overlooked anything. Is there really no native support for variables generated by the java generator?","title":"How to set variable in server URL with generated resttemplate client?","body":"<p>I'm using the client generator for Java with resttemplate to generate a client from a OAS 3 specification containing a variable for the server URL:</p>\n<pre><code>    servers:\n      - url: https://{environment}.example.com/v2\n        variables:\n          environment:\n            default: api    # Production server\n            enum:\n              - api         # Production server\n              - api.dev     # Development server\n              - api.staging # Staging server\n</code></pre>\n<p>I would have expected that the generated code would contain an enum called 'Environment' with values <code>&quot;api&quot;</code>, <code>&quot;api.dev&quot;</code>, <code>&quot;api.staging&quot;</code> and a method to pass these values to the <code>apiClient</code>.</p>\n<p>However, looking at the generated code, this does not seem to be the case. <code>apiClient</code> has a member <code>basepath</code> that is initialized to a string representing the default case: <code>&quot;https://api.example.com/v2&quot;</code>. There is a setter for basepath so I can work around this, but I'm wondering if I overlooked anything. Is there really no native support for variables generated by the java generator?</p>\n"},{"tags":["java","swing","netbeans","colors","jlabel"],"answers":[{"tags":[],"owner":{"account_id":2528681,"reputation":2066,"user_id":2291632,"accept_rate":85,"display_name":"Abdelrahman Wahdan"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1365434440,"creation_date":1365434440,"answer_id":15882940,"question_id":15882886,"body_markdown":"Simply the code is\r\n\r\n    jLabel1.setForeground(Color.red);","title":"Jlabel color change","body":"<p>Simply the code is</p>\n\n<pre><code>jLabel1.setForeground(Color.red);\n</code></pre>\n"}],"owner":{"display_name":"user2255507"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76263,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":15882940,"answer_count":1,"score":34,"last_activity_date":1679657827,"creation_date":1365434303,"question_id":15882886,"body_markdown":"I tried to change the color of a jlabel in java netbeans\r\n\r\nI need a code to change the jLabel color\r\n\r\nLike:\r\n\r\n    JLabel.SetColor(Color.RED);","title":"Jlabel color change","body":"<p>I tried to change the color of a jlabel in java netbeans</p>\n\n<p>I need a code to change the jLabel color</p>\n\n<p>Like:</p>\n\n<pre><code>JLabel.SetColor(Color.RED);\n</code></pre>\n"},{"tags":["java","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679657255,"creation_date":1679657255,"answer_id":75833074,"question_id":75832796,"body_markdown":"As the error suggests, its not the GenericData you get there in ConsumerRecord but the GenericData.Record. Did you try with?\r\n\r\n        public void consume(ConsumerRecord&lt;String, GenericData.Record&gt; record)\r\nor\r\n\r\n        public void consume(ConsumerRecord&lt;String, GenericRecord&gt; record)  ","title":"How to convert GenericData to JsonNode","body":"<p>As the error suggests, its not the GenericData you get there in ConsumerRecord but the GenericData.Record. Did you try with?</p>\n<pre><code>    public void consume(ConsumerRecord&lt;String, GenericData.Record&gt; record)\n</code></pre>\n<p>or</p>\n<pre><code>    public void consume(ConsumerRecord&lt;String, GenericRecord&gt; record)  \n</code></pre>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833074,"answer_count":1,"score":0,"last_activity_date":1679657255,"creation_date":1679655468,"question_id":75832796,"body_markdown":"Stacked in next task:\r\nwhen I consume new Kafka Avro message\r\n\r\n    @KafkaListener(topics = &quot;#{&#39;${kafka.topic.name}&#39;}&quot;,\r\n    \t\tproperties = {&quot;specific.avro.reader=false&quot;})\r\n    public void consume(ConsumerRecord&lt;String, GenericData&gt; record) \r\nI need to get JsonNode from message value\r\n\r\n    try {\r\n    \t\tJsonNode recordNode = mapper.readTree(record.value().toString());\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Failed to parse consumer record &quot; + key, ex);\r\n    \t\t}\r\n\r\nand here I get `java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to org.apache.avro.generic.GenericData`\r\nwhat&#39;s wrong here?","title":"How to convert GenericData to JsonNode","body":"<p>Stacked in next task:\nwhen I consume new Kafka Avro message</p>\n<pre><code>@KafkaListener(topics = &quot;#{'${kafka.topic.name}'}&quot;,\n        properties = {&quot;specific.avro.reader=false&quot;})\npublic void consume(ConsumerRecord&lt;String, GenericData&gt; record) \n</code></pre>\n<p>I need to get JsonNode from message value</p>\n<pre><code>try {\n        JsonNode recordNode = mapper.readTree(record.value().toString());\n        } catch (IOException ex) {\n            throw new IllegalArgumentException(&quot;Failed to parse consumer record &quot; + key, ex);\n        }\n</code></pre>\n<p>and here I get <code>java.lang.ClassCastException: org.apache.avro.generic.GenericData$Record cannot be cast to org.apache.avro.generic.GenericData</code>\nwhat's wrong here?</p>\n"},{"tags":["java","xml","spring","jackson","woodstox"],"comments":[{"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"score":1,"creation_date":1505922528,"post_id":46317224,"comment_id":79613861,"body_markdown":"`xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);` , but it&#39;s kinda obvious. Do you want something to control pretty print format?","body":"<code>xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);</code> , but it&#39;s kinda obvious. Do you want something to control pretty print format?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1505938774,"post_id":46317224,"comment_id":79623039,"body_markdown":"Well and how can I then convert the existing `String xml = &lt;xml&gt;&lt;MyRequest&gt;&lt;someProperty attribute=&quot;test&quot;/&gt;&lt;/MyRequest&gt;&lt;/xml&gt;` to an *indented* string? As written, I don&#39;t have a java object to parse, just a oneliner string that contains the xml I want to format.","body":"Well and how can I then convert the existing <code>String xml = &lt;xml&gt;&lt;MyRequest&gt;&lt;someProperty attribute=&quot;test&quot;&#47;&gt;&lt;&#47;MyRequest&gt;&lt;&#47;xml&gt;</code> to an <i>indented</i> string? As written, I don&#39;t have a java object to parse, just a oneliner string that contains the xml I want to format."},{"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"score":0,"creation_date":1505945771,"post_id":46317224,"comment_id":79625900,"body_markdown":"you still need to parse your string somehow. Easy option is like this: `xmlMapper.writeValueAsString(xmlMapper.readTree(xmlString))` but i think  custom pojo can outperforme it by 30-50%","body":"you still need to parse your string somehow. Easy option is like this: <code>xmlMapper.writeValueAsString(xmlMapper.readTree(xmlString))</code> but i think  custom pojo can outperforme it by 30-50%"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":2,"creation_date":1505947041,"post_id":46317224,"comment_id":79626314,"body_markdown":"also: if ALL you want to do is to indent an XML input/String (... although, why?), Jackson may be overkill. I think there are other libs that can do this one task (with usual caveats that white space in XML may have meaning and automatic indentation can change meaning for some inputs -- but I assume not in your case)","body":"also: if ALL you want to do is to indent an XML input/String (... although, why?), Jackson may be overkill. I think there are other libs that can do this one task (with usual caveats that white space in XML may have meaning and automatic indentation can change meaning for some inputs -- but I assume not in your case)"},{"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"score":0,"creation_date":1505965108,"post_id":46317224,"comment_id":79630353,"body_markdown":"@SlaxMan + 1 and btw @membersound there is default java parsers you can use `javax.xml.*`. More boilerplate code but much more flexible. Something like this https://github.com/varren/JavaFXWebViewPrettyXML/blob/master/src/main/java/sample/XmlWebViewHelper.java#L97-L115 (probably you can find better demos, i just used it for one old project)","body":"@SlaxMan + 1 and btw @membersound there is default java parsers you can use <code>javax.xml.*</code>. More boilerplate code but much more flexible. Something like this <a href=\"https://github.com/varren/JavaFXWebViewPrettyXML/blob/master/src/main/java/sample/XmlWebViewHelper.java#L97-L115\" rel=\"nofollow noreferrer\">github.com/varren/JavaFXWebViewPrettyXML/blob/master/src/mai&zwnj;&#8203;n/&hellip;</a> (probably you can find better demos, i just used it for one old project)"}],"answers":[{"tags":[],"owner":{"account_id":13646162,"reputation":328,"user_id":9845110,"display_name":"rahulkesharwani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679657117,"creation_date":1679657117,"answer_id":75833051,"question_id":46317224,"body_markdown":"This can be done by setting this property:\r\n\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    xmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    String reqXml = xmlMapper.writeValueAsString(new MyRequest());\r\n","title":"How to pretty print xml with jackson/woodstox?","body":"<p>This can be done by setting this property:</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nxmlMapper.enable(SerializationFeature.INDENT_OUTPUT);\nString reqXml = xmlMapper.writeValueAsString(new MyRequest());\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1854,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679657117,"creation_date":1505896785,"question_id":46317224,"body_markdown":"I have a xml input stream that contains all tags in one line, eg `&lt;xml&gt;&lt;MyRequest&gt;&lt;someProperty attribute=&quot;test&quot;/&gt;&lt;/MyRequest&gt;&lt;/xml&gt;`\r\n\r\nQuestion: how can I best output this *pretty printed*? \r\n\r\nUsing `jackson` and `woodstox`, it would be as follows if I had a simple java bean object:\r\n\r\n    ObjectMapper xmlMapper = new XmlMapper();\r\n    String xml = xmlMapper.writeValueAsString(new MyRequest());\r\n\r\nBut I don&#39;t have any java bean and don&#39;t want to create one. Just pretty print the given xml without transformation to any bean.\r\n\r\nHow could I best achieve this, with regards to performance?","title":"How to pretty print xml with jackson/woodstox?","body":"<p>I have a xml input stream that contains all tags in one line, eg <code>&lt;xml&gt;&lt;MyRequest&gt;&lt;someProperty attribute=\"test\"/&gt;&lt;/MyRequest&gt;&lt;/xml&gt;</code></p>\n\n<p>Question: how can I best output this <em>pretty printed</em>? </p>\n\n<p>Using <code>jackson</code> and <code>woodstox</code>, it would be as follows if I had a simple java bean object:</p>\n\n<pre><code>ObjectMapper xmlMapper = new XmlMapper();\nString xml = xmlMapper.writeValueAsString(new MyRequest());\n</code></pre>\n\n<p>But I don't have any java bean and don't want to create one. Just pretty print the given xml without transformation to any bean.</p>\n\n<p>How could I best achieve this, with regards to performance?</p>\n"},{"tags":["java","spring","intellij-idea"],"owner":{"account_id":25513908,"reputation":1,"user_id":19305060,"display_name":"Raki Belda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679656470,"creation_date":1679656470,"question_id":75832956,"body_markdown":"I have upgraded the version of spring from 5.2.22.Release to 6.0.0.\r\nAnd I am getting an error of &quot;Cannot access org.springframework.stereotype.Controller&quot;\r\n\r\n\r\nPom.xml\r\n```\r\n&lt;project xmlns=http://maven.apache.org/POM/4.0.0 xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance xsi:schemaLocation=http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n.\r\n.\r\n.\r\n\r\n&lt;properties&gt;\r\n   &lt;org.springframework.version&gt;6.0.0&lt;/org.springframework.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n   &lt;type&gt;jar&lt;/type&gt;\r\n   &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n   &lt;type&gt;jar&lt;/type&gt;\r\n   &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n   &lt;type&gt;jar&lt;/type&gt;\r\n   &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n   &lt;type&gt;jar&lt;/type&gt;\r\n   &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n   &lt;type&gt;jar&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n   &lt;type&gt;jar&lt;/type&gt;\r\n   &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n```\r\n\r\nThe class:\r\n```\r\npackage com.db.dbi.controller;\r\n\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\nimport javax.servlet.ServletException;\r\n//import javax.servlet.http.HttpServletRequest;\r\n//import javax.servlet.http.HttpServletResponse;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.stereotype.Controller;\r\n\r\n@Controller\r\n@RequestMapping(value = &quot;/mapping&quot;)\r\npublic class MappingController {\r\n…\r\n}\r\n```\r\n\r\n\r\nWhen compiling the code it is giving the following error: cannot access org.springframework.stereotype.Controller \r\n\r\n[enter image description here](https://i.stack.imgur.com/e5GJf.png)\r\n\r\n\r\n\r\n\r\n\r\nI don&#39;t know why it is giving that error...can anyone help me?\r\n\r\nThanks","title":"Cannot access org.springframework.stereotype.Controller. Spring version upgrade from 5.2.22.Release to 6.0.0","body":"<p>I have upgraded the version of spring from 5.2.22.Release to 6.0.0.\nAnd I am getting an error of &quot;Cannot access org.springframework.stereotype.Controller&quot;</p>\n<p>Pom.xml</p>\n<pre><code>&lt;project xmlns=http://maven.apache.org/POM/4.0.0 xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance xsi:schemaLocation=http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n.\n.\n.\n\n&lt;properties&gt;\n   &lt;org.springframework.version&gt;6.0.0&lt;/org.springframework.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n   &lt;type&gt;jar&lt;/type&gt;\n   &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n   &lt;type&gt;jar&lt;/type&gt;\n   &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n   &lt;type&gt;jar&lt;/type&gt;\n   &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n   &lt;type&gt;jar&lt;/type&gt;\n   &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n   &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n   &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n   &lt;type&gt;jar&lt;/type&gt;\n   &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n</code></pre>\n<p>The class:</p>\n<pre><code>package com.db.dbi.controller;\n\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Locale;\nimport java.util.Map;\n\nimport javax.servlet.ServletException;\n//import javax.servlet.http.HttpServletRequest;\n//import javax.servlet.http.HttpServletResponse;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.stereotype.Controller;\n\n@Controller\n@RequestMapping(value = &quot;/mapping&quot;)\npublic class MappingController {\n…\n}\n</code></pre>\n<p>When compiling the code it is giving the following error: cannot access org.springframework.stereotype.Controller</p>\n<p><a href=\"https://i.stack.imgur.com/e5GJf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't know why it is giving that error...can anyone help me?</p>\n<p>Thanks</p>\n"},{"tags":["java","sql","oracle","groovy","variable-binding"],"comments":[{"owner":{"account_id":5653919,"reputation":3555,"user_id":4473648,"accept_rate":88,"display_name":"Tushar"},"score":1,"creation_date":1679590987,"post_id":75825890,"comment_id":133752838,"body_markdown":"You can replace `sqlConnection.query(sql, [ids: [111, 222, 333]])`\n\nWith \n`List&lt;Integer&gt; ids = Arrays.asList(111, 222, 333)`\n`sqlConnection.query(sql, [ids: ids])`","body":"You can replace <code>sqlConnection.query(sql, [ids: [111, 222, 333]])</code>  With  <code>List&lt;Integer&gt; ids = Arrays.asList(111, 222, 333)</code> <code>sqlConnection.query(sql, [ids: ids])</code>"},{"owner":{"account_id":5653919,"reputation":3555,"user_id":4473648,"accept_rate":88,"display_name":"Tushar"},"score":0,"creation_date":1679591011,"post_id":75825890,"comment_id":133752845,"body_markdown":"Please let me know, if you still face any problems","body":"Please let me know, if you still face any problems"}],"answers":[{"tags":[],"owner":{"account_id":17404044,"reputation":728,"user_id":21139120,"display_name":"Bogdan Dincescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679656252,"creation_date":1679656252,"answer_id":75832922,"question_id":75825890,"body_markdown":"It won&#39;t work like that. It is possible only if you have a bind variable fore each of the members of the list.\r\nAn alternative would be not to use a bind variable at all in case of the in list, but just pass the whole list as a string to Oracle.","title":"How can I use oracle variable binding within IN-keyword","body":"<p>It won't work like that. It is possible only if you have a bind variable fore each of the members of the list.\nAn alternative would be not to use a bind variable at all in case of the in list, but just pass the whole list as a string to Oracle.</p>\n"}],"owner":{"account_id":5985870,"reputation":17,"user_id":4703463,"display_name":"Steffen S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75832922,"answer_count":1,"score":0,"last_activity_date":1679656252,"creation_date":1679590476,"question_id":75825890,"body_markdown":"I use variable binding in ORACLE with java/groovy like these:\r\n\r\n    String sql = &quot;SELECT * FROM myTable WHERE id = :id&quot;\r\n    sqlConnection.query(sql, [id: 111])\r\n\r\nIt works perfect. But when I try the same with an IN-keyword I got an error:\r\n\r\n    String sql = &quot;SELECT * FROM myTable WHERE id IN(:ids)&quot;\r\n    sqlConnection.query(sql, [ids: [111, 222, 333]])\r\n\r\nWhen I execute it I got this error:\r\njava.sql.SQLException: Invalid column type\r\n\r\nHas anybody an idea?","title":"How can I use oracle variable binding within IN-keyword","body":"<p>I use variable binding in ORACLE with java/groovy like these:</p>\n<pre><code>String sql = &quot;SELECT * FROM myTable WHERE id = :id&quot;\nsqlConnection.query(sql, [id: 111])\n</code></pre>\n<p>It works perfect. But when I try the same with an IN-keyword I got an error:</p>\n<pre><code>String sql = &quot;SELECT * FROM myTable WHERE id IN(:ids)&quot;\nsqlConnection.query(sql, [ids: [111, 222, 333]])\n</code></pre>\n<p>When I execute it I got this error:\njava.sql.SQLException: Invalid column type</p>\n<p>Has anybody an idea?</p>\n"},{"tags":["java","project-reactor"],"owner":{"account_id":2622229,"reputation":23,"user_id":2270024,"display_name":"SergPro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679655974,"creation_date":1679655619,"question_id":75832825,"body_markdown":"Example below emulates 4 web socket streams which are paired into two. I&#39;m interested in the latest values with 1 second interval (sampler). Each streams emits Longs at 100/200/400/800 intervals.\r\n\r\nResult below is not what I expected. Every execution yields different outcome where two different streams do not produce an error and latest value isn&#39;t captured downstream.\r\n\r\nWhat&#39;s the issue?\r\n\r\n\r\nRun 1 output, latest values of streams A2 and B2 are not captured downstream\r\n\r\n```\r\n[[A1,A2], [B1,B2]]\r\n[[986713, 11693], [1029188, 13]]\r\n[[2244117, 11693], [2371376, 13]]\r\n[[3056128, 11693], [3404041, 13]]\r\n[[3993366, 11693], [4565587, 13]]\r\n[[5058725, 11693], [5824156, 13]]\r\n[[6076848, 11693], [7394309, 13]]\r\n[[7163823, 11693], [8755053, 13]]\r\n[[8181283, 11693], [10111764, 13]]\r\n[[9253678, 11693], [11354241, 13]]\r\n[[9956826, 11693], [12184435, 13]]\r\n```\r\n\r\nRun 1 output, latest values of streams A1 and B2 are not captured downstream\r\n\r\n```\r\n[[A1,A2], [B1,B2]]\r\n[[8803, 1134696], [919741, 210387]]\r\n[[8803, 2635298], [2244405, 210387]]\r\n[[8803, 4348253], [3758049, 210387]]\r\n[[8803, 5126144], [4566010, 210387]]\r\n[[8803, 6451836], [5705757, 210387]]\r\n[[8803, 8076838], [6983352, 210387]]\r\n[[8803, 9528998], [8110670, 210387]]\r\n[[8803, 11152193], [9253840, 210387]]\r\n[[8803, 12706479], [10594726, 210387]]\r\n[[8803, 13976053], [11560597, 210387]]\r\n```\r\n\r\n\r\n```\r\npackage learn.reactor;\r\n\r\nimport lombok.extern.log4j.Log4j2;\r\nimport org.junit.jupiter.api.Test;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.scheduler.Schedulers;\r\nimport reactor.util.function.Tuple2;\r\nimport reactor.util.function.Tuples;\r\n\r\nimport java.time.Duration;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n@Log4j2\r\npublic class FailingCombineLatest2Tests {\r\n\r\n    private static Flux&lt;Long&gt; createHotPublisher(String name, Duration delay) {\r\n        return Flux.&lt;Long&gt;create(fluxSink -&gt; {\r\n                    // WebSocket emulator\r\n                    var disposable = Flux.interval(delay, Schedulers.newSingle(name + &quot;-http-nio-emu&quot;))\r\n                            .doOnNext(fluxSink::next)\r\n                            .doOnComplete(fluxSink::complete)\r\n                            .doOnError(fluxSink::error)\r\n                            .subscribe();\r\n\r\n                    fluxSink.onDispose(() -&gt; {\r\n                                log.debug(&quot;{}: onDispose&quot;, name);\r\n                                disposable.dispose();\r\n                            })\r\n                            .onCancel(() -&gt; log.debug(&quot;{}: onCancel&quot;, name))\r\n                            .onRequest(longConsumer -&gt; log.trace(&quot;{}: onRequest {}&quot;, name, longConsumer));\r\n                })\r\n                .doOnError(throwable -&gt; log.error(&quot;{}: error&quot;, name, throwable));\r\n    }\r\n\r\n    @Test\r\n    public void playTest() {\r\n        var source1A = createHotPublisher(&quot;1A&quot;, Duration.ofNanos(100));\r\n        var source1B = createHotPublisher(&quot;1B&quot;, Duration.ofNanos(200));\r\n\r\n        var source1latest = Flux.combineLatest(\r\n                        array -&gt; Arrays.stream(array).map(o -&gt; (Long) o).collect(Collectors.toList()),\r\n                        Integer.MAX_VALUE,\r\n                        source1A, source1B);\r\n\r\n        var source2A = createHotPublisher(&quot;2A&quot;, Duration.ofNanos(400));\r\n        var source2B = createHotPublisher(&quot;2B&quot;, Duration.ofNanos(800));\r\n\r\n        var source2latest = Flux.combineLatest(\r\n                        array -&gt; Arrays.stream(array).map(o -&gt; (Long) o).collect(Collectors.toList()),\r\n                        Integer.MAX_VALUE,\r\n                        source2A, source2B);\r\n\r\n        Flux.combineLatest(array -&gt; Arrays.stream(array).map(o -&gt; (List&lt;Long&gt;) o).collect(Collectors.toList()),\r\n                        Integer.MAX_VALUE,\r\n                        source1latest, source2latest)\r\n                .sample(Duration.ofSeconds(1))\r\n                .doOnNext(lists -&gt; log.debug(&quot;latest {}&quot;, lists))\r\n                .take(10)\r\n                .blockLast();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI expect to see latest values from each stream based on the intervals each publisher emits","title":"Unexpected result from Flux.combineLatest with unbounded demand","body":"<p>Example below emulates 4 web socket streams which are paired into two. I'm interested in the latest values with 1 second interval (sampler). Each streams emits Longs at 100/200/400/800 intervals.</p>\n<p>Result below is not what I expected. Every execution yields different outcome where two different streams do not produce an error and latest value isn't captured downstream.</p>\n<p>What's the issue?</p>\n<p>Run 1 output, latest values of streams A2 and B2 are not captured downstream</p>\n<pre><code>[[A1,A2], [B1,B2]]\n[[986713, 11693], [1029188, 13]]\n[[2244117, 11693], [2371376, 13]]\n[[3056128, 11693], [3404041, 13]]\n[[3993366, 11693], [4565587, 13]]\n[[5058725, 11693], [5824156, 13]]\n[[6076848, 11693], [7394309, 13]]\n[[7163823, 11693], [8755053, 13]]\n[[8181283, 11693], [10111764, 13]]\n[[9253678, 11693], [11354241, 13]]\n[[9956826, 11693], [12184435, 13]]\n</code></pre>\n<p>Run 1 output, latest values of streams A1 and B2 are not captured downstream</p>\n<pre><code>[[A1,A2], [B1,B2]]\n[[8803, 1134696], [919741, 210387]]\n[[8803, 2635298], [2244405, 210387]]\n[[8803, 4348253], [3758049, 210387]]\n[[8803, 5126144], [4566010, 210387]]\n[[8803, 6451836], [5705757, 210387]]\n[[8803, 8076838], [6983352, 210387]]\n[[8803, 9528998], [8110670, 210387]]\n[[8803, 11152193], [9253840, 210387]]\n[[8803, 12706479], [10594726, 210387]]\n[[8803, 13976053], [11560597, 210387]]\n</code></pre>\n<pre><code>package learn.reactor;\n\nimport lombok.extern.log4j.Log4j2;\nimport org.junit.jupiter.api.Test;\nimport reactor.core.publisher.Flux;\nimport reactor.core.scheduler.Schedulers;\nimport reactor.util.function.Tuple2;\nimport reactor.util.function.Tuples;\n\nimport java.time.Duration;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Log4j2\npublic class FailingCombineLatest2Tests {\n\n    private static Flux&lt;Long&gt; createHotPublisher(String name, Duration delay) {\n        return Flux.&lt;Long&gt;create(fluxSink -&gt; {\n                    // WebSocket emulator\n                    var disposable = Flux.interval(delay, Schedulers.newSingle(name + &quot;-http-nio-emu&quot;))\n                            .doOnNext(fluxSink::next)\n                            .doOnComplete(fluxSink::complete)\n                            .doOnError(fluxSink::error)\n                            .subscribe();\n\n                    fluxSink.onDispose(() -&gt; {\n                                log.debug(&quot;{}: onDispose&quot;, name);\n                                disposable.dispose();\n                            })\n                            .onCancel(() -&gt; log.debug(&quot;{}: onCancel&quot;, name))\n                            .onRequest(longConsumer -&gt; log.trace(&quot;{}: onRequest {}&quot;, name, longConsumer));\n                })\n                .doOnError(throwable -&gt; log.error(&quot;{}: error&quot;, name, throwable));\n    }\n\n    @Test\n    public void playTest() {\n        var source1A = createHotPublisher(&quot;1A&quot;, Duration.ofNanos(100));\n        var source1B = createHotPublisher(&quot;1B&quot;, Duration.ofNanos(200));\n\n        var source1latest = Flux.combineLatest(\n                        array -&gt; Arrays.stream(array).map(o -&gt; (Long) o).collect(Collectors.toList()),\n                        Integer.MAX_VALUE,\n                        source1A, source1B);\n\n        var source2A = createHotPublisher(&quot;2A&quot;, Duration.ofNanos(400));\n        var source2B = createHotPublisher(&quot;2B&quot;, Duration.ofNanos(800));\n\n        var source2latest = Flux.combineLatest(\n                        array -&gt; Arrays.stream(array).map(o -&gt; (Long) o).collect(Collectors.toList()),\n                        Integer.MAX_VALUE,\n                        source2A, source2B);\n\n        Flux.combineLatest(array -&gt; Arrays.stream(array).map(o -&gt; (List&lt;Long&gt;) o).collect(Collectors.toList()),\n                        Integer.MAX_VALUE,\n                        source1latest, source2latest)\n                .sample(Duration.ofSeconds(1))\n                .doOnNext(lists -&gt; log.debug(&quot;latest {}&quot;, lists))\n                .take(10)\n                .blockLast();\n    }\n\n}\n</code></pre>\n<p>I expect to see latest values from each stream based on the intervals each publisher emits</p>\n"},{"tags":["java","spring","hibernate","spring-mvc","jpa"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1425929103,"post_id":28950134,"comment_id":46154127,"body_markdown":"Can you post the full stack trace?","body":"Can you post the full stack trace?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425929283,"post_id":28950134,"comment_id":46154219,"body_markdown":"And post the code where you get an instance of SaveMan and call its save() method. BTW: why do you define interfaces if you inject and use the concrete class? Why does your method return a Table1 if it returns null?","body":"And post the code where you get an instance of SaveMan and call its save() method. BTW: why do you define interfaces if you inject and use the concrete class? Why does your method return a Table1 if it returns null?"},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1425929559,"post_id":28950134,"comment_id":46154365,"body_markdown":"It looks like your jpaContext.xml config is cut off.Can you fix to post full config, including the definition of the bean &#39;transactionManager&#39;  &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;","body":"It looks like your jpaContext.xml config is cut off.Can you fix to post full config, including the definition of the bean &#39;transactionManager&#39;  &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;"},{"owner":{"account_id":3728672,"reputation":12401,"user_id":3101777,"accept_rate":79,"display_name":"Misha Akopov"},"score":0,"creation_date":1425930193,"post_id":28950134,"comment_id":46154698,"body_markdown":"@RohitJain  I have updated question with full stack","body":"@RohitJain  I have updated question with full stack"},{"owner":{"account_id":3728672,"reputation":12401,"user_id":3101777,"accept_rate":79,"display_name":"Misha Akopov"},"score":1,"creation_date":1425930374,"post_id":28950134,"comment_id":46154781,"body_markdown":"@JBNizet  I call it from controller, I have edited the code, please see. \nWhy does your method return a Table1 if it returns null?  I don&#39;t care what it returns, I just want to save object to db","body":"@JBNizet  I call it from controller, I have edited the code, please see.  Why does your method return a Table1 if it returns null?  I don&#39;t care what it returns, I just want to save object to db"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1425930646,"post_id":28950134,"comment_id":46154917,"body_markdown":"Please post the spring-mvc xml configuration (i.e. the configuration associated to the dispatcher servlet).","body":"Please post the spring-mvc xml configuration (i.e. the configuration associated to the dispatcher servlet)."},{"owner":{"account_id":3728672,"reputation":12401,"user_id":3101777,"accept_rate":79,"display_name":"Misha Akopov"},"score":0,"creation_date":1425930837,"post_id":28950134,"comment_id":46155007,"body_markdown":"@JBNizet  Updated the question, please see the configuration","body":"@JBNizet  Updated the question, please see the configuration"}],"answers":[{"tags":[],"owner":{"account_id":4250421,"reputation":13500,"user_id":4453262,"accept_rate":75,"display_name":"karthik manchala"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1425930102,"creation_date":1425930102,"answer_id":28950454,"question_id":28950134,"body_markdown":"You should introduce your entity manager to your transaction manager, so that when you annotate your function with `@Transactional`it loads instances from the pool\r\n\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;myEmf&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    &lt;tx:annotation-driven /&gt;\r\n\r\nHTH!","title":"Spring JPA no transaction is in progress","body":"<p>You should introduce your entity manager to your transaction manager, so that when you annotate your function with <code>@Transactional</code>it loads instances from the pool</p>\n\n<pre><code>&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n    &lt;property name=\"entityManagerFactory\" ref=\"myEmf\" /&gt;\n&lt;/bean&gt;\n&lt;tx:annotation-driven /&gt;\n</code></pre>\n\n<p>HTH!</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1425931707,"creation_date":1425931312,"answer_id":28950767,"question_id":28950134,"body_markdown":"You have two Spring contexts:\r\n\r\n1. the main one, configured by jpaContext.xml, where beans from the service and repository packages are scanned, and proxied by a transactional interceptor.\r\n\r\n2. the mvc one, configured by the other xml file (you didn&#39;t name it) whose role is to describe the MVC part of the application, i.e. define and configure for example the controller beans, the view resolver, etc. This context is a child of the main one.\r\n\r\nThe problem is that you also scan the service and repository packages in this child context. You thus end up with two instances of each service and repository: \r\n\r\n- one in the main context, which is transactional\r\n- one in the child context, which is not (since the child context doesn&#39;t care about transaction management)\r\n\r\nThe controller is thus injected with a service coming from the same context as the controller: the not transactional one.\r\n\r\nTo confirm that, you could add traces in the constructor of the beans and see how many times they are instantiated.\r\n\r\nAnd to avoid the problem, there are two solutions:\r\n\r\n- avoid scanning the repository and service packages in the mvc context: this context should only care about mvc-related beans. When Spring injects a service in a controller, it would thus not find the service in the mvc context, and thus look it up, and find it in the main context. The transactional service would thus be injected.\r\n- use a single context: the one of the servlet, where all the beans in the application would be defined.","title":"Spring JPA no transaction is in progress","body":"<p>You have two Spring contexts:</p>\n\n<ol>\n<li><p>the main one, configured by jpaContext.xml, where beans from the service and repository packages are scanned, and proxied by a transactional interceptor.</p></li>\n<li><p>the mvc one, configured by the other xml file (you didn't name it) whose role is to describe the MVC part of the application, i.e. define and configure for example the controller beans, the view resolver, etc. This context is a child of the main one.</p></li>\n</ol>\n\n<p>The problem is that you also scan the service and repository packages in this child context. You thus end up with two instances of each service and repository: </p>\n\n<ul>\n<li>one in the main context, which is transactional</li>\n<li>one in the child context, which is not (since the child context doesn't care about transaction management)</li>\n</ul>\n\n<p>The controller is thus injected with a service coming from the same context as the controller: the not transactional one.</p>\n\n<p>To confirm that, you could add traces in the constructor of the beans and see how many times they are instantiated.</p>\n\n<p>And to avoid the problem, there are two solutions:</p>\n\n<ul>\n<li>avoid scanning the repository and service packages in the mvc context: this context should only care about mvc-related beans. When Spring injects a service in a controller, it would thus not find the service in the mvc context, and thus look it up, and find it in the main context. The transactional service would thus be injected.</li>\n<li>use a single context: the one of the servlet, where all the beans in the application would be defined.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":959042,"reputation":1491,"user_id":983803,"accept_rate":65,"display_name":"3xCh1_23"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1489606698,"creation_date":1489606698,"answer_id":42819196,"question_id":28950134,"body_markdown":"To make the story short, try adding  `@Transactional` at the very beginning of your method. That was an issue in my case.","title":"Spring JPA no transaction is in progress","body":"<p>To make the story short, try adding  <code>@Transactional</code> at the very beginning of your method. That was an issue in my case.</p>\n"},{"tags":[],"owner":{"account_id":17076283,"reputation":71,"user_id":12355837,"display_name":"Rodrigo Doe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643723055,"creation_date":1643722753,"answer_id":70941522,"question_id":28950134,"body_markdown":"I had the same issue, in my case, I was using a library with the DAOs anotated with `@Transactional`, but it was not `org.springframework.transaction.annotation.Transactional` from Spring, it was `javax.transaction.Transactional`, wich can not be named, so you can&#39;t specify a TransactionManager:\r\n\r\n    @Transactional(&quot;transactionManagerName&quot;)\r\n    public class DaoImpl implements Dao {...}\r\n\r\nGet it&#39;s transaction manager like this one, from a config file in my case:\r\n\r\n        @Bean(&quot;transactionManagerName&quot;)\r\n        public PlatformTransactionManager transactionManager() \r\n        throws SQLException, NamingException {\r\n            final HibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n            transactionManager.setSessionFactory(this.sessionFactory().getObject());\r\n            return transactionManager;\r\n        }","title":"Spring JPA no transaction is in progress","body":"<p>I had the same issue, in my case, I was using a library with the DAOs anotated with <code>@Transactional</code>, but it was not <code>org.springframework.transaction.annotation.Transactional</code> from Spring, it was <code>javax.transaction.Transactional</code>, wich can not be named, so you can't specify a TransactionManager:</p>\n<pre><code>@Transactional(&quot;transactionManagerName&quot;)\npublic class DaoImpl implements Dao {...}\n</code></pre>\n<p>Get it's transaction manager like this one, from a config file in my case:</p>\n<pre><code>    @Bean(&quot;transactionManagerName&quot;)\n    public PlatformTransactionManager transactionManager() \n    throws SQLException, NamingException {\n        final HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(this.sessionFactory().getObject());\n        return transactionManager;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8942000,"reputation":91,"user_id":6670693,"display_name":"Ashish Rajput"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668687203,"creation_date":1668687203,"answer_id":74475281,"question_id":28950134,"body_markdown":" \r\n use in Hibernate properties \r\n\r\n **properties.put(&quot;hibernate.allow_update_outside_transaction&quot;, &quot;true&quot;);**","title":"Spring JPA no transaction is in progress","body":"<p>use in Hibernate properties</p>\n<p><strong>properties.put(&quot;hibernate.allow_update_outside_transaction&quot;, &quot;true&quot;);</strong></p>\n"},{"tags":[],"owner":{"account_id":18007222,"reputation":141,"user_id":13087712,"display_name":"Philemon Hilscher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677595014,"creation_date":1677595014,"answer_id":75593486,"question_id":28950134,"body_markdown":"If you manage your transaction manually, you join the transaction via `joinTransaction()`\r\n```java\r\nentityManager.joinTransaction();\r\nentityManager.persist();\r\nentityManager.flush();\r\n```\r\nThat works for me.","title":"Spring JPA no transaction is in progress","body":"<p>If you manage your transaction manually, you join the transaction via <code>joinTransaction()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.joinTransaction();\nentityManager.persist();\nentityManager.flush();\n</code></pre>\n<p>That works for me.</p>\n"},{"tags":[],"owner":{"account_id":22415841,"reputation":31,"user_id":16623933,"display_name":"Tiran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679655961,"creation_date":1679655961,"answer_id":75832881,"question_id":28950134,"body_markdown":"add method reference `public Table1 save(Table1 table)` to your **SaveMan** interface. this happens because you have used dependency injection in the main controller and the spring context has not detected your method properly.","title":"Spring JPA no transaction is in progress","body":"<p>add method reference <code>public Table1 save(Table1 table)</code> to your <strong>SaveMan</strong> interface. this happens because you have used dependency injection in the main controller and the spring context has not detected your method properly.</p>\n"}],"owner":{"account_id":3728672,"reputation":12401,"user_id":3101777,"accept_rate":79,"display_name":"Misha Akopov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103951,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":28950767,"answer_count":7,"score":28,"last_activity_date":1679655961,"creation_date":1425928934,"question_id":28950134,"body_markdown":"I am new to Spring and JPA, wasted 5 days and no result with searching internet. I want to save object to SQL SERVER, connection is correct but when I write .flush() I get the exception\r\n\r\n&gt; nested exception is javax.persistence.TransactionRequiredException: no\r\n&gt; transaction is in progress\r\n\r\nThis is my jpaContext.xml \r\n\r\n         &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\r\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd&quot;&gt;\r\n    \r\n    &lt;context:annotation-config /&gt;\r\n    &lt;context:component-scan base-package=&quot;com.misha.service&quot;/&gt;\r\n    &lt;context:component-scan base-package=&quot;com.misha.repository&quot;/&gt;\r\n    &lt;context:component-scan base-package=&quot;com.misha.model&quot;/&gt;\r\n    \r\n    &lt;bean\r\n        class=&quot;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;myEntityManager&quot;\r\n        class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.misha.model&quot;/&gt;\r\n        &lt;property name=&quot;persistenceUnitName&quot; value=&quot;test&quot; /&gt; \r\n        &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n            &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;jpaProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;dataSource&quot;\r\n        class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;net.sourceforge.jtds.jdbc.Driver&quot; /&gt;\r\n        &lt;property name=&quot;url&quot;\r\n            value=&quot;jdbc:jtds:sqlserver://127.0.0.1;instance=SQLEXPRESS;DatabaseName=misha&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;sa&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;entityManagerFactory&quot; ref=&quot;myEntityManager&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n      &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;  \r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\n\r\nThis is my persistence.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    \t&lt;persistence-unit name=&quot;test&quot; &gt;\r\n    \t\t&lt;class&gt;com.misha.model.Table1&lt;/class&gt;\r\n    \t&lt;/persistence-unit&gt;\t\r\n    &lt;/persistence&gt;\r\n\r\n\r\n\r\nThis is my Service implementation:\r\n\r\n    @Service(&quot;manService&quot;)\r\n    public class SaveManImpl implements SaveMan {\r\n    //\t\r\n    \t@Autowired\r\n    \tprivate ManRepositoryImpl manRepo;\r\n    \t\r\n    \t\r\n    \t@Transactional\r\n    \tpublic Table1 save(Table1 table) {\r\n    \t\tmanRepo.save(table);\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd finally my Repository implementation:\r\n\r\n\r\n    @Repository(&quot;manRepository&quot;)\r\n    public class ManRepositoryImpl implements ManRepository {\r\n    \r\n    \t@PersistenceContext\r\n    \tprivate EntityManager em;\t\r\n    \r\n    \tpublic Table1 save(Table1 table){\r\n    \t\tem.persist(table);\r\n    \t\tem.flush();\r\n    \t\treturn table;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nFrom the exception, Spring cant see @Transactional annotation, am I right ? I tried to put the annotation above repository save method, no result, after this above Service save method, the same here. Thanks in advance\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/B5ulm.png\r\n\r\n\r\nI call the save method in my Controller\r\n\r\n        package com.misha.controllers;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    import com.misha.model.Table1;\r\n    import com.misha.service.SaveMan;\r\n    \r\n    @Controller\r\n    public class ManController {\r\n    \t@Autowired \r\n    \tSaveMan saveMan; // this is service interface\r\n    \t\r\n    \t\r\n    \t@RequestMapping(value=&quot;/test1&quot;)\r\n    \tpublic String saveMan(){\r\n    \t\tTable1 tab = new Table1();\r\n    \t\ttab.setName(&quot;name&quot;);\r\n    \t\tsaveMan.save(tab);\t\t\t\r\n    \t\treturn &quot;saveMan&quot;;\r\n    \t}\t\r\n    }\r\n\r\n\r\nError stack:\r\n\r\n    SEVERE: Servlet.service() for servlet [fitTrackerServlet] in context with path [/test] threw exception [Request processing failed; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress] with root cause\r\n    javax.persistence.TransactionRequiredException: no transaction is in progress\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.checkTransactionNeeded(AbstractEntityManagerImpl.java:1171)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1332)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:365)\r\n    \tat com.sun.proxy.$Proxy20.flush(Unknown Source)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:240)\r\n    \tat com.sun.proxy.$Proxy20.flush(Unknown Source)\r\n    \tat com.misha.repository.ManRepositoryImpl.save(ManRepositoryImpl.java:21)\r\n    \tat com.misha.service.SaveManImpl.save(SaveManImpl.java:19)\r\n    \tat com.misha.controllers.ManController.saveMan(ManController.java:21)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:175)\r\n    \tat org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:421)\r\n    \tat org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:409)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:774)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:618)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:537)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1085)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:658)\r\n    \tat org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:222)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1556)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1513)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n\r\n\r\nSpring configuration file\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;&gt;\r\n    \r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \t&lt;!--&lt;mvc:resources location=&quot;pdfs&quot; mapping=&quot;/pdfs/**&quot; /&gt;\r\n    \t&lt;mvc:resources location=&quot;/resources&quot; mapping=&quot;/resources/**&quot;/&gt; --&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.misha.controllers&quot;&gt;&lt;/context:component-scan&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.misha.repository&quot; /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.misha.service&quot; /&gt;\r\n    \t\r\n    \t&lt;context:annotation-config/&gt;\r\n    \r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;order&quot; value=&quot;0&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t\t\r\n    &lt;bean id=&quot;contentNegotiatingViewResolver&quot;\r\n    class=&quot;org.springframework.web.servlet.view.ContentNegotiatingViewResolver&quot;&gt;\r\n      &lt;property name=&quot;order&quot; value=&quot;1&quot; /&gt;\r\n      &lt;property name=&quot;mediaTypes&quot;&gt;\r\n        &lt;map&gt;\r\n          &lt;entry key=&quot;json&quot; value=&quot;application/json&quot; /&gt;\r\n          &lt;entry key=&quot;xml&quot; value=&quot;application/xml&quot; /&gt;\r\n          &lt;entry key=&quot;request&quot; value=&quot;text/html&quot; /&gt;\r\n        &lt;/map&gt;\r\n      &lt;/property&gt;\r\n      &lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot; /&gt;\r\n      &lt;property name=&quot;favorParameter&quot; value=&quot;true&quot; /&gt;\r\n      &lt;property name=&quot;defaultViews&quot;&gt;\r\n        &lt;list&gt;\r\n        \r\n        &lt;/list&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;  &gt;\r\n    \t&lt;property name=&quot;basename&quot; value=&quot;WEB-INF/messages&quot;&gt;&lt;/property&gt;\r\n    \r\n    &lt;/bean&gt;\r\n    \r\n    \r\n    &lt;/beans&gt;\r\n\r\n","title":"Spring JPA no transaction is in progress","body":"<p>I am new to Spring and JPA, wasted 5 days and no result with searching internet. I want to save object to SQL SERVER, connection is correct but when I write .flush() I get the exception</p>\n\n<blockquote>\n  <p>nested exception is javax.persistence.TransactionRequiredException: no\n  transaction is in progress</p>\n</blockquote>\n\n<p>This is my jpaContext.xml </p>\n\n<pre><code>     &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\n    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\"&gt;\n\n&lt;context:annotation-config /&gt;\n&lt;context:component-scan base-package=\"com.misha.service\"/&gt;\n&lt;context:component-scan base-package=\"com.misha.repository\"/&gt;\n&lt;context:component-scan base-package=\"com.misha.model\"/&gt;\n\n&lt;bean\n    class=\"org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor\" /&gt;\n\n&lt;bean id=\"myEntityManager\"\n    class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"packagesToScan\" value=\"com.misha.model\"/&gt;\n    &lt;property name=\"persistenceUnitName\" value=\"test\" /&gt; \n    &lt;property name=\"jpaVendorAdapter\"&gt;\n        &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"jpaProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.format_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/prop&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.SQLServerDialect&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"net.sourceforge.jtds.jdbc.Driver\" /&gt;\n    &lt;property name=\"url\"\n        value=\"jdbc:jtds:sqlserver://127.0.0.1;instance=SQLEXPRESS;DatabaseName=misha\" /&gt;\n    &lt;property name=\"username\" value=\"sa\" /&gt;\n    &lt;property name=\"password\" value=\"root\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n    &lt;property name=\"entityManagerFactory\" ref=\"myEntityManager\" /&gt;\n&lt;/bean&gt;\n\n  &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;  \n\n&lt;/beans&gt;\n</code></pre>\n\n<p>This is my persistence.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.1\" xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n    &lt;persistence-unit name=\"test\" &gt;\n        &lt;class&gt;com.misha.model.Table1&lt;/class&gt;\n    &lt;/persistence-unit&gt; \n&lt;/persistence&gt;\n</code></pre>\n\n<p>This is my Service implementation:</p>\n\n<pre><code>@Service(\"manService\")\npublic class SaveManImpl implements SaveMan {\n//  \n    @Autowired\n    private ManRepositoryImpl manRepo;\n\n\n    @Transactional\n    public Table1 save(Table1 table) {\n        manRepo.save(table);\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>And finally my Repository implementation:</p>\n\n<pre><code>@Repository(\"manRepository\")\npublic class ManRepositoryImpl implements ManRepository {\n\n    @PersistenceContext\n    private EntityManager em;   \n\n    public Table1 save(Table1 table){\n        em.persist(table);\n        em.flush();\n        return table;\n    }\n}\n</code></pre>\n\n<p>From the exception, Spring cant see @Transactional annotation, am I right ? I tried to put the annotation above repository save method, no result, after this above Service save method, the same here. Thanks in advance</p>\n\n<p><img src=\"https://i.stack.imgur.com/B5ulm.png\" alt=\"enter image description here\"></p>\n\n<p>I call the save method in my Controller</p>\n\n<pre><code>    package com.misha.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport com.misha.model.Table1;\nimport com.misha.service.SaveMan;\n\n@Controller\npublic class ManController {\n    @Autowired \n    SaveMan saveMan; // this is service interface\n\n\n    @RequestMapping(value=\"/test1\")\n    public String saveMan(){\n        Table1 tab = new Table1();\n        tab.setName(\"name\");\n        saveMan.save(tab);          \n        return \"saveMan\";\n    }   \n}\n</code></pre>\n\n<p>Error stack:</p>\n\n<pre><code>SEVERE: Servlet.service() for servlet [fitTrackerServlet] in context with path [/test] threw exception [Request processing failed; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress] with root cause\njavax.persistence.TransactionRequiredException: no transaction is in progress\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.checkTransactionNeeded(AbstractEntityManagerImpl.java:1171)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.flush(AbstractEntityManagerImpl.java:1332)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:365)\n    at com.sun.proxy.$Proxy20.flush(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:240)\n    at com.sun.proxy.$Proxy20.flush(Unknown Source)\n    at com.misha.repository.ManRepositoryImpl.save(ManRepositoryImpl.java:21)\n    at com.misha.service.SaveManImpl.save(SaveManImpl.java:19)\n    at com.misha.controllers.ManController.saveMan(ManController.java:21)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:175)\n    at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:421)\n    at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:409)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:774)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:618)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:537)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1085)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:658)\n    at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:222)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1556)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1513)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Spring configuration file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\"&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;!--&lt;mvc:resources location=\"pdfs\" mapping=\"/pdfs/**\" /&gt;\n    &lt;mvc:resources location=\"/resources\" mapping=\"/resources/**\"/&gt; --&gt;\n    &lt;context:component-scan base-package=\"com.misha.controllers\"&gt;&lt;/context:component-scan&gt;\n    &lt;context:component-scan base-package=\"com.misha.repository\" /&gt;\n    &lt;context:component-scan base-package=\"com.misha.service\" /&gt;\n\n    &lt;context:annotation-config/&gt;\n\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\"&gt;&lt;/property&gt;\n        &lt;property name=\"suffix\" value=\".jsp\"&gt;&lt;/property&gt;\n        &lt;property name=\"order\" value=\"0\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n\n&lt;bean id=\"contentNegotiatingViewResolver\"\nclass=\"org.springframework.web.servlet.view.ContentNegotiatingViewResolver\"&gt;\n  &lt;property name=\"order\" value=\"1\" /&gt;\n  &lt;property name=\"mediaTypes\"&gt;\n    &lt;map&gt;\n      &lt;entry key=\"json\" value=\"application/json\" /&gt;\n      &lt;entry key=\"xml\" value=\"application/xml\" /&gt;\n      &lt;entry key=\"request\" value=\"text/html\" /&gt;\n    &lt;/map&gt;\n  &lt;/property&gt;\n  &lt;property name=\"favorPathExtension\" value=\"false\" /&gt;\n  &lt;property name=\"favorParameter\" value=\"true\" /&gt;\n  &lt;property name=\"defaultViews\"&gt;\n    &lt;list&gt;\n\n    &lt;/list&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean class=\"org.springframework.context.support.ResourceBundleMessageSource\"  &gt;\n    &lt;property name=\"basename\" value=\"WEB-INF/messages\"&gt;&lt;/property&gt;\n\n&lt;/bean&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","android","android-13"],"comments":[{"owner":{"account_id":140189,"reputation":9145,"user_id":346309,"accept_rate":92,"display_name":"JPM"},"score":0,"creation_date":1690818409,"post_id":75832872,"comment_id":135402611,"body_markdown":"did you ever find a resolution?","body":"did you ever find a resolution?"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679655899,"creation_date":1679655899,"question_id":75832872,"body_markdown":"I have a project that I&#39;m migrating to API 33. I&#39;m trying to detect non sdk api usage using this line:\r\n\r\n    StrictMode.setVmPolicy(new StrictMode.VmPolicy.Builder().detectNonSdkApiUsage().penaltyLog().build());\r\n\r\nI&#39;m receiving NonSdkApiUsedViolation in common places like:\r\n\r\n    setContentView(R.layout.main);\r\n\r\nwhich gives:\r\n\r\n    StrictMode policy violation: android.os.strictmode.NonSdkApiUsedViolation: Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z\r\n\r\nor in lines like `connection.getInputStream();`\r\n\r\nwhich gives\r\n\r\n    StrictMode policy violation: android.os.strictmode.NonSdkApiUsedViolation: Ljava/net/Socket;-&gt;impl:Ljava/net/SocketImpl;\r\n\r\nWhat is happening? Why these common lines give that error?","title":"NonSdkApiUsedViolation in common functions like setContentView","body":"<p>I have a project that I'm migrating to API 33. I'm trying to detect non sdk api usage using this line:</p>\n<pre><code>StrictMode.setVmPolicy(new StrictMode.VmPolicy.Builder().detectNonSdkApiUsage().penaltyLog().build());\n</code></pre>\n<p>I'm receiving NonSdkApiUsedViolation in common places like:</p>\n<pre><code>setContentView(R.layout.main);\n</code></pre>\n<p>which gives:</p>\n<pre><code>StrictMode policy violation: android.os.strictmode.NonSdkApiUsedViolation: Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z\n</code></pre>\n<p>or in lines like <code>connection.getInputStream();</code></p>\n<p>which gives</p>\n<pre><code>StrictMode policy violation: android.os.strictmode.NonSdkApiUsedViolation: Ljava/net/Socket;-&gt;impl:Ljava/net/SocketImpl;\n</code></pre>\n<p>What is happening? Why these common lines give that error?</p>\n"},{"tags":["java","mongodb","jmeter"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1679653014,"post_id":75832148,"comment_id":133763277,"body_markdown":"Please don&#39;t paste screenshots, use formatted text. See https://meta.stackoverflow.com/q/285551","body":"Please don&#39;t paste screenshots, use formatted text. See <a href=\"https://meta.stackoverflow.com/q/285551\">meta.stackoverflow.com/q/285551</a>"}],"answers":[{"tags":[],"owner":{"account_id":9158524,"reputation":334,"user_id":6810709,"display_name":"rollno748"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679655502,"creation_date":1679655502,"answer_id":75832804,"question_id":75832148,"body_markdown":"You should try a filter first and use the updated document to override, something like this \r\n\r\n    Document filter = new Document(&quot;_id&quot;, &quot;01deda7ec9894a3cbdeb&quot;);\r\n    \r\n    Document update = new Document(&quot;$set&quot;, new Document(&quot;individualPerson.identityDocuments.0.number&quot;, &quot;abc123456&quot;));\r\n    \r\n    collection.updateOne(filter, update);","title":"Mongodb - updateOne changes filetype and overwrites other data while using java in jmeter","body":"<p>You should try a filter first and use the updated document to override, something like this</p>\n<pre><code>Document filter = new Document(&quot;_id&quot;, &quot;01deda7ec9894a3cbdeb&quot;);\n\nDocument update = new Document(&quot;$set&quot;, new Document(&quot;individualPerson.identityDocuments.0.number&quot;, &quot;abc123456&quot;));\n\ncollection.updateOne(filter, update);\n</code></pre>\n"}],"owner":{"account_id":28112630,"reputation":1,"user_id":21480183,"display_name":"Mikemus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679655502,"creation_date":1679651521,"question_id":75832148,"body_markdown":"I&#39;m using jMeter in my performance testing and need to change some data in document in mongodb. I&#39;ve run into a problem, where while using updateOne command, translating working mongosh query into java, the behavior in jmeter/java is different.\r\n\r\nMy field which needs to be changed is nested inside object, which is inside array, which is inside object (image 1).\r\n\r\n\r\n\r\n[image 1: Data structure as seen in MongoDBCompass](https://i.stack.imgur.com/Q9OuW.png)\r\n\r\nI need to change value of &#39;number&#39; field to value of one of my jmeter values. In mongodbcompass it works perfectly when I use script like this:\r\n```\r\ndb.process.updateOne({_id: &quot;01deda7ec9894a3cbdeb&quot;},\r\n      {$set: {\r\n        &quot;individualPerson.identityDocuments.0.number&quot;: &quot;ZZA002204&quot;\r\n      }}\r\n\r\n    )\r\n```\r\n\r\nBut while using this java code inside jmeter (java/groovy) overwrites everything in Object &quot;0&quot; and changes data type of individualPerson from Array to Object (image 2)\r\n\r\n(collection is name for variable, which points to proccess collection)\r\n\r\n```\r\ncollection.updateOne(Filters.eq(&quot;_id&quot;, 01deda7ec9894a3cbdeb), Updates.set(&quot;individualPerson.identityDocuments.0.number&quot;, &quot;abc123456&quot;)\r\n```\r\n\r\n[image 2: Data after changing it with jmeter/java](https://i.stack.imgur.com/Gzvap.png)\r\n\r\nWhat can be done to change it properly while using jmeter? \r\n\r\n\r\nI&#39;ve tried passing java array into updateone method, but it didn&#39;t update anything.\r\nI&#39;ve also tried sending mongosh query to mongodb using java, but it also didn&#39;t work ","title":"Mongodb - updateOne changes filetype and overwrites other data while using java in jmeter","body":"<p>I'm using jMeter in my performance testing and need to change some data in document in mongodb. I've run into a problem, where while using updateOne command, translating working mongosh query into java, the behavior in jmeter/java is different.</p>\n<p>My field which needs to be changed is nested inside object, which is inside array, which is inside object (image 1).</p>\n<p><a href=\"https://i.stack.imgur.com/Q9OuW.png\" rel=\"nofollow noreferrer\">image 1: Data structure as seen in MongoDBCompass</a></p>\n<p>I need to change value of 'number' field to value of one of my jmeter values. In mongodbcompass it works perfectly when I use script like this:</p>\n<pre><code>db.process.updateOne({_id: &quot;01deda7ec9894a3cbdeb&quot;},\n      {$set: {\n        &quot;individualPerson.identityDocuments.0.number&quot;: &quot;ZZA002204&quot;\n      }}\n\n    )\n</code></pre>\n<p>But while using this java code inside jmeter (java/groovy) overwrites everything in Object &quot;0&quot; and changes data type of individualPerson from Array to Object (image 2)</p>\n<p>(collection is name for variable, which points to proccess collection)</p>\n<pre><code>collection.updateOne(Filters.eq(&quot;_id&quot;, 01deda7ec9894a3cbdeb), Updates.set(&quot;individualPerson.identityDocuments.0.number&quot;, &quot;abc123456&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Gzvap.png\" rel=\"nofollow noreferrer\">image 2: Data after changing it with jmeter/java</a></p>\n<p>What can be done to change it properly while using jmeter?</p>\n<p>I've tried passing java array into updateone method, but it didn't update anything.\nI've also tried sending mongosh query to mongodb using java, but it also didn't work</p>\n"},{"tags":["java","avro","kite-sdk"],"answers":[{"tags":[],"owner":{"account_id":14241958,"reputation":136,"user_id":10288029,"display_name":"Anilal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679655151,"creation_date":1679655151,"answer_id":75832743,"question_id":75216008,"body_markdown":"\r\nDowngrading avro version to 1.7.5 fixed the issue for me.\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.avro/avro/1.7.5","title":"Unable to convert JSON String to Avro Schema using Kite-data-core","body":"<p>Downgrading avro version to 1.7.5 fixed the issue for me.</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.avro/avro/1.7.5\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.avro/avro/1.7.5</a></p>\n"}],"owner":{"account_id":27603881,"reputation":11,"user_id":21068499,"display_name":"lostInJava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679655151,"creation_date":1674515611,"question_id":75216008,"body_markdown":"I am trying to convert a JSON String to Avro Schema using https://github.com/kite-sdk/kite/blob/master/kite-data/kite-data-core/src/main/java/org/kitesdk/data/spi/JsonUtil.java#L539\r\n\r\nBut for the below code -\r\n```\r\nString json = &quot;{\\n&quot; +\r\n            &quot;    \\&quot;id\\&quot;: 1,\\n&quot; +\r\n            &quot;    \\&quot;name\\&quot;: \\&quot;A green door\\&quot;,\\n&quot; +\r\n            &quot;    \\&quot;price\\&quot;: 12.50,\\n&quot; +\r\n            &quot;    \\&quot;tags\\&quot;: [\\&quot;home\\&quot;, \\&quot;green\\&quot;]\\n&quot; +\r\n            &quot;}\\n&quot;\r\n            ;\r\n\r\nSchema avroSchema = JsonUtil.inferSchema(JsonUtil.parse(jsonString), &quot;myschema&quot;);\r\nSystem.out.println(avroSchema.toString());\r\n```\r\n\r\nI am getting error -\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void org.apache.avro.Schema$Field.&lt;init&gt;(java.lang.String, org.apache.avro.Schema, java.lang.String, org.codehaus.jackson.JsonNode)&#39;\r\n\tat org.kitesdk.data.spi.JsonUtil$JsonSchemaVisitor.object(JsonUtil.java:569)\r\n\tat org.kitesdk.data.spi.JsonUtil$JsonSchemaVisitor.object(JsonUtil.java:547)\r\n\tat org.kitesdk.data.spi.JsonUtil.visit(JsonUtil.java:181)\r\n\tat org.kitesdk.data.spi.JsonUtil.visit(JsonUtil.java:177)\r\n\tat org.kitesdk.data.spi.JsonUtil.inferSchema(JsonUtil.java:540)\r\n```\r\n\r\nWhat can I do to resolve this?","title":"Unable to convert JSON String to Avro Schema using Kite-data-core","body":"<p>I am trying to convert a JSON String to Avro Schema using <a href=\"https://github.com/kite-sdk/kite/blob/master/kite-data/kite-data-core/src/main/java/org/kitesdk/data/spi/JsonUtil.java#L539\" rel=\"nofollow noreferrer\">https://github.com/kite-sdk/kite/blob/master/kite-data/kite-data-core/src/main/java/org/kitesdk/data/spi/JsonUtil.java#L539</a></p>\n<p>But for the below code -</p>\n<pre><code>String json = &quot;{\\n&quot; +\n            &quot;    \\&quot;id\\&quot;: 1,\\n&quot; +\n            &quot;    \\&quot;name\\&quot;: \\&quot;A green door\\&quot;,\\n&quot; +\n            &quot;    \\&quot;price\\&quot;: 12.50,\\n&quot; +\n            &quot;    \\&quot;tags\\&quot;: [\\&quot;home\\&quot;, \\&quot;green\\&quot;]\\n&quot; +\n            &quot;}\\n&quot;\n            ;\n\nSchema avroSchema = JsonUtil.inferSchema(JsonUtil.parse(jsonString), &quot;myschema&quot;);\nSystem.out.println(avroSchema.toString());\n</code></pre>\n<p>I am getting error -</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void org.apache.avro.Schema$Field.&lt;init&gt;(java.lang.String, org.apache.avro.Schema, java.lang.String, org.codehaus.jackson.JsonNode)'\n    at org.kitesdk.data.spi.JsonUtil$JsonSchemaVisitor.object(JsonUtil.java:569)\n    at org.kitesdk.data.spi.JsonUtil$JsonSchemaVisitor.object(JsonUtil.java:547)\n    at org.kitesdk.data.spi.JsonUtil.visit(JsonUtil.java:181)\n    at org.kitesdk.data.spi.JsonUtil.visit(JsonUtil.java:177)\n    at org.kitesdk.data.spi.JsonUtil.inferSchema(JsonUtil.java:540)\n</code></pre>\n<p>What can I do to resolve this?</p>\n"},{"tags":["java","spring","spring-boot","modelmapper"],"owner":{"account_id":11661021,"reputation":21,"user_id":8539329,"display_name":"vivek hegde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679654951,"creation_date":1679649708,"question_id":75831888,"body_markdown":"I have two classes\r\n```\r\npublic class Transaction {\r\n   private TransactionType paymentType;\r\n   private TransactionStatus status;\r\n```\r\n```\r\npublic class TransactionDetails {\r\n   private String paymentType;\r\n   private String status;\r\n```\r\nwhen I use the Model Mapper to map the above classes\r\n```\r\nType listType = new TypeToken&lt;List&lt;TransactionDetails&gt;&gt;(){}.getType();\r\n        List&lt;TransactionDetails&gt; transactionDetailsList = modelMapper.map(transaction,listType);\r\n```\r\nAbove **transaction** is the list of **Transaction objects** and trying to map to list of **TransactionDetails**.\r\nAfter Mapping, I am receiving the response as \r\n```\r\n{\r\n   &quot;paymentType&quot;: &quot;CASH&quot;,\r\n   &quot;status&quot;: null\r\n}\r\n```\r\nCan anyone please tell, why modelMapper is able to map ONLY one variable and not the other one?","title":"Model Mapper on different data type but same attribute name","body":"<p>I have two classes</p>\n<pre><code>public class Transaction {\n   private TransactionType paymentType;\n   private TransactionStatus status;\n</code></pre>\n<pre><code>public class TransactionDetails {\n   private String paymentType;\n   private String status;\n</code></pre>\n<p>when I use the Model Mapper to map the above classes</p>\n<pre><code>Type listType = new TypeToken&lt;List&lt;TransactionDetails&gt;&gt;(){}.getType();\n        List&lt;TransactionDetails&gt; transactionDetailsList = modelMapper.map(transaction,listType);\n</code></pre>\n<p>Above <strong>transaction</strong> is the list of <strong>Transaction objects</strong> and trying to map to list of <strong>TransactionDetails</strong>.\nAfter Mapping, I am receiving the response as</p>\n<pre><code>{\n   &quot;paymentType&quot;: &quot;CASH&quot;,\n   &quot;status&quot;: null\n}\n</code></pre>\n<p>Can anyone please tell, why modelMapper is able to map ONLY one variable and not the other one?</p>\n"},{"tags":["java","caret","jtextpane","popupmenu"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1290826932,"creation_date":1290826932,"answer_id":4289908,"question_id":4289892,"body_markdown":"&gt; with a popup menu that is assigned to the JTextPane through the JTextPane.setComponentPopupMenu method.\r\n\r\nYou can use the older approach of displaying the popup based on your own custom MouseListener.\r\n\r\nSee the section from the Swing tutorial on [Bringing Up a Popup Menu][1]. Now you have access to the MouseEvent so you can convert that point to a point in the Document so you know where the click was made, on selected or unselected text.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/components/menu.html#popup","title":"Jtextpane click to create popup menu effect on selection not as intended","body":"<blockquote>\n  <p>with a popup menu that is assigned to the JTextPane through the JTextPane.setComponentPopupMenu method.</p>\n</blockquote>\n\n<p>You can use the older approach of displaying the popup based on your own custom MouseListener.</p>\n\n<p>See the section from the Swing tutorial on <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/menu.html#popup\" rel=\"nofollow\">Bringing Up a Popup Menu</a>. Now you have access to the MouseEvent so you can convert that point to a point in the Document so you know where the click was made, on selected or unselected text.</p>\n"},{"tags":[],"owner":{"account_id":17876035,"reputation":21,"user_id":12986079,"display_name":"Informatic PC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679654907,"creation_date":1679654907,"answer_id":75832698,"question_id":4289892,"body_markdown":"## DefaultEditorKit class ##\r\nThis class have a [nested classes][1] that manage the basic a simple actions like copy, paste... in editor text. E.G\r\n \r\n\r\n     JPopupMenu namePopMenu = new JPopupMenu();\r\n     JMenuItem copy = new JMenuItem(&quot;copy&quot;);\r\n     copy.addActionListener(new DefaultEditorKit.CopyAction());\r\n     namePopMenu.add(copy);\r\n     textArea.setComponentPopupMenu(namePopMenu);\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/text/DefaultEditorKit.html\r\n\r\n","title":"Jtextpane click to create popup menu effect on selection not as intended","body":"<h2>DefaultEditorKit class</h2>\n<p>This class have a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/javax/swing/text/DefaultEditorKit.html\" rel=\"nofollow noreferrer\">nested classes</a> that manage the basic a simple actions like copy, paste... in editor text. E.G</p>\n<pre><code> JPopupMenu namePopMenu = new JPopupMenu();\n JMenuItem copy = new JMenuItem(&quot;copy&quot;);\n copy.addActionListener(new DefaultEditorKit.CopyAction());\n namePopMenu.add(copy);\n textArea.setComponentPopupMenu(namePopMenu);\n</code></pre>\n"}],"owner":{"account_id":176696,"reputation":313,"user_id":407540,"accept_rate":28,"display_name":"Monolithguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679654907,"creation_date":1290826608,"question_id":4289892,"body_markdown":"I have a JTextPane sitting in a JFrame, with a popup menu that is assigned to the JTextPane through the JTextPane.setComponentPopupMenu method. \r\n\r\nI want to give the JTextPane a &quot;Word-like&quot; popup behavior. By that I mean, if you right click outside of your current text selection, the caret will reposition to where you right clicked, with menu options that affect a text selection (such as cut, copy, or bold) disabled. If you right click within your current text selection, the popup will appear with options that effect text selection enabled, the text selection will persist, and the caret will not move.\r\n\r\nThe problem is I cannot seem to find **where** I can put the code that handles the selection change. I tried:\r\n\r\n - Using the &quot;PopupMenuWillBecomeVisible&quot; event which is triggered before a popup becomes visible. The event passed into this method does not contain any mouse event information so there is no way for me to use viewtomodel to find out how to modify the selection. I could use MouseInfo but that seems dubious at best.\r\n - Using MousePressed/MouseReleased events in the JTextPane or JFrame. Apparently, neither of these events are invoked when a popup menu is triggered. In fact, I still can&#39;t determine what the parent component of my popup menu is. (I did read that in windows &quot;MouseReleased&quot; is the popup trigger, while in other systems &quot;MousePressed&quot; is the trigger. I tried both and neither worked).\r\n\r\nSo, I guess the problem is that I can&#39;t seem to find a place to put code where it would be called before the popup menu becomes visible, but has awareness of the mouseEvent that triggered the popup menu. I must be missing something here.\r\n\r\n","title":"Jtextpane click to create popup menu effect on selection not as intended","body":"<p>I have a JTextPane sitting in a JFrame, with a popup menu that is assigned to the JTextPane through the JTextPane.setComponentPopupMenu method. </p>\n\n<p>I want to give the JTextPane a \"Word-like\" popup behavior. By that I mean, if you right click outside of your current text selection, the caret will reposition to where you right clicked, with menu options that affect a text selection (such as cut, copy, or bold) disabled. If you right click within your current text selection, the popup will appear with options that effect text selection enabled, the text selection will persist, and the caret will not move.</p>\n\n<p>The problem is I cannot seem to find <strong>where</strong> I can put the code that handles the selection change. I tried:</p>\n\n<ul>\n<li>Using the \"PopupMenuWillBecomeVisible\" event which is triggered before a popup becomes visible. The event passed into this method does not contain any mouse event information so there is no way for me to use viewtomodel to find out how to modify the selection. I could use MouseInfo but that seems dubious at best.</li>\n<li>Using MousePressed/MouseReleased events in the JTextPane or JFrame. Apparently, neither of these events are invoked when a popup menu is triggered. In fact, I still can't determine what the parent component of my popup menu is. (I did read that in windows \"MouseReleased\" is the popup trigger, while in other systems \"MousePressed\" is the trigger. I tried both and neither worked).</li>\n</ul>\n\n<p>So, I guess the problem is that I can't seem to find a place to put code where it would be called before the popup menu becomes visible, but has awareness of the mouseEvent that triggered the popup menu. I must be missing something here.</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1679599093,"post_id":75826666,"comment_id":133754844,"body_markdown":"Do you explicitly want to read everything in a byte array first? Why not read the file as you&#39;d like &quot;on the fly&quot;? `InputStream` would allow that easily.","body":"Do you explicitly want to read everything in a byte array first? Why not read the file as you&#39;d like &quot;on the fly&quot;? <code>InputStream</code> would allow that easily."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1679664031,"post_id":75826666,"comment_id":133766071,"body_markdown":"I would recommend checking **Scodec** for manipulating binary data in **Scala**.","body":"I would recommend checking <b>Scodec</b> for manipulating binary data in <b>Scala</b>."}],"answers":[{"tags":[],"owner":{"account_id":6159040,"reputation":146,"user_id":4801213,"display_name":"9DA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679654548,"creation_date":1679614723,"answer_id":75828868,"question_id":75826666,"body_markdown":"Added **Scala version:**\r\n\r\nIn Scala, you can use the same Java libraries as in Java (example below). The main difference is in syntax, such as the use of val to declare variables. Apart from that, the code is essentially the same as the Java version.\r\n\r\n    val buffer = ByteBuffer.wrap(byteArray)\r\n\r\n    // Read the first 4 bytes as an int\r\n    val intValue = buffer.getInt()\r\n\r\n    // Read the next byte as a boolean\r\n    val booleanValue = buffer.get() != 0.toByte\r\n\r\n    // Read the next 64 bytes as a string\r\n    val bytesForStringValue = new Array[Byte](64)\r\n    buffer.get(bytesForStringValue)\r\n    val stringValue = new String(bytesForStringValue, StandardCharsets.UTF_8)\r\n\r\n\r\n**Java version:**\r\n\r\nIf you want to stick with the nio package you can wrap the array in a ByteBuffer\r\n\r\n    ByteBuffer buffer = ByteBuffer.wrap(byteArray);\r\n\r\nand then retrieve the values like\r\n\r\n    int intValue = buffer.getInt();\r\n    boolean booleanValue = buffer.get() != 0;\r\n\r\n    byte[] bytesForStringValue = new byte[64];\r\n    buffer.get(bytesForStringValue);\r\n    String stringValue = new String(bytesForStringValue, StandardCharsets.UTF_8);\r\n\r\nThere are other options though using InputStreams\r\n\r\n    DataInputStream inputStream = new DataInputStream(new BufferedInputStream(new FileInputStream(&quot;/path/to/file&quot;)));\r\n\r\n\r\nand then using the functionality provided by DataInputStream to extract the required values:\r\n\r\n    int intValue = inputStream.readInt();\r\n    boolean booleanValue = inputStream.readBoolean();\r\n\r\n    byte[] bytesForStringValue = new byte[64];\r\n    inputStream.readFully(bytesForStringValue);\r\n    String stringValue = new String(bytesForStringValue, &quot;UTF-8&quot;);\r\n","title":"How do I read the next n bytes from a byte array?","body":"<p>Added <strong>Scala version:</strong></p>\n<p>In Scala, you can use the same Java libraries as in Java (example below). The main difference is in syntax, such as the use of val to declare variables. Apart from that, the code is essentially the same as the Java version.</p>\n<pre><code>val buffer = ByteBuffer.wrap(byteArray)\n\n// Read the first 4 bytes as an int\nval intValue = buffer.getInt()\n\n// Read the next byte as a boolean\nval booleanValue = buffer.get() != 0.toByte\n\n// Read the next 64 bytes as a string\nval bytesForStringValue = new Array[Byte](64)\nbuffer.get(bytesForStringValue)\nval stringValue = new String(bytesForStringValue, StandardCharsets.UTF_8)\n</code></pre>\n<p><strong>Java version:</strong></p>\n<p>If you want to stick with the nio package you can wrap the array in a ByteBuffer</p>\n<pre><code>ByteBuffer buffer = ByteBuffer.wrap(byteArray);\n</code></pre>\n<p>and then retrieve the values like</p>\n<pre><code>int intValue = buffer.getInt();\nboolean booleanValue = buffer.get() != 0;\n\nbyte[] bytesForStringValue = new byte[64];\nbuffer.get(bytesForStringValue);\nString stringValue = new String(bytesForStringValue, StandardCharsets.UTF_8);\n</code></pre>\n<p>There are other options though using InputStreams</p>\n<pre><code>DataInputStream inputStream = new DataInputStream(new BufferedInputStream(new FileInputStream(&quot;/path/to/file&quot;)));\n</code></pre>\n<p>and then using the functionality provided by DataInputStream to extract the required values:</p>\n<pre><code>int intValue = inputStream.readInt();\nboolean booleanValue = inputStream.readBoolean();\n\nbyte[] bytesForStringValue = new byte[64];\ninputStream.readFully(bytesForStringValue);\nString stringValue = new String(bytesForStringValue, &quot;UTF-8&quot;);\n</code></pre>\n"}],"owner":{"account_id":17640,"reputation":261516,"user_id":39677,"accept_rate":57,"display_name":"Blankman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679654548,"creation_date":1679595368,"question_id":75826666,"body_markdown":"I have loaded a file into a byte array:\r\n\r\n    import java.nio.file.{Files, Paths}    \r\n    val byteArray = Files.readAllBytes(Paths.get(&quot;/path/to/file&quot;))\r\n\r\nNow I want to traverse this byte array, in n byte increments like:\r\n\r\n1. read first 4 bytes, as an int\r\n2. read next 1 byte, as a bool\r\n3. read next 64 characters, as a UTF8 string.\r\n\r\nWhat is the best way to do this?","title":"How do I read the next n bytes from a byte array?","body":"<p>I have loaded a file into a byte array:</p>\n<pre><code>import java.nio.file.{Files, Paths}    \nval byteArray = Files.readAllBytes(Paths.get(&quot;/path/to/file&quot;))\n</code></pre>\n<p>Now I want to traverse this byte array, in n byte increments like:</p>\n<ol>\n<li>read first 4 bytes, as an int</li>\n<li>read next 1 byte, as a bool</li>\n<li>read next 64 characters, as a UTF8 string.</li>\n</ol>\n<p>What is the best way to do this?</p>\n"},{"tags":["java","variables","expression","talend","tmap"],"comments":[{"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"score":0,"creation_date":1679603183,"post_id":75823209,"comment_id":133755759,"body_markdown":"You can’t do it in tMap but you can do it using tJavaFlex in a subsequent step. That way, you can change your schema and add fields and you don’t have to worry about the schema changing, it will automatically deal with any new fields.","body":"You can’t do it in tMap but you can do it using tJavaFlex in a subsequent step. That way, you can change your schema and add fields and you don’t have to worry about the schema changing, it will automatically deal with any new fields."}],"answers":[{"tags":[],"owner":{"account_id":484284,"reputation":4001,"user_id":899863,"display_name":"Ibrahim Mezouar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679578871,"creation_date":1679578871,"answer_id":75823785,"question_id":75823209,"body_markdown":"Sadly there isn&#39;t a way to achieve what you want, without calling the function TalendString.UPCASE in every expression in your output fields.  ","title":"How to apply a tmap variable to multiple output fields in Talend?","body":"<p>Sadly there isn't a way to achieve what you want, without calling the function TalendString.UPCASE in every expression in your output fields.</p>\n"},{"tags":[],"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679609812,"creation_date":1679609812,"answer_id":75828437,"question_id":75823209,"body_markdown":"For anyone wanting to do this in bulk, there is a way but it&#39;s not via the use of `tMap`.\r\n\r\nUsing one of the `tJava#` components, you can use `Reflection` in Java to do it dynamically for all fields of type `String`.\r\n\r\nThis can be applied to any part of the transformation flow.\r\n\r\nThis is a basic example ...\r\n\r\n[![Flow][1]][1]\r\n\r\nThe first step initialises 3 rows of data that look like thus ...\r\n\r\n[![Fixed Flow Input][2]][2]\r\n\r\nThe main `tJavaFlex` component looks like this (noting that the out connector for this component is named `data_out`) ...\r\n\r\n**Start code**\r\n\r\n    Class outClass = data_out.getClass();\r\n    java.lang.reflect.Field[] outFields = outClass.getDeclaredFields();\r\n\r\n**Main code**\r\n\r\n    for (int i = 0; i &lt; outFields.length; i++) {\r\n        java.lang.reflect.Field field = outFields[i];\r\n    \r\n    \tString fieldType = field.getType().getSimpleName();\r\n    \t\r\n    \tif (fieldType.equals(&quot;String&quot;)) {\r\n    \t\tfield.setAccessible(true);\t\r\n    \t\r\n    \t\tString value = (String)field.get(data_out);\r\n    \t\t\r\n    \t\tif (value != null) {\r\n    \t\t\tString stringValue = value.toUpperCase();\t\r\n    \t\t\tfield.set(data_out, stringValue);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n... it&#39;s also important to note that the **Data Auto Propogate** flag should be switched on.  This will automatically fill the output structure which means you won&#39;t have to.  All the tJavaFlex component needs to do is uppercase each string value.\r\n\r\n#### Output\r\n\r\n    Starting job DynamicUppercase at 09:06 24/03/2023.\r\n    [statistics] connecting to socket on port 3613\r\n    [statistics] connected\r\n    .------+------+-------+-------+--------+------+------+-------.\r\n    |                           Before                           |\r\n    |=-----+------+-------+-------+--------+------+------+------=|\r\n    |Text1 |Text2 |Number1|Number2|Boolean1|Text3 |Text4 |Number3|\r\n    |=-----+------+-------+-------+--------+------+------+------=|\r\n    |Test 1|test 2|123    |456    |true    |test 3|Test 4|789    |\r\n    |Test 1|test 2|123    |456    |true    |test 3|Test 4|789    |\r\n    |Test 1|test 2|123    |456    |true    |test 3|Test 4|789    |\r\n    &#39;------+------+-------+-------+--------+------+------+-------&#39;\r\n    \r\n    .------+------+-------+-------+--------+------+------+-------.\r\n    |                           After                            |\r\n    |=-----+------+-------+-------+--------+------+------+------=|\r\n    |Text1 |Text2 |Number1|Number2|Boolean1|Text3 |Text4 |Number3|\r\n    |=-----+------+-------+-------+--------+------+------+------=|\r\n    |TEST 1|TEST 2|123    |456    |true    |TEST 3|TEST 4|789    |\r\n    |TEST 1|TEST 2|123    |456    |true    |TEST 3|TEST 4|789    |\r\n    |TEST 1|TEST 2|123    |456    |true    |TEST 3|TEST 4|789    |\r\n    &#39;------+------+-------+-------+--------+------+------+-------&#39;\r\n    \r\n    [statistics] disconnected\r\n    \r\n    Job DynamicUppercase ended at 09:06 24/03/2023. [Exit code  = 0]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3YNnJ.png\r\n  [2]: https://i.stack.imgur.com/c39Ae.png","title":"How to apply a tmap variable to multiple output fields in Talend?","body":"<p>For anyone wanting to do this in bulk, there is a way but it's not via the use of <code>tMap</code>.</p>\n<p>Using one of the <code>tJava#</code> components, you can use <code>Reflection</code> in Java to do it dynamically for all fields of type <code>String</code>.</p>\n<p>This can be applied to any part of the transformation flow.</p>\n<p>This is a basic example ...</p>\n<p><a href=\"https://i.stack.imgur.com/3YNnJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3YNnJ.png\" alt=\"Flow\" /></a></p>\n<p>The first step initialises 3 rows of data that look like thus ...</p>\n<p><a href=\"https://i.stack.imgur.com/c39Ae.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c39Ae.png\" alt=\"Fixed Flow Input\" /></a></p>\n<p>The main <code>tJavaFlex</code> component looks like this (noting that the out connector for this component is named <code>data_out</code>) ...</p>\n<p><strong>Start code</strong></p>\n<pre><code>Class outClass = data_out.getClass();\njava.lang.reflect.Field[] outFields = outClass.getDeclaredFields();\n</code></pre>\n<p><strong>Main code</strong></p>\n<pre><code>for (int i = 0; i &lt; outFields.length; i++) {\n    java.lang.reflect.Field field = outFields[i];\n\n    String fieldType = field.getType().getSimpleName();\n    \n    if (fieldType.equals(&quot;String&quot;)) {\n        field.setAccessible(true);  \n    \n        String value = (String)field.get(data_out);\n        \n        if (value != null) {\n            String stringValue = value.toUpperCase();   \n            field.set(data_out, stringValue);\n        }\n    }\n}\n</code></pre>\n<p>... it's also important to note that the <strong>Data Auto Propogate</strong> flag should be switched on.  This will automatically fill the output structure which means you won't have to.  All the tJavaFlex component needs to do is uppercase each string value.</p>\n<h4>Output</h4>\n<pre><code>Starting job DynamicUppercase at 09:06 24/03/2023.\n[statistics] connecting to socket on port 3613\n[statistics] connected\n.------+------+-------+-------+--------+------+------+-------.\n|                           Before                           |\n|=-----+------+-------+-------+--------+------+------+------=|\n|Text1 |Text2 |Number1|Number2|Boolean1|Text3 |Text4 |Number3|\n|=-----+------+-------+-------+--------+------+------+------=|\n|Test 1|test 2|123    |456    |true    |test 3|Test 4|789    |\n|Test 1|test 2|123    |456    |true    |test 3|Test 4|789    |\n|Test 1|test 2|123    |456    |true    |test 3|Test 4|789    |\n'------+------+-------+-------+--------+------+------+-------'\n\n.------+------+-------+-------+--------+------+------+-------.\n|                           After                            |\n|=-----+------+-------+-------+--------+------+------+------=|\n|Text1 |Text2 |Number1|Number2|Boolean1|Text3 |Text4 |Number3|\n|=-----+------+-------+-------+--------+------+------+------=|\n|TEST 1|TEST 2|123    |456    |true    |TEST 3|TEST 4|789    |\n|TEST 1|TEST 2|123    |456    |true    |TEST 3|TEST 4|789    |\n|TEST 1|TEST 2|123    |456    |true    |TEST 3|TEST 4|789    |\n'------+------+-------+-------+--------+------+------+-------'\n\n[statistics] disconnected\n\nJob DynamicUppercase ended at 09:06 24/03/2023. [Exit code  = 0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20060396,"reputation":377,"user_id":14707253,"display_name":"Emile Dadou"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679654332,"creation_date":1679654332,"answer_id":75832602,"question_id":75823209,"body_markdown":"Hi instead of having to rewrite the code in every field there is a functionnality in the tMap component that allows you to apply a routine or functions to the fields that you selected, you just have to select the field you want the function to be applied and then right click and you have the option to &quot;apply routine&quot; it looks like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd it applies the function / routine to the field you selected automaticaly.\r\n\r\nIt works with talend standard routines but also with the custom routines you write\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g38CI.png\r\n  [2]: https://i.stack.imgur.com/1vpHz.png","title":"How to apply a tmap variable to multiple output fields in Talend?","body":"<p>Hi instead of having to rewrite the code in every field there is a functionnality in the tMap component that allows you to apply a routine or functions to the fields that you selected, you just have to select the field you want the function to be applied and then right click and you have the option to &quot;apply routine&quot; it looks like this</p>\n<p><a href=\"https://i.stack.imgur.com/g38CI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g38CI.png\" alt=\"enter image description here\" /></a></p>\n<p>And it applies the function / routine to the field you selected automaticaly.</p>\n<p>It works with talend standard routines but also with the custom routines you write</p>\n<p><a href=\"https://i.stack.imgur.com/1vpHz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1vpHz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27900110,"reputation":35,"user_id":21304583,"display_name":"Fabio Mignardi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75832602,"answer_count":3,"score":1,"last_activity_date":1679654332,"creation_date":1679575816,"question_id":75823209,"body_markdown":"I&#39;m working with tmap and I was wondering if it&#39;s possible to use this simple use case:\r\n\r\nI create a variable in central tmap section, and I apply the same variable to multiple output fields.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ZODH7.png)](https://i.stack.imgur.com/ZODH7.png)\r\n\r\nIn the above example, I have two String fields and I want to convert them to Upper case. Is it possible, via the use Variables, to write the function once and then call it in every output fields I want?\r\n\r\nCause otherwise the only way to do that is to re-write the function StringHandling.UPCASE( ) in every field in the output table.\r\n\r\nI&#39;ve tried to use the following syntax, but didn&#39;t work.  Also in the talend community or forums online I didn&#39;t find a solution, maybe because there isn&#39;t any?\r\n\r\n[![\\[!\\[enter image description here\\](https://i.stack.imgur.com/xIPQ9.png)\\](https://i.stack.imgur.com/xIPQ9.png)][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jvGtC.png","title":"How to apply a tmap variable to multiple output fields in Talend?","body":"<p>I'm working with tmap and I was wondering if it's possible to use this simple use case:</p>\n<p>I create a variable in central tmap section, and I apply the same variable to multiple output fields.</p>\n<p><a href=\"https://i.stack.imgur.com/ZODH7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZODH7.png\" alt=\"enter image description here\" /></a></p>\n<p>In the above example, I have two String fields and I want to convert them to Upper case. Is it possible, via the use Variables, to write the function once and then call it in every output fields I want?</p>\n<p>Cause otherwise the only way to do that is to re-write the function StringHandling.UPCASE( ) in every field in the output table.</p>\n<p>I've tried to use the following syntax, but didn't work.  Also in the talend community or forums online I didn't find a solution, maybe because there isn't any?</p>\n<p><a href=\"https://i.stack.imgur.com/jvGtC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jvGtC.png\" alt=\"[![enter image description here](https://i.stack.imgur.com/xIPQ9.png)](https://i.stack.imgur.com/xIPQ9.png)\" /></a></p>\n"},{"tags":["java","android","firebase-realtime-database","ontouch"],"answers":[{"tags":[],"owner":{"account_id":27889899,"reputation":1,"user_id":21296514,"display_name":"Candy Flip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679653176,"creation_date":1679653176,"answer_id":75832409,"question_id":75832271,"body_markdown":"Ok guys I did it: \r\n\r\nI created this view class: \r\n\r\n    public class PointsView extends View {\r\n\r\n    private DatabaseReference mDatabase;\r\n    private Paint mPaint;\r\n    private List&lt;Point&gt; mPoints;\r\n\r\n    public PointsView(Context context) {\r\n        super(context);\r\n        init();\r\n    }\r\n\r\n    public PointsView(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init();\r\n    }\r\n\r\n    public PointsView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        init();\r\n    }\r\n\r\n    private void init() {\r\n        mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;points&quot;);\r\n        mPaint = new Paint();\r\n        mPaint.setAntiAlias(true);\r\n        mPaint.setColor(Color.BLACK);\r\n        mPaint.setStyle(Paint.Style.FILL);\r\n        mPoints = new ArrayList&lt;&gt;();\r\n\r\n        // Listen for child added events\r\n        mDatabase.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(DataSnapshot dataSnapshot, String previousChildName) {\r\n                Point point = dataSnapshot.getValue(Point.class);\r\n                mPoints.add(point);\r\n                invalidate();\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(DataSnapshot dataSnapshot, String previousChildName) {\r\n                // Do nothing\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n                // Do nothing\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(DataSnapshot dataSnapshot, String previousChildName) {\r\n                // Do nothing\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                // Do nothing\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        for (Point point : mPoints) {\r\n            canvas.drawCircle(point.x, point.y, 20f, mPaint);\r\n        }\r\n    }\r\n\r\n    public static class Point {\r\n        public float x;\r\n        public float y;\r\n\r\n        public Point(float x, float y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        public Point() {\r\n            // Required empty constructor for Firebase\r\n        }\r\n    }\r\n    }\r\n\r\nalso I updated the layout.xml file to this: \r\n\r\n    &lt;com.example.app.PointsView\r\n        android:id=&quot;@+id/path_view_end_showing&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginStart=&quot;@dimen/margin_10dp&quot;\r\n        android:layout_marginEnd=&quot;@dimen/margin_10dp&quot;\r\n        android:layout_marginTop=&quot;@dimen/margin_10dp&quot;\r\n        android:layout_marginBottom=&quot;@dimen/margin_10dp&quot;/&gt;\r\n\r\n\r\nSo I just removed the Framelayout and Realtivelayout and it is working!","title":"Is it possible to send the TouchEvents of a user&#39;s device in realtime to another device?","body":"<p>Ok guys I did it:</p>\n<p>I created this view class:</p>\n<pre><code>public class PointsView extends View {\n\nprivate DatabaseReference mDatabase;\nprivate Paint mPaint;\nprivate List&lt;Point&gt; mPoints;\n\npublic PointsView(Context context) {\n    super(context);\n    init();\n}\n\npublic PointsView(Context context, @Nullable AttributeSet attrs) {\n    super(context, attrs);\n    init();\n}\n\npublic PointsView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n    init();\n}\n\nprivate void init() {\n    mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;points&quot;);\n    mPaint = new Paint();\n    mPaint.setAntiAlias(true);\n    mPaint.setColor(Color.BLACK);\n    mPaint.setStyle(Paint.Style.FILL);\n    mPoints = new ArrayList&lt;&gt;();\n\n    // Listen for child added events\n    mDatabase.addChildEventListener(new ChildEventListener() {\n        @Override\n        public void onChildAdded(DataSnapshot dataSnapshot, String previousChildName) {\n            Point point = dataSnapshot.getValue(Point.class);\n            mPoints.add(point);\n            invalidate();\n        }\n\n        @Override\n        public void onChildChanged(DataSnapshot dataSnapshot, String previousChildName) {\n            // Do nothing\n        }\n\n        @Override\n        public void onChildRemoved(DataSnapshot dataSnapshot) {\n            // Do nothing\n        }\n\n        @Override\n        public void onChildMoved(DataSnapshot dataSnapshot, String previousChildName) {\n            // Do nothing\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            // Do nothing\n        }\n    });\n}\n\n@Override\nprotected void onDraw(Canvas canvas) {\n    super.onDraw(canvas);\n    for (Point point : mPoints) {\n        canvas.drawCircle(point.x, point.y, 20f, mPaint);\n    }\n}\n\npublic static class Point {\n    public float x;\n    public float y;\n\n    public Point(float x, float y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public Point() {\n        // Required empty constructor for Firebase\n    }\n}\n}\n</code></pre>\n<p>also I updated the layout.xml file to this:</p>\n<pre><code>&lt;com.example.app.PointsView\n    android:id=&quot;@+id/path_view_end_showing&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_marginStart=&quot;@dimen/margin_10dp&quot;\n    android:layout_marginEnd=&quot;@dimen/margin_10dp&quot;\n    android:layout_marginTop=&quot;@dimen/margin_10dp&quot;\n    android:layout_marginBottom=&quot;@dimen/margin_10dp&quot;/&gt;\n</code></pre>\n<p>So I just removed the Framelayout and Realtivelayout and it is working!</p>\n"}],"owner":{"account_id":27889899,"reputation":1,"user_id":21296514,"display_name":"Candy Flip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75832409,"answer_count":1,"score":0,"last_activity_date":1679653176,"creation_date":1679652271,"question_id":75832271,"body_markdown":"I have the following code in Android Studio (java) (Maybe the view has too much methods and irrelevant methods, variables?)\r\n\r\n\r\n```\r\npublic class Drawingview extends View {\r\n\r\n    private DatabaseReference mDatabase;\r\n    private Path mPath;\r\n    private Paint mPaint;\r\n    private float mX, mY;\r\n    private static final float TOUCH_TOLERANCE = 4;\r\n\r\n    public Drawingview(Context context) {\r\n        super(context);\r\n        init();\r\n    }\r\n\r\n    public Drawingview(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init();\r\n    }\r\n\r\n    public Drawingview(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        init();\r\n    }\r\n\r\n    private void init() {\r\n        mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;points&quot;);\r\n        mPath = new Path();\r\n        mPaint = new Paint();\r\n        mPaint.setAntiAlias(true);\r\n        mPaint.setColor(Color.BLACK);\r\n        mPaint.setStyle(Paint.Style.STROKE);\r\n        mPaint.setStrokeJoin(Paint.Join.ROUND);\r\n        mPaint.setStrokeWidth(12f);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        canvas.drawPath(mPath, mPaint);\r\n    }\r\n\r\n    private void touchStart(float x, float y) {\r\n        mPath.reset();\r\n        mPath.moveTo(x, y);\r\n        mX = x;\r\n        mY = y;\r\n    }\r\n\r\n    private void touchMove(float x, float y) {\r\n        float dx = Math.abs(x - mX);\r\n        float dy = Math.abs(y - mY);\r\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) {\r\n            mPath.quadTo(mX, mY, (x + mX) / 2, (y + mY) / 2);\r\n            mX = x;\r\n            mY = y;\r\n\r\n            // Send the points to Firebase database\r\n            Point point = new Point(x, y);\r\n            mDatabase.push().setValue(point);\r\n        }\r\n    }\r\n\r\n    private void touchUp() {\r\n        mPath.lineTo(mX, mY);\r\n    }\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        float x = event.getX();\r\n        float y = event.getY();\r\n\r\n        switch (event.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                touchStart(x, y);\r\n                break;\r\n            case MotionEvent.ACTION_MOVE:\r\n                touchMove(x, y);\r\n                break;\r\n            case MotionEvent.ACTION_UP:\r\n                touchUp();\r\n                break;\r\n            default:\r\n                return false;\r\n        }\r\n\r\n        invalidate();\r\n        return true;\r\n    }\r\n\r\n    public static class Point {\r\n        public float x;\r\n        public float y;\r\n\r\n        public Point(float x, float y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        public Point() {\r\n            // Required empty constructor for Firebase\r\n        }\r\n    }\r\n  }\r\n```\r\n\r\n\r\nThe layout.xml part looks like this\r\n\r\n\r\n```\r\n&lt;RelativeLayout\r\n        android:id=&quot;@+id/relative_drawing&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/drawing_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@color/white&quot;&gt;\r\n\r\n            &lt;com.example.apps.Drawingview\r\n                android:id=&quot;@+id/drawing_view_drawer&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginStart=&quot;@dimen/margin_10dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginEnd=&quot;@dimen/margin_10dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot; /&gt;\r\n        &lt;/FrameLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nThis works so far. I can draw and the points are added to the Firebase database\r\n\r\n\r\nWhat I want to do is, that another user receives the last points which where added to the firebase by the other user. \r\nThis user has another layout which looks like this:\r\n\r\n\r\n```\r\n&lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/path_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;@drawable/kariert_block_version1&quot;&gt;\r\n\r\n            &lt;com.example.app.views.PathView\r\n                android:id=&quot;@+id/path_view_realtime&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginStart=&quot;@dimen/margin_10dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginEnd=&quot;@dimen/margin_10dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;/&gt;\r\n        &lt;/FrameLayout&gt;\r\n    &lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nNow here&#39;s what I don&#39;t quite understand:\r\nSo I want the other user to listen to every change. I do that with the following code?\r\n\r\n\r\n```\r\nDatabaseReference pointsRef = FirebaseDatabase.getInstance().getReference(&quot;points&quot;);\r\n\r\n  // Listen for new touch event data and draw it on the view\r\n        pointsRef.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(DataSnapshot dataSnapshot, String previousChildName) {\r\n                //what Im doing here?\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String   previousChildName) {\r\n\r\n            }\r\n```\r\n\r\n\r\n\r\nBut where must the code be implemented? In the PathView class or in the activity where the layout is? \r\n\r\nAnd the most important. How can I show in realtime a point at the position where the other user presses on his display? so I want to see only a point, without a line or something - just the position of the touch.\r\n\r\nThanks in advance!\r\n\r\nI tried it with the codes provided above, but I cant figure out what to do with the points. How to draw it and how to receive only the last points of the database.","title":"Is it possible to send the TouchEvents of a user&#39;s device in realtime to another device?","body":"<p>I have the following code in Android Studio (java) (Maybe the view has too much methods and irrelevant methods, variables?)</p>\n<pre><code>public class Drawingview extends View {\n\n    private DatabaseReference mDatabase;\n    private Path mPath;\n    private Paint mPaint;\n    private float mX, mY;\n    private static final float TOUCH_TOLERANCE = 4;\n\n    public Drawingview(Context context) {\n        super(context);\n        init();\n    }\n\n    public Drawingview(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public Drawingview(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    private void init() {\n        mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;points&quot;);\n        mPath = new Path();\n        mPaint = new Paint();\n        mPaint.setAntiAlias(true);\n        mPaint.setColor(Color.BLACK);\n        mPaint.setStyle(Paint.Style.STROKE);\n        mPaint.setStrokeJoin(Paint.Join.ROUND);\n        mPaint.setStrokeWidth(12f);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        canvas.drawPath(mPath, mPaint);\n    }\n\n    private void touchStart(float x, float y) {\n        mPath.reset();\n        mPath.moveTo(x, y);\n        mX = x;\n        mY = y;\n    }\n\n    private void touchMove(float x, float y) {\n        float dx = Math.abs(x - mX);\n        float dy = Math.abs(y - mY);\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) {\n            mPath.quadTo(mX, mY, (x + mX) / 2, (y + mY) / 2);\n            mX = x;\n            mY = y;\n\n            // Send the points to Firebase database\n            Point point = new Point(x, y);\n            mDatabase.push().setValue(point);\n        }\n    }\n\n    private void touchUp() {\n        mPath.lineTo(mX, mY);\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        float x = event.getX();\n        float y = event.getY();\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                touchStart(x, y);\n                break;\n            case MotionEvent.ACTION_MOVE:\n                touchMove(x, y);\n                break;\n            case MotionEvent.ACTION_UP:\n                touchUp();\n                break;\n            default:\n                return false;\n        }\n\n        invalidate();\n        return true;\n    }\n\n    public static class Point {\n        public float x;\n        public float y;\n\n        public Point(float x, float y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public Point() {\n            // Required empty constructor for Firebase\n        }\n    }\n  }\n</code></pre>\n<p>The layout.xml part looks like this</p>\n<pre><code>&lt;RelativeLayout\n        android:id=&quot;@+id/relative_drawing&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/drawing_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@color/white&quot;&gt;\n\n            &lt;com.example.apps.Drawingview\n                android:id=&quot;@+id/drawing_view_drawer&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginStart=&quot;@dimen/margin_10dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginEnd=&quot;@dimen/margin_10dp&quot;\n                android:layout_marginBottom=&quot;5dp&quot; /&gt;\n        &lt;/FrameLayout&gt;\n    &lt;/RelativeLayout&gt;\n</code></pre>\n<p>This works so far. I can draw and the points are added to the Firebase database</p>\n<p>What I want to do is, that another user receives the last points which where added to the firebase by the other user.\nThis user has another layout which looks like this:</p>\n<pre><code>&lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/path_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@drawable/kariert_block_version1&quot;&gt;\n\n            &lt;com.example.app.views.PathView\n                android:id=&quot;@+id/path_view_realtime&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_marginStart=&quot;@dimen/margin_10dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginEnd=&quot;@dimen/margin_10dp&quot;\n                android:layout_marginBottom=&quot;5dp&quot;/&gt;\n        &lt;/FrameLayout&gt;\n    &lt;/RelativeLayout&gt;\n</code></pre>\n<p>Now here's what I don't quite understand:\nSo I want the other user to listen to every change. I do that with the following code?</p>\n<pre><code>DatabaseReference pointsRef = FirebaseDatabase.getInstance().getReference(&quot;points&quot;);\n\n  // Listen for new touch event data and draw it on the view\n        pointsRef.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(DataSnapshot dataSnapshot, String previousChildName) {\n                //what Im doing here?\n            }\n\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String   previousChildName) {\n\n            }\n</code></pre>\n<p>But where must the code be implemented? In the PathView class or in the activity where the layout is?</p>\n<p>And the most important. How can I show in realtime a point at the position where the other user presses on his display? so I want to see only a point, without a line or something - just the position of the touch.</p>\n<p>Thanks in advance!</p>\n<p>I tried it with the codes provided above, but I cant figure out what to do with the points. How to draw it and how to receive only the last points of the database.</p>\n"},{"tags":["java","python","apache-spark","pyspark"],"comments":[{"owner":{"account_id":3489493,"reputation":1477,"user_id":2919531,"display_name":"Ajay Kharade"},"score":0,"creation_date":1588358823,"post_id":61547850,"comment_id":108874008,"body_markdown":"Could you post logs here unable to see it in image?","body":"Could you post logs here unable to see it in image?"},{"owner":{"account_id":14175870,"reputation":429,"user_id":10241161,"display_name":"LLL"},"score":0,"creation_date":1588360008,"post_id":61547850,"comment_id":108874535,"body_markdown":"@Ajay_SK my bad. Have posted the whole error.","body":"@Ajay_SK my bad. Have posted the whole error."},{"owner":{"account_id":17213019,"reputation":697,"user_id":12461814,"display_name":"ShemTov"},"score":0,"creation_date":1588360986,"post_id":61547850,"comment_id":108874993,"body_markdown":"How do you run the code? spark-submit, pycharm, notebook?","body":"How do you run the code? spark-submit, pycharm, notebook?"},{"owner":{"account_id":14175870,"reputation":429,"user_id":10241161,"display_name":"LLL"},"score":0,"creation_date":1588365809,"post_id":61547850,"comment_id":108877085,"body_markdown":"@ShemTov I am using Jupyter Notebook","body":"@ShemTov I am using Jupyter Notebook"},{"owner":{"account_id":14175870,"reputation":429,"user_id":10241161,"display_name":"LLL"},"score":0,"creation_date":1588789314,"post_id":61547850,"comment_id":109037551,"body_markdown":"Still unresolved.","body":"Still unresolved."}],"owner":{"account_id":14175870,"reputation":429,"user_id":10241161,"display_name":"LLL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":920,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1679652945,"creation_date":1588355390,"question_id":61547850,"body_markdown":"I was running the following script then an error occurred.\r\n\r\nThe code:\r\n\r\n    from pyspark.sql import SparkSession\r\n    spark = SparkSession.builder.appName(&#39;ml-bank&#39;).getOrCreate()\r\n    my_data = spark.read.csv(&#39;C:\\Personal\\Portfolio\\spark-ml\\ind-ban-comment.csv&#39;, header = True, inferSchema = True)\r\n    my_data.printSchema()\r\n\r\n\r\n\r\nThe error:\r\n\r\n    Py4JJavaError: An error occurred while calling o33.csv.\r\n    : java.lang.IllegalStateException: No active or default Spark session found\r\n    \tat org.apache.spark.sql.SparkSession$.$anonfun$active$2(SparkSession.scala:1009)\r\n    \tat scala.Option.getOrElse(Option.scala:189)\r\n    \tat org.apache.spark.sql.SparkSession$.$anonfun$active$1(SparkSession.scala:1009)\r\n    \tat scala.Option.getOrElse(Option.scala:189)\r\n    \tat org.apache.spark.sql.SparkSession$.active(SparkSession.scala:1008)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.sparkSession(FileDataSourceV2.scala:42)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.sparkSession$(FileDataSourceV2.scala:42)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.csv.CSVDataSourceV2.sparkSession$lzycompute(CSVDataSourceV2.scala:26)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.csv.CSVDataSourceV2.sparkSession(CSVDataSourceV2.scala:26)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.qualifiedPathName(FileDataSourceV2.scala:59)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.$anonfun$getTableName$1(FileDataSourceV2.scala:53)\r\n    \tat scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)\r\n    \tat scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\r\n    \tat scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\r\n    \tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\r\n    \tat scala.collection.TraversableLike.map(TraversableLike.scala:238)\r\n    \tat scala.collection.TraversableLike.map$(TraversableLike.scala:231)\r\n    \tat scala.collection.AbstractTraversable.map(Traversable.scala:108)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.getTableName(FileDataSourceV2.scala:53)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.getTableName$(FileDataSourceV2.scala:52)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.csv.CSVDataSourceV2.getTableName(CSVDataSourceV2.scala:26)\r\n    \tat org.apache.spark.sql.execution.datasources.v2.csv.CSVDataSourceV2.getTable(CSVDataSourceV2.scala:34)\r\n    \tat org.apache.spark.sql.DataFrameReader.$anonfun$load$1(DataFrameReader.scala:220)\r\n    \tat scala.Option.map(Option.scala:230)\r\n    \tat org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:206)\r\n    \tat org.apache.spark.sql.DataFrameReader.csv(DataFrameReader.scala:648)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n    \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n    \tat py4j.Gateway.invoke(Gateway.java:282)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n\r\nI saw someone suggest to use Java 8 in another post but my Java is already version 8. Would like to know what the problem is. \r\n\r\nThank you!\r\n\r\n","title":"PySpark Error - An error occurred while calling o33.csv","body":"<p>I was running the following script then an error occurred.</p>\n\n<p>The code:</p>\n\n<pre><code>from pyspark.sql import SparkSession\nspark = SparkSession.builder.appName('ml-bank').getOrCreate()\nmy_data = spark.read.csv('C:\\Personal\\Portfolio\\spark-ml\\ind-ban-comment.csv', header = True, inferSchema = True)\nmy_data.printSchema()\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>Py4JJavaError: An error occurred while calling o33.csv.\n: java.lang.IllegalStateException: No active or default Spark session found\n    at org.apache.spark.sql.SparkSession$.$anonfun$active$2(SparkSession.scala:1009)\n    at scala.Option.getOrElse(Option.scala:189)\n    at org.apache.spark.sql.SparkSession$.$anonfun$active$1(SparkSession.scala:1009)\n    at scala.Option.getOrElse(Option.scala:189)\n    at org.apache.spark.sql.SparkSession$.active(SparkSession.scala:1008)\n    at org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.sparkSession(FileDataSourceV2.scala:42)\n    at org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.sparkSession$(FileDataSourceV2.scala:42)\n    at org.apache.spark.sql.execution.datasources.v2.csv.CSVDataSourceV2.sparkSession$lzycompute(CSVDataSourceV2.scala:26)\n    at org.apache.spark.sql.execution.datasources.v2.csv.CSVDataSourceV2.sparkSession(CSVDataSourceV2.scala:26)\n    at org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.qualifiedPathName(FileDataSourceV2.scala:59)\n    at org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.$anonfun$getTableName$1(FileDataSourceV2.scala:53)\n    at scala.collection.TraversableLike.$anonfun$map$1(TraversableLike.scala:238)\n    at scala.collection.mutable.ResizableArray.foreach(ResizableArray.scala:62)\n    at scala.collection.mutable.ResizableArray.foreach$(ResizableArray.scala:55)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:49)\n    at scala.collection.TraversableLike.map(TraversableLike.scala:238)\n    at scala.collection.TraversableLike.map$(TraversableLike.scala:231)\n    at scala.collection.AbstractTraversable.map(Traversable.scala:108)\n    at org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.getTableName(FileDataSourceV2.scala:53)\n    at org.apache.spark.sql.execution.datasources.v2.FileDataSourceV2.getTableName$(FileDataSourceV2.scala:52)\n    at org.apache.spark.sql.execution.datasources.v2.csv.CSVDataSourceV2.getTableName(CSVDataSourceV2.scala:26)\n    at org.apache.spark.sql.execution.datasources.v2.csv.CSVDataSourceV2.getTable(CSVDataSourceV2.scala:34)\n    at org.apache.spark.sql.DataFrameReader.$anonfun$load$1(DataFrameReader.scala:220)\n    at scala.Option.map(Option.scala:230)\n    at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:206)\n    at org.apache.spark.sql.DataFrameReader.csv(DataFrameReader.scala:648)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:238)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>I saw someone suggest to use Java 8 in another post but my Java is already version 8. Would like to know what the problem is. </p>\n\n<p>Thank you!</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679652935,"creation_date":1679652935,"answer_id":75832369,"question_id":75831214,"body_markdown":"Yes, implementation seems to be correct and if you frequently query by the iban field, it may be useful to have an additional index even if you&#39;re already using `@NaturalId` which is a way to define a natural identifier for your entity, but it does not automatically create an index on that field. Adding an additional index on the iban field will further optimize your queries.","title":"Using @Index in Spring Data JPA entities in Spring Boot?","body":"<p>Yes, implementation seems to be correct and if you frequently query by the iban field, it may be useful to have an additional index even if you're already using <code>@NaturalId</code> which is a way to define a natural identifier for your entity, but it does not automatically create an index on that field. Adding an additional index on the iban field will further optimize your queries.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75832369,"answer_count":1,"score":1,"last_activity_date":1679652935,"creation_date":1679644924,"question_id":75831214,"body_markdown":"In a Sprng Boot app where I use PostgreSQL as database, I am trying to use Hibernate and want to add indexes to an entity for the following situations:\r\n\r\n\r\n**1.** There is not any account with the same userId and iban or with the same userId and name (unique index)\r\n\r\n**2.** I want to make a commonly used query by iban field and wanted to add an index\r\n\r\n\r\nHere is my implementation below:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(indexes = {\r\n        @Index(name = &quot;account_user_id_iban_key&quot;, columnList = &quot;userId, iban&quot;, unique = true),\r\n        @Index(name = &quot;account_user_id_name_key&quot;, columnList = &quot;userId, name&quot;, unique = true),\r\n        @Index(name = &quot;account_iban_idx&quot;, columnList = &quot;iban&quot;)\r\n})\r\npublic class Account {\r\n    ...\r\n}\r\n```\r\n\r\n\r\n\r\nMy questions:\r\n\r\n**1.** Is this implementation correct for the given scenario? \r\n\r\n**2.** Do I need `@Index(name = &quot;account_iban_idx&quot;, columnList = &quot;iban&quot;)` index if I use `@NaturalId` for the `iban` field? ","title":"Using @Index in Spring Data JPA entities in Spring Boot?","body":"<p>In a Sprng Boot app where I use PostgreSQL as database, I am trying to use Hibernate and want to add indexes to an entity for the following situations:</p>\n<p><strong>1.</strong> There is not any account with the same userId and iban or with the same userId and name (unique index)</p>\n<p><strong>2.</strong> I want to make a commonly used query by iban field and wanted to add an index</p>\n<p>Here is my implementation below:</p>\n<pre><code>@Entity\n@Table(indexes = {\n        @Index(name = &quot;account_user_id_iban_key&quot;, columnList = &quot;userId, iban&quot;, unique = true),\n        @Index(name = &quot;account_user_id_name_key&quot;, columnList = &quot;userId, name&quot;, unique = true),\n        @Index(name = &quot;account_iban_idx&quot;, columnList = &quot;iban&quot;)\n})\npublic class Account {\n    ...\n}\n</code></pre>\n<p>My questions:</p>\n<p><strong>1.</strong> Is this implementation correct for the given scenario?</p>\n<p><strong>2.</strong> Do I need <code>@Index(name = &quot;account_iban_idx&quot;, columnList = &quot;iban&quot;)</code> index if I use <code>@NaturalId</code> for the <code>iban</code> field?</p>\n"},{"tags":["java","sql","oracle","multithreading"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1679652904,"post_id":75831960,"comment_id":133763253,"body_markdown":"Please define: &#39;very&#39;, &#39;sort&#39;, &#39;very sort time&#39;.","body":"Please define: &#39;very&#39;, &#39;sort&#39;, &#39;very sort time&#39;."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":1,"creation_date":1679661346,"post_id":75831960,"comment_id":133765361,"body_markdown":"There isn&#39;t enough information here to be helpful. We would need to see the (simplest) query you are using to pull data that meets your business needs, and how long it&#39;s taking you now, and whether you are timining based on the first row returned or all rows returned. Also, what does &quot;700w&quot; mean? I can tell you right now that indexing is not the right approach, but I can&#39;t advise you further until we get some specifics. We can&#39;t make much of a paragraph using language understandable only in your environment.","body":"There isn&#39;t enough information here to be helpful. We would need to see the (simplest) query you are using to pull data that meets your business needs, and how long it&#39;s taking you now, and whether you are timining based on the first row returned or all rows returned. Also, what does &quot;700w&quot; mean? I can tell you right now that indexing is not the right approach, but I can&#39;t advise you further until we get some specifics. We can&#39;t make much of a paragraph using language understandable only in your environment."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679652436,"creation_date":1679652436,"answer_id":75832296,"question_id":75831960,"body_markdown":"You are not going to get more performance by parallelising your client application and throwing more queries at the database; if anything that is going to degrade performance as the database will have more to deal with and everything is going to get bottlenecked at the database&#39;s I/O when it reads the table from disk.\r\n\r\nYou can consider partitioning the table (and storing each partition on a different physical drive) and then you could use multiple queries where each query returns data from a different partition and you can actually take advantage of parallel I/O.","title":"How to find 700w rows of data in an Oracle table in a very short time","body":"<p>You are not going to get more performance by parallelising your client application and throwing more queries at the database; if anything that is going to degrade performance as the database will have more to deal with and everything is going to get bottlenecked at the database's I/O when it reads the table from disk.</p>\n<p>You can consider partitioning the table (and storing each partition on a different physical drive) and then you could use multiple queries where each query returns data from a different partition and you can actually take advantage of parallel I/O.</p>\n"}],"owner":{"account_id":23458376,"reputation":1,"user_id":17513538,"display_name":"Sire"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1679679942,"answer_count":1,"score":-1,"last_activity_date":1679652436,"creation_date":1679650220,"question_id":75831960,"body_markdown":"My idea at the beginning is to use multithreading for batch query, and then the segment is calculated according to the maximum id and minimum id to partition, but unfortunately, my table, id is not continuous... Therefore, I planned to use create_time as the index for subsection search, then group by month and sort by data volume. The month with the largest data volume and the month with the smallest data volume were divided into one group, the month with the second largest data volume and the second smallest data volume were divided into one group, and so on. Each thread was responsible for one group, so that the data volume could be evenly distributed. It&#39;s about 25w for a group, but it still doesn&#39;t meet the manager&#39;s needs. He still asked me to use ids for grouping. He said that although the table id was not contiguous, the library id was contiguous, generated using hibernate&#39;s autoincrement sequence. But I looked at the table and the difference between the maximum id and the minimum id was more than 3 billion, and the data was only about 7 million. Could you please tell me if there is a better solution, or what should I do according to my manager&#39;s idea?\r\n\r\nI want to complete this query in less time","title":"How to find 700w rows of data in an Oracle table in a very short time","body":"<p>My idea at the beginning is to use multithreading for batch query, and then the segment is calculated according to the maximum id and minimum id to partition, but unfortunately, my table, id is not continuous... Therefore, I planned to use create_time as the index for subsection search, then group by month and sort by data volume. The month with the largest data volume and the month with the smallest data volume were divided into one group, the month with the second largest data volume and the second smallest data volume were divided into one group, and so on. Each thread was responsible for one group, so that the data volume could be evenly distributed. It's about 25w for a group, but it still doesn't meet the manager's needs. He still asked me to use ids for grouping. He said that although the table id was not contiguous, the library id was contiguous, generated using hibernate's autoincrement sequence. But I looked at the table and the difference between the maximum id and the minimum id was more than 3 billion, and the data was only about 7 million. Could you please tell me if there is a better solution, or what should I do according to my manager's idea?</p>\n<p>I want to complete this query in less time</p>\n"},{"tags":["java","spring-webflux","hikaricp"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":1,"creation_date":1679652595,"post_id":75832030,"comment_id":133763199,"body_markdown":"At least a piece of code you share could help to understand, but right now, it&#39;s not eligible. But I can say, check for db connection is released after db process is done, or you can use with try-with-resources.","body":"At least a piece of code you share could help to understand, but right now, it&#39;s not eligible. But I can say, check for db connection is released after db process is done, or you can use with try-with-resources."}],"owner":{"account_id":5012732,"reputation":19,"user_id":4028511,"display_name":"Sygit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679652173,"creation_date":1679650709,"question_id":75832030,"body_markdown":"I am using spring webflux and non-reactive approach to database. I experienced connection leak. \r\nCan anyone help in finding root cause ? I am using spring boot 2.7.8 and hikariCP 4.0.3. Java 17.\r\nHikari config: minimum-idle=2, maximum-pool-size=5, connection-timeout=5000.\r\n\r\n```\r\nConnection leak detection triggered for oracle.jdbc.driver.T4CConnection@4f6c398a on thread boundedElastic-1341, stack trace follows java.lang.Exception: Apparent connection leak detected\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\r\n\tat net.ttddyy.dsproxy.support.ProxyDataSource.getConnection(ProxyDataSource.java:63)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor479.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.xxx.ndf.metrics.jdbc.dsproxy.ProxyDataSourceMethodInterceptor.invoke(ProxyDataSourceMethodInterceptor.java:24)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat net.ttddyy.dsproxy.support.ProxyDataSource$$EnhancerBySpringCGLIB$$b1526d28.getConnection(&lt;generated&gt;)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:108)\r\n\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:138)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:50)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2868)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2850)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2677)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:406)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy244.getResultList(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy185.findByCustomerIdSegmentCountry(Unknown Source)\r\n\tat com.xxx.dbf.beneficiary.common.repository.BeneficiaryStorageService.getSharedBeneficiaries(BeneficiaryStorageService.java:214)\r\n\tat com.xxx.dbf.beneficiary.common.repository.BeneficiaryStorageService.lambda$findByClaims$0(BeneficiaryStorageService.java:38)\r\n\tat reactor.core.publisher.MonoCallable.subscribe(MonoCallable.java:57)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n\tat reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126)\r\n\tat com.xxx.ndf.web.context.MdcDecoratorConfiguration.lambda$mdcReactorContextDecorator$0(MdcDecoratorConfiguration.java:31)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\r\n\tat reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n```\r\n\r\n\r\nI am in initial phase of investigation","title":"Apparent connection leak detected. Hikari &amp; Webflux","body":"<p>I am using spring webflux and non-reactive approach to database. I experienced connection leak.\nCan anyone help in finding root cause ? I am using spring boot 2.7.8 and hikariCP 4.0.3. Java 17.\nHikari config: minimum-idle=2, maximum-pool-size=5, connection-timeout=5000.</p>\n<pre><code>Connection leak detection triggered for oracle.jdbc.driver.T4CConnection@4f6c398a on thread boundedElastic-1341, stack trace follows java.lang.Exception: Apparent connection leak detected\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)\n    at net.ttddyy.dsproxy.support.ProxyDataSource.getConnection(ProxyDataSource.java:63)\n    at jdk.internal.reflect.GeneratedMethodAccessor479.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at com.xxx.ndf.metrics.jdbc.dsproxy.ProxyDataSourceMethodInterceptor.invoke(ProxyDataSourceMethodInterceptor.java:24)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at net.ttddyy.dsproxy.support.ProxyDataSource$$EnhancerBySpringCGLIB$$b1526d28.getConnection(&lt;generated&gt;)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:108)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:138)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:50)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doList(Loader.java:2868)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)\n    at org.hibernate.loader.Loader.list(Loader.java:2677)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)\n    at org.hibernate.query.Query.getResultList(Query.java:165)\n    at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:406)\n    at jdk.proxy2/jdk.proxy2.$Proxy244.getResultList(Unknown Source)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy2/jdk.proxy2.$Proxy185.findByCustomerIdSegmentCountry(Unknown Source)\n    at com.xxx.dbf.beneficiary.common.repository.BeneficiaryStorageService.getSharedBeneficiaries(BeneficiaryStorageService.java:214)\n    at com.xxx.dbf.beneficiary.common.repository.BeneficiaryStorageService.lambda$findByClaims$0(BeneficiaryStorageService.java:38)\n    at reactor.core.publisher.MonoCallable.subscribe(MonoCallable.java:57)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n    at reactor.core.publisher.MonoSubscribeOn$SubscribeOnSubscriber.run(MonoSubscribeOn.java:126)\n    at com.xxx.ndf.web.context.MdcDecoratorConfiguration.lambda$mdcReactorContextDecorator$0(MdcDecoratorConfiguration.java:31)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84)\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n</code></pre>\n<p>I am in initial phase of investigation</p>\n"},{"tags":["java","ssl","tls1.2","sslhandshakeexception"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679614552,"post_id":75828714,"comment_id":133757801,"body_markdown":"Java 1.6? Do you mean Java 16?","body":"Java 1.6? Do you mean Java 16?"},{"owner":{"account_id":16687261,"reputation":11,"user_id":12060800,"display_name":"sunny"},"score":0,"creation_date":1679619070,"post_id":75828714,"comment_id":133758309,"body_markdown":"yes it is Java 1.6","body":"yes it is Java 1.6"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679644551,"post_id":75828714,"comment_id":133761355,"body_markdown":"Does this answer your question? [How to use TLS 1.2 in Java 6](https://stackoverflow.com/questions/33364100/how-to-use-tls-1-2-in-java-6)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33364100/how-to-use-tls-1-2-in-java-6\">How to use TLS 1.2 in Java 6</a>"}],"answers":[{"tags":[],"owner":{"account_id":928241,"reputation":175,"user_id":960326,"display_name":"Fuong Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679651161,"creation_date":1679651161,"answer_id":75832098,"question_id":75828714,"body_markdown":"I thought this issue indicates a problem with the SSL/TLS handshake between the client and the server.\r\nSince you are using Java 1.6, which is an older version of Java, it may not support the required SSL/TLS cipher suites and protocols required by the server, I guess.\r\nAnother point, have you check if the server certificate is trusted by your Java installation by importing the server certificate into the Java truststore ?","title":"TLS handshake Received fatal alert: internal_error","body":"<p>I thought this issue indicates a problem with the SSL/TLS handshake between the client and the server.\nSince you are using Java 1.6, which is an older version of Java, it may not support the required SSL/TLS cipher suites and protocols required by the server, I guess.\nAnother point, have you check if the server certificate is trusted by your Java installation by importing the server certificate into the Java truststore ?</p>\n"}],"owner":{"account_id":16687261,"reputation":11,"user_id":12060800,"display_name":"sunny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679651161,"creation_date":1679612921,"question_id":75828714,"body_markdown":"in our company we use java 1.6 and Websphere server which has TLSv1.2 \r\n\r\nwe are trying to call a REST API to get a token which has oauth2.0 authentication\r\n\r\nbut we are facing below issue\r\n\r\n```java\r\n    Security.setProperty(&quot;ssl.SocketFactory.provider&quot;, &quot;com.ibm.jsse2.SSLSocketFactoryImpl&quot;);\r\n\tSecurity.setProperty(&quot;ssl.ServerSocketFactory.provider&quot;, &quot;com.ibm.jsse2.SSLServerSocketFactoryImpl&quot;);\r\n\tOAuthClient client = new OAuthClient(new URLConnectionClient());\r\n\r\n\tOAuthClientRequest request = OAuthClientRequest.tokenLocation(TOKEN_REQUEST_URL).setGrantType(GrantType.CLIENT_CREDENTIALS).setClientId(CLIENT_ID)\r\n\t\t\t\t\t.setClientSecret(CLIENT_SECRET).buildQueryMessage();\r\n\trequest.setBody(request.toString());\r\n\tString token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\r\n\tSystem.out.println(token.toString());\r\n```\r\n\r\n```\r\n       *** ClientHello, TLSv1.2\r\n    RandomCookie:  GMT: 1679546697 bytes = { 5, 11, 223, 210, 70, 63, 71, 130, 121, 137, 78, 134, 129, 219, 22, 80, 85, 140, 71, 132, 55, 189, 142, 66, 9, 126, 77, 180 }\r\n    Session ID:  {}\r\n    Cipher Suites: [SSL_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RENEGO_PROTECTION_REQUEST]\r\n    Compression Methods:  { 0 }\r\n    Extension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA256withDSA, SHA1withDSA, MD5withRSA\r\n    ***\r\n    main, WRITE: TLSv1.2 Handshake, length = 103\r\n    main, READ: TLSv1.2 Alert, length = 2\r\n    org.apache.oltu.oauth2.common.exception.OAuthSystemException: javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n    \tat org.apache.oltu.oauth2.client.URLConnectionClient.execute(URLConnectionClient.java:108)\r\n    \tat org.apache.oltu.oauth2.client.OAuthClient.accessToken(OAuthClient.java:65)\r\n    \tat com.cmsrest.token.CmsTokenGeneration.main(CmsTokenGeneration.java:115)\r\n    Caused by: javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n    \tat com.ibm.jsse2.p.a(p.java:25)\r\n    \tat com.ibm.jsse2.p.a(p.java:23)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.b(SSLSocketImpl.java:617)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:28)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.h(SSLSocketImpl.java:801)main, RECV TLSv1 ALERT:  fatal, internal_error\r\n    main, called closeSocket()\r\n    main, handling exception: javax.net.ssl.SSLException: Received fatal alert: internal_error\r\n    main, called close()\r\n    main, called closeInternal(true)\r\n    \r\n    \tat com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:303)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.startHandshake(SSLSocketImpl.java:364)\r\n    \tat com.ibm.net.ssl.www2.protocol.https.c.afterConnect(c.java:188)\r\n    \tat com.ibm.net.ssl.www2.protocol.https.d.connect(d.java:3)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1105)\r\n    \tat com.ibm.net.ssl.www2.protocol.https.b.getOutputStream(b.java:11)\r\n    \tat org.apache.oltu.oauth2.client.URLConnectionClient.setRequestBody(URLConnectionClient.java:124)\r\n    \tat org.apache.oltu.oauth2.client.URLConnectionClient.execute(URLConnectionClient.java:91)\r\n    \t... 2 more\r\n```\r\n\r\nhow can we call oauth2.0 REST API using java 1.6 if above mentioned method doesn&#39;t work\r\n","title":"TLS handshake Received fatal alert: internal_error","body":"<p>in our company we use java 1.6 and Websphere server which has TLSv1.2</p>\n<p>we are trying to call a REST API to get a token which has oauth2.0 authentication</p>\n<p>but we are facing below issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Security.setProperty(&quot;ssl.SocketFactory.provider&quot;, &quot;com.ibm.jsse2.SSLSocketFactoryImpl&quot;);\n    Security.setProperty(&quot;ssl.ServerSocketFactory.provider&quot;, &quot;com.ibm.jsse2.SSLServerSocketFactoryImpl&quot;);\n    OAuthClient client = new OAuthClient(new URLConnectionClient());\n\n    OAuthClientRequest request = OAuthClientRequest.tokenLocation(TOKEN_REQUEST_URL).setGrantType(GrantType.CLIENT_CREDENTIALS).setClientId(CLIENT_ID)\n                    .setClientSecret(CLIENT_SECRET).buildQueryMessage();\n    request.setBody(request.toString());\n    String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\n    System.out.println(token.toString());\n</code></pre>\n<pre><code>       *** ClientHello, TLSv1.2\n    RandomCookie:  GMT: 1679546697 bytes = { 5, 11, 223, 210, 70, 63, 71, 130, 121, 137, 78, 134, 129, 219, 22, 80, 85, 140, 71, 132, 55, 189, 142, 66, 9, 126, 77, 180 }\n    Session ID:  {}\n    Cipher Suites: [SSL_RSA_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_RSA_WITH_AES_128_CBC_SHA, SSL_DHE_RSA_WITH_AES_256_CBC_SHA, SSL_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_DHE_DSS_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RENEGO_PROTECTION_REQUEST]\n    Compression Methods:  { 0 }\n    Extension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA256withDSA, SHA1withDSA, MD5withRSA\n    ***\n    main, WRITE: TLSv1.2 Handshake, length = 103\n    main, READ: TLSv1.2 Alert, length = 2\n    org.apache.oltu.oauth2.common.exception.OAuthSystemException: javax.net.ssl.SSLException: Received fatal alert: internal_error\n        at org.apache.oltu.oauth2.client.URLConnectionClient.execute(URLConnectionClient.java:108)\n        at org.apache.oltu.oauth2.client.OAuthClient.accessToken(OAuthClient.java:65)\n        at com.cmsrest.token.CmsTokenGeneration.main(CmsTokenGeneration.java:115)\n    Caused by: javax.net.ssl.SSLException: Received fatal alert: internal_error\n        at com.ibm.jsse2.p.a(p.java:25)\n        at com.ibm.jsse2.p.a(p.java:23)\n        at com.ibm.jsse2.SSLSocketImpl.b(SSLSocketImpl.java:617)\n        at com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:28)\n        at com.ibm.jsse2.SSLSocketImpl.h(SSLSocketImpl.java:801)main, RECV TLSv1 ALERT:  fatal, internal_error\n    main, called closeSocket()\n    main, handling exception: javax.net.ssl.SSLException: Received fatal alert: internal_error\n    main, called close()\n    main, called closeInternal(true)\n    \n        at com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:303)\n        at com.ibm.jsse2.SSLSocketImpl.startHandshake(SSLSocketImpl.java:364)\n        at com.ibm.net.ssl.www2.protocol.https.c.afterConnect(c.java:188)\n        at com.ibm.net.ssl.www2.protocol.https.d.connect(d.java:3)\n        at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1105)\n        at com.ibm.net.ssl.www2.protocol.https.b.getOutputStream(b.java:11)\n        at org.apache.oltu.oauth2.client.URLConnectionClient.setRequestBody(URLConnectionClient.java:124)\n        at org.apache.oltu.oauth2.client.URLConnectionClient.execute(URLConnectionClient.java:91)\n        ... 2 more\n</code></pre>\n<p>how can we call oauth2.0 REST API using java 1.6 if above mentioned method doesn't work</p>\n"},{"tags":["java","maven","protocol-buffers"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1679675649,"post_id":75832091,"comment_id":133769415,"body_markdown":"I don&#39;t use `protoc-jar-maven-plugin` but I am familiar with `protoc` and it&#39;s very particular approach to `proto_path` imports. Using `protoc` directly, `proto_path`&#39;s must be absolute (unsure whether `../../` is permitted) **and** once a `proto_path` is specified, **every** subsequent `proto` referenced must use one of the `proto_path`&#39;s. It&#39;s unclear to me but I&#39;d encourage you to have a single root `proto_path` as the root of your shared repo (you may need others for external dependenceis) **and** then ensure that, for `b.v1.B`, you reference its proto against that root.","body":"I don&#39;t use <code>protoc-jar-maven-plugin</code> but I am familiar with <code>protoc</code> and it&#39;s very particular approach to <code>proto_path</code> imports. Using <code>protoc</code> directly, <code>proto_path</code>&#39;s must be absolute (unsure whether <code>..&#47;..&#47;</code> is permitted) <b>and</b> once a <code>proto_path</code> is specified, <b>every</b> subsequent <code>proto</code> referenced must use one of the <code>proto_path</code>&#39;s. It&#39;s unclear to me but I&#39;d encourage you to have a single root <code>proto_path</code> as the root of your shared repo (you may need others for external dependenceis) <b>and</b> then ensure that, for <code>b.v1.B</code>, you reference its proto against that root."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1679675689,"post_id":75832091,"comment_id":133769428,"body_markdown":"It may help you to use `protoc` directly to determine the configuration that you&#39;d need for your folder structure and then convert that into the `protoc-jar-maven-plugin` format.","body":"It may help you to use <code>protoc</code> directly to determine the configuration that you&#39;d need for your folder structure and then convert that into the <code>protoc-jar-maven-plugin</code> format."}],"owner":{"account_id":27562191,"reputation":21,"user_id":21035052,"display_name":"foshan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679651081,"creation_date":1679651081,"question_id":75832091,"body_markdown":"I am currently working on an application composed of multiple Java services that should communicate using gRPC. The team decided to organize all .proto file in a central shared repository dedicated to that purpose.\r\n\r\nThe repository is structured as bellow :\r\n\r\n```\r\n.\r\n├── service-a\r\n│&#160;&#160; └── v1\r\n|       |── pom.xml\r\n│&#160;&#160;     └── a.proto\r\n├── service-b\r\n│&#160;&#160; └── v1\r\n|       |── pom.xml\r\n│&#160;&#160;     └── b.proto\r\n```\r\n\r\nTo handle the code generation, we wrote a small bash script that loop over all services in the shared repository and generates, for each major version, a `pom.xml` containing a plugin to generate the Java classes and package them in a JAR with all required dependencies (i.e. `protobuf-java`, `grpc-protobuf`, `grpc-stub`).\r\n\r\nA service&#39;s .proto files might reference messages from other services using imports. Yet I cannot figure a way to configure the \\`protoc-jar-maven-plugin\\` to tell `protoc` to set the import path to the shared repository&#39;s root so it can resolve the imports defined in each service&#39;s .proto files (all the import path in proto files are relative to the repository&#39;s root).\r\n\r\nBellow is an example of a .proto file importing another file and the configuration of the \\`protoc-jar-maven-plugin\\` inside the pom.xml generated for each service&#39;s major version directory:\r\n\r\n```protobuf\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage b.v1;\r\n\r\n// Import statement allowing to use the &quot;a.v1.A&quot; message\r\n// Path is relative to the shared repository&#39;s root\r\nimport &quot;service-a/v1/a.proto&quot;;\r\n\r\nservice B {\r\n  rpc someRpc(a.v1.A) returns (a.v1.A);\r\n}\r\n```\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.github.os72&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;protoc-jar-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.11.4&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;includeMavenTypes&gt;direct&lt;/includeMavenTypes&gt;\r\n                                &lt;!-- Including all .proto file in the shared repo. so --&gt;\r\n                                &lt;!-- that imports can be resolved --&gt;\r\n\t\t\t\t&lt;includeDirectories&gt;\r\n\t\t\t\t\t&lt;include&gt;../../&lt;/include&gt;\r\n\t\t\t\t&lt;/includeDirectories&gt;\r\n                                &lt;!-- Path to the service&#39;s .proto files --&gt;\r\n\t\t\t\t&lt;inputDirectories&gt;\r\n\t\t\t\t\t&lt;include&gt;./&lt;/include&gt;\r\n\t\t\t\t&lt;/inputDirectories&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhen I try to generate the sources of a service that uses another service&#39;s messages, the plugin fails telling me that protoc exited with an error due to not finding the import defined in the service&#39;s proto file.\r\n\r\nI should also specify that this POM sits at the same level as the .proto files for each major API version and is executed using `mvn clean install` so that the generated sources are installed on the local Maven repository for further local use.\r\n\r\nSo my question is, how can the plugin be configured to set protoc import path to the repository&#39;s root so that each .proto file imports are resolved ?\r\n\r\nI tried tuning the `includeDirectories` and `inputDirectories` as specified in the [documentation ](https://os72.github.io/protoc-jar-maven-plugin/run-mojo.html)but without much success.","title":"protoc-jar-maven-plugin and protoc import path","body":"<p>I am currently working on an application composed of multiple Java services that should communicate using gRPC. The team decided to organize all .proto file in a central shared repository dedicated to that purpose.</p>\n<p>The repository is structured as bellow :</p>\n<pre><code>.\n├── service-a\n│   └── v1\n|       |── pom.xml\n│       └── a.proto\n├── service-b\n│   └── v1\n|       |── pom.xml\n│       └── b.proto\n</code></pre>\n<p>To handle the code generation, we wrote a small bash script that loop over all services in the shared repository and generates, for each major version, a <code>pom.xml</code> containing a plugin to generate the Java classes and package them in a JAR with all required dependencies (i.e. <code>protobuf-java</code>, <code>grpc-protobuf</code>, <code>grpc-stub</code>).</p>\n<p>A service's .proto files might reference messages from other services using imports. Yet I cannot figure a way to configure the `protoc-jar-maven-plugin` to tell <code>protoc</code> to set the import path to the shared repository's root so it can resolve the imports defined in each service's .proto files (all the import path in proto files are relative to the repository's root).</p>\n<p>Bellow is an example of a .proto file importing another file and the configuration of the `protoc-jar-maven-plugin` inside the pom.xml generated for each service's major version directory:</p>\n<pre class=\"lang-protobuf prettyprint-override\"><code>syntax = &quot;proto3&quot;;\n\npackage b.v1;\n\n// Import statement allowing to use the &quot;a.v1.A&quot; message\n// Path is relative to the shared repository's root\nimport &quot;service-a/v1/a.proto&quot;;\n\nservice B {\n  rpc someRpc(a.v1.A) returns (a.v1.A);\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.os72&lt;/groupId&gt;\n    &lt;artifactId&gt;protoc-jar-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.11.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;includeMavenTypes&gt;direct&lt;/includeMavenTypes&gt;\n                                &lt;!-- Including all .proto file in the shared repo. so --&gt;\n                                &lt;!-- that imports can be resolved --&gt;\n                &lt;includeDirectories&gt;\n                    &lt;include&gt;../../&lt;/include&gt;\n                &lt;/includeDirectories&gt;\n                                &lt;!-- Path to the service's .proto files --&gt;\n                &lt;inputDirectories&gt;\n                    &lt;include&gt;./&lt;/include&gt;\n                &lt;/inputDirectories&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I try to generate the sources of a service that uses another service's messages, the plugin fails telling me that protoc exited with an error due to not finding the import defined in the service's proto file.</p>\n<p>I should also specify that this POM sits at the same level as the .proto files for each major API version and is executed using <code>mvn clean install</code> so that the generated sources are installed on the local Maven repository for further local use.</p>\n<p>So my question is, how can the plugin be configured to set protoc import path to the repository's root so that each .proto file imports are resolved ?</p>\n<p>I tried tuning the <code>includeDirectories</code> and <code>inputDirectories</code> as specified in the <a href=\"https://os72.github.io/protoc-jar-maven-plugin/run-mojo.html\" rel=\"nofollow noreferrer\">documentation </a>but without much success.</p>\n"},{"tags":["java","noclassdeffounderror"],"answers":[{"tags":[],"owner":{"display_name":"user8226019"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498652857,"creation_date":1498652857,"answer_id":44802410,"question_id":44802350,"body_markdown":"You are getting a java.lang.NoClassDefFoundError which does NOT mean that your class is missing (in that case you&#39;d get a java.lang.ClassNotFoundException). The ClassLoader ran into an error while reading the class definition when trying to read the class.\r\n\r\nPut a try/catch inside your static initializer and look at the exception. If you read some files there and it differs from your local environment it&#39;s very likely the cause of the problem (maybe file can&#39;t be found, no permissions etc.).","title":"Getting NoClassDefFoundError when trying to set up PropertiesConfiguration","body":"<p>You are getting a java.lang.NoClassDefFoundError which does NOT mean that your class is missing (in that case you'd get a java.lang.ClassNotFoundException). The ClassLoader ran into an error while reading the class definition when trying to read the class.</p>\n\n<p>Put a try/catch inside your static initializer and look at the exception. If you read some files there and it differs from your local environment it's very likely the cause of the problem (maybe file can't be found, no permissions etc.).</p>\n"},{"tags":[],"owner":{"account_id":3083827,"reputation":11022,"user_id":2611451,"accept_rate":85,"display_name":"KAD"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1679650832,"creation_date":1498652906,"answer_id":44802431,"question_id":44802350,"body_markdown":"It seems you miss the apache commons bean utils jar (which contains the `BeanIntrospector` class) from your class path (`commons-beanutils`), make sure to add it to fix the issue.\r\n\r\nYou can download the jar from maven repository: https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils","title":"Getting NoClassDefFoundError when trying to set up PropertiesConfiguration","body":"<p>It seems you miss the apache commons bean utils jar (which contains the <code>BeanIntrospector</code> class) from your class path (<code>commons-beanutils</code>), make sure to add it to fix the issue.</p>\n<p>You can download the jar from maven repository: <a href=\"https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils</a></p>\n"}],"owner":{"account_id":10328612,"reputation":472,"user_id":7619293,"accept_rate":80,"display_name":"Jesper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3073,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44802431,"answer_count":2,"score":1,"last_activity_date":1679650832,"creation_date":1498652666,"question_id":44802350,"body_markdown":"I am trying to set up a `FileBasedConfigurationBuilder` so that I can work with a `PropertiesConfiguration` but I am getting a `NoClassDefFoundError`.\r\nHere is my code \r\n\r\n    public class Config {\r\n      private static Properties properties;\r\n      private static PropertiesConfiguration config;\r\n      \r\n      public static void setUp(String path) throws ConfigurationException, IOException {\r\n        if (config == null) {\r\n          FileBasedConfigurationBuilder&lt;PropertiesConfiguration&gt; builder =\r\n              new FileBasedConfigurationBuilder&lt;PropertiesConfiguration&gt;(PropertiesConfiguration.class)\r\n              .configure(new Parameters().properties()\r\n                  .setFileName(&quot;myConfig.properties&quot;)\r\n                  .setThrowExceptionOnMissing(true)\r\n                  .setListDelimiterHandler(new DefaultListDelimiterHandler(&#39;,&#39;))\r\n                  .setIncludesAllowed(false));\r\n    \r\n          config = builder.getConfiguration();\r\n    \r\n          File file = new File(path);\r\n          FileReader reader = new FileReader(file);\r\n          config.read(reader);\r\n        }\r\n      }\r\n    }\r\n\r\nAnd stack trace:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/commons/beanutils/BeanIntrospector\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at com.sun.proxy.$Proxy38.&lt;clinit&gt;(Unknown Source)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n        at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n        at java.lang.reflect.Proxy.newProxyInstance(Unknown Source)\r\n        at org.apache.commons.configuration2.builder.fluent.Parameters.createParametersProxy(Parameters.java:294)\r\n        at org.apache.commons.configuration2.builder.fluent.Parameters.properties(Parameters.java:245)","title":"Getting NoClassDefFoundError when trying to set up PropertiesConfiguration","body":"<p>I am trying to set up a <code>FileBasedConfigurationBuilder</code> so that I can work with a <code>PropertiesConfiguration</code> but I am getting a <code>NoClassDefFoundError</code>.\nHere is my code </p>\n\n<pre><code>public class Config {\n  private static Properties properties;\n  private static PropertiesConfiguration config;\n\n  public static void setUp(String path) throws ConfigurationException, IOException {\n    if (config == null) {\n      FileBasedConfigurationBuilder&lt;PropertiesConfiguration&gt; builder =\n          new FileBasedConfigurationBuilder&lt;PropertiesConfiguration&gt;(PropertiesConfiguration.class)\n          .configure(new Parameters().properties()\n              .setFileName(\"myConfig.properties\")\n              .setThrowExceptionOnMissing(true)\n              .setListDelimiterHandler(new DefaultListDelimiterHandler(','))\n              .setIncludesAllowed(false));\n\n      config = builder.getConfiguration();\n\n      File file = new File(path);\n      FileReader reader = new FileReader(file);\n      config.read(reader);\n    }\n  }\n}\n</code></pre>\n\n<p>And stack trace:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/commons/beanutils/BeanIntrospector\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at com.sun.proxy.$Proxy38.&lt;clinit&gt;(Unknown Source)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at java.lang.reflect.Proxy.newProxyInstance(Unknown Source)\n    at org.apache.commons.configuration2.builder.fluent.Parameters.createParametersProxy(Parameters.java:294)\n    at org.apache.commons.configuration2.builder.fluent.Parameters.properties(Parameters.java:245)\n</code></pre>\n"},{"tags":["java","reactjs","frontend","backend","blockchain"],"answers":[{"tags":[],"owner":{"account_id":928241,"reputation":175,"user_id":960326,"display_name":"Fuong Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679650802,"creation_date":1679650802,"answer_id":75832042,"question_id":75831841,"body_markdown":"your form enclose incorrectly, please try\r\n\r\n    &lt;form\r\n      className=&quot;flex items-center justify-between&quot;\r\n      onSubmit={(Event) =&gt; handleSubmit(Event)}\r\n    &gt;\r\n      &lt;input className=&quot;shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow&quot; /&gt;\r\n      &lt;button className=&quot;bg-red-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded &quot; type=&quot;submit&quot;&gt;\r\n        offsprings\r\n      &lt;/button&gt;\r\n    &lt;/form&gt;","title":"Hi, Here I am trying to connect the front end and the back end of my dapp by using React and I faced this error","body":"<p>your form enclose incorrectly, please try</p>\n<pre><code>&lt;form\n  className=&quot;flex items-center justify-between&quot;\n  onSubmit={(Event) =&gt; handleSubmit(Event)}\n&gt;\n  &lt;input className=&quot;shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow&quot; /&gt;\n  &lt;button className=&quot;bg-red-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded &quot; type=&quot;submit&quot;&gt;\n    offsprings\n  &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":26068183,"reputation":1,"user_id":19768306,"display_name":"hamssa  hassnawee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679650802,"creation_date":1679649393,"question_id":75831841,"body_markdown":"Here i code `App.js` as below and i want only 2 function from my smart contract (mystring, evolution) to be calling in the front end i want when press on button (sequence id) i get 4 strings \r\nand when press on button (offspring) i get 8 strings \r\nplease can any one help me because i am very beginner in react.js and blockchain environment \r\n\r\n```typescript\r\nimport React, { useState } from &quot;react&quot;;\r\nimport { ethers } from &quot;ethers&quot;;\r\nimport Lock from &quot;./artifacts/contracts/Lock.sol/Lock.json&quot;;\r\nimport &quot;./App.css&quot;;\r\n//import { data } from &#39;autoprefixer&#39;;\r\nconst lockAddress = &quot;0x5FbDB2315678afecb367f032d93F642f64180aa3&quot;;\r\n\r\nfunction App() {\r\n  const [locking, setLockingValue] = useState(&quot;&quot;);\r\n\r\n  async function InputSequence() {\r\n    if (typeof window.ethereum != &quot;undefined&quot;) {\r\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n      const contract = new ethers.Contract(lockAddress, Lock.abi, provider);\r\n      try {\r\n        const data = await contract.MyString();\r\n        setLockingValue(data);\r\n        console.log(&quot;data:&quot;, data);\r\n      } catch (err) {\r\n        console.Console.log(&quot;ERROR:&quot;, err);\r\n      }\r\n    }\r\n  }\r\n  async function evolution(value) {\r\n    if (!value) return;\r\n    if (!typeof window.ethereum !== &quot;undefined&quot;) {\r\n      await requestAccount();\r\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n      const signer = provider.getSigner();\r\n      const contract = new ethers.Contract(lockAddress, Lock.abi, signer);\r\n      const transaction = await contract.evolution(value);\r\n      await transaction.wait();\r\n      InputSequence();\r\n      //this.setState({myResult:data});\r\n    }\r\n  }\r\n\r\n  async function requestAccount() {\r\n    await window.ethereum.request({ method: &quot;eth_requestAccounts&quot; });\r\n  }\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    await evolution(event.target.lockingInput.value);\r\n    setLockingValue(event.target.lockingInput.value);\r\n    event.target.lockingInput.value = &quot;&quot;;\r\n  }\r\n  return (\r\n    &lt;div className=&quot;w-full max-w-lg container&quot;&gt;\r\n      &lt;div className=&quot;shadow-md rounded px-8 pt-6 pb-8 mb-4 mt-4&quot; /&gt;\r\n      &lt;div className=&quot;text-gray-600 font-bold text-lg mb-2&quot;&gt;\r\n        SONR Ethereum Dapp\r\n      &lt;/div&gt;\r\n      &lt;div className=&quot;w-full border-4 p-2 mb-4 rounded border-gray-400&quot;&gt;\r\n        &lt;div className=&quot;text-gray-600 font-bold text-md mb-2 &quot;&gt;\r\n          Input sequence From Smart Contract\r\n        &lt;/div&gt;\r\n        &lt;div className=&quot;flex&quot;&gt;\r\n          &lt;button className=&quot;bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded&quot;&gt;\r\n            {&quot; &quot;}\r\n            sequence ID{&quot; &quot;}\r\n          &lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n      &lt;div className=&quot;w-full border-4 p-2 mb-4 rounded border-gray-400&quot;&gt;\r\n        &lt;div className=&quot;text-gray-600 font-bold text-md mb-2&quot;&gt;\r\n          output offsprings on Smart Contract\r\n        &lt;/div&gt;\r\n        &lt;form\r\n          className=&quot;flex items-center justify-between&quot;\r\n          onSubmit={(Event) =&gt; handleSubmit(Event)}\r\n        /&gt;\r\n        &lt;input className=&quot;shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow&quot; /&gt;\r\n\r\n        &lt;button className=&quot;bg-red-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded &quot;&gt;\r\n          {&quot; &quot;}\r\n          offsprings{&quot; &quot;}\r\n        &lt;/button&gt;\r\n        &lt;form /&gt;\r\n      &lt;/div&gt;\r\n      &lt;div className=&quot;w-full border-4 p-2 mb-4 rounded border-gray-400 bg-gray-100&quot;&gt;\r\n        &lt;div className=&quot;text-gray-600 font-bold text-md mb-2&quot;&gt;\r\n          Input sequence ID\r\n        &lt;/div&gt;\r\n        &lt;p&gt;{locking}&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n\r\nexport default App;\r\n```\r\n\r\nbut when i press on the button sequence id  &amp; offspring nothing happens  as below nothing happens [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U4lP4.png","title":"Hi, Here I am trying to connect the front end and the back end of my dapp by using React and I faced this error","body":"<p>Here i code <code>App.js</code> as below and i want only 2 function from my smart contract (mystring, evolution) to be calling in the front end i want when press on button (sequence id) i get 4 strings\nand when press on button (offspring) i get 8 strings\nplease can any one help me because i am very beginner in react.js and blockchain environment</p>\n<pre class=\"lang-js prettyprint-override\"><code>import React, { useState } from &quot;react&quot;;\nimport { ethers } from &quot;ethers&quot;;\nimport Lock from &quot;./artifacts/contracts/Lock.sol/Lock.json&quot;;\nimport &quot;./App.css&quot;;\n//import { data } from 'autoprefixer';\nconst lockAddress = &quot;0x5FbDB2315678afecb367f032d93F642f64180aa3&quot;;\n\nfunction App() {\n  const [locking, setLockingValue] = useState(&quot;&quot;);\n\n  async function InputSequence() {\n    if (typeof window.ethereum != &quot;undefined&quot;) {\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const contract = new ethers.Contract(lockAddress, Lock.abi, provider);\n      try {\n        const data = await contract.MyString();\n        setLockingValue(data);\n        console.log(&quot;data:&quot;, data);\n      } catch (err) {\n        console.Console.log(&quot;ERROR:&quot;, err);\n      }\n    }\n  }\n  async function evolution(value) {\n    if (!value) return;\n    if (!typeof window.ethereum !== &quot;undefined&quot;) {\n      await requestAccount();\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const signer = provider.getSigner();\n      const contract = new ethers.Contract(lockAddress, Lock.abi, signer);\n      const transaction = await contract.evolution(value);\n      await transaction.wait();\n      InputSequence();\n      //this.setState({myResult:data});\n    }\n  }\n\n  async function requestAccount() {\n    await window.ethereum.request({ method: &quot;eth_requestAccounts&quot; });\n  }\n  async function handleSubmit(event) {\n    event.preventDefault();\n    await evolution(event.target.lockingInput.value);\n    setLockingValue(event.target.lockingInput.value);\n    event.target.lockingInput.value = &quot;&quot;;\n  }\n  return (\n    &lt;div className=&quot;w-full max-w-lg container&quot;&gt;\n      &lt;div className=&quot;shadow-md rounded px-8 pt-6 pb-8 mb-4 mt-4&quot; /&gt;\n      &lt;div className=&quot;text-gray-600 font-bold text-lg mb-2&quot;&gt;\n        SONR Ethereum Dapp\n      &lt;/div&gt;\n      &lt;div className=&quot;w-full border-4 p-2 mb-4 rounded border-gray-400&quot;&gt;\n        &lt;div className=&quot;text-gray-600 font-bold text-md mb-2 &quot;&gt;\n          Input sequence From Smart Contract\n        &lt;/div&gt;\n        &lt;div className=&quot;flex&quot;&gt;\n          &lt;button className=&quot;bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded&quot;&gt;\n            {&quot; &quot;}\n            sequence ID{&quot; &quot;}\n          &lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div className=&quot;w-full border-4 p-2 mb-4 rounded border-gray-400&quot;&gt;\n        &lt;div className=&quot;text-gray-600 font-bold text-md mb-2&quot;&gt;\n          output offsprings on Smart Contract\n        &lt;/div&gt;\n        &lt;form\n          className=&quot;flex items-center justify-between&quot;\n          onSubmit={(Event) =&gt; handleSubmit(Event)}\n        /&gt;\n        &lt;input className=&quot;shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow&quot; /&gt;\n\n        &lt;button className=&quot;bg-red-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded &quot;&gt;\n          {&quot; &quot;}\n          offsprings{&quot; &quot;}\n        &lt;/button&gt;\n        &lt;form /&gt;\n      &lt;/div&gt;\n      &lt;div className=&quot;w-full border-4 p-2 mb-4 rounded border-gray-400 bg-gray-100&quot;&gt;\n        &lt;div className=&quot;text-gray-600 font-bold text-md mb-2&quot;&gt;\n          Input sequence ID\n        &lt;/div&gt;\n        &lt;p&gt;{locking}&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre>\n<p>but when i press on the button sequence id  &amp; offspring nothing happens  as below nothing happens <a href=\"https://i.stack.imgur.com/U4lP4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U4lP4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","debugging"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679630022,"post_id":75829791,"comment_id":133759465,"body_markdown":"You should be able to add breakpoints on lines of code that come from dependencies, even dependencies you did not write. At least if you have access to the source code of the dependency (and you&#39;re creating a Spring Boot application, which means you&#39;re probably using Maven or Gradle as a build tool, and most well-known open-source projects publish their sources to Maven Central, so you _should_ have access to the dependency&#39;s source code pretty much automatically).","body":"You should be able to add breakpoints on lines of code that come from dependencies, even dependencies you did not write. At least if you have access to the source code of the dependency (and you&#39;re creating a Spring Boot application, which means you&#39;re probably using Maven or Gradle as a build tool, and most well-known open-source projects publish their sources to Maven Central, so you <i>should</i> have access to the dependency&#39;s source code pretty much automatically)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679632768,"post_id":75829791,"comment_id":133759730,"body_markdown":"You can set breakpoints during app creation. Just use `suspend=y`. See https://stackoverflow.com/questions/138511/what-are-java-command-line-options-to-set-to-allow-jvm-to-be-remotely-debugged","body":"You can set breakpoints during app creation. Just use <code>suspend=y</code>. See <a href=\"https://stackoverflow.com/questions/138511/what-are-java-command-line-options-to-set-to-allow-jvm-to-be-remotely-debugged\" title=\"what are java command line options to set to allow jvm to be remotely debugged\">stackoverflow.com/questions/138511/&hellip;</a>"}],"owner":{"account_id":28110284,"reputation":1,"user_id":21478164,"display_name":"lusjjj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679650651,"creation_date":1679628735,"question_id":75829791,"body_markdown":"I&#39;ve been debugging in the spring boot framework. I need your debugging advice.\r\n\r\nI am getting an error during app creation. So not able to put breakpoints.\r\n\r\nAnd I found out this exception is actually thrown in the dependency class which is not editable.. -&gt; which also means I can&#39;t add more loggers...\r\n\r\nfortunately, I was able to find out what method throws the exception. but I am really not sure why. I want to print out the actual value in the console and see what value is being set and what went wrong and also want to know then what value should I change it too..... If it was just inside my codebase and the app was running, I think it could be easier. but now I am so lost...\r\n\r\nPlease share your debugging strategy.\r\nAnd also is it wrong to look for alternate solutions if there&#39;s a blocker or I am stuck on something? \r\n","title":"How do you debug when error is thrown in the class(read only file) from dependency(jar)? [spring boot]","body":"<p>I've been debugging in the spring boot framework. I need your debugging advice.</p>\n<p>I am getting an error during app creation. So not able to put breakpoints.</p>\n<p>And I found out this exception is actually thrown in the dependency class which is not editable.. -&gt; which also means I can't add more loggers...</p>\n<p>fortunately, I was able to find out what method throws the exception. but I am really not sure why. I want to print out the actual value in the console and see what value is being set and what went wrong and also want to know then what value should I change it too..... If it was just inside my codebase and the app was running, I think it could be easier. but now I am so lost...</p>\n<p>Please share your debugging strategy.\nAnd also is it wrong to look for alternate solutions if there's a blocker or I am stuck on something?</p>\n"},{"tags":["java","intellij-idea","ide","settings"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655291061,"post_id":72630144,"comment_id":128296080,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/71928162/rider-ide-how-to-hide-usage-links-above-properties-methods","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71928162/rider-ide-how-to-hide-usage-links-above-properties-methods\" title=\"rider ide how to hide usage links above properties methods\">stackoverflow.com/questions/71928162/&hellip;</a>"},{"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"score":0,"creation_date":1679650202,"post_id":72630144,"comment_id":133762633,"body_markdown":"Does this answer your question? [IntelliJ Rider IDE - how to hide &quot;usage&quot; links above properties/methods/etc](https://stackoverflow.com/questions/71928162/intellij-rider-ide-how-to-hide-usage-links-above-properties-methods-etc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71928162/intellij-rider-ide-how-to-hide-usage-links-above-properties-methods-etc\">IntelliJ Rider IDE - how to hide &quot;usage&quot; links above properties/methods/etc</a>"}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11890,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655291158,"creation_date":1655291158,"answer_id":72630248,"question_id":72630144,"body_markdown":"Uncheck the appropriate checkbox in settings: **Preferences | Editor | Inlay Hints &gt; Code Vision &gt; Usages**: \r\n\r\n![IntelliJ IDEA settings][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KzE9R.png","title":"Removal of &quot;usages&quot;-links in IntelliJ","body":"<p>Uncheck the appropriate checkbox in settings: <strong>Preferences | Editor | Inlay Hints &gt; Code Vision &gt; Usages</strong>:</p>\n<p><img src=\"https://i.stack.imgur.com/KzE9R.png\" alt=\"IntelliJ IDEA settings\" /></p>\n"}],"owner":{"account_id":16552662,"reputation":25,"user_id":11960525,"display_name":"Zillah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72630248,"answer_count":1,"score":1,"last_activity_date":1679650470,"creation_date":1655290648,"question_id":72630144,"body_markdown":"While changing PCs I downloaded the latest version of IntelliJ (2022.1.2 Build #IU-221.5787.30) and I can now see **&quot;usages&quot;-links** for all fields, methods and such in my code.  \r\n\r\nIt does seem to work as it is supposed to, but I find that it takes up too much space.  \r\n**How can I turn the &quot;usages&quot;-links off?**  \r\n\r\n[![Picture of usage links on class and fields][1]][1]\r\n\r\n\r\n\r\n [1]: https://i.stack.imgur.com/D9B8W.png","title":"Removal of &quot;usages&quot;-links in IntelliJ","body":"<p>While changing PCs I downloaded the latest version of IntelliJ (2022.1.2 Build #IU-221.5787.30) and I can now see <strong>&quot;usages&quot;-links</strong> for all fields, methods and such in my code.</p>\n<p>It does seem to work as it is supposed to, but I find that it takes up too much space.<br />\n<strong>How can I turn the &quot;usages&quot;-links off?</strong></p>\n<p><a href=\"https://i.stack.imgur.com/D9B8W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D9B8W.png\" alt=\"Picture of usage links on class and fields\" /></a></p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679650687,"post_id":75831995,"comment_id":133762752,"body_markdown":"What&#39;s wrong with getting all values? You can still pick the 12th from &quot;all values&quot;. How about `get(key).get(11)`?","body":"What&#39;s wrong with getting all values? You can still pick the 12th from &quot;all values&quot;. How about <code>get(key).get(11)</code>?"},{"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"score":0,"creation_date":1679650832,"post_id":75831995,"comment_id":133762783,"body_markdown":"I can&#39;t get all the values ​​because the values ​​I will get will come as UUIDs and I have to process them one by one and convert them to the player name.","body":"I can&#39;t get all the values ​​because the values ​​I will get will come as UUIDs and I have to process them one by one and convert them to the player name."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679650996,"post_id":75831995,"comment_id":133762820,"body_markdown":"And how does &quot;the values ​​I will get will come as UUIDs and I have to process them one by one and convert them to the player name&quot; prevent you from getting all the values exactly? Please demonstrate with some code.","body":"And how does &quot;the values ​​I will get will come as UUIDs and I have to process them one by one and convert them to the player name&quot; prevent you from getting all the values exactly? Please demonstrate with some code."},{"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"score":0,"creation_date":1679651960,"post_id":75831995,"comment_id":133763057,"body_markdown":"**Bukkit.getOfflinePlayer(callFile.players.get(name)).getName());** This is how I return the player name. This form of conversion accepts a single value. Maybe there is another shortcut for me to do this but I don&#39;t know. If I can get the values ​​in order I can loop it and translate all the values. By the way **.get(key).get(11)** didn&#39;t work.","body":"<b>Bukkit.getOfflinePlayer(callFile.players.get(name)).getName(&zwnj;&#8203;));</b> This is how I return the player name. This form of conversion accepts a single value. Maybe there is another shortcut for me to do this but I don&#39;t know. If I can get the values ​​in order I can loop it and translate all the values. By the way <b>.get(key).get(11)</b> didn&#39;t work."},{"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"score":0,"creation_date":1679652105,"post_id":75831995,"comment_id":133763090,"body_markdown":"no such method found : [link](https://i.ibb.co/BPWz3Ch/Ekran-g-r-nt-s-2023-03-24-130008.png)","body":"no such method found : <a href=\"https://i.ibb.co/BPWz3Ch/Ekran-g-r-nt-s-2023-03-24-130008.png\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"score":0,"creation_date":1679678064,"post_id":75831995,"comment_id":133770012,"body_markdown":"can anyone help?","body":"can anyone help?"}],"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679650464,"creation_date":1679650464,"question_id":75831995,"body_markdown":"In MultiMap, I need to receive and process values ​​sequentially. I can&#39;t use the `&quot;.get&quot;` method because it pulls all values. What I need is a code like `&quot;.get(key, 12)&quot;` that returns the 12th value\r\n\r\nThis is how I created the MultiMap.\r\n```\r\npublic static Multimap&lt;String, Player&gt; players = ArrayListMultimap.create();\r\n```\r\n","title":"How can I get the key values ​from the order I want in MultiMap?","body":"<p>In MultiMap, I need to receive and process values ​​sequentially. I can't use the <code>&quot;.get&quot;</code> method because it pulls all values. What I need is a code like <code>&quot;.get(key, 12)&quot;</code> that returns the 12th value</p>\n<p>This is how I created the MultiMap.</p>\n<pre><code>public static Multimap&lt;String, Player&gt; players = ArrayListMultimap.create();\n</code></pre>\n"},{"tags":["java","spring-boot","solr","jackson-databind"],"comments":[{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679576372,"post_id":75823242,"comment_id":133748402,"body_markdown":"can you try by removing lombok from your persisting entity? I mean create/add the code at your own","body":"can you try by removing lombok from your persisting entity? I mean create/add the code at your own"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679576618,"post_id":75823242,"comment_id":133748464,"body_markdown":"Removed lombok annotations and created my own getters and setters but still issue exists","body":"Removed lombok annotations and created my own getters and setters but still issue exists"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679576701,"post_id":75823242,"comment_id":133748477,"body_markdown":"Please add the property SerializationFeature.FAIL_ON_EMPTY_BEANS= false to your object mapper like objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);","body":"Please add the property SerializationFeature.FAIL_ON_EMPTY_BEANS= false to your object mapper like objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BE&zwnj;&#8203;ANS, false);"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679576803,"post_id":75823242,"comment_id":133748517,"body_markdown":"I wanted you to remove all the lombok code and try if ...remove this lombok dependency and try","body":"I wanted you to remove all the lombok code and try if ...remove this lombok dependency and try"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679576843,"post_id":75823242,"comment_id":133748527,"body_markdown":"here is nice answer https://stackoverflow.com/questions/70630933/no-serializer-found-problem-returning-responseentity-including-exception","body":"here is nice answer <a href=\"https://stackoverflow.com/questions/70630933/no-serializer-found-problem-returning-responseentity-including-exception\" title=\"no serializer found problem returning responseentity including exception\">stackoverflow.com/questions/70630933/&hellip;</a>"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679577859,"post_id":75823242,"comment_id":133748795,"body_markdown":"added configuration as suggested, but now while trying to index data, it getting indexed some other data rather than what it supposed to be. it was supposed to be store \n\n{\n    &quot;name&quot;: &quot;xyz&quot;,\n    &quot;id&quot;: &quot;2&quot;,\n    &quot;address&quot;: [{\n        &quot;addressLine&quot;: &quot;xyz street&quot;,\n        &quot;zipcode&quot;: &quot;12345&quot;,\n        &quot;state&quot;: &quot;AP&quot;,\n        &quot;country&quot;: &quot;India&quot;\n    }]\n}","body":"added configuration as suggested, but now while trying to index data, it getting indexed some other data rather than what it supposed to be. it was supposed to be store   {     &quot;name&quot;: &quot;xyz&quot;,     &quot;id&quot;: &quot;2&quot;,     &quot;address&quot;: [{         &quot;addressLine&quot;: &quot;xyz street&quot;,         &quot;zipcode&quot;: &quot;12345&quot;,         &quot;state&quot;: &quot;AP&quot;,         &quot;country&quot;: &quot;India&quot;     }] }"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679578157,"post_id":75823242,"comment_id":133748868,"body_markdown":"But it is storing\n\n{\n    &quot;name&quot;: &quot;xyz&quot;,\n    &quot;id&quot;: &quot;2&quot;,\n    &quot;address&quot;: [\n        {\n            &quot;typeName&quot;: null,\n            &quot;indexAnalyzer&quot;: {\n                &quot;reuseStrategy&quot;: {},\n                &quot;version&quot;: {\n                    &quot;major&quot;: 8,\n                    &quot;minor&quot;: 11,\n                    &quot;bugfix&quot;: 2,\n                    &quot;prerelease&quot;: 0\n                }\n            },","body":"But it is storing  {     &quot;name&quot;: &quot;xyz&quot;,     &quot;id&quot;: &quot;2&quot;,     &quot;address&quot;: [         {             &quot;typeName&quot;: null,             &quot;indexAnalyzer&quot;: {                 &quot;reuseStrategy&quot;: {},                 &quot;version&quot;: {                     &quot;major&quot;: 8,                     &quot;minor&quot;: 11,                     &quot;bugfix&quot;: 2,                     &quot;prerelease&quot;: 0                 }             },"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679578195,"post_id":75823242,"comment_id":133748885,"body_markdown":"&quot;queryAnalyzer&quot;: {\n                &quot;reuseStrategy&quot;: {},\n                &quot;version&quot;: {\n                    &quot;major&quot;: 8,\n                    &quot;minor&quot;: 11,\n                    &quot;bugfix&quot;: 2,\n                    &quot;prerelease&quot;: 0\n                }\n            },","body":"&quot;queryAnalyzer&quot;: {                 &quot;reuseStrategy&quot;: {},                 &quot;version&quot;: {                     &quot;major&quot;: 8,                     &quot;minor&quot;: 11,                     &quot;bugfix&quot;: 2,                     &quot;prerelease&quot;: 0                 }             },"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679578215,"post_id":75823242,"comment_id":133748895,"body_markdown":"&quot;similarityFactory&quot;: null,\n            &quot;similarity&quot;: null,\n            &quot;postingsFormat&quot;: null,\n            &quot;docValuesFormat&quot;: null,\n            &quot;addressLine&quot;: &quot;xyz street&quot;,\n            &quot;zipcode&quot;: &quot;12345&quot;,\n            &quot;country&quot;: &quot;India&quot;,\n            &quot;state&quot;: &quot;AP&quot;,\n            &quot;numberType&quot;: null,\n            &quot;multiValued&quot;: false,\n            &quot;explicitQueryAnalyzer&quot;: false,\n            &quot;explicitAnalyzer&quot;: false,\n            &quot;tokenized&quot;: false,\n            &quot;polyField&quot;: false,","body":"&quot;similarityFactory&quot;: null,             &quot;similarity&quot;: null,             &quot;postingsFormat&quot;: null,             &quot;docValuesFormat&quot;: null,             &quot;addressLine&quot;: &quot;xyz street&quot;,             &quot;zipcode&quot;: &quot;12345&quot;,             &quot;country&quot;: &quot;India&quot;,             &quot;state&quot;: &quot;AP&quot;,             &quot;numberType&quot;: null,             &quot;multiValued&quot;: false,             &quot;explicitQueryAnalyzer&quot;: false,             &quot;explicitAnalyzer&quot;: false,             &quot;tokenized&quot;: false,             &quot;polyField&quot;: false,"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679578229,"post_id":75823242,"comment_id":133748902,"body_markdown":"&quot;pointField&quot;: false,\n            &quot;utf8Field&quot;: false,\n            &quot;classArg&quot;: &quot;com.apachesolr.sample.application.model.Address&quot;\n        }\n    ]\n}\n\n@AbhijitBashetti","body":"&quot;pointField&quot;: false,             &quot;utf8Field&quot;: false,             &quot;classArg&quot;: &quot;com.apachesolr.sample.application.model.Address&quot;         }     ] }  @AbhijitBashetti"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679581264,"post_id":75823242,"comment_id":133749854,"body_markdown":"May I know why are you extending the address class with FieldType...? public class Address extends FieldType... Can you remove it and try indexing the data again. I hope it would then index the correct and expected data.","body":"May I know why are you extending the address class with FieldType...? public class Address extends FieldType... Can you remove it and try indexing the data again. I hope it would then index the correct and expected data."},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679590730,"post_id":75823242,"comment_id":133752773,"body_markdown":"when i edit with this configuration in schema.xml  \n&lt;fieldType name=&quot;Address&quot; class=&quot;com.apachesolr.sample.application.model.Address&quot; docValues=&quot;true&quot;/&gt;\n\n  &lt;field name=&quot;address&quot; type=&quot;Address&quot;/&gt;\n\nI am getting\n\n org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load conf for core Employee: Can&#39;t load schema C:\\solr-8.11.2\\solr-8.11.2\\server\\solr\\Employee\\conf\\myschema.xml: Plugin init failure for [schema.xml] fieldType &quot;Address&quot;: Error loading class &#39;com.apachesolr.sample.application.model.Address&#39;\n\nI am getting this exception, @AbhijitBashetti","body":"when i edit with this configuration in schema.xml   &lt;fieldType name=&quot;Address&quot; class=&quot;com.apachesolr.sample.application.model.Address&quot; docValues=&quot;true&quot;/&gt;    &lt;field name=&quot;address&quot; type=&quot;Address&quot;/&gt;  I am getting   org.apache.solr.common.SolrException:org.apache.solr.common.&zwnj;&#8203;SolrException: Could not load conf for core Employee: Can&#39;t load schema C:\\solr-8.11.2\\solr-8.11.2\\server\\solr\\Employee\\conf\\myschem&zwnj;&#8203;a.xml: Plugin init failure for [schema.xml] fieldType &quot;Address&quot;: Error loading class &#39;com.apachesolr.sample.application.model.Address&#39;  I am getting this exception, @AbhijitBashetti"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679590836,"post_id":75823242,"comment_id":133752806,"body_markdown":"could you please let me know how to configure schema.xml file for custom java classes to add as solr field type.@AbhijitBashetti","body":"could you please let me know how to configure schema.xml file for custom java classes to add as solr field type.@AbhijitBashetti"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679591160,"post_id":75823242,"comment_id":133752883,"body_markdown":"I think it not able to load Address class since i am giving class=&quot;com.apachesolr.sample.application.model.Address&quot;(this class is from java code) in schema.xml file. is there any other way that we can give class other than specifying qualified java class name? @AbhijitBashetti","body":"I think it not able to load Address class since i am giving class=&quot;com.apachesolr.sample.application.model.Address&quot;(this class is from java code) in schema.xml file. is there any other way that we can give class other than specifying qualified java class name? @AbhijitBashetti"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679592058,"post_id":75823242,"comment_id":133753144,"body_markdown":"If you want to add a custom field type in solr, I think you may need to checkout the solr code and then you need add it there and then build jar/war of it","body":"If you want to add a custom field type in solr, I think you may need to checkout the solr code and then you need add it there and then build jar/war of it"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679592234,"post_id":75823242,"comment_id":133753194,"body_markdown":"https://stackoverflow.com/questions/27705276/custom-field-class-in-solr?rq=1 ... you can check this","body":"<a href=\"https://stackoverflow.com/questions/27705276/custom-field-class-in-solr?rq=1\" title=\"custom field class in solr\">stackoverflow.com/questions/27705276/&hellip;</a> ... you can check this"}],"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679650418,"creation_date":1679575990,"question_id":75823242,"body_markdown":"I am trying to create a custom field type in solr from spring boot application. I have employee class which contains Address as a nested object\r\n\r\n```\r\npackage com.apachesolr.sample.application.model;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.solr.core.mapping.Indexed;\r\nimport org.springframework.data.solr.core.mapping.SolrDocument;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SolrDocument(collection =&quot;Employee&quot; )\r\npublic class Employee {\r\n\r\n\t@Indexed\r\n\tprivate String name;\r\n\t@Indexed\r\n\t@Id\r\n\tprivate String id;\r\n\t@Indexed\r\n\tprivate List&lt;Address&gt; address;\r\n}\r\n\r\n```\r\n\r\nHere is my Address class:\r\n\r\n\r\n```\r\npackage com.apachesolr.sample.application.model;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.apache.lucene.index.IndexableField;\r\nimport org.apache.lucene.search.SortField;\r\nimport org.apache.solr.common.params.SolrParams;\r\nimport org.apache.solr.response.TextResponseWriter;\r\nimport org.apache.solr.schema.FieldType;\r\nimport org.apache.solr.schema.SchemaField;\r\nimport org.apache.solr.uninverting.UninvertingReader.Type;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\npublic class Address extends FieldType {\r\n\r\n\tpublic Address() {\r\n\r\n\t}\r\n\r\n\tpublic Address(String fieldTypeName, SolrParams q) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic Address(String fieldTypeName) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tprivate String addressLine;\r\n\tprivate String zipcode;\r\n\tprivate String State;\r\n\tprivate String country;\r\n\r\n\t@Override\r\n\tpublic Type getUninversionType(SchemaField sf) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void write(TextResponseWriter writer, String name, IndexableField f) throws IOException {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SortField getSortField(SchemaField field, boolean top) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\nI have added field this field type and a field in schema.xml:\r\n\r\n```\r\n &lt;fieldType name=&quot;Address&quot; class=&quot;com.apachesolr.sample.application.model.Address&quot; docValues=&quot;true&quot;/&gt;\r\n  &lt;field name=&quot;address&quot; type=&quot;Address&quot;/&gt;\r\n\r\n```\r\nBut when i tried to index data to employee core using solrCrudRepository it is throwing `InvalidDefinitionException` exception, Please let me know how to solve this.\r\n\r\n\r\n\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.apache.lucene.analysis.Analyzer$1 and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.apachesolr.sample.application.model.Employee[&quot;address&quot;]-&gt;java.util.ArrayList[0]-&gt;com.apachesolr.sample.application.model.Address[&quot;indexAnalyzer&quot;]-&gt;org.apache.solr.schema.FieldType$DefaultAnalyzer[&quot;reuseStrategy&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat com.apachesolr.sample.application.config.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:75) ~[main/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat java.lang.Thread.run(Unknown Source) [na:1.8.0_251]\r\n\r\n\r\n\r\n\r\ntried creating getters and setters but not working","title":"InvalidDefinitionException while creating a custom field type in solr from springboot application","body":"<p>I am trying to create a custom field type in solr from spring boot application. I have employee class which contains Address as a nested object</p>\n<pre><code>package com.apachesolr.sample.application.model;\n\nimport java.util.List;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.solr.core.mapping.Indexed;\nimport org.springframework.data.solr.core.mapping.SolrDocument;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@SolrDocument(collection =&quot;Employee&quot; )\npublic class Employee {\n\n    @Indexed\n    private String name;\n    @Indexed\n    @Id\n    private String id;\n    @Indexed\n    private List&lt;Address&gt; address;\n}\n\n</code></pre>\n<p>Here is my Address class:</p>\n<pre><code>package com.apachesolr.sample.application.model;\n\nimport java.io.IOException;\n\nimport org.apache.lucene.index.IndexableField;\nimport org.apache.lucene.search.SortField;\nimport org.apache.solr.common.params.SolrParams;\nimport org.apache.solr.response.TextResponseWriter;\nimport org.apache.solr.schema.FieldType;\nimport org.apache.solr.schema.SchemaField;\nimport org.apache.solr.uninverting.UninvertingReader.Type;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class Address extends FieldType {\n\n    public Address() {\n\n    }\n\n    public Address(String fieldTypeName, SolrParams q) {\n        super();\n    }\n\n    public Address(String fieldTypeName) {\n        super();\n    }\n\n    private String addressLine;\n    private String zipcode;\n    private String State;\n    private String country;\n\n    @Override\n    public Type getUninversionType(SchemaField sf) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void write(TextResponseWriter writer, String name, IndexableField f) throws IOException {\n\n    }\n\n    @Override\n    public SortField getSortField(SchemaField field, boolean top) {\n        return null;\n    }\n}\n</code></pre>\n<p>I have added field this field type and a field in schema.xml:</p>\n<pre><code> &lt;fieldType name=&quot;Address&quot; class=&quot;com.apachesolr.sample.application.model.Address&quot; docValues=&quot;true&quot;/&gt;\n  &lt;field name=&quot;address&quot; type=&quot;Address&quot;/&gt;\n\n</code></pre>\n<p>But when i tried to index data to employee core using solrCrudRepository it is throwing <code>InvalidDefinitionException</code> exception, Please let me know how to solve this.</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.apache.lucene.analysis.Analyzer$1 and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.apachesolr.sample.application.model.Employee[&quot;address&quot;]-&gt;java.util.ArrayList[0]-&gt;com.apachesolr.sample.application.model.Address[&quot;indexAnalyzer&quot;]-&gt;org.apache.solr.schema.FieldType$DefaultAnalyzer[&quot;reuseStrategy&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at com.apachesolr.sample.application.config.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:75) ~[main/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_251]\n</code></pre>\n<p>tried creating getters and setters but not working</p>\n"},{"tags":["java","ubuntu","eclipse-plugin"],"comments":[{"owner":{"account_id":7447054,"reputation":773,"user_id":5662881,"accept_rate":46,"display_name":"Hitesh Ghuge"},"score":0,"creation_date":1478602310,"post_id":40259589,"comment_id":68213698,"body_markdown":"in `run` method of `PlatformUI.getWorkbench().getDisplay().syncExec`by `PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell()` i got shell and now `shell.getDisplay` works for me thnks Hermann and greg-449","body":"in <code>run</code> method of <code>PlatformUI.getWorkbench().getDisplay().syncExec</code>by <code>PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShel&zwnj;&#8203;l()</code> i got shell and now <code>shell.getDisplay</code> works for me thnks Hermann and greg-449"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1477477984,"creation_date":1477477984,"answer_id":40259917,"question_id":40259589,"body_markdown":"Support for multiple `Display` objects varies between platforms. Looking at the source code this is not supported on Linux/GTK or macOS.\r\n\r\nFor full portability you need to stick to a single `Display` device. It is generally not necessary to use more than one.","title":"SWTError: Not implemented [multiple displays] in Eclipse plug-in devlopment","body":"<p>Support for multiple <code>Display</code> objects varies between platforms. Looking at the source code this is not supported on Linux/GTK or macOS.</p>\n\n<p>For full portability you need to stick to a single <code>Display</code> device. It is generally not necessary to use more than one.</p>\n"},{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679650283,"creation_date":1477478069,"answer_id":40259945,"question_id":40259589,"body_markdown":"On some platforms, SWT does not support creating multiple displays.\r\n\r\nHowever, plug-in code should not create a `Display` at all. During workbench startup, a display is created for you that you can access either through\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    PlatformUI.getWorkbench().getDisplay()\r\n\r\nor by obtaining the display from an existing widget, for example:\r\n    \r\n&lt;!-- language: java --&gt;\r\n\r\n    void createControls(Composite parent) {\r\n      Display display = parent.getDisplay();\r\n      ...\r\n    }","title":"SWTError: Not implemented [multiple displays] in Eclipse plug-in devlopment","body":"<p>On some platforms, SWT does not support creating multiple displays.</p>\n<p>However, plug-in code should not create a <code>Display</code> at all. During workbench startup, a display is created for you that you can access either through</p>\n<pre class=\"lang-java prettyprint-override\"><code>PlatformUI.getWorkbench().getDisplay()\n</code></pre>\n<p>or by obtaining the display from an existing widget, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void createControls(Composite parent) {\n  Display display = parent.getDisplay();\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":7447054,"reputation":773,"user_id":5662881,"accept_rate":46,"display_name":"Hitesh Ghuge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40259917,"answer_count":2,"score":3,"last_activity_date":1679650283,"creation_date":1477477061,"question_id":40259589,"body_markdown":"I have plug-in project in which I am using \r\n\r\n\tDisplay display = new Display(); // twice \r\n\t\r\nthis plug-in is working fine on Windows. \r\n\r\nBut when I run plug-in on Linux it throws an error:\r\n\r\n\torg.eclipse.swt.SWTError: Not implemented [multiple displays]\r\n\tRoot exception:\r\n\t\torg.eclipse.swt.SWTError: Not implemented [multiple displays]\r\n\t\tat org.eclipse.swt.SWT.error(SWT.java:4423)\r\n\t\tat org.eclipse.swt.widgets.Display.checkDisplay(Display.java:767)\r\n\t\tat org.eclipse.swt.widgets.Display.create(Display.java:908)\r\n\t\tat org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:156)\r\n\t\tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:507)\r\n\t\tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:498)\r\n\t\tat com.test$OpenPage.run(test.java:267)\r\n\t\tat org.eclipse.mylyn.tasks.ui.wizards.AbstractRepositorySettingsPage$29.run(AbstractRepositorySettingsPage.java:1964)\r\n\t\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)\r\n\r\n\r\nI have tested it on Windows 7/8.1/10 (working fine) and Ubuntu (not working)\r\n\r\n","title":"SWTError: Not implemented [multiple displays] in Eclipse plug-in devlopment","body":"<p>I have plug-in project in which I am using </p>\n\n<pre><code>Display display = new Display(); // twice \n</code></pre>\n\n<p>this plug-in is working fine on Windows. </p>\n\n<p>But when I run plug-in on Linux it throws an error:</p>\n\n<pre><code>org.eclipse.swt.SWTError: Not implemented [multiple displays]\nRoot exception:\n    org.eclipse.swt.SWTError: Not implemented [multiple displays]\n    at org.eclipse.swt.SWT.error(SWT.java:4423)\n    at org.eclipse.swt.widgets.Display.checkDisplay(Display.java:767)\n    at org.eclipse.swt.widgets.Display.create(Display.java:908)\n    at org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:156)\n    at org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:507)\n    at org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:498)\n    at com.test$OpenPage.run(test.java:267)\n    at org.eclipse.mylyn.tasks.ui.wizards.AbstractRepositorySettingsPage$29.run(AbstractRepositorySettingsPage.java:1964)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)\n</code></pre>\n\n<p>I have tested it on Windows 7/8.1/10 (working fine) and Ubuntu (not working)</p>\n"},{"tags":["java","exception","indexoutofboundsexception"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679629838,"post_id":75829874,"comment_id":133759451,"body_markdown":"Well, `numbers[10]` throws an exception, and you also throw one in `demo`. I don&#39;t see what&#39;s wrong.","body":"Well, <code>numbers[10]</code> throws an exception, and you also throw one in <code>demo</code>. I don&#39;t see what&#39;s wrong."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679630491,"post_id":75829874,"comment_id":133759499,"body_markdown":"An AIOOBE exception will automatically be thrown if an attempt is made to access an array at an invalid index. You do this with `numbers[10]` (the index `10` is out of bounds for the `numbers` array of length `5`). That&#39;s where one exception is coming from. The other exception is coming from the one you throw in `demo()`. And note that `finally` is _always_ executed if the associated `try` has been entered (ignoring special situations, such as a call to `System.exit(...)`). So, even though `numbers[10]` is throwing an exception, the `finally` block is still executed, and thus so is `demo()`.","body":"An AIOOBE exception will automatically be thrown if an attempt is made to access an array at an invalid index. You do this with <code>numbers[10]</code> (the index <code>10</code> is out of bounds for the <code>numbers</code> array of length <code>5</code>). That&#39;s where one exception is coming from. The other exception is coming from the one you throw in <code>demo()</code>. And note that <code>finally</code> is <i>always</i> executed if the associated <code>try</code> has been entered (ignoring special situations, such as a call to <code>System.exit(...)</code>). So, even though <code>numbers[10]</code> is throwing an exception, the <code>finally</code> block is still executed, and thus so is <code>demo()</code>."},{"owner":{"account_id":3350252,"reputation":199,"user_id":2814446,"accept_rate":43,"display_name":"CodeIntro"},"score":0,"creation_date":1679630534,"post_id":75829874,"comment_id":133759503,"body_markdown":"Yes, this should throw 2 exceptions, 1 due to accessing numbers[10] (as you are not catching it) and then the one you throw intentionally in finally block. JVM will throw the exception when it occurs (if you haven&#39;t catch) regardless of what you have done.","body":"Yes, this should throw 2 exceptions, 1 due to accessing numbers[10] (as you are not catching it) and then the one you throw intentionally in finally block. JVM will throw the exception when it occurs (if you haven&#39;t catch) regardless of what you have done."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679632380,"post_id":75829874,"comment_id":133759688,"body_markdown":"You should only see one exception reported by the JVM, as an exception thrown in a finally block hides the original exception. But yes, two exceptions are being thrown. Why are you manually throwing the exception? If the goal of the exercise is to cause an ArrayIndexOutOfBoundsException the array access is sufficient.","body":"You should only see one exception reported by the JVM, as an exception thrown in a finally block hides the original exception. But yes, two exceptions are being thrown. Why are you manually throwing the exception? If the goal of the exercise is to cause an ArrayIndexOutOfBoundsException the array access is sufficient."},{"owner":{"account_id":28110369,"reputation":19,"user_id":21478240,"display_name":"zafflesia"},"score":0,"creation_date":1679713449,"post_id":75829874,"comment_id":133774999,"body_markdown":"@tgdavies Our assignment specifically asks us to manually throw the exception, which kind of puzzled me, but I can&#39;t argue with what the professor wants","body":"@tgdavies Our assignment specifically asks us to manually throw the exception, which kind of puzzled me, but I can&#39;t argue with what the professor wants"},{"owner":{"account_id":28110369,"reputation":19,"user_id":21478240,"display_name":"zafflesia"},"score":0,"creation_date":1679713674,"post_id":75829874,"comment_id":133775012,"body_markdown":"TY @CodeIntro, your answer was very informative. All of this is so new to me, so that was helpful!","body":"TY @CodeIntro, your answer was very informative. All of this is so new to me, so that was helpful!"},{"owner":{"account_id":28110369,"reputation":19,"user_id":21478240,"display_name":"zafflesia"},"score":0,"creation_date":1679713687,"post_id":75829874,"comment_id":133775013,"body_markdown":"TY @Slaw! Now I totally understand why it&#39;s throwing two, and why!","body":"TY @Slaw! Now I totally understand why it&#39;s throwing two, and why!"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679722018,"post_id":75829874,"comment_id":133775613,"body_markdown":"Glad I could help :) Though I recommend getting some clarification from your professor. The use of `try`-`finally` here is confusing because, as noted, the exception from `demo()` _should_ be hiding the exception from `numbers[10]` due to `demo()` being called in the `finally` block (throwing an exception or returning a value from `finally` &quot;overrides&quot; any exception or return from the associated `try` or `catch`). Perhaps what your professor wants is for you to create a method that takes an array and an index, which manually checks `index &gt;= 0 &amp;&amp; index &lt; array.length`, throwing as appropriate.","body":"Glad I could help :) Though I recommend getting some clarification from your professor. The use of <code>try</code>-<code>finally</code> here is confusing because, as noted, the exception from <code>demo()</code> <i>should</i> be hiding the exception from <code>numbers[10]</code> due to <code>demo()</code> being called in the <code>finally</code> block (throwing an exception or returning a value from <code>finally</code> &quot;overrides&quot; any exception or return from the associated <code>try</code> or <code>catch</code>). Perhaps what your professor wants is for you to create a method that takes an array and an index, which manually checks <code>index &gt;= 0 &amp;&amp; index &lt; array.length</code>, throwing as appropriate."}],"owner":{"account_id":28110369,"reputation":19,"user_id":21478240,"display_name":"zafflesia"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679650273,"creation_date":1679629725,"question_id":75829874,"body_markdown":"I&#39;m very, very new to coding and currently taking a class for Java. For our most recent assignment, we have to purposely throw several different Built-in Exceptions, even though to my understanding you don&#39;t have to manually do this. I&#39;m currently trying to throw an ArrayIndexOutOfBoundsException with a try and finally statement.\r\n\r\nMy code currently looks like this:\r\n\r\n```java\r\npublic class ArrayIndexOutOfBoundsExceptionThrown {\r\n\r\n    static void demo() {\r\n        System.out.println(&quot;Asked for index 10&quot;);\r\n        throw new ArrayIndexOutOfBoundsException(&quot;Invalid array index!&quot;);\r\n    } // end of demo\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] numbers = new int[5];\r\n        try {\r\n            System.out.println(numbers[10]);\r\n        } finally {\r\n            demo();\r\n        }\r\n    }// end of main\r\n\r\n} // end of ArrayIOOBE\r\n```\r\n\r\nAnd that does seem to work, but Java is **also** giving me two Exception errors on its own. Is this normal? Does Java always automatically show me Exceptions on its own even after I&#39;ve manually asked it to throw one?","title":"Trying to purposely throw an ArrayIndexOutOfBoundsException","body":"<p>I'm very, very new to coding and currently taking a class for Java. For our most recent assignment, we have to purposely throw several different Built-in Exceptions, even though to my understanding you don't have to manually do this. I'm currently trying to throw an ArrayIndexOutOfBoundsException with a try and finally statement.</p>\n<p>My code currently looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayIndexOutOfBoundsExceptionThrown {\n\n    static void demo() {\n        System.out.println(&quot;Asked for index 10&quot;);\n        throw new ArrayIndexOutOfBoundsException(&quot;Invalid array index!&quot;);\n    } // end of demo\n\n    public static void main(String[] args) {\n\n        int[] numbers = new int[5];\n        try {\n            System.out.println(numbers[10]);\n        } finally {\n            demo();\n        }\n    }// end of main\n\n} // end of ArrayIOOBE\n</code></pre>\n<p>And that does seem to work, but Java is <strong>also</strong> giving me two Exception errors on its own. Is this normal? Does Java always automatically show me Exceptions on its own even after I've manually asked it to throw one?</p>\n"},{"tags":["java","spring-boot","annotations"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1679647215,"post_id":75831445,"comment_id":133761929,"body_markdown":"Your question is misleading, `Details` is not subclass of `Data`, `Data` is composed of `Details` (you have composition, not inheritance here). Going by memory, you need to add `@Valid` or `@Validated`, some annotation among those lines, on the details field in `Data` class.","body":"Your question is misleading, <code>Details</code> is not subclass of <code>Data</code>, <code>Data</code> is composed of <code>Details</code> (you have composition, not inheritance here). Going by memory, you need to add <code>@Valid</code> or <code>@Validated</code>, some annotation among those lines, on the details field in <code>Data</code> class."}],"owner":{"account_id":26159513,"reputation":9,"user_id":19846300,"display_name":"Swaraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679648195,"answer_count":0,"score":0,"last_activity_date":1679650037,"creation_date":1679646680,"question_id":75831445,"body_markdown":"```\r\nimport javax.validation.constraints.Pattern;\r\n\r\npublic class Data {\r\n\r\n\tDetails details ;\r\n}\r\n```\r\n```\r\npublic class Details {\r\n\r\n\t@Pattern(regexp = &quot;^[//a-zA-Z0-9]+$&quot;, message = &quot;yyyyy&quot;)\r\n\tprivate String Id;\r\n}\r\n```\r\n**In controller layer** \r\n```\r\n@RequestMapping(value = &quot;/xyz&quot;, method = RequestMethod.POST)\r\npublic Object create(@Valid @RequestBody Data policy, HttpServletRequest request,   \r\n                                                                        HttpServletResponse response){\r\n}\r\n```\r\nI need the validations that is present in **Details** class . It is a sub-class of **Data**.\r\nIn controller layer, i have given RequestBody **Data**  and @valid annotation is there \r\nI am trying from postman , but not able to throw the **@Pattern** validation.","title":"@Pattern annotation in subclasses of a spring boot","body":"<pre><code>import javax.validation.constraints.Pattern;\n\npublic class Data {\n\n    Details details ;\n}\n</code></pre>\n<pre><code>public class Details {\n\n    @Pattern(regexp = &quot;^[//a-zA-Z0-9]+$&quot;, message = &quot;yyyyy&quot;)\n    private String Id;\n}\n</code></pre>\n<p><strong>In controller layer</strong></p>\n<pre><code>@RequestMapping(value = &quot;/xyz&quot;, method = RequestMethod.POST)\npublic Object create(@Valid @RequestBody Data policy, HttpServletRequest request,   \n                                                                        HttpServletResponse response){\n}\n</code></pre>\n<p>I need the validations that is present in <strong>Details</strong> class . It is a sub-class of <strong>Data</strong>.\nIn controller layer, i have given RequestBody <strong>Data</strong>  and @valid annotation is there\nI am trying from postman , but not able to throw the <strong>@Pattern</strong> validation.</p>\n"},{"tags":["java","import","jupyter","jupyter-kernel"],"owner":{"account_id":27175383,"reputation":21,"user_id":20711457,"display_name":"Jakub Lechowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679649547,"creation_date":1679649547,"question_id":75831868,"body_markdown":"I want to import a custom java script into an `IJava` notebook. Is it possible?\r\n\r\n\r\n\r\nI&#39;m trying to do it this way, but it doesn&#39;t seem to work. I&#39;m new to &quot;IJava&quot; so if I&#39;m doing something wrong please correct me.\r\n\r\nMy working directory structure:\r\n\r\n```\r\n├── com\r\n│&#160;&#160; └── example\r\n│&#160;&#160;     ├── MyClass.class\r\n│&#160;&#160;     └── MyClass.java\r\n└── Test.ipynb\r\n\r\n```\r\n\r\nTest.ipynb (code from cell):\r\n\r\n```java\r\n%classpath add jar ./com/example/MyClass.class\r\n%jars ./com/example/MyClass.class\r\nimport com.example.MyClass;\r\nMyClass myObj = new MyClass();\r\nmyObj.helloWorld();\r\n```\r\n\r\nError message:\r\n```java\r\n| import com.example.MyClass;\r\npackage com.example does not exist\r\n\r\n```\r\n\r\n\r\nMyClass.class/MyClass.java:\r\n\r\n```java\r\npackage com.example;\r\npublic class MyClass {\r\n    public void helloWorld() {\r\n       System.out.println(&quot;Hello, world!&quot;);\r\n    }\r\n}\r\n\r\n```","title":"How to import code from an external module to IJava notebook?","body":"<p>I want to import a custom java script into an <code>IJava</code> notebook. Is it possible?</p>\n<p>I'm trying to do it this way, but it doesn't seem to work. I'm new to &quot;IJava&quot; so if I'm doing something wrong please correct me.</p>\n<p>My working directory structure:</p>\n<pre><code>├── com\n│   └── example\n│       ├── MyClass.class\n│       └── MyClass.java\n└── Test.ipynb\n\n</code></pre>\n<p>Test.ipynb (code from cell):</p>\n<pre class=\"lang-java prettyprint-override\"><code>%classpath add jar ./com/example/MyClass.class\n%jars ./com/example/MyClass.class\nimport com.example.MyClass;\nMyClass myObj = new MyClass();\nmyObj.helloWorld();\n</code></pre>\n<p>Error message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>| import com.example.MyClass;\npackage com.example does not exist\n\n</code></pre>\n<p>MyClass.class/MyClass.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\npublic class MyClass {\n    public void helloWorld() {\n       System.out.println(&quot;Hello, world!&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","javafx","shutdown","shutdown-hook","application-shutdown"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1588428449,"creation_date":1488643967,"answer_id":42598179,"question_id":42598097,"body_markdown":"`stop()` will only be called if you exit the application via `Platform.exit()` (or when the last window is closed if  `Platform.implicitExit` is true). Shutdown hooks will execute if `System.exit()` is called, or if the native process running the JVM is interrupted (e.g. ctrl-C on a *nix-like OS), in addition to the usual way of exiting a JavaFX Application.\r\n\r\nNote that it appears to be important to register the shutdown hook in the main thread, before calling `Application.launch()`.\r\n\r\n`stop()` is executed on the FX Application Thread, so it is safe to access UI elements (e.g. to show &quot;save unsaved changes&quot; dialogs, etc). Shutdown hooks are run in a background thread, so cannot access UI elements (indeed the FX Toolkit will probably long have stopped running by that stage).\r\n\r\nSo the choice depends on the use case.\r\n\r\nTo make this a little more concrete, here&#39;s a quick test class:\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ShutdownTest extends Application {\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\tButton platformExit = new Button(&quot;Platform Exit&quot;);\r\n    \t\tplatformExit.setOnAction(e -&gt; Platform.exit());\r\n    \t\tButton systemExit = new Button(&quot;System Exit&quot;);\r\n    \t\tsystemExit.setOnAction(e -&gt; System.exit(0));\r\n    \t\tButton hang = new Button(&quot;Hang&quot;);\r\n    \t\thang.setOnAction(e -&gt; {while(true);});\r\n    \t\tHBox root = new HBox(5, platformExit, systemExit, hang);\r\n    \t\troot.setPadding(new Insets(20));\r\n    \t\troot.setAlignment(Pos.CENTER);\r\n    \t\tScene scene = new Scene(root);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void stop() {\r\n    \t\tSystem.out.println(&quot;Stop&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; System.out.println(&quot;Shutdown hook&quot;)));\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\nI tested this on Mac OS X.\r\n\r\nExiting via the &quot;Platform Exit&quot; button, by closing the window, or by right-clicking on the Dock and choosing &quot;Quit&quot; will execute both the `stop()` method and the shutdown hook.\r\n\r\nExiting by the &quot;System Exit&quot; button, by forcing the process to quit from &quot;Activity Monitor&quot;, or by killing the process by `kill id` from the command line, will execute the shutdown hook only. Hanging the application by pressing the &quot;Hang&quot; button and then right-clicking on the Dock and choosing &quot;Force Quit&quot; has the same result.\r\n\r\nExiting by sending a SIGKILL to the process (`kill -9 id` or `kill -SIGKILL id` from the command line) executes neither the `stop()` method nor the shutdown hook.\r\n","title":"Using JavaFX Application.stop() method over Shutdownhook","body":"<p><code>stop()</code> will only be called if you exit the application via <code>Platform.exit()</code> (or when the last window is closed if  <code>Platform.implicitExit</code> is true). Shutdown hooks will execute if <code>System.exit()</code> is called, or if the native process running the JVM is interrupted (e.g. ctrl-C on a *nix-like OS), in addition to the usual way of exiting a JavaFX Application.</p>\n\n<p>Note that it appears to be important to register the shutdown hook in the main thread, before calling <code>Application.launch()</code>.</p>\n\n<p><code>stop()</code> is executed on the FX Application Thread, so it is safe to access UI elements (e.g. to show \"save unsaved changes\" dialogs, etc). Shutdown hooks are run in a background thread, so cannot access UI elements (indeed the FX Toolkit will probably long have stopped running by that stage).</p>\n\n<p>So the choice depends on the use case.</p>\n\n<p>To make this a little more concrete, here's a quick test class:</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class ShutdownTest extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        Button platformExit = new Button(\"Platform Exit\");\n        platformExit.setOnAction(e -&gt; Platform.exit());\n        Button systemExit = new Button(\"System Exit\");\n        systemExit.setOnAction(e -&gt; System.exit(0));\n        Button hang = new Button(\"Hang\");\n        hang.setOnAction(e -&gt; {while(true);});\n        HBox root = new HBox(5, platformExit, systemExit, hang);\n        root.setPadding(new Insets(20));\n        root.setAlignment(Pos.CENTER);\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n    }\n\n    @Override\n    public void stop() {\n        System.out.println(\"Stop\");\n    }\n\n    public static void main(String[] args) {\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; System.out.println(\"Shutdown hook\")));\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>I tested this on Mac OS X.</p>\n\n<p>Exiting via the \"Platform Exit\" button, by closing the window, or by right-clicking on the Dock and choosing \"Quit\" will execute both the <code>stop()</code> method and the shutdown hook.</p>\n\n<p>Exiting by the \"System Exit\" button, by forcing the process to quit from \"Activity Monitor\", or by killing the process by <code>kill id</code> from the command line, will execute the shutdown hook only. Hanging the application by pressing the \"Hang\" button and then right-clicking on the Dock and choosing \"Force Quit\" has the same result.</p>\n\n<p>Exiting by sending a SIGKILL to the process (<code>kill -9 id</code> or <code>kill -SIGKILL id</code> from the command line) executes neither the <code>stop()</code> method nor the shutdown hook.</p>\n"}],"owner":{"account_id":3240077,"reputation":2811,"user_id":2733333,"accept_rate":89,"display_name":"Tomas Bisciak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13946,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":42598179,"answer_count":1,"score":16,"last_activity_date":1679649511,"creation_date":1488643524,"question_id":42598097,"body_markdown":"So im using shutdownhook to clean up. But since its not always guaranteed that shutdownhooks thread executes, should i just push this code onto JavaFX Application Thread (method stop()), which executes every time i close my application? Code is not expensive to run. Its basically just close socket if not closed and kill processs if not killed.\r\n\r\n**Is it good practice to use Application.stop() to cleanup over ShutdownHook?**\r\n\r\nQuote from doc:\r\n\r\n&gt; This method is called when the application should stop, and provides a\r\n&gt; convenient place to prepare for application exit and destroy\r\n&gt; resources. The implementation of this method provided by the\r\n&gt; Application class does nothing.\r\n&gt; \r\n&gt; NOTE: This method is called on the JavaFX Application Thread.\r\n\r\nIs this method only intended to clean up resources of UI? So far i don&#39;t see a reason using shutdownhook over stop() at all.","title":"Using JavaFX Application.stop() method over Shutdownhook","body":"<p>So im using shutdownhook to clean up. But since its not always guaranteed that shutdownhooks thread executes, should i just push this code onto JavaFX Application Thread (method stop()), which executes every time i close my application? Code is not expensive to run. Its basically just close socket if not closed and kill processs if not killed.</p>\n<p><strong>Is it good practice to use Application.stop() to cleanup over ShutdownHook?</strong></p>\n<p>Quote from doc:</p>\n<blockquote>\n<p>This method is called when the application should stop, and provides a\nconvenient place to prepare for application exit and destroy\nresources. The implementation of this method provided by the\nApplication class does nothing.</p>\n<p>NOTE: This method is called on the JavaFX Application Thread.</p>\n</blockquote>\n<p>Is this method only intended to clean up resources of UI? So far i don't see a reason using shutdownhook over stop() at all.</p>\n"},{"tags":["java","spring","maven","exception","controller-advice"],"comments":[{"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"score":0,"creation_date":1679649733,"post_id":75831840,"comment_id":133762506,"body_markdown":"I think this is not handled by the exception handler, but with access denied handler. See the example: https://www.baeldung.com/spring-security-custom-access-denied-page","body":"I think this is not handled by the exception handler, but with access denied handler. See the example: <a href=\"https://www.baeldung.com/spring-security-custom-access-denied-page\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-custom-access-denied-page</a>"}],"owner":{"account_id":4116899,"reputation":3660,"user_id":3378245,"accept_rate":55,"display_name":"Arun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679649393,"creation_date":1679649393,"question_id":75831840,"body_markdown":"I am a very beginner in `spring`. In my application, I created a global exception handler class using `@ControllerAdvice`. It is catching all **5xx errors**. But when it is getting some 403 error, it is showing the default page.\r\n\r\n**My calls file is**\r\n\r\n    package com.example.learn.controller;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Slf4j\r\n    @ControllerAdvice\r\n    public class GlobalExceptionController {\r\n    \r\n     \r\n        @ExceptionHandler(Exception.class)\r\n        public ModelAndView exceptionHandler(Exception exception) {\r\n            ModelAndView errorPage = new ModelAndView();\r\n            errorPage.setViewName(&quot;error&quot;);\r\n            errorPage.addObject(&quot;errormsg&quot;, exception.getMessage());\r\n            return errorPage;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**And when it is getting some 403 error the below page is coming**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow can I show a custom error page instead of this in the global exception handler?\r\n\r\n**Spring Version:** 3.0.5\r\n\r\n**Java version:** 17\r\n\r\n**Build using maven**\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d85KW.png","title":"Spring is not catching 403 error in global exception handler","body":"<p>I am a very beginner in <code>spring</code>. In my application, I created a global exception handler class using <code>@ControllerAdvice</code>. It is catching all <strong>5xx errors</strong>. But when it is getting some 403 error, it is showing the default page.</p>\n<p><strong>My calls file is</strong></p>\n<pre><code>package com.example.learn.controller;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Slf4j\n@ControllerAdvice\npublic class GlobalExceptionController {\n\n \n    @ExceptionHandler(Exception.class)\n    public ModelAndView exceptionHandler(Exception exception) {\n        ModelAndView errorPage = new ModelAndView();\n        errorPage.setViewName(&quot;error&quot;);\n        errorPage.addObject(&quot;errormsg&quot;, exception.getMessage());\n        return errorPage;\n    }\n\n}\n</code></pre>\n<p><strong>And when it is getting some 403 error the below page is coming</strong></p>\n<p><a href=\"https://i.stack.imgur.com/d85KW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d85KW.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I show a custom error page instead of this in the global exception handler?</p>\n<p><strong>Spring Version:</strong> 3.0.5</p>\n<p><strong>Java version:</strong> 17</p>\n<p><strong>Build using maven</strong></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679649306,"creation_date":1679649306,"answer_id":75831824,"question_id":75830863,"body_markdown":"I guess you should rather use `t.basicProperties` and `t.measurementProperties` to bind the `List` instances. Give a try the following query:\r\n\r\n```\r\n@Query(value = \r\n        &quot;select new&quot; + \r\n        &quot;io.badhusha.iotmonitor.model.ThingType(&quot; +\r\n            &quot;t.thingTypeId, t.description, t.basicProperties, t.measurementProperties&quot; +\r\n        &quot;)&quot; +\r\n        &quot;from ThingType t&quot; +\r\n        &quot;left join t.basicProperties&quot; +\r\n        &quot;left join t.measurementProperties&quot; +\r\n        &quot;where t.thingTypeId = ?1&quot;)\r\n```\r\n```java\r\n&quot;select new io.badhusha.iotmonitor.model.ThingType(t.thingTypeId, t.description, t.basicProperties, t.measurementProperties) from ThingType t LEFT JOIN t.basicProperties LEFT JOIN t.measurementProperties where t.thingTypeId = ?1&quot;\r\n```\r\n\r\nFinally, your constructor generated with `@AllArgsConstructor` contains 5 parameters (with `Managed` as the 3rd parameter). You need to define new constructor matching: \r\n\r\n```\r\n(String, String, List&lt;ThingTypeBasicProperties&gt;, List&lt;ThingTypeMeasurementProperties&gt;)\r\n```\r\n","title":"Associated values in JPQL : Unable to locate appropriate constructor on class","body":"<p>I guess you should rather use <code>t.basicProperties</code> and <code>t.measurementProperties</code> to bind the <code>List</code> instances. Give a try the following query:</p>\n<pre><code>@Query(value = \n        &quot;select new&quot; + \n        &quot;io.badhusha.iotmonitor.model.ThingType(&quot; +\n            &quot;t.thingTypeId, t.description, t.basicProperties, t.measurementProperties&quot; +\n        &quot;)&quot; +\n        &quot;from ThingType t&quot; +\n        &quot;left join t.basicProperties&quot; +\n        &quot;left join t.measurementProperties&quot; +\n        &quot;where t.thingTypeId = ?1&quot;)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;select new io.badhusha.iotmonitor.model.ThingType(t.thingTypeId, t.description, t.basicProperties, t.measurementProperties) from ThingType t LEFT JOIN t.basicProperties LEFT JOIN t.measurementProperties where t.thingTypeId = ?1&quot;\n</code></pre>\n<p>Finally, your constructor generated with <code>@AllArgsConstructor</code> contains 5 parameters (with <code>Managed</code> as the 3rd parameter). You need to define new constructor matching:</p>\n<pre><code>(String, String, List&lt;ThingTypeBasicProperties&gt;, List&lt;ThingTypeMeasurementProperties&gt;)\n</code></pre>\n"}],"owner":{"account_id":10908524,"reputation":108,"user_id":8018614,"display_name":"Badhusha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75831824,"answer_count":1,"score":1,"last_activity_date":1679649306,"creation_date":1679641890,"question_id":75830863,"body_markdown":"I have a Entities as shown below.\r\n\r\n**ThingType.java**\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class ThingType {\r\n     @Id\r\n     @Column(name = &quot;thing_type_id&quot;)\r\n     private String thingTypeId;\r\n\r\n     @Column(length = 50)\r\n     private String description;\r\n\r\n     @Embedded\r\n     private Managed managed;\r\n\r\n     @OneToMany(orphanRemoval = true,mappedBy = &quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n     private List&lt;ThingTypeBasicProperties&gt; basicProperties = new ArrayList&lt;&gt;();\r\n\r\n     @OneToMany(orphanRemoval = true,mappedBy = &quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n     private List&lt;ThingTypeMeasurementProperties&gt; measurementProperties = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nI have repository interface for ThingType.\r\n\r\nThingTypeRepository.java\r\n\r\n    @Repository\r\n    public interface ThingTypeRepository extends JpaRepository&lt;ThingType,String&gt; {\r\n     @Query(value = &quot;select new io.badhusha.iotmonitor.model.ThingType(t.thingTypeId,t.description,bp,mp) from ThingType t LEFT JOIN t.basicProperties bp LEFT JOIN t.measurementProperties mp where t.thingTypeId = ?1&quot;)\r\n    Optional&lt;ThingType&gt; findThingTypeById(@NonNull String thingTypeId);\r\n    }\r\n\r\nI am trying to fetch the **ThingType** with its associated **basicProperties** and **measurementProperties** using JPQL query.\r\n\r\nI get error below\r\n\r\n&gt; Unable to locate appropriate constructor on class [io.project.model.ThingType]. Expected arguments are: java.lang.String, java.lang.String, io.project.model.ThingTypeBasicProperties, io.project.model.ThingTypeMeasurementProperties\r\n\r\n\r\nThe error is saying it is expecting a single value of **ThingTypeBasicProperties** and **ThingTypeMeasurementProperties**. Why ? I am having a OneToMany relationship, it should be a List.\r\n\r\n\r\nCan anyone please help me here ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Associated values in JPQL : Unable to locate appropriate constructor on class","body":"<p>I have a Entities as shown below.</p>\n<p><strong>ThingType.java</strong></p>\n<pre><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class ThingType {\n @Id\n @Column(name = &quot;thing_type_id&quot;)\n private String thingTypeId;\n\n @Column(length = 50)\n private String description;\n\n @Embedded\n private Managed managed;\n\n @OneToMany(orphanRemoval = true,mappedBy = &quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n private List&lt;ThingTypeBasicProperties&gt; basicProperties = new ArrayList&lt;&gt;();\n\n @OneToMany(orphanRemoval = true,mappedBy = &quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n private List&lt;ThingTypeMeasurementProperties&gt; measurementProperties = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>I have repository interface for ThingType.</p>\n<p>ThingTypeRepository.java</p>\n<pre><code>@Repository\npublic interface ThingTypeRepository extends JpaRepository&lt;ThingType,String&gt; {\n @Query(value = &quot;select new io.badhusha.iotmonitor.model.ThingType(t.thingTypeId,t.description,bp,mp) from ThingType t LEFT JOIN t.basicProperties bp LEFT JOIN t.measurementProperties mp where t.thingTypeId = ?1&quot;)\nOptional&lt;ThingType&gt; findThingTypeById(@NonNull String thingTypeId);\n}\n</code></pre>\n<p>I am trying to fetch the <strong>ThingType</strong> with its associated <strong>basicProperties</strong> and <strong>measurementProperties</strong> using JPQL query.</p>\n<p>I get error below</p>\n<blockquote>\n<p>Unable to locate appropriate constructor on class [io.project.model.ThingType]. Expected arguments are: java.lang.String, java.lang.String, io.project.model.ThingTypeBasicProperties, io.project.model.ThingTypeMeasurementProperties</p>\n</blockquote>\n<p>The error is saying it is expecting a single value of <strong>ThingTypeBasicProperties</strong> and <strong>ThingTypeMeasurementProperties</strong>. Why ? I am having a OneToMany relationship, it should be a List.</p>\n<p>Can anyone please help me here ?</p>\n"},{"tags":["java","ssl","tls1.2","java-17","testssl.sh"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679649003,"creation_date":1679649003,"answer_id":75831772,"question_id":75826640,"body_markdown":"There are no system properties with the names you show, or similar. (Also, technically, system properties set in code are not &#39;JVM arg[ument]s&#39;, although they can have the same _effect_.)\r\n\r\nIn Java 8u271 up, 11.0.9 up, and 14 up, when using the &#39;standard&#39; (upstream-distributed) `java.security` file, there is a **security** property `jdk.disabled.namedCurves` (not Groups) that is &#39;included&#39; into three other _security_ properties `jdk.{certpath,jar,tls}.disabledAlgorithms` with the effect of disabling for those purposes curves that are now unsafe, unportable, or otherwise unrecommended. \r\n\r\nYour code could add `, X448` to `jdk.disabled.namedCurves` and have it automatically apply to the three other cases; certpath could never use X448 anyway since it doesn&#39;t support signing, and I&#39;m pretty sure jar also wouldn&#39;t, so this would most likely affect only TLS. Or you could add it directly to `jdk.tls.disabledAlgorithms` and be certain it affects only TLS. In either case you should **add** it to, not replace, the existing value, because all four of these properties already contain numerous curves or algorithms, respectively, that need to be disabled to prevent various problems or risks. \r\n\r\nAnd in either case you must do it very near the beginning of execution of your JVM, specifically before the first reference by any class to `sun.security.util.DisabledAlgorithmConstraints` (directly or indirectly). I&#39;m not sure even the beginning of your main method is early enough, although you can try it. Putting it in the configuration file (before the JVM even starts) is safe; for this you can either modify the file `JDKORJRE/conf/security/java.security` in j9 up or `JRE/lib/security/java.security` in j8 down, which affects all JVMs using that JRE, or by creating a modified or patch file and using **system** property `java.security.properties` on a specific JVM as described in the comments in the standard file; this needs to be in effect during JVM startup and thus the `-D` _argument_ is the only way to achieve it.\r\n\r\nWhich sadly makes this not a programming question and I&#39;m not sure it counts as development, so it may be off-topic here.","title":"Set Elliptical Curve in JDK17","body":"<p>There are no system properties with the names you show, or similar. (Also, technically, system properties set in code are not 'JVM arg[ument]s', although they can have the same <em>effect</em>.)</p>\n<p>In Java 8u271 up, 11.0.9 up, and 14 up, when using the 'standard' (upstream-distributed) <code>java.security</code> file, there is a <strong>security</strong> property <code>jdk.disabled.namedCurves</code> (not Groups) that is 'included' into three other <em>security</em> properties <code>jdk.{certpath,jar,tls}.disabledAlgorithms</code> with the effect of disabling for those purposes curves that are now unsafe, unportable, or otherwise unrecommended.</p>\n<p>Your code could add <code>, X448</code> to <code>jdk.disabled.namedCurves</code> and have it automatically apply to the three other cases; certpath could never use X448 anyway since it doesn't support signing, and I'm pretty sure jar also wouldn't, so this would most likely affect only TLS. Or you could add it directly to <code>jdk.tls.disabledAlgorithms</code> and be certain it affects only TLS. In either case you should <strong>add</strong> it to, not replace, the existing value, because all four of these properties already contain numerous curves or algorithms, respectively, that need to be disabled to prevent various problems or risks.</p>\n<p>And in either case you must do it very near the beginning of execution of your JVM, specifically before the first reference by any class to <code>sun.security.util.DisabledAlgorithmConstraints</code> (directly or indirectly). I'm not sure even the beginning of your main method is early enough, although you can try it. Putting it in the configuration file (before the JVM even starts) is safe; for this you can either modify the file <code>JDKORJRE/conf/security/java.security</code> in j9 up or <code>JRE/lib/security/java.security</code> in j8 down, which affects all JVMs using that JRE, or by creating a modified or patch file and using <strong>system</strong> property <code>java.security.properties</code> on a specific JVM as described in the comments in the standard file; this needs to be in effect during JVM startup and thus the <code>-D</code> <em>argument</em> is the only way to achieve it.</p>\n<p>Which sadly makes this not a programming question and I'm not sure it counts as development, so it may be off-topic here.</p>\n"}],"owner":{"account_id":21137539,"reputation":11,"user_id":15540694,"display_name":"RHYTHM VARSHNEY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679649003,"creation_date":1679595102,"question_id":75826640,"body_markdown":"I have migrated a service from JDK8 to JDK17. Now, whenever client connects to server, server offers `X448` elliptical curve. I want to disable it.\r\n\r\n```\r\nPFS is offered (OK)          ECDHE-RSA-AES128-GCM-SHA256\r\n Elliptic curves offered:     prime256v1 secp384r1 secp521r1 X25519 X448\r\n```\r\nAbove output is from testssl tool, which is testing SSL.\r\n\r\n\r\n\r\nI have tried setting JVMargs as- \r\n\r\n```\r\nSystem.setProperty(&quot;jdk.tls.namedGroups&quot;,&quot;prime256v1&quot;);\r\nSystem.setProperty(&quot;jdk.disabled.namedGroups&quot;,&quot;X448&quot;);\r\n```\r\n\r\nBut the above thing is not working with JDK17. Can someone help me in how to disable `X448` Elliptical curve in JDK17?","title":"Set Elliptical Curve in JDK17","body":"<p>I have migrated a service from JDK8 to JDK17. Now, whenever client connects to server, server offers <code>X448</code> elliptical curve. I want to disable it.</p>\n<pre><code>PFS is offered (OK)          ECDHE-RSA-AES128-GCM-SHA256\n Elliptic curves offered:     prime256v1 secp384r1 secp521r1 X25519 X448\n</code></pre>\n<p>Above output is from testssl tool, which is testing SSL.</p>\n<p>I have tried setting JVMargs as-</p>\n<pre><code>System.setProperty(&quot;jdk.tls.namedGroups&quot;,&quot;prime256v1&quot;);\nSystem.setProperty(&quot;jdk.disabled.namedGroups&quot;,&quot;X448&quot;);\n</code></pre>\n<p>But the above thing is not working with JDK17. Can someone help me in how to disable <code>X448</code> Elliptical curve in JDK17?</p>\n"},{"tags":["java","spring-boot","cors","spring-webflux","same-origin-policy"],"answers":[{"tags":[],"owner":{"account_id":2333795,"reputation":865,"user_id":2046584,"accept_rate":100,"display_name":"vzhemevko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593854548,"creation_date":1593854548,"answer_id":62727414,"question_id":62723224,"body_markdown":"In the [JavaDocs][1] of the `@CrossOrigin` there is mentioning \r\n\r\n&gt; Both Spring Web MVC and Spring WebFlux support this annotation through\r\n&gt; the RequestMappingHandlerMapping in their respective modules. The\r\n&gt; values from each type and method level pair of annotations are added\r\n&gt; to a CorsConfiguration\r\n\r\nWhich means your CORS settings will be added to [CorsConfiguration][2]\r\n\r\nIf you are using Spring Security you need to [enable CORS][3] so that your CorsConfiguration will be used. See below a small example \r\n\r\n\r\n       protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .cors()\r\n                ...\r\n        }\r\n\r\nFrom the [JavaDocs][4] \r\n\r\n&gt; Adds a CorsFilter to be used. If a bean by the name of corsFilter is\r\n&gt; provided, that CorsFilter is used. Else if corsConfigurationSource is\r\n&gt; defined, then that CorsConfiguration is used. Otherwise, if Spring MVC\r\n&gt; is on the classpath a HandlerMappingIntrospector is used.\r\n\r\nNote, if you are sending credentials with the request (cookies) you need to add it to your CORS settings\r\n\r\n    @CrossOrigin(allowCredentials = &quot;true&quot;)\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/CrossOrigin.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/CorsConfiguration.html\r\n  [3]: https://docs.spring.io/spring-security/site/docs/5.3.3.RELEASE/reference/html5/#cors\r\n  [4]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#cors--\r\n","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>In the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/CrossOrigin.html\" rel=\"nofollow noreferrer\">JavaDocs</a> of the <code>@CrossOrigin</code> there is mentioning</p>\n<blockquote>\n<p>Both Spring Web MVC and Spring WebFlux support this annotation through\nthe RequestMappingHandlerMapping in their respective modules. The\nvalues from each type and method level pair of annotations are added\nto a CorsConfiguration</p>\n</blockquote>\n<p>Which means your CORS settings will be added to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/CorsConfiguration.html\" rel=\"nofollow noreferrer\">CorsConfiguration</a></p>\n<p>If you are using Spring Security you need to <a href=\"https://docs.spring.io/spring-security/site/docs/5.3.3.RELEASE/reference/html5/#cors\" rel=\"nofollow noreferrer\">enable CORS</a> so that your CorsConfiguration will be used. See below a small example</p>\n<pre><code>   protected void configure(HttpSecurity http) throws Exception {\n        http\n            .cors()\n            ...\n    }\n</code></pre>\n<p>From the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#cors--\" rel=\"nofollow noreferrer\">JavaDocs</a></p>\n<blockquote>\n<p>Adds a CorsFilter to be used. If a bean by the name of corsFilter is\nprovided, that CorsFilter is used. Else if corsConfigurationSource is\ndefined, then that CorsConfiguration is used. Otherwise, if Spring MVC\nis on the classpath a HandlerMappingIntrospector is used.</p>\n</blockquote>\n<p>Note, if you are sending credentials with the request (cookies) you need to add it to your CORS settings</p>\n<pre><code>@CrossOrigin(allowCredentials = &quot;true&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5187513,"reputation":1584,"user_id":4151472,"accept_rate":71,"display_name":"RichArt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593991403,"creation_date":1593991403,"answer_id":62747353,"question_id":62723224,"body_markdown":"The solution was to use following configuration for the WebTestClient:\r\n\r\n```\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWebTestClient\r\n\r\nclass MyTestClass {\r\n\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\n    @Test\r\n    void corsTest() {\r\n        ResponseSpec response = webTestClient.get()\r\n                .uri(&quot;/cors-enabled-endpoint&quot;)\r\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\r\n                .exchange();\r\n\r\n        response.expectHeader()\r\n                .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    }\r\n\r\n}\r\n```\r\nAnd I also needed to add the `spring-boot-starter-web` dependency, which is very strange because I am using only Webflux. But without it the test still fails with `IllegalArgumentException: Actual request scheme must not be null`.\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nNow, the test is green!","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>The solution was to use following configuration for the WebTestClient:</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\n\nclass MyTestClass {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @Test\n    void corsTest() {\n        ResponseSpec response = webTestClient.get()\n                .uri(&quot;/cors-enabled-endpoint&quot;)\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\n                .exchange();\n\n        response.expectHeader()\n                .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }\n\n}\n</code></pre>\n<p>And I also needed to add the <code>spring-boot-starter-web</code> dependency, which is very strange because I am using only Webflux. But without it the test still fails with <code>IllegalArgumentException: Actual request scheme must not be null</code>.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now, the test is green!</p>\n"},{"tags":[],"owner":{"account_id":4823606,"reputation":417,"user_id":3893627,"display_name":"Carlos Andres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607555684,"creation_date":1607555684,"answer_id":65226314,"question_id":62723224,"body_markdown":"For me what actually worked without adding the spring-starter-web dependency was to use a web filter and force return if the http method is **OPTIONS**.\r\n\r\n    @Configuration\r\n    public class CorsGlobalConfiguration implements WebFilter {\r\n\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\r\n                             WebFilterChain webFilterChain) {\r\n        ServerHttpRequest request = serverWebExchange.getRequest();\r\n        ServerHttpResponse response = serverWebExchange.getResponse();\r\n        HttpHeaders headers = response.getHeaders();\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, &quot;true&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;*&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, &quot;*&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_MAX_AGE, &quot;18000L&quot;);\r\n        if (request.getMethod() == HttpMethod.OPTIONS) {\r\n            response.setStatusCode(HttpStatus.OK);\r\n            return Mono.empty();//HERE\r\n        }\r\n        return webFilterChain.filter(serverWebExchange);\r\n    }\r\n  \r\n\r\n    }\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://www.programcreek.com/java-api-examples/?code=SophiaLeo%2Fsophia_scaffolding%2Fsophia_scaffolding-master%2Fv3%2Fsophia_scaffolding%2Fsophia_gateway%2Fsrc%2Fmain%2Fjava%2Fcom%2Fscaffolding%2Fsophia%2Fgateway%2Ffilter%2FCorsFilter.java","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>For me what actually worked without adding the spring-starter-web dependency was to use a web filter and force return if the http method is <strong>OPTIONS</strong>.</p>\n<pre><code>@Configuration\npublic class CorsGlobalConfiguration implements WebFilter {\n\n\n@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\n                         WebFilterChain webFilterChain) {\n    ServerHttpRequest request = serverWebExchange.getRequest();\n    ServerHttpResponse response = serverWebExchange.getResponse();\n    HttpHeaders headers = response.getHeaders();\n    headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, &quot;true&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;*&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, &quot;*&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_MAX_AGE, &quot;18000L&quot;);\n    if (request.getMethod() == HttpMethod.OPTIONS) {\n        response.setStatusCode(HttpStatus.OK);\n        return Mono.empty();//HERE\n    }\n    return webFilterChain.filter(serverWebExchange);\n}\n\n\n}\n</code></pre>\n<p><a href=\"https://www.programcreek.com/java-api-examples/?code=SophiaLeo%2Fsophia_scaffolding%2Fsophia_scaffolding-master%2Fv3%2Fsophia_scaffolding%2Fsophia_gateway%2Fsrc%2Fmain%2Fjava%2Fcom%2Fscaffolding%2Fsophia%2Fgateway%2Ffilter%2FCorsFilter.java\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":179459,"reputation":710,"user_id":412151,"accept_rate":88,"display_name":"thinice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623261969,"creation_date":1623261969,"answer_id":67909564,"question_id":62723224,"body_markdown":"@RichArt&#39;s solution is 99% close - but you don&#39;t need the dependency (spring-boot-starter-web); since it&#39;s checking CORS, it appears Spring needs help knowing what scheme and host you&#39;re hitting it from in the test; it can&#39;t derive the &#39;scheme&#39; (http) or the host with the shorter URI. \r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureWebTestClient\r\n    class MyTestClass {\r\n    \r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n    \r\n        @LocalServerPort\r\n        private Int lsp;\r\n\r\n        @Test\r\n        void corsTest() {\r\n            ResponseSpec response = webTestClient.get()\r\n                    .uri(&quot;http://localhost&quot; + lsp.toString() + &quot;/cors-enabled-endpoint&quot;)\r\n                    .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\r\n                    .exchange();\r\n    \r\n            response.expectHeader()\r\n                    .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        }\r\n    \r\n    }","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>@RichArt's solution is 99% close - but you don't need the dependency (spring-boot-starter-web); since it's checking CORS, it appears Spring needs help knowing what scheme and host you're hitting it from in the test; it can't derive the 'scheme' (http) or the host with the shorter URI.</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\nclass MyTestClass {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @LocalServerPort\n    private Int lsp;\n\n    @Test\n    void corsTest() {\n        ResponseSpec response = webTestClient.get()\n                .uri(&quot;http://localhost&quot; + lsp.toString() + &quot;/cors-enabled-endpoint&quot;)\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\n                .exchange();\n\n        response.expectHeader()\n                .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16316237,"reputation":41,"user_id":11783278,"display_name":"Dichoda"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643119422,"creation_date":1643115556,"answer_id":70849042,"question_id":62723224,"body_markdown":"Thinice&#39;s solution is 99.9% there.  The Spring WebTestClient CORS testing requires that the URI contain *any* hostname and port.  The *actual* hostname and port is ignored by WebTestClient to connect to the test web server:\r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureWebTestClient\r\n    class MyTestClass {\r\n    \r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n        \r\n        @Test\r\n        void corsTest() {\r\n            webTestClient.get()\r\n                    .uri(&quot;http://hostname-ignored:666/cors-enabled-endpoint&quot;)\r\n                    .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\r\n                    .exchange()   \r\n                    .expectHeader()\r\n                      .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        }    \r\n    }\r\n\r\nFurthermore, one can omit the explicit port and it will continue to work:\r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureWebTestClient\r\n    class MyTestClass {\r\n    \r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n        \r\n        @Test\r\n        void corsTest() {\r\n            webTestClient.get()\r\n                    .uri(&quot;http://look-ma-no-port/cors-enabled-endpoint&quot;)\r\n                    .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\r\n                    .exchange()   \r\n                    .expectHeader()\r\n                      .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        }\r\n    }\r\n\r\n\r\nTo enable CORS for all endpoints, one can use the given WebFluxConfigurer:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class MyWebFluxConfigurer {\r\n    \r\n      @Bean\r\n      public WebFluxConfigurer corsConfigurer() {\r\n        return new WebFluxConfigurerComposite() {\r\n    \r\n          @Override\r\n          public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;);\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n - Including the Origin header is important.  Without the Origin header the Access-Control-Allow-Origin header will not be set and the test will fail.\r\n\r\n - Setting Origin as the same hostname as the URI will be considered the same origin, so no cross origin headers are set.\r\n\r\n - RichArt&#39;s suggestion to include the spring-boot-starter-web dependency is not specifically required to enable CORS testing.\r\n\r\n - This answer only applies to testing.  It assumes you have enabled CORS in your server.\r\n\r\n - My answer is using Spring WebFlux 5.3.10.","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>Thinice's solution is 99.9% there.  The Spring WebTestClient CORS testing requires that the URI contain <em>any</em> hostname and port.  The <em>actual</em> hostname and port is ignored by WebTestClient to connect to the test web server:</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\nclass MyTestClass {\n\n    @Autowired\n    private WebTestClient webTestClient;\n    \n    @Test\n    void corsTest() {\n        webTestClient.get()\n                .uri(&quot;http://hostname-ignored:666/cors-enabled-endpoint&quot;)\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\n                .exchange()   \n                .expectHeader()\n                  .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }    \n}\n</code></pre>\n<p>Furthermore, one can omit the explicit port and it will continue to work:</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\nclass MyTestClass {\n\n    @Autowired\n    private WebTestClient webTestClient;\n    \n    @Test\n    void corsTest() {\n        webTestClient.get()\n                .uri(&quot;http://look-ma-no-port/cors-enabled-endpoint&quot;)\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\n                .exchange()   \n                .expectHeader()\n                  .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }\n}\n</code></pre>\n<p>To enable CORS for all endpoints, one can use the given WebFluxConfigurer:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class MyWebFluxConfigurer {\n\n  @Bean\n  public WebFluxConfigurer corsConfigurer() {\n    return new WebFluxConfigurerComposite() {\n\n      @Override\n      public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;);\n      }\n    };\n  }\n}\n</code></pre>\n<ul>\n<li><p>Including the Origin header is important.  Without the Origin header the Access-Control-Allow-Origin header will not be set and the test will fail.</p>\n</li>\n<li><p>Setting Origin as the same hostname as the URI will be considered the same origin, so no cross origin headers are set.</p>\n</li>\n<li><p>RichArt's suggestion to include the spring-boot-starter-web dependency is not specifically required to enable CORS testing.</p>\n</li>\n<li><p>This answer only applies to testing.  It assumes you have enabled CORS in your server.</p>\n</li>\n<li><p>My answer is using Spring WebFlux 5.3.10.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5187513,"reputation":1584,"user_id":4151472,"accept_rate":71,"display_name":"RichArt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62747353,"answer_count":5,"score":2,"last_activity_date":1679648991,"creation_date":1593814172,"question_id":62723224,"body_markdown":"I have Vuejs frontend and a Spring Boot Webflux controller. Now the browser is complaining with CORS when doing a call to Spring Boot.\r\n\r\n`\r\nAccess to XMLHttpRequest at &#39;https://...&#39; from origin &#39;https://...&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n`\r\n\r\nTo enable CORS I tried to use the @CrossOrigin annotation as described here: https://www.baeldung.com/spring-webflux-cors\r\n\r\nBut it didn&#39;t help and somehow Spring does not send the CORS headers back in the response even with the @CrossOrigin annotation in the controller.\r\n\r\nI also tried with the WebTestClient as described in the Bealdung tutorial and it confirms the header is not there:\r\n```\r\njava.lang.AssertionError: Response header &#39;Access-Control-Allow-Origin&#39; expected:&lt;[*]&gt; but was:&lt;null&gt;\r\n\r\n&gt; OPTIONS /cors-enabled-endpoint\r\n&gt; WebTestClient-Request-Id: [1]\r\n&gt; Origin: [http://any-origin.com]\r\n&gt; Access-Control-Request-Method: [GET]\r\n\r\nNo content\r\n\r\n&lt; 500 INTERNAL_SERVER_ERROR Internal Server Error\r\n&lt; Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]\r\n\r\n0 bytes of content (unknown content-type).\r\n\r\n```\r\n\r\nIf I test with `response.expectHeader().exists(&quot;Access-Control-Allow-Origin&quot;);`\r\nI get:\r\n```\r\njava.lang.AssertionError: Response header &#39;Access-Control-Allow-Origin&#39; does not exist\r\n```\r\n\r\n\r\nAny Idea why CORS configuration as described in the link above does not work? I also tried Enabling CORS on the Global Configuration and Enabling CORS with a WebFilter. But nothing seems to work. ","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>I have Vuejs frontend and a Spring Boot Webflux controller. Now the browser is complaining with CORS when doing a call to Spring Boot.</p>\n<p><code>Access to XMLHttpRequest at 'https://...' from origin 'https://...' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>\n<p>To enable CORS I tried to use the @CrossOrigin annotation as described here: <a href=\"https://www.baeldung.com/spring-webflux-cors\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webflux-cors</a></p>\n<p>But it didn't help and somehow Spring does not send the CORS headers back in the response even with the @CrossOrigin annotation in the controller.</p>\n<p>I also tried with the WebTestClient as described in the Bealdung tutorial and it confirms the header is not there:</p>\n<pre><code>java.lang.AssertionError: Response header 'Access-Control-Allow-Origin' expected:&lt;[*]&gt; but was:&lt;null&gt;\n\n&gt; OPTIONS /cors-enabled-endpoint\n&gt; WebTestClient-Request-Id: [1]\n&gt; Origin: [http://any-origin.com]\n&gt; Access-Control-Request-Method: [GET]\n\nNo content\n\n&lt; 500 INTERNAL_SERVER_ERROR Internal Server Error\n&lt; Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]\n\n0 bytes of content (unknown content-type).\n\n</code></pre>\n<p>If I test with <code>response.expectHeader().exists(&quot;Access-Control-Allow-Origin&quot;);</code>\nI get:</p>\n<pre><code>java.lang.AssertionError: Response header 'Access-Control-Allow-Origin' does not exist\n</code></pre>\n<p>Any Idea why CORS configuration as described in the link above does not work? I also tried Enabling CORS on the Global Configuration and Enabling CORS with a WebFilter. But nothing seems to work.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1483457898,"creation_date":1483457898,"answer_id":41447045,"question_id":41447044,"body_markdown":"Here is a solution i came by with the aid of alot research over the net and this blog link as well [Kartikey Kuswhaha][1] so its not all my credit but i just want to give more clarity to it.\r\n below is the code:\r\ncreate the following files:**PojoOfJsonArray**,**MainActivity**, **ListItem** ,**GeneralItem** ,**DateItem** , **Adapter** \r\n\r\n\r\n\r\n  [1]: https://krtkush.github.io/2016/07/08/android-recyclerview-grouping-data.html\r\n**PojoOfJsonArray**.java -this file wil represent your POJO class or whatever pojo you got going on in your app so:\r\n\r\n   \r\n\r\n     public class PojoOfJsonArray  {\r\n    \r\n        public PojoOfJsonArray(String name, String date) {\r\n            this.name = name;\r\n            this.date = date;\r\n        }\r\n    \r\n        private String name,date;\r\n    \r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    }\r\n\r\n **MainActivity**.java this is  the activity that you will use to implement you recyclerview :\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private List&lt;PojoOfJsonArray&gt; myOptions = new ArrayList&lt;&gt;();\r\n        List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\r\n    \r\n        private RecyclerView mRecyclerView;\r\n        private Adapter adapter;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mRecyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n            mRecyclerView.setHasFixedSize(true);\r\n    \r\n            myOptions.add(new PojoOfJsonArray(&quot;name 1&quot;, &quot;2016-06-21&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n    \r\n            HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupedHashMap = groupDataIntoHashMap(myOptions);\r\n    \r\n    \r\n            for (String date : groupedHashMap.keySet()) {\r\n                DateItem dateItem = new DateItem();\r\n                dateItem.setDate(date);\r\n                consolidatedList.add(dateItem);\r\n    \r\n    \r\n                for (PojoOfJsonArray pojoOfJsonArray : groupedHashMap.get(date)) {\r\n                    GeneralItem generalItem = new GeneralItem();\r\n                    generalItem.setPojoOfJsonArray(pojoOfJsonArray);//setBookingDataTabs(bookingDataTabs);\r\n                    consolidatedList.add(generalItem);\r\n                }\r\n            }\r\n    \r\n    \r\n            adapter = new Adapter(this, consolidatedList);\r\n            LinearLayoutManager layoutManager = new LinearLayoutManager(this);\r\n            layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\r\n            mRecyclerView.setLayoutManager(layoutManager);\r\n            mRecyclerView.setAdapter(adapter);\r\n    \r\n    \r\n        }\r\n    \r\n        private HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupDataIntoHashMap(List&lt;PojoOfJsonArray&gt; listOfPojosOfJsonArray) {\r\n    \r\n            HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupedHashMap = new HashMap&lt;&gt;();\r\n    \r\n            for (PojoOfJsonArray pojoOfJsonArray : listOfPojosOfJsonArray) {\r\n    \r\n                String hashMapKey = pojoOfJsonArray.getDate();\r\n    \r\n                if (groupedHashMap.containsKey(hashMapKey)) {\r\n                    // The key is already in the HashMap; add the pojo object\r\n                    // against the existing key.\r\n                    groupedHashMap.get(hashMapKey).add(pojoOfJsonArray);\r\n                } else {\r\n                    // The key is not there in the HashMap; create a new key-value pair\r\n                    List&lt;PojoOfJsonArray&gt; list = new ArrayList&lt;&gt;();\r\n                    list.add(pojoOfJsonArray);\r\n                    groupedHashMap.put(hashMapKey, list);\r\n                }\r\n            }\r\n    \r\n    \r\n            return groupedHashMap;\r\n        }\r\n    \r\n    }\r\n the myOptions is where one would use to feed your data into.\r\n**ListItem**.java \r\n\r\n    public abstract class ListItem {\r\n    \r\n        public static final int TYPE_DATE = 0;\r\n        public static final int TYPE_GENERAL = 1;\r\n    \r\n        abstract public int getType();\r\n    }\r\n**GeneralItem**.java \r\n\r\n    public class GeneralItem extends ListItem {\r\n        private PojoOfJsonArray pojoOfJsonArray;\r\n    \r\n        public PojoOfJsonArray getPojoOfJsonArray() {\r\n            return pojoOfJsonArray;\r\n        }\r\n    \r\n        public void setPojoOfJsonArray(PojoOfJsonArray pojoOfJsonArray) {\r\n            this.pojoOfJsonArray = pojoOfJsonArray;\r\n        }\r\n    \r\n        @Override\r\n        public int getType() {\r\n            return TYPE_GENERAL;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n**DateItem**.java \r\n\r\n    public class DateItem extends ListItem {\r\n    \r\n        private String date;\r\n    \r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        @Override\r\n        public int getType() {\r\n            return TYPE_DATE;\r\n        }\r\n    }\r\n\r\n**Adapter**.java this adapter is for the recyclerview if your not well informed on how to make simple sectioned recyclerview then i suggest you read on those and be good in the area because this is abit more tricky anyways:\r\n\r\n    public class Adapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n    \r\n       \r\n        private Context mContext;\r\n        List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\r\n    \r\n        public Adapter(Context context, List&lt;ListItem&gt; consolidatedList) {\r\n            this.consolidatedList = consolidatedList;\r\n            this.mContext = context;\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent,  int viewType) {\r\n    \r\n            RecyclerView.ViewHolder viewHolder = null;\r\n            LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n    \r\n            switch (viewType) {\r\n    \r\n                case ListItem.TYPE_GENERAL:\r\n                    View v1 = inflater.inflate(R.layout.items, parent,\r\n                            false);\r\n                    viewHolder = new GeneralViewHolder(v1);\r\n                    break;\r\n    \r\n                case ListItem.TYPE_DATE:\r\n                    View v2 = inflater.inflate(R.layout.itemsh, parent, false);\r\n                    viewHolder = new DateViewHolder(v2);\r\n                    break;\r\n            }\r\n    \r\n            return viewHolder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\r\n    \r\n            switch (viewHolder.getItemViewType()) {\r\n    \r\n                case ListItem.TYPE_GENERAL:\r\n    \r\n                    GeneralItem generalItem   = (GeneralItem) consolidatedList.get(position);\r\n                    GeneralViewHolder generalViewHolder= (GeneralViewHolder) viewHolder;\r\n                    generalViewHolder.txtTitle.setText(generalItem.getPojoOfJsonArray().getName());\r\n    \r\n                    break;\r\n    \r\n                case ListItem.TYPE_DATE:\r\n                    DateItem dateItem = (DateItem) consolidatedList.get(position);\r\n                    DateViewHolder dateViewHolder = (DateViewHolder) viewHolder;\r\n    \r\n                    dateViewHolder.txtTitle.setText(dateItem.getDate());\r\n                    // Populate date item data here\r\n    \r\n                    break;\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        // ViewHolder for date row item\r\n        class DateViewHolder extends RecyclerView.ViewHolder {\r\n            protected TextView txtTitle;\r\n    \r\n            public DateViewHolder(View v) {\r\n                super(v);\r\n                this.txtTitle = (TextView) v.findViewById(R.id.txt);\r\n    \r\n            }\r\n        }\r\n    \r\n        // View holder for general row item\r\n        class GeneralViewHolder extends RecyclerView.ViewHolder {\r\n            protected TextView txtTitle;\r\n    \r\n            public GeneralViewHolder(View v) {\r\n                super(v);\r\n                this.txtTitle = (TextView) v.findViewById(R.id.txt);\r\n    \r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            return consolidatedList.get(position).getType();\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return consolidatedList != null ? consolidatedList.size() : 0;\r\n        }\r\n    \r\n    }\r\nand this has two layout being used . thus all \r\n\r\n","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>Here is a solution i came by with the aid of alot research over the net and this blog link as well <a href=\"https://krtkush.github.io/2016/07/08/android-recyclerview-grouping-data.html\" rel=\"noreferrer\">Kartikey Kuswhaha</a> so its not all my credit but i just want to give more clarity to it.\n below is the code:\ncreate the following files:<strong>PojoOfJsonArray</strong>,<strong>MainActivity</strong>, <strong>ListItem</strong> ,<strong>GeneralItem</strong> ,<strong>DateItem</strong> , <strong>Adapter</strong> </p>\n\n<p><strong>PojoOfJsonArray</strong>.java -this file wil represent your POJO class or whatever pojo you got going on in your app so:</p>\n\n<pre><code> public class PojoOfJsonArray  {\n\n    public PojoOfJsonArray(String name, String date) {\n        this.name = name;\n        this.date = date;\n    }\n\n    private String name,date;\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity</strong>.java this is  the activity that you will use to implement you recyclerview :</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private List&lt;PojoOfJsonArray&gt; myOptions = new ArrayList&lt;&gt;();\n    List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\n\n    private RecyclerView mRecyclerView;\n    private Adapter adapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mRecyclerView = (RecyclerView) findViewById(R.id.recyclerview);\n        mRecyclerView.setHasFixedSize(true);\n\n        myOptions.add(new PojoOfJsonArray(\"name 1\", \"2016-06-21\"));\n        myOptions.add(new PojoOfJsonArray(\"name 2\", \"2016-06-05\"));\n        myOptions.add(new PojoOfJsonArray(\"name 2\", \"2016-06-05\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n        myOptions.add(new PojoOfJsonArray(\"name 2\", \"2016-06-05\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n\n        HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupedHashMap = groupDataIntoHashMap(myOptions);\n\n\n        for (String date : groupedHashMap.keySet()) {\n            DateItem dateItem = new DateItem();\n            dateItem.setDate(date);\n            consolidatedList.add(dateItem);\n\n\n            for (PojoOfJsonArray pojoOfJsonArray : groupedHashMap.get(date)) {\n                GeneralItem generalItem = new GeneralItem();\n                generalItem.setPojoOfJsonArray(pojoOfJsonArray);//setBookingDataTabs(bookingDataTabs);\n                consolidatedList.add(generalItem);\n            }\n        }\n\n\n        adapter = new Adapter(this, consolidatedList);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n        layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n        mRecyclerView.setLayoutManager(layoutManager);\n        mRecyclerView.setAdapter(adapter);\n\n\n    }\n\n    private HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupDataIntoHashMap(List&lt;PojoOfJsonArray&gt; listOfPojosOfJsonArray) {\n\n        HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupedHashMap = new HashMap&lt;&gt;();\n\n        for (PojoOfJsonArray pojoOfJsonArray : listOfPojosOfJsonArray) {\n\n            String hashMapKey = pojoOfJsonArray.getDate();\n\n            if (groupedHashMap.containsKey(hashMapKey)) {\n                // The key is already in the HashMap; add the pojo object\n                // against the existing key.\n                groupedHashMap.get(hashMapKey).add(pojoOfJsonArray);\n            } else {\n                // The key is not there in the HashMap; create a new key-value pair\n                List&lt;PojoOfJsonArray&gt; list = new ArrayList&lt;&gt;();\n                list.add(pojoOfJsonArray);\n                groupedHashMap.put(hashMapKey, list);\n            }\n        }\n\n\n        return groupedHashMap;\n    }\n\n}\n</code></pre>\n\n<p>the myOptions is where one would use to feed your data into.\n<strong>ListItem</strong>.java </p>\n\n<pre><code>public abstract class ListItem {\n\n    public static final int TYPE_DATE = 0;\n    public static final int TYPE_GENERAL = 1;\n\n    abstract public int getType();\n}\n</code></pre>\n\n<p><strong>GeneralItem</strong>.java </p>\n\n<pre><code>public class GeneralItem extends ListItem {\n    private PojoOfJsonArray pojoOfJsonArray;\n\n    public PojoOfJsonArray getPojoOfJsonArray() {\n        return pojoOfJsonArray;\n    }\n\n    public void setPojoOfJsonArray(PojoOfJsonArray pojoOfJsonArray) {\n        this.pojoOfJsonArray = pojoOfJsonArray;\n    }\n\n    @Override\n    public int getType() {\n        return TYPE_GENERAL;\n    }\n\n\n}\n</code></pre>\n\n<p><strong>DateItem</strong>.java </p>\n\n<pre><code>public class DateItem extends ListItem {\n\n    private String date;\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    @Override\n    public int getType() {\n        return TYPE_DATE;\n    }\n}\n</code></pre>\n\n<p><strong>Adapter</strong>.java this adapter is for the recyclerview if your not well informed on how to make simple sectioned recyclerview then i suggest you read on those and be good in the area because this is abit more tricky anyways:</p>\n\n<pre><code>public class Adapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n\n    private Context mContext;\n    List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\n\n    public Adapter(Context context, List&lt;ListItem&gt; consolidatedList) {\n        this.consolidatedList = consolidatedList;\n        this.mContext = context;\n\n\n    }\n\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent,  int viewType) {\n\n        RecyclerView.ViewHolder viewHolder = null;\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n\n        switch (viewType) {\n\n            case ListItem.TYPE_GENERAL:\n                View v1 = inflater.inflate(R.layout.items, parent,\n                        false);\n                viewHolder = new GeneralViewHolder(v1);\n                break;\n\n            case ListItem.TYPE_DATE:\n                View v2 = inflater.inflate(R.layout.itemsh, parent, false);\n                viewHolder = new DateViewHolder(v2);\n                break;\n        }\n\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\n\n        switch (viewHolder.getItemViewType()) {\n\n            case ListItem.TYPE_GENERAL:\n\n                GeneralItem generalItem   = (GeneralItem) consolidatedList.get(position);\n                GeneralViewHolder generalViewHolder= (GeneralViewHolder) viewHolder;\n                generalViewHolder.txtTitle.setText(generalItem.getPojoOfJsonArray().getName());\n\n                break;\n\n            case ListItem.TYPE_DATE:\n                DateItem dateItem = (DateItem) consolidatedList.get(position);\n                DateViewHolder dateViewHolder = (DateViewHolder) viewHolder;\n\n                dateViewHolder.txtTitle.setText(dateItem.getDate());\n                // Populate date item data here\n\n                break;\n        }\n    }\n\n\n\n\n\n    // ViewHolder for date row item\n    class DateViewHolder extends RecyclerView.ViewHolder {\n        protected TextView txtTitle;\n\n        public DateViewHolder(View v) {\n            super(v);\n            this.txtTitle = (TextView) v.findViewById(R.id.txt);\n\n        }\n    }\n\n    // View holder for general row item\n    class GeneralViewHolder extends RecyclerView.ViewHolder {\n        protected TextView txtTitle;\n\n        public GeneralViewHolder(View v) {\n            super(v);\n            this.txtTitle = (TextView) v.findViewById(R.id.txt);\n\n        }\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return consolidatedList.get(position).getType();\n    }\n\n    @Override\n    public int getItemCount() {\n        return consolidatedList != null ? consolidatedList.size() : 0;\n    }\n\n}\n</code></pre>\n\n<p>and this has two layout being used . thus all </p>\n"},{"tags":[],"owner":{"account_id":1494993,"reputation":6603,"user_id":1401164,"accept_rate":67,"display_name":"Gustavo Pagani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483726167,"creation_date":1483726167,"answer_id":41511688,"question_id":41447044,"body_markdown":"You can use the library [SectionedRecyclerViewAdapter](https://github.com/luizgrp/SectionedRecyclerViewAdapter) to easily group your data into sections and add a header to each section.\r\n\r\nFirst create a Section class:\r\n\r\n    class MySection extends StatelessSection {\r\n    \r\n        String title;\r\n        List&lt;String&gt; list;\r\n    \r\n        public MySection(String title, List&lt;String&gt; list) {\r\n            // call constructor with layout resources for this Section header, footer and items \r\n            super(R.layout.section_header, R.layout.section_item);\r\n\r\n            this.title = title;\r\n            this.list = list;\r\n        }\r\n    \r\n        @Override\r\n        public int getContentItemsTotal() {\r\n            return list.size(); // number of items of this section\r\n        }\r\n    \r\n        @Override\r\n        public RecyclerView.ViewHolder getItemViewHolder(View view) {\r\n            // return a custom instance of ViewHolder for the items of this section\r\n            return new MyItemViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindItemViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n            MyItemViewHolder itemHolder = (MyItemViewHolder) holder;\r\n    \r\n            // bind your view here\r\n            itemHolder.tvItem.setText(list.get(position));\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder getFooterViewHolder(View view) {\r\n            return new MyFooterViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindFooterViewHolder(RecyclerView.ViewHolder holder) {\r\n            MyFooterViewHolder footerHolder = (MyFooterViewHolder) holder;\r\n    \r\n            // bind your footer view here\r\n            footerHolder.tvItem.setText(title);\r\n        }\r\n    }\r\n\r\nThen you set up the RecyclerView with your Sections:\r\n\r\n    // Create an instance of SectionedRecyclerViewAdapter \r\n    SectionedRecyclerViewAdapter sectionAdapter = new SectionedRecyclerViewAdapter();\r\n\r\n    // Create your sections with the list of data for each year\r\n    MySection section1 = new MySection(&quot;1 week ago&quot;, week1data);\r\n    MySection section2 = new MySection(&quot;2 weeks ago&quot;, week2data);\r\n\r\n    // Add your Sections to the adapter\r\n    sectionAdapter.addSection(section1);\r\n    sectionAdapter.addSection(section2);\r\n    \r\n    // Set up your RecyclerView with the SectionedRecyclerViewAdapter\r\n    RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n    recyclerView.setAdapter(sectionAdapter);","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>You can use the library <a href=\"https://github.com/luizgrp/SectionedRecyclerViewAdapter\" rel=\"nofollow noreferrer\">SectionedRecyclerViewAdapter</a> to easily group your data into sections and add a header to each section.</p>\n\n<p>First create a Section class:</p>\n\n<pre><code>class MySection extends StatelessSection {\n\n    String title;\n    List&lt;String&gt; list;\n\n    public MySection(String title, List&lt;String&gt; list) {\n        // call constructor with layout resources for this Section header, footer and items \n        super(R.layout.section_header, R.layout.section_item);\n\n        this.title = title;\n        this.list = list;\n    }\n\n    @Override\n    public int getContentItemsTotal() {\n        return list.size(); // number of items of this section\n    }\n\n    @Override\n    public RecyclerView.ViewHolder getItemViewHolder(View view) {\n        // return a custom instance of ViewHolder for the items of this section\n        return new MyItemViewHolder(view);\n    }\n\n    @Override\n    public void onBindItemViewHolder(RecyclerView.ViewHolder holder, int position) {\n        MyItemViewHolder itemHolder = (MyItemViewHolder) holder;\n\n        // bind your view here\n        itemHolder.tvItem.setText(list.get(position));\n    }\n\n    @Override\n    public RecyclerView.ViewHolder getFooterViewHolder(View view) {\n        return new MyFooterViewHolder(view);\n    }\n\n    @Override\n    public void onBindFooterViewHolder(RecyclerView.ViewHolder holder) {\n        MyFooterViewHolder footerHolder = (MyFooterViewHolder) holder;\n\n        // bind your footer view here\n        footerHolder.tvItem.setText(title);\n    }\n}\n</code></pre>\n\n<p>Then you set up the RecyclerView with your Sections:</p>\n\n<pre><code>// Create an instance of SectionedRecyclerViewAdapter \nSectionedRecyclerViewAdapter sectionAdapter = new SectionedRecyclerViewAdapter();\n\n// Create your sections with the list of data for each year\nMySection section1 = new MySection(\"1 week ago\", week1data);\nMySection section2 = new MySection(\"2 weeks ago\", week2data);\n\n// Add your Sections to the adapter\nsectionAdapter.addSection(section1);\nsectionAdapter.addSection(section2);\n\n// Set up your RecyclerView with the SectionedRecyclerViewAdapter\nRecyclerView recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\nrecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\nrecyclerView.setAdapter(sectionAdapter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2146657,"reputation":4761,"user_id":1904141,"accept_rate":44,"display_name":"Akshay Chordiya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1515675176,"creation_date":1515675176,"answer_id":48207580,"question_id":41447044,"body_markdown":"I solved this problem with the help of [Section RecyclerView library][1] and using these [functions (Gist)][2] to check if date is &quot;Today&quot;, &quot;Yesterday&quot;, and so on.\r\n\r\nI&#39;m hoping to build a end-to-end library for this. Let me know if your interested then I can build and open-source it.\r\n\r\nSample screenshot below:\r\n\r\n[![Screenshot of UI showing date sections][3]][3]\r\n\r\n\r\n  [1]: https://github.com/afollestad/sectioned-recyclerview\r\n  [2]: https://gist.github.com/AkshayChordiya/b1c9788d24e62d92e3e20778288e64a8\r\n  [3]: https://i.stack.imgur.com/BgSSc.png","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>I solved this problem with the help of <a href=\"https://github.com/afollestad/sectioned-recyclerview\" rel=\"nofollow noreferrer\">Section RecyclerView library</a> and using these <a href=\"https://gist.github.com/AkshayChordiya/b1c9788d24e62d92e3e20778288e64a8\" rel=\"nofollow noreferrer\">functions (Gist)</a> to check if date is \"Today\", \"Yesterday\", and so on.</p>\n\n<p>I'm hoping to build a end-to-end library for this. Let me know if your interested then I can build and open-source it.</p>\n\n<p>Sample screenshot below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BgSSc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BgSSc.png\" alt=\"Screenshot of UI showing date sections\"></a></p>\n"},{"tags":[],"owner":{"account_id":4203244,"reputation":157,"user_id":3442842,"display_name":"Khal91"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1618787748,"creation_date":1618785925,"answer_id":67154085,"question_id":41447044,"body_markdown":"I just report here a **Kotlin** version of [kinsley kajiva][1] response.\r\n\r\n**Note**: This version makes use of [data biding][2], so remember to enable it on app build.gradle:\r\n\r\n    android {\r\n        ...\r\n        buildFeatures {\r\n            dataBinding true\r\n        }\r\n    }\r\n\r\n**PojoOfJsonArray.kt**\r\n\r\n    data class PojoOfJsonArray(\r\n        val name: String,\r\n        val date: String\r\n    )\r\n\r\n**MainActivity.kt**\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        private lateinit var binding: ActivityMainBinding\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\r\n    \r\n            binding.list.setHasFixedSize(true)\r\n    \r\n            val myOptions = listOf(\r\n                PojoOfJsonArray(&quot;name 1&quot;, &quot;2016-06-21&quot;),\r\n                PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\r\n                PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\r\n                PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;)\r\n            )\r\n    \r\n            val groupedMapMap: Map&lt;String, List&lt;PojoOfJsonArray&gt;&gt; = myOptions.groupBy {\r\n                it.date\r\n            }\r\n    \r\n            val consolidatedList = mutableListOf&lt;ListItem&gt;()\r\n            for (date:String in groupedMapMap.keys){\r\n                consolidatedList.add(DateItem(date))\r\n                val groupItems: List&lt;PojoOfJsonArray&gt;? = groupedMapMap[date]\r\n                groupItems?.forEach {\r\n                    consolidatedList.add(GeneralItem(it.name))\r\n                }\r\n            }\r\n    \r\n            val adapter = Adapter(consolidatedList)\r\n            val layoutManager = LinearLayoutManager(this)\r\n            layoutManager.orientation = LinearLayoutManager.VERTICAL\r\n            binding.list.layoutManager = layoutManager\r\n            binding.list.adapter = adapter\r\n        }\r\n    }\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/list&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:listitem=&quot;@layout/general_item&quot;/&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\n**ListItem.kt**\r\n\r\n    open class ListItem(\r\n        val type: Int\r\n    ) {\r\n        companion object {\r\n            const val TYPE_DATE = 0\r\n            const val TYPE_GENERAL = 1\r\n        }\r\n    }\r\n\r\n**GeneralItem.kt**\r\n\r\n    class GeneralItem(\r\n        var name: String,\r\n    ) : ListItem(TYPE_GENERAL)\r\n\r\n**DateItem.kt**\r\n\r\n    class DateItem(\r\n        val date: String\r\n    ) : ListItem(TYPE_DATE)\r\n\r\n**Adapter.kt**\r\n\r\n    class Adapter(\r\n        private val items: List&lt;ListItem&gt;,\r\n    ) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n            val layoutInflater = LayoutInflater.from(parent.context)\r\n            return when (viewType) {\r\n                ListItem.TYPE_DATE -&gt;\r\n                    DateViewHolder(DateItemBinding.inflate(layoutInflater))\r\n                else -&gt;\r\n                    GeneralViewHolder(GeneralItemBinding.inflate(layoutInflater))\r\n            }\r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n            when (holder.itemViewType) {\r\n                ListItem.TYPE_DATE -&gt; (holder as DateViewHolder).bind(\r\n                    item = items[position] as DateItem,\r\n                )\r\n                ListItem.TYPE_GENERAL -&gt; (holder as GeneralViewHolder).bind(\r\n                    item = items[position] as GeneralItem\r\n                )\r\n            }\r\n        }\r\n    \r\n        override fun getItemViewType(position: Int): Int {\r\n            return items[position].type\r\n        }\r\n    \r\n        override fun getItemCount(): Int {\r\n            return items.size\r\n        }\r\n    \r\n        inner class DateViewHolder(val binding: DateItemBinding) : RecyclerView.ViewHolder(binding.root) {\r\n            fun bind(item: DateItem) {\r\n                binding.txtDate.text = item.date\r\n            }\r\n        }\r\n    \r\n        inner class GeneralViewHolder(val binding: GeneralItemBinding) : RecyclerView.ViewHolder(binding.root) {\r\n            fun bind(item: GeneralItem) {\r\n                binding.txtTitle.text = item.name\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**date_item.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_date&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:text=&quot;01/01/2021&quot;/&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\n**general_item.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_title&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:text=&quot;Name&quot;/&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\n[![Final result][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6334851/kinsley-kajiva\r\n  [2]: https://developer.android.com/topic/libraries/data-binding/expressions\r\n  [3]: https://i.stack.imgur.com/25yBg.png","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>I just report here a <strong>Kotlin</strong> version of <a href=\"https://stackoverflow.com/users/6334851/kinsley-kajiva\">kinsley kajiva</a> response.</p>\n<p><strong>Note</strong>: This version makes use of <a href=\"https://developer.android.com/topic/libraries/data-binding/expressions\" rel=\"noreferrer\">data biding</a>, so remember to enable it on app build.gradle:</p>\n<pre><code>android {\n    ...\n    buildFeatures {\n        dataBinding true\n    }\n}\n</code></pre>\n<p><strong>PojoOfJsonArray.kt</strong></p>\n<pre><code>data class PojoOfJsonArray(\n    val name: String,\n    val date: String\n)\n</code></pre>\n<p><strong>MainActivity.kt</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityMainBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n\n        binding.list.setHasFixedSize(true)\n\n        val myOptions = listOf(\n            PojoOfJsonArray(&quot;name 1&quot;, &quot;2016-06-21&quot;),\n            PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\n            PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\n            PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;)\n        )\n\n        val groupedMapMap: Map&lt;String, List&lt;PojoOfJsonArray&gt;&gt; = myOptions.groupBy {\n            it.date\n        }\n\n        val consolidatedList = mutableListOf&lt;ListItem&gt;()\n        for (date:String in groupedMapMap.keys){\n            consolidatedList.add(DateItem(date))\n            val groupItems: List&lt;PojoOfJsonArray&gt;? = groupedMapMap[date]\n            groupItems?.forEach {\n                consolidatedList.add(GeneralItem(it.name))\n            }\n        }\n\n        val adapter = Adapter(consolidatedList)\n        val layoutManager = LinearLayoutManager(this)\n        layoutManager.orientation = LinearLayoutManager.VERTICAL\n        binding.list.layoutManager = layoutManager\n        binding.list.adapter = adapter\n    }\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;.MainActivity&quot;&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/list&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:listitem=&quot;@layout/general_item&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p><strong>ListItem.kt</strong></p>\n<pre><code>open class ListItem(\n    val type: Int\n) {\n    companion object {\n        const val TYPE_DATE = 0\n        const val TYPE_GENERAL = 1\n    }\n}\n</code></pre>\n<p><strong>GeneralItem.kt</strong></p>\n<pre><code>class GeneralItem(\n    var name: String,\n) : ListItem(TYPE_GENERAL)\n</code></pre>\n<p><strong>DateItem.kt</strong></p>\n<pre><code>class DateItem(\n    val date: String\n) : ListItem(TYPE_DATE)\n</code></pre>\n<p><strong>Adapter.kt</strong></p>\n<pre><code>class Adapter(\n    private val items: List&lt;ListItem&gt;,\n) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        return when (viewType) {\n            ListItem.TYPE_DATE -&gt;\n                DateViewHolder(DateItemBinding.inflate(layoutInflater))\n            else -&gt;\n                GeneralViewHolder(GeneralItemBinding.inflate(layoutInflater))\n        }\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        when (holder.itemViewType) {\n            ListItem.TYPE_DATE -&gt; (holder as DateViewHolder).bind(\n                item = items[position] as DateItem,\n            )\n            ListItem.TYPE_GENERAL -&gt; (holder as GeneralViewHolder).bind(\n                item = items[position] as GeneralItem\n            )\n        }\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return items[position].type\n    }\n\n    override fun getItemCount(): Int {\n        return items.size\n    }\n\n    inner class DateViewHolder(val binding: DateItemBinding) : RecyclerView.ViewHolder(binding.root) {\n        fun bind(item: DateItem) {\n            binding.txtDate.text = item.date\n        }\n    }\n\n    inner class GeneralViewHolder(val binding: GeneralItemBinding) : RecyclerView.ViewHolder(binding.root) {\n        fun bind(item: GeneralItem) {\n            binding.txtTitle.text = item.name\n        }\n    }\n\n}\n</code></pre>\n<p><strong>date_item.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_date&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:text=&quot;01/01/2021&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p><strong>general_item.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_title&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;8dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:text=&quot;Name&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/25yBg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/25yBg.png\" alt=\"Final result\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21336706,"reputation":72,"user_id":15707830,"display_name":"Prem Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667242544,"creation_date":1667219205,"answer_id":74263269,"question_id":41447044,"body_markdown":"I want to just optimize the following things in [kinsley kajiva][1]&#39;s answer:-\r\n\r\n 1. [Kartikey Kuswhaha][2] used two main loops and some nested loops to consolidate the list while this can be done by going through only one loop and without grouping data into a `HashMap`.The following method uses ability of `Set` to store only unique objects inside it.\r\n\r\n .\r\n\r\n        /** this method takes a List of PojoOfJsonArray and consolidate the list in this format\r\n     *  item&#39;s Date\r\n    item\r\n    item\r\n    item\r\n    item\r\n    item&#39;s Date\r\n    item\r\n    item\r\n    item\r\n     * @param list PojoOfJsonArray to be consolidated\r\n     * @return consolidate list\r\n     */\r\n   \r\n    private static List&lt;ListItem&gt; consolidateList(List&lt;PojoOfJsonArray&gt; list){\r\n    \tSet&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n        List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\r\n\r\n    \tfor(PojoOfJsonArray item: list) {\r\n    \t\t\r\n    \t\tif(set.add(item.getDate())) {\r\n    \t\t\t//add DateItem to the consolidatedList only when \r\n    \t\t\t//the item&#39;s date can be inserted in the set\r\n    \t\t\t//(as Set only allows unique object inside it)\r\n    \t\t\t//this implies that the item&#39;s date is not previously inserted into the list\r\n    \t\t\t\r\n    \t\t\tDateItem dateItem = new DateItem();\r\n    \t\t\tdateItem.setDate(item.getDate());\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tconsolidatedList.add(dateItem);\r\n    \t\t}\r\n    \t\t\r\n    \t\t//add general item into the consolidated list\r\n    \t\tGeneralItem generalItem = new GeneralItem();\r\n    \t\tgeneralItem.setPojoOfJsonArray(item);\r\n    \t\tconsolidatedList.add(generalItem);\r\n    \t}\r\n    \treturn consolidatedList;\r\n    }\r\n\r\n\r\n \r\n2. Moreover, he used `HashMap` to first group data which when taking key set returns key (In this case the dates) in random order. This can be resolved by using `LinkedHashMap`. However if you are using the 1st option (of this answer)\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6334851/kinsley-kajiva\r\n  [2]: https://krtkush.github.io/2016/07/08/android-recyclerview-grouping-data.html","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>I want to just optimize the following things in <a href=\"https://stackoverflow.com/users/6334851/kinsley-kajiva\">kinsley kajiva</a>'s answer:-</p>\n<ol>\n<li><a href=\"https://krtkush.github.io/2016/07/08/android-recyclerview-grouping-data.html\" rel=\"nofollow noreferrer\">Kartikey Kuswhaha</a> used two main loops and some nested loops to consolidate the list while this can be done by going through only one loop and without grouping data into a <code>HashMap</code>.The following method uses ability of <code>Set</code> to store only unique objects inside it.</li>\n</ol>\n<p>.</p>\n<pre><code>    /** this method takes a List of PojoOfJsonArray and consolidate the list in this format\n *  item's Date\nitem\nitem\nitem\nitem\nitem's Date\nitem\nitem\nitem\n * @param list PojoOfJsonArray to be consolidated\n * @return consolidate list\n */\n\nprivate static List&lt;ListItem&gt; consolidateList(List&lt;PojoOfJsonArray&gt; list){\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;();\n    List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\n\n    for(PojoOfJsonArray item: list) {\n        \n        if(set.add(item.getDate())) {\n            //add DateItem to the consolidatedList only when \n            //the item's date can be inserted in the set\n            //(as Set only allows unique object inside it)\n            //this implies that the item's date is not previously inserted into the list\n            \n            DateItem dateItem = new DateItem();\n            dateItem.setDate(item.getDate());\n            \n            \n            consolidatedList.add(dateItem);\n        }\n        \n        //add general item into the consolidated list\n        GeneralItem generalItem = new GeneralItem();\n        generalItem.setPojoOfJsonArray(item);\n        consolidatedList.add(generalItem);\n    }\n    return consolidatedList;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Moreover, he used <code>HashMap</code> to first group data which when taking key set returns key (In this case the dates) in random order. This can be resolved by using <code>LinkedHashMap</code>. However if you are using the 1st option (of this answer)</li>\n</ol>\n"}],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24830,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":41447045,"answer_count":5,"score":23,"last_activity_date":1679648731,"creation_date":1483457898,"question_id":41447044,"body_markdown":"i want to group my android `RecyclerView` items with a header made based on date like this: \r\n\r\n        1 week ago\r\n        - item\r\n        - item\r\n        - item\r\n        - item\r\n        2 weeks ago\r\n        - item\r\n        - item\r\n        - item\r\n that sort of thing or grouping based on some element.","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>i want to group my android <code>RecyclerView</code> items with a header made based on date like this: </p>\n\n<pre><code>    1 week ago\n    - item\n    - item\n    - item\n    - item\n    2 weeks ago\n    - item\n    - item\n    - item\n</code></pre>\n\n<p>that sort of thing or grouping based on some element.</p>\n"},{"tags":["java","spring-boot","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679648701,"creation_date":1679648701,"answer_id":75831731,"question_id":75831454,"body_markdown":"It is either `application/gpx+xml` or `application/octet-stream` that are correct for GPX files","title":"What format of Content type should i use when upload GPX file to s3 storage","body":"<p>It is either <code>application/gpx+xml</code> or <code>application/octet-stream</code> that are correct for GPX files</p>\n"}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679648701,"creation_date":1679646715,"question_id":75831454,"body_markdown":"i have InputStream of .gpx file, i try to save this file on s3, what Media type should i use?\r\nIs exsists &quot;text/gpx&quot; format?","title":"What format of Content type should i use when upload GPX file to s3 storage","body":"<p>i have InputStream of .gpx file, i try to save this file on s3, what Media type should i use?\nIs exsists &quot;text/gpx&quot; format?</p>\n"},{"tags":["java","postgresql","java-ee-7","ejb-3.2"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679589725,"post_id":75821160,"comment_id":133752498,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26345307,"reputation":1,"user_id":20003795,"display_name":"Павел Пимуков"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679648640,"creation_date":1679648640,"answer_id":75831724,"question_id":75821160,"body_markdown":"Resolved  \r\ntable is not self-clearable\r\nyou should delete rows for deleted timers if you dont want to see exeptions about not founding bean for timer execution","title":"Is it important to delete deleted from code timers from jboss_ejb_timer. EJB3. POSTGRES","body":"<p>Resolved<br />\ntable is not self-clearable\nyou should delete rows for deleted timers if you dont want to see exeptions about not founding bean for timer execution</p>\n"}],"owner":{"account_id":26345307,"reputation":1,"user_id":20003795,"display_name":"Павел Пимуков"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679648640,"creation_date":1679563254,"question_id":75821160,"body_markdown":"I removed timer from code, but after app started, the timer is still exists in jboss_ejb_timer. It does not start, but maybe it is important to delete it from jboss_ejb_timer too.","title":"Is it important to delete deleted from code timers from jboss_ejb_timer. EJB3. POSTGRES","body":"<p>I removed timer from code, but after app started, the timer is still exists in jboss_ejb_timer. It does not start, but maybe it is important to delete it from jboss_ejb_timer too.</p>\n"},{"tags":["java","maven","jar","protocol-buffers"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1679042011,"post_id":75756784,"comment_id":133653243,"body_markdown":"Show output from `jar tvf your.jar`","body":"Show output from <code>jar tvf your.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678983928,"creation_date":1678983928,"answer_id":75758978,"question_id":75756784,"body_markdown":"I don&#39;t see a compile step to make .class from .jar. Are there any .class files in the jar or only .java?\r\n\r\nYou need something like the following run from the base of the package tree:\r\n\r\n    javac ./ \r\n\r\nBetween the protoc and jar steps","title":"Cannot import Java classes from a previously built JAR","body":"<p>I don't see a compile step to make .class from .jar. Are there any .class files in the jar or only .java?</p>\n<p>You need something like the following run from the base of the package tree:</p>\n<pre><code>javac ./ \n</code></pre>\n<p>Between the protoc and jar steps</p>\n"},{"tags":[],"owner":{"account_id":27562191,"reputation":21,"user_id":21035052,"display_name":"foshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679648207,"creation_date":1679648207,"answer_id":75831663,"question_id":75756784,"body_markdown":"Figured the problem was due to missing required dependencies in the produced JAR (i.e. &quot;protobuf-java&quot;, &quot;grpc-protobuf&quot;, &quot;grpc-stub&quot;). Issue solved by using the &quot;protoc-jar-maven-plugin&quot; which generates the Java classes from the .proto files and include the said dependencies in the JAR, making it possible to use the generated classes that are inside.","title":"Cannot import Java classes from a previously built JAR","body":"<p>Figured the problem was due to missing required dependencies in the produced JAR (i.e. &quot;protobuf-java&quot;, &quot;grpc-protobuf&quot;, &quot;grpc-stub&quot;). Issue solved by using the &quot;protoc-jar-maven-plugin&quot; which generates the Java classes from the .proto files and include the said dependencies in the JAR, making it possible to use the generated classes that are inside.</p>\n"}],"owner":{"account_id":27562191,"reputation":21,"user_id":21035052,"display_name":"foshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679648207,"creation_date":1678972530,"question_id":75756784,"body_markdown":"I am trying to implement a shell script that generates the Java classes for a given set of Protobuf files. The generated classes are then grouped into a JAR which is to be imported by any Java project  that needs to use these protobuf generated classes or gRPC stubs.\r\n\r\nThe script roughly looks like bellow:\r\n\r\n```\r\n# Generate java classes from .proto files\r\nprotoc -I ${PROTO_REPO_PATH} \r\n    --plugin=protoc-gen-grpc-java=$GEN_GRPC_JAVA_PATH \\\r\n    --grpc-java_out=$JAVA_OUT --java_out=$JAVA_OUT \\\r\n    $FILES\r\n  \r\nJAR_FILE=&quot;$JAVA_OUT/$SERVICE_NAME-$API_VERSION.jar&quot;\r\n\r\n# Create JAR from generated classes\r\njar cf &quot;$JAR_FILE&quot; -C &quot;$JAVA_OUT&quot; .\r\n  \r\n# Install JAR in local repository\r\n  mvn install:install-file -Dfile=$JAR_FILE -Dpackaging=jar -DgroupId=foo.grpc -DartifactId=$SERVICE_NAME-proto -Dversion=1.0\r\n\r\n# Clean generated java code\r\nrm -r $JAVA_OUT\r\n```\r\n\r\nAfter execution, the JAR is present in `~/.m2/repository` and, using `jar tf foo-service-1.0.jar`, I verified that all the generated classes are inside it.\r\n\r\nYet I cannot import any of those classes in a Java project on any IDE I tried (i.e. IntelliJ, VScode). The JAR appears  empty inside the IDE browser yet autocompletion works when importing the parrent packages but fails when trying to import a specific class. \r\n\r\nI tried proposed answers on this similar but different [question ](https://stackoverflow.com/questions/39703092/what-causes-jar-files-to-appear-empty-to-intellij-idea)but without any success.","title":"Cannot import Java classes from a previously built JAR","body":"<p>I am trying to implement a shell script that generates the Java classes for a given set of Protobuf files. The generated classes are then grouped into a JAR which is to be imported by any Java project  that needs to use these protobuf generated classes or gRPC stubs.</p>\n<p>The script roughly looks like bellow:</p>\n<pre><code># Generate java classes from .proto files\nprotoc -I ${PROTO_REPO_PATH} \n    --plugin=protoc-gen-grpc-java=$GEN_GRPC_JAVA_PATH \\\n    --grpc-java_out=$JAVA_OUT --java_out=$JAVA_OUT \\\n    $FILES\n  \nJAR_FILE=&quot;$JAVA_OUT/$SERVICE_NAME-$API_VERSION.jar&quot;\n\n# Create JAR from generated classes\njar cf &quot;$JAR_FILE&quot; -C &quot;$JAVA_OUT&quot; .\n  \n# Install JAR in local repository\n  mvn install:install-file -Dfile=$JAR_FILE -Dpackaging=jar -DgroupId=foo.grpc -DartifactId=$SERVICE_NAME-proto -Dversion=1.0\n\n# Clean generated java code\nrm -r $JAVA_OUT\n</code></pre>\n<p>After execution, the JAR is present in <code>~/.m2/repository</code> and, using <code>jar tf foo-service-1.0.jar</code>, I verified that all the generated classes are inside it.</p>\n<p>Yet I cannot import any of those classes in a Java project on any IDE I tried (i.e. IntelliJ, VScode). The JAR appears  empty inside the IDE browser yet autocompletion works when importing the parrent packages but fails when trying to import a specific class.</p>\n<p>I tried proposed answers on this similar but different <a href=\"https://stackoverflow.com/questions/39703092/what-causes-jar-files-to-appear-empty-to-intellij-idea\">question </a>but without any success.</p>\n"},{"tags":["java","android-studio","unit-testing"],"owner":{"account_id":23356086,"reputation":134,"user_id":17429040,"display_name":"ayeshchanaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679648096,"creation_date":1679648096,"question_id":75831652,"body_markdown":"I am  trying to unit test a simple viewmodel class with a method which is return a mutableLiveData.but when set observeForever() for my method , it retun a NullPointerException.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ListViewModelTest {\r\n        @Rule\r\n        public InstantTaskExecutorRule instantExecutorRule = new InstantTaskExecutorRule();\r\n    \r\n    \r\n        ListViewModel SUT;\r\n    \r\n        @Mock\r\n        Observer&lt;List&lt;Blog&gt;&gt; observer;\r\n    \r\n        @Mock\r\n        BlogRepository repository;\r\n    \r\n        @Mock\r\n        LifecycleOwner owner;\r\n    \r\n    \r\n        List&lt;Blog&gt; data = new ArrayList&lt;&gt;();\r\n        @Before\r\n        public void setup() throws Exception {\r\n            MockitoAnnotations.initMocks(this);\r\n            SUT = new ListViewModel(repository);\r\n    /*\r\n            Blog da= new Blog();\r\n            da.setDescription(&quot;s&quot;);\r\n            da.setImageUrl(&quot;dssd&quot;);\r\n            da.setTitle(&quot;dss&quot;);\r\n            data.add(da);\r\n            observer.onChanged(data);*/\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void testfatchingDataSuccess(){\r\n            SUT.getLiveBlogData().observeForever(observer);\r\n            when(repository.getBlogList()).thenReturn(data);\r\n            verify(observer).onChanged(data);\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() throws Exception {\r\n            SUT = null;\r\n            repository = null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nthe log &quot;\r\njava.lang.NullPointerException\r\n\tat androidx.arch.core.executor.DefaultTaskExecutor.isMainThread(DefaultTaskExecutor.java:77)\r\n\tat androidx.arch.core.executor.ArchTaskExecutor.isMainThread(ArchTaskExecutor.java:116)\r\n\tat androidx.lifecycle.LiveData.assertMainThread(LiveData.java:486)\r\n\tat androidx.lifecycle.LiveData.observeForever(LiveData.java:224)\r\n\tat com.example.mvvmfirebase.viewmodel.ListViewModelTest.testfatchingDataNull(ListViewModelTest.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\r\n\tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\r\n\tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n&quot;","title":"why android studio MVVM observeForever return null in Unit testing?","body":"<p>I am  trying to unit test a simple viewmodel class with a method which is return a mutableLiveData.but when set observeForever() for my method , it retun a NullPointerException.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ListViewModelTest {\n    @Rule\n    public InstantTaskExecutorRule instantExecutorRule = new InstantTaskExecutorRule();\n\n\n    ListViewModel SUT;\n\n    @Mock\n    Observer&lt;List&lt;Blog&gt;&gt; observer;\n\n    @Mock\n    BlogRepository repository;\n\n    @Mock\n    LifecycleOwner owner;\n\n\n    List&lt;Blog&gt; data = new ArrayList&lt;&gt;();\n    @Before\n    public void setup() throws Exception {\n        MockitoAnnotations.initMocks(this);\n        SUT = new ListViewModel(repository);\n/*\n        Blog da= new Blog();\n        da.setDescription(&quot;s&quot;);\n        da.setImageUrl(&quot;dssd&quot;);\n        da.setTitle(&quot;dss&quot;);\n        data.add(da);\n        observer.onChanged(data);*/\n\n    }\n\n    @Test\n    public void testfatchingDataSuccess(){\n        SUT.getLiveBlogData().observeForever(observer);\n        when(repository.getBlogList()).thenReturn(data);\n        verify(observer).onChanged(data);\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        SUT = null;\n        repository = null;\n    }\n\n}\n</code></pre>\n<p>the log &quot;\njava.lang.NullPointerException\nat androidx.arch.core.executor.DefaultTaskExecutor.isMainThread(DefaultTaskExecutor.java:77)\nat androidx.arch.core.executor.ArchTaskExecutor.isMainThread(ArchTaskExecutor.java:116)\nat androidx.lifecycle.LiveData.assertMainThread(LiveData.java:486)\nat androidx.lifecycle.LiveData.observeForever(LiveData.java:224)\nat com.example.mvvmfirebase.viewmodel.ListViewModelTest.testfatchingDataNull(ListViewModelTest.java:61)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\nat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\nat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\nat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\nat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\nat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\nat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\nat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\nat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\nat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n&quot;</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":121289,"reputation":4343,"user_id":314283,"accept_rate":92,"display_name":"Lisa"},"score":0,"creation_date":1637542858,"post_id":65978396,"comment_id":123846879,"body_markdown":"See the fix at https://stackoverflow.com/questions/31800639/an-internal-error-occurred-during-updating-maven-project-org-eclipse-m2e-wtp","body":"See the fix at <a href=\"https://stackoverflow.com/questions/31800639/an-internal-error-occurred-during-updating-maven-project-org-eclipse-m2e-wtp\" title=\"an internal error occurred during updating maven project org eclipse m2e wtp\">stackoverflow.com/questions/31800639/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679648021,"creation_date":1679648021,"answer_id":75831634,"question_id":65978396,"body_markdown":"Switch workspace to another, then return to your original workspace.\r\n\r\nAnother solution: restart eclipse.","title":"Eclipse Maven project facade","body":"<p>Switch workspace to another, then return to your original workspace.</p>\n<p>Another solution: restart eclipse.</p>\n"}],"owner":{"account_id":20156430,"reputation":35,"user_id":14782512,"display_name":"Martha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3820,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679648021,"creation_date":1612091298,"question_id":65978396,"body_markdown":"I had a dynamic web project which I configured to use Maven. Now I am trying to run unit testing the login servlet(with JUnit, without spring), but eclipse always gives me the same error when I try to run the test case. The error is: &#39;An internal error occurred during: &quot;Launching LoginPatientTest&quot;.\r\nCannot invoke &quot;org.eclipse.m2e.core.project.IMavenProjectFacade.getMavenProject (org.eclipse.core.runtime.IProgressMonitor)&quot; because &quot;facade&quot; is null&#39;.\r\nMy test case is : \r\n```\r\npackage control;\r\n\r\nimport static org.mockito.Mockito.*;\r\nimport java.io.IOException;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport model.ProfileManager;\r\nimport model.Bean.PatientBean;\r\n\r\npublic class LoginPatientTest {\r\n\r\n\tString fiscal_code;\r\n\tString user_password;\r\n\t\r\n\t@Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tfiscal_code = &quot;aaaaaaa&quot;;\r\n\t\tuser_password = &quot;bbbbb&quot;;\r\n\t}\r\n\r\n\t@After\r\n\tpublic void tearDown() throws Exception {\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testPresent() throws IOException, ServletException{\r\n\t\t   HttpServletRequest req = mock(HttpServletRequest.class);\r\n\t\t   HttpServletResponse res = mock(HttpServletResponse.class);\r\n\t\t   HttpSession session = mock(HttpSession.class);\r\n\t\t   when(req.getSession()).thenReturn(session);\r\n\t\t   ProfileManager pm = mock(ProfileManager.class);\r\n\t\t   when(pm.ReturnPatientByKey(fiscal_code, user_password)).thenReturn(new PatientBean());\r\n\t\t   LoginPatient servlet = new LoginPatient();\r\n\t\t   servlet.doPost(req, res);\r\n\t\t}\r\n\r\n}\r\n\r\n```","title":"Eclipse Maven project facade","body":"<p>I had a dynamic web project which I configured to use Maven. Now I am trying to run unit testing the login servlet(with JUnit, without spring), but eclipse always gives me the same error when I try to run the test case. The error is: 'An internal error occurred during: &quot;Launching LoginPatientTest&quot;.\nCannot invoke &quot;org.eclipse.m2e.core.project.IMavenProjectFacade.getMavenProject (org.eclipse.core.runtime.IProgressMonitor)&quot; because &quot;facade&quot; is null'.\nMy test case is :</p>\n<pre><code>package control;\n\nimport static org.mockito.Mockito.*;\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport model.ProfileManager;\nimport model.Bean.PatientBean;\n\npublic class LoginPatientTest {\n\n    String fiscal_code;\n    String user_password;\n    \n    @Before\n    public void setUp() throws Exception {\n        fiscal_code = &quot;aaaaaaa&quot;;\n        user_password = &quot;bbbbb&quot;;\n    }\n\n    @After\n    public void tearDown() throws Exception {\n    }\n\n    @Test\n    public void testPresent() throws IOException, ServletException{\n           HttpServletRequest req = mock(HttpServletRequest.class);\n           HttpServletResponse res = mock(HttpServletResponse.class);\n           HttpSession session = mock(HttpSession.class);\n           when(req.getSession()).thenReturn(session);\n           ProfileManager pm = mock(ProfileManager.class);\n           when(pm.ReturnPatientByKey(fiscal_code, user_password)).thenReturn(new PatientBean());\n           LoginPatient servlet = new LoginPatient();\n           servlet.doPost(req, res);\n        }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","byte","bit"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679631318,"post_id":75829927,"comment_id":133759580,"body_markdown":"Do you have to modify both `byteOne` and `byteTwo`? Why does it have to be a single operation?","body":"Do you have to modify both <code>byteOne</code> and <code>byteTwo</code>? Why does it have to be a single operation?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679632631,"post_id":75829927,"comment_id":133759715,"body_markdown":"Are you _copying_ the last three bits from the first byte to the second byte, or are you _swapping_ the last three bits between the two bytes? Or maybe even _moving_ the last three bits of byte one to byte two, leaving `000` as the last three bits of byte one regardless of what was in byte two? Does this _need_ to be a single operation? What do you consider a &quot;single operation&quot;?","body":"Are you <i>copying</i> the last three bits from the first byte to the second byte, or are you <i>swapping</i> the last three bits between the two bytes? Or maybe even <i>moving</i> the last three bits of byte one to byte two, leaving <code>000</code> as the last three bits of byte one regardless of what was in byte two? Does this <i>need</i> to be a single operation? What do you consider a &quot;single operation&quot;?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1679635385,"post_id":75829927,"comment_id":133760016,"body_markdown":"`Which means have to replace(011)from byteOne &amp; set in byteTwo&#39;s 000.` ??? No. Which means you have to replace the last three bits of Two with the last three bits of One.","body":"<code>Which means have to replace(011)from byteOne &amp; set in byteTwo&#39;s 000.</code> ??? No. Which means you have to replace the last three bits of Two with the last three bits of One."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1679635545,"post_id":75829927,"comment_id":133760037,"body_markdown":"If the last three bits of Two are always 0 then you can simply add (One &amp; 0x 00000FFF) to Two.","body":"If the last three bits of Two are always 0 then you can simply add (One &amp; 0x 00000FFF) to Two."},{"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"score":0,"creation_date":1679638351,"post_id":75829927,"comment_id":133760389,"body_markdown":"****i need to copy only 3 bits from the byteOne and move that value into byteTwo with the same position****","body":"****i need to copy only 3 bits from the byteOne and move that value into byteTwo with the same position****"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":1,"creation_date":1679645052,"post_id":75829927,"comment_id":133761446,"body_markdown":"(byteOne &amp; 0000 0111) | (byteTwo &amp; 1111 1000)","body":"(byteOne &amp; 0000 0111) | (byteTwo &amp; 1111 1000)"}],"answers":[{"tags":[],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679648004,"creation_date":1679648004,"answer_id":75831632,"question_id":75829927,"body_markdown":"I did using the following snippet\r\n\r\n       byte byteTwo = (byte) (byteTwo | (byteOne &amp; 0x07));\r\nwhich takes the value from byteOne 3-1 and set it to byteTwo&#39;s 3-1\r\n\r\n    0x07 = 0000 0111\r\n    //&amp; (AND) - helped to pick the value from byteOne with the help of 0x07\r\n    //| (OR) - Helped to set the value to byteTwo the position remains same\r\n\r\nThanks guys for the guidance.","title":"Transfer the value of few bits from one byte to another byte","body":"<p>I did using the following snippet</p>\n<pre><code>   byte byteTwo = (byte) (byteTwo | (byteOne &amp; 0x07));\n</code></pre>\n<p>which takes the value from byteOne 3-1 and set it to byteTwo's 3-1</p>\n<pre><code>0x07 = 0000 0111\n//&amp; (AND) - helped to pick the value from byteOne with the help of 0x07\n//| (OR) - Helped to set the value to byteTwo the position remains same\n</code></pre>\n<p>Thanks guys for the guidance.</p>\n"}],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679648004,"creation_date":1679630477,"question_id":75829927,"body_markdown":"lets say,\r\n\r\n    byte byteOne = 0010 1011;\r\n    byte byteTwo = 0110 0000;\r\n\r\nnow i need to move byteOne&#39;s last 3 bits to byteTwo&#39;s last three bit. Which means have to replace(011)from byteOne &amp; set in byteTwo&#39;s 000.\r\n\r\nHow to do this in single operation?. the value might be dynamic. \r\n\r\n","title":"Transfer the value of few bits from one byte to another byte","body":"<p>lets say,</p>\n<pre><code>byte byteOne = 0010 1011;\nbyte byteTwo = 0110 0000;\n</code></pre>\n<p>now i need to move byteOne's last 3 bits to byteTwo's last three bit. Which means have to replace(011)from byteOne &amp; set in byteTwo's 000.</p>\n<p>How to do this in single operation?. the value might be dynamic.</p>\n"},{"tags":["java","kryo"],"owner":{"account_id":1008298,"reputation":1777,"user_id":1021423,"accept_rate":78,"display_name":"gfytd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679647979,"creation_date":1679647979,"question_id":75831627,"body_markdown":"I check the source code of Kryo, it seems that when registering a class, it uses auto increment ID for it, if this is the case, what will happen if the writer and reader use different registeration order, \r\n```\r\n# writer\r\nkryo.register(Foo.class);\r\nkryo.register(Bar.class);\r\n```\r\n\r\n```\r\n# reader\r\nkryo.register(Bar.class);\r\nkryo.register(Foo.class);\r\n```\r\n\r\nWill the deserialization still work? If not, wouldn&#39;t this be a problem? Because there&#39;s a pretty high possibility that writer and reader are not in the same application, therefore no easy way to ensure both register classes in the same order, right? Or am I missing something here?","title":"Kryo serialization system, how does it ensure that same ID will be generated when registering the same class","body":"<p>I check the source code of Kryo, it seems that when registering a class, it uses auto increment ID for it, if this is the case, what will happen if the writer and reader use different registeration order,</p>\n<pre><code># writer\nkryo.register(Foo.class);\nkryo.register(Bar.class);\n</code></pre>\n<pre><code># reader\nkryo.register(Bar.class);\nkryo.register(Foo.class);\n</code></pre>\n<p>Will the deserialization still work? If not, wouldn't this be a problem? Because there's a pretty high possibility that writer and reader are not in the same application, therefore no easy way to ensure both register classes in the same order, right? Or am I missing something here?</p>\n"},{"tags":["java","android","development-environment"],"comments":[{"owner":{"account_id":28039661,"reputation":1,"user_id":21417432,"display_name":"Rajat Das"},"score":0,"creation_date":1687261729,"post_id":75831594,"comment_id":134909053,"body_markdown":"Any help will be appreciable.","body":"Any help will be appreciable."}],"owner":{"account_id":28039661,"reputation":1,"user_id":21417432,"display_name":"Rajat Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679647782,"creation_date":1679647782,"question_id":75831594,"body_markdown":"I want to know that how to launch an application right after the phone ends and the application will only open if the user didn&#39;t able to pick up the call and also how to get the incoming phone number in any android  phone with the help of broadcast receiver\r\n\r\nI used this technique to get the incoming phone number\r\n\r\npublic class CallStateListener extends PhoneStateListener {\r\nprivate int prev_state;\r\n\r\n    private static final String TAG = &quot;CallStateListener&quot;;\r\n    @Override\r\n    public void onCallStateChanged(int state, String phoneNumber) {\r\n        Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\r\n        Log.v(TAG, phoneNumber);\r\n    \r\n        switch (state) {\r\n            case TelephonyManager.CALL_STATE_RINGING:\r\n                Log.d(TAG, &quot;RINGING&quot;);\r\n                prev_state = state;\r\n                break;\r\n            case TelephonyManager.CALL_STATE_IDLE:\r\n                Log.d(TAG, &quot;CALL_STATE_IDLE==&gt;&quot;+phoneNumber);\r\n    \r\n                if((prev_state == TelephonyManager.CALL_STATE_OFFHOOK)){\r\n                    prev_state=state;\r\n                    //Answered Call which is ended\r\n                }\r\n                if((prev_state == TelephonyManager.CALL_STATE_RINGING)){\r\n                    prev_state=state;\r\n                    //Rejected or Missed call\r\n                }\r\n                break;\r\n            case TelephonyManager.CALL_STATE_OFFHOOK:\r\n                Log.d(TAG, &quot;CALL_STATE_OFFHOOK&quot;);\r\n                prev_state=state;\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n**and I called it in the broadcast receiver class**\r\n\r\nLog.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\r\n\r\nTelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\r\n\r\nCallStateListener callStateListener = new CallStateListener();\r\ntelephony.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);\r\n\r\nBundle bundle = intent.getExtras();\r\n\r\nString phoneNr= bundle.getString(&quot;incoming_number&quot;);\r\n\r\nLog.v(TAG, &quot;phoneNr: &quot;+phoneNr);\r\n\r\n*but it didn&#39;t work*\r\n\r\n*Please help me to solve both the issues.*\r\n\r\n*I tried many techniques to overcome this isssue but nothing work.*\r\n\r\n*I tried to open the application and getting the incoming phone number  by using these codes*\r\n\r\n# \\*Full Code \\*\r\n\r\nCallDetector.java\r\n-\r\n\r\npublic class CallDetector extends BroadcastReceiver {\r\n\r\nprivate static final String TAG = &quot;CallDetector&quot;;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.Q)\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\r\n    \r\n    TelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\r\n    \r\n    CallStateListener callStateListener = new CallStateListener();telephony.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);\r\n    \r\n    Bundle bundle = intent.getExtras();String phoneNr= bundle.getString(&quot;incoming_number&quot;);Log.v(TAG, &quot;phoneNr: &quot;+phoneNr);\r\n    \r\n    if (intent.getAction().equals(ACTION_PHONE_STATE_CHANGED)) \r\n    {\r\n    Log.e(&quot;Start&quot;,&quot;Call Started&quot;);\r\n    }else if(intent.getStringExtra(TelephonyManager.EXTRA_STATE).equals(TelephonyManager.EXTRA_STATE_IDLE)) {\r\n    Log.e(&quot;End&quot;,&quot;CallEnded&quot;);\r\n    Intent launchIntent = new Intent(Intent.ACTION_MAIN);\r\n    launchIntent.setComponent(new ComponentName(&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver&quot;,&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver.MainActivity&quot;));\r\n    \r\n    launchIntent = context.getPackageManager().getLaunchIntentForPackage(&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver&quot;);\r\n    \r\n    launchIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \r\n    try {\r\n    \r\n    Toast.makeText(context, &quot;Package available, Successfully executed&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n    context.startActivity(launchIntent);\r\n    \r\n    Toast.makeText(context, &quot;Executed?&quot;, Toast.LENGTH_SHORT).show();\r\n    }catch (ActivityNotFoundException e)\r\n    {\r\n    e.printStackTrace();\r\n    Toast.makeText(context, &quot;Package not available &quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    \r\n    PackageManager packageManager = context.getPackageManager();\r\n    \r\n    Intent homeIntent = new Intent(Intent.ACTION_VIEW);homeIntent.setType(&quot;application/vnd.android.package.archive&quot;);\r\n    \r\n    List list =       packageManager.queryIntentActivities(homeIntent,PackageManager.MATCH_DEFAULT_ONLY);\r\n    \r\n    if(list.size()&gt;0){intent.setDataAndType(Uri.parse(PACKAGE_PATH),&quot;application/vnd.android.package.archive&quot;);\r\n    \r\n    context.startActivity(intent);\r\n    }\r\n    } else if (intent.getStringExtra(TelephonyManager.EXTRA_STATE).equals(TelephonyManager.EXTRA_STATE_RINGING)) \r\n    {\r\n    Log.e(&quot;Incoming&quot;, &quot;Incoming Call&quot;);\r\n    }\r\n\r\nMainActivity.java\r\n-\r\n\r\nCallDetector receiver = new CallDetector();\r\n\r\n\r\nIntentFilter filter = new IntentFilter(TelephonyManager.ACTION_PHONE_STATE_CHANGED);\r\nregisterReceiver(receiver, filter);","title":"How to launch an installed demo application right after the phone call ends","body":"<p>I want to know that how to launch an application right after the phone ends and the application will only open if the user didn't able to pick up the call and also how to get the incoming phone number in any android  phone with the help of broadcast receiver</p>\n<p>I used this technique to get the incoming phone number</p>\n<p>public class CallStateListener extends PhoneStateListener {\nprivate int prev_state;</p>\n<pre><code>private static final String TAG = &quot;CallStateListener&quot;;\n@Override\npublic void onCallStateChanged(int state, String phoneNumber) {\n    Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\n    Log.v(TAG, phoneNumber);\n\n    switch (state) {\n        case TelephonyManager.CALL_STATE_RINGING:\n            Log.d(TAG, &quot;RINGING&quot;);\n            prev_state = state;\n            break;\n        case TelephonyManager.CALL_STATE_IDLE:\n            Log.d(TAG, &quot;CALL_STATE_IDLE==&gt;&quot;+phoneNumber);\n\n            if((prev_state == TelephonyManager.CALL_STATE_OFFHOOK)){\n                prev_state=state;\n                //Answered Call which is ended\n            }\n            if((prev_state == TelephonyManager.CALL_STATE_RINGING)){\n                prev_state=state;\n                //Rejected or Missed call\n            }\n            break;\n        case TelephonyManager.CALL_STATE_OFFHOOK:\n            Log.d(TAG, &quot;CALL_STATE_OFFHOOK&quot;);\n            prev_state=state;\n            break;\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>and I called it in the broadcast receiver class</strong></p>\n<p>Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);</p>\n<p>TelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);</p>\n<p>CallStateListener callStateListener = new CallStateListener();\ntelephony.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);</p>\n<p>Bundle bundle = intent.getExtras();</p>\n<p>String phoneNr= bundle.getString(&quot;incoming_number&quot;);</p>\n<p>Log.v(TAG, &quot;phoneNr: &quot;+phoneNr);</p>\n<p><em>but it didn't work</em></p>\n<p><em>Please help me to solve both the issues.</em></p>\n<p><em>I tried many techniques to overcome this isssue but nothing work.</em></p>\n<p><em>I tried to open the application and getting the incoming phone number  by using these codes</em></p>\n<h1>*Full Code *</h1>\n<h2>CallDetector.java</h2>\n<p>public class CallDetector extends BroadcastReceiver {</p>\n<p>private static final String TAG = &quot;CallDetector&quot;;</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.Q)\n@Override\npublic void onReceive(Context context, Intent intent) {\n    Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\n\nTelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\n\nCallStateListener callStateListener = new CallStateListener();telephony.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);\n\nBundle bundle = intent.getExtras();String phoneNr= bundle.getString(&quot;incoming_number&quot;);Log.v(TAG, &quot;phoneNr: &quot;+phoneNr);\n\nif (intent.getAction().equals(ACTION_PHONE_STATE_CHANGED)) \n{\nLog.e(&quot;Start&quot;,&quot;Call Started&quot;);\n}else if(intent.getStringExtra(TelephonyManager.EXTRA_STATE).equals(TelephonyManager.EXTRA_STATE_IDLE)) {\nLog.e(&quot;End&quot;,&quot;CallEnded&quot;);\nIntent launchIntent = new Intent(Intent.ACTION_MAIN);\nlaunchIntent.setComponent(new ComponentName(&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver&quot;,&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver.MainActivity&quot;));\n\nlaunchIntent = context.getPackageManager().getLaunchIntentForPackage(&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver&quot;);\n\nlaunchIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\ntry {\n\nToast.makeText(context, &quot;Package available, Successfully executed&quot;,Toast.LENGTH_SHORT).show();\n\ncontext.startActivity(launchIntent);\n\nToast.makeText(context, &quot;Executed?&quot;, Toast.LENGTH_SHORT).show();\n}catch (ActivityNotFoundException e)\n{\ne.printStackTrace();\nToast.makeText(context, &quot;Package not available &quot;, Toast.LENGTH_SHORT).show();\n}\n\nPackageManager packageManager = context.getPackageManager();\n\nIntent homeIntent = new Intent(Intent.ACTION_VIEW);homeIntent.setType(&quot;application/vnd.android.package.archive&quot;);\n\nList list =       packageManager.queryIntentActivities(homeIntent,PackageManager.MATCH_DEFAULT_ONLY);\n\nif(list.size()&gt;0){intent.setDataAndType(Uri.parse(PACKAGE_PATH),&quot;application/vnd.android.package.archive&quot;);\n\ncontext.startActivity(intent);\n}\n} else if (intent.getStringExtra(TelephonyManager.EXTRA_STATE).equals(TelephonyManager.EXTRA_STATE_RINGING)) \n{\nLog.e(&quot;Incoming&quot;, &quot;Incoming Call&quot;);\n}\n</code></pre>\n<h2>MainActivity.java</h2>\n<p>CallDetector receiver = new CallDetector();</p>\n<p>IntentFilter filter = new IntentFilter(TelephonyManager.ACTION_PHONE_STATE_CHANGED);\nregisterReceiver(receiver, filter);</p>\n"},{"tags":["java","android","eclipse","libgdx"],"answers":[{"tags":[],"owner":{"account_id":4697107,"reputation":413,"user_id":3801728,"display_name":"dwana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405514363,"creation_date":1405513448,"answer_id":24780720,"question_id":24780532,"body_markdown":"Move this to the constructor:\r\n\r\n    position = new Vector2(0,0);\r\n\r\nIf you have this line in your `update` you reset the `position`every time.\r\n\r\n\r\nps: you might also get in trouble with your private and global touchPosition","title":"LIBGDX Input isTouched()","body":"<p>Move this to the constructor:</p>\n\n<pre><code>position = new Vector2(0,0);\n</code></pre>\n\n<p>If you have this line in your <code>update</code> you reset the <code>position</code>every time.</p>\n\n<p>ps: you might also get in trouble with your private and global touchPosition</p>\n"}],"owner":{"account_id":4750223,"reputation":1,"user_id":3840449,"display_name":"Brandon Capes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679647180,"creation_date":1405512845,"question_id":24780532,"body_markdown":"Can anyone give me any tips why my Player isn&#39;t moving?  It started moving till the player.dat was saved then it just Kind of nudges and returns to original position\r\n   \r\n\r\n    public class Player implements Serializable, InputProcessor{\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tVector2 position, touchPosition;\r\n\tString textureLoc;\r\n\t\r\n\tpublic Player(Vector2 position, String textureLoc){\r\n\t\tthis.position = position;\r\n\t\t}\r\n\t\r\n\tpublic void update(){\r\n\t\t\r\n\t\tposition = new Vector2(0,0);\r\n\t\tVector2 touchPosition = new Vector2(0,0);\r\n\t\t\r\n\t\t\r\n\t\tif (Gdx.input.isTouched()){\r\n\t\t\ttouchPosition.set(Gdx.input.getX(), Gdx.input.getY());\r\n\t\t\r\n\t\t}\r\n\t\tif(touchPosition.x &gt; position.x){\r\n\t\t\tposition.x += 2f;}\r\n\t\t\t\r\n\t\t if (touchPosition.x &lt; position.x){\r\n\t\t\t\tposition.x -= 2f;}\r\n\t\t\r\n\t\tif(touchPosition.y &gt; position.y){\r\n\t\t\tposition.y += 2f;}\r\n\t\t\t\r\n\t\t if (touchPosition.y &lt; position.y){\r\n\t\t\t\tposition.y -= 2f; \r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThis is under `Player` class.","title":"LIBGDX Input isTouched()","body":"<p>Can anyone give me any tips why my Player isn't moving?  It started moving till the player.dat was saved then it just Kind of nudges and returns to original position</p>\n<pre><code>public class Player implements Serializable, InputProcessor{\n\nprivate static final long serialVersionUID = 1L;\nVector2 position, touchPosition;\nString textureLoc;\n\npublic Player(Vector2 position, String textureLoc){\n    this.position = position;\n    }\n\npublic void update(){\n    \n    position = new Vector2(0,0);\n    Vector2 touchPosition = new Vector2(0,0);\n    \n    \n    if (Gdx.input.isTouched()){\n        touchPosition.set(Gdx.input.getX(), Gdx.input.getY());\n    \n    }\n    if(touchPosition.x &gt; position.x){\n        position.x += 2f;}\n        \n     if (touchPosition.x &lt; position.x){\n            position.x -= 2f;}\n    \n    if(touchPosition.y &gt; position.y){\n        position.y += 2f;}\n        \n     if (touchPosition.y &lt; position.y){\n            position.y -= 2f; \n    }\n    \n}\n</code></pre>\n<p>This is under <code>Player</code> class.</p>\n"},{"tags":["java","spring","properties"],"answers":[{"tags":[],"owner":{"account_id":70704,"reputation":49430,"user_id":204788,"display_name":"Biju Kunjummen"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1308105869,"creation_date":1308105869,"answer_id":6352469,"question_id":6352371,"body_markdown":"You should be able to use a [PropertyPlaceHolderConfigurer][1] to load a properties file, and then refer to the properties using an Spring-EL expression - \r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:custom.properties&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;....&quot; class=&quot;....&quot;&gt;\r\n        &lt;property name=&quot;loginURL&quot;&gt;${propname}&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-placeholderconfigurer\r\n\r\n","title":"Using Properties String in Spring XML configuration file","body":"<p>You should be able to use a <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-placeholderconfigurer\" rel=\"noreferrer\">PropertyPlaceHolderConfigurer</a> to load a properties file, and then refer to the properties using an Spring-EL expression - </p>\n\n<pre><code>&lt;context:property-placeholder location=\"classpath:custom.properties\"/&gt;\n\n&lt;bean id=\"....\" class=\"....\"&gt;\n    &lt;property name=\"loginURL\"&gt;${propname}&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679646861,"creation_date":1679646861,"answer_id":75831480,"question_id":6352371,"body_markdown":"In my case, each server picked up its own property file whose name came from the system variable. \r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties[&#39;APPLICATION_PROPERTIES_FILE&#39;]}&quot;/&gt;\r\n        &lt;/bean&gt;  \r\n\r\nAfter this, I had to add the property key via Spring JSTL expression e.g \r\n\r\n    class=&quot;org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter&quot;&gt;\r\n            &lt;property name=&quot;signingKey&quot; value=&quot;${oauth.signingkey}&quot;/&gt;\r\n            &lt;property name=&quot;jwtClaimsSetVerifier&quot; ref=&quot;OauthClaimVerifier&quot;/&gt;\r\n        &lt;/bean&gt;","title":"Using Properties String in Spring XML configuration file","body":"<p>In my case, each server picked up its own property file whose name came from the system variable.</p>\n<pre><code>&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\n        &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties['APPLICATION_PROPERTIES_FILE']}&quot;/&gt;\n    &lt;/bean&gt;  \n</code></pre>\n<p>After this, I had to add the property key via Spring JSTL expression e.g</p>\n<pre><code>class=&quot;org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter&quot;&gt;\n        &lt;property name=&quot;signingKey&quot; value=&quot;${oauth.signingkey}&quot;/&gt;\n        &lt;property name=&quot;jwtClaimsSetVerifier&quot; ref=&quot;OauthClaimVerifier&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":168806,"reputation":7457,"user_id":394491,"accept_rate":60,"display_name":"NRaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8402,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6352469,"answer_count":2,"score":4,"last_activity_date":1679646861,"creation_date":1308104901,"question_id":6352371,"body_markdown":"Is there a way to set a property of a bean in a Spring configuration file to that of a string read from a Properties file?\r\n\r\ne.g.\r\n\r\n    &lt;bean id=&quot;....&quot; class=&quot;....&quot;&gt;\r\n        &lt;property name=&quot;loginURL&quot;&gt;GET_THIS_VALUE_FROM_&#39;ENV.PROPERTIES&#39;_FILE&lt;/property&gt;\r\n    &lt;/bean&gt;","title":"Using Properties String in Spring XML configuration file","body":"<p>Is there a way to set a property of a bean in a Spring configuration file to that of a string read from a Properties file?</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;bean id=\"....\" class=\"....\"&gt;\n    &lt;property name=\"loginURL\"&gt;GET_THIS_VALUE_FROM_'ENV.PROPERTIES'_FILE&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","spring","environment-variables"],"comments":[{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1676992503,"post_id":3965446,"comment_id":133246417,"body_markdown":"Do you want to read a Java system property, or an environment variable (in Linux, for example)? This is quite important. Thank you for this clarification. I know that the question is old, but...","body":"Do you want to read a Java system property, or an environment variable (in Linux, for example)? This is quite important. Thank you for this clarification. I know that the question is old, but..."}],"answers":[{"tags":[],"owner":{"account_id":119938,"reputation":7435,"user_id":312025,"accept_rate":66,"display_name":"Istao"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1287467992,"creation_date":1287467992,"answer_id":3965690,"question_id":3965446,"body_markdown":"Yes, you can do `&lt;property name=&quot;defaultLocale&quot; value=&quot;#{ systemProperties[&#39;user.region&#39;]}&quot;/&gt;` for instance.\r\n\r\nThe variable **systemProperties** is predefined, see [6.4.1 XML based configuration][1].\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html#expressions-beandef-xml-based","title":"how to read System environment variable in Spring applicationContext","body":"<p>Yes, you can do <code>&lt;property name=\"defaultLocale\" value=\"#{ systemProperties['user.region']}\"/&gt;</code> for instance.</p>\n\n<p>The variable <strong>systemProperties</strong> is predefined, see <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html#expressions-beandef-xml-based\">6.4.1 XML based configuration</a>.</p>\n"},{"tags":[],"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1474214099,"creation_date":1287468132,"answer_id":3965700,"question_id":3965446,"body_markdown":"You are close :o)\r\nSpring 3.0 adds [Spring Expression Language][1]. \r\nYou can use \r\n\r\n    &lt;util:properties id=&quot;dbProperties&quot; \r\n        location=&quot;classpath:config_#{systemProperties[&#39;env&#39;]}/db.properties&quot; /&gt;\r\n\r\nCombined with `java ... -Denv=QA` should solve your problem.\r\n\r\nNote also a comment by @yiling:\r\n\r\n&gt; In order to access system environment variable, that is OS level\r\n&gt; variables as amoe commented, we can simply use &quot;systemEnvironment&quot;\r\n&gt; instead of &quot;systemProperties&quot; in that EL. Like\r\n&gt; `#{systemEnvironment[&#39;ENV_VARIABLE_NAME&#39;]}`\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html","title":"how to read System environment variable in Spring applicationContext","body":"<p>You are close :o)\nSpring 3.0 adds <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html\" rel=\"noreferrer\">Spring Expression Language</a>. \nYou can use </p>\n\n<pre><code>&lt;util:properties id=\"dbProperties\" \n    location=\"classpath:config_#{systemProperties['env']}/db.properties\" /&gt;\n</code></pre>\n\n<p>Combined with <code>java ... -Denv=QA</code> should solve your problem.</p>\n\n<p>Note also a comment by @yiling:</p>\n\n<blockquote>\n  <p>In order to access system environment variable, that is OS level\n  variables as amoe commented, we can simply use \"systemEnvironment\"\n  instead of \"systemProperties\" in that EL. Like\n  <code>#{systemEnvironment['ENV_VARIABLE_NAME']}</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":3,"up_vote_count":54,"is_accepted":true,"score":51,"last_activity_date":1542198357,"creation_date":1287468453,"answer_id":3965727,"question_id":3965446,"body_markdown":"Check [this article][1]. It gives you several ways to do this, via the [`PropertyPlaceholderConfigurer`][2] which supports external properties (via the `systemPropertiesMode` property).\r\n\r\n[1]: https://web.archive.org/web/20151124064624/http://www.summa-tech.com/blog/2009/04/20/6-tips-for-managing-property-files-with-spring/\r\n[2]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html ","title":"how to read System environment variable in Spring applicationContext","body":"<p>Check <a href=\"https://web.archive.org/web/20151124064624/http://www.summa-tech.com/blog/2009/04/20/6-tips-for-managing-property-files-with-spring/\" rel=\"noreferrer\">this article</a>. It gives you several ways to do this, via the <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html\" rel=\"noreferrer\"><code>PropertyPlaceholderConfigurer</code></a> which supports external properties (via the <code>systemPropertiesMode</code> property).</p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1352222078,"creation_date":1352222078,"answer_id":13256038,"question_id":3965446,"body_markdown":"In your bean definition, make sure to include &quot;searchSystemEnvironment&quot; and set it to &quot;true&quot;. And if you&#39;re using it to build a path to a file, specify it as a file:/// url.\r\n\r\nSo for example, if you have a config file located in \r\n\r\n    /testapp/config/my.app.config.properties\r\n\r\nthen set an environment variable like so:\r\n\r\n    MY_ENV_VAR_PATH=/testapp/config\r\n\r\nand your app can load the file using a bean definition like this:\r\n\r\ne.g.\r\n\r\n    &lt;bean class=&quot;org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n        &lt;property name=&quot;searchSystemEnvironment&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;searchContextAttributes&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;contextOverride&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;value&gt;file:///${MY_ENV_VAR_PATH}/my.app.config.properties&lt;/value&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n","title":"how to read System environment variable in Spring applicationContext","body":"<p>In your bean definition, make sure to include \"searchSystemEnvironment\" and set it to \"true\". And if you're using it to build a path to a file, specify it as a file:/// url.</p>\n\n<p>So for example, if you have a config file located in </p>\n\n<pre><code>/testapp/config/my.app.config.properties\n</code></pre>\n\n<p>then set an environment variable like so:</p>\n\n<pre><code>MY_ENV_VAR_PATH=/testapp/config\n</code></pre>\n\n<p>and your app can load the file using a bean definition like this:</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;bean class=\"org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"searchSystemEnvironment\" value=\"true\" /&gt;\n    &lt;property name=\"searchContextAttributes\" value=\"true\" /&gt;\n    &lt;property name=\"contextOverride\" value=\"true\" /&gt;\n    &lt;property name=\"ignoreResourceNotFound\" value=\"true\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;file:///${MY_ENV_VAR_PATH}/my.app.config.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378830018,"creation_date":1378830018,"answer_id":18724139,"question_id":3965446,"body_markdown":"For my use case, I needed to access just the system properties, but provide default values in case they are undefined.\r\n\r\nThis is how you do it:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean id=&quot;propertyPlaceholderConfigurer&quot;   \r\n        class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;  \r\n        &lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n        &lt;property name=&quot;searchSystemEnvironment&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/bean&gt;  \r\n    &lt;bean id=&quot;myBean&quot; class=&quot;path.to.my.BeanClass&quot;&gt;\r\n        &lt;!-- can be overridden with -Dtest.target.host=http://whatever.com --&gt;\r\n        &lt;constructor-arg value=&quot;${test.target.host:http://localhost:18888}&quot;/&gt;\r\n    &lt;/bean&gt;","title":"how to read System environment variable in Spring applicationContext","body":"<p>For my use case, I needed to access just the system properties, but provide default values in case they are undefined.</p>\n\n<p>This is how you do it:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"propertyPlaceholderConfigurer\"   \n    class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;  \n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"searchSystemEnvironment\" value=\"true\" /&gt;\n&lt;/bean&gt;  \n&lt;bean id=\"myBean\" class=\"path.to.my.BeanClass\"&gt;\n    &lt;!-- can be overridden with -Dtest.target.host=http://whatever.com --&gt;\n    &lt;constructor-arg value=\"${test.target.host:http://localhost:18888}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":167155,"reputation":322,"user_id":391782,"display_name":"Mikus"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1395741203,"creation_date":1395741203,"answer_id":22630883,"question_id":3965446,"body_markdown":"Using Spring EL you can [eis example](https://stackoverflow.com/a/18724139/391782) write as follows\r\n\r\n    &lt;bean id=&quot;myBean&quot; class=&quot;path.to.my.BeanClass&quot;&gt;\r\n        &lt;!-- can be overridden with -Dtest.target.host=http://whatever.com --&gt;\r\n        &lt;constructor-arg value=&quot;#{systemProperties[&#39;test.target.host&#39;] ?: &#39;http://localhost:18888&#39;}&quot;/&gt;\r\n    &lt;/bean&gt;","title":"how to read System environment variable in Spring applicationContext","body":"<p>Using Spring EL you can <a href=\"https://stackoverflow.com/a/18724139/391782\">eis example</a> write as follows</p>\n\n<pre><code>&lt;bean id=\"myBean\" class=\"path.to.my.BeanClass\"&gt;\n    &lt;!-- can be overridden with -Dtest.target.host=http://whatever.com --&gt;\n    &lt;constructor-arg value=\"#{systemProperties['test.target.host'] ?: 'http://localhost:18888'}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010535,"reputation":11,"user_id":4721127,"display_name":"Atit Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427466894,"creation_date":1427466894,"answer_id":29303233,"question_id":3965446,"body_markdown":"This is how you do it:\r\n\r\n    &lt;bean id=&quot;systemPrereqs&quot; class=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot; scope=&quot;prototype&quot;&gt;\r\n                 &lt;property name=&quot;targetObject&quot; value=&quot;#{@systemProperties}&quot; /&gt;\r\n                 &lt;property name=&quot;targetMethod&quot; value=&quot;putAll&quot; /&gt;\r\n                 &lt;property name=&quot;arguments&quot;&gt;\r\n    \t\t           &lt;util:properties&gt;\r\n    \t\t               &lt;prop key=&quot;deployment.env&quot;&gt;dev&lt;/prop&gt;\r\n    \t\t           &lt;/util:properties&gt;\r\n         \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nBut remember spring gets loaded first and then it will load this bean MethodInvokingFactoryBean. So if you are trying to use this for your test case then make sure that you use depends-on. For e.g. in this case\r\n&lt;bean id=&quot;featureToggleUtil&quot; class=&quot;package name&quot; depends-on=&quot;systemPrereqs&quot;/&gt;\r\n\r\nIn case you are using it for your main class better to set this property using your pom.xml as\r\n\r\n    &lt;systemProperty&gt;\r\n        &lt;name&gt;deployment.env&lt;/name&gt;\r\n        &lt;value&gt;dev&lt;/value&gt;\r\n    &lt;/systemProperty&gt;","title":"how to read System environment variable in Spring applicationContext","body":"<p>This is how you do it:</p>\n\n<pre><code>&lt;bean id=\"systemPrereqs\" class=\"org.springframework.beans.factory.config.MethodInvokingFactoryBean\" scope=\"prototype\"&gt;\n             &lt;property name=\"targetObject\" value=\"#{@systemProperties}\" /&gt;\n             &lt;property name=\"targetMethod\" value=\"putAll\" /&gt;\n             &lt;property name=\"arguments\"&gt;\n                   &lt;util:properties&gt;\n                       &lt;prop key=\"deployment.env\"&gt;dev&lt;/prop&gt;\n                   &lt;/util:properties&gt;\n            &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>But remember spring gets loaded first and then it will load this bean MethodInvokingFactoryBean. So if you are trying to use this for your test case then make sure that you use depends-on. For e.g. in this case\n</p>\n\n<p>In case you are using it for your main class better to set this property using your pom.xml as</p>\n\n<pre><code>&lt;systemProperty&gt;\n    &lt;name&gt;deployment.env&lt;/name&gt;\n    &lt;value&gt;dev&lt;/value&gt;\n&lt;/systemProperty&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1481212580,"creation_date":1429524597,"answer_id":29744955,"question_id":3965446,"body_markdown":"**Nowadays you can put** \r\n\r\n\t@Autowired\r\n\tprivate Environment environment;\r\n\r\nin your `@Component`, `@Bean`, etc., and then access the properties through the `Environment` class:\r\n\r\n    environment.getProperty(&quot;myProp&quot;);\r\n\r\n---\r\n\r\n**For a single property** in a `@Bean`\r\n\r\n    @Value(&quot;${my.another.property:123}&quot;) // value after &#39;:&#39; is the default\r\n    Integer property;\r\n\r\n\r\n---\r\n\r\n**Another way** are the handy `@ConfigurationProperties` beans:\r\n\r\n\r\n    @ConfigurationProperties(prefix=&quot;my.properties.prefix&quot;)\r\n    public class MyProperties {\r\n      // value from my.properties.prefix.myProperty will be bound to this variable\r\n      String myProperty;\r\n    \r\n      // and this will even throw a startup exception if the property is not found\r\n      @javax.validation.constraints.NotNull\r\n      String myRequiredProperty;\r\n    \r\n      //getters\r\n    }\r\n    \r\n    @Component\r\n    public class MyOtherBean {\r\n      @Autowired\r\n      MyProperties myProperties;\r\n    }\r\n\r\nNote: Just remember to restart eclipse after setting a new environment variable","title":"how to read System environment variable in Spring applicationContext","body":"<p><strong>Nowadays you can put</strong> </p>\n\n<pre><code>@Autowired\nprivate Environment environment;\n</code></pre>\n\n<p>in your <code>@Component</code>, <code>@Bean</code>, etc., and then access the properties through the <code>Environment</code> class:</p>\n\n<pre><code>environment.getProperty(\"myProp\");\n</code></pre>\n\n<hr>\n\n<p><strong>For a single property</strong> in a <code>@Bean</code></p>\n\n<pre><code>@Value(\"${my.another.property:123}\") // value after ':' is the default\nInteger property;\n</code></pre>\n\n<hr>\n\n<p><strong>Another way</strong> are the handy <code>@ConfigurationProperties</code> beans:</p>\n\n<pre><code>@ConfigurationProperties(prefix=\"my.properties.prefix\")\npublic class MyProperties {\n  // value from my.properties.prefix.myProperty will be bound to this variable\n  String myProperty;\n\n  // and this will even throw a startup exception if the property is not found\n  @javax.validation.constraints.NotNull\n  String myRequiredProperty;\n\n  //getters\n}\n\n@Component\npublic class MyOtherBean {\n  @Autowired\n  MyProperties myProperties;\n}\n</code></pre>\n\n<p>Note: Just remember to restart eclipse after setting a new environment variable</p>\n"},{"tags":[],"owner":{"account_id":3952484,"reputation":364,"user_id":3262257,"display_name":"Sunil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450413330,"creation_date":1450413330,"answer_id":34348600,"question_id":3965446,"body_markdown":"You can mention your variable attributes in a property file and define environment specific property files like local.properties, production.propertied etc.\r\n\r\nNow based on the environment, one of these property file can be read in one the listeners invoked at startup, like the ServletContextListener.\r\n\r\nThe property file will contain the the environment specific values for various keys.\r\n\r\nSample &quot;local.propeties&quot;\r\n    \r\n    db.logsDataSource.url=jdbc:mysql://localhost:3306/logs\r\n    db.logsDataSource.username=root\r\n    db.logsDataSource.password=root\r\n\r\n    db.dataSource.url=jdbc:mysql://localhost:3306/main\r\n    db.dataSource.username=root\r\n    db.dataSource.password=root\r\n\r\nSample &quot;production.properties&quot;\r\n\r\n\r\n    db.logsDataSource.url=jdbc:mariadb://111.111.111.111:3306/logs\r\n    db.logsDataSource.username=admin\r\n    db.logsDataSource.password=xyzqer\r\n\r\n    db.dataSource.url=jdbc:mysql://111.111.111.111:3306/carsinfo\r\n    db.dataSource.username=admin\r\n    db.dataSource.password=safasf@mn\r\n\r\nFor using these properties file, you can make use of  REsource as mentioned below\r\n\r\n            PropertyPlaceholderConfigurer configurer = new PropertyPlaceholderConfigurer();\r\n\t\t\tResourceLoader resourceLoader = new DefaultResourceLoader();\r\n\t\t\t\r\n\t\t\tResource resource = resourceLoader.getResource(&quot;classpath:&quot;+System.getenv(&quot;SERVER_TYPE&quot;)+&quot;DB.properties&quot;);\r\n\t\t\tconfigurer.setLocation(resource);\r\n\t\t\tconfigurer.postProcessBeanFactory(beanFactory);\r\n\r\nSERVER_TYPE can be defined as the environment variable with appropriate values for local and production environment.  \r\n\r\nWith these changes the appplicationContext.xml will have the following changes\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n\t &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t  &lt;property name=&quot;url&quot; value=&quot;${db.dataSource.url}&quot; /&gt;\r\n\t  &lt;property name=&quot;username&quot; value=&quot;${db.dataSource.username}&quot; /&gt;\r\n\t  &lt;property name=&quot;password&quot; value=&quot;${db.dataSource.password}&quot; /&gt;\r\n   &lt;/bean&gt;   \r\n\r\n\r\nHope this helps .\r\n\r\n","title":"how to read System environment variable in Spring applicationContext","body":"<p>You can mention your variable attributes in a property file and define environment specific property files like local.properties, production.propertied etc.</p>\n\n<p>Now based on the environment, one of these property file can be read in one the listeners invoked at startup, like the ServletContextListener.</p>\n\n<p>The property file will contain the the environment specific values for various keys.</p>\n\n<p>Sample \"local.propeties\"</p>\n\n<pre><code>db.logsDataSource.url=jdbc:mysql://localhost:3306/logs\ndb.logsDataSource.username=root\ndb.logsDataSource.password=root\n\ndb.dataSource.url=jdbc:mysql://localhost:3306/main\ndb.dataSource.username=root\ndb.dataSource.password=root\n</code></pre>\n\n<p>Sample \"production.properties\"</p>\n\n<pre><code>db.logsDataSource.url=jdbc:mariadb://111.111.111.111:3306/logs\ndb.logsDataSource.username=admin\ndb.logsDataSource.password=xyzqer\n\ndb.dataSource.url=jdbc:mysql://111.111.111.111:3306/carsinfo\ndb.dataSource.username=admin\ndb.dataSource.password=safasf@mn\n</code></pre>\n\n<p>For using these properties file, you can make use of  REsource as mentioned below</p>\n\n<pre><code>        PropertyPlaceholderConfigurer configurer = new PropertyPlaceholderConfigurer();\n        ResourceLoader resourceLoader = new DefaultResourceLoader();\n\n        Resource resource = resourceLoader.getResource(\"classpath:\"+System.getenv(\"SERVER_TYPE\")+\"DB.properties\");\n        configurer.setLocation(resource);\n        configurer.postProcessBeanFactory(beanFactory);\n</code></pre>\n\n<p>SERVER_TYPE can be defined as the environment variable with appropriate values for local and production environment.  </p>\n\n<p>With these changes the appplicationContext.xml will have the following changes</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n  &lt;property name=\"url\" value=\"${db.dataSource.url}\" /&gt;\n  &lt;property name=\"username\" value=\"${db.dataSource.username}\" /&gt;\n  &lt;property name=\"password\" value=\"${db.dataSource.password}\" /&gt;\n</code></pre>\n\n<p>   </p>\n\n<p>Hope this helps .</p>\n"},{"tags":[],"owner":{"account_id":5578474,"reputation":1353,"user_id":4421156,"display_name":"Justin Patel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1458644379,"creation_date":1458640991,"answer_id":36151328,"question_id":3965446,"body_markdown":"Declare the property place holder as follows\r\n\r\n    &lt;bean id=&quot;propertyPlaceholderConfigurer&quot;   \r\n            class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;  \r\n        &lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n        &lt;property name=&quot;locations&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;file:///path.to.your.app.config.properties&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nThen lets say you want to read `System.property(&quot;java.io.tmpdir&quot;)` for your Tomcat bean or any bean then add following in your properties file:\r\n\r\n    tomcat.tmp.dir=${java.io.tmpdir}","title":"how to read System environment variable in Spring applicationContext","body":"<p>Declare the property place holder as follows</p>\n\n<pre><code>&lt;bean id=\"propertyPlaceholderConfigurer\"   \n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;  \n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;file:///path.to.your.app.config.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Then lets say you want to read <code>System.property(\"java.io.tmpdir\")</code> for your Tomcat bean or any bean then add following in your properties file:</p>\n\n<pre><code>tomcat.tmp.dir=${java.io.tmpdir}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1152235,"reputation":1124,"user_id":1133690,"accept_rate":47,"display_name":"Jaikrat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549534037,"creation_date":1459174448,"answer_id":36264151,"question_id":3965446,"body_markdown":"Thanks to @Yiling. That was a hint.\r\n\r\n    &lt;bean id=&quot;propertyConfigurer&quot;\r\n    \t\tclass=&quot;org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t\r\n    \t&lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n    \t&lt;property name=&quot;searchSystemEnvironment&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;value&gt;file:#{systemEnvironment[&#39;FILE_PATH&#39;]}/first.properties&lt;/value&gt;\r\n    \t\t\t&lt;value&gt;file:#{systemEnvironment[&#39;FILE_PATH&#39;]}/second.properties&lt;/value&gt;\r\n    \t\t\t&lt;value&gt;file:#{systemEnvironment[&#39;FILE_PATH&#39;]}/third.properties&lt;/value&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n\r\nAfter this, you should have one environment variable named &#39;FILE_PATH&#39;. Make sure you restart your terminal/IDE after creating that environment variable.","title":"how to read System environment variable in Spring applicationContext","body":"<p>Thanks to @Yiling. That was a hint.</p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer\"&gt;\n\n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"searchSystemEnvironment\" value=\"true\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;file:#{systemEnvironment['FILE_PATH']}/first.properties&lt;/value&gt;\n            &lt;value&gt;file:#{systemEnvironment['FILE_PATH']}/second.properties&lt;/value&gt;\n            &lt;value&gt;file:#{systemEnvironment['FILE_PATH']}/third.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>After this, you should have one environment variable named 'FILE_PATH'. Make sure you restart your terminal/IDE after creating that environment variable.</p>\n"},{"tags":[],"owner":{"account_id":11511943,"reputation":359,"user_id":8436465,"display_name":"Rub&#233;n Morales"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616354884,"creation_date":1607258591,"answer_id":65168171,"question_id":3965446,"body_markdown":"Updated version (2020).\r\n\r\nUse [System.getenv(&quot;ENV_VARIABLE&quot;)][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/lang/system_getenv_string.htm","title":"how to read System environment variable in Spring applicationContext","body":"<p>Updated version (2020).</p>\n<p>Use <a href=\"https://www.tutorialspoint.com/java/lang/system_getenv_string.htm\" rel=\"nofollow noreferrer\">System.getenv(&quot;ENV_VARIABLE&quot;)</a></p>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679646697,"creation_date":1679646697,"answer_id":75831450,"question_id":3965446,"body_markdown":"Amra solution helped me to get this right. In my case, each server picked up its own property file who name came from the system variable. \r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties[&#39;APPLICATION_PROPERTIES_FILE&#39;]}&quot;/&gt;\r\n        &lt;/bean&gt;  \r\n\r\nAfter this, I had to add the property key via Spring JSTL expression e.g \r\n\r\n    class=&quot;org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter&quot;&gt;\r\n            &lt;property name=&quot;signingKey&quot; value=&quot;${oauth.signingkey}&quot;/&gt;\r\n            &lt;property name=&quot;jwtClaimsSetVerifier&quot; ref=&quot;OauthClaimVerifier&quot;/&gt;\r\n        &lt;/bean&gt;","title":"how to read System environment variable in Spring applicationContext","body":"<p>Amra solution helped me to get this right. In my case, each server picked up its own property file who name came from the system variable.</p>\n<pre><code>&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\n        &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties['APPLICATION_PROPERTIES_FILE']}&quot;/&gt;\n    &lt;/bean&gt;  \n</code></pre>\n<p>After this, I had to add the property key via Spring JSTL expression e.g</p>\n<pre><code>class=&quot;org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter&quot;&gt;\n        &lt;property name=&quot;signingKey&quot; value=&quot;${oauth.signingkey}&quot;/&gt;\n        &lt;property name=&quot;jwtClaimsSetVerifier&quot; ref=&quot;OauthClaimVerifier&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344874,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":3965727,"answer_count":13,"score":123,"last_activity_date":1679646697,"creation_date":1287464275,"question_id":3965446,"body_markdown":"How to read the system environment variable in the application context?\r\n\r\nI want something like :\r\n\r\n    &lt;util:properties id=&quot;dbProperties&quot;\r\n    \t\tlocation=&quot;classpath:config_DEV/db.properties&quot; /&gt;\r\n\r\nor\r\n\r\n    &lt;util:properties id=&quot;dbProperties&quot;\r\n    \t\tlocation=&quot;classpath:config_QA/db.properties&quot; /&gt;\r\n\r\ndepending on the environement.\r\n\r\nCan I have something like this in my application Context? \r\n\r\n    &lt;util:properties id=&quot;dbProperties&quot;\r\n    \t\tlocation=&quot;classpath:config_${systemProperties.env}/db.properties&quot; /&gt;\r\n\r\nwhere the actual val is set based on the SYSTEM ENVIRONMENT VARIABLE\r\n\r\nI&#39;m using Spring 3.0","title":"how to read System environment variable in Spring applicationContext","body":"<p>How to read the system environment variable in the application context?</p>\n\n<p>I want something like :</p>\n\n<pre><code>&lt;util:properties id=\"dbProperties\"\n        location=\"classpath:config_DEV/db.properties\" /&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;util:properties id=\"dbProperties\"\n        location=\"classpath:config_QA/db.properties\" /&gt;\n</code></pre>\n\n<p>depending on the environement.</p>\n\n<p>Can I have something like this in my application Context? </p>\n\n<pre><code>&lt;util:properties id=\"dbProperties\"\n        location=\"classpath:config_${systemProperties.env}/db.properties\" /&gt;\n</code></pre>\n\n<p>where the actual val is set based on the SYSTEM ENVIRONMENT VARIABLE</p>\n\n<p>I'm using Spring 3.0</p>\n"},{"tags":["java","module","package"],"owner":{"account_id":28111982,"reputation":1,"user_id":21479617,"display_name":"edmund pahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679645956,"creation_date":1679645956,"question_id":75831343,"body_markdown":"So I&#39;m trying to add background music for a game and there is something wrong while trying to access com.sun for some reason.\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\r\n\tat javafx.controls/javafx.scene.control.CheckBox.fire(CheckBox.java:239)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n\tat javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1784)\r\n\t... 45 more\r\n**Caused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager (in module javafx.media) cannot access class com.sun.javafx.PlatformUtil (in module javafx.base) because module javafx.base does not export com.sun.javafx to module javafx.media**\r\n\tat javafx.media/com.sun.media.jfxmediaimpl.platform.PlatformManager.getSupportedProtocols(PlatformManager.java:203)\r\n\tat javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.loadProtocols(NativeMediaManager.java:197)\r\n\tat javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.canPlayProtocol(NativeMediaManager.java:267)\r\n\tat javafx.media/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\r\n\tat javafx.media/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:239)\r\n\tat javafx.media/javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\r\n\tat org.directional.dirt/org.directional.dirt.Sound.music(Sound.java:25)\r\n\tat org.directional.dirt/org.directional.dirt.SecondaryController.play(SecondaryController.java:88)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 52 more\r\n\r\n```\r\n\r\nCould appreciate a quick help as to what I can do.\r\n\r\nSo in my module info I tried something like `exports com.sun.javafx to javafx.media;`and it showed &quot;Cannot export the package com.sun.javafx which belongs to module javafx.base&quot;, which I understood later but then how do I go about this?","title":"how to export com.sun.javafx to module javafx.media from javafx.base","body":"<p>So I'm trying to add background music for a game and there is something wrong while trying to access com.sun for some reason.</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\n    at javafx.controls/javafx.scene.control.CheckBox.fire(CheckBox.java:239)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1784)\n    ... 45 more\n**Caused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager (in module javafx.media) cannot access class com.sun.javafx.PlatformUtil (in module javafx.base) because module javafx.base does not export com.sun.javafx to module javafx.media**\n    at javafx.media/com.sun.media.jfxmediaimpl.platform.PlatformManager.getSupportedProtocols(PlatformManager.java:203)\n    at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.loadProtocols(NativeMediaManager.java:197)\n    at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.canPlayProtocol(NativeMediaManager.java:267)\n    at javafx.media/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\n    at javafx.media/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:239)\n    at javafx.media/javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\n    at org.directional.dirt/org.directional.dirt.Sound.music(Sound.java:25)\n    at org.directional.dirt/org.directional.dirt.SecondaryController.play(SecondaryController.java:88)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 52 more\n\n</code></pre>\n<p>Could appreciate a quick help as to what I can do.</p>\n<p>So in my module info I tried something like <code>exports com.sun.javafx to javafx.media;</code>and it showed &quot;Cannot export the package com.sun.javafx which belongs to module javafx.base&quot;, which I understood later but then how do I go about this?</p>\n"},{"tags":["java","apache-httpclient-4.x","keep-alive","session-reuse"],"comments":[{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1679646540,"post_id":75827839,"comment_id":133761785,"body_markdown":"Does the nginx set a Keep-Alive header in the response? IIUC, it should reuse the connection if there is no Keep-Alive header anyways, but I&#39;m not sure about that.\nSee https://stackoverflow.com/questions/68990038/apache-httpclient-keep-alive-strategy-for-active-connections","body":"Does the nginx set a Keep-Alive header in the response? IIUC, it should reuse the connection if there is no Keep-Alive header anyways, but I&#39;m not sure about that. See <a href=\"https://stackoverflow.com/questions/68990038/apache-httpclient-keep-alive-strategy-for-active-connections\" title=\"apache httpclient keep alive strategy for active connections\">stackoverflow.com/questions/68990038/&hellip;</a>"},{"owner":{"account_id":14788583,"reputation":60,"user_id":10680142,"display_name":"Kreans"},"score":0,"creation_date":1679699507,"post_id":75827839,"comment_id":133773793,"body_markdown":"yes, Nginx set a keep-alive header in the response","body":"yes, Nginx set a keep-alive header in the response"},{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1679903156,"post_id":75827839,"comment_id":133797581,"body_markdown":"OK, then what&#39;s the value of the keep-alive header?","body":"OK, then what&#39;s the value of the keep-alive header?"},{"owner":{"account_id":14788583,"reputation":60,"user_id":10680142,"display_name":"Kreans"},"score":0,"creation_date":1681241307,"post_id":75827839,"comment_id":134024115,"body_markdown":"Keep alive is set to 2000ms - confirmed by debug logs","body":"Keep alive is set to 2000ms - confirmed by debug logs"}],"owner":{"account_id":14788583,"reputation":60,"user_id":10680142,"display_name":"Kreans"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679645892,"creation_date":1679604365,"question_id":75827839,"body_markdown":"I have nginx with enabled keepalive. I create simple java code, which sends 2 requests to nginx:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var apacheHttpClient = HttpClients.custom()\r\n                .setConnectionManager(new PoolingHttpClientConnectionManager())\r\n                .build();\r\n\r\n        HttpGet httpGet = new HttpGet(&quot;http://127.0.0.1:5000&quot;);\r\n        \r\n        for (int i = 0; i &lt; 2; i++) {\r\n            try (CloseableHttpResponse httpResponse = apacheHttpClient.execute(httpGet)) {\r\n                System.out.println(httpResponse.getStatusLine().getStatusCode());\r\n            } catch (ClientProtocolException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have checked with wireshark that the java program creates 2 connection to execute this command. Why Java apache httpclient do not reuse connection? I assume that 1 connection should be established and be reused.[![enter image description here](https://i.stack.imgur.com/nUe81.png)](https://i.stack.imgur.com/nUe81.png)\r\n\r\n\r\n","title":"Does Java Apache HttpClient reuse keepalive connection?","body":"<p>I have nginx with enabled keepalive. I create simple java code, which sends 2 requests to nginx:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        var apacheHttpClient = HttpClients.custom()\n                .setConnectionManager(new PoolingHttpClientConnectionManager())\n                .build();\n\n        HttpGet httpGet = new HttpGet(&quot;http://127.0.0.1:5000&quot;);\n        \n        for (int i = 0; i &lt; 2; i++) {\n            try (CloseableHttpResponse httpResponse = apacheHttpClient.execute(httpGet)) {\n                System.out.println(httpResponse.getStatusLine().getStatusCode());\n            } catch (ClientProtocolException e) {\n                throw new RuntimeException(e);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have checked with wireshark that the java program creates 2 connection to execute this command. Why Java apache httpclient do not reuse connection? I assume that 1 connection should be established and be reused.<a href=\"https://i.stack.imgur.com/nUe81.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUe81.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-15"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1679576720,"post_id":75823301,"comment_id":133748483,"body_markdown":"&quot;Isn&#39;t `public class Square extends Shape {...}` more intuitive?&quot; Well that&#39;s your opinion. The language designers had their own, different opinions.","body":"&quot;Isn&#39;t <code>public class Square extends Shape {...}</code> more intuitive?&quot; Well that&#39;s your opinion. The language designers had their own, different opinions."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679577080,"post_id":75823301,"comment_id":133748592,"body_markdown":"[Right now it is unclear what kind of explanation would satisfy you.](https://meta.stackoverflow.com/a/323382/5133585) Please [edit] your question to clarify.","body":"<a href=\"https://meta.stackoverflow.com/a/323382/5133585\">Right now it is unclear what kind of explanation would satisfy you.</a> Please <a href=\"https://stackoverflow.com/posts/75823301/edit\">edit</a> your question to clarify."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1679577765,"post_id":75823301,"comment_id":133748770,"body_markdown":"Think about what `sealed` is intended to mean.  The point is to denote that Shape has a known set of implementors.  Violating that contract in the Square class should not be the default.  The programmer should be made to explicitly state, “I hereby acknowledge I am breaking the sealed designation.”","body":"Think about what <code>sealed</code> is intended to mean.  The point is to denote that Shape has a known set of implementors.  Violating that contract in the Square class should not be the default.  The programmer should be made to explicitly state, “I hereby acknowledge I am breaking the sealed designation.”"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1679577894,"post_id":75823301,"comment_id":133748808,"body_markdown":"The spec requires you to be explicit: do you want a subclass of a sealed class to be `final`, `sealed` or `non-sealed`? If the spec would allow you to write `public class Square extends Shape {...}` you loose that explicitness. Did you really intend the class `Square` to be non-sealed or did you just forget to write `final` or `sealed`?","body":"The spec requires you to be explicit: do you want a subclass of a sealed class to be <code>final</code>, <code>sealed</code> or <code>non-sealed</code>? If the spec would allow you to write <code>public class Square extends Shape {...}</code> you loose that explicitness. Did you really intend the class <code>Square</code> to be non-sealed or did you just forget to write <code>final</code> or <code>sealed</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679645779,"creation_date":1679645779,"answer_id":75831309,"question_id":75823301,"body_markdown":"You said you “could not see any explanation at JEP 360” but [the linked document] says explicitly:\r\n\r\n&gt; A sealed class imposes three constraints on its permitted subclasses (the classes specified by its `permits` clause):\r\n&gt; \r\n&gt; 1. The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, the same package.\r\n&gt; \r\n&gt; 2. Every permitted subclass must directly extend the sealed class.\r\n&gt; \r\n&gt; 3. Every permitted subclass must choose a modifier to describe how it continues the sealing initiated by its superclass:\r\n&gt; \r\n&gt; …\r\n\r\nThe last point indicates the intended mindset: a sealing is *initiated* by a class declared `sealed` but is not just about the direct subclasses but the entire type hierarchy. Therefore, the permitted subclasses must declare, how to continue the sealing, either by being `final` or `sealed` or by explicitly declaring a re-opened branch of the class tree.\r\n\r\nOpening (resp. accidentally breaking) a sealing by just not declaring an appropriate modifier, which could be an oversight, is not an option.\r\n\r\nThe available options are also listed directly under the cited part:\r\n\r\n&gt;  - A permitted subclass may be declared `final` to prevent its part of the class hierarchy from being extended further.\r\n&gt;  - A permitted subclass may be declared `sealed` to allow its part of the hierarchy to be extended further than envisaged by its sealed superclass, but in a restricted fashion.\r\n&gt;  - A permitted subclass may be declared `non-sealed` so that its part of the hierarchy reverts to being open for extension by unknown subclasses. (A sealed class cannot prevent its permitted subclasses from doing this.)\r\n\r\nThe JEP doesn’t mention it but [the specification] allows implicit declarations, so you don’t need to specify `sealed` or `final` for `enum` or `record` types implementing a sealed interface.\r\n\r\n[the linked document]: https://openjdk.org/jeps/360#:~:text=A%20sealed%20class%20imposes%20three%20constraints,%3A\r\n[the specification]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.1.2","title":"What is the purpose explicitly specifying a sub-class as non-sealed?","body":"<p>You said you “could not see any explanation at JEP 360” but <a href=\"https://openjdk.org/jeps/360#:%7E:text=A%20sealed%20class%20imposes%20three%20constraints,%3A\" rel=\"noreferrer\">the linked document</a> says explicitly:</p>\n<blockquote>\n<p>A sealed class imposes three constraints on its permitted subclasses (the classes specified by its <code>permits</code> clause):</p>\n<ol>\n<li><p>The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, the same package.</p>\n</li>\n<li><p>Every permitted subclass must directly extend the sealed class.</p>\n</li>\n<li><p>Every permitted subclass must choose a modifier to describe how it continues the sealing initiated by its superclass:</p>\n</li>\n</ol>\n<p>…</p>\n</blockquote>\n<p>The last point indicates the intended mindset: a sealing is <em>initiated</em> by a class declared <code>sealed</code> but is not just about the direct subclasses but the entire type hierarchy. Therefore, the permitted subclasses must declare, how to continue the sealing, either by being <code>final</code> or <code>sealed</code> or by explicitly declaring a re-opened branch of the class tree.</p>\n<p>Opening (resp. accidentally breaking) a sealing by just not declaring an appropriate modifier, which could be an oversight, is not an option.</p>\n<p>The available options are also listed directly under the cited part:</p>\n<blockquote>\n<ul>\n<li>A permitted subclass may be declared <code>final</code> to prevent its part of the class hierarchy from being extended further.</li>\n<li>A permitted subclass may be declared <code>sealed</code> to allow its part of the hierarchy to be extended further than envisaged by its sealed superclass, but in a restricted fashion.</li>\n<li>A permitted subclass may be declared <code>non-sealed</code> so that its part of the hierarchy reverts to being open for extension by unknown subclasses. (A sealed class cannot prevent its permitted subclasses from doing this.)</li>\n</ul>\n</blockquote>\n<p>The JEP doesn’t mention it but <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.1.2\" rel=\"noreferrer\">the specification</a> allows implicit declarations, so you don’t need to specify <code>sealed</code> or <code>final</code> for <code>enum</code> or <code>record</code> types implementing a sealed interface.</p>\n"}],"owner":{"account_id":1238861,"reputation":9,"user_id":6607900,"display_name":"visha1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679646906,"answer_count":1,"score":0,"last_activity_date":1679645779,"creation_date":1679576326,"question_id":75823301,"body_markdown":"In the following example why do I explicitly need to specify a class Square as non-sealed?\r\n\r\nIsn&#39;t `public class Square extends Shape {...}` more intuitive?\r\n\r\n```\r\npackage com.example.geometry;\r\n\r\npublic abstract sealed class Shape permits Circle, Rectangle, Square {...}\r\n\r\npublic final class Circle extends Shape {...}\r\n\r\npublic sealed class Rectangle extends Shape permits TransparentRectangle, FilledRectangle {...} public final class TransparentRectangle extends Rectangle {...} public final class FilledRectangle extends Rectangle {...}\r\n\r\npublic non-sealed class Square extends Shape {...}\r\n```\r\n\r\nI could not see any explanation at [JEP 360](https://openjdk.org/jeps/360)","title":"What is the purpose explicitly specifying a sub-class as non-sealed?","body":"<p>In the following example why do I explicitly need to specify a class Square as non-sealed?</p>\n<p>Isn't <code>public class Square extends Shape {...}</code> more intuitive?</p>\n<pre><code>package com.example.geometry;\n\npublic abstract sealed class Shape permits Circle, Rectangle, Square {...}\n\npublic final class Circle extends Shape {...}\n\npublic sealed class Rectangle extends Shape permits TransparentRectangle, FilledRectangle {...} public final class TransparentRectangle extends Rectangle {...} public final class FilledRectangle extends Rectangle {...}\n\npublic non-sealed class Square extends Shape {...}\n</code></pre>\n<p>I could not see any explanation at <a href=\"https://openjdk.org/jeps/360\" rel=\"nofollow noreferrer\">JEP 360</a></p>\n"},{"tags":["java","smb","smbj","libsmbclient"],"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679645423,"creation_date":1679595939,"question_id":75826766,"body_markdown":"I would like to check if a file exists in a particular directory in shared drive using SMBJ library.\r\nFor example this is the file I want to check the existence of - \\\\\\\\server1\\CF\\Sub1\\Sub2\\Sub3\\test.txt\r\n\r\nBelow is the code snippet I&#39;m using\r\n\r\n```\r\n      SMBClient smbClient = new SMBClient(SmbConfig.builder().withMultiProtocolNegotiate(true).build());\r\n\t  Connection connection = smbClient.connect(&quot;server1&quot;);\r\n      AuthenticationContext ac = new AuthenticationContext(USER_NAME, PWD.toCharArray(),&quot;DOMAIN&quot;);\r\n      Session session = connection.authenticate(ac);\r\n\r\n      DiskShare share = (DiskShare) session.connectShare(&quot;CF&quot;);\r\n\t  boolean exists = share.fileExists(&quot;Sub1\\\\Sub2\\\\Sub3\\\\test.txt&quot;)\r\n```\r\n\r\neventhough the specified path is correct I get an exception \r\n```\r\ncom.hierynomus.mssmb2.SMBApiException: STATUS_PATH_NOT_COVERED (0xc0000257): Create failed for \\\\server1\\CF\\Sub1\\Sub2\\Sub3\\test.txt\r\nat com.hierynomus.smbj.share.Share.receive(Share.java:380)\r\n\tat com.hierynomus.smbj.share.Share.sendReceive(Share.java:359)\r\n\tat com.hierynomus.smbj.share.Share.createFile(Share.java:156)\r\n\tat com.hierynomus.smbj.share.DiskShare.createFileAndResolve(DiskShare.java:75)\r\n\tat com.hierynomus.smbj.share.DiskShare.access$100(DiskShare.java:55)\r\n\tat com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:109)\r\n\tat com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:105)\r\n\tat com.hierynomus.smbj.paths.PathResolver$1.resolve(PathResolver.java:32)\r\n\tat com.hierynomus.smbj.paths.SymlinkPathResolver.resolve(SymlinkPathResolver.java:62)\r\n\tat com.hierynomus.smbj.share.DiskShare.resolveAndCreateFile(DiskShare.java:105)\r\n\tat com.hierynomus.smbj.share.DiskShare.open(DiskShare.java:65)\r\n\tat com.hierynomus.smbj.share.DiskShare.openDirectory(DiskShare.java:151)\r\n\tat com.hierynomus.smbj.share.DiskShare.list(DiskShare.java:258)\r\n\tat com.hierynomus.smbj.share.DiskShare.list(DiskShare.java:231)\r\n```\r\n\r\nI can print available files under Sub1 by doing the following but cannot do the same for path = &quot;Sub1\\\\Sub2&quot;\r\n```\r\n      for (FileIdBothDirectoryInformation f : share.list(&quot;Sub1&quot;)) {\r\n        Logger.log(&quot;File : &quot; + f.getFileName());\r\n      }\r\n```\r\n\r\nIs there something wrong in how the path is formed?","title":"Problem while trying to access files in sub-directories using 0.11.5 SMBJ library","body":"<p>I would like to check if a file exists in a particular directory in shared drive using SMBJ library.\nFor example this is the file I want to check the existence of - \\\\server1\\CF\\Sub1\\Sub2\\Sub3\\test.txt</p>\n<p>Below is the code snippet I'm using</p>\n<pre><code>      SMBClient smbClient = new SMBClient(SmbConfig.builder().withMultiProtocolNegotiate(true).build());\n      Connection connection = smbClient.connect(&quot;server1&quot;);\n      AuthenticationContext ac = new AuthenticationContext(USER_NAME, PWD.toCharArray(),&quot;DOMAIN&quot;);\n      Session session = connection.authenticate(ac);\n\n      DiskShare share = (DiskShare) session.connectShare(&quot;CF&quot;);\n      boolean exists = share.fileExists(&quot;Sub1\\\\Sub2\\\\Sub3\\\\test.txt&quot;)\n</code></pre>\n<p>eventhough the specified path is correct I get an exception</p>\n<pre><code>com.hierynomus.mssmb2.SMBApiException: STATUS_PATH_NOT_COVERED (0xc0000257): Create failed for \\\\server1\\CF\\Sub1\\Sub2\\Sub3\\test.txt\nat com.hierynomus.smbj.share.Share.receive(Share.java:380)\n    at com.hierynomus.smbj.share.Share.sendReceive(Share.java:359)\n    at com.hierynomus.smbj.share.Share.createFile(Share.java:156)\n    at com.hierynomus.smbj.share.DiskShare.createFileAndResolve(DiskShare.java:75)\n    at com.hierynomus.smbj.share.DiskShare.access$100(DiskShare.java:55)\n    at com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:109)\n    at com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:105)\n    at com.hierynomus.smbj.paths.PathResolver$1.resolve(PathResolver.java:32)\n    at com.hierynomus.smbj.paths.SymlinkPathResolver.resolve(SymlinkPathResolver.java:62)\n    at com.hierynomus.smbj.share.DiskShare.resolveAndCreateFile(DiskShare.java:105)\n    at com.hierynomus.smbj.share.DiskShare.open(DiskShare.java:65)\n    at com.hierynomus.smbj.share.DiskShare.openDirectory(DiskShare.java:151)\n    at com.hierynomus.smbj.share.DiskShare.list(DiskShare.java:258)\n    at com.hierynomus.smbj.share.DiskShare.list(DiskShare.java:231)\n</code></pre>\n<p>I can print available files under Sub1 by doing the following but cannot do the same for path = &quot;Sub1\\Sub2&quot;</p>\n<pre><code>      for (FileIdBothDirectoryInformation f : share.list(&quot;Sub1&quot;)) {\n        Logger.log(&quot;File : &quot; + f.getFileName());\n      }\n</code></pre>\n<p>Is there something wrong in how the path is formed?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20433410,"reputation":19832,"user_id":14991864,"display_name":"Abdul Aziz Barkat"},"score":0,"creation_date":1679644975,"post_id":75831229,"comment_id":133761431,"body_markdown":"Does this answer your question? [Converting string to date with timezone](https://stackoverflow.com/questions/4203718/converting-string-to-date-with-timezone)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4203718/converting-string-to-date-with-timezone\">Converting string to date with timezone</a>"},{"owner":{"account_id":27021312,"reputation":1,"user_id":20579265,"display_name":"abhinav Negi"},"score":0,"creation_date":1679926541,"post_id":75831229,"comment_id":133803812,"body_markdown":"no its not the solution, actually the issue is i am storing date in gmt format and while getting it from db, the date is coinciding with dst date and time.","body":"no its not the solution, actually the issue is i am storing date in gmt format and while getting it from db, the date is coinciding with dst date and time."}],"owner":{"account_id":27021312,"reputation":1,"user_id":20579265,"display_name":"abhinav Negi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679644975,"creation_date":1679644975,"question_id":75831229,"body_markdown":"So in the following code i am passing these input (03/11/2023 10:23 02:23,-4) in function convertToGMT(String date, String timezone)\r\n\r\nfrom which i am getting output(to be stored in table) 03/12/2023 02:23\r\n\r\nand the output from function convertToGMT(output --&gt;  03/12/2023 02:23) i am passing into convertToClientDate(03/12/2023 02:23,-4) which is returning me output 03/11/2023 21:23\r\n\r\nnow the issue is the final output that i am getting from second function should be the same time which i am providing in first function. but its showing 1 hour less.\r\n\r\n\r\n\r\n        public static String convertToGMT(String date, String timezone) {\r\n  \r\n        if (date == null || date.isEmpty()) {\r\n            return date;\r\n        }\r\n\r\n        try {\r\n            timezone = formatTimeZone(timezone);\r\n             SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;MM/dd/20yy HH:mm&quot;);\r\n            TimeZone timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timezone);\r\n            TimeZone timeZoneGMT = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n            Date date2 = null;\r\n            String format = getDateFormat();\r\n            if (format.startsWith(&quot;dd&quot;)) {\r\n                date = convertCNDateToDBFormat(date);\r\n            }\r\n            date2 = new Date(date);\r\n\r\n            Calendar cal = Calendar.getInstance(timeZone);\r\n            cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), date2.getHours(),\r\n            date2.getMinutes(), 0);    \r\n            simpleDateFormat.format(cal.getTime());\r\n            cal.setTimeZone(timeZoneGMT);\r\n            simpleDateFormat.setTimeZone(timeZoneGMT);\r\n            MyLog.v(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;Final GMT &quot; + simpleDateFormat.format(cal.getTime()));\r\n            return simpleDateFormat.format(cal.getTime());\r\n            } catch (Exception e) {\r\n            e.getStackTrace();MyLog.e(&quot;&gt;&gt;&gt;&gt; error in convertToGTM &quot; + e.getMessage());\r\n            return &quot;00/00/0000 00:00&quot;;\r\n            }\r\n        }\r\n \r\n       ------------------------------\r\n        public static String convertToClientDate(String date, String timezone) {\r\n        if (date == null || date.isEmpty()) {\r\n            return date;\r\n           }\r\n           try {\r\n            timezone = formatTimeZone(timezone);\r\n            String format = getDateFormat();\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(format + &quot; HH:mm&quot;);\r\n            TimeZone timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timezone);\r\n            TimeZone timeZoneGMT = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n\r\n            Date date2 = new Date(date);\r\n            String []arr=date.split(&quot; &quot;);\r\n            String dateCheck=arr[0].split(&quot;/&quot;)[1]+arr[1].split(&quot;:&quot;)[0];\r\n\r\n            Calendar cal = Calendar.getInstance(timeZoneGMT);\r\n            cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), date2.getHours(),          \r\n            date2.getMinutes(), 0);\r\n            if(dateCheck.equals(&quot;1202&quot;)){\r\n                cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), 02, date2.getMinutes(), 0);\r\n            }\r\n            simpleDateFormat.format(cal.getTime());\r\n            cal.setTimeZone(timeZone);\r\n            simpleDateFormat.setTimeZone(timeZone);\r\n\r\n            return simpleDateFormat.format(cal.getTime());\r\n        } catch (Exception e) {\r\n            e.getStackTrace();\r\n            return &quot;00/00/0000 00:00&quot;;\r\n        }\r\n    }\r\n\r\n        can someone help me out with the problem?","title":"Getting wrong time for date before DST","body":"<p>So in the following code i am passing these input (03/11/2023 10:23 02:23,-4) in function convertToGMT(String date, String timezone)</p>\n<p>from which i am getting output(to be stored in table) 03/12/2023 02:23</p>\n<p>and the output from function convertToGMT(output --&gt;  03/12/2023 02:23) i am passing into convertToClientDate(03/12/2023 02:23,-4) which is returning me output 03/11/2023 21:23</p>\n<p>now the issue is the final output that i am getting from second function should be the same time which i am providing in first function. but its showing 1 hour less.</p>\n<pre><code>    public static String convertToGMT(String date, String timezone) {\n\n    if (date == null || date.isEmpty()) {\n        return date;\n    }\n\n    try {\n        timezone = formatTimeZone(timezone);\n         SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;MM/dd/20yy HH:mm&quot;);\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timezone);\n        TimeZone timeZoneGMT = TimeZone.getTimeZone(&quot;UTC&quot;);\n        Date date2 = null;\n        String format = getDateFormat();\n        if (format.startsWith(&quot;dd&quot;)) {\n            date = convertCNDateToDBFormat(date);\n        }\n        date2 = new Date(date);\n\n        Calendar cal = Calendar.getInstance(timeZone);\n        cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), date2.getHours(),\n        date2.getMinutes(), 0);    \n        simpleDateFormat.format(cal.getTime());\n        cal.setTimeZone(timeZoneGMT);\n        simpleDateFormat.setTimeZone(timeZoneGMT);\n        MyLog.v(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;Final GMT &quot; + simpleDateFormat.format(cal.getTime()));\n        return simpleDateFormat.format(cal.getTime());\n        } catch (Exception e) {\n        e.getStackTrace();MyLog.e(&quot;&gt;&gt;&gt;&gt; error in convertToGTM &quot; + e.getMessage());\n        return &quot;00/00/0000 00:00&quot;;\n        }\n    }\n\n   ------------------------------\n    public static String convertToClientDate(String date, String timezone) {\n    if (date == null || date.isEmpty()) {\n        return date;\n       }\n       try {\n        timezone = formatTimeZone(timezone);\n        String format = getDateFormat();\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(format + &quot; HH:mm&quot;);\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timezone);\n        TimeZone timeZoneGMT = TimeZone.getTimeZone(&quot;UTC&quot;);\n\n        Date date2 = new Date(date);\n        String []arr=date.split(&quot; &quot;);\n        String dateCheck=arr[0].split(&quot;/&quot;)[1]+arr[1].split(&quot;:&quot;)[0];\n\n        Calendar cal = Calendar.getInstance(timeZoneGMT);\n        cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), date2.getHours(),          \n        date2.getMinutes(), 0);\n        if(dateCheck.equals(&quot;1202&quot;)){\n            cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), 02, date2.getMinutes(), 0);\n        }\n        simpleDateFormat.format(cal.getTime());\n        cal.setTimeZone(timeZone);\n        simpleDateFormat.setTimeZone(timeZone);\n\n        return simpleDateFormat.format(cal.getTime());\n    } catch (Exception e) {\n        e.getStackTrace();\n        return &quot;00/00/0000 00:00&quot;;\n    }\n}\n\n    can someone help me out with the problem?\n</code></pre>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679647121,"post_id":75831037,"comment_id":133761910,"body_markdown":"It is unclear what you&#39;re trying to achieve here, and why not just declaring static fields of type `org.apache.logging.log4j.Logger` in classes where you want to log is sufficient for your needs. That is the normal pattern. In addition, declaring `logger` to be static here is **wrong**, because the last `MyLogger` constructor to have been called &quot;wins&quot;, which goes against wanting to create loggers per class or per name.","body":"It is unclear what you&#39;re trying to achieve here, and why not just declaring static fields of type <code>org.apache.logging.log4j.Logger</code> in classes where you want to log is sufficient for your needs. That is the normal pattern. In addition, declaring <code>logger</code> to be static here is <b>wrong</b>, because the last <code>MyLogger</code> constructor to have been called &quot;wins&quot;, which goes against wanting to create loggers per class or per name."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1679686750,"post_id":75831037,"comment_id":133771808,"body_markdown":"Custom logging APIs or wrappers cause a lot of problem with almost no advantages, use Log4j2 API directly. Cf. [this question](https://stackoverflow.com/q/75256959/11748454).","body":"Custom logging APIs or wrappers cause a lot of problem with almost no advantages, use Log4j2 API directly. Cf. <a href=\"https://stackoverflow.com/q/75256959/11748454\">this question</a>."}],"owner":{"account_id":27695027,"reputation":1,"user_id":21140936,"display_name":"Spring Boot Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679644834,"creation_date":1679643546,"question_id":75831037,"body_markdown":"I have following class but if we are creating objects multiple times then what will be use of static\r\n\r\n    class MyLogger {\r\n    \r\n    \tstatic Logger logger;\r\n    \r\n    \tpublic MyLogger(Class cls) {\r\n    \t\tlogger = Logger.getLogger(cls.getName());\r\n    \t}\r\n    \r\n    \tpublic MyLogger(String name) {\r\n    \t\tlogger = Logger.getLogger(name);\r\n    \t}\r\n    }\r\n\r\nI want to improve performance of logging and I am using my own caller class for logging.","title":"How to use logger with caller class to get better performance?","body":"<p>I have following class but if we are creating objects multiple times then what will be use of static</p>\n<pre><code>class MyLogger {\n\n    static Logger logger;\n\n    public MyLogger(Class cls) {\n        logger = Logger.getLogger(cls.getName());\n    }\n\n    public MyLogger(String name) {\n        logger = Logger.getLogger(name);\n    }\n}\n</code></pre>\n<p>I want to improve performance of logging and I am using my own caller class for logging.</p>\n"},{"tags":["java","performance","garbage-collection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679645153,"post_id":75831193,"comment_id":133761473,"body_markdown":"Does this answer your question? [When does System.gc() do something?](https://stackoverflow.com/questions/66540/when-does-system-gc-do-something)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66540/when-does-system-gc-do-something\">When does System.gc() do something?</a>"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1679645336,"post_id":75831193,"comment_id":133761509,"body_markdown":"External article that seems to consider this exact topic: https://www.baeldung.com/java-system-gc","body":"External article that seems to consider this exact topic: <a href=\"https://www.baeldung.com/java-system-gc\" rel=\"nofollow noreferrer\">baeldung.com/java-system-gc</a>"}],"owner":{"account_id":19966598,"reputation":13,"user_id":14633062,"display_name":"apflu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679644823,"creation_date":1679644823,"question_id":75831193,"body_markdown":"Under what specific circumstances, calling System.gc() have a great positive effect, and not considered as a useless action?\r\n\r\nThat may imply, if:\r\n- Calling System.gc() solves a frequent bug or crash, and have a clear connection in between\r\n- Calling System.gc() saves development time\r\n- Have significant positive effect on performance or resource saving\r\n- other related worth to mention\r\n\r\nExcluded:\r\n- What could possibly go wrong\r\n- saves 2KB memory\r\n\r\nI&#39;ve searched with some keywords but haven&#39;t find any existing questions. Glad to know if there is any.\r\n\r\nFound lots of posts about how to call gc, and does gc actually do. But none of them related to my question.\r\n","title":"Any Situation requires to manually call System.gc() in java?","body":"<p>Under what specific circumstances, calling System.gc() have a great positive effect, and not considered as a useless action?</p>\n<p>That may imply, if:</p>\n<ul>\n<li>Calling System.gc() solves a frequent bug or crash, and have a clear connection in between</li>\n<li>Calling System.gc() saves development time</li>\n<li>Have significant positive effect on performance or resource saving</li>\n<li>other related worth to mention</li>\n</ul>\n<p>Excluded:</p>\n<ul>\n<li>What could possibly go wrong</li>\n<li>saves 2KB memory</li>\n</ul>\n<p>I've searched with some keywords but haven't find any existing questions. Glad to know if there is any.</p>\n<p>Found lots of posts about how to call gc, and does gc actually do. But none of them related to my question.</p>\n"},{"tags":["java","ssl","database-connection"],"comments":[{"owner":{"account_id":4180514,"reputation":3621,"user_id":3425691,"display_name":"Milos86"},"score":3,"creation_date":1449786363,"post_id":34189756,"comment_id":56170235,"body_markdown":"Thanks for reply, its ok, i just didnt know that i need to put ssl=true or false on end of my String connectionURL.","body":"Thanks for reply, its ok, i just didnt know that i need to put ssl=true or false on end of my String connectionURL."},{"owner":{"account_id":3991347,"reputation":4300,"user_id":3290180,"accept_rate":69,"display_name":"user3290180"},"score":0,"creation_date":1450176281,"post_id":34189756,"comment_id":56315571,"body_markdown":"thanks, so how is it the new connectionURL?","body":"thanks, so how is it the new connectionURL?"},{"owner":{"account_id":324662,"reputation":773,"user_id":645362,"display_name":"Fernando Silveira"},"score":5,"creation_date":1489154992,"post_id":34189756,"comment_id":72560542,"body_markdown":"It&#39;s not an error, it&#39;s a warning.","body":"It&#39;s not an error, it&#39;s a warning."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692142130,"post_id":34189756,"comment_id":135583293,"body_markdown":"The `Class.forName(&quot;com.mysql.jdbc.Driver&quot;)` line hasn&#39;t been needed since 2006.","body":"The <code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;)</code> line hasn&#39;t been needed since 2006."}],"answers":[{"tags":[],"owner":{"account_id":5494272,"reputation":6643,"user_id":4365949,"display_name":"Priyank Gosalia"},"down_vote_count":4,"up_vote_count":647,"is_accepted":false,"score":643,"last_activity_date":1463467656,"creation_date":1450943309,"answer_id":34449182,"question_id":34189756,"body_markdown":"Your connection URL should look like the below,\r\n\r\n    jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\r\n\r\nThis will disable SSL and also suppress the SSL errors.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Your connection URL should look like the below,</p>\n\n<pre><code>jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\n</code></pre>\n\n<p>This will disable SSL and also suppress the SSL errors.</p>\n"},{"tags":[],"owner":{"account_id":5847287,"reputation":555,"user_id":4607057,"display_name":"Jon"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1679644555,"creation_date":1472851187,"answer_id":39300852,"question_id":34189756,"body_markdown":"An alternative method would be:\r\n\r\n```lang-java\r\n    Properties properties = new Properties();\r\n    properties.setProperty(&quot;user&quot;, &quot;root&quot;);\r\n    properties.setProperty(&quot;password&quot;, &quot;milos23&quot;);\r\n    properties.setProperty(&quot;useSSL&quot;, &quot;false&quot;);\r\n\r\n    try (Connection conn = DriverManager.getConnection(connectionUrl, properties)) {\r\n    ...\r\n    } catch (SQLException e) {\r\n    ...\r\n    }\r\n```","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>An alternative method would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Properties properties = new Properties();\n    properties.setProperty(&quot;user&quot;, &quot;root&quot;);\n    properties.setProperty(&quot;password&quot;, &quot;milos23&quot;);\n    properties.setProperty(&quot;useSSL&quot;, &quot;false&quot;);\n\n    try (Connection conn = DriverManager.getConnection(connectionUrl, properties)) {\n    ...\n    } catch (SQLException e) {\n    ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8851784,"reputation":93,"user_id":6610790,"display_name":"Ahmad.ak"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1473121236,"creation_date":1473111492,"answer_id":39337977,"question_id":34189756,"body_markdown":"the new versions of mysql-connector establish SSL connection by default ...to solve it:\r\n\r\nDownload the older version of mysql-connector such as [mysql-connector-java-5.0.8.zip][1] \r\n\r\n\r\n.\r\n.\r\nor\r\n.\r\n.\r\nDownload [OpenSSL for Windows][2] and follow the instructions how to set it\r\n\r\n\r\n  [1]: https://dev.mysql.com/downloads/connector/j/5.0.html\r\n  [2]: http://slproweb.com/products/Win32OpenSSL.html","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>the new versions of mysql-connector establish SSL connection by default ...to solve it:</p>\n\n<p>Download the older version of mysql-connector such as <a href=\"https://dev.mysql.com/downloads/connector/j/5.0.html\" rel=\"nofollow\">mysql-connector-java-5.0.8.zip</a> </p>\n\n<p>.\n.\nor\n.\n.\nDownload <a href=\"http://slproweb.com/products/Win32OpenSSL.html\" rel=\"nofollow\">OpenSSL for Windows</a> and follow the instructions how to set it</p>\n"},{"tags":[],"owner":{"account_id":5913142,"reputation":18650,"user_id":4652706,"accept_rate":100,"display_name":"KARTHIKEYAN.A"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1509705905,"creation_date":1473254132,"answer_id":39370949,"question_id":34189756,"body_markdown":"Use this to solve the problem in hive while making connection with MySQL\r\n\r\n    &lt;property&gt;\r\n       &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;\r\n       &lt;value&gt;jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true&amp;amp;autoReconnect=true&amp;amp;useSSL=false&lt;/value&gt;\r\n       &lt;description&gt;metadata is stored in a MySQL server&lt;/description&gt;\r\n    &lt;/property&gt;","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Use this to solve the problem in hive while making connection with MySQL</p>\n\n<pre><code>&lt;property&gt;\n   &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;\n   &lt;value&gt;jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true&amp;amp;autoReconnect=true&amp;amp;useSSL=false&lt;/value&gt;\n   &lt;description&gt;metadata is stored in a MySQL server&lt;/description&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1373434,"reputation":1729,"user_id":1307918,"display_name":"Peter DeGregorio"},"down_vote_count":2,"up_vote_count":149,"is_accepted":false,"score":147,"last_activity_date":1479140057,"creation_date":1479140057,"answer_id":40593166,"question_id":34189756,"body_markdown":"How about using SSL but turning off server verification (such as when in development mode on your own computer):\r\n\r\n    jdbc:mysql://localhost:3306/Peoples?verifyServerCertificate=false&amp;useSSL=true","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>How about using SSL but turning off server verification (such as when in development mode on your own computer):</p>\n\n<pre><code>jdbc:mysql://localhost:3306/Peoples?verifyServerCertificate=false&amp;useSSL=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":525142,"reputation":91,"user_id":1274477,"display_name":"Tomal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1503766708,"creation_date":1485094970,"answer_id":41792032,"question_id":34189756,"body_markdown":"This was OK for me:\r\n\r\n    this.conn = (Connection)DriverManager\r\n        .getConnection(url + dbName + &quot;?useSSL=false&quot;, userName, password);","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>This was OK for me:</p>\n\n<pre><code>this.conn = (Connection)DriverManager\n    .getConnection(url + dbName + \"?useSSL=false\", userName, password);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1492577857,"creation_date":1490792912,"answer_id":43094468,"question_id":34189756,"body_markdown":"you need to user your mysql path like this: \r\n\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/world?useSSL=true&quot;/&gt;\r\n\r\n\r\n","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>you need to user your mysql path like this: </p>\n\n<pre><code>&lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/world?useSSL=true\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1586340386,"creation_date":1516865894,"answer_id":48437821,"question_id":34189756,"body_markdown":"Mention the **`url`** like:\r\n\r\n    jdbc:mysql://hostname:3306/hibernatedb?autoReconnect=true&amp;useSSL=false\r\nBut in xml configuration when you mention **`&amp;`** sign, the IDE shows below error:\r\n&gt;The reference to entity &quot;useSSL&quot; must end with the &#39;;&#39; delimiter.\r\n\r\nAnd then you have to explicitly use the **`&amp;amp;`** instead of **`&amp;`** to be determined as **`&amp;`** by `xml` thereafter in `xml` you have to give the url in xml configuration like this:\r\n\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://hostname:3306/hibernatedb?autoReconnect=true&amp;amp;useSSL=false&lt;/property&gt;","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Mention the <strong><code>url</code></strong> like:</p>\n\n<pre><code>jdbc:mysql://hostname:3306/hibernatedb?autoReconnect=true&amp;useSSL=false\n</code></pre>\n\n<p>But in xml configuration when you mention <strong><code>&amp;</code></strong> sign, the IDE shows below error:</p>\n\n<blockquote>\n  <p>The reference to entity \"useSSL\" must end with the ';' delimiter.</p>\n</blockquote>\n\n<p>And then you have to explicitly use the <strong><code>&amp;amp;</code></strong> instead of <strong><code>&amp;</code></strong> to be determined as <strong><code>&amp;</code></strong> by <code>xml</code> thereafter in <code>xml</code> you have to give the url in xml configuration like this:</p>\n\n<pre><code>&lt;property name=\"connection.url\"&gt;jdbc:mysql://hostname:3306/hibernatedb?autoReconnect=true&amp;amp;useSSL=false&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10285565,"reputation":2232,"user_id":7588987,"display_name":"KHACHORNCHIT"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1525359995,"creation_date":1520239218,"answer_id":49106379,"question_id":34189756,"body_markdown":"I found this warning too then I fixed it by using SSL=false suffix to the connection string like this example code.\r\n\r\n**Example:**\r\n\r\n    connectionString = &quot;jdbc:mysql://{server-name}:3306/%s?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false&quot;","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>I found this warning too then I fixed it by using SSL=false suffix to the connection string like this example code.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>connectionString = \"jdbc:mysql://{server-name}:3306/%s?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10208055,"reputation":917,"user_id":7697901,"display_name":"Alexandr Kovalenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539760737,"creation_date":1539759294,"answer_id":52848925,"question_id":34189756,"body_markdown":"I use this property for hibernate in config xml\r\n\r\n \r\n\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;\r\n    jdbc:mysql://localhost:3306/bookshop?serverTimezone=UTC&amp;amp;useSSL=false\r\n    &lt;/property&gt;\r\n\r\nwithout - *serverTimezone=UTC*  - it doesn&#39;t work\r\n","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>I use this property for hibernate in config xml</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.url\"&gt;\njdbc:mysql://localhost:3306/bookshop?serverTimezone=UTC&amp;amp;useSSL=false\n&lt;/property&gt;\n</code></pre>\n\n<p>without - <em>serverTimezone=UTC</em>  - it doesn't work</p>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558847612,"creation_date":1558847612,"answer_id":56310830,"question_id":34189756,"body_markdown":"Solution\nTo fix it, append a useSSL=false at the end of the MySQL connection string : \n\nex.\n\napplication.properties\n# mysql datasource\n\n    spring.datasource.url=jdbc:mysql://localhost/dbname?useSSL=false\n    spring.datasource.username=root\n    spring.datasource.password=password\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\n","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Solution\nTo fix it, append a useSSL=false at the end of the MySQL connection string :</p>\n<p>ex.</p>\n<p>application.properties</p>\n<h1>mysql datasource</h1>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/dbname?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10516871,"reputation":149,"user_id":7750711,"display_name":"Deepali Maniyar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568791674,"creation_date":1568791674,"answer_id":57987269,"question_id":34189756,"body_markdown":"Since I am currently in development mode I set useSSL to No not in tomcat but in mysql server configurations. Went to Manage Access Settings\\Manage Server Connections from workbench -&gt; Selected my connection. Inside connection tab went to SSL tab and disabled the settings. Worked for me.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Since I am currently in development mode I set useSSL to No not in tomcat but in mysql server configurations. Went to Manage Access Settings\\Manage Server Connections from workbench -> Selected my connection. Inside connection tab went to SSL tab and disabled the settings. Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":5034466,"reputation":1699,"user_id":4043723,"display_name":"Buffoonism"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1573038095,"creation_date":1573038095,"answer_id":58728615,"question_id":34189756,"body_markdown":"The defaults for initiating a connection to a MySQL server were changed in the recent past, and (from a quick look through the most popular questions and answers on stack overflow) the new values are causing a lot of confusion. What is worse is that the standard advice seems to be to disable SSL altogether, which is a bit of a disaster in the making.\r\n\r\nNow, if your connection is genuinely not exposed to the network (localhost only) or you are working in a non-production environment with no real data, then sure: there&#39;s no harm in disabling SSL by including the option `useSSL=false`.\r\n\r\nFor everyone else, the following set of options are required to get SSL working with certificate and host verification:\r\n\r\n - useSSL=true \r\n - sslMode=VERIFY_IDENTITY\r\n - trustCertificateKeyStoreUrl=file:path_to_keystore\r\n - trustCertificateKeyStorePassword=password\r\n\r\nAs an added bonus, seeing as you&#39;re already playing with the options, it is simple to disable the weak SSL protocols too:\r\n\r\n - enabledTLSProtocols=TLSv1.2\r\n\r\n# Example\r\nSo as a working example you&#39;ll need to follow the following broad steps:\r\n\r\nFirst, make sure you have a valid certificate generated for the MySQL server host, and that the CA certificate is installed onto the client host (if you are using self-signed, then you&#39;ll likely need to do this manually, but for the popular public CAs it&#39;ll already be there).\r\n\r\nNext, make sure that the java keystore contains all the CA certificates. On Debian/Ubuntu this is achieved by running:\r\n\r\n    update-ca-certificates -f\r\n    chmod 644 /etc/ssl/certs/java/cacerts\r\n\r\nThen finally, update the connection string to include all the required options, which on Debian/Ubuntu would be something a bit like (adapt as required):\r\n\r\n    jdbc:mysql://{mysql_server}/confluence?useSSL=true&amp;sslMode=VERIFY_IDENTITY&amp;trustCertificateKeyStoreUrl=file%3A%2Fetc%2Fssl%2Fcerts%2Fjava%2Fcacerts&amp;trustCertificateKeyStorePassword=changeit&amp;enabledTLSProtocols=TLSv1.2&amp;useUnicode=true&amp;characterEncoding=utf8\r\n\r\nReference: [https://beansandanicechianti.blogspot.com/2019/11/mysql-ssl-configuration.html][1]\r\n\r\n\r\n  [1]: https://beansandanicechianti.blogspot.com/2019/11/mysql-ssl-configuration.html","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>The defaults for initiating a connection to a MySQL server were changed in the recent past, and (from a quick look through the most popular questions and answers on stack overflow) the new values are causing a lot of confusion. What is worse is that the standard advice seems to be to disable SSL altogether, which is a bit of a disaster in the making.</p>\n\n<p>Now, if your connection is genuinely not exposed to the network (localhost only) or you are working in a non-production environment with no real data, then sure: there's no harm in disabling SSL by including the option <code>useSSL=false</code>.</p>\n\n<p>For everyone else, the following set of options are required to get SSL working with certificate and host verification:</p>\n\n<ul>\n<li>useSSL=true </li>\n<li>sslMode=VERIFY_IDENTITY</li>\n<li>trustCertificateKeyStoreUrl=file:path_to_keystore</li>\n<li>trustCertificateKeyStorePassword=password</li>\n</ul>\n\n<p>As an added bonus, seeing as you're already playing with the options, it is simple to disable the weak SSL protocols too:</p>\n\n<ul>\n<li>enabledTLSProtocols=TLSv1.2</li>\n</ul>\n\n<h1>Example</h1>\n\n<p>So as a working example you'll need to follow the following broad steps:</p>\n\n<p>First, make sure you have a valid certificate generated for the MySQL server host, and that the CA certificate is installed onto the client host (if you are using self-signed, then you'll likely need to do this manually, but for the popular public CAs it'll already be there).</p>\n\n<p>Next, make sure that the java keystore contains all the CA certificates. On Debian/Ubuntu this is achieved by running:</p>\n\n<pre><code>update-ca-certificates -f\nchmod 644 /etc/ssl/certs/java/cacerts\n</code></pre>\n\n<p>Then finally, update the connection string to include all the required options, which on Debian/Ubuntu would be something a bit like (adapt as required):</p>\n\n<pre><code>jdbc:mysql://{mysql_server}/confluence?useSSL=true&amp;sslMode=VERIFY_IDENTITY&amp;trustCertificateKeyStoreUrl=file%3A%2Fetc%2Fssl%2Fcerts%2Fjava%2Fcacerts&amp;trustCertificateKeyStorePassword=changeit&amp;enabledTLSProtocols=TLSv1.2&amp;useUnicode=true&amp;characterEncoding=utf8\n</code></pre>\n\n<p>Reference: <a href=\"https://beansandanicechianti.blogspot.com/2019/11/mysql-ssl-configuration.html\" rel=\"noreferrer\">https://beansandanicechianti.blogspot.com/2019/11/mysql-ssl-configuration.html</a></p>\n"},{"tags":[],"owner":{"account_id":9361010,"reputation":1008,"user_id":6947332,"display_name":"naib khan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1613417266,"creation_date":1613417266,"answer_id":66214230,"question_id":34189756,"body_markdown":"To disable the warning while connecting to a database in Java, use the below concept −\r\n\r\n    autoReconnect=true&amp;useSSL=false\r\n\r\nJust need to change connectionURL like :\r\n\r\n    String connectionURL = jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\r\n\r\nThis will disable SSL and also suppress the SSL errors.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>To disable the warning while connecting to a database in Java, use the below concept −</p>\n<pre><code>autoReconnect=true&amp;useSSL=false\n</code></pre>\n<p>Just need to change connectionURL like :</p>\n<pre><code>String connectionURL = jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\n</code></pre>\n<p>This will disable SSL and also suppress the SSL errors.</p>\n"},{"tags":[],"owner":{"account_id":443799,"reputation":977,"user_id":835239,"accept_rate":71,"display_name":"zhongxiao37"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679150608,"creation_date":1619443265,"answer_id":67267459,"question_id":34189756,"body_markdown":"Per https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html, `sslMode` property replaced the deprecated legacy properties `useSSL`, `requireSSL`, and `verifyServerCertificate`. So, you could use the connection string `sslMode=DISABLED`.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Per <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html</a>, <code>sslMode</code> property replaced the deprecated legacy properties <code>useSSL</code>, <code>requireSSL</code>, and <code>verifyServerCertificate</code>. So, you could use the connection string <code>sslMode=DISABLED</code>.</p>\n"},{"tags":[],"owner":{"account_id":6269858,"reputation":19,"user_id":4874410,"display_name":"SHUBHAM RUHELA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623397429,"creation_date":1623397429,"answer_id":67933098,"question_id":34189756,"body_markdown":"Please update your mysql connector. That will help.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Please update your mysql connector. That will help.</p>\n"},{"tags":[],"owner":{"account_id":10048688,"reputation":94,"user_id":7429156,"display_name":"Abhiram S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636538794,"creation_date":1636538794,"answer_id":69911271,"question_id":34189756,"body_markdown":"If your connection is genuinely exposed to the network or you are working in a production environment with real data, then sure: we shouldn&#39;t be disabling SSL by including the option useSSL=false.\r\n\r\nTry to update the JDBC connection string to include the latest protocol version as foloowing: jdbc:mysql://&lt;hostName&gt;:&lt;portNumber&gt;/&lt;schemaName&gt;?enabledTLSProtocols=TLSv1.2\r\n\r\nWe have to explicitly mention the type of TLS protocol while establishing the DB connection in JDK 11.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>If your connection is genuinely exposed to the network or you are working in a production environment with real data, then sure: we shouldn't be disabling SSL by including the option useSSL=false.</p>\n<p>Try to update the JDBC connection string to include the latest protocol version as foloowing: jdbc:mysql://:/?enabledTLSProtocols=TLSv1.2</p>\n<p>We have to explicitly mention the type of TLS protocol while establishing the DB connection in JDK 11.</p>\n"},{"tags":[],"owner":{"account_id":10811702,"reputation":81,"user_id":7952107,"display_name":"Jackson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642079209,"creation_date":1642079209,"answer_id":70697140,"question_id":34189756,"body_markdown":"Simply use Platform Independent zip or tar\r\nhttps://dev.mysql.com/downloads/connector/j/?os=26","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Simply use Platform Independent zip or tar\n<a href=\"https://dev.mysql.com/downloads/connector/j/?os=26\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/?os=26</a></p>\n"},{"tags":[],"owner":{"account_id":435806,"reputation":111,"user_id":8363642,"display_name":"Pyroseza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645615755,"creation_date":1645615755,"answer_id":71236091,"question_id":34189756,"body_markdown":"As of 8.0.13 the `useSSL` parameter is now deprecated and you should use `sslMode`:\r\n\r\n[MySQL :: MySQL Connector/J 8.0 Developer Guide :: 6.3.5 Security][1]\r\n\r\n&gt; sslMode\r\n&gt; \r\n&gt; By default, network connections are SSL encrypted; this property\r\n&gt; permits secure connections to be turned off, or a different levels of\r\n&gt; security to be chosen. The following values are allowed: &quot;DISABLED&quot; -\r\n&gt; Establish unencrypted connections; &quot;PREFERRED&quot; - (default) Establish\r\n&gt; encrypted connections if the server enabled them, otherwise fall back\r\n&gt; to unencrypted connections; &quot;REQUIRED&quot; - Establish secure connections\r\n&gt; if the server enabled them, fail otherwise; &quot;VERIFY_CA&quot; - Like\r\n&gt; &quot;REQUIRED&quot; but additionally verify the server TLS certificate against\r\n&gt; the configured Certificate Authority (CA) certificates;\r\n&gt; &quot;VERIFY_IDENTITY&quot; - Like &quot;VERIFY_CA&quot;, but additionally verify that the\r\n&gt; server certificate matches the host to which the connection is\r\n&gt; attempted.\r\n&gt; \r\n&gt; This property replaced the deprecated legacy properties &quot;useSSL&quot;,\r\n&gt; &quot;requireSSL&quot;, and &quot;verifyServerCertificate&quot;, which are still accepted\r\n&gt; but translated into a value for &quot;sslMode&quot; if &quot;sslMode&quot; is not\r\n&gt; explicitly set: &quot;useSSL=false&quot; is translated to &quot;sslMode=DISABLED&quot;;\r\n&gt; \r\n&gt; Unknown macro: {&quot;useSSL=true&quot;, &quot;requireSSL=false&quot;,\r\n&gt; &quot;verifyServerCertificate=false&quot;} is translated to &quot;sslMode=PREFERRED&quot;;\r\n&gt; \r\n&gt; Unknown macro: {&quot;useSSL=true&quot;, &quot;requireSSL=true&quot;,\r\n&gt; &quot;verifyServerCertificate=false&quot;} is translated to &quot;sslMode=REQUIRED&quot;;\r\n&gt; \r\n&gt; Unknown macro: {&quot;useSSL=true&quot; AND &quot;verifyServerCertificate=true&quot;} is\r\n&gt; translated to &quot;sslMode=VERIFY_CA&quot;. There is no equivalent legacy\r\n&gt; settings for &quot;sslMode=VERIFY_IDENTITY&quot;. Note that, for ALL server\r\n&gt; versions, the default setting of &quot;sslMode&quot; is &quot;PREFERRED&quot;, and it is\r\n&gt; equivalent to the legacy settings of &quot;useSSL=true&quot;,\r\n&gt; &quot;requireSSL=false&quot;, and &quot;verifyServerCertificate=false&quot;, which are\r\n&gt; different from their default settings for Connector/J 8.0.12 and\r\n&gt; earlier in some situations. Applications that continue to use the\r\n&gt; legacy properties and rely on their old default settings should be\r\n&gt; reviewed.\r\n&gt; \r\n&gt; The legacy properties are ignored if &quot;sslMode&quot; is set explicitly. If\r\n&gt; none of &quot;sslMode&quot; or &quot;useSSL&quot; is set explicitly, the default setting\r\n&gt; of &quot;sslMode=PREFERRED&quot; applies.\r\n&gt; \r\n&gt; Default Value\tPREFERRED Since Version\t8.0.13\r\n\r\n\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>As of 8.0.13 the <code>useSSL</code> parameter is now deprecated and you should use <code>sslMode</code>:</p>\n<p><a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html\" rel=\"nofollow noreferrer\">MySQL :: MySQL Connector/J 8.0 Developer Guide :: 6.3.5 Security</a></p>\n<blockquote>\n<p>sslMode</p>\n<p>By default, network connections are SSL encrypted; this property\npermits secure connections to be turned off, or a different levels of\nsecurity to be chosen. The following values are allowed: &quot;DISABLED&quot; -\nEstablish unencrypted connections; &quot;PREFERRED&quot; - (default) Establish\nencrypted connections if the server enabled them, otherwise fall back\nto unencrypted connections; &quot;REQUIRED&quot; - Establish secure connections\nif the server enabled them, fail otherwise; &quot;VERIFY_CA&quot; - Like\n&quot;REQUIRED&quot; but additionally verify the server TLS certificate against\nthe configured Certificate Authority (CA) certificates;\n&quot;VERIFY_IDENTITY&quot; - Like &quot;VERIFY_CA&quot;, but additionally verify that the\nserver certificate matches the host to which the connection is\nattempted.</p>\n<p>This property replaced the deprecated legacy properties &quot;useSSL&quot;,\n&quot;requireSSL&quot;, and &quot;verifyServerCertificate&quot;, which are still accepted\nbut translated into a value for &quot;sslMode&quot; if &quot;sslMode&quot; is not\nexplicitly set: &quot;useSSL=false&quot; is translated to &quot;sslMode=DISABLED&quot;;</p>\n<p>Unknown macro: {&quot;useSSL=true&quot;, &quot;requireSSL=false&quot;,\n&quot;verifyServerCertificate=false&quot;} is translated to &quot;sslMode=PREFERRED&quot;;</p>\n<p>Unknown macro: {&quot;useSSL=true&quot;, &quot;requireSSL=true&quot;,\n&quot;verifyServerCertificate=false&quot;} is translated to &quot;sslMode=REQUIRED&quot;;</p>\n<p>Unknown macro: {&quot;useSSL=true&quot; AND &quot;verifyServerCertificate=true&quot;} is\ntranslated to &quot;sslMode=VERIFY_CA&quot;. There is no equivalent legacy\nsettings for &quot;sslMode=VERIFY_IDENTITY&quot;. Note that, for ALL server\nversions, the default setting of &quot;sslMode&quot; is &quot;PREFERRED&quot;, and it is\nequivalent to the legacy settings of &quot;useSSL=true&quot;,\n&quot;requireSSL=false&quot;, and &quot;verifyServerCertificate=false&quot;, which are\ndifferent from their default settings for Connector/J 8.0.12 and\nearlier in some situations. Applications that continue to use the\nlegacy properties and rely on their old default settings should be\nreviewed.</p>\n<p>The legacy properties are ignored if &quot;sslMode&quot; is set explicitly. If\nnone of &quot;sslMode&quot; or &quot;useSSL&quot; is set explicitly, the default setting\nof &quot;sslMode=PREFERRED&quot; applies.</p>\n<p>Default Value PREFERRED Since Version 8.0.13</p>\n</blockquote>\n"}],"owner":{"account_id":4180514,"reputation":3621,"user_id":3425691,"display_name":"Milos86"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614081,"favorite_count":0,"down_vote_count":1,"up_vote_count":362,"answer_count":19,"score":361,"last_activity_date":1679644555,"creation_date":1449698191,"question_id":34189756,"body_markdown":"With the two classes below, I&#39;ve tried connect to a MySQL database. However, I always get this error:\r\n\r\n&lt;blockquote&gt;\r\nWed Dec 09 22:46:52 CET 2015 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n&lt;/blockquote&gt;\r\n\r\n\r\nThis is the test class with the `main` method:\r\n\r\n    public class TestDatabase {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tDatabase db = new Database();\r\n    \t\ttry {\r\n    \t\t\tdb.connect();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tdb.close();\r\n    \t}\r\n    }\r\n\r\nThis is the `Database` class:\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    public class Database {\r\n    \t\r\n    \tprivate Connection con;\r\n    \t\r\n    \tpublic void connect() throws Exception{\r\n    \t\t\r\n    \t\tif(con != null) return;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t\tthrow new Exception(&quot;No database&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tString connectionURL = &quot;jdbc:mysql://localhost:3306/Peoples&quot;;\r\n    \t\t\r\n    \t\tcon = DriverManager.getConnection(connectionURL, &quot;root&quot;, &quot;milos23&quot;);\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void close(){\r\n    \t\tif(con != null){\r\n    \t\t\ttry {\r\n    \t\t\t\tcon.close();\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\t\r\n\r\n","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>With the two classes below, I've tried connect to a MySQL database. However, I always get this error:</p>\n\n<blockquote>\nWed Dec 09 22:46:52 CET 2015 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n</blockquote>\n\n<p>This is the test class with the <code>main</code> method:</p>\n\n<pre><code>public class TestDatabase {\n\n    public static void main(String[] args) {\n        Database db = new Database();\n        try {\n            db.connect();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        db.close();\n    }\n}\n</code></pre>\n\n<p>This is the <code>Database</code> class:</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class Database {\n\n    private Connection con;\n\n    public void connect() throws Exception{\n\n        if(con != null) return;\n\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n        } catch (ClassNotFoundException e) {\n            throw new Exception(\"No database\");\n        }\n\n        String connectionURL = \"jdbc:mysql://localhost:3306/Peoples\";\n\n        con = DriverManager.getConnection(connectionURL, \"root\", \"milos23\");        \n    }\n\n    public void close(){\n        if(con != null){\n            try {\n                con.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28091251,"reputation":1,"user_id":21460733,"display_name":"white fox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679644158,"creation_date":1679644158,"question_id":75831109,"body_markdown":"i wanna write customize annotation\r\n\r\n    @Target({ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @RequestMapping(\r\n    method = {RequestMethod.POST}\r\n    )\r\n    public @interface PostRequest {\r\n    \r\n        String[] value() default {};\r\n        \r\n        String[] path() default {};\r\n    \r\n    }\r\n\r\nif i dont use @AliasFor annotation for value() and path() ,the console show error code when i use postman to request my method like :\r\n&quot;o.s.web.servlet.PageNotFound : No mapping for POST /camera/play/getId&quot;.\r\n\r\nif i use @AliasFor, i can send a successful request.\r\nlike this :\r\n\r\n    @Target({ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @RequestMapping(\r\n            method = {RequestMethod.POST}\r\n    )\r\n    public @interface PostRequest {\r\n    \r\n        @AliasFor(&quot;path&quot;)\r\n        String[] value() default {};\r\n    \r\n        @AliasFor(&quot;value&quot;)\r\n        String[] path() default {};\r\n    }\r\n\r\nwhat reason is this?","title":"o.s.web.servlet.PageNotFound : No mapping for POST","body":"<p>i wanna write customize annotation</p>\n<pre><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RequestMapping(\nmethod = {RequestMethod.POST}\n)\npublic @interface PostRequest {\n\n    String[] value() default {};\n    \n    String[] path() default {};\n\n}\n</code></pre>\n<p>if i dont use @AliasFor annotation for value() and path() ,the console show error code when i use postman to request my method like :\n&quot;o.s.web.servlet.PageNotFound : No mapping for POST /camera/play/getId&quot;.</p>\n<p>if i use @AliasFor, i can send a successful request.\nlike this :</p>\n<pre><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RequestMapping(\n        method = {RequestMethod.POST}\n)\npublic @interface PostRequest {\n\n    @AliasFor(&quot;path&quot;)\n    String[] value() default {};\n\n    @AliasFor(&quot;value&quot;)\n    String[] path() default {};\n}\n</code></pre>\n<p>what reason is this?</p>\n"},{"tags":["java","reflection","annotations","java-bytecode-asm","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":5255036,"reputation":1267,"user_id":4198170,"display_name":"Tobse"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589492996,"creation_date":1589491889,"answer_id":61807759,"question_id":61807758,"body_markdown":"There are many samples which show the setup with asm and reading annotaions. But they don&#39;t showed it, for method annotations and how to also read the annotation value.\r\n\r\nMinimal example how to do it:\r\n``` java\r\nimport org.objectweb.asm.*;\r\n\r\npublic class AnnotationScanner extends ClassVisitor {\r\n    public static void main(String[] args) throws Exception {\r\n        ClassReader cr = new ClassReader(SampleClass.class.getCanonicalName());\r\n        cr.accept(new AnnotationScanner(), 0);\r\n    }\r\n\r\n    public AnnotationScanner() {\r\n        super(Opcodes.ASM8);\r\n    }\r\n\r\n    static class MyAnnotationVisitor extends AnnotationVisitor {\r\n        MyAnnotationVisitor() {\r\n            super(Opcodes.ASM8);\r\n        }\r\n        @Override\r\n        public void visit(String name, Object value) {\r\n            System.out.println(&quot;annotation: &quot; + name + &quot; = &quot; + value);\r\n            super.visit(name, value);\r\n        }\r\n    }\r\n\r\n    static class MyMethodVisitor extends MethodVisitor {\r\n        MyMethodVisitor() {\r\n            super(Opcodes.ASM8);\r\n        }\r\n        @Override\r\n        public AnnotationVisitor visitAnnotation(String desc, boolean visible) {\r\n            System.out.println(&quot;annotation type: &quot; + desc);\r\n            return new MyAnnotationVisitor();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public MethodVisitor visitMethod(int access, String name, String desc,\r\n                                     String signature, String[] exceptions) {\r\n        System.out.println(&quot;method: name = &quot; + name);\r\n        return new MyMethodVisitor();\r\n    }\r\n}\r\n```\r\n\r\n**Maven dependecy**\r\n``` xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n  &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n▶ **It will print:**\r\n```\r\nmethod: name = callMeMaybe\r\nannotation type: Lorg/springdot/sandbox/asm/simple/asm/MyAnnotation;\r\nannotation: artist = Carly Rae Jepsen\r\n```","title":"How to read a Java class method annotation value with ASM","body":"<p>There are many samples which show the setup with asm and reading annotaions. But they don't showed it, for method annotations and how to also read the annotation value.</p>\n\n<p>Minimal example how to do it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.objectweb.asm.*;\n\npublic class AnnotationScanner extends ClassVisitor {\n    public static void main(String[] args) throws Exception {\n        ClassReader cr = new ClassReader(SampleClass.class.getCanonicalName());\n        cr.accept(new AnnotationScanner(), 0);\n    }\n\n    public AnnotationScanner() {\n        super(Opcodes.ASM8);\n    }\n\n    static class MyAnnotationVisitor extends AnnotationVisitor {\n        MyAnnotationVisitor() {\n            super(Opcodes.ASM8);\n        }\n        @Override\n        public void visit(String name, Object value) {\n            System.out.println(\"annotation: \" + name + \" = \" + value);\n            super.visit(name, value);\n        }\n    }\n\n    static class MyMethodVisitor extends MethodVisitor {\n        MyMethodVisitor() {\n            super(Opcodes.ASM8);\n        }\n        @Override\n        public AnnotationVisitor visitAnnotation(String desc, boolean visible) {\n            System.out.println(\"annotation type: \" + desc);\n            return new MyAnnotationVisitor();\n        }\n    }\n\n    @Override\n    public MethodVisitor visitMethod(int access, String name, String desc,\n                                     String signature, String[] exceptions) {\n        System.out.println(\"method: name = \" + name);\n        return new MyMethodVisitor();\n    }\n}\n</code></pre>\n\n<p><strong>Maven dependecy</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n  &lt;artifactId&gt;asm&lt;/artifactId&gt;\n  &lt;version&gt;8.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>▶ <strong>It will print:</strong></p>\n\n<pre><code>method: name = callMeMaybe\nannotation type: Lorg/springdot/sandbox/asm/simple/asm/MyAnnotation;\nannotation: artist = Carly Rae Jepsen\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15607235,"reputation":41,"user_id":11259656,"display_name":"Gagan Kaushish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679643875,"creation_date":1679369192,"answer_id":75797092,"question_id":61807758,"body_markdown":"Usually People face issue when they want to read array values in an Annotation.\r\n    \r\nBecause to read array Annotation we have to use visitArray Method and\r\nvisitArray calls visit method internally to read values. Sharing below code how can you achieve. Best practice to use switch under visit &amp; visitArray Method\r\n    \r\nSuppose there is a test class, interface Group is defined but we have to \r\nread values via visitArray method of AnnotationVisitor class\r\n    \r\n    @Tid(value = &quot;1234&quot;)\r\n    @Group(value = {&quot;G1&quot;,&quot;G2&quot;})\r\n    Class A {\r\n    }\r\n    \r\n    =====================================Solution ========================\r\n    \r\n    public AnnotationVisitor visitAnnotation(String desc){\r\n    \r\n    if(desc = Attr.Tid) new AnnotationVisitor(Opcodes.ASM9){\r\n            String id = &quot;&quot;;\r\n          @Override \r\n          public void visit(String name, Object v ){\r\n            id = v;\r\n            }\r\n    \r\n          @Override\r\n          public void visitEnd(){\r\n         \r\n            }\r\n      }  //if statement closes\r\n    \r\n     else if(desc == Attr.Group) new AnnotationVisitor(Opcodes.ASM9){\r\n       //declare Set or ArrayList e.g. storeGroupValue\r\n       @Override\r\n      public AnnotationVisitor visitArray(String name){\r\n    \r\n        if(name.equals(&quot;Group&quot;)){ new AnnotationVisitor(Opcodes.ASM9) {\r\n       @Override\r\n        public void visit(String name, Object value){\r\n        storeGroupValue.add(value)    --&gt; this will store G1, G2 values\r\n        } //visit method \r\n       } //Av Object\r\n      } // if condition\r\n     else{\r\n      super.visitArray(name) }\r\n    \r\n    }// close visitArray method\r\n    \r\n    === write visitEnd of visitArray=====\r\n    \r\n    }  //else if to validate Group Annotation\r\n    \r\n    } //close visitAnnotation\r\n\r\n\r\n\r\n","title":"How to read a Java class method annotation value with ASM","body":"<p>Usually People face issue when they want to read array values in an Annotation.</p>\n<p>Because to read array Annotation we have to use visitArray Method and\nvisitArray calls visit method internally to read values. Sharing below code how can you achieve. Best practice to use switch under visit &amp; visitArray Method</p>\n<p>Suppose there is a test class, interface Group is defined but we have to\nread values via visitArray method of AnnotationVisitor class</p>\n<pre><code>@Tid(value = &quot;1234&quot;)\n@Group(value = {&quot;G1&quot;,&quot;G2&quot;})\nClass A {\n}\n\n=====================================Solution ========================\n\npublic AnnotationVisitor visitAnnotation(String desc){\n\nif(desc = Attr.Tid) new AnnotationVisitor(Opcodes.ASM9){\n        String id = &quot;&quot;;\n      @Override \n      public void visit(String name, Object v ){\n        id = v;\n        }\n\n      @Override\n      public void visitEnd(){\n     \n        }\n  }  //if statement closes\n\n else if(desc == Attr.Group) new AnnotationVisitor(Opcodes.ASM9){\n   //declare Set or ArrayList e.g. storeGroupValue\n   @Override\n  public AnnotationVisitor visitArray(String name){\n\n    if(name.equals(&quot;Group&quot;)){ new AnnotationVisitor(Opcodes.ASM9) {\n   @Override\n    public void visit(String name, Object value){\n    storeGroupValue.add(value)    --&gt; this will store G1, G2 values\n    } //visit method \n   } //Av Object\n  } // if condition\n else{\n  super.visitArray(name) }\n\n}// close visitArray method\n\n=== write visitEnd of visitArray=====\n\n}  //else if to validate Group Annotation\n\n} //close visitAnnotation\n</code></pre>\n"}],"owner":{"account_id":5255036,"reputation":1267,"user_id":4198170,"display_name":"Tobse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1766,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1679643875,"creation_date":1589491889,"question_id":61807758,"body_markdown":"How can I read read the value of a Java method annotation at runtime with [ASM](https://asm.ow2.io/) ?  \r\nThe Annotation has only a `CLASS` `RetentionPolicy`, so it&#39;s not possible to do that with Reflections.\r\n\r\n| Policy `CLASS`: Annotations are to be recorded in the class file by the compiler but need not be retained by the VM at run time\r\n\r\n**Example**:  \r\nI want to extract the value `Carly Rae Jepsen` out of the `artist` field at runtime:\r\n``` java\r\npublic class SampleClass {\r\n\r\n    @MyAnnotation(artist = &quot;Carly Rae Jepsen&quot;)\r\n    public void callMeMaybe(){}\r\n}\r\n```\r\n``` java\r\n@Documented\r\n@Retention(RetentionPolicy.CLASS)\r\n@Target(ElementType.METHOD)\r\npublic @interface MyAnnotation {\r\n\r\n    String artist() default &quot;&quot;;\r\n}\r\n```\r\n\r\n**But why?**  \r\nCan&#39;t you just change the `RetentionPolicy` to `RUNTIME` and do it with reflections?  \r\nIn short: No. I use the [modelmapper](http://modelmapper.org/) framework (Simple, Intelligent, Object Mapping). There I specify bidirectional mappings between Java classes by annotated methods. I wan&#39;t to reuse this information of hierarchical mappings, for change event propagation. But the provided _mapstruct_ `org.mapstruct.Mapping` Annotation has `CLASS RetentionPolicy`. This is why I need to read that information out of the class files - and need [ASM](https://asm.ow2.io/).\r\n","title":"How to read a Java class method annotation value with ASM","body":"<p>How can I read read the value of a Java method annotation at runtime with <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a> ?<br>\nThe Annotation has only a <code>CLASS</code> <code>RetentionPolicy</code>, so it's not possible to do that with Reflections.</p>\n\n<p>| Policy <code>CLASS</code>: Annotations are to be recorded in the class file by the compiler but need not be retained by the VM at run time</p>\n\n<p><strong>Example</strong>:<br>\nI want to extract the value <code>Carly Rae Jepsen</code> out of the <code>artist</code> field at runtime:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleClass {\n\n    @MyAnnotation(artist = \"Carly Rae Jepsen\")\n    public void callMeMaybe(){}\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Retention(RetentionPolicy.CLASS)\n@Target(ElementType.METHOD)\npublic @interface MyAnnotation {\n\n    String artist() default \"\";\n}\n</code></pre>\n\n<p><strong>But why?</strong><br>\nCan't you just change the <code>RetentionPolicy</code> to <code>RUNTIME</code> and do it with reflections?<br>\nIn short: No. I use the <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">modelmapper</a> framework (Simple, Intelligent, Object Mapping). There I specify bidirectional mappings between Java classes by annotated methods. I wan't to reuse this information of hierarchical mappings, for change event propagation. But the provided <em>mapstruct</em> <code>org.mapstruct.Mapping</code> Annotation has <code>CLASS RetentionPolicy</code>. This is why I need to read that information out of the class files - and need <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a>.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":7879473,"reputation":907,"user_id":5954058,"display_name":"Miller Cy Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1538974784,"creation_date":1538974784,"answer_id":52695636,"question_id":52694164,"body_markdown":"You have to add maven dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"spring cannot access org.springframework.core.io.Inputstreamsource in list multipartfile","body":"<p>You have to add maven dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28071014,"reputation":1,"user_id":21443595,"display_name":"Ubiratan Roberte Cardoso Passo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679643853,"creation_date":1679362892,"answer_id":75796699,"question_id":52694164,"body_markdown":"Add the dependencies and change your import to like this\r\n\r\n    import org.springframework.core.io.*;","title":"spring cannot access org.springframework.core.io.Inputstreamsource in list multipartfile","body":"<p>Add the dependencies and change your import to like this</p>\n<pre><code>import org.springframework.core.io.*;\n</code></pre>\n"}],"owner":{"account_id":9481069,"reputation":25,"user_id":7048996,"accept_rate":12,"display_name":"dalami0i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52695636,"answer_count":2,"score":0,"last_activity_date":1679643853,"creation_date":1538959934,"question_id":52694164,"body_markdown":"I am a wholly beginner for spring framework.\r\n\r\nA code below what I attached I have an error at `MultipartFile mf = fileList.get(i);`\r\nThe error statement especially I can see at under `fileList.get(i)`\r\nThe error says like title `cannot access org.springframework.core.io.Inputstreamsource`\r\nHow could I fix it?\r\n\r\n    public static boolean upload(MultipartHttpServletRequest mtfRequest, int attractionIdx){\r\n        List&lt;MultipartFile&gt; fileList = mtfRequest.getFiles(&quot;file&quot;);\r\n        String src = mtfRequest.getParameter(&quot;src&quot;);\r\n\r\n        String path = &quot;somepath&quot;;\r\n        fileList.size();\r\n\r\n        int size = fileList.size();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            MultipartFile mf = fileList.get(i);\r\n\r\n            String originFileName = mf.getOriginalFilename(); \r\n            long fileSize = mf.getSize(); \r\n\r\n            System.out.println(&quot;originFileName : &quot; + originFileName);\r\n            System.out.println(&quot;fileSize : &quot; + fileSize);\r\n\r\n            String safeFile = path + attractionIdx + &quot;_&quot; + size + &quot;_&quot; + i + &quot;.png&quot;;\r\n            try {\r\n                mf.transferTo(new File(safeFile));\r\n            } catch (IllegalStateException e) {\r\n                e.printStackTrace();\r\n                return false;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"spring cannot access org.springframework.core.io.Inputstreamsource in list multipartfile","body":"<p>I am a wholly beginner for spring framework.</p>\n\n<p>A code below what I attached I have an error at <code>MultipartFile mf = fileList.get(i);</code>\nThe error statement especially I can see at under <code>fileList.get(i)</code>\nThe error says like title <code>cannot access org.springframework.core.io.Inputstreamsource</code>\nHow could I fix it?</p>\n\n<pre><code>public static boolean upload(MultipartHttpServletRequest mtfRequest, int attractionIdx){\n    List&lt;MultipartFile&gt; fileList = mtfRequest.getFiles(\"file\");\n    String src = mtfRequest.getParameter(\"src\");\n\n    String path = \"somepath\";\n    fileList.size();\n\n    int size = fileList.size();\n    for (int i = 0; i &lt; size; i++) {\n        MultipartFile mf = fileList.get(i);\n\n        String originFileName = mf.getOriginalFilename(); \n        long fileSize = mf.getSize(); \n\n        System.out.println(\"originFileName : \" + originFileName);\n        System.out.println(\"fileSize : \" + fileSize);\n\n        String safeFile = path + attractionIdx + \"_\" + size + \"_\" + i + \".png\";\n        try {\n            mf.transferTo(new File(safeFile));\n        } catch (IllegalStateException e) {\n            e.printStackTrace();\n            return false;\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1644699801,"post_id":71095840,"comment_id":125677473,"body_markdown":"Welcome to Stack Overflow. &quot;I am confused about how to move forward&quot; To move forward, start by reading [ask] and https://meta.stackoverflow.com/questions/334822. Make sure you understand that this is *not a discussion forum*. We need a clear, *specific* question, that starts with your attempt to *read and understand* the error message. (Hint: what do you think is the type of `numElements`? Did you check that? What is the purpose of `numElements` in your program? Does the type *make sense*, given that purpose? In your own words, what is a `double`, and what is an `int`?)","body":"Welcome to Stack Overflow. &quot;I am confused about how to move forward&quot; To move forward, start by reading <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://meta.stackoverflow.com/questions/334822\">meta.stackoverflow.com/questions/334822</a>. Make sure you understand that this is <i>not a discussion forum</i>. We need a clear, <i>specific</i> question, that starts with your attempt to <i>read and understand</i> the error message. (Hint: what do you think is the type of <code>numElements</code>? Did you check that? What is the purpose of <code>numElements</code> in your program? Does the type <i>make sense</i>, given that purpose? In your own words, what is a <code>double</code>, and what is an <code>int</code>?)"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1644699877,"post_id":71095840,"comment_id":125677496,"body_markdown":"Please try to make sure your question is focused on *the actual problem you are currently trying to solve* (i.e., the error message), *not* on the overall task of your code.","body":"Please try to make sure your question is focused on <i>the actual problem you are currently trying to solve</i> (i.e., the error message), <i>not</i> on the overall task of your code."},{"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"score":0,"creation_date":1644704522,"post_id":71095840,"comment_id":125678399,"body_markdown":"@KarlKnechtel Hi, sorry about that, I just posted that so it would make sense. The type of numElements is what the user input and it&#39;s for floating-point values. I am confused why it&#39;s saying error when I declared it as double and not int. Would I have to convert it as an int to a double?","body":"@KarlKnechtel Hi, sorry about that, I just posted that so it would make sense. The type of numElements is what the user input and it&#39;s for floating-point values. I am confused why it&#39;s saying error when I declared it as double and not int. Would I have to convert it as an int to a double?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1644762478,"post_id":71095840,"comment_id":125686717,"body_markdown":"&quot;and it&#39;s for floating-point values&quot; Yes; *that&#39;s the problem*. &quot;I am confused why it&#39;s saying error when I declared it as double and not int.&quot; Because you *should neither declare it as double, nor read a double; you should declare an int and read an int*. Why? Because you want to *use that value to count the elements of an array*. (Right? That&#39;s why it&#39;s called `numElements`, i.e. &quot;number of elements&quot;? That&#39;s why it&#39;s used like `new double[numElements]`?) Does it make sense to use a floating-point number for this purpose? No, obviously not, right?","body":"&quot;and it&#39;s for floating-point values&quot; Yes; <i>that&#39;s the problem</i>. &quot;I am confused why it&#39;s saying error when I declared it as double and not int.&quot; Because you <i>should neither declare it as double, nor read a double; you should declare an int and read an int</i>. Why? Because you want to <i>use that value to count the elements of an array</i>. (Right? That&#39;s why it&#39;s called <code>numElements</code>, i.e. &quot;number of elements&quot;? That&#39;s why it&#39;s used like <code>new double[numElements]</code>?) Does it make sense to use a floating-point number for this purpose? No, obviously not, right?"},{"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"score":0,"creation_date":1644770310,"post_id":71095840,"comment_id":125688718,"body_markdown":"Oh!! That makes so much sense! I&#39;m sorry I didn&#39;t understand first, they never really went over that because the array element number was always fixed. Thank you so much!!","body":"Oh!! That makes so much sense! I&#39;m sorry I didn&#39;t understand first, they never really went over that because the array element number was always fixed. Thank you so much!!"},{"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"score":0,"creation_date":1644771998,"post_id":71095840,"comment_id":125689197,"body_markdown":"Also, I&#39;m an idiot bc I didn&#39;t understand that the 5 was the number of elements, I thought it was part of the values.","body":"Also, I&#39;m an idiot bc I didn&#39;t understand that the 5 was the number of elements, I thought it was part of the values."}],"answers":[{"tags":[],"owner":{"account_id":27606625,"reputation":1,"user_id":21070599,"display_name":"Rohit Kunta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674540507,"creation_date":1674540388,"answer_id":75217953,"question_id":71095840,"body_markdown":"Just change the data type of numElements to int and the scanner command to int as well\r\n\r\nLike this:\r\n\r\n    int numElements = scnr.nextInt(); ","title":"5.16 LAB: Adjust list by normalizing _ zybook - Java","body":"<p>Just change the data type of numElements to int and the scanner command to int as well</p>\n<p>Like this:</p>\n<pre><code>int numElements = scnr.nextInt(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28061540,"reputation":1,"user_id":21435576,"display_name":"Jason Trent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679643776,"creation_date":1679280854,"answer_id":75786240,"question_id":71095840,"body_markdown":"Did you end up figuring it out??? I have a solution for you. --- \r\n    There were a few adjustments I had to make. I used your code as a \r\n    blueprint, because I was stuck too, and I ended up getting it \r\n    right. --- Cheers.\r\n    \r\n      Scanner scnr = new Scanner(System.in);\r\n      int numElements; \r\n      numElements = scnr.nextInt(); \r\n      double [] userList = new double [numElements]; \r\n      int i; \r\n      double maxValue; \r\n      \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         userList[i] = scnr.nextDouble(); \r\n       } \r\n      \r\n      maxValue = userList[0]; \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         if (userList[i] &gt; maxValue) { \r\n            maxValue = userList[i]; \r\n         } \r\n      } \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         userList[i] = userList[i] / maxValue; \r\n         System.out.printf(&quot;%.2f &quot;, userList[i]);\r\n       } \r\n     System.out.println();  \r\n    } }","title":"5.16 LAB: Adjust list by normalizing _ zybook - Java","body":"<p>Did you end up figuring it out??? I have a solution for you. ---\nThere were a few adjustments I had to make. I used your code as a\nblueprint, because I was stuck too, and I ended up getting it\nright. --- Cheers.</p>\n<pre><code>  Scanner scnr = new Scanner(System.in);\n  int numElements; \n  numElements = scnr.nextInt(); \n  double [] userList = new double [numElements]; \n  int i; \n  double maxValue; \n  \n  for (i = 0; i &lt; userList.length; ++i) { \n     userList[i] = scnr.nextDouble(); \n   } \n  \n  maxValue = userList[0]; \n  for (i = 0; i &lt; userList.length; ++i) { \n     if (userList[i] &gt; maxValue) { \n        maxValue = userList[i]; \n     } \n  } \n  for (i = 0; i &lt; userList.length; ++i) { \n     userList[i] = userList[i] / maxValue; \n     System.out.printf(&quot;%.2f &quot;, userList[i]);\n   } \n System.out.println();  \n} }\n</code></pre>\n"}],"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3871,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679643776,"creation_date":1644699614,"question_id":71095840,"body_markdown":"5.16 LAB: Adjust list by normalizing\r\nWhen analyzing data sets, such as data for human heights or for human weights, a common step is to adjust the data. This adjustment can be done by normalizing to values between 0 and 1, or throwing away outliers.\r\n\r\nFor this program, adjust the values by dividing all values by the largest value. The input begins with an integer indicating the number of floating-point values that follow. Assume that the list will always contain fewer than 20 floating-point values.\r\n\r\nOutput each floating-point value with two digits after the decimal point, which can be achieved as follows:\r\nSystem.out.printf(&quot;%.2f&quot;, yourValue);\r\n\r\nEx: If the input is:\r\n\r\n5 30.0 50.0 10.0 100.0 65.0\r\nthe output is:\r\n\r\n0.30 0.50 0.10 1.00 0.65 \r\nThe 5 indicates that there are five floating-point values in the list, namely 30.0, 50.0, 10.0, 100.0, and 65.0. 100.0 is the largest value in the list, so each value is divided by 100.0.\r\n\r\nFor coding simplicity, follow every output value by a space, including the last one.\r\n\r\nI have been confused about how to do floating-point values in arrays and loops as in my book it never went over that. \r\n\r\n      Scanner scnr = new Scanner(System.in);\r\n      double numElements; \r\n      numElements = scnr.nextDouble(); \r\n      double [] userList = new double [numElements]; \r\n      int i; \r\n      double maxValue; \r\n      \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         userList[i] = scnr.nextDouble(); \r\n      } \r\n      \r\n      maxValue = userList[i]; \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         if (userList[i] &gt; maxValue) { \r\n            maxValue = userList[i]; \r\n         } \r\n      } \r\n      \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         userList[i] = userList[i] / maxValue; \r\n         System.out.print(userList[i] + &quot; &quot;); \r\n         System.out.printf(&quot;%.2f&quot;, userList[i]);\r\n      } \r\n      \r\n   }\r\n}\r\n\r\nIt&#39;s outputting: \r\n\r\n    LabProgram.java:8: error: incompatible types: possible lossy conversion from double to int\r\n      double [] userList = new double [numElements]; \r\n\r\nI am confused about how to move forward, any help will be much appreciated!\r\n\r\n","title":"5.16 LAB: Adjust list by normalizing _ zybook - Java","body":"<p>5.16 LAB: Adjust list by normalizing\nWhen analyzing data sets, such as data for human heights or for human weights, a common step is to adjust the data. This adjustment can be done by normalizing to values between 0 and 1, or throwing away outliers.</p>\n<p>For this program, adjust the values by dividing all values by the largest value. The input begins with an integer indicating the number of floating-point values that follow. Assume that the list will always contain fewer than 20 floating-point values.</p>\n<p>Output each floating-point value with two digits after the decimal point, which can be achieved as follows:\nSystem.out.printf(&quot;%.2f&quot;, yourValue);</p>\n<p>Ex: If the input is:</p>\n<p>5 30.0 50.0 10.0 100.0 65.0\nthe output is:</p>\n<p>0.30 0.50 0.10 1.00 0.65\nThe 5 indicates that there are five floating-point values in the list, namely 30.0, 50.0, 10.0, 100.0, and 65.0. 100.0 is the largest value in the list, so each value is divided by 100.0.</p>\n<p>For coding simplicity, follow every output value by a space, including the last one.</p>\n<p>I have been confused about how to do floating-point values in arrays and loops as in my book it never went over that.</p>\n<pre><code>  Scanner scnr = new Scanner(System.in);\n  double numElements; \n  numElements = scnr.nextDouble(); \n  double [] userList = new double [numElements]; \n  int i; \n  double maxValue; \n  \n  for (i = 0; i &lt; userList.length; ++i) { \n     userList[i] = scnr.nextDouble(); \n  } \n  \n  maxValue = userList[i]; \n  for (i = 0; i &lt; userList.length; ++i) { \n     if (userList[i] &gt; maxValue) { \n        maxValue = userList[i]; \n     } \n  } \n  \n  for (i = 0; i &lt; userList.length; ++i) { \n     userList[i] = userList[i] / maxValue; \n     System.out.print(userList[i] + &quot; &quot;); \n     System.out.printf(&quot;%.2f&quot;, userList[i]);\n  } \n  \n</code></pre>\n<p>}\n}</p>\n<p>It's outputting:</p>\n<pre><code>LabProgram.java:8: error: incompatible types: possible lossy conversion from double to int\n  double [] userList = new double [numElements]; \n</code></pre>\n<p>I am confused about how to move forward, any help will be much appreciated!</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":3,"creation_date":1679298050,"post_id":75787415,"comment_id":133689513,"body_markdown":"Use an appropriate layout, something like a BoxLayout with Y_AXIS policy, and then embed the whole into a ScrollPane.","body":"Use an appropriate layout, something like a BoxLayout with Y_AXIS policy, and then embed the whole into a ScrollPane."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1679298422,"post_id":75787415,"comment_id":133689611,"body_markdown":"I would probably consider using something like a [`JList`](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html), but you&#39;d probably need a custom look and feel to make it post content from the bottom instead of the top","body":"I would probably consider using something like a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\"><code>JList</code></a>, but you&#39;d probably need a custom look and feel to make it post content from the bottom instead of the top"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1679298449,"post_id":75787415,"comment_id":133689615,"body_markdown":"*&quot;When the jPanel have many messages it cannot scroll to see the old messages.&quot;* - wrap the `JPanel` in `JScrollPane`","body":"<i>&quot;When the jPanel have many messages it cannot scroll to see the old messages.&quot;</i> - wrap the <code>JPanel</code> in <code>JScrollPane</code>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679320117,"creation_date":1679320117,"answer_id":75791074,"question_id":75787415,"body_markdown":"&gt; When another Jlabel is inserted into it will be in the last position and the old Jlabel will be moved upwards\r\n\r\nYou can use a `Box`, which is really a convenience class for a `JPanel` with a `BoxLayout`. The first component should be &quot;glue&quot; so all components are shifted to the bottom:\r\n\r\n    Box messagePanel = new Box.createVerticalBox();\r\n    messagePanel.add( Box.createGlue() );\r\n\r\nYou will also need to tell the label to be aligned to the right in the panel:\r\n\r\n    JLabel message = new JLabel(&quot;...&quot;);\r\n\tmessage.setAlignmentX(SwingConstants.TRAILING);\r\n    messagePanel.add( message );\r\n\r\nRead the Swing tutorial on [How to Use BoxLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html) for more information and examples. \r\n\r\nThe tutorial also contains a section on using scroll panes.\r\n\r\n\r\n","title":"How can I set size for JLabel or JButton as the maximum length of the content?","body":"<blockquote>\n<p>When another Jlabel is inserted into it will be in the last position and the old Jlabel will be moved upwards</p>\n</blockquote>\n<p>You can use a <code>Box</code>, which is really a convenience class for a <code>JPanel</code> with a <code>BoxLayout</code>. The first component should be &quot;glue&quot; so all components are shifted to the bottom:</p>\n<pre><code>Box messagePanel = new Box.createVerticalBox();\nmessagePanel.add( Box.createGlue() );\n</code></pre>\n<p>You will also need to tell the label to be aligned to the right in the panel:</p>\n<pre><code>JLabel message = new JLabel(&quot;...&quot;);\nmessage.setAlignmentX(SwingConstants.TRAILING);\nmessagePanel.add( message );\n</code></pre>\n<p>Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html\" rel=\"nofollow noreferrer\">How to Use BoxLayout</a> for more information and examples.</p>\n<p>The tutorial also contains a section on using scroll panes.</p>\n"},{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679642795,"creation_date":1679642795,"answer_id":75830953,"question_id":75787415,"body_markdown":"I think instead of using JLabel, you can use JEditorPane because if you have long text in JLabel, it will not wrap text to the second line, moreover adding JscrollPane will make it easy to move up and down!\r\n\r\nTake look at this snippet of code and hopefully will help you to resolve your problem.\r\n\r\n \r\n\r\n       public class ChatBox {\r\n        public static void main(String[] args) {\r\n            ChatBox cw = new ChatBox();\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    cw.buildGui();\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        public void buildGui() {\r\n            JFrame jFrame = new JFrame();\r\n    \r\n            Container container = jFrame.getContentPane();\r\n            container.setLayout(new GridBagLayout());\r\n    \r\n            GridBagConstraints c = new GridBagConstraints();\r\n            c.fill = GridBagConstraints.CENTER;\r\n            c.gridx = 2;\r\n            c.gridy = 0;\r\n    \r\n            JEditorPane textPane = new JEditorPane();\r\n            textPane.setEnabled(false);\r\n            textPane.setPreferredSize(new Dimension(250, 250));\r\n            textPane.setContentType(&quot;text/plain&quot;);\r\n    \r\n    \r\n            JScrollPane scrollPane = new JScrollPane(textPane,\r\n                    JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\r\n                    JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n    \r\n    \r\n            container.add(scrollPane, c);\r\n    \r\n    \r\n            JTextField jTextField = new JTextField();\r\n    \r\n            // In case a user press enter, it will add the text to jeditorpane\r\n            jTextField.addActionListener(new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    String message = jTextField.getText();\r\n                    jTextField.setText(&quot;&quot;);\r\n                    addText(textPane, jFrame, message);\r\n                }\r\n            });\r\n            c.fill = GridBagConstraints.HORIZONTAL;\r\n            c.anchor = GridBagConstraints.PAGE_START;\r\n            c.insets = new Insets(10, 0, 0, 0);\r\n            c.gridx = 2;\r\n            c.gridwidth = 2;\r\n            c.gridy++;\r\n    \r\n            container.add(jTextField, c);\r\n    \r\n            JButton sendButton = new JButton(&quot;Send&quot;);\r\n            sendButton.addActionListener(new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    String message = jTextField.getText();\r\n                    jTextField.setText(&quot;&quot;);\r\n                    addText(textPane, jFrame, message);\r\n                }\r\n            });\r\n            c.fill = GridBagConstraints.EAST;\r\n            c.insets = new Insets(10, 0, 0, 10);\r\n            c.gridx = 4;\r\n    \r\n            c.weightx = 0.1;\r\n            sendButton.setPreferredSize(new Dimension(65, 20));\r\n            container.add(sendButton, c);\r\n    \r\n    \r\n            jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            jFrame.setResizable(false);\r\n            jFrame.setPreferredSize(new Dimension(370, 350));\r\n            jFrame.pack();\r\n            jFrame.setVisible(true);\r\n        }\r\n    \r\n        private void addText(JEditorPane jEditorPane, JFrame jFrame, String message) {\r\n            try {\r\n                // Saving the old message from jEditorPane\r\n                String text = jEditorPane.getText();\r\n                // Clear all\r\n                jEditorPane.setText(&quot;&quot;);\r\n    \r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                //Append new lines to show the text in the lower left of the corner\r\n                for (int i = 0; i &lt; 16; i++)\r\n                    stringBuilder.append(&#39;\\n&#39;);\r\n                stringBuilder.append(text);\r\n                stringBuilder.append(&#39;\\n&#39;);\r\n                Document doc = jEditorPane.getDocument();\r\n    \r\n                doc.insertString(doc.getLength(), stringBuilder.toString(), new SimpleAttributeSet());\r\n                doc.insertString(doc.getLength(), message, new SimpleAttributeSet());\r\n                jFrame.repaint();\r\n            } catch (BadLocationException e) {\r\n                JOptionPane.showMessageDialog(jFrame, &quot;Obs,something went wrong sorry &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How can I set size for JLabel or JButton as the maximum length of the content?","body":"<p>I think instead of using JLabel, you can use JEditorPane because if you have long text in JLabel, it will not wrap text to the second line, moreover adding JscrollPane will make it easy to move up and down!</p>\n<p>Take look at this snippet of code and hopefully will help you to resolve your problem.</p>\n<pre><code>   public class ChatBox {\n    public static void main(String[] args) {\n        ChatBox cw = new ChatBox();\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                cw.buildGui();\n            }\n        });\n\n    }\n\n    public void buildGui() {\n        JFrame jFrame = new JFrame();\n\n        Container container = jFrame.getContentPane();\n        container.setLayout(new GridBagLayout());\n\n        GridBagConstraints c = new GridBagConstraints();\n        c.fill = GridBagConstraints.CENTER;\n        c.gridx = 2;\n        c.gridy = 0;\n\n        JEditorPane textPane = new JEditorPane();\n        textPane.setEnabled(false);\n        textPane.setPreferredSize(new Dimension(250, 250));\n        textPane.setContentType(&quot;text/plain&quot;);\n\n\n        JScrollPane scrollPane = new JScrollPane(textPane,\n                JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\n                JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n\n\n        container.add(scrollPane, c);\n\n\n        JTextField jTextField = new JTextField();\n\n        // In case a user press enter, it will add the text to jeditorpane\n        jTextField.addActionListener(new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String message = jTextField.getText();\n                jTextField.setText(&quot;&quot;);\n                addText(textPane, jFrame, message);\n            }\n        });\n        c.fill = GridBagConstraints.HORIZONTAL;\n        c.anchor = GridBagConstraints.PAGE_START;\n        c.insets = new Insets(10, 0, 0, 0);\n        c.gridx = 2;\n        c.gridwidth = 2;\n        c.gridy++;\n\n        container.add(jTextField, c);\n\n        JButton sendButton = new JButton(&quot;Send&quot;);\n        sendButton.addActionListener(new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String message = jTextField.getText();\n                jTextField.setText(&quot;&quot;);\n                addText(textPane, jFrame, message);\n            }\n        });\n        c.fill = GridBagConstraints.EAST;\n        c.insets = new Insets(10, 0, 0, 10);\n        c.gridx = 4;\n\n        c.weightx = 0.1;\n        sendButton.setPreferredSize(new Dimension(65, 20));\n        container.add(sendButton, c);\n\n\n        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jFrame.setResizable(false);\n        jFrame.setPreferredSize(new Dimension(370, 350));\n        jFrame.pack();\n        jFrame.setVisible(true);\n    }\n\n    private void addText(JEditorPane jEditorPane, JFrame jFrame, String message) {\n        try {\n            // Saving the old message from jEditorPane\n            String text = jEditorPane.getText();\n            // Clear all\n            jEditorPane.setText(&quot;&quot;);\n\n            StringBuilder stringBuilder = new StringBuilder();\n            //Append new lines to show the text in the lower left of the corner\n            for (int i = 0; i &lt; 16; i++)\n                stringBuilder.append('\\n');\n            stringBuilder.append(text);\n            stringBuilder.append('\\n');\n            Document doc = jEditorPane.getDocument();\n\n            doc.insertString(doc.getLength(), stringBuilder.toString(), new SimpleAttributeSet());\n            doc.insertString(doc.getLength(), message, new SimpleAttributeSet());\n            jFrame.repaint();\n        } catch (BadLocationException e) {\n            JOptionPane.showMessageDialog(jFrame, &quot;Obs,something went wrong sorry &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23146621,"reputation":11,"user_id":17249285,"display_name":"Nguyen Linh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679642795,"creation_date":1679296398,"question_id":75787415,"body_markdown":"How to add a `jLabel` to the last position in jPanel?\r\n\r\nI want to insert a `Jlabel` into the last position of a `Jpanel`. When another `Jlabel` is inserted into it will be in the last position and the old Jlabel will be moved upwards. Like messaging with Messenger.\r\n\r\n\r\n```\r\n//Create a message jlabel\r\nJLabel message = createInnerPanel(messageContent); \r\n//Code I want right here\r\npanel.add(message);\r\npanel.invalidate();\r\npanel.validate();\r\npanel.repaint();\r\n```\r\n[![It is similar to messaging apps][1]][1]\r\n\r\nI used `setBound()` but I think it isn&#39;t useful when the chat frame has many messages and `BorderLayout` is inactive \r\n\r\nSorry if my English is not good.\r\n\r\nThanks so much, wish the best for you.\r\n\r\nMoreover, I wanna ask what should I use to contain these messages. When the `jPanel` have many messages it cannot scroll to see the old messages.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PQhVx.png","title":"How can I set size for JLabel or JButton as the maximum length of the content?","body":"<p>How to add a <code>jLabel</code> to the last position in jPanel?</p>\n<p>I want to insert a <code>Jlabel</code> into the last position of a <code>Jpanel</code>. When another <code>Jlabel</code> is inserted into it will be in the last position and the old Jlabel will be moved upwards. Like messaging with Messenger.</p>\n<pre><code>//Create a message jlabel\nJLabel message = createInnerPanel(messageContent); \n//Code I want right here\npanel.add(message);\npanel.invalidate();\npanel.validate();\npanel.repaint();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PQhVx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PQhVx.png\" alt=\"It is similar to messaging apps\" /></a></p>\n<p>I used <code>setBound()</code> but I think it isn't useful when the chat frame has many messages and <code>BorderLayout</code> is inactive</p>\n<p>Sorry if my English is not good.</p>\n<p>Thanks so much, wish the best for you.</p>\n<p>Moreover, I wanna ask what should I use to contain these messages. When the <code>jPanel</code> have many messages it cannot scroll to see the old messages.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9442,"page":550,"page_size":100}
