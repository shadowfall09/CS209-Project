{"items":[{"tags":["java","micronaut","mongo-java-driver","micronaut-data","reactive-mongo-java"],"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1649044562,"post_id":71724357,"comment_id":126767747,"body_markdown":"adding runtimeOnly &#39;org.mongodb:mongodb-driver-reactivestreams:4.5.1&#39; works","body":"adding runtimeOnly &#39;org.mongodb:mongodb-driver-reactivestreams:4.5.1&#39; works"}],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649042584,"creation_date":1649042584,"answer_id":71731690,"question_id":71724357,"body_markdown":"You are missing a MongoDB driver.","title":"org/bson/internal/CodecRegistryHelper with Micronaut data MongoDB","body":"<p>You are missing a MongoDB driver.</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71731690,"answer_count":1,"score":0,"last_activity_date":1649042584,"creation_date":1648975729,"question_id":71724357,"body_markdown":"Using the latest Micronaut 3.4.1 with micronaut data and MongoDB. Keep getting the exception as `java.lang.NoClassDefFoundError: org/bson/internal/CodecRegistryHelper`\r\n\r\n**Gradle Dependencies**\r\n\r\n    dependencies {\r\n        annotationProcessor(&quot;io.micronaut.data:micronaut-data-document-processor:3.3.0&quot;)\r\n    \r\n        implementation &#39;org.mongodb:bson:4.5.1&#39;\r\n        implementation(&quot;io.micronaut.data:micronaut-data-mongodb:3.3.0&quot;)\r\n        implementation &#39;io.micronaut.mongodb:micronaut-mongo-reactive:4.1.0&#39;\r\n        implementation &#39;io.micronaut.reactor:micronaut-reactor:2.2.2&#39;\r\n    \r\n        implementation &quot;io.micronaut:micronaut-inject:3.4.1&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-inject-java:3.4.1&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-validation:3.4.1&quot;\r\n        implementation &#39;io.micronaut:micronaut-validation:3.4.1&#39;\r\n    \r\n    \r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n    \r\n        implementation(&quot;fete.bird:common:1.0-SNAPSHOT&quot;)\r\n    }\r\n\r\n**Repository**\r\n\r\n    @MongoRepository\r\n    public interface IOrderRepository extends ReactorCrudRepository&lt;Order, ObjectId&gt; {\r\n    }\r\n\r\n**Service**\r\n\r\n    @Singleton\r\n    public record OrderService(IOrderRepository iOrderRepository) implements IOrderService {\r\n        @Override\r\n        public Mono&lt;Order&gt; create(Order model) {\r\n            return iOrderRepository.save(model).map(item -&gt; {\r\n                return new Order(item.getId(), item.getOrderName(), item.getOrderBy());\r\n            });\r\n        }\r\n    }\r\n\r\n**Entity**\r\n\r\n    @MappedEntity\r\n    public class Order {\r\n            @Id\r\n            @GeneratedValue\r\n            private ObjectId id;\r\n            private String OrderName;\r\n            private String OrderBy;\r\n    \r\n            public Order(ObjectId id, String orderName, String orderBy) {\r\n                    this.id = id;\r\n                    OrderName = orderName;\r\n                    OrderBy = orderBy;\r\n            }\r\n    \r\n            public Order() {\r\n            }\r\n\r\n            // Getter and setter\r\n    }\r\n\r\n**Exception**\r\n\r\n    Message: org/bson/internal/CodecRegistryHelper\r\n    Path Taken: MongoRepositoryOperations.syncOperations(DefaultReactiveMongoRepositoryOperations reactiveOperations) --&gt; MongoRepositoryOperations.syncOperations([DefaultReactiveMongoRepositoryOperations reactiveOperations]) --&gt; new DefaultReactiveMongoRepositoryOperations(String serverName,BeanContext beanContext,List codecs,DateTimeProvider dateTimeProvider,RuntimeEntityRegistry runtimeEntityRegistry,DataConversionService conversionService,AttributeConverterRegistry attributeConverterRegistry,[MongoClient mongoClient])\r\n    \tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2363)\r\n    \tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:1128)\r\n    \tat io.micronaut.context.DefaultBeanContext$6.create(DefaultBeanContext.java:2906)\r\n    \tat io.micronaut.runtime.context.scope.refresh.RefreshScope.lambda$getOrCreate$0(RefreshScope.java:102)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\r\n    \tat io.micronaut.runtime.context.scope.refresh.RefreshScope.getOrCreate(RefreshScope.java:101)\r\n    \tat io.micronaut.context.DefaultBeanContext.getScopedBeanForDefinition(DefaultBeanContext.java:2889)\r\n    \tat io.micronaut.context.DefaultBeanContext.getBeanForDefinition(DefaultBeanContext.java:2822)\r\n    \tat io.micronaut.context.DefaultBeanContext.getProxyTargetBean(DefaultBeanContext.java:1423)\r\n    \tat io.micronaut.configuration.mongo.reactive.$DefaultReactiveMongoClientFactory$MongoClient0$Definition$Intercepted.interceptedTarget(Unknown Source)\r\n    \tat io.micronaut.configuration.mongo.reactive.$DefaultReactiveMongoClientFactory$MongoClient0$Definition$Intercepted.startSession(Unknown Source)\r\n    \tat io.micronaut.data.mongodb.operations.DefaultReactiveMongoRepositoryOperations.lambda$withClientSession$25(DefaultReactiveMongoRepositoryOperations.java:713)\r\n    \tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n    \tat reactor.core.publisher.Mono.block(Mono.java:1706)\r\n    \tat fete.bird.aggregate.command.CreateOrderCommand$CreateOrderCommandHandler.handler(CreateOrderCommand.java:20)\r\n    \tat fete.bird.aggregate.command.CreateOrderCommand$CreateOrderCommandHandler.handler(CreateOrderCommand.java:13)\r\n    \tat fete.bird.utils.ServiceBus.send(ServiceBus.java:27)\r\n    \tat fete.bird.OrderController.post(OrderController.java:36)\r\n    \tat fete.bird.$OrderController$Definition$Intercepted.$$access$$post(Unknown Source)\r\n    \tat fete.bird.$OrderController$Definition$Exec.dispatch(Unknown Source)\r\n    \tat io.micronaut.context.AbstractExecutableMethodsDefinition$DispatchedExecutableMethod.invoke(AbstractExecutableMethodsDefinition.java:378)\r\n    \tat io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:128)\r\n    \tat io.micronaut.validation.ValidatingInterceptor.intercept(ValidatingInterceptor.java:138)\r\n    \tat io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\r\n    \tat fete.bird.$OrderController$Definition$Intercepted.post(Unknown Source)\r\n    \tat fete.bird.$OrderController$Definition$Exec.dispatch(Unknown Source)\r\n    \tat io.micronaut.context.AbstractExecutableMethodsDefinition$DispatchedExecutableMethod.invoke(AbstractExecutableMethodsDefinition.java:378)\r\n    \tat io.micronaut.context.DefaultBeanContext$4.invoke(DefaultBeanContext.java:583)\r\n    \tat io.micronaut.web.router.AbstractRouteMatch.execute(AbstractRouteMatch.java:303)\r\n    \tat io.micronaut.web.router.RouteMatch.execute(RouteMatch.java:111)\r\n    \tat io.micronaut.http.context.ServerRequestContext.with(ServerRequestContext.java:103)\r\n    \tat io.micronaut.http.server.RouteExecutor.lambda$executeRoute$14(RouteExecutor.java:659)\r\n    \tat reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)\r\n    \tat reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\n    \tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:426)\r\n    \tat io.micronaut.reactive.reactor.instrument.ReactorSubscriber.onNext(ReactorSubscriber.java:57)\r\n    \tat reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:165)\r\n    \tat io.micronaut.http.server.netty.RoutingInBoundHandler$4.doOnComplete(RoutingInBoundHandler.java:939)\r\n    \tat io.micronaut.core.async.subscriber.CompletionAwareSubscriber.onComplete(CompletionAwareSubscriber.java:79)\r\n    \tat io.micronaut.http.server.netty.jackson.JsonContentProcessor$1.doOnComplete(JsonContentProcessor.java:136)\r\n    \tat io.micronaut.core.async.subscriber.CompletionAwareSubscriber.onComplete(CompletionAwareSubscriber.java:79)\r\n    \tat java.base/java.util.Optional.ifPresent(Optional.java:178)\r\n    \tat io.micronaut.core.async.processor.SingleThreadedBufferingProcessor.doOnComplete(SingleThreadedBufferingProcessor.java:48)\r\n    \tat io.micronaut.jackson.core.parser.JacksonCoreProcessor.doOnComplete(JacksonCoreProcessor.java:94)\r\n    \tat io.micronaut.core.async.subscriber.SingleThreadedBufferingSubscriber.onComplete(SingleThreadedBufferingSubscriber.java:71)\r\n    \tat io.micronaut.http.server.netty.jackson.JsonContentProcessor.doOnComplete(JsonContentProcessor.java:161)\r\n    \tat io.micronaut.core.async.subscriber.CompletionAwareSubscriber.onComplete(CompletionAwareSubscriber.java:79)\r\n    \tat io.micronaut.http.netty.reactive.HandlerPublisher.publishMessage(HandlerPublisher.java:383)\r\n    \tat io.micronaut.http.netty.reactive.HandlerPublisher.flushBuffer(HandlerPublisher.java:470)\r\n    \tat io.micronaut.http.netty.reactive.HandlerPublisher.publishMessageLater(HandlerPublisher.java:360)\r\n    \tat io.micronaut.http.netty.reactive.HandlerPublisher.complete(HandlerPublisher.java:423)\r\n    \tat io.micronaut.http.netty.reactive.HandlerPublisher.handlerRemoved(HandlerPublisher.java:418)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:946)\r\n    \tat io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:637)\r\n    \tat io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:477)\r\n    \tat io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:423)\r\n    \tat io.micronaut.http.netty.stream.HttpStreamsHandler.removeHandlerIfActive(HttpStreamsHandler.java:483)\r\n    \tat io.micronaut.http.netty.stream.HttpStreamsHandler.handleReadHttpContent(HttpStreamsHandler.java:319)\r\n    \tat io.micronaut.http.netty.stream.HttpStreamsHandler.channelRead(HttpStreamsHandler.java:282)\r\n    \tat io.micronaut.http.netty.stream.HttpStreamsServerHandler.channelRead(HttpStreamsServerHandler.java:134)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\r\n    \tat io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\r\n    \tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\r\n    \tat io.netty.handler.codec.http.HttpServerKeepAliveHandler.channelRead(HttpServerKeepAliveHandler.java:64)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.flow.FlowControlHandler.dequeue(FlowControlHandler.java:200)\r\n    \tat io.netty.handler.flow.FlowControlHandler.read(FlowControlHandler.java:139)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeRead(AbstractChannelHandlerContext.java:686)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.read(AbstractChannelHandlerContext.java:671)\r\n    \tat io.micronaut.http.netty.reactive.HandlerPublisher.requestDemand(HandlerPublisher.java:165)\r\n    \tat io.micronaut.http.netty.stream.HttpStreamsHandler$2.requestDemand(HttpStreamsHandler.java:273)\r\n    \tat io.micronaut.http.netty.reactive.HandlerPublisher$ChannelSubscription.receivedDemand(HandlerPublisher.java:556)\r\n    \tat io.micronaut.http.netty.reactive.HandlerPublisher$ChannelSubscription.lambda$request$0(HandlerPublisher.java:494)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \tSuppressed: java.lang.Exception: #block terminated with an error\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n    \t\tat reactor.core.publisher.Mono.block(Mono.java:1707)\r\n    \t\t... 83 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: org/bson/internal/CodecRegistryHelper\r\n    \tat com.mongodb.reactivestreams.client.internal.MongoClientImpl.&lt;init&gt;(MongoClientImpl.java:95)\r\n    \tat com.mongodb.reactivestreams.client.internal.MongoClientImpl.&lt;init&gt;(MongoClientImpl.java:72)\r\n    \tat com.mongodb.reactivestreams.client.MongoClients.createMongoClient(MongoClients.java:136)\r\n    \tat com.mongodb.reactivestreams.client.MongoClients.createWithAsynchronousSocketChannel(MongoClients.java:170)\r\n    \tat com.mongodb.reactivestreams.client.MongoClients.create(MongoClients.java:114)\r\n    \tat com.mongodb.reactivestreams.client.MongoClients.create(MongoClients.java:96)\r\n    \tat io.micronaut.configuration.mongo.reactive.DefaultReactiveMongoClientFactory.mongoClient(DefaultReactiveMongoClientFactory.java:48)\r\n    \tat io.micronaut.configuration.mongo.reactive.$DefaultReactiveMongoClientFactory$MongoClient0$Definition.build(Unknown Source)\r\n    \tat io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2336)\r\n    \t... 97 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.bson.internal.CodecRegistryHelper\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 106 common frames omitted\r\n    18:41:04.731 [cluster-rtt-ClusterId{value=&#39;62495da056c2316f65d63381&#39;, description=&#39;null&#39;}-localhost:27017] INFO  org.mongodb.driver.connection - Opened connection [connectionId{localValue:2, serverValue:1280}] to localhost:27017\r\n    18:41:04.731 [cluster-ClusterId{value=&#39;62495da056c2316f65d63381&#39;, description=&#39;null&#39;}-localhost:27017] INFO  org.mongodb.driver.connection - Opened connection [connectionId{localValue:1, serverValue:1279}] to localhost:27017\r\n    18:41:04.731 [cluster-ClusterId{value=&#39;62495da056c2316f65d63381&#39;, description=&#39;null&#39;}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=21954417}\r\n\r\n**Application.yml**\r\n\r\n    mongodb:\r\n      uri: &quot;mongodb://${MONGO_HOST:localhost}:${MONGO_PORT:27017}/FeteBird-Product&quot;\r\n\r\n\r\n**Example -** https://github.com/anandjaisy/Micronaut-Data-MongoDB\r\n","title":"org/bson/internal/CodecRegistryHelper with Micronaut data MongoDB","body":"<p>Using the latest Micronaut 3.4.1 with micronaut data and MongoDB. Keep getting the exception as <code>java.lang.NoClassDefFoundError: org/bson/internal/CodecRegistryHelper</code></p>\n<p><strong>Gradle Dependencies</strong></p>\n<pre><code>dependencies {\n    annotationProcessor(&quot;io.micronaut.data:micronaut-data-document-processor:3.3.0&quot;)\n\n    implementation 'org.mongodb:bson:4.5.1'\n    implementation(&quot;io.micronaut.data:micronaut-data-mongodb:3.3.0&quot;)\n    implementation 'io.micronaut.mongodb:micronaut-mongo-reactive:4.1.0'\n    implementation 'io.micronaut.reactor:micronaut-reactor:2.2.2'\n\n    implementation &quot;io.micronaut:micronaut-inject:3.4.1&quot;\n    annotationProcessor &quot;io.micronaut:micronaut-inject-java:3.4.1&quot;\n    annotationProcessor &quot;io.micronaut:micronaut-validation:3.4.1&quot;\n    implementation 'io.micronaut:micronaut-validation:3.4.1'\n\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n\n    implementation(&quot;fete.bird:common:1.0-SNAPSHOT&quot;)\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>@MongoRepository\npublic interface IOrderRepository extends ReactorCrudRepository&lt;Order, ObjectId&gt; {\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Singleton\npublic record OrderService(IOrderRepository iOrderRepository) implements IOrderService {\n    @Override\n    public Mono&lt;Order&gt; create(Order model) {\n        return iOrderRepository.save(model).map(item -&gt; {\n            return new Order(item.getId(), item.getOrderName(), item.getOrderBy());\n        });\n    }\n}\n</code></pre>\n<p><strong>Entity</strong></p>\n<pre><code>@MappedEntity\npublic class Order {\n        @Id\n        @GeneratedValue\n        private ObjectId id;\n        private String OrderName;\n        private String OrderBy;\n\n        public Order(ObjectId id, String orderName, String orderBy) {\n                this.id = id;\n                OrderName = orderName;\n                OrderBy = orderBy;\n        }\n\n        public Order() {\n        }\n\n        // Getter and setter\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>Message: org/bson/internal/CodecRegistryHelper\nPath Taken: MongoRepositoryOperations.syncOperations(DefaultReactiveMongoRepositoryOperations reactiveOperations) --&gt; MongoRepositoryOperations.syncOperations([DefaultReactiveMongoRepositoryOperations reactiveOperations]) --&gt; new DefaultReactiveMongoRepositoryOperations(String serverName,BeanContext beanContext,List codecs,DateTimeProvider dateTimeProvider,RuntimeEntityRegistry runtimeEntityRegistry,DataConversionService conversionService,AttributeConverterRegistry attributeConverterRegistry,[MongoClient mongoClient])\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2363)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:1128)\n    at io.micronaut.context.DefaultBeanContext$6.create(DefaultBeanContext.java:2906)\n    at io.micronaut.runtime.context.scope.refresh.RefreshScope.lambda$getOrCreate$0(RefreshScope.java:102)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708)\n    at io.micronaut.runtime.context.scope.refresh.RefreshScope.getOrCreate(RefreshScope.java:101)\n    at io.micronaut.context.DefaultBeanContext.getScopedBeanForDefinition(DefaultBeanContext.java:2889)\n    at io.micronaut.context.DefaultBeanContext.getBeanForDefinition(DefaultBeanContext.java:2822)\n    at io.micronaut.context.DefaultBeanContext.getProxyTargetBean(DefaultBeanContext.java:1423)\n    at io.micronaut.configuration.mongo.reactive.$DefaultReactiveMongoClientFactory$MongoClient0$Definition$Intercepted.interceptedTarget(Unknown Source)\n    at io.micronaut.configuration.mongo.reactive.$DefaultReactiveMongoClientFactory$MongoClient0$Definition$Intercepted.startSession(Unknown Source)\n    at io.micronaut.data.mongodb.operations.DefaultReactiveMongoRepositoryOperations.lambda$withClientSession$25(DefaultReactiveMongoRepositoryOperations.java:713)\n    at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.Mono.block(Mono.java:1706)\n    at fete.bird.aggregate.command.CreateOrderCommand$CreateOrderCommandHandler.handler(CreateOrderCommand.java:20)\n    at fete.bird.aggregate.command.CreateOrderCommand$CreateOrderCommandHandler.handler(CreateOrderCommand.java:13)\n    at fete.bird.utils.ServiceBus.send(ServiceBus.java:27)\n    at fete.bird.OrderController.post(OrderController.java:36)\n    at fete.bird.$OrderController$Definition$Intercepted.$$access$$post(Unknown Source)\n    at fete.bird.$OrderController$Definition$Exec.dispatch(Unknown Source)\n    at io.micronaut.context.AbstractExecutableMethodsDefinition$DispatchedExecutableMethod.invoke(AbstractExecutableMethodsDefinition.java:378)\n    at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:128)\n    at io.micronaut.validation.ValidatingInterceptor.intercept(ValidatingInterceptor.java:138)\n    at io.micronaut.aop.chain.MethodInterceptorChain.proceed(MethodInterceptorChain.java:137)\n    at fete.bird.$OrderController$Definition$Intercepted.post(Unknown Source)\n    at fete.bird.$OrderController$Definition$Exec.dispatch(Unknown Source)\n    at io.micronaut.context.AbstractExecutableMethodsDefinition$DispatchedExecutableMethod.invoke(AbstractExecutableMethodsDefinition.java:378)\n    at io.micronaut.context.DefaultBeanContext$4.invoke(DefaultBeanContext.java:583)\n    at io.micronaut.web.router.AbstractRouteMatch.execute(AbstractRouteMatch.java:303)\n    at io.micronaut.web.router.RouteMatch.execute(RouteMatch.java:111)\n    at io.micronaut.http.context.ServerRequestContext.with(ServerRequestContext.java:103)\n    at io.micronaut.http.server.RouteExecutor.lambda$executeRoute$14(RouteExecutor.java:659)\n    at reactor.core.publisher.FluxDeferContextual.subscribe(FluxDeferContextual.java:49)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:426)\n    at io.micronaut.reactive.reactor.instrument.ReactorSubscriber.onNext(ReactorSubscriber.java:57)\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:165)\n    at io.micronaut.http.server.netty.RoutingInBoundHandler$4.doOnComplete(RoutingInBoundHandler.java:939)\n    at io.micronaut.core.async.subscriber.CompletionAwareSubscriber.onComplete(CompletionAwareSubscriber.java:79)\n    at io.micronaut.http.server.netty.jackson.JsonContentProcessor$1.doOnComplete(JsonContentProcessor.java:136)\n    at io.micronaut.core.async.subscriber.CompletionAwareSubscriber.onComplete(CompletionAwareSubscriber.java:79)\n    at java.base/java.util.Optional.ifPresent(Optional.java:178)\n    at io.micronaut.core.async.processor.SingleThreadedBufferingProcessor.doOnComplete(SingleThreadedBufferingProcessor.java:48)\n    at io.micronaut.jackson.core.parser.JacksonCoreProcessor.doOnComplete(JacksonCoreProcessor.java:94)\n    at io.micronaut.core.async.subscriber.SingleThreadedBufferingSubscriber.onComplete(SingleThreadedBufferingSubscriber.java:71)\n    at io.micronaut.http.server.netty.jackson.JsonContentProcessor.doOnComplete(JsonContentProcessor.java:161)\n    at io.micronaut.core.async.subscriber.CompletionAwareSubscriber.onComplete(CompletionAwareSubscriber.java:79)\n    at io.micronaut.http.netty.reactive.HandlerPublisher.publishMessage(HandlerPublisher.java:383)\n    at io.micronaut.http.netty.reactive.HandlerPublisher.flushBuffer(HandlerPublisher.java:470)\n    at io.micronaut.http.netty.reactive.HandlerPublisher.publishMessageLater(HandlerPublisher.java:360)\n    at io.micronaut.http.netty.reactive.HandlerPublisher.complete(HandlerPublisher.java:423)\n    at io.micronaut.http.netty.reactive.HandlerPublisher.handlerRemoved(HandlerPublisher.java:418)\n    at io.netty.channel.AbstractChannelHandlerContext.callHandlerRemoved(AbstractChannelHandlerContext.java:946)\n    at io.netty.channel.DefaultChannelPipeline.callHandlerRemoved0(DefaultChannelPipeline.java:637)\n    at io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:477)\n    at io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:423)\n    at io.micronaut.http.netty.stream.HttpStreamsHandler.removeHandlerIfActive(HttpStreamsHandler.java:483)\n    at io.micronaut.http.netty.stream.HttpStreamsHandler.handleReadHttpContent(HttpStreamsHandler.java:319)\n    at io.micronaut.http.netty.stream.HttpStreamsHandler.channelRead(HttpStreamsHandler.java:282)\n    at io.micronaut.http.netty.stream.HttpStreamsServerHandler.channelRead(HttpStreamsServerHandler.java:134)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\n    at io.netty.handler.codec.http.websocketx.extensions.WebSocketServerExtensionHandler.channelRead(WebSocketServerExtensionHandler.java:99)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)\n    at io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93)\n    at io.netty.handler.codec.http.HttpServerKeepAliveHandler.channelRead(HttpServerKeepAliveHandler.java:64)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.flow.FlowControlHandler.dequeue(FlowControlHandler.java:200)\n    at io.netty.handler.flow.FlowControlHandler.read(FlowControlHandler.java:139)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeRead(AbstractChannelHandlerContext.java:686)\n    at io.netty.channel.AbstractChannelHandlerContext.read(AbstractChannelHandlerContext.java:671)\n    at io.micronaut.http.netty.reactive.HandlerPublisher.requestDemand(HandlerPublisher.java:165)\n    at io.micronaut.http.netty.stream.HttpStreamsHandler$2.requestDemand(HttpStreamsHandler.java:273)\n    at io.micronaut.http.netty.reactive.HandlerPublisher$ChannelSubscription.receivedDemand(HandlerPublisher.java:556)\n    at io.micronaut.http.netty.reactive.HandlerPublisher$ChannelSubscription.lambda$request$0(HandlerPublisher.java:494)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1707)\n        ... 83 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/bson/internal/CodecRegistryHelper\n    at com.mongodb.reactivestreams.client.internal.MongoClientImpl.&lt;init&gt;(MongoClientImpl.java:95)\n    at com.mongodb.reactivestreams.client.internal.MongoClientImpl.&lt;init&gt;(MongoClientImpl.java:72)\n    at com.mongodb.reactivestreams.client.MongoClients.createMongoClient(MongoClients.java:136)\n    at com.mongodb.reactivestreams.client.MongoClients.createWithAsynchronousSocketChannel(MongoClients.java:170)\n    at com.mongodb.reactivestreams.client.MongoClients.create(MongoClients.java:114)\n    at com.mongodb.reactivestreams.client.MongoClients.create(MongoClients.java:96)\n    at io.micronaut.configuration.mongo.reactive.DefaultReactiveMongoClientFactory.mongoClient(DefaultReactiveMongoClientFactory.java:48)\n    at io.micronaut.configuration.mongo.reactive.$DefaultReactiveMongoClientFactory$MongoClient0$Definition.build(Unknown Source)\n    at io.micronaut.context.DefaultBeanContext.doCreateBean(DefaultBeanContext.java:2336)\n    ... 97 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.bson.internal.CodecRegistryHelper\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 106 common frames omitted\n18:41:04.731 [cluster-rtt-ClusterId{value='62495da056c2316f65d63381', description='null'}-localhost:27017] INFO  org.mongodb.driver.connection - Opened connection [connectionId{localValue:2, serverValue:1280}] to localhost:27017\n18:41:04.731 [cluster-ClusterId{value='62495da056c2316f65d63381', description='null'}-localhost:27017] INFO  org.mongodb.driver.connection - Opened connection [connectionId{localValue:1, serverValue:1279}] to localhost:27017\n18:41:04.731 [cluster-ClusterId{value='62495da056c2316f65d63381', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=21954417}\n</code></pre>\n<p><strong>Application.yml</strong></p>\n<pre><code>mongodb:\n  uri: &quot;mongodb://${MONGO_HOST:localhost}:${MONGO_PORT:27017}/FeteBird-Product&quot;\n</code></pre>\n<p><strong>Example -</strong> <a href=\"https://github.com/anandjaisy/Micronaut-Data-MongoDB\" rel=\"nofollow noreferrer\">https://github.com/anandjaisy/Micronaut-Data-MongoDB</a></p>\n"},{"tags":["java","modelmapper"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648783358,"post_id":71701401,"comment_id":126717284,"body_markdown":"Are you saying the order should be preserved? Or the order should be in a particular order?","body":"Are you saying the order should be preserved? Or the order should be in a particular order?"},{"owner":{"account_id":24767834,"reputation":3,"user_id":18651602,"display_name":"Nqt Bean"},"score":0,"creation_date":1648790952,"post_id":71701401,"comment_id":126718368,"body_markdown":"@Bohemian I want the data when streaming up from json to be sorted specifically and not to change, or is there another way map() between the 2 set()","body":"@Bohemian I want the data when streaming up from json to be sorted specifically and not to change, or is there another way map() between the 2 set()"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648791279,"post_id":71701401,"comment_id":126718430,"body_markdown":"What exactly does &quot;map() between the 2 set()&quot; mean? Please give sample input and expected output, with real code.","body":"What exactly does &quot;map() between the 2 set()&quot; mean? Please give sample input and expected output, with real code."}],"answers":[{"tags":[],"owner":{"account_id":24767834,"reputation":3,"user_id":18651602,"display_name":"Nqt Bean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649041606,"creation_date":1649041606,"answer_id":71731617,"question_id":71701401,"body_markdown":"@Bohemian\r\n\r\n\r\n    {\r\n    &quot;id&quot;: &quot;4028828d&quot;,\r\n    &quot;facilityResults&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;4024decaa62003b&quot;,\r\n            &quot;value&quot;: &quot;1&quot;,\r\n            &quot;note&quot;: &quot;hau nha 656251&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;4028828d7f003c&quot;,\r\n            &quot;value&quot;: &quot;12&quot;\r\n            &quot;note&quot;: &quot;hy 52s&quot;\r\n        }\r\n    ]}\r\n\r\nI map() with:\r\n\r\n    {\r\n    &quot;id&quot;: &quot;4028828d&quot;,\r\n    &quot;facilityResults&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;4028828d7f003c&quot;,\r\n            &quot;value&quot;: &quot;12&quot;,\r\n            &quot;note&quot;: &quot;hy 52s&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;4024decaa62003b&quot;,\r\n            &quot;value&quot;: &quot;1&quot;\r\n            &quot;note&quot;: &quot;hau nha 656251&quot;\r\n        }\r\n    ]}\r\n\r\nThe order of facilityResults() when uploading and retrieving from the database is different and I can&#39;t map() them together\r\n","title":"How to map set() in object in java?","body":"<p>@Bohemian</p>\n<pre><code>{\n&quot;id&quot;: &quot;4028828d&quot;,\n&quot;facilityResults&quot;: [\n    {\n        &quot;id&quot;: &quot;4024decaa62003b&quot;,\n        &quot;value&quot;: &quot;1&quot;,\n        &quot;note&quot;: &quot;hau nha 656251&quot;\n    },\n    {\n        &quot;id&quot;: &quot;4028828d7f003c&quot;,\n        &quot;value&quot;: &quot;12&quot;\n        &quot;note&quot;: &quot;hy 52s&quot;\n    }\n]}\n</code></pre>\n<p>I map() with:</p>\n<pre><code>{\n&quot;id&quot;: &quot;4028828d&quot;,\n&quot;facilityResults&quot;: [\n    {\n        &quot;id&quot;: &quot;4028828d7f003c&quot;,\n        &quot;value&quot;: &quot;12&quot;,\n        &quot;note&quot;: &quot;hy 52s&quot;\n    },\n    {\n        &quot;id&quot;: &quot;4024decaa62003b&quot;,\n        &quot;value&quot;: &quot;1&quot;\n        &quot;note&quot;: &quot;hau nha 656251&quot;\n    }\n]}\n</code></pre>\n<p>The order of facilityResults() when uploading and retrieving from the database is different and I can't map() them together</p>\n"}],"owner":{"account_id":24767834,"reputation":3,"user_id":18651602,"display_name":"Nqt Bean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649041606,"creation_date":1648783155,"question_id":71701401,"body_markdown":"I have 1 Object in Object which has 1 set&lt;Object&gt;. When the data is transmitted from the API and the data is taken from the database, how can we map 2 sets&lt;&gt; together? Currently, I map the results at the right time at the wrong time. Because each time data is requested, set&lt;Object&gt; is ordered differently, which causes the order of set&lt;Object&gt; request and set&lt;Object&gt; to be skewed and the map cannot be.\r\n\r\nExample JSON of request:\r\n\r\n    {\r\n    &quot;id&quot;: &quot;4028828d&quot;,\r\n    &quot;facilityResults&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;4024decaa62003b&quot;,\r\n            &quot;value&quot;: &quot;1&quot;,\r\n            &quot;note&quot;: &quot;hau nha 656251&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;4028828d7f003c&quot;,\r\n            &quot;value&quot;: &quot;12&quot;\r\n            &quot;note&quot;: &quot;hy 52s&quot;\r\n        }\r\n    ]}\r\n\r\nExecuteChecklist\r\n\r\n```java\r\npublic class ExecuteChecklist extends SiteBaseHest {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n\r\n    @Column(name = &quot;code&quot;, length = 20)\r\n    private String code;\r\n\r\n    @Column(name = &quot;area_aft&quot;, length = 100)\r\n    private String areaAft;\r\n\r\n    @OneToMany(mappedBy = &quot;executeChecklist&quot;)\r\n    @EqualsAndHashCode.Exclude\r\n    @JsonManagedReference\r\n    private Set&lt;ChecklistStepRst&gt; checklistStepRst; }\r\n```\r\n    \r\nExecuteChecklistUpdatesDTO\r\n\r\n```java\r\npublic class ExecuteChecklistUpdatesDTO{\r\n\r\n    @NotBlank(message = &quot;id can not be null or empty&quot;)\r\n    @Size(max = 32, message = &quot;id length must be less than or equal 32 characters&quot;)\r\n    private String id;\r\n\r\n    @Size(max = 20, message = &quot;code length must be less than or equal 20 characters&quot;)\r\n    private String code;\r\n\r\n    @Size(max = 100, message = &quot;area length must be less than or equal 100 characters&quot;)\r\n    private String areaAft;\r\n\r\n    private Set&lt;ChecklistStepRstUpdatesDTO&gt; checklistStepRstUpdatesDTO; }\r\n```\r\n\r\nI want to map() `Set&lt; ChecklistStepRstUpdatesDTO &gt; checklistStepRstUpdatesDTO;` and `Set&lt; ChecklistStepRst &gt; checklistStepRst;`\r\n\r\nBut when JSON changes the value passed, its sort is changed. give up error :\r\n\r\n&gt; identifier of an instance of ... was altered from X to Y ( X to be: id, Y to be: id )\r\n\r\n\r\n","title":"How to map set() in object in java?","body":"<p>I have 1 Object in Object which has 1 set. When the data is transmitted from the API and the data is taken from the database, how can we map 2 sets&lt;&gt; together? Currently, I map the results at the right time at the wrong time. Because each time data is requested, set is ordered differently, which causes the order of set request and set to be skewed and the map cannot be.</p>\n<p>Example JSON of request:</p>\n<pre><code>{\n&quot;id&quot;: &quot;4028828d&quot;,\n&quot;facilityResults&quot;: [\n    {\n        &quot;id&quot;: &quot;4024decaa62003b&quot;,\n        &quot;value&quot;: &quot;1&quot;,\n        &quot;note&quot;: &quot;hau nha 656251&quot;\n    },\n    {\n        &quot;id&quot;: &quot;4028828d7f003c&quot;,\n        &quot;value&quot;: &quot;12&quot;\n        &quot;note&quot;: &quot;hy 52s&quot;\n    }\n]}\n</code></pre>\n<p>ExecuteChecklist</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExecuteChecklist extends SiteBaseHest {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @Column(name = &quot;code&quot;, length = 20)\n    private String code;\n\n    @Column(name = &quot;area_aft&quot;, length = 100)\n    private String areaAft;\n\n    @OneToMany(mappedBy = &quot;executeChecklist&quot;)\n    @EqualsAndHashCode.Exclude\n    @JsonManagedReference\n    private Set&lt;ChecklistStepRst&gt; checklistStepRst; }\n</code></pre>\n<p>ExecuteChecklistUpdatesDTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExecuteChecklistUpdatesDTO{\n\n    @NotBlank(message = &quot;id can not be null or empty&quot;)\n    @Size(max = 32, message = &quot;id length must be less than or equal 32 characters&quot;)\n    private String id;\n\n    @Size(max = 20, message = &quot;code length must be less than or equal 20 characters&quot;)\n    private String code;\n\n    @Size(max = 100, message = &quot;area length must be less than or equal 100 characters&quot;)\n    private String areaAft;\n\n    private Set&lt;ChecklistStepRstUpdatesDTO&gt; checklistStepRstUpdatesDTO; }\n</code></pre>\n<p>I want to map() <code>Set&lt; ChecklistStepRstUpdatesDTO &gt; checklistStepRstUpdatesDTO;</code> and <code>Set&lt; ChecklistStepRst &gt; checklistStepRst;</code></p>\n<p>But when JSON changes the value passed, its sort is changed. give up error :</p>\n<blockquote>\n<p>identifier of an instance of ... was altered from X to Y ( X to be: id, Y to be: id )</p>\n</blockquote>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649041218,"creation_date":1649041218,"answer_id":71731592,"question_id":71731527,"body_markdown":"Here is an example of how you could implement `right()`, the rest of the methods would follow very similarly. I am assuming, as your comments imply, that the legality of the move has already been verified.\r\n```java\r\n/*\r\nrepresent the board in a 2-dimensional array with the following coordinate system\r\n  x ---&gt;\r\ny\r\n|\r\n\\/\r\n*/\r\n\r\nint x, y = 0; // keeping track of the blank position\r\n\r\nint[][] board = ... // initialize the board as needed (sequentially? randomly?), assume -1 represents the blank space\r\n\r\npublic void right() { // move the blank in the positive x direction\r\n    // get the value currently in the position that the blank must move to, as it will need to be swapped\r\n    int tmp = board[x + 1][y]; \r\n    board[x + 1][y] = -1; // move the blank here\r\n    board[x][y] = tmp; // complete the swap\r\n    x = x + 1; // the new x position of the blank needs to be updated\r\n}\r\n```","title":"How would I move a blank space in a 2d array?","body":"<p>Here is an example of how you could implement <code>right()</code>, the rest of the methods would follow very similarly. I am assuming, as your comments imply, that the legality of the move has already been verified.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\nrepresent the board in a 2-dimensional array with the following coordinate system\n  x ---&gt;\ny\n|\n\\/\n*/\n\nint x, y = 0; // keeping track of the blank position\n\nint[][] board = ... // initialize the board as needed (sequentially? randomly?), assume -1 represents the blank space\n\npublic void right() { // move the blank in the positive x direction\n    // get the value currently in the position that the blank must move to, as it will need to be swapped\n    int tmp = board[x + 1][y]; \n    board[x + 1][y] = -1; // move the blank here\n    board[x][y] = tmp; // complete the swap\n    x = x + 1; // the new x position of the blank needs to be updated\n}\n</code></pre>\n"}],"owner":{"account_id":24531038,"reputation":37,"user_id":18442815,"display_name":"Yousef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71731592,"answer_count":1,"score":0,"last_activity_date":1649041218,"creation_date":1649040390,"question_id":71731527,"body_markdown":"I&#39;m working on a Slider puzzle game and I&#39;m not sure how I would go about moving a &quot;blank&quot; around the array. The puzzle would something like this but randomized. Each method has a prerequisite indicating if it can move a certain direction or not.\r\n```\r\n- 2 3\r\n4 5 6\r\n7 8 9\r\n```\r\n```\r\n   // Modifies the puzzle by moving the blank up\r\n   // pre: canMoveUp()\r\n   public void up() {\r\n      \r\n   }\r\n\r\n   // Modifies the puzzle by moving the blank down\r\n   // pre: canMoveDown()\r\n   public void down() {\r\n      \r\n   }\r\n\r\n   // Modifies the puzzle by moving the blank left\r\n   // pre: canMoveLeft()\r\n   public void left() {\r\n      \r\n   }\r\n\r\n   // Modifies the puzzle by moving the blank right\r\n   // pre: canMoveRight()\r\n   public void right() {\r\n      \r\n   }\r\n```","title":"How would I move a blank space in a 2d array?","body":"<p>I'm working on a Slider puzzle game and I'm not sure how I would go about moving a &quot;blank&quot; around the array. The puzzle would something like this but randomized. Each method has a prerequisite indicating if it can move a certain direction or not.</p>\n<pre><code>- 2 3\n4 5 6\n7 8 9\n</code></pre>\n<pre><code>   // Modifies the puzzle by moving the blank up\n   // pre: canMoveUp()\n   public void up() {\n      \n   }\n\n   // Modifies the puzzle by moving the blank down\n   // pre: canMoveDown()\n   public void down() {\n      \n   }\n\n   // Modifies the puzzle by moving the blank left\n   // pre: canMoveLeft()\n   public void left() {\n      \n   }\n\n   // Modifies the puzzle by moving the blank right\n   // pre: canMoveRight()\n   public void right() {\n      \n   }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","server-sent-events"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1649084732,"post_id":71731476,"comment_id":126780759,"body_markdown":"most likely because the way intellij quits is by calling SIGTERM or something alike on the client, it does not close the connection gracefully. You have other functions, doOnTerminate, doFinally etc etc that you can use.","body":"most likely because the way intellij quits is by calling SIGTERM or something alike on the client, it does not close the connection gracefully. You have other functions, doOnTerminate, doFinally etc etc that you can use."},{"owner":{"account_id":483205,"reputation":301,"user_id":898097,"display_name":"Louis Huh"},"score":0,"creation_date":1649087647,"post_id":71731476,"comment_id":126781926,"body_markdown":"@Toerktumlare Thank you for your comment.\nI&#39;ve test what you told me. but they are also not executed.\ni&#39;ve tried doOnTerminate, doAfterTerminate, doFinally.","body":"@Toerktumlare Thank you for your comment. I&#39;ve test what you told me. but they are also not executed. i&#39;ve tried doOnTerminate, doAfterTerminate, doFinally."},{"owner":{"account_id":483205,"reputation":301,"user_id":898097,"display_name":"Louis Huh"},"score":0,"creation_date":1649088675,"post_id":71731476,"comment_id":126782326,"body_markdown":"maybe I can hold subscription for canceling. but when should I cancel... periodically? is there any solution to know client has gone?","body":"maybe I can hold subscription for canceling. but when should I cancel... periodically? is there any solution to know client has gone?"}],"owner":{"account_id":483205,"reputation":301,"user_id":898097,"display_name":"Louis Huh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649039691,"creation_date":1649039691,"question_id":71731476,"body_markdown":"There is a simple api for streaming messages.\r\n\r\n```java\r\n    @GetMapping(&quot;/channels/{channelCode}&quot;)\r\n    public Flux&lt;ServerSentEvent&lt;MessageEvent&gt;&gt; sse(@PathVariable String channelCode) {\r\n\r\n        Flux&lt;MessageEvent&gt; messageEventFlux = sinkContainer.getStream(channelCode);\r\n        Flux&lt;MessageEvent&gt; tickFlux = Flux.interval(Duration.ofSeconds(5))\r\n                .map(tick -&gt; new MessageEvent(OffsetDateTime.now(), &quot;HEARTBEAT&quot;));\r\n\r\n        return Flux.merge(messageEventFlux, tickFlux)\r\n                .map(event -&gt; ServerSentEvent.builder(event).build());\r\n    }\r\n```\r\n\r\nand getStream method is..\r\n```java\r\n    public Flux&lt;M&gt; getStream(String code) {\r\n\r\n        return sinksMap\r\n                .computeIfAbsent(code, key -&gt; {\r\n                    MessageSink&lt;M&gt; messageSink = new MessageSink&lt;&gt;();\r\n                    log.debug(&quot;open new channel [{}]. channels count: {}&quot;, key, sinksMap.size() + 1);\r\n                    return messageSink;\r\n                })\r\n                .toFlux()\r\n                .doOnCancel(() -&gt; {\r\n                    MessageSink&lt;M&gt; messageSink = sinksMap.get(code);\r\n                    if (messageSink.tryClosing()) {\r\n                        sinksMap.remove(code);\r\n                        log.debug(&quot;the channel [{}] closed. channels count: {}&quot;, code, sinksMap.size());\r\n                    }\r\n                });\r\n    }\r\n```\r\n\r\nWhen I access the api from any browser, I can see messages at the browser.\r\nand if I close that browser tab. \r\nImmediately I can see server logs like below.\r\n\r\n```\r\n2022-04-04 10:59:01.143 DEBUG 61355 --- [ctor-http-nio-2] com.example.practicesse.MessageSink      : emit complete for closing result: OK\r\n2022-04-04 10:59:01.143 DEBUG 61355 --- [ctor-http-nio-2] c.e.practicesse.MessageSinkContainer     : the channel [a] closed. channels count: 0.\r\n\r\n```\r\nIt means doOnCancel() was executed.\r\nThat was expected.\r\n\r\nBut If I call the api by [HTTP Client][1], I could stop receiving by clicking red stop button.\r\n[![enter image description here][2]][2]\r\nand then I noticed that there are no logs.\r\nIt means doOnCancel() was not executed.\r\nand It still emit &#39;HEARTBEAT&#39; messages.\r\n\r\nCould you explain it? why the method didn&#39;t executed. and how to fallback this situation?\r\nYou can check out the source code from https://github.com/louishuh/practice-sse\r\n\r\nThank you.\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/http-client-in-product-code-editor.html\r\n  [2]: https://i.stack.imgur.com/5RKjD.png","title":"disconnect the stream but server still emit in webflux","body":"<p>There is a simple api for streaming messages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/channels/{channelCode}&quot;)\n    public Flux&lt;ServerSentEvent&lt;MessageEvent&gt;&gt; sse(@PathVariable String channelCode) {\n\n        Flux&lt;MessageEvent&gt; messageEventFlux = sinkContainer.getStream(channelCode);\n        Flux&lt;MessageEvent&gt; tickFlux = Flux.interval(Duration.ofSeconds(5))\n                .map(tick -&gt; new MessageEvent(OffsetDateTime.now(), &quot;HEARTBEAT&quot;));\n\n        return Flux.merge(messageEventFlux, tickFlux)\n                .map(event -&gt; ServerSentEvent.builder(event).build());\n    }\n</code></pre>\n<p>and getStream method is..</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Flux&lt;M&gt; getStream(String code) {\n\n        return sinksMap\n                .computeIfAbsent(code, key -&gt; {\n                    MessageSink&lt;M&gt; messageSink = new MessageSink&lt;&gt;();\n                    log.debug(&quot;open new channel [{}]. channels count: {}&quot;, key, sinksMap.size() + 1);\n                    return messageSink;\n                })\n                .toFlux()\n                .doOnCancel(() -&gt; {\n                    MessageSink&lt;M&gt; messageSink = sinksMap.get(code);\n                    if (messageSink.tryClosing()) {\n                        sinksMap.remove(code);\n                        log.debug(&quot;the channel [{}] closed. channels count: {}&quot;, code, sinksMap.size());\n                    }\n                });\n    }\n</code></pre>\n<p>When I access the api from any browser, I can see messages at the browser.\nand if I close that browser tab.\nImmediately I can see server logs like below.</p>\n<pre><code>2022-04-04 10:59:01.143 DEBUG 61355 --- [ctor-http-nio-2] com.example.practicesse.MessageSink      : emit complete for closing result: OK\n2022-04-04 10:59:01.143 DEBUG 61355 --- [ctor-http-nio-2] c.e.practicesse.MessageSinkContainer     : the channel [a] closed. channels count: 0.\n\n</code></pre>\n<p>It means doOnCancel() was executed.\nThat was expected.</p>\n<p>But If I call the api by <a href=\"https://www.jetbrains.com/help/idea/http-client-in-product-code-editor.html\" rel=\"nofollow noreferrer\">HTTP Client</a>, I could stop receiving by clicking red stop button.\n<a href=\"https://i.stack.imgur.com/5RKjD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5RKjD.png\" alt=\"enter image description here\" /></a>\nand then I noticed that there are no logs.\nIt means doOnCancel() was not executed.\nand It still emit 'HEARTBEAT' messages.</p>\n<p>Could you explain it? why the method didn't executed. and how to fallback this situation?\nYou can check out the source code from <a href=\"https://github.com/louishuh/practice-sse\" rel=\"nofollow noreferrer\">https://github.com/louishuh/practice-sse</a></p>\n<p>Thank you.</p>\n"},{"tags":["java","database","csv"],"answers":[{"tags":[],"owner":{"account_id":12063609,"reputation":60,"user_id":8821675,"display_name":"Tazor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617767937,"creation_date":1617746179,"answer_id":66976982,"question_id":66975750,"body_markdown":"# Solution #\r\nThe way I&#39;ve come up with is to do the following:\r\n1) Create a new file\r\n2) If the username is not equal, add line, otherwise skip it\r\n\r\nJust as we&#39;ve listed out our steps, we can create a function to do each one.\r\n\r\n# Code #\r\n\r\n### 1) Creating a new file ###\r\n```\r\nprivate void createFile(){\r\n    try {\r\n        File myObj = new File(&quot;CSVs/tmpFile.csv&quot;);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nWe can then create the file which will be stored at the desired file path and stored as ```tmpFile.csv```.\r\n\r\n### 2) If the username are not equal, add line ###\r\n```\r\nprivate void addDataContents(String userNameToDelete){\r\n    try{\r\n        String userPath = &quot;CSVs/database.csv&quot;;\r\n        BufferedReader csvReader = new BufferedReader(new FileReader(&quot;CSVs/database.csv&quot;));\r\n        String row;\r\n        FileWriter myWriter = new FileWriter(&quot;CSVs/tmpFile.csv&quot;);\r\n\r\n        while (((row = csvReader.readLine()) != null)){\r\n            String[] line = row.split(&quot;,&quot;);\r\n            if (!line[3].equals(userNameToDelete)){\r\n                myWriter.write(row + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        myWriter.close();\r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\nWe then read through the contents of ```database.csv```. We read every line one by one and split the line up by commas as it is a CSV file ( Comma Separated Values ). As the username will always be stored in the 3rd index, we can compare the username we wish to delete with the value stored at the index. If they are not the same, we can go ahead and write the line to our new file. If they are the same, our loop will just continue onto the next line. \r\n\r\n# Final Notes #\r\nI hope everything is easy to read and understandable. ","title":"How to remove a row from a csv file if that row contains a certain data in java","body":"<h1>Solution</h1>\n<p>The way I've come up with is to do the following:</p>\n<ol>\n<li>Create a new file</li>\n<li>If the username is not equal, add line, otherwise skip it</li>\n</ol>\n<p>Just as we've listed out our steps, we can create a function to do each one.</p>\n<h1>Code</h1>\n<h3>1) Creating a new file</h3>\n<pre><code>private void createFile(){\n    try {\n        File myObj = new File(&quot;CSVs/tmpFile.csv&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>We can then create the file which will be stored at the desired file path and stored as <code>tmpFile.csv</code>.</p>\n<h3>2) If the username are not equal, add line</h3>\n<pre><code>private void addDataContents(String userNameToDelete){\n    try{\n        String userPath = &quot;CSVs/database.csv&quot;;\n        BufferedReader csvReader = new BufferedReader(new FileReader(&quot;CSVs/database.csv&quot;));\n        String row;\n        FileWriter myWriter = new FileWriter(&quot;CSVs/tmpFile.csv&quot;);\n\n        while (((row = csvReader.readLine()) != null)){\n            String[] line = row.split(&quot;,&quot;);\n            if (!line[3].equals(userNameToDelete)){\n                myWriter.write(row + &quot;\\n&quot;);\n            }\n        }\n        myWriter.close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>We then read through the contents of <code>database.csv</code>. We read every line one by one and split the line up by commas as it is a CSV file ( Comma Separated Values ). As the username will always be stored in the 3rd index, we can compare the username we wish to delete with the value stored at the index. If they are not the same, we can go ahead and write the line to our new file. If they are the same, our loop will just continue onto the next line.</p>\n<h1>Final Notes</h1>\n<p>I hope everything is easy to read and understandable.</p>\n"},{"tags":[],"owner":{"account_id":24813809,"reputation":11,"user_id":18694889,"display_name":"Miuccia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649039369,"creation_date":1649039369,"answer_id":71731445,"question_id":66975750,"body_markdown":"You need to delete the whole row containing specific data from a CSV file. The Java code will be rather long if you try to use the high-level language to do this. It is very simple to accomplish the task in SPL, an open-source Java package. You just need one line of code, as shown below:\r\n\r\n| |A|\r\n|:-|:-|\r\n|1|&gt;file(&quot;tmp.csv&quot;).export@c(file(&quot;database.csv&quot;).import@wc().select(~(4)!=userNameToDelete))|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as removeUser.splx and invoke it in Java in the same way you call a stored procedure:\r\n\r\n    …\r\n    Class.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\n    con= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\n    st = con.prepareCall(&quot;call removeUser(?)&quot;);\r\n    st.setObject(1,&quot;shaneli&quot;);\r\n    st.execute();\r\n    …","title":"How to remove a row from a csv file if that row contains a certain data in java","body":"<p>You need to delete the whole row containing specific data from a CSV file. The Java code will be rather long if you try to use the high-level language to do this. It is very simple to accomplish the task in SPL, an open-source Java package. You just need one line of code, as shown below:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">&gt;file(&quot;tmp.csv&quot;).export@c(file(&quot;database.csv&quot;).import@wc().select(~(4)!=userNameToDelete))</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as removeUser.splx and invoke it in Java in the same way you call a stored procedure:</p>\n<pre><code>…\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\nst = con.prepareCall(&quot;call removeUser(?)&quot;);\nst.setObject(1,&quot;shaneli&quot;);\nst.execute();\n…\n</code></pre>\n"}],"owner":{"account_id":10947180,"reputation":27,"user_id":8044841,"display_name":"jrl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649039369,"creation_date":1617739338,"question_id":66975750,"body_markdown":"I have a csv file that basically mimics a database and my goal is to remove a row from that csv if the csv file contains that username input I provide \r\n\r\nthe current csv file is: \r\n\r\n       Jack chan,customer,jack@yorku.ca,jack12,3144134414,13 Arboretum,user2\r\n       Donald tusk,customer,donald@yorku.ca,donald1,1213141114,14 Arboretum,user3 \r\n       tom jack,customer,tom11@yahoo.com,tom44,131344122,14 wells st,user34\r\n       jack,parking officer,12rfw@hmail.com,jack,12131131134,12ddcscs,peo1\r\n       jewel khan,parking officer,jkhan@hotmail.com,jwel12,2131412141,12 wliis str,peo2\r\n       shane li,parking officer,shane@gmail.com,shaneli,1343513414,13 mac st,peo33\r\n       james chang,parking officer,james15@gmail.com,james12,31452434114,13 chang st,peo77\r\n\r\n  \r\nmy objective is to remove the row of say Shane li using his username &quot;shaneli&quot; and not causing any change to other data. but the current code I have is not causing the file&#39;s other data to change \r\n\r\nthe expected output csv file is row with shaneli gets deleted with other rows remaining intact: \r\n\r\n       Jack chan,customer,jack@yorku.ca,jack12,3144134414,13 Arboretum,user2\r\n       Donald tusk,customer,donald@yorku.ca,donald1,1213141114,14 Arboretum,user3 \r\n       tom jack,customer,tom11@yahoo.com,tom44,131344122,14 wells st,user34\r\n       jack,parking officer,12rfw@hmail.com,jack,12131131134,12ddcscs,peo1\r\n       jewel khan,parking officer,jkhan@hotmail.com,jwel12,2131412141,12 wliis str,peo2\r\n       james chang,parking officer,james15@gmail.com,james12,31452434114,13 chang st,peo77\r\n\r\nthis is the code java code I have and I need a java solution:\r\n\r\n\t\r\n\r\n    private static String userPath = &quot;/CSVs/database.csv&quot;;\r\n\t\t\r\n    public void removeUser(String name,String userType,String email,String userName,String phoneNumber,String address,String password) {\r\n    \t\t\r\n    \t\t// FIX THIS\r\n    \t\tString tmpFile = &quot;tmp.csv&quot;;\r\n    //\t\tString target1 = &quot;&quot;; String target2 = &quot;&quot;; String target3 = &quot;&quot;; String target4 = &quot;&quot;; String target5 = &quot;&quot;;String target6 = &quot;&quot;;String target7 = &quot;&quot;;\r\n    \t\tString target = &quot;&quot;;\r\n    \t\tFile oldFile = new File(userPath);\r\n    \t\tFile newFile = new File(tmpFile);\r\n    \t\t\r\n    \t\tSystem.out.println(userName);\r\n    \t\ttry {\r\n    \t\t\tFileWriter fw = new FileWriter(tmpFile, true);\r\n    \t\t\tBufferedWriter bfw = new BufferedWriter(fw);\r\n    \t\t\tPrintWriter pw = new PrintWriter(bfw);\r\n    \t\t\tx = new Scanner(new File(userPath));\r\n    \t\t\tx.useDelimiter(&quot;[,\\n]&quot;);\r\n    \t\t\t\r\n    \t\t\twhile (x.hasNext()) {\r\n    \t\t\t\ttarget = x.next();\r\n    \t\t\t\tif (!target.equals(userName)) {\r\n    \t\t\t\t\tpw.printf(&quot;%s,%s,%s,%s,%s,%s,%s\\n&quot;, name, userType,email,userName,phoneNumber,address,password);\r\n    //\t\t\t\t\tpw.println(target + &quot;,&quot; + target + &quot;,&quot; + target + &quot;,&quot; + target + &quot;,&quot; + target + &quot;,&quot; + target + &quot;,&quot; + target);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tx.close();\r\n    \t\t\tpw.flush();\r\n    \t\t\tpw.close();\r\n    \t\t\toldFile.delete();\r\n    \t\t\tFile dmp = new File(userPath);\r\n    \t\t\tnewFile.renameTo(dmp);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\nPlease advice\r\nThanks in advance !!","title":"How to remove a row from a csv file if that row contains a certain data in java","body":"<p>I have a csv file that basically mimics a database and my goal is to remove a row from that csv if the csv file contains that username input I provide</p>\n<p>the current csv file is:</p>\n<pre><code>   Jack chan,customer,jack@yorku.ca,jack12,3144134414,13 Arboretum,user2\n   Donald tusk,customer,donald@yorku.ca,donald1,1213141114,14 Arboretum,user3 \n   tom jack,customer,tom11@yahoo.com,tom44,131344122,14 wells st,user34\n   jack,parking officer,12rfw@hmail.com,jack,12131131134,12ddcscs,peo1\n   jewel khan,parking officer,jkhan@hotmail.com,jwel12,2131412141,12 wliis str,peo2\n   shane li,parking officer,shane@gmail.com,shaneli,1343513414,13 mac st,peo33\n   james chang,parking officer,james15@gmail.com,james12,31452434114,13 chang st,peo77\n</code></pre>\n<p>my objective is to remove the row of say Shane li using his username &quot;shaneli&quot; and not causing any change to other data. but the current code I have is not causing the file's other data to change</p>\n<p>the expected output csv file is row with shaneli gets deleted with other rows remaining intact:</p>\n<pre><code>   Jack chan,customer,jack@yorku.ca,jack12,3144134414,13 Arboretum,user2\n   Donald tusk,customer,donald@yorku.ca,donald1,1213141114,14 Arboretum,user3 \n   tom jack,customer,tom11@yahoo.com,tom44,131344122,14 wells st,user34\n   jack,parking officer,12rfw@hmail.com,jack,12131131134,12ddcscs,peo1\n   jewel khan,parking officer,jkhan@hotmail.com,jwel12,2131412141,12 wliis str,peo2\n   james chang,parking officer,james15@gmail.com,james12,31452434114,13 chang st,peo77\n</code></pre>\n<p>this is the code java code I have and I need a java solution:</p>\n<pre><code>private static String userPath = &quot;/CSVs/database.csv&quot;;\n    \npublic void removeUser(String name,String userType,String email,String userName,String phoneNumber,String address,String password) {\n        \n        // FIX THIS\n        String tmpFile = &quot;tmp.csv&quot;;\n//      String target1 = &quot;&quot;; String target2 = &quot;&quot;; String target3 = &quot;&quot;; String target4 = &quot;&quot;; String target5 = &quot;&quot;;String target6 = &quot;&quot;;String target7 = &quot;&quot;;\n        String target = &quot;&quot;;\n        File oldFile = new File(userPath);\n        File newFile = new File(tmpFile);\n        \n        System.out.println(userName);\n        try {\n            FileWriter fw = new FileWriter(tmpFile, true);\n            BufferedWriter bfw = new BufferedWriter(fw);\n            PrintWriter pw = new PrintWriter(bfw);\n            x = new Scanner(new File(userPath));\n            x.useDelimiter(&quot;[,\\n]&quot;);\n            \n            while (x.hasNext()) {\n                target = x.next();\n                if (!target.equals(userName)) {\n                    pw.printf(&quot;%s,%s,%s,%s,%s,%s,%s\\n&quot;, name, userType,email,userName,phoneNumber,address,password);\n//                  pw.println(target + &quot;,&quot; + target + &quot;,&quot; + target + &quot;,&quot; + target + &quot;,&quot; + target + &quot;,&quot; + target + &quot;,&quot; + target);\n                }\n            }\n            x.close();\n            pw.flush();\n            pw.close();\n            oldFile.delete();\n            File dmp = new File(userPath);\n            newFile.renameTo(dmp);\n        } catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Please advice\nThanks in advance !!</p>\n"},{"tags":["java","multithreading","file","concurrency","synchronization"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1649011625,"post_id":71728891,"comment_id":126762562,"body_markdown":"The task as stated is impossible without writing bizarre code. The JVM does not guarantee that `threadOne` starts before `threadTwo` does (even though `threadOne` is started first). So you&#39;d have to code a global counter, and have PopThread use this global counter (as the &#39;first&#39; PopThread object is guaranteed to be constructed before the other). At this point I&#39;d just talk to your prof and explain that files is a dumb thing to use multithreading on, given that generally the disk is the bottleneck and not the CPU. This is just a silly, overly convoluted way that will be __slower__.","body":"The task as stated is impossible without writing bizarre code. The JVM does not guarantee that <code>threadOne</code> starts before <code>threadTwo</code> does (even though <code>threadOne</code> is started first). So you&#39;d have to code a global counter, and have PopThread use this global counter (as the &#39;first&#39; PopThread object is guaranteed to be constructed before the other). At this point I&#39;d just talk to your prof and explain that files is a dumb thing to use multithreading on, given that generally the disk is the bottleneck and not the CPU. This is just a silly, overly convoluted way that will be <b>slower</b>."},{"owner":{"account_id":22385087,"reputation":1,"user_id":16598033,"display_name":"BOB"},"score":0,"creation_date":1649013338,"post_id":71728891,"comment_id":126762917,"body_markdown":"@rzwitserloot Hi there, I know it is weird, it would be easier with a single thread. Now, I have no idea what to do?","body":"@rzwitserloot Hi there, I know it is weird, it would be easier with a single thread. Now, I have no idea what to do?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1649034125,"post_id":71728891,"comment_id":126766335,"body_markdown":"This question has some of the same problems as your previous question about the same topic. You don&#39;t say clearly what you are trying to do. Based on our chat on the previous question here&#39;s what I _think_ you are trying to do: (1) You were given the `q4` class, and you are assigned to create the `PopThread` class. (2) The program is expected to concatenate the contents of the four named files to its standard output. (3) The four files must be concatenated in ascending date order according to the dates in their filenames. The fact that &quot;each file contains a label in a format #n/N&quot; is...","body":"This question has some of the same problems as your previous question about the same topic. You don&#39;t say clearly what you are trying to do. Based on our chat on the previous question here&#39;s what I <i>think</i> you are trying to do: (1) You were given the <code>q4</code> class, and you are assigned to create the <code>PopThread</code> class. (2) The program is expected to concatenate the contents of the four named files to its standard output. (3) The four files must be concatenated in ascending date order according to the dates in their filenames. The fact that &quot;each file contains a label in a format #n/N&quot; is..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1649034189,"post_id":71728891,"comment_id":126766344,"body_markdown":"...not part of the problem definition. Your program isn&#39;t expected to parse the files. Those labels are just meant to help you see whether or not the files were output in the correct order. Am I right? Is all of that correct?","body":"...not part of the problem definition. Your program isn&#39;t expected to parse the files. Those labels are just meant to help you see whether or not the files were output in the correct order. Am I right? Is all of that correct?"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649038712,"creation_date":1649038285,"answer_id":71731342,"question_id":71728891,"body_markdown":"This assignment is horrible. You have my sympathy.\r\n\r\n-------------\r\n\r\nYour two threads will have to communicate with each other. Each thread will have to know, what is the filename that the _other_ thread wants to output next. And, they will have to take turns. Each thread needs to loop:\r\n\r\n1. While the date on my next file is less than or equal to the date on the other thread&#39;s next file, output my next file,\r\n\r\n1. Tell the other thread, &quot;it&#39;s your turn,&quot;\r\n \r\n1. If I have no more files, then exit (return from the `run()` method), otherwise, wait for the other thread to tell me it&#39;s _my_ turn again,\r\n\r\n1. Go back to step 1.\r\n\r\nHaving to take turns is the worst part of the assignment. Any time you find yourself needing to make threads take turns doing something—any time you need to make threads do things in a particular order—that&#39;s a clear sign that _all_ of the things should be done by a single thread.\r\n\r\n-------------\r\n\r\nThe only way threads can communicate is through shared variables. Your instructor has done you a _huge_ disservice by telling you not to modify the `q4` class. That prevents you from passing any shared objects in to your `PopThread` implementation through its constructor.\r\n\r\nThe only other way your two threads can share any variables is by making the variables `static`.  Forcing you to use `static` is the second worst part of the assignment. If you go on to study software engineering, you will learn that `static` is an [_anti-pattern_](https://en.wikipedia.org/wiki/Anti-pattern). Programs that use `static` variables are _brittle_ (i.e., hard to modify), and they are hard to test.\r\n\r\nForcing you to use static variables also will make your threads do extra work to figure out who is who. Normally, I would do something like this so that each thread would automatically know which state is its own, and which belongs to the other guy:\r\n\r\n``` lang-java\r\nclass SharedState { ... }\r\n\r\nclass PopThread {\r\n    public PopThread(\r\n        SharedState myState,\r\n        SharedState otherThreadState,\r\n        ArrayList&lt;String&gt; fileList\r\n    ) {\r\n        this.myState = myState;\r\n        this.otherGuyState = otherThreadState;\r\n        this.fileList = fileList;\r\n        ...initialize this.myState...\r\n    }\r\n    ...\r\n}\r\n\r\nclass q4 {\r\n    public static void main(String[] args) {\r\n        SharedState stateOne = new SharedState();\r\n        SharedState stateTwo = new SharedState();\r\n        PopThread popRunnableOne = new PopThread(stateOne, stateTwo, filesOne);\r\n        PopThread popRunnableTwo = new PopThread(stateTwo, stateOne, filesTwo);\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nThe best way I can think of with static variables would be to have an array of two `SharedState`, and have the threads use an `AtomicInteger` to each assign themself one of the two array slots:\r\n\r\n``` lang-java\r\nclass PopThread {\r\n    static SharedState[] state = new SharedState [2];\r\n    static AtomicInteger nextStateIndex = new AtomicInteger(0);\r\n\r\n    public PopThread(\r\n        SharedState myState,\r\n        SharedState otherThreadState,\r\n        ArrayList&lt;String&gt; fileList\r\n    ) {\r\n        myStateIndex = nextStateIndex.getAndIncrement();\r\n        otherGuysStateIndex = myStateIndex ^ 1;\r\n        this.fileList = fileList;\r\n        ...initialize state[myStateIndex]...\r\n    }\r\n    ...\r\n}\r\n```\r\n","title":"sorting files using multithreading in java","body":"<p>This assignment is horrible. You have my sympathy.</p>\n<hr />\n<p>Your two threads will have to communicate with each other. Each thread will have to know, what is the filename that the <em>other</em> thread wants to output next. And, they will have to take turns. Each thread needs to loop:</p>\n<ol>\n<li><p>While the date on my next file is less than or equal to the date on the other thread's next file, output my next file,</p>\n</li>\n<li><p>Tell the other thread, &quot;it's your turn,&quot;</p>\n</li>\n<li><p>If I have no more files, then exit (return from the <code>run()</code> method), otherwise, wait for the other thread to tell me it's <em>my</em> turn again,</p>\n</li>\n<li><p>Go back to step 1.</p>\n</li>\n</ol>\n<p>Having to take turns is the worst part of the assignment. Any time you find yourself needing to make threads take turns doing something—any time you need to make threads do things in a particular order—that's a clear sign that <em>all</em> of the things should be done by a single thread.</p>\n<hr />\n<p>The only way threads can communicate is through shared variables. Your instructor has done you a <em>huge</em> disservice by telling you not to modify the <code>q4</code> class. That prevents you from passing any shared objects in to your <code>PopThread</code> implementation through its constructor.</p>\n<p>The only other way your two threads can share any variables is by making the variables <code>static</code>.  Forcing you to use <code>static</code> is the second worst part of the assignment. If you go on to study software engineering, you will learn that <code>static</code> is an <a href=\"https://en.wikipedia.org/wiki/Anti-pattern\" rel=\"nofollow noreferrer\"><em>anti-pattern</em></a>. Programs that use <code>static</code> variables are <em>brittle</em> (i.e., hard to modify), and they are hard to test.</p>\n<p>Forcing you to use static variables also will make your threads do extra work to figure out who is who. Normally, I would do something like this so that each thread would automatically know which state is its own, and which belongs to the other guy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SharedState { ... }\n\nclass PopThread {\n    public PopThread(\n        SharedState myState,\n        SharedState otherThreadState,\n        ArrayList&lt;String&gt; fileList\n    ) {\n        this.myState = myState;\n        this.otherGuyState = otherThreadState;\n        this.fileList = fileList;\n        ...initialize this.myState...\n    }\n    ...\n}\n\nclass q4 {\n    public static void main(String[] args) {\n        SharedState stateOne = new SharedState();\n        SharedState stateTwo = new SharedState();\n        PopThread popRunnableOne = new PopThread(stateOne, stateTwo, filesOne);\n        PopThread popRunnableTwo = new PopThread(stateTwo, stateOne, filesTwo);\n        ...\n    }\n}\n</code></pre>\n<p>The best way I can think of with static variables would be to have an array of two <code>SharedState</code>, and have the threads use an <code>AtomicInteger</code> to each assign themself one of the two array slots:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PopThread {\n    static SharedState[] state = new SharedState [2];\n    static AtomicInteger nextStateIndex = new AtomicInteger(0);\n\n    public PopThread(\n        SharedState myState,\n        SharedState otherThreadState,\n        ArrayList&lt;String&gt; fileList\n    ) {\n        myStateIndex = nextStateIndex.getAndIncrement();\n        otherGuysStateIndex = myStateIndex ^ 1;\n        this.fileList = fileList;\n        ...initialize state[myStateIndex]...\n    }\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":22385087,"reputation":1,"user_id":16598033,"display_name":"BOB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71731342,"answer_count":1,"score":-1,"last_activity_date":1649038712,"creation_date":1649011347,"question_id":71728891,"body_markdown":"I was given an assignment to write all ordered contents of given files into a result.txt. At first, the filenames are split into different Arraylists where each file contains a label in a format #n/N where N is the total number of files. e.g.\r\n\r\nBritish explorer James Clark Ross led the first\r\nexpedition to reach the north magnetic pole\r\n#001/004\r\n\r\nfrom a file 1831-06-01.txt\r\n\r\nThe problem with my code is that it has written in order 1,4,2,3 respectively. However, the result must be in order 1,2,3,4. This may be due to a lack of synchronization. Nonetheless, I am still struggling to fix the problem. \r\n\r\nThis is my code:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    \r\n    class PopThread implements Runnable {\r\n        ArrayList&lt;String&gt; fileList; \r\n        \r\n        public PopThread(ArrayList&lt;String&gt; fileList) {\r\n            this.fileList = fileList;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            //System.out.println(&quot;running\\n&quot;);\r\n    \r\n            Thread.currentThread().setPriority(Thread.MIN_PRIORITY);\r\n            long startTime = System.nanoTime();\r\n    \r\n            System.out.println(&quot;fileList: &quot; + fileList);\r\n    \r\n            ArrayList&lt;String&gt; sortedFileList = sortFiles(fileList);\r\n    \r\n            File resultFile = new File(&quot;result.txt&quot;);\r\n    \r\n            for (String filename : sortedFileList) {\r\n                Writer w1 = new Writer(filename, resultFile);\r\n                Thread t = new Thread(w1);\r\n                t.setPriority(Thread.MAX_PRIORITY);\r\n                t.start();\r\n            }\r\n    \r\n            long stopTime = System.nanoTime();\r\n            //System.out.println(&quot;Total execution time: &quot; + (stopTime - startTime));\r\n        }\r\n    \r\n        public ArrayList&lt;String&gt; readFiles(String filename) {\r\n            ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \r\n            try {\r\n                File myObj = new File(filename);\r\n                Scanner s = new Scanner(myObj);\r\n                \r\n                while (s.hasNext()) {\r\n                    list.add(s.next());\r\n                }\r\n                \r\n                s.close();\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return list;\r\n        }\r\n        \r\n        public int getNumber(String filename) {\r\n            String lastLine = &quot;&quot;;\r\n            String sCurrentLine;\r\n            \r\n            int identifier_integer = -1;\r\n            \r\n            try {\r\n                BufferedReader br = new BufferedReader(new FileReader(filename));\r\n                \r\n                while ((sCurrentLine = br.readLine()) != null) {\r\n                    lastLine = sCurrentLine;\r\n                }\r\n                \r\n                String identifier_number = lastLine.substring(1,4);\r\n                identifier_integer = Integer.parseInt(identifier_number);\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n            return identifier_integer;\r\n            \r\n        }\r\n        \r\n        public ArrayList&lt;String&gt; sortFiles(ArrayList&lt;String&gt; listFileName) {\r\n            int i = listFileName.size();\r\n            boolean sorted = false;\r\n            \r\n            while ( (i &gt; 1)  &amp;&amp;  (!(sorted)) ) {\r\n                sorted = true;\r\n                \r\n                for (int j = 1; j &lt; i; j++) {\r\n                    if ( getNumber(listFileName.get(j-1)) &gt; getNumber(listFileName.get(j)) ) {\r\n                        String temp = listFileName.get(j-1);\r\n                        listFileName.set(j-1, listFileName.get(j));\r\n                        listFileName.set(j, temp);\r\n                        \r\n                        sorted = false;\r\n                    }\r\n                }\r\n                i--;\r\n            }\r\n            \r\n            return listFileName;\r\n        }\r\n    \r\n    }\r\n    \r\n    class Writer implements Runnable {\r\n        String filename;\r\n        File resultFile;\r\n    \r\n        public Writer(String filename, File resultFile) {\r\n            this.filename = filename;\r\n            this.resultFile = resultFile;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            String content;\r\n            content = readFromFile(filename);\r\n            writeToFile(resultFile, content);\r\n        }\r\n    \r\n        private static void writeToFile(File resultFile, String content) {\r\n            try {\r\n                BufferedWriter writer = new BufferedWriter(new FileWriter(resultFile, true));\r\n                writer.write(content);\r\n                //writer.write(&quot;file content written&quot;);\r\n                writer.flush();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        static String readFromFile(String filename) {\r\n            StringBuffer content = new StringBuffer();\r\n    \r\n            try {\r\n                String text;\r\n                BufferedReader reader = new BufferedReader(new FileReader(filename));\r\n    \r\n                while ((text = reader.readLine()) != null) {\r\n                    content.append(text);\r\n                    content.append(&quot;\\n&quot;);\r\n                }\r\n    \r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return content.toString();\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    public class q4 {\r\n        public static void main(String[] args) {\r\n            ArrayList&lt;String&gt; filesOne = new ArrayList&lt;String&gt;();\r\n            filesOne.add(&quot;1831-06-01.txt&quot;);\r\n            filesOne.add(&quot;2003-08-27.txt&quot;);\r\n    \r\n            ArrayList&lt;String&gt; filesTwo = new ArrayList&lt;String&gt;();\r\n            filesTwo.add(&quot;1961-04-12.txt&quot;);\r\n            filesTwo.add(&quot;1972-12-11.txt&quot;);\r\n    \r\n            PopThread popRunnableOne = new PopThread(filesOne);\r\n            PopThread popRunnableTwo = new PopThread(filesTwo);\r\n    \r\n            Thread threadOne = new Thread(popRunnableOne);\r\n            Thread threadTwo = new Thread(popRunnableTwo);\r\n    \r\n            threadOne.start();\r\n            threadTwo.start();\r\n            try {\r\n                threadOne.join();\r\n                threadTwo.join();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n        \r\n    }\r\n\r\n( NOTE: The class q4 cannot be altered)\r\n","title":"sorting files using multithreading in java","body":"<p>I was given an assignment to write all ordered contents of given files into a result.txt. At first, the filenames are split into different Arraylists where each file contains a label in a format #n/N where N is the total number of files. e.g.</p>\n<p>British explorer James Clark Ross led the first\nexpedition to reach the north magnetic pole\n#001/004</p>\n<p>from a file 1831-06-01.txt</p>\n<p>The problem with my code is that it has written in order 1,4,2,3 respectively. However, the result must be in order 1,2,3,4. This may be due to a lack of synchronization. Nonetheless, I am still struggling to fix the problem.</p>\n<p>This is my code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.*;\n\nclass PopThread implements Runnable {\n    ArrayList&lt;String&gt; fileList; \n    \n    public PopThread(ArrayList&lt;String&gt; fileList) {\n        this.fileList = fileList;\n    }\n\n    @Override\n    public void run() {\n        //System.out.println(&quot;running\\n&quot;);\n\n        Thread.currentThread().setPriority(Thread.MIN_PRIORITY);\n        long startTime = System.nanoTime();\n\n        System.out.println(&quot;fileList: &quot; + fileList);\n\n        ArrayList&lt;String&gt; sortedFileList = sortFiles(fileList);\n\n        File resultFile = new File(&quot;result.txt&quot;);\n\n        for (String filename : sortedFileList) {\n            Writer w1 = new Writer(filename, resultFile);\n            Thread t = new Thread(w1);\n            t.setPriority(Thread.MAX_PRIORITY);\n            t.start();\n        }\n\n        long stopTime = System.nanoTime();\n        //System.out.println(&quot;Total execution time: &quot; + (stopTime - startTime));\n    }\n\n    public ArrayList&lt;String&gt; readFiles(String filename) {\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n        try {\n            File myObj = new File(filename);\n            Scanner s = new Scanner(myObj);\n            \n            while (s.hasNext()) {\n                list.add(s.next());\n            }\n            \n            s.close();\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        return list;\n    }\n    \n    public int getNumber(String filename) {\n        String lastLine = &quot;&quot;;\n        String sCurrentLine;\n        \n        int identifier_integer = -1;\n        \n        try {\n            BufferedReader br = new BufferedReader(new FileReader(filename));\n            \n            while ((sCurrentLine = br.readLine()) != null) {\n                lastLine = sCurrentLine;\n            }\n            \n            String identifier_number = lastLine.substring(1,4);\n            identifier_integer = Integer.parseInt(identifier_number);\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        return identifier_integer;\n        \n    }\n    \n    public ArrayList&lt;String&gt; sortFiles(ArrayList&lt;String&gt; listFileName) {\n        int i = listFileName.size();\n        boolean sorted = false;\n        \n        while ( (i &gt; 1)  &amp;&amp;  (!(sorted)) ) {\n            sorted = true;\n            \n            for (int j = 1; j &lt; i; j++) {\n                if ( getNumber(listFileName.get(j-1)) &gt; getNumber(listFileName.get(j)) ) {\n                    String temp = listFileName.get(j-1);\n                    listFileName.set(j-1, listFileName.get(j));\n                    listFileName.set(j, temp);\n                    \n                    sorted = false;\n                }\n            }\n            i--;\n        }\n        \n        return listFileName;\n    }\n\n}\n\nclass Writer implements Runnable {\n    String filename;\n    File resultFile;\n\n    public Writer(String filename, File resultFile) {\n        this.filename = filename;\n        this.resultFile = resultFile;\n    }\n\n    @Override\n    public void run() {\n        String content;\n        content = readFromFile(filename);\n        writeToFile(resultFile, content);\n    }\n\n    private static void writeToFile(File resultFile, String content) {\n        try {\n            BufferedWriter writer = new BufferedWriter(new FileWriter(resultFile, true));\n            writer.write(content);\n            //writer.write(&quot;file content written&quot;);\n            writer.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    static String readFromFile(String filename) {\n        StringBuffer content = new StringBuffer();\n\n        try {\n            String text;\n            BufferedReader reader = new BufferedReader(new FileReader(filename));\n\n            while ((text = reader.readLine()) != null) {\n                content.append(text);\n                content.append(&quot;\\n&quot;);\n            }\n\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return content.toString();\n    }\n\n}\n\n\npublic class q4 {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; filesOne = new ArrayList&lt;String&gt;();\n        filesOne.add(&quot;1831-06-01.txt&quot;);\n        filesOne.add(&quot;2003-08-27.txt&quot;);\n\n        ArrayList&lt;String&gt; filesTwo = new ArrayList&lt;String&gt;();\n        filesTwo.add(&quot;1961-04-12.txt&quot;);\n        filesTwo.add(&quot;1972-12-11.txt&quot;);\n\n        PopThread popRunnableOne = new PopThread(filesOne);\n        PopThread popRunnableTwo = new PopThread(filesTwo);\n\n        Thread threadOne = new Thread(popRunnableOne);\n        Thread threadTwo = new Thread(popRunnableTwo);\n\n        threadOne.start();\n        threadTwo.start();\n        try {\n            threadOne.join();\n            threadTwo.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n    \n}\n</code></pre>\n<p>( NOTE: The class q4 cannot be altered)</p>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1649038010,"post_id":71731297,"comment_id":126766887,"body_markdown":"It looks like you&#39;ve tried to put one method inside another.  Don&#39;t do that.  Finish one method before you start the next one.","body":"It looks like you&#39;ve tried to put one method inside another.  Don&#39;t do that.  Finish one method before you start the next one."}],"answers":[{"tags":[],"owner":{"account_id":19321579,"reputation":137,"user_id":14125161,"display_name":"ahtasham nazeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649038108,"creation_date":1649038108,"answer_id":71731330,"question_id":71731297,"body_markdown":"Your syntax is wrong completely firstly you need a main function and then you also need to accept the return type. \r\n    \r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Enter Matrix 1 : &quot;);\r\n        double[][] matrix1 = new double[3][3];\r\n        for(int r = 0; r &lt; matrix1.length; r++)\r\n        {\r\n            for(int c = 0; c &lt; matrix1[0].length; c++)\r\n            {\r\n                matrix1[r][c] = input.nextDouble();\r\n            }\r\n        }\r\n        System.out.print(&quot;Enter Matrix 2 : &quot;);\r\n        double[][] matrix2 = new double[3][3];\r\n        for(int r = 0; r &lt; matrix2.length; r++)\r\n        {\r\n            for(int c = 0; c &lt; matrix2[0].length; c++)\r\n            {\r\n                matrix2[r][c] = input.nextDouble();\r\n            }\r\n        }\r\n\r\n        double[][] addedMatrix = addMatrix(matrix1, matrix2);\r\n\r\n        System.out.println(&quot;The matrices added are : &quot;);\r\n        for(int r = 0; r &lt; addedMatrix.length; r++)\r\n        {\r\n            for(int c = 0; c &lt; addedMatrix[0].length; c++)\r\n            {\r\n                System.out.print(addedMatrix[r][c]+ &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    public static double[][] addMatrix(double[][] arr1, double[][] arr2)\r\n    {\r\n        double[][] addedMatrix = new double[3][3];\r\n        for(int r = 0; r &lt; addedMatrix.length; r++)\r\n        {\r\n            for(int c = 0; c &lt; addedMatrix[0].length; c++)\r\n            {\r\n                addedMatrix[r][c] = arr1[r][c] + arr2[r][c];\r\n            }\r\n        }\r\n        return addedMatrix;\r\n    }\r\n    }\r\n","title":"Two 2d Arrays Sum","body":"<p>Your syntax is wrong completely firstly you need a main function and then you also need to accept the return type.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Test {\n\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Enter Matrix 1 : &quot;);\n    double[][] matrix1 = new double[3][3];\n    for(int r = 0; r &lt; matrix1.length; r++)\n    {\n        for(int c = 0; c &lt; matrix1[0].length; c++)\n        {\n            matrix1[r][c] = input.nextDouble();\n        }\n    }\n    System.out.print(&quot;Enter Matrix 2 : &quot;);\n    double[][] matrix2 = new double[3][3];\n    for(int r = 0; r &lt; matrix2.length; r++)\n    {\n        for(int c = 0; c &lt; matrix2[0].length; c++)\n        {\n            matrix2[r][c] = input.nextDouble();\n        }\n    }\n\n    double[][] addedMatrix = addMatrix(matrix1, matrix2);\n\n    System.out.println(&quot;The matrices added are : &quot;);\n    for(int r = 0; r &lt; addedMatrix.length; r++)\n    {\n        for(int c = 0; c &lt; addedMatrix[0].length; c++)\n        {\n            System.out.print(addedMatrix[r][c]+ &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n\npublic static double[][] addMatrix(double[][] arr1, double[][] arr2)\n{\n    double[][] addedMatrix = new double[3][3];\n    for(int r = 0; r &lt; addedMatrix.length; r++)\n    {\n        for(int c = 0; c &lt; addedMatrix[0].length; c++)\n        {\n            addedMatrix[r][c] = arr1[r][c] + arr2[r][c];\n        }\n    }\n    return addedMatrix;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":24815808,"reputation":13,"user_id":18696652,"display_name":"Techy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71731330,"answer_count":1,"score":1,"last_activity_date":1649038389,"creation_date":1649037675,"question_id":71731297,"body_markdown":"I&#39;m trying to take two 2d array inputs, and then add them together, but it won&#39;t compile correctly. For some reason if i declare the &#39;addedMatrix&#39; outside of the method the code compiles but the addedMatrix is blank\r\n\r\nHeres what I have so far : \r\n\r\n    System.out.print(&quot;Enter Matrix 1 : &quot;);\r\n    double[][] matrix1 = new double[3][3];\r\n\r\n    for (int r = 0; r &lt; matrix1.length; r++)\r\n    {\r\n        for (int c = 0; c &lt; matrix1[0].length; c++)\r\n        {\r\n            matrix1[r][c] = input.nextDouble();\r\n        }\r\n    }\r\n\r\n    System.out.print(&quot;Enter Matrix 2 : &quot;);\r\n    double[][] matrix2 = new double[3][3];\r\n\r\n    for (int r = 0; r &lt; matrix2.length; r++)\r\n    {\r\n        for (int c = 0; c &lt; matrix2[0].length; c++)\r\n        {\r\n            matrix2[r][c] = input.nextDouble();\r\n        }\r\n    }\r\n    \r\n    addMatrix(matrix1, matrix2);\r\n    \r\n    System.out.println(&quot;The matrices added are : &quot;);\r\n\r\n    for (int r = 0; r &lt; addedMatrix.length; r++)\r\n    {\r\n        for (int c = 0; c &lt; addedMatrix[0].length; c++)\r\n        {\r\n            System.out.print(addedMatrix[r][c]+ &quot; &quot;);\r\n        }\r\n\r\n        System.out.println();\r\n    }\r\n    \r\n    public static double[][] addMatrix(double[][] arr1, double[][] arr2)\r\n    {\r\n        double[][] addedMatrix = new double[3][3];\r\n            \r\n        for (int r = 0; r &lt; addedMatrix.length; r++)\r\n        {\r\n            for (int c = 0; c &lt; addedMatrix[0].length; c++)\r\n            {\r\n                addedMatrix[r][c] = arr1[r][c] + arr2[r][c];\r\n            }\r\n        }\r\n            \r\n        return addedMatrix;\r\n    }","title":"Two 2d Arrays Sum","body":"<p>I'm trying to take two 2d array inputs, and then add them together, but it won't compile correctly. For some reason if i declare the 'addedMatrix' outside of the method the code compiles but the addedMatrix is blank</p>\n<p>Heres what I have so far :</p>\n<pre><code>System.out.print(&quot;Enter Matrix 1 : &quot;);\ndouble[][] matrix1 = new double[3][3];\n\nfor (int r = 0; r &lt; matrix1.length; r++)\n{\n    for (int c = 0; c &lt; matrix1[0].length; c++)\n    {\n        matrix1[r][c] = input.nextDouble();\n    }\n}\n\nSystem.out.print(&quot;Enter Matrix 2 : &quot;);\ndouble[][] matrix2 = new double[3][3];\n\nfor (int r = 0; r &lt; matrix2.length; r++)\n{\n    for (int c = 0; c &lt; matrix2[0].length; c++)\n    {\n        matrix2[r][c] = input.nextDouble();\n    }\n}\n\naddMatrix(matrix1, matrix2);\n\nSystem.out.println(&quot;The matrices added are : &quot;);\n\nfor (int r = 0; r &lt; addedMatrix.length; r++)\n{\n    for (int c = 0; c &lt; addedMatrix[0].length; c++)\n    {\n        System.out.print(addedMatrix[r][c]+ &quot; &quot;);\n    }\n\n    System.out.println();\n}\n\npublic static double[][] addMatrix(double[][] arr1, double[][] arr2)\n{\n    double[][] addedMatrix = new double[3][3];\n        \n    for (int r = 0; r &lt; addedMatrix.length; r++)\n    {\n        for (int c = 0; c &lt; addedMatrix[0].length; c++)\n        {\n            addedMatrix[r][c] = arr1[r][c] + arr2[r][c];\n        }\n    }\n        \n    return addedMatrix;\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1648306530,"post_id":71629045,"comment_id":126593343,"body_markdown":"if its multiple .java file within a folder, right click on that particular .java file &gt; click on &#39;run as&#39;","body":"if its multiple .java file within a folder, right click on that particular .java file &gt; click on &#39;run as&#39;"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1648309022,"post_id":71629045,"comment_id":126593862,"body_markdown":"make a folder for each student?","body":"make a folder for each student?"},{"owner":{"account_id":8166645,"reputation":1,"user_id":6148686,"display_name":"TOMC"},"score":0,"creation_date":1648403935,"post_id":71629045,"comment_id":126609802,"body_markdown":"Creating a folder for students would be a pain. Since students don&#39;t use the PACKAGE statement, why should VSCode assume all files need to be compliled.","body":"Creating a folder for students would be a pain. Since students don&#39;t use the PACKAGE statement, why should VSCode assume all files need to be compliled."},{"owner":{"account_id":8166645,"reputation":1,"user_id":6148686,"display_name":"TOMC"},"score":0,"creation_date":1648404043,"post_id":71629045,"comment_id":126609817,"body_markdown":"As to FILE -&gt; RUN AS, that would work in Explorer but not in VSCODE. Explorer would run it with java.exe. I want to be able trace and debug student code in VSCode to provide the best possible feedback on their coding skills.","body":"As to FILE -&gt; RUN AS, that would work in Explorer but not in VSCODE. Explorer would run it with java.exe. I want to be able trace and debug student code in VSCode to provide the best possible feedback on their coding skills."},{"owner":{"account_id":16454679,"reputation":312,"user_id":11887174,"display_name":"Mia Wu-MSFT"},"score":0,"creation_date":1650512999,"post_id":71629045,"comment_id":127136417,"body_markdown":"As an option, you can build and run it in terminal by run `javac hello.java` and `java hello`","body":"As an option, you can build and run it in terminal by run <code>javac hello.java</code> and <code>java hello</code>"}],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649038175,"creation_date":1648547509,"answer_id":71659873,"question_id":71629045,"body_markdown":"You can have a try on `Code Runner`. Then you can right-click and select `Run Code` or click the `Run Code` button on the top-right.\r\n\r\n**Update:**\r\n\r\nIn fact, you can ignore the `Build failed` prompt and click `Proceed` to continue the `Run Java` or `Debug Java` actions.\r\n\r\n","title":"VSCode support for Java Unnamed Packages","body":"<p>You can have a try on <code>Code Runner</code>. Then you can right-click and select <code>Run Code</code> or click the <code>Run Code</code> button on the top-right.</p>\n<p><strong>Update:</strong></p>\n<p>In fact, you can ignore the <code>Build failed</code> prompt and click <code>Proceed</code> to continue the <code>Run Java</code> or <code>Debug Java</code> actions.</p>\n"}],"owner":{"account_id":8166645,"reputation":1,"user_id":6148686,"display_name":"TOMC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649038175,"creation_date":1648306004,"question_id":71629045,"body_markdown":"I&#39;m a teacher with a lot of simple .java files to grade. The students have not and will not be using packages as this is a rather simple class.\r\n\r\nHaving one .java file runs fine. When a second one or more are added, VSCode compiles all the files in the folder. Needless to say, some student files may contain syntax errors. So I can&#39;t run or debug the one student file I&#39;m grading.\r\n\r\nIs there a workaround for this situation? It seems to be an option under Java specification.\r\n\r\n------------------------------\r\n7.4.2. Unnamed Packages states:\r\n\r\nAn implementation of the Java SE Platform must support at least one unnamed package. An implementation may support more than one unnamed package, but is not required to do so. Which ordinary compilation units are in each unnamed package is determined by the host system.","title":"VSCode support for Java Unnamed Packages","body":"<p>I'm a teacher with a lot of simple .java files to grade. The students have not and will not be using packages as this is a rather simple class.</p>\n<p>Having one .java file runs fine. When a second one or more are added, VSCode compiles all the files in the folder. Needless to say, some student files may contain syntax errors. So I can't run or debug the one student file I'm grading.</p>\n<p>Is there a workaround for this situation? It seems to be an option under Java specification.</p>\n<hr />\n<p>7.4.2. Unnamed Packages states:</p>\n<p>An implementation of the Java SE Platform must support at least one unnamed package. An implementation may support more than one unnamed package, but is not required to do so. Which ordinary compilation units are in each unnamed package is determined by the host system.</p>\n"},{"tags":["java","unit-testing","junit"],"answers":[{"tags":[],"owner":{"account_id":2733319,"reputation":3099,"user_id":2356554,"display_name":"Keith"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1443756278,"creation_date":1443756278,"answer_id":32900106,"question_id":32899738,"body_markdown":"You should start off by identifying what part of this test&#39;s setup is not truly part of the test method; i.e., what is boilerplate that could be extracted into `@Before` and `@After` methods. That will probably require you to pull a few local variables into class variables. This makes each `@Test` method less verbose, and allows you to focus on the functionality under test.\r\n\r\nYou should next either remove all of the `catch` blocks, or fail the test with something like`fail(exception.getMessage())` if your code or test code raises an unintended exception. If you remove them, it&#39;s easy enough to change the unit test&#39;s method signature to `throws Exception` to allow it to generically fail if an exception is thrown. As it is now, you could completely fail to connect to the database in your setup and the Junit test would still go green!\r\n\r\nIdeally, you&#39;d have a unit test that covers each `if...else` block. That would give you 10 tests. In those, the focus (the `Assert`) would be to confirm the presence of the found/not found value in `serviceRequests`. You should also test your exception handling, so you&#39;d want a test that forces `SQLException` to be caught. \r\n\r\nI would finally suggest that, to reduce overhead, you consider using a mocking framework, such as [Mockito](http://mockito.org) to stub out the database I/O completely. This [SO question](https://stackoverflow.com/questions/25520477/junit-mockito-test-everything) has some good examples of mocking out the database. \r\n\r\nI noticed a few quick things in `executeSelect()` that could be fixed:\r\n\r\n - Remove the `Connection` an argument -- it&#39;s unused, as the `Statement` is already instantiated.\r\n - Consider throwing the SQLException rather than returning a List -- it gives a false advertisement that a DB read has been performed succesfully.\r\n - Prefer interfaces and abstract classes over concrete classes: change your method signature and `serviceRequests` from `ArrayList&lt;HashMap&lt;String, String&gt;&gt;` to `List&lt;Map&lt;String, String&gt;&gt;`. Among many resources, Josh Bloch&#39;s [Effective Java](https://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PA93&amp;lpg=PA93&amp;dq=prefer+interfaces+java&amp;source=bl&amp;ots=yZGiPjtZO2&amp;sig=TXgKu4NOeV4BbAWBKVOMoRiRqow&amp;hl=en&amp;sa=X&amp;ved=0CEEQ6AEwBWoVChMIrqaxqeqiyAIVihoeCh3nqwkj#v=onepage&amp;q=prefer%20interfaces%20java&amp;f=false) is a good reference for this subject. \r\n\r\nYou could simplify this method even more -- which would make testing even more straightforward -- by moving the following code into another method:\r\n\r\n        long queryStart = System.nanoTime();\r\n        rs = stmt.executeQuery(query.getQuery());\r\n        long queryEnd = System.nanoTime();\r\n        long queryDuration = queryEnd-queryStart;\r\n        queryTime = String.valueOf(queryDuration);\r\n\r\nand then passing only `ResultSet` into `executeSelect()` ...or whatever it would be renamed to :).","title":"JAVA best practice unit testing with JUnit","body":"<p>You should start off by identifying what part of this test's setup is not truly part of the test method; i.e., what is boilerplate that could be extracted into <code>@Before</code> and <code>@After</code> methods. That will probably require you to pull a few local variables into class variables. This makes each <code>@Test</code> method less verbose, and allows you to focus on the functionality under test.</p>\n\n<p>You should next either remove all of the <code>catch</code> blocks, or fail the test with something like<code>fail(exception.getMessage())</code> if your code or test code raises an unintended exception. If you remove them, it's easy enough to change the unit test's method signature to <code>throws Exception</code> to allow it to generically fail if an exception is thrown. As it is now, you could completely fail to connect to the database in your setup and the Junit test would still go green!</p>\n\n<p>Ideally, you'd have a unit test that covers each <code>if...else</code> block. That would give you 10 tests. In those, the focus (the <code>Assert</code>) would be to confirm the presence of the found/not found value in <code>serviceRequests</code>. You should also test your exception handling, so you'd want a test that forces <code>SQLException</code> to be caught. </p>\n\n<p>I would finally suggest that, to reduce overhead, you consider using a mocking framework, such as <a href=\"http://mockito.org\" rel=\"nofollow noreferrer\">Mockito</a> to stub out the database I/O completely. This <a href=\"https://stackoverflow.com/questions/25520477/junit-mockito-test-everything\">SO question</a> has some good examples of mocking out the database. </p>\n\n<p>I noticed a few quick things in <code>executeSelect()</code> that could be fixed:</p>\n\n<ul>\n<li>Remove the <code>Connection</code> an argument -- it's unused, as the <code>Statement</code> is already instantiated.</li>\n<li>Consider throwing the SQLException rather than returning a List -- it gives a false advertisement that a DB read has been performed succesfully.</li>\n<li>Prefer interfaces and abstract classes over concrete classes: change your method signature and <code>serviceRequests</code> from <code>ArrayList&lt;HashMap&lt;String, String&gt;&gt;</code> to <code>List&lt;Map&lt;String, String&gt;&gt;</code>. Among many resources, Josh Bloch's <a href=\"https://books.google.com/books?id=ka2VUBqHiWkC&amp;pg=PA93&amp;lpg=PA93&amp;dq=prefer+interfaces+java&amp;source=bl&amp;ots=yZGiPjtZO2&amp;sig=TXgKu4NOeV4BbAWBKVOMoRiRqow&amp;hl=en&amp;sa=X&amp;ved=0CEEQ6AEwBWoVChMIrqaxqeqiyAIVihoeCh3nqwkj#v=onepage&amp;q=prefer%20interfaces%20java&amp;f=false\" rel=\"nofollow noreferrer\">Effective Java</a> is a good reference for this subject. </li>\n</ul>\n\n<p>You could simplify this method even more -- which would make testing even more straightforward -- by moving the following code into another method:</p>\n\n<pre><code>    long queryStart = System.nanoTime();\n    rs = stmt.executeQuery(query.getQuery());\n    long queryEnd = System.nanoTime();\n    long queryDuration = queryEnd-queryStart;\n    queryTime = String.valueOf(queryDuration);\n</code></pre>\n\n<p>and then passing only <code>ResultSet</code> into <code>executeSelect()</code> ...or whatever it would be renamed to :).</p>\n"},{"tags":[],"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649037862,"creation_date":1649037862,"answer_id":71731310,"question_id":32899738,"body_markdown":"Yes you are right, your test case should be broken into many unit tests.\r\nI will apply some of the unit tests best practices provided by the source at the bottom of this answer.\r\n\r\n**Your unit test should be descriptive**\r\n\r\nwhen I read your unit test I have to spend too much effort to understand what are you trying to validate. Use a good convention naming, don&#39;t be afraid of using long method names ( example : executeSelect_Should_Return_Empty_List_When_No_Results() ) .\r\n\r\n**Test one thing at a time**\r\n\r\nSame as the previous point, Try to test one and only one thing at time, this thing could be :\r\n\r\n - Do I have results \r\n - What if there is no results ?\r\n - What happen if cannot get a connection\r\n - What happens if I have a SQL Error ( Test exceptions ) .\r\n\r\n**Write isolated unit tests**\r\n\r\nYour unit test seems to depend on a real database. your test should not depend on external resources such as a Database ( even a local database), the file system, REST or SOAP Services, etc.  Instead of that you can &quot;Mock&quot; your database.\r\nIn addition, external resources may slow down your test(s).\r\n\r\n**Avoid logic in unit tests**\r\n\r\nLogic makes your test less readable and can introduce bugs into your tests. Tests are the last place you want to have bugs. it is true you dont have structures like &quot;if, for, switch, etc&quot; but that try...catch is not necessary there, this is something you should brake into multiple test cases. Prefer to add exceptions to method test signature. and as stated before, have other tests to validate the exceptions (ie: [assertThrows][2] ) .\r\n\r\n**Use constants instead of &quot;Magic Values&quot;**\r\n\r\nPrefer to use constants instead of string values, try to express the intention of your test with descriptive constant names( ie:  EXPECTED_FIRST_NAME)\r\n\r\nSource : [Unit tests best practices][1]\r\n\r\n\r\n  [1]: https://tutoref.com/unit-testing-best-practices/\r\n  [2]: https://stackoverflow.com/a/40268447/1624839","title":"JAVA best practice unit testing with JUnit","body":"<p>Yes you are right, your test case should be broken into many unit tests.\nI will apply some of the unit tests best practices provided by the source at the bottom of this answer.</p>\n<p><strong>Your unit test should be descriptive</strong></p>\n<p>when I read your unit test I have to spend too much effort to understand what are you trying to validate. Use a good convention naming, don't be afraid of using long method names ( example : executeSelect_Should_Return_Empty_List_When_No_Results() ) .</p>\n<p><strong>Test one thing at a time</strong></p>\n<p>Same as the previous point, Try to test one and only one thing at time, this thing could be :</p>\n<ul>\n<li>Do I have results</li>\n<li>What if there is no results ?</li>\n<li>What happen if cannot get a connection</li>\n<li>What happens if I have a SQL Error ( Test exceptions ) .</li>\n</ul>\n<p><strong>Write isolated unit tests</strong></p>\n<p>Your unit test seems to depend on a real database. your test should not depend on external resources such as a Database ( even a local database), the file system, REST or SOAP Services, etc.  Instead of that you can &quot;Mock&quot; your database.\nIn addition, external resources may slow down your test(s).</p>\n<p><strong>Avoid logic in unit tests</strong></p>\n<p>Logic makes your test less readable and can introduce bugs into your tests. Tests are the last place you want to have bugs. it is true you dont have structures like &quot;if, for, switch, etc&quot; but that try...catch is not necessary there, this is something you should brake into multiple test cases. Prefer to add exceptions to method test signature. and as stated before, have other tests to validate the exceptions (ie: <a href=\"https://stackoverflow.com/a/40268447/1624839\">assertThrows</a> ) .</p>\n<p><strong>Use constants instead of &quot;Magic Values&quot;</strong></p>\n<p>Prefer to use constants instead of string values, try to express the intention of your test with descriptive constant names( ie:  EXPECTED_FIRST_NAME)</p>\n<p>Source : <a href=\"https://tutoref.com/unit-testing-best-practices/\" rel=\"nofollow noreferrer\">Unit tests best practices</a></p>\n"}],"owner":{"account_id":4734694,"reputation":5237,"user_id":3829417,"accept_rate":82,"display_name":"GregH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32900106,"answer_count":2,"score":0,"last_activity_date":1649037862,"creation_date":1443753429,"question_id":32899738,"body_markdown":"I am currently using the following method and unit test for the method. I think the test could/should be broken down into more tests but I&#39;m not sure how many tests to write for this or what the more important parts are especially considering the method deals with establishing a `Connection`, using sql queries, etc... All help is appreciated.\r\n\r\nJAVA Method:\r\n\r\n    public static ArrayList&lt;HashMap&lt;String, String&gt;&gt; executeSelect(\r\n\t\t\tConnection conn, Statement stmt, Query query) {\r\n\t\t\r\n\t\tResultSet rs = null;\r\n\t\tArrayList&lt;HashMap&lt;String, String&gt;&gt; serviceRequests = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tlong queryStart = System.nanoTime();\r\n\t\t\trs = stmt.executeQuery(query.getQuery());\r\n\t\t\tlong queryEnd = System.nanoTime();\r\n\t\t\tlong queryDuration = queryEnd-queryStart;\r\n\t\t\tqueryTime = String.valueOf(queryDuration);\r\n\r\n\t\t\twhile (rs.next()) {\r\n\r\n\t\t\t\tHashMap&lt;String, String&gt; serviceRequestData = new HashMap&lt;&gt;();\r\n\r\n\t\t\t\tif (QueryUtil.hasColumn(rs, &quot;ID&quot;)) {\r\n\t\t\t\t\tString id = rs.getString(&quot;ID&quot;);\r\n\t\t\t\t\tserviceRequestData.put(&quot;ID&quot;, id);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tserviceRequestData.put(&quot;ID&quot;, &quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (QueryUtil.hasColumn(rs, &quot;FN_Contact&quot;)) {\r\n\t\t\t\t\tString firstName = rs.getString(&quot;FN_Contact&quot;);\r\n\t\t\t\t\tserviceRequestData.put(&quot;FN_Contact&quot;, firstName);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tserviceRequestData.put(&quot;FN_Contact&quot;, &quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (QueryUtil.hasColumn(rs, &quot;LN_Contact&quot;)) {\r\n\t\t\t\t\tString lastName = rs.getString(&quot;LN_Contact&quot;);\r\n\t\t\t\t\tserviceRequestData.put(&quot;LN_Contact&quot;, lastName);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tserviceRequestData.put(&quot;LN_Contact&quot;, &quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (QueryUtil.hasColumn(rs, &quot;Notes&quot;)) {\r\n\t\t\t\t\tString notes = rs.getString(&quot;Notes&quot;);\r\n\t\t\t\t\tserviceRequestData.put(&quot;Notes&quot;, notes);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tserviceRequestData.put(&quot;Notes&quot;, &quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (QueryUtil.hasColumn(rs, &quot;Email&quot;)) {\r\n\t\t\t\t\tString email = rs.getString(&quot;Email&quot;);\r\n\t\t\t\t\tserviceRequestData.put(&quot;Email&quot;, email);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tserviceRequestData.put(&quot;Email&quot;, &quot; &quot;);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tserviceRequests.add(serviceRequestData);\r\n\r\n\t\t\t}\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tsqlException = true;\r\n\t\t}\r\n\t\treturn serviceRequests;\r\n\t}\r\n\r\nJUnit Test:\r\n\r\n    @Test\r\n\tpublic void testFirstName() {\r\n\t\tArrayList&lt;HashMap&lt;String, String&gt;&gt; testMap = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\r\n\t\tConnection conn = null;\r\n\t\tStatement stmt = null;\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\n\t\t\tString connectionUrl = &quot;jdbc:mysql://localhost:3306/gc_image&quot;;\r\n\t\t\tString connectionUser = &quot;root&quot;;\r\n\t\t\tString connectionPassword = &quot;GCImage&quot;;\r\n\t\t\tconn = DriverManager.getConnection(connectionUrl, connectionUser,\r\n\t\t\t\t\tconnectionPassword);\r\n\t\t\tconn.\r\n\t\t\tstmt = conn.createStatement();\r\n\t\t\tQuery testQuery = new Query();\r\n\t\t\ttestQuery\r\n\t\t\t\t\t.setQuery(&quot;select * from service_request where FN_contact = &#39;Trevor&#39;&quot;);\r\n\t\t\ttestMap = QueryController.executeSelect(conn, stmt, testQuery);\r\n\t\t\t\r\n\t\t\tassertEquals(&quot;Janke&quot;, testMap.get(0).get(&quot;LN_Contact&quot;));\r\n\t\t\tassertEquals(&quot;Hello World&quot;, testMap.get(0).get(&quot;Notes&quot;));\r\n\t\t\tassertEquals(&quot;janke@gmail.com&quot;, testMap.get(0).get(&quot;Email&quot;));\r\n\t\t\tassertEquals(&quot;ID&quot;, testMap.get(0).get(&quot;7&quot;));\r\n           \r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tstmt.close();\r\n\t\t\t\tconn.close();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}","title":"JAVA best practice unit testing with JUnit","body":"<p>I am currently using the following method and unit test for the method. I think the test could/should be broken down into more tests but I'm not sure how many tests to write for this or what the more important parts are especially considering the method deals with establishing a <code>Connection</code>, using sql queries, etc... All help is appreciated.</p>\n\n<p>JAVA Method:</p>\n\n<pre><code>public static ArrayList&lt;HashMap&lt;String, String&gt;&gt; executeSelect(\n        Connection conn, Statement stmt, Query query) {\n\n    ResultSet rs = null;\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; serviceRequests = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n\n    try {\n        long queryStart = System.nanoTime();\n        rs = stmt.executeQuery(query.getQuery());\n        long queryEnd = System.nanoTime();\n        long queryDuration = queryEnd-queryStart;\n        queryTime = String.valueOf(queryDuration);\n\n        while (rs.next()) {\n\n            HashMap&lt;String, String&gt; serviceRequestData = new HashMap&lt;&gt;();\n\n            if (QueryUtil.hasColumn(rs, \"ID\")) {\n                String id = rs.getString(\"ID\");\n                serviceRequestData.put(\"ID\", id);\n            }\n            else{\n                serviceRequestData.put(\"ID\", \" \");\n            }\n            if (QueryUtil.hasColumn(rs, \"FN_Contact\")) {\n                String firstName = rs.getString(\"FN_Contact\");\n                serviceRequestData.put(\"FN_Contact\", firstName);\n            }\n            else{\n                serviceRequestData.put(\"FN_Contact\", \" \");\n            }\n            if (QueryUtil.hasColumn(rs, \"LN_Contact\")) {\n                String lastName = rs.getString(\"LN_Contact\");\n                serviceRequestData.put(\"LN_Contact\", lastName);\n            }\n            else{\n                serviceRequestData.put(\"LN_Contact\", \" \");\n            }\n            if (QueryUtil.hasColumn(rs, \"Notes\")) {\n                String notes = rs.getString(\"Notes\");\n                serviceRequestData.put(\"Notes\", notes);\n            }\n            else{\n                serviceRequestData.put(\"Notes\", \" \");\n            }\n            if (QueryUtil.hasColumn(rs, \"Email\")) {\n                String email = rs.getString(\"Email\");\n                serviceRequestData.put(\"Email\", email);\n            }\n            else{\n                serviceRequestData.put(\"Email\", \" \");\n\n            }\n\n            serviceRequests.add(serviceRequestData);\n\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n        sqlException = true;\n    }\n    return serviceRequests;\n}\n</code></pre>\n\n<p>JUnit Test:</p>\n\n<pre><code>@Test\npublic void testFirstName() {\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; testMap = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\n    Connection conn = null;\n    Statement stmt = null;\n    try {\n        Class.forName(\"com.mysql.jdbc.Driver\");\n\n        String connectionUrl = \"jdbc:mysql://localhost:3306/gc_image\";\n        String connectionUser = \"root\";\n        String connectionPassword = \"GCImage\";\n        conn = DriverManager.getConnection(connectionUrl, connectionUser,\n                connectionPassword);\n        conn.\n        stmt = conn.createStatement();\n        Query testQuery = new Query();\n        testQuery\n                .setQuery(\"select * from service_request where FN_contact = 'Trevor'\");\n        testMap = QueryController.executeSelect(conn, stmt, testQuery);\n\n        assertEquals(\"Janke\", testMap.get(0).get(\"LN_Contact\"));\n        assertEquals(\"Hello World\", testMap.get(0).get(\"Notes\"));\n        assertEquals(\"janke@gmail.com\", testMap.get(0).get(\"Email\"));\n        assertEquals(\"ID\", testMap.get(0).get(\"7\"));\n\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            stmt.close();\n            conn.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1649033971,"post_id":71730987,"comment_id":126766304,"body_markdown":"What is not working? Be specific, please.","body":"What is not working? Be specific, please."},{"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"score":0,"creation_date":1649034201,"post_id":71730987,"comment_id":126766345,"body_markdown":"@just-another-java-programmer  that print parts doesnt&#39; work.","body":"@just-another-java-programmer  that print parts doesnt&#39; work."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649036373,"post_id":71730987,"comment_id":126766653,"body_markdown":"Explain: &quot;but it doesn&#39;t works&quot;","body":"Explain: &quot;but it doesn&#39;t works&quot;"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1649037483,"post_id":71730987,"comment_id":126766803,"body_markdown":"Why do expect there to be 7 elements when you don&#39;t add any?","body":"Why do expect there to be 7 elements when you don&#39;t add any?"},{"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"score":0,"creation_date":1649037937,"post_id":71730987,"comment_id":126766875,"body_markdown":"i add 7 elements. not describle in there.","body":"i add 7 elements. not describle in there."}],"answers":[{"tags":[],"owner":{"account_id":24422841,"reputation":110,"user_id":18464679,"display_name":"ubw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649037153,"creation_date":1649034102,"answer_id":71731037,"question_id":71730987,"body_markdown":"The compiler error you probably receive is not related to inheritance. You can&#39;t just put the for loop directly into a class. Put it inside a method or constructor.\r\n\r\nEdit: Now you get a runtime exception because you attempt to print the first seven elements of the list but the list does not contain any elements.Call LectureName.add(...) to add some elements to the list. Then use &lt;code&gt;for(int i = 0; i &lt; list.size(); i++) System.out.println(list.get(i));&lt;/code&gt; to print all the elements you added. ","title":"How to inherit a List from a parent class from a child class in java","body":"<p>The compiler error you probably receive is not related to inheritance. You can't just put the for loop directly into a class. Put it inside a method or constructor.</p>\n<p>Edit: Now you get a runtime exception because you attempt to print the first seven elements of the list but the list does not contain any elements.Call LectureName.add(...) to add some elements to the list. Then use <code>for(int i = 0; i &lt; list.size(); i++) System.out.println(list.get(i));</code> to print all the elements you added.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649036749,"creation_date":1649036749,"answer_id":71731219,"question_id":71730987,"body_markdown":"Since you neglected to define &quot;it doesn&#39;t work&quot;, we cannot diagnose your problem. I could guess you have a problem because of the instantiated list being empty (not populated). No way to know for sure.\r\n\r\nBut to answer your larger question…\r\n\r\n&#128073; Yes, a class can inherit a `List` member field from its superclass.\r\n\r\nSee this example [code run live at IdeOne.com][1].\r\n\r\n```java\r\n/* package whatever; // don&#39;t place package name! */\r\n\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\nclass Ideone\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tChild child = new Child() ;\r\n\t\tchild.printOut() ;\r\n\t}\r\n}\r\n\r\nclass Parent {\r\n\tList&lt; String &gt; names = List.of( &quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot; ) ;\r\n}\r\n\r\nclass Child extends Parent {\r\n\tvoid printOut () {\r\n\t\tfor( String name : this.names ) {\r\n\t\t\tSystem.out.println( name ) ;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nAlice\r\nBob\r\nCarol\r\n```\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://ideone.com/e4npUS","title":"How to inherit a List from a parent class from a child class in java","body":"<p>Since you neglected to define &quot;it doesn't work&quot;, we cannot diagnose your problem. I could guess you have a problem because of the instantiated list being empty (not populated). No way to know for sure.</p>\n<p>But to answer your larger question…</p>\n<p>👉 Yes, a class can inherit a <code>List</code> member field from its superclass.</p>\n<p>See this example <a href=\"https://ideone.com/e4npUS\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* package whatever; // don't place package name! */\n\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\nclass Ideone\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Child child = new Child() ;\n        child.printOut() ;\n    }\n}\n\nclass Parent {\n    List&lt; String &gt; names = List.of( &quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot; ) ;\n}\n\nclass Child extends Parent {\n    void printOut () {\n        for( String name : this.names ) {\n            System.out.println( name ) ;\n        }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Alice\nBob\nCarol\n</code></pre>\n"}],"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1649037153,"creation_date":1649033444,"question_id":71730987,"body_markdown":"How to inherit a List from a parent class from a child class ?\r\nthis is parents Class code\r\n\r\n```\r\npublic class PageList extends Page {\r\n\tprotected List&lt;String&gt; LectureName = new ArrayList&lt;String&gt;();\r\n\r\n}\r\n```\r\n\r\nand this one is child class\r\n\r\n```\r\npublic class Connect extends PageList{\r\n   // try to check it pass \r\n   protected void GetConnection(){\r\n   for(int i =0;i&lt;7;i++){\r\n          System.out.println(LectureName.get(i));\r\n   }\r\n  }\r\n}\r\n```\r\n\r\nbut it doesn&#39;t works. why i can&#39;t inherit a List from parent class?","title":"How to inherit a List from a parent class from a child class in java","body":"<p>How to inherit a List from a parent class from a child class ?\nthis is parents Class code</p>\n<pre><code>public class PageList extends Page {\n    protected List&lt;String&gt; LectureName = new ArrayList&lt;String&gt;();\n\n}\n</code></pre>\n<p>and this one is child class</p>\n<pre><code>public class Connect extends PageList{\n   // try to check it pass \n   protected void GetConnection(){\n   for(int i =0;i&lt;7;i++){\n          System.out.println(LectureName.get(i));\n   }\n  }\n}\n</code></pre>\n<p>but it doesn't works. why i can't inherit a List from parent class?</p>\n"},{"tags":["java","input","output"],"answers":[{"tags":[],"owner":{"account_id":24422841,"reputation":110,"user_id":18464679,"display_name":"ubw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649036755,"creation_date":1649036755,"answer_id":71731220,"question_id":71729616,"body_markdown":"&lt;code&gt;PrintWriter&lt;/code&gt; doesn&#39;t directly write the data to disk. Instead, it stores the data in an internal buffer until &lt;code&gt;flush()&lt;/code&gt; is called because writing a large chunk of data to disk at once is faster than repeatedly writing small portions of data. Call &lt;code&gt;outFS.flush()&lt;/code&gt; before closing the &lt;code&gt;PrintWriter&lt;/code&gt;.\r\n\r\nBTW, it&#39;s a good practice to put streams, writers etc. into try-with-resources blocks instead of closing them manually.","title":"Using both FileInputStream and FileOutputStream","body":"<p><code>PrintWriter</code> doesn't directly write the data to disk. Instead, it stores the data in an internal buffer until <code>flush()</code> is called because writing a large chunk of data to disk at once is faster than repeatedly writing small portions of data. Call <code>outFS.flush()</code> before closing the <code>PrintWriter</code>.</p>\n<p>BTW, it's a good practice to put streams, writers etc. into try-with-resources blocks instead of closing them manually.</p>\n"}],"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71731220,"answer_count":1,"score":0,"last_activity_date":1649036755,"creation_date":1649017767,"question_id":71729616,"body_markdown":"I am stuck on my problem where I have to read a file given by the user and then calculate names, grades, and such. But the issue I am having is that I need to take that data and store it in a text file names report.txt and then take the data from the first file and then compute the averages of all the scores. I am having trouble outputting anything, but when I do System.out it prints out correctly but I don&#39;t think I have correctly stored it in the report.txt file. Any help would be much appreciated. \r\nCode: \r\n\r\n    import java.util.Scanner;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.PrintWriter;\r\n    import java.io.IOException;\r\n\r\n    public class LabProgram {\r\n    public static void main(String[] args) throws IOException {\r\n      Scanner scnr = new Scanner(System.in);\r\n      \r\n      /* TODO: Declare any necessary variables here. */\r\n      FileInputStream fileByteStream = null; // File input stream\r\n      Scanner inFS = null;                   // Scanner object\r\n      FileOutputStream fileStream = null;\r\n      PrintWriter outFS = null;\r\n      String userInput = scnr.nextLine(); \r\n      String firstName; \r\n      String lastName; \r\n      int midTerm1Score; \r\n      int midTerm2Score;\r\n      int finalScore; \r\n      int avgScore; \r\n      char letterGrade; \r\n      int midTerm1Total = 0; \r\n      int midTerm2Total = 0; \r\n      int finalTotal = 0; \r\n      double midTerm1Avg; \r\n      double midTerm2Avg; \r\n      double finalAvg; \r\n      int counter = 0; \r\n      \r\n      \r\n      \r\n      /* TODO: Read a file name from the user and read the tsv file here. */\r\n      // Try to open file\r\n      fileByteStream = new FileInputStream(userInput); \r\n      inFS = new Scanner(fileByteStream); \r\n      \r\n      \r\n      \r\n      /* TODO: Compute student grades and exam averages, then output results to a text file here. */\r\n      fileStream = new FileOutputStream(&quot;report.txt&quot;); \r\n      outFS = new PrintWriter(fileStream); \r\n      \r\n      while (inFS.hasNext()) { \r\n         firstName = inFS.next(); \r\n         lastName = inFS.next(); \r\n         midTerm1Score = inFS.nextInt(); \r\n         midTerm1Total = midTerm1Total + midTerm1Score; \r\n         midTerm2Score = inFS.nextInt();  \r\n         midTerm2Total = midTerm2Total + midTerm2Score; \r\n         finalScore = inFS.nextInt(); \r\n         finalTotal = finalTotal + finalScore; \r\n         avgScore = (midTerm1Score + midTerm2Score + finalScore) / 3; \r\n         if (avgScore &gt;= 90) { \r\n            letterGrade = &#39;A&#39;; \r\n         } \r\n         else if ( avgScore &gt;= 80) { \r\n            letterGrade = &#39;B&#39;; \r\n         } \r\n         else if (avgScore &gt;= 70) { \r\n            letterGrade = &#39;C&#39;; \r\n         } \r\n         else if (avgScore &gt;= 60) { \r\n            letterGrade = &#39;D&#39;; \r\n         } \r\n         else  { \r\n            letterGrade = &#39;F&#39;; \r\n         } \r\n         outFS.println(firstName + &quot;   &quot; + lastName + &quot;   &quot; + midTerm1Score + &quot;  &quot; + midTerm2Score + &quot;  &quot; \r\n                              + finalScore + &quot;  &quot; + letterGrade); \r\n                              counter++; \r\n          \r\n      } \r\n      midTerm1Avg = (double) midTerm1Total / counter; \r\n      midTerm2Avg = (double) midTerm2Total / counter; \r\n      finalAvg = (double) finalTotal / counter; \r\n      outFS.println(&quot;&quot;); \r\n      \r\n      outFS.printf(&quot;Averages: Midterm1 %.2f&quot;, midTerm1Avg); \r\n      outFS.printf(&quot;, Midterm2 %.2f&quot;, midTerm2Avg); \r\n      outFS.printf(&quot;, Final %.2f&quot;, finalAvg); \r\n      \r\n      outFS.close();\r\n      fileByteStream.close(); // close() may throw IOException if fails\r\n         \r\n      \r\n   }\r\n}","title":"Using both FileInputStream and FileOutputStream","body":"<p>I am stuck on my problem where I have to read a file given by the user and then calculate names, grades, and such. But the issue I am having is that I need to take that data and store it in a text file names report.txt and then take the data from the first file and then compute the averages of all the scores. I am having trouble outputting anything, but when I do System.out it prints out correctly but I don't think I have correctly stored it in the report.txt file. Any help would be much appreciated.\nCode:</p>\n<pre><code>import java.util.Scanner;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.PrintWriter;\nimport java.io.IOException;\n\npublic class LabProgram {\npublic static void main(String[] args) throws IOException {\n  Scanner scnr = new Scanner(System.in);\n  \n  /* TODO: Declare any necessary variables here. */\n  FileInputStream fileByteStream = null; // File input stream\n  Scanner inFS = null;                   // Scanner object\n  FileOutputStream fileStream = null;\n  PrintWriter outFS = null;\n  String userInput = scnr.nextLine(); \n  String firstName; \n  String lastName; \n  int midTerm1Score; \n  int midTerm2Score;\n  int finalScore; \n  int avgScore; \n  char letterGrade; \n  int midTerm1Total = 0; \n  int midTerm2Total = 0; \n  int finalTotal = 0; \n  double midTerm1Avg; \n  double midTerm2Avg; \n  double finalAvg; \n  int counter = 0; \n  \n  \n  \n  /* TODO: Read a file name from the user and read the tsv file here. */\n  // Try to open file\n  fileByteStream = new FileInputStream(userInput); \n  inFS = new Scanner(fileByteStream); \n  \n  \n  \n  /* TODO: Compute student grades and exam averages, then output results to a text file here. */\n  fileStream = new FileOutputStream(&quot;report.txt&quot;); \n  outFS = new PrintWriter(fileStream); \n  \n  while (inFS.hasNext()) { \n     firstName = inFS.next(); \n     lastName = inFS.next(); \n     midTerm1Score = inFS.nextInt(); \n     midTerm1Total = midTerm1Total + midTerm1Score; \n     midTerm2Score = inFS.nextInt();  \n     midTerm2Total = midTerm2Total + midTerm2Score; \n     finalScore = inFS.nextInt(); \n     finalTotal = finalTotal + finalScore; \n     avgScore = (midTerm1Score + midTerm2Score + finalScore) / 3; \n     if (avgScore &gt;= 90) { \n        letterGrade = 'A'; \n     } \n     else if ( avgScore &gt;= 80) { \n        letterGrade = 'B'; \n     } \n     else if (avgScore &gt;= 70) { \n        letterGrade = 'C'; \n     } \n     else if (avgScore &gt;= 60) { \n        letterGrade = 'D'; \n     } \n     else  { \n        letterGrade = 'F'; \n     } \n     outFS.println(firstName + &quot;   &quot; + lastName + &quot;   &quot; + midTerm1Score + &quot;  &quot; + midTerm2Score + &quot;  &quot; \n                          + finalScore + &quot;  &quot; + letterGrade); \n                          counter++; \n      \n  } \n  midTerm1Avg = (double) midTerm1Total / counter; \n  midTerm2Avg = (double) midTerm2Total / counter; \n  finalAvg = (double) finalTotal / counter; \n  outFS.println(&quot;&quot;); \n  \n  outFS.printf(&quot;Averages: Midterm1 %.2f&quot;, midTerm1Avg); \n  outFS.printf(&quot;, Midterm2 %.2f&quot;, midTerm2Avg); \n  outFS.printf(&quot;, Final %.2f&quot;, finalAvg); \n  \n  outFS.close();\n  fileByteStream.close(); // close() may throw IOException if fails\n     \n  \n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1618999993,"post_id":67193236,"comment_id":118770471,"body_markdown":"You might want to think about implament the calculations in java as the JIT usally does a pretty good job.","body":"You might want to think about implament the calculations in java as the JIT usally does a pretty good job."},{"owner":{"account_id":227896,"reputation":1230,"user_id":489838,"accept_rate":75,"display_name":"sh54"},"score":0,"creation_date":1619002379,"post_id":67193236,"comment_id":118771608,"body_markdown":"I was hoping to not write my own math operations! My ideal case would be to write a wrapper in c++ and then use the same wrapper in both clojure and clojurescript (via emscripten). I have just been using other libraries for now but I know things can run quite a bit faster. I have a particular scenario where I know I can hit the cpu cache a lot more if I have control over memory layout. But that all depends on the overhead of the interop. Apparently js-&gt;wasm calls are as fast as regular js function calls but I have not measured myself.","body":"I was hoping to not write my own math operations! My ideal case would be to write a wrapper in c++ and then use the same wrapper in both clojure and clojurescript (via emscripten). I have just been using other libraries for now but I know things can run quite a bit faster. I have a particular scenario where I know I can hit the cpu cache a lot more if I have control over memory layout. But that all depends on the overhead of the interop. Apparently js-&gt;wasm calls are as fast as regular js function calls but I have not measured myself."},{"owner":{"account_id":227896,"reputation":1230,"user_id":489838,"accept_rate":75,"display_name":"sh54"},"score":0,"creation_date":1619003330,"post_id":67193236,"comment_id":118772067,"body_markdown":"I just tried doing some basic vector stuff direct in Java using JEP 338: Vector API and things are already 3x faster or so than doing things regular java style. A vector4f add seems to take 0.4 ns which is nice.","body":"I just tried doing some basic vector stuff direct in Java using JEP 338: Vector API and things are already 3x faster or so than doing things regular java style. A vector4f add seems to take 0.4 ns which is nice."},{"owner":{"account_id":3836791,"reputation":686,"user_id":3180894,"accept_rate":90,"display_name":"Павел"},"score":0,"creation_date":1637350148,"post_id":67193236,"comment_id":123811842,"body_markdown":"hey @sh54, did you tryed to compare with JavaCritical_ JNI method invocation? It skips a lot of checks, so faster than general Java_ JNI. For my current project I tried with Foreign Linker API, it seems faster for simple method, but overall I feel (ie not measured) that JavaCritical_ gives me more relayable performance gain. For some reason I feel like Foreign API is not that good. I probably need to look into sources of invokeExact, to check. Also warning about incubator API is annoying. I am interested that you think about of JavaCritical","body":"hey @sh54, did you tryed to compare with JavaCritical_ JNI method invocation? It skips a lot of checks, so faster than general Java_ JNI. For my current project I tried with Foreign Linker API, it seems faster for simple method, but overall I feel (ie not measured) that JavaCritical_ gives me more relayable performance gain. For some reason I feel like Foreign API is not that good. I probably need to look into sources of invokeExact, to check. Also warning about incubator API is annoying. I am interested that you think about of JavaCritical"}],"answers":[{"tags":[],"owner":{"account_id":3671961,"reputation":382,"user_id":3058943,"display_name":"West_JR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649036539,"creation_date":1649035998,"answer_id":71731164,"question_id":67193236,"body_markdown":"I was really curious about this as well, so I wrote a quick benchmark to see how it compares to JNA as well as shared memory.\r\n\r\nThe results and code are here :\r\n\r\nhttps://github.com/TwoClocks/benchmark_java_foreign_functions\r\n\r\nI got around 25ns on this particular machine, which to me seems pretty good. Calling a C++ virtual function in C++ is 5-10ns-ish? Pretty good calling native code from the JVM (at least I think so). JNA comes in around 700ns. JNI might be a bit faster, but still far slower than the new foreign function stuff.\r\n\r\n","title":"How much overhead does a Java Foreign Linker API call have?","body":"<p>I was really curious about this as well, so I wrote a quick benchmark to see how it compares to JNA as well as shared memory.</p>\n<p>The results and code are here :</p>\n<p><a href=\"https://github.com/TwoClocks/benchmark_java_foreign_functions\" rel=\"nofollow noreferrer\">https://github.com/TwoClocks/benchmark_java_foreign_functions</a></p>\n<p>I got around 25ns on this particular machine, which to me seems pretty good. Calling a C++ virtual function in C++ is 5-10ns-ish? Pretty good calling native code from the JVM (at least I think so). JNA comes in around 700ns. JNI might be a bit faster, but still far slower than the new foreign function stuff.</p>\n"}],"owner":{"account_id":227896,"reputation":1230,"user_id":489838,"accept_rate":75,"display_name":"sh54"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1649036539,"creation_date":1618998171,"question_id":67193236,"body_markdown":"I was curious how much overhead there was in calling functions via [JEP 389: Foreign Linker API][1]. I have searched around but I can&#39;t seem to find that kind of info. I was taking a look to see if it is realistic to wrap a c++ 3d math library that uses SIMD stuff with it. For this case the overhead must be very low since the operations themselves take little time.\r\n\r\nBy my estimations on my machine it takes 10 nanoseconds to call. This is certainly very impressive but that does not work out when the target only takes nanoseconds to run!\r\n\r\nI don&#39;t have a ton of Java experience so I was wondering if I am missing out on some configuration things or just something obvious. I&#39;m just trying to wrap something up for Clojure. \r\n\r\nThis is (roughly) how I got my numbers:\r\n\r\n### rtm.cpp\r\n\r\n```\r\nextern &quot;C&quot; {\r\n    float inc_float(float f) {\r\n        return f + 1.0f;\r\n    }\r\n}\r\n```\r\n\r\n### Compiled with\r\n\r\n    clang -std=c++17 -O0 -shared -undefined dynamic_lookup -o librtm.so rtm.cpp\r\n\r\n(also tested with `-Ofast`)\r\n\r\n\r\n### WrapperTest.java\r\n\r\n```\r\nimport static jdk.incubator.foreign.CLinker.C_FLOAT;\r\nimport jdk.incubator.foreign.*;\r\nimport java.lang.invoke.*;\r\nimport java.nio.file.Path;\r\n\r\n@Test public void testTonsOfSimpleCallsAlt() throws Throwable {\r\n    var path = Path.of(&quot;/path/to/librtm.so&quot;);\r\n    var libraryLookup = LibraryLookup.ofPath(path);\r\n    var incFloatHandle = CLinker.getInstance().downcallHandle(\r\n        libraryLookup.lookup(&quot;inc_float&quot;).get(),\r\n        MethodType.methodType(float.class, float.class),\r\n        FunctionDescriptor.of(C_FLOAT, C_FLOAT)\r\n    );\r\n\r\n    // warmup\r\n    for (var i = 0; i &lt; 1024; ++i) {\r\n        float dummy = (float)incFloatHandle.invokeExact(1.0f);\r\n    }\r\n\r\n    long startTime = System.nanoTime();\r\n\r\n    float total = 1.0f;\r\n    int loops = 1024 * 1024 * 100;\r\n    int ops = 10;\r\n    for (var i = 0; i &lt; loops; ++i) {\r\n        // The actual important call!\r\n        total = (float)incFloatHandle.invokeExact(total);\r\n        // nine more of the above line...\r\n        total = total - 10.0f;\r\n    }\r\n\r\n    long endTime = System.nanoTime();\r\n    float nanos = (float)(endTime - startTime);\r\n    System.out.println(&quot;Time taken is ms: &quot; + (nanos / 1000000.0f));\r\n    System.out.println(&quot;Time taken per op in ns:&quot; + (nanos / (float)loops / (float)ops));\r\n}\r\n```\r\n\r\n### JVM arguments\r\n\r\n    --add-modules jdk.incubator.foreign -Dforeign.restricted=permit\r\n\r\n### Java version\r\n\r\n```\r\n&gt; java --version\r\nopenjdk 16 2021-03-16\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 16+36)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 16+36, mixed mode, sharing)\r\n```\r\n\r\nLooking in a profiler I am getting these sorts of call stacks around the call to the c++ function:\r\n\r\n```\r\n- WrapperTest.java:131 java.lang.invoke.LambdaForm$MH.0x0000000800227000.invokeExact_MT(Object, float, Object) 991 1\r\n  - LambdaForm$MH java.lang.invoke.LambdaForm$MH.0x0000000800229c00.invoke(Object, float) 991 1\r\n    - LambdaForm$MH java.lang.invoke.LambdaForm$MH.0x000000080021d800.invoke(Object, float, long) 991 1\r\n```\r\n\r\nI have just run this via the IntelliJ test runner.\r\n\r\nSo is the overhead 10ns per call (machine dependent blah blah) or is there a way to get this running faster? \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/389","title":"How much overhead does a Java Foreign Linker API call have?","body":"<p>I was curious how much overhead there was in calling functions via <a href=\"https://openjdk.java.net/jeps/389\" rel=\"nofollow noreferrer\">JEP 389: Foreign Linker API</a>. I have searched around but I can't seem to find that kind of info. I was taking a look to see if it is realistic to wrap a c++ 3d math library that uses SIMD stuff with it. For this case the overhead must be very low since the operations themselves take little time.</p>\n<p>By my estimations on my machine it takes 10 nanoseconds to call. This is certainly very impressive but that does not work out when the target only takes nanoseconds to run!</p>\n<p>I don't have a ton of Java experience so I was wondering if I am missing out on some configuration things or just something obvious. I'm just trying to wrap something up for Clojure.</p>\n<p>This is (roughly) how I got my numbers:</p>\n<h3>rtm.cpp</h3>\n<pre><code>extern &quot;C&quot; {\n    float inc_float(float f) {\n        return f + 1.0f;\n    }\n}\n</code></pre>\n<h3>Compiled with</h3>\n<pre><code>clang -std=c++17 -O0 -shared -undefined dynamic_lookup -o librtm.so rtm.cpp\n</code></pre>\n<p>(also tested with <code>-Ofast</code>)</p>\n<h3>WrapperTest.java</h3>\n<pre><code>import static jdk.incubator.foreign.CLinker.C_FLOAT;\nimport jdk.incubator.foreign.*;\nimport java.lang.invoke.*;\nimport java.nio.file.Path;\n\n@Test public void testTonsOfSimpleCallsAlt() throws Throwable {\n    var path = Path.of(&quot;/path/to/librtm.so&quot;);\n    var libraryLookup = LibraryLookup.ofPath(path);\n    var incFloatHandle = CLinker.getInstance().downcallHandle(\n        libraryLookup.lookup(&quot;inc_float&quot;).get(),\n        MethodType.methodType(float.class, float.class),\n        FunctionDescriptor.of(C_FLOAT, C_FLOAT)\n    );\n\n    // warmup\n    for (var i = 0; i &lt; 1024; ++i) {\n        float dummy = (float)incFloatHandle.invokeExact(1.0f);\n    }\n\n    long startTime = System.nanoTime();\n\n    float total = 1.0f;\n    int loops = 1024 * 1024 * 100;\n    int ops = 10;\n    for (var i = 0; i &lt; loops; ++i) {\n        // The actual important call!\n        total = (float)incFloatHandle.invokeExact(total);\n        // nine more of the above line...\n        total = total - 10.0f;\n    }\n\n    long endTime = System.nanoTime();\n    float nanos = (float)(endTime - startTime);\n    System.out.println(&quot;Time taken is ms: &quot; + (nanos / 1000000.0f));\n    System.out.println(&quot;Time taken per op in ns:&quot; + (nanos / (float)loops / (float)ops));\n}\n</code></pre>\n<h3>JVM arguments</h3>\n<pre><code>--add-modules jdk.incubator.foreign -Dforeign.restricted=permit\n</code></pre>\n<h3>Java version</h3>\n<pre><code>&gt; java --version\nopenjdk 16 2021-03-16\nOpenJDK Runtime Environment AdoptOpenJDK (build 16+36)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 16+36, mixed mode, sharing)\n</code></pre>\n<p>Looking in a profiler I am getting these sorts of call stacks around the call to the c++ function:</p>\n<pre><code>- WrapperTest.java:131 java.lang.invoke.LambdaForm$MH.0x0000000800227000.invokeExact_MT(Object, float, Object) 991 1\n  - LambdaForm$MH java.lang.invoke.LambdaForm$MH.0x0000000800229c00.invoke(Object, float) 991 1\n    - LambdaForm$MH java.lang.invoke.LambdaForm$MH.0x000000080021d800.invoke(Object, float, long) 991 1\n</code></pre>\n<p>I have just run this via the IntelliJ test runner.</p>\n<p>So is the overhead 10ns per call (machine dependent blah blah) or is there a way to get this running faster?</p>\n"},{"tags":["java","android","android-studio","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649032355,"creation_date":1649032355,"answer_id":71730899,"question_id":71730831,"body_markdown":"Try adding this to your dependencies:\r\n \r\n  \r\n\r\n     testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;","title":"Can&#39;t Import JUnit 5.4","body":"<p>Try adding this to your dependencies:</p>\n<pre><code> testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24422841,"reputation":110,"user_id":18464679,"display_name":"ubw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649035901,"creation_date":1649035901,"answer_id":71731156,"question_id":71730831,"body_markdown":"Gradle might prevent you from using testImplementation dependencies in &lt;code&gt;src/main/java&lt;/code&gt;. If your test class is located in &lt;code&gt;src/main/java&lt;/code&gt;, try moving it to &lt;code&gt;src/test/java&lt;/code&gt;.","title":"Can&#39;t Import JUnit 5.4","body":"<p>Gradle might prevent you from using testImplementation dependencies in <code>src/main/java</code>. If your test class is located in <code>src/main/java</code>, try moving it to <code>src/test/java</code>.</p>\n"}],"owner":{"account_id":16434767,"reputation":167,"user_id":11872622,"display_name":"HoLoGram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649035901,"creation_date":1649031487,"question_id":71730831,"body_markdown":"So I was trying to learn how to test,but I faced a problem which I can&#39;t import the Junit 5.4 (See Photo: https://ibb.co/VjYd1Nv).\r\n\r\nWhen I press import it just import this line:\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n\r\nBut the error is NOT resolved from some reason,and I can&#39;t continue....\r\n\r\n\r\nMy Dependencies:\r\n\r\n    dependencies {\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        testImplementation &#39;junit:junit:5.4&#39;\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\nWhat do I need to do to make it work ?","title":"Can&#39;t Import JUnit 5.4","body":"<p>So I was trying to learn how to test,but I faced a problem which I can't import the Junit 5.4 (See Photo: <a href=\"https://ibb.co/VjYd1Nv\" rel=\"nofollow noreferrer\">https://ibb.co/VjYd1Nv</a>).</p>\n<p>When I press import it just import this line:</p>\n<pre><code>testImplementation 'org.junit.jupiter:junit-jupiter'\n</code></pre>\n<p>But the error is NOT resolved from some reason,and I can't continue....</p>\n<p>My Dependencies:</p>\n<pre><code>dependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    testImplementation 'junit:junit:5.4'\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>What do I need to do to make it work ?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1807081,"reputation":6417,"user_id":1643980,"accept_rate":75,"display_name":"Tuan Vu"},"down_vote_count":2,"up_vote_count":603,"is_accepted":true,"score":601,"last_activity_date":1567664196,"creation_date":1365408415,"answer_id":15874176,"question_id":15874117,"body_markdown":"Try this code:\r\n\r\n\timport android.os.Handler;\r\n\t...\r\n\tfinal Handler handler = new Handler();\r\n\thandler.postDelayed(new Runnable() {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\t// Do something after 5s = 5000ms\r\n\t\t\tbuttons[inew][jnew].setBackgroundColor(Color.BLACK);\r\n\t\t}\r\n\t}, 5000);","title":"How to set delay in android?","body":"<p>Try this code:</p>\n\n<pre><code>import android.os.Handler;\n...\nfinal Handler handler = new Handler();\nhandler.postDelayed(new Runnable() {\n    @Override\n    public void run() {\n        // Do something after 5s = 5000ms\n        buttons[inew][jnew].setBackgroundColor(Color.BLACK);\n    }\n}, 5000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2622775,"reputation":345,"user_id":2270457,"display_name":"user2270457"},"down_vote_count":8,"up_vote_count":35,"is_accepted":false,"score":27,"last_activity_date":1571989441,"creation_date":1365686735,"answer_id":15950008,"question_id":15874117,"body_markdown":"Using the `Thread.sleep(millis)` method.","title":"How to set delay in android?","body":"<p>Using the <code>Thread.sleep(millis)</code> method.</p>\n"},{"tags":[],"owner":{"account_id":266703,"reputation":18305,"user_id":1149423,"accept_rate":83,"display_name":"Sufiyan Ghori"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1422368560,"creation_date":1422358200,"answer_id":28169430,"question_id":15874117,"body_markdown":"You can use `CountDownTimer` which is much more efficient than any other solution posted. You can also produce regular notifications on intervals along the way using its `onTick(long)` method\r\n\r\nHave a look at this example showing a 30seconds countdown\r\n\r\n  \r\n\r\n       new CountDownTimer(30000, 1000) {\r\n             public void onFinish() {\r\n                 // When timer is finished \r\n                 // Execute your code here\r\n         }\r\n    \r\n         public void onTick(long millisUntilFinished) {\r\n                  // millisUntilFinished\tThe amount of time until finished.\r\n         }\r\n       }.start();\r\n\r\n","title":"How to set delay in android?","body":"<p>You can use <code>CountDownTimer</code> which is much more efficient than any other solution posted. You can also produce regular notifications on intervals along the way using its <code>onTick(long)</code> method</p>\n\n<p>Have a look at this example showing a 30seconds countdown</p>\n\n<pre><code>   new CountDownTimer(30000, 1000) {\n         public void onFinish() {\n             // When timer is finished \n             // Execute your code here\n     }\n\n     public void onTick(long millisUntilFinished) {\n              // millisUntilFinished    The amount of time until finished.\n     }\n   }.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657942,"reputation":16486,"user_id":2298241,"accept_rate":33,"display_name":"Ivo Stoyanov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1446471049,"creation_date":1446471049,"answer_id":33478771,"question_id":15874117,"body_markdown":"If you want to do something in the UI on regular time intervals very good option is to use CountDownTimer:\r\n\r\n    new CountDownTimer(30000, 1000) {\r\n    \r\n         public void onTick(long millisUntilFinished) {\r\n             mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\r\n         }\r\n    \r\n         public void onFinish() {\r\n             mTextField.setText(&quot;done!&quot;);\r\n         }\r\n      }.start();\r\n\r\n","title":"How to set delay in android?","body":"<p>If you want to do something in the UI on regular time intervals very good option is to use CountDownTimer:</p>\n\n<pre><code>new CountDownTimer(30000, 1000) {\n\n     public void onTick(long millisUntilFinished) {\n         mTextField.setText(\"seconds remaining: \" + millisUntilFinished / 1000);\n     }\n\n     public void onFinish() {\n         mTextField.setText(\"done!\");\n     }\n  }.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3981411,"reputation":611,"user_id":3283208,"accept_rate":40,"display_name":"aruke"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1524458510,"creation_date":1458414116,"answer_id":36105874,"question_id":15874117,"body_markdown":"If you use delay frequently in your app, use this utility class\r\n\r\n    import android.os.Handler;\r\n    \r\n\r\n    public class Utils {\r\n    \r\n        // Delay mechanism\r\n    \r\n        public interface DelayCallback{\r\n            void afterDelay();\r\n        }\r\n    \r\n        public static void delay(int secs, final DelayCallback delayCallback){\r\n            Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    delayCallback.afterDelay();\r\n                }\r\n            }, secs * 1000); // afterDelay will be executed after (secs*1000) milliseconds.\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    // Call this method directly from java file\r\n    \r\n    int secs = 2; // Delay in seconds\r\n    \r\n    Utils.delay(secs, new Utils.DelayCallback() {\r\n        @Override\r\n        public void afterDelay() {\r\n            // Do something after delay\r\n        \r\n        }\r\n    });","title":"How to set delay in android?","body":"<p>If you use delay frequently in your app, use this utility class</p>\n\n<pre><code>import android.os.Handler;\n\n\npublic class Utils {\n\n    // Delay mechanism\n\n    public interface DelayCallback{\n        void afterDelay();\n    }\n\n    public static void delay(int secs, final DelayCallback delayCallback){\n        Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                delayCallback.afterDelay();\n            }\n        }, secs * 1000); // afterDelay will be executed after (secs*1000) milliseconds.\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// Call this method directly from java file\n\nint secs = 2; // Delay in seconds\n\nUtils.delay(secs, new Utils.DelayCallback() {\n    @Override\n    public void afterDelay() {\n        // Do something after delay\n\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3816019,"reputation":5175,"user_id":4412203,"accept_rate":62,"display_name":"Dror"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1592825376,"creation_date":1533674856,"answer_id":51735186,"question_id":15874117,"body_markdown":"You can use this:\r\n\r\n    import java.util.Timer;\r\n\r\nand for the delay itself, add:\r\n\r\n   \r\n\r\n     new Timer().schedule(\r\n        \t\t\t\tnew TimerTask(){\r\n        \t\t\t\r\n        \t\t\t\t\t@Override\r\n        \t\t\t\t\tpublic void run(){\r\n        \t\t\t\t\t\t\r\n                            //if you need some code to run when the delay expires\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t\t}, delay);\r\n\r\nwhere the `delay` variable is in milliseconds; for example set `delay` to 5000 for a 5-second delay.","title":"How to set delay in android?","body":"<p>You can use this:</p>\n<pre><code>import java.util.Timer;\n</code></pre>\n<p>and for the delay itself, add:</p>\n<pre><code> new Timer().schedule(\n                    new TimerTask(){\n                \n                        @Override\n                        public void run(){\n                            \n                        //if you need some code to run when the delay expires\n                        }\n                        \n                    }, delay);\n</code></pre>\n<p>where the <code>delay</code> variable is in milliseconds; for example set <code>delay</code> to 5000 for a 5-second delay.</p>\n"},{"tags":[],"owner":{"account_id":4315175,"reputation":4770,"user_id":3525279,"accept_rate":87,"display_name":"Phil"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1538463221,"creation_date":1538463221,"answer_id":52603301,"question_id":15874117,"body_markdown":"**Handler answer in Kotlin :**\r\n\r\n1 - Create a [top-level function][1] inside a file (for example a file that contains all your top-level functions) :\r\n\r\n    fun delayFunction(function: ()-&gt; Unit, delay: Long) {\r\n        Handler().postDelayed(function, delay)\r\n    }\r\n\r\n2 - Then call it anywhere you needed it :\r\n\r\n    delayFunction({ myDelayedFunction() }, 300)\r\n\r\n\r\n  [1]: https://blog.jetbrains.com/kotlin/2015/06/improving-java-interop-top-level-functions-and-properties/\r\n","title":"How to set delay in android?","body":"<p><strong>Handler answer in Kotlin :</strong></p>\n\n<p>1 - Create a <a href=\"https://blog.jetbrains.com/kotlin/2015/06/improving-java-interop-top-level-functions-and-properties/\" rel=\"noreferrer\">top-level function</a> inside a file (for example a file that contains all your top-level functions) :</p>\n\n<pre><code>fun delayFunction(function: ()-&gt; Unit, delay: Long) {\n    Handler().postDelayed(function, delay)\n}\n</code></pre>\n\n<p>2 - Then call it anywhere you needed it :</p>\n\n<pre><code>delayFunction({ myDelayedFunction() }, 300)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4068069,"reputation":11,"user_id":3342247,"display_name":"MuharizJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546473771,"creation_date":1546473771,"answer_id":54014758,"question_id":15874117,"body_markdown":"Here&#39;s an example where I change the background image from one to another with a 2 second alpha fade delay both ways - 2s fadeout of the original image into a 2s fadein into the 2nd image.\r\n\r\n\r\n        public void fadeImageFunction(View view) {\r\n\r\n        backgroundImage = (ImageView) findViewById(R.id.imageViewBackground);\r\n        backgroundImage.animate().alpha(0f).setDuration(2000);\r\n\r\n        // A new thread with a 2-second delay before changing the background image\r\n        new Timer().schedule(\r\n                new TimerTask(){\r\n                    @Override\r\n                    public void run(){\r\n                        // you cannot touch the UI from another thread. This thread now calls a function on the main thread\r\n                        changeBackgroundImage();\r\n                    }\r\n                }, 2000);\r\n       }\r\n\r\n    // this function runs on the main ui thread\r\n    private void changeBackgroundImage(){\r\n        runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                backgroundImage = (ImageView) findViewById(R.id.imageViewBackground);\r\n                backgroundImage.setImageResource(R.drawable.supes);\r\n                backgroundImage.animate().alpha(1f).setDuration(2000);\r\n            }\r\n        });\r\n    }","title":"How to set delay in android?","body":"<p>Here's an example where I change the background image from one to another with a 2 second alpha fade delay both ways - 2s fadeout of the original image into a 2s fadein into the 2nd image.</p>\n\n<pre><code>    public void fadeImageFunction(View view) {\n\n    backgroundImage = (ImageView) findViewById(R.id.imageViewBackground);\n    backgroundImage.animate().alpha(0f).setDuration(2000);\n\n    // A new thread with a 2-second delay before changing the background image\n    new Timer().schedule(\n            new TimerTask(){\n                @Override\n                public void run(){\n                    // you cannot touch the UI from another thread. This thread now calls a function on the main thread\n                    changeBackgroundImage();\n                }\n            }, 2000);\n   }\n\n// this function runs on the main ui thread\nprivate void changeBackgroundImage(){\n    runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n            backgroundImage = (ImageView) findViewById(R.id.imageViewBackground);\n            backgroundImage.setImageResource(R.drawable.supes);\n            backgroundImage.animate().alpha(1f).setDuration(2000);\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14953349,"reputation":109,"user_id":10795605,"display_name":"Sirius Bey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601310426,"creation_date":1601304825,"answer_id":64104592,"question_id":15874117,"body_markdown":"I think the easiest and most stable and the most useful way as of 2020 is using `delay` function of [Coroutines][1] instead of Runnable. Coroutines is a good concept to handle asynchronous jobs and its `delay` component will be this answer&#39;s focus.\r\n\r\n*WARNING: Coroutines need **Kotlin** language and I didn&#39;t convert the codes to Kotlin but I think everybody can understand the main concept..*\r\n\r\nJust add the Coroutines on your `build.gradle`:\r\n\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9&#39;\r\nAdd a job to your class (activity, fragment or something) which you will use coroutines in it:\r\n\r\n    private var job: Job = Job()\r\n    override val coroutineContext: CoroutineContext\r\n        get() = Dispatchers.Main + job\r\nAnd you can use Coroutines **anywhere** on the class by using **launch{ }** body. So you can write your code like this:\r\n\r\n    public void onClick(View v) {\r\n    \r\n        launch {\r\n    \r\n            switch(v.getId()) {\r\n                case R . id . rollDice :\r\n                Random ranNum = new Random();\r\n                int number = ranNum . nextInt (6) + 1;\r\n                diceNum.setText(&quot;&quot; + number);\r\n                sum = sum + number;\r\n                for (i= 0;i &lt; 8;i++){\r\n                    for (j= 0;j &lt; 8;j++){\r\n                        int value =(Integer) buttons [i][j].getTag();\r\n                        if (value == sum) {\r\n                            inew = i;\r\n                            jnew = j;\r\n    \r\n                            buttons[inew][jnew].setBackgroundColor(Color.BLACK);\r\n                            delay(2000)\r\n                            buttons[inew][jnew].setBackgroundColor(Color.WHITE);\r\n                            break;\r\n                        }\r\n                    }\r\n            }\r\n                break;\r\n    \r\n            }\r\n        }\r\n    }\r\nIt&#39;s All...\r\n\r\nDont&#39;t forget that `launch{}` function is **asynchronous** and the *for loop* will not wait for `delay` function to finish if you write like this:\r\n\r\n    launch{\r\n        buttons[inew][jnew].setBackgroundColor(Color.BLACK);\r\n        delay(2000)\r\n        buttons[inew][jnew].setBackgroundColor(Color.WHITE);\r\n    }\r\n\r\nSo, `launch{ }` should cover the for loop if you want all the for loop to wait for `delay`.\r\n\r\nAnother benefit of `launch{ }` is that you are making the for loop **asynchronous**, which means it is not gonna block the main UI thread of the application on heavy processes.\r\n\r\n  [1]: https://developer.android.com/kotlin/coroutines","title":"How to set delay in android?","body":"<p>I think the easiest and most stable and the most useful way as of 2020 is using <code>delay</code> function of <a href=\"https://developer.android.com/kotlin/coroutines\" rel=\"nofollow noreferrer\">Coroutines</a> instead of Runnable. Coroutines is a good concept to handle asynchronous jobs and its <code>delay</code> component will be this answer's focus.</p>\n<p><em>WARNING: Coroutines need <strong>Kotlin</strong> language and I didn't convert the codes to Kotlin but I think everybody can understand the main concept..</em></p>\n<p>Just add the Coroutines on your <code>build.gradle</code>:</p>\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9'\n</code></pre>\n<p>Add a job to your class (activity, fragment or something) which you will use coroutines in it:</p>\n<pre><code>private var job: Job = Job()\noverride val coroutineContext: CoroutineContext\n    get() = Dispatchers.Main + job\n</code></pre>\n<p>And you can use Coroutines <strong>anywhere</strong> on the class by using <strong>launch{ }</strong> body. So you can write your code like this:</p>\n<pre><code>public void onClick(View v) {\n\n    launch {\n\n        switch(v.getId()) {\n            case R . id . rollDice :\n            Random ranNum = new Random();\n            int number = ranNum . nextInt (6) + 1;\n            diceNum.setText(&quot;&quot; + number);\n            sum = sum + number;\n            for (i= 0;i &lt; 8;i++){\n                for (j= 0;j &lt; 8;j++){\n                    int value =(Integer) buttons [i][j].getTag();\n                    if (value == sum) {\n                        inew = i;\n                        jnew = j;\n\n                        buttons[inew][jnew].setBackgroundColor(Color.BLACK);\n                        delay(2000)\n                        buttons[inew][jnew].setBackgroundColor(Color.WHITE);\n                        break;\n                    }\n                }\n        }\n            break;\n\n        }\n    }\n}\n</code></pre>\n<p>It's All...</p>\n<p>Dont't forget that <code>launch{}</code> function is <strong>asynchronous</strong> and the <em>for loop</em> will not wait for <code>delay</code> function to finish if you write like this:</p>\n<pre><code>launch{\n    buttons[inew][jnew].setBackgroundColor(Color.BLACK);\n    delay(2000)\n    buttons[inew][jnew].setBackgroundColor(Color.WHITE);\n}\n</code></pre>\n<p>So, <code>launch{ }</code> should cover the for loop if you want all the for loop to wait for <code>delay</code>.</p>\n<p>Another benefit of <code>launch{ }</code> is that you are making the for loop <strong>asynchronous</strong>, which means it is not gonna block the main UI thread of the application on heavy processes.</p>\n"},{"tags":[],"owner":{"account_id":24815620,"reputation":1,"user_id":18696485,"display_name":"Viraj Sawant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649035587,"creation_date":1649035587,"answer_id":71731134,"question_id":15874117,"body_markdown":"    package com.viraj.myamppractice;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class Question6 extends AppCompatActivity {\r\n    \r\n        TextView diceop;\r\n        Button roll;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_question6);\r\n    \r\n            roll = findViewById(R.id.rollButton);\r\n            diceop = findViewById(R.id.opDice);\r\n            Thread timer = new Thread(){\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        Thread.sleep(5000);\r\n                        Random no = new Random();\r\n                        int number = no.nextInt(6)+1;\r\n                        String str = String.valueOf(number);\r\n    \r\n                        diceop.setText(str);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            };\r\n    \r\n            roll.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    timer.run();\r\n    \r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to set delay in android?","body":"<pre><code>package com.viraj.myamppractice;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\nimport java.util.Random;\n\npublic class Question6 extends AppCompatActivity {\n\n    TextView diceop;\n    Button roll;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_question6);\n\n        roll = findViewById(R.id.rollButton);\n        diceop = findViewById(R.id.opDice);\n        Thread timer = new Thread(){\n            @Override\n            public void run() {\n                try {\n                    Thread.sleep(5000);\n                    Random no = new Random();\n                    int number = no.nextInt(6)+1;\n                    String str = String.valueOf(number);\n\n                    diceop.setText(str);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        };\n\n        roll.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                timer.run();\n\n\n            }\n        });\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2600766,"reputation":2191,"user_id":2253240,"accept_rate":68,"display_name":"Kenneth Joseph Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424988,"favorite_count":0,"down_vote_count":0,"up_vote_count":193,"accepted_answer_id":15874176,"answer_count":10,"score":193,"last_activity_date":1649035587,"creation_date":1365408172,"question_id":15874117,"body_markdown":"    public void onClick(View v) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tswitch(v.getId()){\r\n    \t\tcase R.id.rollDice:\r\n    \t\t\tRandom ranNum = new Random();\r\n    \t\t\tint number = ranNum.nextInt(6) + 1;\r\n    \t\t\tdiceNum.setText(&quot;&quot;+number);\r\n    \t\t\tsum = sum + number;\r\n    \t\t\tfor(i=0;i&lt;8;i++){\r\n    \t\t\t\tfor(j=0;j&lt;8;j++){\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tint value =(Integer)buttons[i][j].getTag();\r\n    \t\t\t\t\tif(value==sum){\r\n    \t\t\t\t\t\tinew=i;\r\n    \t\t\t\t\t\tjnew=j;\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tbuttons[inew][jnew].setBackgroundColor(Color.BLACK);\r\n                                                    //I want to insert a delay here\r\n    \t\t\t\t\t\tbuttons[inew][jnew].setBackgroundColor(Color.WHITE);\r\n    \t\t\t\t\t\t break;\t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\t\t\t\t\r\n    \t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t}\r\n    \t}\r\n\r\nI want to set a delay between the command between changing background. I tried using a thread timer and tried using run and catch. But it isn&#39;t working. I tried this\r\n\r\n   \r\n\r\n     Thread timer = new Thread() {\r\n        \t\tpublic void run(){\r\n        \t\t\ttry {\r\n                                    buttons[inew][jnew].setBackgroundColor(Color.BLACK);\r\n        \t\t\t\tsleep(5000);\r\n        \t\t\t} catch (InterruptedException e) {\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t }\r\n        \t   };\r\n        timer.start();\r\n       buttons[inew][jnew].setBackgroundColor(Color.WHITE);\r\n\r\nBut it is only getting changed to black.\r\n\r\n","title":"How to set delay in android?","body":"<pre><code>public void onClick(View v) {\n        // TODO Auto-generated method stub\n        switch(v.getId()){\n        case R.id.rollDice:\n            Random ranNum = new Random();\n            int number = ranNum.nextInt(6) + 1;\n            diceNum.setText(\"\"+number);\n            sum = sum + number;\n            for(i=0;i&lt;8;i++){\n                for(j=0;j&lt;8;j++){\n\n                    int value =(Integer)buttons[i][j].getTag();\n                    if(value==sum){\n                        inew=i;\n                        jnew=j;\n\n                        buttons[inew][jnew].setBackgroundColor(Color.BLACK);\n                                                //I want to insert a delay here\n                        buttons[inew][jnew].setBackgroundColor(Color.WHITE);\n                         break;                     \n                    }\n                }\n            }\n\n\n            break;\n\n        }\n    }\n</code></pre>\n\n<p>I want to set a delay between the command between changing background. I tried using a thread timer and tried using run and catch. But it isn't working. I tried this</p>\n\n<pre><code> Thread timer = new Thread() {\n            public void run(){\n                try {\n                                buttons[inew][jnew].setBackgroundColor(Color.BLACK);\n                    sleep(5000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n             }\n           };\n    timer.start();\n   buttons[inew][jnew].setBackgroundColor(Color.WHITE);\n</code></pre>\n\n<p>But it is only getting changed to black.</p>\n"},{"tags":["java","android","mkdir","exit-code"],"comments":[{"owner":{"account_id":2247288,"reputation":5796,"user_id":1980359,"display_name":"Jite"},"score":0,"creation_date":1384343410,"post_id":19952979,"comment_id":29696315,"body_markdown":"What happens if you add a space to the thing you tried: `String cmd = &quot;su mkdir &quot; + dir;`?","body":"What happens if you add a space to the thing you tried: <code>String cmd = &quot;su mkdir &quot; + dir;</code>?"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1384345086,"post_id":19952979,"comment_id":29697269,"body_markdown":"possible duplicate of [what does the su mean: process = Runtime.getRuntime().exec(&quot;su&quot;);](http://stackoverflow.com/questions/6100662/what-does-the-su-mean-process-runtime-getruntime-execsu)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6100662/what-does-the-su-mean-process-runtime-getruntime-execsu\">what does the su mean: process = Runtime.getRuntime().exec(&quot;su&quot;);</a>"},{"owner":{"account_id":3117565,"reputation":107,"user_id":2638013,"accept_rate":27,"display_name":"idell"},"score":0,"creation_date":1384345194,"post_id":19952979,"comment_id":29697332,"body_markdown":"i get the same error code (1)","body":"i get the same error code (1)"},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1384345817,"post_id":19952979,"comment_id":29697704,"body_markdown":"Of course you get. You are still executing &quot;su&quot;, not &quot;mkdir&quot;. Please do a Google search about what the &quot;su&quot;-command actually does.","body":"Of course you get. You are still executing &quot;su&quot;, not &quot;mkdir&quot;. Please do a Google search about what the &quot;su&quot;-command actually does."},{"owner":{"account_id":3117565,"reputation":107,"user_id":2638013,"accept_rate":27,"display_name":"idell"},"score":0,"creation_date":1384346461,"post_id":19952979,"comment_id":29698100,"body_markdown":"@Torben you are right, i was executing su command and not mkdir as root. \nnow String cmd = &quot;mkdir &quot;+ dir; Process p = Runtime.getRuntime().exec(cmd); works fine.","body":"@Torben you are right, i was executing su command and not mkdir as root.  now String cmd = &quot;mkdir &quot;+ dir; Process p = Runtime.getRuntime().exec(cmd); works fine."}],"answers":[{"tags":[],"owner":{"account_id":282675,"reputation":9330,"user_id":579718,"accept_rate":67,"display_name":"Dinesh Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384343693,"creation_date":1384343693,"answer_id":19953141,"question_id":19952979,"body_markdown":"I use below code to give commands\r\n\r\n\r\n\t\t\r\n\r\n    try {\r\n    \t\t\tProcess sh = Runtime.getRuntime().exec(&quot;su&quot;, null, null);\r\n    \t\t\tOutputStream os = sh.getOutputStream();\r\n    \t\t\tbyte[] mScreenBuffer = (&quot;mkdir dir &quot;)\r\n    \t\t\t\t\t.getBytes();\r\n    \t\t\tos.write(mScreenBuffer);\r\n    \t\t\tos.flush();\r\n    \t\t\tos.close();\r\n    \t\t\tsh.waitFor();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\t","title":"Android java process returns 1 when executing &quot;su&quot;","body":"<p>I use below code to give commands</p>\n\n<pre><code>try {\n            Process sh = Runtime.getRuntime().exec(\"su\", null, null);\n            OutputStream os = sh.getOutputStream();\n            byte[] mScreenBuffer = (\"mkdir dir \")\n                    .getBytes();\n            os.write(mScreenBuffer);\n            os.flush();\n            os.close();\n            sh.waitFor();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213874,"reputation":22203,"user_id":467509,"accept_rate":33,"display_name":"georgiecasey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649035014,"creation_date":1649035014,"answer_id":71731094,"question_id":19952979,"body_markdown":"error code 1 is [EPERM /* Not super-user */][1] on Android if anyone is curious.\r\n\r\n\r\n  [1]: https://android.googlesource.com/kernel/lk/+/dima/for-travis/include/errno.h\r\n\r\nSo there&#39;s something not working right with your root","title":"Android java process returns 1 when executing &quot;su&quot;","body":"<p>error code 1 is <a href=\"https://android.googlesource.com/kernel/lk/+/dima/for-travis/include/errno.h\" rel=\"nofollow noreferrer\">EPERM /* Not super-user */</a> on Android if anyone is curious.</p>\n<p>So there's something not working right with your root</p>\n"}],"owner":{"account_id":3117565,"reputation":107,"user_id":2638013,"accept_rate":27,"display_name":"idell"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2226,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1649035014,"creation_date":1384343251,"question_id":19952979,"body_markdown":"i&#39;m trying to write onto the &quot;/data/myFolder&quot; folder on the android virtual device during test and to do that, i do: \r\n\r\n    String[] cmd ={&quot;su&quot;, &quot;mkdir&quot;, dir};\r\n\t\tint out = 99;\r\n\r\n\t\ttry {\r\n\r\n\t\t\tProcess p = Runtime.getRuntime().exec(cmd);\r\n\t\t\tout = p.waitFor();\r\n\t\t\tBufferedInputStream in = new BufferedInputStream(p.getErrorStream());\r\n\t\t\tbyte[] bytes = new byte[4096];\r\n\t\t\twhile (in.read(bytes) != -1) {\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tin.close();\r\n\t\t\tlogger.info(&quot;exit status:&quot; + out);\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.severe(&quot;IOException &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\tlogger.severe(&quot;InterruptedException &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tif (out != 0) {\r\n\t\t\tlogger.severe(&quot;Folder &quot; + dir + &quot; not created,exit status: &quot; + out);\r\n\t\t}\r\n\r\nor i&#39;ve tried \r\n\r\n    String cmd ={&quot;su mkdir&quot; + dir}; \r\nbut the exit status is 1 and it not create any folder. using su mkdir /data/myFolder from adb shell works fine. \r\nWhy this code? what means? (i know it means that something went wrong, but what? didn&#39;t find any documentation about android mkdir exit code values).\r\nThank&#39;s","title":"Android java process returns 1 when executing &quot;su&quot;","body":"<p>i'm trying to write onto the \"/data/myFolder\" folder on the android virtual device during test and to do that, i do: </p>\n\n<pre><code>String[] cmd ={\"su\", \"mkdir\", dir};\n    int out = 99;\n\n    try {\n\n        Process p = Runtime.getRuntime().exec(cmd);\n        out = p.waitFor();\n        BufferedInputStream in = new BufferedInputStream(p.getErrorStream());\n        byte[] bytes = new byte[4096];\n        while (in.read(bytes) != -1) {\n\n        }\n\n        in.close();\n        logger.info(\"exit status:\" + out);\n\n    } catch (IOException e) {\n        logger.severe(\"IOException \" + e.getMessage());\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        logger.severe(\"InterruptedException \" + e.getMessage());\n        e.printStackTrace();\n    }\n    if (out != 0) {\n        logger.severe(\"Folder \" + dir + \" not created,exit status: \" + out);\n    }\n</code></pre>\n\n<p>or i've tried </p>\n\n<pre><code>String cmd ={\"su mkdir\" + dir}; \n</code></pre>\n\n<p>but the exit status is 1 and it not create any folder. using su mkdir /data/myFolder from adb shell works fine. \nWhy this code? what means? (i know it means that something went wrong, but what? didn't find any documentation about android mkdir exit code values).\nThank's</p>\n"},{"tags":["java","for-loop","arraylist"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":2,"creation_date":1649034544,"post_id":71730978,"comment_id":126766404,"body_markdown":"What does your code do that you didn&#39;t expect? What should it do and what did it do instead?","body":"What does your code do that you didn&#39;t expect? What should it do and what did it do instead?"}],"answers":[{"tags":[],"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649033564,"creation_date":1649033564,"answer_id":71730995,"question_id":71730978,"body_markdown":"numbers.add(i,a) don&#39;t replace the element at position i. It inserts a new element at that position, thus increasing the size of the numbers array. Use the method numbers.set(i,a) instead","title":"Working on ArrayList in Java, I&#39;m not sure why the loop isn&#39;t working","body":"<p>numbers.add(i,a) don't replace the element at position i. It inserts a new element at that position, thus increasing the size of the numbers array. Use the method numbers.set(i,a) instead</p>\n"},{"tags":[],"owner":{"account_id":24422841,"reputation":110,"user_id":18464679,"display_name":"ubw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649033841,"creation_date":1649033841,"answer_id":71731024,"question_id":71730978,"body_markdown":"According to the Javadoc for java.util.List, &lt;code&gt;numbers.add(i,a)&lt;/code&gt; inserts &lt;code&gt;a&lt;/code&gt; at index &lt;code&gt;i&lt;/code&gt;. You should use &lt;code&gt;numbers.set(i, a)&lt;/code&gt; instead since you don&#39;t want to insert new elements but replace existing ones.","title":"Working on ArrayList in Java, I&#39;m not sure why the loop isn&#39;t working","body":"<p>According to the Javadoc for java.util.List, <code>numbers.add(i,a)</code> inserts <code>a</code> at index <code>i</code>. You should use <code>numbers.set(i, a)</code> instead since you don't want to insert new elements but replace existing ones.</p>\n"}],"owner":{"account_id":24815389,"reputation":1,"user_id":18696274,"display_name":"El Bruno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1649033841,"creation_date":1649033372,"question_id":71730978,"body_markdown":"I&#39;m trying to add 100 to each elements of the list using a for loop\r\n\r\nI saved the desired values (from the list +100)to a variable a; then replace each element of the list using the index and the variable a;\r\n\r\n```\r\nList&lt;Integer&gt; numbers= new ArrayList&lt;&gt;();\r\n        numbers.add(8);\r\n        numbers.add(9);\r\n        numbers.add(22);\r\n        numbers.add(42);\r\n        numbers.add(100);\r\n\r\nfor(int i=0;i&lt;numbers.size();i++){\r\n            int a=numbers.get(i)+100;\r\n            numbers.add(i,a);\r\n       }\r\n\r\n        System.out.println(&quot;The new elements of the list are &quot;+ numbers);\r\n```","title":"Working on ArrayList in Java, I&#39;m not sure why the loop isn&#39;t working","body":"<p>I'm trying to add 100 to each elements of the list using a for loop</p>\n<p>I saved the desired values (from the list +100)to a variable a; then replace each element of the list using the index and the variable a;</p>\n<pre><code>List&lt;Integer&gt; numbers= new ArrayList&lt;&gt;();\n        numbers.add(8);\n        numbers.add(9);\n        numbers.add(22);\n        numbers.add(42);\n        numbers.add(100);\n\nfor(int i=0;i&lt;numbers.size();i++){\n            int a=numbers.get(i)+100;\n            numbers.add(i,a);\n       }\n\n        System.out.println(&quot;The new elements of the list are &quot;+ numbers);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"score":0,"creation_date":1649042914,"post_id":71731007,"comment_id":126767550,"body_markdown":"I think the problem is that the interface projections are returned as proxy objects, which are not serializable. That might be the problem.\nOn the other hand, are you returning the repository layer&#39;s objects directly to the Controller&#39;s response. Did you try to use DTOs to decouple the layers?\nThen you wouldn&#39;t have this problem.","body":"I think the problem is that the interface projections are returned as proxy objects, which are not serializable. That might be the problem. On the other hand, are you returning the repository layer&#39;s objects directly to the Controller&#39;s response. Did you try to use DTOs to decouple the layers? Then you wouldn&#39;t have this problem."},{"owner":{"account_id":16835784,"reputation":43,"user_id":12172601,"display_name":"Gon&#231;alo Conde&#231;o"},"score":0,"creation_date":1649045423,"post_id":71731007,"comment_id":126767860,"body_markdown":"I had dtos for the whole entities. When using projectios i didnt create them. I use model mapper to map between dao &lt;-&gt; dto. Do you think that would work?","body":"I had dtos for the whole entities. When using projectios i didnt create them. I use model mapper to map between dao &lt;-&gt; dto. Do you think that would work?"},{"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"score":0,"creation_date":1649046054,"post_id":71731007,"comment_id":126767953,"body_markdown":"If in the Controller you return exactly the projection object retrieved by the repository, then I have no doubt It won&#39;t work.\nThink you don&#39;t have a concrete implementation of those interfaces, then Spring creates dynamic proxies for them, and they are not serializable.\nTry creating a simplified DTO and return it instead of the projection and maybe you&#39;ll get surprised. Let me know how it results and I&#39;ll post an answer for that. :)","body":"If in the Controller you return exactly the projection object retrieved by the repository, then I have no doubt It won&#39;t work. Think you don&#39;t have a concrete implementation of those interfaces, then Spring creates dynamic proxies for them, and they are not serializable. Try creating a simplified DTO and return it instead of the projection and maybe you&#39;ll get surprised. Let me know how it results and I&#39;ll post an answer for that. :)"},{"owner":{"account_id":16835784,"reputation":43,"user_id":12172601,"display_name":"Gon&#231;alo Conde&#231;o"},"score":0,"creation_date":1649078475,"post_id":71731007,"comment_id":126778046,"body_markdown":"I tried to, but model mapper doesn&#39;t seem to be able to convert the dao -&gt; dto because its a spring proxy. Im aware i can make the constructors but since its a lot of projections i was trying to save myself the work and the sheer code spam it would take","body":"I tried to, but model mapper doesn&#39;t seem to be able to convert the dao -&gt; dto because its a spring proxy. Im aware i can make the constructors but since its a lot of projections i was trying to save myself the work and the sheer code spam it would take"}],"owner":{"account_id":16835784,"reputation":43,"user_id":12172601,"display_name":"Gon&#231;alo Conde&#231;o"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649033651,"creation_date":1649033651,"question_id":71731007,"body_markdown":"Im developing a system that relies heavily on data projections as the entities are quite big but rarely do I need the whole entity, hence Im using projections (interface projections).\r\nNow my project uses gson and its HttpConverter but it throws me an exception:\r\n```\r\norg.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Attempted to serialize java.lang.Class: com.manager.projections.StaffProjection. Forgot to register a type adapter?; nested exception is java.lang.UnsupportedOperationException: Attempted to serialize java.lang.Class: com.manager.projections.StaffProjection. Forgot to register a type adapter?\r\n```\r\nIs there any way to tackle this issue without needing to define JsonSerializers for all my projections? I have quite a few...","title":"Is there any way to convert Spring data interface projections with google Gson?","body":"<p>Im developing a system that relies heavily on data projections as the entities are quite big but rarely do I need the whole entity, hence Im using projections (interface projections).\nNow my project uses gson and its HttpConverter but it throws me an exception:</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Attempted to serialize java.lang.Class: com.manager.projections.StaffProjection. Forgot to register a type adapter?; nested exception is java.lang.UnsupportedOperationException: Attempted to serialize java.lang.Class: com.manager.projections.StaffProjection. Forgot to register a type adapter?\n</code></pre>\n<p>Is there any way to tackle this issue without needing to define JsonSerializers for all my projections? I have quite a few...</p>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1648922576,"post_id":71719456,"comment_id":126747563,"body_markdown":"Two obvious issues: a) does `document` guarantee it finishes before it returns, or just install a callback?  b) you&#39;re using `!=` instead of `.equals` or `.isEmpty`.  The first one is almost certainly your issue, though.","body":"Two obvious issues: a) does <code>document</code> guarantee it finishes before it returns, or just install a callback?  b) you&#39;re using <code>!=</code> instead of <code>.equals</code> or <code>.isEmpty</code>.  The first one is almost certainly your issue, though."},{"owner":{"account_id":4999927,"reputation":952,"user_id":4019273,"display_name":"Cheshiremoe"},"score":0,"creation_date":1648923183,"post_id":71719456,"comment_id":126747682,"body_markdown":"If your using mongoDB what driver are you using (async or sync)?  If it is Async then the callback (onSuccess) is being called after you return the companyList.","body":"If your using mongoDB what driver are you using (async or sync)?  If it is Async then the callback (onSuccess) is being called after you return the companyList."}],"answers":[{"tags":[],"owner":{"account_id":24801332,"reputation":1,"user_id":18683684,"display_name":"Thomas Koenig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648927307,"creation_date":1648921682,"answer_id":71719863,"question_id":71719456,"body_markdown":"I could suggest that you start by declaring a variable as an ArrayList such as :\r\n\r\n    ArrayList&lt;String&gt; resultArraylist = new ArrayList&lt;&gt;();\r\n\r\nAnd then you add your first item :`\r\n\r\n    resultArrayList.add(&quot;Seleccionne un providor&quot;);\r\n\r\nWith ArrayList except if you always want to add in first position, the method add will put your item at the end of the list.","title":"ArrayList&lt;String&gt; dont charge data - JAVA","body":"<p>I could suggest that you start by declaring a variable as an ArrayList such as :</p>\n<pre><code>ArrayList&lt;String&gt; resultArraylist = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And then you add your first item :`</p>\n<pre><code>resultArrayList.add(&quot;Seleccionne un providor&quot;);\n</code></pre>\n<p>With ArrayList except if you always want to add in first position, the method add will put your item at the end of the list.</p>\n"},{"tags":[],"owner":{"account_id":23446831,"reputation":1,"user_id":17503520,"display_name":"Martin Ballester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649033514,"creation_date":1649033514,"answer_id":71730990,"question_id":71719456,"body_markdown":"Louis Wasserman, Cheshiremoe, Thomas Koenig, thanks for reply.\r\n\r\nThomas, i tried with this method but no result.\r\n\r\nLouis and Cheshiremoe, i try implemented a AsyncTask. On doInBackground put the code what get arraylist from firestore, in onPostExecute i try compare a arrayList. The code is this:\r\n\r\n    private class Task extends AsyncTask&lt;String, String, ArrayList&lt;String&gt;&gt; {\r\n\r\n        // Runs in UI before background thread is called\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n\r\n            // Do something like display a progress bar\r\n        }\r\n\r\n        // This is run in a background thread\r\n        @Override\r\n        protected ArrayList&lt;String&gt; doInBackground(String... params) {\r\n\r\n            Company company = new Company();\r\n\r\n                // Call this to update your progress\r\n                //publishProgress(companyList);\r\n\r\n            return company.companyList(getView());\r\n        }\r\n\r\n        // This is called from background thread but runs in UI\r\n        protected void onProgressUpdate(ArrayList&lt;String&gt; arr1) {\r\n\r\n        }\r\n\r\n        // This runs in UI when background thread finishes\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;String&gt; result) {\r\n            super.onPostExecute(result);\r\n            ArrayList&lt;String&gt; companyList = new ArrayList&lt;String&gt;(result);\r\n            TextView tvt = getView().findViewById(R.id.textView7);\r\n\r\n            if(companyList.size() &gt; 1){\r\n                addFragmentListAdd();\r\n                tvt.setText(companyList.toString());\r\n            }\r\n            Log.i(&quot;Current User TASK: &quot;, companyList.toString());\r\n        }\r\n    }\r\n\r\n\r\nand the call is:\r\n\r\n    new Task().execute();\r\n\r\nbut this don&#39;t work as expected, the log is:\r\n\r\n    I/Current&#160;User&#160;TASK:: [Seleccione un proveedor]\r\n\r\nIs the first time i implement AsyncTask, is this way correct??\r\n\r\n","title":"ArrayList&lt;String&gt; dont charge data - JAVA","body":"<p>Louis Wasserman, Cheshiremoe, Thomas Koenig, thanks for reply.</p>\n<p>Thomas, i tried with this method but no result.</p>\n<p>Louis and Cheshiremoe, i try implemented a AsyncTask. On doInBackground put the code what get arraylist from firestore, in onPostExecute i try compare a arrayList. The code is this:</p>\n<pre><code>private class Task extends AsyncTask&lt;String, String, ArrayList&lt;String&gt;&gt; {\n\n    // Runs in UI before background thread is called\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n\n        // Do something like display a progress bar\n    }\n\n    // This is run in a background thread\n    @Override\n    protected ArrayList&lt;String&gt; doInBackground(String... params) {\n\n        Company company = new Company();\n\n            // Call this to update your progress\n            //publishProgress(companyList);\n\n        return company.companyList(getView());\n    }\n\n    // This is called from background thread but runs in UI\n    protected void onProgressUpdate(ArrayList&lt;String&gt; arr1) {\n\n    }\n\n    // This runs in UI when background thread finishes\n    @Override\n    protected void onPostExecute(ArrayList&lt;String&gt; result) {\n        super.onPostExecute(result);\n        ArrayList&lt;String&gt; companyList = new ArrayList&lt;String&gt;(result);\n        TextView tvt = getView().findViewById(R.id.textView7);\n\n        if(companyList.size() &gt; 1){\n            addFragmentListAdd();\n            tvt.setText(companyList.toString());\n        }\n        Log.i(&quot;Current User TASK: &quot;, companyList.toString());\n    }\n}\n</code></pre>\n<p>and the call is:</p>\n<pre><code>new Task().execute();\n</code></pre>\n<p>but this don't work as expected, the log is:</p>\n<pre><code>I/Current User TASK:: [Seleccione un proveedor]\n</code></pre>\n<p>Is the first time i implement AsyncTask, is this way correct??</p>\n"}],"owner":{"account_id":23446831,"reputation":1,"user_id":17503520,"display_name":"Martin Ballester"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649033514,"creation_date":1648918243,"question_id":71719456,"body_markdown":"I doing a ArrayList with a Class &quot;Company&quot;, this list a companys what get for firestore.\r\n\r\nThe code for class is:\r\n\r\n``` \r\npublic ArrayList&lt;String&gt; companyList (View view) {\r\n\r\n        CompanyList.add(0, &quot;Seleccione un proveedor&quot;);\r\n    \r\n        FirebaseUser currentFirebaseUser = FirebaseAuth.getInstance().getCurrentUser() ;\r\n    \r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    \r\n        db.collection(&quot;users&quot;).document(currentFirebaseUser.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n    \r\n                User = (HashMap&lt;String, Object&gt;) documentSnapshot.getData();\r\n    \r\n                if(User.get(&quot;List&quot;) != &quot;&quot;) {\r\n                    List = (HashMap&lt;String, Object&gt;) User.get(&quot;List&quot;);\r\n                    CompanyList.addAll(List.keySet());\r\n                    Log.i(&quot;Current User: &quot;, CompanyList.toString());\r\n                }\r\n            }\r\n        });\r\n    \r\n        return CompanyList;\r\n    }`\r\n\r\n```\r\nThis class work fine, i used on spinners but when i use for charge a ArrayList on fragment don&#39;t work. The code for fragment is:\r\n\r\n    Company company = new Company();\r\n    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;(company.companyList(root));\r\n    Log.i(&quot;Current User: &quot;, arrayList.toString());\r\n\r\nWhen executed code the log show this:\r\n\r\n`2022-04-02 13:34:12.370 17434-17434/com.martin.preventapp I/Current&#160;User:: [Seleccione un proveedor] 2022-04-02 13:34:12.615 17434-17434/com.martin.preventapp I/Current&#160;User:: [Seleccione un proveedor, Nutrifresca, Ideas Gastronomicas, Pollo]`\r\n\r\nThe first log show a arrayList from fragment and second log show the class arrayList.\r\n\r\nI can&#39;t charge the arrayList at fragment as a class show, what&#39;s wrong??\r\n\r\nI try this methods for charge a ArrayList:\r\n\r\n1) ArrayList\\&lt;String\\&gt; arrayList = new ArrayList\\&lt;\\&gt;(company.companyList(root)\r\n\r\n2) ArrayList\\&lt;String\\&gt; arrayList = new ArrayList\\&lt;\\&gt;();\r\n   arrayList.addAll(company.companyList(root));\r\n\r\n3) ArrayList\\&lt;String\\&gt; arrayList;\r\n   arrayList = (ArrayList\\&lt;String\\&gt;) company.companyList();","title":"ArrayList&lt;String&gt; dont charge data - JAVA","body":"<p>I doing a ArrayList with a Class &quot;Company&quot;, this list a companys what get for firestore.</p>\n<p>The code for class is:</p>\n<pre><code>public ArrayList&lt;String&gt; companyList (View view) {\n\n        CompanyList.add(0, &quot;Seleccione un proveedor&quot;);\n    \n        FirebaseUser currentFirebaseUser = FirebaseAuth.getInstance().getCurrentUser() ;\n    \n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n    \n        db.collection(&quot;users&quot;).document(currentFirebaseUser.getUid()).get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\n    \n                User = (HashMap&lt;String, Object&gt;) documentSnapshot.getData();\n    \n                if(User.get(&quot;List&quot;) != &quot;&quot;) {\n                    List = (HashMap&lt;String, Object&gt;) User.get(&quot;List&quot;);\n                    CompanyList.addAll(List.keySet());\n                    Log.i(&quot;Current User: &quot;, CompanyList.toString());\n                }\n            }\n        });\n    \n        return CompanyList;\n    }`\n\n</code></pre>\n<p>This class work fine, i used on spinners but when i use for charge a ArrayList on fragment don't work. The code for fragment is:</p>\n<pre><code>Company company = new Company();\nArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;(company.companyList(root));\nLog.i(&quot;Current User: &quot;, arrayList.toString());\n</code></pre>\n<p>When executed code the log show this:</p>\n<p><code>2022-04-02 13:34:12.370 17434-17434/com.martin.preventapp I/Current User:: [Seleccione un proveedor] 2022-04-02 13:34:12.615 17434-17434/com.martin.preventapp I/Current User:: [Seleccione un proveedor, Nutrifresca, Ideas Gastronomicas, Pollo]</code></p>\n<p>The first log show a arrayList from fragment and second log show the class arrayList.</p>\n<p>I can't charge the arrayList at fragment as a class show, what's wrong??</p>\n<p>I try this methods for charge a ArrayList:</p>\n<ol>\n<li><p>ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;(company.companyList(root)</p>\n</li>\n<li><p>ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\narrayList.addAll(company.companyList(root));</p>\n</li>\n<li><p>ArrayList&lt;String&gt; arrayList;\narrayList = (ArrayList&lt;String&gt;) company.companyList();</p>\n</li>\n</ol>\n"},{"tags":["java","junit","mockito","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648934570,"creation_date":1648934255,"answer_id":71721233,"question_id":71720593,"body_markdown":"It is because the `MessagePostProcessor` you use to stub the `JmsTemplate` is different from the actual instance that is passed to the `JmsTemplate` when the test method is executed. \r\n\r\nThe `MessagePostProcessor` passed to the mocked `JmsTemplate` is a new instance that is created internally inside the test method while the one you use for stubbing is created outside the test method. They are apparently two different instances.\r\n\r\nSince `convertAndSend()` in `JmsTemplate` return void , there is nothing for you to stub. You can simply verify if it is executed correctly with the expected parameters after executing the test method. Something likes :\r\n\r\n\r\n``` java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class JmsTemplateServiceTest {\r\n\r\n  \t@Mock\r\n\tprivate JmsTemplate jmsTemplate;\r\n\r\n\tprivate JmsTemplateService jmsTemplateService;\r\n\r\n\t@BeforeEach\r\n\tpublic void init() {\r\n\t\tjmsTemplateService = new JmsTemplateService(jmsTemplate);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void convertAndSendTest() {\r\n\t\tObject someObject = ....;\r\n\t\tjmsTemplateService.sendMessage(&quot;queueA&quot;, someObject);\r\n\t\tverify(jmsTemplate).convertAndSend(eq(&quot;queueA&quot;), eq(someObject), any());\r\n\t}\r\n\r\n}\r\n```","title":"Mocking MessegePostProcessor Interface in JmsTemplate","body":"<p>It is because the <code>MessagePostProcessor</code> you use to stub the <code>JmsTemplate</code> is different from the actual instance that is passed to the <code>JmsTemplate</code> when the test method is executed.</p>\n<p>The <code>MessagePostProcessor</code> passed to the mocked <code>JmsTemplate</code> is a new instance that is created internally inside the test method while the one you use for stubbing is created outside the test method. They are apparently two different instances.</p>\n<p>Since <code>convertAndSend()</code> in <code>JmsTemplate</code> return void , there is nothing for you to stub. You can simply verify if it is executed correctly with the expected parameters after executing the test method. Something likes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class JmsTemplateServiceTest {\n\n    @Mock\n    private JmsTemplate jmsTemplate;\n\n    private JmsTemplateService jmsTemplateService;\n\n    @BeforeEach\n    public void init() {\n        jmsTemplateService = new JmsTemplateService(jmsTemplate);\n    }\n\n    @Test\n    public void convertAndSendTest() {\n        Object someObject = ....;\n        jmsTemplateService.sendMessage(&quot;queueA&quot;, someObject);\n        verify(jmsTemplate).convertAndSend(eq(&quot;queueA&quot;), eq(someObject), any());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649033252,"creation_date":1648934592,"answer_id":71721269,"question_id":71720593,"body_markdown":"&gt; it seems the last parameter is the actual problem but I don&#39;t know how to capture it without mocking the jmsTemplate dependencies too.\r\n\r\nActually, you are mocking `jmsTemplate`, otherwise it&#39;d throw an exception because `jmsTemplate` variable is not a mock.\r\n``` \r\ndoNothing()\r\n       .when(jmsTemplate) &lt;- a mock is expected to be used here\r\n       .convertAndSend(queue, obj, messagePostProcessor);\r\n```\r\nYou&#39;re right that the last parameter is the actual problem since different instances are being used.\r\n\r\nThe first instance is defined by your lambda in the test:\r\n```\r\nMessagePostProcessor messagePostProcessor = (x) -&gt; message;\r\n```\r\nAnd the second one is defined with the other lambda when you perform the call to `jmsTemplate.convertAndSend(..., ..., message -&gt; {...})`\r\n\r\nPosibly you&#39;re getting that error because you&#39;re verifying that the `jmsTemplate.convertAndSend(...)` was called with the params you defined in the tests.\r\nSomething like:\r\n```\r\nverify(jmsTemplate).convertAndSend(queue, obj, messagePostProcessor);\r\n```\r\nWhat you can do is expect `any()` as a 3rd argument in that verify, and expect something like `ArgumentsMatchers.eq(queue)` and `ArgumentsMatchers.eq(obj)` as other arguments:\r\n```\r\nverify(jmsTemplate).convertAndSend(ArgumentsMatchers.eq(queue), ArgumentsMatchers.eq(obj), any());\r\n```\r\n-------\r\n### Update: possible solution to test the dependencies inside the MessagePostProcessor\r\n```\r\nclass JmsTemplateServiceTest {\r\n\r\n    @Mock\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    @Mock\r\n    private Message message;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;String&gt; queueCaptor;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;String&gt; messageCaptor;\r\n\r\n    @Captor\r\n    private ArgumentCaptor&lt;MessagePostProcessor&gt; messagePostProcessorArgumentCaptor;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n    @Test\r\n    void testJmsTemplateWorksWithCorrectMessagePostProcessor() throws JMSException {\r\n        // Given\r\n        String destinationQueue = &quot;test-queue&quot;;\r\n        String testMessage = &quot;test message&quot;;\r\n\r\n        // When\r\n        doNothing().when(jmsTemplate).convertAndSend(destinationQueue, testMessage, message -&gt; message);\r\n\r\n        // Inline dummy implementation that adds an element to a list defined in this test scope\r\n        List&lt;String&gt; stateCustomDependency = new ArrayList&lt;&gt;();\r\n        CustomDependency customDependency = () -&gt; stateCustomDependency.add(&quot;Got executed!&quot;);\r\n\r\n        // Performs service call\r\n        JmsTemplateService jmsTemplateService = new JmsTemplateService(jmsTemplate, customDependency);\r\n        jmsTemplateService.sendMessage(destinationQueue, testMessage);\r\n\r\n        // Then verify the service actually invokes the jmsTemplate and capture the arguments passed to it\r\n        verify(jmsTemplate).convertAndSend(queueCaptor.capture(), messageCaptor.capture(), messagePostProcessorArgumentCaptor.capture());\r\n\r\n        // Verify values of queue and message\r\n        assertEquals(destinationQueue, queueCaptor.getValue());\r\n        assertEquals(testMessage, messageCaptor.getValue());\r\n\r\n        // Verify the MessagePostProcessor instantiated inside the service invokes the lambda dependencies\r\n        MessagePostProcessor messagePostProcessorToVerify = messagePostProcessorArgumentCaptor.getValue();\r\n        messagePostProcessorToVerify.postProcessMessage(message);\r\n        assertEquals(1, stateCustomDependency.size()); // Ensure the CustomDependency was invoked\r\n        assertEquals(&quot;Got executed!&quot;, stateCustomDependency.get(0)); // Ensure the right String was added by CustomDependency\r\n    }\r\n}\r\n```\r\nIn case you also need to call some method on Message object, you&#39;ll have to add statements like `when(message.someMethod(...)).thenReturn(...)`.\r\n\r\nI hope it helps!","title":"Mocking MessegePostProcessor Interface in JmsTemplate","body":"<blockquote>\n<p>it seems the last parameter is the actual problem but I don't know how to capture it without mocking the jmsTemplate dependencies too.</p>\n</blockquote>\n<p>Actually, you are mocking <code>jmsTemplate</code>, otherwise it'd throw an exception because <code>jmsTemplate</code> variable is not a mock.</p>\n<pre><code>doNothing()\n       .when(jmsTemplate) &lt;- a mock is expected to be used here\n       .convertAndSend(queue, obj, messagePostProcessor);\n</code></pre>\n<p>You're right that the last parameter is the actual problem since different instances are being used.</p>\n<p>The first instance is defined by your lambda in the test:</p>\n<pre><code>MessagePostProcessor messagePostProcessor = (x) -&gt; message;\n</code></pre>\n<p>And the second one is defined with the other lambda when you perform the call to <code>jmsTemplate.convertAndSend(..., ..., message -&gt; {...})</code></p>\n<p>Posibly you're getting that error because you're verifying that the <code>jmsTemplate.convertAndSend(...)</code> was called with the params you defined in the tests.\nSomething like:</p>\n<pre><code>verify(jmsTemplate).convertAndSend(queue, obj, messagePostProcessor);\n</code></pre>\n<p>What you can do is expect <code>any()</code> as a 3rd argument in that verify, and expect something like <code>ArgumentsMatchers.eq(queue)</code> and <code>ArgumentsMatchers.eq(obj)</code> as other arguments:</p>\n<pre><code>verify(jmsTemplate).convertAndSend(ArgumentsMatchers.eq(queue), ArgumentsMatchers.eq(obj), any());\n</code></pre>\n<hr />\n<h3>Update: possible solution to test the dependencies inside the MessagePostProcessor</h3>\n<pre><code>class JmsTemplateServiceTest {\n\n    @Mock\n    private JmsTemplate jmsTemplate;\n\n    @Mock\n    private Message message;\n\n    @Captor\n    private ArgumentCaptor&lt;String&gt; queueCaptor;\n\n    @Captor\n    private ArgumentCaptor&lt;String&gt; messageCaptor;\n\n    @Captor\n    private ArgumentCaptor&lt;MessagePostProcessor&gt; messagePostProcessorArgumentCaptor;\n\n    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    void testJmsTemplateWorksWithCorrectMessagePostProcessor() throws JMSException {\n        // Given\n        String destinationQueue = &quot;test-queue&quot;;\n        String testMessage = &quot;test message&quot;;\n\n        // When\n        doNothing().when(jmsTemplate).convertAndSend(destinationQueue, testMessage, message -&gt; message);\n\n        // Inline dummy implementation that adds an element to a list defined in this test scope\n        List&lt;String&gt; stateCustomDependency = new ArrayList&lt;&gt;();\n        CustomDependency customDependency = () -&gt; stateCustomDependency.add(&quot;Got executed!&quot;);\n\n        // Performs service call\n        JmsTemplateService jmsTemplateService = new JmsTemplateService(jmsTemplate, customDependency);\n        jmsTemplateService.sendMessage(destinationQueue, testMessage);\n\n        // Then verify the service actually invokes the jmsTemplate and capture the arguments passed to it\n        verify(jmsTemplate).convertAndSend(queueCaptor.capture(), messageCaptor.capture(), messagePostProcessorArgumentCaptor.capture());\n\n        // Verify values of queue and message\n        assertEquals(destinationQueue, queueCaptor.getValue());\n        assertEquals(testMessage, messageCaptor.getValue());\n\n        // Verify the MessagePostProcessor instantiated inside the service invokes the lambda dependencies\n        MessagePostProcessor messagePostProcessorToVerify = messagePostProcessorArgumentCaptor.getValue();\n        messagePostProcessorToVerify.postProcessMessage(message);\n        assertEquals(1, stateCustomDependency.size()); // Ensure the CustomDependency was invoked\n        assertEquals(&quot;Got executed!&quot;, stateCustomDependency.get(0)); // Ensure the right String was added by CustomDependency\n    }\n}\n</code></pre>\n<p>In case you also need to call some method on Message object, you'll have to add statements like <code>when(message.someMethod(...)).thenReturn(...)</code>.</p>\n<p>I hope it helps!</p>\n"}],"owner":{"account_id":9970243,"reputation":127,"user_id":7376572,"display_name":"Maxuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71721269,"answer_count":2,"score":0,"last_activity_date":1649033252,"creation_date":1648927488,"question_id":71720593,"body_markdown":"I&#39;m new in *Mockito* and I&#39;m facing an issue regarding a stubbing argument mismatch.\r\n\r\nso far I thought this would works fine since in my implementation *jmsTemplate* is a depedency of *jmsTemplateService* and everything is injected via @Mock and @InjectMocks\r\n\r\nand theoretically I&#39;m mocking the execution of the invoked dependent method \r\n\r\n    convertAndSend(String destinationName, final Object message, final MessagePostProcessor postProcessor)\r\n\r\n\r\nmain part of test\r\n\r\n    Message message = Mockito.mock(Message.class);\r\n    \r\n    MessagePostProcessor messagePostProcessor = (x) -&gt; message;\r\n    \r\n    doNothing()\r\n               .when(jmsTemplate)\r\n               .convertAndSend(queue, obj, messagePostProcessor);\r\n    \r\n    jmsTemplateService.sendMessage(queue, obj);\r\n\r\nbut mockito throws a stubbing argument mismatch error which actually made me understand I&#39;m not stubbing correctly.\r\n\r\n \r\n\r\n    - this invocation of &#39;convertAndSend&#39; method:\r\n        jmsTemplate.convertAndSend(\r\n        &quot;queueA&quot;,\r\n         Obj(),\r\n      com.example.JmsTemplateService$$Lambda$383/0x0000000800dd9440@5fb7183b\r\n    );\r\n        -&gt; at com.example.JmsTemplateService.sendMessage(JmsTemplateService.java:64)\r\n     - has following stubbing(s) with different arguments:\r\n        1. jmsTemplate.convertAndSend(\r\n        &quot;queueA&quot;,\r\n       Obj(),\r\n       com.example.JmsTemplateServiceTest$$Lambda$382/0x0000000800ddb360@74ad8d05\r\n    );\r\n\r\nit seems the last parameter is the actual problem but I don&#39;t know how to capture it without mocking the jmsTemplate dependencies too.\r\n\r\nthis is the current implementation of the *JmsTemplateService.sendMessage(String queue, Obj obj)*   \r\n  \r\n\r\n     public void sendMessage(String queue, Object obj) {\r\n            \r\n          try {\r\n               jmsTemplate.convertAndSend(queue, obj, message -&gt; {\r\n               //do stuffs before sending the message\r\n               });\r\n          }catch (Exception e) {\r\n           //handle exception\r\n        }\r\n\r\n\r\nany hint of what could be wrong in mocking the *convertAndSend* method? \r\n\r\nThank you very much for the help!\r\n\r\n","title":"Mocking MessegePostProcessor Interface in JmsTemplate","body":"<p>I'm new in <em>Mockito</em> and I'm facing an issue regarding a stubbing argument mismatch.</p>\n<p>so far I thought this would works fine since in my implementation <em>jmsTemplate</em> is a depedency of <em>jmsTemplateService</em> and everything is injected via @Mock and @InjectMocks</p>\n<p>and theoretically I'm mocking the execution of the invoked dependent method</p>\n<pre><code>convertAndSend(String destinationName, final Object message, final MessagePostProcessor postProcessor)\n</code></pre>\n<p>main part of test</p>\n<pre><code>Message message = Mockito.mock(Message.class);\n\nMessagePostProcessor messagePostProcessor = (x) -&gt; message;\n\ndoNothing()\n           .when(jmsTemplate)\n           .convertAndSend(queue, obj, messagePostProcessor);\n\njmsTemplateService.sendMessage(queue, obj);\n</code></pre>\n<p>but mockito throws a stubbing argument mismatch error which actually made me understand I'm not stubbing correctly.</p>\n<pre><code>- this invocation of 'convertAndSend' method:\n    jmsTemplate.convertAndSend(\n    &quot;queueA&quot;,\n     Obj(),\n  com.example.JmsTemplateService$$Lambda$383/0x0000000800dd9440@5fb7183b\n);\n    -&gt; at com.example.JmsTemplateService.sendMessage(JmsTemplateService.java:64)\n - has following stubbing(s) with different arguments:\n    1. jmsTemplate.convertAndSend(\n    &quot;queueA&quot;,\n   Obj(),\n   com.example.JmsTemplateServiceTest$$Lambda$382/0x0000000800ddb360@74ad8d05\n);\n</code></pre>\n<p>it seems the last parameter is the actual problem but I don't know how to capture it without mocking the jmsTemplate dependencies too.</p>\n<p>this is the current implementation of the <em>JmsTemplateService.sendMessage(String queue, Obj obj)</em></p>\n<pre><code> public void sendMessage(String queue, Object obj) {\n        \n      try {\n           jmsTemplate.convertAndSend(queue, obj, message -&gt; {\n           //do stuffs before sending the message\n           });\n      }catch (Exception e) {\n       //handle exception\n    }\n</code></pre>\n<p>any hint of what could be wrong in mocking the <em>convertAndSend</em> method?</p>\n<p>Thank you very much for the help!</p>\n"},{"tags":["java","javafx","jfreechart"],"comments":[{"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"score":1,"creation_date":1649042769,"post_id":71730935,"comment_id":126767529,"body_markdown":"Please provide a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) show casing how you are trying to zoom and what you are expecting.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> show casing how you are trying to zoom and what you are expecting."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1649058235,"post_id":71730935,"comment_id":126770628,"body_markdown":"As suggested [here](https://stackoverflow.com/q/70407385/230513),  resampling a fixed-size image will inevitably lead to such artifact. What happens when you make gridlines visible?","body":"As suggested <a href=\"https://stackoverflow.com/q/70407385/230513\">here</a>,  resampling a fixed-size image will inevitably lead to such artifact. What happens when you make gridlines visible?"},{"owner":{"account_id":6984652,"reputation":113,"user_id":5356111,"display_name":"Ibrahim7"},"score":0,"creation_date":1649072659,"post_id":71730935,"comment_id":126775742,"body_markdown":"@trashgod the gridlines can be visualized as usual, but they are the default gridlines. I want them to produce a square shaped grid, and also to have proportions of of 25mm/s and 10mm/mV on my axes (5 large squares for 1 second, 2 large squares for 1 mV). Do you know how can I modify the points where the gridlines are produced?","body":"@trashgod the gridlines can be visualized as usual, but they are the default gridlines. I want them to produce a square shaped grid, and also to have proportions of of 25mm/s and 10mm/mV on my axes (5 large squares for 1 second, 2 large squares for 1 mV). Do you know how can I modify the points where the gridlines are produced?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1649268789,"post_id":71730935,"comment_id":126835590,"body_markdown":"Gridlines follow tick units; your factory uses the default units; you can change them, for  [example](https://stackoverflow.com/q/14054091/230513).","body":"Gridlines follow tick units; your factory uses the default units; you can change them, for  <a href=\"https://stackoverflow.com/q/14054091/230513\">example</a>."}],"owner":{"account_id":6984652,"reputation":113,"user_id":5356111,"display_name":"Ibrahim7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649032738,"creation_date":1649032738,"question_id":71730935,"body_markdown":"I am using JFreeChart library to plot an ECG signal. I&#39;m using the XYLineChart, and this is how it looks currently. [![enter image description here][1]][1]\r\n\r\n\r\nHowever, I want to have a graph paper background, made out of 5x5 squares, like on this picture: \r\n\r\n[![mybackground.jpg][2]][2]\r\n\r\nEach inner small square is 1mm X 1mm, so the bigger squares make up the size of 5mm X 5mm. I want to have a correspondence of 25mm/s and 10mm/mV. This is how I set up the chart:\r\n\r\n    //Declaration of the dataset\r\n\r\n    private XYSeriesCollection dataset = new XYSeriesCollection();\r\n    \r\n    //Dataset will be populated from a txt file in another function called createDataSet\r\n\r\n    createDataSet();\r\n\r\n    //Creation of the chart:\r\n    \r\n        JFreeChart myChart = ChartFactory.createXYLineChart(&quot;ECG&quot;, &quot;Time(ms)&quot;, &quot;Voltage(mV)&quot;, dataset,\r\n    \t\t\t\tPlotOrientation.VERTICAL, false, false, false);\r\n\r\n    //I am using JavaFX so I need to wrap my graph into a ChartPanel and then a SwingNode,\r\n    //and I also want the graph to be zoomable with the mousewheel so I am adding the following lines:\r\n    \r\n                mychartPanel = new ChartPanel(myChart);\r\n    \t\t    mychartPanel.setPreferredSize(new java.awt.Dimension(626, 266));\r\n    \t\t\tmychartPanel.setMouseWheelEnabled(true);\r\n    \t\t\tmychartPanel.setRangeZoomable(true);\r\n    \t\t\tmychartPanel.setDomainZoomable(true);\r\n    \t\t\tmyswingnode.setContent(mychartPanel);\r\n\r\n\r\nWhat I have tried is to set this image as the background with:\r\n\r\n    mybackground = ImageIO.read(new File(&quot;mybackground.jpg&quot;));\r\n    myChart.getPlot().setBackgroundImage(mybackground);\r\n\r\nBut, the image gets blurry and when I zoom, the background is static (i.e. I&#39;m not zooming into the background but just into the lines of the graph).\r\n\r\nWhat I want to ask is, is it possible to change the gridlines of the plot according to my preferences, in order to achieve the desired background? Or is there any other way you suggest?\r\n\r\nI&#39;ve read that the functions\r\n&quot;setTickMarkOutsideLength(int n)&quot; and &quot;setTickMarkInsideLength(int n)&quot; should affect the gridlines, but I&#39;ve seen no change when I used them.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LaZnR.png\r\n  [2]: https://i.stack.imgur.com/GNlgn.jpg","title":"Create a graph paper background in JFreeChart","body":"<p>I am using JFreeChart library to plot an ECG signal. I'm using the XYLineChart, and this is how it looks currently. <a href=\"https://i.stack.imgur.com/LaZnR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LaZnR.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I want to have a graph paper background, made out of 5x5 squares, like on this picture:</p>\n<p><a href=\"https://i.stack.imgur.com/GNlgn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GNlgn.jpg\" alt=\"mybackground.jpg\" /></a></p>\n<p>Each inner small square is 1mm X 1mm, so the bigger squares make up the size of 5mm X 5mm. I want to have a correspondence of 25mm/s and 10mm/mV. This is how I set up the chart:</p>\n<pre><code>//Declaration of the dataset\n\nprivate XYSeriesCollection dataset = new XYSeriesCollection();\n\n//Dataset will be populated from a txt file in another function called createDataSet\n\ncreateDataSet();\n\n//Creation of the chart:\n\n    JFreeChart myChart = ChartFactory.createXYLineChart(&quot;ECG&quot;, &quot;Time(ms)&quot;, &quot;Voltage(mV)&quot;, dataset,\n                PlotOrientation.VERTICAL, false, false, false);\n\n//I am using JavaFX so I need to wrap my graph into a ChartPanel and then a SwingNode,\n//and I also want the graph to be zoomable with the mousewheel so I am adding the following lines:\n\n            mychartPanel = new ChartPanel(myChart);\n            mychartPanel.setPreferredSize(new java.awt.Dimension(626, 266));\n            mychartPanel.setMouseWheelEnabled(true);\n            mychartPanel.setRangeZoomable(true);\n            mychartPanel.setDomainZoomable(true);\n            myswingnode.setContent(mychartPanel);\n</code></pre>\n<p>What I have tried is to set this image as the background with:</p>\n<pre><code>mybackground = ImageIO.read(new File(&quot;mybackground.jpg&quot;));\nmyChart.getPlot().setBackgroundImage(mybackground);\n</code></pre>\n<p>But, the image gets blurry and when I zoom, the background is static (i.e. I'm not zooming into the background but just into the lines of the graph).</p>\n<p>What I want to ask is, is it possible to change the gridlines of the plot according to my preferences, in order to achieve the desired background? Or is there any other way you suggest?</p>\n<p>I've read that the functions\n&quot;setTickMarkOutsideLength(int n)&quot; and &quot;setTickMarkInsideLength(int n)&quot; should affect the gridlines, but I've seen no change when I used them.</p>\n"},{"tags":["java","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":2178256,"reputation":1173,"user_id":1928419,"display_name":"Micha&#235;l COLL"},"score":0,"creation_date":1552488864,"post_id":53080263,"comment_id":97030189,"body_markdown":"I&#39;m really interested in a cleaner way to handle the path in webfilter too.","body":"I&#39;m really interested in a cleaner way to handle the path in webfilter too."}],"answers":[{"tags":[],"owner":{"account_id":2178256,"reputation":1173,"user_id":1928419,"display_name":"Micha&#235;l COLL"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1552490696,"creation_date":1552490696,"answer_id":55145501,"question_id":53080263,"body_markdown":"I&#39;ve, maybe, a cleaner way to address your problem. It&#39;s based on code found in [UrlBasedCorsConfigurationSource][1]. It uses [PathPattern][2] that suits your needs.\r\n\r\n    @Component\r\n    public class AuthenticationFilter implements WebFilter {\r\n        \r\n        private final PathPattern pathPattern;\r\n        \r\n        public AuthenticationFilter() {\r\n            pathPattern = new PathPatternParser().parse(&quot;/api/product&quot;);\r\n        }\r\n\r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\r\n                             WebFilterChain webFilterChain) {\r\n        final ServerHttpRequest request = serverWebExchange.getRequest();\r\n\r\n            if (pathPattern.matches(request.getPath().pathWithinApplication())) {\r\n               // logic to allow or reject the processing of the request\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/cors/reactive/UrlBasedCorsConfigurationSource.java\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/a89e716cc71a8741385a0224b5d7eb7ce009e11a/spring-web/src/main/java/org/springframework/web/util/pattern/PathPattern.java","title":"Spring WebFlux add WebFIlter to match specific paths","body":"<p>I've, maybe, a cleaner way to address your problem. It's based on code found in <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/cors/reactive/UrlBasedCorsConfigurationSource.java\" rel=\"noreferrer\">UrlBasedCorsConfigurationSource</a>. It uses <a href=\"https://github.com/spring-projects/spring-framework/blob/a89e716cc71a8741385a0224b5d7eb7ce009e11a/spring-web/src/main/java/org/springframework/web/util/pattern/PathPattern.java\" rel=\"noreferrer\">PathPattern</a> that suits your needs.</p>\n\n<pre><code>@Component\npublic class AuthenticationFilter implements WebFilter {\n\n    private final PathPattern pathPattern;\n\n    public AuthenticationFilter() {\n        pathPattern = new PathPatternParser().parse(\"/api/product\");\n    }\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\n                         WebFilterChain webFilterChain) {\n    final ServerHttpRequest request = serverWebExchange.getRequest();\n\n        if (pathPattern.matches(request.getPath().pathWithinApplication())) {\n           // logic to allow or reject the processing of the request\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9879511,"reputation":91,"user_id":7316078,"display_name":"Alexandru Bottea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6457,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1649032372,"creation_date":1540978466,"question_id":53080263,"body_markdown":"In the context of a spring boot application, I am trying to add a WebFilter to filter only requests that match a certain path.\r\n\r\nSo far, I have a filter:\r\n\r\n        @Component\r\n        public class AuthenticationFilter implements WebFilter {\r\n    \r\n            @Override\r\n            public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\r\n                                 WebFilterChain webFilterChain) {\r\n            final ServerHttpRequest request = serverWebExchange.getRequest();\r\n        \r\n                if (request.getPath().pathWithinApplication().value().startsWith(&quot;/api/product&quot;)) {\r\n                   // logic to allow or reject the processing of the request\r\n                }\r\n            }\r\n        }\r\n\r\nWhat I am trying to achieve is to remove the path matching from the filter and add it somewhere else more suitable, such as, from what I&#39;ve read so far, a `SecurityWebFilterChain`. \r\n\r\nMany thanks! ","title":"Spring WebFlux add WebFIlter to match specific paths","body":"<p>In the context of a spring boot application, I am trying to add a WebFilter to filter only requests that match a certain path.</p>\n\n<p>So far, I have a filter:</p>\n\n<pre><code>    @Component\n    public class AuthenticationFilter implements WebFilter {\n\n        @Override\n        public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\n                             WebFilterChain webFilterChain) {\n        final ServerHttpRequest request = serverWebExchange.getRequest();\n\n            if (request.getPath().pathWithinApplication().value().startsWith(\"/api/product\")) {\n               // logic to allow or reject the processing of the request\n            }\n        }\n    }\n</code></pre>\n\n<p>What I am trying to achieve is to remove the path matching from the filter and add it somewhere else more suitable, such as, from what I've read so far, a <code>SecurityWebFilterChain</code>. </p>\n\n<p>Many thanks! </p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1473635932,"post_id":39441523,"comment_id":66205388,"body_markdown":"How large is &quot;large&quot;?  More than a million elements?  More than 100 million?","body":"How large is &quot;large&quot;?  More than a million elements?  More than 100 million?"},{"owner":{"account_id":9168523,"reputation":1094,"user_id":6817087,"display_name":"Imbar M."},"score":0,"creation_date":1473636127,"post_id":39441523,"comment_id":66205413,"body_markdown":"if you want to go crazy you can stick three at a time in a &#39;short&#39;. this way you have 1 extra for each 3.","body":"if you want to go crazy you can stick three at a time in a &#39;short&#39;. this way you have 1 extra for each 3."},{"owner":{"account_id":8534126,"reputation":460,"user_id":6396592,"accept_rate":78,"display_name":"Meik Vtune"},"score":0,"creation_date":1473636355,"post_id":39441523,"comment_id":66205459,"body_markdown":"Is the order of elements important?","body":"Is the order of elements important?"},{"owner":{"account_id":946357,"reputation":3558,"user_id":973549,"accept_rate":74,"display_name":"AR89"},"score":1,"creation_date":1473636495,"post_id":39441523,"comment_id":66205487,"body_markdown":"If you don&#39;t know ho big this array will be then you should use a list, otherwise you could run out of memory.\nBy the way I don&#39;t understand your question, if each number is 5 bit you could use either a &#39;byte&#39; array or a &#39;int&#39; array, it won&#39;t make much difference, with an int array you could waste at worst 31 bit, with the byte array only 3 bit.","body":"If you don&#39;t know ho big this array will be then you should use a list, otherwise you could run out of memory. By the way I don&#39;t understand your question, if each number is 5 bit you could use either a &#39;byte&#39; array or a &#39;int&#39; array, it won&#39;t make much difference, with an int array you could waste at worst 31 bit, with the byte array only 3 bit."},{"owner":{"account_id":2849152,"reputation":6709,"user_id":2446698,"accept_rate":60,"display_name":"CodeCamper"},"score":0,"creation_date":1473636587,"post_id":39441523,"comment_id":66205498,"body_markdown":"@MeikVtune Yes, the order is extremely important.","body":"@MeikVtune Yes, the order is extremely important."},{"owner":{"account_id":2849152,"reputation":6709,"user_id":2446698,"accept_rate":60,"display_name":"CodeCamper"},"score":0,"creation_date":1473636718,"post_id":39441523,"comment_id":66205530,"body_markdown":"@markspace 640, 5 bit values per second ever growing. Although eventually I will have to serialize and save this after using 32gb of memory.","body":"@markspace 640, 5 bit values per second ever growing. Although eventually I will have to serialize and save this after using 32gb of memory."},{"owner":{"account_id":2849152,"reputation":6709,"user_id":2446698,"accept_rate":60,"display_name":"CodeCamper"},"score":0,"creation_date":1473636887,"post_id":39441523,"comment_id":66205572,"body_markdown":"@AR89 I would like to waste no bits since this will be an ever growing thing and I want to be as efficient as possible. Each 5 bit value will be a set of instructions for a deterministic simulation. At the same time I don&#39;t want to do string magic that would potentially cause an unnecessary slow down of reading all these values in a loop.","body":"@AR89 I would like to waste no bits since this will be an ever growing thing and I want to be as efficient as possible. Each 5 bit value will be a set of instructions for a deterministic simulation. At the same time I don&#39;t want to do string magic that would potentially cause an unnecessary slow down of reading all these values in a loop."},{"owner":{"account_id":8534126,"reputation":460,"user_id":6396592,"accept_rate":78,"display_name":"Meik Vtune"},"score":0,"creation_date":1473636941,"post_id":39441523,"comment_id":66205581,"body_markdown":"Then I&#39;d use a List where you write the data each minute. Since the List provides a `remove` and `add`, you can always add the new bits within a byte(I&#39;d set the first 3 bit to 0, but that&#39;s up to you) and each minute(interval of your choice) write 640 * 60 entries to wherever you want.","body":"Then I&#39;d use a List where you write the data each minute. Since the List provides a <code>remove</code> and <code>add</code>, you can always add the new bits within a byte(I&#39;d set the first 3 bit to 0, but that&#39;s up to you) and each minute(interval of your choice) write 640 * 60 entries to wherever you want."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1473637031,"post_id":39441523,"comment_id":66205601,"body_markdown":"That&#39;s 400 bytes per second, which is not much.  It works out to 55.3 Mbytes per day though without compression.  You&#39;ll have to create some form of permanent storage. I&#39;d suggest start with one log file per day, keep it simple.  See if that meets your requirements or if you are forced to do more.","body":"That&#39;s 400 bytes per second, which is not much.  It works out to 55.3 Mbytes per day though without compression.  You&#39;ll have to create some form of permanent storage. I&#39;d suggest start with one log file per day, keep it simple.  See if that meets your requirements or if you are forced to do more."},{"owner":{"account_id":946357,"reputation":3558,"user_id":973549,"accept_rate":74,"display_name":"AR89"},"score":0,"creation_date":1473637340,"post_id":39441523,"comment_id":66205652,"body_markdown":"A List would be the safest structure then, if you use a list of &#39;byte&#39; you will waste 3 bit totally.\nLook for a &#39;bit array&#39;, instead of an array it would be a list but you can use the same algorithm.","body":"A List would be the safest structure then, if you use a list of &#39;byte&#39; you will waste 3 bit totally. Look for a &#39;bit array&#39;, instead of an array it would be a list but you can use the same algorithm."},{"owner":{"account_id":2849152,"reputation":6709,"user_id":2446698,"accept_rate":60,"display_name":"CodeCamper"},"score":0,"creation_date":1473637408,"post_id":39441523,"comment_id":66205661,"body_markdown":"@AR89 Wouldn&#39;t I be wasting 3 bits for every value though? Which will add up over time.","body":"@AR89 Wouldn&#39;t I be wasting 3 bits for every value though? Which will add up over time."},{"owner":{"account_id":2849152,"reputation":6709,"user_id":2446698,"accept_rate":60,"display_name":"CodeCamper"},"score":0,"creation_date":1473638034,"post_id":39441523,"comment_id":66205770,"body_markdown":"@ImbarM. better yet why not store it as a long and save even more waste! You should post an answer on an easy way to do this!","body":"@ImbarM. better yet why not store it as a long and save even more waste! You should post an answer on an easy way to do this!"},{"owner":{"account_id":946357,"reputation":3558,"user_id":973549,"accept_rate":74,"display_name":"AR89"},"score":0,"creation_date":1473638116,"post_id":39441523,"comment_id":66205790,"body_markdown":"No, because if you use a &#39;bit array&#39; you will waste only the last bits. Search for it, it&#39;s a very common structure. With a bit array you use only the bits that you need because you insert them using bit operations.","body":"No, because if you use a &#39;bit array&#39; you will waste only the last bits. Search for it, it&#39;s a very common structure. With a bit array you use only the bits that you need because you insert them using bit operations."},{"owner":{"account_id":2849152,"reputation":6709,"user_id":2446698,"accept_rate":60,"display_name":"CodeCamper"},"score":0,"creation_date":1473638257,"post_id":39441523,"comment_id":66205814,"body_markdown":"@AR89 or post it here showing how to put in and take out the 5 bit numbers for processing so I can choose you as the answer!","body":"@AR89 or post it here showing how to put in and take out the 5 bit numbers for processing so I can choose you as the answer!"}],"answers":[{"tags":[],"owner":{"account_id":946357,"reputation":3558,"user_id":973549,"accept_rate":74,"display_name":"AR89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473638916,"creation_date":1473638916,"answer_id":39441837,"question_id":39441523,"body_markdown":"This is the code that I use for a bit array implementation in C, in JAVA it&#39;s going to be the same, I must reconsider what I said about the list, maybe an array is going to be better.\r\n\r\nAnyway, you consider the array as a contiguous segments of bits. Those functions set, get, and read the k-th bit of the array. In this case I&#39;m using an array of integers, so you see &#39;32&#39;, is you use an array of bytes, then you&#39;d use &#39;8&#39;.\r\n    \r\n    void set_bit(int a[], int k)\r\n    {\r\n        int i = k / 32;\r\n        int pos = k % 32;\r\n        unsigned int flag = 1;  // flag = 0000....00001\r\n        flag = flag &lt;&lt; pos;     // flag = 0000...00100..0000\r\n        a[i] = a[i] | flag;     // set the bit at the k-th position in a[i]\r\n    }\r\n\r\n    void clear_bit(int a[], int k)\r\n    {\r\n        int i = k / 32;\r\n        int pos = k % 32;\r\n        unsigned int flag = 1;  // flag = 0000....00001\r\n        flag = flag &lt;&lt; pos;     // flag = 0000...00100..0000\r\n        flag = ~flag;\r\n    \r\n        a[i] = a[i] &amp; flag;     // set the bit at the k-th position in a[i]\r\n    }\r\n\r\n    int test_bit(int a[], int k)\r\n    {\r\n        int i = k / 32;\r\n        int pos = k % 32;\r\n        unsigned int flag = 1;  // flag = 0000....00001\r\n        flag = flag &lt;&lt; pos;     // flag = 0000...00100..0000\r\n     \r\n        if (a[i] &amp; flag)        // test the k-th bit of a to be 1\r\n            return 1;\r\n        else\r\n            return 0;\r\n    }\r\n\r\nI don&#39;t know how you store the five bits number, you&#39;ll have to insert them bit by bit, and also keep track of the last empty position in the bit array.","title":"How to save a large array of 5 bit numbers in Java?","body":"<p>This is the code that I use for a bit array implementation in C, in JAVA it's going to be the same, I must reconsider what I said about the list, maybe an array is going to be better.</p>\n\n<p>Anyway, you consider the array as a contiguous segments of bits. Those functions set, get, and read the k-th bit of the array. In this case I'm using an array of integers, so you see '32', is you use an array of bytes, then you'd use '8'.</p>\n\n<pre><code>void set_bit(int a[], int k)\n{\n    int i = k / 32;\n    int pos = k % 32;\n    unsigned int flag = 1;  // flag = 0000....00001\n    flag = flag &lt;&lt; pos;     // flag = 0000...00100..0000\n    a[i] = a[i] | flag;     // set the bit at the k-th position in a[i]\n}\n\nvoid clear_bit(int a[], int k)\n{\n    int i = k / 32;\n    int pos = k % 32;\n    unsigned int flag = 1;  // flag = 0000....00001\n    flag = flag &lt;&lt; pos;     // flag = 0000...00100..0000\n    flag = ~flag;\n\n    a[i] = a[i] &amp; flag;     // set the bit at the k-th position in a[i]\n}\n\nint test_bit(int a[], int k)\n{\n    int i = k / 32;\n    int pos = k % 32;\n    unsigned int flag = 1;  // flag = 0000....00001\n    flag = flag &lt;&lt; pos;     // flag = 0000...00100..0000\n\n    if (a[i] &amp; flag)        // test the k-th bit of a to be 1\n        return 1;\n    else\n        return 0;\n}\n</code></pre>\n\n<p>I don't know how you store the five bits number, you'll have to insert them bit by bit, and also keep track of the last empty position in the bit array.</p>\n"},{"tags":[],"owner":{"account_id":1592707,"reputation":331,"user_id":1475687,"display_name":"eighthrazz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473693960,"creation_date":1473693960,"answer_id":39453826,"question_id":39441523,"body_markdown":"&gt;&quot;I was thinking of just using an array of bytes but after a while this will   be wasting a lot of memory as this will be a continually growing array.&quot;\r\n\r\nI&#39;ve dealt with a similar problem and decided to write a file based [BitInputStream][1] and a [BitOutputSteam][2]. Therefore running out of memory was no longer an issue. Please note that the given links are not my work but good examples of how to write a bit input/output stream. \r\n\r\n[1]:https://courses.cs.washington.edu/courses/cse143/10au/homework/ass8/BitInputStream.java\r\n[2]:https://courses.cs.washington.edu/courses/cse143/10au/homework/ass8/BitOutputStream.java","title":"How to save a large array of 5 bit numbers in Java?","body":"<blockquote>\n  <p>\"I was thinking of just using an array of bytes but after a while this will   be wasting a lot of memory as this will be a continually growing array.\"</p>\n</blockquote>\n\n<p>I've dealt with a similar problem and decided to write a file based <a href=\"https://courses.cs.washington.edu/courses/cse143/10au/homework/ass8/BitInputStream.java\" rel=\"nofollow\">BitInputStream</a> and a <a href=\"https://courses.cs.washington.edu/courses/cse143/10au/homework/ass8/BitOutputStream.java\" rel=\"nofollow\">BitOutputSteam</a>. Therefore running out of memory was no longer an issue. Please note that the given links are not my work but good examples of how to write a bit input/output stream. </p>\n"},{"tags":[],"owner":{"account_id":9317741,"reputation":430,"user_id":6917530,"display_name":"yeah22"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649030710,"creation_date":1649030710,"answer_id":71730770,"question_id":39441523,"body_markdown":"I wrote an implementation of a 5-bit byte vector on top of an 8-bit byte vector in Javascript some time ago that might be of some help.\r\n\r\n```js\r\nconst ByteVector = require(&#39;bytevector&#39;);\r\n\r\nclass FiveBuffer {\r\n    constructor(buffer = [0], bitsAvailable = 8) {\r\n        this.buf = new ByteVector(buffer);\r\n        this.bitsAvailable = bitsAvailable;\r\n        this.size = Math.floor(((this.byteSize() * 8) - this.bitsAvailable) / 5);\r\n    }\r\n    push(num) {\r\n        if (num &gt; 31 || num &lt; 0)\r\n            throw new Error(`Only 5-bit unsigned integers (${num} not among them) are accepted`);\r\n        var firstShift = 5 - this.bitsAvailable;\r\n        var secondShift = this.bitsAvailable + 3;\r\n        var firstShifted = shiftRight(num, firstShift);\r\n        var backIdx = this.buf.length - 1;\r\n        var back = this.buf.get(backIdx);\r\n        this.buf.set(backIdx, back | firstShifted);\r\n        if (secondShift &lt; 8) {\r\n            var secondShifted = num &lt;&lt; secondShift;\r\n            this.buf.push(secondShifted);\r\n        }\r\n        this.bitsAvailable = secondShift % 8;\r\n        this.size++;\r\n    }\r\n    get(idx) {\r\n        if (idx &gt; this.size)\r\n            throw new Error(`Index ${idx} is out of bounds for FiveBuffer of size ${this.size}`);\r\n        var bitIdx = idx * 5;\r\n        var byteIdx = Math.floor(bitIdx / 8);\r\n        var byte = this.buf.get(byteIdx);\r\n        var bit = bitIdx % 8;\r\n\r\n        var firstShift = 3 - bit;\r\n        var firstShifted = shiftRightDestroy(byte, firstShift);\r\n        var final = firstShifted;\r\n        var secondShift = 11 - bit;\r\n        if (secondShift &lt; 8) {\r\n            var secondShifted = this.buf.get(byteIdx + 1) &gt;&gt; secondShift;\r\n            final = final | secondShifted;\r\n        }\r\n        return final;\r\n    }\r\n    buffer() {\r\n        this.buf.shrink_to_fit();\r\n        return this.buf.buffer();\r\n    }\r\n    debug() {\r\n        var arr = [];\r\n        this.buffer().forEach(x =&gt; arr.push(x.toString(2)));\r\n        console.log(arr);\r\n    }\r\n    byteSize() {\r\n        return this.buf.size();\r\n    }\r\n}\r\n\r\nfunction shiftRightDestroy(num, bits) {\r\n    var left = 3 - bits;\r\n    var res = (left &gt; 0) ? ((num &lt;&lt; left) % 256) &gt;&gt; left : num;\r\n    return shiftRight(res, bits);\r\n}\r\n\r\nfunction shiftRight(num, bits) {\r\n    return (bits &lt; 0) ?\r\n        num &lt;&lt; -bits :\r\n        num &gt;&gt; bits;\r\n}\r\n\r\nmodule.exports = FiveBuffer;\r\n```","title":"How to save a large array of 5 bit numbers in Java?","body":"<p>I wrote an implementation of a 5-bit byte vector on top of an 8-bit byte vector in Javascript some time ago that might be of some help.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const ByteVector = require('bytevector');\n\nclass FiveBuffer {\n    constructor(buffer = [0], bitsAvailable = 8) {\n        this.buf = new ByteVector(buffer);\n        this.bitsAvailable = bitsAvailable;\n        this.size = Math.floor(((this.byteSize() * 8) - this.bitsAvailable) / 5);\n    }\n    push(num) {\n        if (num &gt; 31 || num &lt; 0)\n            throw new Error(`Only 5-bit unsigned integers (${num} not among them) are accepted`);\n        var firstShift = 5 - this.bitsAvailable;\n        var secondShift = this.bitsAvailable + 3;\n        var firstShifted = shiftRight(num, firstShift);\n        var backIdx = this.buf.length - 1;\n        var back = this.buf.get(backIdx);\n        this.buf.set(backIdx, back | firstShifted);\n        if (secondShift &lt; 8) {\n            var secondShifted = num &lt;&lt; secondShift;\n            this.buf.push(secondShifted);\n        }\n        this.bitsAvailable = secondShift % 8;\n        this.size++;\n    }\n    get(idx) {\n        if (idx &gt; this.size)\n            throw new Error(`Index ${idx} is out of bounds for FiveBuffer of size ${this.size}`);\n        var bitIdx = idx * 5;\n        var byteIdx = Math.floor(bitIdx / 8);\n        var byte = this.buf.get(byteIdx);\n        var bit = bitIdx % 8;\n\n        var firstShift = 3 - bit;\n        var firstShifted = shiftRightDestroy(byte, firstShift);\n        var final = firstShifted;\n        var secondShift = 11 - bit;\n        if (secondShift &lt; 8) {\n            var secondShifted = this.buf.get(byteIdx + 1) &gt;&gt; secondShift;\n            final = final | secondShifted;\n        }\n        return final;\n    }\n    buffer() {\n        this.buf.shrink_to_fit();\n        return this.buf.buffer();\n    }\n    debug() {\n        var arr = [];\n        this.buffer().forEach(x =&gt; arr.push(x.toString(2)));\n        console.log(arr);\n    }\n    byteSize() {\n        return this.buf.size();\n    }\n}\n\nfunction shiftRightDestroy(num, bits) {\n    var left = 3 - bits;\n    var res = (left &gt; 0) ? ((num &lt;&lt; left) % 256) &gt;&gt; left : num;\n    return shiftRight(res, bits);\n}\n\nfunction shiftRight(num, bits) {\n    return (bits &lt; 0) ?\n        num &lt;&lt; -bits :\n        num &gt;&gt; bits;\n}\n\nmodule.exports = FiveBuffer;\n</code></pre>\n"}],"owner":{"account_id":2849152,"reputation":6709,"user_id":2446698,"accept_rate":60,"display_name":"CodeCamper"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649030710,"creation_date":1473635539,"question_id":39441523,"body_markdown":"How to efficiently save and access a large array of 5 bit numbers in memory?\r\n\r\nFor example\r\n01100\r\n01101\r\n01110\r\n01111\r\n10000\r\n10001\r\n\r\nwhich I will later convert to a byte to check what number it is?\r\n\r\nI was thinking of just using an array of bytes but after a while this will be wasting a lot of memory as this will be a continually growing array. Also I will want to save this array efficiently. I will only be using exactly 5 bits.","title":"How to save a large array of 5 bit numbers in Java?","body":"<p>How to efficiently save and access a large array of 5 bit numbers in memory?</p>\n\n<p>For example\n01100\n01101\n01110\n01111\n10000\n10001</p>\n\n<p>which I will later convert to a byte to check what number it is?</p>\n\n<p>I was thinking of just using an array of bytes but after a while this will be wasting a lot of memory as this will be a continually growing array. Also I will want to save this array efficiently. I will only be using exactly 5 bits.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649001633,"post_id":71727231,"comment_id":126760214,"body_markdown":"“javax” is not a product, and has no version. See [*javax vs java package*](https://stackoverflow.com/q/727844/642706) and the [tutorial by Oracle](https://docs.oracle.com/javase/tutorial/java/package/index.html).","body":"“javax” is not a product, and has no version. See <a href=\"https://stackoverflow.com/q/727844/642706\"><i>javax vs java package</i></a> and the <a href=\"https://docs.oracle.com/javase/tutorial/java/package/index.html\" rel=\"nofollow noreferrer\">tutorial by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649027232,"creation_date":1649001731,"answer_id":71727591,"question_id":71727231,"body_markdown":"There is no such thing as a &quot;javax version&quot;.  You have misread the page you linked to.  What it actually says is:\r\n\r\n&gt; Note: Use of the following `XMLConstants` requires **JAXP 1.5**, which was added to Java in 7u40 and Java 8:\r\n\r\nJAXP != javax\r\n\r\nJAXP 1.5 actually refers to a specification.  And as stated in the text I just quoted, Java 8 supports the relevant features of the JAXP 1.5 specification.\r\n\r\n------------------------\r\n\r\nSo if you want to use the constants listed in the OWASP cheatsheet, you need to **build** your code for Java 7u40 or Java 8 or later, and run it on a JVM that provides a JAXP 1.5 or later implementation.\r\n\r\n(In fact Java 8 supports JAXP 1.6 ... according to https://docs.oracle.com/javase/8/docs/technotes/guides/xml/jaxp/index.html)\r\n\r\n------------------------\r\n\r\nIf you are getting runtime errors saying that the those properties are not supported, that implies that you have configured your application to use an XML implementation (provider) that doesn&#39;t support JAXP 1.5.   But you haven&#39;t said anything about that ...\r\n\r\nIt is possible that these Q&amp;As are relevant:\r\n\r\n  - https://stackoverflow.com/questions/1798366\r\n  - https://stackoverflow.com/questions/21827340\r\n\r\n","title":"How to find the jaxp version used in any JDK?","body":"<p>There is no such thing as a &quot;javax version&quot;.  You have misread the page you linked to.  What it actually says is:</p>\n<blockquote>\n<p>Note: Use of the following <code>XMLConstants</code> requires <strong>JAXP 1.5</strong>, which was added to Java in 7u40 and Java 8:</p>\n</blockquote>\n<p>JAXP != javax</p>\n<p>JAXP 1.5 actually refers to a specification.  And as stated in the text I just quoted, Java 8 supports the relevant features of the JAXP 1.5 specification.</p>\n<hr />\n<p>So if you want to use the constants listed in the OWASP cheatsheet, you need to <strong>build</strong> your code for Java 7u40 or Java 8 or later, and run it on a JVM that provides a JAXP 1.5 or later implementation.</p>\n<p>(In fact Java 8 supports JAXP 1.6 ... according to <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/xml/jaxp/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/xml/jaxp/index.html</a>)</p>\n<hr />\n<p>If you are getting runtime errors saying that the those properties are not supported, that implies that you have configured your application to use an XML implementation (provider) that doesn't support JAXP 1.5.   But you haven't said anything about that ...</p>\n<p>It is possible that these Q&amp;As are relevant:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1798366\">How do I find out which JAXP implementation is in use and where it was loaded from?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/21827340\">Missing JAXP 1.5 support in Xerces - possible workarounds?</a></li>\n</ul>\n"}],"owner":{"account_id":22499494,"reputation":29,"user_id":16696001,"display_name":"Kamalashree Sundar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1649001882,"accepted_answer_id":71727591,"answer_count":1,"score":-1,"last_activity_date":1649027232,"creation_date":1648999147,"question_id":71727231,"body_markdown":"Currently am using JDK 1.8. Need to know what is jaxp version available. To avoid sonar violation , trying set below properties , resulting in &quot;org.xml.sax.SAXNotRecognizedException: Property &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized.&quot;\r\n\t\t\tSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n\t\t\tschemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n\t\t\tschemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\nreferring below \r\nhttps://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#schemafactory\r\nalso checked many blogs stating jaxp version 1.5 above should support is the information found .\r\nAny suggesting will help me to debug more . ","title":"How to find the jaxp version used in any JDK?","body":"<p>Currently am using JDK 1.8. Need to know what is jaxp version available. To avoid sonar violation , trying set below properties , resulting in &quot;org.xml.sax.SAXNotRecognizedException: Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.&quot;\nSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\nschemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nschemaFactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\nreferring below\n<a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#schemafactory\" rel=\"nofollow noreferrer\">https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html#schemafactory</a>\nalso checked many blogs stating jaxp version 1.5 above should support is the information found .\nAny suggesting will help me to debug more .</p>\n"},{"tags":["java","arrays","algorithm","recursion","divide-and-conquer"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1649011439,"post_id":71728864,"comment_id":126762523,"body_markdown":"If you step through this with your debugger, you&#39;ll see immediately what&#39;s going on - you&#39;re comparing the first half of `a` with the first half of `b`, instead of the second half, and vice versa.","body":"If you step through this with your debugger, you&#39;ll see immediately what&#39;s going on - you&#39;re comparing the first half of <code>a</code> with the first half of <code>b</code>, instead of the second half, and vice versa."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649027221,"creation_date":1649016085,"answer_id":71729431,"question_id":71728864,"body_markdown":"There&#39;s a couple of issues in your solution:\r\n\r\n* The **base case** has a logical flaw in it. The return value represents the result of comparison `a[start] == b[end]` when indices are equal. Which isn&#39;t the correct way to validate whether the one *array* is a *reversed copy* of another. Let&#39;s consider the *two arrays* `a = [1, 2, 3]` and `b = [3, 2, 1]`. We have to check whether `a[0] == b[2]`, `a[1] == b[1]` and `a[2] == b[0]`. As you can see the case when indices are equal take place ***only once*** and only if the length is odd, if the length is even indices in all pair of elements will be different.\r\n\r\n* The second issue is the overall approach that you&#39;ve taken. For this problem, we have to check all pairs of values. The divide and conquer approach is fruitless here because we can&#39;t reduce the amount of operations, in the worst case every pair of values needs to be compared.\r\n\r\nI suggest addressing this problem with **backtracking** by simply moving the indices of both arrays by `1` at each method call, *without utilizing the divide and conquer* because we can&#39;t benefit from it.\r\n\r\nFirst, let&#39;s fix the **base case** of recursion. \r\n\r\nThere are two cases when recursion should terminate: when values in the pair don&#39;t match and the last valid index has been reached.\r\n\r\nThe condition for the first case, when values that correspond to the current indices are not equal, will look that:\r\n```\r\nif (a[start] != b[end]) return false;\r\n```\r\nAnd the second part might be written like that:\r\n```\r\nif (start == a.length - 1) return a[start] == b[end];\r\n```\r\nor\r\n```\r\nif (start == a.length - 1) return true;\r\n```\r\nThe meaning of both is almost the same - we&#39;ve managed to compare all the pair of values (*or the last pair is being compared*). The first version is slightly better, it&#39;ll spare one method call.\r\n\r\nIn the **recursive case**, we are simply calling the method by passing the `start` incremented by `1` and the `end` decremented by `1`.\r\n\r\n    private static boolean isReverse(int[] a, int[] b, int start, int end) {\r\n        if (start == a.length - 1) {\r\n            return a[start] == b[end];\r\n        }\r\n        if (a[start] != b[end]) {\r\n            return false;\r\n        }\r\n\r\n        return isReverse(a, b, start + 1, end - 1);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        int[] a = {1, 2, 3, 4, 5, 6};\r\n        int[] b = {6, 5, 4, 3, 2, 1};\r\n        int[] c = {1, 2, 3, 4, 5, 6, 7};\r\n        int[] d = {6, 5, 5, 3, 2, 1};\r\n        System.out.println(isReverse(a, b)); // Should return true, returns false\r\n        System.out.println(isReverse(a, c)); // Should return false, returns false\r\n        System.out.println(isReverse(a, d)); // Should return false, returns false\r\n    }\r\n\r\n**Output**\r\n```\r\ntrue\r\nfalse\r\nfalse\r\n```\r\n________________________________________________\r\n&lt;h3&gt;Fix for the initial divide and conquer version&lt;/h3&gt;\r\n\r\nAs I&#39;ve said earlier, the problem resides in the **base case**. Instead of comparing the elements at the same position `a[start] == b[end]` (when `start` equals to `end` it will not make sense), we need to adjust the `end` index:\r\n\r\n        if (start == end) {\r\n            return a[start] == b[(b.length - 1) - end];\r\n        }\r\n\r\nThat&#39;s the only change that needs to be applied to the original code listed in the question.","title":"Checking whether an Array equals another Array Backwards using divide and conquer","body":"<p>There's a couple of issues in your solution:</p>\n<ul>\n<li><p>The <strong>base case</strong> has a logical flaw in it. The return value represents the result of comparison <code>a[start] == b[end]</code> when indices are equal. Which isn't the correct way to validate whether the one <em>array</em> is a <em>reversed copy</em> of another. Let's consider the <em>two arrays</em> <code>a = [1, 2, 3]</code> and <code>b = [3, 2, 1]</code>. We have to check whether <code>a[0] == b[2]</code>, <code>a[1] == b[1]</code> and <code>a[2] == b[0]</code>. As you can see the case when indices are equal take place <em><strong>only once</strong></em> and only if the length is odd, if the length is even indices in all pair of elements will be different.</p>\n</li>\n<li><p>The second issue is the overall approach that you've taken. For this problem, we have to check all pairs of values. The divide and conquer approach is fruitless here because we can't reduce the amount of operations, in the worst case every pair of values needs to be compared.</p>\n</li>\n</ul>\n<p>I suggest addressing this problem with <strong>backtracking</strong> by simply moving the indices of both arrays by <code>1</code> at each method call, <em>without utilizing the divide and conquer</em> because we can't benefit from it.</p>\n<p>First, let's fix the <strong>base case</strong> of recursion.</p>\n<p>There are two cases when recursion should terminate: when values in the pair don't match and the last valid index has been reached.</p>\n<p>The condition for the first case, when values that correspond to the current indices are not equal, will look that:</p>\n<pre><code>if (a[start] != b[end]) return false;\n</code></pre>\n<p>And the second part might be written like that:</p>\n<pre><code>if (start == a.length - 1) return a[start] == b[end];\n</code></pre>\n<p>or</p>\n<pre><code>if (start == a.length - 1) return true;\n</code></pre>\n<p>The meaning of both is almost the same - we've managed to compare all the pair of values (<em>or the last pair is being compared</em>). The first version is slightly better, it'll spare one method call.</p>\n<p>In the <strong>recursive case</strong>, we are simply calling the method by passing the <code>start</code> incremented by <code>1</code> and the <code>end</code> decremented by <code>1</code>.</p>\n<pre><code>private static boolean isReverse(int[] a, int[] b, int start, int end) {\n    if (start == a.length - 1) {\n        return a[start] == b[end];\n    }\n    if (a[start] != b[end]) {\n        return false;\n    }\n\n    return isReverse(a, b, start + 1, end - 1);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    int[] a = {1, 2, 3, 4, 5, 6};\n    int[] b = {6, 5, 4, 3, 2, 1};\n    int[] c = {1, 2, 3, 4, 5, 6, 7};\n    int[] d = {6, 5, 5, 3, 2, 1};\n    System.out.println(isReverse(a, b)); // Should return true, returns false\n    System.out.println(isReverse(a, c)); // Should return false, returns false\n    System.out.println(isReverse(a, d)); // Should return false, returns false\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>true\nfalse\nfalse\n</code></pre>\n<hr />\n<h3>Fix for the initial divide and conquer version</h3>\n<p>As I've said earlier, the problem resides in the <strong>base case</strong>. Instead of comparing the elements at the same position <code>a[start] == b[end]</code> (when <code>start</code> equals to <code>end</code> it will not make sense), we need to adjust the <code>end</code> index:</p>\n<pre><code>    if (start == end) {\n        return a[start] == b[(b.length - 1) - end];\n    }\n</code></pre>\n<p>That's the only change that needs to be applied to the original code listed in the question.</p>\n"}],"owner":{"account_id":24569711,"reputation":75,"user_id":18679733,"display_name":"AWDn0n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71729431,"answer_count":1,"score":1,"last_activity_date":1649027221,"creation_date":1649011156,"question_id":71728864,"body_markdown":"I&#39;ve been trying to make a simple function which checks if an **array** is the same as another **array reversed**. \r\n\r\nFor instance, comparing `[0, 1, 2]` and [2, 1, 0] would return `true`, but comparing `[0, 1, 2]` and `[2, 1, 1]` would return `false`. \r\n\r\nI am also trying to use the divide and conquer method, using function recursively. \r\n\r\nThis is what I have coded, but it doesn&#39;t work as intended, returning `false` when it should return `true`:\r\n\r\n```\r\npublic class ReverseCheck {\r\n\r\n    // Check if an array is the reverse of another array\r\n    // Use divide and conquer\r\n    public static boolean isReverse(int[] a, int[] b) {\r\n        if (a.length != b.length) {\r\n            return false;\r\n        }\r\n        return isReverse(a, b, 0, a.length - 1);\r\n    }\r\n\r\n    private static boolean isReverse(int[] a, int[] b, int start, int end) {\r\n        if (start == end) {\r\n            return a[start] == b[end];\r\n        }\r\n        int mid = (start + end) / 2;\r\n        return isReverse(a, b, start, mid) &amp;&amp; isReverse(a, b, mid + 1, end);\r\n    }\r\n\r\n    public static void main (String[] args) {\r\n        int[] a = {1, 2, 3, 4, 5, 6};\r\n        int[] b = {6, 5, 4, 3, 2, 1};\r\n        int[] c = {1, 2, 3, 4, 5, 6, 7};\r\n        int[] d = {6, 5, 5, 3, 2, 1};\r\n        System.out.println(isReverse(a, b)); // Should return true, returns false\r\n        System.out.println(isReverse(a, c)); // Should return false, returns false\r\n        System.out.println(isReverse(a, d)); // Should return false, returns false\r\n    }\r\n\r\n}","title":"Checking whether an Array equals another Array Backwards using divide and conquer","body":"<p>I've been trying to make a simple function which checks if an <strong>array</strong> is the same as another <strong>array reversed</strong>.</p>\n<p>For instance, comparing <code>[0, 1, 2]</code> and [2, 1, 0] would return <code>true</code>, but comparing <code>[0, 1, 2]</code> and <code>[2, 1, 1]</code> would return <code>false</code>.</p>\n<p>I am also trying to use the divide and conquer method, using function recursively.</p>\n<p>This is what I have coded, but it doesn't work as intended, returning <code>false</code> when it should return <code>true</code>:</p>\n<pre><code>public class ReverseCheck {\n\n    // Check if an array is the reverse of another array\n    // Use divide and conquer\n    public static boolean isReverse(int[] a, int[] b) {\n        if (a.length != b.length) {\n            return false;\n        }\n        return isReverse(a, b, 0, a.length - 1);\n    }\n\n    private static boolean isReverse(int[] a, int[] b, int start, int end) {\n        if (start == end) {\n            return a[start] == b[end];\n        }\n        int mid = (start + end) / 2;\n        return isReverse(a, b, start, mid) &amp;&amp; isReverse(a, b, mid + 1, end);\n    }\n\n    public static void main (String[] args) {\n        int[] a = {1, 2, 3, 4, 5, 6};\n        int[] b = {6, 5, 4, 3, 2, 1};\n        int[] c = {1, 2, 3, 4, 5, 6, 7};\n        int[] d = {6, 5, 5, 3, 2, 1};\n        System.out.println(isReverse(a, b)); // Should return true, returns false\n        System.out.println(isReverse(a, c)); // Should return false, returns false\n        System.out.println(isReverse(a, d)); // Should return false, returns false\n    }\n\n}\n</code></pre>\n"},{"tags":["java","random","seeding"],"comments":[{"owner":{"account_id":4528908,"reputation":43,"user_id":4608137,"display_name":"QuyNguyen2013"},"score":3,"creation_date":1552519308,"post_id":55152584,"comment_id":97045597,"body_markdown":"Try using the nextboolean method in Random.","body":"Try using the nextboolean method in Random."},{"owner":{"account_id":1233122,"reputation":3934,"user_id":1197297,"accept_rate":67,"display_name":"StvnBrkdll"},"score":0,"creation_date":1552521213,"post_id":55152584,"comment_id":97046070,"body_markdown":"@QuyNguyen2013 suggestion works","body":"@QuyNguyen2013 suggestion works"},{"owner":{"account_id":15524782,"reputation":31,"user_id":11199949,"display_name":"Boog"},"score":0,"creation_date":1552521573,"post_id":55152584,"comment_id":97046171,"body_markdown":"That does work in the sense that it generates a series of random heads or tails, however my issue is that this program is autograded meaning the system needs a specific random sequence (which is just ridiculous to me). My program did what it should in the first place, just not the exact sequence the grading program wants. As the directions said, seeding with 2 should solve this but I&#39;m still getting a different sequence.","body":"That does work in the sense that it generates a series of random heads or tails, however my issue is that this program is autograded meaning the system needs a specific random sequence (which is just ridiculous to me). My program did what it should in the first place, just not the exact sequence the grading program wants. As the directions said, seeding with 2 should solve this but I&#39;m still getting a different sequence."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1552523330,"post_id":55152584,"comment_id":97046620,"body_markdown":"?? Keep looping until expected output equals actual output","body":"?? Keep looping until expected output equals actual output"},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1552540303,"post_id":55152584,"comment_id":97050423,"body_markdown":"Your instructor hinted to use `rand.nextInt()`, and didn&#39;t specify any arguments, so I don&#39;t think `nextBoolean()` is the proper approach.  Try changing your test from `if (rand.nextInt(2) == 0)` to one of `if ((rand.nextInt() % 2) == 0)` or `if ((rand.nextInt() &amp; 1) == 0)`.  Both worked for me for your test case of 3.","body":"Your instructor hinted to use <code>rand.nextInt()</code>, and didn&#39;t specify any arguments, so I don&#39;t think <code>nextBoolean()</code> is the proper approach.  Try changing your test from <code>if (rand.nextInt(2) == 0)</code> to one of <code>if ((rand.nextInt() % 2) == 0)</code> or <code>if ((rand.nextInt() &amp; 1) == 0)</code>.  Both worked for me for your test case of 3."}],"answers":[{"tags":[],"owner":{"account_id":17141206,"reputation":11,"user_id":12405169,"display_name":"Eduardo Moreno C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574266903,"creation_date":1574266246,"answer_id":58958759,"question_id":55152584,"body_markdown":"I had the same answer as you and got 10/10, the only difference is that I added an else Statement after the if; \r\n\r\n```\r\npublic static String headsOrTails(Random rand){\r\n      String coinFlip; // no need to &quot;initialize&quot; as it is definitely assigned just below\r\n      \r\n      if (rand.nextInt(2) == 0)\r\n         coinFlip = &quot;heads&quot;;\r\n      else  // Added code\r\n         coinFlip = &quot;tails&quot;;\r\n         \r\n   return coinFlip;\r\n   }\r\n```","title":"Stuck trying to use Random object for my Intro to Computer Programming with Java homework","body":"<p>I had the same answer as you and got 10/10, the only difference is that I added an else Statement after the if; </p>\n\n<pre><code>public static String headsOrTails(Random rand){\n      String coinFlip; // no need to \"initialize\" as it is definitely assigned just below\n\n      if (rand.nextInt(2) == 0)\n         coinFlip = \"heads\";\n      else  // Added code\n         coinFlip = \"tails\";\n\n   return coinFlip;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22868206,"reputation":1,"user_id":17011650,"display_name":"Princess Pony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649026696,"creation_date":1649026696,"answer_id":71730476,"question_id":55152584,"body_markdown":"This should work\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Random;\r\n\r\n    public class LabProgram {\r\n   \r\n    public static String headsOrTails(Random rand) {\r\n       String coinflip = &quot;tails&quot;;\r\n      if (rand.nextInt(2) == 0) {\r\n         coinflip = &quot;heads&quot;;\r\n         }\r\n      return coinflip;\r\n    }\r\n    public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      Random rand = new Random(2);\r\n      int choice = scnr.nextInt();\r\n      for (int i = 0; i &lt; choice; i++) {\r\n         System.out.println(headsOrTails(rand));\r\n      }\r\n    }\r\n    }","title":"Stuck trying to use Random object for my Intro to Computer Programming with Java homework","body":"<p>This should work</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class LabProgram {\n\npublic static String headsOrTails(Random rand) {\n   String coinflip = &quot;tails&quot;;\n  if (rand.nextInt(2) == 0) {\n     coinflip = &quot;heads&quot;;\n     }\n  return coinflip;\n}\npublic static void main(String[] args) {\n  Scanner scnr = new Scanner(System.in);\n  Random rand = new Random(2);\n  int choice = scnr.nextInt();\n  for (int i = 0; i &lt; choice; i++) {\n     System.out.println(headsOrTails(rand));\n  }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":15524782,"reputation":31,"user_id":11199949,"display_name":"Boog"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7575,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1649026696,"creation_date":1552519054,"question_id":55152584,"body_markdown":"Briefly, I have textbook lab assignments for this class and I&#39;m currently doing a module on objects. This lab has me using a random number generator but due to auto grading it needs repeatability. It does this by seeding with 2 but I can&#39;t seem to get what the lab wants even though my program functions exactly the way it should under normal circumstances. Here&#39;s the directions and my code:\r\n\r\nWrite a program that simulates flipping a coin to make decisions. The input is how many decisions are needed, and the output is either heads or tails. Assume the input is a value greater than 0.\r\n\r\nEx: If the input is 3, the output is:\r\n\r\n    tails \r\n    heads\r\n    heads\r\n\r\n\r\n\r\nFor reproducibility needed for auto-grading, seed the program with a value of 2. In a real program, you would seed with the current time. In that case, every program&#39;s output would be different, which is what is desired but can&#39;t be auto-graded.\r\n\r\nNote: A common student mistake is to create an instance of Random before each call to rand.nextInt(). But seeding should only be done once, at the start of the program, after which rand.nextInt() can be called any number of times.\r\n\r\nYour program must define and call the following method that returns &quot;heads&quot; or &quot;tails&quot;.\r\n\r\n    public static String HeadsOrTails(Random rand)\r\n\r\nAnd here&#39;s what I have so far:\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Random;\r\n    \r\n    public class LabProgram {\r\n       \r\n       public static String HeadsOrTails(Random rand) {\r\n          String coinFlipVal = &quot;tails&quot;;\r\n          \r\n          if (rand.nextInt(2) == 0) {\r\n             coinFlipVal = &quot;heads&quot;;\r\n             }\r\n             \r\n          return coinFlipVal;\r\n       }\r\n       \r\n       public static void main(String[] args) {\r\n          Scanner key = new Scanner(System.in);\r\n          Random randGen = new Random(2); // Unique seed\r\n          int iDecisions = key.nextInt();\r\n          \r\n          for (int i = 0; i &lt; iDecisions; i++) {\r\n             System.out.println(HeadsOrTails(randGen));\r\n          }\r\n       }\r\n    }\r\n\r\nThis does exactly what it&#39;s supposed in that it yields a random set of heads or tails results for however many iterations I want but not in the order that the program is looking for. I&#39;ve played with my if statement, setting it to 1 instead of zero, using an else if statement for tails and declaring coinFlipVal as &quot;&quot;, etc. I just don&#39;t know how to get what they&#39;re looking for. Any help as to what I&#39;m overlooking is greatly appreciated. And here is the submission results (which gives what the program expects from the output):\r\n\r\n1: Compare output\r\n0 / 2\r\nOutput differs. See highlights below.\r\nInput:\r\n\r\n    3\r\n\r\nYour output\r\n\r\n    tails\r\n    heads\r\n    tails\r\n\r\nExpected output\r\n\r\n    tails\r\n    heads\r\n    heads\r\n\r\n2: Unit test\r\n2 / 2\r\nHeadsOrTails() input `1`\r\n\r\nYour output: \r\n\r\n    HeadsOrTails() with input 1 correctly returned:\r\n    tails\r\n\r\n3: Unit test\r\n0 / 3\r\nHeadsOrTails() input `5`\r\n\r\nYour output:\r\n\r\n    HeadsOrTails() with input 5 incorrectly returned:\r\n    tails\r\n    heads\r\n    tails\r\n    heads\r\n    heads\r\n\r\n4: Unit test\r\n0 / 3\r\nHeadsOrTails() input `10`\r\n\r\nYour output:\r\n\r\n    HeadsOrTails() with input 10 incorrectly returned:\r\n    tails\r\n    heads\r\n    tails\r\n    heads\r\n    heads\r\n    tails\r\n    tails\r\n    heads\r\n    tails\r\n    tails","title":"Stuck trying to use Random object for my Intro to Computer Programming with Java homework","body":"<p>Briefly, I have textbook lab assignments for this class and I'm currently doing a module on objects. This lab has me using a random number generator but due to auto grading it needs repeatability. It does this by seeding with 2 but I can't seem to get what the lab wants even though my program functions exactly the way it should under normal circumstances. Here's the directions and my code:</p>\n\n<p>Write a program that simulates flipping a coin to make decisions. The input is how many decisions are needed, and the output is either heads or tails. Assume the input is a value greater than 0.</p>\n\n<p>Ex: If the input is 3, the output is:</p>\n\n<pre><code>tails \nheads\nheads\n</code></pre>\n\n<p>For reproducibility needed for auto-grading, seed the program with a value of 2. In a real program, you would seed with the current time. In that case, every program's output would be different, which is what is desired but can't be auto-graded.</p>\n\n<p>Note: A common student mistake is to create an instance of Random before each call to rand.nextInt(). But seeding should only be done once, at the start of the program, after which rand.nextInt() can be called any number of times.</p>\n\n<p>Your program must define and call the following method that returns \"heads\" or \"tails\".</p>\n\n<pre><code>public static String HeadsOrTails(Random rand)\n</code></pre>\n\n<p>And here's what I have so far:</p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class LabProgram {\n\n   public static String HeadsOrTails(Random rand) {\n      String coinFlipVal = \"tails\";\n\n      if (rand.nextInt(2) == 0) {\n         coinFlipVal = \"heads\";\n         }\n\n      return coinFlipVal;\n   }\n\n   public static void main(String[] args) {\n      Scanner key = new Scanner(System.in);\n      Random randGen = new Random(2); // Unique seed\n      int iDecisions = key.nextInt();\n\n      for (int i = 0; i &lt; iDecisions; i++) {\n         System.out.println(HeadsOrTails(randGen));\n      }\n   }\n}\n</code></pre>\n\n<p>This does exactly what it's supposed in that it yields a random set of heads or tails results for however many iterations I want but not in the order that the program is looking for. I've played with my if statement, setting it to 1 instead of zero, using an else if statement for tails and declaring coinFlipVal as \"\", etc. I just don't know how to get what they're looking for. Any help as to what I'm overlooking is greatly appreciated. And here is the submission results (which gives what the program expects from the output):</p>\n\n<p>1: Compare output\n0 / 2\nOutput differs. See highlights below.\nInput:</p>\n\n<pre><code>3\n</code></pre>\n\n<p>Your output</p>\n\n<pre><code>tails\nheads\ntails\n</code></pre>\n\n<p>Expected output</p>\n\n<pre><code>tails\nheads\nheads\n</code></pre>\n\n<p>2: Unit test\n2 / 2\nHeadsOrTails() input <code>1</code></p>\n\n<p>Your output: </p>\n\n<pre><code>HeadsOrTails() with input 1 correctly returned:\ntails\n</code></pre>\n\n<p>3: Unit test\n0 / 3\nHeadsOrTails() input <code>5</code></p>\n\n<p>Your output:</p>\n\n<pre><code>HeadsOrTails() with input 5 incorrectly returned:\ntails\nheads\ntails\nheads\nheads\n</code></pre>\n\n<p>4: Unit test\n0 / 3\nHeadsOrTails() input <code>10</code></p>\n\n<p>Your output:</p>\n\n<pre><code>HeadsOrTails() with input 10 incorrectly returned:\ntails\nheads\ntails\nheads\nheads\ntails\ntails\nheads\ntails\ntails\n</code></pre>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648960381,"post_id":71722967,"comment_id":126752936,"body_markdown":"There isn&#39;t any standard component in the Swing library which does this.  SwingX &quot;might&quot; have something simular.  I just a rough concept, took about 20 minutes, really should use a `ListModel` and some kind of component factory, but the basic concept works, you might want to give it a try","body":"There isn&#39;t any standard component in the Swing library which does this.  SwingX &quot;might&quot; have something simular.  I just a rough concept, took about 20 minutes, really should use a <code>ListModel</code> and some kind of component factory, but the basic concept works, you might want to give it a try"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1648960791,"post_id":71722967,"comment_id":126752989,"body_markdown":"[`JXCollapsiblePane`](https://github.com/cuba-platform/swingx-core/blob/master/src/main/java/org/jdesktop/swingx/JXCollapsiblePane.java)","body":"<a href=\"https://github.com/cuba-platform/swingx-core/blob/master/src/main/java/org/jdesktop/swingx/JXCollapsiblePane.java\" rel=\"nofollow noreferrer\"><code>JXCollapsiblePane</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648965467,"creation_date":1648965467,"answer_id":71723368,"question_id":71722967,"body_markdown":"A `JMenu` may be appropriate. Here is a small app that demonstrates.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JMenu;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JMenuItem;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.event.PopupMenuEvent;\r\nimport javax.swing.event.PopupMenuListener;\r\n\r\npublic class MenuTest {\r\n\r\n\tprivate JPanel createButton() {\r\n\t\tJPanel panel = new JPanel();\r\n\t\tJMenu menu = new JMenu(&quot;George  \\u25B6&quot;);\r\n\t\tmenu.setBorder(BorderFactory.createLineBorder(Color.black));\r\n\t\tmenu.getPopupMenu().addPopupMenuListener(new PopupMenuListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void popupMenuWillBecomeVisible(PopupMenuEvent e) {\r\n\t\t\t\tmenu.setText(&quot;George  \\u25BC&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void popupMenuWillBecomeInvisible(PopupMenuEvent e) {\r\n\t\t\t\tmenu.setText(&quot;George  \\u25B6&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void popupMenuCanceled(PopupMenuEvent e) {\r\n\t\t\t\t// Do nothing.\r\n\t\t\t}\r\n\t\t});\r\n\t\tJMenuItem first = new JMenuItem(&quot;Best&quot;);\r\n\t\tmenu.add(first);\r\n\t\tJMenuItem second = new JMenuItem(&quot;Northern&quot;);\r\n\t\tmenu.add(second);\r\n\t\tJMenuItem last = new JMenuItem(&quot;Ireland&quot;);\r\n\t\tmenu.add(last);\r\n\t\tJMenuBar menuBar = new JMenuBar();\r\n\t\tmenuBar.add(menu);\r\n\t\tpanel.add(menuBar);\r\n\t\tJButton button = new JButton(&quot;Exit&quot;);\r\n\t\tbutton.addActionListener(e -&gt; System.exit(0));\r\n\t\tpanel.add(button);\r\n\t\treturn panel;\r\n\t}\r\n\r\n\tprivate void showGui() {\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.add(createButton(), BorderLayout.PAGE_END);\r\n\t\tframe.pack();\r\n\t\tframe.setLocationByPlatform(true);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(() -&gt; new MenuTest().showGui());\r\n\t}\r\n}\r\n```\r\nRefer to [How to Use Menus](https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html)","title":"Arrow pointing right to collapse, pointing to down to expand(Java Swing)","body":"<p>A <code>JMenu</code> may be appropriate. Here is a small app that demonstrates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.event.PopupMenuEvent;\nimport javax.swing.event.PopupMenuListener;\n\npublic class MenuTest {\n\n    private JPanel createButton() {\n        JPanel panel = new JPanel();\n        JMenu menu = new JMenu(&quot;George  \\u25B6&quot;);\n        menu.setBorder(BorderFactory.createLineBorder(Color.black));\n        menu.getPopupMenu().addPopupMenuListener(new PopupMenuListener() {\n            \n            @Override\n            public void popupMenuWillBecomeVisible(PopupMenuEvent e) {\n                menu.setText(&quot;George  \\u25BC&quot;);\n            }\n            \n            @Override\n            public void popupMenuWillBecomeInvisible(PopupMenuEvent e) {\n                menu.setText(&quot;George  \\u25B6&quot;);\n            }\n            \n            @Override\n            public void popupMenuCanceled(PopupMenuEvent e) {\n                // Do nothing.\n            }\n        });\n        JMenuItem first = new JMenuItem(&quot;Best&quot;);\n        menu.add(first);\n        JMenuItem second = new JMenuItem(&quot;Northern&quot;);\n        menu.add(second);\n        JMenuItem last = new JMenuItem(&quot;Ireland&quot;);\n        menu.add(last);\n        JMenuBar menuBar = new JMenuBar();\n        menuBar.add(menu);\n        panel.add(menuBar);\n        JButton button = new JButton(&quot;Exit&quot;);\n        button.addActionListener(e -&gt; System.exit(0));\n        panel.add(button);\n        return panel;\n    }\n\n    private void showGui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createButton(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new MenuTest().showGui());\n    }\n}\n</code></pre>\n<p>Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html\" rel=\"nofollow noreferrer\">How to Use Menus</a></p>\n"}],"owner":{"account_id":24806328,"reputation":1,"user_id":18688306,"display_name":"Vivian Chow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648982602,"answer_count":1,"score":0,"last_activity_date":1649026301,"creation_date":1648959282,"question_id":71722967,"body_markdown":"I&#39;m developing a plugin. For the UI, I want to add an arrow and a title as follow. If we click the button, three fields below it will expand or collapse. Anyone knows how to implement it in Java Swing ?[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EuSsQ.png","title":"Arrow pointing right to collapse, pointing to down to expand(Java Swing)","body":"<p>I'm developing a plugin. For the UI, I want to add an arrow and a title as follow. If we click the button, three fields below it will expand or collapse. Anyone knows how to implement it in Java Swing ?<a href=\"https://i.stack.imgur.com/EuSsQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","gwt","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1333967453,"post_id":10068789,"comment_id":12893093,"body_markdown":"Did you try to do a mvn install on command instead from Eclipse...","body":"Did you try to do a mvn install on command instead from Eclipse..."},{"owner":{"account_id":1269523,"reputation":1992,"user_id":1226162,"accept_rate":78,"display_name":"user1226162"},"score":0,"creation_date":1333969107,"post_id":10068789,"comment_id":12893556,"body_markdown":"can u give me an idea how to do that, coz i simply install maven from eclipse plugin , by going to eclipse/hep/install software.","body":"can u give me an idea how to do that, coz i simply install maven from eclipse plugin , by going to eclipse/hep/install software."},{"owner":{"account_id":4229586,"reputation":590,"user_id":3462243,"accept_rate":100,"display_name":"uncle bob"},"score":0,"creation_date":1700045070,"post_id":10068789,"comment_id":136605750,"body_markdown":"do you have solution for this?","body":"do you have solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1333952363,"creation_date":1333952363,"answer_id":10069664,"question_id":10068789,"body_markdown":"In each project you import into Eclipse, Eclipse makes some files on filesystem - `.project, .classpath`, a folder `.settings`, ... . It seems that Eclipse doesn&#39;t update these correctly.\r\n\r\nThe answer is to right-click on a project and pick `Maven/Update` Snapshots.","title":"Could not initialize repository... Unknown repository format &quot;null&quot;; expected &quot;0&quot;","body":"<p>In each project you import into Eclipse, Eclipse makes some files on filesystem - <code>.project, .classpath</code>, a folder <code>.settings</code>, ... . It seems that Eclipse doesn't update these correctly.</p>\n\n<p>The answer is to right-click on a project and pick <code>Maven/Update</code> Snapshots.</p>\n"}],"owner":{"account_id":1269523,"reputation":1992,"user_id":1226162,"accept_rate":78,"display_name":"user1226162"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10069664,"answer_count":1,"score":0,"last_activity_date":1649025961,"creation_date":1333944578,"question_id":10068789,"body_markdown":"I am getting this error when i try to run Maven Install my proejct, or run my application \r\n\r\n     Could not initialize repository... Unknown repository format &quot;null&quot;; expected &quot;0&quot;\r\nI have just import the project from repository and its start showing this error \r\nI&#39;ve google but no Luck.\r\n\r\nalso here&#39;s an error in my application \r\n \r\n                      \r\n    The container &#39;Maven Dependencies&#39; references non existing library &#39;C:\\Users\\wageeha junaid\\git\\Quran-Sementic-Search-Engine\\qsse\\target\\javax.validation-validation-api-1.0.0.GA-sources.jar&#39;\tqsse\t\tBuild path\tBuild Path Problem\r\n\r\n\r\n                 \r\n    Could not initialize repository... (pl.project13.maven:git-commit-id- plugin:1.5:revision:default:generate-sources)\tpom.xml\t/qsse\tline 315\tMaven Build Problem\r\n\r\n\r\nAny idea what could be the reason \r\nThanks \r\n\r\n\r\n","title":"Could not initialize repository... Unknown repository format &quot;null&quot;; expected &quot;0&quot;","body":"<p>I am getting this error when i try to run Maven Install my proejct, or run my application </p>\n\n<pre><code> Could not initialize repository... Unknown repository format \"null\"; expected \"0\"\n</code></pre>\n\n<p>I have just import the project from repository and its start showing this error \nI've google but no Luck.</p>\n\n<p>also here's an error in my application </p>\n\n<pre><code>The container 'Maven Dependencies' references non existing library 'C:\\Users\\wageeha junaid\\git\\Quran-Sementic-Search-Engine\\qsse\\target\\javax.validation-validation-api-1.0.0.GA-sources.jar'  qsse        Build path  Build Path Problem\n\n\n\nCould not initialize repository... (pl.project13.maven:git-commit-id- plugin:1.5:revision:default:generate-sources) pom.xml /qsse   line 315    Maven Build Problem\n</code></pre>\n\n<p>Any idea what could be the reason \nThanks </p>\n"},{"tags":["java","object","methods","attributes"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1649023140,"post_id":71730146,"comment_id":126764769,"body_markdown":"What exactly isn&#39;t working? Do you know how to _call_ a method? Also you probably want to have a Main class to actually run the program.","body":"What exactly isn&#39;t working? Do you know how to <i>call</i> a method? Also you probably want to have a Main class to actually run the program."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1649023607,"post_id":71730146,"comment_id":126764847,"body_markdown":"Is it possible that you just want one Forklift, which has two forks? In that case you need another class `Fork` which has an attribute `height` and methods `raise()` and `lower()` and you need a class `Forklift` which has a attribute `leftFork` and `rightFork` which should be instances of `Fork`. What you are creating is basically an inifinite loop as you create a Forklift, and to create a forklift you have to create two forklifts which of their own require the creation of a forklift and so on...","body":"Is it possible that you just want one Forklift, which has two forks? In that case you need another class <code>Fork</code> which has an attribute <code>height</code> and methods <code>raise()</code> and <code>lower()</code> and you need a class <code>Forklift</code> which has a attribute <code>leftFork</code> and <code>rightFork</code> which should be instances of <code>Fork</code>. What you are creating is basically an inifinite loop as you create a Forklift, and to create a forklift you have to create two forklifts which of their own require the creation of a forklift and so on..."}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649025715,"creation_date":1649023165,"answer_id":71730176,"question_id":71730146,"body_markdown":"Are you trying to do something like this?\r\n\r\n    public class Forklift{\r\n        double height;\r\n        \r\n        Forklift(){\r\n            height=0;\r\n        }\r\n    \r\n        void raise(){\r\n            height += 10;\r\n        }\r\n        void lower(){\r\n            height -= 10;\r\n        }\r\n    }\r\n\r\nI dont understand why you are creating a forklift in the forklift constructor. That just gives you an infinite loop.\r\n\r\nEdit: If you want to create two instances of the class, just use:\r\n\r\n    Forklift forklift1 = new Forklift();\r\n    Forklift forklift2 = new Forklift();\r\n\r\nsomewhere outside the class. Now you have two instances of the class.","title":"How do I create an object from a specific class and change its attributes by using methods in java","body":"<p>Are you trying to do something like this?</p>\n<pre><code>public class Forklift{\n    double height;\n    \n    Forklift(){\n        height=0;\n    }\n\n    void raise(){\n        height += 10;\n    }\n    void lower(){\n        height -= 10;\n    }\n}\n</code></pre>\n<p>I dont understand why you are creating a forklift in the forklift constructor. That just gives you an infinite loop.</p>\n<p>Edit: If you want to create two instances of the class, just use:</p>\n<pre><code>Forklift forklift1 = new Forklift();\nForklift forklift2 = new Forklift();\n</code></pre>\n<p>somewhere outside the class. Now you have two instances of the class.</p>\n"}],"owner":{"account_id":19396163,"reputation":9,"user_id":14183814,"display_name":"Leroy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649025715,"creation_date":1649022887,"question_id":71730146,"body_markdown":"    public class Forklift{\r\n        double height;\r\n        Forklift fl_1, fl_2;\r\n        \r\n        Forklift(){\r\n            fl_1 = new Forklift();\r\n            fl_2 = new Forklift();\r\n        }\r\n    \r\n        void raise(){\r\n            height += 10;\r\n        }\r\n        void lower(){\r\n            height -= 10;\r\n        }\r\n    }\r\n\r\nI&#39;m currently using BlueJ. I want to create two objects with the attribute &#39;height&#39; and I want to use the methods raise() and lower() to change the value of that attribute. Can someone please help me? I don&#39;t know why it&#39;s not working","title":"How do I create an object from a specific class and change its attributes by using methods in java","body":"<pre><code>public class Forklift{\n    double height;\n    Forklift fl_1, fl_2;\n    \n    Forklift(){\n        fl_1 = new Forklift();\n        fl_2 = new Forklift();\n    }\n\n    void raise(){\n        height += 10;\n    }\n    void lower(){\n        height -= 10;\n    }\n}\n</code></pre>\n<p>I'm currently using BlueJ. I want to create two objects with the attribute 'height' and I want to use the methods raise() and lower() to change the value of that attribute. Can someone please help me? I don't know why it's not working</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":2690800,"reputation":1906,"user_id":2324206,"accept_rate":100,"display_name":"Haridarshan"},"score":0,"creation_date":1621786808,"post_id":67661691,"comment_id":119595281,"body_markdown":"Assuming `Supplier` is also an Entity, so can you please tell which column in `Ingredient` Entity defines this association with `Supplier` Entity. You&#39;ll need to use that column name with an additional Annotation `@JoinColumn(name = &quot;&lt;foreignKey&gt;&quot;)`","body":"Assuming <code>Supplier</code> is also an Entity, so can you please tell which column in <code>Ingredient</code> Entity defines this association with <code>Supplier</code> Entity. You&#39;ll need to use that column name with an additional Annotation <code>@JoinColumn(name = &quot;&lt;foreignKey&gt;&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":20522476,"reputation":110,"user_id":15061745,"display_name":"Oussama Makhlouk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1621786381,"creation_date":1621786381,"answer_id":67661869,"question_id":67661691,"body_markdown":"If you have a unidirectional association ```@OneToMany``` you need to replace \r\n```  \r\n@OneToMany(cascade= {CascadeType.ALL})\r\nprivate List&lt;Ingredient&gt; components; \r\n ```\r\nto\r\n```\r\n@OneToMany(cascade= {CascadeType.ALL})  \r\n@JoinColumn(name=&quot;components&quot;)\r\nprivate List&lt;Ingredient&gt; components; \r\n ```\r\nIf you want a bidirectional association ```@OneToMany``` you have to add in your ```Ingredient``` class\r\n```\r\n...\r\n@ManyToOne\r\n@JoinColumn\r\nprivate Supplier supplier;\r\n```\r\nand the supplier class nothing changes\r\nlinks to help you understand \r\n\r\nhttps://javabydeveloper.com/one-many-unidirectional-association/\r\n\r\nhttps://javabydeveloper.com/one-to-many-bidirectional-association/\r\n\r\nLet me know if that helped!\r\n","title":"Spring boot - &#39;One To Many&#39; attribute value type should not be Error","body":"<p>If you have a unidirectional association <code>@OneToMany</code> you need to replace</p>\n<pre><code>@OneToMany(cascade= {CascadeType.ALL})\nprivate List&lt;Ingredient&gt; components; \n</code></pre>\n<p>to</p>\n<pre><code>@OneToMany(cascade= {CascadeType.ALL})  \n@JoinColumn(name=&quot;components&quot;)\nprivate List&lt;Ingredient&gt; components; \n</code></pre>\n<p>If you want a bidirectional association <code>@OneToMany</code> you have to add in your <code>Ingredient</code> class</p>\n<pre><code>...\n@ManyToOne\n@JoinColumn\nprivate Supplier supplier;\n</code></pre>\n<p>and the supplier class nothing changes\nlinks to help you understand</p>\n<p><a href=\"https://javabydeveloper.com/one-many-unidirectional-association/\" rel=\"nofollow noreferrer\">https://javabydeveloper.com/one-many-unidirectional-association/</a></p>\n<p><a href=\"https://javabydeveloper.com/one-to-many-bidirectional-association/\" rel=\"nofollow noreferrer\">https://javabydeveloper.com/one-to-many-bidirectional-association/</a></p>\n<p>Let me know if that helped!</p>\n"},{"tags":[],"owner":{"account_id":18341859,"reputation":43,"user_id":13357920,"display_name":"Mohammed Sharaf Eddeen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649025563,"creation_date":1649025563,"answer_id":71730371,"question_id":67661691,"body_markdown":"Make sure that you are annotating your type class which in your case is Ingredient. It should be annotated with @Entity .. Missing to annotate your class is one of the reasons to produce this error.","title":"Spring boot - &#39;One To Many&#39; attribute value type should not be Error","body":"<p>Make sure that you are annotating your type class which in your case is Ingredient. It should be annotated with @Entity .. Missing to annotate your class is one of the reasons to produce this error.</p>\n"}],"owner":{"display_name":"user15900386"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3083,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":67661869,"answer_count":2,"score":1,"last_activity_date":1649025563,"creation_date":1621785273,"question_id":67661691,"body_markdown":"I have my api in Spring Boot.\r\n\r\nI have 2 classes:\r\n\r\nHere is my Supplier Class:\r\n\r\n     public class Supplier{\r\n         @OneToMany(cascade= {CascadeType.ALL})\r\n         private List&lt;Product&gt; products;      &lt;---  This one is working perfectly fine.\r\n\r\n         @OneToMany(cascade= {CascadeType.ALL})\r\n         private List&lt;Ingredient&gt; components;      &lt;---- this is the line where I am getting an error\r\n\r\n    }\r\n\r\n\r\nHere is the error message that I am getting:\r\n\r\n&gt; &#39;One To Many&#39; attribute value type should not be &#39;Ingredient&#39;\r\n\r\n\r\n\r\n\r\nHere is my Ingredient class\r\n\r\n    public class Ingredient {\r\n\r\n         @Id\r\n         @GeneratedValue\r\n         private Long id;\r\n         private String name;\r\n         private String unit;\r\n         private Double quantity = 0.0;\r\n         private Double cost = 0.0;\r\n         private Double price = 0.0;\r\n    }\r\n\r\n\r\n**My Question:**\r\nWhat is a possible fix to the above error in:\r\n\r\n    private List&lt;Ingredient&gt; components;\r\n\r\nEven though the line above it is working ?","title":"Spring boot - &#39;One To Many&#39; attribute value type should not be Error","body":"<p>I have my api in Spring Boot.</p>\n<p>I have 2 classes:</p>\n<p>Here is my Supplier Class:</p>\n<pre><code> public class Supplier{\n     @OneToMany(cascade= {CascadeType.ALL})\n     private List&lt;Product&gt; products;      &lt;---  This one is working perfectly fine.\n\n     @OneToMany(cascade= {CascadeType.ALL})\n     private List&lt;Ingredient&gt; components;      &lt;---- this is the line where I am getting an error\n\n}\n</code></pre>\n<p>Here is the error message that I am getting:</p>\n<blockquote>\n<p>'One To Many' attribute value type should not be 'Ingredient'</p>\n</blockquote>\n<p>Here is my Ingredient class</p>\n<pre><code>public class Ingredient {\n\n     @Id\n     @GeneratedValue\n     private Long id;\n     private String name;\n     private String unit;\n     private Double quantity = 0.0;\n     private Double cost = 0.0;\n     private Double price = 0.0;\n}\n</code></pre>\n<p><strong>My Question:</strong>\nWhat is a possible fix to the above error in:</p>\n<pre><code>private List&lt;Ingredient&gt; components;\n</code></pre>\n<p>Even though the line above it is working ?</p>\n"},{"tags":["java","spring","jdbc","pojo"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649024889,"post_id":71730297,"comment_id":126765043,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8990820,"reputation":11,"user_id":6702777,"display_name":"Hari290079"},"score":0,"creation_date":1649025487,"post_id":71730297,"comment_id":126765123,"body_markdown":"I understand the need for code. I will try to gather something ( newbie so going to be difficult). But I am fine with conceptual answers or discussions in plain English that I can implement or I can follow.","body":"I understand the need for code. I will try to gather something ( newbie so going to be difficult). But I am fine with conceptual answers or discussions in plain English that I can implement or I can follow."},{"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"score":0,"creation_date":1649031455,"post_id":71730297,"comment_id":126765934,"body_markdown":"You can create a &#39;@Component&#39; class  (for example DataLoader) including a method to load the data. Annotate the method with &#39;@PostConstruct&#39; and the method will be called automaticaly when you run the application.","body":"You can create a &#39;@Component&#39; class  (for example DataLoader) including a method to load the data. Annotate the method with &#39;@PostConstruct&#39; and the method will be called automaticaly when you run the application."}],"owner":{"account_id":8990820,"reputation":11,"user_id":6702777,"display_name":"Hari290079"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649024635,"creation_date":1649024635,"question_id":71730297,"body_markdown":"I have few objects that I want to create in Java app by loading them from json( any text file ) to java application. The reason I want to load them is maintainability. I need a way to read them like configurations easily during startup.\r\n\r\nI tried loading them as config but not sure if this is correct","title":"Loading custom xml or json data as pojos","body":"<p>I have few objects that I want to create in Java app by loading them from json( any text file ) to java application. The reason I want to load them is maintainability. I need a way to read them like configurations easily during startup.</p>\n<p>I tried loading them as config but not sure if this is correct</p>\n"},{"tags":["java","language-translation"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1504600447,"post_id":46050434,"comment_id":79060233,"body_markdown":"It&#39;s not clear whether the Unicode escape you&#39;ve included here is in the file or not, or how the file is being read. Please provide a [mcve] so we can help you.","body":"It&#39;s not clear whether the Unicode escape you&#39;ve included here is in the file or not, or how the file is being read. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can help you."},{"owner":{"account_id":4342081,"reputation":571,"user_id":3545083,"accept_rate":58,"display_name":"sean le roy"},"score":0,"creation_date":1504600596,"post_id":46050434,"comment_id":79060313,"body_markdown":"Will add code, cheers!","body":"Will add code, cheers!"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1504601071,"post_id":46050434,"comment_id":79060622,"body_markdown":"aren&#39;t you suppose to compare `Beim Hinzuf\\u00E4gen` with `Beim Hinzuf&#228;gen`; notice the `&#228;` in the second string","body":"aren&#39;t you suppose to compare <code>Beim Hinzuf\\u00E4gen</code> with <code>Beim Hinzuf&#228;gen</code>; notice the <code>&#228;</code> in the second string"},{"owner":{"account_id":4342081,"reputation":571,"user_id":3545083,"accept_rate":58,"display_name":"sean le roy"},"score":0,"creation_date":1504609246,"post_id":46050434,"comment_id":79065880,"body_markdown":"Soory for the late reply. Eugene your absolutely right. Not only did I have the wrong unicodes mapped out but seems I was writing the file in UTF-8, which seemed to be getting the wrong Unicode which you pointed out. That has now fixed my problem, thank you!","body":"Soory for the late reply. Eugene your absolutely right. Not only did I have the wrong unicodes mapped out but seems I was writing the file in UTF-8, which seemed to be getting the wrong Unicode which you pointed out. That has now fixed my problem, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649024596,"creation_date":1504601170,"answer_id":46050711,"question_id":46050434,"body_markdown":"It seems that you need to compare these with a [`Collator`](https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html):\r\n\r\n    String left = &quot;Beim Hinzuf\\u00E4gen&quot;;\r\n    String right = &quot;Beim Hinzuf&#228;gen&quot;;\r\n    Collator c = Collator.getInstance();\r\n    c.setStrength(Collator.PRIMARY);\r\n\r\n    int result = c.compare(left, right); // 0","title":"Comparing German word with umlauts with same word with unicode","body":"<p>It seems that you need to compare these with a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/Collator.html\" rel=\"nofollow noreferrer\"><code>Collator</code></a>:</p>\n<pre><code>String left = &quot;Beim Hinzuf\\u00E4gen&quot;;\nString right = &quot;Beim Hinzufägen&quot;;\nCollator c = Collator.getInstance();\nc.setStrength(Collator.PRIMARY);\n\nint result = c.compare(left, right); // 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10056368,"reputation":500,"user_id":7434553,"display_name":"IQV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504601660,"creation_date":1504601660,"answer_id":46050848,"question_id":46050434,"body_markdown":"As @Eugene points out, your result ist correct. You compare &quot;Hinzuf**&#252;**gen&quot; with &quot;Hinzuf**&#228;**gen&quot;, which are different. \r\n\r\n&gt;Unicode 00E4 is &quot;&#228;&quot;,  \r\nUnicode 00FC is &quot;&#252;&quot;.","title":"Comparing German word with umlauts with same word with unicode","body":"<p>As @Eugene points out, your result ist correct. You compare \"Hinzuf<strong>ü</strong>gen\" with \"Hinzuf<strong>ä</strong>gen\", which are different. </p>\n\n<blockquote>\n  <p>Unicode 00E4 is \"ä\",<br>\n  Unicode 00FC is \"ü\".</p>\n</blockquote>\n"}],"owner":{"account_id":4342081,"reputation":571,"user_id":3545083,"accept_rate":58,"display_name":"sean le roy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":46050848,"answer_count":2,"score":-1,"last_activity_date":1649024596,"creation_date":1504600359,"question_id":46050434,"body_markdown":"I&#39;m working on translating Strings from English to German, but German words that are already translated are being translated again.\r\n\r\nSay I have this word &quot;Beim Hinzuf\\u00E4gen&quot; which has already been translated. I want to compare this to the same word but with umlauts, &quot;Beim Hinzuf&#252;gen&quot;. Both files are read as ISO-8859-1, but when I compare the words they are seen as being different and the word is translated again which I don&#39;t want. Even when I replace the Umlaut with the unicode and compare the two, they are still seen as different. I&#39;m sure this is because when I replay the umlaut by &quot;\\u00E4&quot;, there&#39;s an extra backslash being added in.\r\n\r\nAnyone have an idea of the preferred method for what I&#39;m trying to do.","title":"Comparing German word with umlauts with same word with unicode","body":"<p>I'm working on translating Strings from English to German, but German words that are already translated are being translated again.</p>\n\n<p>Say I have this word \"Beim Hinzuf\\u00E4gen\" which has already been translated. I want to compare this to the same word but with umlauts, \"Beim Hinzufügen\". Both files are read as ISO-8859-1, but when I compare the words they are seen as being different and the word is translated again which I don't want. Even when I replace the Umlaut with the unicode and compare the two, they are still seen as different. I'm sure this is because when I replay the umlaut by \"\\u00E4\", there's an extra backslash being added in.</p>\n\n<p>Anyone have an idea of the preferred method for what I'm trying to do.</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649023993,"creation_date":1649023993,"answer_id":71730244,"question_id":71730168,"body_markdown":"console.hasNextLine() blocks application flow and waits for input to be received.\r\n\r\n1st enter - word is found and found remains == true\r\n\r\n2nd enter - word is not found and found is set to == false\r\n\r\n3rd enter - is required because your booleans are evaluated in order which they are arranged. so first it&#39;ll call console.hasNextLine() and allow user to provide input. THEN it&#39;ll check if found == true/false which would == false and would break out of the loop.\r\n \r\nan easy solution would be to rearrange your conditions to be\r\n```\r\nfound  &amp;&amp; console.hasNextLine()","title":"Why does it take additional input for scanner to see an empty line?","body":"<p>console.hasNextLine() blocks application flow and waits for input to be received.</p>\n<p>1st enter - word is found and found remains == true</p>\n<p>2nd enter - word is not found and found is set to == false</p>\n<p>3rd enter - is required because your booleans are evaluated in order which they are arranged. so first it'll call console.hasNextLine() and allow user to provide input. THEN it'll check if found == true/false which would == false and would break out of the loop.</p>\n<p>an easy solution would be to rearrange your conditions to be</p>\n<pre><code>found  &amp;&amp; console.hasNextLine()\n</code></pre>\n"}],"owner":{"account_id":24814357,"reputation":13,"user_id":18695377,"display_name":"Sooyun Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71730244,"answer_count":1,"score":1,"last_activity_date":1649023993,"creation_date":1649023106,"question_id":71730168,"body_markdown":"```\r\npublic class Test1 {\r\n   public static void main(String[] args) {\r\n      System.out.println(&quot;Give me a word: &quot;);\r\n      Scanner console = new Scanner(System.in);\r\n      ArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\n      boolean found = true;\r\n      \r\n      while (console.hasNextLine() &amp;&amp; found) {\r\n         String line = console.nextLine();\r\n         \r\n         if (line.equals(&quot;&quot;)) {\r\n            found = false;\r\n         } else {\r\n            arr.add(line);\r\n         }\r\n      }\r\n     \r\n      System.out.println(&quot;You said: &quot;);\r\n      \r\n      for (int index = 0; index &lt; arr.size(); index++) {\r\n         System.out.println(arr.get(index)); \r\n      } \r\n   }\r\n}\r\n```\r\n\r\nI&#39;d like to print what user typed in whenever the user types enter twice, however this requires three enters to be inputted for some reason. When I remove the console.hasNextLine statement in while loop&#39;s condition, it works perfectly fine. Why is this the case?","title":"Why does it take additional input for scanner to see an empty line?","body":"<pre><code>public class Test1 {\n   public static void main(String[] args) {\n      System.out.println(&quot;Give me a word: &quot;);\n      Scanner console = new Scanner(System.in);\n      ArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\n      boolean found = true;\n      \n      while (console.hasNextLine() &amp;&amp; found) {\n         String line = console.nextLine();\n         \n         if (line.equals(&quot;&quot;)) {\n            found = false;\n         } else {\n            arr.add(line);\n         }\n      }\n     \n      System.out.println(&quot;You said: &quot;);\n      \n      for (int index = 0; index &lt; arr.size(); index++) {\n         System.out.println(arr.get(index)); \n      } \n   }\n}\n</code></pre>\n<p>I'd like to print what user typed in whenever the user types enter twice, however this requires three enters to be inputted for some reason. When I remove the console.hasNextLine statement in while loop's condition, it works perfectly fine. Why is this the case?</p>\n"},{"tags":["java","jtextpane","styleddocument"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1391086901,"creation_date":1391086901,"answer_id":21457298,"question_id":21455903,"body_markdown":"Obviously it&#39;s not possible to sum two documents this way. Each document has own structure of Elements (nodes, Leaves). To merge them properly you in fact need to copy all branches with sub nodes from one document instance ot another.\r\n\r\nThe link shows how it could be done.\r\nhttp://java-sl.com/tip_merge_documents.html","title":"How do I put StyledDocuments together in Java?","body":"<p>Obviously it's not possible to sum two documents this way. Each document has own structure of Elements (nodes, Leaves). To merge them properly you in fact need to copy all branches with sub nodes from one document instance ot another.</p>\n\n<p>The link shows how it could be done.\n<a href=\"http://java-sl.com/tip_merge_documents.html\" rel=\"nofollow\">http://java-sl.com/tip_merge_documents.html</a></p>\n"}],"owner":{"account_id":3936846,"reputation":62,"user_id":3252986,"display_name":"user3252986"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21457298,"answer_count":1,"score":0,"last_activity_date":1649023953,"creation_date":1391083065,"question_id":21455903,"body_markdown":"I want to make a StyledDocument from 2 other StyledDocuments in Java. Is there a possibility of doing this?","title":"How do I put StyledDocuments together in Java?","body":"<p>I want to make a StyledDocument from 2 other StyledDocuments in Java. Is there a possibility of doing this?</p>\n"},{"tags":["java","gradle","log4j2"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1639336790,"post_id":70326473,"comment_id":124317415,"body_markdown":"`[2.15,[3` - is it correct version range declaration?","body":"<code>[2.15,[3</code> - is it correct version range declaration?"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1639337855,"post_id":70326473,"comment_id":124317667,"body_markdown":"Should be, as per https://docs.gradle.org/current/userguide/single_versions.html. Also suggested here https://twitter.com/CedricChampeau/status/1469608906196410368. \nAnyway, I tried other options including just `2.15.+`, but it doesn&#39;t change anything","body":"Should be, as per <a href=\"https://docs.gradle.org/current/userguide/single_versions.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/single_versions.html</a>. Also suggested here <a href=\"https://twitter.com/CedricChampeau/status/1469608906196410368\" rel=\"nofollow noreferrer\">twitter.com/CedricChampeau/status/1469608906196410368</a>.  Anyway, I tried other options including just <code>2.15.+</code>, but it doesn&#39;t change anything"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1639338566,"post_id":70326473,"comment_id":124317847,"body_markdown":"twitter post suggests `[2.15,3[` but not `[2.15,[3` (the last one causes build error), btw such configuration does work for single-module project","body":"twitter post suggests <code>[2.15,3[</code> but not <code>[2.15,[3</code> (the last one causes build error), btw such configuration does work for single-module project"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1639340188,"post_id":70326473,"comment_id":124318168,"body_markdown":"Ah, thank you. Fixed example to just `[2.15`. In fact I was trying without `[3` part and added it (incorrectly) back just for the demo. Anyway, it doesn&#39;t work. I think I&#39;m missing something else to actually enable it, but I don&#39;t see anything in docs that might help","body":"Ah, thank you. Fixed example to just <code>[2.15</code>. In fact I was trying without <code>[3</code> part and added it (incorrectly) back just for the demo. Anyway, it doesn&#39;t work. I think I&#39;m missing something else to actually enable it, but I don&#39;t see anything in docs that might help"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1639340468,"post_id":70326473,"comment_id":124318224,"body_markdown":"I have a single module config, btw. W/o any weird configs or plugins","body":"I have a single module config, btw. W/o any weird configs or plugins"},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1639345936,"post_id":70326473,"comment_id":124319435,"body_markdown":"Turns out it was caused by https://github.com/spring-gradle-plugins/dependency-management-plugin Which was not even needed and was just a historical artifact in that build. And it was breaking all types of version ranges, now I see that the working version is supposed to be exactly `[2.15,3[`","body":"Turns out it was caused by <a href=\"https://github.com/spring-gradle-plugins/dependency-management-plugin\" rel=\"nofollow noreferrer\">github.com/spring-gradle-plugins/dependency-management-plugi&zwnj;&#8203;n</a> Which was not even needed and was just a historical artifact in that build. And it was breaking all types of version ranges, now I see that the working version is supposed to be exactly <code>[2.15,3[</code>"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639346855,"creation_date":1639346531,"answer_id":70328075,"question_id":70326473,"body_markdown":"This [library](https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl/2.15.0) depends on `org.slf4j:slf4j-api:1.7.25`.\r\n\r\n    dependencies {    \r\n        testIplementation &#39;org.apache.logging.log4j:log4j-slf4j-impl:2.15.0&#39;\r\n    }\r\n\r\nThere probably is no need for any `constraints`; try `mavenCentral()`? And as one can see (link above), it comes with compile, runtime and test dependencies. And when Maven Central suggests this should be `testImplementation`, this may be the correct configuration to use.","title":"Gradle dependency constrains are not applied","body":"<p>This <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl/2.15.0\" rel=\"nofollow noreferrer\">library</a> depends on <code>org.slf4j:slf4j-api:1.7.25</code>.</p>\n<pre><code>dependencies {    \n    testIplementation 'org.apache.logging.log4j:log4j-slf4j-impl:2.15.0'\n}\n</code></pre>\n<p>There probably is no need for any <code>constraints</code>; try <code>mavenCentral()</code>? And as one can see (link above), it comes with compile, runtime and test dependencies. And when Maven Central suggests this should be <code>testImplementation</code>, this may be the correct configuration to use.</p>\n"},{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639348298,"creation_date":1639347931,"answer_id":70328221,"question_id":70326473,"body_markdown":"The problem was caused by `io.spring.dependency-management` Gradle plugin, which was also used in that project. Removing that plugin fixed the issue. \r\n\r\nSo the fix is to remove `io.spring.dependency-management` plugin.\r\n\r\nAlso, the correct constraint _must be_ following:\r\n\r\n    constraints {\r\n        add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-core&quot;) {\r\n            version {\r\n                strictly(&quot;[2.15,3[&quot;)\r\n                prefer(&quot;2.15.0&quot;)\r\n            }\r\n            because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\r\n        }\r\n    }\r\n\r\nI.e., just `log4j-core` is enough, and version range must be exactly `[2.15,3[`","title":"Gradle dependency constrains are not applied","body":"<p>The problem was caused by <code>io.spring.dependency-management</code> Gradle plugin, which was also used in that project. Removing that plugin fixed the issue.</p>\n<p>So the fix is to remove <code>io.spring.dependency-management</code> plugin.</p>\n<p>Also, the correct constraint <em>must be</em> following:</p>\n<pre><code>constraints {\n    add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-core&quot;) {\n        version {\n            strictly(&quot;[2.15,3[&quot;)\n            prefer(&quot;2.15.0&quot;)\n        }\n        because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\n    }\n}\n</code></pre>\n<p>I.e., just <code>log4j-core</code> is enough, and version range must be exactly <code>[2.15,3[</code></p>\n"},{"tags":[],"owner":{"account_id":375024,"reputation":1538,"user_id":725596,"display_name":"Scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649023781,"creation_date":1639541631,"answer_id":70358360,"question_id":70326473,"body_markdown":"The Gradle Team [published a workaround][1] specifically for the critical Log4J bug in versions prior to 2.15.0. However, a new vulnerability has been reported that prompted the release of 2.16.0 so you should update your rules accordingly.\r\n\r\nHowever, Gradle&#39;s recommended fix does not work if you&#39;re using Spring&#39;s dependency management plugin `id(&quot;io.spring.dependency-management&quot;) version &quot;x.y.z&quot;`.\r\n\r\nTo deal with Gradle dependencies sans Spring dependency management, simply create a plugin that sets version requirements for Log4J:\r\n\r\n```\r\nclass Log4jConventionPlugin : Plugin&lt;Project&gt; {\r\n    private val log = KotlinLogging.logger { }\r\n    \r\n    private val dependencies = listOf(\r\n        &quot;org.apache.logging.log4j:log4j-core&quot;,\r\n        &quot;org.apache.logging.log4j:log4j-slf4j-impl&quot;,\r\n        &quot;org.apache.logging.log4j:log4j-jul&quot;\r\n    )\r\n\r\n    override fun apply(project: Project) {\r\n        applyConstraints(project)\r\n        applySpringDependencyManagementFix(project)\r\n    }\r\n    \r\n    // apply standard Gradle constraints\r\n    private fun applyConstraints(project: Project) {\r\n        \r\n        project.dependencies.constraints { constraints -&gt;\r\n            listOf(&quot;compileClasspath&quot;, &quot;implementation&quot;, &quot;runtimeOnly&quot;, &quot;runtimeClasspath&quot;).forEach { configuration -&gt;\r\n                dependencies.forEach { dependency -&gt;\r\n                    constraints.add(configuration, dependency) { c -&gt;\r\n                        c.version { v -&gt;\r\n                            v.strictly(&quot;[2.16, 3[&quot;)\r\n                            v.require(&quot;2.16.0&quot;)\r\n                            v.reject(&quot;[2.0, 2.16[&quot;)\r\n                        }\r\n                        c.because(&quot;CVE-2021-44228: Log4j vulnerable to remote code execution&quot;)\r\n                        log.info { &quot;Applied log4j version constraint to $dependency for configuration $configuration&quot; }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        log.info { &quot;Applied log4j version constraints&quot; }\r\n    }\r\n\r\n    // constraints Spring Boot dependency management constraints\r\n    private fun applySpringDependencyManagementFix(project: Project) {\r\n        project.plugins.findPlugin(&quot;io.spring.dependency-management&quot;) ?: return\r\n        project.configurations.all {\r\n            it.resolutionStrategy.eachDependency { details -&gt;\r\n                if (details.requested.group == &quot;org.apache.logging.log4j&quot;) {\r\n                    details.useVersion(&quot;2.16.+&quot;)\r\n                }\r\n            }\r\n        }\r\n        log.info { &quot;Applied fixed Log4J resolution to Spring dependency management&quot; }\r\n    }\r\n\r\n}\r\n```\r\n\r\n[1]: https://blog.gradle.org/log4j-vulnerability","title":"Gradle dependency constrains are not applied","body":"<p>The Gradle Team <a href=\"https://blog.gradle.org/log4j-vulnerability\" rel=\"nofollow noreferrer\">published a workaround</a> specifically for the critical Log4J bug in versions prior to 2.15.0. However, a new vulnerability has been reported that prompted the release of 2.16.0 so you should update your rules accordingly.</p>\n<p>However, Gradle's recommended fix does not work if you're using Spring's dependency management plugin <code>id(&quot;io.spring.dependency-management&quot;) version &quot;x.y.z&quot;</code>.</p>\n<p>To deal with Gradle dependencies sans Spring dependency management, simply create a plugin that sets version requirements for Log4J:</p>\n<pre><code>class Log4jConventionPlugin : Plugin&lt;Project&gt; {\n    private val log = KotlinLogging.logger { }\n    \n    private val dependencies = listOf(\n        &quot;org.apache.logging.log4j:log4j-core&quot;,\n        &quot;org.apache.logging.log4j:log4j-slf4j-impl&quot;,\n        &quot;org.apache.logging.log4j:log4j-jul&quot;\n    )\n\n    override fun apply(project: Project) {\n        applyConstraints(project)\n        applySpringDependencyManagementFix(project)\n    }\n    \n    // apply standard Gradle constraints\n    private fun applyConstraints(project: Project) {\n        \n        project.dependencies.constraints { constraints -&gt;\n            listOf(&quot;compileClasspath&quot;, &quot;implementation&quot;, &quot;runtimeOnly&quot;, &quot;runtimeClasspath&quot;).forEach { configuration -&gt;\n                dependencies.forEach { dependency -&gt;\n                    constraints.add(configuration, dependency) { c -&gt;\n                        c.version { v -&gt;\n                            v.strictly(&quot;[2.16, 3[&quot;)\n                            v.require(&quot;2.16.0&quot;)\n                            v.reject(&quot;[2.0, 2.16[&quot;)\n                        }\n                        c.because(&quot;CVE-2021-44228: Log4j vulnerable to remote code execution&quot;)\n                        log.info { &quot;Applied log4j version constraint to $dependency for configuration $configuration&quot; }\n                    }\n                }\n            }\n        }\n        log.info { &quot;Applied log4j version constraints&quot; }\n    }\n\n    // constraints Spring Boot dependency management constraints\n    private fun applySpringDependencyManagementFix(project: Project) {\n        project.plugins.findPlugin(&quot;io.spring.dependency-management&quot;) ?: return\n        project.configurations.all {\n            it.resolutionStrategy.eachDependency { details -&gt;\n                if (details.requested.group == &quot;org.apache.logging.log4j&quot;) {\n                    details.useVersion(&quot;2.16.+&quot;)\n                }\n            }\n        }\n        log.info { &quot;Applied fixed Log4J resolution to Spring dependency management&quot; }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4173,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1649023781,"creation_date":1639333550,"question_id":70326473,"body_markdown":"I have following in my Gradle config:\r\n\r\n    dependencies {    \r\n        implementation &quot;org.slf4j:slf4j-api:1.7.32&quot;\r\n        implementation &quot;org.apache.logging.log4j:log4j-slf4j-impl:2.15.0&quot;\r\n        implementation &quot;org.slf4j:jul-to-slf4j:1.7.32&quot;\r\n        implementation &quot;org.slf4j:jcl-over-slf4j:1.7.32&quot;\r\n    \r\n        constraints {\r\n            add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-core&quot;) {\r\n                version {\r\n                    strictly(&quot;[2.15&quot;)\r\n                    prefer(&quot;2.15.0&quot;)\r\n                }\r\n                because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\r\n            }\r\n            add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-api&quot;) {\r\n                version {\r\n                    strictly(&quot;[2.15&quot;)\r\n                    prefer(&quot;2.15.0&quot;)\r\n                }\r\n                because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nThough this config doesn&#39;t depend on log4j directly, it has some transient dependencies on log4j. And I expect that it would enforce use of version 2.15.0 or later.\r\n\r\n\r\nBut unfortunately it doesn&#39;t change anything:\r\n\r\n    $ gradle dependencies | grep log4j\r\n    +--- org.apache.logging.log4j:log4j-slf4j-impl:2.15.0\r\n    |    \\--- org.apache.logging.log4j:log4j-api:2.15.0 -&gt; 2.13.3\r\n    .....\r\n    +--- org.apache.logging.log4j:log4j-api:{strictly [2.15; prefer 2.15.0} -&gt; 2.13.3 (c)\r\n    \\--- org.apache.logging.log4j:log4j-core:{strictly [2.15; prefer 2.15.0} -&gt; 2.13.3 (c)\r\n\r\nAnd\r\n\r\n    $ gradle dependencyInsight --dependency org.apache.logging.log4j\r\n\r\n    &gt; Task :dependencyInsight \r\n    org.apache.logging.log4j:log4j-api:2.13.3\r\n    variant &quot;compile&quot; [\r\n      org.gradle.status                  = release (not requested)\r\n      org.gradle.usage                   = java-api\r\n      org.gradle.libraryelements         = jar (compatible with: classes+resources)\r\n      org.gradle.category                = library\r\n\r\n      Requested attributes not found in the selected variant:\r\n         org.gradle.dependency.bundling     = external\r\n         org.gradle.jvm.environment         = standard-jvm\r\n         org.jetbrains.kotlin.platform.type = jvm\r\n         org.gradle.jvm.version             = 13\r\n    ]\r\n    Selection reasons:\r\n      - Selected by rule\r\n      - By constraint : CVE-2021-44228 Log4j 2 Vulnerability\r\n\r\n    org.apache.logging.log4j:log4j-api:{strictly [2.15; prefer 2.15.0} -&gt; 2.13.3\r\n    \\--- compileClasspath\r\n\r\n    org.apache.logging.log4j:log4j-api:2.15.0 -&gt; 2.13.3\r\n    \\--- org.apache.logging.log4j:log4j-slf4j-impl:2.15.0\r\n         \\--- compileClasspath \r\n\r\nWhy it downgrades to version 2.13.3? Even though it was set as 2.15 for `log4j-slf4j-impl` and also required by constraints.\r\n\r\nSame result with Gradle 6.9 and 7.2\r\n\r\n--\r\n\r\nUpd:\r\n\r\nFor simplicity I changed the constraints to:\r\n\r\n        add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-core:2.15.0&quot;) {\r\n            because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\r\n        }\r\n        add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-api:2.15.0&quot;) {\r\n            because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\r\n        }\r\n\r\nStill no effect","title":"Gradle dependency constrains are not applied","body":"<p>I have following in my Gradle config:</p>\n<pre><code>dependencies {    \n    implementation &quot;org.slf4j:slf4j-api:1.7.32&quot;\n    implementation &quot;org.apache.logging.log4j:log4j-slf4j-impl:2.15.0&quot;\n    implementation &quot;org.slf4j:jul-to-slf4j:1.7.32&quot;\n    implementation &quot;org.slf4j:jcl-over-slf4j:1.7.32&quot;\n\n    constraints {\n        add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-core&quot;) {\n            version {\n                strictly(&quot;[2.15&quot;)\n                prefer(&quot;2.15.0&quot;)\n            }\n            because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\n        }\n        add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-api&quot;) {\n            version {\n                strictly(&quot;[2.15&quot;)\n                prefer(&quot;2.15.0&quot;)\n            }\n            because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Though this config doesn't depend on log4j directly, it has some transient dependencies on log4j. And I expect that it would enforce use of version 2.15.0 or later.</p>\n<p>But unfortunately it doesn't change anything:</p>\n<pre><code>$ gradle dependencies | grep log4j\n+--- org.apache.logging.log4j:log4j-slf4j-impl:2.15.0\n|    \\--- org.apache.logging.log4j:log4j-api:2.15.0 -&gt; 2.13.3\n.....\n+--- org.apache.logging.log4j:log4j-api:{strictly [2.15; prefer 2.15.0} -&gt; 2.13.3 (c)\n\\--- org.apache.logging.log4j:log4j-core:{strictly [2.15; prefer 2.15.0} -&gt; 2.13.3 (c)\n</code></pre>\n<p>And</p>\n<pre><code>$ gradle dependencyInsight --dependency org.apache.logging.log4j\n\n&gt; Task :dependencyInsight \norg.apache.logging.log4j:log4j-api:2.13.3\nvariant &quot;compile&quot; [\n  org.gradle.status                  = release (not requested)\n  org.gradle.usage                   = java-api\n  org.gradle.libraryelements         = jar (compatible with: classes+resources)\n  org.gradle.category                = library\n\n  Requested attributes not found in the selected variant:\n     org.gradle.dependency.bundling     = external\n     org.gradle.jvm.environment         = standard-jvm\n     org.jetbrains.kotlin.platform.type = jvm\n     org.gradle.jvm.version             = 13\n]\nSelection reasons:\n  - Selected by rule\n  - By constraint : CVE-2021-44228 Log4j 2 Vulnerability\n\norg.apache.logging.log4j:log4j-api:{strictly [2.15; prefer 2.15.0} -&gt; 2.13.3\n\\--- compileClasspath\n\norg.apache.logging.log4j:log4j-api:2.15.0 -&gt; 2.13.3\n\\--- org.apache.logging.log4j:log4j-slf4j-impl:2.15.0\n     \\--- compileClasspath \n</code></pre>\n<p>Why it downgrades to version 2.13.3? Even though it was set as 2.15 for <code>log4j-slf4j-impl</code> and also required by constraints.</p>\n<p>Same result with Gradle 6.9 and 7.2</p>\n<p>--</p>\n<p>Upd:</p>\n<p>For simplicity I changed the constraints to:</p>\n<pre><code>    add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-core:2.15.0&quot;) {\n        because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\n    }\n    add(&quot;implementation&quot;, &quot;org.apache.logging.log4j:log4j-api:2.15.0&quot;) {\n        because(&quot;CVE-2021-44228 Log4j 2 Vulnerability&quot;)\n    }\n</code></pre>\n<p>Still no effect</p>\n"},{"tags":["java","selenium","drop-down-menu","html-select","display"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649023383,"creation_date":1649023383,"answer_id":71730195,"question_id":71721143,"body_markdown":"As per the HTML, the [tag:html-select] tag is having the _`style`_ attribute set as [_**display: none;**_](https://stackoverflow.com/a/47832218/7429447).\r\n\r\n[![display_none][1]][1]\r\n\r\nUnless the element is _**visible**_ within the [HTML DOM](https://www.w3schools.com/js/js_htmldom.asp) **`Select()`** may not work properly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3lY6N.png","title":"ElementNotInteractableException error identifying a Select element using Selenium","body":"<p>As per the HTML, the <a href=\"/questions/tagged/html-select\" class=\"post-tag\" title=\"show questions tagged &#39;html-select&#39;\" rel=\"tag\">html-select</a> tag is having the <em><code>style</code></em> attribute set as <a href=\"https://stackoverflow.com/a/47832218/7429447\"><em><strong>display: none;</strong></em></a>.</p>\n<p><a href=\"https://i.stack.imgur.com/3lY6N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3lY6N.png\" alt=\"display_none\" /></a></p>\n<p>Unless the element is <em><strong>visible</strong></em> within the <a href=\"https://www.w3schools.com/js/js_htmldom.asp\" rel=\"nofollow noreferrer\">HTML DOM</a> <strong><code>Select()</code></strong> may not work properly.</p>\n"}],"owner":{"account_id":16700179,"reputation":19,"user_id":12070158,"display_name":"blofeld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649023383,"creation_date":1648933390,"question_id":71721143,"body_markdown":"I learn Selenium in Java and I&#39;m struggling with little problem.\r\nI&#39;m working on handling dropdowns and to resolve my probelm I have to use Select class.\r\nI wrote a selector: \r\n\r\n    @FindBy(css=&quot;#speed&quot;)\r\n    WebElement selectSpeed;\r\n\r\nThen I wrote a method :\r\n\r\n    public SelectMenuPage selectRandomSpeed(){\r\n    getWaitForTheElement().untilElementIsPresentCss(&quot;#speed&quot;);\r\n          //webDriverWait.until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(locator)));\r\n            Select select = new Select(selectSpeed);\r\n            select.selectByIndex(0);\r\n            return this;\r\n        }\r\n\r\nThe problem is that when I use Select class the code simply does not work and I receive:\r\n\r\n    org.openqa.selenium.ElementNotInteractableException: element not interactable: \r\n    Element is not currently visible and may not be manipulated\r\n\r\n\r\nIt works very well when, instead of using Select, I just put the selectors of all the wanted elements and just simply interact with them. Unfortunately, I **have to** use Select class.\r\n\r\nHere is my DOM\r\n[![enter image description here][1]][1]\r\n\r\n     \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lhhzF.jpg","title":"ElementNotInteractableException error identifying a Select element using Selenium","body":"<p>I learn Selenium in Java and I'm struggling with little problem.\nI'm working on handling dropdowns and to resolve my probelm I have to use Select class.\nI wrote a selector:</p>\n<pre><code>@FindBy(css=&quot;#speed&quot;)\nWebElement selectSpeed;\n</code></pre>\n<p>Then I wrote a method :</p>\n<pre><code>public SelectMenuPage selectRandomSpeed(){\ngetWaitForTheElement().untilElementIsPresentCss(&quot;#speed&quot;);\n      //webDriverWait.until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(locator)));\n        Select select = new Select(selectSpeed);\n        select.selectByIndex(0);\n        return this;\n    }\n</code></pre>\n<p>The problem is that when I use Select class the code simply does not work and I receive:</p>\n<pre><code>org.openqa.selenium.ElementNotInteractableException: element not interactable: \nElement is not currently visible and may not be manipulated\n</code></pre>\n<p>It works very well when, instead of using Select, I just put the selectors of all the wanted elements and just simply interact with them. Unfortunately, I <strong>have to</strong> use Select class.</p>\n<p>Here is my DOM\n<a href=\"https://i.stack.imgur.com/lhhzF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lhhzF.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":16222481,"reputation":1,"user_id":11713716,"display_name":"&#199;ETİN KALTAR"},"score":0,"creation_date":1648851299,"post_id":71713050,"comment_id":126738091,"body_markdown":"your code is correct. What do you mean no success? any error?","body":"your code is correct. What do you mean no success? any error?"},{"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"score":0,"creation_date":1648860656,"post_id":71713050,"comment_id":126738467,"body_markdown":"You can&#39;t map two entities to one column &quot;company_code&quot; so here you&#39;ll be getting an error unless you mark your joincolumns as below:@JoinColumn(name = &quot;company_code&quot;, referencedColumnName = &quot;company_code&quot;, insertable=false, updatable=false)","body":"You can&#39;t map two entities to one column &quot;company_code&quot; so here you&#39;ll be getting an error unless you mark your joincolumns as below:@JoinColumn(name = &quot;company_code&quot;, referencedColumnName = &quot;company_code&quot;, insertable=false, updatable=false)"},{"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"score":0,"creation_date":1648861118,"post_id":71713050,"comment_id":126738520,"body_markdown":"Also for the private Long companyCode JPA will try to make a column name company_code so it will conflict with company_code from join columns. So you need to rename the variable or add custom table name. Anyway it&#39;s hard to say without more  info on errors and what result do you expect in the end","body":"Also for the private Long companyCode JPA will try to make a column name company_code so it will conflict with company_code from join columns. So you need to rename the variable or add custom table name. Anyway it&#39;s hard to say without more  info on errors and what result do you expect in the end"},{"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"score":0,"creation_date":1649000632,"post_id":71713050,"comment_id":126759984,"body_markdown":"This is the error I&#39;m getting: Caused by: org.hibernate.MappingException: Unable to find column with logical name company_code in table contract_type","body":"This is the error I&#39;m getting: Caused by: org.hibernate.MappingException: Unable to find column with logical name company_code in table contract_type"}],"answers":[{"tags":[],"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649023267,"creation_date":1649023267,"answer_id":71730189,"question_id":71713050,"body_markdown":"I assume you have companyCode fields in the AccountType and ContractType. Annotate them as below (first error suggests JPA can&#39;t find them):\r\n\r\n    @Column(name = &quot;company_code&quot;)\r\n\r\nIn your Project class modify companyCode field as follows (to avoid the second error):\r\n\r\n    @Column(name = &quot;company&quot;)\r\n    private Long companyCode;\r\n\r\nand keep mapping with:\r\n\r\n    insertable = false, updatable = false\r\n\r\nHope this will help. If not please add AccountType and ContractType classes to your question. Maybe then it will be easier to sort it out","title":"Mapping two columns in JPA","body":"<p>I assume you have companyCode fields in the AccountType and ContractType. Annotate them as below (first error suggests JPA can't find them):</p>\n<pre><code>@Column(name = &quot;company_code&quot;)\n</code></pre>\n<p>In your Project class modify companyCode field as follows (to avoid the second error):</p>\n<pre><code>@Column(name = &quot;company&quot;)\nprivate Long companyCode;\n</code></pre>\n<p>and keep mapping with:</p>\n<pre><code>insertable = false, updatable = false\n</code></pre>\n<p>Hope this will help. If not please add AccountType and ContractType classes to your question. Maybe then it will be easier to sort it out</p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":801,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649023267,"creation_date":1648849594,"question_id":71713050,"body_markdown":"I have the following 3 tables\r\n\r\n    table: project\r\n    id\r\n    company_code\r\n    number\r\n    contract_type_code\r\n    account_type_code\r\n    other columns…\r\n    \r\n    table: contract_type\r\n    id\r\n    company_code\r\n    code\r\n    name\r\n    \r\n    table: account_type\r\n    id\r\n    company_code\r\n    code\r\n    name\r\n\r\nThe project table references contract_type and account_type tables through contract_type_code/company_code and account_type_code/company_code respectively.\r\n\r\nThe company_code and code columns are what make a contract_type and account_type unique.\r\n\r\nI&#39;m struggling with modelling and mapping this in JPA. I&#39;ve tried with the @JoinColumn and @JoinColumns annotation and there&#39;s no way for me to make it work.\r\n\r\nThis is one of the ways I&#39;ve been trying with no success:\r\n\r\n    public class Project implements Serializable {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \r\n    \tprivate Long companyCode;\r\n    \r\n    \tprivate Long number;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumns({\r\n    \t\t\t@JoinColumn(name = &quot;contract_type_code&quot;, referencedColumnName = &quot;code&quot;),\r\n    \t\t\t@JoinColumn(name = &quot;company_code&quot;, referencedColumnName = &quot;company_code&quot;)\r\n    \t})\r\n    \tprivate ContractType contractType;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumns({\r\n    \t\t\t@JoinColumn(name = &quot;account_type_code&quot;, referencedColumnName = &quot;code&quot;),\r\n    \t\t\t@JoinColumn(name = &quot;company_code&quot;, referencedColumnName = &quot;company_code&quot;)\r\n    \t})\r\n    \tprivate AccountType accountType;\r\n\r\nThis is the issue I&#39;m getting with the mapping above:\r\n\r\n    Caused by: org.hibernate.MappingException: Unable to find column with logical name company_code in table contract_type\r\n\r\nFor this mapping:\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumns({\r\n\t\t\t@JoinColumn(name = &quot;contract_type_code&quot;, referencedColumnName = &quot;code&quot;, insertable = false, updatable = false),\r\n\t\t\t@JoinColumn(name = &quot;company_code&quot;, referencedColumnName = &quot;company_code2&quot;, insertable = false, updatable = false)\r\n\t})\r\n\tprivate ContractType contractType;\r\n\r\nI get:\r\n\r\n    Caused by: org.hibernate.DuplicateMappingException: Table [account] contains physical column name [company_code] referred to by multiple logical column names: [company_code], [companyCode]","title":"Mapping two columns in JPA","body":"<p>I have the following 3 tables</p>\n<pre><code>table: project\nid\ncompany_code\nnumber\ncontract_type_code\naccount_type_code\nother columns…\n\ntable: contract_type\nid\ncompany_code\ncode\nname\n\ntable: account_type\nid\ncompany_code\ncode\nname\n</code></pre>\n<p>The project table references contract_type and account_type tables through contract_type_code/company_code and account_type_code/company_code respectively.</p>\n<p>The company_code and code columns are what make a contract_type and account_type unique.</p>\n<p>I'm struggling with modelling and mapping this in JPA. I've tried with the @JoinColumn and @JoinColumns annotation and there's no way for me to make it work.</p>\n<p>This is one of the ways I've been trying with no success:</p>\n<pre><code>public class Project implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Long companyCode;\n\n    private Long number;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;contract_type_code&quot;, referencedColumnName = &quot;code&quot;),\n            @JoinColumn(name = &quot;company_code&quot;, referencedColumnName = &quot;company_code&quot;)\n    })\n    private ContractType contractType;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;account_type_code&quot;, referencedColumnName = &quot;code&quot;),\n            @JoinColumn(name = &quot;company_code&quot;, referencedColumnName = &quot;company_code&quot;)\n    })\n    private AccountType accountType;\n</code></pre>\n<p>This is the issue I'm getting with the mapping above:</p>\n<pre><code>Caused by: org.hibernate.MappingException: Unable to find column with logical name company_code in table contract_type\n</code></pre>\n<p>For this mapping:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumns({\n        @JoinColumn(name = &quot;contract_type_code&quot;, referencedColumnName = &quot;code&quot;, insertable = false, updatable = false),\n        @JoinColumn(name = &quot;company_code&quot;, referencedColumnName = &quot;company_code2&quot;, insertable = false, updatable = false)\n})\nprivate ContractType contractType;\n</code></pre>\n<p>I get:</p>\n<pre><code>Caused by: org.hibernate.DuplicateMappingException: Table [account] contains physical column name [company_code] referred to by multiple logical column names: [company_code], [companyCode]\n</code></pre>\n"},{"tags":["java","kotlin","sockets","iot","lan"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1649016085,"post_id":71728574,"comment_id":126763479,"body_markdown":"Is it important that you send `id: 1` in Python, but `id: 0` in Kotlin? Also, try to add `socket.flush()` after `write()`.","body":"Is it important that you send <code>id: 1</code> in Python, but <code>id: 0</code> in Kotlin? Also, try to add <code>socket.flush()</code> after <code>write()</code>."},{"owner":{"account_id":11024500,"reputation":3,"user_id":8097793,"display_name":"Andrew"},"score":0,"creation_date":1649028115,"post_id":71728574,"comment_id":126765433,"body_markdown":"They are just a utility field, so no, I just didn&#39;t realize they were different. About `socket.flush()`/`socket.close()`, they didn&#39;t fix my original code, but I tried removing `socketWriter.close()` from the accepted answer and it indeed made the code stop working, so that is in fact required.","body":"They are just a utility field, so no, I just didn&#39;t realize they were different. About <code>socket.flush()</code>/<code>socket.close()</code>, they didn&#39;t fix my original code, but I tried removing <code>socketWriter.close()</code> from the accepted answer and it indeed made the code stop working, so that is in fact required."}],"answers":[{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649023185,"creation_date":1649023185,"answer_id":71730178,"question_id":71728574,"body_markdown":"In Java you can do it as following:\r\n```\r\npublic class Client {\r\n\r\n    public static final String LOCALHOST = &quot;localhost&quot;; // Example host\r\n    public static final int PORT = 1234;                // Example port\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        try (Socket socket = new Socket(LOCALHOST, PORT)) {\r\n            System.out.println(&quot;Connected to Server!&quot;);\r\n            BufferedWriter socketWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream(), StandardCharsets.UTF_8));\r\n            socketWriter.write(&quot;{\\&quot;id\\&quot;:1,\\&quot;method\\&quot;:\\&quot;toggle\\&quot;,\\&quot;params\\&quot;:[\\&quot;smooth\\&quot;,300]}\\n&quot;);\r\n            socketWriter.close();\r\n        }\r\n        System.out.println(&quot;Disconnected from server&quot;);\r\n    }\r\n}\r\n```\r\nIn case you have a JDK 15+ you can use the new text block feature to write the String:\r\n```\r\n/*socketWriter.write(&quot;&quot;&quot;\r\n    {&quot;id&quot;:1,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\r\n    &quot;&quot;&quot;);*/\r\n```","title":"How to send message to device on local network using Java/Kotlin sockets?","body":"<p>In Java you can do it as following:</p>\n<pre><code>public class Client {\n\n    public static final String LOCALHOST = &quot;localhost&quot;; // Example host\n    public static final int PORT = 1234;                // Example port\n\n    public static void main(String[] args) throws IOException {\n        try (Socket socket = new Socket(LOCALHOST, PORT)) {\n            System.out.println(&quot;Connected to Server!&quot;);\n            BufferedWriter socketWriter = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream(), StandardCharsets.UTF_8));\n            socketWriter.write(&quot;{\\&quot;id\\&quot;:1,\\&quot;method\\&quot;:\\&quot;toggle\\&quot;,\\&quot;params\\&quot;:[\\&quot;smooth\\&quot;,300]}\\n&quot;);\n            socketWriter.close();\n        }\n        System.out.println(&quot;Disconnected from server&quot;);\n    }\n}\n</code></pre>\n<p>In case you have a JDK 15+ you can use the new text block feature to write the String:</p>\n<pre><code>/*socketWriter.write(&quot;&quot;&quot;\n    {&quot;id&quot;:1,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\n    &quot;&quot;&quot;);*/\n</code></pre>\n"}],"owner":{"account_id":11024500,"reputation":3,"user_id":8097793,"display_name":"Andrew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71730178,"answer_count":1,"score":0,"last_activity_date":1649023185,"creation_date":1649008725,"question_id":71728574,"body_markdown":"I need to send a message (in JSON format) to a IoT device connected on my local network. The device is a smart bulb that I would like to toggle at every request. I know the IP address and the port of the device.\r\n\r\nI am already able to control it using a Python script, like so:\r\n\r\n```python\r\nrequest = &quot;&quot;&quot;{&quot;id&quot;:1,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\\r\\n&quot;&quot;&quot;.encode(&quot;utf8&quot;)\r\n    \r\nprint(request) # Prints: b&#39;{&quot;id&quot;:1,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\\r\\n&#39;\r\n    \r\n_socket= socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\n_socket.settimeout(5)\r\n_socket.connect((&#39;123.456.7.89&#39;, 12345))\r\n_socket.send(request)\r\n```\r\n\r\nBut I need to run it using Java/Kotlin. I tried converting the code, and so far I got this (in Kotlin):\r\n\r\n```kotlin\r\nval request = &quot;&quot;&quot;{&quot;id&quot;:0,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\\r\\n&quot;&quot;&quot;.encodeUtf8().toByteArray()\r\n    \r\nprintln(String(request, Charsets.UTF_8)) // Prints: {&quot;id&quot;:0,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\\r\\n\r\n    \r\nval socket = Socket()\r\nval socketAddress = InetSocketAddress(&quot;123.456.7.89&quot;, 12345)\r\nsocket.connect(socketAddress, 5_000)\r\nsocket.getOutputStream().write(request)\r\n```\r\n\r\nThis script runs without any exception, but it also doesn&#39;t work, and I couldn&#39;t find a way to proceed from here.","title":"How to send message to device on local network using Java/Kotlin sockets?","body":"<p>I need to send a message (in JSON format) to a IoT device connected on my local network. The device is a smart bulb that I would like to toggle at every request. I know the IP address and the port of the device.</p>\n<p>I am already able to control it using a Python script, like so:</p>\n<pre class=\"lang-py prettyprint-override\"><code>request = &quot;&quot;&quot;{&quot;id&quot;:1,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\\r\\n&quot;&quot;&quot;.encode(&quot;utf8&quot;)\n    \nprint(request) # Prints: b'{&quot;id&quot;:1,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\\r\\n'\n    \n_socket= socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n_socket.settimeout(5)\n_socket.connect(('123.456.7.89', 12345))\n_socket.send(request)\n</code></pre>\n<p>But I need to run it using Java/Kotlin. I tried converting the code, and so far I got this (in Kotlin):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val request = &quot;&quot;&quot;{&quot;id&quot;:0,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\\r\\n&quot;&quot;&quot;.encodeUtf8().toByteArray()\n    \nprintln(String(request, Charsets.UTF_8)) // Prints: {&quot;id&quot;:0,&quot;method&quot;:&quot;toggle&quot;,&quot;params&quot;:[&quot;smooth&quot;,300]}\\r\\n\n    \nval socket = Socket()\nval socketAddress = InetSocketAddress(&quot;123.456.7.89&quot;, 12345)\nsocket.connect(socketAddress, 5_000)\nsocket.getOutputStream().write(request)\n</code></pre>\n<p>This script runs without any exception, but it also doesn't work, and I couldn't find a way to proceed from here.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1649004061,"post_id":71727907,"comment_id":126760763,"body_markdown":"Does this answer your question? [How to pass drawable between activities](https://stackoverflow.com/questions/8407336/how-to-pass-drawable-between-activities)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8407336/how-to-pass-drawable-between-activities\">How to pass drawable between activities</a>"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1649023033,"post_id":71727907,"comment_id":126764751,"body_markdown":"Try to convert `drawable` to `bitmap` then save the `bitmap` to the user device, and use the path you get it from the saved `bitmap` if you don&#39;t know the way to do it, I can help.","body":"Try to convert <code>drawable</code> to <code>bitmap</code> then save the <code>bitmap</code> to the user device, and use the path you get it from the saved <code>bitmap</code> if you don&#39;t know the way to do it, I can help."}],"owner":{"account_id":24778450,"reputation":1,"user_id":18661984,"display_name":"Neo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649022936,"creation_date":1649003841,"question_id":71727907,"body_markdown":"I know there are similar questions out there, but i could never understand the solution.\r\n\r\nI want to pass on 4 `drawables` out of the local variables of my `Activity`:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private Drawable picture1;\r\n        private Drawable picture2;\r\n        private Drawable picture3;\r\n        private Drawable picture4;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        public void select(View view){\r\n            SelectActivity temp = new SelectActivity();\r\n            Intent i = new Intent(this, SelectActivity.class);\r\n            //some Extras, that dont work because you can&#39;t send drawables\r\n            startActivity(i);\r\n        }\r\n    //...\r\n\r\nBasically, I would like to just get the ID and put that in the extras or similar, because all the files are in my res folder. But those four pictures are pictures used in `ImageButtons` and when I click one of them I need all 4 pictures and an integer of which one was clicked (I already figured that out).\r\n\r\nI&#39;m new to Android stuff and I can&#39;t figure out how to do that. I&#39;d appreciate a good explanation. Thank you in Advance","title":"How to pass drawable between activities?","body":"<p>I know there are similar questions out there, but i could never understand the solution.</p>\n<p>I want to pass on 4 <code>drawables</code> out of the local variables of my <code>Activity</code>:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Drawable picture1;\n    private Drawable picture2;\n    private Drawable picture3;\n    private Drawable picture4;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void select(View view){\n        SelectActivity temp = new SelectActivity();\n        Intent i = new Intent(this, SelectActivity.class);\n        //some Extras, that dont work because you can't send drawables\n        startActivity(i);\n    }\n//...\n</code></pre>\n<p>Basically, I would like to just get the ID and put that in the extras or similar, because all the files are in my res folder. But those four pictures are pictures used in <code>ImageButtons</code> and when I click one of them I need all 4 pictures and an integer of which one was clicked (I already figured that out).</p>\n<p>I'm new to Android stuff and I can't figure out how to do that. I'd appreciate a good explanation. Thank you in Advance</p>\n"},{"tags":["java","concurrency","parallel-processing","reactive-programming","future"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649022822,"creation_date":1649022822,"answer_id":71730141,"question_id":71729972,"body_markdown":"This might not be a full answer, but I wanted to share my thoughts on this interesting problem:\r\n\r\nI would create a worker queue that blocks as long as there are no tasks to process. Each task to process should be started in a separate thread (maybe from a thread pool, but it should be implemented in a way that more than one thread is possible in parallel.)\r\n&quot;add&quot; a task to the queue means to add it to the end of the queue.\r\n\r\nFirst add a task to send request A that waits for the answer. The handling of the answer should add tasks into the worker queue: one to send request B together with a future to fill in the result and one to send request C (with that same future to read it out).\r\n\r\nThe result handling for request C adds a task to send request D and passes on the future where B will provide the result.\r\n\r\nThe result handling for request B completes the given future.\r\n\r\nThe result handling for request D waits for the future and computes the result to fill in the final result list.\r\n\r\n","title":"Launch concurrent dependent queries to an API","body":"<p>This might not be a full answer, but I wanted to share my thoughts on this interesting problem:</p>\n<p>I would create a worker queue that blocks as long as there are no tasks to process. Each task to process should be started in a separate thread (maybe from a thread pool, but it should be implemented in a way that more than one thread is possible in parallel.)\n&quot;add&quot; a task to the queue means to add it to the end of the queue.</p>\n<p>First add a task to send request A that waits for the answer. The handling of the answer should add tasks into the worker queue: one to send request B together with a future to fill in the result and one to send request C (with that same future to read it out).</p>\n<p>The result handling for request C adds a task to send request D and passes on the future where B will provide the result.</p>\n<p>The result handling for request B completes the given future.</p>\n<p>The result handling for request D waits for the future and computes the result to fill in the final result list.</p>\n"}],"owner":{"account_id":4896113,"reputation":1,"user_id":3945697,"display_name":"Nicolas Noilhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649022822,"creation_date":1649021156,"question_id":71729972,"body_markdown":"I need to launch several queries to an API from a Java application.\r\nSome of those query depends of the result of the previous ones.\r\nI want each query to be executed as soon as possible (ie. as soon as the required data from the previous query has arrived).\r\n\r\nHere is the serial algorithm :\r\n\r\n```\r\nvar results = new ArrayList&lt;Result&gt;();\r\n\r\nvar mainItems = api.getCustomerMainItems(customerId); // request A\r\n\r\nfor(var mainItem : mainItems) {\r\n\r\n\tvar mainItemDetail = api.getMainItemDetail(mainItem.getId()); // N x request B\r\n\r\n\tvar subItems = api.getSubItems(mainItem.getId()); // N x request C\r\n\r\n\tfor(var subItem : subItems) {\r\n\r\n\t\tvar subItemDetail = api.getSubItemDetail(subItem.getId()); // N x M x request D\r\n\r\n\t\tvar result = new Result();\r\n\t\tresult.setA(mainItem.getA();\r\n\t\tresult.setB(mainItemDetail.getB();\r\n\t\tresult.setC(subItem.getC();\r\n\t\tresult.setD(subItemDetail.getD();\r\n\r\n\t\tresults.add(result);\r\n\t}\r\n}\r\n\r\nreturn result;\r\n```\r\n\r\nAs we can see :\r\n\r\n- the request A has to be launched first and we have to wait for it&#39;s result\r\n- for each element of A response we can launch the queries B and C\r\n- for each element of C response we can launch the query D\r\n- once we have the responses of the queries B and D (related with the same mainItem) we can create a result to add to the final results list.\r\n\r\nI&#39;ve tried to use parallelStream, ConpletableFuture and ReactiveFlux but I&#39;ve failed to find an implementation that can insure that the queries will be launched as soon as possible.\r\n\r\nMy parallelStream implementation solves the problem partially :\r\n\r\n```\r\nList&lt;MainItem&gt; mainItems = api.getCustomerMainItems(customerId); // request A\r\n\r\nList&lt;Triple&lt;MainItem, MainItemDetail, SubItem&gt;&gt; subItemsTriples = mainItems.parallelStream()\r\n\t.flatMap(mainItem -&gt; {\r\n\r\n\t\tvar mainItemDetail = api.getMainItemDetail(mainItem.getId()); // N x request B\r\n\r\n\t\tvar subItems = api.getSubItems(mainItem.getId()); // N x request C\r\n\r\n\t\treturn subItems.stream().map(subItem -&gt; Triple.of(mainItem, mainItemDetail, subItem))\r\n\t})\r\n\t.toList();\r\n\r\nList&lt;Result&gt; results = subItemsTriples.parallelStream().map(triple -&gt; {\r\n\tvar mainItem = triple.getLeft();\r\n\tvar mainItemDetail = triple.getMiddle();\r\n\tvar subItem = triple.getRight();\r\n\r\n\tvar subItemDetail = api.getSubItemDetail(subItem.getId()); // N x M x request D\r\n\r\n\tvar result = new Result();\r\n\tresult.setA(mainItem.getA();\r\n\tresult.setB(mainItemDetail.getB();\r\n\tresult.setC(subItem.getC();\r\n\tresult.setD(subItemDetail.getD();\r\n\r\n\treturn result;\r\n}).toList();\r\n```\r\n\r\nIt allows the queries B+C to be launched simultaneously for each result of A.\r\nIt allows the queries D to be launched simultaneously but only once we have all the responses of all B and C queries.\r\n\r\nI don&#39;t think that the parallelStream() can solve this issue completely but I&#39;m a bit lost with the Future and the Flux framework ...\r\n\r\nWhat framework would you advise ?\r\nDo you have a related example or even better, could you rewrite my code in an optimized asynch way (with the framework that you would advise) ?","title":"Launch concurrent dependent queries to an API","body":"<p>I need to launch several queries to an API from a Java application.\nSome of those query depends of the result of the previous ones.\nI want each query to be executed as soon as possible (ie. as soon as the required data from the previous query has arrived).</p>\n<p>Here is the serial algorithm :</p>\n<pre><code>var results = new ArrayList&lt;Result&gt;();\n\nvar mainItems = api.getCustomerMainItems(customerId); // request A\n\nfor(var mainItem : mainItems) {\n\n    var mainItemDetail = api.getMainItemDetail(mainItem.getId()); // N x request B\n\n    var subItems = api.getSubItems(mainItem.getId()); // N x request C\n\n    for(var subItem : subItems) {\n\n        var subItemDetail = api.getSubItemDetail(subItem.getId()); // N x M x request D\n\n        var result = new Result();\n        result.setA(mainItem.getA();\n        result.setB(mainItemDetail.getB();\n        result.setC(subItem.getC();\n        result.setD(subItemDetail.getD();\n\n        results.add(result);\n    }\n}\n\nreturn result;\n</code></pre>\n<p>As we can see :</p>\n<ul>\n<li>the request A has to be launched first and we have to wait for it's result</li>\n<li>for each element of A response we can launch the queries B and C</li>\n<li>for each element of C response we can launch the query D</li>\n<li>once we have the responses of the queries B and D (related with the same mainItem) we can create a result to add to the final results list.</li>\n</ul>\n<p>I've tried to use parallelStream, ConpletableFuture and ReactiveFlux but I've failed to find an implementation that can insure that the queries will be launched as soon as possible.</p>\n<p>My parallelStream implementation solves the problem partially :</p>\n<pre><code>List&lt;MainItem&gt; mainItems = api.getCustomerMainItems(customerId); // request A\n\nList&lt;Triple&lt;MainItem, MainItemDetail, SubItem&gt;&gt; subItemsTriples = mainItems.parallelStream()\n    .flatMap(mainItem -&gt; {\n\n        var mainItemDetail = api.getMainItemDetail(mainItem.getId()); // N x request B\n\n        var subItems = api.getSubItems(mainItem.getId()); // N x request C\n\n        return subItems.stream().map(subItem -&gt; Triple.of(mainItem, mainItemDetail, subItem))\n    })\n    .toList();\n\nList&lt;Result&gt; results = subItemsTriples.parallelStream().map(triple -&gt; {\n    var mainItem = triple.getLeft();\n    var mainItemDetail = triple.getMiddle();\n    var subItem = triple.getRight();\n\n    var subItemDetail = api.getSubItemDetail(subItem.getId()); // N x M x request D\n\n    var result = new Result();\n    result.setA(mainItem.getA();\n    result.setB(mainItemDetail.getB();\n    result.setC(subItem.getC();\n    result.setD(subItemDetail.getD();\n\n    return result;\n}).toList();\n</code></pre>\n<p>It allows the queries B+C to be launched simultaneously for each result of A.\nIt allows the queries D to be launched simultaneously but only once we have all the responses of all B and C queries.</p>\n<p>I don't think that the parallelStream() can solve this issue completely but I'm a bit lost with the Future and the Flux framework ...</p>\n<p>What framework would you advise ?\nDo you have a related example or even better, could you rewrite my code in an optimized asynch way (with the framework that you would advise) ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1648966424,"post_id":71723416,"comment_id":126753560,"body_markdown":"What exactly did you want for the first one?  You should replace the ellipses in that example to make it clearer, e.g. `19, 16, 20  High: 20, Low: 16`.","body":"What exactly did you want for the first one?  You should replace the ellipses in that example to make it clearer, e.g. <code>19, 16, 20  High: 20, Low: 16</code>."},{"owner":{"account_id":22211170,"reputation":25,"user_id":16450320,"display_name":"Exsent"},"score":0,"creation_date":1648966565,"post_id":71723416,"comment_id":126753577,"body_markdown":"yes like this your example, that is what I want for the first one as you have given on your eg.","body":"yes like this your example, that is what I want for the first one as you have given on your eg."}],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648967309,"creation_date":1648967309,"answer_id":71723516,"question_id":71723416,"body_markdown":"The [`Collections.max`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection)) and [`Collections.min`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#min(java.util.Collection,java.util.Comparator)) methods return the largest/smallest element in a list.  These can be used while mapping the `partitions` list with [`Stream.map`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function,java.util.Comparator)) to return the results in the format you&#39;re looking for:\r\n\r\n```lang-java\r\nComparator&lt;String&gt; numberValueComparator = Comparator.comparing(BigDecimal::new);\r\nList&lt;String&gt; groupedValue = partitions.stream()\r\n        .map(p -&gt; String.format(&quot;%s  High: %s, Low: %s&quot;,\r\n                String.join(&quot;, &quot;, p),\r\n                Collections.max(p, numberValueComparator),\r\n                Collections.min(p, numberValueComparator)))\r\n        .toList();\r\n\r\nSystem.out.println(String.join(&quot;\\n&quot;, groupedValue));\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\n19, 16, 20  High: 20, Low: 16\r\n01, 16, 1.3  High: 16, Low: 01\r\n1.6, 50, 2.0  High: 50, Low: 1.6\r\n17  High: 17, Low: 17\r\n```\r\n\r\nNote that it&#39;s important to compare the numeric value of the string, rather than the string itself.  For instance, using the natural order of strings, &quot;1001&quot; &lt; &quot;17&quot;.  This is why this is using a `Comparator` that first converts the number to a `BigDecimal` using the [`BigDecimal(String)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String)) constructor, and then compares those values.","title":"How to find highest and lowest value on substrings?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#max(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Collections.max</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#min(java.util.Collection,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Collections.min</code></a> methods return the largest/smallest element in a list.  These can be used while mapping the <code>partitions</code> list with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Stream.map</code></a> to return the results in the format you're looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;String&gt; numberValueComparator = Comparator.comparing(BigDecimal::new);\nList&lt;String&gt; groupedValue = partitions.stream()\n        .map(p -&gt; String.format(&quot;%s  High: %s, Low: %s&quot;,\n                String.join(&quot;, &quot;, p),\n                Collections.max(p, numberValueComparator),\n                Collections.min(p, numberValueComparator)))\n        .toList();\n\nSystem.out.println(String.join(&quot;\\n&quot;, groupedValue));\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>19, 16, 20  High: 20, Low: 16\n01, 16, 1.3  High: 16, Low: 01\n1.6, 50, 2.0  High: 50, Low: 1.6\n17  High: 17, Low: 17\n</code></pre>\n<p>Note that it's important to compare the numeric value of the string, rather than the string itself.  For instance, using the natural order of strings, &quot;1001&quot; &lt; &quot;17&quot;.  This is why this is using a <code>Comparator</code> that first converts the number to a <code>BigDecimal</code> using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\"><code>BigDecimal(String)</code></a> constructor, and then compares those values.</p>\n"}],"owner":{"account_id":22211170,"reputation":25,"user_id":16450320,"display_name":"Exsent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71723516,"answer_count":1,"score":0,"last_activity_date":1649022158,"creation_date":1648965974,"question_id":71723416,"body_markdown":"I have this code:\r\n\r\n    String s_prices = &quot;19; 16; 20; 01; 16; 1.3; 1.6; 50; 2.0; 17&quot;;\r\n    \r\n    // Convert to List of strings:\r\n    // [&quot;19&quot;, &quot;16&quot;, &quot;20&quot;, &quot;01&quot;, &quot;16&quot;, &quot;1.3&quot;, &quot;1.6&quot;, &quot;50&quot;, &quot;2.0&quot;, &quot;17&quot;]\r\n            List&lt;String&gt; prices = Arrays.asList(s_prices.split(&quot;; &quot;));\r\n    \r\n    // Convert to List of 3-element lists of strings (possibly fewer for last one):\r\n    // [[&quot;19&quot;, &quot;16&quot;, &quot;20&quot;], [&quot;01&quot;, &quot;16&quot;, &quot;1.3&quot;], [&quot;1.6&quot;,&quot;50&quot;, &quot;2.0&quot;], [&quot;17&quot;]]\r\n            List&lt;List&lt;String&gt;&gt; partitions = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; prices.size(); i += 3) {\r\n                partitions.add(prices.subList(i, Math.min(i + 3, prices.size())));\r\n            }\r\n    \r\n    // Convert each partition List to a comma-delimited string\r\n    // [&quot;13, 16, 20&quot;, &quot;01, 16, 1.3&quot;, &quot;1.6, 50, 2.0&quot;, &quot;17&quot;]\r\n            List&lt;String&gt; substrings = partitions.stream().map(p -&gt; String.join(&quot;, &quot;, p)).collect(Collectors.toList());\r\n    \r\n    \r\n    // Output each list element on a new line to view the results\r\n            System.out.println(String.join(&quot;\\n&quot;, substrings));\r\n            TextView tv = findViewById(R.id.pprices);\r\n            tv.setText(String.join(&quot;\\n&quot;, substrings ));\r\n\r\nand I want to find the highest and the lowest price on every substring and show results on *TextView* as follows\r\n\r\n```lang-none\r\n19, 16, 20  High: 20, Low: 16\r\n01, 16, 1.3  High: 16, Low: 01\r\n1.6, 50, 2.0  High: 50, Low: 1.6\r\n17  High: 17, Low: 17\r\n```","title":"How to find highest and lowest value on substrings?","body":"<p>I have this code:</p>\n<pre><code>String s_prices = &quot;19; 16; 20; 01; 16; 1.3; 1.6; 50; 2.0; 17&quot;;\n\n// Convert to List of strings:\n// [&quot;19&quot;, &quot;16&quot;, &quot;20&quot;, &quot;01&quot;, &quot;16&quot;, &quot;1.3&quot;, &quot;1.6&quot;, &quot;50&quot;, &quot;2.0&quot;, &quot;17&quot;]\n        List&lt;String&gt; prices = Arrays.asList(s_prices.split(&quot;; &quot;));\n\n// Convert to List of 3-element lists of strings (possibly fewer for last one):\n// [[&quot;19&quot;, &quot;16&quot;, &quot;20&quot;], [&quot;01&quot;, &quot;16&quot;, &quot;1.3&quot;], [&quot;1.6&quot;,&quot;50&quot;, &quot;2.0&quot;], [&quot;17&quot;]]\n        List&lt;List&lt;String&gt;&gt; partitions = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; prices.size(); i += 3) {\n            partitions.add(prices.subList(i, Math.min(i + 3, prices.size())));\n        }\n\n// Convert each partition List to a comma-delimited string\n// [&quot;13, 16, 20&quot;, &quot;01, 16, 1.3&quot;, &quot;1.6, 50, 2.0&quot;, &quot;17&quot;]\n        List&lt;String&gt; substrings = partitions.stream().map(p -&gt; String.join(&quot;, &quot;, p)).collect(Collectors.toList());\n\n\n// Output each list element on a new line to view the results\n        System.out.println(String.join(&quot;\\n&quot;, substrings));\n        TextView tv = findViewById(R.id.pprices);\n        tv.setText(String.join(&quot;\\n&quot;, substrings ));\n</code></pre>\n<p>and I want to find the highest and the lowest price on every substring and show results on <em>TextView</em> as follows</p>\n<pre class=\"lang-none prettyprint-override\"><code>19, 16, 20  High: 20, Low: 16\n01, 16, 1.3  High: 16, Low: 01\n1.6, 50, 2.0  High: 50, Low: 1.6\n17  High: 17, Low: 17\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13144705,"reputation":865,"user_id":9495110,"display_name":"let me down slowly"},"score":0,"creation_date":1649021707,"post_id":71730001,"comment_id":126764510,"body_markdown":"Is the text file always in this same format?","body":"Is the text file always in this same format?"}],"answers":[{"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649022097,"creation_date":1649021717,"answer_id":71730037,"question_id":71730001,"body_markdown":"split it by line / loop over the lines. \r\n\r\nIf the line contains a &#39;:&#39; split the line by &#39;:&#39;, this gives you an array of length 2. \r\n\r\n  Create a `Map&lt;String, Int&gt;`.\r\n  Use array[0] for the map key, use array[1] for map value, check that the value can be an int (&quot;100 fps&quot; will fail) before adding it to the Map. Also remember to trim the whitespace. \r\n\r\nIf the line doesn&#39;t contain a &#39;:&#39; you can add it to a `List&lt;String&gt;`.\r\n\r\n\r\nLots of other ways to do it, depends on the file format consistency and what you want to use the data for etc.\r\n\r\nYou end up with:\r\n\r\n```\r\nMap:\r\n[[&quot;frames&quot;:42], [&quot;speed&quot;:100], [&quot;r&quot;:20], [&quot;x&quot;:30], [&quot;y&quot;:35]]\r\nList:\r\n[&quot;2&quot;,&quot;&quot;,&quot;Circle&quot;]\r\n```","title":"How to read an integer from a file with words in it in Java","body":"<p>split it by line / loop over the lines.</p>\n<p>If the line contains a ':' split the line by ':', this gives you an array of length 2.</p>\n<p>Create a <code>Map&lt;String, Int&gt;</code>.\nUse array[0] for the map key, use array[1] for map value, check that the value can be an int (&quot;100 fps&quot; will fail) before adding it to the Map. Also remember to trim the whitespace.</p>\n<p>If the line doesn't contain a ':' you can add it to a <code>List&lt;String&gt;</code>.</p>\n<p>Lots of other ways to do it, depends on the file format consistency and what you want to use the data for etc.</p>\n<p>You end up with:</p>\n<pre><code>Map:\n[[&quot;frames&quot;:42], [&quot;speed&quot;:100], [&quot;r&quot;:20], [&quot;x&quot;:30], [&quot;y&quot;:35]]\nList:\n[&quot;2&quot;,&quot;&quot;,&quot;Circle&quot;]\n</code></pre>\n"}],"owner":{"account_id":23412708,"reputation":21,"user_id":17474120,"display_name":"21mustard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1649175258,"answer_count":1,"score":1,"last_activity_date":1649022097,"creation_date":1649021451,"question_id":71730001,"body_markdown":"If I had a .txt file like this:\r\n```\r\nframes: 312\r\nspeed: 100 fps\r\n2\r\n\r\nCircle\r\nr: 20\r\nx: 30\r\ny: 35\r\n```\r\nand I wanted to get the useful information from the file, how would I do that? I&#39;m using java.util.Scanner.\r\nI want to get all the integers, and I want to read when it skips a line and the word &quot;Circle&quot;","title":"How to read an integer from a file with words in it in Java","body":"<p>If I had a .txt file like this:</p>\n<pre><code>frames: 312\nspeed: 100 fps\n2\n\nCircle\nr: 20\nx: 30\ny: 35\n</code></pre>\n<p>and I wanted to get the useful information from the file, how would I do that? I'm using java.util.Scanner.\nI want to get all the integers, and I want to read when it skips a line and the word &quot;Circle&quot;</p>\n"},{"tags":["java","json","jackson","annotations","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1547019106,"post_id":54086246,"comment_id":95042463,"body_markdown":"Just a quick guess: The problem could be due to the lack of a default constructor. Could you try adding `@NoArgsConstructor` to `Person`?","body":"Just a quick guess: The problem could be due to the lack of a default constructor. Could you try adding <code>@NoArgsConstructor</code> to <code>Person</code>?"},{"owner":{"account_id":260562,"reputation":695,"user_id":544192,"accept_rate":56,"display_name":"user544192"},"score":0,"creation_date":1547019359,"post_id":54086246,"comment_id":95042565,"body_markdown":"Sorry, that is not an option, Jan. We cannot make the class mutable. All the fields need to be final.","body":"Sorry, that is not an option, Jan. We cannot make the class mutable. All the fields need to be final."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1547019534,"post_id":54086246,"comment_id":95042637,"body_markdown":"That was not a solution suggestion, just a step to get clearer what the problem is.","body":"That was not a solution suggestion, just a step to get clearer what the problem is."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1547020200,"post_id":54086246,"comment_id":95042934,"body_markdown":"If you use Lombok &gt;= 1.16.20, you could also try adding `lombok.anyConstructor.addConstructorProperties = true` to your lombok.config.","body":"If you use Lombok &gt;= 1.16.20, you could also try adding <code>lombok.anyConstructor.addConstructorProperties = true</code> to your lombok.config."},{"owner":{"account_id":6550643,"reputation":259,"user_id":5065190,"accept_rate":0,"display_name":"Fran&#231;ois Rosi&#232;re"},"score":0,"creation_date":1648579933,"post_id":54086246,"comment_id":126659125,"body_markdown":"No Jackson experts to respond to the question asked more than 2 years ago?\nI face the same issue and would be very interested to know if there is a solution to this issue? Either by using the bean modifier or something else.\n\nIssue is the same with or without Lombok. Any help or feedback is more than welcome.","body":"No Jackson experts to respond to the question asked more than 2 years ago? I face the same issue and would be very interested to know if there is a solution to this issue? Either by using the bean modifier or something else.  Issue is the same with or without Lombok. Any help or feedback is more than welcome."}],"answers":[{"tags":[],"owner":{"account_id":6550643,"reputation":259,"user_id":5065190,"accept_rate":0,"display_name":"Fran&#231;ois Rosi&#232;re"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649021459,"creation_date":1649021459,"answer_id":71730003,"question_id":54086246,"body_markdown":"As mentioned, serialization will perfectly work for both mutable and immutable fields. Deserialization issue will only occur when using immutable fields as the BeanDeserializerModifier won&#39;t work in such a case. \r\n\r\nIn the Jackson terminology, immutable fields are named creator properties, meaning they are initialized using creators. See BeanDeserializerBase#resolve.\r\n\r\nTo correctly handle this use case, the ObjectMapper may be created with a custom DeserializationContext (an extended implementation of the ObjectMapper may also set the protected field related to the deserialization context). \r\n\r\nThen, through an override of the method DeserializationContext#handleSecondaryContextualization, it will be possible to change the deserialization to make it work.\r\n\r\nThere is maybe other possibilities but this one is working fine with encryption.\r\n","title":"Jackson&#39;s BeanDeserializerModifier does not work with final fields","body":"<p>As mentioned, serialization will perfectly work for both mutable and immutable fields. Deserialization issue will only occur when using immutable fields as the BeanDeserializerModifier won't work in such a case.</p>\n<p>In the Jackson terminology, immutable fields are named creator properties, meaning they are initialized using creators. See BeanDeserializerBase#resolve.</p>\n<p>To correctly handle this use case, the ObjectMapper may be created with a custom DeserializationContext (an extended implementation of the ObjectMapper may also set the protected field related to the deserialization context).</p>\n<p>Then, through an override of the method DeserializationContext#handleSecondaryContextualization, it will be possible to change the deserialization to make it work.</p>\n<p>There is maybe other possibilities but this one is working fine with encryption.</p>\n"}],"owner":{"account_id":260562,"reputation":695,"user_id":544192,"accept_rate":56,"display_name":"user544192"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649021459,"creation_date":1546928684,"question_id":54086246,"body_markdown":"I wrote a Custom Serializer and Custom Deserializer to serialize properties marked with @Confidential annotation.\r\n\r\n    @Data\r\n    public class Person {\r\n       private String name;\r\n    \r\n       @Confidential\r\n       private String address;\r\n    }\r\n\r\nThe Custom Serializer serializes a POJO with following values:\r\n\r\n    { &quot;name&quot;: &quot;John Doe&quot;, &quot;address&quot;: &quot;Kearney St&quot;}\r\n\r\n \r\nas follows:\r\n\r\n    {&quot;name&quot;:&quot;John Doe&quot;, &quot;address&quot;: {&quot;value&quot;:&quot;IjIwMzEwIDU4dGggTG4gTkUi&quot;}}\r\n\r\nThe Custom Deserializer is also able to deserialize the JSON back to the Person POJO fine.\r\n\r\n**However, when I make the fields in the Person POJO final**, serialization continues to work, **but deserialization fails.**\r\n\r\n\r\n    @Data\r\n    public class Person {\r\n        private final String name;\r\n     \r\n        @Confidential\r\n        private final String address;\r\n     }\r\n\r\nHere&#39;s the BeanSerializerModifier implementation:\r\n\r\n    @AllArgsConstructor\r\n    public class CustomDeserializerModifier extends BeanDeserializerModifier {\r\n        private final ObjectMapper objectMapper;\r\n    \r\n        @Override\r\n        public BeanDeserializerBuilder updateBuilder(final DeserializationConfig config,\r\n                                                     final BeanDescription beanDesc,\r\n                                                     final BeanDeserializerBuilder builder) {\r\n            Iterator&lt;SettableBeanProperty&gt; beanPropertyIterator = builder.getProperties();\r\n            beanPropertyIterator.forEachRemaining(settableBeanProperty -&gt; {\r\n                final Confidential annotation = settableBeanProperty.getAnnotation(Confidential.class);\r\n                if (encryptedProperty != null) {\r\n                    JsonDeserializer&lt;Object&gt; current = settableBeanProperty.getValueDeserializer();\r\n                    final SettableBeanProperty newSettableBeanProperty =\r\n                            settableBeanProperty.withValueDeserializer(\r\n                                    new CustomDeserializer(annotation, current, objectMapper)\r\n                            );\r\n                    builder.addOrReplaceProperty(newSettableBeanProperty, true);\r\n                }\r\n            });\r\n    \r\n            return builder;\r\n        }\r\n    }\r\n\r\n**I found that CustomDeserializer, never gets called when the Person POJO fields are final.**\r\n\r\nHere&#39;s the error message:\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\r\n     at [Source: {&quot;name&quot;:&quot;John Doe&quot;,&quot;address&quot;:{&quot;value&quot;:&quot;IjIwMzEwIDU4dGggTG4gTkUi&quot;}}; line: 1, column: 30] (through reference chain: com.custom.model.Person[&quot;address&quot;])\r\n\r\n**Can a Jackson expert please tell me why my CustomDeserializer isn&#39;t getting invoked when the POJO fields are final.** \r\n\r\nThank you!\r\n","title":"Jackson&#39;s BeanDeserializerModifier does not work with final fields","body":"<p>I wrote a Custom Serializer and Custom Deserializer to serialize properties marked with @Confidential annotation.</p>\n\n<pre><code>@Data\npublic class Person {\n   private String name;\n\n   @Confidential\n   private String address;\n}\n</code></pre>\n\n<p>The Custom Serializer serializes a POJO with following values:</p>\n\n<pre><code>{ \"name\": \"John Doe\", \"address\": \"Kearney St\"}\n</code></pre>\n\n<p>as follows:</p>\n\n<pre><code>{\"name\":\"John Doe\", \"address\": {\"value\":\"IjIwMzEwIDU4dGggTG4gTkUi\"}}\n</code></pre>\n\n<p>The Custom Deserializer is also able to deserialize the JSON back to the Person POJO fine.</p>\n\n<p><strong>However, when I make the fields in the Person POJO final</strong>, serialization continues to work, <strong>but deserialization fails.</strong></p>\n\n<pre><code>@Data\npublic class Person {\n    private final String name;\n\n    @Confidential\n    private final String address;\n }\n</code></pre>\n\n<p>Here's the BeanSerializerModifier implementation:</p>\n\n<pre><code>@AllArgsConstructor\npublic class CustomDeserializerModifier extends BeanDeserializerModifier {\n    private final ObjectMapper objectMapper;\n\n    @Override\n    public BeanDeserializerBuilder updateBuilder(final DeserializationConfig config,\n                                                 final BeanDescription beanDesc,\n                                                 final BeanDeserializerBuilder builder) {\n        Iterator&lt;SettableBeanProperty&gt; beanPropertyIterator = builder.getProperties();\n        beanPropertyIterator.forEachRemaining(settableBeanProperty -&gt; {\n            final Confidential annotation = settableBeanProperty.getAnnotation(Confidential.class);\n            if (encryptedProperty != null) {\n                JsonDeserializer&lt;Object&gt; current = settableBeanProperty.getValueDeserializer();\n                final SettableBeanProperty newSettableBeanProperty =\n                        settableBeanProperty.withValueDeserializer(\n                                new CustomDeserializer(annotation, current, objectMapper)\n                        );\n                builder.addOrReplaceProperty(newSettableBeanProperty, true);\n            }\n        });\n\n        return builder;\n    }\n}\n</code></pre>\n\n<p><strong>I found that CustomDeserializer, never gets called when the Person POJO fields are final.</strong></p>\n\n<p>Here's the error message:</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\n at [Source: {\"name\":\"John Doe\",\"address\":{\"value\":\"IjIwMzEwIDU4dGggTG4gTkUi\"}}; line: 1, column: 30] (through reference chain: com.custom.model.Person[\"address\"])\n</code></pre>\n\n<p><strong>Can a Jackson expert please tell me why my CustomDeserializer isn't getting invoked when the POJO fields are final.</strong> </p>\n\n<p>Thank you!</p>\n"},{"tags":["java","list","sorting","comparable"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648902079,"creation_date":1648846360,"answer_id":71712649,"question_id":71712614,"body_markdown":"It doesn&#39;t work in the same way, as you can assign the value to the element of an ***array***.\r\n\r\nWith a ***list*** you have to use method [`set()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#set(int,E)):\r\n```\r\nlist.set(j + 1, temp);\r\n```\r\n\r\nAlso, avoid using concrete types like `ArrayList` for method parameters and variables, write your code against interfaces like `List`. Now, your method `sort()` is limited to accept only instances `ArrayList` and not able to deal with a `LinkedList`.","title":"How to write a method that sorts an ArrayList in java using a generic Comparable type","body":"<p>It doesn't work in the same way, as you can assign the value to the element of an <em><strong>array</strong></em>.</p>\n<p>With a <em><strong>list</strong></em> you have to use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#set(int,E)\" rel=\"nofollow noreferrer\"><code>set()</code></a>:</p>\n<pre><code>list.set(j + 1, temp);\n</code></pre>\n<p>Also, avoid using concrete types like <code>ArrayList</code> for method parameters and variables, write your code against interfaces like <code>List</code>. Now, your method <code>sort()</code> is limited to accept only instances <code>ArrayList</code> and not able to deal with a <code>LinkedList</code>.</p>\n"},{"tags":[],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1648847623,"creation_date":1648846989,"answer_id":71712728,"question_id":71712614,"body_markdown":"```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Exercise19_09 {\r\n    \r\n    public static void main(String args[]){\r\n        ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;();\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;Enter 10 integers: &quot;);\r\n        for(int i = 0; i &lt; 10; i++){\r\n            int integer    = input.nextInt();\r\n            array.add(integer);\r\n        }\r\n        sort(array);\r\n        System.out.print(&quot;The sorted numbers are &quot;);\r\n        for(int i = 0; i &lt;= array.size()-1; i++){\r\n            System.out.print(array.get(i)+&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static &lt;E extends Comparable &lt;E&gt;&gt; void sort(ArrayList&lt;E&gt; list){\r\n        int n = list.size();\r\n    \r\n        for(int  i = 0; i &lt; n-1; i++){\r\n            for(int j = 0; j &lt; n-i-1; j++)\r\n                if(list.get(j).compareTo(list.get(j+1)) &gt; 0){\r\n                    E temp = list.get(j);\r\n                    list.set(j, list.get(j+1));\r\n                    list.set(j + 1, temp);\r\n\r\n                }\r\n        }\r\n    }\r\n}\r\n```","title":"How to write a method that sorts an ArrayList in java using a generic Comparable type","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\n\npublic class Exercise19_09 {\n    \n    public static void main(String args[]){\n        ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;();\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter 10 integers: &quot;);\n        for(int i = 0; i &lt; 10; i++){\n            int integer    = input.nextInt();\n            array.add(integer);\n        }\n        sort(array);\n        System.out.print(&quot;The sorted numbers are &quot;);\n        for(int i = 0; i &lt;= array.size()-1; i++){\n            System.out.print(array.get(i)+&quot; &quot;);\n        }\n    }\n\n    public static &lt;E extends Comparable &lt;E&gt;&gt; void sort(ArrayList&lt;E&gt; list){\n        int n = list.size();\n    \n        for(int  i = 0; i &lt; n-1; i++){\n            for(int j = 0; j &lt; n-i-1; j++)\n                if(list.get(j).compareTo(list.get(j+1)) &gt; 0){\n                    E temp = list.get(j);\n                    list.set(j, list.get(j+1));\n                    list.set(j + 1, temp);\n\n                }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649021366,"creation_date":1649020833,"answer_id":71729937,"question_id":71712614,"body_markdown":"Actually the _logic_ is wrong, that repeated swapping will not necessarily sort all.\r\n\r\nThe code does not give any assurrance to cover all pairs needing swapping:\r\n\r\n    public static &lt;E extends Comparable &lt;E&gt;&gt; void sort(List&lt;E&gt; list) {\r\n        int n = list.size();\r\n        for (int  i = 1; i &lt; n-1; i++) { // n-2 i&#39;s\r\n            for (int j = 0; j &lt; n-1-i; j++) { // for all i: n-1-i\r\n                if (list.get(i).compareTo(list.get(i+1)) &lt; 0) {\r\n                    Collections.swap(i, j+1);\r\n                }\r\n            }\r\n         }\r\n     }\r\n\r\nIt assumes that the elements after n-1-i will be sorted later.\r\nEspecially the last element i == n-1 seems not be treated.\r\n\r\nMore trustworthy:\r\n\r\n    public static &lt;E extends Comparable &lt;E&gt;&gt; void sort(List&lt;E&gt; list) {\r\n        int n = list.size();\r\n        // INVARIANT list[0, i&gt; is sorted\r\n        for (int  i = 0; i &lt; n; i++) {\r\n            // INVARIANT list[0, i&gt; is sorted\r\n\r\n            // INVARIANT list[0, j&gt; is sorted\r\n            // INVARIANT list[j, i&gt; is sorted\r\n            for (int j = 0; j &lt; i; j++) {\r\n                // INVARIANT list[0, j&gt; is sorted\r\n                // INVARIANT list[j, i&gt; is sorted\r\n                if (list.get(i).compareTo(list.get(j)) &lt; 0) {\r\n                    Collections.swap(i, j);\r\n                    // And greater j&#39;s are unsorted w.r.t. j\r\n                }\r\n                // INVARIANT list[j+1, i&gt; is sorted\r\n                // INVARIANT list[0, j+1&gt; is sorted\r\n            }\r\n            // INVARIANT list[0, i+1&gt; is sorted\r\n         }\r\n         // INVARIANT list[0, n&gt; is sorted\r\n     }\r\n\r\nYou could check out _pre-conditions, post-conditions, loop-variants, invariants_ and _proofs_.\r\n\r\nThe complexity (of both) is **O(n&#178;)** which could be bettered, as 100&#178; is already 10_000 (5_000 loop steps).","title":"How to write a method that sorts an ArrayList in java using a generic Comparable type","body":"<p>Actually the <em>logic</em> is wrong, that repeated swapping will not necessarily sort all.</p>\n<p>The code does not give any assurrance to cover all pairs needing swapping:</p>\n<pre><code>public static &lt;E extends Comparable &lt;E&gt;&gt; void sort(List&lt;E&gt; list) {\n    int n = list.size();\n    for (int  i = 1; i &lt; n-1; i++) { // n-2 i's\n        for (int j = 0; j &lt; n-1-i; j++) { // for all i: n-1-i\n            if (list.get(i).compareTo(list.get(i+1)) &lt; 0) {\n                Collections.swap(i, j+1);\n            }\n        }\n     }\n }\n</code></pre>\n<p>It assumes that the elements after n-1-i will be sorted later.\nEspecially the last element i == n-1 seems not be treated.</p>\n<p>More trustworthy:</p>\n<pre><code>public static &lt;E extends Comparable &lt;E&gt;&gt; void sort(List&lt;E&gt; list) {\n    int n = list.size();\n    // INVARIANT list[0, i&gt; is sorted\n    for (int  i = 0; i &lt; n; i++) {\n        // INVARIANT list[0, i&gt; is sorted\n\n        // INVARIANT list[0, j&gt; is sorted\n        // INVARIANT list[j, i&gt; is sorted\n        for (int j = 0; j &lt; i; j++) {\n            // INVARIANT list[0, j&gt; is sorted\n            // INVARIANT list[j, i&gt; is sorted\n            if (list.get(i).compareTo(list.get(j)) &lt; 0) {\n                Collections.swap(i, j);\n                // And greater j's are unsorted w.r.t. j\n            }\n            // INVARIANT list[j+1, i&gt; is sorted\n            // INVARIANT list[0, j+1&gt; is sorted\n        }\n        // INVARIANT list[0, i+1&gt; is sorted\n     }\n     // INVARIANT list[0, n&gt; is sorted\n }\n</code></pre>\n<p>You could check out <em>pre-conditions, post-conditions, loop-variants, invariants</em> and <em>proofs</em>.</p>\n<p>The complexity (of both) is <strong>O(n²)</strong> which could be bettered, as 100² is already 10_000 (5_000 loop steps).</p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1649021366,"creation_date":1648846148,"question_id":71712614,"body_markdown":"I am trying to write a method to sort an array of integers. \r\n\r\nThe method must utilize the `Comparable` interface. I&#39;ve designed a test case and attempted to write a solution.\r\n\r\nExpected:\r\n```\r\nEnter 10 integers: 3 4 12 7 3 4 5 6 4 7\r\nThe sorted numbers are 3 3 4 4 4 5 6 7 7 12\r\n```\r\n\r\nActual:\r\n```\r\nEnter 10 integers: 1\r\nEnter 10 integers: 2\r\nEnter 10 integers: 34\r\nEnter 10 integers: 4\r\nEnter 10 integers: 3\r\nEnter 10 integers: 2\r\nEnter 10 integers: 1\r\nEnter 10 integers: 4\r\nEnter 10 integers: 5\r\nEnter 10 integers: 6\r\nThe sorted numbers are: 3 5 4 1 2 2 1 4 5 6\r\n```\r\n\r\nMy attempt\r\n```\r\npublic class Test2 {\r\n    \r\n    public static void main(String args[]){\r\n        ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;();\r\n        Scanner input = new Scanner(System.in);\r\n        for(int i = 0; i &lt; 10; i++){\r\n            System.out.print(&quot;Enter 10 integers: &quot;);\r\n            int integer    = input.nextInt();\r\n            array.add(integer);\r\n        }\r\n        sort(array);\r\n        System.out.print(&quot;The sorted numbers are &quot;);\r\n        for(int i = 0; i &lt;= array.size()-1; i++){\r\n            System.out.print(array.get(i)+&quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static &lt;E extends Comparable &lt;E&gt;&gt; void sort(ArrayList&lt;E&gt; list) {\r\n        int n = list.size();\r\n    \r\n        for(int  i = 1; i &lt; n-1; i++) {\r\n            for(int j = 0; j &lt; n-i-1; j++) {\r\n                if(list.get(i).compareTo(list.get(i+1)) &lt; 0) {\r\n                    E temp = list.get(i);\r\n                    list.set(j, list.get(j+1));\r\n                    list.set(j + 1, temp);\r\n                }\r\n            }\r\n         }\r\n     }\r\n}\r\n```\r\n\r\nWhat can I try next?\r\n","title":"How to write a method that sorts an ArrayList in java using a generic Comparable type","body":"<p>I am trying to write a method to sort an array of integers.</p>\n<p>The method must utilize the <code>Comparable</code> interface. I've designed a test case and attempted to write a solution.</p>\n<p>Expected:</p>\n<pre><code>Enter 10 integers: 3 4 12 7 3 4 5 6 4 7\nThe sorted numbers are 3 3 4 4 4 5 6 7 7 12\n</code></pre>\n<p>Actual:</p>\n<pre><code>Enter 10 integers: 1\nEnter 10 integers: 2\nEnter 10 integers: 34\nEnter 10 integers: 4\nEnter 10 integers: 3\nEnter 10 integers: 2\nEnter 10 integers: 1\nEnter 10 integers: 4\nEnter 10 integers: 5\nEnter 10 integers: 6\nThe sorted numbers are: 3 5 4 1 2 2 1 4 5 6\n</code></pre>\n<p>My attempt</p>\n<pre><code>public class Test2 {\n    \n    public static void main(String args[]){\n        ArrayList&lt;Integer&gt; array = new ArrayList&lt;&gt;();\n        Scanner input = new Scanner(System.in);\n        for(int i = 0; i &lt; 10; i++){\n            System.out.print(&quot;Enter 10 integers: &quot;);\n            int integer    = input.nextInt();\n            array.add(integer);\n        }\n        sort(array);\n        System.out.print(&quot;The sorted numbers are &quot;);\n        for(int i = 0; i &lt;= array.size()-1; i++){\n            System.out.print(array.get(i)+&quot; &quot;);\n        }\n    }\n\n    public static &lt;E extends Comparable &lt;E&gt;&gt; void sort(ArrayList&lt;E&gt; list) {\n        int n = list.size();\n    \n        for(int  i = 1; i &lt; n-1; i++) {\n            for(int j = 0; j &lt; n-i-1; j++) {\n                if(list.get(i).compareTo(list.get(i+1)) &lt; 0) {\n                    E temp = list.get(i);\n                    list.set(j, list.get(j+1));\n                    list.set(j + 1, temp);\n                }\n            }\n         }\n     }\n}\n</code></pre>\n<p>What can I try next?</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1640854129,"post_id":70511364,"comment_id":124674630,"body_markdown":"You do not have the project imported correctly into the IDE. There are no sources set for `src/main/kotlin` directory, for example. Make sure you have imported all the Gradle build files of the project. See https://www.jetbrains.com/help/idea/gradle.html#link_gradle_project","body":"You do not have the project imported correctly into the IDE. There are no sources set for <code>src&#47;main&#47;kotlin</code> directory, for example. Make sure you have imported all the Gradle build files of the project. See <a href=\"https://www.jetbrains.com/help/idea/gradle.html#link_gradle_project\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/gradle.html#link_gradle_project</a>"}],"answers":[{"tags":[],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640721848,"creation_date":1640721848,"answer_id":70511980,"question_id":70511364,"body_markdown":"you need to run the main function class of the project in order to run the webserver ","title":"How to run a Spring Boot service with gradle.build file?","body":"<p>you need to run the main function class of the project in order to run the webserver</p>\n"},{"tags":[],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649021128,"creation_date":1642272168,"answer_id":70724356,"question_id":70511364,"body_markdown":"I gave up trying to run this in IntelliJ. The other answer on this page doesn&#39;t make any sense. I ran the project from the command line using `./gradlew bootRun`.\r\n","title":"How to run a Spring Boot service with gradle.build file?","body":"<p>I gave up trying to run this in IntelliJ. The other answer on this page doesn't make any sense. I ran the project from the command line using <code>./gradlew bootRun</code>.</p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70724356,"answer_count":2,"score":1,"last_activity_date":1649021128,"creation_date":1640717860,"question_id":70511364,"body_markdown":"I was given a Spring Boot project and told to run it in IntelliJ. I have the project open in IntelliJ. When I click on the gradle.build file I select **run** and the project compiles. \r\n\r\n**Expected:**\r\n\r\nWhen I click run on the project I expected the editor to run a local webserver and display &quot;Greetings from Greetings from ZprIng booTI, ${req.remoteAddr}&quot;. Given that the `ZitiSpringBootApplication.kt` is\r\n\r\n```\r\n/*\r\n * Copyright (c) 2018-2021 NetFoundry Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\npackage org.openziti.sample.springboot\r\n\r\nimport org.openziti.springboot.ZitiTomcatCustomizer\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.web.bind.annotation.GetMapping\r\nimport org.springframework.web.bind.annotation.RestController\r\nimport javax.servlet.http.HttpServletRequest\r\n\r\n\r\n@SpringBootApplication(\r\n    scanBasePackageClasses = [\r\n        ZitiTomcatCustomizer::class,\r\n        HelloController::class\r\n    ]\r\n)\r\nclass ZitiSpringBootApplication\r\n\r\n\r\n@RestController\r\nclass HelloController {\r\n    @GetMapping(&quot;/&quot;)\r\n    fun index(req: HttpServletRequest): String {\r\n        return &quot;Greetings from ZprIng booTI, ${req.remoteAddr}&quot;\r\n    }\r\n}\r\n```\r\n**Actual**\r\n\r\nHere is a screenshot from IntelliJ:\r\n\r\n[![enter image description here][1]][1] \r\n\r\nAs you can see the build was successful. How do I run the web service from the editor?\r\n\r\n  [1]: https://i.stack.imgur.com/VBBsf.png","title":"How to run a Spring Boot service with gradle.build file?","body":"<p>I was given a Spring Boot project and told to run it in IntelliJ. I have the project open in IntelliJ. When I click on the gradle.build file I select <strong>run</strong> and the project compiles.</p>\n<p><strong>Expected:</strong></p>\n<p>When I click run on the project I expected the editor to run a local webserver and display &quot;Greetings from Greetings from ZprIng booTI, ${req.remoteAddr}&quot;. Given that the <code>ZitiSpringBootApplication.kt</code> is</p>\n<pre><code>/*\n * Copyright (c) 2018-2021 NetFoundry Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\npackage org.openziti.sample.springboot\n\nimport org.openziti.springboot.ZitiTomcatCustomizer\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RestController\nimport javax.servlet.http.HttpServletRequest\n\n\n@SpringBootApplication(\n    scanBasePackageClasses = [\n        ZitiTomcatCustomizer::class,\n        HelloController::class\n    ]\n)\nclass ZitiSpringBootApplication\n\n\n@RestController\nclass HelloController {\n    @GetMapping(&quot;/&quot;)\n    fun index(req: HttpServletRequest): String {\n        return &quot;Greetings from ZprIng booTI, ${req.remoteAddr}&quot;\n    }\n}\n</code></pre>\n<p><strong>Actual</strong></p>\n<p>Here is a screenshot from IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/VBBsf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VBBsf.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the build was successful. How do I run the web service from the editor?</p>\n"},{"tags":["java","printing","special-characters","dbf"],"answers":[{"tags":[],"owner":{"account_id":4628250,"reputation":2306,"user_id":3751431,"accept_rate":75,"display_name":"Arno_Geismar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403793766,"creation_date":1403793766,"answer_id":24433504,"question_id":24432174,"body_markdown":"I could be wrong but try setting your database to UTF-8. I&#39;m guessing this problem has to do with character encoding.","title":"Changing the Character set of a .dbf file","body":"<p>I could be wrong but try setting your database to UTF-8. I'm guessing this problem has to do with character encoding.</p>\n"},{"tags":[],"owner":{"account_id":72325,"reputation":65186,"user_id":208880,"accept_rate":76,"display_name":"Ethan Furman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403892684,"creation_date":1403803358,"answer_id":24436667,"question_id":24432174,"body_markdown":"`dbf` files all use encodings, and not `utf-8`.  Which encoding was used is a part of the metadata stored in the first few bytes of the file.  You are facing one of two scenarios:\r\n\r\n  - The encoding is stored properly in the `dbf` file\r\n\r\n    If this is happening then MS Acess is properly using that information to decode the raw dbf data into unicode, and xBaseJ is not.\r\n\r\n  - The encoding is not stored properly in the file\r\n\r\n    If this is happening then MS Access is getting a lucky guess on the encoding, and xBaseJ is refusing to guess.\r\n\r\nYou need to find a tool that will examine the `dbf` file and tell you which encoding was stored in it.  If you don&#39;t know of any, and you don&#39;t mind having [Python](https://www.python.org/) on your machine, you can use a [dbf module](https://pypi.python.org/pypi/dbf) I wrote to figure it out:\r\n\r\n    import dbf\r\n\r\n    table = dbf.Table(&#39;/path/to/some_table.dbf&#39;)\r\n    print(table)\r\n\r\nwhich will print out the encoding, number of fields, size of a record, field names, etc.\r\n\r\n**Note on installing** (which can be such a pain)\r\n\r\nIdeally, you should be able to [install pip](https://stackoverflow.com/q/4750806/208880), and then do a `pip install enum34 dbf --upgrade` which will put the latest versions of those two libraries in the correct spot on your system.\r\n\r\nFailing that, you&#39;ll want to grab both [enum34](https://pypi.python.org/pypi/enum34) and [dbf](https://pypi.python.org/pypi/dbf) from PyPI and put `enum.py` and `dbf.py` in your Python&#39;s `site-packages` folder:\r\n\r\n    c:\\python27\\lib\\site-packages  # I think, it&#39;s been a while since I used Windows\r\n\r\n**Update**\r\n\r\nIf, after doing all that, you discover that the codepage/encoding was never set in the file (it&#39;s amazing how often this happens), then you can also use `dbf` to change it (if you know what it should be):\r\n\r\n    table.open()\r\n    table.codepage = dbf.CodePage(&#39;cp1252&#39;) # for example\r\n    table.close()","title":"Changing the Character set of a .dbf file","body":"<p><code>dbf</code> files all use encodings, and not <code>utf-8</code>.  Which encoding was used is a part of the metadata stored in the first few bytes of the file.  You are facing one of two scenarios:</p>\n\n<ul>\n<li><p>The encoding is stored properly in the <code>dbf</code> file</p>\n\n<p>If this is happening then MS Acess is properly using that information to decode the raw dbf data into unicode, and xBaseJ is not.</p></li>\n<li><p>The encoding is not stored properly in the file</p>\n\n<p>If this is happening then MS Access is getting a lucky guess on the encoding, and xBaseJ is refusing to guess.</p></li>\n</ul>\n\n<p>You need to find a tool that will examine the <code>dbf</code> file and tell you which encoding was stored in it.  If you don't know of any, and you don't mind having <a href=\"https://www.python.org/\" rel=\"nofollow noreferrer\">Python</a> on your machine, you can use a <a href=\"https://pypi.python.org/pypi/dbf\" rel=\"nofollow noreferrer\">dbf module</a> I wrote to figure it out:</p>\n\n<pre><code>import dbf\n\ntable = dbf.Table('/path/to/some_table.dbf')\nprint(table)\n</code></pre>\n\n<p>which will print out the encoding, number of fields, size of a record, field names, etc.</p>\n\n<p><strong>Note on installing</strong> (which can be such a pain)</p>\n\n<p>Ideally, you should be able to <a href=\"https://stackoverflow.com/q/4750806/208880\">install pip</a>, and then do a <code>pip install enum34 dbf --upgrade</code> which will put the latest versions of those two libraries in the correct spot on your system.</p>\n\n<p>Failing that, you'll want to grab both <a href=\"https://pypi.python.org/pypi/enum34\" rel=\"nofollow noreferrer\">enum34</a> and <a href=\"https://pypi.python.org/pypi/dbf\" rel=\"nofollow noreferrer\">dbf</a> from PyPI and put <code>enum.py</code> and <code>dbf.py</code> in your Python's <code>site-packages</code> folder:</p>\n\n<pre><code>c:\\python27\\lib\\site-packages  # I think, it's been a while since I used Windows\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>If, after doing all that, you discover that the codepage/encoding was never set in the file (it's amazing how often this happens), then you can also use <code>dbf</code> to change it (if you know what it should be):</p>\n\n<pre><code>table.open()\ntable.codepage = dbf.CodePage('cp1252') # for example\ntable.close()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4433467,"reputation":79,"user_id":3610008,"accept_rate":86,"display_name":"user3610008"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1403884397,"creation_date":1403884397,"answer_id":24455990,"question_id":24432174,"body_markdown":"Finally, i found the answer...\r\n\r\nFirst of all and as mentioned, thanks to Ethan Furman, i figured out that the problem was related to the encoding of the dbf Database and not to the xBaseJ API.\r\n\r\nThen i had to search for hours for a tool that can help me change the charset of the database which is Ascii. I found out that OpenOffice from Apache does that but the problem is that i don&#39;t have OpenOffice on my windows, and i tried to download it 5 or 6 times but every time it  is interrupted since my internet connection is really really bad (it downloads at the speed of 6 to 7Kbs) and the .exe file is 209 mB. So i had to search even more for another software to do the needed task.. And i don&#39;t how i found this DBF Commander that does more than just changing the charset. Anyways, downloaded the trial version that does everything but shows a window telling you to buy it everytime you do anything :D.\r\n\r\nFinally, i changed the charset from Ascii (850 International MS-DOS or something) to 1252 Windows Ansi... aaaaand boom! it works!\r\n\r\nI still think that there&#39;s a difference between the terms &quot;codePage&quot; &quot;Charset&quot; and &quot;encoding&quot; and i&#39;m using them the same.. But at least now i know they exist, and that&#39;s a new thing that i learned. \r\n\r\nAnyways, thank you again Ethan Furman, and i&#39;d like to thank Google also for making this possible :D!","title":"Changing the Character set of a .dbf file","body":"<p>Finally, i found the answer...</p>\n\n<p>First of all and as mentioned, thanks to Ethan Furman, i figured out that the problem was related to the encoding of the dbf Database and not to the xBaseJ API.</p>\n\n<p>Then i had to search for hours for a tool that can help me change the charset of the database which is Ascii. I found out that OpenOffice from Apache does that but the problem is that i don't have OpenOffice on my windows, and i tried to download it 5 or 6 times but every time it  is interrupted since my internet connection is really really bad (it downloads at the speed of 6 to 7Kbs) and the .exe file is 209 mB. So i had to search even more for another software to do the needed task.. And i don't how i found this DBF Commander that does more than just changing the charset. Anyways, downloaded the trial version that does everything but shows a window telling you to buy it everytime you do anything :D.</p>\n\n<p>Finally, i changed the charset from Ascii (850 International MS-DOS or something) to 1252 Windows Ansi... aaaaand boom! it works!</p>\n\n<p>I still think that there's a difference between the terms \"codePage\" \"Charset\" and \"encoding\" and i'm using them the same.. But at least now i know they exist, and that's a new thing that i learned. </p>\n\n<p>Anyways, thank you again Ethan Furman, and i'd like to thank Google also for making this possible :D!</p>\n"},{"tags":[],"owner":{"account_id":2035101,"reputation":82,"user_id":2030803,"display_name":"Yasas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429621270,"creation_date":1429621270,"answer_id":29772984,"question_id":24432174,"body_markdown":"You can try this library: [xbase4j][1]. As I learned, in many DBF files the &quot;language&quot; flag is set incorrectly or is not set at all. To solve this problem, just specify the the proper language before opening the DBF file. Something like this:\r\n\r\n    new XBase().withLanguage(Language.WinANSI).open(new File(&quot;...&quot;));\r\n\r\nFeel free to contact me if you need some help.\r\n\r\nRegards,\r\n\r\n  [1]: http://github.com/Yasas/xbase4j","title":"Changing the Character set of a .dbf file","body":"<p>You can try this library: <a href=\"http://github.com/Yasas/xbase4j\" rel=\"nofollow\">xbase4j</a>. As I learned, in many DBF files the \"language\" flag is set incorrectly or is not set at all. To solve this problem, just specify the the proper language before opening the DBF file. Something like this:</p>\n\n<pre><code>new XBase().withLanguage(Language.WinANSI).open(new File(\"...\"));\n</code></pre>\n\n<p>Feel free to contact me if you need some help.</p>\n\n<p>Regards,</p>\n"},{"tags":[],"owner":{"account_id":9482934,"reputation":1,"user_id":7050233,"display_name":"Waldo Molina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649019984,"creation_date":1649019984,"answer_id":71729857,"question_id":24432174,"body_markdown":"This Works ok for me:\r\n\r\n    import sys\r\n    import csv\r\n    from dbfread import DBF\r\n    \r\n    file = &quot;cliente.dbf&quot;\r\n    table = DBF(file, encoding=&quot;cp1250&quot;)\r\n    writer = csv.writer(sys.stdout)\r\n    writer.writerow(table.field_names)\r\n    for record in table:\r\n        writer.writerow(list(record.values()))\r\n\r\n","title":"Changing the Character set of a .dbf file","body":"<p>This Works ok for me:</p>\n<pre><code>import sys\nimport csv\nfrom dbfread import DBF\n\nfile = &quot;cliente.dbf&quot;\ntable = DBF(file, encoding=&quot;cp1250&quot;)\nwriter = csv.writer(sys.stdout)\nwriter.writerow(table.field_names)\nfor record in table:\n    writer.writerow(list(record.values()))\n</code></pre>\n"}],"owner":{"account_id":4433467,"reputation":79,"user_id":3610008,"accept_rate":86,"display_name":"user3610008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24455990,"answer_count":5,"score":1,"last_activity_date":1649019984,"creation_date":1403790153,"question_id":24432174,"body_markdown":"I have this java application that should load and print data with french special characters from a .dbf or dBase3 file but it doesn&#39;t work; the characters are not showing.\r\n\r\nI asked [this question](https://stackoverflow.com/questions/24429009/supporting-special-characters-in-printing?noredirect=1#) thinking that the problem was related only to the printing, but if you see the comments you can understand that i figured out that the problem was related to the database and not to the printing, since when adding a special character to my JTextPane, it prints normally... and i tried changing the character set of the textPane but still the same problem.\r\n\r\nAlso, to complicate even more the question for those out there that love solving difficult problems, when i use MS Access to open my .dbf file, the characters are there. So i&#39;m thinking, the error probably happens while loading the data from the database...\r\nBy the way, to do data fetching, i&#39;m using this API called [xBaseJ](http://xbasej.sourceforge.net/) that doesn&#39;t use sql, but it&#39;s own implementation. \r\n\r\nI hope i have given all the necessary details and also i&#39;d really appreciate any help, really.. any idea could help me figure out the solution (and the problem too).\r\n\r\n**Edit**\r\nNow, with the [Answer](https://stackoverflow.com/a/24436667/3610008) of [Ethan Furman](https://stackoverflow.com/users/208880/ethan-furman), we know that the problem is related to the encoding of database wich is Plain old Ascii and it&#39;s not related to the xBaseJ API.\r\n\r\nNow, the question should be: Is it possible to change the encoding of a dBase database? And how can i do it? Thank you @Ethan Furman, And thanks in advance for any help related to this question.","title":"Changing the Character set of a .dbf file","body":"<p>I have this java application that should load and print data with french special characters from a .dbf or dBase3 file but it doesn't work; the characters are not showing.</p>\n\n<p>I asked <a href=\"https://stackoverflow.com/questions/24429009/supporting-special-characters-in-printing?noredirect=1#\">this question</a> thinking that the problem was related only to the printing, but if you see the comments you can understand that i figured out that the problem was related to the database and not to the printing, since when adding a special character to my JTextPane, it prints normally... and i tried changing the character set of the textPane but still the same problem.</p>\n\n<p>Also, to complicate even more the question for those out there that love solving difficult problems, when i use MS Access to open my .dbf file, the characters are there. So i'm thinking, the error probably happens while loading the data from the database...\nBy the way, to do data fetching, i'm using this API called <a href=\"http://xbasej.sourceforge.net/\" rel=\"nofollow noreferrer\">xBaseJ</a> that doesn't use sql, but it's own implementation. </p>\n\n<p>I hope i have given all the necessary details and also i'd really appreciate any help, really.. any idea could help me figure out the solution (and the problem too).</p>\n\n<p><strong>Edit</strong>\nNow, with the <a href=\"https://stackoverflow.com/a/24436667/3610008\">Answer</a> of <a href=\"https://stackoverflow.com/users/208880/ethan-furman\">Ethan Furman</a>, we know that the problem is related to the encoding of database wich is Plain old Ascii and it's not related to the xBaseJ API.</p>\n\n<p>Now, the question should be: Is it possible to change the encoding of a dBase database? And how can i do it? Thank you @Ethan Furman, And thanks in advance for any help related to this question.</p>\n"},{"tags":["java","apache-spark","garbage-collection"],"comments":[{"owner":{"account_id":1158529,"reputation":26953,"user_id":1138523,"accept_rate":72,"display_name":"Raphael Roth"},"score":0,"creation_date":1511124826,"post_id":47378165,"comment_id":81716304,"body_markdown":"https://spark.apache.org/docs/latest/tuning.html#garbage-collection-tuning","body":"<a href=\"https://spark.apache.org/docs/latest/tuning.html#garbage-collection-tuning\" rel=\"nofollow noreferrer\">spark.apache.org/docs/latest/&hellip;</a>"},{"owner":{"account_id":3496270,"reputation":1395,"user_id":2924373,"display_name":"Warren Zhu"},"score":0,"creation_date":1577556905,"post_id":47378165,"comment_id":105198968,"body_markdown":"If you still want help, could you add your specific config?","body":"If you still want help, could you add your specific config?"},{"owner":{"account_id":8173338,"reputation":546,"user_id":6152983,"display_name":"Jin"},"score":0,"creation_date":1596329452,"post_id":47378165,"comment_id":111777145,"body_markdown":"Were you able to resolve this issue?","body":"Were you able to resolve this issue?"}],"answers":[{"tags":[],"owner":{"account_id":3582322,"reputation":17,"user_id":2990232,"display_name":"wei-song"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1534961053,"creation_date":1534961053,"answer_id":51972706,"question_id":47378165,"body_markdown":"https://spark.apache.org/docs/latest/tuning.html\r\n\r\nfirst try  \r\n`.config(&quot;spark.executor.memory&quot;,&quot;8g&quot;)`                   \r\n\r\n\r\nhttp://www.oracle.com/technetwork/articles/java/g1gc-1984535.html","title":"Spark GC time is very high causing task execution slow","body":"<p><a href=\"https://spark.apache.org/docs/latest/tuning.html\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/tuning.html</a></p>\n\n<p>first try<br>\n<code>.config(\"spark.executor.memory\",\"8g\")</code>                   </p>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html</a></p>\n"},{"tags":[],"owner":{"account_id":4071599,"reputation":1,"user_id":3344461,"display_name":"user3344461"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649019438,"creation_date":1649019438,"answer_id":71729800,"question_id":47378165,"body_markdown":"You can try to repartition the dataframe inside the application and increase cores, with partitons = cores and check again.","title":"Spark GC time is very high causing task execution slow","body":"<p>You can try to repartition the dataframe inside the application and increase cores, with partitons = cores and check again.</p>\n"}],"owner":{"account_id":7547820,"reputation":2923,"user_id":5730257,"accept_rate":20,"display_name":"suraj chopade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7571,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1649019438,"creation_date":1511102881,"question_id":47378165,"body_markdown":"I am running spark application on 5 node cluster. Each node have configuration as 16 core and 64 GB ram.\r\n\r\nThere are 4 stages in my application. 3 stages executed fast for 4th stage ie mapToPair is it taking too much time(almost 4 hours).\r\n\r\nBelow is the job statistics for job[![Executors GC Time][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0kXQm.png\r\n\r\nI have checked executors logs as well, didn&#39;t see any errors/exception. Could you please suggest me if any configuration changes needs to be done to improve the performance?","title":"Spark GC time is very high causing task execution slow","body":"<p>I am running spark application on 5 node cluster. Each node have configuration as 16 core and 64 GB ram.</p>\n\n<p>There are 4 stages in my application. 3 stages executed fast for 4th stage ie mapToPair is it taking too much time(almost 4 hours).</p>\n\n<p>Below is the job statistics for job<a href=\"https://i.stack.imgur.com/0kXQm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0kXQm.png\" alt=\"Executors GC Time\"></a></p>\n\n<p>I have checked executors logs as well, didn't see any errors/exception. Could you please suggest me if any configuration changes needs to be done to improve the performance?</p>\n"},{"tags":["java","csv","sorting"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1621197420,"post_id":67517258,"comment_id":119416869,"body_markdown":"If the CSV files are quite large then use a temporary database (like SQLite) to do the sorting. Write the sorted records into a new CSV file. If you would like a demo of this then E-Mail me.","body":"If the CSV files are quite large then use a temporary database (like SQLite) to do the sorting. Write the sorted records into a new CSV file. If you would like a demo of this then E-Mail me."}],"answers":[{"tags":[],"owner":{"account_id":24813809,"reputation":11,"user_id":18694889,"display_name":"Miuccia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649018667,"creation_date":1649018667,"answer_id":71729730,"question_id":67517258,"body_markdown":"You need to sort a large CSV file by a specific field and output result to another CSV file. The code will be complex and lengthy if you try to do this in Java.\r\nYet, with SPL, the open-source Java package, you only need one line of code:\r\n\r\n| |A|\r\n|:-|:-|\r\n|1|&gt;file(&quot;output.csv&quot;).export@ct(file(&quot;data.csv&quot;).cursor@cqt().sortx(District))|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as sort.splx and invoke it in Java as you call a stored procedure:\r\n\r\n    …\r\n    Class.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\r\n    con= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\r\n    st=con.prepareCall(&quot;call sortx()&quot;);\r\n    st.execute();\r\n    …\r\n\r\nOr execute the SPL string within a Java program as we execute a SQL statement:\r\n\r\n    …\r\n    st = con.prepareStatement(&quot;=&gt;file(\\&quot;output.csv\\&quot;).export@ct(file(\\&quot;data.csv\\&quot;).cursor@cqt().sortx(District))&quot;);\r\n    st.execute();\r\n    …","title":"Sorting a CSV file by district","body":"<p>You need to sort a large CSV file by a specific field and output result to another CSV file. The code will be complex and lengthy if you try to do this in Java.\nYet, with SPL, the open-source Java package, you only need one line of code:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">&gt;file(&quot;output.csv&quot;).export@ct(file(&quot;data.csv&quot;).cursor@cqt().sortx(District))</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as sort.splx and invoke it in Java as you call a stored procedure:</p>\n<pre><code>…\nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);\ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);\nst=con.prepareCall(&quot;call sortx()&quot;);\nst.execute();\n…\n</code></pre>\n<p>Or execute the SPL string within a Java program as we execute a SQL statement:</p>\n<pre><code>…\nst = con.prepareStatement(&quot;=&gt;file(\\&quot;output.csv\\&quot;).export@ct(file(\\&quot;data.csv\\&quot;).cursor@cqt().sortx(District))&quot;);\nst.execute();\n…\n</code></pre>\n"}],"owner":{"account_id":21584161,"reputation":1,"user_id":15914919,"display_name":"SinxLawliet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649018667,"creation_date":1620899873,"question_id":67517258,"body_markdown":"Hello I wanna create a program that sorts the following csv file I&#39;m trying to sort the file by their district. So the following program reads the file and is able to sort it but it sorts it by their name and I wanna change it so it sorts by district any help is appreciated.\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.Writer;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic class SortDistrict\r\n{\r\n    private static final String COLUMN_SEPARATOR = &quot;,&quot;;\r\n\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        InputStream inputStream = new FileInputStream(&quot;data.csv&quot;);\r\n        List&lt;List&lt;String&gt;&gt; lines = readCsv(inputStream);\r\n\r\n        // Create a comparator that compares the elements from column 0,\r\n        // in ascending order\r\n        Comparator&lt;List&lt;String&gt;&gt; c0 = createAscendingComparator(0);\r\n\r\n        // Create a comparator that compares the elements from column 2,\r\n        // in descending order\r\n        Comparator&lt;List&lt;String&gt;&gt; c1 = createDesendingComparator(2);\r\n\r\n        // Create a comparator that compares primarily by using c0,\r\n        // and secondarily by using c1\r\n        Comparator&lt;List&lt;String&gt;&gt; comparator = createComparator(c0, c1);\r\n        Collections.sort(lines, comparator);\r\n\r\n        OutputStream outputStream = new FileOutputStream(&quot;output.csv&quot;);\r\n        String header = &quot;Last Name, First Name, Email, Address, Age, District, Gender&quot;;\r\n        writeCsv(header, lines, outputStream);\r\n    }\r\n\r\n    private static List&lt;List&lt;String&gt;&gt; readCsv(\r\n            InputStream inputStream) throws IOException\r\n    {\r\n        BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(inputStream));\r\n        List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();\r\n        String line = null;\r\n\r\n        // Skip header\r\n        line = reader.readLine();\r\n\r\n        while (true)\r\n        {\r\n            line = reader.readLine();\r\n            if (line == null)\r\n            {\r\n                break;\r\n            }\r\n            List&lt;String&gt; list = Arrays.asList(line.split(COLUMN_SEPARATOR));\r\n            lines.add(list);\r\n        }\r\n        return lines;\r\n    }\r\n\r\n    private static void writeCsv(\r\n            String header, List&lt;List&lt;String&gt;&gt; lines, OutputStream outputStream)\r\n            throws IOException\r\n    {\r\n        Writer writer = new OutputStreamWriter(outputStream);\r\n        writer.write(header+&quot;\\n&quot;);\r\n        for (List&lt;String&gt; list : lines)\r\n        {\r\n            for (int i = 0; i &lt; list.size(); i++)\r\n            {\r\n                writer.write(list.get(i));\r\n                if (i &lt; list.size() - 1)\r\n                {\r\n                    writer.write(COLUMN_SEPARATOR);\r\n                }\r\n            }\r\n            writer.write(&quot;\\n&quot;);\r\n        }\r\n        writer.close();\r\n\r\n    }\r\n\r\n    @SafeVarargs\r\n    private static &lt;T&gt; Comparator&lt;T&gt;\r\n    createComparator(Comparator&lt;? super T&gt;... districts)\r\n    {\r\n        return (t0, t1) -&gt;\r\n        {\r\n            for (Comparator&lt;? super T&gt; district : districts)\r\n            {\r\n                int n = district.compare(t0, t1);\r\n                if (n != 0)\r\n                {\r\n                    return n;\r\n                }\r\n            }\r\n            return 0;\r\n        };\r\n    }\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;List&lt;T&gt;&gt;\r\n    createAscendingComparator(int index)\r\n    {\r\n        return createListAtIndexComparator(Comparator.naturalOrder(), index);\r\n    }\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;List&lt;T&gt;&gt;\r\n    createDesendingComparator(int index)\r\n    {\r\n        return createListAtIndexComparator(Comparator.reverseOrder(), index);\r\n    }\r\n\r\n    private static &lt;T&gt; Comparator&lt;List&lt;T&gt;&gt;\r\n    createListAtIndexComparator(Comparator&lt;? super T&gt; delegate, int index)\r\n    {\r\n        return (list0, list1) -&gt;\r\n                delegate.compare(list0.get(index), list1.get(index));\r\n    }\r\n}\r\n```\r\nI also have a Person class if it&#39;ll be any use\r\n\r\n```\r\npublic class Person implements Comparable&lt;Person&gt; {\r\n    private String name;\r\n    private String email;\r\n    private String address;\r\n    private String residency;\r\n    private String gender;\r\n    private int age;\r\n    private int district;\r\n\r\n\r\n    public Person(String name, String email, String address, String gender, String residency, int district, int age) {\r\n\r\n        this.name = name;\r\n        this.address = address;\r\n        this.age = age;\r\n        this.district = district;\r\n        this.residency = residency;\r\n        this.gender = gender;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public String getResidency() {\r\n        return residency;\r\n    }\r\n\r\n    public int getDistrict() {\r\n        return district;\r\n    }\r\n\r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n    public String toString() {\r\n        return (name + &quot;,&quot; + email + &quot;,&quot; + address + &quot;,&quot; + age + &quot;,&quot; + residency + &quot;,&quot; + district + &quot;,&quot; + gender);\r\n    }\r\n    public int compareTo(Person another) {\r\n        if (district == another.getDistrict())\r\n            return 0;\r\n        else if (district &lt; another.getDistrict())\r\n            return -1;\r\n        else\r\n            return 1;\r\n    } // end of compareTo\r\n} // end of Person\r\n\r\n```\r\n\r\nThe csv file is quite big but here is a few lines\r\nFirst Name, Last Name, Email, Address, Age, Residency, District, Gender\r\n```\r\nColleen,Joyner,commodo.auctor@elementumat.net,Ap #697-1279 Nullam Road,30,Resident,4,Female\r\nFay,Parker,augue.ut.lacus@egetvarius.edu,&quot;P.O. Box 234, 6576 Et, Ave&quot;,24,Resident,4,Female\r\nTaShya,Atkinson,sem.egestas@urna.com,&quot;6319 At, St.&quot;,45,Resident,15,Female\r\nCurran,Shannon,massa@arcu.com,&quot;980 In, Rd.&quot;,57,Resident,8,Male\r\nYolanda,Snyder,ipsum.ac@Sednullaante.org,&quot;P.O. Box 769, 8207 Egestas Avenue&quot;,54,Non-Resident,4,Female\r\nCandice,Weaver,ligula@Aenean.ca,&quot;Ap #599-9287 Tellus, Rd.&quot;,35,Resident,9,Female\r\nYoshio,Silva,fames@Cumsociisnatoque.co.uk,Ap #327-6404 Dui St.,19,Resident,4,Male\r\n```\r\nThanks in advance","title":"Sorting a CSV file by district","body":"<p>Hello I wanna create a program that sorts the following csv file I'm trying to sort the file by their district. So the following program reads the file and is able to sort it but it sorts it by their name and I wanna change it so it sorts by district any help is appreciated.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.io.Writer;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class SortDistrict\n{\n    private static final String COLUMN_SEPARATOR = &quot;,&quot;;\n\n    public static void main(String[] args) throws Exception\n    {\n        InputStream inputStream = new FileInputStream(&quot;data.csv&quot;);\n        List&lt;List&lt;String&gt;&gt; lines = readCsv(inputStream);\n\n        // Create a comparator that compares the elements from column 0,\n        // in ascending order\n        Comparator&lt;List&lt;String&gt;&gt; c0 = createAscendingComparator(0);\n\n        // Create a comparator that compares the elements from column 2,\n        // in descending order\n        Comparator&lt;List&lt;String&gt;&gt; c1 = createDesendingComparator(2);\n\n        // Create a comparator that compares primarily by using c0,\n        // and secondarily by using c1\n        Comparator&lt;List&lt;String&gt;&gt; comparator = createComparator(c0, c1);\n        Collections.sort(lines, comparator);\n\n        OutputStream outputStream = new FileOutputStream(&quot;output.csv&quot;);\n        String header = &quot;Last Name, First Name, Email, Address, Age, District, Gender&quot;;\n        writeCsv(header, lines, outputStream);\n    }\n\n    private static List&lt;List&lt;String&gt;&gt; readCsv(\n            InputStream inputStream) throws IOException\n    {\n        BufferedReader reader = new BufferedReader(\n                new InputStreamReader(inputStream));\n        List&lt;List&lt;String&gt;&gt; lines = new ArrayList&lt;&gt;();\n        String line = null;\n\n        // Skip header\n        line = reader.readLine();\n\n        while (true)\n        {\n            line = reader.readLine();\n            if (line == null)\n            {\n                break;\n            }\n            List&lt;String&gt; list = Arrays.asList(line.split(COLUMN_SEPARATOR));\n            lines.add(list);\n        }\n        return lines;\n    }\n\n    private static void writeCsv(\n            String header, List&lt;List&lt;String&gt;&gt; lines, OutputStream outputStream)\n            throws IOException\n    {\n        Writer writer = new OutputStreamWriter(outputStream);\n        writer.write(header+&quot;\\n&quot;);\n        for (List&lt;String&gt; list : lines)\n        {\n            for (int i = 0; i &lt; list.size(); i++)\n            {\n                writer.write(list.get(i));\n                if (i &lt; list.size() - 1)\n                {\n                    writer.write(COLUMN_SEPARATOR);\n                }\n            }\n            writer.write(&quot;\\n&quot;);\n        }\n        writer.close();\n\n    }\n\n    @SafeVarargs\n    private static &lt;T&gt; Comparator&lt;T&gt;\n    createComparator(Comparator&lt;? super T&gt;... districts)\n    {\n        return (t0, t1) -&gt;\n        {\n            for (Comparator&lt;? super T&gt; district : districts)\n            {\n                int n = district.compare(t0, t1);\n                if (n != 0)\n                {\n                    return n;\n                }\n            }\n            return 0;\n        };\n    }\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;List&lt;T&gt;&gt;\n    createAscendingComparator(int index)\n    {\n        return createListAtIndexComparator(Comparator.naturalOrder(), index);\n    }\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;List&lt;T&gt;&gt;\n    createDesendingComparator(int index)\n    {\n        return createListAtIndexComparator(Comparator.reverseOrder(), index);\n    }\n\n    private static &lt;T&gt; Comparator&lt;List&lt;T&gt;&gt;\n    createListAtIndexComparator(Comparator&lt;? super T&gt; delegate, int index)\n    {\n        return (list0, list1) -&gt;\n                delegate.compare(list0.get(index), list1.get(index));\n    }\n}\n</code></pre>\n<p>I also have a Person class if it'll be any use</p>\n<pre><code>public class Person implements Comparable&lt;Person&gt; {\n    private String name;\n    private String email;\n    private String address;\n    private String residency;\n    private String gender;\n    private int age;\n    private int district;\n\n\n    public Person(String name, String email, String address, String gender, String residency, int district, int age) {\n\n        this.name = name;\n        this.address = address;\n        this.age = age;\n        this.district = district;\n        this.residency = residency;\n        this.gender = gender;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public String getResidency() {\n        return residency;\n    }\n\n    public int getDistrict() {\n        return district;\n    }\n\n    public String getGender() {\n        return gender;\n    }\n    public String toString() {\n        return (name + &quot;,&quot; + email + &quot;,&quot; + address + &quot;,&quot; + age + &quot;,&quot; + residency + &quot;,&quot; + district + &quot;,&quot; + gender);\n    }\n    public int compareTo(Person another) {\n        if (district == another.getDistrict())\n            return 0;\n        else if (district &lt; another.getDistrict())\n            return -1;\n        else\n            return 1;\n    } // end of compareTo\n} // end of Person\n\n</code></pre>\n<p>The csv file is quite big but here is a few lines\nFirst Name, Last Name, Email, Address, Age, Residency, District, Gender</p>\n<pre><code>Colleen,Joyner,commodo.auctor@elementumat.net,Ap #697-1279 Nullam Road,30,Resident,4,Female\nFay,Parker,augue.ut.lacus@egetvarius.edu,&quot;P.O. Box 234, 6576 Et, Ave&quot;,24,Resident,4,Female\nTaShya,Atkinson,sem.egestas@urna.com,&quot;6319 At, St.&quot;,45,Resident,15,Female\nCurran,Shannon,massa@arcu.com,&quot;980 In, Rd.&quot;,57,Resident,8,Male\nYolanda,Snyder,ipsum.ac@Sednullaante.org,&quot;P.O. Box 769, 8207 Egestas Avenue&quot;,54,Non-Resident,4,Female\nCandice,Weaver,ligula@Aenean.ca,&quot;Ap #599-9287 Tellus, Rd.&quot;,35,Resident,9,Female\nYoshio,Silva,fames@Cumsociisnatoque.co.uk,Ap #327-6404 Dui St.,19,Resident,4,Male\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":2297930,"reputation":98,"user_id":2018929,"display_name":"Guillaume Macke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649017141,"creation_date":1649017141,"answer_id":71729546,"question_id":71728516,"body_markdown":"I hope that I understood well your issue :)\r\n\r\nYou need to used Java Reflection API to do that.\r\n\r\nI give you below an example of implementation. \r\n\r\nFirst, the creation of the entity class : \r\n```\r\nabstract class MyEntityAbstract {\r\n\r\n}\r\n\r\nclass MyEntity extends MyEntityAbstract {\r\n    private Integer field1;\r\n    private String field2;\r\n\r\n    public MyEntity(int field1, String field2) {\r\n        this.field1 = field1;\r\n        this.field2 = field2;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;MyEntity{&quot; +\r\n                &quot;field1=&#39;&quot; + field1 + &#39;\\&#39;&#39; +\r\n                &quot;, field2=&#39;&quot; + field2 + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nNext, definition of an enum class which supply a Comparator associated to the type of your entity field (String (field2) / Integer (field1) in this example)\r\n\r\n```\r\nenum ComparatorType {\r\n    STRING(String.class) {\r\n        @Override\r\n        public Comparator getComparator() {\r\n            return (o1, o2) -&gt; {\r\n                String val1 = (String) o1;\r\n                String val2 = (String) o2;\r\n                return val1.compareTo(val2);\r\n            };\r\n        }\r\n    },\r\n    INTEGER(Integer.class) {\r\n        @Override\r\n        public Comparator getComparator() {\r\n            return (o1, o2) -&gt; {\r\n                Integer val1 = (Integer) o1;\r\n                Integer val2 = (Integer) o2;\r\n                return val1.compareTo(val2);\r\n            };\r\n        }\r\n    };\r\n\r\n    private final Class clazz;\r\n\r\n    ComparatorType(Class clazz) {\r\n        this.clazz = clazz;\r\n    }\r\n\r\n    public abstract Comparator getComparator();\r\n\r\n    public static ComparatorType from(Class&lt;?&gt; type) {\r\n        return Arrays.stream(values())\r\n                .filter(p -&gt; p.clazz.equals(type))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Comparator type for &#39;&quot; + type + &quot;&#39; is not allow&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nFinally, the implemetation of the sort method in the Repository class : \r\n\r\n```\r\nclass Repository&lt;T extends MyEntityAbstract&gt; {\r\n    private final List&lt;T&gt; myEntities = new ArrayList&lt;&gt;();\r\n\r\n    public void addEntity(T entity) {\r\n        this.myEntities.add(entity);\r\n    }\r\n\r\n    public Collection&lt;T&gt; sort(Sort sort) {\r\n        List&lt;T&gt; entitiesCopy = new ArrayList&lt;&gt;(myEntities);\r\n        entitiesCopy.sort((o1, o2) -&gt; {\r\n            try {\r\n                int result = 0;\r\n                for (Order order : sort.getOrders()) {\r\n\r\n                    // Recover the declared field with his name\r\n                    Field field = o1.getClass().getDeclaredField(order.getProperty());\r\n                    Field field2 = o2.getClass().getDeclaredField((order.getProperty()));\r\n\r\n                    // Need to set accessible the field to recover his value\r\n                    boolean isAccessible = field.isAccessible();\r\n                    if (!isAccessible) {\r\n                        field.setAccessible(true);\r\n                        field2.setAccessible(true);\r\n                    }\r\n\r\n                    // Recover fields value \r\n                    Object value1 = field.get(o1);\r\n                    Object value2 = field2.get(o2);\r\n\r\n                    // Reinit fields accessibility \r\n                    field.setAccessible(isAccessible);\r\n                    field2.setAccessible(isAccessible);\r\n\r\n                    // Recover the comparator with the type of the field\r\n                    Comparator comparatorFromClass = ComparatorType.from(field.getType()).getComparator();\r\n\r\n                    // Compare values\r\n                    if (order.getDirection() == Direction.ASC) {\r\n                        result += comparatorFromClass.compare(value1, value2);\r\n                    } else {\r\n                        result += comparatorFromClass.compare(value2, value1);\r\n                    }\r\n\r\n                    // You need to break for loop if the compare for this order return 1 or -1 (order is already done, no need to order by the next fields in the list)\r\n                    // If result == 0, the next order in your iteration will be apply \r\n                    if (result != 0) {\r\n                        break;\r\n                    }\r\n                }\r\n                return result;\r\n            } catch (NoSuchFieldException | IllegalAccessException e) {\r\n                // Handle Exception\r\n                e.printStackTrace();\r\n                return 0;\r\n            }\r\n        });\r\n        return entitiesCopy;\r\n    }\r\n}\r\n```\r\n\r\nFor testing the code, I used this main method \r\n```\r\npublic static void main(String[] args) {\r\n        Repository&lt;MyEntity&gt; repo = new Repository&lt;&gt;();\r\n        repo.addEntity(new MyEntity(110, &quot;James&quot;));\r\n        repo.addEntity(new MyEntity(163, &quot;Robert&quot;));\r\n        repo.addEntity(new MyEntity(31, &quot;John&quot;));\r\n        repo.addEntity(new MyEntity(256, &quot;Michael&quot;));\r\n        repo.addEntity(new MyEntity(59, &quot;William&quot;));\r\n        repo.addEntity(new MyEntity(59, &quot;Robert&quot;));\r\n        repo.addEntity(new MyEntity(59, &quot;Bob&quot;));\r\n        repo.addEntity(new MyEntity(59, &quot;Thomas&quot;));\r\n        repo.addEntity(new MyEntity(59, &quot;Uber&quot;));\r\n        repo.addEntity(new MyEntity(46, &quot;David&quot;));\r\n        repo.addEntity(new MyEntity(877, &quot;Richard&quot;));\r\n        repo.addEntity(new MyEntity(8, &quot;Joseph&quot;));\r\n        repo.addEntity(new MyEntity(39, &quot;Thomas&quot;));\r\n\r\n        System.out.println(&quot;Sort by &#39;field1&#39; ASC&quot;);\r\n        repo.sort(Sort.by(&quot;field1&quot;)).forEach(System.out::println);\r\n\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Sort by &#39;field1&#39; DESC&quot;);\r\n        repo.sort(Sort.by(Direction.DESC, &quot;field1&quot;)).forEach(System.out::println);\r\n\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Sort by &#39;field2&#39;&quot;);\r\n        repo.sort(Sort.by(&quot;field2&quot;)).forEach(System.out::println);\r\n\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Sort by &#39;field2&#39; DESC&quot;);\r\n        repo.sort(Sort.by(Direction.DESC, &quot;field2&quot;)).forEach(System.out::println);\r\n\r\n\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Sort by &#39;field1&#39; ASC and &#39;field2&#39; ASC&quot;);\r\n        repo.sort(Sort.by(&quot;field1&quot;).and(Sort.by(&quot;field2&quot;))).forEach(System.out::println);\r\n\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Sort by &#39;field2&#39; ASC and &#39;field1&#39; ASC&quot;);\r\n        repo.sort(Sort.by(&quot;field2&quot;).and(Sort.by(&quot;field1&quot;))).forEach(System.out::println);\r\n\r\n\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Sort by &#39;field1&#39; DESC and &#39;field2&#39; ASC&quot;);\r\n        repo.sort(Sort.by(Direction.DESC, &quot;field1&quot;).and(Sort.by(&quot;field2&quot;))).forEach(System.out::println);\r\n\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Sort by &#39;field1&#39; DESC and &#39;field2&#39; DESC&quot;);\r\n        repo.sort(Sort.by(Direction.DESC, &quot;field1&quot;).and(Sort.by(Direction.DESC, &quot;field2&quot;))).forEach(System.out::println);\r\n\r\n\r\n    }\r\n```\r\n\r\nThe output :\r\n```\r\nSort by &#39;field1&#39; ASC\r\nMyEntity{field1=&#39;8&#39;, field2=&#39;Joseph&#39;}\r\nMyEntity{field1=&#39;31&#39;, field2=&#39;John&#39;}\r\nMyEntity{field1=&#39;39&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;46&#39;, field2=&#39;David&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;William&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Bob&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Uber&#39;}\r\nMyEntity{field1=&#39;110&#39;, field2=&#39;James&#39;}\r\nMyEntity{field1=&#39;163&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;256&#39;, field2=&#39;Michael&#39;}\r\nMyEntity{field1=&#39;877&#39;, field2=&#39;Richard&#39;}\r\n\r\nSort by &#39;field1&#39; DESC\r\nMyEntity{field1=&#39;877&#39;, field2=&#39;Richard&#39;}\r\nMyEntity{field1=&#39;256&#39;, field2=&#39;Michael&#39;}\r\nMyEntity{field1=&#39;163&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;110&#39;, field2=&#39;James&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;William&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Bob&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Uber&#39;}\r\nMyEntity{field1=&#39;46&#39;, field2=&#39;David&#39;}\r\nMyEntity{field1=&#39;39&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;31&#39;, field2=&#39;John&#39;}\r\nMyEntity{field1=&#39;8&#39;, field2=&#39;Joseph&#39;}\r\n\r\nSort by &#39;field2&#39;\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Bob&#39;}\r\nMyEntity{field1=&#39;46&#39;, field2=&#39;David&#39;}\r\nMyEntity{field1=&#39;110&#39;, field2=&#39;James&#39;}\r\nMyEntity{field1=&#39;31&#39;, field2=&#39;John&#39;}\r\nMyEntity{field1=&#39;8&#39;, field2=&#39;Joseph&#39;}\r\nMyEntity{field1=&#39;256&#39;, field2=&#39;Michael&#39;}\r\nMyEntity{field1=&#39;877&#39;, field2=&#39;Richard&#39;}\r\nMyEntity{field1=&#39;163&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;39&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Uber&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;William&#39;}\r\n\r\nSort by &#39;field2&#39; DESC\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;William&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Uber&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;39&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;163&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;877&#39;, field2=&#39;Richard&#39;}\r\nMyEntity{field1=&#39;256&#39;, field2=&#39;Michael&#39;}\r\nMyEntity{field1=&#39;8&#39;, field2=&#39;Joseph&#39;}\r\nMyEntity{field1=&#39;31&#39;, field2=&#39;John&#39;}\r\nMyEntity{field1=&#39;110&#39;, field2=&#39;James&#39;}\r\nMyEntity{field1=&#39;46&#39;, field2=&#39;David&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Bob&#39;}\r\n\r\nSort by &#39;field1&#39; ASC and &#39;field2&#39; ASC\r\nMyEntity{field1=&#39;8&#39;, field2=&#39;Joseph&#39;}\r\nMyEntity{field1=&#39;31&#39;, field2=&#39;John&#39;}\r\nMyEntity{field1=&#39;39&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;46&#39;, field2=&#39;David&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Bob&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Uber&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;William&#39;}\r\nMyEntity{field1=&#39;110&#39;, field2=&#39;James&#39;}\r\nMyEntity{field1=&#39;163&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;256&#39;, field2=&#39;Michael&#39;}\r\nMyEntity{field1=&#39;877&#39;, field2=&#39;Richard&#39;}\r\n\r\nSort by &#39;field2&#39; ASC and &#39;field1&#39; ASC\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Bob&#39;}\r\nMyEntity{field1=&#39;46&#39;, field2=&#39;David&#39;}\r\nMyEntity{field1=&#39;110&#39;, field2=&#39;James&#39;}\r\nMyEntity{field1=&#39;31&#39;, field2=&#39;John&#39;}\r\nMyEntity{field1=&#39;8&#39;, field2=&#39;Joseph&#39;}\r\nMyEntity{field1=&#39;256&#39;, field2=&#39;Michael&#39;}\r\nMyEntity{field1=&#39;877&#39;, field2=&#39;Richard&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;163&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;39&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Uber&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;William&#39;}\r\n\r\nSort by &#39;field1&#39; DESC and &#39;field2&#39; ASC\r\nMyEntity{field1=&#39;877&#39;, field2=&#39;Richard&#39;}\r\nMyEntity{field1=&#39;256&#39;, field2=&#39;Michael&#39;}\r\nMyEntity{field1=&#39;163&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;110&#39;, field2=&#39;James&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Bob&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Uber&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;William&#39;}\r\nMyEntity{field1=&#39;46&#39;, field2=&#39;David&#39;}\r\nMyEntity{field1=&#39;39&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;31&#39;, field2=&#39;John&#39;}\r\nMyEntity{field1=&#39;8&#39;, field2=&#39;Joseph&#39;}\r\n\r\nSort by &#39;field1&#39; DESC and &#39;field2&#39; DESC\r\nMyEntity{field1=&#39;877&#39;, field2=&#39;Richard&#39;}\r\nMyEntity{field1=&#39;256&#39;, field2=&#39;Michael&#39;}\r\nMyEntity{field1=&#39;163&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;110&#39;, field2=&#39;James&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;William&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Uber&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Robert&#39;}\r\nMyEntity{field1=&#39;59&#39;, field2=&#39;Bob&#39;}\r\nMyEntity{field1=&#39;46&#39;, field2=&#39;David&#39;}\r\nMyEntity{field1=&#39;39&#39;, field2=&#39;Thomas&#39;}\r\nMyEntity{field1=&#39;31&#39;, field2=&#39;John&#39;}\r\nMyEntity{field1=&#39;8&#39;, field2=&#39;Joseph&#39;}\r\n```\r\n\r\nHope that will help you ! \r\n \r\nAnd sorry for my bad english :) Trying my best ! ","title":"Sort list of objects by names of fields in Java","body":"<p>I hope that I understood well your issue :)</p>\n<p>You need to used Java Reflection API to do that.</p>\n<p>I give you below an example of implementation.</p>\n<p>First, the creation of the entity class :</p>\n<pre><code>abstract class MyEntityAbstract {\n\n}\n\nclass MyEntity extends MyEntityAbstract {\n    private Integer field1;\n    private String field2;\n\n    public MyEntity(int field1, String field2) {\n        this.field1 = field1;\n        this.field2 = field2;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MyEntity{&quot; +\n                &quot;field1='&quot; + field1 + '\\'' +\n                &quot;, field2='&quot; + field2 + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Next, definition of an enum class which supply a Comparator associated to the type of your entity field (String (field2) / Integer (field1) in this example)</p>\n<pre><code>enum ComparatorType {\n    STRING(String.class) {\n        @Override\n        public Comparator getComparator() {\n            return (o1, o2) -&gt; {\n                String val1 = (String) o1;\n                String val2 = (String) o2;\n                return val1.compareTo(val2);\n            };\n        }\n    },\n    INTEGER(Integer.class) {\n        @Override\n        public Comparator getComparator() {\n            return (o1, o2) -&gt; {\n                Integer val1 = (Integer) o1;\n                Integer val2 = (Integer) o2;\n                return val1.compareTo(val2);\n            };\n        }\n    };\n\n    private final Class clazz;\n\n    ComparatorType(Class clazz) {\n        this.clazz = clazz;\n    }\n\n    public abstract Comparator getComparator();\n\n    public static ComparatorType from(Class&lt;?&gt; type) {\n        return Arrays.stream(values())\n                .filter(p -&gt; p.clazz.equals(type))\n                .findFirst()\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Comparator type for '&quot; + type + &quot;' is not allow&quot;));\n    }\n\n}\n</code></pre>\n<p>Finally, the implemetation of the sort method in the Repository class :</p>\n<pre><code>class Repository&lt;T extends MyEntityAbstract&gt; {\n    private final List&lt;T&gt; myEntities = new ArrayList&lt;&gt;();\n\n    public void addEntity(T entity) {\n        this.myEntities.add(entity);\n    }\n\n    public Collection&lt;T&gt; sort(Sort sort) {\n        List&lt;T&gt; entitiesCopy = new ArrayList&lt;&gt;(myEntities);\n        entitiesCopy.sort((o1, o2) -&gt; {\n            try {\n                int result = 0;\n                for (Order order : sort.getOrders()) {\n\n                    // Recover the declared field with his name\n                    Field field = o1.getClass().getDeclaredField(order.getProperty());\n                    Field field2 = o2.getClass().getDeclaredField((order.getProperty()));\n\n                    // Need to set accessible the field to recover his value\n                    boolean isAccessible = field.isAccessible();\n                    if (!isAccessible) {\n                        field.setAccessible(true);\n                        field2.setAccessible(true);\n                    }\n\n                    // Recover fields value \n                    Object value1 = field.get(o1);\n                    Object value2 = field2.get(o2);\n\n                    // Reinit fields accessibility \n                    field.setAccessible(isAccessible);\n                    field2.setAccessible(isAccessible);\n\n                    // Recover the comparator with the type of the field\n                    Comparator comparatorFromClass = ComparatorType.from(field.getType()).getComparator();\n\n                    // Compare values\n                    if (order.getDirection() == Direction.ASC) {\n                        result += comparatorFromClass.compare(value1, value2);\n                    } else {\n                        result += comparatorFromClass.compare(value2, value1);\n                    }\n\n                    // You need to break for loop if the compare for this order return 1 or -1 (order is already done, no need to order by the next fields in the list)\n                    // If result == 0, the next order in your iteration will be apply \n                    if (result != 0) {\n                        break;\n                    }\n                }\n                return result;\n            } catch (NoSuchFieldException | IllegalAccessException e) {\n                // Handle Exception\n                e.printStackTrace();\n                return 0;\n            }\n        });\n        return entitiesCopy;\n    }\n}\n</code></pre>\n<p>For testing the code, I used this main method</p>\n<pre><code>public static void main(String[] args) {\n        Repository&lt;MyEntity&gt; repo = new Repository&lt;&gt;();\n        repo.addEntity(new MyEntity(110, &quot;James&quot;));\n        repo.addEntity(new MyEntity(163, &quot;Robert&quot;));\n        repo.addEntity(new MyEntity(31, &quot;John&quot;));\n        repo.addEntity(new MyEntity(256, &quot;Michael&quot;));\n        repo.addEntity(new MyEntity(59, &quot;William&quot;));\n        repo.addEntity(new MyEntity(59, &quot;Robert&quot;));\n        repo.addEntity(new MyEntity(59, &quot;Bob&quot;));\n        repo.addEntity(new MyEntity(59, &quot;Thomas&quot;));\n        repo.addEntity(new MyEntity(59, &quot;Uber&quot;));\n        repo.addEntity(new MyEntity(46, &quot;David&quot;));\n        repo.addEntity(new MyEntity(877, &quot;Richard&quot;));\n        repo.addEntity(new MyEntity(8, &quot;Joseph&quot;));\n        repo.addEntity(new MyEntity(39, &quot;Thomas&quot;));\n\n        System.out.println(&quot;Sort by 'field1' ASC&quot;);\n        repo.sort(Sort.by(&quot;field1&quot;)).forEach(System.out::println);\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Sort by 'field1' DESC&quot;);\n        repo.sort(Sort.by(Direction.DESC, &quot;field1&quot;)).forEach(System.out::println);\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Sort by 'field2'&quot;);\n        repo.sort(Sort.by(&quot;field2&quot;)).forEach(System.out::println);\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Sort by 'field2' DESC&quot;);\n        repo.sort(Sort.by(Direction.DESC, &quot;field2&quot;)).forEach(System.out::println);\n\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Sort by 'field1' ASC and 'field2' ASC&quot;);\n        repo.sort(Sort.by(&quot;field1&quot;).and(Sort.by(&quot;field2&quot;))).forEach(System.out::println);\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Sort by 'field2' ASC and 'field1' ASC&quot;);\n        repo.sort(Sort.by(&quot;field2&quot;).and(Sort.by(&quot;field1&quot;))).forEach(System.out::println);\n\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Sort by 'field1' DESC and 'field2' ASC&quot;);\n        repo.sort(Sort.by(Direction.DESC, &quot;field1&quot;).and(Sort.by(&quot;field2&quot;))).forEach(System.out::println);\n\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Sort by 'field1' DESC and 'field2' DESC&quot;);\n        repo.sort(Sort.by(Direction.DESC, &quot;field1&quot;).and(Sort.by(Direction.DESC, &quot;field2&quot;))).forEach(System.out::println);\n\n\n    }\n</code></pre>\n<p>The output :</p>\n<pre><code>Sort by 'field1' ASC\nMyEntity{field1='8', field2='Joseph'}\nMyEntity{field1='31', field2='John'}\nMyEntity{field1='39', field2='Thomas'}\nMyEntity{field1='46', field2='David'}\nMyEntity{field1='59', field2='William'}\nMyEntity{field1='59', field2='Robert'}\nMyEntity{field1='59', field2='Bob'}\nMyEntity{field1='59', field2='Thomas'}\nMyEntity{field1='59', field2='Uber'}\nMyEntity{field1='110', field2='James'}\nMyEntity{field1='163', field2='Robert'}\nMyEntity{field1='256', field2='Michael'}\nMyEntity{field1='877', field2='Richard'}\n\nSort by 'field1' DESC\nMyEntity{field1='877', field2='Richard'}\nMyEntity{field1='256', field2='Michael'}\nMyEntity{field1='163', field2='Robert'}\nMyEntity{field1='110', field2='James'}\nMyEntity{field1='59', field2='William'}\nMyEntity{field1='59', field2='Robert'}\nMyEntity{field1='59', field2='Bob'}\nMyEntity{field1='59', field2='Thomas'}\nMyEntity{field1='59', field2='Uber'}\nMyEntity{field1='46', field2='David'}\nMyEntity{field1='39', field2='Thomas'}\nMyEntity{field1='31', field2='John'}\nMyEntity{field1='8', field2='Joseph'}\n\nSort by 'field2'\nMyEntity{field1='59', field2='Bob'}\nMyEntity{field1='46', field2='David'}\nMyEntity{field1='110', field2='James'}\nMyEntity{field1='31', field2='John'}\nMyEntity{field1='8', field2='Joseph'}\nMyEntity{field1='256', field2='Michael'}\nMyEntity{field1='877', field2='Richard'}\nMyEntity{field1='163', field2='Robert'}\nMyEntity{field1='59', field2='Robert'}\nMyEntity{field1='59', field2='Thomas'}\nMyEntity{field1='39', field2='Thomas'}\nMyEntity{field1='59', field2='Uber'}\nMyEntity{field1='59', field2='William'}\n\nSort by 'field2' DESC\nMyEntity{field1='59', field2='William'}\nMyEntity{field1='59', field2='Uber'}\nMyEntity{field1='59', field2='Thomas'}\nMyEntity{field1='39', field2='Thomas'}\nMyEntity{field1='163', field2='Robert'}\nMyEntity{field1='59', field2='Robert'}\nMyEntity{field1='877', field2='Richard'}\nMyEntity{field1='256', field2='Michael'}\nMyEntity{field1='8', field2='Joseph'}\nMyEntity{field1='31', field2='John'}\nMyEntity{field1='110', field2='James'}\nMyEntity{field1='46', field2='David'}\nMyEntity{field1='59', field2='Bob'}\n\nSort by 'field1' ASC and 'field2' ASC\nMyEntity{field1='8', field2='Joseph'}\nMyEntity{field1='31', field2='John'}\nMyEntity{field1='39', field2='Thomas'}\nMyEntity{field1='46', field2='David'}\nMyEntity{field1='59', field2='Bob'}\nMyEntity{field1='59', field2='Robert'}\nMyEntity{field1='59', field2='Thomas'}\nMyEntity{field1='59', field2='Uber'}\nMyEntity{field1='59', field2='William'}\nMyEntity{field1='110', field2='James'}\nMyEntity{field1='163', field2='Robert'}\nMyEntity{field1='256', field2='Michael'}\nMyEntity{field1='877', field2='Richard'}\n\nSort by 'field2' ASC and 'field1' ASC\nMyEntity{field1='59', field2='Bob'}\nMyEntity{field1='46', field2='David'}\nMyEntity{field1='110', field2='James'}\nMyEntity{field1='31', field2='John'}\nMyEntity{field1='8', field2='Joseph'}\nMyEntity{field1='256', field2='Michael'}\nMyEntity{field1='877', field2='Richard'}\nMyEntity{field1='59', field2='Robert'}\nMyEntity{field1='163', field2='Robert'}\nMyEntity{field1='39', field2='Thomas'}\nMyEntity{field1='59', field2='Thomas'}\nMyEntity{field1='59', field2='Uber'}\nMyEntity{field1='59', field2='William'}\n\nSort by 'field1' DESC and 'field2' ASC\nMyEntity{field1='877', field2='Richard'}\nMyEntity{field1='256', field2='Michael'}\nMyEntity{field1='163', field2='Robert'}\nMyEntity{field1='110', field2='James'}\nMyEntity{field1='59', field2='Bob'}\nMyEntity{field1='59', field2='Robert'}\nMyEntity{field1='59', field2='Thomas'}\nMyEntity{field1='59', field2='Uber'}\nMyEntity{field1='59', field2='William'}\nMyEntity{field1='46', field2='David'}\nMyEntity{field1='39', field2='Thomas'}\nMyEntity{field1='31', field2='John'}\nMyEntity{field1='8', field2='Joseph'}\n\nSort by 'field1' DESC and 'field2' DESC\nMyEntity{field1='877', field2='Richard'}\nMyEntity{field1='256', field2='Michael'}\nMyEntity{field1='163', field2='Robert'}\nMyEntity{field1='110', field2='James'}\nMyEntity{field1='59', field2='William'}\nMyEntity{field1='59', field2='Uber'}\nMyEntity{field1='59', field2='Thomas'}\nMyEntity{field1='59', field2='Robert'}\nMyEntity{field1='59', field2='Bob'}\nMyEntity{field1='46', field2='David'}\nMyEntity{field1='39', field2='Thomas'}\nMyEntity{field1='31', field2='John'}\nMyEntity{field1='8', field2='Joseph'}\n</code></pre>\n<p>Hope that will help you !</p>\n<p>And sorry for my bad english :) Trying my best !</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649018559,"creation_date":1649018559,"answer_id":71729720,"question_id":71728516,"body_markdown":"    repository.sort(Sort.by(&quot;name&quot;).ascending().and(Sort.by(&quot;age&quot;).descending())) \r\n\r\nCould use `Collection&lt;T&gt;.sort(Comparator&lt;T&gt;)`.\r\n\r\n    repository.sort(Comparator.comparing(MyEntity::getName)\r\n                    .thenComparing(\r\n                        Comparator.comparingInt(MyEntity::getAge).reversed()));\r\n\r\n(Assuming `int age`.)\r\n\r\nThe complex syntax is unfortunately caused by doing _descendant_ (`reversed`) only for the _age_ field.\r\n\r\nWhen there is no need for a meta-level, like generating SQL, you probably would still be better of by the standard `Comparator&lt;MyEntity&gt;`.\r\n\r\nOtherwise there are also frameworks like **JPA** (eclipseLink, hibernate) with some expressive power.","title":"Sort list of objects by names of fields in Java","body":"<pre><code>repository.sort(Sort.by(&quot;name&quot;).ascending().and(Sort.by(&quot;age&quot;).descending())) \n</code></pre>\n<p>Could use <code>Collection&lt;T&gt;.sort(Comparator&lt;T&gt;)</code>.</p>\n<pre><code>repository.sort(Comparator.comparing(MyEntity::getName)\n                .thenComparing(\n                    Comparator.comparingInt(MyEntity::getAge).reversed()));\n</code></pre>\n<p>(Assuming <code>int age</code>.)</p>\n<p>The complex syntax is unfortunately caused by doing <em>descendant</em> (<code>reversed</code>) only for the <em>age</em> field.</p>\n<p>When there is no need for a meta-level, like generating SQL, you probably would still be better of by the standard <code>Comparator&lt;MyEntity&gt;</code>.</p>\n<p>Otherwise there are also frameworks like <strong>JPA</strong> (eclipseLink, hibernate) with some expressive power.</p>\n"}],"owner":{"account_id":24812534,"reputation":1,"user_id":18693799,"display_name":"Alex Nedelcu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649018559,"creation_date":1649008299,"question_id":71728516,"body_markdown":"I have a templated repository holding a list of entities.  \r\nThe type of the list is `Collection&lt;T&gt;`, where `T` is the type of each entity.\r\n\r\nHow can I implement the method `public Iterable&lt;T&gt; sort(Sort sort)` on the repository to return the list of entities sorted by using the information from the argument `sort`?\r\n\r\nBascially, an object of type `Sort` is holding a list of type:  \r\n`[(&quot;field1&quot;, ASC), (&quot;field2&quot;, DESC), (&quot;field3&quot;, ASC) ...]`, where the `Strings` &quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot; are attributes names of objects `T`.\r\n\r\nI have to implement the solution by using Java Streams.  \r\nSo, when calling `repository.sort(Sort.by(&quot;name&quot;).ascending().and(Sort.by(&quot;age&quot;).descending()))` the output should be a list of objects sorted ascending by name, and descending by age.  \r\nI am not allowed to use the existing similar Java Spring mechanism.\r\n\r\n`class Sort:`\r\n\r\n```java\r\npackage Repository.Sorting;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Sort {\r\n\r\n    public static final Direction DEFAULT_DIRECTION = Direction.ASC;\r\n    private List&lt;Order&gt; orders;\r\n\r\n    public Sort(String property) {\r\n        this.orders = List.of(new Order(DEFAULT_DIRECTION, property));\r\n    }\r\n\r\n    public Sort(List&lt;Order&gt; orders) {\r\n        this.orders = orders;\r\n    }\r\n\r\n    public Sort(Direction direction, List&lt;String&gt; properties) {\r\n        if (!properties.isEmpty()) {\r\n            this.orders = properties\r\n                    .stream()\r\n                    .map(property -&gt; new Order(direction, property))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n    public static Sort by(String... properties) {\r\n        return new Sort(DEFAULT_DIRECTION, Arrays.asList(properties));\r\n    }\r\n\r\n    public Sort by(Direction direction, String... properties) {\r\n        return new Sort(direction, Arrays.asList(properties));\r\n    }\r\n\r\n    public Sort by(List&lt;Order&gt; orders) {\r\n        return new Sort(orders);\r\n    }\r\n\r\n    public Sort ascending() {\r\n        return this.by(\r\n                this.orders\r\n                        .stream()\r\n                        .map(order -&gt; new Order(Direction.ASC, order.getProperty()))\r\n                        .collect(Collectors.toList())\r\n        );\r\n    }\r\n\r\n    public Sort descending() {\r\n        return this.by(\r\n                this.orders\r\n                        .stream()\r\n                        .map(order -&gt; new Order(Direction.DESC, order.getProperty()))\r\n                        .collect(Collectors.toList())\r\n        );\r\n    }\r\n\r\n    public Sort and(Sort sort) {\r\n        List&lt;Order&gt; ownOrders = this.orders;\r\n        List&lt;Order&gt; otherOrders = sort.orders;\r\n        List&lt;Order&gt; allOrders = Stream\r\n                .concat(ownOrders.stream(), otherOrders.stream())\r\n                .collect(Collectors.toList());\r\n\r\n        return new Sort(allOrders);\r\n    }\r\n\r\n    public boolean unsorted() {\r\n        return this.orders.isEmpty();\r\n    }\r\n\r\n    public List&lt;Order&gt; getOrders() {\r\n        return this.orders;\r\n    }\r\n\r\n}\r\n```\r\n\r\n`class Direction:`\r\n\r\n```java\r\npackage Repository.Sorting;\r\n\r\npublic enum Direction {\r\n    ASC,\r\n    DESC\r\n}\r\n```\r\n\r\n`class Order:`\r\n\r\n```java\r\npackage Repository.Sorting;\r\n\r\npublic class Order {\r\n\r\n    private final Direction direction;\r\n    private final String property;\r\n\r\n    public Order(Direction direction, String property) {\r\n        this.direction = direction;\r\n        this.property = property;\r\n    }\r\n\r\n    public Direction getDirection() {\r\n        return this.direction;\r\n    }\r\n\r\n    public String getProperty() {\r\n        return this.property;\r\n    }\r\n}\r\n```\r\n\r\nI tried creating a `Comparator` object by using all the attributes names encapsulated by `Sort` object, but I did not manage to solve the problem.","title":"Sort list of objects by names of fields in Java","body":"<p>I have a templated repository holding a list of entities.<br />\nThe type of the list is <code>Collection&lt;T&gt;</code>, where <code>T</code> is the type of each entity.</p>\n<p>How can I implement the method <code>public Iterable&lt;T&gt; sort(Sort sort)</code> on the repository to return the list of entities sorted by using the information from the argument <code>sort</code>?</p>\n<p>Bascially, an object of type <code>Sort</code> is holding a list of type:<br />\n<code>[(&quot;field1&quot;, ASC), (&quot;field2&quot;, DESC), (&quot;field3&quot;, ASC) ...]</code>, where the <code>Strings</code> &quot;field1&quot;, &quot;field2&quot;, &quot;field3&quot; are attributes names of objects <code>T</code>.</p>\n<p>I have to implement the solution by using Java Streams.<br />\nSo, when calling <code>repository.sort(Sort.by(&quot;name&quot;).ascending().and(Sort.by(&quot;age&quot;).descending()))</code> the output should be a list of objects sorted ascending by name, and descending by age.<br />\nI am not allowed to use the existing similar Java Spring mechanism.</p>\n<p><code>class Sort:</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package Repository.Sorting;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Sort {\n\n    public static final Direction DEFAULT_DIRECTION = Direction.ASC;\n    private List&lt;Order&gt; orders;\n\n    public Sort(String property) {\n        this.orders = List.of(new Order(DEFAULT_DIRECTION, property));\n    }\n\n    public Sort(List&lt;Order&gt; orders) {\n        this.orders = orders;\n    }\n\n    public Sort(Direction direction, List&lt;String&gt; properties) {\n        if (!properties.isEmpty()) {\n            this.orders = properties\n                    .stream()\n                    .map(property -&gt; new Order(direction, property))\n                    .collect(Collectors.toList());\n        }\n    }\n\n    public static Sort by(String... properties) {\n        return new Sort(DEFAULT_DIRECTION, Arrays.asList(properties));\n    }\n\n    public Sort by(Direction direction, String... properties) {\n        return new Sort(direction, Arrays.asList(properties));\n    }\n\n    public Sort by(List&lt;Order&gt; orders) {\n        return new Sort(orders);\n    }\n\n    public Sort ascending() {\n        return this.by(\n                this.orders\n                        .stream()\n                        .map(order -&gt; new Order(Direction.ASC, order.getProperty()))\n                        .collect(Collectors.toList())\n        );\n    }\n\n    public Sort descending() {\n        return this.by(\n                this.orders\n                        .stream()\n                        .map(order -&gt; new Order(Direction.DESC, order.getProperty()))\n                        .collect(Collectors.toList())\n        );\n    }\n\n    public Sort and(Sort sort) {\n        List&lt;Order&gt; ownOrders = this.orders;\n        List&lt;Order&gt; otherOrders = sort.orders;\n        List&lt;Order&gt; allOrders = Stream\n                .concat(ownOrders.stream(), otherOrders.stream())\n                .collect(Collectors.toList());\n\n        return new Sort(allOrders);\n    }\n\n    public boolean unsorted() {\n        return this.orders.isEmpty();\n    }\n\n    public List&lt;Order&gt; getOrders() {\n        return this.orders;\n    }\n\n}\n</code></pre>\n<p><code>class Direction:</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package Repository.Sorting;\n\npublic enum Direction {\n    ASC,\n    DESC\n}\n</code></pre>\n<p><code>class Order:</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package Repository.Sorting;\n\npublic class Order {\n\n    private final Direction direction;\n    private final String property;\n\n    public Order(Direction direction, String property) {\n        this.direction = direction;\n        this.property = property;\n    }\n\n    public Direction getDirection() {\n        return this.direction;\n    }\n\n    public String getProperty() {\n        return this.property;\n    }\n}\n</code></pre>\n<p>I tried creating a <code>Comparator</code> object by using all the attributes names encapsulated by <code>Sort</code> object, but I did not manage to solve the problem.</p>\n"},{"tags":["java","linux","centos","jakarta-mail"],"comments":[{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":1,"creation_date":1473458585,"post_id":39406266,"comment_id":66165673,"body_markdown":"What does the [JavaMail debug output](http://www.oracle.com/technetwork/java/javamail/faq/index.html#debug) show?  Is there a firewall on your live server?  Try the [connection debugging tips in the JavaMail FAQ](http://www.oracle.com/technetwork/java/javamail/faq/index.html#condebug).","body":"What does the <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#debug\" rel=\"nofollow noreferrer\">JavaMail debug output</a> show?  Is there a firewall on your live server?  Try the <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#condebug\" rel=\"nofollow noreferrer\">connection debugging tips in the JavaMail FAQ</a>."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":1,"creation_date":1473660651,"post_id":39406266,"comment_id":66210404,"body_markdown":"The above error is the only exception in the logs. Is there another way to specifically see JavaMail debug output?  I thought the above error was it. I&#39;m able to connect to googles mail servers with telnet, so it doesn&#39;t seem like a firewall issue or anything. Also, older versions of this email service have worked, and I don&#39;t believe I have changed anything in that regard. My initial thought is it must be something on the server itself, since the code works on other servers. But I can&#39;t see where the issue is.","body":"The above error is the only exception in the logs. Is there another way to specifically see JavaMail debug output?  I thought the above error was it. I&#39;m able to connect to googles mail servers with telnet, so it doesn&#39;t seem like a firewall issue or anything. Also, older versions of this email service have worked, and I don&#39;t believe I have changed anything in that regard. My initial thought is it must be something on the server itself, since the code works on other servers. But I can&#39;t see where the issue is."},{"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"score":1,"creation_date":1473663173,"post_id":39406266,"comment_id":66211432,"body_markdown":"You mean another way besides the way in the link above?  Well, you can configure java.util.logging; the logger details are on the [JavaMail javadocs pages](https://javamail.java.net/nonav/docs/api/) for each package.  If you&#39;re not getting any debug output, you need to figure out where System.out is going.  You should also fix these [common JavaMail mistakes](http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes), which may fix some of your problems.","body":"You mean another way besides the way in the link above?  Well, you can configure java.util.logging; the logger details are on the <a href=\"https://javamail.java.net/nonav/docs/api/\" rel=\"nofollow noreferrer\">JavaMail javadocs pages</a> for each package.  If you&#39;re not getting any debug output, you need to figure out where System.out is going.  You should also fix these <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes\" rel=\"nofollow noreferrer\">common JavaMail mistakes</a>, which may fix some of your problems."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":1,"creation_date":1473663396,"post_id":39406266,"comment_id":66211534,"body_markdown":"I&#39;m getting my logging output using Log4j2. To the best of my knowledge I am already getting all the console output, and the above error is the only JavaMail error I&#39;m seeing. Thanks for the links, I&#39;ll go through them and double check everything.","body":"I&#39;m getting my logging output using Log4j2. To the best of my knowledge I am already getting all the console output, and the above error is the only JavaMail error I&#39;m seeing. Thanks for the links, I&#39;ll go through them and double check everything."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":1,"creation_date":1473672147,"post_id":39406266,"comment_id":66215859,"body_markdown":"OK this has to be some sort of server issue I think; I just ran a build of the email service that I made earlier this year and I know for a fact that that build worked on the live server. Something in the configuration must have changed somewhere, or in the routers or something. dammit!","body":"OK this has to be some sort of server issue I think; I just ran a build of the email service that I made earlier this year and I know for a fact that that build worked on the live server. Something in the configuration must have changed somewhere, or in the routers or something. dammit!"},{"owner":{"account_id":5241485,"reputation":7469,"user_id":4188368,"accept_rate":50,"display_name":"Richa"},"score":0,"creation_date":1474481932,"post_id":39406266,"comment_id":66553026,"body_markdown":"@bot_bot: I am facing the same problem on my local machine. Any ideas how to resolve that?","body":"@bot_bot: I am facing the same problem on my local machine. Any ideas how to resolve that?"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1474527134,"post_id":39406266,"comment_id":66568895,"body_markdown":"@Richa When I run the code on my windows machine, it uses my computer name as the host, the gmail servers respond with `220 2.0.0 Ready to start TLS\nEHLO bot_bots_pc\n250-smtp.gmail.com at your service, [***.***.***]` You can set the host yourself in `javax.mail` properties, have you tried that?","body":"@Richa When I run the code on my windows machine, it uses my computer name as the host, the gmail servers respond with <code>220 2.0.0 Ready to start TLS EHLO bot_bots_pc 250-smtp.gmail.com at your service, [***.***.***]</code> You can set the host yourself in <code>javax.mail</code> properties, have you tried that?"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1474529231,"post_id":39406266,"comment_id":66570148,"body_markdown":"@Richa Actually, you need to set `mail.smtp.localhost` in the properties.","body":"@Richa Actually, you need to set <code>mail.smtp.localhost</code> in the properties."},{"owner":{"account_id":5241485,"reputation":7469,"user_id":4188368,"accept_rate":50,"display_name":"Richa"},"score":1,"creation_date":1474532020,"post_id":39406266,"comment_id":66571876,"body_markdown":"I had my host name set to `r!ch@`. &#39;@&#39;` was creating the problem. Changed it to `richa` and it worked.. thanx for your commntns","body":"I had my host name set to <code>r!ch@</code>. &#39;@&#39;` was creating the problem. Changed it to <code>richa</code> and it worked.. thanx for your commntns"},{"owner":{"account_id":4479208,"reputation":209,"user_id":3643450,"accept_rate":86,"display_name":"oHoodie"},"score":1,"creation_date":1526926904,"post_id":39406266,"comment_id":87922376,"body_markdown":"i struggled with the same exception today. For me the problem was an Umlaut (&#246;/&#252;/&#228;) in my computer name. Changed computer name and everything worked as it should","body":"i struggled with the same exception today. For me the problem was an Umlaut (&#246;/&#252;/&#228;) in my computer name. Changed computer name and everything worked as it should"}],"answers":[{"tags":[],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1474011739,"creation_date":1473936323,"answer_id":39509134,"question_id":39406266,"body_markdown":"Somehow the server `$HOSTNAME` was deleted from `/etc/hosts`. As a result of that googles servers received a `null` or an empty value as the hostname and rejected the connection.","title":"Gettings javax.mail.MessagingException: [EOF] on our live server, but everything works as expected on our dev server","body":"<p>Somehow the server <code>$HOSTNAME</code> was deleted from <code>/etc/hosts</code>. As a result of that googles servers received a <code>null</code> or an empty value as the hostname and rejected the connection.</p>\n"},{"tags":[],"owner":{"account_id":6834571,"reputation":1130,"user_id":5257091,"display_name":"Hasnaa Ibraheem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649017753,"creation_date":1649017753,"answer_id":71729614,"question_id":39406266,"body_markdown":"In my case it didn&#39;t work even when the hostname value was set to some dummy name, example: (abc.abc.com didn&#39;t work). &lt;br&gt;It only worked when I set the hostname to a value that is resolvable by the DNS example: (google.com worked!)","title":"Gettings javax.mail.MessagingException: [EOF] on our live server, but everything works as expected on our dev server","body":"<p>In my case it didn't work even when the hostname value was set to some dummy name, example: (abc.abc.com didn't work). <br>It only worked when I set the hostname to a value that is resolvable by the DNS example: (google.com worked!)</p>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16211,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":39509134,"answer_count":2,"score":18,"last_activity_date":1649017753,"creation_date":1473406683,"question_id":39406266,"body_markdown":"Running this Java service on my laptop (Windows 10) or on our development server (CentOS) everything works as expected. But when I run it on our live server (CentOS) I get the following error:\r\n\r\n    09/Sep/2016 08:31:07,005 [ERROR] [pool-2-thread-2] - EmailSender: A Messaging exception occurred in EmailSender\r\n    javax.mail.MessagingException: [EOF]\r\n            at com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:1363) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:838) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:375) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at javax.mail.Service.connect(Service.java:275) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at javax.mail.Service.connect(Service.java:156) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at com.awesomecompany.messaging.server.EmailSender.sendEmail(EmailSender.java:99) [rsrc:./:?]\r\n            at com.awesomecompany.messaging.server.MonitorDevicesRunnable.run(MonitorDevicesRunnable.java:82) [rsrc:./:?]\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [?:1.7.0_75]\r\n            at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304) [?:1.7.0_75]\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178) [?:1.7.0_75]\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.7.0_75]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [?:1.7.0_75]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [?:1.7.0_75]\r\n            at java.lang.Thread.run(Thread.java:745) [?:1.7.0_75]\r\n\r\nMy email code: \r\n\r\n    public void sendEmail(User user) {\r\n\r\n    \t\tto[0] = user.getEmail();\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.put(&quot;mail.smtp.host&quot;, host);\r\n    \t\tprops.put(&quot;mail.smtp.user&quot;, from);\r\n    \t\tprops.put(&quot;mail.smtp.password&quot;, password);\r\n    \t\tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n    \t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \t\tprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \t\tprops.put(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n    \t\tsubject = user.getEmailBuilder().getEmailSubject();\r\n    \t\t\r\n    \t\ttry {\r\n    \r\n    \t\t\tSession session = Session.getDefaultInstance(props,\r\n    \t\t\t\t\tnew Authenticator() {\r\n    \t\t\t\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n    \t\t\t\t\t\t\treturn new PasswordAuthentication(from,\r\n    \t\t\t\t\t\t\t\t\tpassword);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t});\r\n    \r\n    \t\t\tMimeMessage message = new MimeMessage(session) {\r\n    \t\t\t\tprotected void updateMessageID() throws MessagingException {\r\n    \t\t\t\t\tif (getHeader(&quot;Message-ID&quot;) == null)\r\n    \t\t\t\t\t\tsuper.updateMessageID();\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \t\t\tmessage.setFrom(new InternetAddress(from));\r\n    \r\n    \t\t\tInternetAddress[] to_addresses = new InternetAddress[to.length];\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; to.length; i++) {\r\n    \t\t\t\tto_addresses[i] = new InternetAddress(to[i]);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tmessage.addRecipients(javax.mail.Message.RecipientType.TO,\r\n    \t\t\t\t\tto_addresses);\r\n    \r\n    \t\t\tString messageHtml = user.getEmailMessage();\r\n    \t\t\tmessage.setSubject(subject);\r\n    \t\t\tmessage.setContent(messageHtml, &quot;text/html;charset=UTF-8;&quot;);\r\n    \t\t\tmessage.saveChanges();\r\n    \t\t\tuser.setEmailMessageId(message.getMessageID());\r\n    \t\t\tlog.info(&quot;Email message ID: &quot; + message.getMessageID());\r\n    \t\t\tTransport transport = session.getTransport(&quot;smtp&quot;);\r\n    \t\t\ttransport.connect(host, from, password);\r\n    \t\t\ttransport.sendMessage(message, message.getAllRecipients());\r\n    \t\t\ttransport.close();\r\n    \t\t\tuser.setEmailStatus(DistinctNotification.STATUS_SENT);\r\n    \t\t\t\r\n    \t\t} catch (AddressException e) {\r\n    \t\t\t\r\n    \t\t\tlog.error(&quot;An AddressException occurred in EmailSender&quot;, e);\r\n    \t\t\tuser.setEmailStatus(DistinctNotification.STATUS_READY);\r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\t\r\n    \t\t\tlog.error(&quot;A Messaging exception occurred in EmailSender&quot;, e);\r\n    \t\t\tuser.setEmailStatus(DistinctNotification.STATUS_READY);\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n\r\nThe error occurs at this line:\r\n\r\n    transport.connect(host, from, password);\r\n\r\n\r\n**EDIT:**  \r\n\r\nI reverted to an earlier build that I know for a fact worked, maybe a few months ago. It no longer works, I get the same error.  \r\nMy other colleagues who have access to the server say they haven&#39;t made any changes to it.  \r\n\r\nI have absolutely no idea where to go with this. \r\nI have no problem contacting googles servers using telnet. I&#39;m going to do more checking on various ports just to be sure, but I don&#39;t thing that&#39;s the issue.\r\n**EDIT 2:**  \r\n\r\nHere&#39;s the issue:  `  501-5.5.4 Empty HELO/EHLO argument not allowed, closing connection.`  \r\nBut why would this be happening only on the one server?\r\n\r\nAdditional logs from the console:  \r\n\r\n    DEBUG SMTP: connected to host &quot;smtp.gmail.com&quot;, port: 587\r\n    \r\n    EHLO\r\n    501-5.5.4 Empty HELO/EHLO argument not allowed, closing connection.\r\n    501 5.5.4  https://support.google.com/mail/?p=helo l10sm686448lfd.19 - gsmtp\r\n    HELO\r\n    DEBUG SMTP: EOF: [EOF]\r\n    09:07:00.277 [pool-2-thread-1] - A Messaging exception occurred in EmailSender\r\n    javax.mail.MessagingException: [EOF]\r\n            at com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:1363) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:838) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:375) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at javax.mail.Service.connect(Service.java:275) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at javax.mail.Service.connect(Service.java:156) ~[jar:rsrc:mail-1.4.jar!/:?]\r\n            at com.watersprint.messaging.server.EmailSender.sendEmail(EmailSender.java:99) [rsrc:./:?]\r\n            at com.watersprint.messaging.server.MonitorDevicesRunnable.run(MonitorDevicesRunnable.java:82) [rsrc:./:?]\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [?:1.7.0_75]\r\n            at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304) [?:1.7.0_75]\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178) [?:1.7.0_75]\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.7.0_75]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [?:1.7.0_75]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [?:1.7.0_75]\r\n            at java.lang.Thread.run(Thread.java:745) [?:1.7.0_75]\r\n    2016-09-15 09:07:00,760 ERROR Error occurred while sending e-mail notification. javax.mail.MessagingException: [EOF]\r\n            at com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:1363)\r\n            at com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:838)\r\n            at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:375)\r\n            at javax.mail.Service.connect(Service.java:297)\r\n            at javax.mail.Service.connect(Service.java:156)\r\n            at javax.mail.Service.connect(Service.java:105)\r\n            at javax.mail.Transport.send0(Transport.java:168)\r\n            at javax.mail.Transport.send(Transport.java:98)\r\n            at org.apache.logging.log4j.core.net.SmtpManager.sendMultipartMessage(SmtpManager.java:241)\r\n            at org.apache.logging.log4j.core.net.SmtpManager.sendEvents(SmtpManager.java:150)\r\n            at org.apache.logging.log4j.core.appender.SmtpAppender.append(SmtpAppender.java:173)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:99)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:430)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:409)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:367)\r\n            at org.apache.logging.log4j.core.Logger.logMessage(Logger.java:112)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:727)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:716)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:354)\r\n            at com.watersprint.messaging.server.EmailSender.sendEmail(EmailSender.java:110)\r\n            at com.watersprint.messaging.server.MonitorDevicesRunnable.run(MonitorDevicesRunnable.java:82)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n            at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    \r\n    2016-09-15 09:07:00,762 ERROR An exception occurred processing Appender SMTPAppender org.apache.logging.log4j.LoggingException: Error occurred while sending email\r\n            at org.apache.logging.log4j.core.net.SmtpManager.sendEvents(SmtpManager.java:153)\r\n            at org.apache.logging.log4j.core.appender.SmtpAppender.append(SmtpAppender.java:173)\r\n            at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:99)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:430)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:409)\r\n            at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:367)\r\n            at org.apache.logging.log4j.core.Logger.logMessage(Logger.java:112)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:727)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:716)\r\n            at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:354)\r\n            at com.watersprint.messaging.server.EmailSender.sendEmail(EmailSender.java:110)\r\n            at com.watersprint.messaging.server.MonitorDevicesRunnable.run(MonitorDevicesRunnable.java:82)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n            at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.mail.MessagingException: [EOF]\r\n            at com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:1363)\r\n            at com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:838)\r\n            at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:375)\r\n            at javax.mail.Service.connect(Service.java:297)\r\n            at javax.mail.Service.connect(Service.java:156)\r\n            at javax.mail.Service.connect(Service.java:105)\r\n            at javax.mail.Transport.send0(Transport.java:168)\r\n            at javax.mail.Transport.send(Transport.java:98)\r\n            at org.apache.logging.log4j.core.net.SmtpManager.sendMultipartMessage(SmtpManager.java:241)\r\n            at org.apache.logging.log4j.core.net.SmtpManager.sendEvents(SmtpManager.java:150)\r\n            ... 18 more\r\n\r\n","title":"Gettings javax.mail.MessagingException: [EOF] on our live server, but everything works as expected on our dev server","body":"<p>Running this Java service on my laptop (Windows 10) or on our development server (CentOS) everything works as expected. But when I run it on our live server (CentOS) I get the following error:</p>\n\n<pre><code>09/Sep/2016 08:31:07,005 [ERROR] [pool-2-thread-2] - EmailSender: A Messaging exception occurred in EmailSender\njavax.mail.MessagingException: [EOF]\n        at com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:1363) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:838) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:375) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at javax.mail.Service.connect(Service.java:275) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at javax.mail.Service.connect(Service.java:156) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at com.awesomecompany.messaging.server.EmailSender.sendEmail(EmailSender.java:99) [rsrc:./:?]\n        at com.awesomecompany.messaging.server.MonitorDevicesRunnable.run(MonitorDevicesRunnable.java:82) [rsrc:./:?]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [?:1.7.0_75]\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304) [?:1.7.0_75]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178) [?:1.7.0_75]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.7.0_75]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [?:1.7.0_75]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [?:1.7.0_75]\n        at java.lang.Thread.run(Thread.java:745) [?:1.7.0_75]\n</code></pre>\n\n<p>My email code: </p>\n\n<pre><code>public void sendEmail(User user) {\n\n        to[0] = user.getEmail();\n        Properties props = new Properties();\n        props.put(\"mail.smtp.host\", host);\n        props.put(\"mail.smtp.user\", from);\n        props.put(\"mail.smtp.password\", password);\n        props.put(\"mail.smtp.port\", \"587\");\n        props.put(\"mail.smtp.auth\", \"true\");\n        props.put(\"mail.smtp.starttls.enable\", \"true\");\n        props.put(\"mail.debug\", \"true\");\n        props.put(\"mail.store.protocol\", \"imap\");\n        subject = user.getEmailBuilder().getEmailSubject();\n\n        try {\n\n            Session session = Session.getDefaultInstance(props,\n                    new Authenticator() {\n                        protected PasswordAuthentication getPasswordAuthentication() {\n                            return new PasswordAuthentication(from,\n                                    password);\n                        }\n                    });\n\n            MimeMessage message = new MimeMessage(session) {\n                protected void updateMessageID() throws MessagingException {\n                    if (getHeader(\"Message-ID\") == null)\n                        super.updateMessageID();\n                }\n            };\n            message.setFrom(new InternetAddress(from));\n\n            InternetAddress[] to_addresses = new InternetAddress[to.length];\n\n            for (int i = 0; i &lt; to.length; i++) {\n                to_addresses[i] = new InternetAddress(to[i]);\n\n            }\n\n            message.addRecipients(javax.mail.Message.RecipientType.TO,\n                    to_addresses);\n\n            String messageHtml = user.getEmailMessage();\n            message.setSubject(subject);\n            message.setContent(messageHtml, \"text/html;charset=UTF-8;\");\n            message.saveChanges();\n            user.setEmailMessageId(message.getMessageID());\n            log.info(\"Email message ID: \" + message.getMessageID());\n            Transport transport = session.getTransport(\"smtp\");\n            transport.connect(host, from, password);\n            transport.sendMessage(message, message.getAllRecipients());\n            transport.close();\n            user.setEmailStatus(DistinctNotification.STATUS_SENT);\n\n        } catch (AddressException e) {\n\n            log.error(\"An AddressException occurred in EmailSender\", e);\n            user.setEmailStatus(DistinctNotification.STATUS_READY);\n        } catch (MessagingException e) {\n\n            log.error(\"A Messaging exception occurred in EmailSender\", e);\n            user.setEmailStatus(DistinctNotification.STATUS_READY);\n        }\n\n    }\n</code></pre>\n\n<p>The error occurs at this line:</p>\n\n<pre><code>transport.connect(host, from, password);\n</code></pre>\n\n<p><strong>EDIT:</strong>  </p>\n\n<p>I reverted to an earlier build that I know for a fact worked, maybe a few months ago. It no longer works, I get the same error.<br>\nMy other colleagues who have access to the server say they haven't made any changes to it.  </p>\n\n<p>I have absolutely no idea where to go with this. \nI have no problem contacting googles servers using telnet. I'm going to do more checking on various ports just to be sure, but I don't thing that's the issue.\n<strong>EDIT 2:</strong>  </p>\n\n<p>Here's the issue:  <code>501-5.5.4 Empty HELO/EHLO argument not allowed, closing connection.</code><br>\nBut why would this be happening only on the one server?</p>\n\n<p>Additional logs from the console:  </p>\n\n<pre><code>DEBUG SMTP: connected to host \"smtp.gmail.com\", port: 587\n\nEHLO\n501-5.5.4 Empty HELO/EHLO argument not allowed, closing connection.\n501 5.5.4  https://support.google.com/mail/?p=helo l10sm686448lfd.19 - gsmtp\nHELO\nDEBUG SMTP: EOF: [EOF]\n09:07:00.277 [pool-2-thread-1] - A Messaging exception occurred in EmailSender\njavax.mail.MessagingException: [EOF]\n        at com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:1363) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:838) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:375) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at javax.mail.Service.connect(Service.java:275) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at javax.mail.Service.connect(Service.java:156) ~[jar:rsrc:mail-1.4.jar!/:?]\n        at com.watersprint.messaging.server.EmailSender.sendEmail(EmailSender.java:99) [rsrc:./:?]\n        at com.watersprint.messaging.server.MonitorDevicesRunnable.run(MonitorDevicesRunnable.java:82) [rsrc:./:?]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [?:1.7.0_75]\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304) [?:1.7.0_75]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178) [?:1.7.0_75]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.7.0_75]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [?:1.7.0_75]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [?:1.7.0_75]\n        at java.lang.Thread.run(Thread.java:745) [?:1.7.0_75]\n2016-09-15 09:07:00,760 ERROR Error occurred while sending e-mail notification. javax.mail.MessagingException: [EOF]\n        at com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:1363)\n        at com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:838)\n        at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:375)\n        at javax.mail.Service.connect(Service.java:297)\n        at javax.mail.Service.connect(Service.java:156)\n        at javax.mail.Service.connect(Service.java:105)\n        at javax.mail.Transport.send0(Transport.java:168)\n        at javax.mail.Transport.send(Transport.java:98)\n        at org.apache.logging.log4j.core.net.SmtpManager.sendMultipartMessage(SmtpManager.java:241)\n        at org.apache.logging.log4j.core.net.SmtpManager.sendEvents(SmtpManager.java:150)\n        at org.apache.logging.log4j.core.appender.SmtpAppender.append(SmtpAppender.java:173)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:99)\n        at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:430)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:409)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:367)\n        at org.apache.logging.log4j.core.Logger.logMessage(Logger.java:112)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:727)\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:716)\n        at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:354)\n        at com.watersprint.messaging.server.EmailSender.sendEmail(EmailSender.java:110)\n        at com.watersprint.messaging.server.MonitorDevicesRunnable.run(MonitorDevicesRunnable.java:82)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\n\n2016-09-15 09:07:00,762 ERROR An exception occurred processing Appender SMTPAppender org.apache.logging.log4j.LoggingException: Error occurred while sending email\n        at org.apache.logging.log4j.core.net.SmtpManager.sendEvents(SmtpManager.java:153)\n        at org.apache.logging.log4j.core.appender.SmtpAppender.append(SmtpAppender.java:173)\n        at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:99)\n        at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:430)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:409)\n        at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:367)\n        at org.apache.logging.log4j.core.Logger.logMessage(Logger.java:112)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:727)\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:716)\n        at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:354)\n        at com.watersprint.messaging.server.EmailSender.sendEmail(EmailSender.java:110)\n        at com.watersprint.messaging.server.MonitorDevicesRunnable.run(MonitorDevicesRunnable.java:82)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.mail.MessagingException: [EOF]\n        at com.sun.mail.smtp.SMTPTransport.issueCommand(SMTPTransport.java:1363)\n        at com.sun.mail.smtp.SMTPTransport.helo(SMTPTransport.java:838)\n        at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:375)\n        at javax.mail.Service.connect(Service.java:297)\n        at javax.mail.Service.connect(Service.java:156)\n        at javax.mail.Service.connect(Service.java:105)\n        at javax.mail.Transport.send0(Transport.java:168)\n        at javax.mail.Transport.send(Transport.java:98)\n        at org.apache.logging.log4j.core.net.SmtpManager.sendMultipartMessage(SmtpManager.java:241)\n        at org.apache.logging.log4j.core.net.SmtpManager.sendEvents(SmtpManager.java:150)\n        ... 18 more\n</code></pre>\n"},{"tags":["java","android","android-studio","arraylist"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1649012893,"post_id":71728877,"comment_id":126762837,"body_markdown":"1) please show what you&#39;ve tried and what specific problems that you are having with your attempt","body":"1) please show what you&#39;ve tried and what specific problems that you are having with your attempt"}],"answers":[{"tags":[],"owner":{"account_id":20169375,"reputation":1,"user_id":14792534,"display_name":"Indrehus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649012908,"creation_date":1649012908,"answer_id":71729075,"question_id":71728877,"body_markdown":"In java, you can use a try-witch-resource block.This makes sure that you close the file of something goes wrong. I use [BufferReader][1] when I want to read from a while. \r\n\r\nIn this code snippet, I store each line in an arraylist:\r\n\r\n    ArrayList&lt;String&gt; lines;\r\n\r\n\r\nThen you iterate through the file:\r\n\r\n    try(BufferedReader reader = Files.newBufferedReader(path)) {\r\n            String line;\r\n            while((line = reader.readLine())!= null){ //while there is a next line..\r\n                lines.add(line);\r\n            }\r\n        } catch (IOException e) {\r\n            /* File does not exits. */\r\n            throw new IllegalArgumentException(&quot;File not found&quot;);\r\n        }\r\n\r\n\r\nI recommend watching a youtube video, or reading on the javadoc for the buffer reader.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html","title":"How do I read from a Object ArrayList File to a Object Arralist?","body":"<p>In java, you can use a try-witch-resource block.This makes sure that you close the file of something goes wrong. I use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">BufferReader</a> when I want to read from a while.</p>\n<p>In this code snippet, I store each line in an arraylist:</p>\n<pre><code>ArrayList&lt;String&gt; lines;\n</code></pre>\n<p>Then you iterate through the file:</p>\n<pre><code>try(BufferedReader reader = Files.newBufferedReader(path)) {\n        String line;\n        while((line = reader.readLine())!= null){ //while there is a next line..\n            lines.add(line);\n        }\n    } catch (IOException e) {\n        /* File does not exits. */\n        throw new IllegalArgumentException(&quot;File not found&quot;);\n    }\n</code></pre>\n<p>I recommend watching a youtube video, or reading on the javadoc for the buffer reader.</p>\n"},{"tags":[],"owner":{"account_id":24812404,"reputation":34,"user_id":18693690,"display_name":"Nazareno Rodr&#237;guez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649017597,"creation_date":1649017597,"answer_id":71729593,"question_id":71728877,"body_markdown":"Found the solution. I read the arraylist with this:\r\n\r\npublic void loadContent(){\r\n\r\n        File path = getApplicationContext().getFilesDir();\r\n        File readFile = new File(path,&quot;output.txt&quot;);\r\n        \r\n\r\n        try {\r\n\r\n            FileInputStream readData = new FileInputStream(readFile);\r\n            ObjectInputStream readStream = new ObjectInputStream(readData);\r\n            ArrayList&lt;Item&gt; aux = (ArrayList&lt;Item&gt;) readStream.readObject();\r\n            readStream.close();\r\n            items = aux;\r\n\r\n            adapter = new ArrayAdapter&lt;&gt;(this,android.R.layout.simple_list_item_multiple_choice,items);\r\n\r\n            elementsList.setAdapter(adapter);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }","title":"How do I read from a Object ArrayList File to a Object Arralist?","body":"<p>Found the solution. I read the arraylist with this:</p>\n<p>public void loadContent(){</p>\n<pre><code>    File path = getApplicationContext().getFilesDir();\n    File readFile = new File(path,&quot;output.txt&quot;);\n    \n\n    try {\n\n        FileInputStream readData = new FileInputStream(readFile);\n        ObjectInputStream readStream = new ObjectInputStream(readData);\n        ArrayList&lt;Item&gt; aux = (ArrayList&lt;Item&gt;) readStream.readObject();\n        readStream.close();\n        items = aux;\n\n        adapter = new ArrayAdapter&lt;&gt;(this,android.R.layout.simple_list_item_multiple_choice,items);\n\n        elementsList.setAdapter(adapter);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":24812404,"reputation":34,"user_id":18693690,"display_name":"Nazareno Rodr&#237;guez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71729593,"answer_count":2,"score":0,"last_activity_date":1649017597,"creation_date":1649011249,"question_id":71728877,"body_markdown":"I&#39;ve been trying to do this for a while but I didn&#39;t find any solution.\r\n\r\nI&#39;m working on a shopping list app for android and I have an arraylist of items. I want to write it into a file which will be read everytime the app is opened, to save changes of it. I have a method to write the arraylist, which is this one:\r\n\r\n    File path = getApplicationContext().getFilesDir();\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(&quot;output&quot;);\r\n            ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n            oos.writeObject(items);\r\n            oos.close();\r\n        } catch(Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\nHowever I tried many things to read the file and none seem to work. What can I do?","title":"How do I read from a Object ArrayList File to a Object Arralist?","body":"<p>I've been trying to do this for a while but I didn't find any solution.</p>\n<p>I'm working on a shopping list app for android and I have an arraylist of items. I want to write it into a file which will be read everytime the app is opened, to save changes of it. I have a method to write the arraylist, which is this one:</p>\n<pre><code>File path = getApplicationContext().getFilesDir();\n    try {\n        FileOutputStream fos = new FileOutputStream(&quot;output&quot;);\n        ObjectOutputStream oos = new ObjectOutputStream(fos);\n        oos.writeObject(items);\n        oos.close();\n    } catch(Exception ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n<p>However I tried many things to read the file and none seem to work. What can I do?</p>\n"},{"tags":["java","formatting","numbers","currency","bigdecimal"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1593982307,"post_id":62745819,"comment_id":110960228,"body_markdown":"If you have to return the value as a `double`, you&#39;re already pretty much out of luck for getting the correct answer.  But the answer is, &quot;it depends how big the values are to the left of the decimal.&quot;","body":"If you have to return the value as a <code>double</code>, you&#39;re already pretty much out of luck for getting the correct answer.  But the answer is, &quot;it depends how big the values are to the left of the decimal.&quot;"},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1593982460,"post_id":62745819,"comment_id":110960271,"body_markdown":"Can you include the relevant code in the question? What is a &quot;simple integer division&quot;? Is the dividend guaranteed to be an integer multiple of the divisor?","body":"Can you include the relevant code in the question? What is a &quot;simple integer division&quot;? Is the dividend guaranteed to be an integer multiple of the divisor?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1593989915,"post_id":62745819,"comment_id":110962046,"body_markdown":"*I have to return the value as double anyway*. Really?","body":"<i>I have to return the value as double anyway</i>. Really?"}],"answers":[{"tags":[],"owner":{"account_id":18939297,"reputation":5009,"user_id":13819714,"display_name":"Cardstdani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593982412,"creation_date":1593982412,"answer_id":62746218,"question_id":62745819,"body_markdown":"I think that if you are only dealing with 1 decimal place, it&#39;s more effective to use double, because BigDecimal is used for high precision calculations with a lot more decimals.\r\n\r\nTo properly use double, I suggest you to use DecimalFormat to round the values if you need it, for example:\r\n\r\n    double a = 10;\r\n    double b = 3;\r\n    DecimalFormat format = new DecimalFormat(&quot;.00&quot;);\r\n    format.setRoundingMode(RoundingMode.UP);\r\n\r\n    System.out.println(format.format(a / b));\r\n\r\nThe output of this code will be 3.34, because DecimalFormat are formatting to 2 decimals and rounding mode are rounding up, I leave here a couple of links with all the information you need to properly use decimal format and rounding mode to your calculations:\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\r\n\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html","title":"Does using BigDecimal over double for basic integer divisions do anything if you&#39;re rounding to 1 decimal place?","body":"<p>I think that if you are only dealing with 1 decimal place, it's more effective to use double, because BigDecimal is used for high precision calculations with a lot more decimals.</p>\n<p>To properly use double, I suggest you to use DecimalFormat to round the values if you need it, for example:</p>\n<pre><code>double a = 10;\ndouble b = 3;\nDecimalFormat format = new DecimalFormat(&quot;.00&quot;);\nformat.setRoundingMode(RoundingMode.UP);\n\nSystem.out.println(format.format(a / b));\n</code></pre>\n<p>The output of this code will be 3.34, because DecimalFormat are formatting to 2 decimals and rounding mode are rounding up, I leave here a couple of links with all the information you need to properly use decimal format and rounding mode to your calculations:</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html</a></p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649017405,"creation_date":1593984419,"answer_id":62746518,"question_id":62745819,"body_markdown":"# tl;dr\r\n\r\nAlways use [`BigDecimal`][1] for money. \r\n\r\nYou said:\r\n\r\n&gt;I have to return the value as double\r\n\r\n**Never return a `double` for money.** Floating-point types trade away accuracy for speed of execution. Bookkeepers &amp; accountants prefer accuracy over speed.\r\n\r\nFor presentation, return text, a formatted `String`. \r\n\r\nYou said:\r\n\r\n&gt; simple integer division\r\n\r\nIf you want a fractional result, and you want accuracy, always use `BigDecimal` and its `divide` methods.\r\n\r\nIf you want only whole numbers, use integer types (`int`, `long`, `Integer`, `Long`, or `BigInteger`) but not `double`. \r\n\r\n# Never use `double` with money\r\n\r\nYou said:\r\n\r\n&gt;Since I have to return the value as double anyway\r\n\r\nNever use `double` [when accuracy matters][2]. Usually that includes money.\r\n\r\n\r\nSo if you are returning `double`, the rest of **your question is moot**. You’ve already thrown accurate results out the window. \r\n\r\n\r\nHere is an example using only one decimal place.\r\n\r\n\r\n    double x = 0.1 * 0.1 * 10 ;\r\n    System.out.println( x ) ;\r\n\r\n&gt; 0.10000000000000002\r\n\r\n\r\nCompare that behavior to [`BigDecimal`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html).\r\n\r\n\r\n\r\n    BigDecimal y = new BigDecimal( &quot;0.1&quot; ).multiply( new BigDecimal ( &quot;0.1&quot; ) ).multiply( new BigDecimal ( &quot;10&quot; ) ) ;\r\n    System.out.println( y ) ;\r\n\r\n&gt;0.10\r\n\r\nSee this [run live at IdeOne.com][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\r\n  [2]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\r\n  [3]: https://ideone.com/UeSfev","title":"Does using BigDecimal over double for basic integer divisions do anything if you&#39;re rounding to 1 decimal place?","body":"<h1>tl;dr</h1>\n<p>Always use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a> for money.</p>\n<p>You said:</p>\n<blockquote>\n<p>I have to return the value as double</p>\n</blockquote>\n<p><strong>Never return a <code>double</code> for money.</strong> Floating-point types trade away accuracy for speed of execution. Bookkeepers &amp; accountants prefer accuracy over speed.</p>\n<p>For presentation, return text, a formatted <code>String</code>.</p>\n<p>You said:</p>\n<blockquote>\n<p>simple integer division</p>\n</blockquote>\n<p>If you want a fractional result, and you want accuracy, always use <code>BigDecimal</code> and its <code>divide</code> methods.</p>\n<p>If you want only whole numbers, use integer types (<code>int</code>, <code>long</code>, <code>Integer</code>, <code>Long</code>, or <code>BigInteger</code>) but not <code>double</code>.</p>\n<h1>Never use <code>double</code> with money</h1>\n<p>You said:</p>\n<blockquote>\n<p>Since I have to return the value as double anyway</p>\n</blockquote>\n<p>Never use <code>double</code> <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\">when accuracy matters</a>. Usually that includes money.</p>\n<p>So if you are returning <code>double</code>, the rest of <strong>your question is moot</strong>. You’ve already thrown accurate results out the window.</p>\n<p>Here is an example using only one decimal place.</p>\n<pre><code>double x = 0.1 * 0.1 * 10 ;\nSystem.out.println( x ) ;\n</code></pre>\n<blockquote>\n<p>0.10000000000000002</p>\n</blockquote>\n<p>Compare that behavior to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a>.</p>\n<pre><code>BigDecimal y = new BigDecimal( &quot;0.1&quot; ).multiply( new BigDecimal ( &quot;0.1&quot; ) ).multiply( new BigDecimal ( &quot;10&quot; ) ) ;\nSystem.out.println( y ) ;\n</code></pre>\n<blockquote>\n<p>0.10</p>\n</blockquote>\n<p>See this <a href=\"https://ideone.com/UeSfev\" rel=\"nofollow noreferrer\">run live at IdeOne.com</a>.</p>\n"}],"owner":{"account_id":5490625,"reputation":566,"user_id":4364070,"accept_rate":39,"display_name":"eyes enberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1649017405,"creation_date":1593979900,"question_id":62745819,"body_markdown":"I&#39;m dealing with money, and I have a method that deals with a simple integer division. Since I have to return the value as double anyway, is cluttering my code with BigDecimal effective here?\r\n\r\nIs it considered the more &#39;correct&#39; option for a case like this? ","title":"Does using BigDecimal over double for basic integer divisions do anything if you&#39;re rounding to 1 decimal place?","body":"<p>I'm dealing with money, and I have a method that deals with a simple integer division. Since I have to return the value as double anyway, is cluttering my code with BigDecimal effective here?</p>\n<p>Is it considered the more 'correct' option for a case like this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user18098820"},"score":0,"creation_date":1649013570,"post_id":71729119,"comment_id":126762957,"body_markdown":"Your code works fine on https://www.tutorialspoint.com/compile_java_online.php what are you stuck on?","body":"Your code works fine on <a href=\"https://www.tutorialspoint.com/compile_java_online.php\" rel=\"nofollow noreferrer\">tutorialspoint.com/compile_java_online.php</a> what are you stuck on?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649027928,"post_id":71729119,"comment_id":126765405,"body_markdown":"Are you asking how to generate a random number, or how to parse a number embedded in a string? Edit to ask a very specific question.","body":"Are you asking how to generate a random number, or how to parse a number embedded in a string? Edit to ask a very specific question."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649028045,"post_id":71729119,"comment_id":126765420,"body_markdown":"Tip: More convenient random number code is `ThreadLocalRandom.current().nextInt( 1 , 10 )`.","body":"Tip: More convenient random number code is <code>ThreadLocalRandom.current().nextInt( 1 , 10 )</code>."}],"answers":[{"tags":[],"owner":{"account_id":16940770,"reputation":460,"user_id":12252679,"display_name":"Dj0ulo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649013689,"creation_date":1649013689,"answer_id":71729154,"question_id":71729119,"body_markdown":"I think you didn&#39;t understand the problem asked. Here the **input** of the program is the string &quot;x years old&quot; and you have to return &quot;x&quot; as an integer :\r\n\r\n    return Integer.parseInt(input.substr(0,1))","title":"Give a random age number between 0-9 Java","body":"<p>I think you didn't understand the problem asked. Here the <strong>input</strong> of the program is the string &quot;x years old&quot; and you have to return &quot;x&quot; as an integer :</p>\n<pre><code>return Integer.parseInt(input.substr(0,1))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20169375,"reputation":1,"user_id":14792534,"display_name":"Indrehus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649013885,"creation_date":1649013885,"answer_id":71729172,"question_id":71729119,"body_markdown":"I am not sure what the problem is.\r\nTry this if the problem is with generating random number:\r\n       \r\n        // create random object\r\n        Random ran = new Random();\r\n  \r\n        // Print next int value\r\n        // Returns number between 0-9\r\n        int nxt = ran.nextInt(10);\r\n  \r\n        // Printing the random number \r\n        // between 0 and 9\r\n        System.out.println\r\n        (&quot;Random number between 0 and 9 is : &quot; + nxt);\r\n\r\nAlso check out [Random][1] class in java! (Sry if this doesn&#39;t help)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Random.html","title":"Give a random age number between 0-9 Java","body":"<p>I am not sure what the problem is.\nTry this if the problem is with generating random number:</p>\n<pre><code>    // create random object\n    Random ran = new Random();\n\n    // Print next int value\n    // Returns number between 0-9\n    int nxt = ran.nextInt(10);\n\n    // Printing the random number \n    // between 0 and 9\n    System.out.println\n    (&quot;Random number between 0 and 9 is : &quot; + nxt);\n</code></pre>\n<p>Also check out <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">Random</a> class in java! (Sry if this doesn't help)</p>\n"},{"tags":[],"owner":{"account_id":20016750,"reputation":5,"user_id":18362740,"display_name":"Tasos Stefanidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649016869,"creation_date":1649016869,"answer_id":71729520,"question_id":71729119,"body_markdown":"If you simply want to extract a number from a specific string format (means you know where the number you are looking for is) use the Character.getNumericValue(string.charAt(0)) method.\r\n    \r\n    Scanner scanner = new Scanner(System.in)\r\n    System.out.println(&quot;How old are you?&quot;);\r\n    String s= scanner.nextLine();  \r\n    char c=s.charAt(0);\r\n    System.out.println(&quot;1st character is: &quot;+ Character.getNumericValue(c) );  \r\n\r\nThis is the simplest form that you can go. I suggest you go through w3schools.com for the basics.","title":"Give a random age number between 0-9 Java","body":"<p>If you simply want to extract a number from a specific string format (means you know where the number you are looking for is) use the Character.getNumericValue(string.charAt(0)) method.</p>\n<pre><code>Scanner scanner = new Scanner(System.in)\nSystem.out.println(&quot;How old are you?&quot;);\nString s= scanner.nextLine();  \nchar c=s.charAt(0);\nSystem.out.println(&quot;1st character is: &quot;+ Character.getNumericValue(c) );  \n</code></pre>\n<p>This is the simplest form that you can go. I suggest you go through w3schools.com for the basics.</p>\n"}],"owner":{"account_id":18999316,"reputation":1,"user_id":13867020,"display_name":"Ben M&#252;ller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1649016869,"creation_date":1649013331,"question_id":71729119,"body_markdown":"So I&#39;m currently a beginner programmer trying to slove some basic programming tasks. But I dont understand why My code is wrong. In eclipse everyting works. It&#39;s a coding problem from codewars.com\r\n\r\nIntroduction:\r\nYou ask a small girl,&quot;How old are you?&quot; She always says, &quot;x years old&quot;, where x is a random number between 0 and 9.\r\n\r\nWrite a program that returns the girl&#39;s age (0-9) as an integer.\r\n\r\nAssume the test input string is always a valid string. For example, the test input may be &quot;1 year old&quot; or &quot;5 years old&quot;. The first character in the string is always a number.\r\n\r\n```\r\npackage headfirstjava;\r\nimport java.util.Random;\r\n\r\n\r\n\r\npublic class do_something5 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t{\r\n\t\tint min =1;\r\n\t\tint max =9;\r\n\t    int age1 = (int)Math.round(Math.random() * (max - min)+ min);\r\n\t    int age2 = (int)Math.round(Math.random() * (max - min + 1)+ min);\r\n\t    System.out.println(&quot;I&#39;m &quot;+ age1+ &quot; Old&quot;);\r\n\t}\r\n\t\r\n\t}\r\n\r\n}\r\n```","title":"Give a random age number between 0-9 Java","body":"<p>So I'm currently a beginner programmer trying to slove some basic programming tasks. But I dont understand why My code is wrong. In eclipse everyting works. It's a coding problem from codewars.com</p>\n<p>Introduction:\nYou ask a small girl,&quot;How old are you?&quot; She always says, &quot;x years old&quot;, where x is a random number between 0 and 9.</p>\n<p>Write a program that returns the girl's age (0-9) as an integer.</p>\n<p>Assume the test input string is always a valid string. For example, the test input may be &quot;1 year old&quot; or &quot;5 years old&quot;. The first character in the string is always a number.</p>\n<pre><code>package headfirstjava;\nimport java.util.Random;\n\n\n\npublic class do_something5 {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        {\n        int min =1;\n        int max =9;\n        int age1 = (int)Math.round(Math.random() * (max - min)+ min);\n        int age2 = (int)Math.round(Math.random() * (max - min + 1)+ min);\n        System.out.println(&quot;I'm &quot;+ age1+ &quot; Old&quot;);\n    }\n    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","parsing","pdf","text","itext"],"answers":[{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649015899,"creation_date":1649015899,"answer_id":71729405,"question_id":71509804,"body_markdown":"Here is a working solution for iText 7. While there may be some bugs in iText 7 that are not present in iText 5 (because many parts of iText 7 were created from scratch or have been significantly reworked), chances that any bugs at all are fixed in iText 5 are close to 0 while iText 7 is an actively developed and maintained library. Hence I recommend that you use iText 7 and ask specific questions about the troubles you have to the community (or the paid support if you are an active customer).\r\n\r\nHelper class:\r\n\r\n    private static class MyEventListener implements IEventListener {\r\n        @Override\r\n        public void eventOccurred(IEventData data, EventType type) {\r\n            if (type == EventType.RENDER_TEXT) {\r\n                TextRenderInfo info = (TextRenderInfo) data;\r\n                java.util.List&lt;CanvasTag&gt; tags = info.getCanvasTagHierarchy();\r\n                System.out.println(&quot;Text: &quot; + info.getText());\r\n                System.out.println(&quot;Role: &quot; + tags.get(0).getRole().toString());\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;EventType&gt; getSupportedEvents() {\r\n            return new HashSet&lt;EventType&gt;(Arrays.asList(EventType.RENDER_TEXT));\r\n        }\r\n    }\r\n\r\nMain calling code:\r\n\r\n    PdfDocument pdfDocument = new PdfDocument(new PdfReader(&quot;path/to/file.pdf&quot;));\r\n\r\n    PdfCanvasProcessor processor = new PdfCanvasProcessor(new MyEventListener());\r\n    processor.processPageContent(pdfDocument.getPage(1));\r\n\r\n\r\nOutput for the first page of your document:\r\n\r\n```\r\nText: Low macrophage accumulation in skeletal muscle of obese type \r\nRole: /P\r\nText: 2 diabetics and elderly subjects\r\nRole: /P\r\nText: Charmaine S Tam, PhD\r\nRole: /P\r\nText: , \r\nRole: /P\r\nText: Lauren M Sparks, PhD\r\nRole: /P\r\nText: , \r\nRole: /P\r\nText: Darcy L Johannsen, PhD\r\nRole: /P\r\nText: , \r\nRole: /P\r\nText: Jeffrey D \r\nRole: /P\r\nText: Covington, B.S\r\nRole: /P\r\nText: , \r\nRole: /P\r\nText: Timothy S Church, PhD, MD\r\nRole: /P\r\nText: , and \r\nRole: /P\r\nText: Eric Ravussin, PhD\r\nRole: /P\r\nText: Pennington Biomedical Research Center, Baton Rouge, LA\r\nRole: /P\r\nText: Abstract\r\nRole: /P\r\nText: In addition to adipose tissue, recent studies suggest that skeletal muscle may also be a source of \r\nRole: /P\r\nText: low grade inflammation, particularly in inactive and/or overweight individuals. The aim of this \r\nRole: /P\r\nText: study was to examine the presence of macrophages in skeletal muscle from obese subjects with \r\nRole: /P\r\nText: type 2 diabetes (T2D) before and after a 9-month exercise program (vs. a non-exercising control \r\nRole: /P\r\nText: group) (Study 1) and in young vs. elderly subjects (Study 2). In both studies, CD68+ macrophages \r\nRole: /P\r\nText: in \r\nRole: /P\r\nText: vastus lateralis\r\nRole: /P\r\nText:  biopsies were determined by immunohistochemistry and inflammation gene \r\nRole: /P\r\nText: expression measured. Macrophage content (%) was calculated by the number of macrophages per \r\nRole: /P\r\nText: 100 muscle fibers. In \r\nRole: /P\r\nText: Study 1\r\nRole: /P\r\nText: , we found relatively low numbers (2–3%) of CD68+ macrophages in \r\nRole: /P\r\nText: skeletal muscle in obese T2D subjects (BMI= 37.3 &#177; 5.2kg/m\r\nRole: /P\r\nText: 2\r\nRole: /Span\r\nText: ), which were unchanged after a 9-\r\nRole: /P\r\nText: month exercise program (P=0.42). Similarly, in \r\nRole: /P\r\nText: Study 2\r\nRole: /P\r\nText:  (BMI=27.1 &#177; 2.5kg/m\r\nRole: /P\r\nText: 2\r\nRole: /Span\r\nText: ), CD68+ \r\nRole: /P\r\nText: macrophages were relatively low in muscle (4–5%) and were not different between young and \r\nRole: /P\r\nText: elderly individuals (P=0.42). However, elderly subjects had 2-fold higher CD68 and CD206 gene \r\nRole: /P\r\nText: expression (both P&lt;0.002) than young participants. In both studies, CD68+ muscle macrophages \r\nRole: /P\r\nText: were not associated with BMI. In conclusion, we found little evidence of macrophage \r\nRole: /P\r\nText: accumulation in skeletal muscle in obese T2D subjects or in elderly individuals. A 9-month \r\nRole: /P\r\nText: exercise program was not associated with a decrease in macrophage content.\r\nRole: /P\r\nText: Keywords\r\nRole: /P\r\nText: macrophage; muscle; inflammation; obesity; type 2 diabetes\r\nRole: /P\r\nText: Introduction\r\nRole: /P\r\nText: Adipose tissue from obese humans and high-fat fed animal models is characterized by \r\nRole: /P\r\nText: significant immune cell accumulation. In particular, macrophages located in crown-like \r\nRole: /P\r\nText: structures secrete pro-inflammatory mediators into the circulation leading to a state of low-\r\nRole: /P\r\nText: grade inflammation. Some studies suggest that macrophages also directly infiltrate skeletal \r\nRole: /P\r\nText: muscle, potentially further contributing to local and systemic inflammation in obesity (\r\nRole: /P\r\nText: 1\r\nRole: /Span\r\nText: –\r\nRole: /P\r\nText: 5\r\nRole: /Span\r\nText: ). \r\nRole: /P\r\nText: Users may view, print, copy, and download text and data-mine the content in such documents, for the purposes of academic research, \r\nRole: /P\r\nText: subject always to the full Conditions of use:\r\nRole: /P\r\nText: http://www.nature.com/authors/editorial_policies/license.html#terms\r\nRole: /Link\r\nText: Corresponding author and reprint requests to:\r\nRole: /P\r\nText:  Eric Ravussin, Pennington Biomedical Research Center, 6400 Perkins Road, Baton \r\nRole: /P\r\nText: Rouge, LA, USA, 70808, Phone: 225-763-3186, Fax: 225-763-3030, eric.ravussin@pbrc.edu. \r\nRole: /P\r\nText: Disclosure:\r\nRole: /P\r\nText:  The authors have no conflicts of interest and nothing to disclose\r\nRole: /P\r\nText: HHS Public Access\r\nRole: /Artifact\r\nText: Author manuscript\r\nRole: /Artifact\r\nText: Obesity (Silver Spring)\r\nRole: /Artifact\r\nText: . Author manuscript; available in PMC 2013 February 01.\r\nRole: /Artifact\r\nText: Published in final edited form as:\r\nRole: /Artifact\r\nText: Obesity (Silver Spring)\r\nRole: /Artifact\r\nText: . 2012 July ; 20(7): 1530–1533. doi:10.1038/oby.2012.24.\r\nRole: /Artifact\r\nText: Author Manuscript\r\nRole: /Artifact\r\nText: Author Manuscript\r\nRole: /Artifact\r\nText: Author Manuscript\r\nRole: /Artifact\r\nText: Author Manuscript\r\nRole: /Artifact\r\n```","title":"Cannot reach tag info under markedContentInfo","body":"<p>Here is a working solution for iText 7. While there may be some bugs in iText 7 that are not present in iText 5 (because many parts of iText 7 were created from scratch or have been significantly reworked), chances that any bugs at all are fixed in iText 5 are close to 0 while iText 7 is an actively developed and maintained library. Hence I recommend that you use iText 7 and ask specific questions about the troubles you have to the community (or the paid support if you are an active customer).</p>\n<p>Helper class:</p>\n<pre><code>private static class MyEventListener implements IEventListener {\n    @Override\n    public void eventOccurred(IEventData data, EventType type) {\n        if (type == EventType.RENDER_TEXT) {\n            TextRenderInfo info = (TextRenderInfo) data;\n            java.util.List&lt;CanvasTag&gt; tags = info.getCanvasTagHierarchy();\n            System.out.println(&quot;Text: &quot; + info.getText());\n            System.out.println(&quot;Role: &quot; + tags.get(0).getRole().toString());\n        }\n    }\n\n    @Override\n    public Set&lt;EventType&gt; getSupportedEvents() {\n        return new HashSet&lt;EventType&gt;(Arrays.asList(EventType.RENDER_TEXT));\n    }\n}\n</code></pre>\n<p>Main calling code:</p>\n<pre><code>PdfDocument pdfDocument = new PdfDocument(new PdfReader(&quot;path/to/file.pdf&quot;));\n\nPdfCanvasProcessor processor = new PdfCanvasProcessor(new MyEventListener());\nprocessor.processPageContent(pdfDocument.getPage(1));\n</code></pre>\n<p>Output for the first page of your document:</p>\n<pre><code>Text: Low macrophage accumulation in skeletal muscle of obese type \nRole: /P\nText: 2 diabetics and elderly subjects\nRole: /P\nText: Charmaine S Tam, PhD\nRole: /P\nText: , \nRole: /P\nText: Lauren M Sparks, PhD\nRole: /P\nText: , \nRole: /P\nText: Darcy L Johannsen, PhD\nRole: /P\nText: , \nRole: /P\nText: Jeffrey D \nRole: /P\nText: Covington, B.S\nRole: /P\nText: , \nRole: /P\nText: Timothy S Church, PhD, MD\nRole: /P\nText: , and \nRole: /P\nText: Eric Ravussin, PhD\nRole: /P\nText: Pennington Biomedical Research Center, Baton Rouge, LA\nRole: /P\nText: Abstract\nRole: /P\nText: In addition to adipose tissue, recent studies suggest that skeletal muscle may also be a source of \nRole: /P\nText: low grade inflammation, particularly in inactive and/or overweight individuals. The aim of this \nRole: /P\nText: study was to examine the presence of macrophages in skeletal muscle from obese subjects with \nRole: /P\nText: type 2 diabetes (T2D) before and after a 9-month exercise program (vs. a non-exercising control \nRole: /P\nText: group) (Study 1) and in young vs. elderly subjects (Study 2). In both studies, CD68+ macrophages \nRole: /P\nText: in \nRole: /P\nText: vastus lateralis\nRole: /P\nText:  biopsies were determined by immunohistochemistry and inflammation gene \nRole: /P\nText: expression measured. Macrophage content (%) was calculated by the number of macrophages per \nRole: /P\nText: 100 muscle fibers. In \nRole: /P\nText: Study 1\nRole: /P\nText: , we found relatively low numbers (2–3%) of CD68+ macrophages in \nRole: /P\nText: skeletal muscle in obese T2D subjects (BMI= 37.3 ± 5.2kg/m\nRole: /P\nText: 2\nRole: /Span\nText: ), which were unchanged after a 9-\nRole: /P\nText: month exercise program (P=0.42). Similarly, in \nRole: /P\nText: Study 2\nRole: /P\nText:  (BMI=27.1 ± 2.5kg/m\nRole: /P\nText: 2\nRole: /Span\nText: ), CD68+ \nRole: /P\nText: macrophages were relatively low in muscle (4–5%) and were not different between young and \nRole: /P\nText: elderly individuals (P=0.42). However, elderly subjects had 2-fold higher CD68 and CD206 gene \nRole: /P\nText: expression (both P&lt;0.002) than young participants. In both studies, CD68+ muscle macrophages \nRole: /P\nText: were not associated with BMI. In conclusion, we found little evidence of macrophage \nRole: /P\nText: accumulation in skeletal muscle in obese T2D subjects or in elderly individuals. A 9-month \nRole: /P\nText: exercise program was not associated with a decrease in macrophage content.\nRole: /P\nText: Keywords\nRole: /P\nText: macrophage; muscle; inflammation; obesity; type 2 diabetes\nRole: /P\nText: Introduction\nRole: /P\nText: Adipose tissue from obese humans and high-fat fed animal models is characterized by \nRole: /P\nText: significant immune cell accumulation. In particular, macrophages located in crown-like \nRole: /P\nText: structures secrete pro-inflammatory mediators into the circulation leading to a state of low-\nRole: /P\nText: grade inflammation. Some studies suggest that macrophages also directly infiltrate skeletal \nRole: /P\nText: muscle, potentially further contributing to local and systemic inflammation in obesity (\nRole: /P\nText: 1\nRole: /Span\nText: –\nRole: /P\nText: 5\nRole: /Span\nText: ). \nRole: /P\nText: Users may view, print, copy, and download text and data-mine the content in such documents, for the purposes of academic research, \nRole: /P\nText: subject always to the full Conditions of use:\nRole: /P\nText: http://www.nature.com/authors/editorial_policies/license.html#terms\nRole: /Link\nText: Corresponding author and reprint requests to:\nRole: /P\nText:  Eric Ravussin, Pennington Biomedical Research Center, 6400 Perkins Road, Baton \nRole: /P\nText: Rouge, LA, USA, 70808, Phone: 225-763-3186, Fax: 225-763-3030, eric.ravussin@pbrc.edu. \nRole: /P\nText: Disclosure:\nRole: /P\nText:  The authors have no conflicts of interest and nothing to disclose\nRole: /P\nText: HHS Public Access\nRole: /Artifact\nText: Author manuscript\nRole: /Artifact\nText: Obesity (Silver Spring)\nRole: /Artifact\nText: . Author manuscript; available in PMC 2013 February 01.\nRole: /Artifact\nText: Published in final edited form as:\nRole: /Artifact\nText: Obesity (Silver Spring)\nRole: /Artifact\nText: . 2012 July ; 20(7): 1530–1533. doi:10.1038/oby.2012.24.\nRole: /Artifact\nText: Author Manuscript\nRole: /Artifact\nText: Author Manuscript\nRole: /Artifact\nText: Author Manuscript\nRole: /Artifact\nText: Author Manuscript\nRole: /Artifact\n</code></pre>\n"}],"owner":{"account_id":3860904,"reputation":782,"user_id":3198674,"accept_rate":64,"display_name":"mlee_jordan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649015899,"creation_date":1647508984,"question_id":71509804,"body_markdown":"I am trying to parse a pdf ([paper][1]) and get text for each different section separately. With using itext 5.5.6 (I have also tried itext 7 but somehow for some pdfs it returns weird characters while itext 5 works perfectly...), I can easily get font types, sizes and colors. I also want to reach tag information found under markedcontentinfo which is private under TextRenderInfo through which I am planning to retain the text with **/P** tag and ignore **/Artifact**.\r\n\r\nAs mentioned here ([itext][2]), there is getTag to retrive the info I need, however that option is not available under the renderInfo (see the code below).\r\n\r\nHow can I reach that info?\r\n\r\n        @Override\r\n        public void renderText(TextRenderInfo renderInfo) {\r\n\r\n            String text = renderInfo.getText();\r\n            result.append(renderInfo.getText());\r\n\r\n            String curFontName = renderInfo.getFont().getFullFontName()[0][3];\r\n\r\n            Vector curBaseline = renderInfo.getBaseline().getStartPoint();\r\n            Vector topRight = renderInfo.getAscentLine().getEndPoint();\r\n\r\n            Rectangle rect = new Rectangle(curBaseline.get(0), curBaseline.get(1), topRight.get(0), topRight.get(1));\r\n            float curFontSize = rect.getHeight();\r\n\r\n\r\n  [1]: https://europepmc.org/articles/pmc3561725?pdf=render\r\n  [2]: https://api.itextpdf.com/iText5/java/5.5.13.3/com/itextpdf/text/pdf/parser/MarkedContentInfo.html","title":"Cannot reach tag info under markedContentInfo","body":"<p>I am trying to parse a pdf (<a href=\"https://europepmc.org/articles/pmc3561725?pdf=render\" rel=\"nofollow noreferrer\">paper</a>) and get text for each different section separately. With using itext 5.5.6 (I have also tried itext 7 but somehow for some pdfs it returns weird characters while itext 5 works perfectly...), I can easily get font types, sizes and colors. I also want to reach tag information found under markedcontentinfo which is private under TextRenderInfo through which I am planning to retain the text with <strong>/P</strong> tag and ignore <strong>/Artifact</strong>.</p>\n<p>As mentioned here (<a href=\"https://api.itextpdf.com/iText5/java/5.5.13.3/com/itextpdf/text/pdf/parser/MarkedContentInfo.html\" rel=\"nofollow noreferrer\">itext</a>), there is getTag to retrive the info I need, however that option is not available under the renderInfo (see the code below).</p>\n<p>How can I reach that info?</p>\n<pre><code>    @Override\n    public void renderText(TextRenderInfo renderInfo) {\n\n        String text = renderInfo.getText();\n        result.append(renderInfo.getText());\n\n        String curFontName = renderInfo.getFont().getFullFontName()[0][3];\n\n        Vector curBaseline = renderInfo.getBaseline().getStartPoint();\n        Vector topRight = renderInfo.getAscentLine().getEndPoint();\n\n        Rectangle rect = new Rectangle(curBaseline.get(0), curBaseline.get(1), topRight.get(0), topRight.get(1));\n        float curFontSize = rect.getHeight();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1649006978,"post_id":71728298,"comment_id":126761453,"body_markdown":"No. Because the stream is compressed. You can&#39;t randomly access bytes, you have to decompress serially.","body":"No. Because the stream is compressed. You can&#39;t randomly access bytes, you have to decompress serially."},{"owner":{"account_id":12877052,"reputation":43,"user_id":9313399,"display_name":"L. Angelino"},"score":0,"creation_date":1649018468,"post_id":71728298,"comment_id":126763914,"body_markdown":"Is there a library better than Apache commons compress to speed up decompressions?","body":"Is there a library better than Apache commons compress to speed up decompressions?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1649018983,"post_id":71728298,"comment_id":126764017,"body_markdown":"The ***decompression*** is `GZIPInputStream`. And it&#39;s reasonably fast for what it is. There are certainly **faster** options, **but** they aren&#39;t compatible with your current format. [lz4](https://engineering.fb.com/2016/08/31/core-data/smaller-and-faster-data-compression-with-zstandard/) should be about 9x faster. Of course, first you need your tar compressed with lz4.","body":"The <b><i>decompression</i></b> is <code>GZIPInputStream</code>. And it&#39;s reasonably fast for what it is. There are certainly <b>faster</b> options, <b>but</b> they aren&#39;t compatible with your current format. <a href=\"https://engineering.fb.com/2016/08/31/core-data/smaller-and-faster-data-compression-with-zstandard/\" rel=\"nofollow noreferrer\">lz4</a> should be about 9x faster. Of course, first you need your tar compressed with lz4."},{"owner":{"account_id":12877052,"reputation":43,"user_id":9313399,"display_name":"L. Angelino"},"score":0,"creation_date":1649020803,"post_id":71728298,"comment_id":126764361,"body_markdown":"So I have to archive everything in tar and compress/decompress it with lz4?","body":"So I have to archive everything in tar and compress/decompress it with lz4?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1649020990,"post_id":71728298,"comment_id":126764393,"body_markdown":"You don&#39;t &quot;have to&quot; do anything. But if you want it to be faster, then yes; that is one way to make it faster.","body":"You don&#39;t &quot;have to&quot; do anything. But if you want it to be faster, then yes; that is one way to make it faster."}],"owner":{"account_id":12877052,"reputation":43,"user_id":9313399,"display_name":"L. Angelino"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649015636,"creation_date":1649006739,"question_id":71728298,"body_markdown":"I&#39;m trying to unpack a tar.gz archive with lots of files and folders inside. I&#39;m using Apache commons compress v1.21\r\n\r\nThe code is this:\r\n\r\n```\r\npublic void decompress(File archive, File destination) {\r\n        File tar = new File(destination, archive.getName().substring(0, archive.getName().length() - 3));\r\n\r\n        try (FileInputStream isArchive = new FileInputStream(archive);\r\n             GZIPInputStream gzip = new GZIPInputStream(new BufferedInputStream(isArchive));\r\n             OutputStream out = new FileOutputStream(tar);\r\n             InputStream in = new FileInputStream(tar);\r\n             TarArchiveInputStream is = (TarArchiveInputStream) new ArchiveStreamFactory().createArchiveInputStream(&quot;tar&quot;, in)\r\n        ) {\r\n            IOUtils.copy(gzip, out);\r\n            TarArchiveEntry entry;\r\n            while ((entry = is.getNextTarEntry()) != null) {\r\n                File file = new File(destination, entry.getName());\r\n                file.getParentFile().mkdirs();\r\n                Files.write(file.toPath(), is.readAllBytes());\r\n            }\r\n        } catch (IOException | ArchiveException e) {\r\n            Logger.log(LogLevel.ERROR, e, &quot;An error occurred during a decompression&quot;, &quot;Archive: &quot; + archive.getName());\r\n            return;\r\n        }\r\n        tar.delete();\r\n    }\r\n```\r\nIs there any way to speed up the process? Can multiple files be decompressed in parallel?\r\n\r\n","title":"Speed up the decompression of a tar.gz","body":"<p>I'm trying to unpack a tar.gz archive with lots of files and folders inside. I'm using Apache commons compress v1.21</p>\n<p>The code is this:</p>\n<pre><code>public void decompress(File archive, File destination) {\n        File tar = new File(destination, archive.getName().substring(0, archive.getName().length() - 3));\n\n        try (FileInputStream isArchive = new FileInputStream(archive);\n             GZIPInputStream gzip = new GZIPInputStream(new BufferedInputStream(isArchive));\n             OutputStream out = new FileOutputStream(tar);\n             InputStream in = new FileInputStream(tar);\n             TarArchiveInputStream is = (TarArchiveInputStream) new ArchiveStreamFactory().createArchiveInputStream(&quot;tar&quot;, in)\n        ) {\n            IOUtils.copy(gzip, out);\n            TarArchiveEntry entry;\n            while ((entry = is.getNextTarEntry()) != null) {\n                File file = new File(destination, entry.getName());\n                file.getParentFile().mkdirs();\n                Files.write(file.toPath(), is.readAllBytes());\n            }\n        } catch (IOException | ArchiveException e) {\n            Logger.log(LogLevel.ERROR, e, &quot;An error occurred during a decompression&quot;, &quot;Archive: &quot; + archive.getName());\n            return;\n        }\n        tar.delete();\n    }\n</code></pre>\n<p>Is there any way to speed up the process? Can multiple files be decompressed in parallel?</p>\n"},{"tags":["java","model-view-controller","transactions","transactionmanager"],"answers":[{"tags":[],"owner":{"account_id":9673431,"reputation":893,"user_id":7177688,"display_name":"Wippo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649015268,"creation_date":1649015268,"answer_id":71729324,"question_id":71486893,"body_markdown":"I was sure I had to extend `Function` to a custom `N-Function` in order to be able to pass multiple input parameters (because this is how my teacher explained it). Well, I found out that I don&#39;t need to use `Function`, not even in the single-input scenario. Here the only purpose of extending `Function` is to invoke its method `apply()` from `ServiceLayer`. Instead of generalising to an `N-Function` I can just define a method with an adeguate number of inputs. To answer my question is enough to rewrite `TransactionCode` as follows:\r\n\r\n    @FunctionalInterface\r\n    public interface TransactionCode&lt;T&gt; {\r\n    \r\n        T apply(MyDaoA daoA, MyDaoB daoB, MyDaoC daoC, MyDaoD daoD);\r\n    \r\n    }\r\n\r\n","title":"How to implement Transaction Manager for multiple Dao","body":"<p>I was sure I had to extend <code>Function</code> to a custom <code>N-Function</code> in order to be able to pass multiple input parameters (because this is how my teacher explained it). Well, I found out that I don't need to use <code>Function</code>, not even in the single-input scenario. Here the only purpose of extending <code>Function</code> is to invoke its method <code>apply()</code> from <code>ServiceLayer</code>. Instead of generalising to an <code>N-Function</code> I can just define a method with an adeguate number of inputs. To answer my question is enough to rewrite <code>TransactionCode</code> as follows:</p>\n<pre><code>@FunctionalInterface\npublic interface TransactionCode&lt;T&gt; {\n\n    T apply(MyDaoA daoA, MyDaoB daoB, MyDaoC daoC, MyDaoD daoD);\n\n}\n</code></pre>\n"}],"owner":{"account_id":9673431,"reputation":893,"user_id":7177688,"display_name":"Wippo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71729324,"answer_count":1,"score":1,"last_activity_date":1649015268,"creation_date":1647367024,"question_id":71486893,"body_markdown":"I am writing a Java application following the MVC pattern, abstract enough to allow the backend to connect to an Sql and a NoSql database. I have 4 model classes and 4 DAO interfaces. Each DAO is implemented in two ways, one for sql and one for mongodb. I want to add a Transaction Manager to execute database operations in atomic transactions: the problem is that these operations involve a variable number of DAOs and I don&#39;t know how to implement the Manager with more than one Dao. **I&#39;m not using Spring and I&#39;m not willing to add it.**\r\n\r\nI&#39;ve had the following ideas but each one has something I&#39;m not sure about:\r\n\r\n&lt;ul&gt;&lt;li&gt;Make interfaces `MyDao_X` extend another interface `GenericDao` and use the last one in TransactionCode. This way I wouldn&#39;t know which Dao to instantiate in `TransactionManagerMysql`&lt;/li&gt;\r\n&lt;li&gt;Extend Function to be an N-Function which can accept N inputs and produce an output. In this case N = 4, so I could always instantiate all the DAOs. Here the doubts are the following: I don&#39;t know how to do and I&#39;m following TDD so I should figure out how to test this extension. Moreover, it doesn&#39;t seem very efficient to me to instantiate 4 Dao every time just because I don&#39;t know how many or the type I need. Additionally, if the number of Dao changes over time, I would be forced to modify all the functions in Service Layer to adapt the number of inputs to lambdas&lt;/li&gt;\r\n\r\n&lt;/ol&gt;\r\n&lt;/ul&gt;\r\n\r\nWhat I would do if I had only one Dao\r\n=====================================\r\n\r\n```\r\npublic interface TransactionManager {\r\n\t&lt;T&gt; T executeTransaction(TransactionCode&lt;T&gt; code);\r\n}\r\n\r\n@FunctionalInterface\r\npublic interface TransactionCode&lt;T&gt; extends Function&lt;MyDAO, T&gt; {\r\n}\r\n\r\npublic class ServiceLayer {\r\n\r\n\tprivate TransactionManager transactionManager;\r\n\r\n\tpublic ServiceLayer(TransactionManager manager) {\r\n\t\ttransactionManager = manager;\r\n\t}\r\n\r\n\tpublic void doSomethingInTransaction() {\r\n\t\ttransactionManager.executeTransaction((myDao) -&gt; {\r\n\t\t\tmyDao.doSomething();\r\n\t\t\treturn null;\r\n\t\t});\r\n\t}\r\n}\r\n\r\npublic class TransactionManagerMysql implements TransactionManager {\r\n\r\n\tprivate EntityManager entityManager;\r\n\r\n\tpublic TransactionManagerMysql(EntityManager entityManager) {\r\n\t\tthis.entityManager = entityManager;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic &lt;T&gt; T executeTransaction(TransactionCode&lt;T&gt; code) {\r\n\t\ttry {\r\n\t\t\tentityManager.getTransaction().begin();\r\n\t\t\tT result = code.apply(new MyDaoSQL(entityManager));\r\n\t\t\tentityManager.getTransaction().commit();\r\n\t\t\treturn result;\r\n\t\t} catch (Exception e) {\r\n\t\t\tentityManager.getTransaction().rollback();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```","title":"How to implement Transaction Manager for multiple Dao","body":"<p>I am writing a Java application following the MVC pattern, abstract enough to allow the backend to connect to an Sql and a NoSql database. I have 4 model classes and 4 DAO interfaces. Each DAO is implemented in two ways, one for sql and one for mongodb. I want to add a Transaction Manager to execute database operations in atomic transactions: the problem is that these operations involve a variable number of DAOs and I don't know how to implement the Manager with more than one Dao. <strong>I'm not using Spring and I'm not willing to add it.</strong></p>\n<p>I've had the following ideas but each one has something I'm not sure about:</p>\n<ul><li>Make interfaces `MyDao_X` extend another interface `GenericDao` and use the last one in TransactionCode. This way I wouldn't know which Dao to instantiate in `TransactionManagerMysql`</li>\n<li>Extend Function to be an N-Function which can accept N inputs and produce an output. In this case N = 4, so I could always instantiate all the DAOs. Here the doubts are the following: I don't know how to do and I'm following TDD so I should figure out how to test this extension. Moreover, it doesn't seem very efficient to me to instantiate 4 Dao every time just because I don't know how many or the type I need. Additionally, if the number of Dao changes over time, I would be forced to modify all the functions in Service Layer to adapt the number of inputs to lambdas</li>\n\n</ul>\n<h1>What I would do if I had only one Dao</h1>\n<pre><code>public interface TransactionManager {\n    &lt;T&gt; T executeTransaction(TransactionCode&lt;T&gt; code);\n}\n\n@FunctionalInterface\npublic interface TransactionCode&lt;T&gt; extends Function&lt;MyDAO, T&gt; {\n}\n\npublic class ServiceLayer {\n\n    private TransactionManager transactionManager;\n\n    public ServiceLayer(TransactionManager manager) {\n        transactionManager = manager;\n    }\n\n    public void doSomethingInTransaction() {\n        transactionManager.executeTransaction((myDao) -&gt; {\n            myDao.doSomething();\n            return null;\n        });\n    }\n}\n\npublic class TransactionManagerMysql implements TransactionManager {\n\n    private EntityManager entityManager;\n\n    public TransactionManagerMysql(EntityManager entityManager) {\n        this.entityManager = entityManager;\n    }\n\n    @Override\n    public &lt;T&gt; T executeTransaction(TransactionCode&lt;T&gt; code) {\n        try {\n            entityManager.getTransaction().begin();\n            T result = code.apply(new MyDaoSQL(entityManager));\n            entityManager.getTransaction().commit();\n            return result;\n        } catch (Exception e) {\n            entityManager.getTransaction().rollback();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-firestore"],"comments":[{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1648963042,"post_id":71721559,"comment_id":126753207,"body_markdown":"can you show up your firebase data structure please?","body":"can you show up your firebase data structure please?"},{"owner":{"account_id":24696910,"reputation":15,"user_id":18588751,"display_name":"jawaher"},"score":0,"creation_date":1649015093,"post_id":71721559,"comment_id":126763279,"body_markdown":"I posted like answer you can show that and thank you","body":"I posted like answer you can show that and thank you"},{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1649049944,"post_id":71721559,"comment_id":126768607,"body_markdown":"where is your firebase data structure? I couldn&#39;t find it in your question also one more thing is why you are using for loop instead of setting the null value to the recipe node directly? and I think dialog cancel code is inside for loop isn&#39;t? any reason behind that logic?","body":"where is your firebase data structure? I couldn&#39;t find it in your question also one more thing is why you are using for loop instead of setting the null value to the recipe node directly? and I think dialog cancel code is inside for loop isn&#39;t? any reason behind that logic?"}],"owner":{"account_id":24696910,"reputation":15,"user_id":18588751,"display_name":"jawaher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649014999,"creation_date":1648937667,"question_id":71721559,"body_markdown":"the my code to delete one item in firbase in chiled rcipe the method delete all the list item in rcipe on click one item i think that because for loop the get all item not specfic item and delete all of them i don&#39;t konw how can delete just one item in list\r\ni went delete the one key just one on click button delete \r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\nholder.delete.setOnClickListener(new View.OnClickListener() {        \r\n@Override            \r\npublic void onClick(View view) {               \r\nAlertDialog.Builder builder1 = new AlertDialog.Builder(view.getRootView().getContext());               \r\nbuilder1.setTitle(&quot;Delete post&quot;);              \r\nbuilder1.setMessage(&quot;Are you sure that you want delete the post?&quot;);              \r\nbuilder1.setCancelable(true);             \r\nbuilder1.setPositiveButton(  &quot;Yes&quot;,new DialogInterface.OnClickListener() { public void onClick(DialogInterface dialog, int id) {                          \r\nref.child(&quot;recipe&quot;).addListenerForSingleValueEvent(new ValueEventListener() {                                 \r\n @Override\r\npublic void onDataChange(DataSnapshot dataSnapshot) {\r\n   for(DataSnapshot uniqueKeySnapshot : dataSnapshot.getChildren()){                                \r\n    String skey = uniqueKeySnapshot.getKey();                                   \r\n  ref.child(&quot;recipe&quot;).child(skey).setValue(null);\r\n//by this delete all item in list rcipe refrence                                          //uniqueKeySnapshot.child(String.valueOf(id)).child(skey).getRef().removeValue();\r\n//the not delete any thing                                     \r\n dialog.cancel();                     \r\n  } }                                  \r\n @Override                               \r\n  public void onCancelled(DatabaseError databaseError) {                             \r\n     Toast.makeText(mContext, &quot;error !&quot;+databaseError.getMessage(), Toast.LENGTH_SHORT).show();                        \r\n    } });\r\n```\r\n\r\nThey not do anything when clicking the button delete\r\ni cant insert image","title":"How delete one item in firebase by key","body":"<p>the my code to delete one item in firbase in chiled rcipe the method delete all the list item in rcipe on click one item i think that because for loop the get all item not specfic item and delete all of them i don't konw how can delete just one item in list\ni went delete the one key just one on click button delete</p>\n<pre><code>holder.delete.setOnClickListener(new View.OnClickListener() {        \n@Override            \npublic void onClick(View view) {               \nAlertDialog.Builder builder1 = new AlertDialog.Builder(view.getRootView().getContext());               \nbuilder1.setTitle(&quot;Delete post&quot;);              \nbuilder1.setMessage(&quot;Are you sure that you want delete the post?&quot;);              \nbuilder1.setCancelable(true);             \nbuilder1.setPositiveButton(  &quot;Yes&quot;,new DialogInterface.OnClickListener() { public void onClick(DialogInterface dialog, int id) {                          \nref.child(&quot;recipe&quot;).addListenerForSingleValueEvent(new ValueEventListener() {                                 \n @Override\npublic void onDataChange(DataSnapshot dataSnapshot) {\n   for(DataSnapshot uniqueKeySnapshot : dataSnapshot.getChildren()){                                \n    String skey = uniqueKeySnapshot.getKey();                                   \n  ref.child(&quot;recipe&quot;).child(skey).setValue(null);\n//by this delete all item in list rcipe refrence                                          //uniqueKeySnapshot.child(String.valueOf(id)).child(skey).getRef().removeValue();\n//the not delete any thing                                     \n dialog.cancel();                     \n  } }                                  \n @Override                               \n  public void onCancelled(DatabaseError databaseError) {                             \n     Toast.makeText(mContext, &quot;error !&quot;+databaseError.getMessage(), Toast.LENGTH_SHORT).show();                        \n    } });\n</code></pre>\n<p>They not do anything when clicking the button delete\ni cant insert image</p>\n"},{"tags":["java","testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":24752674,"reputation":86,"user_id":18637952,"display_name":"batteryduck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649014408,"creation_date":1649013486,"answer_id":71729135,"question_id":71729089,"body_markdown":"In this case, you are attempting to mock static methods on your utility classes, which is not allowed by Mockito. Please see https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito for more details.\r\n\r\nIf what you are attempting to test here is the validity of your math, you can simply unit test them with basic assertions. If you would like to use mocks for your test, you can explore alternatives suggested in the above post, or restructure your code to rely on non-static methods.\r\n\r\nAssuming that Function1 is just a holder for the variables passed into it, for each of the inner classes you want to change:\r\n\r\n```java\r\npublic static class MySin {\r\n    public static double mySin(double x, double accuracy) throws Exception {\r\n        return MyCos.myCos(Math.PI/2 - x, accuracy);\r\n    }\r\n}\r\n```\r\n\r\nto\r\n\r\n```java\r\npublic static class MySin {\r\n    public double mySin(double x, double accuracy) throws Exception {\r\n        return MyCos.myCos(Math.PI/2 - x, accuracy);\r\n    }\r\n}\r\n```\r\n\r\nNote the removed static modifier on the method. ","title":"How to use mockito correctly when conducting integration testing?","body":"<p>In this case, you are attempting to mock static methods on your utility classes, which is not allowed by Mockito. Please see <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\">Mocking static methods with Mockito</a> for more details.</p>\n<p>If what you are attempting to test here is the validity of your math, you can simply unit test them with basic assertions. If you would like to use mocks for your test, you can explore alternatives suggested in the above post, or restructure your code to rely on non-static methods.</p>\n<p>Assuming that Function1 is just a holder for the variables passed into it, for each of the inner classes you want to change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class MySin {\n    public static double mySin(double x, double accuracy) throws Exception {\n        return MyCos.myCos(Math.PI/2 - x, accuracy);\n    }\n}\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class MySin {\n    public double mySin(double x, double accuracy) throws Exception {\n        return MyCos.myCos(Math.PI/2 - x, accuracy);\n    }\n}\n</code></pre>\n<p>Note the removed static modifier on the method.</p>\n"}],"owner":{"account_id":22815911,"reputation":55,"user_id":16966550,"display_name":"student213"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71729135,"answer_count":1,"score":1,"last_activity_date":1649014408,"creation_date":1649013007,"question_id":71729089,"body_markdown":"I have a function in which I want to substitute the behavior of some component parts (cosines, sines, ...), I&#39;m trying to create an mock for these parts and pass them to the function.\r\n\r\n    class Function1Test {\r\n    private static final double accuracy = 10e-5;\r\n    static Function1 firstFunction;\r\n    static Function2 secondFunction;\r\n    static TrFunc.MyCos cos;\r\n    static TrFunc.MySin sin;\r\n    static TrFunc.MyTan tan;\r\n    static TrFunc.MySec sec;\r\n    static LgFunc.Log2 log2;\r\n    static LgFunc.Log3 log3;\r\n    static LgFunc.Log5 log5;\r\n    static LgFunc.Log10 log10;\r\n    static Func_System sys;\r\n    @BeforeAll\r\n    static void setUp() {\r\n        cos = mock(TrFunc.MyCos.class);\r\n        sin = mock(TrFunc.MySin.class);\r\n        tan = mock(TrFunc.MyTan.class);\r\n        sec = mock(TrFunc.MySec.class);\r\n        firstFunction = new Function1(cos, sin, tan, sec);\r\n        log2 = mock(LgFunc.Log2.class);\r\n        log3 = mock(LgFunc.Log3.class);\r\n        log5 = mock(LgFunc.Log5.class);\r\n        log10 = mock(LgFunc.Log10.class);\r\n        secondFunction = new Function2(log2, log3, log5, log10);\r\n        sys = new Func_System(firstFunction, secondFunction);\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; valuesRangeProvider(){\r\n        return Stream.of(\r\n                arguments(-6.282185307179586, 1001001.3330000667),\r\n                arguments(-0.161592653589793, 33.496935752492160)\r\n        );\r\n    }\r\n    @DisplayName(&quot;Integration Test with Mocks&quot;)\r\n    @ParameterizedTest(name = &quot;{index}: Check range of values, x = {0}&quot;)\r\n    @MethodSource(&quot;valuesRangeProvider&quot;)\r\n    void test_0(double value, double expected) throws Exception {\r\n        when(firstFunction.sin.mySin(value, accuracy)).thenReturn(sin(value));\r\n        when(firstFunction.cos.myCos(value, accuracy)).thenReturn(cos(value));\r\n        when(firstFunction.tang.myTan(value, accuracy)).thenReturn(sin(value)/cos(value));\r\n        when(firstFunction.sec.mySec(value, accuracy)).thenReturn(1/cos(value));\r\n        assertEquals(expected, firstFunction.calculate(value, accuracy), accuracy);\r\n    }\r\n\r\nThe thing is, I get the following message:\r\n\r\n*org.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\nAlso, this error might show up because:\r\n1. you stub either of: final/private/equals()/hashCode() methods.\r\n   Those methods *cannot* be stubbed/verified.\r\n   Mocking methods declared on non-public parent classes is not supported.\r\n2. inside when() you don&#39;t call method on mock but on some other object.*\r\n\r\nNone of the methods are private or final\r\n\r\n\r\n    public class TrFunc {\r\n    public static class MyCos {\r\n        public static double myCos(double x, double accuracy) throws Exception {\r\n            if (accuracy &lt; 0){\r\n                throw new Exception(&quot;The accuracy below zero&quot;);\r\n            }\r\n            double theta_norm = Math.abs(x);\r\n            theta_norm -= Math.floor(theta_norm/Math.PI/2)*2*Math.PI;\r\n            double result = 1;\r\n            double step = 1;\r\n            int i;\r\n            for (i = 1; step &gt; accuracy &amp;&amp; i != Integer.MAX_VALUE; i++){\r\n                step = step*theta_norm*theta_norm/(2*i-1)/(2*i);\r\n                if (i % 2 == 1){\r\n                    result -= step;\r\n                } else {\r\n                    result += step;\r\n                }\r\n            }\r\n            if (!Double.isFinite(result) || i == Integer.MAX_VALUE-1){\r\n                throw new Exception(&quot;Too many iterations&quot;);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n    \r\n        private static double factorial(int numer) {\r\n            double factorial = 1.0d;\r\n    \r\n            while (numer != 0) {\r\n                factorial *= numer--;\r\n            }\r\n    \r\n            return factorial;\r\n        }\r\n    }\r\n    \r\n    public static class MySin {\r\n        public static double mySin(double x, double accuracy) throws Exception {\r\n            return MyCos.myCos(Math.PI/2 - x, accuracy);\r\n        }\r\n    }\r\n    \r\n    public static class MyTan {\r\n        public static double myTan(double x, double accuracy) throws Exception {\r\n            double divisor =  MyCos.myCos(x, accuracy);\r\n            if (Math.abs(divisor) &lt;= accuracy) throw new Exception(&quot;Division by zero&quot;);\r\n            return MySin.mySin(x, accuracy) / divisor;\r\n        }\r\n    }\r\n    \r\n    public static class MySec {\r\n        public static double mySec(double x, double accuracy) throws Exception {\r\n            double divisor =  MyCos.myCos(x, accuracy);\r\n            if (Math.abs(divisor) &lt;= accuracy) throw new Exception(&quot;Division by zero&quot;);\r\n            if ((x + Math.PI / 2) / Math.PI % 1 == 0) throw new Exception(&quot;x can&#39;t be Pi*n-Pi/2&quot;);\r\n            return 1 / divisor;\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"How to use mockito correctly when conducting integration testing?","body":"<p>I have a function in which I want to substitute the behavior of some component parts (cosines, sines, ...), I'm trying to create an mock for these parts and pass them to the function.</p>\n<pre><code>class Function1Test {\nprivate static final double accuracy = 10e-5;\nstatic Function1 firstFunction;\nstatic Function2 secondFunction;\nstatic TrFunc.MyCos cos;\nstatic TrFunc.MySin sin;\nstatic TrFunc.MyTan tan;\nstatic TrFunc.MySec sec;\nstatic LgFunc.Log2 log2;\nstatic LgFunc.Log3 log3;\nstatic LgFunc.Log5 log5;\nstatic LgFunc.Log10 log10;\nstatic Func_System sys;\n@BeforeAll\nstatic void setUp() {\n    cos = mock(TrFunc.MyCos.class);\n    sin = mock(TrFunc.MySin.class);\n    tan = mock(TrFunc.MyTan.class);\n    sec = mock(TrFunc.MySec.class);\n    firstFunction = new Function1(cos, sin, tan, sec);\n    log2 = mock(LgFunc.Log2.class);\n    log3 = mock(LgFunc.Log3.class);\n    log5 = mock(LgFunc.Log5.class);\n    log10 = mock(LgFunc.Log10.class);\n    secondFunction = new Function2(log2, log3, log5, log10);\n    sys = new Func_System(firstFunction, secondFunction);\n}\n\nstatic Stream&lt;Arguments&gt; valuesRangeProvider(){\n    return Stream.of(\n            arguments(-6.282185307179586, 1001001.3330000667),\n            arguments(-0.161592653589793, 33.496935752492160)\n    );\n}\n@DisplayName(&quot;Integration Test with Mocks&quot;)\n@ParameterizedTest(name = &quot;{index}: Check range of values, x = {0}&quot;)\n@MethodSource(&quot;valuesRangeProvider&quot;)\nvoid test_0(double value, double expected) throws Exception {\n    when(firstFunction.sin.mySin(value, accuracy)).thenReturn(sin(value));\n    when(firstFunction.cos.myCos(value, accuracy)).thenReturn(cos(value));\n    when(firstFunction.tang.myTan(value, accuracy)).thenReturn(sin(value)/cos(value));\n    when(firstFunction.sec.mySec(value, accuracy)).thenReturn(1/cos(value));\n    assertEquals(expected, firstFunction.calculate(value, accuracy), accuracy);\n}\n</code></pre>\n<p>The thing is, I get the following message:</p>\n<p>*org.mockito.exceptions.misusing.MissingMethodInvocationException:\nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\nwhen(mock.getArticles()).thenReturn(articles);\nAlso, this error might show up because:</p>\n<ol>\n<li>you stub either of: final/private/equals()/hashCode() methods.\nThose methods <em>cannot</em> be stubbed/verified.\nMocking methods declared on non-public parent classes is not supported.</li>\n<li>inside when() you don't call method on mock but on some other object.*</li>\n</ol>\n<p>None of the methods are private or final</p>\n<pre><code>public class TrFunc {\npublic static class MyCos {\n    public static double myCos(double x, double accuracy) throws Exception {\n        if (accuracy &lt; 0){\n            throw new Exception(&quot;The accuracy below zero&quot;);\n        }\n        double theta_norm = Math.abs(x);\n        theta_norm -= Math.floor(theta_norm/Math.PI/2)*2*Math.PI;\n        double result = 1;\n        double step = 1;\n        int i;\n        for (i = 1; step &gt; accuracy &amp;&amp; i != Integer.MAX_VALUE; i++){\n            step = step*theta_norm*theta_norm/(2*i-1)/(2*i);\n            if (i % 2 == 1){\n                result -= step;\n            } else {\n                result += step;\n            }\n        }\n        if (!Double.isFinite(result) || i == Integer.MAX_VALUE-1){\n            throw new Exception(&quot;Too many iterations&quot;);\n        }\n        return result;\n    }\n\n\n    private static double factorial(int numer) {\n        double factorial = 1.0d;\n\n        while (numer != 0) {\n            factorial *= numer--;\n        }\n\n        return factorial;\n    }\n}\n\npublic static class MySin {\n    public static double mySin(double x, double accuracy) throws Exception {\n        return MyCos.myCos(Math.PI/2 - x, accuracy);\n    }\n}\n\npublic static class MyTan {\n    public static double myTan(double x, double accuracy) throws Exception {\n        double divisor =  MyCos.myCos(x, accuracy);\n        if (Math.abs(divisor) &lt;= accuracy) throw new Exception(&quot;Division by zero&quot;);\n        return MySin.mySin(x, accuracy) / divisor;\n    }\n}\n\npublic static class MySec {\n    public static double mySec(double x, double accuracy) throws Exception {\n        double divisor =  MyCos.myCos(x, accuracy);\n        if (Math.abs(divisor) &lt;= accuracy) throw new Exception(&quot;Division by zero&quot;);\n        if ((x + Math.PI / 2) / Math.PI % 1 == 0) throw new Exception(&quot;x can't be Pi*n-Pi/2&quot;);\n        return 1 / divisor;\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1649014764,"post_id":71729191,"comment_id":126763206,"body_markdown":"At the end of `onCreateView()`, you need to return the `View` that you just set up there, not another newly inflated one; i.e., `return view;` instead.","body":"At the end of <code>onCreateView()</code>, you need to return the <code>View</code> that you just set up there, not another newly inflated one; i.e., <code>return view;</code> instead."},{"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"score":1,"creation_date":1649051495,"post_id":71729191,"comment_id":126768928,"body_markdown":"this solve the problem","body":"this solve the problem"}],"owner":{"account_id":24611876,"reputation":57,"user_id":18513344,"display_name":"yanish appadoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649014038,"creation_date":1649014038,"question_id":71729191,"body_markdown":"The hamburger menu does not appear on the toolbar. Swipe with no button as well not working. No error when compiling. A screenshot is attached as well as the xml and java code. Does the error comes from the fragment manager? previewing the xml file appears to be fine. How can i make it appear on all fragments as well.\r\n\r\nPs: new to android development \r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BbruT.png\r\n\r\nxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:openDrawer=&quot;start&quot;\r\n        tools:context=&quot;.Navigation_Bar&quot;&gt;\r\n        &lt;FrameLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@color/purple_200&quot;\r\n                android:elevation=&quot;4dp&quot;\r\n                android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n                app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n                android:fitsSystemWindows=&quot;true&quot;\r\n                /&gt;\r\n    \r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/fragment_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n        &lt;/FrameLayout&gt;\r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:headerLayout=&quot;@layout/nav_header&quot;\r\n            app:menu=&quot;@menu/nav_header_menu&quot; /&gt;\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\njava\r\n\r\n    public class Navigation_Bar extends Fragment {\r\n    \r\n        // TODO: Rename parameter arguments, choose names that match\r\n        // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n        private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n        private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n    \r\n        // TODO: Rename and change types of parameters\r\n        private String mParam1;\r\n        private String mParam2;\r\n    \r\n        public Navigation_Bar() {\r\n            // Required empty public constructor\r\n        }\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if (getArguments() != null) {\r\n                mParam1 = getArguments().getString(ARG_PARAM1);\r\n                mParam2 = getArguments().getString(ARG_PARAM2);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.fragment_navigation__bar, container, false);\r\n            Toolbar toolbar = view.findViewById(R.id.toolbar);\r\n            ((AppCompatActivity)getActivity()).setSupportActionBar(toolbar);\r\n            DrawerLayout drawer=(DrawerLayout) view.findViewById(R.id.drawer_layout);\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(getActivity(), drawer, toolbar,\r\n                    R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n            drawer.addDrawerListener(toggle);\r\n            toggle.syncState();\r\n            if(drawer.isDrawerOpen(GravityCompat.START));\r\n            {\r\n                drawer.closeDrawer(GravityCompat.START);\r\n            }\r\n            return inflater.inflate(R.layout.fragment_navigation__bar, container, false);\r\n        }\r\n    \r\n    }","title":"Navigation Bar burger menu not appearing/working JAVA","body":"<p>The hamburger menu does not appear on the toolbar. Swipe with no button as well not working. No error when compiling. A screenshot is attached as well as the xml and java code. Does the error comes from the fragment manager? previewing the xml file appears to be fine. How can i make it appear on all fragments as well.</p>\n<p>Ps: new to android development</p>\n<p><a href=\"https://i.stack.imgur.com/BbruT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BbruT.png\" alt=\"\" /></a></p>\n<p>xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    tools:context=&quot;.Navigation_Bar&quot;&gt;\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;@color/purple_200&quot;\n            android:elevation=&quot;4dp&quot;\n            android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\n            app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            /&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/fragment_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;/FrameLayout&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:headerLayout=&quot;@layout/nav_header&quot;\n        app:menu=&quot;@menu/nav_header_menu&quot; /&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>java</p>\n<pre><code>public class Navigation_Bar extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public Navigation_Bar() {\n        // Required empty public constructor\n    }\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_navigation__bar, container, false);\n        Toolbar toolbar = view.findViewById(R.id.toolbar);\n        ((AppCompatActivity)getActivity()).setSupportActionBar(toolbar);\n        DrawerLayout drawer=(DrawerLayout) view.findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(getActivity(), drawer, toolbar,\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n        if(drawer.isDrawerOpen(GravityCompat.START));\n        {\n            drawer.closeDrawer(GravityCompat.START);\n        }\n        return inflater.inflate(R.layout.fragment_navigation__bar, container, false);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","c#","linq","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13015730,"reputation":666,"user_id":9407066,"display_name":"Jakubeeee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649011941,"creation_date":1649010544,"answer_id":71728775,"question_id":71728624,"body_markdown":"This should return the most popular item:\r\n\r\n    var itemsSoldById = records.stream()\r\n            .collect(groupingBy(rec -&gt; rec.getId(), summingInt(rec -&gt; rec.getItemsSold())));\r\n\r\n    var mostPopularItem = itemsSoldById\r\n            .entrySet()\r\n            .stream()\r\n            .max(Comparator.comparingInt(Map.Entry::getValue))\r\n            .orElseThrow(()-&gt; new IllegalStateException(&quot;The list of records is empty&quot;));\r\n\r\n\r\n\r\n\r\nPrevious version before my edit that did not group records by id:\r\n\r\n       var mostPopularItem = records.stream()\r\n            .sorted(Comparator.comparing(rec -&gt; rec.getItemsSold()))\r\n            .reduce((rec1 , rec2) -&gt; rec1.getItemsSold() &gt; rec2.getItemsSold() ? rec1 : rec2)\r\n            .orElseThrow(()-&gt; new IllegalStateException(&quot;The list of records is empty&quot;));","title":"Is there a Java equivalent of C#&#39;s LINQ &quot;Select&quot; function","body":"<p>This should return the most popular item:</p>\n<pre><code>var itemsSoldById = records.stream()\n        .collect(groupingBy(rec -&gt; rec.getId(), summingInt(rec -&gt; rec.getItemsSold())));\n\nvar mostPopularItem = itemsSoldById\n        .entrySet()\n        .stream()\n        .max(Comparator.comparingInt(Map.Entry::getValue))\n        .orElseThrow(()-&gt; new IllegalStateException(&quot;The list of records is empty&quot;));\n</code></pre>\n<p>Previous version before my edit that did not group records by id:</p>\n<pre><code>   var mostPopularItem = records.stream()\n        .sorted(Comparator.comparing(rec -&gt; rec.getItemsSold()))\n        .reduce((rec1 , rec2) -&gt; rec1.getItemsSold() &gt; rec2.getItemsSold() ? rec1 : rec2)\n        .orElseThrow(()-&gt; new IllegalStateException(&quot;The list of records is empty&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649012793,"creation_date":1649010586,"answer_id":71728782,"question_id":71728624,"body_markdown":"Something like this?\r\n\r\n```\r\npackage example.stackoverflow;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Select {\r\n    public static void main(String[] args) {\r\n        record Thing(String id, int price, int itemsSold){}\r\n        List&lt;Thing&gt; records = List.of(\r\n                new Thing(&quot;a&quot;, 5, 14),\r\n                new Thing(&quot;b&quot;, 4, 33),\r\n                new Thing(&quot;c&quot;, 6, 10),\r\n                new Thing(&quot;a&quot;, 5, 21),\r\n                new Thing(&quot;c&quot;, 6, 12)\r\n        );\r\n        record PopularThing(String id, int totalSold){}\r\n        records.stream()\r\n                .collect(Collectors.groupingBy(Thing::id, Collectors.summingInt(Thing::itemsSold)))\r\n                .entrySet().stream().map(e -&gt; new PopularThing(e.getKey(), e.getValue()))\r\n                .max((a,b) -&gt; a.totalSold - b.totalSold)\r\n                .ifPresent(System.out::println);\r\n    }\r\n}\r\n```\r\n","title":"Is there a Java equivalent of C#&#39;s LINQ &quot;Select&quot; function","body":"<p>Something like this?</p>\n<pre><code>package example.stackoverflow;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Select {\n    public static void main(String[] args) {\n        record Thing(String id, int price, int itemsSold){}\n        List&lt;Thing&gt; records = List.of(\n                new Thing(&quot;a&quot;, 5, 14),\n                new Thing(&quot;b&quot;, 4, 33),\n                new Thing(&quot;c&quot;, 6, 10),\n                new Thing(&quot;a&quot;, 5, 21),\n                new Thing(&quot;c&quot;, 6, 12)\n        );\n        record PopularThing(String id, int totalSold){}\n        records.stream()\n                .collect(Collectors.groupingBy(Thing::id, Collectors.summingInt(Thing::itemsSold)))\n                .entrySet().stream().map(e -&gt; new PopularThing(e.getKey(), e.getValue()))\n                .max((a,b) -&gt; a.totalSold - b.totalSold)\n                .ifPresent(System.out::println);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649013976,"creation_date":1649010920,"answer_id":71728828,"question_id":71728624,"body_markdown":"The equivalent of `Select` in Java is the `map`-function on `Stream`. But in your case, you probably want to use the second parameter of `groupingBy`-collector to sum up the `ItemsSold`-values.\r\n\r\nJava doesn&#39;t have is anonymous objects, like you create in your `Select`-call. So you would need to define a class or record to hold that data.\r\n\r\nUsing records, you could do this:\r\n\r\n```java\r\nrecord TotalSoldRecord(String id, int totalSold) {}\r\n\r\nvar mostPopularItem = records.stream()\r\n    // Grouping by ID into a Map&lt;String, int&gt;, where the keys are \r\n    // the recordIds and the values are the sum of &quot;itemsSold&quot;.\r\n    .collect(Collectors.groupingBy(Record::getId, \r\n        Collectors.summingInt(Record::getItemsSold)))\r\n    .entrySet()\r\n    .stream()\r\n    .map(entry -&gt; new TotalSoldRecord(entry.getKey(), entry.getValue()))\r\n    // Finding the TotalSoldRecord with the maximum totalSold.\r\n    .max(Comparator.comparingInt(TotalSoldRecord::totalSold));\r\n```\r\n\r\nNote: You could also use `Map.Entry` as the result instead of mapping it to `TotalSoldRecord`.","title":"Is there a Java equivalent of C#&#39;s LINQ &quot;Select&quot; function","body":"<p>The equivalent of <code>Select</code> in Java is the <code>map</code>-function on <code>Stream</code>. But in your case, you probably want to use the second parameter of <code>groupingBy</code>-collector to sum up the <code>ItemsSold</code>-values.</p>\n<p>Java doesn't have is anonymous objects, like you create in your <code>Select</code>-call. So you would need to define a class or record to hold that data.</p>\n<p>Using records, you could do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record TotalSoldRecord(String id, int totalSold) {}\n\nvar mostPopularItem = records.stream()\n    // Grouping by ID into a Map&lt;String, int&gt;, where the keys are \n    // the recordIds and the values are the sum of &quot;itemsSold&quot;.\n    .collect(Collectors.groupingBy(Record::getId, \n        Collectors.summingInt(Record::getItemsSold)))\n    .entrySet()\n    .stream()\n    .map(entry -&gt; new TotalSoldRecord(entry.getKey(), entry.getValue()))\n    // Finding the TotalSoldRecord with the maximum totalSold.\n    .max(Comparator.comparingInt(TotalSoldRecord::totalSold));\n</code></pre>\n<p>Note: You could also use <code>Map.Entry</code> as the result instead of mapping it to <code>TotalSoldRecord</code>.</p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649011662,"creation_date":1649011662,"answer_id":71728922,"question_id":71728624,"body_markdown":"```java\r\n        List&lt;Record&gt; recordList = new ArrayList&lt;&gt;();\r\n        recordList.add(new Record(1L, new BigDecimal(2), 4));\r\n        recordList.add(new Record(1L, new BigDecimal(2), 5));\r\n        recordList.add(new Record(1L, new BigDecimal(2), 7));\r\n        recordList.add(new Record(2L, new BigDecimal(2), 10));\r\n\r\n        Map.Entry&lt;Long, Integer&gt; mostPopularItem = recordList.stream().collect(groupingBy(Record::getId, summingInt(Record::getItemsSold))).entrySet().stream().max(Map.Entry.comparingByValue()).orElse(null);\r\n```\r\nOutput:\r\n```\r\nKey = 1, Value = 16\r\n```\r\n```java\r\npublic class Record {\r\n    public Record(Long id, BigDecimal price, Integer itemsSold) {\r\n        this.id = id;\r\n        this.price = price;\r\n        this.itemsSold = itemsSold;\r\n    }\r\n    private Long id;\r\n    private BigDecimal price;\r\n    private Integer itemsSold;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public BigDecimal getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(BigDecimal price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getItemsSold() {\r\n        return itemsSold;\r\n    }\r\n\r\n    public void setItemsSold(Integer itemsSold) {\r\n        this.itemsSold = itemsSold;\r\n    }\r\n}\r\n```","title":"Is there a Java equivalent of C#&#39;s LINQ &quot;Select&quot; function","body":"<pre class=\"lang-java prettyprint-override\"><code>        List&lt;Record&gt; recordList = new ArrayList&lt;&gt;();\n        recordList.add(new Record(1L, new BigDecimal(2), 4));\n        recordList.add(new Record(1L, new BigDecimal(2), 5));\n        recordList.add(new Record(1L, new BigDecimal(2), 7));\n        recordList.add(new Record(2L, new BigDecimal(2), 10));\n\n        Map.Entry&lt;Long, Integer&gt; mostPopularItem = recordList.stream().collect(groupingBy(Record::getId, summingInt(Record::getItemsSold))).entrySet().stream().max(Map.Entry.comparingByValue()).orElse(null);\n</code></pre>\n<p>Output:</p>\n<pre><code>Key = 1, Value = 16\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Record {\n    public Record(Long id, BigDecimal price, Integer itemsSold) {\n        this.id = id;\n        this.price = price;\n        this.itemsSold = itemsSold;\n    }\n    private Long id;\n    private BigDecimal price;\n    private Integer itemsSold;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    public void setPrice(BigDecimal price) {\n        this.price = price;\n    }\n\n    public Integer getItemsSold() {\n        return itemsSold;\n    }\n\n    public void setItemsSold(Integer itemsSold) {\n        this.itemsSold = itemsSold;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8354350,"reputation":283,"user_id":13041346,"display_name":"NoName123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1649013976,"creation_date":1649009161,"question_id":71728624,"body_markdown":"LINQ has [Enuemerable.Select][1], does Java have any equivalent?\r\n\r\nSay I have some class *Record* with three fields *id*, *price*, *itemsSold* and a list of these records from which I want to filter out the most popular item measured by which product sold the most items.\r\n\r\nIn LINQ I could do something like this\r\n```C#\r\nvar mostPopularItem = records.GroupBy(sr =&gt; sr.Id)\r\n       .Select(g =&gt; new\r\n       {\r\n           Id = g.Key,\r\n           TotalSold = g.Sum(r =&gt; r.ItemsSold)\r\n       })\r\n       .OrderByDescending(i =&gt; i.TotalSold).First();\r\n```\r\nby using the `Select(...)` method to reconstruct into a suitable form. How would I do the same in Java? I could simply use streams to extract the actual number \r\n```\r\nrecords.stream().map(r -&gt; r.getItemsSold()).sorted(Comparator.reverseOrder()).collect(Collectors.toList)).get(0)\r\n```\r\nbut this would only give me an array of the items sold sorted in descending order. Optimally I would like to end up with an object that contains the *id* and the *itemsSold*.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.linq.enumerable.select?view=net-6.0","title":"Is there a Java equivalent of C#&#39;s LINQ &quot;Select&quot; function","body":"<p>LINQ has <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.linq.enumerable.select?view=net-6.0\" rel=\"nofollow noreferrer\">Enuemerable.Select</a>, does Java have any equivalent?</p>\n<p>Say I have some class <em>Record</em> with three fields <em>id</em>, <em>price</em>, <em>itemsSold</em> and a list of these records from which I want to filter out the most popular item measured by which product sold the most items.</p>\n<p>In LINQ I could do something like this</p>\n<pre><code>var mostPopularItem = records.GroupBy(sr =&gt; sr.Id)\n       .Select(g =&gt; new\n       {\n           Id = g.Key,\n           TotalSold = g.Sum(r =&gt; r.ItemsSold)\n       })\n       .OrderByDescending(i =&gt; i.TotalSold).First();\n</code></pre>\n<p>by using the <code>Select(...)</code> method to reconstruct into a suitable form. How would I do the same in Java? I could simply use streams to extract the actual number</p>\n<pre><code>records.stream().map(r -&gt; r.getItemsSold()).sorted(Comparator.reverseOrder()).collect(Collectors.toList)).get(0)\n</code></pre>\n<p>but this would only give me an array of the items sold sorted in descending order. Optimally I would like to end up with an object that contains the <em>id</em> and the <em>itemsSold</em>.</p>\n"},{"tags":["java","authentication","input","console","java.util.scanner"],"comments":[{"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"score":0,"creation_date":1649013490,"post_id":71729107,"comment_id":126762939,"body_markdown":"See this question: https://stackoverflow.com/questions/10819469/hide-input-on-command-line","body":"See this question: <a href=\"https://stackoverflow.com/questions/10819469/hide-input-on-command-line\" title=\"hide input on command line\">stackoverflow.com/questions/10819469/hide-input-on-command-l&zwnj;&#8203;ine</a>"},{"owner":{"account_id":22830263,"reputation":1,"user_id":16978852,"display_name":"Jose Quenta"},"score":0,"creation_date":1649013712,"post_id":71729107,"comment_id":126762982,"body_markdown":"I really appreciate, but I tried, and it doesn&#39;t work","body":"I really appreciate, but I tried, and it doesn&#39;t work"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1649013863,"post_id":71729107,"comment_id":126763028,"body_markdown":"@josequenta If that answer doesn&#39;t work for you, the thing you&#39;re typing in doesn&#39;t support it, and therefore what you want is not possible in the console. You could make a user interface with awt, swing, or javafx instead.","body":"@josequenta If that answer doesn&#39;t work for you, the thing you&#39;re typing in doesn&#39;t support it, and therefore what you want is not possible in the console. You could make a user interface with awt, swing, or javafx instead."}],"owner":{"account_id":22830263,"reputation":1,"user_id":16978852,"display_name":"Jose Quenta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649013376,"creation_date":1649013234,"question_id":71729107,"body_markdown":"I have a question for you; In Java, Is there a way of display or show in the console asterisks **** instead of the password. Thank you very much, in advance.\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ClasePrincipal {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String Username1,Username2;\r\n            String Password1,Password2;\r\n    \r\n            Password1 = &quot;123456&quot;;\r\n            Username1 = &quot;Michael&quot;;\r\n            \r\n            Password2 = &quot;123456&quot;;\r\n            Username2 = &quot;Tony&quot;;\r\n    \r\n            int contador = 1;\r\n            while (contador &lt;= 3) {\r\n                try {\r\n                    Scanner input1 = new Scanner(System.in);\r\n                    System.out.println(&quot;Enter username : &quot;);\r\n                    String username = input1.next();\r\n    \r\n                    Scanner input2 = new Scanner(System.in);\r\n                    System.out.println(&quot;Enter Password : &quot;);\r\n                    String password = input2.next();\r\n    \r\n                    if ((username.equals(Username1) &amp;&amp; (password.equals(Password1))) || \r\n                            (username.equals(Username2) &amp;&amp; (password.equals(Password2))))\r\n                            {\r\n                        System.out.println(&quot;Welcome!&quot;);\r\n            //              ClasePadre_Abstracta mensajero = new ClaseHija_Consulta();\r\n            //              mensajero.setSaldo(0);\r\n            //              mensajero.Operaciones();\r\n                        break;\r\n                    } else {\r\n                        System.out.println(&quot;Wrong Password!&quot;);\r\n                        contador++;\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Block Account&quot;);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How display asterisk for passwords in Java?","body":"<p>I have a question for you; In Java, Is there a way of display or show in the console asterisks **** instead of the password. Thank you very much, in advance.</p>\n<pre><code>import java.util.Scanner;\n\npublic class ClasePrincipal {\n\n    public static void main(String[] args) {\n\n        String Username1,Username2;\n        String Password1,Password2;\n\n        Password1 = &quot;123456&quot;;\n        Username1 = &quot;Michael&quot;;\n        \n        Password2 = &quot;123456&quot;;\n        Username2 = &quot;Tony&quot;;\n\n        int contador = 1;\n        while (contador &lt;= 3) {\n            try {\n                Scanner input1 = new Scanner(System.in);\n                System.out.println(&quot;Enter username : &quot;);\n                String username = input1.next();\n\n                Scanner input2 = new Scanner(System.in);\n                System.out.println(&quot;Enter Password : &quot;);\n                String password = input2.next();\n\n                if ((username.equals(Username1) &amp;&amp; (password.equals(Password1))) || \n                        (username.equals(Username2) &amp;&amp; (password.equals(Password2))))\n                        {\n                    System.out.println(&quot;Welcome!&quot;);\n        //              ClasePadre_Abstracta mensajero = new ClaseHija_Consulta();\n        //              mensajero.setSaldo(0);\n        //              mensajero.Operaciones();\n                    break;\n                } else {\n                    System.out.println(&quot;Wrong Password!&quot;);\n                    contador++;\n                }\n            } catch (Exception e) {\n                System.out.println(&quot;Block Account&quot;);\n                return;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","types","enums","switch-statement","instanceof"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1428700685,"post_id":29570767,"comment_id":47291042,"body_markdown":"What&#39;s the error you get when you try to compile?","body":"What&#39;s the error you get when you try to compile?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1428700699,"post_id":29570767,"comment_id":47291047,"body_markdown":"A switch is not much neater. It&#39;s much more dangerous, and is a frequent source of bugs. You fell into the trap or forgetting to add a break for each case.","body":"A switch is not much neater. It&#39;s much more dangerous, and is a frequent source of bugs. You fell into the trap or forgetting to add a break for each case."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1428700831,"post_id":29570767,"comment_id":47291103,"body_markdown":"How is `handle()` going to be called? Why not overload it **in your own class** for each of the classes?","body":"How is <code>handle()</code> going to be called? Why not overload it <b>in your own class</b> for each of the classes?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1428700849,"post_id":29570767,"comment_id":47291112,"body_markdown":"What about using a `Map&lt;Class&lt;?&gt;, Function&lt;?, Void&gt;&gt;` or something similar?","body":"What about using a <code>Map&lt;Class&lt;?&gt;, Function&lt;?, Void&gt;&gt;</code> or something similar?"},{"owner":{"account_id":360769,"reputation":20388,"user_id":702948,"accept_rate":79,"display_name":"ewok"},"score":0,"creation_date":1428700886,"post_id":29570767,"comment_id":47291127,"body_markdown":"@JBNizet good point. But the compilation error is something to do  with the Enum not being defined properly. And by neater, I meant more readable.","body":"@JBNizet good point. But the compilation error is something to do  with the Enum not being defined properly. And by neater, I meant more readable."},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1428700997,"post_id":29570767,"comment_id":47291166,"body_markdown":"One thing that jumps out at me is that `getCanonicalName()` is a method on `Class`, not `A`, `B`, etc.  You probably should have something like `public enum Classes { A (A.class.getCanonicalName()), ...`.  That being said, using the names is sketchy, I like @dasblinkenlight&#39;s solution much better.","body":"One thing that jumps out at me is that <code>getCanonicalName()</code> is a method on <code>Class</code>, not <code>A</code>, <code>B</code>, etc.  You probably should have something like <code>public enum Classes { A (A.class.getCanonicalName()), ...</code>.  That being said, using the names is sketchy, I like @dasblinkenlight&#39;s solution much better."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":5,"creation_date":1428701002,"post_id":29570767,"comment_id":47291169,"body_markdown":"Your chained `if` and your `switch` statements are not equivalent, because of polymorphism. The condition `o instanceof A` can be true even when `o.getClass()` is not `A`.","body":"Your chained <code>if</code> and your <code>switch</code> statements are not equivalent, because of polymorphism. The condition <code>o instanceof A</code> can be true even when <code>o.getClass()</code> is not <code>A</code>."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1428701166,"post_id":29570767,"comment_id":47291242,"body_markdown":"@ewok IMHO, once you have added all the breaks, and once you&#39;ll realize that to understand the code you have to carefully look if a break is present or not, you&#39;ll realize that the if / else if chain is actually more readable.","body":"@ewok IMHO, once you have added all the breaks, and once you&#39;ll realize that to understand the code you have to carefully look if a break is present or not, you&#39;ll realize that the if / else if chain is actually more readable."}],"answers":[{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1428701163,"creation_date":1428700997,"answer_id":29570906,"question_id":29570767,"body_markdown":"Here is an approach that does not deal with class names at all, and dispatches as fast as a `switch` statement does: make a hash map to map `Class&lt;T&gt;` objects to class-specific handlers, and use the map instead of a `switch`:\r\n\r\n    // Declare an interface for your polymorphic handlers to implement.\r\n    // There will be only anonymous implementations of this interface.\r\n    private interface Handler {\r\n        void handle(Object o);\r\n    }\r\n    // Make a map that translates a Class object to a Handler\r\n    private static final Map&lt;Class,Handler&gt; dispatch = new HashMap&lt;Class,Handler&gt;();\r\n    // Populate the map in a static initializer\r\n    static {\r\n        dispatch.put(A.class, new Handler() {\r\n            public void handle(Object o) {\r\n                handleA((A)o);\r\n            }\r\n        });\r\n        dispatch.put(B.class, new Handler() {\r\n            public void handle(Object o) {\r\n                handleB((B)o);\r\n            }\r\n        });\r\n        dispatch.put(C.class, new Handler() {\r\n            public void handle(Object o) {\r\n                handleC((C)o);\r\n            }\r\n        });\r\n    }\r\n    // This object performs the dispatch by looking up a handler,\r\n    // and calling it if it&#39;s available\r\n    private static void handle(Object o) {\r\n        Handler h = dispatch.get(o.getClass());\r\n        if (h == null) {\r\n            // Throw an exception: unknown type\r\n        }\r\n        h.handle(o); // &lt;&lt;== Here is the magic\r\n    }","title":"Switch over type in java","body":"<p>Here is an approach that does not deal with class names at all, and dispatches as fast as a <code>switch</code> statement does: make a hash map to map <code>Class&lt;T&gt;</code> objects to class-specific handlers, and use the map instead of a <code>switch</code>:</p>\n\n<pre><code>// Declare an interface for your polymorphic handlers to implement.\n// There will be only anonymous implementations of this interface.\nprivate interface Handler {\n    void handle(Object o);\n}\n// Make a map that translates a Class object to a Handler\nprivate static final Map&lt;Class,Handler&gt; dispatch = new HashMap&lt;Class,Handler&gt;();\n// Populate the map in a static initializer\nstatic {\n    dispatch.put(A.class, new Handler() {\n        public void handle(Object o) {\n            handleA((A)o);\n        }\n    });\n    dispatch.put(B.class, new Handler() {\n        public void handle(Object o) {\n            handleB((B)o);\n        }\n    });\n    dispatch.put(C.class, new Handler() {\n        public void handle(Object o) {\n            handleC((C)o);\n        }\n    });\n}\n// This object performs the dispatch by looking up a handler,\n// and calling it if it's available\nprivate static void handle(Object o) {\n    Handler h = dispatch.get(o.getClass());\n    if (h == null) {\n        // Throw an exception: unknown type\n    }\n    h.handle(o); // &lt;&lt;== Here is the magic\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428708113,"creation_date":1428707686,"answer_id":29572074,"question_id":29570767,"body_markdown":"The `instanceof` operator is a simple approach, when you don&#39;t own the classes. An `instanceof` expression is true when the object is the given class *or a subclass*. \r\n\r\nYou mention that you don&#39;t own the classes. The owner could introduce subclasses in a subsequent release. Say the owner introduces APlus as a subclass of A. An instance of APlus is an A. Code that works on an A should also work on an APlus. If you use `instanceof`, your code would continue to work -- without effort from you. If you use class names, it would fail -- without notice from your compiler.\r\n\r\nIf you&#39;re repeatedly switching on the same object, you might find it useful to wrap the object once in a wrapper class that implements an interface. Thereafter, you can simply call methods on the interface -- with no `if`,  `switch`, or map.\r\n\r\n    public interface IWrapper {\r\n\t    public void handle();\r\n\t\tpublic String describe();\r\n\t}\r\n\t\r\n\tpublic AWrapper implements IWrapper { ... }\r\n\tpublic BWrapper implements IWrapper { ... }\r\n\tpublic CWrapper implements IWrapper { ... }\r\n\tpublic UnknownWrapper implements IWrapper { ... }\r\n\r\n\tIWrapper wrap( Object o ) {\r\n\t\tif ( o instanceof A ) return new AWrapper((A) o);\r\n\t\telse if ( o instanceof B ) return new BWrapper((B) o);\r\n\t\telse if ( o instanceof C ) return new CWrapper((C) o);\r\n\t\telse return new UnknownWrapper(o);\r\n\t}\r\n\r\nEven in the guaranteed absence of subclasses, avoid specifying class names as literal strings in `switch` cases. This allows errors that the compiler will not find, which may cost you debugging time.","title":"Switch over type in java","body":"<p>The <code>instanceof</code> operator is a simple approach, when you don't own the classes. An <code>instanceof</code> expression is true when the object is the given class <em>or a subclass</em>. </p>\n\n<p>You mention that you don't own the classes. The owner could introduce subclasses in a subsequent release. Say the owner introduces APlus as a subclass of A. An instance of APlus is an A. Code that works on an A should also work on an APlus. If you use <code>instanceof</code>, your code would continue to work -- without effort from you. If you use class names, it would fail -- without notice from your compiler.</p>\n\n<p>If you're repeatedly switching on the same object, you might find it useful to wrap the object once in a wrapper class that implements an interface. Thereafter, you can simply call methods on the interface -- with no <code>if</code>,  <code>switch</code>, or map.</p>\n\n<pre><code>public interface IWrapper {\n    public void handle();\n    public String describe();\n}\n\npublic AWrapper implements IWrapper { ... }\npublic BWrapper implements IWrapper { ... }\npublic CWrapper implements IWrapper { ... }\npublic UnknownWrapper implements IWrapper { ... }\n\nIWrapper wrap( Object o ) {\n    if ( o instanceof A ) return new AWrapper((A) o);\n    else if ( o instanceof B ) return new BWrapper((B) o);\n    else if ( o instanceof C ) return new CWrapper((C) o);\n    else return new UnknownWrapper(o);\n}\n</code></pre>\n\n<p>Even in the guaranteed absence of subclasses, avoid specifying class names as literal strings in <code>switch</code> cases. This allows errors that the compiler will not find, which may cost you debugging time.</p>\n"},{"tags":[],"owner":{"account_id":3103675,"reputation":1315,"user_id":2627101,"display_name":"eitan"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1463692690,"creation_date":1463692690,"answer_id":37334159,"question_id":29570767,"body_markdown":"Using java 8 lambdas you can get to something like this:\r\n\r\n    Collection col = Arrays.asList(1,2,3);\r\n    switchType(col, \r\n           caze(Collection.class, c-&gt;System.out.println(c.size())),\r\n           caze(ArrayBlockingQueue.class, bq-&gt;System.out.println(bq.remainingCapacity())),\r\n           caze(Queue.class, q-&gt;System.out.println(q.poll())),\r\n           caze(String.class, s-&gt;System.out.println(s.substring(0))),\r\n           caze(ArrayList.class, al-&gt;System.out.println(al.get(0)))\r\n    );\r\nIn order to do that you should define the following static methods:\r\n\r\n    public static &lt;T&gt; void switchType(Object o, Consumer... a) {\r\n        for (Consumer consumer : a)\r\n            consumer.accept(o);\r\n    }\r\n\r\n    public static &lt;T&gt; Consumer caze(Class&lt;T&gt; cls, Consumer&lt;T&gt; c) {\r\n        return obj -&gt; Optional.of(obj).filter(cls::isInstance).map(cls::cast).ifPresent(c);\r\n    }    \r\n\r\n","title":"Switch over type in java","body":"<p>Using java 8 lambdas you can get to something like this:</p>\n\n<pre><code>Collection col = Arrays.asList(1,2,3);\nswitchType(col, \n       caze(Collection.class, c-&gt;System.out.println(c.size())),\n       caze(ArrayBlockingQueue.class, bq-&gt;System.out.println(bq.remainingCapacity())),\n       caze(Queue.class, q-&gt;System.out.println(q.poll())),\n       caze(String.class, s-&gt;System.out.println(s.substring(0))),\n       caze(ArrayList.class, al-&gt;System.out.println(al.get(0)))\n);\n</code></pre>\n\n<p>In order to do that you should define the following static methods:</p>\n\n<pre><code>public static &lt;T&gt; void switchType(Object o, Consumer... a) {\n    for (Consumer consumer : a)\n        consumer.accept(o);\n}\n\npublic static &lt;T&gt; Consumer caze(Class&lt;T&gt; cls, Consumer&lt;T&gt; c) {\n    return obj -&gt; Optional.of(obj).filter(cls::isInstance).map(cls::cast).ifPresent(c);\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6673440,"reputation":429,"user_id":5148921,"display_name":"Ramiz"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1479812489,"creation_date":1479812489,"answer_id":40740143,"question_id":29570767,"body_markdown":"You was very close to the solution with enums.\r\nIt hasn&#39;t compiled because your enum missed constructor and coversion method to map enum from String. Actually you could solve it even without String, i.e. without calling getCanonicalName at all: \r\n    \r\n    public enum Classes {\r\n      // changed enum constants a bit to avoid confusing with target class names\r\n      ClsA (A.class),\r\n      ClsB (B.class),\r\n      ClsC (C.class),\r\n      UNKNOWN(null);\r\n      private final Class&lt;?&gt; targetClass;\r\n      Classes(Class&lt;?&gt; targetClass) {\r\n        this.targetClass = targetClass;\r\n      }\r\n      public static Classes fromClass(Class&lt;?&gt; cls) {\r\n        for(Classes c : values()) {\r\n          if(c.targetClass == cls)\r\n             return c;\r\n        }\r\n        return UNKNOWN;\r\n      }\r\n    }\r\n    \r\n    switch (Classes.fromClass(o.getClass())) {\r\n    case ClsA:\r\n      handleA((A)o);\r\n      break;\r\n    case ClsB:\r\n      handleB((B)o);\r\n      break;\r\n    case ClsC:\r\n      handleC((C)o);\r\n      break;\r\n    default:\r\n      handleUnknown(o);\r\n      break;\r\n    }\r\n\r\nif you get significant count of known classes, consider using map instead of iterating in Classes.fromClass, e.g.: \r\n\r\n    public enum Classes {\r\n      ClsA(A.class),\r\n      ClsB(B.class),\r\n      // etc...\r\n      UNKNWON(null);\r\n\r\n      // need a wrapper class to avoid compilation problem\r\n      // with referring static enum field within an initializer \r\n      private static class Holder {\r\n        public static final IdentityHashMap&lt;Class&lt;?&gt;, Classes&gt; map = new IdentityHashMap&lt;&gt;();\r\n      }\r\n      Classes(Class&lt;?&gt; targetClass) {\r\n        Holder.map.put(targetClass, this);\r\n      }\r\n      public static Classes fromClass(Class&lt;?&gt; cls) {\r\n        Classes c = Holder.map.get(cls);\r\n        return c != null ? c : UNKNOWN;\r\n      }\r\n    }","title":"Switch over type in java","body":"<p>You was very close to the solution with enums.\nIt hasn't compiled because your enum missed constructor and coversion method to map enum from String. Actually you could solve it even without String, i.e. without calling getCanonicalName at all: </p>\n\n<pre><code>public enum Classes {\n  // changed enum constants a bit to avoid confusing with target class names\n  ClsA (A.class),\n  ClsB (B.class),\n  ClsC (C.class),\n  UNKNOWN(null);\n  private final Class&lt;?&gt; targetClass;\n  Classes(Class&lt;?&gt; targetClass) {\n    this.targetClass = targetClass;\n  }\n  public static Classes fromClass(Class&lt;?&gt; cls) {\n    for(Classes c : values()) {\n      if(c.targetClass == cls)\n         return c;\n    }\n    return UNKNOWN;\n  }\n}\n\nswitch (Classes.fromClass(o.getClass())) {\ncase ClsA:\n  handleA((A)o);\n  break;\ncase ClsB:\n  handleB((B)o);\n  break;\ncase ClsC:\n  handleC((C)o);\n  break;\ndefault:\n  handleUnknown(o);\n  break;\n}\n</code></pre>\n\n<p>if you get significant count of known classes, consider using map instead of iterating in Classes.fromClass, e.g.: </p>\n\n<pre><code>public enum Classes {\n  ClsA(A.class),\n  ClsB(B.class),\n  // etc...\n  UNKNWON(null);\n\n  // need a wrapper class to avoid compilation problem\n  // with referring static enum field within an initializer \n  private static class Holder {\n    public static final IdentityHashMap&lt;Class&lt;?&gt;, Classes&gt; map = new IdentityHashMap&lt;&gt;();\n  }\n  Classes(Class&lt;?&gt; targetClass) {\n    Holder.map.put(targetClass, this);\n  }\n  public static Classes fromClass(Class&lt;?&gt; cls) {\n    Classes c = Holder.map.get(cls);\n    return c != null ? c : UNKNOWN;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3828555,"reputation":43,"user_id":3174791,"display_name":"Edgar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499897634,"creation_date":1499897634,"answer_id":45068355,"question_id":29570767,"body_markdown":"I was able to work around with java.lang.reflect\r\n\r\n\r\n    import java.lang.reflect.Method;\r\n    \r\n    public class MyClass {\r\n    \r\n        public void validate(Object o) {    \r\n            String className = o.getClass().getSimpleName();     \r\n            try {\r\n                //this line searches a method named as className\r\n                Method m = this.getClass().getDeclaredMethod(className);\r\n                //this line execute the method \r\n                 m.invoke(this);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                handleUnknown();\r\n            }\r\n            \r\n        }\r\n    \r\n        //this methot will execute if the object o is instance of A\r\n        public void A() {\r\n           \r\n        }\r\n        //this methot will execute if the object o is instance of B\r\n         public void B() {\r\n           \r\n        }\r\n        //this methot will execute if the object o is instance of C\r\n         public void C() {\r\n           \r\n        }\r\n        //this methot will execute if the method is unknown\r\n        public void handleUnknown(){\r\n    \r\n        }\r\n    \r\n    \r\n    }","title":"Switch over type in java","body":"<p>I was able to work around with java.lang.reflect</p>\n\n<pre><code>import java.lang.reflect.Method;\n\npublic class MyClass {\n\n    public void validate(Object o) {    \n        String className = o.getClass().getSimpleName();     \n        try {\n            //this line searches a method named as className\n            Method m = this.getClass().getDeclaredMethod(className);\n            //this line execute the method \n             m.invoke(this);\n        } catch (Exception e) {\n            e.printStackTrace();\n            handleUnknown();\n        }\n\n    }\n\n    //this methot will execute if the object o is instance of A\n    public void A() {\n\n    }\n    //this methot will execute if the object o is instance of B\n     public void B() {\n\n    }\n    //this methot will execute if the object o is instance of C\n     public void C() {\n\n    }\n    //this methot will execute if the method is unknown\n    public void handleUnknown(){\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233258,"reputation":560,"user_id":2728007,"display_name":"Siva Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1530077352,"creation_date":1530077352,"answer_id":51055097,"question_id":29570767,"body_markdown":"To switch over known class types you can use below approach\r\n\r\nCreate an **Enum** with Class names.\r\n\r\n    public enum ClassNameEnum {\r\n        ClassA, ClassB, ClassC\r\n    }\r\n\r\nFind the **Class name** of the object.\r\nWrite a **switch** case over the enum.\r\n\r\n    private void switchByClassType(Object obj) {\r\n    \r\n            ClassNameEnum className = ClassNameEnum.valueOf(obj.getClass().getSimpleName());\r\n    \r\n            switch (className) {\r\n                case ClassA:\r\n                    doA();\r\n                    break;\r\n                case ClassB:\r\n                    doB();\r\n                    break;\r\n                case ClassC:\r\n                    doC();\r\n                    break;\r\n            }\r\n        }\r\n    }","title":"Switch over type in java","body":"<p>To switch over known class types you can use below approach</p>\n\n<p>Create an <strong>Enum</strong> with Class names.</p>\n\n<pre><code>public enum ClassNameEnum {\n    ClassA, ClassB, ClassC\n}\n</code></pre>\n\n<p>Find the <strong>Class name</strong> of the object.\nWrite a <strong>switch</strong> case over the enum.</p>\n\n<pre><code>private void switchByClassType(Object obj) {\n\n        ClassNameEnum className = ClassNameEnum.valueOf(obj.getClass().getSimpleName());\n\n        switch (className) {\n            case ClassA:\n                doA();\n                break;\n            case ClassB:\n                doB();\n                break;\n            case ClassC:\n                doC();\n                break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531608050,"creation_date":1530980528,"answer_id":51224926,"question_id":29570767,"body_markdown":"Here&#39;s an example of this which uses a simple object for each case.\r\n\r\n    package mcve.util;\r\n    \r\n    import java.util.*;\r\n    import java.util.function.*;\r\n    \r\n    /**\r\n     * Allows switch-like statements with classes and consumers.\r\n     */\r\n    public final class ClassSwitch implements Consumer&lt;Object&gt; {\r\n        /**\r\n         * For each of the specified cases, in order of their\r\n         * appearance in the array, if cases[i].test(obj) returns\r\n         * true, then invoke cases[i].accept(obj) and return.\r\n         *\r\n         * @param  obj   the object to switch upon\r\n         * @param  cases the cases for the switch\r\n         * @throws NullPointerException\r\n         *         if any of the cases are null\r\n         */\r\n        public static void cswitch(Object obj, Case&lt;?&gt;... cases) {\r\n            if (cases != null) {\r\n                for (Case&lt;?&gt; c : cases) {\r\n                    if (c.test(obj)) {\r\n                        c.accept(obj);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * @param  type   the type of the case\r\n         * @param  action the action to perform\r\n         * @param  &lt;T&gt;    the type of the case\r\n         * @throws NullPointerException\r\n         *         if the type or action is null\r\n         * @return a new Case\r\n         */\r\n        public static &lt;T&gt; Case&lt;T&gt; ccase(Class&lt;T&gt; type, Consumer&lt;? super T&gt; action) {\r\n            return new Case&lt;&gt;(type, action);\r\n        }\r\n        \r\n        /**\r\n         * @param &lt;T&gt; the type of the case\r\n         */\r\n        public static final class Case&lt;T&gt; implements Predicate&lt;Object&gt;,\r\n                                                     Consumer&lt;Object&gt; {\r\n            private final Class&lt;T&gt; type;\r\n            private final Consumer&lt;? super T&gt; action;\r\n        \r\n            /**\r\n             * @param  type   the type of the case\r\n             * @param  action the action to perform\r\n             * @throws NullPointerException\r\n             *         if the type or action is null\r\n             */\r\n            public Case(Class&lt;T&gt; type, Consumer&lt;? super T&gt; action) {\r\n                this.type   = Objects.requireNonNull(type,   &quot;type&quot;);\r\n                this.action = Objects.requireNonNull(action, &quot;action&quot;);\r\n            }\r\n        \r\n            /**\r\n             * @param  obj the object to test\r\n             * @return true if the object is an instance of T, else false\r\n             */\r\n            @Override\r\n            public boolean test(Object obj) {\r\n                return type.isInstance(obj);\r\n            }\r\n        \r\n            /**\r\n             * @param  obj the object to perform the action on\r\n             * @throws ClassCastException\r\n             *         if the object is not an instance of T\r\n             */\r\n            @Override\r\n            public void accept(Object obj) {\r\n                action.accept(type.cast(obj));\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * An unmodifiable list of the cases in this switch.\r\n         */\r\n        private final List&lt;Case&lt;?&gt;&gt; cases;\r\n        \r\n        /**\r\n         * @param  cases the cases for this switch\r\n         * @throws NullPointerException\r\n         *         if any of the cases are null\r\n         */\r\n        public ClassSwitch(Case&lt;?&gt;... cases) {\r\n            if (cases == null) {\r\n                this.cases = Collections.emptyList();\r\n            } else {\r\n                List&lt;Case&lt;?&gt;&gt; list = new ArrayList&lt;&gt;(cases.length);\r\n                for (Case&lt;?&gt; c : cases) {\r\n                    list.add(Objects.requireNonNull(c, &quot;case&quot;));\r\n                }\r\n                this.cases = Collections.unmodifiableList(list);\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * @return an unmodifiable view of the cases in this switch\r\n         */\r\n        public List&lt;Case&lt;?&gt;&gt; getCases() { return cases; }\r\n        \r\n        /**\r\n         * For each of the cases in this switch, in order of their\r\n         * appearance in the list, if cases.get(i).test(obj) returns\r\n         * true, then invoke cases.get(i).accept(obj) and return.\r\n         *\r\n         * @param obj the object to switch upon\r\n         */\r\n        @Override\r\n        public void accept(Object obj) {\r\n            for (Case&lt;?&gt; c : cases) {\r\n                if (c.test(obj)) {\r\n                    c.accept(obj);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nA usage example would be something like this, assuming imports of e.g. `import static mcve.util.ClassSwitch.*;`:\r\n\r\n    cswitch(anObject,\r\n        ccase(Byte.class,    b -&gt; System.out.println(&quot;Byte&quot;)),\r\n        ccase(Short.class,   s -&gt; System.out.println(&quot;Short&quot;)),\r\n        ccase(Integer.class, i -&gt; System.out.println(&quot;Integer&quot;)),\r\n        ccase(Long.class,    l -&gt; System.out.println(&quot;Long&quot;)),\r\n        ccase(Float.class,   f -&gt; System.out.println(&quot;Float&quot;)),\r\n        ccase(Double.class,  d -&gt; System.out.println(&quot;Double&quot;))\r\n    );\r\n\r\nYou could also create a reusable object:\r\n\r\n    ClassSwitch ts =\r\n        new ClassSwitch(ccase(String.class, System.out::println),\r\n                        ccase(Double.class, System.out::println));\r\n    ts.accept(anObject);\r\n\r\nNotes:\r\n\r\n- If you want a `default` case, you can use `Object.class` as the last case.\r\n\r\n- There&#39;s no way to make a case which handles `null`, but it could be modified a little bit for that. You could e.g. make a `class NullCase` whose `test` method returns `obj == null`.\r\n\r\n---\r\n\r\nWhat you could also do is actually generate overloads instead of using varargs. This lets you associate classes with consumers using just generic method declarations. The following is a fairly simple example of this:\r\n\r\n    package mcve.util;\r\n    \r\n    import java.util.*;\r\n    import java.util.function.*;\r\n    \r\n    /**\r\n     * Allows switch-like statements with classes and consumers.\r\n     */\r\n    public final class GeneratedClassSwitch {\r\n        private GeneratedClassSwitch() {}\r\n        \r\n        /**\r\n         * Generates overloads for a class switch to System.out.\r\n         *\r\n         * For example, if max=4, then 5 methods are generated:\r\n         * with 0, 1, 2, 3, and 4 cases.\r\n         *\r\n         * @param  max\r\n         *         the number of cases in the largest overload generated\r\n         * @param  indents\r\n         *         the number of indents to indent each generated method\r\n         * @throws IllegalArgumentException\r\n         *         if max is negative or greater than 26, or if indents\r\n         *         is negative\r\n         */\r\n        public static void generateFixedOverloads(int max, int indents) {\r\n            if (max &lt; 0 || max &gt; 26) {\r\n                throw new IllegalArgumentException(&quot;max=&quot; + max);\r\n            }\r\n            String indent = String.join(&quot;&quot;, Collections.nCopies(indents, &quot;    &quot;));\r\n            \r\n            for (int i = 0; i &lt;= max; ++i) {\r\n                System.out.print(indent);\r\n                System.out.print(&quot;public static &quot;);\r\n                \r\n                if (i &gt; 0) {\r\n                    System.out.print(&quot;&lt;&quot;);\r\n                    \r\n                    for (char ch = &#39;A&#39;; ch &lt; &#39;A&#39; + i; ++ch) {\r\n                        if (ch != &#39;A&#39;) {\r\n                            System.out.print(&quot;, &quot;);\r\n                        }\r\n                        System.out.print(ch);\r\n                    }\r\n                    \r\n                    System.out.print(&quot;&gt; &quot;);\r\n                }\r\n                \r\n                System.out.print(&quot;void cswitch&quot;);\r\n                \r\n                if (i &gt; 0) {\r\n                    System.out.println();\r\n                    System.out.print(indent + &quot;       (Object o, &quot;);\r\n                    \r\n                    for (char ch = &#39;A&#39;; ch &lt; &#39;A&#39; + i; ++ch) {\r\n                        if (ch != &#39;A&#39;) {\r\n                            System.out.println(&quot;,&quot;);\r\n                            System.out.print(indent + &quot;                  &quot;);\r\n                        }\r\n                        System.out.print(&quot;Class&lt;&quot; + ch + &quot;&gt; class&quot; + ch);\r\n                        System.out.print(&quot;, Consumer&lt;? super &quot; + ch + &quot;&gt; action&quot; + ch);\r\n                    }\r\n                } else {\r\n                    System.out.print(&quot;(Object o&quot;);\r\n                }\r\n                \r\n                System.out.println(&quot;) {&quot;);\r\n                \r\n                for (char ch = &#39;A&#39;; ch &lt; &#39;A&#39; + i; ++ch) {\r\n                    if (ch == &#39;A&#39;) {\r\n                        System.out.print(indent + &quot;    &quot;);\r\n                    } else {\r\n                        System.out.print(&quot; else &quot;);\r\n                    }\r\n                    System.out.println(&quot;if (class&quot; + ch + &quot;.isInstance(o)) {&quot;);\r\n                    System.out.print(indent + &quot;        &quot;);\r\n                    System.out.println(&quot;action&quot; + ch + &quot;.accept(class&quot; + ch + &quot;.cast(o));&quot;);\r\n                    System.out.print(indent + &quot;    &quot;);\r\n                    System.out.print(&quot;}&quot;);\r\n                    if (ch == (&#39;A&#39; + i - 1)) {\r\n                        System.out.println();\r\n                    }\r\n                }\r\n                \r\n                System.out.print(indent);\r\n                System.out.println(&quot;}&quot;);\r\n            }\r\n        }\r\n        \r\n        // Generated code pasted below.\r\n        \r\n        public static void cswitch(Object o) {\r\n        }\r\n        public static &lt;A&gt; void cswitch\r\n               (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA) {\r\n            if (classA.isInstance(o)) {\r\n                actionA.accept(classA.cast(o));\r\n            }\r\n        }\r\n        public static &lt;A, B&gt; void cswitch\r\n               (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\r\n                          Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB) {\r\n            if (classA.isInstance(o)) {\r\n                actionA.accept(classA.cast(o));\r\n            } else if (classB.isInstance(o)) {\r\n                actionB.accept(classB.cast(o));\r\n            }\r\n        }\r\n        public static &lt;A, B, C&gt; void cswitch\r\n               (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\r\n                          Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\r\n                          Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC) {\r\n            if (classA.isInstance(o)) {\r\n                actionA.accept(classA.cast(o));\r\n            } else if (classB.isInstance(o)) {\r\n                actionB.accept(classB.cast(o));\r\n            } else if (classC.isInstance(o)) {\r\n                actionC.accept(classC.cast(o));\r\n            }\r\n        }\r\n        public static &lt;A, B, C, D&gt; void cswitch\r\n               (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\r\n                          Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\r\n                          Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\r\n                          Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD) {\r\n            if (classA.isInstance(o)) {\r\n                actionA.accept(classA.cast(o));\r\n            } else if (classB.isInstance(o)) {\r\n                actionB.accept(classB.cast(o));\r\n            } else if (classC.isInstance(o)) {\r\n                actionC.accept(classC.cast(o));\r\n            } else if (classD.isInstance(o)) {\r\n                actionD.accept(classD.cast(o));\r\n            }\r\n        }\r\n        public static &lt;A, B, C, D, E&gt; void cswitch\r\n               (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\r\n                          Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\r\n                          Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\r\n                          Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD,\r\n                          Class&lt;E&gt; classE, Consumer&lt;? super E&gt; actionE) {\r\n            if (classA.isInstance(o)) {\r\n                actionA.accept(classA.cast(o));\r\n            } else if (classB.isInstance(o)) {\r\n                actionB.accept(classB.cast(o));\r\n            } else if (classC.isInstance(o)) {\r\n                actionC.accept(classC.cast(o));\r\n            } else if (classD.isInstance(o)) {\r\n                actionD.accept(classD.cast(o));\r\n            } else if (classE.isInstance(o)) {\r\n                actionE.accept(classE.cast(o));\r\n            }\r\n        }\r\n        public static &lt;A, B, C, D, E, F&gt; void cswitch\r\n               (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\r\n                          Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\r\n                          Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\r\n                          Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD,\r\n                          Class&lt;E&gt; classE, Consumer&lt;? super E&gt; actionE,\r\n                          Class&lt;F&gt; classF, Consumer&lt;? super F&gt; actionF) {\r\n            if (classA.isInstance(o)) {\r\n                actionA.accept(classA.cast(o));\r\n            } else if (classB.isInstance(o)) {\r\n                actionB.accept(classB.cast(o));\r\n            } else if (classC.isInstance(o)) {\r\n                actionC.accept(classC.cast(o));\r\n            } else if (classD.isInstance(o)) {\r\n                actionD.accept(classD.cast(o));\r\n            } else if (classE.isInstance(o)) {\r\n                actionE.accept(classE.cast(o));\r\n            } else if (classF.isInstance(o)) {\r\n                actionF.accept(classF.cast(o));\r\n            }\r\n        }\r\n        public static &lt;A, B, C, D, E, F, G&gt; void cswitch\r\n               (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\r\n                          Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\r\n                          Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\r\n                          Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD,\r\n                          Class&lt;E&gt; classE, Consumer&lt;? super E&gt; actionE,\r\n                          Class&lt;F&gt; classF, Consumer&lt;? super F&gt; actionF,\r\n                          Class&lt;G&gt; classG, Consumer&lt;? super G&gt; actionG) {\r\n            if (classA.isInstance(o)) {\r\n                actionA.accept(classA.cast(o));\r\n            } else if (classB.isInstance(o)) {\r\n                actionB.accept(classB.cast(o));\r\n            } else if (classC.isInstance(o)) {\r\n                actionC.accept(classC.cast(o));\r\n            } else if (classD.isInstance(o)) {\r\n                actionD.accept(classD.cast(o));\r\n            } else if (classE.isInstance(o)) {\r\n                actionE.accept(classE.cast(o));\r\n            } else if (classF.isInstance(o)) {\r\n                actionF.accept(classF.cast(o));\r\n            } else if (classG.isInstance(o)) {\r\n                actionG.accept(classG.cast(o));\r\n            }\r\n        }\r\n        public static &lt;A, B, C, D, E, F, G, H&gt; void cswitch\r\n               (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\r\n                          Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\r\n                          Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\r\n                          Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD,\r\n                          Class&lt;E&gt; classE, Consumer&lt;? super E&gt; actionE,\r\n                          Class&lt;F&gt; classF, Consumer&lt;? super F&gt; actionF,\r\n                          Class&lt;G&gt; classG, Consumer&lt;? super G&gt; actionG,\r\n                          Class&lt;H&gt; classH, Consumer&lt;? super H&gt; actionH) {\r\n            if (classA.isInstance(o)) {\r\n                actionA.accept(classA.cast(o));\r\n            } else if (classB.isInstance(o)) {\r\n                actionB.accept(classB.cast(o));\r\n            } else if (classC.isInstance(o)) {\r\n                actionC.accept(classC.cast(o));\r\n            } else if (classD.isInstance(o)) {\r\n                actionD.accept(classD.cast(o));\r\n            } else if (classE.isInstance(o)) {\r\n                actionE.accept(classE.cast(o));\r\n            } else if (classF.isInstance(o)) {\r\n                actionF.accept(classF.cast(o));\r\n            } else if (classG.isInstance(o)) {\r\n                actionG.accept(classG.cast(o));\r\n            } else if (classH.isInstance(o)) {\r\n                actionH.accept(classH.cast(o));\r\n            }\r\n        }\r\n    }\r\n\r\nIf you want to generate overloads, for example to have more than 8 cases, you can say something like the following:\r\n\r\n    GeneratedClassSwitch.generateFixedOverloads(16, 1);\r\n\r\nThat will generate methods to `System.out` that follow the general form of:\r\n\r\n    public static &lt;A, B, C&gt; void cswitch\r\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\r\n                      Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\r\n                      Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC) {\r\n        if (classA.isInstance(o)) {\r\n            actionA.accept(classA.cast(o));\r\n        } else if (classB.isInstance(o)) {\r\n            actionB.accept(classB.cast(o));\r\n        } else if (classC.isInstance(o)) {\r\n            actionC.accept(classC.cast(o));\r\n        }\r\n    }\r\n\r\nNotice that we&#39;re able to map each class type to its associated consumer type, i.e.\r\n&lt;code&gt;Class&amp;lt;&lt;b&gt;A&lt;/b&gt;&amp;gt;&lt;/code&gt; with &lt;code&gt;Consumer&amp;lt;?&amp;nbsp;super&amp;nbsp;&lt;b&gt;A&lt;/b&gt;&amp;gt;&lt;/code&gt;, &lt;code&gt;Class&amp;lt;&lt;b&gt;B&lt;/b&gt;&amp;gt;&lt;/code&gt; with &lt;code&gt;Consumer&amp;lt;?&amp;nbsp;super&amp;nbsp;&lt;b&gt;B&lt;/b&gt;&amp;gt;&lt;/code&gt;, and so on. This is actually impossible with varargs (as of the current version of Java, anyway, which is 10).\r\n\r\nOur usage example is now like this, again assuming imports of e.g. `import static mcve.util.GeneratedClassSwitch.*;`:\r\n\r\n    cswitch(anObject,\r\n        Byte.class,    b -&gt; System.out.println(&quot;Byte&quot;),\r\n        Short.class,   s -&gt; System.out.println(&quot;Short&quot;),\r\n        Integer.class, i -&gt; System.out.println(&quot;Integer&quot;),\r\n        Long.class,    l -&gt; System.out.println(&quot;Long&quot;),\r\n        Float.class,   f -&gt; System.out.println(&quot;Float&quot;),\r\n        Double.class,  d -&gt; System.out.println(&quot;Double&quot;)\r\n    );\r\n\r\n(Notes about `default` cases and `null` are the same as the first example.)","title":"Switch over type in java","body":"<p>Here's an example of this which uses a simple object for each case.</p>\n\n<pre><code>package mcve.util;\n\nimport java.util.*;\nimport java.util.function.*;\n\n/**\n * Allows switch-like statements with classes and consumers.\n */\npublic final class ClassSwitch implements Consumer&lt;Object&gt; {\n    /**\n     * For each of the specified cases, in order of their\n     * appearance in the array, if cases[i].test(obj) returns\n     * true, then invoke cases[i].accept(obj) and return.\n     *\n     * @param  obj   the object to switch upon\n     * @param  cases the cases for the switch\n     * @throws NullPointerException\n     *         if any of the cases are null\n     */\n    public static void cswitch(Object obj, Case&lt;?&gt;... cases) {\n        if (cases != null) {\n            for (Case&lt;?&gt; c : cases) {\n                if (c.test(obj)) {\n                    c.accept(obj);\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * @param  type   the type of the case\n     * @param  action the action to perform\n     * @param  &lt;T&gt;    the type of the case\n     * @throws NullPointerException\n     *         if the type or action is null\n     * @return a new Case\n     */\n    public static &lt;T&gt; Case&lt;T&gt; ccase(Class&lt;T&gt; type, Consumer&lt;? super T&gt; action) {\n        return new Case&lt;&gt;(type, action);\n    }\n\n    /**\n     * @param &lt;T&gt; the type of the case\n     */\n    public static final class Case&lt;T&gt; implements Predicate&lt;Object&gt;,\n                                                 Consumer&lt;Object&gt; {\n        private final Class&lt;T&gt; type;\n        private final Consumer&lt;? super T&gt; action;\n\n        /**\n         * @param  type   the type of the case\n         * @param  action the action to perform\n         * @throws NullPointerException\n         *         if the type or action is null\n         */\n        public Case(Class&lt;T&gt; type, Consumer&lt;? super T&gt; action) {\n            this.type   = Objects.requireNonNull(type,   \"type\");\n            this.action = Objects.requireNonNull(action, \"action\");\n        }\n\n        /**\n         * @param  obj the object to test\n         * @return true if the object is an instance of T, else false\n         */\n        @Override\n        public boolean test(Object obj) {\n            return type.isInstance(obj);\n        }\n\n        /**\n         * @param  obj the object to perform the action on\n         * @throws ClassCastException\n         *         if the object is not an instance of T\n         */\n        @Override\n        public void accept(Object obj) {\n            action.accept(type.cast(obj));\n        }\n    }\n\n    /**\n     * An unmodifiable list of the cases in this switch.\n     */\n    private final List&lt;Case&lt;?&gt;&gt; cases;\n\n    /**\n     * @param  cases the cases for this switch\n     * @throws NullPointerException\n     *         if any of the cases are null\n     */\n    public ClassSwitch(Case&lt;?&gt;... cases) {\n        if (cases == null) {\n            this.cases = Collections.emptyList();\n        } else {\n            List&lt;Case&lt;?&gt;&gt; list = new ArrayList&lt;&gt;(cases.length);\n            for (Case&lt;?&gt; c : cases) {\n                list.add(Objects.requireNonNull(c, \"case\"));\n            }\n            this.cases = Collections.unmodifiableList(list);\n        }\n    }\n\n    /**\n     * @return an unmodifiable view of the cases in this switch\n     */\n    public List&lt;Case&lt;?&gt;&gt; getCases() { return cases; }\n\n    /**\n     * For each of the cases in this switch, in order of their\n     * appearance in the list, if cases.get(i).test(obj) returns\n     * true, then invoke cases.get(i).accept(obj) and return.\n     *\n     * @param obj the object to switch upon\n     */\n    @Override\n    public void accept(Object obj) {\n        for (Case&lt;?&gt; c : cases) {\n            if (c.test(obj)) {\n                c.accept(obj);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>A usage example would be something like this, assuming imports of e.g. <code>import static mcve.util.ClassSwitch.*;</code>:</p>\n\n<pre><code>cswitch(anObject,\n    ccase(Byte.class,    b -&gt; System.out.println(\"Byte\")),\n    ccase(Short.class,   s -&gt; System.out.println(\"Short\")),\n    ccase(Integer.class, i -&gt; System.out.println(\"Integer\")),\n    ccase(Long.class,    l -&gt; System.out.println(\"Long\")),\n    ccase(Float.class,   f -&gt; System.out.println(\"Float\")),\n    ccase(Double.class,  d -&gt; System.out.println(\"Double\"))\n);\n</code></pre>\n\n<p>You could also create a reusable object:</p>\n\n<pre><code>ClassSwitch ts =\n    new ClassSwitch(ccase(String.class, System.out::println),\n                    ccase(Double.class, System.out::println));\nts.accept(anObject);\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li><p>If you want a <code>default</code> case, you can use <code>Object.class</code> as the last case.</p></li>\n<li><p>There's no way to make a case which handles <code>null</code>, but it could be modified a little bit for that. You could e.g. make a <code>class NullCase</code> whose <code>test</code> method returns <code>obj == null</code>.</p></li>\n</ul>\n\n<hr>\n\n<p>What you could also do is actually generate overloads instead of using varargs. This lets you associate classes with consumers using just generic method declarations. The following is a fairly simple example of this:</p>\n\n<pre><code>package mcve.util;\n\nimport java.util.*;\nimport java.util.function.*;\n\n/**\n * Allows switch-like statements with classes and consumers.\n */\npublic final class GeneratedClassSwitch {\n    private GeneratedClassSwitch() {}\n\n    /**\n     * Generates overloads for a class switch to System.out.\n     *\n     * For example, if max=4, then 5 methods are generated:\n     * with 0, 1, 2, 3, and 4 cases.\n     *\n     * @param  max\n     *         the number of cases in the largest overload generated\n     * @param  indents\n     *         the number of indents to indent each generated method\n     * @throws IllegalArgumentException\n     *         if max is negative or greater than 26, or if indents\n     *         is negative\n     */\n    public static void generateFixedOverloads(int max, int indents) {\n        if (max &lt; 0 || max &gt; 26) {\n            throw new IllegalArgumentException(\"max=\" + max);\n        }\n        String indent = String.join(\"\", Collections.nCopies(indents, \"    \"));\n\n        for (int i = 0; i &lt;= max; ++i) {\n            System.out.print(indent);\n            System.out.print(\"public static \");\n\n            if (i &gt; 0) {\n                System.out.print(\"&lt;\");\n\n                for (char ch = 'A'; ch &lt; 'A' + i; ++ch) {\n                    if (ch != 'A') {\n                        System.out.print(\", \");\n                    }\n                    System.out.print(ch);\n                }\n\n                System.out.print(\"&gt; \");\n            }\n\n            System.out.print(\"void cswitch\");\n\n            if (i &gt; 0) {\n                System.out.println();\n                System.out.print(indent + \"       (Object o, \");\n\n                for (char ch = 'A'; ch &lt; 'A' + i; ++ch) {\n                    if (ch != 'A') {\n                        System.out.println(\",\");\n                        System.out.print(indent + \"                  \");\n                    }\n                    System.out.print(\"Class&lt;\" + ch + \"&gt; class\" + ch);\n                    System.out.print(\", Consumer&lt;? super \" + ch + \"&gt; action\" + ch);\n                }\n            } else {\n                System.out.print(\"(Object o\");\n            }\n\n            System.out.println(\") {\");\n\n            for (char ch = 'A'; ch &lt; 'A' + i; ++ch) {\n                if (ch == 'A') {\n                    System.out.print(indent + \"    \");\n                } else {\n                    System.out.print(\" else \");\n                }\n                System.out.println(\"if (class\" + ch + \".isInstance(o)) {\");\n                System.out.print(indent + \"        \");\n                System.out.println(\"action\" + ch + \".accept(class\" + ch + \".cast(o));\");\n                System.out.print(indent + \"    \");\n                System.out.print(\"}\");\n                if (ch == ('A' + i - 1)) {\n                    System.out.println();\n                }\n            }\n\n            System.out.print(indent);\n            System.out.println(\"}\");\n        }\n    }\n\n    // Generated code pasted below.\n\n    public static void cswitch(Object o) {\n    }\n    public static &lt;A&gt; void cswitch\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA) {\n        if (classA.isInstance(o)) {\n            actionA.accept(classA.cast(o));\n        }\n    }\n    public static &lt;A, B&gt; void cswitch\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\n                      Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB) {\n        if (classA.isInstance(o)) {\n            actionA.accept(classA.cast(o));\n        } else if (classB.isInstance(o)) {\n            actionB.accept(classB.cast(o));\n        }\n    }\n    public static &lt;A, B, C&gt; void cswitch\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\n                      Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\n                      Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC) {\n        if (classA.isInstance(o)) {\n            actionA.accept(classA.cast(o));\n        } else if (classB.isInstance(o)) {\n            actionB.accept(classB.cast(o));\n        } else if (classC.isInstance(o)) {\n            actionC.accept(classC.cast(o));\n        }\n    }\n    public static &lt;A, B, C, D&gt; void cswitch\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\n                      Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\n                      Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\n                      Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD) {\n        if (classA.isInstance(o)) {\n            actionA.accept(classA.cast(o));\n        } else if (classB.isInstance(o)) {\n            actionB.accept(classB.cast(o));\n        } else if (classC.isInstance(o)) {\n            actionC.accept(classC.cast(o));\n        } else if (classD.isInstance(o)) {\n            actionD.accept(classD.cast(o));\n        }\n    }\n    public static &lt;A, B, C, D, E&gt; void cswitch\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\n                      Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\n                      Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\n                      Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD,\n                      Class&lt;E&gt; classE, Consumer&lt;? super E&gt; actionE) {\n        if (classA.isInstance(o)) {\n            actionA.accept(classA.cast(o));\n        } else if (classB.isInstance(o)) {\n            actionB.accept(classB.cast(o));\n        } else if (classC.isInstance(o)) {\n            actionC.accept(classC.cast(o));\n        } else if (classD.isInstance(o)) {\n            actionD.accept(classD.cast(o));\n        } else if (classE.isInstance(o)) {\n            actionE.accept(classE.cast(o));\n        }\n    }\n    public static &lt;A, B, C, D, E, F&gt; void cswitch\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\n                      Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\n                      Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\n                      Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD,\n                      Class&lt;E&gt; classE, Consumer&lt;? super E&gt; actionE,\n                      Class&lt;F&gt; classF, Consumer&lt;? super F&gt; actionF) {\n        if (classA.isInstance(o)) {\n            actionA.accept(classA.cast(o));\n        } else if (classB.isInstance(o)) {\n            actionB.accept(classB.cast(o));\n        } else if (classC.isInstance(o)) {\n            actionC.accept(classC.cast(o));\n        } else if (classD.isInstance(o)) {\n            actionD.accept(classD.cast(o));\n        } else if (classE.isInstance(o)) {\n            actionE.accept(classE.cast(o));\n        } else if (classF.isInstance(o)) {\n            actionF.accept(classF.cast(o));\n        }\n    }\n    public static &lt;A, B, C, D, E, F, G&gt; void cswitch\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\n                      Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\n                      Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\n                      Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD,\n                      Class&lt;E&gt; classE, Consumer&lt;? super E&gt; actionE,\n                      Class&lt;F&gt; classF, Consumer&lt;? super F&gt; actionF,\n                      Class&lt;G&gt; classG, Consumer&lt;? super G&gt; actionG) {\n        if (classA.isInstance(o)) {\n            actionA.accept(classA.cast(o));\n        } else if (classB.isInstance(o)) {\n            actionB.accept(classB.cast(o));\n        } else if (classC.isInstance(o)) {\n            actionC.accept(classC.cast(o));\n        } else if (classD.isInstance(o)) {\n            actionD.accept(classD.cast(o));\n        } else if (classE.isInstance(o)) {\n            actionE.accept(classE.cast(o));\n        } else if (classF.isInstance(o)) {\n            actionF.accept(classF.cast(o));\n        } else if (classG.isInstance(o)) {\n            actionG.accept(classG.cast(o));\n        }\n    }\n    public static &lt;A, B, C, D, E, F, G, H&gt; void cswitch\n           (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\n                      Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\n                      Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC,\n                      Class&lt;D&gt; classD, Consumer&lt;? super D&gt; actionD,\n                      Class&lt;E&gt; classE, Consumer&lt;? super E&gt; actionE,\n                      Class&lt;F&gt; classF, Consumer&lt;? super F&gt; actionF,\n                      Class&lt;G&gt; classG, Consumer&lt;? super G&gt; actionG,\n                      Class&lt;H&gt; classH, Consumer&lt;? super H&gt; actionH) {\n        if (classA.isInstance(o)) {\n            actionA.accept(classA.cast(o));\n        } else if (classB.isInstance(o)) {\n            actionB.accept(classB.cast(o));\n        } else if (classC.isInstance(o)) {\n            actionC.accept(classC.cast(o));\n        } else if (classD.isInstance(o)) {\n            actionD.accept(classD.cast(o));\n        } else if (classE.isInstance(o)) {\n            actionE.accept(classE.cast(o));\n        } else if (classF.isInstance(o)) {\n            actionF.accept(classF.cast(o));\n        } else if (classG.isInstance(o)) {\n            actionG.accept(classG.cast(o));\n        } else if (classH.isInstance(o)) {\n            actionH.accept(classH.cast(o));\n        }\n    }\n}\n</code></pre>\n\n<p>If you want to generate overloads, for example to have more than 8 cases, you can say something like the following:</p>\n\n<pre><code>GeneratedClassSwitch.generateFixedOverloads(16, 1);\n</code></pre>\n\n<p>That will generate methods to <code>System.out</code> that follow the general form of:</p>\n\n<pre><code>public static &lt;A, B, C&gt; void cswitch\n       (Object o, Class&lt;A&gt; classA, Consumer&lt;? super A&gt; actionA,\n                  Class&lt;B&gt; classB, Consumer&lt;? super B&gt; actionB,\n                  Class&lt;C&gt; classC, Consumer&lt;? super C&gt; actionC) {\n    if (classA.isInstance(o)) {\n        actionA.accept(classA.cast(o));\n    } else if (classB.isInstance(o)) {\n        actionB.accept(classB.cast(o));\n    } else if (classC.isInstance(o)) {\n        actionC.accept(classC.cast(o));\n    }\n}\n</code></pre>\n\n<p>Notice that we're able to map each class type to its associated consumer type, i.e.\n<code>Class&lt;<b>A</b>&gt;</code> with <code>Consumer&lt;?&nbsp;super&nbsp;<b>A</b>&gt;</code>, <code>Class&lt;<b>B</b>&gt;</code> with <code>Consumer&lt;?&nbsp;super&nbsp;<b>B</b>&gt;</code>, and so on. This is actually impossible with varargs (as of the current version of Java, anyway, which is 10).</p>\n\n<p>Our usage example is now like this, again assuming imports of e.g. <code>import static mcve.util.GeneratedClassSwitch.*;</code>:</p>\n\n<pre><code>cswitch(anObject,\n    Byte.class,    b -&gt; System.out.println(\"Byte\"),\n    Short.class,   s -&gt; System.out.println(\"Short\"),\n    Integer.class, i -&gt; System.out.println(\"Integer\"),\n    Long.class,    l -&gt; System.out.println(\"Long\"),\n    Float.class,   f -&gt; System.out.println(\"Float\"),\n    Double.class,  d -&gt; System.out.println(\"Double\")\n);\n</code></pre>\n\n<p>(Notes about <code>default</code> cases and <code>null</code> are the same as the first example.)</p>\n"},{"tags":[],"owner":{"account_id":6528461,"reputation":3279,"user_id":5050431,"accept_rate":60,"display_name":"A_Arnold"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1649013161,"creation_date":1565361540,"answer_id":57432342,"question_id":29570767,"body_markdown":"Java had a draft to support this which released in Java SE 17. See [here][1]. The syntax looks like this\r\n\r\n    \r\n    switch (obj) {\r\n        case Integer i: handleI(i); break;\r\n        case Byte b:    handleB(b); break;\r\n        case Long l:    handleL(l); break;\r\n        case Double d:  handleD(d); break;\r\n        case String s:  handleS(s); break\r\n        default:        handle(obj);\r\n    }\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/8213076","title":"Switch over type in java","body":"<p>Java had a draft to support this which released in Java SE 17. See <a href=\"https://openjdk.java.net/jeps/8213076\" rel=\"noreferrer\">here</a>. The syntax looks like this</p>\n<pre><code>switch (obj) {\n    case Integer i: handleI(i); break;\n    case Byte b:    handleB(b); break;\n    case Long l:    handleL(l); break;\n    case Double d:  handleD(d); break;\n    case String s:  handleS(s); break\n    default:        handle(obj);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6114182,"reputation":271,"user_id":4769751,"display_name":"Oleksandr Potomkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613576198,"creation_date":1613414869,"answer_id":66213696,"question_id":29570767,"body_markdown":"I want to modify a little Edgar&#39;s answer\r\n\r\n        public void handle(Object value){\r\n        \ttry {\r\n\r\n        \t\tgetClass().getDeclaredMethod(&quot;handle&quot;, value.getClass()).invoke(this, value);\r\n\r\n        \t} catch (NoSuchMethodException | SecurityException | InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\r\n        \t\tthrow new HandleException(e); // public class HandleException extends RuntimeException {...} \r\n        \t}\r\n    \t}\r\nmethods based on the type:\r\n\r\n    void handle(A a){}\r\n    void handle(B b){}\r\n    void handle(C c){}\r\n\r\n","title":"Switch over type in java","body":"<p>I want to modify a little Edgar's answer</p>\n<pre><code>    public void handle(Object value){\n        try {\n\n            getClass().getDeclaredMethod(&quot;handle&quot;, value.getClass()).invoke(this, value);\n\n        } catch (NoSuchMethodException | SecurityException | InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) {\n            throw new HandleException(e); // public class HandleException extends RuntimeException {...} \n        }\n    }\n</code></pre>\n<p>methods based on the type:</p>\n<pre><code>void handle(A a){}\nvoid handle(B b){}\nvoid handle(C c){}\n</code></pre>\n"}],"owner":{"account_id":360769,"reputation":20388,"user_id":702948,"accept_rate":79,"display_name":"ewok"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87567,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":9,"score":44,"last_activity_date":1649013161,"creation_date":1428700285,"question_id":29570767,"body_markdown":"Before I start, I know there are a bunch of answers to this question that suggest alternate approaches.  I&#39;m looking for assistance to this particular approach as to whether it is possible, and if not, similar approaches that might work.\r\n\r\nI have a method that takes a superclass and calls a method based on the type of the passed object.  for instance:\r\n\r\n    public void handle(Object o){\r\n      if (o instanceof A)\r\n        handleA((A)o);\r\n      else if (o instanceof B)\r\n        handleB((B)o);\r\n      else if (o instanceof C)\r\n        handleC((C)o);\r\n      else \r\n        handleUnknown(o);\r\n\r\nI can&#39;t modify the subtypes to override a `handle()` method, as [this answer](https://stackoverflow.com/questions/5579309/switch-instanceof/5579385#5579385) would suggest, because I don&#39;t own the classes.  So the `instanceof` method is all I have.\r\n\r\nI&#39;d like to use a `switch` statement instead of `if/else`, simply because it&#39;s much neater.  I know you can only switch on primitives and Strings, so I&#39;m switching over the class name:\r\n\r\n    switch(o.getClass().getCanonicalName()){\r\n    case &quot;my.package.A&quot;:\r\n      handleA((A)o);\r\n      break;\r\n    case &quot;my.package.B&quot;:\r\n      handleB((B)o);\r\n      break;\r\n    case &quot;my.package.C&quot;:\r\n      handleC((C)o);\r\n      break;\r\n    default:\r\n      handleUnknown(o);\r\n      break;\r\n    }\r\n\r\nThe catch here is that the canonical names are VERY long (like 12 subpackages), and I can&#39;t call `ClassName.class.getCanonicalName()` in the case statement because Java doesn&#39;t allow that.  So my next solution was an Enum.  This is where I hit my problem.\r\n\r\nI&#39;d like my code to look something like this:\r\n\r\n    public enum Classes {\r\n      A (A.getCanonicalName()),\r\n      B (B.getCanonicalName()),\r\n      C (C.getCanonicalName());\r\n    }\r\n    \r\n    switch (o.getClass().getCanonicalName()){\r\n    case Classes.A:\r\n      handleA((A)o);\r\n      break;\r\n    case Classes.B:\r\n      handleB((B)o);\r\n      break;\r\n    case Classes.C:\r\n      handleC((C)o);\r\n      break;\r\n    default:\r\n      handleUnknown(o);\r\n      break;\r\n    }\r\n\r\nBut this doesn&#39;t compile.  I&#39;m not sure why.  I&#39;d like some approach that allows me to switch over the type without having to type out the entire canonical name.  If I do that, I might as well just use `if/else` and `instanceof`.\r\n\r\n**NOTE** There are a couple of types that have the same name (inner classes), so `getSimpleName()` is out.","title":"Switch over type in java","body":"<p>Before I start, I know there are a bunch of answers to this question that suggest alternate approaches.  I'm looking for assistance to this particular approach as to whether it is possible, and if not, similar approaches that might work.</p>\n\n<p>I have a method that takes a superclass and calls a method based on the type of the passed object.  for instance:</p>\n\n<pre><code>public void handle(Object o){\n  if (o instanceof A)\n    handleA((A)o);\n  else if (o instanceof B)\n    handleB((B)o);\n  else if (o instanceof C)\n    handleC((C)o);\n  else \n    handleUnknown(o);\n</code></pre>\n\n<p>I can't modify the subtypes to override a <code>handle()</code> method, as <a href=\"https://stackoverflow.com/questions/5579309/switch-instanceof/5579385#5579385\">this answer</a> would suggest, because I don't own the classes.  So the <code>instanceof</code> method is all I have.</p>\n\n<p>I'd like to use a <code>switch</code> statement instead of <code>if/else</code>, simply because it's much neater.  I know you can only switch on primitives and Strings, so I'm switching over the class name:</p>\n\n<pre><code>switch(o.getClass().getCanonicalName()){\ncase \"my.package.A\":\n  handleA((A)o);\n  break;\ncase \"my.package.B\":\n  handleB((B)o);\n  break;\ncase \"my.package.C\":\n  handleC((C)o);\n  break;\ndefault:\n  handleUnknown(o);\n  break;\n}\n</code></pre>\n\n<p>The catch here is that the canonical names are VERY long (like 12 subpackages), and I can't call <code>ClassName.class.getCanonicalName()</code> in the case statement because Java doesn't allow that.  So my next solution was an Enum.  This is where I hit my problem.</p>\n\n<p>I'd like my code to look something like this:</p>\n\n<pre><code>public enum Classes {\n  A (A.getCanonicalName()),\n  B (B.getCanonicalName()),\n  C (C.getCanonicalName());\n}\n\nswitch (o.getClass().getCanonicalName()){\ncase Classes.A:\n  handleA((A)o);\n  break;\ncase Classes.B:\n  handleB((B)o);\n  break;\ncase Classes.C:\n  handleC((C)o);\n  break;\ndefault:\n  handleUnknown(o);\n  break;\n}\n</code></pre>\n\n<p>But this doesn't compile.  I'm not sure why.  I'd like some approach that allows me to switch over the type without having to type out the entire canonical name.  If I do that, I might as well just use <code>if/else</code> and <code>instanceof</code>.</p>\n\n<p><strong>NOTE</strong> There are a couple of types that have the same name (inner classes), so <code>getSimpleName()</code> is out.</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":3,"creation_date":1648974010,"post_id":71724138,"comment_id":126754711,"body_markdown":"And what&#39;s the advantage then? Then you either declare every variable refering to a value as `Object` or need to check the type again.","body":"And what&#39;s the advantage then? Then you either declare every variable refering to a value as <code>Object</code> or need to check the type again."},{"owner":{"account_id":12215167,"reputation":412,"user_id":8915836,"display_name":"mayamar"},"score":0,"creation_date":1648974201,"post_id":71724138,"comment_id":126754739,"body_markdown":"You can use a for-loop to go over the entries or the keys of the map and decide for each how to convert.","body":"You can use a for-loop to go over the entries or the keys of the map and decide for each how to convert."},{"owner":{"account_id":1324646,"reputation":1,"user_id":1269765,"display_name":"Sumit Gaur"},"score":0,"creation_date":1648975637,"post_id":71724138,"comment_id":126754969,"body_markdown":"@mayamar how would we decide the data type to which I need to convert.  Is it like try to convert if exception is there and try other","body":"@mayamar how would we decide the data type to which I need to convert.  Is it like try to convert if exception is there and try other"},{"owner":{"account_id":1324646,"reputation":1,"user_id":1269765,"display_name":"Sumit Gaur"},"score":0,"creation_date":1648998084,"post_id":71724138,"comment_id":126759408,"body_markdown":"@user16320675 can you pls put a code snippet","body":"@user16320675 can you pls put a code snippet"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649011228,"creation_date":1649011228,"answer_id":71728875,"question_id":71724138,"body_markdown":"How about the following?\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Object&gt; target = new HashMap&lt;&gt;();\r\n        Map&lt;String, String&gt; source = Map.of(&quot;a&quot;, &quot;12&quot;, &quot;b&quot;, &quot;C&quot;);\r\n        Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iter = source.entrySet().iterator();\r\n        while (iter.hasNext()) {\r\n            Map.Entry&lt;String, String&gt; entry = iter.next();\r\n            String key = entry.getKey();\r\n            String val = entry.getValue();\r\n            Object obj;\r\n            try {\r\n                obj = Long.valueOf(val);\r\n            }\r\n            catch (NumberFormatException x0) {\r\n                try {\r\n                    obj = Double.valueOf(val);\r\n                }\r\n                catch (NumberFormatException x1) {\r\n                    if (val.length() == 1) {\r\n                        char c = val.charAt(0);\r\n                        if (Character.isDefined(c)) {\r\n                            obj = Character.valueOf(c);\r\n                        }\r\n                        else {\r\n                            obj = null;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (&quot;true&quot;.equalsIgnoreCase(val)) {\r\n                            obj = Boolean.TRUE;\r\n                        }\r\n                        else if (&quot;false&quot;.equalsIgnoreCase(val)) {\r\n                            obj = Boolean.FALSE;\r\n                        }\r\n                        else {\r\n                            obj = null;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (obj != null) {\r\n                target.put(key, obj);\r\n            }\r\n        }\r\n        target.entrySet().forEach(entry -&gt; System.out.printf(&quot;%s = %s [%s]%n&quot;,\r\n                                                             entry.getKey(),\r\n                                                             entry.getValue(),\r\n                                                             entry.getValue().getClass()));\r\n    }\r\n}\r\n```\r\nRunning above code produces following output:\r\n```none\r\na = 12.0 [class java.lang.Long]\r\nb = C [class java.lang.Character]\r\n```\r\n","title":"How can I recursively convert map&lt;string, string&gt; to map&lt;string, object&gt;","body":"<p>How about the following?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Map&lt;String, Object&gt; target = new HashMap&lt;&gt;();\n        Map&lt;String, String&gt; source = Map.of(&quot;a&quot;, &quot;12&quot;, &quot;b&quot;, &quot;C&quot;);\n        Iterator&lt;Map.Entry&lt;String, String&gt;&gt; iter = source.entrySet().iterator();\n        while (iter.hasNext()) {\n            Map.Entry&lt;String, String&gt; entry = iter.next();\n            String key = entry.getKey();\n            String val = entry.getValue();\n            Object obj;\n            try {\n                obj = Long.valueOf(val);\n            }\n            catch (NumberFormatException x0) {\n                try {\n                    obj = Double.valueOf(val);\n                }\n                catch (NumberFormatException x1) {\n                    if (val.length() == 1) {\n                        char c = val.charAt(0);\n                        if (Character.isDefined(c)) {\n                            obj = Character.valueOf(c);\n                        }\n                        else {\n                            obj = null;\n                        }\n                    }\n                    else {\n                        if (&quot;true&quot;.equalsIgnoreCase(val)) {\n                            obj = Boolean.TRUE;\n                        }\n                        else if (&quot;false&quot;.equalsIgnoreCase(val)) {\n                            obj = Boolean.FALSE;\n                        }\n                        else {\n                            obj = null;\n                        }\n                    }\n                }\n            }\n            if (obj != null) {\n                target.put(key, obj);\n            }\n        }\n        target.entrySet().forEach(entry -&gt; System.out.printf(&quot;%s = %s [%s]%n&quot;,\n                                                             entry.getKey(),\n                                                             entry.getValue(),\n                                                             entry.getValue().getClass()));\n    }\n}\n</code></pre>\n<p>Running above code produces following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>a = 12.0 [class java.lang.Long]\nb = C [class java.lang.Character]\n</code></pre>\n"}],"owner":{"account_id":1324646,"reputation":1,"user_id":1269765,"display_name":"Sumit Gaur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649011228,"creation_date":1648973728,"question_id":71724138,"body_markdown":"I have a use case in which I want to convert string to its appropriate Java primitive type.\r\n\r\n`Map&lt;String,String&gt;`. To `Map&lt;String,Object&gt;`\r\n\r\n```\r\n{\r\n“Payload”: {“a”:”12”,”b”:”C”}\r\n}\r\n```\r\nto\r\n```\r\n{\r\n“Payload”: {“a”:12,”b”:”C”}\r\n}\r\n```\r\nI thought of using `parseInt`, `parseBoolean` and others to try catch but not sure about the complete code.\r\n","title":"How can I recursively convert map&lt;string, string&gt; to map&lt;string, object&gt;","body":"<p>I have a use case in which I want to convert string to its appropriate Java primitive type.</p>\n<p><code>Map&lt;String,String&gt;</code>. To <code>Map&lt;String,Object&gt;</code></p>\n<pre><code>{\n“Payload”: {“a”:”12”,”b”:”C”}\n}\n</code></pre>\n<p>to</p>\n<pre><code>{\n“Payload”: {“a”:12,”b”:”C”}\n}\n</code></pre>\n<p>I thought of using <code>parseInt</code>, <code>parseBoolean</code> and others to try catch but not sure about the complete code.</p>\n"},{"tags":["java","while-loop","timer"],"comments":[{"owner":{"account_id":367829,"reputation":142,"user_id":714258,"accept_rate":82,"display_name":"branco"},"score":0,"creation_date":1649006677,"post_id":71728282,"comment_id":126761388,"body_markdown":"This isn&#39;t an algorithm question. Please remove the algorithm tag.","body":"This isn&#39;t an algorithm question. Please remove the algorithm tag."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1649006786,"post_id":71728282,"comment_id":126761410,"body_markdown":"`while (something) { do it once; wait 10 secs; }`  or depending on what you precisely want, wait 10 secs less the time taken to do it once.","body":"<code>while (something) { do it once; wait 10 secs; }</code>  or depending on what you precisely want, wait 10 secs less the time taken to do it once."},{"owner":{"account_id":24765622,"reputation":1118,"user_id":18649495,"display_name":"Fed_Dragon"},"score":0,"creation_date":1649006934,"post_id":71728282,"comment_id":126761440,"body_markdown":"Use `Thread.sleep(10000)`?","body":"Use <code>Thread.sleep(10000)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":18019410,"reputation":353,"user_id":13097065,"display_name":"Mr5he11"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649010294,"creation_date":1649007253,"answer_id":71728368,"question_id":71728282,"body_markdown":"To pause the code execution into a java loop you can use `Thread.sleep(Integer)` method, that will stop the execution of the thread for the specified amount of milliseconds. [Here][1] there is an official example with a `for` loop. In your case you could do something like this:\r\n\r\n```{java}\r\nwhile (true) {\r\n  /* your code here */\r\n  Thread.sleep(10000);\r\n}\r\n```\r\nThe body of the `while` loop will be executed once every 10 seconds.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html","title":"Repeat the loop at a specified time","body":"<p>To pause the code execution into a java loop you can use <code>Thread.sleep(Integer)</code> method, that will stop the execution of the thread for the specified amount of milliseconds. <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/sleep.html\" rel=\"nofollow noreferrer\">Here</a> there is an official example with a <code>for</code> loop. In your case you could do something like this:</p>\n<pre><code>while (true) {\n  /* your code here */\n  Thread.sleep(10000);\n}\n</code></pre>\n<p>The body of the <code>while</code> loop will be executed once every 10 seconds.</p>\n"},{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649010893,"creation_date":1649010893,"answer_id":71728824,"question_id":71728282,"body_markdown":"Strictly speaking, you cannot do that. You can make a loop that does something like\r\n\r\n```java\r\nwhile(true){\r\n   ... do your sheet ...\r\n   Thread.sleep(10_000);\r\n   }\r\n```\r\n\r\nBut it will not be precisely every 10 seconds.\r\n\r\nThis solution will likely be okay for you, though.\r\n\r\nWhat you have to consider is the followings:\r\n\r\n* What happens if the `do your sheet` runs for 9 sec? Should you wait 10 sec more or only the remaining 1 sec?\r\n\r\n* What happens if the action takes more than 10sec? Should you repeat it immediately or 10 sec after the start of the action? Should the program start the action again in a different thread? How many threads should the program start?\r\n\r\nAlso, there is no guarantee that the `Thread.sleep(10_000)` will suspend the execution of the current thread for exactly 10 seconds. It may get back from sleep sooner, because of an interrupt/signal. Also the thread may get back from sleep later because there is no free resource to execute the thread right after the 10 sec have passed.\r\n\r\nFor a simple exercise the `while` loop and the `sleep()` are okay. If you later will need something more professional then you can read the documentation, and consider the use of Quartz.\r\n","title":"Repeat the loop at a specified time","body":"<p>Strictly speaking, you cannot do that. You can make a loop that does something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>while(true){\n   ... do your sheet ...\n   Thread.sleep(10_000);\n   }\n</code></pre>\n<p>But it will not be precisely every 10 seconds.</p>\n<p>This solution will likely be okay for you, though.</p>\n<p>What you have to consider is the followings:</p>\n<ul>\n<li><p>What happens if the <code>do your sheet</code> runs for 9 sec? Should you wait 10 sec more or only the remaining 1 sec?</p>\n</li>\n<li><p>What happens if the action takes more than 10sec? Should you repeat it immediately or 10 sec after the start of the action? Should the program start the action again in a different thread? How many threads should the program start?</p>\n</li>\n</ul>\n<p>Also, there is no guarantee that the <code>Thread.sleep(10_000)</code> will suspend the execution of the current thread for exactly 10 seconds. It may get back from sleep sooner, because of an interrupt/signal. Also the thread may get back from sleep later because there is no free resource to execute the thread right after the 10 sec have passed.</p>\n<p>For a simple exercise the <code>while</code> loop and the <code>sleep()</code> are okay. If you later will need something more professional then you can read the documentation, and consider the use of Quartz.</p>\n"}],"owner":{"account_id":24738847,"reputation":3,"user_id":18625859,"display_name":"AryA Derakhshan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71728368,"answer_count":2,"score":0,"last_activity_date":1649010893,"creation_date":1649006627,"question_id":71728282,"body_markdown":"I need a loop to repeat at a specific time\r\n\r\nFor example 10 seconds :\r\n\r\n```\r\nwhile (Repeat every ten seconds)\r\n        {\r\n           // Code body\r\n        }\r\n```","title":"Repeat the loop at a specified time","body":"<p>I need a loop to repeat at a specific time</p>\n<p>For example 10 seconds :</p>\n<pre><code>while (Repeat every ten seconds)\n        {\n           // Code body\n        }\n</code></pre>\n"},{"tags":["java","linux","pip","stdin","fifo"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1649000008,"post_id":71727055,"comment_id":126759847,"body_markdown":"Does this answer your question? [Is a named pipe able to do what i want to do?](https://stackoverflow.com/questions/33093954/is-a-named-pipe-able-to-do-what-i-want-to-do)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33093954/is-a-named-pipe-able-to-do-what-i-want-to-do\">Is a named pipe able to do what i want to do?</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649006801,"post_id":71727055,"comment_id":126761414,"body_markdown":"Shouldn&#39;t that be `java -jar your-service.jar &lt; cmdline`? It might be better to use a socket","body":"Shouldn&#39;t that be <code>java -jar your-service.jar &lt; cmdline</code>? It might be better to use a socket"},{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":0,"creation_date":1649007524,"post_id":71727055,"comment_id":126761588,"body_markdown":"@stark - Unfortunately this is a precompiled application, and I do not have access to the source - this is the reason I am trying to do it in this way.","body":"@stark - Unfortunately this is a precompiled application, and I do not have access to the source - this is the reason I am trying to do it in this way."},{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":0,"creation_date":1649007966,"post_id":71727055,"comment_id":126761711,"body_markdown":"@g00se - I tried this method, and bash seems to never even run the _java_ binary, it just hangs on the fifo?","body":"@g00se - I tried this method, and bash seems to never even run the <i>java</i> binary, it just hangs on the fifo?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649011920,"post_id":71727055,"comment_id":126762646,"body_markdown":"What makes you think java is not invoked? The Java class will read the fifo or block if there&#39;s nothing to read","body":"What makes you think java is not invoked? The Java class will read the fifo or block if there&#39;s nothing to read"},{"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"score":0,"creation_date":1649012843,"post_id":71727055,"comment_id":126762830,"body_markdown":"@g00se With multiple terminals to the same server, when running the command as described in one terminal, the command just hangs forever and I never see the java process start using the other terminal.","body":"@g00se With multiple terminals to the same server, when running the command as described in one terminal, the command just hangs forever and I never see the java process start using the other terminal."}],"answers":[{"tags":[],"owner":{"account_id":2435703,"reputation":21468,"user_id":2125671,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649010841,"creation_date":1649010841,"answer_id":71728818,"question_id":71727055,"body_markdown":"Can you try :\r\n\r\n```\r\ntail -f cmdline | /opt/jdk-18/bin/java ...\r\n```","title":"Using a fifo as stdin to a process","body":"<p>Can you try :</p>\n<pre><code>tail -f cmdline | /opt/jdk-18/bin/java ...\n</code></pre>\n"}],"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649010841,"creation_date":1648998047,"question_id":71727055,"body_markdown":"How can I use a _fifo_ to redirect _stdin_ for a process?\r\n\r\nUsing systemd, I am starting a service that will infrequently require commands to be sent via _stdin_. To overcome this, I have tried the following:\r\n\r\n```\r\nmkfifo -m 600 cmdline\r\n/usr/bin/cat cmdline | /opt/jdk-18/bin/java ...\r\n```\r\n\r\nI am able to run a command using the following.\r\n\r\n```\r\necho -e &quot;this_is_a_command\\n&quot; &gt; cmdline\r\n```\r\n\r\nThe problem I am having is that this only seems to work for a single command. After running this command once, all other calls to write into the fifo seem to just hang, and the server never process anything else.\r\n\r\nHow can I use a _fifo_ to redirect input to stdin of a daemon process?\r\n","title":"Using a fifo as stdin to a process","body":"<p>How can I use a <em>fifo</em> to redirect <em>stdin</em> for a process?</p>\n<p>Using systemd, I am starting a service that will infrequently require commands to be sent via <em>stdin</em>. To overcome this, I have tried the following:</p>\n<pre><code>mkfifo -m 600 cmdline\n/usr/bin/cat cmdline | /opt/jdk-18/bin/java ...\n</code></pre>\n<p>I am able to run a command using the following.</p>\n<pre><code>echo -e &quot;this_is_a_command\\n&quot; &gt; cmdline\n</code></pre>\n<p>The problem I am having is that this only seems to work for a single command. After running this command once, all other calls to write into the fifo seem to just hang, and the server never process anything else.</p>\n<p>How can I use a <em>fifo</em> to redirect input to stdin of a daemon process?</p>\n"},{"tags":["java","mysql","sql","jdbc"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1571208011,"post_id":58407115,"comment_id":103158387,"body_markdown":"You need to point out exactly where the problem(s) is in your code.  We can&#39;t easily look at this question and guess what is broken.","body":"You need to point out exactly where the problem(s) is in your code.  We can&#39;t easily look at this question and guess what is broken."},{"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"score":0,"creation_date":1571208144,"post_id":58407115,"comment_id":103158449,"body_markdown":"@TimBiegeleisen My big problem is that I don&#39;t find a way how to skip n rows in a database with a java program.","body":"@TimBiegeleisen My big problem is that I don&#39;t find a way how to skip n rows in a database with a java program."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1571208157,"post_id":58407115,"comment_id":103158456,"body_markdown":"Why are you using a db procedure to move files anyway? Wouldn&#39;t a proper plain SQL query be enough? Skipping n rows could normally done via some form of offset but that&#39;s a strange design. I&#39;d mark the rows that have been handled already and ignore them in the next run (filter them).","body":"Why are you using a db procedure to move files anyway? Wouldn&#39;t a proper plain SQL query be enough? Skipping n rows could normally done via some form of offset but that&#39;s a strange design. I&#39;d mark the rows that have been handled already and ignore them in the next run (filter them)."},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1571208177,"post_id":58407115,"comment_id":103158466,"body_markdown":"Skip rows where?  In a file?  In a database table?  Something else?","body":"Skip rows where?  In a file?  In a database table?  Something else?"},{"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"score":0,"creation_date":1571208323,"post_id":58407115,"comment_id":103158547,"body_markdown":"@TimBiegeleisen In a database table. So I have a database with a table with ca. 100000 rows. In the table there are the paths of 100.000 files and those 100.000 shall be moved. So the paths shall be changed to the new path. And I want to move first 1000 files and then another 1000 and not 100.000 at once. So the user can give the Program an amount of the files that shall be moved. And for example the user says that 1000 files shall be moved. And then the program move 1000 files and then terminates. Then the program shall move 1000 files again, but not the first 1000 because they had been moved","body":"@TimBiegeleisen In a database table. So I have a database with a table with ca. 100000 rows. In the table there are the paths of 100.000 files and those 100.000 shall be moved. So the paths shall be changed to the new path. And I want to move first 1000 files and then another 1000 and not 100.000 at once. So the user can give the Program an amount of the files that shall be moved. And for example the user says that 1000 files shall be moved. And then the program move 1000 files and then terminates. Then the program shall move 1000 files again, but not the first 1000 because they had been moved"},{"owner":{"account_id":14374791,"reputation":743,"user_id":10383493,"display_name":"sovannarith cheav"},"score":1,"creation_date":1571208700,"post_id":58407115,"comment_id":103158716,"body_markdown":"just write raw query `select * from table_name limit x offset y;` -- to skip y rows","body":"just write raw query <code>select * from table_name limit x offset y;</code> -- to skip y rows"},{"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"score":0,"creation_date":1571208703,"post_id":58407115,"comment_id":103158719,"body_markdown":"@Thomas Jeah but I have 100.000 files so I need an application which marks the rows and ignores them. But I cant figure out a way how to let that happen automatically.","body":"@Thomas Jeah but I have 100.000 files so I need an application which marks the rows and ignores them. But I cant figure out a way how to let that happen automatically."},{"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"score":0,"creation_date":1571209109,"post_id":58407115,"comment_id":103158919,"body_markdown":"@sovannarithcheav Thanks a lot, that helped me. I will now try to use this query in java with ````executeQuery();````","body":"@sovannarithcheav Thanks a lot, that helped me. I will now try to use this query in java with <code>executeQuery();</code>"},{"owner":{"account_id":14374791,"reputation":743,"user_id":10383493,"display_name":"sovannarith cheav"},"score":1,"creation_date":1571210384,"post_id":58407115,"comment_id":103159578,"body_markdown":"@DavidKrell Happy to know that :)","body":"@DavidKrell Happy to know that :)"},{"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"score":0,"creation_date":1571210536,"post_id":58407115,"comment_id":103159645,"body_markdown":"@sovannarithcheav If you want to you can write an answer and then I can give it a vote up and can mark it as the answer that solved my problem. Then others can have a solution if they have the same problem and you will gain some reputation points. (;","body":"@sovannarithcheav If you want to you can write an answer and then I can give it a vote up and can mark it as the answer that solved my problem. Then others can have a solution if they have the same problem and you will gain some reputation points. (;"},{"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"score":0,"creation_date":1571211167,"post_id":58407115,"comment_id":103159935,"body_markdown":"@sovannarithcheav I have a new question. How do I combine ````select * from table_name limit x offset y```` with  ````where document_path IS NOT NULL```` ?","body":"@sovannarithcheav I have a new question. How do I combine <code>select * from table_name limit x offset y</code> with  <code>where document_path IS NOT NULL</code> ?"},{"owner":{"account_id":14374791,"reputation":743,"user_id":10383493,"display_name":"sovannarith cheav"},"score":1,"creation_date":1571211327,"post_id":58407115,"comment_id":103160027,"body_markdown":"@DavidKrell yes you can, use like this `select * from table_name where document_path IS NOT NULL limit x offset y `","body":"@DavidKrell yes you can, use like this <code>select * from table_name where document_path IS NOT NULL limit x offset y </code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1571211887,"post_id":58407115,"comment_id":103160286,"body_markdown":"&quot;I need an application which marks the rows and ignores them.&quot; - Well that&#39;s exactly what I mean. You&#39;d basically update the rows to mark those that have been moved already and select only those that havent, e.g. something like `UPDATE test_cm_documents SET path = &quot;some_new_path&quot;` and ignoring would be something like `SELECT * FROM test_cm_documents WHERE path like &#39;/old/base/path/%&#39;` - that way you&#39;d only select documents whose path is still the old one (assuming you can easily distinguish between &quot;old&quot; and &quot;new&quot; paths).","body":"&quot;I need an application which marks the rows and ignores them.&quot; - Well that&#39;s exactly what I mean. You&#39;d basically update the rows to mark those that have been moved already and select only those that havent, e.g. something like <code>UPDATE test_cm_documents SET path = &quot;some_new_path&quot;</code> and ignoring would be something like <code>SELECT * FROM test_cm_documents WHERE path like &#39;&#47;old&#47;base&#47;path&#47;%&#39;</code> - that way you&#39;d only select documents whose path is still the old one (assuming you can easily distinguish between &quot;old&quot; and &quot;new&quot; paths)."}],"answers":[{"tags":[],"owner":{"account_id":16369799,"reputation":1,"user_id":11823312,"display_name":"faisal"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1571210479,"creation_date":1571208508,"answer_id":58407289,"question_id":58407115,"body_markdown":"Use Cte query to skip first 10(n) files and get recent save same row.\r\nfor example\r\n\r\n   UID     GID   MID   \r\n   1        1      1      \r\n   2        1      2      \r\n   3        1      2      \r\n   4        1      2       \r\n   5        2      1      \r\n   6        2      2     \r\n   7        2      2      \r\n   8        2      3      \r\n   9        2      4        \r\n\r\n    with Demo as\r\n    (\r\n    select *, ROW_NUMBER() over (partition by GID, MID order by UID) as ROWNUMBER  from Table1\r\n    )\r\n\r\ncte create a table \r\n\r\n\r\n    UID     GID   MID   ROWNUMBER\r\n    1        1      1      1\r\n    2        1      2      1\r\n    3        1      2      2\r\n    4        1      2      3 \r\n    5        2      1      1\r\n    6        2      2      1\r\n    7        2      2      2\r\n    8        2      3      5\r\n    9        2      4      4\r\n\r\n    select  * from Demo ROWNUMBER  = 1\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to skip the first n rows in a MySQL database with a Java program?","body":"<p>Use Cte query to skip first 10(n) files and get recent save same row.\nfor example</p>\n\n<p>UID     GID   MID<br>\n   1        1      1<br>\n   2        1      2<br>\n   3        1      2<br>\n   4        1      2<br>\n   5        2      1<br>\n   6        2      2<br>\n   7        2      2<br>\n   8        2      3<br>\n   9        2      4        </p>\n\n<pre><code>with Demo as\n(\nselect *, ROW_NUMBER() over (partition by GID, MID order by UID) as ROWNUMBER  from Table1\n)\n</code></pre>\n\n<p>cte create a table </p>\n\n<pre><code>UID     GID   MID   ROWNUMBER\n1        1      1      1\n2        1      2      1\n3        1      2      2\n4        1      2      3 \n5        2      1      1\n6        2      2      1\n7        2      2      2\n8        2      3      5\n9        2      4      4\n\nselect  * from Demo ROWNUMBER  = 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14374791,"reputation":743,"user_id":10383493,"display_name":"sovannarith cheav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1571211226,"creation_date":1571211226,"answer_id":58408086,"question_id":58407115,"body_markdown":"OFFSET is what you are looking for :\r\n\r\n```select * from table_name limit x offset y;``` -- to skip y rows\r\n\r\n\r\nOr use LIMIT with two parameters. For example, to return 30 rows with first 10 rows skipped (will return 11 to 40), use:\r\n\r\n```select * from table_name limit 10, 30;```","title":"How to skip the first n rows in a MySQL database with a Java program?","body":"<p>OFFSET is what you are looking for :</p>\n\n<p><code>select * from table_name limit x offset y;</code> -- to skip y rows</p>\n\n<p>Or use LIMIT with two parameters. For example, to return 30 rows with first 10 rows skipped (will return 11 to 40), use:</p>\n\n<p><code>select * from table_name limit 10, 30;</code></p>\n"}],"owner":{"account_id":14448550,"reputation":230,"user_id":12118403,"display_name":"David Krell"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58408086,"answer_count":2,"score":0,"last_activity_date":1649010671,"creation_date":1571207789,"question_id":58407115,"body_markdown":"I have a problem. I am writing a java application which shall move some files. Because of performance issues the user can select the amount of files that shall be moved. If the file is moved, my database shall be updated with the new paths. I&#39;ve already coded that but my problem now is that it just works for the first, for example, 10 files. Then the application terminates.\r\n\r\nSo until now everything works as expected. Now I want to start the application again and it shall move 10 files again. Now the problem is that it starts again at the top of the database and tries to move the first 10 files, which have been already moved in the first run of my application. So how can I tell my program that it shall skip the first 10(n) files?\r\n\r\nI had the idea of generating a new column to the database with ones and zeros. And every file that has been moved gets a 1 and its set by default to zero. Then the program checks if there is a one or a zero and if there is a one then it just continues with the next row. But I didn&#39;t find a way on how to create a column in a database with java. The next problem is that this column shall be deleted after the run of the application.\r\n\r\nI tried to write a procedure and I found this:\r\n    \r\n    DELIMITER $$\r\n    CREATE PROCEDURE Alter_Table()\r\n    BEGIN\r\n      DECLARE _count INT;\r\n        SET _count =( SELECT COUNT(*)\r\n                  FROM INFORMATION_SCHEMA.COLUMNS\r\n                  WHERE TABLE_NAME = &#39;test_cm_documents&#39; AND\r\n                        COLUMN_NAME=&#39;subscribe_all&#39;);\r\n      IF _count = 0 THEN\r\n\t    ALTER TABLE test_cm_documents\r\n\t    ADD COLUMN subscribe_all TINYINT(1) DEFAULT 1,\r\n            ADD COLUMN subscribe_category varchar(512) DEFAULT NULL;\r\n      END IF;\r\n    END$$\r\n    DELIMITER ;\r\n\r\nIt worked if I pasted it into the MySQL command line but it did not worked when I tried to execute it with a Java program. I also tried to save that as a *.sql file but I can&#39;t execute it from my Java program.\r\n\r\nI have two Java Programs with which I tried to solve my Problems but I got several errors.\r\n\r\n    import java.io.*;\r\n\r\n    public class CmdExec {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tString line;\r\n\t\t\tProcess p = Runtime.getRuntime().exec(\r\n\t\t\t\t\t&quot;mysql -u myuser -p xxxx -d cm_database -h 3306 -f C://Users//****//Desktop//procedure.sql&quot;);\r\n\t\t\tBufferedReader input =\r\n\t\t\t\t\tnew BufferedReader\r\n\t\t\t\t\t\t(new InputStreamReader(p.getInputStream()));\r\n\t\t\twhile ((line = input.readLine()) != null) {\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\t}\r\n\t\t\tinput.close();\r\n\t\t}catch(Exception err) {\r\n\t\t\terr.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nERRORS:\r\n\r\n    java.io.IOException: Cannot run program &quot;mysql&quot;: CreateProcess error=2, \r\n    Das \r\n      System kann die angegebene Datei nicht finden\r\n        at java.lang.ProcessBuilder.start(Unknown Source)\r\n\t    at java.lang.Runtime.exec(Unknown Source)\r\n\t    at java.lang.Runtime.exec(Unknown Source)\r\n\t      at CmdExec.main(CmdExec.java:8)\r\n      Caused by: java.io.IOException: CreateProcess error=2, Das System kann \r\n     die angegebene Datei nicht finden\r\n\tat java.lang.ProcessImpl.create(Native Method)\r\n\tat java.lang.ProcessImpl.&lt;init&gt;(Unknown Source)\r\n\tat java.lang.ProcessImpl.start(Unknown Source)\r\n\t... 5 more\r\n\r\nSecond Java program:\r\n\r\n    import java.sql.*;\r\n\r\n    public class startProcedure {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry(Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/cm_database?allowPublicKeyRetrieval=true&amp;SSL=false&amp;serverTimezone=UTC&quot;,\r\n\t\t\t\t&quot;myuser&quot;,&quot;xxxx&quot;);\r\n\t\t\t\t\r\n\t\t\t\tStatement delimiter = conn.createStatement();){\r\n\t\t\t\r\n\t\t\t\tString delimiterStr = \r\n\t\t\t\t\t\t&quot;CREATE PROCEDURE Alter_Table() &quot;\r\n\t\t\t\t\t\t+ &quot; BEGIN &quot;\r\n\t\t\t\t\t\t+ &quot; DECLARE _count INT; &quot;\r\n\t\t\t\t\t\t+ &quot; SET _count =( SELECT COUNT(*) &quot;\r\n\t\t\t\t\t\t               + &quot; FROM INFORMATION_SCHEMA.COLUMNS &quot;\r\n\t\t\t\t\t\t               + &quot; WHERE TABLE_NAME=&#39;test_cm_documents&#39; AND &quot;\r\n\t\t\t\t\t\t                      + &quot; COLUMN_NAME=&#39;subscribe_all&#39;); &quot;\r\n\t\t\t\t\t\t+ &quot; IF _count = 0 THEN &quot;\r\n\t\t\t\t\t\t    + &quot; ALTER TABLE test_cm_documents&quot;\r\n\t\t\t\t\t\t       + &quot; ADD COLUMN subscribe_all TINYINT(1) DEFAULT 1,&quot;\r\n\t\t\t\t\t\t       + &quot; ADD COLUMN subscribe_category varchar(512) DEFAULT NULL &quot;\r\n\t\t\t\t\t\t       + &quot; END IF; &quot;\r\n\t\t\t\t\t\t+ &quot; END; &quot;\r\n\t\t\t\t\t\t;\r\n\t\t\t\t\r\n\t\t\t\tdelimiter.executeUpdate(delimiterStr);\r\n\t\t}catch(SQLException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n     \r\n        }\r\n       \r\nI get following error: You have an error in your SQL Statement.\r\n\r\nMaybe someone can help me, because I am quite new to the topic. Excellent will be an application which will just skip n rows. I thinks this will be the most easy solution.","title":"How to skip the first n rows in a MySQL database with a Java program?","body":"<p>I have a problem. I am writing a java application which shall move some files. Because of performance issues the user can select the amount of files that shall be moved. If the file is moved, my database shall be updated with the new paths. I've already coded that but my problem now is that it just works for the first, for example, 10 files. Then the application terminates.</p>\n<p>So until now everything works as expected. Now I want to start the application again and it shall move 10 files again. Now the problem is that it starts again at the top of the database and tries to move the first 10 files, which have been already moved in the first run of my application. So how can I tell my program that it shall skip the first 10(n) files?</p>\n<p>I had the idea of generating a new column to the database with ones and zeros. And every file that has been moved gets a 1 and its set by default to zero. Then the program checks if there is a one or a zero and if there is a one then it just continues with the next row. But I didn't find a way on how to create a column in a database with java. The next problem is that this column shall be deleted after the run of the application.</p>\n<p>I tried to write a procedure and I found this:</p>\n<pre><code>DELIMITER $$\nCREATE PROCEDURE Alter_Table()\nBEGIN\n  DECLARE _count INT;\n    SET _count =( SELECT COUNT(*)\n              FROM INFORMATION_SCHEMA.COLUMNS\n              WHERE TABLE_NAME = 'test_cm_documents' AND\n                    COLUMN_NAME='subscribe_all');\n  IF _count = 0 THEN\n    ALTER TABLE test_cm_documents\n    ADD COLUMN subscribe_all TINYINT(1) DEFAULT 1,\n        ADD COLUMN subscribe_category varchar(512) DEFAULT NULL;\n  END IF;\nEND$$\nDELIMITER ;\n</code></pre>\n<p>It worked if I pasted it into the MySQL command line but it did not worked when I tried to execute it with a Java program. I also tried to save that as a *.sql file but I can't execute it from my Java program.</p>\n<p>I have two Java Programs with which I tried to solve my Problems but I got several errors.</p>\n<pre><code>import java.io.*;\n\npublic class CmdExec {\n\npublic static void main(String[] args) {\n    try {\n        String line;\n        Process p = Runtime.getRuntime().exec(\n                &quot;mysql -u myuser -p xxxx -d cm_database -h 3306 -f C://Users//****//Desktop//procedure.sql&quot;);\n        BufferedReader input =\n                new BufferedReader\n                    (new InputStreamReader(p.getInputStream()));\n        while ((line = input.readLine()) != null) {\n            System.out.println(line);\n        }\n        input.close();\n    }catch(Exception err) {\n        err.printStackTrace();\n    }\n}\n\n}\n</code></pre>\n<p>ERRORS:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;mysql&quot;: CreateProcess error=2, \nDas \n  System kann die angegebene Datei nicht finden\n    at java.lang.ProcessBuilder.start(Unknown Source)\n    at java.lang.Runtime.exec(Unknown Source)\n    at java.lang.Runtime.exec(Unknown Source)\n      at CmdExec.main(CmdExec.java:8)\n  Caused by: java.io.IOException: CreateProcess error=2, Das System kann \n die angegebene Datei nicht finden\nat java.lang.ProcessImpl.create(Native Method)\nat java.lang.ProcessImpl.&lt;init&gt;(Unknown Source)\nat java.lang.ProcessImpl.start(Unknown Source)\n... 5 more\n</code></pre>\n<p>Second Java program:</p>\n<pre><code>import java.sql.*;\n\npublic class startProcedure {\n\npublic static void main(String[] args) {\n    try(Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/cm_database?allowPublicKeyRetrieval=true&amp;SSL=false&amp;serverTimezone=UTC&quot;,\n            &quot;myuser&quot;,&quot;xxxx&quot;);\n            \n            Statement delimiter = conn.createStatement();){\n        \n            String delimiterStr = \n                    &quot;CREATE PROCEDURE Alter_Table() &quot;\n                    + &quot; BEGIN &quot;\n                    + &quot; DECLARE _count INT; &quot;\n                    + &quot; SET _count =( SELECT COUNT(*) &quot;\n                                   + &quot; FROM INFORMATION_SCHEMA.COLUMNS &quot;\n                                   + &quot; WHERE TABLE_NAME='test_cm_documents' AND &quot;\n                                          + &quot; COLUMN_NAME='subscribe_all'); &quot;\n                    + &quot; IF _count = 0 THEN &quot;\n                        + &quot; ALTER TABLE test_cm_documents&quot;\n                           + &quot; ADD COLUMN subscribe_all TINYINT(1) DEFAULT 1,&quot;\n                           + &quot; ADD COLUMN subscribe_category varchar(512) DEFAULT NULL &quot;\n                           + &quot; END IF; &quot;\n                    + &quot; END; &quot;\n                    ;\n            \n            delimiter.executeUpdate(delimiterStr);\n    }catch(SQLException ex) {\n        ex.printStackTrace();\n    }\n    \n    \n}\n \n    }\n   \n</code></pre>\n<p>I get following error: You have an error in your SQL Statement.</p>\n<p>Maybe someone can help me, because I am quite new to the topic. Excellent will be an application which will just skip n rows. I thinks this will be the most easy solution.</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1570760763,"post_id":58333441,"comment_id":103024296,"body_markdown":"You&#39;re not posting enough code, including interfaces to tell, but I&#39;m guessing that it might be the abstract factory pattern (assuming abstract class/interface somewhere)","body":"You&#39;re not posting enough code, including interfaces to tell, but I&#39;m guessing that it might be the abstract factory pattern (assuming abstract class/interface somewhere)"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1570760812,"post_id":58333441,"comment_id":103024306,"body_markdown":"And the class isn&#39;t &quot;returning itself&quot;. It has a static method that creates an instance.","body":"And the class isn&#39;t &quot;returning itself&quot;. It has a static method that creates an instance."}],"answers":[{"tags":[],"owner":{"account_id":14576314,"reputation":26,"user_id":10528082,"display_name":"Mister_Bobinsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570761109,"creation_date":1570761109,"answer_id":58333493,"question_id":58333441,"body_markdown":"# Java Tree Design Pattern\n\nFrom what I can find I believe the design pattern for your code segment is **Composite Design Pattern**.\n\n&quot;Composite design patterns describe groups of objects that can be treated in the same way as a single instance of the same object type. The composite pattern allows us to &quot;compose&quot; objects into tree structures to represent part-whole hierarchies.&quot;","title":"What is the design pattern behind this code in Java?","body":"<h1>Java Tree Design Pattern</h1>\n<p>From what I can find I believe the design pattern for your code segment is <strong>Composite Design Pattern</strong>.</p>\n<p>&quot;Composite design patterns describe groups of objects that can be treated in the same way as a single instance of the same object type. The composite pattern allows us to &quot;compose&quot; objects into tree structures to represent part-whole hierarchies.&quot;</p>\n"},{"tags":[],"owner":{"account_id":2835639,"reputation":589,"user_id":2436314,"display_name":"Dinesh Lomte"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649010294,"creation_date":1593373857,"answer_id":62627531,"question_id":58333441,"body_markdown":"Capturing as to what each pattern does or used for. Work on to validate for appropriate implementation from source with complete code against each of the pattern.\r\n\r\nSource Code: https://github.com/DINESHLOMTE/designpatterns\r\n\r\n***Creational Pattern:*** Defines the best possible ways using which objects can be created or instantiated.\r\n \r\nTypes of Creational Patterns:\r\n-\tFactory Pattern\r\n-\tAbstract Factory Pattern\r\n-\tSingleton Pattern\r\n-\tBuilder Pattern\r\n-\tPrototype Pattern\r\n\r\n------------------------------------------------------------------------------------------\r\n\r\n**Factory Pattern:** Is used in case if there is a base class and n number of derived classes and based upon the data you pass one of the object of the derived class needs to be returned.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Abstract Factory Pattern:** Adds a layer of abstraction higher than the factory pattern, Unlike Factory pattern returns one of the instance of the derived class abstract factory return such a factory which can be further used to process one of the instance of the derived class.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Singleton Pattern:** Enables to have a single instance of a class at the application level.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Builder Pattern:** Enables to build complex objects from simple ones step-by-step, doing so it separates the construction of the complex objects from their representation.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Prototype Pattern:** This implies cloning of the object to avoid creation. If the cost of creating new object is high and creation leads to resource intensive, we clone the object using the Cloneable interface clone() method to do so. Once after cloning two identical objects of the same type will be existing in the memory.\r\n\r\n------------------------------------------------------------------------------------------\r\n***Structural Pattern:*** describes how objects and classes can be combined to form larger structures. It is important to understand the difference between the class and object pattern. Class pattern defines abstraction with the help of inheritance and how they can be used to provide more useful program interfaces, while Object pattern defines how objects can be associated and composed together to form larger and more complex structures.\r\n\r\nTypes of Structural Patterns:\r\n-\tAdapter Pattern\r\n-\tBridge Pattern\r\n-\tComposite Pattern\r\n-\tDecorator Pattern\r\n-\tFa&#231;ade Pattern\r\n-\tFlyweight Pattern\r\n-\tProxy Pattern\r\n\r\n------------------------------------------------------------------------------------------\r\n**Adapter Pattern:** Defines how to make two unrelated interfaces or components work together. The joining between them is called as adapter. This is something like converting the interface of one class into the interface as expected by another client. \r\n\r\nAdapter Pattern can be implemented in two ways, by Inheritance and by Composition\r\n\r\n------------------------------------------------------------------------------------------\r\n**Bridge Pattern:** Enables to separate out the interface from its implementation. Doing so, it gives the flexibility so that both the implementations can vary independently.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Composite Pattern:** During the development of an application we may come across the components having individual objects and also can be collection of objects. Composite pattern enables to deal with this condition/situation. In turn composite pattern enables to develop a tree structure in order to represent part-whole hierarchies.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Decorator Pattern:** Enables to add behavior or responsibilities to an object. This is also called as Wrapper. Suppose we have 6 objects and 2 of them needs a special behavior we can do this with the help of decorator.\r\nDecorator pattern can be used where-ever there is a need to add functionality to a object or group of objects.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Fa&#231;ade Pattern:** Acts as a single point of entry to access the sub system components.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Flyweight Pattern:** Defines a mechanism to avoid the creation of large number of object instances to represent the entire system.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Proxy Pattern:** Enable to create the complex object from the simple one. If the cost of creating the object is expensive and its creation can be postponed till the time it is actually needed, till than a simple object can be used, this simple object is called as proxy representing the complex one.\r\n\r\nTypes of Proxy Design Pattern:\r\n-\t**Remote Proxy:**\r\n\tIs responsible for encoding a request and its arguments and for sending encoded requests to the real subject in a different address space.\r\n\r\n-\t**Virtual Proxy:**\r\n\tIs a place holder for expensive to create object. The real object is created only when it is actually needed means only on the first request of the object.\r\n\r\n-\t**Protection Proxy:**\r\n\tChecks or validates if the caller has the required privileges or permission to perform such request.\r\n\r\n------------------------------------------------------------------------------------------\r\n***Behavioral Pattern:*** Is concerned about interaction between the objects. The interactions between the objects should be such that both the objects are talking to each other but still they are loosely coupled. Loose coupling is the key in n-tier architectures. In this, the implementation and client should be loosely coupled in order to avoid any hard coding and dependencies.\r\n\r\nTypes of Behavioral Patterns\r\n-\tChain of Responsibilities Pattern\r\n-\tCommand Pattern\r\n-\tIterator Pattern\r\n-\tInterpreter Pattern\r\n-\tState Pattern\r\n-\tStrategy Pattern\r\n-\tVisitor Pattern\r\n-\tTemplate Pattern\r\n-\tObserver Pattern\r\n-\tMediator Pattern\r\n-\tMemento Pattern\r\n\r\n------------------------------------------------------------------------------------------\r\n**Chain of Responsibility Pattern:** It decouples the sender of the request to the receiver. The only link between the sender of the request and the receiver is the request sent. Based on the request sent the receiver is picked. This is called as data-driven concept. Most of the behavioral patterns are based on the data driven concepts, data driven concepts enables to have loose coupling.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Command Pattern:** The client sends a request; this request is propagated as a command. The request maps to particular modules. According to the command, a module is invoked.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Iterator Pattern:** Enables to iterate through the collection of elements without need for knowing the underlying implementation.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Interpreter Pattern:** Enables to elevate language, syntax or expressions. This involves implementing an expression interface which tells to interpret a particular context.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Strategy Pattern:** Defines a family of algorithms, encapsulates each one of them and makes them interchangeable. In turn it lets algorithm vary independently from the clients that use them.\r\n\r\n------------------------------------------------------------------------------------------\r\n**State Pattern:** Enables to manage algorithms, relationships and responsibilities between the objects. This is a clean way for an object to partially change its type at runtime.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Visitor Pattern:** Defines a mechanism to separate out an algorithm from the object structure on which it operates. Doing so it provides the ability to add new operations to the existing object structures without modifying those structures.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Template Pattern:** Defines a program skeleton of algorithm in an operation, wherein it defers the implementations of certain steps to derived classes, so that the derived class can provide the implementation without changing the algorithms structure.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Mediator Pattern:** Enables to deal with the complexities that come with coding when number of classes increase. It makes the code more maintainable and promotes loose coupling, such that only one class mediator has the knowledge of all classes while rest of the classes have their responsibilities and they only interact with mediator.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Memento Pattern:** Defines a mechanism or provides an ability to restore an object to its previous state.\r\nMemento pattern is implemented with three objects: the originator, a caretaker and a memento itself. Originator is some object that has the internal state. The caretaker intends to something to the originator but wants to be able to undo the changes. The caretaker first asks the originator for a memento object and then it does whatever it intends to do. To roll back to the state prior to the change it returns the memento object to the originator. The memento object itself is a kind of opaque object, which the caretaker cannot or should not change. When implementing this pattern care should be taken if the originator may change other objects or resources. The memento pattern operates on a single object.\r\n\r\n------------------------------------------------------------------------------------------\r\n**Observer Pattern:** Is used when there is one-to-many relationship between the objects such that if one object is modified its dependent objects are to be notified automatically.\r\n\r\n\r\n  [1]: https://github.com/DINESHLOMTE/designpatterns/tree/main/src/com/dp/creational/factory","title":"What is the design pattern behind this code in Java?","body":"<p>Capturing as to what each pattern does or used for. Work on to validate for appropriate implementation from source with complete code against each of the pattern.</p>\n<p>Source Code: <a href=\"https://github.com/DINESHLOMTE/designpatterns\" rel=\"nofollow noreferrer\">https://github.com/DINESHLOMTE/designpatterns</a></p>\n<p><em><strong>Creational Pattern:</strong></em> Defines the best possible ways using which objects can be created or instantiated.</p>\n<p>Types of Creational Patterns:</p>\n<ul>\n<li>Factory Pattern</li>\n<li>Abstract Factory Pattern</li>\n<li>Singleton Pattern</li>\n<li>Builder Pattern</li>\n<li>Prototype Pattern</li>\n</ul>\n<hr />\n<p><strong>Factory Pattern:</strong> Is used in case if there is a base class and n number of derived classes and based upon the data you pass one of the object of the derived class needs to be returned.</p>\n<hr />\n<p><strong>Abstract Factory Pattern:</strong> Adds a layer of abstraction higher than the factory pattern, Unlike Factory pattern returns one of the instance of the derived class abstract factory return such a factory which can be further used to process one of the instance of the derived class.</p>\n<hr />\n<p><strong>Singleton Pattern:</strong> Enables to have a single instance of a class at the application level.</p>\n<hr />\n<p><strong>Builder Pattern:</strong> Enables to build complex objects from simple ones step-by-step, doing so it separates the construction of the complex objects from their representation.</p>\n<hr />\n<p><strong>Prototype Pattern:</strong> This implies cloning of the object to avoid creation. If the cost of creating new object is high and creation leads to resource intensive, we clone the object using the Cloneable interface clone() method to do so. Once after cloning two identical objects of the same type will be existing in the memory.</p>\n<hr />\n<p><em><strong>Structural Pattern:</strong></em> describes how objects and classes can be combined to form larger structures. It is important to understand the difference between the class and object pattern. Class pattern defines abstraction with the help of inheritance and how they can be used to provide more useful program interfaces, while Object pattern defines how objects can be associated and composed together to form larger and more complex structures.</p>\n<p>Types of Structural Patterns:</p>\n<ul>\n<li>Adapter Pattern</li>\n<li>Bridge Pattern</li>\n<li>Composite Pattern</li>\n<li>Decorator Pattern</li>\n<li>Façade Pattern</li>\n<li>Flyweight Pattern</li>\n<li>Proxy Pattern</li>\n</ul>\n<hr />\n<p><strong>Adapter Pattern:</strong> Defines how to make two unrelated interfaces or components work together. The joining between them is called as adapter. This is something like converting the interface of one class into the interface as expected by another client.</p>\n<p>Adapter Pattern can be implemented in two ways, by Inheritance and by Composition</p>\n<hr />\n<p><strong>Bridge Pattern:</strong> Enables to separate out the interface from its implementation. Doing so, it gives the flexibility so that both the implementations can vary independently.</p>\n<hr />\n<p><strong>Composite Pattern:</strong> During the development of an application we may come across the components having individual objects and also can be collection of objects. Composite pattern enables to deal with this condition/situation. In turn composite pattern enables to develop a tree structure in order to represent part-whole hierarchies.</p>\n<hr />\n<p><strong>Decorator Pattern:</strong> Enables to add behavior or responsibilities to an object. This is also called as Wrapper. Suppose we have 6 objects and 2 of them needs a special behavior we can do this with the help of decorator.\nDecorator pattern can be used where-ever there is a need to add functionality to a object or group of objects.</p>\n<hr />\n<p><strong>Façade Pattern:</strong> Acts as a single point of entry to access the sub system components.</p>\n<hr />\n<p><strong>Flyweight Pattern:</strong> Defines a mechanism to avoid the creation of large number of object instances to represent the entire system.</p>\n<hr />\n<p><strong>Proxy Pattern:</strong> Enable to create the complex object from the simple one. If the cost of creating the object is expensive and its creation can be postponed till the time it is actually needed, till than a simple object can be used, this simple object is called as proxy representing the complex one.</p>\n<p>Types of Proxy Design Pattern:</p>\n<ul>\n<li><p><strong>Remote Proxy:</strong>\nIs responsible for encoding a request and its arguments and for sending encoded requests to the real subject in a different address space.</p>\n</li>\n<li><p><strong>Virtual Proxy:</strong>\nIs a place holder for expensive to create object. The real object is created only when it is actually needed means only on the first request of the object.</p>\n</li>\n<li><p><strong>Protection Proxy:</strong>\nChecks or validates if the caller has the required privileges or permission to perform such request.</p>\n</li>\n</ul>\n<hr />\n<p><em><strong>Behavioral Pattern:</strong></em> Is concerned about interaction between the objects. The interactions between the objects should be such that both the objects are talking to each other but still they are loosely coupled. Loose coupling is the key in n-tier architectures. In this, the implementation and client should be loosely coupled in order to avoid any hard coding and dependencies.</p>\n<p>Types of Behavioral Patterns</p>\n<ul>\n<li>Chain of Responsibilities Pattern</li>\n<li>Command Pattern</li>\n<li>Iterator Pattern</li>\n<li>Interpreter Pattern</li>\n<li>State Pattern</li>\n<li>Strategy Pattern</li>\n<li>Visitor Pattern</li>\n<li>Template Pattern</li>\n<li>Observer Pattern</li>\n<li>Mediator Pattern</li>\n<li>Memento Pattern</li>\n</ul>\n<hr />\n<p><strong>Chain of Responsibility Pattern:</strong> It decouples the sender of the request to the receiver. The only link between the sender of the request and the receiver is the request sent. Based on the request sent the receiver is picked. This is called as data-driven concept. Most of the behavioral patterns are based on the data driven concepts, data driven concepts enables to have loose coupling.</p>\n<hr />\n<p><strong>Command Pattern:</strong> The client sends a request; this request is propagated as a command. The request maps to particular modules. According to the command, a module is invoked.</p>\n<hr />\n<p><strong>Iterator Pattern:</strong> Enables to iterate through the collection of elements without need for knowing the underlying implementation.</p>\n<hr />\n<p><strong>Interpreter Pattern:</strong> Enables to elevate language, syntax or expressions. This involves implementing an expression interface which tells to interpret a particular context.</p>\n<hr />\n<p><strong>Strategy Pattern:</strong> Defines a family of algorithms, encapsulates each one of them and makes them interchangeable. In turn it lets algorithm vary independently from the clients that use them.</p>\n<hr />\n<p><strong>State Pattern:</strong> Enables to manage algorithms, relationships and responsibilities between the objects. This is a clean way for an object to partially change its type at runtime.</p>\n<hr />\n<p><strong>Visitor Pattern:</strong> Defines a mechanism to separate out an algorithm from the object structure on which it operates. Doing so it provides the ability to add new operations to the existing object structures without modifying those structures.</p>\n<hr />\n<p><strong>Template Pattern:</strong> Defines a program skeleton of algorithm in an operation, wherein it defers the implementations of certain steps to derived classes, so that the derived class can provide the implementation without changing the algorithms structure.</p>\n<hr />\n<p><strong>Mediator Pattern:</strong> Enables to deal with the complexities that come with coding when number of classes increase. It makes the code more maintainable and promotes loose coupling, such that only one class mediator has the knowledge of all classes while rest of the classes have their responsibilities and they only interact with mediator.</p>\n<hr />\n<p><strong>Memento Pattern:</strong> Defines a mechanism or provides an ability to restore an object to its previous state.\nMemento pattern is implemented with three objects: the originator, a caretaker and a memento itself. Originator is some object that has the internal state. The caretaker intends to something to the originator but wants to be able to undo the changes. The caretaker first asks the originator for a memento object and then it does whatever it intends to do. To roll back to the state prior to the change it returns the memento object to the originator. The memento object itself is a kind of opaque object, which the caretaker cannot or should not change. When implementing this pattern care should be taken if the originator may change other objects or resources. The memento pattern operates on a single object.</p>\n<hr />\n<p><strong>Observer Pattern:</strong> Is used when there is one-to-many relationship between the objects such that if one object is modified its dependent objects are to be notified automatically.</p>\n"}],"owner":{"account_id":16694005,"reputation":1,"user_id":12065774,"display_name":"tafa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1649010294,"creation_date":1570760658,"question_id":58333441,"body_markdown":"why are there classes, my question is not with the specifics but the design pattern. What design pattern is this? Why is the class returning itself?\r\n\r\n    public class Baseline implements PTSD\r\n    {\r\n    \r\n      public static class BaselinePTSDFactory implements PTSDFactory {\r\n    \r\n        public Parser getParser(List&lt;Tree&lt;String&gt;&gt; trainBees) {\r\n          return new BaselinePTSD(trainBees);\r\n        }\r\n      }\r\n    \r\n     // .... Many Functions and Data Structures\r\n    \r\n    }\r\n\r\n","title":"What is the design pattern behind this code in Java?","body":"<p>why are there classes, my question is not with the specifics but the design pattern. What design pattern is this? Why is the class returning itself?</p>\n\n<pre><code>public class Baseline implements PTSD\n{\n\n  public static class BaselinePTSDFactory implements PTSDFactory {\n\n    public Parser getParser(List&lt;Tree&lt;String&gt;&gt; trainBees) {\n      return new BaselinePTSD(trainBees);\n    }\n  }\n\n // .... Many Functions and Data Structures\n\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","swiperefreshlayout"],"answers":[{"tags":[],"owner":{"account_id":24162711,"reputation":174,"user_id":18126001,"display_name":"Abhishek Bansal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648743673,"creation_date":1648743673,"answer_id":71696010,"question_id":71695566,"body_markdown":"Inside on refresh clear the list or use set to keep unique elements, set will take less time complexity however for non primitive datatype you need to use comparable or comparator interface, LinkedHashSet maintains insertion order of elements. i.e elements are placed as they are inserted.","title":"Swipe to Refresh Layout android","body":"<p>Inside on refresh clear the list or use set to keep unique elements, set will take less time complexity however for non primitive datatype you need to use comparable or comparator interface, LinkedHashSet maintains insertion order of elements. i.e elements are placed as they are inserted.</p>\n"}],"owner":{"account_id":23533539,"reputation":55,"user_id":17917893,"display_name":"Mikael David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71696010,"answer_count":1,"score":0,"last_activity_date":1649010276,"creation_date":1648741629,"question_id":71695566,"body_markdown":"So I&#39;ve implemented swipeRefresh Layout in my app but when I refresh it duplicates my items... so this is my xlm code\r\n```\r\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:id=&quot;@+id/swiperefresh&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_above=&quot;@id/ad_banner_container&quot;\r\n        android:layout_below=&quot;@id/tabs&quot;&gt;\r\n\r\n        &lt;androidx.viewpager.widget.ViewPager\r\n            android:id=&quot;@+id/viewpager_fragments&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;/androidx.viewpager.widget.ViewPager&gt;\r\n\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n```\r\nand above my java code\r\n```\r\nSwipeRefreshLayout swipeRefreshLayout = (SwipeRefreshLayout)findViewById(R.id.swiperefresh);\r\n\r\n        swipeRefreshLayout.setOnRefreshListener(\r\n                new SwipeRefreshLayout.OnRefreshListener() {\r\n                    @Override\r\n                    public void onRefresh() {\r\n                        loadFragments();\r\n                        // This line is important as it explicitly\r\n                        // refreshes only once\r\n                        // If &quot;true&quot; it implicitly refreshes forever\r\n                        swipeRefreshLayout.setRefreshing(false);\r\n                    }\r\n                }\r\n\r\n        );\r\n```\r\nand so the fragments load here\r\n```\r\nprivate void loadFragments(){\r\n        fragmentAdapter = new FragmentAdapter(getSupportFragmentManager());\r\n        vp_fragments.setAdapter(fragmentAdapter);\r\n        tabLayout.setupWithViewPager(vp_fragments);\r\n```","title":"Swipe to Refresh Layout android","body":"<p>So I've implemented swipeRefresh Layout in my app but when I refresh it duplicates my items... so this is my xlm code</p>\n<pre><code>&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n        android:id=&quot;@+id/swiperefresh&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_above=&quot;@id/ad_banner_container&quot;\n        android:layout_below=&quot;@id/tabs&quot;&gt;\n\n        &lt;androidx.viewpager.widget.ViewPager\n            android:id=&quot;@+id/viewpager_fragments&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;/androidx.viewpager.widget.ViewPager&gt;\n\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n<p>and above my java code</p>\n<pre><code>SwipeRefreshLayout swipeRefreshLayout = (SwipeRefreshLayout)findViewById(R.id.swiperefresh);\n\n        swipeRefreshLayout.setOnRefreshListener(\n                new SwipeRefreshLayout.OnRefreshListener() {\n                    @Override\n                    public void onRefresh() {\n                        loadFragments();\n                        // This line is important as it explicitly\n                        // refreshes only once\n                        // If &quot;true&quot; it implicitly refreshes forever\n                        swipeRefreshLayout.setRefreshing(false);\n                    }\n                }\n\n        );\n</code></pre>\n<p>and so the fragments load here</p>\n<pre><code>private void loadFragments(){\n        fragmentAdapter = new FragmentAdapter(getSupportFragmentManager());\n        vp_fragments.setAdapter(fragmentAdapter);\n        tabLayout.setupWithViewPager(vp_fragments);\n</code></pre>\n"},{"tags":["java","optimization"],"comments":[{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1648999535,"post_id":71727249,"comment_id":126759728,"body_markdown":"Take a look at the population of the rabbits as your simulation is being executed. I would guess that there might be an exponential increase, which leads to too many rabbits for the simulation to handle.","body":"Take a look at the population of the rabbits as your simulation is being executed. I would guess that there might be an exponential increase, which leads to too many rabbits for the simulation to handle."},{"owner":{"account_id":14816808,"reputation":11,"user_id":10700528,"display_name":"Med ali Damergi ReTr0"},"score":0,"creation_date":1649000699,"post_id":71727249,"comment_id":126760006,"body_markdown":"what can I do to handle that please ? because the numbers are correct and except delete the dead I don&#39;t know what to do.","body":"what can I do to handle that please ? because the numbers are correct and except delete the dead I don&#39;t know what to do."},{"owner":{"account_id":14816808,"reputation":11,"user_id":10700528,"display_name":"Med ali Damergi ReTr0"},"score":0,"creation_date":1649000799,"post_id":71727249,"comment_id":126760034,"body_markdown":"may i can change for an array instead of a list ??","body":"may i can change for an array instead of a list ??"},{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1649001892,"post_id":71727249,"comment_id":126760271,"body_markdown":"Can you post the numbers? I don&#39;t think changing the ArrayList to a dynamic array will help.","body":"Can you post the numbers? I don&#39;t think changing the ArrayList to a dynamic array will help."},{"owner":{"account_id":14816808,"reputation":11,"user_id":10700528,"display_name":"Med ali Damergi ReTr0"},"score":0,"creation_date":1649003920,"post_id":71727249,"comment_id":126760732,"body_markdown":"I added the rabbit class and a test with 5 years\nthank you","body":"I added the rabbit class and a test with 5 years thank you"},{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1649005048,"post_id":71727249,"comment_id":126761018,"body_markdown":"Can you post what MTRandom is?\nI was hoping to be able to run the code.\nAlso, is `Rabbits.get(k).dead();` supposed to be `Rabbits.get(k).kill();`","body":"Can you post what MTRandom is? I was hoping to be able to run the code. Also, is <code>Rabbits.get(k).dead();</code> supposed to be <code>Rabbits.get(k).kill();</code>"},{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1649005531,"post_id":71727249,"comment_id":126761134,"body_markdown":"You never `break;` in you switch statement in `setChanceSurvie()`. Try adding a break after every case.","body":"You never <code>break;</code> in you switch statement in <code>setChanceSurvie()</code>. Try adding a break after every case."},{"owner":{"account_id":14816808,"reputation":11,"user_id":10700528,"display_name":"Med ali Damergi ReTr0"},"score":0,"creation_date":1649006090,"post_id":71727249,"comment_id":126761246,"body_markdown":"i aded the MT class meanwhile I&#39;ll check the cases","body":"i aded the MT class meanwhile I&#39;ll check the cases"},{"owner":{"account_id":14816808,"reputation":11,"user_id":10700528,"display_name":"Med ali Damergi ReTr0"},"score":0,"creation_date":1649006171,"post_id":71727249,"comment_id":126761262,"body_markdown":"yes I changed dead() to kill() after posting but it&#39;s correct in my version thanks","body":"yes I changed dead() to kill() after posting but it&#39;s correct in my version thanks"},{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1649007787,"post_id":71727249,"comment_id":126761659,"body_markdown":"I tried this code, but didn&#39;t get the output that you got:\n`Nombre de lapins males ?\n10\nNombre de lapins femelles ?\n10\nNombre d&#39;ann&#233;e que va durer la simu ?\n10\nAu mois 0 de l&#39;annee 0 nous avons 65\nAu mois 1 de l&#39;annee 0 nous avons 0\nAu mois 2 de l&#39;annee 0 nous avons 0\nAu mois 3 de l&#39;annee 0 nous avons 0\nAu mois 4 de l&#39;annee 0 nous avons 0\n...\n Apres une simulation de 10 nous avons :\n    une population de 0\n        dont 0 lapins males\n        et 0 lapin femelles`","body":"I tried this code, but didn&#39;t get the output that you got: <code>Nombre de lapins males ? 10 Nombre de lapins femelles ? 10 Nombre d&#39;ann&#233;e que va durer la simu ? 10 Au mois 0 de l&#39;annee 0 nous avons 65 Au mois 1 de l&#39;annee 0 nous avons 0 Au mois 2 de l&#39;annee 0 nous avons 0 Au mois 3 de l&#39;annee 0 nous avons 0 Au mois 4 de l&#39;annee 0 nous avons 0 ...  Apres une simulation de 10 nous avons :     une population de 0         dont 0 lapins males         et 0 lapin femelles</code>"},{"owner":{"account_id":14816808,"reputation":11,"user_id":10700528,"display_name":"Med ali Damergi ReTr0"},"score":0,"creation_date":1649009701,"post_id":71727249,"comment_id":126762172,"body_markdown":"I think It’s normal because of the pseudo random number generator","body":"I think It’s normal because of the pseudo random number generator"},{"owner":{"account_id":14816808,"reputation":11,"user_id":10700528,"display_name":"Med ali Damergi ReTr0"},"score":0,"creation_date":1649010231,"post_id":71727249,"comment_id":126762282,"body_markdown":"I changed the main it will work now it works for me but it&#39;s always too slow","body":"I changed the main it will work now it works for me but it&#39;s always too slow"}],"owner":{"account_id":14816808,"reputation":11,"user_id":10700528,"display_name":"Med ali Damergi ReTr0"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649010188,"creation_date":1648999233,"question_id":71727249,"body_markdown":"hello i&#39;m starting with java and i have to make a simulation of a rabbit population on 20 years and i barely passed the sixth year, can anyone help me please to optimize my program ?\r\n\r\nit&#39;s in French but the first loop is for the months then I&#39;ll grow my rabbits and remove the dead ones \r\n\r\nthe next for the new born babies\r\n\r\nif you need more details about the rabbit class tell me.\r\n\r\n Ps i&#39;ve already deleted a for loop.\r\n\r\nthanks\r\n\r\n```java\r\npackage com.company;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        MTRandom MT = new MTRandom();\r\n        int nbMales;\r\n        int nbFemales;\r\n        int nbAnnee;\r\n\r\n        int[] init = {0x123, 0x234, 0x345, 0x456};\r\n        MT.setSeed(init);\r\n\r\n        //Bloc d&#39;entr&#233;e\r\n        ArrayList&lt;Rabbit&gt; Rabbits = new ArrayList&lt;&gt;();//changer pour linked ?\r\n\r\n        System.out.println(&quot;Nombre de lapins males ?&quot;); //creation males\r\n        nbMales = input.nextInt();\r\n\r\n\r\n        System.out.println(&quot;Nombre de lapins femelles ?&quot;);// creation femelles\r\n        nbFemales = input.nextInt();\r\n\r\n        System.out.println(&quot;Nombre d&#39;ann&#233;e que va durer la simu ?&quot;);\r\n        nbAnnee = input.nextInt();\r\n\r\n        //for (int j = 0; j &lt; 10; j++) {\r\n            //Rabbits.clear();\r\n            for (int i = 0; i &lt; nbMales; i++) {\r\n                Rabbits.add(new Rabbit(&#39;m&#39;, 12, true));\r\n            }\r\n            for (int i = 0; i &lt; nbFemales; i++) {\r\n                Rabbits.add(new Rabbit(&#39;f&#39;, 12, true));\r\n            }\r\n\r\n\r\n            //Bloc Principale\r\n            for (int i = 1; i &lt;= nbAnnee * 12; i++) { // Defilement des Mois\r\n                for (int k = 0; k &lt; Rabbits.size(); k++) {\r\n                    Rabbits.get(k).setAge(); // incrementation de l&#39;age des lapins en mois\r\n                    Rabbits.removeIf(rabbit -&gt; !rabbit.isAlive);\r\n                    Rabbits.trimToSize();\r\n                }\r\n                for (int k = 0; k &lt; Rabbits.size(); k++) { // boucle pour les projenitures\r\n                    if (Rabbits.get(k).sexe == &#39;f&#39; &amp;&amp; Rabbits.get(k).isActiveSex &amp;&amp; Rabbits.get(k).nbPortee &gt; 0) {\r\n                            double y = MT.nextDouble();\r\n\r\n                            int n = 0;\r\n                            if (y &lt;= 0.3) {\r\n                                n = 4;\r\n                            }\r\n                            if (y &gt; 0.3 &amp;&amp; y &lt;= 0.5) {\r\n                                n = 3;\r\n                            }\r\n                            if (y &gt; 0.5 &amp;&amp; y &lt;= 0.7) {\r\n                                n = 5;\r\n                            }\r\n                            if (y &gt; 0.7 &amp;&amp; y &lt;= 0.85) {\r\n                                n = 2;\r\n                            }\r\n                            if (y &gt; 0.85) {\r\n                                n = 6;\r\n                            }\r\n\r\n                            for (int l = 0; l &lt; n; l++) {\r\n\r\n                                double x = MT.nextDouble();\r\n                                if (x &lt;= 0.5) {\r\n\r\n                                    Rabbits.add(new Rabbit(&#39;m&#39;, 0, false));\r\n                                    Rabbits.get(k).setPortee();\r\n                                } else if (x &gt; 0.5) {\r\n\r\n                                    Rabbits.add(new Rabbit(&#39;f&#39;, 0, false));\r\n                                    Rabbits.get(k).setPortee();\r\n                                }\r\n                            }\r\n\r\n                    }\r\n                    if (i % 12 == 0) {\r\n                        Rabbits.get(k).reinitPortee();\r\n                        Rabbits.get(k).setChanceSurvie();\r\n                        Rabbits.get(k).kill();\r\n                    }\r\n                }\r\n                System.out.println(&quot;month &quot; + i%12 + &quot; year &quot; + i/12 + &quot; we have &quot; + Rabbits.size()); // affichage chaque mois\r\n            }\r\n            System.out.println(&quot;Apres une simulation de &quot; + nbAnnee + &quot; nous avons :&quot;); //affichage resultat final\r\n            System.out.println(&quot;    une population de &quot; + Rabbits.size());\r\n    }\r\n    //}\r\n\r\n}\r\n```\r\n\r\n\r\nRabbit Class\r\n\r\n```java\r\npackage com.company;\r\n\r\npublic class Rabbit {\r\n    //Age\r\n    int ageMois;\r\n    int ageAnnee;\r\n    boolean isMature;\r\n    boolean isActiveSex = false;\r\n    double chanceSurvie = 0.5;\r\n    boolean isAlive = true;\r\n\r\n    //Les femelles\r\n    boolean isSterile = false;\r\n    char sexe;\r\n    int nbPortee = 0;\r\n    int nbPorteeInit;\r\n\r\n\r\n    MTRandom MT = new MTRandom();\r\n\r\n\r\n    public Rabbit(char sexe, int ageMois,boolean isMature){\r\n        int[] init ={0x123, 0x234, 0x345, 0x456};\r\n        MT.setSeed(init);\r\n\r\n        this.sexe = sexe;\r\n        this.ageMois = ageMois;\r\n        this.isMature = isMature;\r\n        double x = MT.nextDouble();\r\n        double y = MT.nextDouble();\r\n        if(this.sexe == &#39;f&#39;){\r\n            if(x&lt;0.1){\r\n                this.isSterile = true;\r\n            }\r\n            if(!this.isSterile){\r\n                if(y&lt;=0.4){\r\n                    this.nbPorteeInit = 6;\r\n                }\r\n                if(y&gt;0.4 &amp;&amp; y&lt;=0.6){\r\n                    this.nbPorteeInit = 5;\r\n                }\r\n                if(y&gt;0.6 &amp;&amp; y&lt;=0.8){\r\n                    this.nbPorteeInit = 7;\r\n                }\r\n                if(y&gt;0.8 &amp;&amp; y&lt;=0.875){\r\n                    this.nbPorteeInit = 4;\r\n                }\r\n                if(y&gt;0.95&amp;&amp; y&lt;=0.975){\r\n                    this.nbPorteeInit = 8;\r\n                }\r\n                if(y&gt;975){\r\n                    this.nbPorteeInit = 3;\r\n                }\r\n                if(y&gt;975){\r\n                    this.nbPorteeInit = 9;\r\n                }\r\n                this.nbPortee = this.nbPorteeInit;\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n\r\n    public void setAge(){ //en mois\r\n        double x = MT.nextDouble();\r\n\r\n        this.ageMois += 1;\r\n        this.ageAnnee = this.ageMois/12;\r\n\r\n        if(this.ageMois == 5) {\r\n            if (x &lt;= 0.2) {\r\n                isMature = true;\r\n                if(!isSterile){\r\n                isActiveSex = true;\r\n                }\r\n            }\r\n        }\r\n        else if(this.ageMois == 6){\r\n            if (x &gt;0.2 &amp;&amp; x &lt;= 0.5){\r\n                isMature = true;\r\n                if(!isSterile){\r\n                isActiveSex = true;}\r\n            }\r\n        }\r\n        else if(this.ageMois == 7){\r\n            if(x &gt; 0.5 &amp;&amp; x &lt;= 0.8){\r\n                isMature = true;\r\n                if(!isSterile){\r\n                isActiveSex = true;}\r\n            }\r\n        }\r\n        else if(this.ageMois &gt; 8){\r\n            if(x &gt; 0.8){\r\n                isMature = true;\r\n                isActiveSex = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void setChanceSurvie(){\r\n\r\n        if(this.isMature){\r\n            this.chanceSurvie = 0.75;\r\n        }\r\n        switch(this.ageAnnee){\r\n            case 8: this.chanceSurvie = 0.6;\r\n            case 9: this.chanceSurvie = 0.45;\r\n            case 10: this.chanceSurvie = 0.3;\r\n            case 11: this.chanceSurvie = 0.15;\r\n            case 12: this.chanceSurvie = 0;\r\n        }\r\n    }\r\n    public void setPortee(){\r\n        this.nbPortee -=1;\r\n    }\r\n\r\n    public void reinitPortee(){\r\n            this.nbPortee = this.nbPorteeInit;\r\n    }\r\n\r\n    public void kill(){\r\n\r\n        if(MT.nextDouble() &gt;this.chanceSurvie){\r\n            isAlive = false;\r\n        }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n\r\n5 years experience\r\n\r\n```java\r\nmonth 1 year 0 we have 6\r\nmonth 2 year 0 we have 11\r\nmonth 3 year 0 we have 11\r\nmonth 4 year 0 we have 11\r\nmonth 5 year 0 we have 11\r\nmonth 6 year 0 we have 20\r\nmonth 7 year 0 we have 39\r\nmonth 8 year 0 we have 45\r\nmonth 9 year 0 we have 45\r\nmonth 10 year 0 we have 45\r\nmonth 11 year 0 we have 58\r\nmonth 0 year 1 we have 116\r\nmonth 1 year 1 we have 20\r\nmonth 2 year 1 we have 33\r\nmonth 3 year 1 we have 39\r\nmonth 4 year 1 we have 39\r\nmonth 5 year 1 we have 39\r\nmonth 6 year 1 we have 69\r\nmonth 7 year 1 we have 113\r\nmonth 8 year 1 we have 151\r\nmonth 9 year 1 we have 160\r\nmonth 10 year 1 we have 164\r\nmonth 11 year 1 we have 206\r\nmonth 0 year 2 we have 310\r\nmonth 1 year 2 we have 116\r\nmonth 2 year 2 we have 160\r\nmonth 3 year 2 we have 167\r\nmonth 4 year 2 we have 167\r\nmonth 5 year 2 we have 167\r\nmonth 6 year 2 we have 366\r\nmonth 7 year 2 we have 621\r\nmonth 8 year 2 we have 713\r\nmonth 9 year 2 we have 756\r\nmonth 10 year 2 we have 758\r\nmonth 11 year 2 we have 1150\r\nmonth 0 year 3 we have 2032\r\nmonth 1 year 3 we have 458\r\nmonth 2 year 3 we have 664\r\nmonth 3 year 3 we have 692\r\nmonth 4 year 3 we have 692\r\nmonth 5 year 3 we have 692\r\nmonth 6 year 3 we have 1368\r\nmonth 7 year 3 we have 2312\r\nmonth 8 year 3 we have 2808\r\nmonth 9 year 3 we have 2891\r\nmonth 10 year 3 we have 2896\r\nmonth 11 year 3 we have 4204\r\nmonth 0 year 4 we have 7320\r\nmonth 1 year 4 we have 1858\r\nmonth 2 year 4 we have 2604\r\nmonth 3 year 4 we have 2653\r\nmonth 4 year 4 we have 2653\r\nmonth 5 year 4 we have 2653\r\nmonth 6 year 4 we have 5456\r\nmonth 7 year 4 we have 9401\r\nmonth 8 year 4 we have 11077\r\nmonth 9 year 4 we have 11303\r\nmonth 10 year 4 we have 11321\r\nmonth 11 year 4 we have 17109\r\nmonth 0 year 5 we have 29899\r\n```\r\nMT =&gt; Pseudo Random Numbers generator:\r\n\r\n```java\r\npackage com.company;\r\n\r\nimport java.util.Random;\r\n\r\n/**\r\n * @version 1.0\r\n * @author David Beaumont, Copyright 2005\r\n * &lt;p&gt;\r\n * A Java implementation of the MT19937 (Mersenne Twister) pseudo\r\n * random number generator algorithm based upon the original C code\r\n * by Makoto Matsumoto and Takuji Nishimura (see\r\n * &lt;a href=&quot;http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html&quot;&gt;\r\n * http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html&lt;/a&gt; for\r\n * more information.\r\n * &lt;p&gt;\r\n * As a subclass of java.util.Random this class provides a single\r\n * canonical method next() for generating bits in the pseudo random\r\n * number sequence.  Anyone using this class should invoke the public\r\n * inherited methods (nextInt(), nextFloat etc.) to obtain values as\r\n * normal.  This class should provide a drop-in replacement for the\r\n * standard implementation of java.util.Random with the additional\r\n * advantage of having a far longer period and the ability to use a\r\n * far larger seed value.\r\n * &lt;p&gt;\r\n * This is &lt;b&gt;not&lt;/b&gt; a cryptographically strong source of randomness\r\n * and should &lt;b&gt;not&lt;/b&gt; be used for cryptographic systems or in any\r\n * other situation where true random numbers are required.\r\n * &lt;p&gt;\r\n * &lt;!-- Creative Commons License --&gt;\r\n * &lt;a href=&quot;http://creativecommons.org/licenses/LGPL/2.1/&quot;&gt;&lt;img alt=&quot;CC-GNU LGPL&quot; border=&quot;0&quot; src=&quot;http://creativecommons.org/images/public/cc-LGPL-a.png&quot; /&gt;&lt;/a&gt;&lt;br /&gt;\r\n * This software is licensed under the &lt;a href=&quot;http://creativecommons.org/licenses/LGPL/2.1/&quot;&gt;CC-GNU LGPL&lt;/a&gt;.\r\n * &lt;!-- /Creative Commons License --&gt;\r\n *\r\n * &lt;!--\r\n * &lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot;\r\n *     xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;\r\n *     xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;\r\n *\r\n * &lt;Work rdf:about=&quot;&quot;&gt;\r\n *    &lt;license rdf:resource=&quot;http://creativecommons.org/licenses/LGPL/2.1/&quot; /&gt;\r\n *    &lt;dc:type rdf:resource=&quot;http://purl.org/dc/dcmitype/Software&quot; /&gt;\r\n * &lt;/Work&gt;\r\n *\r\n * &lt;License rdf:about=&quot;http://creativecommons.org/licenses/LGPL/2.1/&quot;&gt;\r\n *    &lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot; /&gt;\r\n *    &lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot; /&gt;\r\n *    &lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot; /&gt;\r\n *    &lt;permits rdf:resource=&quot;http://web.resource.org/cc/DerivativeWorks&quot; /&gt;\r\n *    &lt;requires rdf:resource=&quot;http://web.resource.org/cc/ShareAlike&quot; /&gt;\r\n *    &lt;requires rdf:resource=&quot;http://web.resource.org/cc/SourceCode&quot; /&gt;\r\n * &lt;/License&gt;\r\n *\r\n * &lt;/rdf:RDF&gt;\r\n * --&gt;\r\n *\r\n */\r\npublic class MTRandom extends Random {\r\n\r\n    /**\r\n     * Auto-generated serial version UID.  Note that MTRandom does NOT\r\n     * support serialisation of its internal state and it may even be\r\n     * necessary to implement read/write methods to re-seed it properly.\r\n     * This is only here to make Eclipse shut up about it being missing.\r\n     */\r\n    private static final long serialVersionUID = -515082678588212038L;\r\n\r\n    // Constants used in the original C implementation\r\n    private final static int UPPER_MASK = 0x80000000;\r\n    private final static int LOWER_MASK = 0x7fffffff;\r\n\r\n    private final static int N = 624;\r\n    private final static int M = 397;\r\n    private final static int MAGIC[] = { 0x0, 0x9908b0df };\r\n    private final static int MAGIC_FACTOR1 = 1812433253;\r\n    private final static int MAGIC_FACTOR2 = 1664525;\r\n    private final static int MAGIC_FACTOR3 = 1566083941;\r\n    private final static int MAGIC_MASK1   = 0x9d2c5680;\r\n    private final static int MAGIC_MASK2   = 0xefc60000;\r\n    private final static int MAGIC_SEED    = 19650218;\r\n    private final static long DEFAULT_SEED = 5489L;\r\n\r\n    // Internal state\r\n    private transient int[] mt;\r\n    private transient int mti;\r\n    private transient boolean compat = false;\r\n\r\n    // Temporary buffer used during setSeed(long)\r\n    private transient int[] ibuf;\r\n\r\n    /**\r\n     * The default constructor for an instance of MTRandom.  This invokes\r\n     * the no-argument constructor for java.util.Random which will result\r\n     * in the class being initialised with a seed value obtained by calling\r\n     * System.currentTimeMillis().\r\n     */\r\n    public MTRandom() { }\r\n\r\n    /**\r\n     * This version of the constructor can be used to implement identical\r\n     * behaviour to the original C code version of this algorithm including\r\n     * exactly replicating the case where the seed value had not been set\r\n     * prior to calling genrand_int32.\r\n     * &lt;p&gt;\r\n     * If the compatibility flag is set to true, then the algorithm will be\r\n     * seeded with the same default value as was used in the original C\r\n     * code.  Furthermore the setSeed() method, which must take a 64 bit\r\n     * long value, will be limited to using only the lower 32 bits of the\r\n     * seed to facilitate seamless migration of existing C code into Java\r\n     * where identical behaviour is required.\r\n     * &lt;p&gt;\r\n     * Whilst useful for ensuring backwards compatibility, it is advised\r\n     * that this feature not be used unless specifically required, due to\r\n     * the reduction in strength of the seed value.\r\n     *\r\n     * @param compatible Compatibility flag for replicating original\r\n     * behaviour.\r\n     */\r\n    public MTRandom(boolean compatible) {\r\n        super(0L);\r\n        compat = compatible;\r\n        setSeed(compat?DEFAULT_SEED:System.currentTimeMillis());\r\n    }\r\n\r\n    /**\r\n     * This version of the constructor simply initialises the class with\r\n     * the given 64 bit seed value.  For a better random number sequence\r\n     * this seed value should contain as much entropy as possible.\r\n     *\r\n     * @param seed The seed value with which to initialise this class.\r\n     */\r\n    public MTRandom(long seed) {\r\n        super(seed);\r\n    }\r\n\r\n    /**\r\n     * This version of the constructor initialises the class with the\r\n     * given byte array.  All the data will be used to initialise this\r\n     * instance.\r\n     *\r\n     * @param buf The non-empty byte array of seed information.\r\n     * @throws NullPointerException if the buffer is null.\r\n     * @throws IllegalArgumentException if the buffer has zero length.\r\n     */\r\n    public MTRandom(byte[] buf) {\r\n        super(0L);\r\n        setSeed(buf);\r\n    }\r\n\r\n    /**\r\n     * This version of the constructor initialises the class with the\r\n     * given integer array.  All the data will be used to initialise\r\n     * this instance.\r\n     *\r\n     * @param buf The non-empty integer array of seed information.\r\n     * @throws NullPointerException if the buffer is null.\r\n     * @throws IllegalArgumentException if the buffer has zero length.\r\n     */\r\n    public MTRandom(int[] buf) {\r\n        super(0L);\r\n        setSeed(buf);\r\n    }\r\n\r\n    // Initializes mt[N] with a simple integer seed. This method is\r\n    // required as part of the Mersenne Twister algorithm but need\r\n    // not be made public.\r\n    private final void setSeed(int seed) {\r\n\r\n        // Annoying runtime check for initialisation of internal data\r\n        // caused by java.util.Random invoking setSeed() during init.\r\n        // This is unavoidable because no fields in our instance will\r\n        // have been initialised at this point, not even if the code\r\n        // were placed at the declaration of the member variable.\r\n        if (mt == null) mt = new int[N];\r\n\r\n        // ---- Begin Mersenne Twister Algorithm ----\r\n        mt[0] = seed;\r\n        for (mti = 1; mti &lt; N; mti++) {\r\n            mt[mti] = (MAGIC_FACTOR1 * (mt[mti-1] ^ (mt[mti-1] &gt;&gt;&gt; 30)) + mti);\r\n        }\r\n        // ---- End Mersenne Twister Algorithm ----\r\n    }\r\n\r\n    /**\r\n     * This method resets the state of this instance using the 64\r\n     * bits of seed data provided.  Note that if the same seed data\r\n     * is passed to two different instances of MTRandom (both of\r\n     * which share the same compatibility state) then the sequence\r\n     * of numbers generated by both instances will be identical.\r\n     * &lt;p&gt;\r\n     * If this instance was initialised in &#39;compatibility&#39; mode then\r\n     * this method will only use the lower 32 bits of any seed value\r\n     * passed in and will match the behaviour of the original C code\r\n     * exactly with respect to state initialisation.\r\n     *\r\n     * @param seed The 64 bit value used to initialise the random\r\n     * number generator state.\r\n     */\r\n    public final synchronized void setSeed(long seed) {\r\n        if (compat) {\r\n            setSeed((int)seed);\r\n        } else {\r\n\r\n            // Annoying runtime check for initialisation of internal data\r\n            // caused by java.util.Random invoking setSeed() during init.\r\n            // This is unavoidable because no fields in our instance will\r\n            // have been initialised at this point, not even if the code\r\n            // were placed at the declaration of the member variable.\r\n            if (ibuf == null) ibuf = new int[2];\r\n\r\n            ibuf[0] = (int)seed;\r\n            ibuf[1] = (int)(seed &gt;&gt;&gt; 32);\r\n            setSeed(ibuf);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method resets the state of this instance using the byte\r\n     * array of seed data provided.  Note that calling this method\r\n     * is equivalent to calling &quot;setSeed(pack(buf))&quot; and in particular\r\n     * will result in a new integer array being generated during the\r\n     * call.  If you wish to retain this seed data to allow the pseudo\r\n     * random sequence to be restarted then it would be more efficient\r\n     * to use the &quot;pack()&quot; method to convert it into an integer array\r\n     * first and then use that to re-seed the instance.  The behaviour\r\n     * of the class will be the same in both cases but it will be more\r\n     * efficient.\r\n     *\r\n     * @param buf The non-empty byte array of seed information.\r\n     * @throws NullPointerException if the buffer is null.\r\n     * @throws IllegalArgumentException if the buffer has zero length.\r\n     */\r\n    public final void setSeed(byte[] buf) {\r\n        setSeed(pack(buf));\r\n    }\r\n\r\n    /**\r\n     * This method resets the state of this instance using the integer\r\n     * array of seed data provided.  This is the canonical way of\r\n     * resetting the pseudo random number sequence.\r\n     *\r\n     * @param buf The non-empty integer array of seed information.\r\n     * @throws NullPointerException if the buffer is null.\r\n     * @throws IllegalArgumentException if the buffer has zero length.\r\n     */\r\n    public final synchronized void setSeed(int[] buf) {\r\n        int length = buf.length;\r\n        if (length == 0) throw new IllegalArgumentException(&quot;Seed buffer may not be empty&quot;);\r\n        // ---- Begin Mersenne Twister Algorithm ----\r\n        int i = 1, j = 0, k = (N &gt; length ? N : length);\r\n        setSeed(MAGIC_SEED);\r\n        for (; k &gt; 0; k--) {\r\n            mt[i] = (mt[i] ^ ((mt[i-1] ^ (mt[i-1] &gt;&gt;&gt; 30)) * MAGIC_FACTOR2)) + buf[j] + j;\r\n            i++; j++;\r\n            if (i &gt;= N) { mt[0] = mt[N-1]; i = 1; }\r\n            if (j &gt;= length) j = 0;\r\n        }\r\n        for (k = N-1; k &gt; 0; k--) {\r\n            mt[i] = (mt[i] ^ ((mt[i-1] ^ (mt[i-1] &gt;&gt;&gt; 30)) * MAGIC_FACTOR3)) - i;\r\n            i++;\r\n            if (i &gt;= N) { mt[0] = mt[N-1]; i = 1; }\r\n        }\r\n        mt[0] = UPPER_MASK; // MSB is 1; assuring non-zero initial array\r\n        // ---- End Mersenne Twister Algorithm ----\r\n    }\r\n\r\n    /**\r\n     * This method forms the basis for generating a pseudo random number\r\n     * sequence from this class.  If given a value of 32, this method\r\n     * behaves identically to the genrand_int32 function in the original\r\n     * C code and ensures that using the standard nextInt() function\r\n     * (inherited from Random) we are able to replicate behaviour exactly.\r\n     * &lt;p&gt;\r\n     * Note that where the number of bits requested is not equal to 32\r\n     * then bits will simply be masked out from the top of the returned\r\n     * integer value.  That is to say that:\r\n     * &lt;pre&gt;\r\n     * mt.setSeed(12345);\r\n     * int foo = mt.nextInt(16) + (mt.nextInt(16) &lt;&lt; 16);&lt;/pre&gt;\r\n     * will not give the same result as\r\n     * &lt;pre&gt;\r\n     * mt.setSeed(12345);\r\n     * int foo = mt.nextInt(32);&lt;/pre&gt;\r\n     *\r\n     * @param bits The number of significant bits desired in the output.\r\n     * @return The next value in the pseudo random sequence with the\r\n     * specified number of bits in the lower part of the integer.\r\n     */\r\n    protected final synchronized int next(int bits) {\r\n        // ---- Begin Mersenne Twister Algorithm ----\r\n        int y, kk;\r\n        if (mti &gt;= N) {             // generate N words at one time\r\n\r\n            // In the original C implementation, mti is checked here\r\n            // to determine if initialisation has occurred; if not\r\n            // it initialises this instance with DEFAULT_SEED (5489).\r\n            // This is no longer necessary as initialisation of the\r\n            // Java instance must result in initialisation occurring\r\n            // Use the constructor MTRandom(true) to enable backwards\r\n            // compatible behaviour.\r\n\r\n            for (kk = 0; kk &lt; N-M; kk++) {\r\n                y = (mt[kk] &amp; UPPER_MASK) | (mt[kk+1] &amp; LOWER_MASK);\r\n                mt[kk] = mt[kk+M] ^ (y &gt;&gt;&gt; 1) ^ MAGIC[y &amp; 0x1];\r\n            }\r\n            for (;kk &lt; N-1; kk++) {\r\n                y = (mt[kk] &amp; UPPER_MASK) | (mt[kk+1] &amp; LOWER_MASK);\r\n                mt[kk] = mt[kk+(M-N)] ^ (y &gt;&gt;&gt; 1) ^ MAGIC[y &amp; 0x1];\r\n            }\r\n            y = (mt[N-1] &amp; UPPER_MASK) | (mt[0] &amp; LOWER_MASK);\r\n            mt[N-1] = mt[M-1] ^ (y &gt;&gt;&gt; 1) ^ MAGIC[y &amp; 0x1];\r\n\r\n            mti = 0;\r\n        }\r\n\r\n        y = mt[mti++];\r\n\r\n        // Tempering\r\n        y ^= (y &gt;&gt;&gt; 11);\r\n        y ^= (y &lt;&lt; 7) &amp; MAGIC_MASK1;\r\n        y ^= (y &lt;&lt; 15) &amp; MAGIC_MASK2;\r\n        y ^= (y &gt;&gt;&gt; 18);\r\n        // ---- End Mersenne Twister Algorithm ----\r\n        return (y &gt;&gt;&gt; (32-bits));\r\n    }\r\n\r\n    // This is a fairly obscure little code section to pack a\r\n    // byte[] into an int[] in little endian ordering.\r\n\r\n    /**\r\n     * This simply utility method can be used in cases where a byte\r\n     * array of seed data is to be used to repeatedly re-seed the\r\n     * random number sequence.  By packing the byte array into an\r\n     * integer array first, using this method, and then invoking\r\n     * setSeed() with that; it removes the need to re-pack the byte\r\n     * array each time setSeed() is called.\r\n     * &lt;p&gt;\r\n     * If the length of the byte array is not a multiple of 4 then\r\n     * it is implicitly padded with zeros as necessary.  For example:\r\n     * &lt;pre&gt;    byte[] { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06 }&lt;/pre&gt;\r\n     * becomes\r\n     * &lt;pre&gt;    int[]  { 0x04030201, 0x00000605 }&lt;/pre&gt;\r\n     * &lt;p&gt;\r\n     * Note that this method will not complain if the given byte array\r\n     * is empty and will produce an empty integer array, but the\r\n     * setSeed() method will throw an exception if the empty integer\r\n     * array is passed to it.\r\n     *\r\n     * @param buf The non-null byte array to be packed.\r\n     * @return A non-null integer array of the packed bytes.\r\n     * @throws NullPointerException if the given byte array is null.\r\n     */\r\n    public static int[] pack(byte[] buf) {\r\n        int k, blen = buf.length, ilen = ((buf.length+3) &gt;&gt;&gt; 2);\r\n        int[] ibuf = new int[ilen];\r\n        for (int n = 0; n &lt; ilen; n++) {\r\n            int m = (n+1) &lt;&lt; 2;\r\n            if (m &gt; blen) m = blen;\r\n            for (k = buf[--m]&amp;0xff; (m &amp; 0x3) != 0; k = (k &lt;&lt; 8) | buf[--m]&amp;0xff);\r\n            ibuf[n] = k;\r\n        }\r\n        return ibuf;\r\n    }\r\n}\r\n```\r\n","title":"codding optimization in java","body":"<p>hello i'm starting with java and i have to make a simulation of a rabbit population on 20 years and i barely passed the sixth year, can anyone help me please to optimize my program ?</p>\n<p>it's in French but the first loop is for the months then I'll grow my rabbits and remove the dead ones</p>\n<p>the next for the new born babies</p>\n<p>if you need more details about the rabbit class tell me.</p>\n<p>Ps i've already deleted a for loop.</p>\n<p>thanks</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        MTRandom MT = new MTRandom();\n        int nbMales;\n        int nbFemales;\n        int nbAnnee;\n\n        int[] init = {0x123, 0x234, 0x345, 0x456};\n        MT.setSeed(init);\n\n        //Bloc d'entrée\n        ArrayList&lt;Rabbit&gt; Rabbits = new ArrayList&lt;&gt;();//changer pour linked ?\n\n        System.out.println(&quot;Nombre de lapins males ?&quot;); //creation males\n        nbMales = input.nextInt();\n\n\n        System.out.println(&quot;Nombre de lapins femelles ?&quot;);// creation femelles\n        nbFemales = input.nextInt();\n\n        System.out.println(&quot;Nombre d'année que va durer la simu ?&quot;);\n        nbAnnee = input.nextInt();\n\n        //for (int j = 0; j &lt; 10; j++) {\n            //Rabbits.clear();\n            for (int i = 0; i &lt; nbMales; i++) {\n                Rabbits.add(new Rabbit('m', 12, true));\n            }\n            for (int i = 0; i &lt; nbFemales; i++) {\n                Rabbits.add(new Rabbit('f', 12, true));\n            }\n\n\n            //Bloc Principale\n            for (int i = 1; i &lt;= nbAnnee * 12; i++) { // Defilement des Mois\n                for (int k = 0; k &lt; Rabbits.size(); k++) {\n                    Rabbits.get(k).setAge(); // incrementation de l'age des lapins en mois\n                    Rabbits.removeIf(rabbit -&gt; !rabbit.isAlive);\n                    Rabbits.trimToSize();\n                }\n                for (int k = 0; k &lt; Rabbits.size(); k++) { // boucle pour les projenitures\n                    if (Rabbits.get(k).sexe == 'f' &amp;&amp; Rabbits.get(k).isActiveSex &amp;&amp; Rabbits.get(k).nbPortee &gt; 0) {\n                            double y = MT.nextDouble();\n\n                            int n = 0;\n                            if (y &lt;= 0.3) {\n                                n = 4;\n                            }\n                            if (y &gt; 0.3 &amp;&amp; y &lt;= 0.5) {\n                                n = 3;\n                            }\n                            if (y &gt; 0.5 &amp;&amp; y &lt;= 0.7) {\n                                n = 5;\n                            }\n                            if (y &gt; 0.7 &amp;&amp; y &lt;= 0.85) {\n                                n = 2;\n                            }\n                            if (y &gt; 0.85) {\n                                n = 6;\n                            }\n\n                            for (int l = 0; l &lt; n; l++) {\n\n                                double x = MT.nextDouble();\n                                if (x &lt;= 0.5) {\n\n                                    Rabbits.add(new Rabbit('m', 0, false));\n                                    Rabbits.get(k).setPortee();\n                                } else if (x &gt; 0.5) {\n\n                                    Rabbits.add(new Rabbit('f', 0, false));\n                                    Rabbits.get(k).setPortee();\n                                }\n                            }\n\n                    }\n                    if (i % 12 == 0) {\n                        Rabbits.get(k).reinitPortee();\n                        Rabbits.get(k).setChanceSurvie();\n                        Rabbits.get(k).kill();\n                    }\n                }\n                System.out.println(&quot;month &quot; + i%12 + &quot; year &quot; + i/12 + &quot; we have &quot; + Rabbits.size()); // affichage chaque mois\n            }\n            System.out.println(&quot;Apres une simulation de &quot; + nbAnnee + &quot; nous avons :&quot;); //affichage resultat final\n            System.out.println(&quot;    une population de &quot; + Rabbits.size());\n    }\n    //}\n\n}\n</code></pre>\n<p>Rabbit Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\npublic class Rabbit {\n    //Age\n    int ageMois;\n    int ageAnnee;\n    boolean isMature;\n    boolean isActiveSex = false;\n    double chanceSurvie = 0.5;\n    boolean isAlive = true;\n\n    //Les femelles\n    boolean isSterile = false;\n    char sexe;\n    int nbPortee = 0;\n    int nbPorteeInit;\n\n\n    MTRandom MT = new MTRandom();\n\n\n    public Rabbit(char sexe, int ageMois,boolean isMature){\n        int[] init ={0x123, 0x234, 0x345, 0x456};\n        MT.setSeed(init);\n\n        this.sexe = sexe;\n        this.ageMois = ageMois;\n        this.isMature = isMature;\n        double x = MT.nextDouble();\n        double y = MT.nextDouble();\n        if(this.sexe == 'f'){\n            if(x&lt;0.1){\n                this.isSterile = true;\n            }\n            if(!this.isSterile){\n                if(y&lt;=0.4){\n                    this.nbPorteeInit = 6;\n                }\n                if(y&gt;0.4 &amp;&amp; y&lt;=0.6){\n                    this.nbPorteeInit = 5;\n                }\n                if(y&gt;0.6 &amp;&amp; y&lt;=0.8){\n                    this.nbPorteeInit = 7;\n                }\n                if(y&gt;0.8 &amp;&amp; y&lt;=0.875){\n                    this.nbPorteeInit = 4;\n                }\n                if(y&gt;0.95&amp;&amp; y&lt;=0.975){\n                    this.nbPorteeInit = 8;\n                }\n                if(y&gt;975){\n                    this.nbPorteeInit = 3;\n                }\n                if(y&gt;975){\n                    this.nbPorteeInit = 9;\n                }\n                this.nbPortee = this.nbPorteeInit;\n            }\n\n\n        }\n    }\n\n    public void setAge(){ //en mois\n        double x = MT.nextDouble();\n\n        this.ageMois += 1;\n        this.ageAnnee = this.ageMois/12;\n\n        if(this.ageMois == 5) {\n            if (x &lt;= 0.2) {\n                isMature = true;\n                if(!isSterile){\n                isActiveSex = true;\n                }\n            }\n        }\n        else if(this.ageMois == 6){\n            if (x &gt;0.2 &amp;&amp; x &lt;= 0.5){\n                isMature = true;\n                if(!isSterile){\n                isActiveSex = true;}\n            }\n        }\n        else if(this.ageMois == 7){\n            if(x &gt; 0.5 &amp;&amp; x &lt;= 0.8){\n                isMature = true;\n                if(!isSterile){\n                isActiveSex = true;}\n            }\n        }\n        else if(this.ageMois &gt; 8){\n            if(x &gt; 0.8){\n                isMature = true;\n                isActiveSex = true;\n            }\n        }\n    }\n\n    public void setChanceSurvie(){\n\n        if(this.isMature){\n            this.chanceSurvie = 0.75;\n        }\n        switch(this.ageAnnee){\n            case 8: this.chanceSurvie = 0.6;\n            case 9: this.chanceSurvie = 0.45;\n            case 10: this.chanceSurvie = 0.3;\n            case 11: this.chanceSurvie = 0.15;\n            case 12: this.chanceSurvie = 0;\n        }\n    }\n    public void setPortee(){\n        this.nbPortee -=1;\n    }\n\n    public void reinitPortee(){\n            this.nbPortee = this.nbPorteeInit;\n    }\n\n    public void kill(){\n\n        if(MT.nextDouble() &gt;this.chanceSurvie){\n            isAlive = false;\n        }\n\n        }\n    }\n</code></pre>\n<p>5 years experience</p>\n<pre class=\"lang-java prettyprint-override\"><code>month 1 year 0 we have 6\nmonth 2 year 0 we have 11\nmonth 3 year 0 we have 11\nmonth 4 year 0 we have 11\nmonth 5 year 0 we have 11\nmonth 6 year 0 we have 20\nmonth 7 year 0 we have 39\nmonth 8 year 0 we have 45\nmonth 9 year 0 we have 45\nmonth 10 year 0 we have 45\nmonth 11 year 0 we have 58\nmonth 0 year 1 we have 116\nmonth 1 year 1 we have 20\nmonth 2 year 1 we have 33\nmonth 3 year 1 we have 39\nmonth 4 year 1 we have 39\nmonth 5 year 1 we have 39\nmonth 6 year 1 we have 69\nmonth 7 year 1 we have 113\nmonth 8 year 1 we have 151\nmonth 9 year 1 we have 160\nmonth 10 year 1 we have 164\nmonth 11 year 1 we have 206\nmonth 0 year 2 we have 310\nmonth 1 year 2 we have 116\nmonth 2 year 2 we have 160\nmonth 3 year 2 we have 167\nmonth 4 year 2 we have 167\nmonth 5 year 2 we have 167\nmonth 6 year 2 we have 366\nmonth 7 year 2 we have 621\nmonth 8 year 2 we have 713\nmonth 9 year 2 we have 756\nmonth 10 year 2 we have 758\nmonth 11 year 2 we have 1150\nmonth 0 year 3 we have 2032\nmonth 1 year 3 we have 458\nmonth 2 year 3 we have 664\nmonth 3 year 3 we have 692\nmonth 4 year 3 we have 692\nmonth 5 year 3 we have 692\nmonth 6 year 3 we have 1368\nmonth 7 year 3 we have 2312\nmonth 8 year 3 we have 2808\nmonth 9 year 3 we have 2891\nmonth 10 year 3 we have 2896\nmonth 11 year 3 we have 4204\nmonth 0 year 4 we have 7320\nmonth 1 year 4 we have 1858\nmonth 2 year 4 we have 2604\nmonth 3 year 4 we have 2653\nmonth 4 year 4 we have 2653\nmonth 5 year 4 we have 2653\nmonth 6 year 4 we have 5456\nmonth 7 year 4 we have 9401\nmonth 8 year 4 we have 11077\nmonth 9 year 4 we have 11303\nmonth 10 year 4 we have 11321\nmonth 11 year 4 we have 17109\nmonth 0 year 5 we have 29899\n</code></pre>\n<p>MT =&gt; Pseudo Random Numbers generator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.util.Random;\n\n/**\n * @version 1.0\n * @author David Beaumont, Copyright 2005\n * &lt;p&gt;\n * A Java implementation of the MT19937 (Mersenne Twister) pseudo\n * random number generator algorithm based upon the original C code\n * by Makoto Matsumoto and Takuji Nishimura (see\n * &lt;a href=&quot;http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html&quot;&gt;\n * http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html&lt;/a&gt; for\n * more information.\n * &lt;p&gt;\n * As a subclass of java.util.Random this class provides a single\n * canonical method next() for generating bits in the pseudo random\n * number sequence.  Anyone using this class should invoke the public\n * inherited methods (nextInt(), nextFloat etc.) to obtain values as\n * normal.  This class should provide a drop-in replacement for the\n * standard implementation of java.util.Random with the additional\n * advantage of having a far longer period and the ability to use a\n * far larger seed value.\n * &lt;p&gt;\n * This is &lt;b&gt;not&lt;/b&gt; a cryptographically strong source of randomness\n * and should &lt;b&gt;not&lt;/b&gt; be used for cryptographic systems or in any\n * other situation where true random numbers are required.\n * &lt;p&gt;\n * &lt;!-- Creative Commons License --&gt;\n * &lt;a href=&quot;http://creativecommons.org/licenses/LGPL/2.1/&quot;&gt;&lt;img alt=&quot;CC-GNU LGPL&quot; border=&quot;0&quot; src=&quot;http://creativecommons.org/images/public/cc-LGPL-a.png&quot; /&gt;&lt;/a&gt;&lt;br /&gt;\n * This software is licensed under the &lt;a href=&quot;http://creativecommons.org/licenses/LGPL/2.1/&quot;&gt;CC-GNU LGPL&lt;/a&gt;.\n * &lt;!-- /Creative Commons License --&gt;\n *\n * &lt;!--\n * &lt;rdf:RDF xmlns=&quot;http://web.resource.org/cc/&quot;\n *     xmlns:dc=&quot;http://purl.org/dc/elements/1.1/&quot;\n *     xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;\n *\n * &lt;Work rdf:about=&quot;&quot;&gt;\n *    &lt;license rdf:resource=&quot;http://creativecommons.org/licenses/LGPL/2.1/&quot; /&gt;\n *    &lt;dc:type rdf:resource=&quot;http://purl.org/dc/dcmitype/Software&quot; /&gt;\n * &lt;/Work&gt;\n *\n * &lt;License rdf:about=&quot;http://creativecommons.org/licenses/LGPL/2.1/&quot;&gt;\n *    &lt;permits rdf:resource=&quot;http://web.resource.org/cc/Reproduction&quot; /&gt;\n *    &lt;permits rdf:resource=&quot;http://web.resource.org/cc/Distribution&quot; /&gt;\n *    &lt;requires rdf:resource=&quot;http://web.resource.org/cc/Notice&quot; /&gt;\n *    &lt;permits rdf:resource=&quot;http://web.resource.org/cc/DerivativeWorks&quot; /&gt;\n *    &lt;requires rdf:resource=&quot;http://web.resource.org/cc/ShareAlike&quot; /&gt;\n *    &lt;requires rdf:resource=&quot;http://web.resource.org/cc/SourceCode&quot; /&gt;\n * &lt;/License&gt;\n *\n * &lt;/rdf:RDF&gt;\n * --&gt;\n *\n */\npublic class MTRandom extends Random {\n\n    /**\n     * Auto-generated serial version UID.  Note that MTRandom does NOT\n     * support serialisation of its internal state and it may even be\n     * necessary to implement read/write methods to re-seed it properly.\n     * This is only here to make Eclipse shut up about it being missing.\n     */\n    private static final long serialVersionUID = -515082678588212038L;\n\n    // Constants used in the original C implementation\n    private final static int UPPER_MASK = 0x80000000;\n    private final static int LOWER_MASK = 0x7fffffff;\n\n    private final static int N = 624;\n    private final static int M = 397;\n    private final static int MAGIC[] = { 0x0, 0x9908b0df };\n    private final static int MAGIC_FACTOR1 = 1812433253;\n    private final static int MAGIC_FACTOR2 = 1664525;\n    private final static int MAGIC_FACTOR3 = 1566083941;\n    private final static int MAGIC_MASK1   = 0x9d2c5680;\n    private final static int MAGIC_MASK2   = 0xefc60000;\n    private final static int MAGIC_SEED    = 19650218;\n    private final static long DEFAULT_SEED = 5489L;\n\n    // Internal state\n    private transient int[] mt;\n    private transient int mti;\n    private transient boolean compat = false;\n\n    // Temporary buffer used during setSeed(long)\n    private transient int[] ibuf;\n\n    /**\n     * The default constructor for an instance of MTRandom.  This invokes\n     * the no-argument constructor for java.util.Random which will result\n     * in the class being initialised with a seed value obtained by calling\n     * System.currentTimeMillis().\n     */\n    public MTRandom() { }\n\n    /**\n     * This version of the constructor can be used to implement identical\n     * behaviour to the original C code version of this algorithm including\n     * exactly replicating the case where the seed value had not been set\n     * prior to calling genrand_int32.\n     * &lt;p&gt;\n     * If the compatibility flag is set to true, then the algorithm will be\n     * seeded with the same default value as was used in the original C\n     * code.  Furthermore the setSeed() method, which must take a 64 bit\n     * long value, will be limited to using only the lower 32 bits of the\n     * seed to facilitate seamless migration of existing C code into Java\n     * where identical behaviour is required.\n     * &lt;p&gt;\n     * Whilst useful for ensuring backwards compatibility, it is advised\n     * that this feature not be used unless specifically required, due to\n     * the reduction in strength of the seed value.\n     *\n     * @param compatible Compatibility flag for replicating original\n     * behaviour.\n     */\n    public MTRandom(boolean compatible) {\n        super(0L);\n        compat = compatible;\n        setSeed(compat?DEFAULT_SEED:System.currentTimeMillis());\n    }\n\n    /**\n     * This version of the constructor simply initialises the class with\n     * the given 64 bit seed value.  For a better random number sequence\n     * this seed value should contain as much entropy as possible.\n     *\n     * @param seed The seed value with which to initialise this class.\n     */\n    public MTRandom(long seed) {\n        super(seed);\n    }\n\n    /**\n     * This version of the constructor initialises the class with the\n     * given byte array.  All the data will be used to initialise this\n     * instance.\n     *\n     * @param buf The non-empty byte array of seed information.\n     * @throws NullPointerException if the buffer is null.\n     * @throws IllegalArgumentException if the buffer has zero length.\n     */\n    public MTRandom(byte[] buf) {\n        super(0L);\n        setSeed(buf);\n    }\n\n    /**\n     * This version of the constructor initialises the class with the\n     * given integer array.  All the data will be used to initialise\n     * this instance.\n     *\n     * @param buf The non-empty integer array of seed information.\n     * @throws NullPointerException if the buffer is null.\n     * @throws IllegalArgumentException if the buffer has zero length.\n     */\n    public MTRandom(int[] buf) {\n        super(0L);\n        setSeed(buf);\n    }\n\n    // Initializes mt[N] with a simple integer seed. This method is\n    // required as part of the Mersenne Twister algorithm but need\n    // not be made public.\n    private final void setSeed(int seed) {\n\n        // Annoying runtime check for initialisation of internal data\n        // caused by java.util.Random invoking setSeed() during init.\n        // This is unavoidable because no fields in our instance will\n        // have been initialised at this point, not even if the code\n        // were placed at the declaration of the member variable.\n        if (mt == null) mt = new int[N];\n\n        // ---- Begin Mersenne Twister Algorithm ----\n        mt[0] = seed;\n        for (mti = 1; mti &lt; N; mti++) {\n            mt[mti] = (MAGIC_FACTOR1 * (mt[mti-1] ^ (mt[mti-1] &gt;&gt;&gt; 30)) + mti);\n        }\n        // ---- End Mersenne Twister Algorithm ----\n    }\n\n    /**\n     * This method resets the state of this instance using the 64\n     * bits of seed data provided.  Note that if the same seed data\n     * is passed to two different instances of MTRandom (both of\n     * which share the same compatibility state) then the sequence\n     * of numbers generated by both instances will be identical.\n     * &lt;p&gt;\n     * If this instance was initialised in 'compatibility' mode then\n     * this method will only use the lower 32 bits of any seed value\n     * passed in and will match the behaviour of the original C code\n     * exactly with respect to state initialisation.\n     *\n     * @param seed The 64 bit value used to initialise the random\n     * number generator state.\n     */\n    public final synchronized void setSeed(long seed) {\n        if (compat) {\n            setSeed((int)seed);\n        } else {\n\n            // Annoying runtime check for initialisation of internal data\n            // caused by java.util.Random invoking setSeed() during init.\n            // This is unavoidable because no fields in our instance will\n            // have been initialised at this point, not even if the code\n            // were placed at the declaration of the member variable.\n            if (ibuf == null) ibuf = new int[2];\n\n            ibuf[0] = (int)seed;\n            ibuf[1] = (int)(seed &gt;&gt;&gt; 32);\n            setSeed(ibuf);\n        }\n    }\n\n    /**\n     * This method resets the state of this instance using the byte\n     * array of seed data provided.  Note that calling this method\n     * is equivalent to calling &quot;setSeed(pack(buf))&quot; and in particular\n     * will result in a new integer array being generated during the\n     * call.  If you wish to retain this seed data to allow the pseudo\n     * random sequence to be restarted then it would be more efficient\n     * to use the &quot;pack()&quot; method to convert it into an integer array\n     * first and then use that to re-seed the instance.  The behaviour\n     * of the class will be the same in both cases but it will be more\n     * efficient.\n     *\n     * @param buf The non-empty byte array of seed information.\n     * @throws NullPointerException if the buffer is null.\n     * @throws IllegalArgumentException if the buffer has zero length.\n     */\n    public final void setSeed(byte[] buf) {\n        setSeed(pack(buf));\n    }\n\n    /**\n     * This method resets the state of this instance using the integer\n     * array of seed data provided.  This is the canonical way of\n     * resetting the pseudo random number sequence.\n     *\n     * @param buf The non-empty integer array of seed information.\n     * @throws NullPointerException if the buffer is null.\n     * @throws IllegalArgumentException if the buffer has zero length.\n     */\n    public final synchronized void setSeed(int[] buf) {\n        int length = buf.length;\n        if (length == 0) throw new IllegalArgumentException(&quot;Seed buffer may not be empty&quot;);\n        // ---- Begin Mersenne Twister Algorithm ----\n        int i = 1, j = 0, k = (N &gt; length ? N : length);\n        setSeed(MAGIC_SEED);\n        for (; k &gt; 0; k--) {\n            mt[i] = (mt[i] ^ ((mt[i-1] ^ (mt[i-1] &gt;&gt;&gt; 30)) * MAGIC_FACTOR2)) + buf[j] + j;\n            i++; j++;\n            if (i &gt;= N) { mt[0] = mt[N-1]; i = 1; }\n            if (j &gt;= length) j = 0;\n        }\n        for (k = N-1; k &gt; 0; k--) {\n            mt[i] = (mt[i] ^ ((mt[i-1] ^ (mt[i-1] &gt;&gt;&gt; 30)) * MAGIC_FACTOR3)) - i;\n            i++;\n            if (i &gt;= N) { mt[0] = mt[N-1]; i = 1; }\n        }\n        mt[0] = UPPER_MASK; // MSB is 1; assuring non-zero initial array\n        // ---- End Mersenne Twister Algorithm ----\n    }\n\n    /**\n     * This method forms the basis for generating a pseudo random number\n     * sequence from this class.  If given a value of 32, this method\n     * behaves identically to the genrand_int32 function in the original\n     * C code and ensures that using the standard nextInt() function\n     * (inherited from Random) we are able to replicate behaviour exactly.\n     * &lt;p&gt;\n     * Note that where the number of bits requested is not equal to 32\n     * then bits will simply be masked out from the top of the returned\n     * integer value.  That is to say that:\n     * &lt;pre&gt;\n     * mt.setSeed(12345);\n     * int foo = mt.nextInt(16) + (mt.nextInt(16) &lt;&lt; 16);&lt;/pre&gt;\n     * will not give the same result as\n     * &lt;pre&gt;\n     * mt.setSeed(12345);\n     * int foo = mt.nextInt(32);&lt;/pre&gt;\n     *\n     * @param bits The number of significant bits desired in the output.\n     * @return The next value in the pseudo random sequence with the\n     * specified number of bits in the lower part of the integer.\n     */\n    protected final synchronized int next(int bits) {\n        // ---- Begin Mersenne Twister Algorithm ----\n        int y, kk;\n        if (mti &gt;= N) {             // generate N words at one time\n\n            // In the original C implementation, mti is checked here\n            // to determine if initialisation has occurred; if not\n            // it initialises this instance with DEFAULT_SEED (5489).\n            // This is no longer necessary as initialisation of the\n            // Java instance must result in initialisation occurring\n            // Use the constructor MTRandom(true) to enable backwards\n            // compatible behaviour.\n\n            for (kk = 0; kk &lt; N-M; kk++) {\n                y = (mt[kk] &amp; UPPER_MASK) | (mt[kk+1] &amp; LOWER_MASK);\n                mt[kk] = mt[kk+M] ^ (y &gt;&gt;&gt; 1) ^ MAGIC[y &amp; 0x1];\n            }\n            for (;kk &lt; N-1; kk++) {\n                y = (mt[kk] &amp; UPPER_MASK) | (mt[kk+1] &amp; LOWER_MASK);\n                mt[kk] = mt[kk+(M-N)] ^ (y &gt;&gt;&gt; 1) ^ MAGIC[y &amp; 0x1];\n            }\n            y = (mt[N-1] &amp; UPPER_MASK) | (mt[0] &amp; LOWER_MASK);\n            mt[N-1] = mt[M-1] ^ (y &gt;&gt;&gt; 1) ^ MAGIC[y &amp; 0x1];\n\n            mti = 0;\n        }\n\n        y = mt[mti++];\n\n        // Tempering\n        y ^= (y &gt;&gt;&gt; 11);\n        y ^= (y &lt;&lt; 7) &amp; MAGIC_MASK1;\n        y ^= (y &lt;&lt; 15) &amp; MAGIC_MASK2;\n        y ^= (y &gt;&gt;&gt; 18);\n        // ---- End Mersenne Twister Algorithm ----\n        return (y &gt;&gt;&gt; (32-bits));\n    }\n\n    // This is a fairly obscure little code section to pack a\n    // byte[] into an int[] in little endian ordering.\n\n    /**\n     * This simply utility method can be used in cases where a byte\n     * array of seed data is to be used to repeatedly re-seed the\n     * random number sequence.  By packing the byte array into an\n     * integer array first, using this method, and then invoking\n     * setSeed() with that; it removes the need to re-pack the byte\n     * array each time setSeed() is called.\n     * &lt;p&gt;\n     * If the length of the byte array is not a multiple of 4 then\n     * it is implicitly padded with zeros as necessary.  For example:\n     * &lt;pre&gt;    byte[] { 0x01, 0x02, 0x03, 0x04, 0x05, 0x06 }&lt;/pre&gt;\n     * becomes\n     * &lt;pre&gt;    int[]  { 0x04030201, 0x00000605 }&lt;/pre&gt;\n     * &lt;p&gt;\n     * Note that this method will not complain if the given byte array\n     * is empty and will produce an empty integer array, but the\n     * setSeed() method will throw an exception if the empty integer\n     * array is passed to it.\n     *\n     * @param buf The non-null byte array to be packed.\n     * @return A non-null integer array of the packed bytes.\n     * @throws NullPointerException if the given byte array is null.\n     */\n    public static int[] pack(byte[] buf) {\n        int k, blen = buf.length, ilen = ((buf.length+3) &gt;&gt;&gt; 2);\n        int[] ibuf = new int[ilen];\n        for (int n = 0; n &lt; ilen; n++) {\n            int m = (n+1) &lt;&lt; 2;\n            if (m &gt; blen) m = blen;\n            for (k = buf[--m]&amp;0xff; (m &amp; 0x3) != 0; k = (k &lt;&lt; 8) | buf[--m]&amp;0xff);\n            ibuf[n] = k;\n        }\n        return ibuf;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","indexing","get","set"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1649008086,"post_id":71728300,"comment_id":126761745,"body_markdown":"hi where is the togglegroup","body":"hi where is the togglegroup"},{"owner":{"account_id":24812332,"reputation":21,"user_id":18693626,"display_name":"Hjkl"},"score":0,"creation_date":1649008226,"post_id":71728300,"comment_id":126761786,"body_markdown":"Hello, i have it, i just made a togglegroup and added all my buttons, should I send a code?","body":"Hello, i have it, i just made a togglegroup and added all my buttons, should I send a code?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1649008489,"post_id":71728300,"comment_id":126761861,"body_markdown":"Yes; please [edit] your question to include a [mre] that isolates your revised approach.","body":"Yes; please <a href=\"https://stackoverflow.com/posts/71728300/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that isolates your revised approach."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1649008987,"post_id":71728300,"comment_id":126761996,"body_markdown":"do you need how to retrieve info from selected radiobutton ?","body":"do you need how to retrieve info from selected radiobutton ?"},{"owner":{"account_id":24812332,"reputation":21,"user_id":18693626,"display_name":"Hjkl"},"score":0,"creation_date":1649009794,"post_id":71728300,"comment_id":126762196,"body_markdown":"Please can you reread my question, I hope I made it clearer","body":"Please can you reread my question, I hope I made it clearer"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1649016532,"post_id":71728300,"comment_id":126763556,"body_markdown":"Not radio button, but maybe you can get some ideas from [this](https://github.com/sedj601/QuestionGameWithSQLite)","body":"Not radio button, but maybe you can get some ideas from <a href=\"https://github.com/sedj601/QuestionGameWithSQLite\" rel=\"nofollow noreferrer\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649010141,"creation_date":1649010141,"answer_id":71728741,"question_id":71728300,"body_markdown":"An example of retrieving info from togglegroup . in this case the index of selected radiobutton in radiobuttons[]. this is one class javafx app you can test it        \r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.RadioButton;\r\n    import javafx.scene.control.ToggleGroup;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    \r\n    \r\n    public class App extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n           \r\n    \r\n            \r\n            ToggleGroup toggleGroup = new ToggleGroup();\r\n            RadioButton radioButton = new RadioButton(&quot;one&quot;);\r\n            radioButton.setToggleGroup(toggleGroup);\r\n            RadioButton radioButton1 = new RadioButton(&quot;two&quot;);\r\n            radioButton1.setToggleGroup(toggleGroup);\r\n            RadioButton radioButton2 = new RadioButton(&quot;three&quot;);\r\n            radioButton2.setToggleGroup(toggleGroup);\r\n            \r\n            //array of radioButtons\r\n            RadioButton radioButtons[]={radioButton,radioButton1,radioButton2};\r\n            \r\n            \r\n            String labelText = &quot;the index of selected button is : &quot;;\r\n            Label label = new Label(&quot;select a radiobutton&quot;);\r\n            HBox hb = new HBox(radioButton,radioButton1,radioButton2,label);\r\n            hb.setAlignment(Pos.CENTER);\r\n            hb.setSpacing(20.0);\r\n            \r\n            toggleGroup.selectedToggleProperty().addListener((e) -&gt; {\r\n                \r\n                RadioButton rb  = (RadioButton)toggleGroup.getSelectedToggle();\r\n                for (int i = 0; i &lt; radioButtons.length; i++) {\r\n                    if(rb.equals(radioButtons[i])){\r\n                    label.setText(labelText+i);\r\n                    break;}\r\n                                         \r\n                }});\r\n                \r\n                    \r\n            Scene scene = new Scene(hb,600,400);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n[![radiobutton example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nTwdH.png","title":"Returnin index of chosen RadioButton, elements are taken from the array","body":"<p>An example of retrieving info from togglegroup . in this case the index of selected radiobutton in radiobuttons[]. this is one class javafx app you can test it</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.RadioButton;\nimport javafx.scene.control.ToggleGroup;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\n\n\npublic class App extends Application {\n    @Override\n    public void start(Stage stage) {\n       \n\n        \n        ToggleGroup toggleGroup = new ToggleGroup();\n        RadioButton radioButton = new RadioButton(&quot;one&quot;);\n        radioButton.setToggleGroup(toggleGroup);\n        RadioButton radioButton1 = new RadioButton(&quot;two&quot;);\n        radioButton1.setToggleGroup(toggleGroup);\n        RadioButton radioButton2 = new RadioButton(&quot;three&quot;);\n        radioButton2.setToggleGroup(toggleGroup);\n        \n        //array of radioButtons\n        RadioButton radioButtons[]={radioButton,radioButton1,radioButton2};\n        \n        \n        String labelText = &quot;the index of selected button is : &quot;;\n        Label label = new Label(&quot;select a radiobutton&quot;);\n        HBox hb = new HBox(radioButton,radioButton1,radioButton2,label);\n        hb.setAlignment(Pos.CENTER);\n        hb.setSpacing(20.0);\n        \n        toggleGroup.selectedToggleProperty().addListener((e) -&gt; {\n            \n            RadioButton rb  = (RadioButton)toggleGroup.getSelectedToggle();\n            for (int i = 0; i &lt; radioButtons.length; i++) {\n                if(rb.equals(radioButtons[i])){\n                label.setText(labelText+i);\n                break;}\n                                     \n            }});\n            \n                \n        Scene scene = new Scene(hb,600,400);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nTwdH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nTwdH.png\" alt=\"radiobutton example\" /></a></p>\n"}],"owner":{"account_id":24812332,"reputation":21,"user_id":18693626,"display_name":"Hjkl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649010141,"creation_date":1649006759,"question_id":71728300,"body_markdown":"I&#39;m working on a javafx quiz, doing something like kahoot\r\n\r\nI&#39;ve got 4 radio buttons, with test option each, which are taken from the array of options \r\n\r\narray of options is just an array with 4 options, which are than given to my 4 buttons, but the oder is shuffled so I need to retrieve the index of the button that was clicked\r\n\r\nto do  so I need setter and getter methods for retrieving the index of chosen RadioButton\r\n\r\nPlease help me \r\n\r\nI have no idea how to return index of chosen element from the button \r\n\r\n\r\n```\r\nToggleGroup toggleGroup = new ToggleGroup();\r\n\r\n        rdBtn1.setToggleGroup(toggleGroup);\r\n        rdBtn2.setToggleGroup(toggleGroup);\r\n        rdBtn3.setToggleGroup(toggleGroup);\r\n        rdBtn4.setToggleGroup(toggleGroup);\r\nRadioButton[] radioButtons = {rdBtn1, rdBtn2, rdBtn3, rdBtn4};\r\n if (getIndex() != -1) {\r\n    int j = getIndex();\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        radioButtons[i].setSelected(i == j);\r\n    }\r\n}\r\nrdBtn.setOnAction(e -&gt; {\r\n    setIndex(0);\r\n    int index = getIndex();\r\n    String userChoice = getOptionAt(index);\r\n  \r\n}); \r\n```\r\n\r\n\r\n```\r\nsetIndex(0); getIndex();\r\n```\r\nwhat I really need is these two methods that will get and set index of the button after it has been clicked\r\n\r\n","title":"Returnin index of chosen RadioButton, elements are taken from the array","body":"<p>I'm working on a javafx quiz, doing something like kahoot</p>\n<p>I've got 4 radio buttons, with test option each, which are taken from the array of options</p>\n<p>array of options is just an array with 4 options, which are than given to my 4 buttons, but the oder is shuffled so I need to retrieve the index of the button that was clicked</p>\n<p>to do  so I need setter and getter methods for retrieving the index of chosen RadioButton</p>\n<p>Please help me</p>\n<p>I have no idea how to return index of chosen element from the button</p>\n<pre><code>ToggleGroup toggleGroup = new ToggleGroup();\n\n        rdBtn1.setToggleGroup(toggleGroup);\n        rdBtn2.setToggleGroup(toggleGroup);\n        rdBtn3.setToggleGroup(toggleGroup);\n        rdBtn4.setToggleGroup(toggleGroup);\nRadioButton[] radioButtons = {rdBtn1, rdBtn2, rdBtn3, rdBtn4};\n if (getIndex() != -1) {\n    int j = getIndex();\n    for (int i = 0; i &lt; 4; i++) {\n        radioButtons[i].setSelected(i == j);\n    }\n}\nrdBtn.setOnAction(e -&gt; {\n    setIndex(0);\n    int index = getIndex();\n    String userChoice = getOptionAt(index);\n  \n}); \n</code></pre>\n<pre><code>setIndex(0); getIndex();\n</code></pre>\n<p>what I really need is these two methods that will get and set index of the button after it has been clicked</p>\n"},{"tags":["java","arrays","user-interface","joptionpane"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1649006237,"post_id":71728024,"comment_id":126761278,"body_markdown":"Are you asking how to calculate the discounted price? If the user wants 100 hotdogs then she needs to pay 900, correct?","body":"Are you asking how to calculate the discounted price? If the user wants 100 hotdogs then she needs to pay 900, correct?"},{"owner":{"account_id":23499274,"reputation":7,"user_id":17549338,"display_name":"Klaus Hargreeves"},"score":0,"creation_date":1649008128,"post_id":71728024,"comment_id":126761757,"body_markdown":"the user will choose what is her order, then she will type how many orders, then if that order is in the discounted promo she will have a discount (depends on the promo is the discount), and it will calculated the total price. i hope i explain it im bad in english sorry.","body":"the user will choose what is her order, then she will type how many orders, then if that order is in the discounted promo she will have a discount (depends on the promo is the discount), and it will calculated the total price. i hope i explain it im bad in english sorry."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1649008968,"post_id":71728024,"comment_id":126761993,"body_markdown":"Would you consider making your program a GUI? Refer to [Java 8 Client Technologies](https://docs.oracle.com/javase/8/javase-clienttechnologies.htm). In other words use either _Swing_ or JavaFX.","body":"Would you consider making your program a GUI? Refer to <a href=\"https://docs.oracle.com/javase/8/javase-clienttechnologies.htm\" rel=\"nofollow noreferrer\">Java 8 Client Technologies</a>. In other words use either <i>Swing</i> or JavaFX."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649009824,"creation_date":1649009824,"answer_id":71728695,"question_id":71728024,"body_markdown":"The below code is a real quick-and-dirty. It gets your desired result but I believe that your program is more suitable as a GUI application. `JOptionPane` is not the best way to get data from the user.\r\n```java\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        //menu list\r\n\r\n        String username = JOptionPane.showInputDialog(null,\r\n                                                      &quot;Enter Username&quot;,\r\n                                                      &quot;Welcome to our computerized store!&quot;,\r\n                                                      JOptionPane.INFORMATION_MESSAGE);\r\n        String[] items = {&quot;Pork barbeque- 25&quot;,\r\n                          &quot;\\nGrilled jumbo hotdog- 10&quot;,\r\n                          &quot;\\nFried Rice- 10&quot;};\r\n        String choice = (String) JOptionPane.showInputDialog(null,\r\n                                                             &quot;Welcome &quot; + username + &quot;\\nWhat is your order?&quot;,\r\n                                                             &quot;Choose your order below!&quot;,\r\n                                                             JOptionPane.INFORMATION_MESSAGE,\r\n                                                             null,\r\n                                                             items,\r\n                                                             items[0]);\r\n        JOptionPane.showMessageDialog(null,\r\n                                      &quot;You choose &quot; + choice,\r\n                                      &quot;Your request&quot;,\r\n                                      JOptionPane.INFORMATION_MESSAGE);\r\n\r\n        String pieces = JOptionPane.showInputDialog(null,\r\n                                                    &quot;Below is the discount depending on how much you can avail:&quot; +\r\n                                                          &quot;\\n(please type how many pieces you can avail!)&quot; +\r\n                                                          &quot;\\n*100 pieces, 10%&quot; +\r\n                                                          &quot;\\n*300 pieces, 15%&quot; +\r\n                                                          &quot;\\n*500 pieces, 20%&quot; +\r\n                                                          &quot;\\n*1000 pieces, 50%&quot; +\r\n                                                          &quot;\\n*NO discount for orders 99 below&quot;,\r\n                                                    &quot;How many pieces can you avail?&quot;,\r\n                                                    JOptionPane.QUESTION_MESSAGE);\r\n        JOptionPane.showMessageDialog(null, &quot;You avail &quot; + pieces + &quot; pcs.&quot;);\r\n        String cost = choice.substring(choice.length() - 2);\r\n        int price = Integer.parseInt(cost);\r\n        int units = Integer.parseInt(pieces);\r\n        double discount;\r\n        if (units &gt;= 1000) {\r\n            discount = 0.5d;\r\n        }\r\n        else if (units &gt;= 500) {\r\n            discount = 0.8d;\r\n        }\r\n        else if (units &gt;= 300) {\r\n            discount = 0.85d;\r\n        }\r\n        else if (units &gt;= 100) {\r\n            discount = 0.9d;\r\n        }\r\n        else {\r\n            discount = 1.0d;\r\n        }\r\n        double payable = price * units * discount;\r\n        System.out.printf(&quot;You owe %.2f%n&quot;, payable);\r\n    }\r\n}\r\n```","title":"how can i make a simple store program","body":"<p>The below code is a real quick-and-dirty. It gets your desired result but I believe that your program is more suitable as a GUI application. <code>JOptionPane</code> is not the best way to get data from the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JOptionPane;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        //menu list\n\n        String username = JOptionPane.showInputDialog(null,\n                                                      &quot;Enter Username&quot;,\n                                                      &quot;Welcome to our computerized store!&quot;,\n                                                      JOptionPane.INFORMATION_MESSAGE);\n        String[] items = {&quot;Pork barbeque- 25&quot;,\n                          &quot;\\nGrilled jumbo hotdog- 10&quot;,\n                          &quot;\\nFried Rice- 10&quot;};\n        String choice = (String) JOptionPane.showInputDialog(null,\n                                                             &quot;Welcome &quot; + username + &quot;\\nWhat is your order?&quot;,\n                                                             &quot;Choose your order below!&quot;,\n                                                             JOptionPane.INFORMATION_MESSAGE,\n                                                             null,\n                                                             items,\n                                                             items[0]);\n        JOptionPane.showMessageDialog(null,\n                                      &quot;You choose &quot; + choice,\n                                      &quot;Your request&quot;,\n                                      JOptionPane.INFORMATION_MESSAGE);\n\n        String pieces = JOptionPane.showInputDialog(null,\n                                                    &quot;Below is the discount depending on how much you can avail:&quot; +\n                                                          &quot;\\n(please type how many pieces you can avail!)&quot; +\n                                                          &quot;\\n*100 pieces, 10%&quot; +\n                                                          &quot;\\n*300 pieces, 15%&quot; +\n                                                          &quot;\\n*500 pieces, 20%&quot; +\n                                                          &quot;\\n*1000 pieces, 50%&quot; +\n                                                          &quot;\\n*NO discount for orders 99 below&quot;,\n                                                    &quot;How many pieces can you avail?&quot;,\n                                                    JOptionPane.QUESTION_MESSAGE);\n        JOptionPane.showMessageDialog(null, &quot;You avail &quot; + pieces + &quot; pcs.&quot;);\n        String cost = choice.substring(choice.length() - 2);\n        int price = Integer.parseInt(cost);\n        int units = Integer.parseInt(pieces);\n        double discount;\n        if (units &gt;= 1000) {\n            discount = 0.5d;\n        }\n        else if (units &gt;= 500) {\n            discount = 0.8d;\n        }\n        else if (units &gt;= 300) {\n            discount = 0.85d;\n        }\n        else if (units &gt;= 100) {\n            discount = 0.9d;\n        }\n        else {\n            discount = 1.0d;\n        }\n        double payable = price * units * discount;\n        System.out.printf(&quot;You owe %.2f%n&quot;, payable);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23499274,"reputation":7,"user_id":17549338,"display_name":"Klaus Hargreeves"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649009824,"creation_date":1649004658,"question_id":71728024,"body_markdown":"I&#39;m so confused right now because I don&#39;t know how I can add the items and the quantity of the items that&#39;s in a drop down list. Can someone help me even with just an idea how to do it? Thank you in advance. Let me know if you need to know something because I can&#39;t explain very well. Thank you again.\r\n\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            //menu list\r\n    \r\n            String username = JOptionPane.showInputDialog(null, &quot;Enter Username&quot;,\r\n                    &quot;Welcome to our computerized store!&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n            String[] items = {&quot;Pork barbeque- 25&quot;,\r\n                    &quot;\\nGrilled jumbo hotdog- 10&quot;,\r\n                    &quot;\\nFried Rice- 10&quot;};\r\n            String choice = (String) JOptionPane.showInputDialog(null, &quot;Welcome &quot; + username +\r\n                    &quot;\\nWhat is your order?&quot;, &quot;Choose your order below!&quot;, JOptionPane.INFORMATION_MESSAGE, null, items, items[0]);\r\n            JOptionPane.showMessageDialog(null, &quot;You choose &quot; + choice, &quot;Your request&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n    \r\n            String pieces = JOptionPane.showInputDialog(null, &quot;Below is the discount depending on how much you can avail:&quot; +\r\n                    &quot;\\n(please type how many pieces you can avail!)&quot; +\r\n                    &quot;\\n*100 pieces, 10%&quot; +\r\n                    &quot;\\n*300 pieces, 15%&quot; +\r\n                    &quot;\\n*500 pieces, 20%&quot; +\r\n                    &quot;\\n*1000 pieces, 50%&quot; +\r\n                    &quot;\\n*NO discount for orders 99 below&quot;, &quot;How many pieces can you avail?&quot;, JOptionPane.QUESTION_MESSAGE);\r\n            JOptionPane.showMessageDialog(null, &quot;You avail &quot; + pieces + &quot; pcs.&quot;);\r\n            \r\n            //ARGHHH I DONT KNOW HOW TO ADD THEM","title":"how can i make a simple store program","body":"<p>I'm so confused right now because I don't know how I can add the items and the quantity of the items that's in a drop down list. Can someone help me even with just an idea how to do it? Thank you in advance. Let me know if you need to know something because I can't explain very well. Thank you again.</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        //menu list\n\n        String username = JOptionPane.showInputDialog(null, &quot;Enter Username&quot;,\n                &quot;Welcome to our computerized store!&quot;, JOptionPane.INFORMATION_MESSAGE);\n        String[] items = {&quot;Pork barbeque- 25&quot;,\n                &quot;\\nGrilled jumbo hotdog- 10&quot;,\n                &quot;\\nFried Rice- 10&quot;};\n        String choice = (String) JOptionPane.showInputDialog(null, &quot;Welcome &quot; + username +\n                &quot;\\nWhat is your order?&quot;, &quot;Choose your order below!&quot;, JOptionPane.INFORMATION_MESSAGE, null, items, items[0]);\n        JOptionPane.showMessageDialog(null, &quot;You choose &quot; + choice, &quot;Your request&quot;, JOptionPane.INFORMATION_MESSAGE);\n\n        String pieces = JOptionPane.showInputDialog(null, &quot;Below is the discount depending on how much you can avail:&quot; +\n                &quot;\\n(please type how many pieces you can avail!)&quot; +\n                &quot;\\n*100 pieces, 10%&quot; +\n                &quot;\\n*300 pieces, 15%&quot; +\n                &quot;\\n*500 pieces, 20%&quot; +\n                &quot;\\n*1000 pieces, 50%&quot; +\n                &quot;\\n*NO discount for orders 99 below&quot;, &quot;How many pieces can you avail?&quot;, JOptionPane.QUESTION_MESSAGE);\n        JOptionPane.showMessageDialog(null, &quot;You avail &quot; + pieces + &quot; pcs.&quot;);\n        \n        //ARGHHH I DONT KNOW HOW TO ADD THEM\n</code></pre>\n"},{"tags":["java","jar","java-native-interface"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":3,"creation_date":1649007806,"post_id":71728437,"comment_id":126761668,"body_markdown":"1.8 is _NOT_ the latest version. It might be the latest updated version for Java 8, but the latest Java is version 17. That Oracle suggests Java 8 might be related to the latest license changes. I would suggest to use openJDK instead.","body":"1.8 is <i>NOT</i> the latest version. It might be the latest updated version for Java 8, but the latest Java is version 17. That Oracle suggests Java 8 might be related to the latest license changes. I would suggest to use openJDK instead."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1649008005,"post_id":71728437,"comment_id":126761722,"body_markdown":"Java 8 is from 2014. Java 11 is from 2018. Not sure why you think 2014 &gt; 2018, but it isn&#39;t. There were Java 9 and 10 releases as well. So it isn&#39;t at all clear how you could be confused.","body":"Java 8 is from 2014. Java 11 is from 2018. Not sure why you think 2014 &gt; 2018, but it isn&#39;t. There were Java 9 and 10 releases as well. So it isn&#39;t at all clear how you could be confused."},{"owner":{"account_id":20896505,"reputation":11,"user_id":15350613,"display_name":"FariqueFece"},"score":0,"creation_date":1649008198,"post_id":71728437,"comment_id":126761775,"body_markdown":"So, what version of JRE would run a JDK 11 Jar since there is no separate modules for Run Time? Or is it just possible to run the Jar with a JDK&gt;11? Thanks for the observation!","body":"So, what version of JRE would run a JDK 11 Jar since there is no separate modules for Run Time? Or is it just possible to run the Jar with a JDK&gt;11? Thanks for the observation!"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1649008669,"post_id":71728437,"comment_id":126761908,"body_markdown":"@FariqueFece You *might* want to [pay attention](https://stackoverflow.com/q/55868821/2970947) to those versions I mentioned (9 and 10); they were important. And significant things happened.","body":"@FariqueFece You <i>might</i> want to <a href=\"https://stackoverflow.com/q/55868821/2970947\">pay attention</a> to those versions I mentioned (9 and 10); they were important. And significant things happened."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1649009521,"post_id":71728437,"comment_id":126762126,"body_markdown":"Try the latest java 11 https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html.","body":"Try the latest java 11 <a href=\"https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649029017,"post_id":71728437,"comment_id":126765562,"body_markdown":"Post text here rather than images wherever practical.","body":"Post text here rather than images wherever practical."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649029195,"post_id":71728437,"comment_id":126765586,"body_markdown":"Java 18 is the latest version, as of last week. See [version history](https://en.wikipedia.org/wiki/Java_version_history).","body":"Java 18 is the latest version, as of last week. See <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">version history</a>."}],"answers":[{"tags":[],"owner":{"account_id":13015730,"reputation":666,"user_id":9407066,"display_name":"Jakubeeee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649009744,"creation_date":1649009744,"answer_id":71728680,"question_id":71728437,"body_markdown":"&gt; Blockquote My version of Jre in the other pc is: &quot;1.8.0_321&quot; which is supossed to be the latest version.\r\n\r\nThe 1.8 version (JDK 8) is not the latest. It&#39;s an older release from 2014. JDK 11 is a newer release from 2018. The latest release is JDK 18 from 03.2022.\r\n\r\nHere you can download the JDK 18 from the OpenJDK:\r\nhttps://jdk.java.net/18/\r\n\r\nAnd here from Oracle:\r\nhttps://www.oracle.com/java/technologies/downloads/\r\n\r\nAlso note that the separation between &quot;JRE&quot; (Java Runtime Environemt) and &quot;JDK&quot; (Java Development Kit) does not exist since JDK 9. Now there is only JDK.","title":"Why latest jre won&#39;t run jar compiled with older version of jdk?","body":"<blockquote>\n<p>Blockquote My version of Jre in the other pc is: &quot;1.8.0_321&quot; which is supossed to be the latest version.</p>\n</blockquote>\n<p>The 1.8 version (JDK 8) is not the latest. It's an older release from 2014. JDK 11 is a newer release from 2018. The latest release is JDK 18 from 03.2022.</p>\n<p>Here you can download the JDK 18 from the OpenJDK:\n<a href=\"https://jdk.java.net/18/\" rel=\"nofollow noreferrer\">https://jdk.java.net/18/</a></p>\n<p>And here from Oracle:\n<a href=\"https://www.oracle.com/java/technologies/downloads/\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/</a></p>\n<p>Also note that the separation between &quot;JRE&quot; (Java Runtime Environemt) and &quot;JDK&quot; (Java Development Kit) does not exist since JDK 9. Now there is only JDK.</p>\n"}],"owner":{"account_id":20896505,"reputation":11,"user_id":15350613,"display_name":"FariqueFece"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1434,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1649009744,"creation_date":1649007710,"question_id":71728437,"body_markdown":"I&#39;ve used VsCode to create a Jar file from my Java Project and works perfectly in my pc.\r\n\r\nI tried to use a laptop that had no Java whatsoever to run such Jar; so I just downloaded and installed the latest version of JRE(https://www.java.com/es/download/ie_manual.jsp) since it&#39;s the only thing required to run a .jar\r\n\r\nBut when I try to run the Jar in this separete laptop I get an error message that makes no sense, since I am creating a Jar with an old version of the JDK and executing it with the latest JRE it should work.\r\n\r\nMy version of JDK is this one: \r\n11.0.12 (I get the same output with &quot;java -version&quot; and &quot;javac -version&quot;)\r\n\r\nMy version of Jre in the other pc is:\r\n&quot;1.8.0_321&quot; which is supossed to be the latest version.\r\n\r\nAnd the error i get is the following: \r\n[Error due versions incompatibility][1]\r\n\r\nHas any one encountered this error? Both OS are Windows 10 and when googling for the specific error I just get solutions that say Java has backwards compatibility, to implement a .bat, download a JDK and work from there. But I don&#39;t understand why the latest JRE won&#39;t run an older version of JDK (which embeded has the JRE and compiler).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0i3cm.png","title":"Why latest jre won&#39;t run jar compiled with older version of jdk?","body":"<p>I've used VsCode to create a Jar file from my Java Project and works perfectly in my pc.</p>\n<p>I tried to use a laptop that had no Java whatsoever to run such Jar; so I just downloaded and installed the latest version of JRE(<a href=\"https://www.java.com/es/download/ie_manual.jsp\" rel=\"nofollow noreferrer\">https://www.java.com/es/download/ie_manual.jsp</a>) since it's the only thing required to run a .jar</p>\n<p>But when I try to run the Jar in this separete laptop I get an error message that makes no sense, since I am creating a Jar with an old version of the JDK and executing it with the latest JRE it should work.</p>\n<p>My version of JDK is this one:\n11.0.12 (I get the same output with &quot;java -version&quot; and &quot;javac -version&quot;)</p>\n<p>My version of Jre in the other pc is:\n&quot;1.8.0_321&quot; which is supossed to be the latest version.</p>\n<p>And the error i get is the following:\n<a href=\"https://i.stack.imgur.com/0i3cm.png\" rel=\"nofollow noreferrer\">Error due versions incompatibility</a></p>\n<p>Has any one encountered this error? Both OS are Windows 10 and when googling for the specific error I just get solutions that say Java has backwards compatibility, to implement a .bat, download a JDK and work from there. But I don't understand why the latest JRE won't run an older version of JDK (which embeded has the JRE and compiler).</p>\n"},{"tags":["javascript","java","jquery","css","sharepoint"],"comments":[{"owner":{"account_id":201495,"reputation":34677,"user_id":447970,"display_name":"teylyn"},"score":0,"creation_date":1649015239,"post_id":71728481,"comment_id":126763316,"body_markdown":"Reads like a homework assignment. You want us to do your assignment for you without you putting in any work? I&#39;m sure your course material covers the skills required.","body":"Reads like a homework assignment. You want us to do your assignment for you without you putting in any work? I&#39;m sure your course material covers the skills required."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649024288,"post_id":71728481,"comment_id":126764955,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":201495,"reputation":34677,"user_id":447970,"display_name":"teylyn"},"score":0,"creation_date":1649145204,"post_id":71728481,"comment_id":126795061,"body_markdown":"Instead of attcking me (which provides great motivation for me or others to help you, right?), how about you do what the bot suggested in the comment, so we have something to start with.","body":"Instead of attcking me (which provides great motivation for me or others to help you, right?), how about you do what the bot suggested in the comment, so we have something to start with."}],"owner":{"account_id":24812586,"reputation":1,"user_id":18693848,"display_name":"UncleJJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649009140,"creation_date":1649008037,"question_id":71728481,"body_markdown":"[I can&#39;t embed an image but here&#39;s a screenshot][1]\r\nI need some help modifying a SharePoint page I&#39;m working on while trying to learn the application.  I have no coding background, please explain like I&#39;m 5.  I&#39;m using the Summary Links web part but I can&#39;t figure out for the life of me how to complete these things:\r\n\r\n1.  Change the band color from gray to:  Kobe Bryant (purple), Lebron James (maroon), Michael Jordan (red)\r\n2.  Add a logo picture before the following texts &quot;Kobe Bryant&quot; (lakers.png), &quot;Lebron James&quot; (cavs.png), &quot;Michael Jordan&quot; (bulls.png)\r\n\r\nPlease help! I&#39;ve been messing with the CSS to no avail.\r\n\r\nThe band can be modified by editing div.groupheader.item.band but I don&#39;t see a way to change it individually for each player. I&#39;m looking for a way to force change these using Java or something. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CbrNO.png","title":"Editing SharePoint &quot;Summary Links&quot; Webpart","body":"<p><a href=\"https://i.stack.imgur.com/CbrNO.png\" rel=\"nofollow noreferrer\">I can't embed an image but here's a screenshot</a>\nI need some help modifying a SharePoint page I'm working on while trying to learn the application.  I have no coding background, please explain like I'm 5.  I'm using the Summary Links web part but I can't figure out for the life of me how to complete these things:</p>\n<ol>\n<li>Change the band color from gray to:  Kobe Bryant (purple), Lebron James (maroon), Michael Jordan (red)</li>\n<li>Add a logo picture before the following texts &quot;Kobe Bryant&quot; (lakers.png), &quot;Lebron James&quot; (cavs.png), &quot;Michael Jordan&quot; (bulls.png)</li>\n</ol>\n<p>Please help! I've been messing with the CSS to no avail.</p>\n<p>The band can be modified by editing div.groupheader.item.band but I don't see a way to change it individually for each player. I'm looking for a way to force change these using Java or something.</p>\n"},{"tags":["java","swing","jspinner"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1648955236,"post_id":71722654,"comment_id":126752370,"body_markdown":"Don&#39;t use doubles for monetary values, use `BigDecimal`.","body":"Don&#39;t use doubles for monetary values, use <code>BigDecimal</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1648955304,"post_id":71722654,"comment_id":126752381,"body_markdown":"See https://stackoverflow.com/questions/62745819/does-using-bigdecimal-over-double-for-basic-integer-divisions-do-anything-if-you","body":"See <a href=\"https://stackoverflow.com/questions/62745819/does-using-bigdecimal-over-double-for-basic-integer-divisions-do-anything-if-you\" title=\"does using bigdecimal over double for basic integer divisions do anything if you\">stackoverflow.com/questions/62745819/&hellip;</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1648955716,"post_id":71722654,"comment_id":126752421,"body_markdown":"Do you mean that the spinner displays 3 decimals?  Or that the value is wrong when you retrieve it from spinner?","body":"Do you mean that the spinner displays 3 decimals?  Or that the value is wrong when you retrieve it from spinner?"},{"owner":{"account_id":19398319,"reputation":1,"user_id":16692116,"display_name":"NickC64"},"score":0,"creation_date":1648955747,"post_id":71722654,"comment_id":126752427,"body_markdown":"@DawoodibnKareem It displays 3 decimals.","body":"@DawoodibnKareem It displays 3 decimals."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649008657,"creation_date":1649008657,"answer_id":71728564,"question_id":71722654,"body_markdown":"Works fine for me. I cannot reproduce your problem. Consider the below code.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFormattedTextField;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JSpinner;\r\nimport javax.swing.SpinnerNumberModel;\r\n\r\npublic class SpinTest {\r\n\r\n    private void createAndDisplayGui() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createSpinner(), BorderLayout.PAGE_START);\r\n        frame.add(createButtons(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButtons() {\r\n        JPanel panel = new JPanel();\r\n        JButton button = new JButton(&quot;Exit&quot;);\r\n        button.addActionListener(e -&gt; System.exit(0));\r\n        panel.add(button);\r\n        return panel;\r\n    }\r\n\r\n    private JPanel createSpinner() {\r\n        JPanel panel = new JPanel();\r\n        SpinnerNumberModel priceSpinnerModel = new SpinnerNumberModel(0d, 0d, null, 0.01d);\r\n        JSpinner priceSpinner = new JSpinner(priceSpinnerModel);\r\n        JSpinner.NumberEditor editor = new JSpinner.NumberEditor(priceSpinner, &quot;#,##0.00&quot;);\r\n        JFormattedTextField textField = editor.getTextField();\r\n        textField.setColumns(12);\r\n        priceSpinner.setEditor(editor);\r\n        panel.add(priceSpinner);\r\n        return panel;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new SpinTest().createAndDisplayGui());\r\n    }\r\n}\r\n```\r\nIf I enter a number with more than two digits after the decimal point, it gets rounded to precisely two digits.\r\n\r\nRefer to [How to Use Spinners][1] and *javadoc* for class [java.text.DecimalFormat][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html","title":"How to round a JSpinner value to 2 decimals?","body":"<p>Works fine for me. I cannot reproduce your problem. Consider the below code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\n\nimport javax.swing.JButton;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSpinner;\nimport javax.swing.SpinnerNumberModel;\n\npublic class SpinTest {\n\n    private void createAndDisplayGui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createSpinner(), BorderLayout.PAGE_START);\n        frame.add(createButtons(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtons() {\n        JPanel panel = new JPanel();\n        JButton button = new JButton(&quot;Exit&quot;);\n        button.addActionListener(e -&gt; System.exit(0));\n        panel.add(button);\n        return panel;\n    }\n\n    private JPanel createSpinner() {\n        JPanel panel = new JPanel();\n        SpinnerNumberModel priceSpinnerModel = new SpinnerNumberModel(0d, 0d, null, 0.01d);\n        JSpinner priceSpinner = new JSpinner(priceSpinnerModel);\n        JSpinner.NumberEditor editor = new JSpinner.NumberEditor(priceSpinner, &quot;#,##0.00&quot;);\n        JFormattedTextField textField = editor.getTextField();\n        textField.setColumns(12);\n        priceSpinner.setEditor(editor);\n        panel.add(priceSpinner);\n        return panel;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new SpinTest().createAndDisplayGui());\n    }\n}\n</code></pre>\n<p>If I enter a number with more than two digits after the decimal point, it gets rounded to precisely two digits.</p>\n<p>Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow noreferrer\">How to Use Spinners</a> and <em>javadoc</em> for class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">java.text.DecimalFormat</a></p>\n"}],"owner":{"account_id":19398319,"reputation":1,"user_id":16692116,"display_name":"NickC64"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649008657,"creation_date":1648954625,"question_id":71722654,"body_markdown":"I am currently trying to create a `JSpinner` that only accepts monetary values, i.e. a maximum of 2 decimals, and I tried to accomplish this using this code:\r\n\r\n```java\r\npriceSpinner = new JSpinner();\r\nSpinnerNumberModel priceSpinnerModel = new SpinnerNumberModel(\r\n\t\tDouble.valueOf(0d), \r\n\t\tDouble.valueOf(0d), \r\n\t\tnull, \r\n\t\tDouble.valueOf(0.01d));\r\npriceSpinner.setModel(priceSpinnerModel);\r\npriceSpinner.setEditor(new JSpinner.NumberEditor(priceSpinner, &quot;0.00&quot;));\r\n```\r\nHowever, when I input a number that contains more than 2 decimals, the spinner rounds it off to 3 decimals instead. What am I doing wrong?\r\n","title":"How to round a JSpinner value to 2 decimals?","body":"<p>I am currently trying to create a <code>JSpinner</code> that only accepts monetary values, i.e. a maximum of 2 decimals, and I tried to accomplish this using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>priceSpinner = new JSpinner();\nSpinnerNumberModel priceSpinnerModel = new SpinnerNumberModel(\n        Double.valueOf(0d), \n        Double.valueOf(0d), \n        null, \n        Double.valueOf(0.01d));\npriceSpinner.setModel(priceSpinnerModel);\npriceSpinner.setEditor(new JSpinner.NumberEditor(priceSpinner, &quot;0.00&quot;));\n</code></pre>\n<p>However, when I input a number that contains more than 2 decimals, the spinner rounds it off to 3 decimals instead. What am I doing wrong?</p>\n"},{"tags":["java","java-native-interface","native"],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649007432,"creation_date":1649007432,"answer_id":71728395,"question_id":71728214,"body_markdown":"You are basically asking if you can call arbitrary code in memory you control.  This is something that is technically possible... the JIT compiler of the JVM is doing it all the time.  But I think you will need at least one native library loaded through the standard mechanism to get started.  There is no way to do this directly from Java that I am aware of, so at this point I think you first need a basic JNI library to provide the hooks needed.\r\n\r\nProject Panama may change this, see:  https://github.com/openjdk/panama-foreign/blob/foreign-jextract/doc/panama_ffi.md","title":"Can java JNI load native funciton without file?","body":"<p>You are basically asking if you can call arbitrary code in memory you control.  This is something that is technically possible... the JIT compiler of the JVM is doing it all the time.  But I think you will need at least one native library loaded through the standard mechanism to get started.  There is no way to do this directly from Java that I am aware of, so at this point I think you first need a basic JNI library to provide the hooks needed.</p>\n<p>Project Panama may change this, see:  <a href=\"https://github.com/openjdk/panama-foreign/blob/foreign-jextract/doc/panama_ffi.md\" rel=\"nofollow noreferrer\">https://github.com/openjdk/panama-foreign/blob/foreign-jextract/doc/panama_ffi.md</a></p>\n"}],"owner":{"account_id":23498305,"reputation":5,"user_id":17548469,"display_name":"Shallow Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71728395,"answer_count":1,"score":0,"last_activity_date":1649007432,"creation_date":1649006124,"question_id":71728214,"body_markdown":"I&#39;m wondering how to write a java program that load native funciton from itself.\r\nI just want to use the simple native function in lib(which raw data was stored inside java code).\r\n\r\nUsually load native is like this, which will load lib from file system:\r\n\r\n```java\r\npublic class HelloJNI {\r\n   static {\r\n      System.loadLibrary(&quot;hello&quot;); // Load native library hello.dll (Windows) or libhello.so (Unixes)\r\n   }\r\n   private native void sayHello();\r\n\r\n   public static void main(String[] args) {\r\n      new HelloJNI().sayHello();\r\n   }\r\n}\r\n```\r\n\r\nHowever for some reason, I want do this with only one .java file. For example, I write &quot;libhello.so&quot; from java to file and load it:\r\n\r\n```java\r\npublic class HelloJNI  {\r\n    public static native void sayHello();\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        FileOutputStream fos = new FileOutputStream(&quot;./libhello.so&quot;);\r\n        fos.write(Base64.getDecoder().decode(&quot;base64encode of libhello.so&quot;));\r\n        fos.close();\r\n        System.load(System.getProperty(&quot;user.dir&quot;)+&quot;/libhello.so&quot;);\r\n        new HelloJNI().sayHello();\r\n\r\n    }\r\n}\r\n```\r\n\r\nSince I write data in program to file and load the file I just wrote only to use &quot;System.load()&quot;, I want to know if I can just load from program rather than write to file and load it.","title":"Can java JNI load native funciton without file?","body":"<p>I'm wondering how to write a java program that load native funciton from itself.\nI just want to use the simple native function in lib(which raw data was stored inside java code).</p>\n<p>Usually load native is like this, which will load lib from file system:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloJNI {\n   static {\n      System.loadLibrary(&quot;hello&quot;); // Load native library hello.dll (Windows) or libhello.so (Unixes)\n   }\n   private native void sayHello();\n\n   public static void main(String[] args) {\n      new HelloJNI().sayHello();\n   }\n}\n</code></pre>\n<p>However for some reason, I want do this with only one .java file. For example, I write &quot;libhello.so&quot; from java to file and load it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloJNI  {\n    public static native void sayHello();\n\n    public static void main(String[] args) throws Exception{\n        FileOutputStream fos = new FileOutputStream(&quot;./libhello.so&quot;);\n        fos.write(Base64.getDecoder().decode(&quot;base64encode of libhello.so&quot;));\n        fos.close();\n        System.load(System.getProperty(&quot;user.dir&quot;)+&quot;/libhello.so&quot;);\n        new HelloJNI().sayHello();\n\n    }\n}\n</code></pre>\n<p>Since I write data in program to file and load the file I just wrote only to use &quot;System.load()&quot;, I want to know if I can just load from program rather than write to file and load it.</p>\n"},{"tags":["java","spring-boot","docker","war","application-server"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648979183,"creation_date":1648979183,"answer_id":71724733,"question_id":71723843,"body_markdown":"[Each Spring Boot web application includes an embedded web server][1]. Just run the JAR in the docker container and your application will spin-up, there is no need for a separate application server.\r\n\r\nDockerfile can be as simple as:\r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nDon&#39;t forget to use the [Spring Boot Maven Plugin][2] to make the JAR executable.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.webserver\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/","title":"How to run a Spring Boot application previously deployed on an application server in docker on AWS?","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.webserver\" rel=\"nofollow noreferrer\">Each Spring Boot web application includes an embedded web server</a>. Just run the JAR in the docker container and your application will spin-up, there is no need for a separate application server.</p>\n<p>Dockerfile can be as simple as:</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>Don't forget to use the <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">Spring Boot Maven Plugin</a> to make the JAR executable.</p>\n"}],"owner":{"account_id":10494409,"reputation":407,"user_id":7735168,"accept_rate":50,"display_name":"Sara Selim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1648981811,"accepted_answer_id":71724733,"answer_count":1,"score":-1,"last_activity_date":1649006960,"creation_date":1648970782,"question_id":71723843,"body_markdown":"I have a Spring Boot application that needs to be deployed as a docker container on AWS. In our old production environment we packaged the application as a WAR file and deployed it to an application server. How can we package the application with the application server so that it can run as a docker container? ","title":"How to run a Spring Boot application previously deployed on an application server in docker on AWS?","body":"<p>I have a Spring Boot application that needs to be deployed as a docker container on AWS. In our old production environment we packaged the application as a WAR file and deployed it to an application server. How can we package the application with the application server so that it can run as a docker container?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"score":0,"creation_date":1649006762,"post_id":71728271,"comment_id":126761404,"body_markdown":"try with ```Process proc = Runtime.getRuntime().exec(command);```","body":"try with <code>Process proc = Runtime.getRuntime().exec(command);</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649007148,"post_id":71728271,"comment_id":126761491,"body_markdown":"`ProcessBuilder builder = new ProcessBuilder(&quot;/bin/ping&quot;, &quot;-c 1&quot;, ip);` Read all lines and match on &quot;/avg/&quot;;","body":"<code>ProcessBuilder builder = new ProcessBuilder(&quot;&#47;bin&#47;ping&quot;, &quot;-c 1&quot;, ip);</code> Read all lines and match on &quot;/avg/&quot;;"},{"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"score":0,"creation_date":1649011184,"post_id":71728271,"comment_id":126762472,"body_markdown":"`ping` exists on the different unix operating systems as well, but it is not guaranteed that it will be in the directory `/bin`. For example on MacOS (I know that is not Linux and the question was about Linux specifically) it is `/sbin`.","body":"<code>ping</code> exists on the different unix operating systems as well, but it is not guaranteed that it will be in the directory <code>&#47;bin</code>. For example on MacOS (I know that is not Linux and the question was about Linux specifically) it is <code>&#47;sbin</code>."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1649013748,"post_id":71728271,"comment_id":126762993,"body_markdown":"Instead of matching the strings using powershell (which is not cmd.exe BTW) on Windows and something else like grep or sed on Unix, you could on both OSes just run `ping addr` and use _Java_ code to match the strings e.g. [String.matches](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String))","body":"Instead of matching the strings using powershell (which is not cmd.exe BTW) on Windows and something else like grep or sed on Unix, you could on both OSes just run <code>ping addr</code> and use <i>Java</i> code to match the strings e.g. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#matches(java.lang.String)\" rel=\"nofollow noreferrer\">String.matches</a>"}],"owner":{"account_id":24629747,"reputation":11,"user_id":18529120,"display_name":"yarik test"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649006535,"creation_date":1649006535,"question_id":71728271,"body_markdown":"I have a code that works for Windows, but due to the fact that there is a cmd.exe, it does not work under Linux, what can be fixed?\r\n\r\n    public static String getAverageTime(String ip) throws IOException {\r\n            String command = String.format(&quot;ping %s | ForEach-Object {if($_ -match &#39;(?:Average) = (\\\\d+)&#39;){$Matches[1]}}&quot;, ip);\r\n            ProcessBuilder builder = new ProcessBuilder(\r\n                    &quot;powershell.exe&quot;, &quot;/c&quot;, command);\r\n            builder.redirectErrorStream(true);\r\n            Process p = builder.start();\r\n            BufferedReader r = new BufferedReader(new\r\n                    InputStreamReader(p.getInputStream()));\r\n            String averageTime;\r\n            averageTime = r.readLine();\r\n            if(averageTime == null) {\r\n                System.out.println(&quot;Wrong IP address&quot;);\r\n                System.exit(-1);\r\n            }\r\n            return averageTime;\r\n        }","title":"How to get average response time IP in linux","body":"<p>I have a code that works for Windows, but due to the fact that there is a cmd.exe, it does not work under Linux, what can be fixed?</p>\n<pre><code>public static String getAverageTime(String ip) throws IOException {\n        String command = String.format(&quot;ping %s | ForEach-Object {if($_ -match '(?:Average) = (\\\\d+)'){$Matches[1]}}&quot;, ip);\n        ProcessBuilder builder = new ProcessBuilder(\n                &quot;powershell.exe&quot;, &quot;/c&quot;, command);\n        builder.redirectErrorStream(true);\n        Process p = builder.start();\n        BufferedReader r = new BufferedReader(new\n                InputStreamReader(p.getInputStream()));\n        String averageTime;\n        averageTime = r.readLine();\n        if(averageTime == null) {\n            System.out.println(&quot;Wrong IP address&quot;);\n            System.exit(-1);\n        }\n        return averageTime;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648485655,"post_id":71650714,"comment_id":126630367,"body_markdown":"Your question could use a bit of formatting to separate the code from your text and from the error message. Oh, and you could at least use a cite to mark better it is something like homework.","body":"Your question could use a bit of formatting to separate the code from your text and from the error message. Oh, and you could at least use a cite to mark better it is something like homework."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648485796,"creation_date":1648485796,"answer_id":71650787,"question_id":71650714,"body_markdown":"The specific error message is because the index and size of an element must be `int`. So declare and assign at once: `int numElements = scnr.nextInt();`","title":"Adjust list by normalizing in java","body":"<p>The specific error message is because the index and size of an element must be <code>int</code>. So declare and assign at once: <code>int numElements = scnr.nextInt();</code></p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648488787,"creation_date":1648488787,"answer_id":71651383,"question_id":71650714,"body_markdown":"Better way of programming things:\r\n\r\n - skip manual input (aka Scanner and consorts). Makes you crazy and testing a 100&#39;000&#39;000 times slower\r\n - you can integrate the interactive part later, once the method is done. You already know how, your code already shows.\r\n - use an explicit method to do your work. Don&#39;t throw everything into the main method. This way you can run multiple examples/tests on the method, and you have a better implementation for later.\r\n - check for invalid input INSIDE the method that you implement. Once you can rely in such a method, you can keep on using it later on.\r\n - you could even move the example numbers to its own test method, so you can run multiple test methods. You will learn about Unit Testing later on.\r\n\r\nExample code:\r\n\r\n    public class LabProgram {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal double[] initialValues = new double[] { 30.0, 50.0, 10.0, 100.0, 65.0 };\r\n    \r\n    \t\tfinal double[] adjustedValues = normalizeValuesByHighest(initialValues);\r\n    \t\tSystem.out.println(&quot;Adjusted values:&quot;);\r\n    \t\tfor (final double d : adjustedValues) {\r\n    \t\t\tSystem.out.printf(&quot;%.2f &quot;, Double.valueOf(d));\r\n    \t\t}\r\n    \t\t// expected otuput is 0.30 0.50 0.10 1.00 0.65\r\n    \t\tSystem.out.println();\r\n    \r\n    \t\tSystem.out.println(&quot;All done.&quot;);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic public double[] normalizeValuesByHighest(final double[] pInitialValues) {\r\n    \t\tif (pInitialValues == null) throw new IllegalArgumentException(&quot;Invalid double[] given!&quot;);\r\n    \t\tif (pInitialValues.length &lt; 1) throw new IllegalArgumentException(&quot;double[] given contains no elements!&quot;);\r\n    \r\n    \t\t// detect valid max value\r\n    \t\tdouble tempMaxValue = -Double.MAX_VALUE;\r\n    \t\tboolean hasValues = false;\r\n    \t\tfor (final double d : pInitialValues) {\r\n    \t\t\tif (Double.isNaN(d)) continue;\r\n    \r\n    \t\t\ttempMaxValue = Math.max(tempMaxValue, d);\r\n    \t\t\thasValues = true;\r\n    \t\t}\r\n    \t\tif (!hasValues) throw new IllegalArgumentException(&quot;double[] given contains no valid elements, only NaNs!&quot;);\r\n    \r\n    \t\t// create return array\r\n    \t\tfinal double maxValue = tempMaxValue; // final from here on\r\n    \t\tfinal double[] ret = new double[pInitialValues.length];\r\n    \t\tfor (int i = 0; i &lt; pInitialValues.length; i++) {\r\n    \t\t\tret[i] = pInitialValues[i] / maxValue; // NaN will stay NaN\r\n    \t\t}\r\n    \t\treturn ret;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n    \r\nOutput:\r\n\r\n    Adjusted values:\r\n    0,30 0,50 0,10 1,00 0,65 \r\n    All done.\r\n\r\n\r\n","title":"Adjust list by normalizing in java","body":"<p>Better way of programming things:</p>\n<ul>\n<li>skip manual input (aka Scanner and consorts). Makes you crazy and testing a 100'000'000 times slower</li>\n<li>you can integrate the interactive part later, once the method is done. You already know how, your code already shows.</li>\n<li>use an explicit method to do your work. Don't throw everything into the main method. This way you can run multiple examples/tests on the method, and you have a better implementation for later.</li>\n<li>check for invalid input INSIDE the method that you implement. Once you can rely in such a method, you can keep on using it later on.</li>\n<li>you could even move the example numbers to its own test method, so you can run multiple test methods. You will learn about Unit Testing later on.</li>\n</ul>\n<p>Example code:</p>\n<pre><code>public class LabProgram {\n\n\n\n    public static void main(final String[] args) {\n        final double[] initialValues = new double[] { 30.0, 50.0, 10.0, 100.0, 65.0 };\n\n        final double[] adjustedValues = normalizeValuesByHighest(initialValues);\n        System.out.println(&quot;Adjusted values:&quot;);\n        for (final double d : adjustedValues) {\n            System.out.printf(&quot;%.2f &quot;, Double.valueOf(d));\n        }\n        // expected otuput is 0.30 0.50 0.10 1.00 0.65\n        System.out.println();\n\n        System.out.println(&quot;All done.&quot;);\n    }\n\n\n\n    static public double[] normalizeValuesByHighest(final double[] pInitialValues) {\n        if (pInitialValues == null) throw new IllegalArgumentException(&quot;Invalid double[] given!&quot;);\n        if (pInitialValues.length &lt; 1) throw new IllegalArgumentException(&quot;double[] given contains no elements!&quot;);\n\n        // detect valid max value\n        double tempMaxValue = -Double.MAX_VALUE;\n        boolean hasValues = false;\n        for (final double d : pInitialValues) {\n            if (Double.isNaN(d)) continue;\n\n            tempMaxValue = Math.max(tempMaxValue, d);\n            hasValues = true;\n        }\n        if (!hasValues) throw new IllegalArgumentException(&quot;double[] given contains no valid elements, only NaNs!&quot;);\n\n        // create return array\n        final double maxValue = tempMaxValue; // final from here on\n        final double[] ret = new double[pInitialValues.length];\n        for (int i = 0; i &lt; pInitialValues.length; i++) {\n            ret[i] = pInitialValues[i] / maxValue; // NaN will stay NaN\n        }\n        return ret;\n    }\n\n\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Adjusted values:\n0,30 0,50 0,10 1,00 0,65 \nAll done.\n</code></pre>\n"}],"owner":{"account_id":24558391,"reputation":21,"user_id":18466569,"display_name":"Hype The cop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1649005335,"creation_date":1648485430,"question_id":71650714,"body_markdown":"When analysing data sets, such as data for human heights or for human weights, a common step is to adjust the data. This adjustment can be done by normalizing to values between 0 and 1, or throwing away outliers.\r\n\r\nFor this program, adjust the values by dividing all values by the largest value. The input begins with an integer indicating the number of floating-point values that follow. Assume that the list will always contain fewer than 20 floating-point values.\r\n\r\nOutput each floating-point value with two digits after the decimal point, which can be achieved as follows:\r\n\r\n    System.out.printf(&quot;%.2f&quot;, yourValue);\r\n\r\nEx: If the input is:\r\n\r\n&gt; 5 30.0 50.0 10.0 100.0 65.0\r\n\r\nthe output is:\r\n\r\n&gt; 0.30 0.50 0.10 1.00 0.65\r\n\r\nThe 5 indicates that there are five floating-point values in the list, namely 30.0, 50.0, 10.0, 100.0, and 65.0. 100.0 is the largest value in the list, so each value is divided by 100.0.\r\n\r\nFor coding simplicity, follow every output value by a space, including the last one.\r\n\r\nThis is my code so far: \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LabProgram {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner scnr = new Scanner(System.in);\r\n            double numElements;\r\n            numElements = scnr.nextDouble();\r\n            double[] userList = new double[numElements];\r\n            int i;\r\n            double maxValue;\r\n    \r\n            for (i = 0; i &lt; userList.length; ++i) {\r\n                userList[i] = scnr.nextDouble();\r\n            }\r\n    \r\n            maxValue = userList[i];\r\n            for (i = 0; i &lt; userList.length; ++i) {\r\n                if (userList[i] &gt; maxValue) {\r\n                    maxValue = userList[i];\r\n                }\r\n            }\r\n    \r\n            for (i = 0; i &lt; userList.length; ++i) {\r\n                userList[i] = userList[i] / maxValue;\r\n                System.out.print(userList[i] + &quot; &quot;);\r\n                System.out.printf(&quot;%.2f&quot;, userList[i]);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\nI keep getting this output. \r\n\r\n    LabProgram.java:8: error: incompatible types: possible lossy conversion from double to int\r\n    double [] userList = new double [numElements]; \r\n                                     ^\r\n    1 error\r\n\r\nI think my variable is messed up. I read through my book and could not find help. Can someone please help me on here. Thank you so much! This has been very stressful for me. \r\n","title":"Adjust list by normalizing in java","body":"<p>When analysing data sets, such as data for human heights or for human weights, a common step is to adjust the data. This adjustment can be done by normalizing to values between 0 and 1, or throwing away outliers.</p>\n<p>For this program, adjust the values by dividing all values by the largest value. The input begins with an integer indicating the number of floating-point values that follow. Assume that the list will always contain fewer than 20 floating-point values.</p>\n<p>Output each floating-point value with two digits after the decimal point, which can be achieved as follows:</p>\n<pre><code>System.out.printf(&quot;%.2f&quot;, yourValue);\n</code></pre>\n<p>Ex: If the input is:</p>\n<blockquote>\n<p>5 30.0 50.0 10.0 100.0 65.0</p>\n</blockquote>\n<p>the output is:</p>\n<blockquote>\n<p>0.30 0.50 0.10 1.00 0.65</p>\n</blockquote>\n<p>The 5 indicates that there are five floating-point values in the list, namely 30.0, 50.0, 10.0, 100.0, and 65.0. 100.0 is the largest value in the list, so each value is divided by 100.0.</p>\n<p>For coding simplicity, follow every output value by a space, including the last one.</p>\n<p>This is my code so far:</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n\n        Scanner scnr = new Scanner(System.in);\n        double numElements;\n        numElements = scnr.nextDouble();\n        double[] userList = new double[numElements];\n        int i;\n        double maxValue;\n\n        for (i = 0; i &lt; userList.length; ++i) {\n            userList[i] = scnr.nextDouble();\n        }\n\n        maxValue = userList[i];\n        for (i = 0; i &lt; userList.length; ++i) {\n            if (userList[i] &gt; maxValue) {\n                maxValue = userList[i];\n            }\n        }\n\n        for (i = 0; i &lt; userList.length; ++i) {\n            userList[i] = userList[i] / maxValue;\n            System.out.print(userList[i] + &quot; &quot;);\n            System.out.printf(&quot;%.2f&quot;, userList[i]);\n        }\n\n    }\n}\n</code></pre>\n<p>I keep getting this output.</p>\n<pre><code>LabProgram.java:8: error: incompatible types: possible lossy conversion from double to int\ndouble [] userList = new double [numElements]; \n                                 ^\n1 error\n</code></pre>\n<p>I think my variable is messed up. I read through my book and could not find help. Can someone please help me on here. Thank you so much! This has been very stressful for me.</p>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":0,"creation_date":1557674929,"post_id":56100690,"comment_id":98836089,"body_markdown":"What does `echo $JAVA_HOME` show?","body":"What does <code>echo $JAVA_HOME</code> show?"},{"owner":{"account_id":15832084,"reputation":141,"user_id":11423254,"display_name":"tropcool"},"score":0,"creation_date":1557675126,"post_id":56100690,"comment_id":98836145,"body_markdown":"@SamuelPhilipp It shows nothing","body":"@SamuelPhilipp It shows nothing"},{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":0,"creation_date":1557675271,"post_id":56100690,"comment_id":98836184,"body_markdown":"Try setting the `JAVA_HOME` environment variable using `export JAVA_HOME=/usr/lib/jvm/java-8-openjdk` maybe the path is a bit different on your device. Check the path before.","body":"Try setting the <code>JAVA_HOME</code> environment variable using <code>export JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk</code> maybe the path is a bit different on your device. Check the path before."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1557675274,"post_id":56100690,"comment_id":98836186,"body_markdown":"This is not a programming question. It&#39;s a server/configuration question. It may belong in SuperUser or AskUbuntu or even ServerFault - make sure you check their &quot;on topic&quot; pages.","body":"This is not a programming question. It&#39;s a server/configuration question. It may belong in SuperUser or AskUbuntu or even ServerFault - make sure you check their &quot;on topic&quot; pages."},{"owner":{"account_id":15635978,"reputation":9804,"user_id":11280830,"display_name":"Mihai"},"score":0,"creation_date":1557675362,"post_id":56100690,"comment_id":98836212,"body_markdown":"To see the exact value to set for JAVA_HOME run &#39;update-java-alternatives -l&#39;","body":"To see the exact value to set for JAVA_HOME run &#39;update-java-alternatives -l&#39;"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557675509,"post_id":56100690,"comment_id":98836249,"body_markdown":"From the second link `So if you did install Java to /opt/java/1.8 then ... JAVA_HOME=/opt/java/1.8`  So you should set JAVA_HOME to whatever path you installed Java to.","body":"From the second link <code>So if you did install Java to &#47;opt&#47;java&#47;1.8 then ... JAVA_HOME=&#47;opt&#47;java&#47;1.8</code>  So you should set JAVA_HOME to whatever path you installed Java to."},{"owner":{"account_id":15832084,"reputation":141,"user_id":11423254,"display_name":"tropcool"},"score":0,"creation_date":1557675579,"post_id":56100690,"comment_id":98836266,"body_markdown":"@Mihai Here is the result of the command `java-1.8.0-openjdk-amd64       1081       /usr/lib/jvm/java-1.8.0-openjdk-amd64`","body":"@Mihai Here is the result of the command <code>java-1.8.0-openjdk-amd64       1081       &#47;usr&#47;lib&#47;jvm&#47;java-1.8.0-openjdk-amd64</code>"},{"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"score":0,"creation_date":1557675704,"post_id":56100690,"comment_id":98836305,"body_markdown":"Then use `export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64` to set the environment variable. After that try running serposcope again.","body":"Then use <code>export JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;java-1.8.0-openjdk-amd64</code> to set the environment variable. After that try running serposcope again."},{"owner":{"account_id":15832084,"reputation":141,"user_id":11423254,"display_name":"tropcool"},"score":0,"creation_date":1557675835,"post_id":56100690,"comment_id":98836341,"body_markdown":"@SamuelPhilipp I executed your command but it refuses to start","body":"@SamuelPhilipp I executed your command but it refuses to start"},{"owner":{"account_id":15635978,"reputation":9804,"user_id":11280830,"display_name":"Mihai"},"score":0,"creation_date":1557676041,"post_id":56100690,"comment_id":98836386,"body_markdown":"@tropcool Of course it doesn&#39;t because you set the variable in your context and then run the service as sudo. Can you try and run: sudo JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 systemctl status serposcope","body":"@tropcool Of course it doesn&#39;t because you set the variable in your context and then run the service as sudo. Can you try and run: sudo JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 systemctl status serposcope"},{"owner":{"account_id":15832084,"reputation":141,"user_id":11423254,"display_name":"tropcool"},"score":0,"creation_date":1557676491,"post_id":56100690,"comment_id":98836520,"body_markdown":"@Mihai It does not work, I added the result at the end of my question","body":"@Mihai It does not work, I added the result at the end of my question"},{"owner":{"account_id":15635978,"reputation":9804,"user_id":11280830,"display_name":"Mihai"},"score":0,"creation_date":1557677024,"post_id":56100690,"comment_id":98836684,"body_markdown":"@tropcool I managed to get an Ubuntu environment and test. Run &#39;systemctl edit serposcope&#39;. This should open an editor. Edit the file (/etc/systemd/system/serposcope.service.d/override.conf): Under group [Service] (create if doesn&#39;t exist) add: Environment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64&quot;","body":"@tropcool I managed to get an Ubuntu environment and test. Run &#39;systemctl edit serposcope&#39;. This should open an editor. Edit the file (/etc/systemd/system/serposcope.service.d/override.conf): Under group [Service] (create if doesn&#39;t exist) add: Environment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64&zwnj;&#8203;&quot;"},{"owner":{"account_id":15635978,"reputation":9804,"user_id":11280830,"display_name":"Mihai"},"score":0,"creation_date":1557677359,"post_id":56100690,"comment_id":98836776,"body_markdown":"@tropcool If it is difficult to read this I will write it as solution so it is better formatted","body":"@tropcool If it is difficult to read this I will write it as solution so it is better formatted"},{"owner":{"account_id":15832084,"reputation":141,"user_id":11423254,"display_name":"tropcool"},"score":0,"creation_date":1557677965,"post_id":56100690,"comment_id":98836955,"body_markdown":"@Mihai Can you answer? The file is empty `sudo nano /etc/systemd/system/serposcope.service.d/override.conf`","body":"@Mihai Can you answer? The file is empty <code>sudo nano &#47;etc&#47;systemd&#47;system&#47;serposcope.service.d&#47;override.conf</code>"},{"owner":{"account_id":15635978,"reputation":9804,"user_id":11280830,"display_name":"Mihai"},"score":0,"creation_date":1557678145,"post_id":56100690,"comment_id":98836992,"body_markdown":"@tropcool Perfect so add 2 lines: one with [Service] and the second one with Environment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64&quot;  Then save it and try to start the service","body":"@tropcool Perfect so add 2 lines: one with [Service] and the second one with Environment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64&zwnj;&#8203;&quot;  Then save it and try to start the service"},{"owner":{"account_id":15832084,"reputation":141,"user_id":11423254,"display_name":"tropcool"},"score":0,"creation_date":1557678894,"post_id":56100690,"comment_id":98837195,"body_markdown":"@Mihai Can you give an answer because there is too much comment ;-)","body":"@Mihai Can you give an answer because there is too much comment ;-)"}],"answers":[{"tags":[],"owner":{"account_id":15635978,"reputation":9804,"user_id":11280830,"display_name":"Mihai"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1557679092,"creation_date":1557679092,"answer_id":56101302,"question_id":56100690,"body_markdown":"First find out the location of Java home with `update-java-alternatives -l` (the last part is the path to remember).\r\n\r\nThen run `systemctl edit serposcope` and this should open an editor. Add the following lines:\r\n\r\n```\r\n[Service]\r\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64&quot;\r\n```\r\n\r\nWhere the value from JAVA_HOME is the one from the first point.\r\n\r\nTry to start your service with `sudo systemctl status serposcope` ","title":"How to configure JAVA HOME with OpenJDK?","body":"<p>First find out the location of Java home with <code>update-java-alternatives -l</code> (the last part is the path to remember).</p>\n\n<p>Then run <code>systemctl edit serposcope</code> and this should open an editor. Add the following lines:</p>\n\n<pre><code>[Service]\nEnvironment=\"JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\"\n</code></pre>\n\n<p>Where the value from JAVA_HOME is the one from the first point.</p>\n\n<p>Try to start your service with <code>sudo systemctl status serposcope</code> </p>\n"},{"tags":[],"owner":{"account_id":8636822,"reputation":414,"user_id":6466731,"display_name":"Aman Juman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649005127,"creation_date":1649005127,"answer_id":71728083,"question_id":56100690,"body_markdown":"I got my work following this\r\n\r\n    [Unit]\r\n    Description= Application\r\n    After=syslog.target\r\n    \r\n    [Service]\r\n    Environment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk&quot;\r\n    ExecStart= java -jar /app-path/target/app-0.0.1-SNAPSHOT.war\r\n    ExecStop= /bin/kill -15 $MAINPID\r\n    \r\n    [Install]\r\n    WantedBy=multi-user.target","title":"How to configure JAVA HOME with OpenJDK?","body":"<p>I got my work following this</p>\n<pre><code>[Unit]\nDescription= Application\nAfter=syslog.target\n\n[Service]\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk&quot;\nExecStart= java -jar /app-path/target/app-0.0.1-SNAPSHOT.war\nExecStop= /bin/kill -15 $MAINPID\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n"}],"owner":{"account_id":15832084,"reputation":141,"user_id":11423254,"display_name":"tropcool"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3082,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":56101302,"answer_count":2,"score":-1,"last_activity_date":1649005127,"creation_date":1557674751,"question_id":56100690,"body_markdown":"I installed the SERPOSCOPE program on my Ubuntu 18.04 server. It needs Java to work, so I installed OpenJDK :\r\n\r\n    $ sudo apt install openjdk-8-jdk\r\n    $ java -version\r\n\r\n    openjdk version &quot;1.8.0_191&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_191-8u191-b12-2ubuntu0.18.04.1-b12)\r\n    OpenJDK 64-Bit Server VM (build 25.191-b12, mixed mode)\r\n\r\nHere are the installation instructions. There is a comment about the Java folder but I did not understand what I had to do :\r\n\r\nhttps://github.com/serphacker/serposcope\r\n\r\nhttps://serposcope.serphacker.com/en/doc/install.html\r\n\r\nThe problem and there is a problem with Java and SERPOSCOPE refuses to start :\r\n    \r\n    ubuntu@serp-example-com:~$ sudo systemctl status serposcope\r\n    ● serposcope.service - LSB: serposcope rank checker\r\n       Loaded: loaded (/etc/init.d/serposcope; generated)\r\n       Active: failed (Result: exit-code) since Sun 2019-05-12 16:06:15 CEST; 7s ago\r\n         Docs: man:systemd-sysv-generator(8)\r\n      Process: 9785 ExecStart=/etc/init.d/serposcope start (code=exited, status=1/FAILURE)\r\n    \r\n    May 12 16:06:15 serp-example-com systemd[1]: Starting LSB: serposcope rank checker...\r\n    May 12 16:06:15 serp-example-com serposcope[9785]: Can&#39;t find JAVA_HOME, java seems not installed on this OS\r\n    May 12 16:06:15 serp-example-com systemd[1]: serposcope.service: Control process exited, code=exited status=1\r\n    May 12 16:06:15 serp-example-com systemd[1]: serposcope.service: Failed with result &#39;exit-code&#39;.\r\n    May 12 16:06:15 serp-example-com systemd[1]: Failed to start LSB: serposcope rank checker.\r\n    \r\n    \r\n    ubuntu@serp-example-com:~$ journalctl -xe\r\n    May 12 16:06:02 serp-example-com groupadd[9636]: group added to /etc/gshadow: name=serposcope\r\n    May 12 16:06:02 serp-example-com groupadd[9636]: new group: name=serposcope, GID=1001\r\n    May 12 16:06:02 serp-example-com useradd[9641]: new user: name=serposcope, UID=111, GID=65534, home=/var/lib/serposcope, shell=/usr/sbin/\r\n    May 12 16:06:02 serp-example-com usermod[9647]: change user &#39;serposcope&#39; password\r\n    May 12 16:06:02 serp-example-com chage[9652]: changed password expiry for serposcope\r\n    May 12 16:06:03 serp-example-com systemd[1]: Reloading.\r\n    May 12 16:06:03 serp-example-com systemd[1]: Reloading.\r\n    May 12 16:06:03 serp-example-com sudo[9593]: pam_unix(sudo:session): session closed for user root\r\n    May 12 16:06:07 serp-example-com sudo[9749]:   ubuntu : TTY=pts/0 ; PWD=/home/ubuntu ; USER=root ; COMMAND=/usr/sbin/ufw allow 7134\r\n    May 12 16:06:07 serp-example-com sudo[9749]: pam_unix(sudo:session): session opened for user root by ubuntu(uid=0)\r\n    May 12 16:06:08 serp-example-com sudo[9749]: pam_unix(sudo:session): session closed for user root\r\n    May 12 16:06:15 serp-example-com sudo[9782]:   ubuntu : TTY=pts/0 ; PWD=/home/ubuntu ; USER=root ; COMMAND=/bin/systemctl start serposcop\r\n    May 12 16:06:15 serp-example-com sudo[9782]: pam_unix(sudo:session): session opened for user root by ubuntu(uid=0)\r\n    May 12 16:06:15 serp-example-com systemd[1]: Starting LSB: serposcope rank checker...\r\n    -- Subject: Unit serposcope.service has begun start-up\r\n    -- Defined-By: systemd\r\n    -- Support: http://www.ubuntu.com/support\r\n    -- \r\n    -- Unit serposcope.service has begun starting up.\r\n    May 12 16:06:15 serp-example-com serposcope[9785]: Can&#39;t find JAVA_HOME, java seems not installed on this OS\r\n    May 12 16:06:15 serp-example-com systemd[1]: serposcope.service: Control process exited, code=exited status=1\r\n    May 12 16:06:15 serp-example-com sudo[9782]: pam_unix(sudo:session): session closed for user root\r\n    May 12 16:06:15 serp-example-com systemd[1]: serposcope.service: Failed with result &#39;exit-code&#39;.\r\n    May 12 16:06:15 serp-example-com systemd[1]: Failed to start LSB: serposcope rank checker.\r\n    -- Subject: Unit serposcope.service has failed\r\n    -- Defined-By: systemd\r\n    -- Support: http://www.ubuntu.com/support\r\n    -- \r\n    -- Unit serposcope.service has failed.\r\n    -- \r\n    -- The result is RESULT.\r\n    May 12 16:06:18 serp-example-com kernel: [UFW BLOCK] IN=ens3 OUT= MAC=fa:16:3a:c8:b3:fc:0a:c5:39:6b:41:e2:08:00 SRC=185.10.68.55 DST=51.8\r\n    May 12 16:06:23 serp-example-com sudo[9813]:   ubuntu : TTY=pts/0 ; PWD=/home/ubuntu ; USER=root ; COMMAND=/bin/systemctl status serposco\r\n    May 12 16:06:23 serp-example-com sudo[9813]: pam_unix(sudo:session): session opened for user root by ubuntu(uid=0)\r\n    May 12 16:06:23 serp-example-com sudo[9813]: pam_unix(sudo:session): session closed for user root\r\n\r\nubuntu@serp-example-com:~$ sudo JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 systemctl status serposcope\r\n\r\n    ● serposcope.service - LSB: serposcope rank checker\r\n       Loaded: loaded (/etc/init.d/serposcope; generated)\r\n       Active: failed (Result: exit-code) since Sun 2019-05-12 17:43:02 CEST; 9min ago\r\n         Docs: man:systemd-sysv-generator(8)\r\n      Process: 10202 ExecStart=/etc/init.d/serposcope start (code=exited, status=1/FAILURE)\r\n    \r\n    May 12 17:43:02 serp-example-com systemd[1]: Starting LSB: serposcope rank checker...\r\n    May 12 17:43:02 serp-example-com serposcope[10202]: Can&#39;t find JAVA_HOME, java seems not installed on this OS\r\n    May 12 17:43:02 serp-example-com systemd[1]: serposcope.service: Control process exited, code=exited status=1\r\n    May 12 17:43:02 serp-example-com systemd[1]: serposcope.service: Failed with result &#39;exit-code&#39;.\r\n    May 12 17:43:02 serp-example-com systemd[1]: Failed to start LSB: serposcope rank checker.","title":"How to configure JAVA HOME with OpenJDK?","body":"<p>I installed the SERPOSCOPE program on my Ubuntu 18.04 server. It needs Java to work, so I installed OpenJDK :</p>\n\n<pre><code>$ sudo apt install openjdk-8-jdk\n$ java -version\n\nopenjdk version \"1.8.0_191\"\nOpenJDK Runtime Environment (build 1.8.0_191-8u191-b12-2ubuntu0.18.04.1-b12)\nOpenJDK 64-Bit Server VM (build 25.191-b12, mixed mode)\n</code></pre>\n\n<p>Here are the installation instructions. There is a comment about the Java folder but I did not understand what I had to do :</p>\n\n<p><a href=\"https://github.com/serphacker/serposcope\" rel=\"nofollow noreferrer\">https://github.com/serphacker/serposcope</a></p>\n\n<p><a href=\"https://serposcope.serphacker.com/en/doc/install.html\" rel=\"nofollow noreferrer\">https://serposcope.serphacker.com/en/doc/install.html</a></p>\n\n<p>The problem and there is a problem with Java and SERPOSCOPE refuses to start :</p>\n\n<pre><code>ubuntu@serp-example-com:~$ sudo systemctl status serposcope\n● serposcope.service - LSB: serposcope rank checker\n   Loaded: loaded (/etc/init.d/serposcope; generated)\n   Active: failed (Result: exit-code) since Sun 2019-05-12 16:06:15 CEST; 7s ago\n     Docs: man:systemd-sysv-generator(8)\n  Process: 9785 ExecStart=/etc/init.d/serposcope start (code=exited, status=1/FAILURE)\n\nMay 12 16:06:15 serp-example-com systemd[1]: Starting LSB: serposcope rank checker...\nMay 12 16:06:15 serp-example-com serposcope[9785]: Can't find JAVA_HOME, java seems not installed on this OS\nMay 12 16:06:15 serp-example-com systemd[1]: serposcope.service: Control process exited, code=exited status=1\nMay 12 16:06:15 serp-example-com systemd[1]: serposcope.service: Failed with result 'exit-code'.\nMay 12 16:06:15 serp-example-com systemd[1]: Failed to start LSB: serposcope rank checker.\n\n\nubuntu@serp-example-com:~$ journalctl -xe\nMay 12 16:06:02 serp-example-com groupadd[9636]: group added to /etc/gshadow: name=serposcope\nMay 12 16:06:02 serp-example-com groupadd[9636]: new group: name=serposcope, GID=1001\nMay 12 16:06:02 serp-example-com useradd[9641]: new user: name=serposcope, UID=111, GID=65534, home=/var/lib/serposcope, shell=/usr/sbin/\nMay 12 16:06:02 serp-example-com usermod[9647]: change user 'serposcope' password\nMay 12 16:06:02 serp-example-com chage[9652]: changed password expiry for serposcope\nMay 12 16:06:03 serp-example-com systemd[1]: Reloading.\nMay 12 16:06:03 serp-example-com systemd[1]: Reloading.\nMay 12 16:06:03 serp-example-com sudo[9593]: pam_unix(sudo:session): session closed for user root\nMay 12 16:06:07 serp-example-com sudo[9749]:   ubuntu : TTY=pts/0 ; PWD=/home/ubuntu ; USER=root ; COMMAND=/usr/sbin/ufw allow 7134\nMay 12 16:06:07 serp-example-com sudo[9749]: pam_unix(sudo:session): session opened for user root by ubuntu(uid=0)\nMay 12 16:06:08 serp-example-com sudo[9749]: pam_unix(sudo:session): session closed for user root\nMay 12 16:06:15 serp-example-com sudo[9782]:   ubuntu : TTY=pts/0 ; PWD=/home/ubuntu ; USER=root ; COMMAND=/bin/systemctl start serposcop\nMay 12 16:06:15 serp-example-com sudo[9782]: pam_unix(sudo:session): session opened for user root by ubuntu(uid=0)\nMay 12 16:06:15 serp-example-com systemd[1]: Starting LSB: serposcope rank checker...\n-- Subject: Unit serposcope.service has begun start-up\n-- Defined-By: systemd\n-- Support: http://www.ubuntu.com/support\n-- \n-- Unit serposcope.service has begun starting up.\nMay 12 16:06:15 serp-example-com serposcope[9785]: Can't find JAVA_HOME, java seems not installed on this OS\nMay 12 16:06:15 serp-example-com systemd[1]: serposcope.service: Control process exited, code=exited status=1\nMay 12 16:06:15 serp-example-com sudo[9782]: pam_unix(sudo:session): session closed for user root\nMay 12 16:06:15 serp-example-com systemd[1]: serposcope.service: Failed with result 'exit-code'.\nMay 12 16:06:15 serp-example-com systemd[1]: Failed to start LSB: serposcope rank checker.\n-- Subject: Unit serposcope.service has failed\n-- Defined-By: systemd\n-- Support: http://www.ubuntu.com/support\n-- \n-- Unit serposcope.service has failed.\n-- \n-- The result is RESULT.\nMay 12 16:06:18 serp-example-com kernel: [UFW BLOCK] IN=ens3 OUT= MAC=fa:16:3a:c8:b3:fc:0a:c5:39:6b:41:e2:08:00 SRC=185.10.68.55 DST=51.8\nMay 12 16:06:23 serp-example-com sudo[9813]:   ubuntu : TTY=pts/0 ; PWD=/home/ubuntu ; USER=root ; COMMAND=/bin/systemctl status serposco\nMay 12 16:06:23 serp-example-com sudo[9813]: pam_unix(sudo:session): session opened for user root by ubuntu(uid=0)\nMay 12 16:06:23 serp-example-com sudo[9813]: pam_unix(sudo:session): session closed for user root\n</code></pre>\n\n<p>ubuntu@serp-example-com:~$ sudo JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64 systemctl status serposcope</p>\n\n<pre><code>● serposcope.service - LSB: serposcope rank checker\n   Loaded: loaded (/etc/init.d/serposcope; generated)\n   Active: failed (Result: exit-code) since Sun 2019-05-12 17:43:02 CEST; 9min ago\n     Docs: man:systemd-sysv-generator(8)\n  Process: 10202 ExecStart=/etc/init.d/serposcope start (code=exited, status=1/FAILURE)\n\nMay 12 17:43:02 serp-example-com systemd[1]: Starting LSB: serposcope rank checker...\nMay 12 17:43:02 serp-example-com serposcope[10202]: Can't find JAVA_HOME, java seems not installed on this OS\nMay 12 17:43:02 serp-example-com systemd[1]: serposcope.service: Control process exited, code=exited status=1\nMay 12 17:43:02 serp-example-com systemd[1]: serposcope.service: Failed with result 'exit-code'.\nMay 12 17:43:02 serp-example-com systemd[1]: Failed to start LSB: serposcope rank checker.\n</code></pre>\n"},{"tags":["java","icons","jfreechart","bufferedimage"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1648857107,"post_id":71711413,"comment_id":126738041,"body_markdown":"Use a `javax.swing.Timer` to pace the animation. Let the axes auto-range, and let the user operate the [controls](https://stackoverflow.com/a/44151032/230513). Use `XYShapeAnnotation` for convenient rotation.","body":"Use a <code>javax.swing.Timer</code> to pace the animation. Let the axes auto-range, and let the user operate the <a href=\"https://stackoverflow.com/a/44151032/230513\">controls</a>. Use <code>XYShapeAnnotation</code> for convenient rotation."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1648917594,"post_id":71711413,"comment_id":126746649,"body_markdown":"Alternatively, you can adjust the domain axis range like [this](https://stackoverflow.com/a/67230096/230513) as the aircraft moves..","body":"Alternatively, you can adjust the domain axis range like <a href=\"https://stackoverflow.com/a/67230096/230513\">this</a> as the aircraft moves.."}],"owner":{"account_id":23241579,"reputation":77,"user_id":17330806,"display_name":"carloslopez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649004957,"creation_date":1648838051,"question_id":71711413,"body_markdown":"I have an xyplot where I have an icon and several plots that you can ignore. The following picture shows the initial view of the chart.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe icon has movement, and does something like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/furAX.jpg\r\n  [2]: https://i.stack.imgur.com/gneOQ.jpg\r\n\r\nThe icon path is more longer than this initial view, but until now I used the zoom out and zoom in \r\n in order to move myself along the path, and I would want to automate it.\r\nI would like that when the icon arrives to the middle of the x axis, the entire chart takes movement at the same time that the icon. I don&#39;t know if it&#39;s possible.\r\n\r\nThe code I think is useful:\r\n\r\n    public final class VerticalRoute {\r\n    \r\n        BufferedImage planeIcon = null;\r\n        XYAnnotation xyannotation;\r\n        XYPlot xyplot = null;\r\n        JFreeChart chart = null;\r\n        ChartPanel panel = null;\r\n    \r\n        private VerticalRoute(Trafico t) {\r\n    \r\n            try {\r\n\r\n                planeIcon =   ImageIO.read(getClass().getClassLoader().getResource(&quot;Resources/Imagenes/lateral_avion_2.png&quot;));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            chart = ChartFactory.createXYLineChart(&quot;Vertical profile&quot;, &quot;Orthodromic distance (NM)&quot;, &quot;Altitude (ft)&quot;, this.oDataset);\r\n            xyplot = (XYPlot) chart.getPlot();\r\n         }\r\n    \r\n         private void updatePlaneMovement() {\r\n                 xyannotation = new XYImageAnnotation(dist_avion, alt, rotatedPlaneIcon);\r\n                 this.xyplot.addAnnotation(xyannotation);\r\n         }\r\n    }\r\n\r\n &quot;dist_avion&quot; and &quot;alt&quot; are the variables that are recalculated each second, and they allow the icon movement. &quot;rotatedPlaneIcon&quot; gives an angle in order to simulate that the &quot;plane&quot; is in the climb phase or in descent phase. \r\n\r\nI tried to put an horizontal scrollbar, but as I was reading, jfreechart don&#39;t allows yet.\r\n\r\nHow can I pan the chart so it follows the movement of the icon?","title":"How to move a xyplot with the movement of an icon with jfreechart in java","body":"<p>I have an xyplot where I have an icon and several plots that you can ignore. The following picture shows the initial view of the chart.</p>\n<p><a href=\"https://i.stack.imgur.com/furAX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/furAX.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The icon has movement, and does something like:</p>\n<p><a href=\"https://i.stack.imgur.com/gneOQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gneOQ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The icon path is more longer than this initial view, but until now I used the zoom out and zoom in\nin order to move myself along the path, and I would want to automate it.\nI would like that when the icon arrives to the middle of the x axis, the entire chart takes movement at the same time that the icon. I don't know if it's possible.</p>\n<p>The code I think is useful:</p>\n<pre><code>public final class VerticalRoute {\n\n    BufferedImage planeIcon = null;\n    XYAnnotation xyannotation;\n    XYPlot xyplot = null;\n    JFreeChart chart = null;\n    ChartPanel panel = null;\n\n    private VerticalRoute(Trafico t) {\n\n        try {\n\n            planeIcon =   ImageIO.read(getClass().getClassLoader().getResource(&quot;Resources/Imagenes/lateral_avion_2.png&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        chart = ChartFactory.createXYLineChart(&quot;Vertical profile&quot;, &quot;Orthodromic distance (NM)&quot;, &quot;Altitude (ft)&quot;, this.oDataset);\n        xyplot = (XYPlot) chart.getPlot();\n     }\n\n     private void updatePlaneMovement() {\n             xyannotation = new XYImageAnnotation(dist_avion, alt, rotatedPlaneIcon);\n             this.xyplot.addAnnotation(xyannotation);\n     }\n}\n</code></pre>\n<p>&quot;dist_avion&quot; and &quot;alt&quot; are the variables that are recalculated each second, and they allow the icon movement. &quot;rotatedPlaneIcon&quot; gives an angle in order to simulate that the &quot;plane&quot; is in the climb phase or in descent phase.</p>\n<p>I tried to put an horizontal scrollbar, but as I was reading, jfreechart don't allows yet.</p>\n<p>How can I pan the chart so it follows the movement of the icon?</p>\n"},{"tags":["java","spring-boot","dependency-injection","configurationproperties"],"answers":[{"tags":[],"owner":{"account_id":2415806,"reputation":1373,"user_id":2109840,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649004930,"creation_date":1649004930,"answer_id":71728060,"question_id":71726959,"body_markdown":"From my understanding, Spring `@ConditionalOnProperty` and `@ConfigurationProperties` are used in two different areas:\r\n\r\n 1. `@ConditionalOnProperty` is used to conditional inject [beans][1] and [configurations][2].\r\n 2. `@ConfigurationProperties` is for [external configurations][3], which is from your configuration files like `application.properties`\r\n\r\nFrom the code, I assume that `ModelCloudBucket` is a **bean** you want to inject if `nexus.orchestration.cloud.model == true`, which takes `provider, bucket and folder` as its **properties**.\r\n\r\nSo I would suggest to the following code:\r\n\r\nA property class:\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;nexus.orchestration.model.cloud-bucket&quot;)\r\n@Data\r\npublic class ModelCloudBucketProps {\r\n    private CloudProviderEnum  testProp;\r\n    private String bucket;\r\n    private String folder;\r\n}\r\n```\r\nAnd the original bean which will be injected with properties:\r\n```java\r\n@Component\r\n@ConditionalOnProperty(name = &quot;nexus.orchestration.cloud.model&quot;, havingValue = &quot;true&quot;)\r\npublic class ModelCloudBucket {\r\n    ...\r\n    public ModelCloudBucket(ModelCloudBucketProps config) {\r\n         this.cloudBucket = new CloudBucket(config.getProvider(), ...);\r\n    }\r\n}\r\n```\r\n`@EnableConfigurationProperties(FlowCache.ModelCloudBucket.class)` can be removed since will be injected through `@Configuration`.\r\n\r\nIn this way, you can control the bean injection with condition and decouple it with the external config initialization.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.spring-beans-and-dependency-injection\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.configuration-classes\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config","title":"Using @ConstructorBinding with @ConditionalOnProperty in Springboot","body":"<p>From my understanding, Spring <code>@ConditionalOnProperty</code> and <code>@ConfigurationProperties</code> are used in two different areas:</p>\n<ol>\n<li><code>@ConditionalOnProperty</code> is used to conditional inject <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.spring-beans-and-dependency-injection\" rel=\"nofollow noreferrer\">beans</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using.configuration-classes\" rel=\"nofollow noreferrer\">configurations</a>.</li>\n<li><code>@ConfigurationProperties</code> is for <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config\" rel=\"nofollow noreferrer\">external configurations</a>, which is from your configuration files like <code>application.properties</code></li>\n</ol>\n<p>From the code, I assume that <code>ModelCloudBucket</code> is a <strong>bean</strong> you want to inject if <code>nexus.orchestration.cloud.model == true</code>, which takes <code>provider, bucket and folder</code> as its <strong>properties</strong>.</p>\n<p>So I would suggest to the following code:</p>\n<p>A property class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(prefix = &quot;nexus.orchestration.model.cloud-bucket&quot;)\n@Data\npublic class ModelCloudBucketProps {\n    private CloudProviderEnum  testProp;\n    private String bucket;\n    private String folder;\n}\n</code></pre>\n<p>And the original bean which will be injected with properties:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConditionalOnProperty(name = &quot;nexus.orchestration.cloud.model&quot;, havingValue = &quot;true&quot;)\npublic class ModelCloudBucket {\n    ...\n    public ModelCloudBucket(ModelCloudBucketProps config) {\n         this.cloudBucket = new CloudBucket(config.getProvider(), ...);\n    }\n}\n</code></pre>\n<p><code>@EnableConfigurationProperties(FlowCache.ModelCloudBucket.class)</code> can be removed since will be injected through <code>@Configuration</code>.</p>\n<p>In this way, you can control the bean injection with condition and decouple it with the external config initialization.</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649004930,"creation_date":1648997395,"question_id":71726959,"body_markdown":"I&#39;m using `@ConstructorBinding` with `@ConfigurationProperties` like this\r\n\r\n```\r\n    @ConstructorBinding\r\n    @ConditionalOnProperty(name = &quot;nexus.orchestration.cloud.model&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\r\n    @ConfigurationProperties(value = &quot;nexus.orchestration.model.cloud-bucket&quot;, ignoreUnknownFields = false)\r\n    @ToString\r\n    public static class ModelCloudBucket {\r\n        private final CloudBucket cloudBucket;\r\n\r\n        public ModelCloudBucket(final CloudProviderEnum provider, final String bucket, final String folder) {\r\n            this.cloudBucket = new CloudBucket(provider, bucket, folder);\r\n        }\r\n    }\r\n```\r\n\r\nI have `@EnableConfigurationProperties(FlowCache.ModelCloudBucket.class)` on my main application class\r\n\r\nHowever, the `@ConditionalOnProperty` is not working.  If my property is false and I comment out the CloudBucket object in the yaml file, it fails on startup because it can&#39;t bind the cloud bucket property.  If the property is false, than that object should not be required and then bean should just be null.  How can I make this work?","title":"Using @ConstructorBinding with @ConditionalOnProperty in Springboot","body":"<p>I'm using <code>@ConstructorBinding</code> with <code>@ConfigurationProperties</code> like this</p>\n<pre><code>    @ConstructorBinding\n    @ConditionalOnProperty(name = &quot;nexus.orchestration.cloud.model&quot;, havingValue = &quot;true&quot;, matchIfMissing = false)\n    @ConfigurationProperties(value = &quot;nexus.orchestration.model.cloud-bucket&quot;, ignoreUnknownFields = false)\n    @ToString\n    public static class ModelCloudBucket {\n        private final CloudBucket cloudBucket;\n\n        public ModelCloudBucket(final CloudProviderEnum provider, final String bucket, final String folder) {\n            this.cloudBucket = new CloudBucket(provider, bucket, folder);\n        }\n    }\n</code></pre>\n<p>I have <code>@EnableConfigurationProperties(FlowCache.ModelCloudBucket.class)</code> on my main application class</p>\n<p>However, the <code>@ConditionalOnProperty</code> is not working.  If my property is false and I comment out the CloudBucket object in the yaml file, it fails on startup because it can't bind the cloud bucket property.  If the property is false, than that object should not be required and then bean should just be null.  How can I make this work?</p>\n"},{"tags":["java","nested","jpa-2.0"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1432290407,"creation_date":1432290407,"answer_id":30394305,"question_id":30393370,"body_markdown":"The JPA 2.1 specifications, paragraph 2.1, page 23, say:\r\n\r\n&gt; The entity class must be a top-level class.","title":"Can Nested or Inner class by an @Entity in JPA?","body":"<p>The JPA 2.1 specifications, paragraph 2.1, page 23, say:</p>\n\n<blockquote>\n  <p>The entity class must be a top-level class.</p>\n</blockquote>\n"}],"owner":{"account_id":3323988,"reputation":5111,"user_id":2794446,"accept_rate":75,"display_name":"masterdany88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2709,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30394305,"answer_count":1,"score":4,"last_activity_date":1649004911,"creation_date":1432287689,"question_id":30393370,"body_markdown":"Can I and Should I make nested, inner classes an @Entity? For example:\r\n\r\n    @Entity\r\n    public class EnclosingOne {\r\n      @Entity\r\n      public class NestedOne extends EnclosingOne {\r\n      }\r\n      @Entity\r\n      public static class InnerOne extends EnclosingOne {\r\n      }\r\n    }\r\nOr:\r\n\r\n    public class EnclosingOne {\r\n      @Entity\r\n      public class NestedOne extends EnclosingOne {\r\n      }\r\n      @Entity\r\n      public static class InnerOne extends EnclosingOne {\r\n      }\r\n    }","title":"Can Nested or Inner class by an @Entity in JPA?","body":"<p>Can I and Should I make nested, inner classes an @Entity? For example:</p>\n\n<pre><code>@Entity\npublic class EnclosingOne {\n  @Entity\n  public class NestedOne extends EnclosingOne {\n  }\n  @Entity\n  public static class InnerOne extends EnclosingOne {\n  }\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>public class EnclosingOne {\n  @Entity\n  public class NestedOne extends EnclosingOne {\n  }\n  @Entity\n  public static class InnerOne extends EnclosingOne {\n  }\n}\n</code></pre>\n"},{"tags":["java","list","lambda","compare"],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648941951,"creation_date":1648941951,"answer_id":71721886,"question_id":71721340,"body_markdown":"If I understand you correctly you are trying to get two lists at the end. The first one being `tipsToUpdate` and the second one being `tipsToSave`. This can be done using `Collectors.partitioningBy`. Here is an example\r\n\r\n        Set&lt;String&gt; existingTipKeys = existingTips.stream()\r\n                .filter(t -&gt; t.getResult() == null)\r\n                .map(Tips::getTipKey)\r\n                .collect(Collectors.toSet()); // Use a Set or Map to check the keys. As mentioned in another answer it will increase performance.\r\n        Map&lt;Boolean, List&lt;Tips&gt;&gt; tips = newTips.stream()\r\n                .filter(t -&gt; t.getResult() != null)\r\n                .collect(Collectors.partitioningBy(t -&gt; existingTipKeys.contains(t.getTipKey())));\r\n        List&lt;Tips&gt; tipsToUpdate = tips.get(true);\r\n        List&lt;Tips&gt; tipsToSave = tips.get(false);","title":"Lambda expression to compare two lists and find differences and the ones with missing result data","body":"<p>If I understand you correctly you are trying to get two lists at the end. The first one being <code>tipsToUpdate</code> and the second one being <code>tipsToSave</code>. This can be done using <code>Collectors.partitioningBy</code>. Here is an example</p>\n<pre><code>    Set&lt;String&gt; existingTipKeys = existingTips.stream()\n            .filter(t -&gt; t.getResult() == null)\n            .map(Tips::getTipKey)\n            .collect(Collectors.toSet()); // Use a Set or Map to check the keys. As mentioned in another answer it will increase performance.\n    Map&lt;Boolean, List&lt;Tips&gt;&gt; tips = newTips.stream()\n            .filter(t -&gt; t.getResult() != null)\n            .collect(Collectors.partitioningBy(t -&gt; existingTipKeys.contains(t.getTipKey())));\n    List&lt;Tips&gt; tipsToUpdate = tips.get(true);\n    List&lt;Tips&gt; tipsToSave = tips.get(false);\n</code></pre>\n"}],"owner":{"display_name":"user15676007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649004863,"creation_date":1648935316,"question_id":71721340,"body_markdown":"I have two lists where the first one is data I have collected and the other is data from the DB.\r\n\r\nIf I would like to compare these two lists and find all rows from database (existingTips) that are missing result but where I have got this information in the newTips list I would be able to do something similar to this.\r\n\r\n    List&lt;Tips&gt; tipsToUpdate = new ArrayList&lt;&gt;();\r\n\r\n    newTips.forEach(nt -&gt;\r\n            existingTips.stream()\r\n                          .filter(et -&gt; nt.getTipKey.equals(et.getTipKey()) &amp;&amp; \r\n                                  nt.getResult != null &amp;&amp; et.getResult == null))\r\n                          .forEach(tipsToUpdate::add));\r\n\r\n\r\n\r\nBut if I would like to find all objects from newTips lists that have a &quot;tipKey&quot; that does not exist in existingTips list. I want to save these to a tipsToSave list.\r\nHow would I write this kind of lambda expression?\r\n\r\nIs it possible to make these two expressions in the same expression or is it better to keep them separate?\r\n\r\nEdit: After Alexanders solution I found that I had been thinking a little bit wrong.\r\n\r\nWhen I save to DB I create an @ID. So in the existingTips I have an ID but not in the newTips. So I would actually need to get the getId from existingTip since I do not have it in the newTips. The result could actually just consist of getId from existingTip and the getResult from newTips.\r\n\r\n    List&lt;Tips&gt; result = \r\n            newTips.stream()\r\n                   .filter(nt -&gt; existingTipByKey.containsKey(nt.getTipKey())\r\n                   .filter(nt -&gt; nt.getResult != null &amp;&amp; \r\n                                 existingTipByKey.get(nt.getTipKey()).getResult == null)\r\n                   .collect(new UpdateDTO(existingTipByKey.get(nt.getTipKey()).getId, nt.getResult());\r\n\r\n\t\t\t   \r\nI understand that I can&#180;t do as above with collect to new UpdateDTO.\r\n\t\t\t     \r\nWhere UpdateDTO concist of long id and String result. Do you have any suggestion how to solve this?\r\n","title":"Lambda expression to compare two lists and find differences and the ones with missing result data","body":"<p>I have two lists where the first one is data I have collected and the other is data from the DB.</p>\n<p>If I would like to compare these two lists and find all rows from database (existingTips) that are missing result but where I have got this information in the newTips list I would be able to do something similar to this.</p>\n<pre><code>List&lt;Tips&gt; tipsToUpdate = new ArrayList&lt;&gt;();\n\nnewTips.forEach(nt -&gt;\n        existingTips.stream()\n                      .filter(et -&gt; nt.getTipKey.equals(et.getTipKey()) &amp;&amp; \n                              nt.getResult != null &amp;&amp; et.getResult == null))\n                      .forEach(tipsToUpdate::add));\n</code></pre>\n<p>But if I would like to find all objects from newTips lists that have a &quot;tipKey&quot; that does not exist in existingTips list. I want to save these to a tipsToSave list.\nHow would I write this kind of lambda expression?</p>\n<p>Is it possible to make these two expressions in the same expression or is it better to keep them separate?</p>\n<p>Edit: After Alexanders solution I found that I had been thinking a little bit wrong.</p>\n<p>When I save to DB I create an @ID. So in the existingTips I have an ID but not in the newTips. So I would actually need to get the getId from existingTip since I do not have it in the newTips. The result could actually just consist of getId from existingTip and the getResult from newTips.</p>\n<pre><code>List&lt;Tips&gt; result = \n        newTips.stream()\n               .filter(nt -&gt; existingTipByKey.containsKey(nt.getTipKey())\n               .filter(nt -&gt; nt.getResult != null &amp;&amp; \n                             existingTipByKey.get(nt.getTipKey()).getResult == null)\n               .collect(new UpdateDTO(existingTipByKey.get(nt.getTipKey()).getId, nt.getResult());\n\n           \n</code></pre>\n<p>I understand that I can´t do as above with collect to new UpdateDTO.</p>\n<p>Where UpdateDTO concist of long id and String result. Do you have any suggestion how to solve this?</p>\n"},{"tags":["java","android","android-4.0-ice-cream-sandwich","vpn","openvpn"],"comments":[{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352283835,"post_id":13233477,"comment_id":18083389,"body_markdown":"For ToyVpn you can read this post http://stackoverflow.com/questions/13228834/vpn-client-on-android-few-questions-about-vpn-client-and-use-of-hidden-apis; In this post there is a comment saying &quot;ToyVPN has its own server; it does not use any conventional VPN server. &quot;  Which means we should run the server of ToyVpn, but the steps for running it require adding route etc, which I am unable to do without root....and unfortunately I am unable to root my phone...:( But ideally this sample ToyVpn should connect to other servers too....","body":"For ToyVpn you can read this post <a href=\"http://stackoverflow.com/questions/13228834/vpn-client-on-android-few-questions-about-vpn-client-and-use-of-hidden-apis\" title=\"vpn client on android few questions about vpn client and use of hidden apis\">stackoverflow.com/questions/13228834/&hellip;</a>; In this post there is a comment saying &quot;ToyVPN has its own server; it does not use any conventional VPN server. &quot;  Which means we should run the server of ToyVpn, but the steps for running it require adding route etc, which I am unable to do without root....and unfortunately I am unable to root my phone...:( But ideally this sample ToyVpn should connect to other servers too...."},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352284111,"post_id":13233477,"comment_id":18083484,"body_markdown":"I am also trying to create a VPN client for days....It would be really helpful if some one post some sudo code i.e. basic steps because the client of ToyVpn does not seems to be a complete client, since it does not connect me to VPN server...and there is no option for username while nearly all servers require username...","body":"I am also trying to create a VPN client for days....It would be really helpful if some one post some sudo code i.e. basic steps because the client of ToyVpn does not seems to be a complete client, since it does not connect me to VPN server...and there is no option for username while nearly all servers require username..."},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352284727,"post_id":13233477,"comment_id":18083755,"body_markdown":"@user1204089 I had also checked the link which u had shared. Now i tested the toyvpn app, with the pptp test values, it didnt work.. And i need to to knw whether there is any test values for testing the toyvpn app.And also have u heared abt openvpn app?","body":"@user1204089 I had also checked the link which u had shared. Now i tested the toyvpn app, with the pptp test values, it didnt work.. And i need to to knw whether there is any test values for testing the toyvpn app.And also have u heared abt openvpn app?"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352285046,"post_id":13233477,"comment_id":18083909,"body_markdown":"According to the link which I shared above, we need to run the server of ToyVpn, which creates serevr at port 8000, and the file mentions &quot;Set the addresses and bring up the interface.&quot; so give it an ip address, in this way ur server address is the ip address that u gave to that interface, 8000 is port and shared secret is &quot;test&quot;, but I have not tested it becz I can not add route etc as mentioned in serevr file without root access...","body":"According to the link which I shared above, we need to run the server of ToyVpn, which creates serevr at port 8000, and the file mentions &quot;Set the addresses and bring up the interface.&quot; so give it an ip address, in this way ur server address is the ip address that u gave to that interface, 8000 is port and shared secret is &quot;test&quot;, but I have not tested it becz I can not add route etc as mentioned in serevr file without root access..."},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352285261,"post_id":13233477,"comment_id":18084011,"body_markdown":"I looked at OpenVpn but I think they use hidden API and also require root access...But I want to do it with VPN service. There is another app &quot;tPacketCapture&quot; they esteblish a vpn connection via VPN service (but I think they do not connect to any external server)","body":"I looked at OpenVpn but I think they use hidden API and also require root access...But I want to do it with VPN service. There is another app &quot;tPacketCapture&quot; they esteblish a vpn connection via VPN service (but I think they do not connect to any external server)"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352285462,"post_id":13233477,"comment_id":18084082,"body_markdown":"@user1204089 Thanks for ur replies .. As my understanding, u mean to say i need to setup a server and give that server IP as a value to the toyvpn app, is it correct?. And What u meant by external server, Then what type of server it will connect?","body":"@user1204089 Thanks for ur replies .. As my understanding, u mean to say i need to setup a server and give that server IP as a value to the toyvpn app, is it correct?. And What u meant by external server, Then what type of server it will connect?"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352285764,"post_id":13233477,"comment_id":18084228,"body_markdown":"about ToyVpn: Yes. About tPacketCapture: I think there is local server on the phone.","body":"about ToyVpn: Yes. About tPacketCapture: I think there is local server on the phone."},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352286265,"post_id":13233477,"comment_id":18084436,"body_markdown":"Np! I think you should read the server file of project it has mentioned the steps. I didn&#39;t find any other doc...Please let me know if ToyVpn work for you!","body":"Np! I think you should read the server file of project it has mentioned the steps. I didn&#39;t find any other doc...Please let me know if ToyVpn work for you!"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352286615,"post_id":13233477,"comment_id":18084590,"body_markdown":"where i could find those server files. pardon if my questions are silly as iam new to these concepts","body":"where i could find those server files. pardon if my questions are silly as iam new to these concepts"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352286783,"post_id":13233477,"comment_id":18084666,"body_markdown":"Its Ok, U have ToyVpn source code right, in that code there is a folder &quot;server&quot; open it, there is &quot;linux&quot; folder in which there is ToyVpnServr.cpp file","body":"Its Ok, U have ToyVpn source code right, in that code there is a folder &quot;server&quot; open it, there is &quot;linux&quot; folder in which there is ToyVpnServr.cpp file"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352287104,"post_id":13233477,"comment_id":18084785,"body_markdown":"In that i could find send and receive of the packets only :( . as of my understanding","body":"In that i could find send and receive of the packets only :( . as of my understanding"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352287181,"post_id":13233477,"comment_id":18084815,"body_markdown":"Read th ecomments of that cpp file","body":"Read th ecomments of that cpp file"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":1,"creation_date":1352358966,"post_id":13233477,"comment_id":18111197,"body_markdown":"@user1204089 i have a small doubt in the cpp file comment. I need to knw its enough to run ./a.out after compiling that ToyVpn.cpp file (According to [this](http://stackoverflow.com/questions/11424022/toyvpn-unable-to-connect-to-vpn-server?rq=1) link)... And in the cpp file comment it has mentioned **./ToyVpnServer tun0 8000 test -m 1400 -a 10.0.0.2 32 -d 8.8.8.8 -r 0.0.0.0 0** where **./ToyVpnServer** should be replaced by **./a.out**","body":"@user1204089 i have a small doubt in the cpp file comment. I need to knw its enough to run ./a.out after compiling that ToyVpn.cpp file (According to <a href=\"http://stackoverflow.com/questions/11424022/toyvpn-unable-to-connect-to-vpn-server?rq=1\">this</a> link)... And in the cpp file comment it has mentioned <b>./ToyVpnServer tun0 8000 test -m 1400 -a 10.0.0.2 32 -d 8.8.8.8 -r 0.0.0.0 0</b> where <b>./ToyVpnServer</b> should be replaced by <b>./a.out</b>"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352362141,"post_id":13233477,"comment_id":18112226,"body_markdown":"yeah! ./ToyVpnServer and ./a are same. And just running is not enough, according to those comments adding route etc is also required.","body":"yeah! ./ToyVpnServer and ./a are same. And just running is not enough, according to those comments adding route etc is also required."},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352695985,"post_id":13233477,"comment_id":18201322,"body_markdown":"@user1204089 Sir i had setup the toyvpn server and it worked fine for me.. I got connected Notification and the session details in my phone.I have few other to do.. How to confirm that all data packets from my phone is going through that server?","body":"@user1204089 Sir i had setup the toyvpn server and it worked fine for me.. I got connected Notification and the session details in my phone.I have few other to do.. How to confirm that all data packets from my phone is going through that server?"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352785531,"post_id":13233477,"comment_id":18230658,"body_markdown":"Did you just performed the steps given in that server file? For packets: there is some command like &quot;show ip route&quot;, I don&#39;t remember the exact syntax...","body":"Did you just performed the steps given in that server file? For packets: there is some command like &quot;show ip route&quot;, I don&#39;t remember the exact syntax..."},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352869466,"post_id":13233477,"comment_id":18260518,"body_markdown":"actually i did all the steps in that cpp file..i.e., the steps in the comment that comes after the header file declartion..Actually my scenario is i have an app,through that app i need to send packets through our vpn if some other vpn is connected i need to stop sending the packets and also i need to check for the packets send. How this could be acheived.. any idea?","body":"actually i did all the steps in that cpp file..i.e., the steps in the comment that comes after the header file declartion..Actually my scenario is i have an app,through that app i need to send packets through our vpn if some other vpn is connected i need to stop sending the packets and also i need to check for the packets send. How this could be acheived.. any idea?"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352872508,"post_id":13233477,"comment_id":18261197,"body_markdown":"Did you compile and run that server file too? (Like http://stackoverflow.com/questions/11424022/toyvpn-unable-to-connect-to-vpn-server?rq=1 )For what you are trying to do, you should try to get the name of the connected VPN 1st, then if name is same as your vpn client then keep sending, if it changes then stop your app from sending packets. But, 1st check if there is some broadcast for &quot;new vpn connected&quot;, what i said before there you have to check again and again for the vpn name, but if there is some broadcast then you just have to register a receiver for that broadcast.","body":"Did you compile and run that server file too? (Like <a href=\"http://stackoverflow.com/questions/11424022/toyvpn-unable-to-connect-to-vpn-server?rq=1\" title=\"toyvpn unable to connect to vpn server\">stackoverflow.com/questions/11424022/&hellip;</a> )For what you are trying to do, you should try to get the name of the connected VPN 1st, then if name is same as your vpn client then keep sending, if it changes then stop your app from sending packets. But, 1st check if there is some broadcast for &quot;new vpn connected&quot;, what i said before there you have to check again and again for the vpn name, but if there is some broadcast then you just have to register a receiver for that broadcast."},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352890189,"post_id":13233477,"comment_id":18267149,"body_markdown":"@user1204089 I ran ./a.out (followed by 6 parameter )after compiling the cpp file. U mean that i need to have a Broadcast receiver and the intent filter will the VPN change. If so i couldnt find any intent filter for that..Only BIND_VPN_SERVICE is there..I s there any other API to check this VPN change?","body":"@user1204089 I ran ./a.out (followed by 6 parameter )after compiling the cpp file. U mean that i need to have a Broadcast receiver and the intent filter will the VPN change. If so i couldnt find any intent filter for that..Only BIND_VPN_SERVICE is there..I s there any other API to check this VPN change?"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352961580,"post_id":13233477,"comment_id":18293349,"body_markdown":"If there is no related broadcast then you&#39;ll have to check for vpn connection...I think there is no vpn api other than what you already know! The thing that I do not understand about running the server file is that this file is part of the application, if I run the application then why do I have to run the file again...but if I have to run it then what am I running i.e. do I need to copy the file somewhere then compile and run it, or just install the application and then give the command to compile and run, can you please share the commands to compile and run it....:/","body":"If there is no related broadcast then you&#39;ll have to check for vpn connection...I think there is no vpn api other than what you already know! The thing that I do not understand about running the server file is that this file is part of the application, if I run the application then why do I have to run the file again...but if I have to run it then what am I running i.e. do I need to copy the file somewhere then compile and run it, or just install the application and then give the command to compile and run, can you please share the commands to compile and run it....:/"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352962020,"post_id":13233477,"comment_id":18293449,"body_markdown":"@user1204089 Actually we just keep that file in the application but we are not using t as i gone through the ToyVpn code.If we remove that server folder in the application and then build it, still the app will work fine. I copied that cpp file into a folder and did the commands in the comments and finnaly i did ./a.out with the parameters given in the comment..Thats all","body":"@user1204089 Actually we just keep that file in the application but we are not using t as i gone through the ToyVpn code.If we remove that server folder in the application and then build it, still the app will work fine. I copied that cpp file into a folder and did the commands in the comments and finnaly i did ./a.out with the parameters given in the comment..Thats all"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352962158,"post_id":13233477,"comment_id":18293492,"body_markdown":"@user1204089 Wat u mean by &quot;you&#39;ll have to check for vpn connection&quot;.","body":"@user1204089 Wat u mean by &quot;you&#39;ll have to check for vpn connection&quot;."},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352964163,"post_id":13233477,"comment_id":18294029,"body_markdown":"Thanks, I mean check if your vpn is connected or not...You should read the documentation..., Can more than one VPN exist at the same time? if not then function onRevoke() of VPNService can be used (may be!), read the documentation, if there is no api then try to access the internals of system to see if ur desired vpn is connected or not","body":"Thanks, I mean check if your vpn is connected or not...You should read the documentation..., Can more than one VPN exist at the same time? if not then function onRevoke() of VPNService can be used (may be!), read the documentation, if there is no api then try to access the internals of system to see if ur desired vpn is connected or not"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1352968169,"post_id":13233477,"comment_id":18295326,"body_markdown":"@user1204089 no, More than one VPN at a time is not possible, If u r opening a new VPN the latter will come into existence and the former will automatically disconnected..K i could understand the usage of onRevoke(). but i couldn&#39;t get the point &quot;access the internals of system to see if ur desired vpn &quot; and also u r meaning &quot;VPNService documentation&quot;","body":"@user1204089 no, More than one VPN at a time is not possible, If u r opening a new VPN the latter will come into existence and the former will automatically disconnected..K i could understand the usage of onRevoke(). but i couldn&#39;t get the point &quot;access the internals of system to see if ur desired vpn &quot; and also u r meaning &quot;VPNService documentation&quot;"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1352974556,"post_id":13233477,"comment_id":18297845,"body_markdown":"yaeh documentation of VPN service, and by internal I mean try to access internal/hidden api of vpn...which I am not sure if it can be accessed on api level higher than 10...But, first you should focus on onRevok method, if it is not helpful then look for some internal/hidden method, if there is one...","body":"yaeh documentation of VPN service, and by internal I mean try to access internal/hidden api of vpn...which I am not sure if it can be accessed on api level higher than 10...But, first you should focus on onRevok method, if it is not helpful then look for some internal/hidden method, if there is one..."},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1353936448,"post_id":13233477,"comment_id":18586189,"body_markdown":"Can you please take a look at this question http://stackoverflow.com/questions/13565475/android-nat-table-fix-me-impliment-getnetbyaddr-bionic-libc-bionic-stubs-c, and guide me if you can, and did you faced this problem too while you were setting the server?","body":"Can you please take a look at this question <a href=\"http://stackoverflow.com/questions/13565475/android-nat-table-fix-me-impliment-getnetbyaddr-bionic-libc-bionic-stubs-c\" title=\"android nat table fix me impliment getnetbyaddr bionic libc bionic stubs c\">stackoverflow.com/questions/13565475/&hellip;</a>, and guide me if you can, and did you faced this problem too while you were setting the server?"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1353939507,"post_id":13233477,"comment_id":18587636,"body_markdown":"@user1204089 i didnt face any issue like this.. I installed the server in my Ubuntu 10.04","body":"@user1204089 i didnt face any issue like this.. I installed the server in my Ubuntu 10.04"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1353994240,"post_id":13233477,"comment_id":18607299,"body_markdown":"ok, thanks. I was trying to set the server on phone!","body":"ok, thanks. I was trying to set the server on phone!"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1354004015,"post_id":13233477,"comment_id":18610115,"body_markdown":"Can you please tell me following things:&quot;iptables -t nat -A POSTROUTING -s 10.0.0.0/8 -o eth0 -j MASQUERADE&quot; in this line if my pc&#39;s address is &quot;192.168.2.215&quot; and my phone(client)&#39;s address is &quot;192.168.2.132&quot; then after &quot;-s &quot;  should I write 192.168.2.215/24?","body":"Can you please tell me following things:&quot;iptables -t nat -A POSTROUTING -s 10.0.0.0/8 -o eth0 -j MASQUERADE&quot; in this line if my pc&#39;s address is &quot;192.168.2.215&quot; and my phone(client)&#39;s address is &quot;192.168.2.132&quot; then after &quot;-s &quot;  should I write 192.168.2.215/24?"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1354004234,"post_id":13233477,"comment_id":18610182,"body_markdown":"and in line &quot;ifconfig tun0 10.0.0.1 dstaddr 10.0.0.2 up&quot; what should I write here instead of 10.0.0.1  and 10.0.0.2? How should I modify &quot;./ToyVpnServer tun0 8000 test -m 1400 -a 10.0.0.2 32 -d 8.8.8.8 -r 0.0.0.0 0&quot;. I&#39;ll highly appreciate if you could help...","body":"and in line &quot;ifconfig tun0 10.0.0.1 dstaddr 10.0.0.2 up&quot; what should I write here instead of 10.0.0.1  and 10.0.0.2? How should I modify &quot;./ToyVpnServer tun0 8000 test -m 1400 -a 10.0.0.2 32 -d 8.8.8.8 -r 0.0.0.0 0&quot;. I&#39;ll highly appreciate if you could help..."},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1354004471,"post_id":13233477,"comment_id":18610263,"body_markdown":"and before I gave all the commands as it is , and before that command of &quot;./ToyVpnServer&quot; I run the server file with g++ and then gave that command of &quot;./ToyVpnServer&quot; but there is no output no nothing, it seems just stuck...:/","body":"and before I gave all the commands as it is , and before that command of &quot;./ToyVpnServer&quot; I run the server file with g++ and then gave that command of &quot;./ToyVpnServer&quot; but there is no output no nothing, it seems just stuck...:/"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1354009596,"post_id":13233477,"comment_id":18612517,"body_markdown":"U dont want to edit the ip address given.. Just give as it is.. and finnally u need to give ./a.out instead of ./ToyVpnServer","body":"U dont want to edit the ip address given.. Just give as it is.. and finnally u need to give ./a.out instead of ./ToyVpnServer"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1354011000,"post_id":13233477,"comment_id":18613146,"body_markdown":"I have done this but again terminal looks stuck and toyVpn could not connect to the pc. What i have done is:            \nroot@mariam-PC:~# echo 1 &gt; /proc/sys/net/ipv4/ip_forward\nroot@mariam-PC:~# iptables -t nat -A POSTROUTING -s 10.0.0.0/8 -o eth0 -j MASQUERADE\n\nroot@mariam-PC:~# cat /proc/sys/net/ipv4/ip_forward1\nroot@mariam-PC:~# ip tuntap add dev tun0 mode tun\nroot@mariam-PC:~# ifconfig tun0 10.0.0.1 dstaddr 10.0.0.2 up\nroot@mariam-PC:~# ./a.out tun0 8000 test -m 1400 -a 10.0.0.2 32 -d 8.8.8.8 -r 0.0.0.0 0","body":"I have done this but again terminal looks stuck and toyVpn could not connect to the pc. What i have done is:             root@mariam-PC:~# echo 1 &gt; /proc/sys/net/ipv4/ip_forward root@mariam-PC:~# iptables -t nat -A POSTROUTING -s 10.0.0.0/8 -o eth0 -j MASQUERADE  root@mariam-PC:~# cat /proc/sys/net/ipv4/ip_forward1 root@mariam-PC:~# ip tuntap add dev tun0 mode tun root@mariam-PC:~# ifconfig tun0 10.0.0.1 dstaddr 10.0.0.2 up root@mariam-PC:~# ./a.out tun0 8000 test -m 1400 -a 10.0.0.2 32 -d 8.8.8.8 -r 0.0.0.0 0"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1354011201,"post_id":13233477,"comment_id":18613244,"body_markdown":"This &quot;./a.out&quot; is in the folder &quot;home&quot;...is this accessible like the way command is give..? Also, in ToyVpn&#39;s client I gave IP address of the PC...is this right or should I provide the ip address given in the commands, and if ip address of command then which one?","body":"This &quot;./a.out&quot; is in the folder &quot;home&quot;...is this accessible like the way command is give..? Also, in ToyVpn&#39;s client I gave IP address of the PC...is this right or should I provide the ip address given in the commands, and if ip address of command then which one?"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1354011807,"post_id":13233477,"comment_id":18613512,"body_markdown":"Consider u have the .cpp in a folder named &quot;home&quot; and in the terminal u ran gcc ToyvpnServer.cpp (u r in the &quot;home&quot;folder). U could see a.out file is generated.. Nw run the ./a.out tun0 8000 test -m 1400 -a 10.0.0.2 32 -d 8.8.8.8 -r 0.0.0.0 0\n...... Initially in the terminal nothing will be displayed.. Once u connect ur client u could see print messages present in the cpp.. For ur understanding put a print message inside main() in .cpp file","body":"Consider u have the .cpp in a folder named &quot;home&quot; and in the terminal u ran gcc ToyvpnServer.cpp (u r in the &quot;home&quot;folder). U could see a.out file is generated.. Nw run the ./a.out tun0 8000 test -m 1400 -a 10.0.0.2 32 -d 8.8.8.8 -r 0.0.0.0 0 ...... Initially in the terminal nothing will be displayed.. Once u connect ur client u could see print messages present in the cpp.. For ur understanding put a print message inside main() in .cpp file"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1354012860,"post_id":13233477,"comment_id":18614079,"body_markdown":"again disconnected :(. and in the nat table the inserted rule is not appearing..I tried with both &quot;-A&quot; and &quot;-I&quot;. The ip address should be the pc ip adress!?","body":"again disconnected :(. and in the nat table the inserted rule is not appearing..I tried with both &quot;-A&quot; and &quot;-I&quot;. The ip address should be the pc ip adress!?"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1354018426,"post_id":13233477,"comment_id":18616744,"body_markdown":"sir just try to have ur ip address on the ./a.out command and check.. I ll check and tell u the exact command","body":"sir just try to have ur ip address on the ./a.out command and check.. I ll check and tell u the exact command"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1354018729,"post_id":13233477,"comment_id":18616873,"body_markdown":"I just ran the commands in the comments of the cpp file that is preserent in server folder of toyvpn source.. And i ran the application by giving My systems &quot;IP&quot; ,port &quot;8000&quot; and secret key &quot;test&quot; .. Thats all","body":"I just ran the commands in the comments of the cpp file that is preserent in server folder of toyvpn source.. And i ran the application by giving My systems &quot;IP&quot; ,port &quot;8000&quot; and secret key &quot;test&quot; .. Thats all"},{"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"score":0,"creation_date":1354018826,"post_id":13233477,"comment_id":18616915,"body_markdown":"sry ia didnt check the IP address in the cmd u given","body":"sry ia didnt check the IP address in the cmd u given"},{"owner":{"account_id":1241627,"reputation":2549,"user_id":1204089,"accept_rate":87,"display_name":"blackfyre"},"score":0,"creation_date":1354022384,"post_id":13233477,"comment_id":18618633,"body_markdown":"Thanks God! Now, it is working, I disabled the firewall (ufw) and again gave the commands. Thanks alot for your help! :)","body":"Thanks God! Now, it is working, I disabled the firewall (ufw) and again gave the commands. Thanks alot for your help! :)"},{"owner":{"account_id":8214,"reputation":16860,"user_id":14673,"accept_rate":92,"display_name":"Luc M"},"score":0,"creation_date":1385665102,"post_id":13233477,"comment_id":30242816,"body_markdown":"This question appears to be off-topic because it is about Android support","body":"This question appears to be off-topic because it is about Android support"},{"owner":{"account_id":7156005,"reputation":28054,"user_id":5468463,"accept_rate":100,"display_name":"Vega"},"score":0,"creation_date":1649044014,"post_id":13233477,"comment_id":126767679,"body_markdown":"@shlebe, please do not use code format for plain text, proper names, etc. It should be kept for code only","body":"@shlebe, please do not use code format for plain text, proper names, etc. It should be kept for code only"}],"answers":[{"tags":[],"owner":{"account_id":51633,"reputation":37763,"user_id":154306,"accept_rate":98,"display_name":"Paul Lammertsma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1385658378,"creation_date":1385658378,"answer_id":20271511,"question_id":13233477,"body_markdown":"&gt; I want to know how to setup a VPN connection in Android using an application?\r\n\r\nThe Android SDK comes bundled with a sample; see ToyVpn in the android-16 samples directory. Also consult the documentation for [VpnService](http://developer.android.com/reference/android/net/VpnService.html) and [VpnService.Builder](http://developer.android.com/reference/android/net/VpnService.Builder.html).\r\n\r\n&gt; I came across a sample code namely ToyVpn.I ran the application but i dont know what datas i need to give in the form shown by that application, Consider iam having a VPN server with ip-address (say 10.162.1.2), What i need to do in that application to make that app work .\r\n\r\nYour VPN will need to create a new socket, protect the socket from being routed back into the VPN using `VpnService.protect(Socket)`, and connect the socket to 10.162.1.2. Having set up a tunnel connection to the VPN server, you should proceed to writing the input stream of the VpnService&#39;s interface into the tunnel&#39;s output stream, and in turn write the tunnel response back into the interface output stream.\r\n\r\n&gt; If i try to use any public VPN server, What i need to do?\r\n\r\nThere is no standard mechanism in place for setting up a connection to a VPN server. ToyVpn simply communicates over a socket using raw TCP packets. You can either implement an existing protocol (see [RFC 4026](https://www.rfc-editor.org/rfc/rfc4026)) like OpenVPN has done or write something yourself.","title":"How to use the VPN API on Android?","body":"<blockquote>\n<p>I want to know how to setup a VPN connection in Android using an application?</p>\n</blockquote>\n<p>The Android SDK comes bundled with a sample; see ToyVpn in the android-16 samples directory. Also consult the documentation for <a href=\"http://developer.android.com/reference/android/net/VpnService.html\" rel=\"nofollow noreferrer\">VpnService</a> and <a href=\"http://developer.android.com/reference/android/net/VpnService.Builder.html\" rel=\"nofollow noreferrer\">VpnService.Builder</a>.</p>\n<blockquote>\n<p>I came across a sample code namely ToyVpn.I ran the application but i dont know what datas i need to give in the form shown by that application, Consider iam having a VPN server with ip-address (say 10.162.1.2), What i need to do in that application to make that app work .</p>\n</blockquote>\n<p>Your VPN will need to create a new socket, protect the socket from being routed back into the VPN using <code>VpnService.protect(Socket)</code>, and connect the socket to 10.162.1.2. Having set up a tunnel connection to the VPN server, you should proceed to writing the input stream of the VpnService's interface into the tunnel's output stream, and in turn write the tunnel response back into the interface output stream.</p>\n<blockquote>\n<p>If i try to use any public VPN server, What i need to do?</p>\n</blockquote>\n<p>There is no standard mechanism in place for setting up a connection to a VPN server. ToyVpn simply communicates over a socket using raw TCP packets. You can either implement an existing protocol (see <a href=\"https://www.rfc-editor.org/rfc/rfc4026\" rel=\"nofollow noreferrer\">RFC 4026</a>) like OpenVPN has done or write something yourself.</p>\n"}],"owner":{"account_id":1557706,"reputation":1291,"user_id":1448299,"accept_rate":53,"display_name":"Sudarshan"},"comment_count":42,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9755,"favorite_count":0,"down_vote_count":5,"up_vote_count":8,"closed_date":1385666790,"answer_count":1,"score":3,"last_activity_date":1649004656,"creation_date":1352123436,"question_id":13233477,"body_markdown":"I&#39;m exploring VPN Connectivity in Android.\r\n\r\n1. I want to know how to setup a VPN connection in Android using an application.\r\n\r\n2. I came across some sample code named `ToyVpn`. I ran the application but I didn&#39;t know what data I had to give in the form displayed by that application. Considering I have a VPN server with an IP address (say 10.162.1.2), what do I need to do in that application so this app work ?\r\n\r\n3. If I try to use a public VPN server, what do I need to do?\r\n\r\n4. I downloaded `OpenVPN` source code from [GIT/ics-openvpn][1] and I compiled it and ran on my `ICS` device, but I didn&#39;t know how to configure the data that needs to be entered. \r\n\r\nPlease can somebody provide the exact way to use this app ?\r\n\r\n  [1]: https://github.com/kghost/ics-openvpn","title":"How to use the VPN API on Android?","body":"<p>I'm exploring VPN Connectivity in Android.</p>\n<ol>\n<li><p>I want to know how to setup a VPN connection in Android using an application.</p>\n</li>\n<li><p>I came across some sample code named <code>ToyVpn</code>. I ran the application but I didn't know what data I had to give in the form displayed by that application. Considering I have a VPN server with an IP address (say 10.162.1.2), what do I need to do in that application so this app work ?</p>\n</li>\n<li><p>If I try to use a public VPN server, what do I need to do?</p>\n</li>\n<li><p>I downloaded <code>OpenVPN</code> source code from <a href=\"https://github.com/kghost/ics-openvpn\" rel=\"nofollow noreferrer\">GIT/ics-openvpn</a> and I compiled it and ran on my <code>ICS</code> device, but I didn't know how to configure the data that needs to be entered.</p>\n</li>\n</ol>\n<p>Please can somebody provide the exact way to use this app ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":117556,"reputation":3752,"user_id":307795,"accept_rate":43,"display_name":"DaShaun"},"score":0,"creation_date":1649004382,"post_id":71727938,"comment_id":126760831,"body_markdown":"Why did you exclude the DataSourceAutoConfiguration?","body":"Why did you exclude the DataSourceAutoConfiguration?"},{"owner":{"account_id":24811920,"reputation":3,"user_id":18693266,"display_name":"David"},"score":0,"creation_date":1649012410,"post_id":71727938,"comment_id":126762753,"body_markdown":"Because it wouldn&#39;t connect to MongoDB.","body":"Because it wouldn&#39;t connect to MongoDB."}],"answers":[{"tags":[],"owner":{"account_id":544182,"reputation":11238,"user_id":913543,"accept_rate":89,"display_name":"LaurentG"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649004381,"creation_date":1649004381,"answer_id":71727989,"question_id":71727938,"body_markdown":"The field `repository` is `null` because you can&#39;t inject a bean with `@Autowired` declared as a static field (see https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields for more information).","title":"Autowired interface null in spring boot","body":"<p>The field <code>repository</code> is <code>null</code> because you can't inject a bean with <code>@Autowired</code> declared as a static field (see <a href=\"https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields\">Can you use @Autowired with static fields?</a> for more information).</p>\n"}],"owner":{"account_id":24811920,"reputation":3,"user_id":18693266,"display_name":"David"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71727989,"answer_count":1,"score":0,"last_activity_date":1649004381,"creation_date":1649004115,"question_id":71727938,"body_markdown":"Trying to build a services named AccountService an I don&#39;t know why my @Autowired field is null. I tried multiple things like ComponentScan and all the stuff you find on google. \r\n\r\nThank you in advance :)\r\n\r\nThe class that is being auto wired:\r\n\r\n    package de.scroll.AccountService.Account;\r\n    \r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @Repository\r\n    public interface AccountRepository extends MongoRepository&lt;Account, String&gt; {\r\n    \r\n        public Optional&lt;Account&gt; findById(String id);\r\n        public List&lt;Account&gt; findByEmailaddress(String email);\r\n    }\r\n\r\nThe class in which the the auto wired class should be in use:\r\n\r\n    package de.scroll.AccountService;\r\n    \r\n    import de.scroll.AccountService.Account.AccountRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    \r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n    public class AccountServiceApplication {\r\n    \r\n    \t@Autowired\r\n    \tpublic static AccountRepository repository;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AccountServiceApplication.class, args);\r\n    \r\n    \t\ttest();\r\n    \t}\r\n    \r\n    \tpublic static void test() {\r\n    \t\trepository.findAll();\r\n    \t}\r\n    }\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat de.scroll.AccountService.AccountServiceApplication.test(AccountServiceApplication.java:22)\r\n    \tat de.scroll.AccountService.AccountServiceApplication.main(AccountServiceApplication.java:18)\r\n\r\n","title":"Autowired interface null in spring boot","body":"<p>Trying to build a services named AccountService an I don't know why my @Autowired field is null. I tried multiple things like ComponentScan and all the stuff you find on google.</p>\n<p>Thank you in advance :)</p>\n<p>The class that is being auto wired:</p>\n<pre><code>package de.scroll.AccountService.Account;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Repository\npublic interface AccountRepository extends MongoRepository&lt;Account, String&gt; {\n\n    public Optional&lt;Account&gt; findById(String id);\n    public List&lt;Account&gt; findByEmailaddress(String email);\n}\n</code></pre>\n<p>The class in which the the auto wired class should be in use:</p>\n<pre><code>package de.scroll.AccountService;\n\nimport de.scroll.AccountService.Account.AccountRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\npublic class AccountServiceApplication {\n\n    @Autowired\n    public static AccountRepository repository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(AccountServiceApplication.class, args);\n\n        test();\n    }\n\n    public static void test() {\n        repository.findAll();\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at de.scroll.AccountService.AccountServiceApplication.test(AccountServiceApplication.java:22)\n    at de.scroll.AccountService.AccountServiceApplication.main(AccountServiceApplication.java:18)\n</code></pre>\n"},{"tags":["java","coding-style"],"answers":[{"tags":[],"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1263763846,"creation_date":1263763846,"answer_id":2082736,"question_id":2082729,"body_markdown":"You stick with the [Java Code Conventions][1].\r\n\r\nWhat exactly the standard is doesn&#39;t matter - what matters is that everyone follows it, and you should too.\r\n\r\n[1]: http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html","title":"To camelCase or not to camel_case","body":"<p>You stick with the <a href=\"http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html\" rel=\"noreferrer\">Java Code Conventions</a>.</p>\n\n<p>What exactly the standard is doesn't matter - what matters is that everyone follows it, and you should too.</p>\n"},{"tags":[],"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1263857252,"creation_date":1263763988,"answer_id":2082746,"question_id":2082729,"body_markdown":"**ClassName**\r\n\r\n - Renderer\r\n - HttpSession\r\n\r\n**methodName**\r\n\r\n - applyTo()\r\n - run()\r\n\r\n**instanceVariable** / **localVariable**\r\n\r\n - currentUser\r\n - threadList\r\n\r\n**CONSTANT_NAME**\r\n\r\n - LOG\r\n - DEFAULT_CONTEXT\r\n\r\n**G** (Generic Type Parameter)\r\n\r\n - T\r\n - E","title":"To camelCase or not to camel_case","body":"<p><strong>ClassName</strong></p>\n\n<ul>\n<li>Renderer</li>\n<li>HttpSession</li>\n</ul>\n\n<p><strong>methodName</strong></p>\n\n<ul>\n<li>applyTo()</li>\n<li>run()</li>\n</ul>\n\n<p><strong>instanceVariable</strong> / <strong>localVariable</strong></p>\n\n<ul>\n<li>currentUser</li>\n<li>threadList</li>\n</ul>\n\n<p><strong>CONSTANT_NAME</strong></p>\n\n<ul>\n<li>LOG</li>\n<li>DEFAULT_CONTEXT</li>\n</ul>\n\n<p><strong>G</strong> (Generic Type Parameter)</p>\n\n<ul>\n<li>T</li>\n<li>E</li>\n</ul>\n"}],"owner":{"account_id":79704,"reputation":15955,"user_id":225814,"accept_rate":76,"display_name":"Aly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18507,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":2082736,"answer_count":2,"score":15,"last_activity_date":1649004154,"creation_date":1263763664,"question_id":2082729,"body_markdown":"What is the standard when coding in Java, when do you use camel case when do you use underscores etc. ","title":"To camelCase or not to camel_case","body":"<p>What is the standard when coding in Java, when do you use camel case when do you use underscores etc. </p>\n"},{"tags":["java","json","spring-boot","http-message-converter"],"comments":[{"owner":{"account_id":117556,"reputation":3752,"user_id":307795,"accept_rate":43,"display_name":"DaShaun"},"score":1,"creation_date":1649003233,"post_id":71727666,"comment_id":126760562,"body_markdown":"I&#39;m guessing that the redirect is not being followed by the restTemplate.  You should check the initial response and see how the redirect is being created.","body":"I&#39;m guessing that the redirect is not being followed by the restTemplate.  You should check the initial response and see how the redirect is being created."},{"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"score":0,"creation_date":1649003886,"post_id":71727666,"comment_id":126760723,"body_markdown":"The original url works in postman, but it gets redirected in browsers. \nHow would I check the initial response?","body":"The original url works in postman, but it gets redirected in browsers.  How would I check the initial response?"},{"owner":{"account_id":117556,"reputation":3752,"user_id":307795,"accept_rate":43,"display_name":"DaShaun"},"score":0,"creation_date":1649004233,"post_id":71727666,"comment_id":126760797,"body_markdown":"Turn on logging for your restTemplate","body":"Turn on logging for your restTemplate"},{"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"score":0,"creation_date":1649004666,"post_id":71727666,"comment_id":126760910,"body_markdown":"Ok I tried it now, and It seems to be a permanent redirect : \n: HTTP GET http://coverartarchive.org/release-group/8e68819d-71be-4e7d-b41d-f1df81b01d3f\n: Accept=[*/*]   \n: Response 301 MOVED_PERMANENTLY\n\nbut it still doesn&#39;t say which url it is redirected to, can I fetch the redirected url somehow?","body":"Ok I tried it now, and It seems to be a permanent redirect :  : HTTP GET <a href=\"http://coverartarchive.org/release-group/8e68819d-71be-4e7d-b41d-f1df81b01d3f\" rel=\"nofollow noreferrer\">coverartarchive.org/release-group/&hellip;</a> : Accept=[<i>/</i>]    : Response 301 MOVED_PERMANENTLY  but it still doesn&#39;t say which url it is redirected to, can I fetch the redirected url somehow?"},{"owner":{"account_id":117556,"reputation":3752,"user_id":307795,"accept_rate":43,"display_name":"DaShaun"},"score":0,"creation_date":1649005453,"post_id":71727666,"comment_id":126761113,"body_markdown":"Look at the &quot;location&quot; header in that response.","body":"Look at the &quot;location&quot; header in that response."}],"owner":{"account_id":17491358,"reputation":132,"user_id":12683457,"display_name":"Ruthless"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649003917,"creation_date":1649002165,"question_id":71727666,"body_markdown":"I am trying to get a json response value from a url : http://coverartarchive.org/release-group/2a0981fb-9593-3019-864b-ce934d97a16e\r\n\r\nwhich redirects to :  https://ia800300.us.archive.org/0/items/mbid-cc8a35fc-ef70-40b5-b410-c1b5a029a866/index.json\r\n\r\nI want to map the images value to an arraylist , but I get this exception : \r\n\r\n`org.springframework.web.client.RestClientException: Error while extracting response for type [class com.mashup.entity.coverart.Image] and content type [text/html]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;); nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)`\r\n\r\nIn my CoverArtService, I have set HttpMessageConverter : \r\n\r\n   \r\n\r\n     public static Image fetchCoverArtImageUrl(String mbid) {\r\n        restTemplate = new RestTemplate();\r\n        restTemplate.setMessageConverters(MessageConverterService.getMessageConverters());\r\n    \r\n    \r\n        image = restTemplate.getForObject(COVER_ART_URL + mbid, Image.class);\r\n    \r\n        return image;\r\n      }\r\n\r\nMy MessageConverterService : \r\n\r\n  \r\n\r\n   \r\n\r\n       public class MessageConverterService {\r\n        \r\n          private static ObjectMapper objectMapper;\r\n        \r\n          public static ObjectMapper createObjectMapper () {\r\n          objectMapper = new ObjectMapper()\r\n                .registerModule(new Jdk8Module())\r\n                .registerModule(new JavaTimeModule())\r\n                .configure(\r\n                    SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n            return objectMapper;\r\n          }\r\n        \r\n          public static ObjectMapper getObjectMapper() {\r\n            return objectMapper;\r\n          }\r\n        \r\n           public static List&lt;HttpMessageConverter&lt;?&gt;&gt; getMessageConverters () {\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n        MappingJackson2HttpMessageConverter jsonMessageConverter = new MappingJackson2HttpMessageConverter();\r\n        jsonMessageConverter.setObjectMapper(createObjectMapper());\r\n        jsonMessageConverter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n        messageConverters.add(jsonMessageConverter);\r\n    \r\n    \r\n        return messageConverters;\r\n      }\r\n\r\nWhat is the issue here, since I already set a HttpMessageConverter?  \r\nThe original url works in postman, but it gets redirected in browsers.\r\n\r\nThanks!\r\n\r\n","title":"Mapping external API json response value from a redirected html url to POJO","body":"<p>I am trying to get a json response value from a url : <a href=\"http://coverartarchive.org/release-group/2a0981fb-9593-3019-864b-ce934d97a16e\" rel=\"nofollow noreferrer\">http://coverartarchive.org/release-group/2a0981fb-9593-3019-864b-ce934d97a16e</a></p>\n<p>which redirects to :  <a href=\"https://ia800300.us.archive.org/0/items/mbid-cc8a35fc-ef70-40b5-b410-c1b5a029a866/index.json\" rel=\"nofollow noreferrer\">https://ia800300.us.archive.org/0/items/mbid-cc8a35fc-ef70-40b5-b410-c1b5a029a866/index.json</a></p>\n<p>I want to map the images value to an arraylist , but I get this exception :</p>\n<p><code>org.springframework.web.client.RestClientException: Error while extracting response for type [class com.mashup.entity.coverart.Image] and content type [text/html]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false'); nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')</code></p>\n<p>In my CoverArtService, I have set HttpMessageConverter :</p>\n<pre><code> public static Image fetchCoverArtImageUrl(String mbid) {\n    restTemplate = new RestTemplate();\n    restTemplate.setMessageConverters(MessageConverterService.getMessageConverters());\n\n\n    image = restTemplate.getForObject(COVER_ART_URL + mbid, Image.class);\n\n    return image;\n  }\n</code></pre>\n<p>My MessageConverterService :</p>\n<pre><code>   public class MessageConverterService {\n    \n      private static ObjectMapper objectMapper;\n    \n      public static ObjectMapper createObjectMapper () {\n      objectMapper = new ObjectMapper()\n            .registerModule(new Jdk8Module())\n            .registerModule(new JavaTimeModule())\n            .configure(\n                SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        return objectMapper;\n      }\n    \n      public static ObjectMapper getObjectMapper() {\n        return objectMapper;\n      }\n    \n       public static List&lt;HttpMessageConverter&lt;?&gt;&gt; getMessageConverters () {\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\n    MappingJackson2HttpMessageConverter jsonMessageConverter = new MappingJackson2HttpMessageConverter();\n    jsonMessageConverter.setObjectMapper(createObjectMapper());\n    jsonMessageConverter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n    messageConverters.add(jsonMessageConverter);\n\n\n    return messageConverters;\n  }\n</code></pre>\n<p>What is the issue here, since I already set a HttpMessageConverter?<br />\nThe original url works in postman, but it gets redirected in browsers.</p>\n<p>Thanks!</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":182362,"reputation":15840,"user_id":416996,"accept_rate":85,"display_name":"Jama A."},"score":1,"creation_date":1328892545,"post_id":9231405,"comment_id":11626004,"body_markdown":"have you copied question from http://stackoverflow.com/questions/3752636/java-split-string-when-an-uppercase-letter-is-found","body":"have you copied question from <a href=\"http://stackoverflow.com/questions/3752636/java-split-string-when-an-uppercase-letter-is-found\" title=\"java split string when an uppercase letter is found\">stackoverflow.com/questions/3752636/&hellip;</a>"},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1328892557,"post_id":9231405,"comment_id":11626008,"body_markdown":"&quot;give me teh codez&quot; gets an up-vote?","body":"&quot;give me teh codez&quot; gets an up-vote?"},{"owner":{"account_id":4909,"reputation":13807,"user_id":7613,"accept_rate":86,"display_name":"Andrew"},"score":1,"creation_date":1328893480,"post_id":9231405,"comment_id":11626426,"body_markdown":"possible duplicate of [How do I convert CamelCase into human-readable names in Java?](http://stackoverflow.com/questions/2559759/how-do-i-convert-camelcase-into-human-readable-names-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2559759/how-do-i-convert-camelcase-into-human-readable-names-in-java\">How do I convert CamelCase into human-readable names in Java?</a>"},{"owner":{"account_id":892949,"reputation":7179,"user_id":930875,"accept_rate":44,"display_name":"Ben Taliadoros"},"score":0,"creation_date":1329016383,"post_id":9231405,"comment_id":11648761,"body_markdown":"No this is not a duplicate of anything thanks","body":"No this is not a duplicate of anything thanks"},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1621497741,"post_id":9231405,"comment_id":119515341,"body_markdown":"Does this answer your question? [How do I convert CamelCase into human-readable names in Java?](https://stackoverflow.com/questions/2559759/how-do-i-convert-camelcase-into-human-readable-names-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2559759/how-do-i-convert-camelcase-into-human-readable-names-in-java\">How do I convert CamelCase into human-readable names in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":52010,"reputation":27006,"user_id":155392,"accept_rate":81,"display_name":"I82Much"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1328892940,"creation_date":1328892940,"answer_id":9231582,"question_id":9231405,"body_markdown":"It looks like you want to convert camelcase into readable language.  Is that the case?\r\n\r\nIf so, this solution should work for you - https://stackoverflow.com/questions/2559759/how-do-i-convert-camelcase-into-human-readable-names-in-java\r\n\r\nIf you want subsequent words lowercased, you&#39;ll have to split to handle that yourself.","title":"Split by capital letters in Java","body":"<p>It looks like you want to convert camelcase into readable language.  Is that the case?</p>\n\n<p>If so, this solution should work for you - <a href=\"https://stackoverflow.com/questions/2559759/how-do-i-convert-camelcase-into-human-readable-names-in-java\">How do I convert CamelCase into human-readable names in Java?</a></p>\n\n<p>If you want subsequent words lowercased, you'll have to split to handle that yourself.</p>\n"},{"tags":[],"owner":{"account_id":890994,"reputation":681,"user_id":929274,"accept_rate":20,"display_name":"Figus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574389610,"creation_date":1328893458,"answer_id":9231713,"question_id":9231405,"body_markdown":"If you want a string you can do so:\r\n\r\n    String str = &quot;ThisIsAString&quot;;\r\n    String res = &quot;&quot;;\r\n    for(int i = 0; i &lt; str.length(); i++) {\r\n       Character ch = str.charAt(i);\r\n         if(Character.isUpperCase(ch))\r\n           res += &quot; &quot; + Character.toLowerCase(ch);\r\n         else\r\n           res += ch;\r\n    }\r\n","title":"Split by capital letters in Java","body":"<p>If you want a string you can do so:</p>\n\n<pre><code>String str = \"ThisIsAString\";\nString res = \"\";\nfor(int i = 0; i &lt; str.length(); i++) {\n   Character ch = str.charAt(i);\n     if(Character.isUpperCase(ch))\n       res += \" \" + Character.toLowerCase(ch);\n     else\n       res += ch;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1206399,"reputation":481,"user_id":1175926,"accept_rate":71,"display_name":"bernabas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328893503,"creation_date":1328893503,"answer_id":9231729,"question_id":9231405,"body_markdown":"      \r\n    public static String cpt(String cpt){\r\n\t\tString new_string = &quot;&quot;;\r\n\t\tfor (int i=0; i &lt; cpt.length(); i++){\r\n\t\t\tchar c = cpt.charAt(i);\r\n\t\t\tif(Character.isUpperCase(c)){\t\t\t\t\r\n\t\t\t\tnew_string = new_string + &quot; &quot; + Character.toLowerCase(c);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tnew_string = new_string + c;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new_string;\r\n\t}","title":"Split by capital letters in Java","body":"<pre><code>public static String cpt(String cpt){\n    String new_string = \"\";\n    for (int i=0; i &lt; cpt.length(); i++){\n        char c = cpt.charAt(i);\n        if(Character.isUpperCase(c)){               \n            new_string = new_string + \" \" + Character.toLowerCase(c);\n        }\n        else {\n            new_string = new_string + c;\n        }\n    }\n    return new_string;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564295692,"creation_date":1564295692,"answer_id":57238509,"question_id":9231405,"body_markdown":"**Total Number of Words in a Camel Case word using char casing identification**\r\n\r\nSolution: to Hacker Rank camel case problem: https://www.hackerrank.com/challenges/camelcase/problem \r\n\r\n    public static void camelCaseWordWithIndexs(String s) {\r\n\r\n\r\n        int startIndex = 0;\r\n        int endIndex = 0;\r\n\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (Character.isUpperCase(s.charAt(i)) || i == s.length() - 1) {\r\n                startIndex = endIndex;\r\n                endIndex = i != s.length() - 1 ? i : i + 1;\r\n                System.out.println(s.substring(startIndex, endIndex));\r\n            }\r\n        }\r\n\r\n\r\n    }","title":"Split by capital letters in Java","body":"<p><strong>Total Number of Words in a Camel Case word using char casing identification</strong></p>\n\n<p>Solution: to Hacker Rank camel case problem: <a href=\"https://www.hackerrank.com/challenges/camelcase/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/camelcase/problem</a> </p>\n\n<pre><code>public static void camelCaseWordWithIndexs(String s) {\n\n\n    int startIndex = 0;\n    int endIndex = 0;\n\n    for (int i = 0; i &lt; s.length(); i++) {\n        if (Character.isUpperCase(s.charAt(i)) || i == s.length() - 1) {\n            startIndex = endIndex;\n            endIndex = i != s.length() - 1 ? i : i + 1;\n            System.out.println(s.substring(startIndex, endIndex));\n        }\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":892949,"reputation":7179,"user_id":930875,"accept_rate":44,"display_name":"Ben Taliadoros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17361,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":9231582,"answer_count":4,"score":1,"last_activity_date":1649003878,"creation_date":1328892329,"question_id":9231405,"body_markdown":"I need to split a string by capitals and preferably make subsequent words lower case;\r\n\r\nfor example \r\n\r\nThisIsAString becomes This is a string\r\n\r\nThanks","title":"Split by capital letters in Java","body":"<p>I need to split a string by capitals and preferably make subsequent words lower case;</p>\n\n<p>for example </p>\n\n<p>ThisIsAString becomes This is a string</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-cloud-config"],"answers":[{"tags":[],"owner":{"account_id":16189710,"reputation":1,"user_id":11688858,"display_name":"Rafael Mocelin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648968412,"creation_date":1648839043,"answer_id":71711570,"question_id":71711300,"body_markdown":"Is it a property file read case?\r\n\r\n    try {\r\n        InputStream input = new FileInputStream(ConfigJsonTest.class.getResource(&quot;/config.properties&quot;).getFile());\r\n    \tProperties prop = new Properties();\r\n    \tprop.load(input);\r\n    \tSystem.out.println(prop.get(&quot;timeout&quot;));\r\n    } catch (FileNotFoundException e) {\r\n    \te.printStackTrace();\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }","title":"Spring Config Server Retrieve Plain Text","body":"<p>Is it a property file read case?</p>\n<pre><code>try {\n    InputStream input = new FileInputStream(ConfigJsonTest.class.getResource(&quot;/config.properties&quot;).getFile());\n    Properties prop = new Properties();\n    prop.load(input);\n    System.out.println(prop.get(&quot;timeout&quot;));\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":21612150,"reputation":53,"user_id":15938510,"display_name":"Dyson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649003580,"creation_date":1648837355,"question_id":71711300,"body_markdown":"I am trying to get a plain text file from Spring Cloud Config Server using a Spring Boot application. I have put a plain text file `example.json` in the config git repo in the following structure:\r\n```\r\nconfig/appName/schema/example.json\r\n```\r\nWhile I am able to access http://localhost:8888/dod-sync/default/master/schema/example.json from the browser, I don&#39;t want to just open a HttpConnection and get the file content and parse it in the application.\r\n\r\nIs there a way I can load this file somewhat similar to the way to retrieve normal properties in my Spring application?\r\n\r\nFor example, I can use `@Value(&quot;${application.http.timeout}&quot;)` to get the `timeout` property. I want to have a similar functionality to get the plain text content in the application.\r\n\r\n\r\nI read https://cloud.spring.io/spring-cloud-config/reference/html/#_serving_plain_text and lots of resources on web but can&#39;t find anything helpful.\r\n\r\nThank you for any help!","title":"Spring Config Server Retrieve Plain Text","body":"<p>I am trying to get a plain text file from Spring Cloud Config Server using a Spring Boot application. I have put a plain text file <code>example.json</code> in the config git repo in the following structure:</p>\n<pre><code>config/appName/schema/example.json\n</code></pre>\n<p>While I am able to access http://localhost:8888/dod-sync/default/master/schema/example.json from the browser, I don't want to just open a HttpConnection and get the file content and parse it in the application.</p>\n<p>Is there a way I can load this file somewhat similar to the way to retrieve normal properties in my Spring application?</p>\n<p>For example, I can use <code>@Value(&quot;${application.http.timeout}&quot;)</code> to get the <code>timeout</code> property. I want to have a similar functionality to get the plain text content in the application.</p>\n<p>I read <a href=\"https://cloud.spring.io/spring-cloud-config/reference/html/#_serving_plain_text\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-config/reference/html/#_serving_plain_text</a> and lots of resources on web but can't find anything helpful.</p>\n<p>Thank you for any help!</p>\n"},{"tags":["java","multithreading","concurrency","executorservice"],"comments":[{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1272896283,"post_id":2758612,"comment_id":2790251,"body_markdown":"Is that &#39;start time&#39; of the timeout the time of submission? Or the time the task begins executing?","body":"Is that &#39;start time&#39; of the timeout the time of submission? Or the time the task begins executing?"},{"owner":{"account_id":38846,"reputation":29745,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"score":0,"creation_date":1272896437,"post_id":2758612,"comment_id":2790279,"body_markdown":"Good question. When it begins executing. Presumably using the `protected void beforeExecute(Thread t, Runnable r)` hook.","body":"Good question. When it begins executing. Presumably using the <code>protected void beforeExecute(Thread t, Runnable r)</code> hook."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1417293810,"post_id":2758612,"comment_id":42895879,"body_markdown":"@scompt.com are you still using this solution or has it been superceded","body":"@scompt.com are you still using this solution or has it been superceded"},{"owner":{"account_id":38846,"reputation":29745,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"score":0,"creation_date":1417424022,"post_id":2758612,"comment_id":42927405,"body_markdown":"@PaulTaylor The job where I implemented this solution has been superceded. :-)","body":"@PaulTaylor The job where I implemented this solution has been superceded. :-)"},{"owner":{"account_id":1480323,"reputation":273,"user_id":1389877,"accept_rate":0,"display_name":"Michael Ellis"},"score":0,"creation_date":1487255013,"post_id":2758612,"comment_id":71709379,"body_markdown":"I need exactly this, except a) I need my main scheduler service to be a thread pool with a single service thread since  need my tasks to execute strictly concurrently and b) I need to be able to specify the timeout duration for each task at the time the task is submitted.\n\nI have tried using this as a starting point but extending ScheduledThreadPoolExecutor, but I cannot see a way to get the timeout duration specified that is to be specified at task submission time through to the beforeExecute method. Any suggestions gratefully appreciated!","body":"I need exactly this, except a) I need my main scheduler service to be a thread pool with a single service thread since  need my tasks to execute strictly concurrently and b) I need to be able to specify the timeout duration for each task at the time the task is submitted.  I have tried using this as a starting point but extending ScheduledThreadPoolExecutor, but I cannot see a way to get the timeout duration specified that is to be specified at task submission time through to the beforeExecute method. Any suggestions gratefully appreciated!"},{"owner":{"account_id":9288944,"reputation":1488,"user_id":6897913,"display_name":"linjiejun"},"score":0,"creation_date":1603420265,"post_id":2758612,"comment_id":114038739,"body_markdown":"This is what I want to ask.","body":"This is what I want to ask."}],"answers":[{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1272898015,"creation_date":1272898015,"answer_id":2758857,"question_id":2758612,"body_markdown":"Wrap the task in FutureTask and you can specify timeout for the FutureTask. Look at the example in my answer to this question,\r\n\r\nhttps://stackoverflow.com/questions/1247390/java-native-process-timeout/1249984#1249984\r\n","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>Wrap the task in FutureTask and you can specify timeout for the FutureTask. Look at the example in my answer to this question,</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1247390/java-native-process-timeout/1249984#1249984\">java native Process timeout</a></p>\n"},{"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"down_vote_count":1,"up_vote_count":107,"is_accepted":true,"score":106,"last_activity_date":1486997012,"creation_date":1272899578,"answer_id":2759040,"question_id":2758612,"body_markdown":"You can use a [ScheduledExecutorService][1] for this. First you would submit it only once to begin immediately and retain the future that is created. After that you can submit a new task that would cancel the retained future after some period of time.\r\n\r\n     ScheduledExecutorService executor = Executors.newScheduledThreadPool(2); \r\n     final Future handler = executor.submit(new Callable(){ ... });\r\n     executor.schedule(new Runnable(){\r\n\t     public void run(){\r\n    \t\t handler.cancel();\r\n\t     }      \r\n     }, 10000, TimeUnit.MILLISECONDS);\r\n\r\nThis will execute your handler (main functionality to be interrupted) for 10 seconds, then will cancel (i.e. interrupt) that specific task.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>You can use a <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"noreferrer\">ScheduledExecutorService</a> for this. First you would submit it only once to begin immediately and retain the future that is created. After that you can submit a new task that would cancel the retained future after some period of time.</p>\n\n<pre><code> ScheduledExecutorService executor = Executors.newScheduledThreadPool(2); \n final Future handler = executor.submit(new Callable(){ ... });\n executor.schedule(new Runnable(){\n     public void run(){\n         handler.cancel();\n     }      \n }, 10000, TimeUnit.MILLISECONDS);\n</code></pre>\n\n<p>This will execute your handler (main functionality to be interrupted) for 10 seconds, then will cancel (i.e. interrupt) that specific task.</p>\n"},{"tags":[],"owner":{"account_id":216888,"reputation":11757,"user_id":472393,"accept_rate":80,"display_name":"Flavio"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1649003205,"creation_date":1349972054,"answer_id":12844036,"question_id":2758612,"body_markdown":"Unfortunately the solution is flawed. There is a sort of bug with `ScheduledThreadPoolExecutor`, also reported in [this question][1]: cancelling a submitted task does not fully release the memory resources associated with the task; the resources are released only when the task expires.\r\n\r\nIf you therefore create a `TimeoutThreadPoolExecutor` with a fairly long expiration time (a typical usage), and submit tasks fast enough, you end up filling the memory - even though the tasks actually completed successfully.\r\n\r\nYou can see the problem with the following (very crude) test program:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        ExecutorService service = new TimeoutThreadPoolExecutor(1, 1, 10, TimeUnit.SECONDS, \r\n                new LinkedBlockingQueue&lt;Runnable&gt;(), 10, TimeUnit.MINUTES);\r\n        //ExecutorService service = Executors.newFixedThreadPool(1);\r\n        try {\r\n            final AtomicInteger counter = new AtomicInteger();\r\n            for (long i = 0; i &lt; 10000000; i++) {\r\n                service.submit(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        counter.incrementAndGet();\r\n                    }\r\n                });\r\n                if (i % 10000 == 0) {\r\n                    System.out.println(i + &quot;/&quot; + counter.get());\r\n                    while (i &gt; counter.get()) {\r\n                        Thread.sleep(10);\r\n                    }\r\n                }\r\n            }\r\n        } finally {\r\n            service.shutdown();\r\n        }\r\n    }\r\n\r\nThe program exhausts the available memory, although it waits for the spawned `Runnable`s to complete.\r\n\r\nI though about this for a while, but unfortunately I could not come up with a good solution.\r\n\r\n# Update \r\n\r\nI discovered this issue was reported as [JDK bug 6602600][2], and appears to have been fixed in [Java 7][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4917039/how-to-ensure-garbage-collection-of-a-futuretask-that-is-submitted-to-a-threadpo\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6602600\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_version_history#Java_7","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>Unfortunately the solution is flawed. There is a sort of bug with <code>ScheduledThreadPoolExecutor</code>, also reported in <a href=\"https://stackoverflow.com/questions/4917039/how-to-ensure-garbage-collection-of-a-futuretask-that-is-submitted-to-a-threadpo\">this question</a>: cancelling a submitted task does not fully release the memory resources associated with the task; the resources are released only when the task expires.</p>\n<p>If you therefore create a <code>TimeoutThreadPoolExecutor</code> with a fairly long expiration time (a typical usage), and submit tasks fast enough, you end up filling the memory - even though the tasks actually completed successfully.</p>\n<p>You can see the problem with the following (very crude) test program:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    ExecutorService service = new TimeoutThreadPoolExecutor(1, 1, 10, TimeUnit.SECONDS, \n            new LinkedBlockingQueue&lt;Runnable&gt;(), 10, TimeUnit.MINUTES);\n    //ExecutorService service = Executors.newFixedThreadPool(1);\n    try {\n        final AtomicInteger counter = new AtomicInteger();\n        for (long i = 0; i &lt; 10000000; i++) {\n            service.submit(new Runnable() {\n                @Override\n                public void run() {\n                    counter.incrementAndGet();\n                }\n            });\n            if (i % 10000 == 0) {\n                System.out.println(i + &quot;/&quot; + counter.get());\n                while (i &gt; counter.get()) {\n                    Thread.sleep(10);\n                }\n            }\n        }\n    } finally {\n        service.shutdown();\n    }\n}\n</code></pre>\n<p>The program exhausts the available memory, although it waits for the spawned <code>Runnable</code>s to complete.</p>\n<p>I though about this for a while, but unfortunately I could not come up with a good solution.</p>\n<h1>Update</h1>\n<p>I discovered this issue was reported as <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6602600\" rel=\"nofollow noreferrer\">JDK bug 6602600</a>, and appears to have been fixed in <a href=\"https://en.m.wikipedia.org/wiki/Java_version_history#Java_7\" rel=\"nofollow noreferrer\">Java 7</a>.</p>\n"},{"tags":[],"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1362425229,"creation_date":1362425229,"answer_id":15209457,"question_id":2758612,"body_markdown":"How about using the &lt;code&gt;ExecutorService.shutDownNow()&lt;/code&gt; method as described in http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html? It seems to be the simplest solution.","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>How about using the <code>ExecutorService.shutDownNow()</code> method as described in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html</a>? It seems to be the simplest solution.</p>\n"},{"tags":[],"owner":{"account_id":3778807,"reputation":11,"user_id":3138841,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388133771,"creation_date":1388132673,"answer_id":20797324,"question_id":2758612,"body_markdown":"It seems problem is not in JDK bug 6602600 ( it was solved at 2010-05-22), but in \r\nincorrect call of sleep(10) in circle. Addition note, that the main Thread must give\r\ndirectly CHANCE to other threads to realize thier tasks by invoke SLEEP(0) in \r\nEVERY branch of outer circle.\r\nIt is better, I think, to use Thread.yield() instead of Thread.sleep(0)\r\n\r\nThe result corrected part of previous problem code is such like this:\r\n\r\n    .......................\r\n    ........................\r\n    Thread.yield();         \r\n\r\n    if (i % 1000== 0) {\r\n    System.out.println(i + &quot;/&quot; + counter.get()+ &quot;/&quot;+service.toString());\r\n    }\r\n\r\n    //                \r\n    //                while (i &gt; counter.get()) {\r\n    //                    Thread.sleep(10);\r\n    //                } \r\n\r\n   \r\nIt works correctly with amount of outer counter up to 150 000 000 tested circles.","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>It seems problem is not in JDK bug 6602600 ( it was solved at 2010-05-22), but in \nincorrect call of sleep(10) in circle. Addition note, that the main Thread must give\ndirectly CHANCE to other threads to realize thier tasks by invoke SLEEP(0) in \nEVERY branch of outer circle.\nIt is better, I think, to use Thread.yield() instead of Thread.sleep(0)</p>\n\n<p>The result corrected part of previous problem code is such like this:</p>\n\n<pre><code>.......................\n........................\nThread.yield();         \n\nif (i % 1000== 0) {\nSystem.out.println(i + \"/\" + counter.get()+ \"/\"+service.toString());\n}\n\n//                \n//                while (i &gt; counter.get()) {\n//                    Thread.sleep(10);\n//                } \n</code></pre>\n\n<p>It works correctly with amount of outer counter up to 150 000 000 tested circles.</p>\n"},{"tags":[],"owner":{"account_id":6751412,"reputation":1,"user_id":5201296,"display_name":"Ionut Mesaros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438953650,"creation_date":1438953650,"answer_id":31878799,"question_id":2758612,"body_markdown":"What about this alternative idea : \r\n\r\n- two have two executors : \r\n    - one for :\r\n        - submitting the task, without caring about the timeout of the task\r\n        - adding the Future resulted and the time when it should end to an internal structure\r\n    - one for executing an internal job which is checking the internal structure  if some tasks are timeout and if they have to be cancelled. \r\n\r\nSmall sample is here : \r\n\r\n    public class AlternativeExecutorService \r\n    {\r\n\r\n    private final CopyOnWriteArrayList&lt;ListenableFutureTask&gt; futureQueue       = new CopyOnWriteArrayList();\r\n    private final ScheduledThreadPoolExecutor                scheduledExecutor = new ScheduledThreadPoolExecutor(1); // used for internal cleaning job\r\n    private final ListeningExecutorService                   threadExecutor    = MoreExecutors.listeningDecorator(Executors.newFixedThreadPool(5)); // used for\r\n    private ScheduledFuture scheduledFuture;\r\n    private static final long INTERNAL_JOB_CLEANUP_FREQUENCY = 1000L;\r\n\r\n    public AlternativeExecutorService()\r\n    {\r\n        scheduledFuture = scheduledExecutor.scheduleAtFixedRate(new TimeoutManagerJob(), 0, INTERNAL_JOB_CLEANUP_FREQUENCY, TimeUnit.MILLISECONDS);\r\n    }\r\n\r\n    public void pushTask(OwnTask task)\r\n    {\r\n        ListenableFuture&lt;Void&gt; future = threadExecutor.submit(task);  // -&gt; create your Callable\r\n        futureQueue.add(new ListenableFutureTask(future, task, getCurrentMillisecondsTime())); // -&gt; store the time when the task should end\r\n    }\r\n\r\n    public void shutdownInternalScheduledExecutor()\r\n    {\r\n        scheduledFuture.cancel(true);\r\n        scheduledExecutor.shutdownNow();\r\n    }\r\n\r\n    long getCurrentMillisecondsTime()\r\n    {\r\n        return Calendar.getInstance().get(Calendar.MILLISECOND);\r\n    }\r\n\r\n    class ListenableFutureTask\r\n    {\r\n        private final ListenableFuture&lt;Void&gt; future;\r\n        private final OwnTask                task;\r\n        private final long                   milliSecEndTime;\r\n\r\n        private ListenableFutureTask(ListenableFuture&lt;Void&gt; future, OwnTask task, long milliSecStartTime)\r\n        {\r\n            this.future = future;\r\n            this.task = task;\r\n            this.milliSecEndTime = milliSecStartTime + task.getTimeUnit().convert(task.getTimeoutDuration(), TimeUnit.MILLISECONDS);\r\n        }\r\n\r\n        ListenableFuture&lt;Void&gt; getFuture()\r\n        {\r\n            return future;\r\n        }\r\n\r\n        OwnTask getTask()\r\n        {\r\n            return task;\r\n        }\r\n\r\n        long getMilliSecEndTime()\r\n        {\r\n            return milliSecEndTime;\r\n        }\r\n    }\r\n\r\n    class TimeoutManagerJob implements Runnable\r\n    {\r\n        CopyOnWriteArrayList&lt;ListenableFutureTask&gt; getCopyOnWriteArrayList()\r\n        {\r\n            return futureQueue;\r\n        }\r\n\r\n        @Override\r\n        public void run()\r\n        {\r\n            long currentMileSecValue = getCurrentMillisecondsTime();\r\n            for (ListenableFutureTask futureTask : futureQueue)\r\n            {\r\n                consumeFuture(futureTask, currentMileSecValue);\r\n            }\r\n        }\r\n\r\n        private void consumeFuture(ListenableFutureTask futureTask, long currentMileSecValue)\r\n        {\r\n            ListenableFuture&lt;Void&gt; future = futureTask.getFuture();\r\n            boolean isTimeout = futureTask.getMilliSecEndTime() &gt;= currentMileSecValue;\r\n            if (isTimeout)\r\n            {\r\n                if (!future.isDone())\r\n                {\r\n                    future.cancel(true);\r\n                }\r\n                futureQueue.remove(futureTask);\r\n            }\r\n        }\r\n    }\r\n\r\n    class OwnTask implements Callable&lt;Void&gt;\r\n    {\r\n        private long     timeoutDuration;\r\n        private TimeUnit timeUnit;\r\n\r\n        OwnTask(long timeoutDuration, TimeUnit timeUnit)\r\n        {\r\n            this.timeoutDuration = timeoutDuration;\r\n            this.timeUnit = timeUnit;\r\n        }\r\n\r\n        @Override\r\n        public Void call() throws Exception\r\n        {\r\n            // do logic\r\n            return null;\r\n        }\r\n\r\n        public long getTimeoutDuration()\r\n        {\r\n            return timeoutDuration;\r\n        }\r\n\r\n        public TimeUnit getTimeUnit()\r\n        {\r\n            return timeUnit;\r\n        }\r\n    }\r\n    }\r\n","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>What about this alternative idea : </p>\n\n<ul>\n<li>two have two executors : \n\n<ul>\n<li>one for :\n\n<ul>\n<li>submitting the task, without caring about the timeout of the task</li>\n<li>adding the Future resulted and the time when it should end to an internal structure</li>\n</ul></li>\n<li>one for executing an internal job which is checking the internal structure  if some tasks are timeout and if they have to be cancelled. </li>\n</ul></li>\n</ul>\n\n<p>Small sample is here : </p>\n\n<pre><code>public class AlternativeExecutorService \n{\n\nprivate final CopyOnWriteArrayList&lt;ListenableFutureTask&gt; futureQueue       = new CopyOnWriteArrayList();\nprivate final ScheduledThreadPoolExecutor                scheduledExecutor = new ScheduledThreadPoolExecutor(1); // used for internal cleaning job\nprivate final ListeningExecutorService                   threadExecutor    = MoreExecutors.listeningDecorator(Executors.newFixedThreadPool(5)); // used for\nprivate ScheduledFuture scheduledFuture;\nprivate static final long INTERNAL_JOB_CLEANUP_FREQUENCY = 1000L;\n\npublic AlternativeExecutorService()\n{\n    scheduledFuture = scheduledExecutor.scheduleAtFixedRate(new TimeoutManagerJob(), 0, INTERNAL_JOB_CLEANUP_FREQUENCY, TimeUnit.MILLISECONDS);\n}\n\npublic void pushTask(OwnTask task)\n{\n    ListenableFuture&lt;Void&gt; future = threadExecutor.submit(task);  // -&gt; create your Callable\n    futureQueue.add(new ListenableFutureTask(future, task, getCurrentMillisecondsTime())); // -&gt; store the time when the task should end\n}\n\npublic void shutdownInternalScheduledExecutor()\n{\n    scheduledFuture.cancel(true);\n    scheduledExecutor.shutdownNow();\n}\n\nlong getCurrentMillisecondsTime()\n{\n    return Calendar.getInstance().get(Calendar.MILLISECOND);\n}\n\nclass ListenableFutureTask\n{\n    private final ListenableFuture&lt;Void&gt; future;\n    private final OwnTask                task;\n    private final long                   milliSecEndTime;\n\n    private ListenableFutureTask(ListenableFuture&lt;Void&gt; future, OwnTask task, long milliSecStartTime)\n    {\n        this.future = future;\n        this.task = task;\n        this.milliSecEndTime = milliSecStartTime + task.getTimeUnit().convert(task.getTimeoutDuration(), TimeUnit.MILLISECONDS);\n    }\n\n    ListenableFuture&lt;Void&gt; getFuture()\n    {\n        return future;\n    }\n\n    OwnTask getTask()\n    {\n        return task;\n    }\n\n    long getMilliSecEndTime()\n    {\n        return milliSecEndTime;\n    }\n}\n\nclass TimeoutManagerJob implements Runnable\n{\n    CopyOnWriteArrayList&lt;ListenableFutureTask&gt; getCopyOnWriteArrayList()\n    {\n        return futureQueue;\n    }\n\n    @Override\n    public void run()\n    {\n        long currentMileSecValue = getCurrentMillisecondsTime();\n        for (ListenableFutureTask futureTask : futureQueue)\n        {\n            consumeFuture(futureTask, currentMileSecValue);\n        }\n    }\n\n    private void consumeFuture(ListenableFutureTask futureTask, long currentMileSecValue)\n    {\n        ListenableFuture&lt;Void&gt; future = futureTask.getFuture();\n        boolean isTimeout = futureTask.getMilliSecEndTime() &gt;= currentMileSecValue;\n        if (isTimeout)\n        {\n            if (!future.isDone())\n            {\n                future.cancel(true);\n            }\n            futureQueue.remove(futureTask);\n        }\n    }\n}\n\nclass OwnTask implements Callable&lt;Void&gt;\n{\n    private long     timeoutDuration;\n    private TimeUnit timeUnit;\n\n    OwnTask(long timeoutDuration, TimeUnit timeUnit)\n    {\n        this.timeoutDuration = timeoutDuration;\n        this.timeUnit = timeUnit;\n    }\n\n    @Override\n    public Void call() throws Exception\n    {\n        // do logic\n        return null;\n    }\n\n    public long getTimeoutDuration()\n    {\n        return timeoutDuration;\n    }\n\n    public TimeUnit getTimeUnit()\n    {\n        return timeUnit;\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4506881,"reputation":1834,"user_id":3663980,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1470102980,"creation_date":1470102980,"answer_id":38710673,"question_id":2758612,"body_markdown":"After ton of time to survey,  \r\nFinally, I use `invokeAll` method of `ExecutorService` to solve this problem.  \r\nThat will strictly interrupt the task while task running.  \r\nHere is example  \r\n\r\n\tExecutorService executorService = Executors.newCachedThreadPool();\r\n\r\n\ttry {\r\n\t\tList&lt;Callable&lt;Object&gt;&gt; callables = new ArrayList&lt;&gt;();\r\n\t\t// Add your long time task (callable)\r\n\t\tcallables.add(new VaryLongTimeTask());\r\n\t\t// Assign tasks for specific execution timeout (e.g. 2 sec)\r\n\t\tList&lt;Future&lt;Object&gt;&gt; futures = executorService.invokeAll(callables, 2000, TimeUnit.MILLISECONDS);\r\n\t\tfor (Future&lt;Object&gt; future : futures) {\r\n\t\t\t// Getting result\r\n\t\t}\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\texecutorService.shutdown();\r\n\r\n----\r\n\r\nThe pro is you can also submit `ListenableFuture` at the same `ExecutorService`.  \r\nJust slightly change the first line of code.\r\n\r\n\tListeningExecutorService executorService = MoreExecutors.listeningDecorator(Executors.newCachedThreadPool());\r\n\r\n`ListeningExecutorService` is the Listening feature of `ExecutorService` at google guava project (*com.google.guava*) )\r\n\r\n","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>After ton of time to survey,<br>\nFinally, I use <code>invokeAll</code> method of <code>ExecutorService</code> to solve this problem.<br>\nThat will strictly interrupt the task while task running.<br>\nHere is example  </p>\n\n<pre><code>ExecutorService executorService = Executors.newCachedThreadPool();\n\ntry {\n    List&lt;Callable&lt;Object&gt;&gt; callables = new ArrayList&lt;&gt;();\n    // Add your long time task (callable)\n    callables.add(new VaryLongTimeTask());\n    // Assign tasks for specific execution timeout (e.g. 2 sec)\n    List&lt;Future&lt;Object&gt;&gt; futures = executorService.invokeAll(callables, 2000, TimeUnit.MILLISECONDS);\n    for (Future&lt;Object&gt; future : futures) {\n        // Getting result\n    }\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n\nexecutorService.shutdown();\n</code></pre>\n\n<hr>\n\n<p>The pro is you can also submit <code>ListenableFuture</code> at the same <code>ExecutorService</code>.<br>\nJust slightly change the first line of code.</p>\n\n<pre><code>ListeningExecutorService executorService = MoreExecutors.listeningDecorator(Executors.newCachedThreadPool());\n</code></pre>\n\n<p><code>ListeningExecutorService</code> is the Listening feature of <code>ExecutorService</code> at google guava project (<em>com.google.guava</em>) )</p>\n"},{"tags":[],"owner":{"account_id":4681659,"reputation":2203,"user_id":3790208,"display_name":"amanteaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587671682,"creation_date":1500239082,"answer_id":45133302,"question_id":2758612,"body_markdown":"Using John W answer I created an implementation that correctly begin the timeout when the task starts its execution. I even write a unit test for it :)\r\n\r\nHowever, it does not suit my needs since some IO operations do not interrupt when `Future.cancel()` is called (ie when `Thread.interrupt()` is called).\r\nSome examples of IO operation that may not be interrupted when `Thread.interrupt()` is called are `Socket.connect` and `Socket.read` (and I suspect most of IO operation implemented in `java.io`). All IO operations in `java.nio` should be interruptible when `Thread.interrupt()` is called. For example, that is the case for `SocketChannel.open` and `SocketChannel.read`.\r\n\r\nAnyway if anyone is interested, I created a gist for a thread pool executor that allows tasks to timeout (if they are using interruptible operations...): https://gist.github.com/amanteaux/64c54a913c1ae34ad7b86db109cbc0bf","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>Using John W answer I created an implementation that correctly begin the timeout when the task starts its execution. I even write a unit test for it :)</p>\n\n<p>However, it does not suit my needs since some IO operations do not interrupt when <code>Future.cancel()</code> is called (ie when <code>Thread.interrupt()</code> is called).\nSome examples of IO operation that may not be interrupted when <code>Thread.interrupt()</code> is called are <code>Socket.connect</code> and <code>Socket.read</code> (and I suspect most of IO operation implemented in <code>java.io</code>). All IO operations in <code>java.nio</code> should be interruptible when <code>Thread.interrupt()</code> is called. For example, that is the case for <code>SocketChannel.open</code> and <code>SocketChannel.read</code>.</p>\n\n<p>Anyway if anyone is interested, I created a gist for a thread pool executor that allows tasks to timeout (if they are using interruptible operations...): <a href=\"https://gist.github.com/amanteaux/64c54a913c1ae34ad7b86db109cbc0bf\" rel=\"nofollow noreferrer\">https://gist.github.com/amanteaux/64c54a913c1ae34ad7b86db109cbc0bf</a></p>\n"},{"tags":[],"owner":{"account_id":15721110,"reputation":51,"user_id":11343971,"display_name":"Nitish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571032776,"creation_date":1571032776,"answer_id":58370834,"question_id":2758612,"body_markdown":"check if this works for you,\r\n\r\n        public &lt;T,S,K,V&gt; ResponseObject&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt; runOnScheduler(ThreadPoolExecutor threadPoolExecutor,\r\n          int parallelismLevel, TimeUnit timeUnit, int timeToCompleteEachTask, Collection&lt;S&gt; collection,\r\n          Map&lt;K,V&gt; context, Task&lt;T,S,K,V&gt; someTask){\r\n        if(threadPoolExecutor==null){\r\n          return ResponseObject.&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt;builder().errorCode(&quot;500&quot;).errorMessage(&quot;threadPoolExecutor can not be null&quot;).build();\r\n        }\r\n        if(someTask==null){\r\n          return ResponseObject.&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt;builder().errorCode(&quot;500&quot;).errorMessage(&quot;Task can not be null&quot;).build();\r\n        }\r\n        if(CollectionUtils.isEmpty(collection)){\r\n          return ResponseObject.&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt;builder().errorCode(&quot;500&quot;).errorMessage(&quot;input collection can not be empty&quot;).build();\r\n        }\r\n    \r\n        LinkedBlockingQueue&lt;Callable&lt;T&gt;&gt; callableLinkedBlockingQueue = new LinkedBlockingQueue&lt;&gt;(collection.size());\r\n        collection.forEach(value -&gt; {\r\n          callableLinkedBlockingQueue.offer(()-&gt;someTask.perform(value,context)); //pass some values in callable. which can be anything.\r\n        });\r\n        LinkedBlockingQueue&lt;Future&lt;T&gt;&gt; futures = new LinkedBlockingQueue&lt;&gt;();\r\n    \r\n        int count = 0;\r\n    \r\n        while(count&lt;parallelismLevel &amp;&amp; count &lt; callableLinkedBlockingQueue.size()){\r\n          Future&lt;T&gt; f = threadPoolExecutor.submit(callableLinkedBlockingQueue.poll());\r\n          futures.offer(f);\r\n          count++;\r\n        }\r\n    \r\n        Collection&lt;ResponseObject&lt;T&gt;&gt; responseCollection = new ArrayList&lt;&gt;();\r\n    \r\n        while(futures.size()&gt;0){\r\n          Future&lt;T&gt; future = futures.poll();\r\n          ResponseObject&lt;T&gt; responseObject = null;\r\n            try {\r\n              T response = future.get(timeToCompleteEachTask, timeUnit);\r\n              responseObject = ResponseObject.&lt;T&gt;builder().data(response).build();\r\n            } catch (InterruptedException e) {\r\n              future.cancel(true);\r\n            } catch (ExecutionException e) {\r\n              future.cancel(true);\r\n            } catch (TimeoutException e) {\r\n              future.cancel(true);\r\n            } finally {\r\n              if (Objects.nonNull(responseObject)) {\r\n                responseCollection.add(responseObject);\r\n              }\r\n              futures.remove(future);//remove this\r\n              Callable&lt;T&gt; callable = getRemainingCallables(callableLinkedBlockingQueue);\r\n              if(null!=callable){\r\n                Future&lt;T&gt; f = threadPoolExecutor.submit(callable);\r\n                futures.add(f);\r\n              }\r\n            }\r\n    \r\n        }\r\n        return ResponseObject.&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt;builder().data(responseCollection).build();\r\n      }\r\n    \r\n      private &lt;T&gt; Callable&lt;T&gt; getRemainingCallables(LinkedBlockingQueue&lt;Callable&lt;T&gt;&gt; callableLinkedBlockingQueue){\r\n        if(callableLinkedBlockingQueue.size()&gt;0){\r\n          return callableLinkedBlockingQueue.poll();\r\n        }\r\n        return null;\r\n      }\r\n\r\n\r\nyou can restrict the no of thread uses from scheduler as well as put timeout on the task.","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>check if this works for you,</p>\n\n<pre><code>    public &lt;T,S,K,V&gt; ResponseObject&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt; runOnScheduler(ThreadPoolExecutor threadPoolExecutor,\n      int parallelismLevel, TimeUnit timeUnit, int timeToCompleteEachTask, Collection&lt;S&gt; collection,\n      Map&lt;K,V&gt; context, Task&lt;T,S,K,V&gt; someTask){\n    if(threadPoolExecutor==null){\n      return ResponseObject.&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt;builder().errorCode(\"500\").errorMessage(\"threadPoolExecutor can not be null\").build();\n    }\n    if(someTask==null){\n      return ResponseObject.&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt;builder().errorCode(\"500\").errorMessage(\"Task can not be null\").build();\n    }\n    if(CollectionUtils.isEmpty(collection)){\n      return ResponseObject.&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt;builder().errorCode(\"500\").errorMessage(\"input collection can not be empty\").build();\n    }\n\n    LinkedBlockingQueue&lt;Callable&lt;T&gt;&gt; callableLinkedBlockingQueue = new LinkedBlockingQueue&lt;&gt;(collection.size());\n    collection.forEach(value -&gt; {\n      callableLinkedBlockingQueue.offer(()-&gt;someTask.perform(value,context)); //pass some values in callable. which can be anything.\n    });\n    LinkedBlockingQueue&lt;Future&lt;T&gt;&gt; futures = new LinkedBlockingQueue&lt;&gt;();\n\n    int count = 0;\n\n    while(count&lt;parallelismLevel &amp;&amp; count &lt; callableLinkedBlockingQueue.size()){\n      Future&lt;T&gt; f = threadPoolExecutor.submit(callableLinkedBlockingQueue.poll());\n      futures.offer(f);\n      count++;\n    }\n\n    Collection&lt;ResponseObject&lt;T&gt;&gt; responseCollection = new ArrayList&lt;&gt;();\n\n    while(futures.size()&gt;0){\n      Future&lt;T&gt; future = futures.poll();\n      ResponseObject&lt;T&gt; responseObject = null;\n        try {\n          T response = future.get(timeToCompleteEachTask, timeUnit);\n          responseObject = ResponseObject.&lt;T&gt;builder().data(response).build();\n        } catch (InterruptedException e) {\n          future.cancel(true);\n        } catch (ExecutionException e) {\n          future.cancel(true);\n        } catch (TimeoutException e) {\n          future.cancel(true);\n        } finally {\n          if (Objects.nonNull(responseObject)) {\n            responseCollection.add(responseObject);\n          }\n          futures.remove(future);//remove this\n          Callable&lt;T&gt; callable = getRemainingCallables(callableLinkedBlockingQueue);\n          if(null!=callable){\n            Future&lt;T&gt; f = threadPoolExecutor.submit(callable);\n            futures.add(f);\n          }\n        }\n\n    }\n    return ResponseObject.&lt;Collection&lt;ResponseObject&lt;T&gt;&gt;&gt;builder().data(responseCollection).build();\n  }\n\n  private &lt;T&gt; Callable&lt;T&gt; getRemainingCallables(LinkedBlockingQueue&lt;Callable&lt;T&gt;&gt; callableLinkedBlockingQueue){\n    if(callableLinkedBlockingQueue.size()&gt;0){\n      return callableLinkedBlockingQueue.poll();\n    }\n    return null;\n  }\n</code></pre>\n\n<p>you can restrict the no of thread uses from scheduler as well as put timeout on the task.</p>\n"},{"tags":[],"owner":{"account_id":5953148,"reputation":156,"user_id":4680612,"accept_rate":50,"display_name":"Tarun Kundhiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609613152,"creation_date":1609613152,"answer_id":65542799,"question_id":2758612,"body_markdown":"You can use this implementation that ExecutorService provides\r\n\r\n    \r\n    invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks,long timeout, TimeUnit unit)\r\n    as\r\n    \r\n    executor.invokeAll(Arrays.asList(task), 2 , TimeUnit.SECONDS);\r\n\r\n\r\nHowever, in my case, I could not as Arrays.asList took extra 20ms.\r\n\r\n\r\n\r\n","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>You can use this implementation that ExecutorService provides</p>\n<pre><code>invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks,long timeout, TimeUnit unit)\nas\n\nexecutor.invokeAll(Arrays.asList(task), 2 , TimeUnit.SECONDS);\n</code></pre>\n<p>However, in my case, I could not as Arrays.asList took extra 20ms.</p>\n"},{"tags":[],"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615992073,"creation_date":1615992073,"answer_id":66675337,"question_id":2758612,"body_markdown":"What about this?\r\n\r\n    final ExecutorService myExecutorService = ...;\r\n\r\n    // create CompletableFuture to get result/exception from runnable in specified timeout\r\n\tfinal CompletableFuture&lt;Object&gt; timeoutFuture = new CompletableFuture&lt;&gt;();\r\n\r\n\t// submit runnable and obtain cancellable Future from executor\r\n\tfinal Future&lt;?&gt; cancellableFuture = myExecutorService.submit(() -&gt; {\r\n\t\ttry {\r\n            Object result = myMethod(...);\r\n\t\t\ttimeoutFuture.complete(result);\r\n\t\t} catch (Exception e) {\r\n\t\t\ttimeoutFuture.completeExceptionally(e);\r\n\t\t}\r\n\t});\r\n    \r\n\t// block the calling thread until &quot;myMethod&quot; will finish or time out (1 second)\r\n\ttry {\r\n\t\tObject result = timeoutFuture.get(1000, TimeUnit.MILLISECONDS);\r\n\t\t// &quot;myMethod&quot; completed normally\r\n\t} catch (TimeoutException te) {\r\n\t\t// &quot;myMethod&quot; timed out\r\n\t\t// ...\r\n\t} catch (ExecutionException ee) {\r\n\t\t// &quot;myMethod&quot; completed exceptionally - get cause\r\n\t\tfinal Throwable cause = ee.getCause();\r\n\t\t// ...\r\n\t} catch (InterruptedException ie) {\r\n\t\t// future interrupted\r\n\t\t// ...\r\n\t} finally {\r\n\t\t// timeoutFuture.cancel(true); // CompletableFuture does not support cancellation\r\n\t\tcancellableFuture.cancel(true); // Future supports cancellation\r\n\t}","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>What about this?</p>\n<pre><code>final ExecutorService myExecutorService = ...;\n\n// create CompletableFuture to get result/exception from runnable in specified timeout\nfinal CompletableFuture&lt;Object&gt; timeoutFuture = new CompletableFuture&lt;&gt;();\n\n// submit runnable and obtain cancellable Future from executor\nfinal Future&lt;?&gt; cancellableFuture = myExecutorService.submit(() -&gt; {\n    try {\n        Object result = myMethod(...);\n        timeoutFuture.complete(result);\n    } catch (Exception e) {\n        timeoutFuture.completeExceptionally(e);\n    }\n});\n\n// block the calling thread until &quot;myMethod&quot; will finish or time out (1 second)\ntry {\n    Object result = timeoutFuture.get(1000, TimeUnit.MILLISECONDS);\n    // &quot;myMethod&quot; completed normally\n} catch (TimeoutException te) {\n    // &quot;myMethod&quot; timed out\n    // ...\n} catch (ExecutionException ee) {\n    // &quot;myMethod&quot; completed exceptionally - get cause\n    final Throwable cause = ee.getCause();\n    // ...\n} catch (InterruptedException ie) {\n    // future interrupted\n    // ...\n} finally {\n    // timeoutFuture.cancel(true); // CompletableFuture does not support cancellation\n    cancellableFuture.cancel(true); // Future supports cancellation\n}\n</code></pre>\n"}],"owner":{"account_id":38846,"reputation":29745,"user_id":111777,"accept_rate":82,"display_name":"Edward Dale"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132862,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":2759040,"answer_count":11,"score":118,"last_activity_date":1649003205,"creation_date":1272895836,"question_id":2758612,"body_markdown":"I&#39;m looking for an [ExecutorService][1] implementation that can be provided with a timeout. Tasks that are submitted to the ExecutorService are interrupted if they take longer than the timeout to run. Implementing such a beast isn&#39;t such a difficult task, but I&#39;m wondering if anybody knows of an existing implementation.\r\n\r\nHere&#39;s what I came up with based on some of the discussion below. Any comments?\r\n\r\n    import java.util.List;\r\n    import java.util.concurrent.*;\r\n\r\n    public class TimeoutThreadPoolExecutor extends ThreadPoolExecutor {\r\n        private final long timeout;\r\n        private final TimeUnit timeoutUnit;\r\n\t\r\n        private final ScheduledExecutorService timeoutExecutor = Executors.newSingleThreadScheduledExecutor();\r\n        private final ConcurrentMap&lt;Runnable, ScheduledFuture&gt; runningTasks = new ConcurrentHashMap&lt;Runnable, ScheduledFuture&gt;();\r\n\r\n        public TimeoutThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, long timeout, TimeUnit timeoutUnit) {\r\n            super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue);\r\n            this.timeout = timeout;\r\n            this.timeoutUnit = timeoutUnit;\r\n        }\r\n\r\n        public TimeoutThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, long timeout, TimeUnit timeoutUnit) {\r\n            super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory);\r\n            this.timeout = timeout;\r\n            this.timeoutUnit = timeoutUnit;\r\n        }\r\n\r\n        public TimeoutThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, RejectedExecutionHandler handler, long timeout, TimeUnit timeoutUnit) {\r\n            super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, handler);\r\n            this.timeout = timeout;\r\n            this.timeoutUnit = timeoutUnit;\r\n        }\r\n\r\n        public TimeoutThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler, long timeout, TimeUnit timeoutUnit) {\r\n            super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory, handler);\r\n            this.timeout = timeout;\r\n            this.timeoutUnit = timeoutUnit;\r\n        }\r\n\r\n        @Override\r\n        public void shutdown() {\r\n            timeoutExecutor.shutdown();\r\n            super.shutdown();\r\n        }\r\n\r\n        @Override\r\n        public List&lt;Runnable&gt; shutdownNow() {\r\n            timeoutExecutor.shutdownNow();\r\n            return super.shutdownNow();\r\n        }\r\n\r\n        @Override\r\n        protected void beforeExecute(Thread t, Runnable r) {\r\n            if(timeout &gt; 0) {\r\n                final ScheduledFuture&lt;?&gt; scheduled = timeoutExecutor.schedule(new TimeoutTask(t), timeout, timeoutUnit);\r\n                runningTasks.put(r, scheduled);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void afterExecute(Runnable r, Throwable t) {\r\n            ScheduledFuture timeoutTask = runningTasks.remove(r);\r\n            if(timeoutTask != null) {\r\n                timeoutTask.cancel(false);\r\n            }\r\n        }\r\n\r\n        class TimeoutTask implements Runnable {\r\n            private final Thread thread;\r\n\r\n            public TimeoutTask(Thread thread) {\r\n                this.thread = thread;\r\n            }\r\n\r\n            @Override\r\n            public void run() {\r\n                thread.interrupt();\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ExecutorService.html","title":"ExecutorService that interrupts tasks after a timeout","body":"<p>I'm looking for an <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\">ExecutorService</a> implementation that can be provided with a timeout. Tasks that are submitted to the ExecutorService are interrupted if they take longer than the timeout to run. Implementing such a beast isn't such a difficult task, but I'm wondering if anybody knows of an existing implementation.</p>\n\n<p>Here's what I came up with based on some of the discussion below. Any comments?</p>\n\n<pre><code>import java.util.List;\nimport java.util.concurrent.*;\n\npublic class TimeoutThreadPoolExecutor extends ThreadPoolExecutor {\n    private final long timeout;\n    private final TimeUnit timeoutUnit;\n\n    private final ScheduledExecutorService timeoutExecutor = Executors.newSingleThreadScheduledExecutor();\n    private final ConcurrentMap&lt;Runnable, ScheduledFuture&gt; runningTasks = new ConcurrentHashMap&lt;Runnable, ScheduledFuture&gt;();\n\n    public TimeoutThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, long timeout, TimeUnit timeoutUnit) {\n        super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue);\n        this.timeout = timeout;\n        this.timeoutUnit = timeoutUnit;\n    }\n\n    public TimeoutThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, long timeout, TimeUnit timeoutUnit) {\n        super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory);\n        this.timeout = timeout;\n        this.timeoutUnit = timeoutUnit;\n    }\n\n    public TimeoutThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, RejectedExecutionHandler handler, long timeout, TimeUnit timeoutUnit) {\n        super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, handler);\n        this.timeout = timeout;\n        this.timeoutUnit = timeoutUnit;\n    }\n\n    public TimeoutThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler, long timeout, TimeUnit timeoutUnit) {\n        super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory, handler);\n        this.timeout = timeout;\n        this.timeoutUnit = timeoutUnit;\n    }\n\n    @Override\n    public void shutdown() {\n        timeoutExecutor.shutdown();\n        super.shutdown();\n    }\n\n    @Override\n    public List&lt;Runnable&gt; shutdownNow() {\n        timeoutExecutor.shutdownNow();\n        return super.shutdownNow();\n    }\n\n    @Override\n    protected void beforeExecute(Thread t, Runnable r) {\n        if(timeout &gt; 0) {\n            final ScheduledFuture&lt;?&gt; scheduled = timeoutExecutor.schedule(new TimeoutTask(t), timeout, timeoutUnit);\n            runningTasks.put(r, scheduled);\n        }\n    }\n\n    @Override\n    protected void afterExecute(Runnable r, Throwable t) {\n        ScheduledFuture timeoutTask = runningTasks.remove(r);\n        if(timeoutTask != null) {\n            timeoutTask.cancel(false);\n        }\n    }\n\n    class TimeoutTask implements Runnable {\n        private final Thread thread;\n\n        public TimeoutTask(Thread thread) {\n            this.thread = thread;\n        }\n\n        @Override\n        public void run() {\n            thread.interrupt();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","implicit-conversion"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1648999793,"post_id":71727290,"comment_id":126759795,"body_markdown":"Generics only work with objects as of now.","body":"Generics only work with objects as of now."},{"owner":{"account_id":1485379,"reputation":408,"user_id":1393777,"display_name":"resnet"},"score":0,"creation_date":1649000044,"post_id":71727290,"comment_id":126759853,"body_markdown":"oh so the literal will be converted to the Integer class when called with `indirect`? Which then can only be called with the generic method and not the one that takes `int`?","body":"oh so the literal will be converted to the Integer class when called with <code>indirect</code>? Which then can only be called with the generic method and not the one that takes <code>int</code>?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1649001649,"post_id":71727290,"comment_id":126760222,"body_markdown":"That is called autoboxing and yes.","body":"That is called autoboxing and yes."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1649001877,"post_id":71727290,"comment_id":126760269,"body_markdown":"&quot;which tells me that the literal 1 was implicitly casted to int in the first instance&quot; No, literal 1 is already an int. There is no casting.","body":"&quot;which tells me that the literal 1 was implicitly casted to int in the first instance&quot; No, literal 1 is already an int. There is no casting."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1649002135,"post_id":71727290,"comment_id":126760321,"body_markdown":"Because of (Type Erasure)[https://docs.oracle.com/javase/tutorial/java/generics/erasure.html] Java compiler will replace generic types with `Object`. When you will pass `int` value type to the `Object` reference type it will be boxed(converted from value type to reference type) It means that it will be converted to `Integer`. The most suitable method for `Integer` reference type is `direct(Object t)`","body":"Because of (Type Erasure)[<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html]\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/erasu&zwnj;&#8203;re.html]</a> Java compiler will replace generic types with <code>Object</code>. When you will pass <code>int</code> value type to the <code>Object</code> reference type it will be boxed(converted from value type to reference type) It means that it will be converted to <code>Integer</code>. The most suitable method for <code>Integer</code> reference type is <code>direct(Object t)</code>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649002134,"creation_date":1649002134,"answer_id":71727662,"question_id":71727290,"body_markdown":"&gt; why wasn&#39;t it called with the more specific method that takes in int as an argument?\r\n\r\nThe Java compiler decides which method to invoke at compile time. That is, for the `indirect` method, it chooses an overload of `direct` which can be safely invoked for all invocations of `indirect`.\r\n\r\nThe only such overload is the `direct(T)` method: this accepts any `Object` parameter, as does `indirect(T)`. It can&#39;t invoke `direct(int)` because not all `Object`s are `Integer`s.\r\n\r\n`indirect` doesn&#39;t do anything different when invoked with an `int` parameter.","title":"Java not choosing the most specific method when called through a generic wrapper?","body":"<blockquote>\n<p>why wasn't it called with the more specific method that takes in int as an argument?</p>\n</blockquote>\n<p>The Java compiler decides which method to invoke at compile time. That is, for the <code>indirect</code> method, it chooses an overload of <code>direct</code> which can be safely invoked for all invocations of <code>indirect</code>.</p>\n<p>The only such overload is the <code>direct(T)</code> method: this accepts any <code>Object</code> parameter, as does <code>indirect(T)</code>. It can't invoke <code>direct(int)</code> because not all <code>Object</code>s are <code>Integer</code>s.</p>\n<p><code>indirect</code> doesn't do anything different when invoked with an <code>int</code> parameter.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649002490,"creation_date":1649002490,"answer_id":71727708,"question_id":71727290,"body_markdown":"2 unrelated reasons, both of which lead to the generic version:\r\n\r\n## Boxing\r\n\r\ntype parameters are neccessarily subtypes of Object (for now, Project Valhalla is a java update in the pipeline that may change this somewhat).\r\n\r\nHence, the `direct(t)` call in your `indirect` method cannot possibly treat `direct(int)` as the most specific version of it, as the `t` parameter in `indirect` cannot possibly be an `int`.\r\n\r\nSpecifically, when you invoke `indirect(1)`, that 1 is an `int` which isn&#39;t a valid value for `indirect` (as `indirect`&#39;s parameter is of type `T`; T is a type parameter with as lower bound `java.lang.Object`, and `1` isn&#39;t a valid value for `Object`).\r\n\r\nHowever, java _also_ has the concept of &#39;boxing&#39;, where primitives will be converted to their boxed type automatically, but only if the code wouldn&#39;t have compiled otherwise. You can see this with `javap` - you&#39;ll notice that the compiler replaced `1` with `Integer.valueOf(1)` to make it work.\r\n\r\n## Names are compile-time\r\n\r\nWhich method is chosen is __locked in at compile time__. Note that overrides (where a subtype implements the exact same method, i.e. if that method is annotated with `@Override`, the compiler will accept it) __are entirely a runtime thing__ and java always picks the implementation from the subtype, but `static` doesn&#39;t &quot;do&quot; subtyping, so it&#39;s not relevant here.\r\n\r\nThe 2 `direct` methods you have are not the same; at the JVM level, they have completely different names, so this is __just__ about which of the 2 `direct` methods is picked by `javac`, hence, compile time is the only time that matters here.\r\n\r\nLet me make that clear: __The 2 `direct` methods do not have the same name, therefore at runtime the JVM _does not have the freedom_ to pick one or the other depending on types. For the same reason it can&#39;t replace a call to `foo()` with a call to `bar()` - not the same name__.\r\n\r\n`indirect`, the method, has no idea what T is. __Therefore it could not possibly call `direct(int)` even if the boxing thing wasn&#39;t the case!__ - looking up which of the two `direct` methods to pick is __not__ done at runtime.\r\n\r\n## To reiterate\r\n\r\nGiven:\r\n\r\n```\r\npublic class Parent {\r\n  void foo(int i) { System.out.println(&quot;Parent-int&quot;); }\r\n  void foo(Integer i) { System.out.println(&quot;Parent-Integer&quot;); }\r\n}\r\n\r\nclass Child extends Parent {\r\n    void foo(int i) { System.out.println(&quot;Child-int&quot;); }\r\n}\r\n\r\n...\r\n\r\nParent p = new Child();\r\np.foo(5); // prints Child-int\r\np.foo(Integer.valueOf(5)); // prints Parent-Integer\r\n```\r\n\r\n## a final note\r\n\r\nYou wrote in a comment:\r\n\r\n&gt; &quot;which tells me that the literal 1 was implicitly casted to int in the first instance&quot;\r\n\r\nNo. integer literals in java __are `int`__ - the java lang spec defines them as such. You can write `short x = 5;` only because of a special exemption rule that states you don&#39;t need the cast there, but languagewise, all non-decimal-pointed (and non `0x0p` form) numeric AST nodes are treated as `int`. They are THEN implicitly casted if e.g. a `long` is needed.\r\n\r\nYou can ask javac to treat things as long by sticking a capital L at the end. Given:\r\n\r\n```\r\nvoid foo(byte i) {System.out.println(&quot;byte&quot;);\r\nvoid foo(short i) {System.out.println(&quot;short&quot;);\r\nvoid foo(int i) {System.out.println(&quot;int&quot;);\r\nvoid foo(long i) {System.out.println(&quot;long&quot;);\r\n\r\nfoo(5); // prints &#39;int&#39;\r\nfoo(5L); // prints &#39;long&#39;\r\n```\r\n\r\nEven though &#39;5&#39; fits in &#39;byte&#39;, it is an int, and hence the `int` variant is chosen.\r\n","title":"Java not choosing the most specific method when called through a generic wrapper?","body":"<p>2 unrelated reasons, both of which lead to the generic version:</p>\n<h2>Boxing</h2>\n<p>type parameters are neccessarily subtypes of Object (for now, Project Valhalla is a java update in the pipeline that may change this somewhat).</p>\n<p>Hence, the <code>direct(t)</code> call in your <code>indirect</code> method cannot possibly treat <code>direct(int)</code> as the most specific version of it, as the <code>t</code> parameter in <code>indirect</code> cannot possibly be an <code>int</code>.</p>\n<p>Specifically, when you invoke <code>indirect(1)</code>, that 1 is an <code>int</code> which isn't a valid value for <code>indirect</code> (as <code>indirect</code>'s parameter is of type <code>T</code>; T is a type parameter with as lower bound <code>java.lang.Object</code>, and <code>1</code> isn't a valid value for <code>Object</code>).</p>\n<p>However, java <em>also</em> has the concept of 'boxing', where primitives will be converted to their boxed type automatically, but only if the code wouldn't have compiled otherwise. You can see this with <code>javap</code> - you'll notice that the compiler replaced <code>1</code> with <code>Integer.valueOf(1)</code> to make it work.</p>\n<h2>Names are compile-time</h2>\n<p>Which method is chosen is <strong>locked in at compile time</strong>. Note that overrides (where a subtype implements the exact same method, i.e. if that method is annotated with <code>@Override</code>, the compiler will accept it) <strong>are entirely a runtime thing</strong> and java always picks the implementation from the subtype, but <code>static</code> doesn't &quot;do&quot; subtyping, so it's not relevant here.</p>\n<p>The 2 <code>direct</code> methods you have are not the same; at the JVM level, they have completely different names, so this is <strong>just</strong> about which of the 2 <code>direct</code> methods is picked by <code>javac</code>, hence, compile time is the only time that matters here.</p>\n<p>Let me make that clear: <strong>The 2 <code>direct</code> methods do not have the same name, therefore at runtime the JVM <em>does not have the freedom</em> to pick one or the other depending on types. For the same reason it can't replace a call to <code>foo()</code> with a call to <code>bar()</code> - not the same name</strong>.</p>\n<p><code>indirect</code>, the method, has no idea what T is. <strong>Therefore it could not possibly call <code>direct(int)</code> even if the boxing thing wasn't the case!</strong> - looking up which of the two <code>direct</code> methods to pick is <strong>not</strong> done at runtime.</p>\n<h2>To reiterate</h2>\n<p>Given:</p>\n<pre><code>public class Parent {\n  void foo(int i) { System.out.println(&quot;Parent-int&quot;); }\n  void foo(Integer i) { System.out.println(&quot;Parent-Integer&quot;); }\n}\n\nclass Child extends Parent {\n    void foo(int i) { System.out.println(&quot;Child-int&quot;); }\n}\n\n...\n\nParent p = new Child();\np.foo(5); // prints Child-int\np.foo(Integer.valueOf(5)); // prints Parent-Integer\n</code></pre>\n<h2>a final note</h2>\n<p>You wrote in a comment:</p>\n<blockquote>\n<p>&quot;which tells me that the literal 1 was implicitly casted to int in the first instance&quot;</p>\n</blockquote>\n<p>No. integer literals in java <strong>are <code>int</code></strong> - the java lang spec defines them as such. You can write <code>short x = 5;</code> only because of a special exemption rule that states you don't need the cast there, but languagewise, all non-decimal-pointed (and non <code>0x0p</code> form) numeric AST nodes are treated as <code>int</code>. They are THEN implicitly casted if e.g. a <code>long</code> is needed.</p>\n<p>You can ask javac to treat things as long by sticking a capital L at the end. Given:</p>\n<pre><code>void foo(byte i) {System.out.println(&quot;byte&quot;);\nvoid foo(short i) {System.out.println(&quot;short&quot;);\nvoid foo(int i) {System.out.println(&quot;int&quot;);\nvoid foo(long i) {System.out.println(&quot;long&quot;);\n\nfoo(5); // prints 'int'\nfoo(5L); // prints 'long'\n</code></pre>\n<p>Even though '5' fits in 'byte', it is an int, and hence the <code>int</code> variant is chosen.</p>\n"}],"owner":{"account_id":1485379,"reputation":408,"user_id":1393777,"display_name":"resnet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71727708,"answer_count":2,"score":-1,"last_activity_date":1649002490,"creation_date":1648999580,"question_id":71727290,"body_markdown":"According to this https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.12.2.5, the Java compiler will attempt to choose the most specific method to invoke when multiple applicable and accessible ones are available. The intuition is that more specific method can be substituted by less specific ones but not vice versa.\r\n\r\nSo I&#39;m a bit surprised that this won&#39;t work when we wrap the ambiguous call within a generic wrapper as follows:\r\n\r\n\r\n    public class Test{\r\n            static &lt;T&gt; void direct(T t) { System.out.println(&quot;generic&quot;);}\r\n            static void direct(int t) { System.out.println(&quot;specific-int&quot;);}\r\n\r\n            static &lt;T&gt; void indirect(T t) { direct(t);}\r\n            \r\n            public static void main ( String [] args ) {\r\n                direct(1);    // print specific-int\r\n                indirect(1);  // print generic\r\n            }\r\n         }\r\n\r\nSo we can see that just calling `direct` makes it works as expected. But when calling `indirect`, the less specific method is called instead.\r\n\r\nThe behavior changes if I change the type of the direct method as such\r\n\r\n        static void direct(short t) { System.out.println(&quot;specific-short&quot;);}\r\n\r\nIn this case both lines print `generic` instead (the `short` method isn&#39;t called in either case), which tells me that the literal `1` was implicitly casted to `int` in the first instance. If that&#39;s the case, why wasn&#39;t it called with the more specific method that takes in `int` as an argument?","title":"Java not choosing the most specific method when called through a generic wrapper?","body":"<p>According to this <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.12.2.5\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.12.2.5</a>, the Java compiler will attempt to choose the most specific method to invoke when multiple applicable and accessible ones are available. The intuition is that more specific method can be substituted by less specific ones but not vice versa.</p>\n<p>So I'm a bit surprised that this won't work when we wrap the ambiguous call within a generic wrapper as follows:</p>\n<pre><code>public class Test{\n        static &lt;T&gt; void direct(T t) { System.out.println(&quot;generic&quot;);}\n        static void direct(int t) { System.out.println(&quot;specific-int&quot;);}\n\n        static &lt;T&gt; void indirect(T t) { direct(t);}\n        \n        public static void main ( String [] args ) {\n            direct(1);    // print specific-int\n            indirect(1);  // print generic\n        }\n     }\n</code></pre>\n<p>So we can see that just calling <code>direct</code> makes it works as expected. But when calling <code>indirect</code>, the less specific method is called instead.</p>\n<p>The behavior changes if I change the type of the direct method as such</p>\n<pre><code>    static void direct(short t) { System.out.println(&quot;specific-short&quot;);}\n</code></pre>\n<p>In this case both lines print <code>generic</code> instead (the <code>short</code> method isn't called in either case), which tells me that the literal <code>1</code> was implicitly casted to <code>int</code> in the first instance. If that's the case, why wasn't it called with the more specific method that takes in <code>int</code> as an argument?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":1986201,"reputation":2750,"user_id":1781357,"accept_rate":45,"display_name":"Mikhail"},"score":0,"creation_date":1664972400,"post_id":71727692,"comment_id":130589723,"body_markdown":"have you fixing your issue ?","body":"have you fixing your issue ?"}],"owner":{"account_id":16835784,"reputation":43,"user_id":12172601,"display_name":"Gon&#231;alo Conde&#231;o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649002394,"creation_date":1649002394,"question_id":71727692,"body_markdown":"Im building a Spring project where I update entities. Heres is a method I use to do it:\r\n```\r\n    @Transactional\r\n    @CachePut(value = USERS, key = &quot;#update.id&quot;)\r\n    public Optional&lt;ClientDAO&gt; updateClient(ClientDTO update) {\r\n        var me = _getClient(update.getId(), true);\r\n        me.update(update);\r\n        clients.save(me);\r\n        log.info(UPDATED, CLIENT, me.getEmail());\r\n        return of(me);\r\n    }\r\n```\r\nBasically, the first time I update it it works, after that if I try to do it again it throws me a:\r\n```\r\norg.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.manager.daos.StaffDAO#0fa8725b-bc34-4d14-a420-ce6ec6852f8a]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:341) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:833) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:820) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n        at jdk.internal.reflect.GeneratedMethodAccessor359.invoke(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]...\r\n```\r\n\r\nI have been tinkering with the code using some online tutorials and questions (including here) and discovered that this is probably because of a @Version:\r\n\r\n```\r\n@Entity\r\npublic class ClientDAO {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;, strategy = GenerationType.AUTO)\r\n    @Column(columnDefinition = &quot;BINARY(16)&quot;, unique = true)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    private UUID id;\r\n\r\n    @CreatedDate\r\n    private LocalDateTime created;\r\n\r\n    @CreatedBy\r\n    private String createdBy;\r\n\r\n    @LastModifiedDate\r\n    private LocalDateTime lastModified;\r\n\r\n    @LastModifiedBy\r\n    private String lastModifiedBy;\r\n\r\n    @Version\r\n    private int version;\r\n\r\n    @Column(nullable = false, length = 500)\r\n    private String description;\r\n\r\n    private boolean company;\r\n\r\n    @ToString.Exclude\r\n    @EqualsAndHashCode.Exclude\r\n    @OneToMany(mappedBy = &quot;client&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.LAZY)\r\n    private Set&lt;ProjectDAO&gt; projects;\r\n\r\n    public void update(ClientDTO update) {\r\n        super.update(update);\r\n        if (changed(description, update.getDescription()))\r\n            this.description = update.getDescription();\r\n    }\r\n}\r\n```\r\nI have come to the conclusion that if I remove the ```@Version``` it works without, obviously, updating the version parameter. My question is: is there any way to maintain the @Version (therefore updating the parameter once an update is saved) without having this StateState thing happening? From what I understand its an hibernate but I&#39;m not sure how to fix it in Spring","title":"How do i fix Spring Data StaleStateException coming from a javax @Version annotation?","body":"<p>Im building a Spring project where I update entities. Heres is a method I use to do it:</p>\n<pre><code>    @Transactional\n    @CachePut(value = USERS, key = &quot;#update.id&quot;)\n    public Optional&lt;ClientDAO&gt; updateClient(ClientDTO update) {\n        var me = _getClient(update.getId(), true);\n        me.update(update);\n        clients.save(me);\n        log.info(UPDATED, CLIENT, me.getEmail());\n        return of(me);\n    }\n</code></pre>\n<p>Basically, the first time I update it it works, after that if I try to do it again it throws me a:</p>\n<pre><code>org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : [com.manager.daos.StaffDAO#0fa8725b-bc34-4d14-a420-ce6ec6852f8a]\n        at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:341) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:172) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n        at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n        at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:833) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n        at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:820) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n        at jdk.internal.reflect.GeneratedMethodAccessor359.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]...\n</code></pre>\n<p>I have been tinkering with the code using some online tutorials and questions (including here) and discovered that this is probably because of a @Version:</p>\n<pre><code>@Entity\npublic class ClientDAO {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;, strategy = GenerationType.AUTO)\n    @Column(columnDefinition = &quot;BINARY(16)&quot;, unique = true)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    private UUID id;\n\n    @CreatedDate\n    private LocalDateTime created;\n\n    @CreatedBy\n    private String createdBy;\n\n    @LastModifiedDate\n    private LocalDateTime lastModified;\n\n    @LastModifiedBy\n    private String lastModifiedBy;\n\n    @Version\n    private int version;\n\n    @Column(nullable = false, length = 500)\n    private String description;\n\n    private boolean company;\n\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    @OneToMany(mappedBy = &quot;client&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.LAZY)\n    private Set&lt;ProjectDAO&gt; projects;\n\n    public void update(ClientDTO update) {\n        super.update(update);\n        if (changed(description, update.getDescription()))\n            this.description = update.getDescription();\n    }\n}\n</code></pre>\n<p>I have come to the conclusion that if I remove the <code>@Version</code> it works without, obviously, updating the version parameter. My question is: is there any way to maintain the @Version (therefore updating the parameter once an update is saved) without having this StateState thing happening? From what I understand its an hibernate but I'm not sure how to fix it in Spring</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648913489,"post_id":71718631,"comment_id":126745831,"body_markdown":"Look under File &gt; Project Structure &gt; Project SDK and make sure you have a JDK selected.","body":"Look under File &gt; Project Structure &gt; Project SDK and make sure you have a JDK selected."}],"answers":[{"tags":[],"owner":{"account_id":20345583,"reputation":19,"user_id":14923589,"display_name":"Luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649001932,"creation_date":1649001932,"answer_id":71727630,"question_id":71718631,"body_markdown":"I figure it out when I reboot my IDEA.\r\nI think it is because I download new jdk jdk17.\r\n","title":"Try import java.util Cannot resolve symbol &#39;java&#39;","body":"<p>I figure it out when I reboot my IDEA.\nI think it is because I download new jdk jdk17.</p>\n"}],"owner":{"account_id":20345583,"reputation":19,"user_id":14923589,"display_name":"Luke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649001932,"creation_date":1648911536,"question_id":71718631,"body_markdown":"In IDEA IDE I met this problem. I tried to import java.util\r\n[compiler setting][1]\r\n\r\nmy pom.xml:\r\n```java\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/suigc.png","title":"Try import java.util Cannot resolve symbol &#39;java&#39;","body":"<p>In IDEA IDE I met this problem. I tried to import java.util\n<a href=\"https://i.stack.imgur.com/suigc.png\" rel=\"nofollow noreferrer\">compiler setting</a></p>\n<p>my pom.xml:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n</code></pre>\n"},{"tags":["java","spring","eclipse","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646599272,"creation_date":1646599272,"answer_id":71374041,"question_id":71373766,"body_markdown":"Your packages do not match. The class ofi.marina.domain.Component has this package:&lt;br&gt;ofi.marina.domain\r\n\r\nBut your Spring Boot main class ConfigurationApplication has a different package o.m.c.&lt;br&gt;\r\nI guess o.m.c.ConfigurationApplication might be ofi.marina.cXYZ.ConfigurationApplication. So you have to change your Component class package to ofi.marina.cXYZ.Component. Or use Spring @Import to load classes in different root packages.","title":"Why is Spring Ingoring a Eclipse Linked Source Package?","body":"<p>Your packages do not match. The class ofi.marina.domain.Component has this package:<br>ofi.marina.domain</p>\n<p>But your Spring Boot main class ConfigurationApplication has a different package o.m.c.<br>\nI guess o.m.c.ConfigurationApplication might be ofi.marina.cXYZ.ConfigurationApplication. So you have to change your Component class package to ofi.marina.cXYZ.Component. Or use Spring @Import to load classes in different root packages.</p>\n"},{"tags":[],"owner":{"account_id":1104631,"reputation":113,"user_id":6288692,"display_name":"Jhonnytunes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649000163,"creation_date":1649000163,"answer_id":71727388,"question_id":71373766,"body_markdown":"So, I got it working. As this is a pet project today i continue tinkering with it. So far 3 changes made it:\r\n\r\n 1. Added @ComponentScan to scan the other package\r\n\r\n**Application Main Class**\r\n\r\n    @SpringBootApplication\r\n    @EntityScan(basePackages = {&quot;ofi.marina.domain&quot;})\r\n    @ComponentScan(basePackages = {&quot;ofi.marina.domain&quot;})\r\n    public class ParametersApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ParametersApplication.class, args);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n 2. Change the repository from @Service to @Component\r\n\r\n   \r\n\r\n \r\n\r\n    @Component\r\n        public interface ComponentRepository extends JpaRepository&lt;ConfigurationComponent, Integer&gt; {\r\n        \r\n        }\r\n\r\n 3. Removed a class from linked source that was not meant to be included(Is possible that this alone fixed it IDK. Need more tests).\r\n\r\nNow Im reorganizing the workspace to avoid this bad designs mistakes. But I hope anybody struggling with a situation like this can find this post.\r\n","title":"Why is Spring Ingoring a Eclipse Linked Source Package?","body":"<p>So, I got it working. As this is a pet project today i continue tinkering with it. So far 3 changes made it:</p>\n<ol>\n<li>Added @ComponentScan to scan the other package</li>\n</ol>\n<p><strong>Application Main Class</strong></p>\n<pre><code>@SpringBootApplication\n@EntityScan(basePackages = {&quot;ofi.marina.domain&quot;})\n@ComponentScan(basePackages = {&quot;ofi.marina.domain&quot;})\npublic class ParametersApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ParametersApplication.class, args);\n        \n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Change the repository from @Service to @Component</p>\n<p>@Component\npublic interface ComponentRepository extends JpaRepository&lt;ConfigurationComponent, Integer&gt; {</p>\n<pre><code>}\n</code></pre>\n</li>\n<li><p>Removed a class from linked source that was not meant to be included(Is possible that this alone fixed it IDK. Need more tests).</p>\n</li>\n</ol>\n<p>Now Im reorganizing the workspace to avoid this bad designs mistakes. But I hope anybody struggling with a situation like this can find this post.</p>\n"}],"owner":{"account_id":1104631,"reputation":113,"user_id":6288692,"display_name":"Jhonnytunes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71727388,"answer_count":2,"score":0,"last_activity_date":1649000163,"creation_date":1646596702,"question_id":71373766,"body_markdown":"I&#39;m developing a small Spring Boot application for a relative one using a microservice architecture. As multiple service will be sharing some code I created a project named domain to stored all shared classes. I created another project, called configuration, for retrieving parameters from the database. While trying to inject a Repository in a RestController, Spring console is telling it can&#39;t find the repository to inject. So far, I&#39;ve tried to link the source project and add as a module dependency in eclipse. I also added the packages scan in the Application class, but without sucess. On the other hand, external classes are compiling sucessfully. The issue seems to be on Spring Dependecy Injection while importing external eclipse project.\r\n\r\n**Repository**\r\n\r\n    @Service\r\n    public interface ComponentRepository extends JpaRepository&lt;Component, Integer&gt; {\r\n\r\n    }\r\n\r\n\r\n**Controller**\r\n\r\n    @RestController\r\npublic class ConfigurationController {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate ComponentRepository repository;\r\n\r\n\t@GetMapping(path = &quot;/configuration/{component}&quot;)\r\n\tpublic Optional&lt;Component&gt; getConfiguration(@PathVariable Component component) {\r\n\t\t\r\n\t\treturn repository.findById(3);//fixed whitle troubleshooting.\r\n\t\t\r\n\t}\r\n\t\r\n    }\r\n\r\n**Application Main Class**\r\n\r\n    @SpringBootApplication(scanBasePackages = { &quot;ofi.marina.configuration&quot;, &quot;ofi.marina.domain&quot; })\r\n    public class ConfigurationApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ConfigurationApplication.class, args);\r\n\t}\r\n\r\n    }\r\n\r\n\r\n**Linked Source and Exclusions**\r\n[![link source][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t7tQm.png\r\n  [2]: https://i.stack.imgur.com/SA4Hx.png\r\n\r\n**Error Running From Maven**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language:  --&gt;\r\n\r\n    2022-03-06 15:52:03.219  INFO 7196 --- [           main] o.m.c.ConfigurationApplication           : Starting ConfigurationApplication using Java 17.0.1 on XXXX with PID 7196 (E:\\JhonnyOnedrive\\OneDrive\\Documents\\Projects\\MarinaOFI\\Source\\configuration\\target\\classes started by XXXXX in E:\\JhonnyOnedrive\\OneDrive\\Documents\\Projects\\MarinaOFI\\Source\\configuration)\r\n    2022-03-06 15:52:03.222  INFO 7196 --- [           main] o.m.c.ConfigurationApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-03-06 15:52:03.853  INFO 7196 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-03-06 15:52:03.907 ERROR 7196 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n    java.lang.TypeNotPresentException: Type ofi.marina.domain.Component not present\r\n    \tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\r\n    \tat java.base/java.lang.Class.getGenericInterfaces(Class.java:1211) ~[na:na]\r\n    \tat org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:502) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.core.GenericTypeResolver.buildTypeVariableMap(GenericTypeResolver.java:271) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.core.GenericTypeResolver.getTypeVariableMap(GenericTypeResolver.java:248) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.data.util.ClassTypeInformation.getTypeVariableMap(ClassTypeInformation.java:115) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.util.ClassTypeInformation.getTypeVariableMap(ClassTypeInformation.java:104) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.util.ClassTypeInformation.&lt;init&gt;(ClassTypeInformation.java:93) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n    \tat org.springframework.data.util.ClassTypeInformation.from(ClassTypeInformation.java:71) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.AbstractRepositoryMetadata.&lt;init&gt;(AbstractRepositoryMetadata.java:63) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.DefaultRepositoryMetadata.&lt;init&gt;(DefaultRepositoryMetadata.java:49) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:78) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:103) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:159) ~[spring-data-commons-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n    \tat ofi.marina.configuration.ConfigurationApplication.main(ConfigurationApplication.java:10) ~[classes/:na]\r\n    Caused by: java.lang.ClassNotFoundException: ofi.marina.domain.Component\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n    \tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\r\n    \t... 40 common frames omitted\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.715 s\r\n    [INFO] Finished at: 2022-03-06T15:52:03-04:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default-cli) on project configuration: Application finished with exit code: 1 -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default-cli) on project configuration: Application finished with exit code: 1\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n    \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n    \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Application finished with exit code: 1\r\n    \tat org.springframework.boot.maven.RunMojo.runWithForkedJvm(RunMojo.java:101)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo.doRunWithForkedJvm(AbstractRunMojo.java:286)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo.run(AbstractRunMojo.java:251)\r\n    \tat org.springframework.boot.maven.AbstractRunMojo.execute(AbstractRunMojo.java:223)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    \t... 20 more\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**Error Running From Eclipse**\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language:  --&gt;\r\n\r\n    Error: Could not find or load main class ofi.marina.configuration.ConfigurationApplication\r\n    Caused by: java.lang.ClassNotFoundException: ofi.marina.configuration.ConfigurationApplication\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Why is Spring Ingoring a Eclipse Linked Source Package?","body":"<p>I'm developing a small Spring Boot application for a relative one using a microservice architecture. As multiple service will be sharing some code I created a project named domain to stored all shared classes. I created another project, called configuration, for retrieving parameters from the database. While trying to inject a Repository in a RestController, Spring console is telling it can't find the repository to inject. So far, I've tried to link the source project and add as a module dependency in eclipse. I also added the packages scan in the Application class, but without sucess. On the other hand, external classes are compiling sucessfully. The issue seems to be on Spring Dependecy Injection while importing external eclipse project.</p>\n<p><strong>Repository</strong></p>\n<pre><code>@Service\npublic interface ComponentRepository extends JpaRepository&lt;Component, Integer&gt; {\n\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n</code></pre>\n<p>public class ConfigurationController {</p>\n<pre><code>@Autowired\nprivate ComponentRepository repository;\n\n@GetMapping(path = &quot;/configuration/{component}&quot;)\npublic Optional&lt;Component&gt; getConfiguration(@PathVariable Component component) {\n    \n    return repository.findById(3);//fixed whitle troubleshooting.\n    \n}\n\n}\n</code></pre>\n<p><strong>Application Main Class</strong></p>\n<pre><code>@SpringBootApplication(scanBasePackages = { &quot;ofi.marina.configuration&quot;, &quot;ofi.marina.domain&quot; })\npublic class ConfigurationApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(ConfigurationApplication.class, args);\n}\n\n}\n</code></pre>\n<p><strong>Linked Source and Exclusions</strong>\n<a href=\"https://i.stack.imgur.com/t7tQm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t7tQm.png\" alt=\"link source\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SA4Hx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SA4Hx.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Error Running From Maven</strong></p>\n\n<pre><code>2022-03-06 15:52:03.219  INFO 7196 --- [           main] o.m.c.ConfigurationApplication           : Starting ConfigurationApplication using Java 17.0.1 on XXXX with PID 7196 (E:\\JhonnyOnedrive\\OneDrive\\Documents\\Projects\\MarinaOFI\\Source\\configuration\\target\\classes started by XXXXX in E:\\JhonnyOnedrive\\OneDrive\\Documents\\Projects\\MarinaOFI\\Source\\configuration)\n2022-03-06 15:52:03.222  INFO 7196 --- [           main] o.m.c.ConfigurationApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-06 15:52:03.853  INFO 7196 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-03-06 15:52:03.907 ERROR 7196 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.TypeNotPresentException: Type ofi.marina.domain.Component not present\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68) ~[na:na]\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138) ~[na:na]\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperInterfaces(ClassRepository.java:117) ~[na:na]\n    at java.base/sun.reflect.generics.repository.ClassRepository.getSuperInterfaces(ClassRepository.java:95) ~[na:na]\n    at java.base/java.lang.Class.getGenericInterfaces(Class.java:1211) ~[na:na]\n    at org.springframework.core.ResolvableType.getInterfaces(ResolvableType.java:502) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.core.GenericTypeResolver.buildTypeVariableMap(GenericTypeResolver.java:271) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.core.GenericTypeResolver.getTypeVariableMap(GenericTypeResolver.java:248) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.data.util.ClassTypeInformation.getTypeVariableMap(ClassTypeInformation.java:115) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.util.ClassTypeInformation.getTypeVariableMap(ClassTypeInformation.java:104) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.util.ClassTypeInformation.&lt;init&gt;(ClassTypeInformation.java:93) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n    at org.springframework.data.util.ClassTypeInformation.from(ClassTypeInformation.java:71) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.&lt;init&gt;(AbstractRepositoryMetadata.java:63) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.DefaultRepositoryMetadata.&lt;init&gt;(DefaultRepositoryMetadata.java:49) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:78) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:103) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:159) ~[spring-data-commons-2.6.2.jar:2.6.2]\n    at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-2.6.4.jar:2.6.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.16.jar:5.3.16]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.16.jar:5.3.16]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar:2.6.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n    at ofi.marina.configuration.ConfigurationApplication.main(ConfigurationApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ClassNotFoundException: ofi.marina.domain.Component\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114) ~[na:na]\n    ... 40 common frames omitted\n\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.715 s\n[INFO] Finished at: 2022-03-06T15:52:03-04:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default-cli) on project configuration: Application finished with exit code: 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.6.4:run (default-cli) on project configuration: Application finished with exit code: 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Application finished with exit code: 1\n    at org.springframework.boot.maven.RunMojo.runWithForkedJvm(RunMojo.java:101)\n    at org.springframework.boot.maven.AbstractRunMojo.doRunWithForkedJvm(AbstractRunMojo.java:286)\n    at org.springframework.boot.maven.AbstractRunMojo.run(AbstractRunMojo.java:251)\n    at org.springframework.boot.maven.AbstractRunMojo.execute(AbstractRunMojo.java:223)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n    ... 20 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p><strong>Error Running From Eclipse</strong></p>\n\n<pre><code>Error: Could not find or load main class ofi.marina.configuration.ConfigurationApplication\nCaused by: java.lang.ClassNotFoundException: ofi.marina.configuration.ConfigurationApplication\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"score":0,"creation_date":1590626758,"post_id":62055140,"comment_id":109753914,"body_markdown":"Stacktrace please.","body":"Stacktrace please."}],"answers":[{"tags":[],"owner":{"account_id":18383164,"reputation":89,"user_id":13390824,"display_name":"Asutosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1590669021,"creation_date":1590669021,"answer_id":62064759,"question_id":62055140,"body_markdown":"I guess you are trying to use `RecyclerView` and populate it with your `arrayAdapter`.You are missing the statement to instruct the recycler view to use the adapter.\r\n\r\nTry adding this and check if it works\r\n\r\n    recyclerView.setAdapter(arrayAdapter);\r\n    arrayAdapter.notifyDataSetChanged();\r\n\r\nIf you are using any other views such as `ListView` you have to set your adapter to that.\r\n\r\n    listView.setAdapter(arrayAdapter);\r\n    arrayAdapter.notifyDataSetChanged();\r\n\r\n\r\nIf you are not using any views, you can&#39;t get your data populated. Please check this article for more on ArrayAdapter: \r\n[ArrayAdapter with ListView][1], [ArrayAdapter with RecyclerView][2]\r\n\r\n\r\n  [1]: https://guides.codepath.com/android/Using-an-ArrayAdapter-with-ListView\r\n  [2]: https://guides.codepath.com/android/using-the-recyclerview","title":"notifydatasetchanged not working after app close?","body":"<p>I guess you are trying to use <code>RecyclerView</code> and populate it with your <code>arrayAdapter</code>.You are missing the statement to instruct the recycler view to use the adapter.</p>\n\n<p>Try adding this and check if it works</p>\n\n<pre><code>recyclerView.setAdapter(arrayAdapter);\narrayAdapter.notifyDataSetChanged();\n</code></pre>\n\n<p>If you are using any other views such as <code>ListView</code> you have to set your adapter to that.</p>\n\n<pre><code>listView.setAdapter(arrayAdapter);\narrayAdapter.notifyDataSetChanged();\n</code></pre>\n\n<p>If you are not using any views, you can't get your data populated. Please check this article for more on ArrayAdapter: \n<a href=\"https://guides.codepath.com/android/Using-an-ArrayAdapter-with-ListView\" rel=\"nofollow noreferrer\">ArrayAdapter with ListView</a>, <a href=\"https://guides.codepath.com/android/using-the-recyclerview\" rel=\"nofollow noreferrer\">ArrayAdapter with RecyclerView</a></p>\n"},{"tags":[],"owner":{"account_id":16393929,"reputation":13,"user_id":11842029,"display_name":"Alp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591027595,"creation_date":1591027595,"answer_id":62136203,"question_id":62055140,"body_markdown":"//I solved the problem. \r\n`list=new ArrayList&lt;Card&gt;(); `\r\n//adding code \r\n`arrayAdapter=new CardArrayAdapter(this.getContext(),list.size(),list);` ","title":"notifydatasetchanged not working after app close?","body":"<p>//I solved the problem. \n<code>list=new ArrayList&lt;Card&gt;();</code>\n//adding code \n<code>arrayAdapter=new CardArrayAdapter(this.getContext(),list.size(),list);</code> </p>\n"}],"owner":{"account_id":16393929,"reputation":13,"user_id":11842029,"display_name":"Alp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":62064759,"answer_count":2,"score":-1,"last_activity_date":1648999785,"creation_date":1590626663,"question_id":62055140,"body_markdown":"My code is as follows. I have a couple of classes and when someone want to update it doesn&#39;t work.what could be the problem?\r\nI checked it a lot and the application closes = arrayAdapter.notifyDataSetChanged();\r\n\r\n\r\n    public class CardArrayAdapter extends ArrayAdapter&lt;Card&gt; {\r\n\r\n\r\n        public CardArrayAdapter(Context context, int resource,List&lt;Card&gt; objects) {\r\n            super(context, resource, objects);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public View getView(int position,View convertView, ViewGroup parent) {\r\n           Card card = getItem(position);\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.item,parent,false);\r\n            TextView textView = convertView.findViewById(R.id.ItemTextView);\r\n            ImageView imageView = convertView.findViewById(R.id.ItemImageView);\r\n            textView.setText(card.name);\r\n            Glide.with(getContext()).load(card.photoURL).into(imageView);\r\n            return convertView;\r\n        }\r\n    }\r\n\r\n\r\nMain class\r\n\r\n    ArrayList&lt;Card&gt; list;\r\n    CardArrayAdapter arrayAdapter;\r\n    public void loadsCards(){\r\n            list=new ArrayList&lt;Card&gt;();\r\n             String name = dataSnapshot.child(&quot;name&quot;).getValue().toString();\r\n                                        String photoURL = dataSnapshot.child(&quot;photo&quot;).getValue().toString();\r\n                                        String uid = dataSnapshot.getKey();\r\n                                        Card card = new Card(uid,photoURL,name);\r\n                                        Toast.makeText(getActivity(), &quot;sonuc:&quot;+card.name, Toast.LENGTH_LONG).show();\r\n                                       list.add(card);\r\n                           arrayAdapter.notifyDataSetChanged(); //closes here\r\n                                      }\r\n\r\n\r\n","title":"notifydatasetchanged not working after app close?","body":"<p>My code is as follows. I have a couple of classes and when someone want to update it doesn't work.what could be the problem?\nI checked it a lot and the application closes = arrayAdapter.notifyDataSetChanged();</p>\n<pre><code>public class CardArrayAdapter extends ArrayAdapter&lt;Card&gt; {\n\n\n    public CardArrayAdapter(Context context, int resource,List&lt;Card&gt; objects) {\n        super(context, resource, objects);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position,View convertView, ViewGroup parent) {\n       Card card = getItem(position);\n        convertView = LayoutInflater.from(getContext()).inflate(R.layout.item,parent,false);\n        TextView textView = convertView.findViewById(R.id.ItemTextView);\n        ImageView imageView = convertView.findViewById(R.id.ItemImageView);\n        textView.setText(card.name);\n        Glide.with(getContext()).load(card.photoURL).into(imageView);\n        return convertView;\n    }\n}\n</code></pre>\n<p>Main class</p>\n<pre><code>ArrayList&lt;Card&gt; list;\nCardArrayAdapter arrayAdapter;\npublic void loadsCards(){\n        list=new ArrayList&lt;Card&gt;();\n         String name = dataSnapshot.child(&quot;name&quot;).getValue().toString();\n                                    String photoURL = dataSnapshot.child(&quot;photo&quot;).getValue().toString();\n                                    String uid = dataSnapshot.getKey();\n                                    Card card = new Card(uid,photoURL,name);\n                                    Toast.makeText(getActivity(), &quot;sonuc:&quot;+card.name, Toast.LENGTH_LONG).show();\n                                   list.add(card);\n                       arrayAdapter.notifyDataSetChanged(); //closes here\n                                  }\n</code></pre>\n"},{"tags":["java","maven","jena"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1648999112,"post_id":71726949,"comment_id":126759638,"body_markdown":"The --release option is only available from JDK9+ not before","body":"The --release option is only available from JDK9+ not before"},{"owner":{"account_id":15372836,"reputation":522,"user_id":11090439,"display_name":"J. Doe"},"score":0,"creation_date":1648999377,"post_id":71726949,"comment_id":126759685,"body_markdown":"@khmarbaise The official doc says also version 1.8. So should I just install an older maven version? The maven docs says everything with 1.7+ is fine","body":"@khmarbaise The official doc says also version 1.8. So should I just install an older maven version? The maven docs says everything with 1.7+ is fine"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648999461,"post_id":71726949,"comment_id":126759709,"body_markdown":"Simply wrong. The --release in javac is available since JDK9+ thats it. There is a configuration/property in your pom which assumes different...or you have to use a different JDK version (JDK9+) (BTW: Which official docs?)","body":"Simply wrong. The --release in javac is available since JDK9+ thats it. There is a configuration/property in your pom which assumes different...or you have to use a different JDK version (JDK9+) (BTW: Which official docs?)"},{"owner":{"account_id":15372836,"reputation":522,"user_id":11090439,"display_name":"J. Doe"},"score":0,"creation_date":1648999655,"post_id":71726949,"comment_id":126759755,"body_markdown":"@khmarbaise I dont&#39;t have a pom. I just did a checkout from the jena source code (first step in the docs) I have openjdk version &quot;1.8.0_312&quot;\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_312-b07)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.312-b07, mixed mode) installed","body":"@khmarbaise I dont&#39;t have a pom. I just did a checkout from the jena source code (first step in the docs) I have openjdk version &quot;1.8.0_312&quot; OpenJDK Runtime Environment (Temurin)(build 1.8.0_312-b07) OpenJDK 64-Bit Server VM (Temurin)(build 25.312-b07, mixed mode) installed"},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1648999661,"post_id":71726949,"comment_id":126759756,"body_markdown":"You don&#39;t need to compile jena - the jars are available on maven central.","body":"You don&#39;t need to compile jena - the jars are available on maven central."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1648999804,"post_id":71726949,"comment_id":126759800,"body_markdown":"If you have checked out the source code theree is a pom file... this page states different about the needed JDK: https://jena.apache.org/download/index.cgi (JDK11!!) and **NOT** JDK8...","body":"If you have checked out the source code theree is a pom file... this page states different about the needed JDK: <a href=\"https://jena.apache.org/download/index.cgi\" rel=\"nofollow noreferrer\">jena.apache.org/download/index.cgi</a> (JDK11!!) and <b>NOT</b> JDK8..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648999850,"post_id":71726949,"comment_id":126759815,"body_markdown":"The git repo contains a pom file which requires JDK11+ (https://github.com/apache/jena/blob/main/pom.xml)","body":"The git repo contains a pom file which requires JDK11+ (<a href=\"https://github.com/apache/jena/blob/main/pom.xml\" rel=\"nofollow noreferrer\">github.com/apache/jena/blob/main/pom.xml</a>)"},{"owner":{"account_id":15372836,"reputation":522,"user_id":11090439,"display_name":"J. Doe"},"score":0,"creation_date":1648999966,"post_id":71726949,"comment_id":126759836,"body_markdown":"Oh, I guess the doc article is outdated then. Which way would you recommend me for an easy setup of jena? I thought following the official docs will be the easiest","body":"Oh, I guess the doc article is outdated then. Which way would you recommend me for an easy setup of jena? I thought following the official docs will be the easiest"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649000103,"post_id":71726949,"comment_id":126759869,"body_markdown":"First I would consume the artifacts from central repository instead of self compiling... (JDK11+) ... further steps ... I think follow the docs...","body":"First I would consume the artifacts from central repository instead of self compiling... (JDK11+) ... further steps ... I think follow the docs..."}],"owner":{"account_id":15372836,"reputation":522,"user_id":11090439,"display_name":"J. Doe"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648999770,"creation_date":1648997333,"question_id":71726949,"body_markdown":"I try to use Apache Jena with eclipse on my machine.\r\nI&#39;m following the official documentation:\r\n\r\nhttps://jena.apache.org/tutorials/using_jena_with_eclipse.html\r\n\r\nWhich links to https://jena.apache.org/getting_involved/index.html\r\n\r\nwith the steps:\r\n\r\n 1. git clone https://github.com/apache/jena.git \r\n 2. cd jena\r\n 3. mvn clean install\r\n\r\nBut I get following error on &quot;mvn clean install&quot;\r\n\r\n        [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.9.0:compile (default-compile) on project jena-iri: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n    [ERROR]\r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :jena-iri\r\n\r\nthis is what `C:/Users/user/apache-maven-3.8.5/bin/mvn -v` gives me\r\n\r\n    Maven home: C:\\Users\\user\\apache-maven-3.8.5\r\n    Java version: 1.8.0_312, vendor: Temurin, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.312.7-hotspot\\jre\r\n    Default locale: de_DE, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nI don&#39;t habe admin rights on this computer\r\n\r\n\r\n","title":"Jena Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.9.0:compile (default-compile) on project jena-iri: Fatal error compiling","body":"<p>I try to use Apache Jena with eclipse on my machine.\nI'm following the official documentation:</p>\n<p><a href=\"https://jena.apache.org/tutorials/using_jena_with_eclipse.html\" rel=\"nofollow noreferrer\">https://jena.apache.org/tutorials/using_jena_with_eclipse.html</a></p>\n<p>Which links to <a href=\"https://jena.apache.org/getting_involved/index.html\" rel=\"nofollow noreferrer\">https://jena.apache.org/getting_involved/index.html</a></p>\n<p>with the steps:</p>\n<ol>\n<li>git clone <a href=\"https://github.com/apache/jena.git\" rel=\"nofollow noreferrer\">https://github.com/apache/jena.git</a></li>\n<li>cd jena</li>\n<li>mvn clean install</li>\n</ol>\n<p>But I get following error on &quot;mvn clean install&quot;</p>\n<pre><code>    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.9.0:compile (default-compile) on project jena-iri: Fatal error compiling: invalid flag: --release -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :jena-iri\n</code></pre>\n<p>this is what <code>C:/Users/user/apache-maven-3.8.5/bin/mvn -v</code> gives me</p>\n<pre><code>Maven home: C:\\Users\\user\\apache-maven-3.8.5\nJava version: 1.8.0_312, vendor: Temurin, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.312.7-hotspot\\jre\nDefault locale: de_DE, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>I don't habe admin rights on this computer</p>\n"},{"tags":["java","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1632204360,"post_id":69263705,"comment_id":122422605,"body_markdown":"As an `@ModelAttribute` is exclusively used for binding a Web form into the controller, I have simply replicated the form attributes exactly, even if the property names aren&#39;t Java-standard, to accurately reflect the form contents. I believe that altering the names would require a custom binder.","body":"As an <code>@ModelAttribute</code> is exclusively used for binding a Web form into the controller, I have simply replicated the form attributes exactly, even if the property names aren&#39;t Java-standard, to accurately reflect the form contents. I believe that altering the names would require a custom binder."},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1632205687,"post_id":69263705,"comment_id":122422963,"body_markdown":"You keep your dto by matching the form fields and use @Column or JsonProperty on Entity class.","body":"You keep your dto by matching the form fields and use @Column or JsonProperty on Entity class."},{"owner":{"account_id":21976516,"reputation":53,"user_id":16252257,"display_name":"Stalwart"},"score":0,"creation_date":1632205774,"post_id":69263705,"comment_id":122422985,"body_markdown":"Thanks @chrylis-cautiouslyoptimistic-  I would have left it to be same named as form data but my Sonar keep ringing :D. So , I thought there must be some way.","body":"Thanks @chrylis-cautiouslyoptimistic-  I would have left it to be same named as form data but my Sonar keep ringing :D. So , I thought there must be some way."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1632206209,"post_id":69263705,"comment_id":122423097,"body_markdown":"I would say this is a specific case where suppressing the Sonar warnings is justified.","body":"I would say this is a specific case where suppressing the Sonar warnings is justified."},{"owner":{"account_id":21976516,"reputation":53,"user_id":16252257,"display_name":"Stalwart"},"score":0,"creation_date":1632228555,"post_id":69263705,"comment_id":122431371,"body_markdown":"@Alien I wanted to basically rename the fields in my dto as the form fields are not consistent.","body":"@Alien I wanted to basically rename the fields in my dto as the form fields are not consistent."}],"answers":[{"tags":[],"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648999733,"creation_date":1648999733,"answer_id":71727313,"question_id":69263705,"body_markdown":"That&#39;s a pretty old question, but I just came across the same problem and figured out that Spring (at least in `spring-webflux`, but it should work the same for `spring-web`) makes use of `@ConstructorProperties` annotation in `ModelAttributeMethodArgumentResolver`. \r\n\r\nThat means the following is possible for a custom field naming inside a `ModelAttribute`:\r\n\r\n```\r\npublic class DemoRequest {\r\n\r\n    private final String deviceId;\r\n    private final String asn; \r\n    private final String portal;\r\n    private final MultipartFile uploadedFile;\r\n    \r\n    @ConstructorProperties({&quot;deviceID&quot;, &quot;ASN&quot;, &quot;portal&quot;, &quot;str_ScanData&quot;})\r\n    public DemoRequest(String deviceId, String asn, String portal, MultipartFile uploadedFile) {\r\n        this.deviceId = deviceId;\r\n        this.asn = asn;\r\n        this.portal = portal;\r\n        this.uploadedFile = uploadedFile;\r\n    }\r\n}\r\n```","title":"In springboot, how to rename Form-data fields while mapping using @ModelAttribute?","body":"<p>That's a pretty old question, but I just came across the same problem and figured out that Spring (at least in <code>spring-webflux</code>, but it should work the same for <code>spring-web</code>) makes use of <code>@ConstructorProperties</code> annotation in <code>ModelAttributeMethodArgumentResolver</code>.</p>\n<p>That means the following is possible for a custom field naming inside a <code>ModelAttribute</code>:</p>\n<pre><code>public class DemoRequest {\n\n    private final String deviceId;\n    private final String asn; \n    private final String portal;\n    private final MultipartFile uploadedFile;\n    \n    @ConstructorProperties({&quot;deviceID&quot;, &quot;ASN&quot;, &quot;portal&quot;, &quot;str_ScanData&quot;})\n    public DemoRequest(String deviceId, String asn, String portal, MultipartFile uploadedFile) {\n        this.deviceId = deviceId;\n        this.asn = asn;\n        this.portal = portal;\n        this.uploadedFile = uploadedFile;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21976516,"reputation":53,"user_id":16252257,"display_name":"Stalwart"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1134,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1648999733,"creation_date":1632201465,"question_id":69263705,"body_markdown":"I am working with spring-boot, in my controller, I am receiving a formData. I&#39;m mapping the request to the POJO using the @ModelAttribute however, the formData names are not uniform. In this case, @JsonProperty is not helping. \r\nI was looking for some annotation or way so I can rename these fields while mapping.\r\n\r\nCurl sample-\r\n\r\n    curl --location --request POST &#39;http://localhost:8080/api/demo&#39; \\\r\n    --header &#39;Authorization: Bearer &#39; \\\r\n    --form &#39;deviceID=&quot;123&quot;&#39; \\\r\n    --form &#39;ASN=&quot;123&quot;&#39; \\\r\n    --form &#39;portal=&quot;demoportal&quot;&#39; \\\r\n    --form &#39;str_ScanData=@&quot;/D:/sample.xml&quot;&#39;\r\n\r\nMy Controller sample-\r\n\r\n     @PostMapping(path = &quot;/demo&quot;, consumes = {&quot;multipart/form-data&quot;}) public ResponseEntity&lt;demoDto&gt; demoController(\r\n    @ModelAttribute DemoRequest demoRequest)\r\n\r\nMy POJO for Request -\r\n\r\n    Class DemoRequest {\r\n    // what i have right now\r\n       private String deviceID;\r\n        private String ASN;\r\n        private String portal;\r\n        private MultipartFile str_ScanData;\r\n    // getter setters constructor\r\n    \r\n    // What I want to have\r\n       private String deviceId; //camelcase\r\n        private String asn; //rename\r\n        private String portal;\r\n        private MultipartFile uploadedFile; //rename\r\n    }\r\n\r\nI am new to using forums and spring-boot. Please let me know if I am on wrong track or have not posted any relevant info.\r\n\r\n","title":"In springboot, how to rename Form-data fields while mapping using @ModelAttribute?","body":"<p>I am working with spring-boot, in my controller, I am receiving a formData. I'm mapping the request to the POJO using the @ModelAttribute however, the formData names are not uniform. In this case, @JsonProperty is not helping.\nI was looking for some annotation or way so I can rename these fields while mapping.</p>\n<p>Curl sample-</p>\n<pre><code>curl --location --request POST 'http://localhost:8080/api/demo' \\\n--header 'Authorization: Bearer ' \\\n--form 'deviceID=&quot;123&quot;' \\\n--form 'ASN=&quot;123&quot;' \\\n--form 'portal=&quot;demoportal&quot;' \\\n--form 'str_ScanData=@&quot;/D:/sample.xml&quot;'\n</code></pre>\n<p>My Controller sample-</p>\n<pre><code> @PostMapping(path = &quot;/demo&quot;, consumes = {&quot;multipart/form-data&quot;}) public ResponseEntity&lt;demoDto&gt; demoController(\n@ModelAttribute DemoRequest demoRequest)\n</code></pre>\n<p>My POJO for Request -</p>\n<pre><code>Class DemoRequest {\n// what i have right now\n   private String deviceID;\n    private String ASN;\n    private String portal;\n    private MultipartFile str_ScanData;\n// getter setters constructor\n\n// What I want to have\n   private String deviceId; //camelcase\n    private String asn; //rename\n    private String portal;\n    private MultipartFile uploadedFile; //rename\n}\n</code></pre>\n<p>I am new to using forums and spring-boot. Please let me know if I am on wrong track or have not posted any relevant info.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1649017093,"post_id":71727147,"comment_id":126763654,"body_markdown":"I suggest following the official Apache Kafka website as it has latest commands (also zookeeper flag would have needed two dashes, anyway)","body":"I suggest following the official Apache Kafka website as it has latest commands (also zookeeper flag would have needed two dashes, anyway)"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648998757,"creation_date":1648998757,"answer_id":71727164,"question_id":71727147,"body_markdown":"New version of Kafka, use\r\n\r\n```\r\n./kafka-topics.sh --create --topic test-topic --bootstrap-server  localhost:9092 --replication-factor 1 --partitions 4\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uFmMa.png","title":"How to fix Kafka 3.x error parameter -zookeeper?","body":"<p>New version of Kafka, use</p>\n<pre><code>./kafka-topics.sh --create --topic test-topic --bootstrap-server  localhost:9092 --replication-factor 1 --partitions 4\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uFmMa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uFmMa.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71727164,"answer_count":1,"score":-1,"last_activity_date":1648998757,"creation_date":1648998630,"question_id":71727147,"body_markdown":"My version https://dlcdn.apache.org/kafka/3.1.0/kafka_2.13-3.1.0.tgz . Run on Ubuntu 21.10, OpenJDK 11. I follow guide at https://github.com/donhuvy/kafka-for-developers-using-spring-boot/blob/master/SetUpKafka.md#how-to-create-a-topic- . My command\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\ndonhuvy@ubuntu:~/Downloads/kafka_2.13-3.1.0/bin$ ./kafka-topics.sh --create --topic test-topic -zookeeper localhost:2181 --replication-factor 1 --partitions 4\r\nException in thread &quot;main&quot; joptsimple.UnrecognizedOptionException: z is not a recognized option\r\n\tat joptsimple.OptionException.unrecognizedOption(OptionException.java:108)\r\n\tat joptsimple.OptionParser.validateOptionCharacters(OptionParser.java:633)\r\n\tat joptsimple.OptionParser.handleShortOptionCluster(OptionParser.java:528)\r\n\tat joptsimple.OptionParser.handleShortOptionToken(OptionParser.java:523)\r\n\tat joptsimple.OptionParserState$2.handleArgument(OptionParserState.java:59)\r\n\tat joptsimple.OptionParser.parse(OptionParser.java:396)\r\n\tat kafka.admin.TopicCommand$TopicCommandOptions.&lt;init&gt;(TopicCommand.scala:567)\r\n\tat kafka.admin.TopicCommand$.main(TopicCommand.scala:47)\r\n\tat kafka.admin.TopicCommand.main(TopicCommand.scala)\r\ndonhuvy@ubuntu:~/Downloads/kafka_2.13-3.1.0/bin$ \r\n\r\n```\r\n\r\nHow to fix it?\r\n\r\n  [1]: https://i.stack.imgur.com/V8hIT.png","title":"How to fix Kafka 3.x error parameter -zookeeper?","body":"<p>My version <a href=\"https://dlcdn.apache.org/kafka/3.1.0/kafka_2.13-3.1.0.tgz\" rel=\"nofollow noreferrer\">https://dlcdn.apache.org/kafka/3.1.0/kafka_2.13-3.1.0.tgz</a> . Run on Ubuntu 21.10, OpenJDK 11. I follow guide at <a href=\"https://github.com/donhuvy/kafka-for-developers-using-spring-boot/blob/master/SetUpKafka.md#how-to-create-a-topic-\" rel=\"nofollow noreferrer\">https://github.com/donhuvy/kafka-for-developers-using-spring-boot/blob/master/SetUpKafka.md#how-to-create-a-topic-</a> . My command</p>\n<p><a href=\"https://i.stack.imgur.com/V8hIT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V8hIT.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>donhuvy@ubuntu:~/Downloads/kafka_2.13-3.1.0/bin$ ./kafka-topics.sh --create --topic test-topic -zookeeper localhost:2181 --replication-factor 1 --partitions 4\nException in thread &quot;main&quot; joptsimple.UnrecognizedOptionException: z is not a recognized option\n    at joptsimple.OptionException.unrecognizedOption(OptionException.java:108)\n    at joptsimple.OptionParser.validateOptionCharacters(OptionParser.java:633)\n    at joptsimple.OptionParser.handleShortOptionCluster(OptionParser.java:528)\n    at joptsimple.OptionParser.handleShortOptionToken(OptionParser.java:523)\n    at joptsimple.OptionParserState$2.handleArgument(OptionParserState.java:59)\n    at joptsimple.OptionParser.parse(OptionParser.java:396)\n    at kafka.admin.TopicCommand$TopicCommandOptions.&lt;init&gt;(TopicCommand.scala:567)\n    at kafka.admin.TopicCommand$.main(TopicCommand.scala:47)\n    at kafka.admin.TopicCommand.main(TopicCommand.scala)\ndonhuvy@ubuntu:~/Downloads/kafka_2.13-3.1.0/bin$ \n\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","dependency-injection","dagger"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1648796310,"post_id":71700316,"comment_id":126719629,"body_markdown":"Please don&#39;t add superfluous tags: you&#39;re asking a question about Dagger, there was absolutely no reason to also include Spring and Guice.","body":"Please don&#39;t add superfluous tags: you&#39;re asking a question about Dagger, there was absolutely no reason to also include Spring and Guice."}],"answers":[{"tags":[],"owner":{"account_id":5139737,"reputation":3288,"user_id":4117496,"accept_rate":89,"display_name":"Fisher Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648998508,"creation_date":1648998508,"answer_id":71727128,"question_id":71700316,"body_markdown":"It turned out to be a mix of imports.\r\n\r\nI imported `@Provides` from GoogleGuice instead of Dagger, that&#39;s why Dagger keeps complaining this error...","title":"Issue with Dagger: cannot be provided without an @Provides-annotated method","body":"<p>It turned out to be a mix of imports.</p>\n<p>I imported <code>@Provides</code> from GoogleGuice instead of Dagger, that's why Dagger keeps complaining this error...</p>\n"}],"owner":{"account_id":5139737,"reputation":3288,"user_id":4117496,"accept_rate":89,"display_name":"Fisher Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71727128,"answer_count":1,"score":0,"last_activity_date":1648998508,"creation_date":1648770320,"question_id":71700316,"body_markdown":"I do have a method annotated w/ `@Provides`, but somehow it&#39;s still failing building with this error:\r\n```\r\nRouter1Component.java:13: error: com.nice.AbcServiceClient cannot be provided without an @Provides-annotated method.\r\n```\r\n\r\nHere&#39;s my module:\r\n```\r\n@Module\r\npublic final class Router1Module {\r\n\r\n    @Provides\r\n    public AbcServiceClient provideServiceClient() {\r\n        return new ClientBuilder();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my interface:\r\n```\r\n@Singleton\r\n@Component(modules = {Router1Module.class})\r\npublic interface Router1Component {\r\n    @LambdaHandler\r\n    Router1Lambda buildRouter1Lambda();\r\n}\r\n```\r\n\r\nHere&#39;s my class:\r\n```\r\npublic class Router1Lambda {\r\n\r\n    private AbcServiceClient serviceClient;\r\n\r\n    @Inject\r\n    public Router1Lambda(\r\n            final AbcServiceClient serviceClient\r\n    ) {\r\n        this.serviceClient = serviceClient;\r\n    }\r\n\r\n}\r\n```","title":"Issue with Dagger: cannot be provided without an @Provides-annotated method","body":"<p>I do have a method annotated w/ <code>@Provides</code>, but somehow it's still failing building with this error:</p>\n<pre><code>Router1Component.java:13: error: com.nice.AbcServiceClient cannot be provided without an @Provides-annotated method.\n</code></pre>\n<p>Here's my module:</p>\n<pre><code>@Module\npublic final class Router1Module {\n\n    @Provides\n    public AbcServiceClient provideServiceClient() {\n        return new ClientBuilder();\n    }\n}\n</code></pre>\n<p>Here's my interface:</p>\n<pre><code>@Singleton\n@Component(modules = {Router1Module.class})\npublic interface Router1Component {\n    @LambdaHandler\n    Router1Lambda buildRouter1Lambda();\n}\n</code></pre>\n<p>Here's my class:</p>\n<pre><code>public class Router1Lambda {\n\n    private AbcServiceClient serviceClient;\n\n    @Inject\n    public Router1Lambda(\n            final AbcServiceClient serviceClient\n    ) {\n        this.serviceClient = serviceClient;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","double"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1649003133,"post_id":71726991,"comment_id":126760541,"body_markdown":"Is this csv format? Look for a csv reader library, read all lines and distribute the elements in your arrays. That said, questions here tend to do better if you can provide the code you&#39;ve already tried and what problems you had with it. See [ask].","body":"Is this csv format? Look for a csv reader library, read all lines and distribute the elements in your arrays. That said, questions here tend to do better if you can provide the code you&#39;ve already tried and what problems you had with it. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":16641195,"reputation":359,"user_id":13154548,"display_name":"eternal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648998446,"creation_date":1648998446,"answer_id":71727121,"question_id":71726991,"body_markdown":"Here is the simplest way to achieve what you want.\r\n```\r\nList&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;src/main/resources/file.txt&quot;));\r\n\r\ndouble[] first = new double[lines.size()];\r\ndouble[] second = new double[lines.size()];\r\n\r\nfor (int i = 0; i &lt; lines.size(); i++) {\r\n     String line = lines.get(i);\r\n     String[] split = line.split(&quot;,&quot;);\r\n     first[i] = Double.parseDouble(split[0]);\r\n     second[i] = Double.parseDouble(split[1]);\r\n}\r\n```","title":"Adding doubledata from text file to array (Java)","body":"<p>Here is the simplest way to achieve what you want.</p>\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(Paths.get(&quot;src/main/resources/file.txt&quot;));\n\ndouble[] first = new double[lines.size()];\ndouble[] second = new double[lines.size()];\n\nfor (int i = 0; i &lt; lines.size(); i++) {\n     String line = lines.get(i);\n     String[] split = line.split(&quot;,&quot;);\n     first[i] = Double.parseDouble(split[0]);\n     second[i] = Double.parseDouble(split[1]);\n}\n</code></pre>\n"}],"owner":{"account_id":24811038,"reputation":1,"user_id":18692484,"display_name":"user18692484"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648998446,"creation_date":1648997653,"question_id":71726991,"body_markdown":"I am trying to figure out how to read data from a text file formatted as below:\r\n\r\n1.0,8.0  \r\n4.0,3.0  \r\n6.0,0.0  \r\n3.0,5.0  \r\n\r\nand add the first element of each line in myNumbers1 and the second in myNumbers2 like so:\r\n\r\ndouble[] myNumbers1 = {};  \r\ndouble[] myNumbers2 = {};\r\n\r\nto get\r\n\r\ndouble[] myNumbers1 = {1.0,4.0,6.0,3.0};  \r\ndouble[] myNumbers2 = {8.0,3.0,0.0,5.0};\r\n\r\nif that makes sense? Thanks! :)","title":"Adding doubledata from text file to array (Java)","body":"<p>I am trying to figure out how to read data from a text file formatted as below:</p>\n<p>1.0,8.0<br />\n4.0,3.0<br />\n6.0,0.0<br />\n3.0,5.0</p>\n<p>and add the first element of each line in myNumbers1 and the second in myNumbers2 like so:</p>\n<p>double[] myNumbers1 = {};<br />\ndouble[] myNumbers2 = {};</p>\n<p>to get</p>\n<p>double[] myNumbers1 = {1.0,4.0,6.0,3.0};<br />\ndouble[] myNumbers2 = {8.0,3.0,0.0,5.0};</p>\n<p>if that makes sense? Thanks! :)</p>\n"},{"tags":["java","jakarta-ee","jax-rs","apache-tomee"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":1,"creation_date":1647908325,"post_id":71365661,"comment_id":126484962,"body_markdown":"Could you please provide a [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve)?","body":"Could you please provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>?"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":1,"creation_date":1647973197,"post_id":71365661,"comment_id":126504622,"body_markdown":"In particular, could you please provide the implementation of the `Principal` class and the related classes?","body":"In particular, could you please provide the implementation of the <code>Principal</code> class and the related classes?"},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1648099469,"post_id":71365661,"comment_id":126539659,"body_markdown":"Additionally, in particular, could you please provide the content of the Maven project file (`pom.xml`)?","body":"Additionally, in particular, could you please provide the content of the Maven project file (<code>pom.xml</code>)?"},{"owner":{"account_id":3314485,"reputation":828,"user_id":2787159,"accept_rate":86,"display_name":"thatsIch"},"score":0,"creation_date":1648149716,"post_id":71365661,"comment_id":126558182,"body_markdown":"It is to be assumed, that the class `Principal` owns a field of type `Vector`.","body":"It is to be assumed, that the class <code>Principal</code> owns a field of type <code>Vector</code>."},{"owner":{"account_id":1934567,"reputation":262,"user_id":1916013,"display_name":"Hendr&#233;"},"score":0,"creation_date":1649585294,"post_id":71365661,"comment_id":126908504,"body_markdown":"I never use the Vector class anywhere in my code.","body":"I never use the Vector class anywhere in my code."}],"answers":[{"tags":[],"owner":{"account_id":1370355,"reputation":5676,"user_id":1305740,"display_name":"Carlo Pellegrini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647253498,"creation_date":1647253498,"answer_id":71466211,"question_id":71365661,"body_markdown":"The object (Vector&lt;Principal&gt;) you are returning is not serializable by the default JAXRS implementation.\r\nYou need to provide a serializable DTO as the return value.\r\n\r\n","title":"No message body writer has been found","body":"<p>The object (Vector) you are returning is not serializable by the default JAXRS implementation.\nYou need to provide a serializable DTO as the return value.</p>\n"}],"owner":{"account_id":1934567,"reputation":262,"user_id":1916013,"display_name":"Hendr&#233;"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648998361,"creation_date":1646511345,"question_id":71365661,"body_markdown":"I am trying to create a *JAX-RS* resource that must produce *JSON* data. \r\n\r\nI am running on *Apache TomEE 9.0.0-M7* and *Jakarta Web Profile 9.1*.\r\n\r\nCalling `getPrincipals` on the `PrincipalResource` class produces the error below. \r\n\r\nWhy I am getting a `java.util.Vector` error when the `getPrincipal` method returns a `List`? \r\n\r\nPlease assist.\r\n\r\n&gt; Mar 05, 2022 10:06:57 PM org.apache.cxf.jaxrs.utils.JAXRSUtils\r\n&gt; logMessageHandlerProblem SEVERE: No message body writer has been found\r\n&gt; for class java.util.Vector, ContentType: application/json\r\n\r\n**Get method**\r\n\r\n    @Path(&quot;/principal&quot;)\r\n    public class PrincipalResource {\r\n    \r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic List&lt;Principal&gt; getPrincipals() {\r\n    \t\tAccessControl accessControl = new AccessControl();\r\n    \t\treturn accessControl.findPrincipals();\r\n    \t}\r\n    }\r\n\r\n**Principal class**\r\n\r\n    public class Principal {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;principalNumber&quot;)\r\n    \tprivate long principalNumber;\r\n    \r\n    \t@Pattern(regex = Regex.EMAIL, message = &quot;Invlid email address&quot;)\r\n    \t@Column(name = &quot;emailAddress&quot;)\r\n    \tprivate String emailAddress;\r\n    \r\n    \t@Pattern(regex = Regex.FIRST_NAME, message = &quot;Invlid first name&quot;)\r\n    \t@Column(name = &quot;firstName&quot;)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Pattern(regex = Regex.LAST_NAME, message = &quot;Invlid last name&quot;)\r\n    \t@Column(name = &quot;lastName&quot;)\r\n    \tprivate String lastName;\r\n    \r\n    \t@Pattern(regex = Regex.PASSWORD, message = &quot;Invlid password.&quot;)\r\n    \t@Column(name = &quot;principalPassword&quot;)\r\n    \tprivate String principalPassword;\r\n    \r\n    \t@Column(name = &quot;activated&quot;)\r\n    \tprivate boolean activated;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;principal&quot;, cascade = CascadeType.ALL)\r\n    \t@XmlTransient\r\n    \tprivate List&lt;PrincipalRole&gt; principalRoles;\r\n    \r\n    \tpublic Principal() {\r\n    \t}\r\n\r\n**Maven**\r\n\r\n\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;version&gt;9.1.0&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;groupId&gt;za.co.ezimax&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;common&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\t\t\t\t\t\t\t\t\r\n\t\t\t&lt;/dependencies&gt;\r\n\r\n","title":"No message body writer has been found","body":"<p>I am trying to create a <em>JAX-RS</em> resource that must produce <em>JSON</em> data.</p>\n<p>I am running on <em>Apache TomEE 9.0.0-M7</em> and <em>Jakarta Web Profile 9.1</em>.</p>\n<p>Calling <code>getPrincipals</code> on the <code>PrincipalResource</code> class produces the error below.</p>\n<p>Why I am getting a <code>java.util.Vector</code> error when the <code>getPrincipal</code> method returns a <code>List</code>?</p>\n<p>Please assist.</p>\n<blockquote>\n<p>Mar 05, 2022 10:06:57 PM org.apache.cxf.jaxrs.utils.JAXRSUtils\nlogMessageHandlerProblem SEVERE: No message body writer has been found\nfor class java.util.Vector, ContentType: application/json</p>\n</blockquote>\n<p><strong>Get method</strong></p>\n<pre><code>@Path(&quot;/principal&quot;)\npublic class PrincipalResource {\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public List&lt;Principal&gt; getPrincipals() {\n        AccessControl accessControl = new AccessControl();\n        return accessControl.findPrincipals();\n    }\n}\n</code></pre>\n<p><strong>Principal class</strong></p>\n<pre><code>public class Principal {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;principalNumber&quot;)\n    private long principalNumber;\n\n    @Pattern(regex = Regex.EMAIL, message = &quot;Invlid email address&quot;)\n    @Column(name = &quot;emailAddress&quot;)\n    private String emailAddress;\n\n    @Pattern(regex = Regex.FIRST_NAME, message = &quot;Invlid first name&quot;)\n    @Column(name = &quot;firstName&quot;)\n    private String firstName;\n\n    @Pattern(regex = Regex.LAST_NAME, message = &quot;Invlid last name&quot;)\n    @Column(name = &quot;lastName&quot;)\n    private String lastName;\n\n    @Pattern(regex = Regex.PASSWORD, message = &quot;Invlid password.&quot;)\n    @Column(name = &quot;principalPassword&quot;)\n    private String principalPassword;\n\n    @Column(name = &quot;activated&quot;)\n    private boolean activated;\n\n    @OneToMany(mappedBy = &quot;principal&quot;, cascade = CascadeType.ALL)\n    @XmlTransient\n    private List&lt;PrincipalRole&gt; principalRoles;\n\n    public Principal() {\n    }\n</code></pre>\n<p><strong>Maven</strong></p>\n<pre><code>        &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                                        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n                                        &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n                                        &lt;version&gt;9.1.0&lt;/version&gt;\n                                        &lt;scope&gt;provided&lt;/scope&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                                        &lt;groupId&gt;za.co.ezimax&lt;/groupId&gt;\n                                        &lt;artifactId&gt;common&lt;/artifactId&gt;\n                                        &lt;version&gt;0.0.1&lt;/version&gt;\n                        &lt;/dependency&gt;                               \n        &lt;/dependencies&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8529,"page":1463,"page_size":100}
