{"items":[{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1647610972,"post_id":71527809,"comment_id":126420415,"body_markdown":"Yes, you can configure a Swing clock, but you have to create the GUI and write the code to make customization possible.","body":"Yes, you can configure a Swing clock, but you have to create the GUI and write the code to make customization possible."}],"answers":[{"tags":[],"owner":{"account_id":385780,"reputation":73,"user_id":743148,"accept_rate":25,"display_name":"Praveen Jayapal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649413777,"creation_date":1649413777,"answer_id":71795452,"question_id":71527809,"body_markdown":"Being a configurable application we have two options\r\n\r\n 1. Database\r\n 2. File\r\n\r\nIf it&#39;s a small application then choosing a database is completely waste of time and memory. We can achieve the same via writing/reading the file. \r\n\r\nAgain, if we are packing the configuration.properties or reference file along with our runnable jar. It will **fail** because all the files within jar are read only, we cannot write into it. \r\nSo the only possibility is to \r\n\r\n&gt; **create a temp file either in the same location of the jar or in system\r\n&gt; temp folder**\r\n\r\n","title":"configurable jframe elements","body":"<p>Being a configurable application we have two options</p>\n<ol>\n<li>Database</li>\n<li>File</li>\n</ol>\n<p>If it's a small application then choosing a database is completely waste of time and memory. We can achieve the same via writing/reading the file.</p>\n<p>Again, if we are packing the configuration.properties or reference file along with our runnable jar. It will <strong>fail</strong> because all the files within jar are read only, we cannot write into it.\nSo the only possibility is to</p>\n<blockquote>\n<p><strong>create a temp file either in the same location of the jar or in system\ntemp folder</strong></p>\n</blockquote>\n"}],"owner":{"account_id":385780,"reputation":73,"user_id":743148,"accept_rate":25,"display_name":"Praveen Jayapal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649413777,"creation_date":1647610332,"question_id":71527809,"body_markdown":"I have build a digital clock using Swing JFrame, for now the clock is live but it will always show a set of timezone. Is that possible for me to configure the timezone?\r\n\r\nI want to set the timezone, name of the label, show/hide the clock. \r\nIs these are possible in executable jar?","title":"configurable jframe elements","body":"<p>I have build a digital clock using Swing JFrame, for now the clock is live but it will always show a set of timezone. Is that possible for me to configure the timezone?</p>\n<p>I want to set the timezone, name of the label, show/hide the clock.\nIs these are possible in executable jar?</p>\n"},{"tags":["java","xml","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1649219102,"post_id":71751045,"comment_id":126817407,"body_markdown":"Why are you using such an old version of Apache POI with known security issues? Why haven&#39;t you upgraded to the latest supported version?","body":"Why are you using such an old version of Apache POI with known security issues? Why haven&#39;t you upgraded to the latest supported version?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1649225599,"post_id":71751045,"comment_id":126818631,"body_markdown":"The compiling the Java classes from the XSD is done using [XMLBeans](https://xmlbeans.apache.org/). But that is only one thing. To be able to access `commentsExtended.xml` and `commentsExtensible.xml` there would must be classes in `XWPF` which are subclasses of [POIXMLDocumentPart](https://poi.apache.org/apidocs/dev/org/apache/poi/ooxml/POIXMLDocumentPart.html). Until now not even the default `comments.xml` is included in `XWPF` as such. See https://stackoverflow.com/questions/44491860/how-to-add-comment-by-apache-poi/44511824#44511824.","body":"The compiling the Java classes from the XSD is done using <a href=\"https://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">XMLBeans</a>. But that is only one thing. To be able to access <code>commentsExtended.xml</code> and <code>commentsExtensible.xml</code> there would must be classes in <code>XWPF</code> which are subclasses of <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ooxml/POIXMLDocumentPart.html\" rel=\"nofollow noreferrer\">POIXMLDocumentPart</a>. Until now not even the default <code>comments.xml</code> is included in <code>XWPF</code> as such. See <a href=\"https://stackoverflow.com/questions/44491860/how-to-add-comment-by-apache-poi/44511824#44511824\" title=\"how to add comment by apache poi\">stackoverflow.com/questions/44491860/&hellip;</a>."},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649239012,"post_id":71751045,"comment_id":126823394,"body_markdown":"It was pretty Old code base &amp; it was holding up fine till now. Hence it remained unaltered for so long. [Gagravarr](https://stackoverflow.com/users/685641/gagravarr)","body":"It was pretty Old code base &amp; it was holding up fine till now. Hence it remained unaltered for so long. <a href=\"https://stackoverflow.com/users/685641/gagravarr\">Gagravarr</a>"},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649239481,"post_id":71751045,"comment_id":126823582,"body_markdown":"Oh Okk Thanks Alex. So if my understanding is fine compiling XSD using Xmlbeans will only generate low level CT Classes is this correct ? To get high level POI classes we need to write those classes from our end is that so ?  [Alex Richter](https://stackoverflow.com/users/3915431/axel-richter)","body":"Oh Okk Thanks Alex. So if my understanding is fine compiling XSD using Xmlbeans will only generate low level CT Classes is this correct ? To get high level POI classes we need to write those classes from our end is that so ?  <a href=\"https://stackoverflow.com/users/3915431/axel-richter\">Alex Richter</a>"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1649240091,"post_id":71751045,"comment_id":126823800,"body_markdown":"@logesh ramasamy: Correct.","body":"@logesh ramasamy: Correct."},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649243147,"post_id":71751045,"comment_id":126824980,"body_markdown":"Okk thanks a lot [Alex Ritcher](https://stackoverflow.com/users/3915431/axel-richter). I had CommentsExtended.xml &amp; CommentsExtensible.xml XSD downloaded from this [site](https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/d416013d-c112-44fa-8bef-7819b8898117).\nIs this proper schemas for those ? Is there any other offical site to download schemas for MS Word features ?","body":"Okk thanks a lot <a href=\"https://stackoverflow.com/users/3915431/axel-richter\">Alex Ritcher</a>. I had CommentsExtended.xml &amp; CommentsExtensible.xml XSD downloaded from this <a href=\"https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/d416013d-c112-44fa-8bef-7819b8898117\" rel=\"nofollow noreferrer\">site</a>. Is this proper schemas for those ? Is there any other offical site to download schemas for MS Word features ?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1649245463,"post_id":71751045,"comment_id":126825842,"body_markdown":"Your schema is the correct one. But it refers to types of namespace=&quot;schemas.openxmlformats.org/wordprocessingml/2006/main&quot; too. So to be able to compile it using XMLBeans you will need all the schemas of Office Open XML published in [ECMA-376](https://www.ecma-international.org/publications-and-standards/standards/ecma-376/). Additional you might need schemas.microsoft.com/office/word/2010/wordml Schema too. So good luck!","body":"Your schema is the correct one. But it refers to types of namespace=&quot;schemas.openxmlformats.org/wordprocessingml/2006/&zwnj;&#8203;main&quot; too. So to be able to compile it using XMLBeans you will need all the schemas of Office Open XML published in <a href=\"https://www.ecma-international.org/publications-and-standards/standards/ecma-376/\" rel=\"nofollow noreferrer\">ECMA-376</a>. Additional you might need schemas.microsoft.com/office/word/2010/wordml Schema too. So good luck!"},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649252893,"post_id":71751045,"comment_id":126828991,"body_markdown":"Okk thanks a ton. Will try it out Alex.","body":"Okk thanks a ton. Will try it out Alex."},{"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"score":0,"creation_date":1649316298,"post_id":71751045,"comment_id":126845820,"body_markdown":"At first glance I tried adding creating CommentsExtended.xml package &amp; add relation to it using OPCPackage API and was successful. But issue seems to be that a new relationship file like commentsExtended.xml.rels is created instead I want to add entry for commentsExtended.xml in already existing document.xml.rels. What am I doint wronng ? How to achieve the same ?\n\nHave added code below","body":"At first glance I tried adding creating CommentsExtended.xml package &amp; add relation to it using OPCPackage API and was successful. But issue seems to be that a new relationship file like commentsExtended.xml.rels is created instead I want to add entry for commentsExtended.xml in already existing document.xml.rels. What am I doint wronng ? How to achieve the same ?  Have added code below"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649412947,"creation_date":1649344793,"answer_id":71784799,"question_id":71751045,"body_markdown":"To explain the principle, I will try give a complete example which is as minimal as possible.\r\n\r\nAt first: Apache POI 3.14 is too old. My answer relies on current `apache poi 5.2.2`.\r\n\r\n**Generating the `com.microsoft.schemas.office.word.x2012.wordml.*` classes from the `*.xsd` schema files using [XMLBeans](https://xmlbeans.apache.org/)**\r\n\r\nThe `word12.xsd` can be got from the Microsoft source: [5.2 http://schemas.microsoft.com/office/word/2012/wordml Schema](https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/d416013d-c112-44fa-8bef-7819b8898117). But it has to be changed a little bit to be compilable.\r\n\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:**w12**=&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot; ...&gt;\r\n\r\nWhy is the `wordprocessingml/2006/` name space prefixed `w12`? That&#39;s irritating and should better be `w06`.\r\n\r\n    &lt;xsd:import id=&quot;w12&quot; namespace=**&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot;** ...&gt;\r\n\r\nWhy get the well known `wordprocessingml/2006/` name space additional imported as `w12`? That violates the given `targetNamespace`. It should be \r\n\r\n    &lt;xsd:import id=&quot;w12&quot; namespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; ...&gt;\r\n\r\nAnd since ECMA-376-Fifth-Edition the types `ST_OnOff` and `ST_String` are not more in `http://schemas.openxmlformats.org/wordprocessingml/2006/main` namespace but in `http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes`. So we need an additional namespace:\r\n\r\n    ... xmlns:w06st=&quot;http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes&quot; ...\r\n\r\nThe complete `word12.xsd`:\r\n\r\n     &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n      xmlns:w06=&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot;\r\n      xmlns:w06st=&quot;http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes&quot;\r\n      elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;qualified&quot; blockDefault=&quot;#all&quot; \r\n      xmlns=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; \r\n      targetNamespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot;&gt;\r\n       &lt;xsd:import id=&quot;w12&quot; namespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; schemaLocation=&quot;word12.xsd&quot;/&gt;\r\n       &lt;xsd:element name=&quot;color&quot; type=&quot;w06:CT_Color&quot;/&gt;\r\n       &lt;xsd:simpleType name=&quot;ST_SdtAppearance&quot;&gt;\r\n         &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\r\n           &lt;xsd:enumeration value=&quot;boundingBox&quot;/&gt;\r\n           &lt;xsd:enumeration value=&quot;tags&quot;/&gt;\r\n           &lt;xsd:enumeration value=&quot;hidden&quot;/&gt;\r\n         &lt;/xsd:restriction&gt;\r\n       &lt;/xsd:simpleType&gt;\r\n       &lt;xsd:element name=&quot;dataBinding&quot; type=&quot;w06:CT_DataBinding&quot;/&gt;\r\n       &lt;xsd:complexType name=&quot;CT_SdtAppearance&quot;&gt;\r\n         &lt;xsd:attribute name=&quot;val&quot; type=&quot;ST_SdtAppearance&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:element name=&quot;appearance&quot; type=&quot;CT_SdtAppearance&quot;/&gt;\r\n       &lt;xsd:complexType name=&quot;CT_CommentsEx&quot;&gt;\r\n         &lt;xsd:sequence&gt;\r\n           &lt;xsd:element name=&quot;commentEx&quot; type=&quot;CT_CommentEx&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:complexType name=&quot;CT_CommentEx&quot;&gt;\r\n         &lt;xsd:attribute name=&quot;paraId&quot; type=&quot;w06:ST_LongHexNumber&quot; use=&quot;required&quot;/&gt;\r\n         &lt;xsd:attribute name=&quot;paraIdParent&quot; type=&quot;w06:ST_LongHexNumber&quot; use=&quot;optional&quot;/&gt;\r\n         &lt;xsd:attribute name=&quot;done&quot; type=&quot;w06st:ST_OnOff&quot; use=&quot;optional&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:element name=&quot;commentsEx&quot; type=&quot;CT_CommentsEx&quot;/&gt;\r\n       &lt;xsd:complexType name=&quot;CT_People&quot;&gt;\r\n         &lt;xsd:sequence&gt;\r\n           &lt;xsd:element name=&quot;person&quot; type=&quot;CT_Person&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:complexType name=&quot;CT_PresenceInfo&quot;&gt;\r\n         &lt;xsd:attribute name=&quot;providerId&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\r\n         &lt;xsd:attribute name=&quot;userId&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:complexType name=&quot;CT_Person&quot;&gt;\r\n         &lt;xsd:sequence&gt;\r\n           &lt;xsd:element name=&quot;presenceInfo&quot; type=&quot;CT_PresenceInfo&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n         &lt;xsd:attribute name=&quot;author&quot; type=&quot;w06st:ST_String&quot; use=&quot;required&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:element name=&quot;people&quot; type=&quot;CT_People&quot;/&gt;\r\n       &lt;xsd:complexType name=&quot;CT_SdtRepeatedSection&quot;&gt;\r\n         &lt;xsd:sequence&gt;\r\n           &lt;xsd:element name=&quot;sectionTitle&quot; type=&quot;w06:CT_String&quot; minOccurs=&quot;0&quot;/&gt;\r\n           &lt;xsd:element name=&quot;doNotAllowInsertDeleteSection&quot; type=&quot;w06:CT_OnOff&quot; minOccurs=&quot;0&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:simpleType name=&quot;ST_Guid&quot;&gt;\r\n         &lt;xsd:restriction base=&quot;xsd:token&quot;&gt;\r\n           &lt;xsd:pattern value=&quot;\\{[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}\\}&quot;/&gt;\r\n         &lt;/xsd:restriction&gt;\r\n       &lt;/xsd:simpleType&gt;\r\n       &lt;xsd:complexType name=&quot;CT_Guid&quot;&gt;\r\n         &lt;xsd:attribute name=&quot;val&quot; type=&quot;ST_Guid&quot;/&gt;\r\n       &lt;/xsd:complexType&gt;\r\n       &lt;xsd:element name=&quot;repeatingSection&quot; type=&quot;CT_SdtRepeatedSection&quot;/&gt;\r\n       &lt;xsd:element name=&quot;repeatingSectionItem&quot; type=&quot;w06:CT_Empty&quot;/&gt;\r\n       &lt;xsd:element name=&quot;chartTrackingRefBased&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\r\n       &lt;xsd:element name=&quot;collapsed&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\r\n       &lt;xsd:element name=&quot;docId&quot; type=&quot;CT_Guid&quot;/&gt;\r\n       &lt;xsd:element name=&quot;footnoteColumns&quot; type=&quot;w06:CT_DecimalNumber&quot;/&gt;\r\n       &lt;xsd:element name=&quot;webExtensionLinked&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\r\n       &lt;xsd:element name=&quot;webExtensionCreated&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\r\n       &lt;xsd:attribute name=&quot;restartNumberingAfterBreak&quot; type=&quot;w06st:ST_OnOff&quot;/&gt;\r\n     &lt;/xsd:schema&gt;\r\n\r\nThe `word12.xsd` refers to other types. So additional schemes needs to be accessible while compiling. Those can be got from [ECMA-376](https://www.ecma-international.org/publications-and-standards/standards/ecma-376/), Download part 4 and unpack `OfficeOpenXML-XMLSchema-Transitional.zip` of \r\n`ECMA-376-Fifth-Edition-Part-4-Transitional-Migration-Features.zip` to a directory of your filesystem. I have done this to `./xsd/ooxml` (replace the `.` with your special location). Copy `word12.xsd` to this directory too.\r\n\r\nNow we can do the compiling using `scomp`.\r\n\r\n    scomp -src ./xmlbeans/ooxml/src -out ./xmlbeans/ooxml/ooxml-schemas-word12-5.2.2.jar ./xsd/ooxml/word12.xsd ./xsd/ooxml/shared-commonSimpleTypes.xsd ./xsd/ooxml/shared-math.xsd\r\n\r\nThis compiles the three schema files `./xsd/ooxml/word12.xsd ./xsd/ooxml/shared-commonSimpleTypes.xsd ./xsd/ooxml/shared-math.xsd` and creates the JAR `./xmlbeans/ooxml/ooxml-schemas-word12-5.2.2.jar` and puts the `*.java` source files in `./xmlbeans/ooxml/src`.\r\n\r\nAfter compiling you have the `ooxml-schemas-word12-5.2.2.jar` containing the new `com.microsoft.schemas.office.word.x2012.wordml.*` classes. If there are problems with compiling using XmlBeans, here is the resulting [ooxml-schemas-word12-5.2.2.jar](https://github.com/AxelRichter/apache-poi/tree/main/ooxml/word12). This must be in class path while compiling and running following code.\r\n\r\n\r\n**Using the `com.microsoft.schemas.office.word.x2012.wordml.*` classes in `ooxml-schemas-word12-5.2.2.jar` to create a `XWPFDocument` having comments and using extended comment properties**\r\n\r\nWe know we need `/word/comments.xml` and `/word/commentsExtended.xml` in the `*.docx` ZIP archive. In `apache poi` `ooxml` this XML files are called document parts. There must be `XWPF` classes which extend `POIXMLDocumentPart` to handle those document parts. This classes need override `protected void commit()` to be able to save the content while `XWPFDocument.write`. Additional we need a method to create (add) this document parts to the `OPCPackage` (`ZipPackage`) of the `XWPFDocument`. The relation between the document parts and the `OPCPackage` is saved using a `POIXMLRelation`. So we need the `XWPFRelation.COMMENT`, which is already provided in `apache poi`, and additional `XWPFCommentsExRelation` which extends `POIXMLRelation`.\r\n\r\nTo be referable in `CTCommentsEx` the paragraphs in `CTComment` need attribute `paraId` from namespace `http://schemas.microsoft.com/office/word/2010/wordml`. We should avoid importing and compiling the [5.1 http://schemas.microsoft.com/office/word/2010/wordml Schema](https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/9704b59f-bc49-4618-ac66-41beb82a0d7f) only to be able to set this attribute. So we use `XmlCursor.insertAttributeWithValue` to add that attribute to `CTP` in `CTComment`. (Note: The above linked XSD seems not even to be the full schema for namespace `http://schemas.microsoft.com/office/word/2010/wordml`. At least there is no definition for atribute `paraId` in `CT_P`.)\r\n\r\nPutting all this together we can have following code:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.openxml4j.opc.*;\r\n    import org.apache.xmlbeans.*;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.apache.poi.ooxml.*;\r\n    import static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    import com.microsoft.schemas.office.word.x2012.wordml.*;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    \r\n    import java.math.BigInteger;\r\n    import java.util.GregorianCalendar;\r\n    import java.util.Locale;\r\n    \r\n    \r\n    public class CreateWordWithCommentsAndCommentsEx {\r\n    \r\n    //a method for creating the CommentsDocument /word/comments.xml in the *.docx ZIP archive  \r\n     private static MyXWPFCommentsDocument createCommentsDocument(XWPFDocument document) throws Exception {\r\n      OPCPackage oPCPackage = document.getPackage();\r\n      PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/comments.xml&quot;);\r\n      PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml&quot;);\r\n      MyXWPFCommentsDocument myXWPFCommentsDocument = new MyXWPFCommentsDocument(part);\r\n     \r\n      String rId = document.addRelation(null, XWPFRelation.COMMENT, myXWPFCommentsDocument).getRelationship().getId();\r\n    \r\n      return myXWPFCommentsDocument;\r\n     }\r\n     \r\n    //a method for creating the CommentsExtendedDocument /word/commentsExtended.xml in the *.docx ZIP archive  \r\n     private static MyXWPFCommentsExtendedDocument createCommentsExtendedDocument(XWPFDocument document) throws Exception {\r\n      OPCPackage oPCPackage = document.getPackage();\r\n      PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\r\n      PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;);\r\n      MyXWPFCommentsExtendedDocument myXWPFCommentsExtendedDocument = new MyXWPFCommentsExtendedDocument(part);\r\n     \r\n      String rId = document.addRelation(null, new XWPFCommentsExRelation(), myXWPFCommentsExtendedDocument).getRelationship().getId();\r\n    \r\n      return myXWPFCommentsExtendedDocument;\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n     \r\n      MyXWPFCommentsDocument myXWPFCommentsDocument = createCommentsDocument(document);\r\n      MyXWPFCommentsExtendedDocument myXWPFCommentsExtendedDocument = createCommentsExtendedDocument(document);\r\n     \r\n      CTComments comments = myXWPFCommentsDocument.getComments();\r\n      CTCommentsEx commentsEx = myXWPFCommentsExtendedDocument.getCommentsEx();\r\n      \r\n      CTComment ctComment;\r\n      CTCommentEx ctCommentEx;\r\n      CTP ctP;\r\n      XWPFParagraph paragraph;\r\n      XWPFRun run;\r\n      BigInteger cId;\r\n      XmlCursor cursor;\r\n    \r\n    //first comment\r\n      cId = BigInteger.ZERO;\r\n      ctComment = comments.addNewComment();\r\n      ctComment.setAuthor(&quot;Axel Richter&quot;);\r\n      ctComment.setInitials(&quot;AR&quot;);\r\n      ctComment.setDate(new GregorianCalendar(Locale.US));\r\n      ctP = ctComment.addNewP();\r\n      cursor = ctP.newCursor();\r\n      cursor.toNextToken();\r\n      cursor.insertAttributeWithValue​(new QName(&quot;http://schemas.microsoft.com/office/word/2010/wordml&quot;, &quot;paraId&quot;), &quot;01020304&quot;);\r\n      cursor.dispose();\r\n      ctP.addNewR().addNewT().setStringValue(&quot;The first comment.&quot;);\r\n      ctComment.setId(cId);\r\n      \r\n      ctCommentEx = commentsEx.addNewCommentEx();\r\n      ctCommentEx.setParaId(new byte[]{1,2,3,4});\r\n      \r\n      paragraph = document.createParagraph();\r\n      paragraph.getCTP().addNewCommentRangeStart().setId(cId);\r\n    \r\n      run = paragraph.createRun();\r\n      run.setText(&quot;Paragraph with the first comment.&quot;);\r\n    \r\n      paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\r\n    \r\n      paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\r\n    \r\n    //sub comment to first comment\r\n      cId = cId.add(BigInteger.ONE);\r\n      ctComment = comments.addNewComment();\r\n      ctComment.setAuthor(&quot;Axel Richter&quot;);\r\n      ctComment.setInitials(&quot;AR&quot;);\r\n      ctComment.setDate(new GregorianCalendar(Locale.US));\r\n      ctP = ctComment.addNewP();\r\n      cursor = ctP.newCursor();\r\n      cursor.toNextToken();\r\n      cursor.insertAttributeWithValue​(new QName(&quot;http://schemas.microsoft.com/office/word/2010/wordml&quot;, &quot;paraId&quot;), &quot;01020305&quot;);\r\n      cursor.dispose();\r\n      ctP.addNewR().addNewT().setStringValue(&quot;Sub comment to the first comment.&quot;);\r\n      ctComment.setId(cId);\r\n      \r\n      ctCommentEx = commentsEx.addNewCommentEx();\r\n      ctCommentEx.setParaId(new byte[]{1,2,3,5});\r\n      ctCommentEx.setParaIdParent(new byte[]{1,2,3,4});\r\n      \r\n      paragraph.getCTP().addNewCommentRangeStart().setId(cId);\r\n      paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\r\n      paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\r\n    \r\n    //paragraph without comment\r\n      paragraph = document.createParagraph();\r\n      run = paragraph.createRun();\r\n      run.setText(&quot;Paragraph without comment.&quot;);\r\n    \r\n    //second comment\r\n      cId = cId.add(BigInteger.ONE);\r\n    \r\n      ctComment = comments.addNewComment();\r\n      ctComment.setAuthor(&quot;Axel Richter&quot;);\r\n      ctComment.setInitials(&quot;AR&quot;);\r\n      ctComment.setDate(new GregorianCalendar(Locale.US));\r\n      ctComment.addNewP().addNewR().addNewT().setStringValue(&quot;The second comment.&quot;);\r\n      ctComment.setId(cId);\r\n      \r\n     // ctCommentEx = commentsEx.addNewCommentEx();\r\n    \r\n      paragraph = document.createParagraph();\r\n      paragraph.getCTP().addNewCommentRangeStart().setId(cId);\r\n    \r\n      run = paragraph.createRun();\r\n      run.setText(&quot;Paragraph with the second comment.&quot;);\r\n    \r\n      paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\r\n    \r\n      paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\r\n    \r\n    //write document\r\n      FileOutputStream out = new FileOutputStream(&quot;CreateWordWithComments.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    \r\n    //a wrapper class for the CommentsDocument /word/comments.xml in the *.docx ZIP archive\r\n     private static class MyXWPFCommentsDocument extends POIXMLDocumentPart {\r\n    \r\n      private CTComments comments;\r\n    \r\n      private MyXWPFCommentsDocument(PackagePart part) throws Exception {\r\n       super(part);\r\n       comments = CommentsDocument.Factory.newInstance().addNewComments();\r\n      }\r\n    \r\n      private CTComments getComments() {\r\n       return comments;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n       xmlOptions.setSaveSyntheticDocumentElement(new QName(CTComments.type.getName().getNamespaceURI(), &quot;comments&quot;));\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       comments.save(out, xmlOptions);\r\n       out.close();\r\n      }\r\n    \r\n     }\r\n     \r\n    //a wrapper class for the CommentsExDocument /word/commentsExtended.xml in the *.docx ZIP archive\r\n     private static class MyXWPFCommentsExtendedDocument extends POIXMLDocumentPart {\r\n    \r\n      private CTCommentsEx commentsEx;\r\n    \r\n      private MyXWPFCommentsExtendedDocument(PackagePart part) throws Exception {\r\n       super(part);\r\n       commentsEx = CommentsExDocument.Factory.newInstance().addNewCommentsEx();\r\n      }\r\n    \r\n      private CTCommentsEx getCommentsEx() {\r\n       return commentsEx;\r\n      }\r\n    \r\n      @Override\r\n      protected void commit() throws IOException {\r\n       XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\r\n       xmlOptions.setSaveSyntheticDocumentElement(new QName(CTCommentsEx.type.getName().getNamespaceURI(), &quot;commentsExtended&quot;));\r\n       PackagePart part = getPackagePart();\r\n       OutputStream out = part.getOutputStream();\r\n       commentsEx.save(out, xmlOptions);\r\n       out.close();\r\n      }\r\n    \r\n     }\r\n     \r\n     //the XWPFRelation for /word/commentsExtended.xml\r\n     private final static class XWPFCommentsExRelation extends POIXMLRelation {\r\n      private XWPFCommentsExRelation() {\r\n       super(\r\n        &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;, \r\n        &quot;http://schemas.microsoft.com/office/2011/relationships/commentsExtended&quot;, \r\n        &quot;/word/commentsExtended.xml&quot;);\r\n      }\r\n     }\r\n    \r\n    }\r\n\r\nThis generates:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7A70H.png","title":"How to add Classes for CommentsExtended.xml &amp; CommentsExtensible.xml to POI 3.14","body":"<p>To explain the principle, I will try give a complete example which is as minimal as possible.</p>\n<p>At first: Apache POI 3.14 is too old. My answer relies on current <code>apache poi 5.2.2</code>.</p>\n<p><strong>Generating the <code>com.microsoft.schemas.office.word.x2012.wordml.*</code> classes from the <code>*.xsd</code> schema files using <a href=\"https://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">XMLBeans</a></strong></p>\n<p>The <code>word12.xsd</code> can be got from the Microsoft source: <a href=\"https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/d416013d-c112-44fa-8bef-7819b8898117\" rel=\"nofollow noreferrer\">5.2 http://schemas.microsoft.com/office/word/2012/wordml Schema</a>. But it has to be changed a little bit to be compilable.</p>\n<pre><code>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:**w12**=&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot; ...&gt;\n</code></pre>\n<p>Why is the <code>wordprocessingml/2006/</code> name space prefixed <code>w12</code>? That's irritating and should better be <code>w06</code>.</p>\n<pre><code>&lt;xsd:import id=&quot;w12&quot; namespace=**&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot;** ...&gt;\n</code></pre>\n<p>Why get the well known <code>wordprocessingml/2006/</code> name space additional imported as <code>w12</code>? That violates the given <code>targetNamespace</code>. It should be</p>\n<pre><code>&lt;xsd:import id=&quot;w12&quot; namespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; ...&gt;\n</code></pre>\n<p>And since ECMA-376-Fifth-Edition the types <code>ST_OnOff</code> and <code>ST_String</code> are not more in <code>http://schemas.openxmlformats.org/wordprocessingml/2006/main</code> namespace but in <code>http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes</code>. So we need an additional namespace:</p>\n<pre><code>... xmlns:w06st=&quot;http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes&quot; ...\n</code></pre>\n<p>The complete <code>word12.xsd</code>:</p>\n<pre><code> &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \n  xmlns:w06=&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main&quot;\n  xmlns:w06st=&quot;http://schemas.openxmlformats.org/officeDocument/2006/sharedTypes&quot;\n  elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;qualified&quot; blockDefault=&quot;#all&quot; \n  xmlns=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; \n  targetNamespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot;&gt;\n   &lt;xsd:import id=&quot;w12&quot; namespace=&quot;http://schemas.microsoft.com/office/word/2012/wordml&quot; schemaLocation=&quot;word12.xsd&quot;/&gt;\n   &lt;xsd:element name=&quot;color&quot; type=&quot;w06:CT_Color&quot;/&gt;\n   &lt;xsd:simpleType name=&quot;ST_SdtAppearance&quot;&gt;\n     &lt;xsd:restriction base=&quot;xsd:string&quot;&gt;\n       &lt;xsd:enumeration value=&quot;boundingBox&quot;/&gt;\n       &lt;xsd:enumeration value=&quot;tags&quot;/&gt;\n       &lt;xsd:enumeration value=&quot;hidden&quot;/&gt;\n     &lt;/xsd:restriction&gt;\n   &lt;/xsd:simpleType&gt;\n   &lt;xsd:element name=&quot;dataBinding&quot; type=&quot;w06:CT_DataBinding&quot;/&gt;\n   &lt;xsd:complexType name=&quot;CT_SdtAppearance&quot;&gt;\n     &lt;xsd:attribute name=&quot;val&quot; type=&quot;ST_SdtAppearance&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:element name=&quot;appearance&quot; type=&quot;CT_SdtAppearance&quot;/&gt;\n   &lt;xsd:complexType name=&quot;CT_CommentsEx&quot;&gt;\n     &lt;xsd:sequence&gt;\n       &lt;xsd:element name=&quot;commentEx&quot; type=&quot;CT_CommentEx&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n     &lt;/xsd:sequence&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:complexType name=&quot;CT_CommentEx&quot;&gt;\n     &lt;xsd:attribute name=&quot;paraId&quot; type=&quot;w06:ST_LongHexNumber&quot; use=&quot;required&quot;/&gt;\n     &lt;xsd:attribute name=&quot;paraIdParent&quot; type=&quot;w06:ST_LongHexNumber&quot; use=&quot;optional&quot;/&gt;\n     &lt;xsd:attribute name=&quot;done&quot; type=&quot;w06st:ST_OnOff&quot; use=&quot;optional&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:element name=&quot;commentsEx&quot; type=&quot;CT_CommentsEx&quot;/&gt;\n   &lt;xsd:complexType name=&quot;CT_People&quot;&gt;\n     &lt;xsd:sequence&gt;\n       &lt;xsd:element name=&quot;person&quot; type=&quot;CT_Person&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n     &lt;/xsd:sequence&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:complexType name=&quot;CT_PresenceInfo&quot;&gt;\n     &lt;xsd:attribute name=&quot;providerId&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\n     &lt;xsd:attribute name=&quot;userId&quot; type=&quot;xsd:string&quot; use=&quot;required&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:complexType name=&quot;CT_Person&quot;&gt;\n     &lt;xsd:sequence&gt;\n       &lt;xsd:element name=&quot;presenceInfo&quot; type=&quot;CT_PresenceInfo&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;1&quot;/&gt;\n     &lt;/xsd:sequence&gt;\n     &lt;xsd:attribute name=&quot;author&quot; type=&quot;w06st:ST_String&quot; use=&quot;required&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:element name=&quot;people&quot; type=&quot;CT_People&quot;/&gt;\n   &lt;xsd:complexType name=&quot;CT_SdtRepeatedSection&quot;&gt;\n     &lt;xsd:sequence&gt;\n       &lt;xsd:element name=&quot;sectionTitle&quot; type=&quot;w06:CT_String&quot; minOccurs=&quot;0&quot;/&gt;\n       &lt;xsd:element name=&quot;doNotAllowInsertDeleteSection&quot; type=&quot;w06:CT_OnOff&quot; minOccurs=&quot;0&quot;/&gt;\n     &lt;/xsd:sequence&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:simpleType name=&quot;ST_Guid&quot;&gt;\n     &lt;xsd:restriction base=&quot;xsd:token&quot;&gt;\n       &lt;xsd:pattern value=&quot;\\{[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}\\}&quot;/&gt;\n     &lt;/xsd:restriction&gt;\n   &lt;/xsd:simpleType&gt;\n   &lt;xsd:complexType name=&quot;CT_Guid&quot;&gt;\n     &lt;xsd:attribute name=&quot;val&quot; type=&quot;ST_Guid&quot;/&gt;\n   &lt;/xsd:complexType&gt;\n   &lt;xsd:element name=&quot;repeatingSection&quot; type=&quot;CT_SdtRepeatedSection&quot;/&gt;\n   &lt;xsd:element name=&quot;repeatingSectionItem&quot; type=&quot;w06:CT_Empty&quot;/&gt;\n   &lt;xsd:element name=&quot;chartTrackingRefBased&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\n   &lt;xsd:element name=&quot;collapsed&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\n   &lt;xsd:element name=&quot;docId&quot; type=&quot;CT_Guid&quot;/&gt;\n   &lt;xsd:element name=&quot;footnoteColumns&quot; type=&quot;w06:CT_DecimalNumber&quot;/&gt;\n   &lt;xsd:element name=&quot;webExtensionLinked&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\n   &lt;xsd:element name=&quot;webExtensionCreated&quot; type=&quot;w06:CT_OnOff&quot;/&gt;\n   &lt;xsd:attribute name=&quot;restartNumberingAfterBreak&quot; type=&quot;w06st:ST_OnOff&quot;/&gt;\n &lt;/xsd:schema&gt;\n</code></pre>\n<p>The <code>word12.xsd</code> refers to other types. So additional schemes needs to be accessible while compiling. Those can be got from <a href=\"https://www.ecma-international.org/publications-and-standards/standards/ecma-376/\" rel=\"nofollow noreferrer\">ECMA-376</a>, Download part 4 and unpack <code>OfficeOpenXML-XMLSchema-Transitional.zip</code> of\n<code>ECMA-376-Fifth-Edition-Part-4-Transitional-Migration-Features.zip</code> to a directory of your filesystem. I have done this to <code>./xsd/ooxml</code> (replace the <code>.</code> with your special location). Copy <code>word12.xsd</code> to this directory too.</p>\n<p>Now we can do the compiling using <code>scomp</code>.</p>\n<pre><code>scomp -src ./xmlbeans/ooxml/src -out ./xmlbeans/ooxml/ooxml-schemas-word12-5.2.2.jar ./xsd/ooxml/word12.xsd ./xsd/ooxml/shared-commonSimpleTypes.xsd ./xsd/ooxml/shared-math.xsd\n</code></pre>\n<p>This compiles the three schema files <code>./xsd/ooxml/word12.xsd ./xsd/ooxml/shared-commonSimpleTypes.xsd ./xsd/ooxml/shared-math.xsd</code> and creates the JAR <code>./xmlbeans/ooxml/ooxml-schemas-word12-5.2.2.jar</code> and puts the <code>*.java</code> source files in <code>./xmlbeans/ooxml/src</code>.</p>\n<p>After compiling you have the <code>ooxml-schemas-word12-5.2.2.jar</code> containing the new <code>com.microsoft.schemas.office.word.x2012.wordml.*</code> classes. If there are problems with compiling using XmlBeans, here is the resulting <a href=\"https://github.com/AxelRichter/apache-poi/tree/main/ooxml/word12\" rel=\"nofollow noreferrer\">ooxml-schemas-word12-5.2.2.jar</a>. This must be in class path while compiling and running following code.</p>\n<p><strong>Using the <code>com.microsoft.schemas.office.word.x2012.wordml.*</code> classes in <code>ooxml-schemas-word12-5.2.2.jar</code> to create a <code>XWPFDocument</code> having comments and using extended comment properties</strong></p>\n<p>We know we need <code>/word/comments.xml</code> and <code>/word/commentsExtended.xml</code> in the <code>*.docx</code> ZIP archive. In <code>apache poi</code> <code>ooxml</code> this XML files are called document parts. There must be <code>XWPF</code> classes which extend <code>POIXMLDocumentPart</code> to handle those document parts. This classes need override <code>protected void commit()</code> to be able to save the content while <code>XWPFDocument.write</code>. Additional we need a method to create (add) this document parts to the <code>OPCPackage</code> (<code>ZipPackage</code>) of the <code>XWPFDocument</code>. The relation between the document parts and the <code>OPCPackage</code> is saved using a <code>POIXMLRelation</code>. So we need the <code>XWPFRelation.COMMENT</code>, which is already provided in <code>apache poi</code>, and additional <code>XWPFCommentsExRelation</code> which extends <code>POIXMLRelation</code>.</p>\n<p>To be referable in <code>CTCommentsEx</code> the paragraphs in <code>CTComment</code> need attribute <code>paraId</code> from namespace <code>http://schemas.microsoft.com/office/word/2010/wordml</code>. We should avoid importing and compiling the <a href=\"https://learn.microsoft.com/en-us/openspecs/office_standards/ms-docx/9704b59f-bc49-4618-ac66-41beb82a0d7f\" rel=\"nofollow noreferrer\">5.1 http://schemas.microsoft.com/office/word/2010/wordml Schema</a> only to be able to set this attribute. So we use <code>XmlCursor.insertAttributeWithValue</code> to add that attribute to <code>CTP</code> in <code>CTComment</code>. (Note: The above linked XSD seems not even to be the full schema for namespace <code>http://schemas.microsoft.com/office/word/2010/wordml</code>. At least there is no definition for atribute <code>paraId</code> in <code>CT_P</code>.)</p>\n<p>Putting all this together we can have following code:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.openxml4j.opc.*;\nimport org.apache.xmlbeans.*;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.apache.poi.ooxml.*;\nimport static org.apache.poi.ooxml.POIXMLTypeLoader.DEFAULT_XML_OPTIONS;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\nimport com.microsoft.schemas.office.word.x2012.wordml.*;\n\nimport javax.xml.namespace.QName;\n\nimport java.math.BigInteger;\nimport java.util.GregorianCalendar;\nimport java.util.Locale;\n\n\npublic class CreateWordWithCommentsAndCommentsEx {\n\n//a method for creating the CommentsDocument /word/comments.xml in the *.docx ZIP archive  \n private static MyXWPFCommentsDocument createCommentsDocument(XWPFDocument document) throws Exception {\n  OPCPackage oPCPackage = document.getPackage();\n  PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/comments.xml&quot;);\n  PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml&quot;);\n  MyXWPFCommentsDocument myXWPFCommentsDocument = new MyXWPFCommentsDocument(part);\n \n  String rId = document.addRelation(null, XWPFRelation.COMMENT, myXWPFCommentsDocument).getRelationship().getId();\n\n  return myXWPFCommentsDocument;\n }\n \n//a method for creating the CommentsExtendedDocument /word/commentsExtended.xml in the *.docx ZIP archive  \n private static MyXWPFCommentsExtendedDocument createCommentsExtendedDocument(XWPFDocument document) throws Exception {\n  OPCPackage oPCPackage = document.getPackage();\n  PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\n  PackagePart part = oPCPackage.createPart(partName, &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;);\n  MyXWPFCommentsExtendedDocument myXWPFCommentsExtendedDocument = new MyXWPFCommentsExtendedDocument(part);\n \n  String rId = document.addRelation(null, new XWPFCommentsExRelation(), myXWPFCommentsExtendedDocument).getRelationship().getId();\n\n  return myXWPFCommentsExtendedDocument;\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument();\n \n  MyXWPFCommentsDocument myXWPFCommentsDocument = createCommentsDocument(document);\n  MyXWPFCommentsExtendedDocument myXWPFCommentsExtendedDocument = createCommentsExtendedDocument(document);\n \n  CTComments comments = myXWPFCommentsDocument.getComments();\n  CTCommentsEx commentsEx = myXWPFCommentsExtendedDocument.getCommentsEx();\n  \n  CTComment ctComment;\n  CTCommentEx ctCommentEx;\n  CTP ctP;\n  XWPFParagraph paragraph;\n  XWPFRun run;\n  BigInteger cId;\n  XmlCursor cursor;\n\n//first comment\n  cId = BigInteger.ZERO;\n  ctComment = comments.addNewComment();\n  ctComment.setAuthor(&quot;Axel Richter&quot;);\n  ctComment.setInitials(&quot;AR&quot;);\n  ctComment.setDate(new GregorianCalendar(Locale.US));\n  ctP = ctComment.addNewP();\n  cursor = ctP.newCursor();\n  cursor.toNextToken();\n  cursor.insertAttributeWithValue​(new QName(&quot;http://schemas.microsoft.com/office/word/2010/wordml&quot;, &quot;paraId&quot;), &quot;01020304&quot;);\n  cursor.dispose();\n  ctP.addNewR().addNewT().setStringValue(&quot;The first comment.&quot;);\n  ctComment.setId(cId);\n  \n  ctCommentEx = commentsEx.addNewCommentEx();\n  ctCommentEx.setParaId(new byte[]{1,2,3,4});\n  \n  paragraph = document.createParagraph();\n  paragraph.getCTP().addNewCommentRangeStart().setId(cId);\n\n  run = paragraph.createRun();\n  run.setText(&quot;Paragraph with the first comment.&quot;);\n\n  paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\n\n  paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\n\n//sub comment to first comment\n  cId = cId.add(BigInteger.ONE);\n  ctComment = comments.addNewComment();\n  ctComment.setAuthor(&quot;Axel Richter&quot;);\n  ctComment.setInitials(&quot;AR&quot;);\n  ctComment.setDate(new GregorianCalendar(Locale.US));\n  ctP = ctComment.addNewP();\n  cursor = ctP.newCursor();\n  cursor.toNextToken();\n  cursor.insertAttributeWithValue​(new QName(&quot;http://schemas.microsoft.com/office/word/2010/wordml&quot;, &quot;paraId&quot;), &quot;01020305&quot;);\n  cursor.dispose();\n  ctP.addNewR().addNewT().setStringValue(&quot;Sub comment to the first comment.&quot;);\n  ctComment.setId(cId);\n  \n  ctCommentEx = commentsEx.addNewCommentEx();\n  ctCommentEx.setParaId(new byte[]{1,2,3,5});\n  ctCommentEx.setParaIdParent(new byte[]{1,2,3,4});\n  \n  paragraph.getCTP().addNewCommentRangeStart().setId(cId);\n  paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\n  paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\n\n//paragraph without comment\n  paragraph = document.createParagraph();\n  run = paragraph.createRun();\n  run.setText(&quot;Paragraph without comment.&quot;);\n\n//second comment\n  cId = cId.add(BigInteger.ONE);\n\n  ctComment = comments.addNewComment();\n  ctComment.setAuthor(&quot;Axel Richter&quot;);\n  ctComment.setInitials(&quot;AR&quot;);\n  ctComment.setDate(new GregorianCalendar(Locale.US));\n  ctComment.addNewP().addNewR().addNewT().setStringValue(&quot;The second comment.&quot;);\n  ctComment.setId(cId);\n  \n // ctCommentEx = commentsEx.addNewCommentEx();\n\n  paragraph = document.createParagraph();\n  paragraph.getCTP().addNewCommentRangeStart().setId(cId);\n\n  run = paragraph.createRun();\n  run.setText(&quot;Paragraph with the second comment.&quot;);\n\n  paragraph.getCTP().addNewCommentRangeEnd().setId(cId);\n\n  paragraph.getCTP().addNewR().addNewCommentReference().setId(cId);\n\n//write document\n  FileOutputStream out = new FileOutputStream(&quot;CreateWordWithComments.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n\n//a wrapper class for the CommentsDocument /word/comments.xml in the *.docx ZIP archive\n private static class MyXWPFCommentsDocument extends POIXMLDocumentPart {\n\n  private CTComments comments;\n\n  private MyXWPFCommentsDocument(PackagePart part) throws Exception {\n   super(part);\n   comments = CommentsDocument.Factory.newInstance().addNewComments();\n  }\n\n  private CTComments getComments() {\n   return comments;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n   xmlOptions.setSaveSyntheticDocumentElement(new QName(CTComments.type.getName().getNamespaceURI(), &quot;comments&quot;));\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   comments.save(out, xmlOptions);\n   out.close();\n  }\n\n }\n \n//a wrapper class for the CommentsExDocument /word/commentsExtended.xml in the *.docx ZIP archive\n private static class MyXWPFCommentsExtendedDocument extends POIXMLDocumentPart {\n\n  private CTCommentsEx commentsEx;\n\n  private MyXWPFCommentsExtendedDocument(PackagePart part) throws Exception {\n   super(part);\n   commentsEx = CommentsExDocument.Factory.newInstance().addNewCommentsEx();\n  }\n\n  private CTCommentsEx getCommentsEx() {\n   return commentsEx;\n  }\n\n  @Override\n  protected void commit() throws IOException {\n   XmlOptions xmlOptions = new XmlOptions(DEFAULT_XML_OPTIONS);\n   xmlOptions.setSaveSyntheticDocumentElement(new QName(CTCommentsEx.type.getName().getNamespaceURI(), &quot;commentsExtended&quot;));\n   PackagePart part = getPackagePart();\n   OutputStream out = part.getOutputStream();\n   commentsEx.save(out, xmlOptions);\n   out.close();\n  }\n\n }\n \n //the XWPFRelation for /word/commentsExtended.xml\n private final static class XWPFCommentsExRelation extends POIXMLRelation {\n  private XWPFCommentsExRelation() {\n   super(\n    &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;, \n    &quot;http://schemas.microsoft.com/office/2011/relationships/commentsExtended&quot;, \n    &quot;/word/commentsExtended.xml&quot;);\n  }\n }\n\n}\n</code></pre>\n<p>This generates:</p>\n<p><a href=\"https://i.stack.imgur.com/7A70H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7A70H.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14125932,"reputation":17,"user_id":10205219,"display_name":"logesh ramasamy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71784799,"answer_count":1,"score":0,"last_activity_date":1649412947,"creation_date":1649158502,"question_id":71751045,"body_markdown":"I know that POI only supports XSD of 2007 but CommentsExtended.xml &amp; CommentsExtensible.xml were introduced in 2012. But I need to add this functionality in POI &amp; use it in our end. I have downloded XSD for both these files. But don&#39;t know where to get started. I know in general that POI uses Xmlbeans to generate low level classes for XSD Schemas. But don&#39;t know where to start &amp; how to proceed. Any help will be really appreciable. \r\n\r\n**First Attempt**\r\n\r\nAt first glance I tried adding creating CommentsExtended.xml package &amp; add relation to it using OPCPackage API and was successful. But issue seems to be that a new relationship file like commentsExtended.xml.rels is created instead I want to add entry for commentsExtended.xml in already existing document.xml.rels. \r\n**What am I doing wrong ? How to add realtion for commentsExtended file in the document.xml.rels itself ?** [Alex ritcher](https://stackoverflow.com/users/3915431/axel-richter)\r\n\r\n    public static void main(String[] args) throws Exception {       \r\n            createCommentsExtendedPackage();\r\n    }\r\n    \r\n    private static void createCommentsExtendedPackage() throws Exception {\r\n    \r\n            XWPFDocument document = new XWPFDocument();\r\n            PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\r\n            OPCPackage opcPackage = document.getPackage();\r\n            PackagePart part = opcPackage.createPart(partName, ContentTypes.PLAIN_OLD_XML);\r\n            OutputStream outputStream = part.getOutputStream();\r\n            outputStream.write(&quot;&lt;test&gt;A&lt;/test&gt;&quot;.getBytes());\r\n            outputStream.close();\r\n            \r\n            //Creates commentsExtended.xml.rels file which is not needed.\r\n            document.getPackagePart().addRelationship(partName, TargetMode.INTERNAL, PackageRelationshipTypes.CUSTOM_XML);\r\n            \r\n            //When trying to add relationShip in document getting NULL Pointer Exception\r\n            POIXMLDocumentPart documentPart = new POIXMLDocumentPart(part);\r\n            String rIdExtLink = &quot;rId&quot; + (document.getRelationParts().size()+1);\r\n            document.addRelation(rIdExtLink, documentPart);\r\n            \r\n            // Save document\r\n            ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n            document.write(outStream);\r\n            byte[] fileBytes = outStream.toByteArray();\r\n            FileUtil.write(&quot;CommentsExtended.docx&quot;, fileBytes); //no i18n\r\n        }\r\n\r\n**Second Attempt:**\r\nI am now able to add commentsExtended.xml relations in document.xml.rels using below code but now my value in commentsExtended.xml is being cleared upon save. How to retain value in commentsExtended.xml when value is set. **Any help is highly appreciable.**\r\n\r\n    private static void createCommentsExtendedPackage() throws Exception {\r\n    \r\n    \t\tXWPFDocument document = new XWPFDocument();\r\n    \t\tOPCPackage opcPackage = document.getPackage();\r\n    \t\t\r\n    \t\tPackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\r\n    \t\tPackagePart part = opcPackage.createPart(partName, ContentTypes.PLAIN_OLD_XML);\r\n    \t\t\r\n    \t\tclass CommentsExtendedRelation extends POIXMLRelation {\r\n                private CommentsExtendedRelation() {\r\n                    super(  &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;,\r\n                            &quot;http://schemas.microsoft.com/office/2011/relationships/commentsExtended&quot;,\r\n                            &quot;/word/commentsExtended.xml&quot;);\r\n                }\r\n            }\r\n    \t\t\r\n    \t\t//Adding relation in document.xml.rels\r\n            POIXMLDocumentPart documentPart = new POIXMLDocumentPart(part);\r\n            String rIdExtLink = &quot;rId&quot; + (document.getRelationParts().size()+1);\r\n            document.addRelation(rIdExtLink, new CommentsExtendedRelation() , documentPart);    \t\t\r\n    \t\t           \r\n            OutputStream outputStream = part.getOutputStream();\r\n    \t\toutputStream.write(&quot;&lt;test&gt;A&lt;/test&gt;&quot;.getBytes());\r\n    \t\toutputStream.close();\r\n    \t\t\r\n    \t\t// Create main document part\r\n    \t\tByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n    \t\tdocument.write(outStream);\r\n    \t\tbyte[] fileBytes = outStream.toByteArray();\r\n    \t\tFileUtil.write(&quot;CommentsExtendedOld.docx&quot;, fileBytes); //no i18n\r\n    \t}","title":"How to add Classes for CommentsExtended.xml &amp; CommentsExtensible.xml to POI 3.14","body":"<p>I know that POI only supports XSD of 2007 but CommentsExtended.xml &amp; CommentsExtensible.xml were introduced in 2012. But I need to add this functionality in POI &amp; use it in our end. I have downloded XSD for both these files. But don't know where to get started. I know in general that POI uses Xmlbeans to generate low level classes for XSD Schemas. But don't know where to start &amp; how to proceed. Any help will be really appreciable.</p>\n<p><strong>First Attempt</strong></p>\n<p>At first glance I tried adding creating CommentsExtended.xml package &amp; add relation to it using OPCPackage API and was successful. But issue seems to be that a new relationship file like commentsExtended.xml.rels is created instead I want to add entry for commentsExtended.xml in already existing document.xml.rels.\n<strong>What am I doing wrong ? How to add realtion for commentsExtended file in the document.xml.rels itself ?</strong> <a href=\"https://stackoverflow.com/users/3915431/axel-richter\">Alex ritcher</a></p>\n<pre><code>public static void main(String[] args) throws Exception {       \n        createCommentsExtendedPackage();\n}\n\nprivate static void createCommentsExtendedPackage() throws Exception {\n\n        XWPFDocument document = new XWPFDocument();\n        PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\n        OPCPackage opcPackage = document.getPackage();\n        PackagePart part = opcPackage.createPart(partName, ContentTypes.PLAIN_OLD_XML);\n        OutputStream outputStream = part.getOutputStream();\n        outputStream.write(&quot;&lt;test&gt;A&lt;/test&gt;&quot;.getBytes());\n        outputStream.close();\n        \n        //Creates commentsExtended.xml.rels file which is not needed.\n        document.getPackagePart().addRelationship(partName, TargetMode.INTERNAL, PackageRelationshipTypes.CUSTOM_XML);\n        \n        //When trying to add relationShip in document getting NULL Pointer Exception\n        POIXMLDocumentPart documentPart = new POIXMLDocumentPart(part);\n        String rIdExtLink = &quot;rId&quot; + (document.getRelationParts().size()+1);\n        document.addRelation(rIdExtLink, documentPart);\n        \n        // Save document\n        ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n        document.write(outStream);\n        byte[] fileBytes = outStream.toByteArray();\n        FileUtil.write(&quot;CommentsExtended.docx&quot;, fileBytes); //no i18n\n    }\n</code></pre>\n<p><strong>Second Attempt:</strong>\nI am now able to add commentsExtended.xml relations in document.xml.rels using below code but now my value in commentsExtended.xml is being cleared upon save. How to retain value in commentsExtended.xml when value is set. <strong>Any help is highly appreciable.</strong></p>\n<pre><code>private static void createCommentsExtendedPackage() throws Exception {\n\n        XWPFDocument document = new XWPFDocument();\n        OPCPackage opcPackage = document.getPackage();\n        \n        PackagePartName partName = PackagingURIHelper.createPartName(&quot;/word/commentsExtended.xml&quot;);\n        PackagePart part = opcPackage.createPart(partName, ContentTypes.PLAIN_OLD_XML);\n        \n        class CommentsExtendedRelation extends POIXMLRelation {\n            private CommentsExtendedRelation() {\n                super(  &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.commentsExtended+xml&quot;,\n                        &quot;http://schemas.microsoft.com/office/2011/relationships/commentsExtended&quot;,\n                        &quot;/word/commentsExtended.xml&quot;);\n            }\n        }\n        \n        //Adding relation in document.xml.rels\n        POIXMLDocumentPart documentPart = new POIXMLDocumentPart(part);\n        String rIdExtLink = &quot;rId&quot; + (document.getRelationParts().size()+1);\n        document.addRelation(rIdExtLink, new CommentsExtendedRelation() , documentPart);            \n                   \n        OutputStream outputStream = part.getOutputStream();\n        outputStream.write(&quot;&lt;test&gt;A&lt;/test&gt;&quot;.getBytes());\n        outputStream.close();\n        \n        // Create main document part\n        ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n        document.write(outStream);\n        byte[] fileBytes = outStream.toByteArray();\n        FileUtil.write(&quot;CommentsExtendedOld.docx&quot;, fileBytes); //no i18n\n    }\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","stored-procedures","testcontainers"],"comments":[{"owner":{"account_id":8172423,"reputation":17307,"user_id":6152400,"display_name":"P.Salmon"},"score":0,"creation_date":1649232221,"post_id":71762480,"comment_id":126820860,"body_markdown":"&#39;If you use the mysql client program ...you must redefine the delimiter &#39; - https://dev.mysql.com/doc/refman/8.0/en/stored-programs-defining.html ..you aren&#39;t using a mysql client program , have you tried without delimiters?","body":"&#39;If you use the mysql client program ...you must redefine the delimiter &#39; - <a href=\"https://dev.mysql.com/doc/refman/8.0/en/stored-programs-defining.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/stored-programs-defining.htm&zwnj;&#8203;l</a> ..you aren&#39;t using a mysql client program , have you tried without delimiters?"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1649236907,"post_id":71762480,"comment_id":126822608,"body_markdown":"`DELIMITER` is **not** SQL statement but client command. It shouldn&#39;t present in your script. Read the manual for your language and MySQL accessing library/framework for correct delimiter changing in the batch script.","body":"<code>DELIMITER</code> is <b>not</b> SQL statement but client command. It shouldn&#39;t present in your script. Read the manual for your language and MySQL accessing library/framework for correct delimiter changing in the batch script."},{"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"score":0,"creation_date":1649243678,"post_id":71762480,"comment_id":126825185,"body_markdown":"yes I have tried without and its not working. i&#39;m not sure r2dbc has that delimeter functionality.","body":"yes I have tried without and its not working. i&#39;m not sure r2dbc has that delimeter functionality."}],"answers":[{"tags":[],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649412617,"creation_date":1649412617,"answer_id":71795222,"question_id":71762480,"body_markdown":"So the best way is to copy the sql file to the container and have it executed in the initialization of the container with /docker-entrypoint-initdb.d. This is the recommendation by sql team. So this is how to achieve it.\r\n\r\n     private static final MySQLContainer database = new MySQLContainer(&quot;mysql:8&quot;);\r\n        static {\r\n            try {\r\n                database.withCopyFileToContainer(MountableFile.forClasspathResource(&quot;schema2.sql&quot;), &quot;/docker-entrypoint-initdb.d/schema.sql&quot;);\r\n                database.start();\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }       \r\n        }","title":"fixing Mysql Delimiter syntax error in testcontainers init script","body":"<p>So the best way is to copy the sql file to the container and have it executed in the initialization of the container with /docker-entrypoint-initdb.d. This is the recommendation by sql team. So this is how to achieve it.</p>\n<pre><code> private static final MySQLContainer database = new MySQLContainer(&quot;mysql:8&quot;);\n    static {\n        try {\n            database.withCopyFileToContainer(MountableFile.forClasspathResource(&quot;schema2.sql&quot;), &quot;/docker-entrypoint-initdb.d/schema.sql&quot;);\n            database.start();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }       \n    }\n</code></pre>\n"}],"owner":{"account_id":5253566,"reputation":297,"user_id":4197031,"accept_rate":67,"display_name":"martin kimani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71795222,"answer_count":1,"score":1,"last_activity_date":1649412617,"creation_date":1649229203,"question_id":71762480,"body_markdown":"I want to test a stored procedure with testcontainers. So I am initializing my container with an SQL script containing the definition of the stored procedure but I am getting this syntax error\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;initializer&#39; defined in com.api.bankApi.services.TransactionServiceTest$TestConfig: Invocation of init method failed; nested exception is org.springframework.data.r2dbc.connectionfactory.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of class path resource [schema.sql]: DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) ) exitSub:BEGIN DECLARE EXIT HANDLER for SQLEXCEPTION BEGIN DECLARE errNom INT UNSIGNED DEFAULT 0; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1064] [42000] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am&#39; at line 1\r\n    Caused by: org.springframework.data.r2dbc.connectionfactory.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of class path resource [schema.sql]: DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) ) exitSub:BEGIN DECLARE EXIT HANDLER for SQLEXCEPTION BEGIN DECLARE errNom INT UNSIGNED DEFAULT 0; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1064] [42000] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am&#39; at line 1\r\n    Caused by: io.r2dbc.spi.R2dbcBadGrammarException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am&#39; at line 1\r\n\r\nfrom mysql documentation the delimiter syntax seems to be correct I am wondering what could be the issue\r\n\r\nthis is the initializtion code \r\n\r\n    @TestConfiguration\r\n        static class TestConfig {\r\n            @Bean\r\n            public ConnectionFactoryInitializer initializer() {\r\n                ConnectionFactoryOptions options = MySQLR2DBCDatabaseContainer.getOptions(database);\r\n    \r\n                ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\r\n                initializer.setConnectionFactory(ConnectionFactories.get(options));\r\n    \r\n                CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\r\n                populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\r\n                populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;data.sql&quot;)));\r\n                initializer.setDatabasePopulator(populator);\r\n    \r\n                return initializer;\r\n            }\r\n        }\r\n\r\nNOTE: when I remove the stored procedure code the script runs ok. and the stored procedure is running fine in my local database as well\r\n\r\nscript\r\n\r\n    DROP TABLE IF EXISTS `bank_account`;\r\n    \r\n    CREATE TABLE `bank_account` (\r\n      `id` int NOT NULL AUTO_INCREMENT,\r\n      `balance` decimal(17,2) DEFAULT NULL,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n    \r\n    \r\n    DROP TABLE IF EXISTS `transactions`;\r\n    \r\n    CREATE TABLE `transactions` (\r\n      `id` int NOT NULL AUTO_INCREMENT,\r\n      `transaction_type` varchar(255) DEFAULT NULL,\r\n      `reference` varchar(255) DEFAULT NULL,\r\n      `amount` decimal(17,2) DEFAULT NULL,\r\n      `creation_date` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\r\n    \r\n    DROP TABLE IF EXISTS `error_log`;\r\n    \r\n    CREATE TABLE `error_log` (\r\n      `id` int unsigned NOT NULL AUTO_INCREMENT,\r\n      `date_in` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n      `corrected_by` varchar(255) NOT NULL DEFAULT &#39;&#39;,\r\n      `proc_name` varchar(50) NOT NULL DEFAULT &#39;&#39;,\r\n      `node_id` int NOT NULL DEFAULT &#39;-1&#39;,\r\n      `err_no` int NOT NULL DEFAULT &#39;0&#39;,\r\n      `err_text` varchar(255) DEFAULT &#39;&#39;,\r\n      `row_no` int NOT NULL DEFAULT &#39;0&#39;,\r\n      `value1` varchar(255) DEFAULT &#39;&#39;,\r\n      `value2` varchar(255) DEFAULT &#39;&#39;,\r\n      `text1` varchar(255) DEFAULT &#39;&#39;,\r\n      `text2` varchar(255) DEFAULT &#39;&#39;,\r\n      `long_text` mediumtext,\r\n      PRIMARY KEY (`id`) USING BTREE,\r\n      KEY `err_log_time_idx` (`date_in`) USING BTREE\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 ROW_FORMAT=COMPACT;\r\n    \r\n    DELIMITER $$\r\n    \r\n    CREATE  PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) )\r\n    exitSub:BEGIN\r\n     \r\n    \t\tDECLARE EXIT HANDLER for SQLEXCEPTION\r\n    \t\tBEGIN\r\n    \t\t  DECLARE errNom INT UNSIGNED DEFAULT 0;\r\n    \t\t  DECLARE errText VARCHAR (50);\r\n    \t\t  GET DIAGNOSTICS CONDITION 1 errText = MESSAGE_TEXT, errNom = MYSQL_ERRNO;\r\n    \t\t  INSERT INTO error_log(proc_name,err_no,err_text,row_no,value1,long_text)\r\n    \t\t\t   VALUES (&#39;make_transaction&#39;,errNom,errText,rowNo,concat(&#39;trans_id:&#39;,trans_id),&#39;EXCEPTION&#39;);\r\n    \t\tEND;\r\n            if v_amount &lt; 0 then select &#39;negative amounts not allowed&#39; as description; LEAVE exitSub; end if;\r\n            if not exists(select `reference` from transactions where `reference`=trans_id)\tthen\r\n    \t\t\tinsert into transactions (transaction_type,amount,`reference`)\r\n                values(trans_type,v_amount,trans_id);\r\n                update bank_account set balance = if(trans_type=&#39;DEPOSIT&#39;,balance+v_amount,balance-v_amount);\r\n                select &#39;success&#39; as description;\r\n                LEAVE exitSub;\r\n            end if;\r\n            select &#39;dupicate transaction&#39; as description;\r\n    \r\n    END $$\r\n    DELIMITER ;\r\n\r\nEDIT:\r\n\r\nafter research I used testcontainers initscript its now executing without breaking but now it seems all other statements are being executed except creation of the stored procedure. because when i run the tests I get PROCEDURE does not exist error for tests that execute the procedure.\r\n\r\n    private static final MySQLContainer database = new MySQLContainer(&quot;mysql:8&quot;);\r\n        static {\r\n            try {\r\n                final String script = Resources.toString(Resources.getResource(&quot;schema.sql&quot;), Charsets.UTF_8);\r\n                database.start();\r\n                ScriptUtils.executeDatabaseScript(new JdbcDatabaseDelegate(database,&quot;&quot;), &quot;schema.sql&quot;, script, false, false, DEFAULT_COMMENT_PREFIX, \r\n                        DEFAULT_STATEMENT_SEPARATOR, &quot;$$&quot;, &quot;$$$&quot;);\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(TransactionServiceTest.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\nfailed tests errors\r\n\r\n    TransactionServiceTest.depositFundsSuccess expectation &quot;assertNext&quot; failed (expected: onNext();\r\n    actual:onError(org.springframework.r2dbc.BadSqlGrammarException: \r\n    executeMany; bad SQL grammar [call make_transaction(?,?,?)]; \r\n    nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1305] [42000] PROCEDURE test.make_transaction does not exist))\r\n\r\n","title":"fixing Mysql Delimiter syntax error in testcontainers init script","body":"<p>I want to test a stored procedure with testcontainers. So I am initializing my container with an SQL script containing the definition of the stored procedure but I am getting this syntax error</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initializer' defined in com.api.bankApi.services.TransactionServiceTest$TestConfig: Invocation of init method failed; nested exception is org.springframework.data.r2dbc.connectionfactory.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of class path resource [schema.sql]: DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) ) exitSub:BEGIN DECLARE EXIT HANDLER for SQLEXCEPTION BEGIN DECLARE errNom INT UNSIGNED DEFAULT 0; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1064] [42000] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am' at line 1\nCaused by: org.springframework.data.r2dbc.connectionfactory.init.ScriptStatementFailedException: Failed to execute SQL script statement #7 of class path resource [schema.sql]: DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) ) exitSub:BEGIN DECLARE EXIT HANDLER for SQLEXCEPTION BEGIN DECLARE errNom INT UNSIGNED DEFAULT 0; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1064] [42000] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am' at line 1\nCaused by: io.r2dbc.spi.R2dbcBadGrammarException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER $$ CREATE PROCEDURE make_transaction(IN trans_type varchar(45),IN v_am' at line 1\n</code></pre>\n<p>from mysql documentation the delimiter syntax seems to be correct I am wondering what could be the issue</p>\n<p>this is the initializtion code</p>\n<pre><code>@TestConfiguration\n    static class TestConfig {\n        @Bean\n        public ConnectionFactoryInitializer initializer() {\n            ConnectionFactoryOptions options = MySQLR2DBCDatabaseContainer.getOptions(database);\n\n            ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\n            initializer.setConnectionFactory(ConnectionFactories.get(options));\n\n            CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\n            populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\n            populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;data.sql&quot;)));\n            initializer.setDatabasePopulator(populator);\n\n            return initializer;\n        }\n    }\n</code></pre>\n<p>NOTE: when I remove the stored procedure code the script runs ok. and the stored procedure is running fine in my local database as well</p>\n<p>script</p>\n<pre><code>DROP TABLE IF EXISTS `bank_account`;\n\nCREATE TABLE `bank_account` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `balance` decimal(17,2) DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\n\nDROP TABLE IF EXISTS `transactions`;\n\nCREATE TABLE `transactions` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `transaction_type` varchar(255) DEFAULT NULL,\n  `reference` varchar(255) DEFAULT NULL,\n  `amount` decimal(17,2) DEFAULT NULL,\n  `creation_date` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;\n\nDROP TABLE IF EXISTS `error_log`;\n\nCREATE TABLE `error_log` (\n  `id` int unsigned NOT NULL AUTO_INCREMENT,\n  `date_in` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `corrected_by` varchar(255) NOT NULL DEFAULT '',\n  `proc_name` varchar(50) NOT NULL DEFAULT '',\n  `node_id` int NOT NULL DEFAULT '-1',\n  `err_no` int NOT NULL DEFAULT '0',\n  `err_text` varchar(255) DEFAULT '',\n  `row_no` int NOT NULL DEFAULT '0',\n  `value1` varchar(255) DEFAULT '',\n  `value2` varchar(255) DEFAULT '',\n  `text1` varchar(255) DEFAULT '',\n  `text2` varchar(255) DEFAULT '',\n  `long_text` mediumtext,\n  PRIMARY KEY (`id`) USING BTREE,\n  KEY `err_log_time_idx` (`date_in`) USING BTREE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3 ROW_FORMAT=COMPACT;\n\nDELIMITER $$\n\nCREATE  PROCEDURE make_transaction(IN trans_type varchar(45),IN v_amount decimal(17,2),IN trans_id varchar(255) )\nexitSub:BEGIN\n \n        DECLARE EXIT HANDLER for SQLEXCEPTION\n        BEGIN\n          DECLARE errNom INT UNSIGNED DEFAULT 0;\n          DECLARE errText VARCHAR (50);\n          GET DIAGNOSTICS CONDITION 1 errText = MESSAGE_TEXT, errNom = MYSQL_ERRNO;\n          INSERT INTO error_log(proc_name,err_no,err_text,row_no,value1,long_text)\n               VALUES ('make_transaction',errNom,errText,rowNo,concat('trans_id:',trans_id),'EXCEPTION');\n        END;\n        if v_amount &lt; 0 then select 'negative amounts not allowed' as description; LEAVE exitSub; end if;\n        if not exists(select `reference` from transactions where `reference`=trans_id)  then\n            insert into transactions (transaction_type,amount,`reference`)\n            values(trans_type,v_amount,trans_id);\n            update bank_account set balance = if(trans_type='DEPOSIT',balance+v_amount,balance-v_amount);\n            select 'success' as description;\n            LEAVE exitSub;\n        end if;\n        select 'dupicate transaction' as description;\n\nEND $$\nDELIMITER ;\n</code></pre>\n<p>EDIT:</p>\n<p>after research I used testcontainers initscript its now executing without breaking but now it seems all other statements are being executed except creation of the stored procedure. because when i run the tests I get PROCEDURE does not exist error for tests that execute the procedure.</p>\n<pre><code>private static final MySQLContainer database = new MySQLContainer(&quot;mysql:8&quot;);\n    static {\n        try {\n            final String script = Resources.toString(Resources.getResource(&quot;schema.sql&quot;), Charsets.UTF_8);\n            database.start();\n            ScriptUtils.executeDatabaseScript(new JdbcDatabaseDelegate(database,&quot;&quot;), &quot;schema.sql&quot;, script, false, false, DEFAULT_COMMENT_PREFIX, \n                    DEFAULT_STATEMENT_SEPARATOR, &quot;$$&quot;, &quot;$$$&quot;);\n        } catch (Exception ex) {\n            Logger.getLogger(TransactionServiceTest.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n</code></pre>\n<p>failed tests errors</p>\n<pre><code>TransactionServiceTest.depositFundsSuccess expectation &quot;assertNext&quot; failed (expected: onNext();\nactual:onError(org.springframework.r2dbc.BadSqlGrammarException: \nexecuteMany; bad SQL grammar [call make_transaction(?,?,?)]; \nnested exception is io.r2dbc.spi.R2dbcBadGrammarException: [1305] [42000] PROCEDURE test.make_transaction does not exist))\n</code></pre>\n"},{"tags":["java","ide"],"comments":[{"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"score":0,"creation_date":1268896183,"post_id":2468059,"comment_id":2458010,"body_markdown":"You have to elaborate more. What is the context? What are you trying to achieve?","body":"You have to elaborate more. What is the context? What are you trying to achieve?"},{"owner":{"account_id":39033,"reputation":475,"user_id":112495,"accept_rate":57,"display_name":"Dipak Chaudhari"},"score":0,"creation_date":1268896450,"post_id":2468059,"comment_id":2458028,"body_markdown":"I want to execute some additional code in case its running inside Eclipse IDE","body":"I want to execute some additional code in case its running inside Eclipse IDE"},{"owner":{"account_id":21712,"reputation":4129,"user_id":53009,"accept_rate":80,"display_name":"chburd"},"score":2,"creation_date":1268909856,"post_id":2468059,"comment_id":2459151,"body_markdown":"warning ! bad practice detected !","body":"warning ! bad practice detected !"}],"answers":[{"tags":[],"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1268896547,"creation_date":1268896547,"answer_id":2468091,"question_id":2468059,"body_markdown":"I am not aware of a generic way to get this kind of information.\r\n\r\nOne suggestion:\r\n\r\nWhen you start a Java program (or a web server) inside Tomcat, simply add an argument that will indicate that this program is launched by Eclipse.\r\n\r\nYou can do that by opening the &quot;Open Run Dialog&quot; (&quot;Run&quot; menu), then select your type of application and add in the &quot;Arguments&quot; tab a `-DrunInEclipse=true`.\r\n\r\nIn your Java code, you can check the value of the property:\r\n\r\n    String inEclipseStr = System.getProperty(&quot;runInEclipse&quot;);\r\n    boolean inEclipse = &quot;true&quot;.equalsIgnoreCase(inEclipseStr);\r\n\r\nThis way, if the program is not running inside Eclipse (or unfortunately if you forgot to set the property) the property will be `null` and then the boolean `inEclipse` will be equal to false.","title":"How to detect that code is running inside eclipse IDE","body":"<p>I am not aware of a generic way to get this kind of information.</p>\n\n<p>One suggestion:</p>\n\n<p>When you start a Java program (or a web server) inside Tomcat, simply add an argument that will indicate that this program is launched by Eclipse.</p>\n\n<p>You can do that by opening the \"Open Run Dialog\" (\"Run\" menu), then select your type of application and add in the \"Arguments\" tab a <code>-DrunInEclipse=true</code>.</p>\n\n<p>In your Java code, you can check the value of the property:</p>\n\n<pre><code>String inEclipseStr = System.getProperty(\"runInEclipse\");\nboolean inEclipse = \"true\".equalsIgnoreCase(inEclipseStr);\n</code></pre>\n\n<p>This way, if the program is not running inside Eclipse (or unfortunately if you forgot to set the property) the property will be <code>null</code> and then the boolean <code>inEclipse</code> will be equal to false.</p>\n"},{"tags":[],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268900453,"creation_date":1268900453,"answer_id":2468313,"question_id":2468059,"body_markdown":"I don&#39;t think there is any way to do this.  But what I would suggest is just a command line argument such as &#39;debug&#39;.  Then in your main method just do \r\n\r\n    if (args.length &gt; 0 &amp;&amp; args[0].equalsIgnoreCase(&quot;debug&quot;)) {\r\n      // do whatever extra work you require here or set a flag for the rest of the code\r\n    }\r\n\r\nThis way you can also get your extra code to run whenever you want just by specifiying the debug parameter but under normal conditions it will never execute.","title":"How to detect that code is running inside eclipse IDE","body":"<p>I don't think there is any way to do this.  But what I would suggest is just a command line argument such as 'debug'.  Then in your main method just do </p>\n\n<pre><code>if (args.length &gt; 0 &amp;&amp; args[0].equalsIgnoreCase(\"debug\")) {\n  // do whatever extra work you require here or set a flag for the rest of the code\n}\n</code></pre>\n\n<p>This way you can also get your extra code to run whenever you want just by specifiying the debug parameter but under normal conditions it will never execute.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268902401,"creation_date":1268902401,"answer_id":2468451,"question_id":2468059,"body_markdown":"Actually the code is not being run inside Eclipse, but in a separate Java process started by Eclipse, and there is per default nothing being done by Eclipse to make it any different than any other invocation of your program.\r\n\r\nIs the thing you want to know, if your program is being run under a debugger?  If so, you cannot say for certain.  You CAN, however, inspect the arguments used to invoke your program and see if there is anything in there you do not like.","title":"How to detect that code is running inside eclipse IDE","body":"<p>Actually the code is not being run inside Eclipse, but in a separate Java process started by Eclipse, and there is per default nothing being done by Eclipse to make it any different than any other invocation of your program.</p>\n\n<p>Is the thing you want to know, if your program is being run under a debugger?  If so, you cannot say for certain.  You CAN, however, inspect the arguments used to invoke your program and see if there is anything in there you do not like.</p>\n"},{"tags":[],"owner":{"account_id":2296458,"reputation":1,"user_id":2017775,"display_name":"Dirk"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1359368299,"creation_date":1359368299,"answer_id":14559838,"question_id":2468059,"body_markdown":"You may try something like this:\r\n\r\n    if (ClassLoader.getSystemResource(&quot;org/eclipse/jdt/core/BindingKey.class&quot;)!=null){ \r\n        System.out.println(&quot;Running within Eclipse!!!&quot;); \r\n    } else {\r\n        System.out.println(&quot;Running outside Eclipse!!!&quot;);\r\n    }\r\n","title":"How to detect that code is running inside eclipse IDE","body":"<p>You may try something like this:</p>\n\n<pre><code>if (ClassLoader.getSystemResource(\"org/eclipse/jdt/core/BindingKey.class\")!=null){ \n    System.out.println(\"Running within Eclipse!!!\"); \n} else {\n    System.out.println(\"Running outside Eclipse!!!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1300215,"reputation":7638,"user_id":1250303,"display_name":"Java42"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1364048788,"creation_date":1364048788,"answer_id":15587859,"question_id":2468059,"body_markdown":"1) Create a helper method like:\r\n\r\n\r\n    public boolean isDevelopmentEnvironment() {\r\n        boolean isEclipse = true;\r\n        if (System.getenv(&quot;eclipse42&quot;) == null) {\r\n            isEclipse = false;\r\n        }\r\n        return isEclipse;\r\n    }\r\n\r\n\r\n2) Add an environment variable to your launch configuration:\r\n\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n3) Usage example:\r\n\r\n\r\n    if (isDevelopmentEnvironment()) {\r\n        // Do bla_yada_bla because the IDE launched this app\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vCcZ8.png\r\n  [2]: http://i.stack.imgur.com/qdXCf.png","title":"How to detect that code is running inside eclipse IDE","body":"<p>1) Create a helper method like:</p>\n\n<pre><code>public boolean isDevelopmentEnvironment() {\n    boolean isEclipse = true;\n    if (System.getenv(\"eclipse42\") == null) {\n        isEclipse = false;\n    }\n    return isEclipse;\n}\n</code></pre>\n\n<p>2) Add an environment variable to your launch configuration:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vCcZ8.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/qdXCf.png\" alt=\"enter image description here\"></p>\n\n<p>3) Usage example:</p>\n\n<pre><code>if (isDevelopmentEnvironment()) {\n    // Do bla_yada_bla because the IDE launched this app\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195966,"reputation":15172,"user_id":439171,"accept_rate":75,"display_name":"Italo Borssatto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407406747,"creation_date":1380920113,"answer_id":19190632,"question_id":2468059,"body_markdown":"If your workspace matches some pattern like &quot;/home/user/workspace/Project&quot; you can use the code below:\r\n\r\n\r\n\tBoolean desenv = null;\r\n\r\n\tboolean isDevelopment() {\r\n\t\tif (desenv != null) return desenv;\r\n\r\n\t\ttry {\r\n\t\t\tdesenv = new File(&quot;.&quot;).getCanonicalPath().contains(&quot;workspace&quot;);\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn desenv;\r\n\t}","title":"How to detect that code is running inside eclipse IDE","body":"<p>If your workspace matches some pattern like \"/home/user/workspace/Project\" you can use the code below:</p>\n\n<pre><code>Boolean desenv = null;\n\nboolean isDevelopment() {\n    if (desenv != null) return desenv;\n\n    try {\n        desenv = new File(\".\").getCanonicalPath().contains(\"workspace\");\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return desenv;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453163084,"creation_date":1453163084,"answer_id":34866518,"question_id":2468059,"body_markdown":"A more generic and precise way, that can be used on any IDE would be loop at:  \r\n\r\n`ManagementFactory.getRuntimeMXBean().getInputArguments()`\r\n\r\nlooking for &quot;-Xdebug&quot; || (starting with) &quot;-agentlib:jdwp=&quot;.\r\n\r\nI came with this from @saugata comment [here](https://stackoverflow.com/a/2468451/1422630).\r\n\r\nThis is excellent if you want to throw a conditional exception preventing the application from simply exiting. Use a boolean like &quot;ideWait&quot; and add it to Eclipse watch expressions as ideWait=false, so whenever you stop at that throw, and &quot;drop to frame&quot; you can continue debugging happily (I mean it!)","title":"How to detect that code is running inside eclipse IDE","body":"<p>A more generic and precise way, that can be used on any IDE would be loop at:  </p>\n\n<p><code>ManagementFactory.getRuntimeMXBean().getInputArguments()</code></p>\n\n<p>looking for \"-Xdebug\" || (starting with) \"-agentlib:jdwp=\".</p>\n\n<p>I came with this from @saugata comment <a href=\"https://stackoverflow.com/a/2468451/1422630\">here</a>.</p>\n\n<p>This is excellent if you want to throw a conditional exception preventing the application from simply exiting. Use a boolean like \"ideWait\" and add it to Eclipse watch expressions as ideWait=false, so whenever you stop at that throw, and \"drop to frame\" you can continue debugging happily (I mean it!)</p>\n"},{"tags":[],"owner":{"account_id":3431913,"reputation":10478,"user_id":2876079,"accept_rate":71,"display_name":"Stefan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1462114474,"creation_date":1462114474,"answer_id":36968018,"question_id":2468059,"body_markdown":"This might work if your alternative execution work flow provides a different set of dependencies:\r\n\r\n    boolean isRunningInEclipe = false;\r\n    try {\r\n    \tWorkbench.getInstance();\r\n    \tisRunningInEclipe = true;\r\n    } catch (NoClassDefFoundError error) {\r\n    \t//not running in Eclipse that would provide the Workbench class\r\n    } ","title":"How to detect that code is running inside eclipse IDE","body":"<p>This might work if your alternative execution work flow provides a different set of dependencies:</p>\n\n<pre><code>boolean isRunningInEclipe = false;\ntry {\n    Workbench.getInstance();\n    isRunningInEclipe = true;\n} catch (NoClassDefFoundError error) {\n    //not running in Eclipse that would provide the Workbench class\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506351809,"creation_date":1506351809,"answer_id":46408445,"question_id":2468059,"body_markdown":"You could detect if you&#39;re inside a JAR or not, as per https://stackoverflow.com/questions/482560/can-you-tell-on-runtime-if-youre-running-java-from-within-a-jar\r\n\r\nEclipse will run your app from the `classes/` dir, whereas most of your end users will be running the app from a JAR.","title":"How to detect that code is running inside eclipse IDE","body":"<p>You could detect if you're inside a JAR or not, as per <a href=\"https://stackoverflow.com/questions/482560/can-you-tell-on-runtime-if-youre-running-java-from-within-a-jar\">Can you tell on runtime if you&#39;re running java from within a jar?</a></p>\n\n<p>Eclipse will run your app from the <code>classes/</code> dir, whereas most of your end users will be running the app from a JAR.</p>\n"},{"tags":[],"owner":{"account_id":362118,"reputation":532,"user_id":705147,"display_name":"cbaldan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633907149,"creation_date":1515680783,"answer_id":48209330,"question_id":2468059,"body_markdown":"Although I agree that having the code detecting a single IDE as the dev env is not an optimal solution, the following code works.\r\n\r\nLike others proposed, using a flag at runtime is better.\r\n\r\n    public static boolean isEclipse() {\r\n        boolean isEclipse = System.getProperty(&quot;java.class.path&quot;).toLowerCase().contains(&quot;eclipse&quot;);\r\n        return isEclipse;\r\n    }\r\n\r\n","title":"How to detect that code is running inside eclipse IDE","body":"<p>Although I agree that having the code detecting a single IDE as the dev env is not an optimal solution, the following code works.</p>\n<p>Like others proposed, using a flag at runtime is better.</p>\n<pre><code>public static boolean isEclipse() {\n    boolean isEclipse = System.getProperty(&quot;java.class.path&quot;).toLowerCase().contains(&quot;eclipse&quot;);\n    return isEclipse;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4941567,"reputation":76,"user_id":3978127,"display_name":"Display Name"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649412137,"creation_date":1649412137,"answer_id":71795120,"question_id":2468059,"body_markdown":"    System.out.println(&quot;Is my parent eclipse[.exe]? &quot; + \r\n        ProcessHandle.current()\r\n                     .parent()\r\n                     .flatMap(parent -&gt; parent.info().command())                                                                       \r\n                     .orElse(&quot;&quot;)\r\n                     .matches(&quot;^.*eclipse(\\\\.exe)?$&quot;));","title":"How to detect that code is running inside eclipse IDE","body":"<pre><code>System.out.println(&quot;Is my parent eclipse[.exe]? &quot; + \n    ProcessHandle.current()\n                 .parent()\n                 .flatMap(parent -&gt; parent.info().command())                                                                       \n                 .orElse(&quot;&quot;)\n                 .matches(&quot;^.*eclipse(\\\\.exe)?$&quot;));\n</code></pre>\n"}],"owner":{"account_id":39033,"reputation":475,"user_id":112495,"accept_rate":57,"display_name":"Dipak Chaudhari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15243,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":11,"score":31,"last_activity_date":1649412137,"creation_date":1268895985,"question_id":2468059,"body_markdown":"How to  detect that code is running inside eclipse IDE","title":"How to detect that code is running inside eclipse IDE","body":"<p>How to  detect that code is running inside eclipse IDE</p>\n"},{"tags":["java","spring"],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649411968,"creation_date":1649411968,"question_id":71795079,"body_markdown":"I&#39;m trying to test a GET endpoint with `@Context Principal principal` but this endpoint has this line of code in the beginning of the endpoint \r\n\r\n`String principalName = UserUtils.getPrincipalName(principal);`\r\n\r\n&gt; ERROR: org.springframework.web.server.ResponseStatusException: 401\r\n&gt; UNAUTHORIZED &quot;Invalid user id&quot;\r\n\r\nThis is a h2 test case with no data when I call the GET. How do I pass the principal into the endpoint?","title":"How to test endpoint with Principal","body":"<p>I'm trying to test a GET endpoint with <code>@Context Principal principal</code> but this endpoint has this line of code in the beginning of the endpoint</p>\n<p><code>String principalName = UserUtils.getPrincipalName(principal);</code></p>\n<blockquote>\n<p>ERROR: org.springframework.web.server.ResponseStatusException: 401\nUNAUTHORIZED &quot;Invalid user id&quot;</p>\n</blockquote>\n<p>This is a h2 test case with no data when I call the GET. How do I pass the principal into the endpoint?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4175409,"reputation":82683,"user_id":3422102,"accept_rate":100,"display_name":"David C. Rankin"},"score":0,"creation_date":1649127267,"post_id":71745642,"comment_id":126791436,"body_markdown":"In `opt_A()` after `sourceFile &gt;&gt; taxPayers;` you making one pass over `taxPayerr` but only comparing `taxPayers.salesstaff(i)` to `salesStaff[6]` (which only has **five** valid indexes `0 - 5`). So you are invoking undefined behavior by referencing `salesStaff` beyond your data. (out of bounds)","body":"In <code>opt_A()</code> after <code>sourceFile &gt;&gt; taxPayers;</code> you making one pass over <code>taxPayerr</code> but only comparing <code>taxPayers.salesstaff(i)</code> to <code>salesStaff[6]</code> (which only has <b>five</b> valid indexes <code>0 - 5</code>). So you are invoking undefined behavior by referencing <code>salesStaff</code> beyond your data. (out of bounds)"},{"owner":{"display_name":"user18668826"},"score":0,"creation_date":1649128410,"post_id":71745642,"comment_id":126791575,"body_markdown":"So what should i do to get the wanted output?","body":"So what should i do to get the wanted output?"},{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":1,"creation_date":1649128638,"post_id":71745642,"comment_id":126791603,"body_markdown":"@Happyman Only you can answer that, because you&#39;re the one who wrote `salesStaff[6]` with no documentation about what it&#39;s supposed to do. That array index does not exist. If you were expecting the _last_ element of the array, it&#39;s `salesStaff[5]` because arrays are indexed starting from zero. If you&#39;re not convinced, write down the numbers 0 through to 5 and count them.","body":"@Happyman Only you can answer that, because you&#39;re the one who wrote <code>salesStaff[6]</code> with no documentation about what it&#39;s supposed to do. That array index does not exist. If you were expecting the <i>last</i> element of the array, it&#39;s <code>salesStaff[5]</code> because arrays are indexed starting from zero. If you&#39;re not convinced, write down the numbers 0 through to 5 and count them."},{"owner":{"display_name":"user18668826"},"score":0,"creation_date":1649130579,"post_id":71745642,"comment_id":126791850,"body_markdown":"Im trying to compare taxPayers.salesstaff(i) and salesStaff[] array together. Then finding which salesstaff data doesnt contain a element from the salesStaff[] array. But also allowing blank data points as valid. But i don&#39;t know how to do that.","body":"Im trying to compare taxPayers.salesstaff(i) and salesStaff[] array together. Then finding which salesstaff data doesnt contain a element from the salesStaff[] array. But also allowing blank data points as valid. But i don&#39;t know how to do that."}],"answers":[{"tags":[],"owner":{"account_id":4175409,"reputation":82683,"user_id":3422102,"accept_rate":100,"display_name":"David C. Rankin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649133133,"creation_date":1649132743,"answer_id":71746293,"question_id":71745642,"body_markdown":"You have a more complex comparison than you are doing. You have two primary conditions:\r\n\r\n 1. Is `taxPayers.salesstaff(i)` empty? (if so, you are done); or\r\n 2. Does each of the `taxPayers.salesstaff(i)` components, e.g. `staff1:staff2:...` appear in the `salesStaff[]` array?\r\n\r\nIt is this second condition that is a *many-to-many* relationship that has many subconditions. In order to make this determination, you must separate the `taxPayers.salesstaff(i)` entry on `&#39;:&#39;` (much like you did input from your data file on `&#39;,&#39;`). Then you must loop over each entry and compare the entry against each in the `salesStaff[]` array. If ONE of the entries in `taxPayers.salesstaff(i)` does not match ANY of the entries in the `salesStaff[]` array. then you have a bad entry.\r\n\r\nYou can use a couple of `bool` flags to help you work through the checks. One way to do that is:\r\n\r\n```c++\r\nvoid opt_A()\r\n{\r\n    std::ifstream sourceFile(ffname);\r\n\r\n    if (!sourceFile.is_open())\r\n    {\r\n        cout &lt;&lt; &quot;No file found, please check for files again&quot; &lt;&lt; endl;\r\n        return;\r\n    }\r\n\r\n    string salesStaff[] = { &quot;Brad&quot;, &quot;Janet&quot;, &quot;Dr Scott&quot;, \r\n                            &quot;Rifraf&quot;, &quot;Nell&quot;, &quot;Eddie&quot; };\r\n    size_t nsstaff = sizeof salesStaff / sizeof *salesStaff;\r\n    TaxPayers taxPayers{};\r\n    sourceFile &gt;&gt; taxPayers;\r\n    int x = 0;\r\n\r\n    /* output list heading before loop */\r\n    cout &lt;&lt; &quot;Audit Report&quot; &lt;&lt; &#39;\\n&#39; &lt;&lt;\r\n            &quot;-------------------&quot; &lt;&lt; &#39;\\n&#39; &lt;&lt;\r\n            &quot;File: &quot; &lt;&lt; ffname &lt;&lt; &quot;\\n\\n&quot;;\r\n    \r\n    /* loop over each taxpayer */\r\n    for (size_t i = 0; i &lt; taxPayers.taxPayers.size(); ++i)\r\n    {\r\n        bool nomatch = false;   /* flag, no match for non-empty entry */\r\n        \r\n        /* only check salesstaff if not empty */\r\n        if (!taxPayers.salesstaff(i).empty())\r\n        {\r\n            /* instringstream to split taxPayers.salesstaff on &#39;:&#39; */\r\n            istringstream iss {taxPayers.salesstaff(i)};\r\n            std::string staff{};    /* temporary for each taxpayer staff */\r\n            \r\n            /* loop over each taxpayer.salesstaff staff1:staff2:... entry */\r\n            while (getline (iss, staff, &#39;:&#39;))\r\n            {   \r\n                bool matched = false;  /* is entry matched in salesStaff[] */\r\n                \r\n                /* loop over each valid salesStaff */\r\n                for (size_t j = 0; j &lt; nsstaff; j++)\r\n                {\r\n                    /* if staff matches valid salesStaff */\r\n                    if (staff == salesStaff[j]) {\r\n                        matched = true;  /* set found flag true */\r\n                        break;\r\n                    } \r\n                }\r\n                \r\n                /* after looping over all, check if no match found */\r\n                if (!matched)\r\n                {\r\n                    nomatch = true;   /* set nomatch flag */\r\n                }\r\n            }\r\n        }\r\n        \r\n        if (nomatch)  /* only print details if no match for salesstaff enty */\r\n        {\r\n          cout &lt;&lt; &quot;Account Details    : &quot; &lt;&lt; taxPayers.showinfo(i) &lt;&lt; &#39;\\n&#39; &lt;&lt;\r\n                  &quot;Details            : &quot; &lt;&lt; taxPayers.salesstaff(i) &lt;&lt; &quot;\\n\\n&quot;;\r\n          x++;\r\n        }\r\n    }\r\n    \r\n    /* output summary after loop */\r\n    cout &lt;&lt; &quot;Total count of bad data found: &quot; &lt;&lt; (x) &lt;&lt; &quot;\\n\\n&quot;;\r\n}\r\n```\r\n\r\n(**note:** above the heading and summary data go outside the loop unless you want that printed for each bad record -- which doesn&#39;t seem correct given the summary line)\r\n\r\nAlso note, there are many more ways you can do this. You can reduce the number of loops and avoid splitting `taxPayers.salesstaff(i)` by looping over each in the `salesStaff[]` array and using `.substr()` to determine if that staff occurs as one of the parts of `taxPayers.salesstaff(i)`. How you want to do it is up to you.\r\n\r\nAlso note, as I explained in your last question, you need to **validate** each input.\r\n\r\n**Example Use/Output**\r\n\r\nWith your data in my file `dat/taxpayers.txt`, running the program you would get:\r\n\r\n```none\r\n$ ./bin/taxpayercheck\r\nAudit Report\r\n-------------------\r\nFile: dat/taxpayers.txt\r\n\r\nAccount Details    : 10011265 Mr Alexander Marshall Chemicals Ltd\r\nDetails            : Eddie:rippa mate!:Brad:\r\n\r\nTotal count of bad data found: 1\r\n```\r\n\r\nLet me know if you have further questions.","title":"Can&#39;t intent in new activitys java","body":"<p>You have a more complex comparison than you are doing. You have two primary conditions:</p>\n<ol>\n<li>Is <code>taxPayers.salesstaff(i)</code> empty? (if so, you are done); or</li>\n<li>Does each of the <code>taxPayers.salesstaff(i)</code> components, e.g. <code>staff1:staff2:...</code> appear in the <code>salesStaff[]</code> array?</li>\n</ol>\n<p>It is this second condition that is a <em>many-to-many</em> relationship that has many subconditions. In order to make this determination, you must separate the <code>taxPayers.salesstaff(i)</code> entry on <code>':'</code> (much like you did input from your data file on <code>','</code>). Then you must loop over each entry and compare the entry against each in the <code>salesStaff[]</code> array. If ONE of the entries in <code>taxPayers.salesstaff(i)</code> does not match ANY of the entries in the <code>salesStaff[]</code> array. then you have a bad entry.</p>\n<p>You can use a couple of <code>bool</code> flags to help you work through the checks. One way to do that is:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void opt_A()\n{\n    std::ifstream sourceFile(ffname);\n\n    if (!sourceFile.is_open())\n    {\n        cout &lt;&lt; &quot;No file found, please check for files again&quot; &lt;&lt; endl;\n        return;\n    }\n\n    string salesStaff[] = { &quot;Brad&quot;, &quot;Janet&quot;, &quot;Dr Scott&quot;, \n                            &quot;Rifraf&quot;, &quot;Nell&quot;, &quot;Eddie&quot; };\n    size_t nsstaff = sizeof salesStaff / sizeof *salesStaff;\n    TaxPayers taxPayers{};\n    sourceFile &gt;&gt; taxPayers;\n    int x = 0;\n\n    /* output list heading before loop */\n    cout &lt;&lt; &quot;Audit Report&quot; &lt;&lt; '\\n' &lt;&lt;\n            &quot;-------------------&quot; &lt;&lt; '\\n' &lt;&lt;\n            &quot;File: &quot; &lt;&lt; ffname &lt;&lt; &quot;\\n\\n&quot;;\n    \n    /* loop over each taxpayer */\n    for (size_t i = 0; i &lt; taxPayers.taxPayers.size(); ++i)\n    {\n        bool nomatch = false;   /* flag, no match for non-empty entry */\n        \n        /* only check salesstaff if not empty */\n        if (!taxPayers.salesstaff(i).empty())\n        {\n            /* instringstream to split taxPayers.salesstaff on ':' */\n            istringstream iss {taxPayers.salesstaff(i)};\n            std::string staff{};    /* temporary for each taxpayer staff */\n            \n            /* loop over each taxpayer.salesstaff staff1:staff2:... entry */\n            while (getline (iss, staff, ':'))\n            {   \n                bool matched = false;  /* is entry matched in salesStaff[] */\n                \n                /* loop over each valid salesStaff */\n                for (size_t j = 0; j &lt; nsstaff; j++)\n                {\n                    /* if staff matches valid salesStaff */\n                    if (staff == salesStaff[j]) {\n                        matched = true;  /* set found flag true */\n                        break;\n                    } \n                }\n                \n                /* after looping over all, check if no match found */\n                if (!matched)\n                {\n                    nomatch = true;   /* set nomatch flag */\n                }\n            }\n        }\n        \n        if (nomatch)  /* only print details if no match for salesstaff enty */\n        {\n          cout &lt;&lt; &quot;Account Details    : &quot; &lt;&lt; taxPayers.showinfo(i) &lt;&lt; '\\n' &lt;&lt;\n                  &quot;Details            : &quot; &lt;&lt; taxPayers.salesstaff(i) &lt;&lt; &quot;\\n\\n&quot;;\n          x++;\n        }\n    }\n    \n    /* output summary after loop */\n    cout &lt;&lt; &quot;Total count of bad data found: &quot; &lt;&lt; (x) &lt;&lt; &quot;\\n\\n&quot;;\n}\n</code></pre>\n<p>(<strong>note:</strong> above the heading and summary data go outside the loop unless you want that printed for each bad record -- which doesn't seem correct given the summary line)</p>\n<p>Also note, there are many more ways you can do this. You can reduce the number of loops and avoid splitting <code>taxPayers.salesstaff(i)</code> by looping over each in the <code>salesStaff[]</code> array and using <code>.substr()</code> to determine if that staff occurs as one of the parts of <code>taxPayers.salesstaff(i)</code>. How you want to do it is up to you.</p>\n<p>Also note, as I explained in your last question, you need to <strong>validate</strong> each input.</p>\n<p><strong>Example Use/Output</strong></p>\n<p>With your data in my file <code>dat/taxpayers.txt</code>, running the program you would get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ ./bin/taxpayercheck\nAudit Report\n-------------------\nFile: dat/taxpayers.txt\n\nAccount Details    : 10011265 Mr Alexander Marshall Chemicals Ltd\nDetails            : Eddie:rippa mate!:Brad:\n\nTotal count of bad data found: 1\n</code></pre>\n<p>Let me know if you have further questions.</p>\n"}],"owner":{"display_name":"user18668826"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71746293,"answer_count":1,"score":0,"last_activity_date":1649411940,"creation_date":1649124933,"question_id":71745642,"body_markdown":"I&#39;m creating a file explorer synchronize with an ftp directory. I have recently adapted my app to work with both internal and external storage, and then I encounter an embarrassing issue. When I try to open a file using this function to intent a new activity:\r\n\r\n    private fun openFile(file: File) {\r\n            val myMime = MimeTypeMap.getSingleton()\r\n            val intent = Intent(Intent.ACTION_VIEW)\r\n    \r\n            val mimeType = myMime.getMimeTypeFromExtension(file.extension)\r\n            if (Build.VERSION.SDK_INT &gt;= 24) {\r\n                val fileURI = FileProvider.getUriForFile(context, BuildConfig.APPLICATION_ID.toString() + &quot;.provider&quot;, file)\r\n                intent.setDataAndType(fileURI, mimeType)\r\n            } else {\r\n                intent.setDataAndType(Uri.fromFile(file), mimeType)\r\n            }\r\n            intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            try {\r\n                context.startActivity(intent)\r\n            } catch (e: ActivityNotFoundException) {\r\n                Toast.makeText(context, &quot;No app found&quot;, Toast.LENGTH_LONG).show()\r\n            }\r\n    }","title":"Can&#39;t intent in new activitys java","body":"<p>I'm creating a file explorer synchronize with an ftp directory. I have recently adapted my app to work with both internal and external storage, and then I encounter an embarrassing issue. When I try to open a file using this function to intent a new activity:</p>\n<pre><code>private fun openFile(file: File) {\n        val myMime = MimeTypeMap.getSingleton()\n        val intent = Intent(Intent.ACTION_VIEW)\n\n        val mimeType = myMime.getMimeTypeFromExtension(file.extension)\n        if (Build.VERSION.SDK_INT &gt;= 24) {\n            val fileURI = FileProvider.getUriForFile(context, BuildConfig.APPLICATION_ID.toString() + &quot;.provider&quot;, file)\n            intent.setDataAndType(fileURI, mimeType)\n        } else {\n            intent.setDataAndType(Uri.fromFile(file), mimeType)\n        }\n        intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_GRANT_READ_URI_PERMISSION\n        try {\n            context.startActivity(intent)\n        } catch (e: ActivityNotFoundException) {\n            Toast.makeText(context, &quot;No app found&quot;, Toast.LENGTH_LONG).show()\n        }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":175154,"reputation":65054,"user_id":404970,"display_name":"molbdnilo"},"score":0,"creation_date":1649059432,"post_id":71733542,"comment_id":126771015,"body_markdown":"Some questions for you to think about: When do you expect `taxPayers.dupID(i) == taxPayers.dupID(i)` to be false? If you want to compare two different objects, don&#39;t you need two different indices? Shouldn&#39;t you gather all the information *before* printing the report? Isn&#39;t `((i + x) - (i))` just `x`?","body":"Some questions for you to think about: When do you expect <code>taxPayers.dupID(i) == taxPayers.dupID(i)</code> to be false? If you want to compare two different objects, don&#39;t you need two different indices? Shouldn&#39;t you gather all the information <i>before</i> printing the report? Isn&#39;t <code>((i + x) - (i))</code> just <code>x</code>?"},{"owner":{"display_name":"user18668826"},"score":0,"creation_date":1649061198,"post_id":71733542,"comment_id":126771594,"body_markdown":"How would I go about this? I expect taxPayers.dupID(i) == taxPayers.dupID(i) with every other ID except the identical ones and thank you for the x thing, over-complicating something for no reason.","body":"How would I go about this? I expect taxPayers.dupID(i) == taxPayers.dupID(i) with every other ID except the identical ones and thank you for the x thing, over-complicating something for no reason."},{"owner":{"account_id":175154,"reputation":65054,"user_id":404970,"display_name":"molbdnilo"},"score":0,"creation_date":1649061831,"post_id":71733542,"comment_id":126771830,"body_markdown":"Why do you expect `i` to have two *different* values is `taxPayers.dupID(i) == taxPayers.dupID(i)`? (Hint: you can have a loop within a loop.)","body":"Why do you expect <code>i</code> to have two <i>different</i> values is <code>taxPayers.dupID(i) == taxPayers.dupID(i)</code>? (Hint: you can have a loop within a loop.)"}],"answers":[{"tags":[],"owner":{"account_id":13807566,"reputation":61,"user_id":9966043,"display_name":"Ahmet Erdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649062312,"creation_date":1649061418,"answer_id":71734208,"question_id":71733542,"body_markdown":"First of all in opt_D() method you should find the duplicate dupIDs and insert them into a list. \r\nThen in order to give the output you should traverse the duplicate list and find corresponding vales from taxPayers.\r\n\r\n     // define a list for duplicate ids. \r\n\r\n    \r\n    for (size_t i = 0; i &lt; taxPayers.taxPayers.size(); ++i)\r\n        {\r\n         for (size_t j = i+1; j &lt; taxPayers.taxPayers.size(); ++j)\r\n              {\r\n                if (taxPayers.dupID(i) == taxPayers.dupID(j))\r\n                {\r\n\r\n                 // push taxPayers.dupID(i) to the duplicate id list\r\n\r\n\r\n               }\r\n            }\r\n        }\r\n\r\n\r\n    // print duplicate list size as output\r\n    // traverse the duplicate id list and find taxPayers having the same dupID from taxPayers list and print their info.\r\n\r\n","title":"POST request endpoint using Java/Spring-boot OWL","body":"<p>First of all in opt_D() method you should find the duplicate dupIDs and insert them into a list.\nThen in order to give the output you should traverse the duplicate list and find corresponding vales from taxPayers.</p>\n<pre><code> // define a list for duplicate ids. \n\n\nfor (size_t i = 0; i &lt; taxPayers.taxPayers.size(); ++i)\n    {\n     for (size_t j = i+1; j &lt; taxPayers.taxPayers.size(); ++j)\n          {\n            if (taxPayers.dupID(i) == taxPayers.dupID(j))\n            {\n\n             // push taxPayers.dupID(i) to the duplicate id list\n\n\n           }\n        }\n    }\n\n\n// print duplicate list size as output\n// traverse the duplicate id list and find taxPayers having the same dupID from taxPayers list and print their info.\n</code></pre>\n"}],"owner":{"display_name":"user18668826"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71734208,"answer_count":1,"score":0,"last_activity_date":1649411892,"creation_date":1649057880,"question_id":71733542,"body_markdown":"I&#39;m trying to make a post request endpoint to send some form values to my database. When I test the request with postman, I get a 400 bad request error and this message in my console\r\n\r\nJSON parse error: Cannot deserialize value of type abcd.Model.Quote from Array value (token JsonToken.START_ARRAY);\r\n\r\nthis is my controller:\r\n\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n        @PostMapping(&quot;/createQuote&quot;)\r\n        public boolean newQuote(@RequestBody Quote newQuote) {\r\n        return quoteDB.saveQuote(newQuote);\r\n    };\r\nmy model:\r\n\r\n    public class Quote {\r\n    public int id;\r\n    public String type_building;\r\n    public int numElevator;\r\n    public String typeService;\r\n    public double total;\r\n    public double totalElevatorPrice;\r\n    \r\n    public Quote(\r\n            int _id,\r\n            String _type_building,\r\n            int _numElevator,\r\n            String _typeService,\r\n            double _total,\r\n            double _totalElevatorPrice\r\n    ){\r\n        this.id = _id;\r\n        this.type_building = _type_building;\r\n        this.numElevator = _numElevator;\r\n        this.typeService = _typeService;\r\n        this.total = _total;\r\n        this.totalElevatorPrice = _totalElevatorPrice;\r\n    \r\n    }\r\n    public String getType_building() { return type_building; }\r\n    public void setType_building(String type_building) { this.type_building = type_building; }\r\n    \r\n    public int getNumElevator() { return numElevator; }\r\n    public void setNumElevator(int numElevator) { this.numElevator = numElevator; }\r\n    \r\n    public String getTypeService() { return typeService; }\r\n    public void setTypeService(String typeService) { this.typeService = typeService; }\r\n    \r\n    public double getTotal() { return total; }\r\n    public void setTotal(int total) { this.total = total; }\r\n    \r\n    public double getTotalElevatorPrice() { return totalElevatorPrice; }\r\n    public void setTotalElevatorPrice(int totalElevatorPrice) { this.totalElevatorPrice = totalElevatorPrice; }\r\n\r\n\r\n","title":"POST request endpoint using Java/Spring-boot OWL","body":"<p>I'm trying to make a post request endpoint to send some form values to my database. When I test the request with postman, I get a 400 bad request error and this message in my console</p>\n<p>JSON parse error: Cannot deserialize value of type abcd.Model.Quote from Array value (token JsonToken.START_ARRAY);</p>\n<p>this is my controller:</p>\n<pre><code>@ResponseStatus(HttpStatus.CREATED)\n    @PostMapping(&quot;/createQuote&quot;)\n    public boolean newQuote(@RequestBody Quote newQuote) {\n    return quoteDB.saveQuote(newQuote);\n};\n</code></pre>\n<p>my model:</p>\n<pre><code>public class Quote {\npublic int id;\npublic String type_building;\npublic int numElevator;\npublic String typeService;\npublic double total;\npublic double totalElevatorPrice;\n\npublic Quote(\n        int _id,\n        String _type_building,\n        int _numElevator,\n        String _typeService,\n        double _total,\n        double _totalElevatorPrice\n){\n    this.id = _id;\n    this.type_building = _type_building;\n    this.numElevator = _numElevator;\n    this.typeService = _typeService;\n    this.total = _total;\n    this.totalElevatorPrice = _totalElevatorPrice;\n\n}\npublic String getType_building() { return type_building; }\npublic void setType_building(String type_building) { this.type_building = type_building; }\n\npublic int getNumElevator() { return numElevator; }\npublic void setNumElevator(int numElevator) { this.numElevator = numElevator; }\n\npublic String getTypeService() { return typeService; }\npublic void setTypeService(String typeService) { this.typeService = typeService; }\n\npublic double getTotal() { return total; }\npublic void setTotal(int total) { this.total = total; }\n\npublic double getTotalElevatorPrice() { return totalElevatorPrice; }\npublic void setTotalElevatorPrice(int totalElevatorPrice) { this.totalElevatorPrice = totalElevatorPrice; }\n</code></pre>\n"},{"tags":["java","owl"],"comments":[{"owner":{"account_id":3795627,"reputation":15269,"user_id":3150802,"accept_rate":55,"display_name":"Peter - Reinstate Monica"},"score":0,"creation_date":1649026184,"post_id":71730365,"comment_id":126765205,"body_markdown":"Well:\n the for loop in showinfo() loops to the end of the vector; that taxpayer&#39;s info is returned. You call that function n times: n times the last taxpayer is returned ;-). Perhaps you intended originally to print in that function? Otherwise you need either an index parameter (which payer&#39;s info) or assemble a string that contains all lines.","body":"Well:  the for loop in showinfo() loops to the end of the vector; that taxpayer&#39;s info is returned. You call that function n times: n times the last taxpayer is returned ;-). Perhaps you intended originally to print in that function? Otherwise you need either an index parameter (which payer&#39;s info) or assemble a string that contains all lines."},{"owner":{"display_name":"user18668826"},"score":0,"creation_date":1649029101,"post_id":71730365,"comment_id":126765576,"body_markdown":"How would I do this?","body":"How would I do this?"},{"owner":{"account_id":3795627,"reputation":15269,"user_id":3150802,"accept_rate":55,"display_name":"Peter - Reinstate Monica"},"score":0,"creation_date":1649029926,"post_id":71730365,"comment_id":126765687,"body_markdown":"I wrote a short answer to demonstrate.","body":"I wrote a short answer to demonstrate."}],"answers":[{"tags":[],"owner":{"account_id":3795627,"reputation":15269,"user_id":3150802,"accept_rate":55,"display_name":"Peter - Reinstate Monica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649029913,"creation_date":1649029913,"answer_id":71730721,"question_id":71730365,"body_markdown":"I would write a function \r\n\r\n```\r\nstring showinfo(size_t i) {\r\n        string info = taxPayers[i].taxpayerId + &quot; &quot; + taxPayers[i].name + &quot; &quot; +\r\n            taxPayers[i].address + &quot; &quot; + taxPayers[i].postcode;\r\n        return info;\r\n}\r\n```\r\n\r\nand call that with \r\n```\r\nfor (int i = 0; i &lt; taxPayers.taxPayers.size(); i++)\r\n    {\r\n        cout &lt;&lt; &quot;[&quot; &lt;&lt; i &lt;&lt; &quot;] - &quot; &lt;&lt; taxPayers.showinfo(i) &lt;&lt; endl;\r\n    }\r\n```","title":"How to parse syntax using OWL API? Java","body":"<p>I would write a function</p>\n<pre><code>string showinfo(size_t i) {\n        string info = taxPayers[i].taxpayerId + &quot; &quot; + taxPayers[i].name + &quot; &quot; +\n            taxPayers[i].address + &quot; &quot; + taxPayers[i].postcode;\n        return info;\n}\n</code></pre>\n<p>and call that with</p>\n<pre><code>for (int i = 0; i &lt; taxPayers.taxPayers.size(); i++)\n    {\n        cout &lt;&lt; &quot;[&quot; &lt;&lt; i &lt;&lt; &quot;] - &quot; &lt;&lt; taxPayers.showinfo(i) &lt;&lt; endl;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user18668826"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71730721,"answer_count":1,"score":0,"last_activity_date":1649411809,"creation_date":1649025414,"question_id":71730365,"body_markdown":"I am a beginner in OWL API and am learning how to parse functional syntax. So far I have been unable to do it, and cannot figure out where I am going wrong. For example, consider a short and simple OWL file having the following(just a random example) -\r\n\r\nEquivalentClasses(:TestPizza ObjectIntersectionOf(DataMinCardinality(20 :hasToppingValue xsd:double) :Pizza))\r\n\r\nThe problem is I can&#39;t even create an OWLFunctionalSyntaxParser variable since it is showing undefined( I am using the latest version - 5.1.18).\r\n\r\nCould anyone help by providing a code example on how to parse it?\r\n","title":"How to parse syntax using OWL API? Java","body":"<p>I am a beginner in OWL API and am learning how to parse functional syntax. So far I have been unable to do it, and cannot figure out where I am going wrong. For example, consider a short and simple OWL file having the following(just a random example) -</p>\n<p>EquivalentClasses(:TestPizza ObjectIntersectionOf(DataMinCardinality(20 :hasToppingValue xsd:double) :Pizza))</p>\n<p>The problem is I can't even create an OWLFunctionalSyntaxParser variable since it is showing undefined( I am using the latest version - 5.1.18).</p>\n<p>Could anyone help by providing a code example on how to parse it?</p>\n"},{"tags":["java","minecraft-forge"],"comments":[{"owner":{"account_id":16805054,"reputation":22950,"user_id":12149471,"display_name":"Andreas Wenzel"},"score":0,"creation_date":1648925856,"post_id":71720310,"comment_id":126748301,"body_markdown":"Please post the output of the program as text, not as an image, unless you have a specific reason to do so. You may want to read this: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/q/285551/12149471)","body":"Please post the output of the program as text, not as an image, unless you have a specific reason to do so. You may want to read this: <a href=\"https://meta.stackoverflow.com/q/285551/12149471\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":20410134,"reputation":2766,"user_id":14973743,"display_name":"Anand Sowmithiran"},"score":0,"creation_date":1648925979,"post_id":71720310,"comment_id":126748331,"body_markdown":"Your variable i is local and not going to help to know the total records. You could declare it as `global` variable, increment for every taxpayer record you print to output stream.","body":"Your variable i is local and not going to help to know the total records. You could declare it as <code>global</code> variable, increment for every taxpayer record you print to output stream."}],"answers":[{"tags":[],"owner":{"account_id":79346,"reputation":57079,"user_id":225074,"accept_rate":91,"display_name":"Thomas Matthews"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648926014,"creation_date":1648926014,"answer_id":71720399,"question_id":71720310,"body_markdown":"Looks like you may need to split your `if` statement:\r\n\r\n    unsigned int line_count = 0U;\r\n    if (std::getline(is, line))\r\n    {\r\n        ++line_count;\r\n        if (not line.empty())\r\n        {\r\n\r\nEvery time you read a text line into the string variable, increment a counter.  \r\n","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<p>Looks like you may need to split your <code>if</code> statement:</p>\n<pre><code>unsigned int line_count = 0U;\nif (std::getline(is, line))\n{\n    ++line_count;\n    if (not line.empty())\n    {\n</code></pre>\n<p>Every time you read a text line into the string variable, increment a counter.</p>\n"},{"tags":[],"owner":{"account_id":9214660,"reputation":78,"user_id":6846345,"display_name":"manchi_o6o7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648927039,"creation_date":1648926292,"answer_id":71720436,"question_id":71720310,"body_markdown":"I think that this should work in your case:\r\n\r\n    int i = taxPayers.taxPayers.size();","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<p>I think that this should work in your case:</p>\n<pre><code>int i = taxPayers.taxPayers.size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62599,"reputation":3114,"user_id":185881,"accept_rate":71,"display_name":"ern0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648926466,"creation_date":1648926466,"answer_id":71720459,"question_id":71720310,"body_markdown":"I started investigating why it displays zero as count-of-records. I&#39;ve found that this line prints the count:\r\n\r\n    cout &lt;&lt; &quot;Count of Records  : &quot; &lt;&lt; i &lt;&lt; endl;\r\n\r\nSo, you print out the value of the variable `i`. I found only one point where the variable `i` is mentioned, some lines above:\r\n\r\n    int i = 0;\r\n\r\nIt&#39;s a proper initialization. But there&#39;s no more reference to `i`. So, the problem is: your program actually doesn&#39;t count the lines. \r\n\r\nI would say, you forgot it, but as you haven&#39;t figured out it yourself, I have to say, this exercise is too hard for you. You may try to understand the concept of variables etc., read some tutorials, or watch videos in the topics.","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<p>I started investigating why it displays zero as count-of-records. I've found that this line prints the count:</p>\n<pre><code>cout &lt;&lt; &quot;Count of Records  : &quot; &lt;&lt; i &lt;&lt; endl;\n</code></pre>\n<p>So, you print out the value of the variable <code>i</code>. I found only one point where the variable <code>i</code> is mentioned, some lines above:</p>\n<pre><code>int i = 0;\n</code></pre>\n<p>It's a proper initialization. But there's no more reference to <code>i</code>. So, the problem is: your program actually doesn't count the lines.</p>\n<p>I would say, you forgot it, but as you haven't figured out it yourself, I have to say, this exercise is too hard for you. You may try to understand the concept of variables etc., read some tutorials, or watch videos in the topics.</p>\n"},{"tags":[],"owner":{"account_id":19864086,"reputation":411,"user_id":14551796,"display_name":"L8R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648927506,"creation_date":1648927506,"answer_id":71720599,"question_id":71720310,"body_markdown":"\r\n```c+\r\n#include&lt;iostream&gt;\r\n#include&lt;fstream&gt;\r\n#include&lt;string&gt;\r\n \r\nusing namespace std;\r\n \r\nint main()\r\n{\r\n\tstring filename;   // Name of the file\r\n\tcout&lt;&lt;&quot;Enter filename:&quot;;\r\n\tcin&gt;&gt;filename;\r\n \r\n\tstring line;   // To read each line from code\r\n\tint count=0;    // Variable to keep count of each line\r\n\t\r\n\tifstream mFile (filename);   \r\n\t\r\n\tif(mFile.is_open()) \r\n\t{\r\n\t\twhile(mFile.peek()!=EOF)\r\n\t\t{\r\n\t\t\tgetline(mFile, line);\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\tmFile.close();\r\n\t\tcout&lt;&lt;&quot;Number of lines in the file are: &quot;&lt;&lt;count&lt;&lt;endl;\r\n\t}\r\n\telse\r\n\t\tcout&lt;&lt;&quot;Couldn&#39;t open the file\\n&quot;;\r\n \r\n\treturn 0;\r\n}\r\n```\r\nCode taken from [java2blog.com][1]\r\n\r\n\r\n  [1]: https://java2blog.com/cpp-count-lines-in-file/#:~:text=#include%3Ciostream%3E,%7D","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;string&gt;\n \nusing namespace std;\n \nint main()\n{\n    string filename;   // Name of the file\n    cout&lt;&lt;&quot;Enter filename:&quot;;\n    cin&gt;&gt;filename;\n \n    string line;   // To read each line from code\n    int count=0;    // Variable to keep count of each line\n    \n    ifstream mFile (filename);   \n    \n    if(mFile.is_open()) \n    {\n        while(mFile.peek()!=EOF)\n        {\n            getline(mFile, line);\n            count++;\n        }\n        mFile.close();\n        cout&lt;&lt;&quot;Number of lines in the file are: &quot;&lt;&lt;count&lt;&lt;endl;\n    }\n    else\n        cout&lt;&lt;&quot;Couldn't open the file\\n&quot;;\n \n    return 0;\n}\n</code></pre>\n<p>Code taken from <a href=\"https://java2blog.com/cpp-count-lines-in-file/#:%7E:text=#include%3Ciostream%3E,%7D\" rel=\"nofollow noreferrer\">java2blog.com</a></p>\n"}],"owner":{"display_name":"user18668826"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71720436,"answer_count":4,"score":0,"last_activity_date":1649411747,"creation_date":1648925298,"question_id":71720310,"body_markdown":"Hello I am doing a mod in forge 1.18.1Minecraft I created a new class for my item ,I need help because I am trying to Clear fall Damage When someone has an item in his hand!.I searched on google but i didn&#39;t find something!\r\n\r\n    import net.minecraft.world.item.Item;\r\n    import net.minecraft.world.item.ItemStack;\r\n    import net.minecraft.world.level.Level;\r\n    \r\n    public class NoFallDamageIItem extends Item {\r\n        public NoFallDamageIItem(Properties pProperties) {\r\n            super(pProperties);\r\n        }\r\n\r\n} `","title":"Can I do something when someone has something in his inventory Java Minecraft Moding For Forge 1.18.1","body":"<p>Hello I am doing a mod in forge 1.18.1Minecraft I created a new class for my item ,I need help because I am trying to Clear fall Damage When someone has an item in his hand!.I searched on google but i didn't find something!</p>\n<pre><code>import net.minecraft.world.item.Item;\nimport net.minecraft.world.item.ItemStack;\nimport net.minecraft.world.level.Level;\n\npublic class NoFallDamageIItem extends Item {\n    public NoFallDamageIItem(Properties pProperties) {\n        super(pProperties);\n    }\n</code></pre>\n<p>} `</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":4175409,"reputation":82683,"user_id":3422102,"accept_rate":100,"display_name":"David C. Rankin"},"score":0,"creation_date":1648876088,"post_id":71714989,"comment_id":126739982,"body_markdown":"You will need to read each line into a `std::string` with `getline()` and create a `std::stringstream` from the string containing the line and then read from the `std::stringstream` with `getline()` using the delimiter or `&#39;,&#39;` and keep track of the number of columns and sum the ones you need. Please add the code showing what you have tried so far and where you are stuck.","body":"You will need to read each line into a <code>std::string</code> with <code>getline()</code> and create a <code>std::stringstream</code> from the string containing the line and then read from the <code>std::stringstream</code> with <code>getline()</code> using the delimiter or <code>&#39;,&#39;</code> and keep track of the number of columns and sum the ones you need. Please add the code showing what you have tried so far and where you are stuck."}],"answers":[{"tags":[],"owner":{"account_id":11334812,"reputation":14889,"user_id":9666018,"display_name":"A M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648884192,"creation_date":1648884192,"answer_id":71715617,"question_id":71714989,"body_markdown":"There are different things that you need to understand. For example:\r\n\r\nData, belonging together, but having a different type, will be stored in a class or struct.\r\n\r\nMany data of the same type, will be stored in an array or in this example in a `std::vector` because that can grow dynamically.\r\n\r\nSo, as you already did, you will put the data of one row or, in database language, of one record, in a struct.\r\n\r\nSo, your approach is correct, to define the TaxPayer class. But now, because you want to accumulate the sum of one data field of many TaxPayers, you need to put all the TaxPayers in a `std::vector` and encapsulate this in a second class. Then you add additional functions to that class, to calculate sums of the records (TaxPayer) in the `std::vector`.\r\n\r\nExample:\r\n```\r\n#include &lt;string&gt;\r\n#include &lt;vector&gt;\r\n\r\nstruct TaxPayer {\r\n    std::string taxpayerId{};\r\n    std::string name{};\r\n    std::string address{};\r\n    std::string postcode{};\r\n    int salary{};\r\n    int deductions{};\r\n    double taxDue{};\r\n};\r\nstruct TaxPayers {\r\n    std::vector&lt;TaxPayer&gt; taxPayers{};\r\n};\r\n```\r\n\r\nI just show the data members here. And you may reuse your existing functions of course.\r\n\r\nNow, we just need to add basically 2 important functions:\r\n\r\n1. Split one source row into its elements and then assign it to the taxPayer data fields\r\n2. Read all taxPayers\r\n\r\nThe task number one is splitting so called CSV (Comma Separated Values) data. You will find at least 1000 examples here on stackoverflow on how to do this. A very popular method is to use `std::getline` and read a part of the text until the separator &#39;,&#39;. \r\n\r\nTo be more on the save side, first a complete line of the source file is read via `std::getline`. Then, this will be put into a `stringstream` and the further extraction of data is done from there.\r\n\r\nAll this will be embedded in an overwritten &quot;extraction&quot; operator `&gt;&gt;`, that handles your specific data.\r\n\r\nThe signature of such an operator is:\r\n```\r\nfriend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayer&amp; tp) \r\n```\r\n\r\nAfter implementation of the functionality, you can simply use the `&gt;&gt;` operator, to read a complete row and parse it in one step.\r\n\r\nIn you TaxPayers class you need to define also such an operator and read all lines using the extractor from the definition above. \r\n\r\nBy this method, by splitting a big task into smaller tasks, the solution will get very simple at the end.\r\n\r\nLast but not least, we need to add you accumulation functions of the data in the `std::vector`. That can be either done with a simple loop, or, a little bit more advanced, with `std::accumulate`.\r\n\r\nYou may use the below example as an idea to refactor cour existing code:\r\n\r\n```\r\n#include &lt;iostream&gt;\r\n#include &lt;fstream&gt;\r\n#include &lt;sstream&gt;\r\n#include &lt;string&gt;\r\n#include &lt;vector&gt;\r\n\r\nstruct TaxPayer {\r\n    // Data part\r\n    std::string taxpayerId{};\r\n    std::string name{};\r\n    std::string address{};\r\n    std::string postcode{};\r\n    int salary{};\r\n    int deductions{};\r\n    double taxDue{};\r\n\r\n    // Extractor\r\n    friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayer&amp; tp) {\r\n        // Read a complete line\r\n        std::string line{};\r\n        if (std::getline(is, line) and not line.empty()) {\r\n\r\n\r\n            // Put it into a stringstream for further extraction\r\n            std::istringstream iss{ line };\r\n\r\n            // Now, extract the data parts\r\n            std::getline(iss, tp.taxpayerId, &#39;,&#39;);\r\n            std::getline(iss, tp.name, &#39;,&#39;);\r\n            std::getline(iss, tp.address, &#39;,&#39;);\r\n            std::getline(iss, tp.postcode, &#39;,&#39;);\r\n\r\n            // Read and convert\r\n            std::getline(iss, line, &#39;,&#39;);\r\n            tp.salary = std::stoi(line);\r\n\r\n            std::getline(iss, line, &#39;,&#39;);\r\n            tp.deductions = std::stoi(line);\r\n\r\n            std::getline(iss, line, &#39;,&#39;);\r\n            tp.taxDue = std::stod(line);\r\n        }\r\n        return is;\r\n    }\r\n    // Simple inserter\r\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const TaxPayer&amp; tp) {\r\n        return os &lt;&lt; tp.taxpayerId &lt;&lt; &#39; &#39; &lt;&lt; tp.name &lt;&lt; &#39; &#39; &lt;&lt; tp.address &lt;&lt; &#39; &#39; &lt;&lt; tp.postcode\r\n            &lt;&lt; &#39; &#39; &lt;&lt; tp.salary &lt;&lt; &#39; &#39; &lt;&lt; tp.deductions &lt;&lt; &#39; &#39; &lt;&lt; tp.taxDue &lt;&lt; &#39;\\n&#39;;\r\n    }\r\n\r\n};\r\nstruct TaxPayers {\r\n    // Data\r\n    std::vector&lt;TaxPayer&gt; taxPayers{};\r\n\r\n    // Sum functions\r\n    int sumSalary() {\r\n        int result{};\r\n        for (const TaxPayer&amp; taxPayer : taxPayers)\r\n            result += taxPayer.salary;\r\n        return result;\r\n    }\r\n    int sumDeductions() {\r\n        int result{};\r\n        for (const TaxPayer&amp; taxPayer : taxPayers)\r\n            result += taxPayer.deductions;\r\n        return result;\r\n    }\r\n\r\n    // Extractor\r\n    friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayers&amp; tp) {\r\n        // clar old data\r\n        tp.taxPayers.clear();\r\n\r\n        // Read all new existing data and store in vector\r\n        TaxPayer taxPayer{};\r\n\r\n        while (is &gt;&gt; taxPayer)\r\n            tp.taxPayers.push_back(taxPayer);\r\n        return is;\r\n    }\r\n    // Simple inserter\r\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const TaxPayers&amp; tp) {\r\n        for (const TaxPayer&amp; taxPayer : tp.taxPayers)\r\n            os &lt;&lt; taxPayer;\r\n        return os;\r\n    }\r\n\r\n\r\n};\r\n\r\n// Same as a file, I just use it here for better visibility\r\nstd::istringstream sourceFile{ R&quot;(7101003,Mike,23 boinig road,2615,48000,12000,0\r\n7201003,Jane Philips,29 boinig cresent,2616,47000,12000,0\r\n7301003,Philip Jane,23 bong road,2615,49000,000,0\r\n7401004,Peta,23 bong bong road,2615,148000,19000,0\r\n7101205,Abdulla,23 Station st,2615,80000,21000,0)&quot; };\r\n\r\nint main() {\r\n\r\n    TaxPayers taxPayers{};\r\n\r\n    // Read and parse all tax payers\r\n    sourceFile &gt;&gt; taxPayers;\r\n\r\n    // Debug output: Show, what we just read\r\n    std::cout &lt;&lt; taxPayers;\r\n\r\n    // Show sums\r\n    std::cout &lt;&lt; &quot;\\n\\n\\nSummary\\n\\nSalary:\\t\\t&quot; &lt;&lt; taxPayers.sumSalary() &lt;&lt; &quot;\\nDeductions:\\t&quot; &lt;&lt; taxPayers.sumDeductions() &lt;&lt; &#39;\\n&#39;;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Javascript font size changes from win 10 to win 11","body":"<p>There are different things that you need to understand. For example:</p>\n<p>Data, belonging together, but having a different type, will be stored in a class or struct.</p>\n<p>Many data of the same type, will be stored in an array or in this example in a <code>std::vector</code> because that can grow dynamically.</p>\n<p>So, as you already did, you will put the data of one row or, in database language, of one record, in a struct.</p>\n<p>So, your approach is correct, to define the TaxPayer class. But now, because you want to accumulate the sum of one data field of many TaxPayers, you need to put all the TaxPayers in a <code>std::vector</code> and encapsulate this in a second class. Then you add additional functions to that class, to calculate sums of the records (TaxPayer) in the <code>std::vector</code>.</p>\n<p>Example:</p>\n<pre><code>#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstruct TaxPayer {\n    std::string taxpayerId{};\n    std::string name{};\n    std::string address{};\n    std::string postcode{};\n    int salary{};\n    int deductions{};\n    double taxDue{};\n};\nstruct TaxPayers {\n    std::vector&lt;TaxPayer&gt; taxPayers{};\n};\n</code></pre>\n<p>I just show the data members here. And you may reuse your existing functions of course.</p>\n<p>Now, we just need to add basically 2 important functions:</p>\n<ol>\n<li>Split one source row into its elements and then assign it to the taxPayer data fields</li>\n<li>Read all taxPayers</li>\n</ol>\n<p>The task number one is splitting so called CSV (Comma Separated Values) data. You will find at least 1000 examples here on stackoverflow on how to do this. A very popular method is to use <code>std::getline</code> and read a part of the text until the separator ','.</p>\n<p>To be more on the save side, first a complete line of the source file is read via <code>std::getline</code>. Then, this will be put into a <code>stringstream</code> and the further extraction of data is done from there.</p>\n<p>All this will be embedded in an overwritten &quot;extraction&quot; operator <code>&gt;&gt;</code>, that handles your specific data.</p>\n<p>The signature of such an operator is:</p>\n<pre><code>friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayer&amp; tp) \n</code></pre>\n<p>After implementation of the functionality, you can simply use the <code>&gt;&gt;</code> operator, to read a complete row and parse it in one step.</p>\n<p>In you TaxPayers class you need to define also such an operator and read all lines using the extractor from the definition above.</p>\n<p>By this method, by splitting a big task into smaller tasks, the solution will get very simple at the end.</p>\n<p>Last but not least, we need to add you accumulation functions of the data in the <code>std::vector</code>. That can be either done with a simple loop, or, a little bit more advanced, with <code>std::accumulate</code>.</p>\n<p>You may use the below example as an idea to refactor cour existing code:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstruct TaxPayer {\n    // Data part\n    std::string taxpayerId{};\n    std::string name{};\n    std::string address{};\n    std::string postcode{};\n    int salary{};\n    int deductions{};\n    double taxDue{};\n\n    // Extractor\n    friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayer&amp; tp) {\n        // Read a complete line\n        std::string line{};\n        if (std::getline(is, line) and not line.empty()) {\n\n\n            // Put it into a stringstream for further extraction\n            std::istringstream iss{ line };\n\n            // Now, extract the data parts\n            std::getline(iss, tp.taxpayerId, ',');\n            std::getline(iss, tp.name, ',');\n            std::getline(iss, tp.address, ',');\n            std::getline(iss, tp.postcode, ',');\n\n            // Read and convert\n            std::getline(iss, line, ',');\n            tp.salary = std::stoi(line);\n\n            std::getline(iss, line, ',');\n            tp.deductions = std::stoi(line);\n\n            std::getline(iss, line, ',');\n            tp.taxDue = std::stod(line);\n        }\n        return is;\n    }\n    // Simple inserter\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const TaxPayer&amp; tp) {\n        return os &lt;&lt; tp.taxpayerId &lt;&lt; ' ' &lt;&lt; tp.name &lt;&lt; ' ' &lt;&lt; tp.address &lt;&lt; ' ' &lt;&lt; tp.postcode\n            &lt;&lt; ' ' &lt;&lt; tp.salary &lt;&lt; ' ' &lt;&lt; tp.deductions &lt;&lt; ' ' &lt;&lt; tp.taxDue &lt;&lt; '\\n';\n    }\n\n};\nstruct TaxPayers {\n    // Data\n    std::vector&lt;TaxPayer&gt; taxPayers{};\n\n    // Sum functions\n    int sumSalary() {\n        int result{};\n        for (const TaxPayer&amp; taxPayer : taxPayers)\n            result += taxPayer.salary;\n        return result;\n    }\n    int sumDeductions() {\n        int result{};\n        for (const TaxPayer&amp; taxPayer : taxPayers)\n            result += taxPayer.deductions;\n        return result;\n    }\n\n    // Extractor\n    friend std::istream&amp; operator &gt;&gt; (std::istream&amp; is, TaxPayers&amp; tp) {\n        // clar old data\n        tp.taxPayers.clear();\n\n        // Read all new existing data and store in vector\n        TaxPayer taxPayer{};\n\n        while (is &gt;&gt; taxPayer)\n            tp.taxPayers.push_back(taxPayer);\n        return is;\n    }\n    // Simple inserter\n    friend std::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const TaxPayers&amp; tp) {\n        for (const TaxPayer&amp; taxPayer : tp.taxPayers)\n            os &lt;&lt; taxPayer;\n        return os;\n    }\n\n\n};\n\n// Same as a file, I just use it here for better visibility\nstd::istringstream sourceFile{ R&quot;(7101003,Mike,23 boinig road,2615,48000,12000,0\n7201003,Jane Philips,29 boinig cresent,2616,47000,12000,0\n7301003,Philip Jane,23 bong road,2615,49000,000,0\n7401004,Peta,23 bong bong road,2615,148000,19000,0\n7101205,Abdulla,23 Station st,2615,80000,21000,0)&quot; };\n\nint main() {\n\n    TaxPayers taxPayers{};\n\n    // Read and parse all tax payers\n    sourceFile &gt;&gt; taxPayers;\n\n    // Debug output: Show, what we just read\n    std::cout &lt;&lt; taxPayers;\n\n    // Show sums\n    std::cout &lt;&lt; &quot;\\n\\n\\nSummary\\n\\nSalary:\\t\\t&quot; &lt;&lt; taxPayers.sumSalary() &lt;&lt; &quot;\\nDeductions:\\t&quot; &lt;&lt; taxPayers.sumDeductions() &lt;&lt; '\\n';\n}\n</code></pre>\n"}],"owner":{"display_name":"user18668826"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71715617,"answer_count":1,"score":0,"last_activity_date":1649411660,"creation_date":1648875601,"question_id":71714989,"body_markdown":"We have a large Java application that looks fine with Win 10. When we test it on Win 11, about 1/2 the controls have a much smaller font than the others.\r\n\r\nThis is using the same version of the Open JDK Java 11 VM on both machines.\r\n\r\nMy searches haven&#39;t found anything, but it seems odd that it would only be our Java app with this issue.\r\n\r\nAt one time I did have a tool that let me just click on a java application window/control and see all the information about it (colors, font size, etc..). That was years ago, and I can&#39;t seem to find one that does that now.\r\n\r\nAny ideas on why some fonts would change size on Win 11?\r\n\r\n","title":"Javascript font size changes from win 10 to win 11","body":"<p>We have a large Java application that looks fine with Win 10. When we test it on Win 11, about 1/2 the controls have a much smaller font than the others.</p>\n<p>This is using the same version of the Open JDK Java 11 VM on both machines.</p>\n<p>My searches haven't found anything, but it seems odd that it would only be our Java app with this issue.</p>\n<p>At one time I did have a tool that let me just click on a java application window/control and see all the information about it (colors, font size, etc..). That was years ago, and I can't seem to find one that does that now.</p>\n<p>Any ideas on why some fonts would change size on Win 11?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649410365,"creation_date":1649410365,"answer_id":71794709,"question_id":71794646,"body_markdown":"You can use\r\n```java\r\nString result = line.replaceAll(&quot;\\\\d&quot;, &quot; $0&quot;);\r\n```\r\nOr, if you do not want to add a space at the start:\r\n```java\r\nString result = line.replaceAll(&quot;(?!^)\\\\d&quot;, &quot; $0&quot;);\r\n```\r\nThe `\\d` pattern matches any digit, and `replaceAll` will match and replace all occurrences, `/g` at the end of the pattern only does harm and needs removing. `(?!^)` means &quot;not at the start of the string&quot;.\r\n\r\nThe `$0` placeholder/replacement backreference in the replacement refers to the whole match value.\r\n\r\nSee the [regex demo][1].\r\n\r\n\r\n  [1]: https://regex101.com/r/7FDiSc/1","title":"Java : regex to add space before number","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = line.replaceAll(&quot;\\\\d&quot;, &quot; $0&quot;);\n</code></pre>\n<p>Or, if you do not want to add a space at the start:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = line.replaceAll(&quot;(?!^)\\\\d&quot;, &quot; $0&quot;);\n</code></pre>\n<p>The <code>\\d</code> pattern matches any digit, and <code>replaceAll</code> will match and replace all occurrences, <code>/g</code> at the end of the pattern only does harm and needs removing. <code>(?!^)</code> means &quot;not at the start of the string&quot;.</p>\n<p>The <code>$0</code> placeholder/replacement backreference in the replacement refers to the whole match value.</p>\n<p>See the <a href=\"https://regex101.com/r/7FDiSc/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71794709,"answer_count":1,"score":1,"last_activity_date":1649410890,"creation_date":1649410100,"question_id":71794646,"body_markdown":"I would like to add a space before each number.  \r\n\r\nHere : `AS400` would become `AS 4 0 0`  \r\n\r\nI have tried : `line.replaceAll(&quot;[0-9]/g&quot;, &quot; &quot;))`\r\n  \r\nbut it doesn&#39;t seem to do the job.  \r\n","title":"Java : regex to add space before number","body":"<p>I would like to add a space before each number.</p>\n<p>Here : <code>AS400</code> would become <code>AS 4 0 0</code></p>\n<p>I have tried : <code>line.replaceAll(&quot;[0-9]/g&quot;, &quot; &quot;))</code></p>\n<p>but it doesn't seem to do the job.</p>\n"},{"tags":["java","serialization","lambda","classcastexception","circular-reference"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1649412597,"post_id":71794821,"comment_id":126874233,"body_markdown":"Seems like serializing lambda expressions is [strongly discouraged](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#serialization), just like [inner classes](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html#serialization), because of the dynamic creation of synthetic constructs (as the tutorial reads). If you replace `this` in the body of your lambda with for example the empty string, then running your code yields a different class on deserialization, than the one serialized...","body":"Seems like serializing lambda expressions is <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#serialization\" rel=\"nofollow noreferrer\">strongly discouraged</a>, just like <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html#serialization\" rel=\"nofollow noreferrer\">inner classes</a>, because of the dynamic creation of synthetic constructs (as the tutorial reads). If you replace <code>this</code> in the body of your lambda with for example the empty string, then running your code yields a different class on deserialization, than the one serialized..."}],"owner":{"account_id":16032980,"reputation":11,"user_id":11571376,"display_name":"Thomas Bihrer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649410862,"creation_date":1649410862,"question_id":71794821,"body_markdown":"`ClassCastException` is thrown by java8 when a lambda expression which contains a cirular reference via its expression arguments to itself, is deserialized. \r\n\r\nThe exception only is thrown when the lambda is serialized before the object creating the circular reference.\r\n\r\nTested on openjdk version &quot;1.8.0_292&quot; and &quot;11.0.14.1&quot;. Please find test code on how to reproduce:\r\n```\r\nimport java.io.*;\r\n\r\npublic class TestLambdaSerialization\r\n{\r\n    interface SerRunnable extends Runnable, Serializable\r\n    {\r\n    }\r\n\r\n    static class A implements Serializable\r\n    {\r\n        SerRunnable runnable;\r\n\r\n        A()\r\n        {\r\n            runnable = () -&gt; System.out.println(this);\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]) throws Exception\r\n    {\r\n        System.out.println(System.getProperty(&quot;java.version&quot;));\r\n        A a = new A();\r\n        serializeDeserialize(a);\r\n        serializeDeserialize(a.runnable);\r\n    }\r\n\r\n    public static void serializeDeserialize(Object o1) throws Exception\r\n    {\r\n        System.out.printf(&quot;Starting object %s%n&quot;, o1);\r\n        try (ByteArrayOutputStream outBytes = new ByteArrayOutputStream();\r\n             ObjectOutputStream out = new ObjectOutputStream(outBytes)) {\r\n            out.writeObject(o1);\r\n            out.flush();\r\n            try (ByteArrayInputStream inBytes = new ByteArrayInputStream(outBytes.toByteArray());\r\n                ObjectInputStream in = new ObjectInputStream(inBytes)) {\r\n                Object o2 = in.readObject();\r\n                System.out.printf(&quot;Deserialized object %s%n&quot;, o2);\r\n            }\r\n            catch (ClassCastException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n1.8.0_292\r\nStarting object TestLambdaSerialization$A@b4c966a\r\nDeserialized object TestLambdaSerialization$A@7106e68e\r\nStarting object TestLambdaSerialization$A$$Lambda$1/1480010240@34a245ab\r\njava.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field TestLambdaSerialization$A.runnable of type TestLambdaSerialization$SerRunnable in instance of TestLambdaSerialization$A\r\n\tat java.io.ObjectStreamClass$FieldReflector.setObjFieldValues(ObjectStreamClass.java:2301)\r\n\tat java.io.ObjectStreamClass.setObjFieldValues(ObjectStreamClass.java:1431)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2411)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\r\n\tat java.io.ObjectInputStream.readArray(ObjectInputStream.java:2093)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1655)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2405)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat TestLambdaSerialization.serializeDeserialize(TestLambdaSerialization.java:36)\r\n\tat TestLambdaSerialization.main(TestLambdaSerialization.java:24)\r\n```\r\n\r\nDeserialization of object **a** doesn&#39;t throw the exception, when the lambda expression is the starting point a `ClassCastException` is thrown.\r\n\r\nDoes the order of serialization in case of lambda expressions matter? If yes is there a workaround beside avoiding lambda (replacing them by anonymous inner class)?","title":"Why order of serializing a lambda expression containing a cirular-self-reference matters and can throw a ClassCastException?","body":"<p><code>ClassCastException</code> is thrown by java8 when a lambda expression which contains a cirular reference via its expression arguments to itself, is deserialized.</p>\n<p>The exception only is thrown when the lambda is serialized before the object creating the circular reference.</p>\n<p>Tested on openjdk version &quot;1.8.0_292&quot; and &quot;11.0.14.1&quot;. Please find test code on how to reproduce:</p>\n<pre><code>import java.io.*;\n\npublic class TestLambdaSerialization\n{\n    interface SerRunnable extends Runnable, Serializable\n    {\n    }\n\n    static class A implements Serializable\n    {\n        SerRunnable runnable;\n\n        A()\n        {\n            runnable = () -&gt; System.out.println(this);\n        }\n    }\n\n    public static void main(String args[]) throws Exception\n    {\n        System.out.println(System.getProperty(&quot;java.version&quot;));\n        A a = new A();\n        serializeDeserialize(a);\n        serializeDeserialize(a.runnable);\n    }\n\n    public static void serializeDeserialize(Object o1) throws Exception\n    {\n        System.out.printf(&quot;Starting object %s%n&quot;, o1);\n        try (ByteArrayOutputStream outBytes = new ByteArrayOutputStream();\n             ObjectOutputStream out = new ObjectOutputStream(outBytes)) {\n            out.writeObject(o1);\n            out.flush();\n            try (ByteArrayInputStream inBytes = new ByteArrayInputStream(outBytes.toByteArray());\n                ObjectInputStream in = new ObjectInputStream(inBytes)) {\n                Object o2 = in.readObject();\n                System.out.printf(&quot;Deserialized object %s%n&quot;, o2);\n            }\n            catch (ClassCastException e)\n            {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1.8.0_292\nStarting object TestLambdaSerialization$A@b4c966a\nDeserialized object TestLambdaSerialization$A@7106e68e\nStarting object TestLambdaSerialization$A$$Lambda$1/1480010240@34a245ab\njava.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field TestLambdaSerialization$A.runnable of type TestLambdaSerialization$SerRunnable in instance of TestLambdaSerialization$A\n    at java.io.ObjectStreamClass$FieldReflector.setObjFieldValues(ObjectStreamClass.java:2301)\n    at java.io.ObjectStreamClass.setObjFieldValues(ObjectStreamClass.java:1431)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2411)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n    at java.io.ObjectInputStream.readArray(ObjectInputStream.java:2093)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1655)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2405)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at TestLambdaSerialization.serializeDeserialize(TestLambdaSerialization.java:36)\n    at TestLambdaSerialization.main(TestLambdaSerialization.java:24)\n</code></pre>\n<p>Deserialization of object <strong>a</strong> doesn't throw the exception, when the lambda expression is the starting point a <code>ClassCastException</code> is thrown.</p>\n<p>Does the order of serialization in case of lambda expressions matter? If yes is there a workaround beside avoiding lambda (replacing them by anonymous inner class)?</p>\n"},{"tags":["java","spring","mockito","spring-webflux","webclient"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1649345570,"post_id":71784395,"comment_id":126857482,"body_markdown":"Please include more details, the source for the test where you&#39;re trying to mock out the headers would help.","body":"Please include more details, the source for the test where you&#39;re trying to mock out the headers would help."},{"owner":{"account_id":19476892,"reputation":1,"user_id":14248135,"display_name":"cornelF"},"score":0,"creation_date":1649410796,"post_id":71784395,"comment_id":126873591,"body_markdown":"i added the unit test mocks","body":"i added the unit test mocks"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1649442838,"post_id":71784395,"comment_id":126885654,"body_markdown":"Please read through this [document](https://stackoverflow.com/help/minimal-reproducible-example) as there still aren&#39;t enough details in your question to properly answer it.","body":"Please read through this <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">document</a> as there still aren&#39;t enough details in your question to properly answer it."}],"answers":[{"tags":[],"owner":{"account_id":13590609,"reputation":1,"user_id":9804016,"display_name":"suraj salunkhe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649360297,"creation_date":1649347199,"answer_id":71785391,"question_id":71784395,"body_markdown":"You can try something like below \r\n\r\n    .withHeader(\r\n      HttpHeaders.ACCEPT, \r\n      containing(org.springframework.http.MediaType.APPLICATION_JSON_VALUE)\r\n    )","title":"I m trying to mock the .header but it does not work, does anyone has an idea?","body":"<p>You can try something like below</p>\n<pre><code>.withHeader(\n  HttpHeaders.ACCEPT, \n  containing(org.springframework.http.MediaType.APPLICATION_JSON_VALUE)\n)\n</code></pre>\n"}],"owner":{"account_id":19476892,"reputation":1,"user_id":14248135,"display_name":"cornelF"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649410766,"creation_date":1649343169,"question_id":71784395,"body_markdown":"i tried to mock the header with  when(requestHeadersSpec.header(notNull(), notNull())).thenReturn(requestHeadersSpec);, or something similar but i does not work, does anyone has an idea? \r\n\r\n      return defaultWebClient\r\n                .get()\r\n                .uri(some uri)\r\n                .headers(httpHeaders -&gt; httpHeaders.set(&quot;Content-Type&quot;, &quot;application/pdf&quot;))\r\n                .retrieve()\r\n                .bodyToFlux(DataBuffer.class)\r\n.....\r\n    }\r\n\r\n\r\nthis is how i tried to write the unit test \r\n   when(defaultWebClient.get()).thenReturn(requestHeadersUriSpec);\r\n        doReturn(requestHeadersSpec).when(requestHeadersUriSpec).uri(anyString());\r\n        Mockito.when(requestHeadersSpec.header(anyString())).thenReturn(requestHeadersSpec);\r\n        when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\r\n        DefaultDataBufferFactory factory = new DefaultDataBufferFactory();\r\n\r\n        DefaultDataBuffer dataBuffer =\r\n            factory.wrap(ByteBuffer.wrap(&quot;{\\&quot;username\\&quot;:\\&quot;foo\\&quot;,\\&quot;password\\&quot;:\\&quot;bar\\&quot;}&quot;.getBytes(StandardCharsets.UTF_8)));\r\n        when(responseSpec.bodyToFlux(DataBuffer.class))\r\n            .thenReturn(Flux.just(dataBuffer));","title":"I m trying to mock the .header but it does not work, does anyone has an idea?","body":"<p>i tried to mock the header with  when(requestHeadersSpec.header(notNull(), notNull())).thenReturn(requestHeadersSpec);, or something similar but i does not work, does anyone has an idea?</p>\n<pre><code>  return defaultWebClient\n            .get()\n            .uri(some uri)\n            .headers(httpHeaders -&gt; httpHeaders.set(&quot;Content-Type&quot;, &quot;application/pdf&quot;))\n            .retrieve()\n            .bodyToFlux(DataBuffer.class)\n</code></pre>\n<p>.....\n}</p>\n<p>this is how i tried to write the unit test\nwhen(defaultWebClient.get()).thenReturn(requestHeadersUriSpec);\ndoReturn(requestHeadersSpec).when(requestHeadersUriSpec).uri(anyString());\nMockito.when(requestHeadersSpec.header(anyString())).thenReturn(requestHeadersSpec);\nwhen(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\nDefaultDataBufferFactory factory = new DefaultDataBufferFactory();</p>\n<pre><code>    DefaultDataBuffer dataBuffer =\n        factory.wrap(ByteBuffer.wrap(&quot;{\\&quot;username\\&quot;:\\&quot;foo\\&quot;,\\&quot;password\\&quot;:\\&quot;bar\\&quot;}&quot;.getBytes(StandardCharsets.UTF_8)));\n    when(responseSpec.bodyToFlux(DataBuffer.class))\n        .thenReturn(Flux.just(dataBuffer));\n</code></pre>\n"},{"tags":["java","maven","testng"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649411346,"post_id":71794783,"comment_id":126873777,"body_markdown":"Which surefire plugin version? How does your pom look like? How does your test look like?","body":"Which surefire plugin version? How does your pom look like? How does your test look like?"},{"owner":{"account_id":18326643,"reputation":443,"user_id":13346125,"display_name":"cyrilgeorge153"},"score":1,"creation_date":1649420146,"post_id":71794783,"comment_id":126876931,"body_markdown":"@khmarbaise I was using 2.19.1 and it was updated to 3.0.0-M6 . After the update the count is correct.","body":"@khmarbaise I was using 2.19.1 and it was updated to 3.0.0-M6 . After the update the count is correct."}],"owner":{"account_id":18326643,"reputation":443,"user_id":13346125,"display_name":"cyrilgeorge153"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649410661,"creation_date":1649410661,"question_id":71794783,"body_markdown":"I am using `mvn clean test` to trigger the TestNG test cases for my automation framework.\r\nI have implemented TestNG test retry mechanism in the framework. I have intentionally failed one test case to check the mechanism. When i used the maven command the skiped test case count is displayed as O instead of 1\r\nTestNG version-7.5\r\nMaven version-3.6.3\r\nJdk version -8\r\n","title":"Skipped TestNG test case count is wrong while running test cases using Maven command","body":"<p>I am using <code>mvn clean test</code> to trigger the TestNG test cases for my automation framework.\nI have implemented TestNG test retry mechanism in the framework. I have intentionally failed one test case to check the mechanism. When i used the maven command the skiped test case count is displayed as O instead of 1\nTestNG version-7.5\nMaven version-3.6.3\nJdk version -8</p>\n"},{"tags":["java","importerror","dagger"],"comments":[{"owner":{"account_id":1307646,"reputation":1167,"user_id":1256278,"accept_rate":93,"display_name":"Epicblood"},"score":1,"creation_date":1383264549,"post_id":19718662,"comment_id":29294625,"body_markdown":"Make sure you have java EE 6 packages download, alternatively: on intelliJ, you can hit alt+enter and there will be an option such as &quot;search the web for this package&quot; and it will give you a list of jars that have that package.","body":"Make sure you have java EE 6 packages download, alternatively: on intelliJ, you can hit alt+enter and there will be an option such as &quot;search the web for this package&quot; and it will give you a list of jars that have that package."},{"owner":{"account_id":1410368,"reputation":551,"user_id":1337099,"display_name":"Indigo Nai"},"score":0,"creation_date":1383265144,"post_id":19718662,"comment_id":29294764,"body_markdown":"When I use IntelliJ to search for jars, it tells me that there are no jars available for &#39;javax.inject.Inject&#39;.","body":"When I use IntelliJ to search for jars, it tells me that there are no jars available for &#39;javax.inject.Inject&#39;."},{"owner":{"account_id":1410368,"reputation":551,"user_id":1337099,"display_name":"Indigo Nai"},"score":1,"creation_date":1383275558,"post_id":19718662,"comment_id":29296863,"body_markdown":"Turns out it was a combination of factors:\n\n1.Turn on Annotations in your IntelliJ preferences: http://www.jetbrains.com/idea/webhelp/using-external-annotations.html\n\n2.Include the inject jars: http://mvnrepository.com/artifact/javax.inject/javax.inject\n\n3.Profit","body":"Turns out it was a combination of factors:  1.Turn on Annotations in your IntelliJ preferences: <a href=\"http://www.jetbrains.com/idea/webhelp/using-external-annotations.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/webhelp/using-external-annotations.html</a>  2.Include the inject jars: <a href=\"http://mvnrepository.com/artifact/javax.inject/javax.inject\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.inject/javax.inject</a>  3.Profit"}],"answers":[{"tags":[],"owner":{"account_id":44914,"reputation":75768,"user_id":132047,"accept_rate":88,"display_name":"Jake Wharton"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1383272289,"creation_date":1383272289,"answer_id":19719828,"question_id":19718662,"body_markdown":"Dagger depends on JSR 330, the Java standard annotations which are used for dependency injection (think: `@Inject`, `@Singleton`, etc.).\r\n\r\nThis is a separate jar that you have to include. If you were using a build system with integrated dependency management (Maven, Gradle, Ant+Ivy, sbt) you&#39;d get this for free. If you&#39;re still copying around jars then you have to add it manually.\r\n\r\nYou can download the latest jar from [Maven central][1] (at the bottom).\r\n\r\n [1]: http://search.maven.org/#artifactdetails%7Cjavax.inject%7Cjavax.inject%7C1%7Cjar","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>Dagger depends on JSR 330, the Java standard annotations which are used for dependency injection (think: <code>@Inject</code>, <code>@Singleton</code>, etc.).</p>\n\n<p>This is a separate jar that you have to include. If you were using a build system with integrated dependency management (Maven, Gradle, Ant+Ivy, sbt) you'd get this for free. If you're still copying around jars then you have to add it manually.</p>\n\n<p>You can download the latest jar from <a href=\"http://search.maven.org/#artifactdetails%7Cjavax.inject%7Cjavax.inject%7C1%7Cjar\">Maven central</a> (at the bottom).</p>\n"},{"tags":[],"owner":{"account_id":6850827,"reputation":445,"user_id":5268054,"accept_rate":75,"display_name":"Dwight Lisper"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1465198614,"creation_date":1458568407,"answer_id":36132880,"question_id":19718662,"body_markdown":"add this to your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>add this to your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6293679,"reputation":441,"user_id":5971147,"display_name":"hasskell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466664923,"creation_date":1466664923,"answer_id":37984278,"question_id":19718662,"body_markdown":"In case if anyone using plain Java project not Maven or Gradle or e.t.c. You can download a separate Jar file from here [Inject Jar file][1]\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/javax.inject/javax.inject/1\r\nand then add to your external libraries, in IDEA you can do that as follows:\r\nFile -&gt; Project Structure -&gt; Libraries -&gt; New Project Library (+)\r\n\r\nThen find the path to library and job is done.\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>In case if anyone using plain Java project not Maven or Gradle or e.t.c. You can download a separate Jar file from here <a href=\"http://mvnrepository.com/artifact/javax.inject/javax.inject/1\" rel=\"nofollow\">Inject Jar file</a></p>\n\n<p>and then add to your external libraries, in IDEA you can do that as follows:\nFile -> Project Structure -> Libraries -> New Project Library (+)</p>\n\n<p>Then find the path to library and job is done.</p>\n"},{"tags":[],"owner":{"account_id":14496804,"reputation":1,"user_id":10471113,"display_name":"Liubomyr Protsyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538973537,"creation_date":1538973537,"answer_id":52695466,"question_id":19718662,"body_markdown":"// dependency injection\r\n    implementation &quot;com.google.dagger:dagger:$rootProject.dagger2Version&quot;\r\n  \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    // dependency injection\r\n        implementation &quot;com.google.dagger:dagger:$rootProject.dagger2Version&quot;\r\n        implementation {\r\n            exclude(group: &#39;javax.inject&#39;, module: &#39;javax.inject&#39;)\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>// dependency injection\n    implementation \"com.google.dagger:dagger:$rootProject.dagger2Version\"</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// dependency injection\r\n    implementation \"com.google.dagger:dagger:$rootProject.dagger2Version\"\r\n    implementation {\r\n        exclude(group: 'javax.inject', module: 'javax.inject')\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":437295,"reputation":18265,"user_id":824903,"accept_rate":87,"display_name":"donturner"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1587027204,"creation_date":1587027204,"answer_id":61246275,"question_id":19718662,"body_markdown":"Add the inject library directly from Maven like this: \r\n\r\n- File -&gt; Project Structure -&gt; Project Settings -&gt; Libraries -&gt; Add -&gt; From Maven\r\n- Search for `javax.inject:javax.inject:1`\r\n- After it&#39;s been found click OK\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X80EE.png\r\n\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>Add the inject library directly from Maven like this: </p>\n\n<ul>\n<li>File -> Project Structure -> Project Settings -> Libraries -> Add -> From Maven</li>\n<li>Search for <code>javax.inject:javax.inject:1</code></li>\n<li>After it's been found click OK</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/X80EE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/X80EE.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7073752,"reputation":1085,"user_id":5414535,"accept_rate":0,"display_name":"Josef Vancura"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1649410568,"creation_date":1649410568,"answer_id":71794762,"question_id":19718662,"body_markdown":"put to gradle\r\n\r\n    implementation &#39;javax.inject:javax.inject:1&#39;","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>put to gradle</p>\n<pre><code>implementation 'javax.inject:javax.inject:1'\n</code></pre>\n"}],"owner":{"account_id":1410368,"reputation":551,"user_id":1337099,"display_name":"Indigo Nai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91997,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":6,"score":50,"last_activity_date":1649410568,"creation_date":1383263737,"question_id":19718662,"body_markdown":"I&#39;m trying to implement Dagger as a dependency injector in an IntelliJ project, but my code is failing on:\r\n\r\n    import javax.inject.Inject;\r\n\r\nIntellij is finding the &#39;`javax`&#39; package, but not the &#39;`inject`&#39; package, so it fails.\r\n\r\nI am new to Android, so I apologize if this is a no brainer, but can anyone tell me why the inject package is not being found?\r\n","title":"Can&#39;t locate import javax.inject.Inject package","body":"<p>I'm trying to implement Dagger as a dependency injector in an IntelliJ project, but my code is failing on:</p>\n\n<pre><code>import javax.inject.Inject;\n</code></pre>\n\n<p>Intellij is finding the '<code>javax</code>' package, but not the '<code>inject</code>' package, so it fails.</p>\n\n<p>I am new to Android, so I apologize if this is a no brainer, but can anyone tell me why the inject package is not being found?</p>\n"},{"tags":["java","spring-boot","autowired","dto","mapstruct"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1649354839,"post_id":71782882,"comment_id":126860864,"body_markdown":"Please edit your question to add the [maven-compiler-plugin](https://mapstruct.org/documentation/stable/reference/html/#_set_up) element from your pom.xml file.","body":"Please edit your question to add the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#_set_up\" rel=\"nofollow noreferrer\">maven-compiler-plugin</a> element from your pom.xml file."},{"owner":{"account_id":24732243,"reputation":93,"user_id":18620084,"display_name":"eagerdev"},"score":0,"creation_date":1649408524,"post_id":71782882,"comment_id":126872838,"body_markdown":"I&#39;ve added the pom.xml.","body":"I&#39;ve added the pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":14584814,"reputation":151,"user_id":10534024,"display_name":"Alexandr Ter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649410364,"creation_date":1649410364,"answer_id":71794708,"question_id":71782882,"body_markdown":"An annotation processor must be added to the compiler plugin in order to generate an implementation for `UserMapper` interface.\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t  &lt;configuration&gt;\r\n\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t&lt;path&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t\t&lt;/path&gt;\r\n\t\t&lt;/annotationProcessorPaths&gt;\r\n\t  &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAlso I don&#39;t think can remove `uses = UserService.class`, considering that `UserService` is not a Mapper. Here is the official documentation of `uses` annotation parameter: \r\n&gt; Other mapper types used by this mapper. May be hand-written classes or other mappers generated by MapStruct. No cycle between generated mapper classes must be created.\r\n\r\n\r\n","title":"SpringBoot Could not autowire. No beans of &#39;UserMapper&#39; type found error for Mapstruct Mappers","body":"<p>An annotation processor must be added to the compiler plugin in order to generate an implementation for <code>UserMapper</code> interface.</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;1.8&lt;/source&gt;\n    &lt;target&gt;1.8&lt;/target&gt;\n    &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\n        &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Also I don't think can remove <code>uses = UserService.class</code>, considering that <code>UserService</code> is not a Mapper. Here is the official documentation of <code>uses</code> annotation parameter:</p>\n<blockquote>\n<p>Other mapper types used by this mapper. May be hand-written classes or other mappers generated by MapStruct. No cycle between generated mapper classes must be created.</p>\n</blockquote>\n"}],"owner":{"account_id":24732243,"reputation":93,"user_id":18620084,"display_name":"eagerdev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4540,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71794708,"answer_count":1,"score":2,"last_activity_date":1649410364,"creation_date":1649337369,"question_id":71782882,"body_markdown":"This is my User class.\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_table&quot;)\r\n    @Data\r\n    public class User {\r\n\r\n    @Id\r\n    private Long id;\r\n    private String userName;\r\n    private String password;\r\n     }\r\n\r\nThis is my UserDto, I know the fields name are same. But I&#39;m trying to understand the concept.\r\n\r\n    @Data\r\n    public class UserDto {\r\n\r\n    private Long id;\r\n    private String userName;\r\n    private String password;\r\n    }\r\n\r\n\r\nI wanted to use MapStruct for to Entity-Dto and Dto-Entity convertions. So I&#39;ve wrote a base interface like EntityMapper. \r\n\r\n\r\n    public interface EntityMapper&lt;D, E&gt; {\r\n\r\n    E toEntity(D dto);\r\n\r\n    D toDto(E entity);\r\n\r\n    List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\r\n\r\n    List&lt;D&gt; toDto(List&lt;E&gt; entityList);\r\n\r\n    }\r\n\r\n\r\nThen I created a new Interface which is extends EntityMapper\r\n.\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = UserService.class)\r\n \r\n    public interface UserMapper extends EntityMapper&lt;UserDto , User&gt; {\r\n\r\n\r\n    @Mapping(source = &quot;id&quot;, target = &quot;id&quot;)\r\n    @Mapping(source = &quot;userName&quot;, target = &quot;userName&quot;)\r\n    @Mapping(source = &quot;password&quot;, target = &quot;password&quot;)\r\n    @Override\r\n    User toEntity(UserDto dto);\r\n\r\n    @Override\r\n    UserDto toDto(User entity);\r\n\r\n    @Override\r\n    List&lt;User&gt; toEntity(List&lt;UserDto&gt; dtoList);\r\n\r\n    @Override\r\n    List&lt;UserDto&gt; toDto(List&lt;User&gt; entityList);\r\n\r\n\r\n\r\n This my controller \r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/v1/api/users&quot;)\r\n    public class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto){\r\n\r\n        UserDto res = userService.saveUser(userDto);\r\n        return ResponseEntity.ok(res);\r\n    }\r\n    }\r\n\r\n\r\n\r\nAnd finally when I try to create a new service class and use a reference from UserMapper interface. The spring tells me \r\n \r\nCould not autowire. No beans of &#39;UserMapper&#39; type found.\r\n\r\nfor this line \r\n\r\n       private final UserMapper userMapper;\r\n\r\nAnd this is my whole Service Class. When I delete the  @Service annotation the error is fixing. But this is a service class so I have to put @Service annotation I think.\r\n\r\nI&#39;ve tried to add @Component annotation to UserMapper. But application failed to start.\r\n\r\n  \r\n    @Service\r\n    public class UserService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final UserMapper userMapper;\r\n\r\n    public UserService(UserRepository userRepository, UserMapper userMapper) {\r\n        this.userRepository = userRepository;\r\n        this.userMapper = userMapper;\r\n    }\r\n\r\n    public UserDto saveUser(UserDto userDto){\r\n\r\n        User user = userMapper.toEntity(userDto);\r\n        user = userRepository.save(user);\r\n        UserDto res = userMapper.toDto(user);\r\n        return res;\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\nHere is the pom.xml. \r\n\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n          https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;AprilSevenApp&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;AprilSevenApp&lt;/name&gt;\r\n    &lt;description&gt;AprilSevenApp&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;util&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\nI just added to this dependency for mapstruct. If is there a different dependencies that I have to add, I did&#39;nt know.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct -- \r\n     &gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"SpringBoot Could not autowire. No beans of &#39;UserMapper&#39; type found error for Mapstruct Mappers","body":"<p>This is my User class.</p>\n<pre><code>@Entity\n@Table(name = &quot;user_table&quot;)\n@Data\npublic class User {\n\n@Id\nprivate Long id;\nprivate String userName;\nprivate String password;\n }\n</code></pre>\n<p>This is my UserDto, I know the fields name are same. But I'm trying to understand the concept.</p>\n<pre><code>@Data\npublic class UserDto {\n\nprivate Long id;\nprivate String userName;\nprivate String password;\n}\n</code></pre>\n<p>I wanted to use MapStruct for to Entity-Dto and Dto-Entity convertions. So I've wrote a base interface like EntityMapper.</p>\n<pre><code>public interface EntityMapper&lt;D, E&gt; {\n\nE toEntity(D dto);\n\nD toDto(E entity);\n\nList&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\n\nList&lt;D&gt; toDto(List&lt;E&gt; entityList);\n\n}\n</code></pre>\n<p>Then I created a new Interface which is extends EntityMapper\n.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = UserService.class)\n\npublic interface UserMapper extends EntityMapper&lt;UserDto , User&gt; {\n\n\n@Mapping(source = &quot;id&quot;, target = &quot;id&quot;)\n@Mapping(source = &quot;userName&quot;, target = &quot;userName&quot;)\n@Mapping(source = &quot;password&quot;, target = &quot;password&quot;)\n@Override\nUser toEntity(UserDto dto);\n\n@Override\nUserDto toDto(User entity);\n\n@Override\nList&lt;User&gt; toEntity(List&lt;UserDto&gt; dtoList);\n\n@Override\nList&lt;UserDto&gt; toDto(List&lt;User&gt; entityList);\n</code></pre>\n<p>This my controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1/api/users&quot;)\npublic class UserController {\n\nprivate final UserService userService;\n\npublic UserController(UserService userService) {\n    this.userService = userService;\n}\n\n@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto){\n\n    UserDto res = userService.saveUser(userDto);\n    return ResponseEntity.ok(res);\n}\n}\n</code></pre>\n<p>And finally when I try to create a new service class and use a reference from UserMapper interface. The spring tells me</p>\n<p>Could not autowire. No beans of 'UserMapper' type found.</p>\n<p>for this line</p>\n<pre><code>   private final UserMapper userMapper;\n</code></pre>\n<p>And this is my whole Service Class. When I delete the  @Service annotation the error is fixing. But this is a service class so I have to put @Service annotation I think.</p>\n<p>I've tried to add @Component annotation to UserMapper. But application failed to start.</p>\n<pre><code>@Service\npublic class UserService {\n\nprivate final UserRepository userRepository;\nprivate final UserMapper userMapper;\n\npublic UserService(UserRepository userRepository, UserMapper userMapper) {\n    this.userRepository = userRepository;\n    this.userMapper = userMapper;\n}\n\npublic UserDto saveUser(UserDto userDto){\n\n    User user = userMapper.toEntity(userDto);\n    user = userRepository.save(user);\n    UserDto res = userMapper.toDto(user);\n    return res;\n}\n\n}\n</code></pre>\n<p>Here is the pom.xml.</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n   &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n      https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;AprilSevenApp&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;AprilSevenApp&lt;/name&gt;\n&lt;description&gt;AprilSevenApp&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dot&lt;/groupId&gt;\n        &lt;artifactId&gt;util&lt;/artifactId&gt;\n        &lt;version&gt;0.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I just added to this dependency for mapstruct. If is there a different dependencies that I have to add, I did'nt know.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct -- \n &gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;1.4.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","plugins","properties","jar"],"comments":[{"owner":{"account_id":20268,"reputation":5582,"user_id":48234,"accept_rate":41,"display_name":"Cogsy"},"score":0,"creation_date":1244020340,"post_id":943774,"comment_id":751853,"body_markdown":"What build tool are you using? ANT, Maven, or even just the command line Jar tool?","body":"What build tool are you using? ANT, Maven, or even just the command line Jar tool?"},{"owner":{"display_name":"Flustered"},"score":0,"creation_date":1244020688,"post_id":943774,"comment_id":751867,"body_markdown":"@Cogsy, I am trying to create the jar file with Eclipse export.","body":"@Cogsy, I am trying to create the jar file with Eclipse export."},{"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"score":0,"creation_date":1244021207,"post_id":943774,"comment_id":751894,"body_markdown":"How are you trying to access the property files from pluginC?","body":"How are you trying to access the property files from pluginC?"}],"answers":[{"tags":[],"owner":{"account_id":562140,"reputation":2091,"user_id":105355,"display_name":"g andrieu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244020268,"creation_date":1244020268,"answer_id":943786,"question_id":943774,"body_markdown":"Not sure to understand your problem.\r\nDo you have the jar classpath (in META file) containing the folder where your property files  are stored ?","title":"Package multiple plugins and their properies files into an executable jar","body":"<p>Not sure to understand your problem.\nDo you have the jar classpath (in META file) containing the folder where your property files  are stored ?</p>\n"},{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244020643,"creation_date":1244020643,"answer_id":943803,"question_id":943774,"body_markdown":"When pluginA should use classes frmo pluginB, pluginA has to put the package path to the runtime packages. You can find the configuration in MANIFEST-&gt;Runtime-&gt;&quot;Exported Packages&quot;\r\n\r\nWhen you want to use properties files, you have to use the bundle of the called plugin, to find the right properties file.\r\nTry to get the in pluginC the default plugin implementation of pluginA \r\n\r\n&gt; AbstractUIPlugin.getDefault()\r\n\r\nThan search for the bundle object and use the findResource method to find the properties file.\r\n\r\n\r\nAnother way is to write a Utility class in pluginA that gives you the property value for a specific key. This class you can call from every plugin you want.\r\n\r\n\r\nYou can test your jars in Eclipse by calling\r\n\r\n&gt; Export -&gt; Deployable plug-ins and\r\n&gt; fragments\r\n\r\nThan you can check if the export works and all files are inside the jar. If not, you have to update your MANIFEST or build.properties file\r\n","title":"Package multiple plugins and their properies files into an executable jar","body":"<p>When pluginA should use classes frmo pluginB, pluginA has to put the package path to the runtime packages. You can find the configuration in MANIFEST->Runtime->\"Exported Packages\"</p>\n\n<p>When you want to use properties files, you have to use the bundle of the called plugin, to find the right properties file.\nTry to get the in pluginC the default plugin implementation of pluginA </p>\n\n<blockquote>\n  <p>AbstractUIPlugin.getDefault()</p>\n</blockquote>\n\n<p>Than search for the bundle object and use the findResource method to find the properties file.</p>\n\n<p>Another way is to write a Utility class in pluginA that gives you the property value for a specific key. This class you can call from every plugin you want.</p>\n\n<p>You can test your jars in Eclipse by calling</p>\n\n<blockquote>\n  <p>Export -> Deployable plug-ins and\n  fragments</p>\n</blockquote>\n\n<p>Than you can check if the export works and all files are inside the jar. If not, you have to update your MANIFEST or build.properties file</p>\n"}],"owner":{"display_name":"Flustered"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649410150,"creation_date":1244020021,"question_id":943774,"body_markdown":"It has been a frustrating day trying to package multiple plugins and their property files into an executable jar.\r\n\r\nHow to I package these plugins into a single jar, leaving the properties files outside:\r\n- pluginA with pluginA.properties\r\n- pluginB with pluginB.properties\r\n- pluginC that requires pluginA and pluginB\r\n\r\nThe property files are accessible from within their relevant plugin, e.g. pluginA.properties is accessible from pluginA.  \r\nHowever, the properties files are not accessible from pluginC.","title":"Package multiple plugins and their properies files into an executable jar","body":"<p>It has been a frustrating day trying to package multiple plugins and their property files into an executable jar.</p>\n<p>How to I package these plugins into a single jar, leaving the properties files outside:</p>\n<ul>\n<li>pluginA with pluginA.properties</li>\n<li>pluginB with pluginB.properties</li>\n<li>pluginC that requires pluginA and pluginB</li>\n</ul>\n<p>The property files are accessible from within their relevant plugin, e.g. pluginA.properties is accessible from pluginA.<br />\nHowever, the properties files are not accessible from pluginC.</p>\n"},{"tags":["java","algorithm","substring"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1420368009,"post_id":27764640,"comment_id":43939964,"body_markdown":"Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.","body":"Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1420368020,"post_id":27764640,"comment_id":43939971,"body_markdown":"Not sure why this question is voted off as &quot;too broad&quot; - there is a specific question at hand, and @Program_Dude also provided what he has tried and why it failed.","body":"Not sure why this question is voted off as &quot;too broad&quot; - there is a specific question at hand, and @Program_Dude also provided what he has tried and why it failed."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1420368153,"post_id":27764640,"comment_id":43940011,"body_markdown":"@Amit what he did? he asked for some code? So it is off-topic","body":"@Amit what he did? he asked for some code? So it is off-topic"},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":2,"creation_date":1420368204,"post_id":27764640,"comment_id":43940032,"body_markdown":"@Eliyahu It is completely on-topic. He described a problem, described a solution, explained why the suggested solution fails, and asked for an alternative. More &quot;advanced&quot; problem than &quot;How to parse a string?&quot; is perfectly on topic.","body":"@Eliyahu It is completely on-topic. He described a problem, described a solution, explained why the suggested solution fails, and asked for an alternative. More &quot;advanced&quot; problem than &quot;How to parse a string?&quot; is perfectly on topic."},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1420368249,"post_id":27764640,"comment_id":43940045,"body_markdown":"you have to share some code so if someone can answer you concern can guide you to specific point in the code, to enhance or alter, otherwise, anyone have to solve the whole question in order to present a sol. which is not the purpose of this website, thats why your question is voted `too broad`","body":"you have to share some code so if someone can answer you concern can guide you to specific point in the code, to enhance or alter, otherwise, anyone have to solve the whole question in order to present a sol. which is not the purpose of this website, thats why your question is voted <code>too broad</code>"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1420368285,"post_id":27764640,"comment_id":43940050,"body_markdown":"@Amit especially after your editing where you deleted the problematic part of the question","body":"@Amit especially after your editing where you deleted the problematic part of the question"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1420368379,"post_id":27764640,"comment_id":43940075,"body_markdown":"i think **too broad\nThere are either too many possible answers, or good answers would be too long for this format. Please add details to narrow the answer set or to isolate an issue that can be answered in a few paragraphs.** fits here, the OP not only asking for an answer, but OP asks for the best answer, a fast answer, which will be somehow off-topic","body":"i think <b>too broad There are either too many possible answers, or good answers would be too long for this format. Please add details to narrow the answer set or to isolate an issue that can be answered in a few paragraphs.</b> fits here, the OP not only asking for an answer, but OP asks for the best answer, a fast answer, which will be somehow off-topic"},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1420368407,"post_id":27764640,"comment_id":43940085,"body_markdown":"@Yazan Do you see code in these problems: [Pair socks from a pile](http://stackoverflow.com/questions/14415881/pair-socks-from-a-pile-efficiently), [Algorithm improvement for Coca-Cola can shape recognition](http://stackoverflow.com/questions/10168686/algorithm-improvement-for-coca-cola-can-shape-recognition) , [Plain English explanation of Big O](http://stackoverflow.com/q/487258/572670)? Yet they are perfectly on topic","body":"@Yazan Do you see code in these problems: <a href=\"http://stackoverflow.com/questions/14415881/pair-socks-from-a-pile-efficiently\">Pair socks from a pile</a>, <a href=\"http://stackoverflow.com/questions/10168686/algorithm-improvement-for-coca-cola-can-shape-recognition\">Algorithm improvement for Coca-Cola can shape recognition</a> , <a href=\"http://stackoverflow.com/q/487258/572670\">Plain English explanation of Big O</a>? Yet they are perfectly on topic"},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1420368473,"post_id":27764640,"comment_id":43940100,"body_markdown":"@Eliyahu That&#39;s why we have editting powers, as more experienced users, we can easily make question more understandable and fit perfectly. These tools should be used before voting to close.","body":"@Eliyahu That&#39;s why we have editting powers, as more experienced users, we can easily make question more understandable and fit perfectly. These tools should be used before voting to close."},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1420368698,"post_id":27764640,"comment_id":43940136,"body_markdown":"@amit i don&#39;t want to argue on this just for arguing, and it&#39;s good that you have brought some older questions, it&#39;s clear that these questions are way better and higher quality than this one. thats my opinion, i did not even downvote or flag this question, just saying :)","body":"@amit i don&#39;t want to argue on this just for arguing, and it&#39;s good that you have brought some older questions, it&#39;s clear that these questions are way better and higher quality than this one. thats my opinion, i did not even downvote or flag this question, just saying :)"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1420368849,"post_id":27764640,"comment_id":43940167,"body_markdown":"@Amit If so there should also be an option to remove the moderation flag by the reviewer. I saw this question before your editing, it was bad and I suggested removing / editing it. After your edit the question looks better so my flag will be disputed or even reclined. Do you think it&#39;s fair?","body":"@Amit If so there should also be an option to remove the moderation flag by the reviewer. I saw this question before your editing, it was bad and I suggested removing / editing it. After your edit the question looks better so my flag will be disputed or even reclined. Do you think it&#39;s fair?"}],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420369288,"creation_date":1420368655,"answer_id":27764747,"question_id":27764640,"body_markdown":"1) You should look at using a suffix tree data structure. \r\n\r\n[Suffix Tree][1]\r\n\r\nThis data structure can be built in O(N * log N) time  \r\n(I think even in O(N) time using Ukkonen&#39;s algorithm)  \r\nwhere N is the size/length of the input string.  \r\nIt then allows for solving many (otherwise) difficult  \r\ntasks in O(M) time where M is the size/length of the pattern. \r\n\r\nSo even though I didn&#39;t try your particular problem, I am pretty sure that    \r\nif you use a suffix tree and a smart formulation of your problem, then the    \r\nproblem can be solved by using a suffix tree (in reasonable O time). \r\n\r\n2) A very good book on these (and related) subjects is this one:\r\n\r\n[Algorithms on Strings, Trees and Sequences][2]\r\n\r\nIt&#39;s not really easy to read though unless you&#39;re well-trained in algorithms.   \r\nBut OK, reading such things is the only way to get well-trained ;)\r\n\r\n3) I suggest you have a quick look at this algorithm too. \r\n\r\n[Aho-Corasick Algorithm][3]\r\n\r\nEven though, I am not sure but... this one might be somewhat   \r\noff-topic with respect to your particular problem.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Suffix_tree\r\n  [2]: http://www.amazon.com/Algorithms-Strings-Trees-Sequences-Computational/dp/0521585198\r\n  [3]: http://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_string_matching_algorithm\r\n","title":"Find repeating substring of Length N","body":"<p>1) You should look at using a suffix tree data structure. </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Suffix_tree\" rel=\"nofollow noreferrer\">Suffix Tree</a></p>\n\n<p>This data structure can be built in O(N * log N) time<br>\n(I think even in O(N) time using Ukkonen's algorithm)<br>\nwhere N is the size/length of the input string.<br>\nIt then allows for solving many (otherwise) difficult<br>\ntasks in O(M) time where M is the size/length of the pattern. </p>\n\n<p>So even though I didn't try your particular problem, I am pretty sure that<br>\nif you use a suffix tree and a smart formulation of your problem, then the<br>\nproblem can be solved by using a suffix tree (in reasonable O time). </p>\n\n<p>2) A very good book on these (and related) subjects is this one:</p>\n\n<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/0521585198\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Algorithms on Strings, Trees and Sequences</a></p>\n\n<p>It's not really easy to read though unless you're well-trained in algorithms.<br>\nBut OK, reading such things is the only way to get well-trained ;)</p>\n\n<p>3) I suggest you have a quick look at this algorithm too. </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_string_matching_algorithm\" rel=\"nofollow noreferrer\">Aho-Corasick Algorithm</a></p>\n\n<p>Even though, I am not sure but... this one might be somewhat<br>\noff-topic with respect to your particular problem.</p>\n"},{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420375536,"creation_date":1420369849,"answer_id":27764909,"question_id":27764640,"body_markdown":"I am going to take @peter.petrov&#39;s suggestion and enhance it by explaining how can one actually use a suffix tree to solve the problem:\r\n\r\n     1. Create a suffix tree from the string, let it be `T`.\r\n     2. Find all nodes of depth `n` in the tree, let that set of nodes be `S`. This can be done using DFS, for example.\r\n     3. For each node `n` in `S`, do the following:\r\n         3.1. Do a DFS, and count the number of terminals `n` leads to. Let this number be `count`\r\n         3.2. If `count&gt;1`, yield the substring that is related to `n` (the path from root to `n`), and `count`\r\n\r\nNote that this algorithm treats any substring of length `n` and add it to the set `S`, and from there it search for how many times this was actually a substring by counting the number of terminals this substring leads to.\r\n\r\nThis means that the complexity of the problem is `O(Creation + Traversal)` - meaning, you first create the tree and then you traverse it (easy to see you don&#39;t traverse in steps 2-3 each node in the tree more than once). Since the traversal is obviously &quot;faster&quot; than creation of the tree - it leaves you with `O(Creation)`, which as was pointed by @perer.petrov is `O(|S|)` or `O(|S|log|S|)` depending on your algorithm of choice.","title":"Find repeating substring of Length N","body":"<p>I am going to take @peter.petrov's suggestion and enhance it by explaining how can one actually use a suffix tree to solve the problem:</p>\n\n<pre><code> 1. Create a suffix tree from the string, let it be `T`.\n 2. Find all nodes of depth `n` in the tree, let that set of nodes be `S`. This can be done using DFS, for example.\n 3. For each node `n` in `S`, do the following:\n     3.1. Do a DFS, and count the number of terminals `n` leads to. Let this number be `count`\n     3.2. If `count&gt;1`, yield the substring that is related to `n` (the path from root to `n`), and `count`\n</code></pre>\n\n<p>Note that this algorithm treats any substring of length <code>n</code> and add it to the set <code>S</code>, and from there it search for how many times this was actually a substring by counting the number of terminals this substring leads to.</p>\n\n<p>This means that the complexity of the problem is <code>O(Creation + Traversal)</code> - meaning, you first create the tree and then you traverse it (easy to see you don't traverse in steps 2-3 each node in the tree more than once). Since the traversal is obviously \"faster\" than creation of the tree - it leaves you with <code>O(Creation)</code>, which as was pointed by @perer.petrov is <code>O(|S|)</code> or <code>O(|S|log|S|)</code> depending on your algorithm of choice.</p>\n"}],"owner":{"account_id":5505472,"reputation":99,"user_id":4373429,"display_name":"text_math"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1300,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1649410010,"creation_date":1420367851,"question_id":27764640,"body_markdown":"I have to make a Java program which finds all repeating sub-strings of length n in a given String. The input is string is extremely long and a brute-force approach takes too much time. \r\n\r\n**I alread tried:**\r\n&lt;br&gt;Presently I am finding each sub-string separately and checking for repetitions of that sub-string using the [KMP alogrithm][1]. This too is taking too much time.\r\n\r\nWhat is a more efficient approach for this problem?\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm","title":"Find repeating substring of Length N","body":"<p>I have to make a Java program which finds all repeating sub-strings of length n in a given String. The input is string is extremely long and a brute-force approach takes too much time. </p>\n\n<p><strong>I alread tried:</strong>\n<br>Presently I am finding each sub-string separately and checking for repetitions of that sub-string using the <a href=\"http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm\" rel=\"noreferrer\">KMP alogrithm</a>. This too is taking too much time.</p>\n\n<p>What is a more efficient approach for this problem?</p>\n"},{"tags":["java","java-stream","java-11"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649409703,"creation_date":1649409703,"answer_id":71794574,"question_id":71794304,"body_markdown":"Suppose you have these lombok annotations on your classes (It&#39;s fine if you don&#39;t have lombok - you can just add these boilerplate to your classes if you don&#39;t have them already):\r\n\r\n```\r\n@Getter\r\nclass A {\r\n    private String a1;\r\n    private String a2;\r\n    private String a3;\r\n    private String a4;\r\n    private String a5;\r\n    private String a6;\r\n}\r\n\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(exclude = &quot;a2&quot;)\r\nclass B {\r\n    private String a1;\r\n    private String a2;\r\n}\r\n\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(exclude = &quot;a4&quot;)\r\nclass C {\r\n    private String a3;\r\n    private String a4;\r\n}\r\n\r\n@AllArgsConstructor\r\nclass D {\r\n    private String a5;\r\n    private String a6;\r\n}\r\n```\r\n\r\nNote that it is important that `B` and `C`&#39;s `equals` and `hashCode` only depend on `a1` and `a3` respectively.\r\n\r\nThen given `List&lt;A&gt; aList`, you can nest the `groupingBy` collectors like this, and at the very end, map each thing to a `D`.\r\n\r\n    var map = aList.stream().collect(\r\n        Collectors.groupingBy(\r\n            x -&gt; new B(x.getA1(), x.getA2()),\r\n            Collectors.groupingBy(\r\n                x -&gt; new C(x.getA3(), x.getA4()),\r\n                Collectors.mapping(\r\n                    x -&gt; new D(x.getA5(), x.getA6()),\r\n                    Collectors.toList()\r\n                )\r\n            )\r\n        )\r\n    );\r\n\r\nand `map` will be a `Map&lt;B, Map&lt;C, List&lt;D&gt;&gt;&gt;`.","title":"Grouping a list of flat objects in a nested structure","body":"<p>Suppose you have these lombok annotations on your classes (It's fine if you don't have lombok - you can just add these boilerplate to your classes if you don't have them already):</p>\n<pre><code>@Getter\nclass A {\n    private String a1;\n    private String a2;\n    private String a3;\n    private String a4;\n    private String a5;\n    private String a6;\n}\n\n@AllArgsConstructor\n@EqualsAndHashCode(exclude = &quot;a2&quot;)\nclass B {\n    private String a1;\n    private String a2;\n}\n\n@AllArgsConstructor\n@EqualsAndHashCode(exclude = &quot;a4&quot;)\nclass C {\n    private String a3;\n    private String a4;\n}\n\n@AllArgsConstructor\nclass D {\n    private String a5;\n    private String a6;\n}\n</code></pre>\n<p>Note that it is important that <code>B</code> and <code>C</code>'s <code>equals</code> and <code>hashCode</code> only depend on <code>a1</code> and <code>a3</code> respectively.</p>\n<p>Then given <code>List&lt;A&gt; aList</code>, you can nest the <code>groupingBy</code> collectors like this, and at the very end, map each thing to a <code>D</code>.</p>\n<pre><code>var map = aList.stream().collect(\n    Collectors.groupingBy(\n        x -&gt; new B(x.getA1(), x.getA2()),\n        Collectors.groupingBy(\n            x -&gt; new C(x.getA3(), x.getA4()),\n            Collectors.mapping(\n                x -&gt; new D(x.getA5(), x.getA6()),\n                Collectors.toList()\n            )\n        )\n    )\n);\n</code></pre>\n<p>and <code>map</code> will be a <code>Map&lt;B, Map&lt;C, List&lt;D&gt;&gt;&gt;</code>.</p>\n"}],"owner":{"account_id":24645270,"reputation":137,"user_id":18542993,"display_name":"tazmin32w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71794574,"answer_count":1,"score":1,"last_activity_date":1649409703,"creation_date":1649408430,"question_id":71794304,"body_markdown":"I have a List of objects A, where the object A has this form:\r\n\r\n    Class A {\r\n    private String a1;\r\n    private String a2;\r\n    private String a3;\r\n    private String a4;\r\n    private String a5;\r\n    private String a6;\r\n    }\r\n\r\nI need to group this List&lt;A&gt; first by a1 and then by a3, resulting in this way: \r\n`Map&lt;B, Map&lt;C, List&lt;D&gt;&gt;&gt;`, where the object B has this form\r\n\r\n    Class B {\r\n    private String a1; \r\n    private String a2;\r\n    }\r\n\r\nand where the object C has this form\r\n\r\n    Class C {\r\n    private String a3;\r\n    private String a4;\r\n    }\r\n\r\nand where the object D has this form\r\n\r\n    Class D {\r\n    private String a5;\r\n    private String a6;\r\n    }\r\n\r\nIs this possibile with streams in Java 11? Any other ways to achieve this goal are welcome, thanks very much!","title":"Grouping a list of flat objects in a nested structure","body":"<p>I have a List of objects A, where the object A has this form:</p>\n<pre><code>Class A {\nprivate String a1;\nprivate String a2;\nprivate String a3;\nprivate String a4;\nprivate String a5;\nprivate String a6;\n}\n</code></pre>\n<p>I need to group this List first by a1 and then by a3, resulting in this way:\n<code>Map&lt;B, Map&lt;C, List&lt;D&gt;&gt;&gt;</code>, where the object B has this form</p>\n<pre><code>Class B {\nprivate String a1; \nprivate String a2;\n}\n</code></pre>\n<p>and where the object C has this form</p>\n<pre><code>Class C {\nprivate String a3;\nprivate String a4;\n}\n</code></pre>\n<p>and where the object D has this form</p>\n<pre><code>Class D {\nprivate String a5;\nprivate String a6;\n}\n</code></pre>\n<p>Is this possibile with streams in Java 11? Any other ways to achieve this goal are welcome, thanks very much!</p>\n"},{"tags":["java","spring","mongodb"],"owner":{"account_id":24819930,"reputation":101,"user_id":18700381,"display_name":"daph111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649409638,"creation_date":1649406554,"question_id":71793936,"body_markdown":"My junit tests worked fine on 2.5.3 until I upgraded to the 2.6.X version.\r\nNow I&#39;m getting this error on every class used in the tests:\r\n\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class XXXXXX\r\n\r\nTest dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI&#39;m using mongo embedded for testing:\r\n\r\n`spring.mongodb.embedded.version=3.3.5`\r\n\r\nTests are basic `@SpringBootTest` with `@Test` annotation\r\n\r\nEDIT:\r\n\r\nI saw the issue is the mongodb version `spring.mongodb.embedded.version=4.4.13`\r\n\r\nIt&#39;s trying to get the mongo from a bad url: \r\n\r\nCould not open inputStream for https://downloads.mongodb.org/win32/mongodb-win32-x86_64-4.4.13.zip\r\n\r\nIt should be -&gt; https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-4.4.13.zip\r\n\r\nWhat is happening?","title":"Tests do not execute on Spring 2.6.X","body":"<p>My junit tests worked fine on 2.5.3 until I upgraded to the 2.6.X version.\nNow I'm getting this error on every class used in the tests:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Could not initialize class XXXXXX</p>\n</blockquote>\n<p>Test dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I'm using mongo embedded for testing:</p>\n<p><code>spring.mongodb.embedded.version=3.3.5</code></p>\n<p>Tests are basic <code>@SpringBootTest</code> with <code>@Test</code> annotation</p>\n<p>EDIT:</p>\n<p>I saw the issue is the mongodb version <code>spring.mongodb.embedded.version=4.4.13</code></p>\n<p>It's trying to get the mongo from a bad url:</p>\n<p>Could not open inputStream for <a href=\"https://downloads.mongodb.org/win32/mongodb-win32-x86_64-4.4.13.zip\" rel=\"nofollow noreferrer\">https://downloads.mongodb.org/win32/mongodb-win32-x86_64-4.4.13.zip</a></p>\n<p>It should be -&gt; <a href=\"https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-4.4.13.zip\" rel=\"nofollow noreferrer\">https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-4.4.13.zip</a></p>\n<p>What is happening?</p>\n"},{"tags":["java","scala","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649409466,"creation_date":1649409466,"answer_id":71794528,"question_id":71788702,"body_markdown":"I think that the problem is related to the type of the return value of the method ***evaluate***. The Spark compiler expects a String, as you put in the dataType method, so it detects that type mismatch. If you drop the .toArray and return a String in the ***evaluate*** method, that error should disappear. ","title":"Scala: SPARK UDAF for polynomial curve fitting in Scala, got &quot; type (char[]) cannot be converted to the string type&quot; error","body":"<p>I think that the problem is related to the type of the return value of the method <em><strong>evaluate</strong></em>. The Spark compiler expects a String, as you put in the dataType method, so it detects that type mismatch. If you drop the .toArray and return a String in the <em><strong>evaluate</strong></em> method, that error should disappear.</p>\n"}],"owner":{"account_id":2387330,"reputation":3,"user_id":2088020,"display_name":"conge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71794528,"answer_count":1,"score":0,"last_activity_date":1649409466,"creation_date":1649364290,"question_id":71788702,"body_markdown":"I am trying to do Polynomial curve-fitting on a Spark data frame similar to the one below (Using SPARK version 2.4.0.7.1.5,  Scala version 2.11.12 (OpenJDK 64-Bit Server VM, Java 1.8.0_232)). \r\n\r\nI wrote a UDAF for this, it can be registered but then I get an error at runtime. \r\n\r\nI am new to Scala and UDAF. Could you help me to take a look at my function to see what is wrong with it? \r\n\r\nThanks,\r\n\r\n## Example df\r\n\r\n```\r\nval n = 2\r\n\r\nval data = Seq(\r\n  (1,80.0,-0.361982467), (1,70.0,0.067847447),  (1,50.0,-0.196768255), \r\n  (1,40.0,-0.135489192), (1,65.0,0.005993648),  (1,75.0,0.037561161), \r\n  (1,60.0,-0.212658599), (1,55.0,-0.187080872), (1,85.0, 0.382061571),\r\n  (2,80.0,-0.301982467), (2,70.0,0.097847447),  (2,50.0,-0.186768255), \r\n  (2,40.0,-0.105489192), (2,65.0,0.007993648),  (2,75.0,0.037561161), \r\n  (2,60.0,-0.226528599), (2,55.0,-0.170870872), (2,85.0, 0.320615718)\r\n)\r\n\r\nval df = data.toDF(&quot;id&quot;, &quot;x&quot;,&quot;y&quot;)\r\n```\r\n\r\n## UDAF code\r\n\r\n```\r\nimport org.apache.spark.sql.functions.udf\r\nimport org.apache.spark.sql.{DataFrame, Row}\r\nimport org.apache.spark.sql.types._\r\nimport org.apache.spark.sql.expressions.{MutableAggregationBuffer, UserDefinedAggregateFunction}\r\n\r\n\r\nclass Fitter extends UserDefinedAggregateFunction {\r\n  /**\r\n   * Polynomial curve fitting\r\n   *   y = c + a1*x + a2*x^2 + ...+ an * x^n\r\n   * parameters:\r\n   *    x: Array[Double]\r\n   *    y: Array[Double]\r\n   *    n: Int, polynomial degree\r\n   * Return:\r\n   *  coeff: the fitted parameters [c, a1, a2,...,an]\r\n   */\r\n\r\n  private def polyCurveFitting= (x: Array[Double], y: Array[Double], n: Int) =&gt; {\r\n\r\n    val obs = new WeightedObservedPoints()\r\n\r\n    for (i &lt;- 0 until x.size) {\r\n      obs.add(x(i), y(i))\r\n    }\r\n\r\n    // Instantiate a second-degree polynomial fitter.\r\n    val fitter = PolynomialCurveFitter.create(n)\r\n\r\n    // Retrieve fitted parameters (coefficients of the polynomial function).\r\n    val coeff = fitter.fit(obs.toList())\r\n\r\n    coeff.mkString(&quot;|&quot;)\r\n  }\r\n\r\n  override def inputSchema: StructType =\r\n    new StructType().add(StructField(&quot;x&quot;, DoubleType))\r\n                    .add(StructField(&quot;y&quot;, DoubleType))\r\n                    .add(StructField(&quot;n&quot;, IntegerType))\r\n\r\n  override def bufferSchema: StructType =\r\n    new StructType().add(StructField(&quot;x_&quot;, ArrayType(DoubleType, false)))\r\n                    .add(StructField(&quot;y_&quot;, ArrayType(DoubleType, false)))\r\n                    .add(StructField(&quot;n_&quot;, IntegerType))\r\n\r\n  override def dataType: DataType = StringType\r\n\r\n  override def deterministic: Boolean = true\r\n\r\n  override def initialize(buffer: MutableAggregationBuffer): Unit = {\r\n    buffer.update(0, Array[Double]())\r\n    buffer.update(1, Array[Double]())\r\n    buffer.update(2, 0)\r\n  }\r\n\r\n  override def update(buffer: MutableAggregationBuffer, input: Row): Unit = {\r\n    if(!input.isNullAt(0)) {\r\n      buffer(0) = buffer.getSeq[Double](0).toArray :+ input.getAs[Double](0)\r\n      buffer(1) = buffer.getSeq[Double](1).toArray :+ input.getAs[Double](1)\r\n      buffer(2) = input.getAs[Int](2)\r\n    }\r\n  }\r\n\r\n  def merge(buffer1: MutableAggregationBuffer, buffer2: Row): Unit = {\r\n    buffer1(0) = buffer1.getSeq[Double](0).toArray ++ buffer2.getSeq[Double](0)\r\n    buffer1(1) = buffer1.getSeq[Double](1).toArray ++ buffer2.getSeq[Double](1)\r\n    buffer1(2) = buffer2.getAs[Int](2)\r\n  }\r\n\r\ndef evaluate(buffer: Row): Array[Char] =\r\n   polyCurveFitting(buffer.getSeq[Double](0).toArray,\r\n                    buffer.getSeq[Double](1).toArray,\r\n                    buffer.getAs[Int](2)).toArray\r\n}\r\n\r\n\r\n```\r\n\r\n## Calling the function\r\n\r\n```\r\nval fitter_test = new Fitter()\r\n\r\nspark.udf.register(&quot;fitter&quot;, fitter_test)\r\n\r\ndf.createOrReplaceTempView(&quot;test&quot;)\r\n\r\nspark.sql(&quot;select fitter(x,y,2) from test group by id&quot;).show()\r\n\r\nval df_poly = df.groupBy(&quot;id&quot;).agg(fitter($&quot;x&quot;,$&quot;y&quot;,lit(n)).as(&quot;estimated_parameters&quot;))\r\n\r\ndf_poly.show()\r\n```\r\n\r\n## Expected output(pseudo):\r\n\r\n```\r\n+---+-----------------------------------------------------------------+\r\n| id|                                             estimated_parameters|\r\n+---+-----------------------------------------------------------------+\r\n|  1|&quot;0.5034579587428405|-0.026916449551428016|2.6802822386554184E-4&quot; |\r\n|  2|&quot;0.5344951514280016|-0.020286916457958744|2.6916469164575874E-4&quot; |\r\n+---+-----------------------------------------------------------------+\r\n\r\n```\r\n\r\n## Error message:\r\n\r\n```\r\nWARN scheduler.TaskSetManager: Lost task 18.0 in stage 7.0 (TID 27, -----.analytics.loc, executor 19): java.lang.IllegalArgumentException: The value ([C@52a57e78) of the type (char[]) cannot be converted to the string type\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\r\n\tat org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\r\n\tat org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\r\n\tat org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\r\n\tat org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\r\n\tat org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nERROR scheduler.TaskSetManager: Task 18 in stage 7.0 failed 4 times; aborting job\r\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 18 in stage 7.0 failed 4 times, most recent failure: Lost task 18.3 in stage 7.0 (TID 52, --------.analytics.loc, executor 19): java.lang.IllegalArgumentException: The value ([C@4f761fc2) of the type (char[]) cannot be converted to the string type\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\r\n\tat org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\r\n\tat org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\r\n\tat org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\r\n\tat org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\r\n\tat org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\r\n\tat org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nCaused by: java.lang.IllegalArgumentException: The value ([C@4f761fc2) of the type (char[]) cannot be converted to the string type\r\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\r\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\r\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\r\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\r\n  at org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\r\n  at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\r\n  at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\r\n  at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\r\n  at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\r\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\r\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\r\n  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\r\n  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n  at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\r\n  at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\r\n  at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n  at org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n  at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n  at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\r\n  at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n  at java.lang.Thread.run(Thread.java:748)\r\n\r\n```","title":"Scala: SPARK UDAF for polynomial curve fitting in Scala, got &quot; type (char[]) cannot be converted to the string type&quot; error","body":"<p>I am trying to do Polynomial curve-fitting on a Spark data frame similar to the one below (Using SPARK version 2.4.0.7.1.5,  Scala version 2.11.12 (OpenJDK 64-Bit Server VM, Java 1.8.0_232)).</p>\n<p>I wrote a UDAF for this, it can be registered but then I get an error at runtime.</p>\n<p>I am new to Scala and UDAF. Could you help me to take a look at my function to see what is wrong with it?</p>\n<p>Thanks,</p>\n<h2>Example df</h2>\n<pre><code>val n = 2\n\nval data = Seq(\n  (1,80.0,-0.361982467), (1,70.0,0.067847447),  (1,50.0,-0.196768255), \n  (1,40.0,-0.135489192), (1,65.0,0.005993648),  (1,75.0,0.037561161), \n  (1,60.0,-0.212658599), (1,55.0,-0.187080872), (1,85.0, 0.382061571),\n  (2,80.0,-0.301982467), (2,70.0,0.097847447),  (2,50.0,-0.186768255), \n  (2,40.0,-0.105489192), (2,65.0,0.007993648),  (2,75.0,0.037561161), \n  (2,60.0,-0.226528599), (2,55.0,-0.170870872), (2,85.0, 0.320615718)\n)\n\nval df = data.toDF(&quot;id&quot;, &quot;x&quot;,&quot;y&quot;)\n</code></pre>\n<h2>UDAF code</h2>\n<pre><code>import org.apache.spark.sql.functions.udf\nimport org.apache.spark.sql.{DataFrame, Row}\nimport org.apache.spark.sql.types._\nimport org.apache.spark.sql.expressions.{MutableAggregationBuffer, UserDefinedAggregateFunction}\n\n\nclass Fitter extends UserDefinedAggregateFunction {\n  /**\n   * Polynomial curve fitting\n   *   y = c + a1*x + a2*x^2 + ...+ an * x^n\n   * parameters:\n   *    x: Array[Double]\n   *    y: Array[Double]\n   *    n: Int, polynomial degree\n   * Return:\n   *  coeff: the fitted parameters [c, a1, a2,...,an]\n   */\n\n  private def polyCurveFitting= (x: Array[Double], y: Array[Double], n: Int) =&gt; {\n\n    val obs = new WeightedObservedPoints()\n\n    for (i &lt;- 0 until x.size) {\n      obs.add(x(i), y(i))\n    }\n\n    // Instantiate a second-degree polynomial fitter.\n    val fitter = PolynomialCurveFitter.create(n)\n\n    // Retrieve fitted parameters (coefficients of the polynomial function).\n    val coeff = fitter.fit(obs.toList())\n\n    coeff.mkString(&quot;|&quot;)\n  }\n\n  override def inputSchema: StructType =\n    new StructType().add(StructField(&quot;x&quot;, DoubleType))\n                    .add(StructField(&quot;y&quot;, DoubleType))\n                    .add(StructField(&quot;n&quot;, IntegerType))\n\n  override def bufferSchema: StructType =\n    new StructType().add(StructField(&quot;x_&quot;, ArrayType(DoubleType, false)))\n                    .add(StructField(&quot;y_&quot;, ArrayType(DoubleType, false)))\n                    .add(StructField(&quot;n_&quot;, IntegerType))\n\n  override def dataType: DataType = StringType\n\n  override def deterministic: Boolean = true\n\n  override def initialize(buffer: MutableAggregationBuffer): Unit = {\n    buffer.update(0, Array[Double]())\n    buffer.update(1, Array[Double]())\n    buffer.update(2, 0)\n  }\n\n  override def update(buffer: MutableAggregationBuffer, input: Row): Unit = {\n    if(!input.isNullAt(0)) {\n      buffer(0) = buffer.getSeq[Double](0).toArray :+ input.getAs[Double](0)\n      buffer(1) = buffer.getSeq[Double](1).toArray :+ input.getAs[Double](1)\n      buffer(2) = input.getAs[Int](2)\n    }\n  }\n\n  def merge(buffer1: MutableAggregationBuffer, buffer2: Row): Unit = {\n    buffer1(0) = buffer1.getSeq[Double](0).toArray ++ buffer2.getSeq[Double](0)\n    buffer1(1) = buffer1.getSeq[Double](1).toArray ++ buffer2.getSeq[Double](1)\n    buffer1(2) = buffer2.getAs[Int](2)\n  }\n\ndef evaluate(buffer: Row): Array[Char] =\n   polyCurveFitting(buffer.getSeq[Double](0).toArray,\n                    buffer.getSeq[Double](1).toArray,\n                    buffer.getAs[Int](2)).toArray\n}\n\n\n</code></pre>\n<h2>Calling the function</h2>\n<pre><code>val fitter_test = new Fitter()\n\nspark.udf.register(&quot;fitter&quot;, fitter_test)\n\ndf.createOrReplaceTempView(&quot;test&quot;)\n\nspark.sql(&quot;select fitter(x,y,2) from test group by id&quot;).show()\n\nval df_poly = df.groupBy(&quot;id&quot;).agg(fitter($&quot;x&quot;,$&quot;y&quot;,lit(n)).as(&quot;estimated_parameters&quot;))\n\ndf_poly.show()\n</code></pre>\n<h2>Expected output(pseudo):</h2>\n<pre><code>+---+-----------------------------------------------------------------+\n| id|                                             estimated_parameters|\n+---+-----------------------------------------------------------------+\n|  1|&quot;0.5034579587428405|-0.026916449551428016|2.6802822386554184E-4&quot; |\n|  2|&quot;0.5344951514280016|-0.020286916457958744|2.6916469164575874E-4&quot; |\n+---+-----------------------------------------------------------------+\n\n</code></pre>\n<h2>Error message:</h2>\n<pre><code>WARN scheduler.TaskSetManager: Lost task 18.0 in stage 7.0 (TID 27, -----.analytics.loc, executor 19): java.lang.IllegalArgumentException: The value ([C@52a57e78) of the type (char[]) cannot be converted to the string type\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\n    at org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\n    at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\n    at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\n    at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\n    at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:123)\n    at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nERROR scheduler.TaskSetManager: Task 18 in stage 7.0 failed 4 times; aborting job\norg.apache.spark.SparkException: Job aborted due to stage failure: Task 18 in stage 7.0 failed 4 times, most recent failure: Lost task 18.3 in stage 7.0 (TID 52, --------.analytics.loc, executor 19): java.lang.IllegalArgumentException: The value ([C@4f761fc2) of the type (char[]) cannot be converted to the string type\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\n    at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\n    at org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\n    at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\n    at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\n    at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\n    at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\n    at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n    at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:123)\n    at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\nCaused by: java.lang.IllegalArgumentException: The value ([C@4f761fc2) of the type (char[]) cannot be converted to the string type\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:290)\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$StringConverter$.toCatalystImpl(CatalystTypeConverters.scala:285)\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$CatalystTypeConverter.toCatalyst(CatalystTypeConverters.scala:103)\n  at org.apache.spark.sql.catalyst.CatalystTypeConverters$$anonfun$createToCatalystConverter$2.apply(CatalystTypeConverters.scala:396)\n  at org.apache.spark.sql.execution.aggregate.ScalaUDAF.eval(udaf.scala:444)\n  at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:232)\n  at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$generateResultProjection$1.apply(AggregationIterator.scala:224)\n  at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:150)\n  at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:29)\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:266)\n  at org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:257)\n  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n  at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:858)\n  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n  at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n  at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n  at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:346)\n  at org.apache.spark.rdd.RDD.iterator(RDD.scala:310)\n  at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n  at org.apache.spark.scheduler.Task.run(Task.scala:123)\n  at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n  at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1289)\n  at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n  at java.lang.Thread.run(Thread.java:748)\n\n</code></pre>\n"},{"tags":["java","jvm","jit","micro-optimization"],"answers":[{"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1649409022,"creation_date":1247851515,"answer_id":1144650,"question_id":1144624,"body_markdown":"It&#39;s beyond impressive. All of these are things you `can&#39;t` do in C++ (certainly to the same extent Java does). Keep in mind that early versions of Java started the &quot;slow&quot; reputation by not having these things, and we keep improving *significantly* over time. This is still a big research area.\r\n\r\n* [Efficient interface dispatch.][1]\r\n* [Inlining and direct dispatch of virtual method calls.][2]\r\n* Very fast object allocation with [bump pointers][3] (slide 19 or so) and [escape analysis][4].\r\n\r\n  [1]: http://www.springerlink.com/content/9lvkunnh80fapue7/\r\n  [2]: https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.34.3108\r\n  [3]: https://www.oracle.com/java/technologies/javase/javase-core-technologies-apis.html\r\n  [4]: https://web.archive.org/web/20150527090724/http://java.dzone.com/articles/escape-analysis-java-6-update","title":"Smart JVM and JIT Micro-Optimizations","body":"<p>It's beyond impressive. All of these are things you <code>can't</code> do in C++ (certainly to the same extent Java does). Keep in mind that early versions of Java started the &quot;slow&quot; reputation by not having these things, and we keep improving <em>significantly</em> over time. This is still a big research area.</p>\n<ul>\n<li><a href=\"http://www.springerlink.com/content/9lvkunnh80fapue7/\" rel=\"nofollow noreferrer\">Efficient interface dispatch.</a></li>\n<li><a href=\"https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.34.3108\" rel=\"nofollow noreferrer\">Inlining and direct dispatch of virtual method calls.</a></li>\n<li>Very fast object allocation with <a href=\"https://www.oracle.com/java/technologies/javase/javase-core-technologies-apis.html\" rel=\"nofollow noreferrer\">bump pointers</a> (slide 19 or so) and <a href=\"https://web.archive.org/web/20150527090724/http://java.dzone.com/articles/escape-analysis-java-6-update\" rel=\"nofollow noreferrer\">escape analysis</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1247856663,"creation_date":1247856663,"answer_id":1145041,"question_id":1144624,"body_markdown":"Java is smarter at inlining as it can\r\n\r\n - inline code only available at runtime\r\n   or even dynamically generated.\r\n - inline virtual methods (up to two at once)\r\n - perform escape analysis on inlined methods and the methods they were inlined to. (Much harder to do\r\n   in C++)\r\n\r\n","title":"Smart JVM and JIT Micro-Optimizations","body":"<p>Java is smarter at inlining as it can</p>\n\n<ul>\n<li>inline code only available at runtime\nor even dynamically generated.</li>\n<li>inline virtual methods (up to two at once)</li>\n<li>perform escape analysis on inlined methods and the methods they were inlined to. (Much harder to do\nin C++)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450885185,"creation_date":1248759107,"answer_id":1192078,"question_id":1144624,"body_markdown":"Oracle has a wiki on [Performance techniques used in the Hotspot JVM][1].\r\n\r\n [1]: http://www.oracle.com/technetwork/java/whitepaper-135217.html","title":"Smart JVM and JIT Micro-Optimizations","body":"<p>Oracle has a wiki on <a href=\"http://www.oracle.com/technetwork/java/whitepaper-135217.html\" rel=\"nofollow noreferrer\">Performance techniques used in the Hotspot JVM</a>.</p>\n"}],"owner":{"account_id":7944,"reputation":21068,"user_id":14007,"accept_rate":92,"display_name":"Alex Beardsley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1649409022,"creation_date":1247851141,"question_id":1144624,"body_markdown":"Over time, Sun&#39;s JVM and JIT have gotten pretty smart.  Things that used to be common knowledge as being a necessary micro-optimization are no longer needed, because it gets taken care of for you.\r\n\r\nFor example, it used to be the case that you should mark all possible classes as final, so the JVM inlines as much code as possible.  However now, the JIT knows whether your class is final based on what classes get loaded in at runtime, and if you load a class to make the original one non-final-able, it un-inlines the methods and un-marks it as final.\r\n\r\nWhat other smart micro-optimizations does the JVM or JIT do for you?\r\n\r\n**EDIT**: I made this a community wiki; I&#39;d like to collect these over time.","title":"Smart JVM and JIT Micro-Optimizations","body":"<p>Over time, Sun's JVM and JIT have gotten pretty smart.  Things that used to be common knowledge as being a necessary micro-optimization are no longer needed, because it gets taken care of for you.</p>\n\n<p>For example, it used to be the case that you should mark all possible classes as final, so the JVM inlines as much code as possible.  However now, the JIT knows whether your class is final based on what classes get loaded in at runtime, and if you load a class to make the original one non-final-able, it un-inlines the methods and un-marks it as final.</p>\n\n<p>What other smart micro-optimizations does the JVM or JIT do for you?</p>\n\n<p><strong>EDIT</strong>: I made this a community wiki; I'd like to collect these over time.</p>\n"},{"tags":["java","outputstream","fileoutputstream","bean-io"],"comments":[{"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"score":0,"creation_date":1650538090,"post_id":71786926,"comment_id":127144066,"body_markdown":"Did you solve your problem?","body":"Did you solve your problem?"}],"answers":[{"tags":[],"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649408655,"creation_date":1649408655,"answer_id":71794351,"question_id":71786926,"body_markdown":"It looks like you haven&#39;t written enough data to the `OutputstreamWriter` for it to push some data to the underlying `ByteArrayOutputStream`. You have 2 options here.\r\n\r\n 1. Flush the `writer` object manually and then close it. This will then write the data to the `outputStream`. I would not recommend this approach because the `writer` may not be flushed or closed should there be any Exception before you could manually flush and close the `writer`.\r\n 2. Use a `try-with-resource` block for the `writer` which should take care of closing the `writer` and ultimately flushing the data to the `outputStream`\r\n\r\nThis should do the trick:\r\n\r\n    final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    try (final OutputStreamWriter writer = new OutputStreamWriter(outputStream) ) {\r\n      final BeanWriter bw = factory.createWriter(&quot;sb&quot;, writer);\r\n    \r\n      final Team teamVO = new Team();\r\n      teamVO.setName(&quot;TESTING&quot;);\r\n    \r\n      bw.write(teamVO); // teamVO has some value.\r\n    }\r\n    \r\n    try (OutputStream os = new FileOutputStream(&quot;file.txt&quot;) ) {\r\n      outputStream.writeTo(os); // Doing this only to check outputStream has some value\r\n    }\r\n","title":"Beanio - How to write to stream object","body":"<p>It looks like you haven't written enough data to the <code>OutputstreamWriter</code> for it to push some data to the underlying <code>ByteArrayOutputStream</code>. You have 2 options here.</p>\n<ol>\n<li>Flush the <code>writer</code> object manually and then close it. This will then write the data to the <code>outputStream</code>. I would not recommend this approach because the <code>writer</code> may not be flushed or closed should there be any Exception before you could manually flush and close the <code>writer</code>.</li>\n<li>Use a <code>try-with-resource</code> block for the <code>writer</code> which should take care of closing the <code>writer</code> and ultimately flushing the data to the <code>outputStream</code></li>\n</ol>\n<p>This should do the trick:</p>\n<pre><code>final ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\ntry (final OutputStreamWriter writer = new OutputStreamWriter(outputStream) ) {\n  final BeanWriter bw = factory.createWriter(&quot;sb&quot;, writer);\n\n  final Team teamVO = new Team();\n  teamVO.setName(&quot;TESTING&quot;);\n\n  bw.write(teamVO); // teamVO has some value.\n}\n\ntry (OutputStream os = new FileOutputStream(&quot;file.txt&quot;) ) {\n  outputStream.writeTo(os); // Doing this only to check outputStream has some value\n}\n</code></pre>\n"}],"owner":{"account_id":2194914,"reputation":341,"user_id":1940878,"accept_rate":40,"display_name":"User_1940878"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649408655,"creation_date":1649354425,"question_id":71786926,"body_markdown":"I am trying to create a fixed length file output using beanio. I don&#39;t want to write the physical file, instead I want to write content to an OutputStream.\r\n\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    StreamFactory factory = StreamFactory.newInstance(); \r\n    StreamBuilder builder = new StreamBuilder(&quot;sb&quot;)\r\n                .format(&quot;fixedlength&quot;)\r\n                .parser(new FixedLengthParserBuilder())\r\n                .addRecord(Team.class);\r\n    \r\n    factory.define(builder);\r\n    OutputStreamWriter writer = new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\r\n    BeanWriter bw = sf.createWriter(&quot;sb&quot;, writer);\r\n    \r\n    bw.write(teamVO) // teamVO has some value.\r\n    \r\n    try(OutputStream os = new FileOutputStream(&quot;file.txt&quot;)){\r\n    \toutputStream.writeTo(os); //Doing this only to check outputStream has some value\r\n    }\r\n\r\nHere the file created, file.txt has no content in it, It is of size 0 kb.\r\n\r\nI am able to write the file in the following method, but as I don&#39;t want to write the file in physical location, I thought of writing the contents in to a outputStream and then later in a different method, it can be converted in to a file\r\n\r\n    //This is working and creates file successfully\r\n    StreamFactory factory = StreamFactory.newInstance();\r\n    StreamBuilder builder = new StreamBuilder(&quot;sb&quot;)\r\n    \t\t\t\t.format(&quot;fixedlength&quot;)\r\n    \t\t\t\t.parser(new FixedLengthParserBuilder())\r\n    \t\t\t\t.addRecord(Team.class)\r\n    \t\t\r\n    factory.define(builder);\r\n    BeanWriter bw = factory.createWriter(&quot;sb&quot;, new File(&quot;file.txt&quot;));\r\n    bw.write(teamVO);\r\n\r\nWhy in the first approach the file is created with size 0 kb?","title":"Beanio - How to write to stream object","body":"<p>I am trying to create a fixed length file output using beanio. I don't want to write the physical file, instead I want to write content to an OutputStream.</p>\n<pre><code>ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\nStreamFactory factory = StreamFactory.newInstance(); \nStreamBuilder builder = new StreamBuilder(&quot;sb&quot;)\n            .format(&quot;fixedlength&quot;)\n            .parser(new FixedLengthParserBuilder())\n            .addRecord(Team.class);\n\nfactory.define(builder);\nOutputStreamWriter writer = new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\nBeanWriter bw = sf.createWriter(&quot;sb&quot;, writer);\n\nbw.write(teamVO) // teamVO has some value.\n\ntry(OutputStream os = new FileOutputStream(&quot;file.txt&quot;)){\n    outputStream.writeTo(os); //Doing this only to check outputStream has some value\n}\n</code></pre>\n<p>Here the file created, file.txt has no content in it, It is of size 0 kb.</p>\n<p>I am able to write the file in the following method, but as I don't want to write the file in physical location, I thought of writing the contents in to a outputStream and then later in a different method, it can be converted in to a file</p>\n<pre><code>//This is working and creates file successfully\nStreamFactory factory = StreamFactory.newInstance();\nStreamBuilder builder = new StreamBuilder(&quot;sb&quot;)\n                .format(&quot;fixedlength&quot;)\n                .parser(new FixedLengthParserBuilder())\n                .addRecord(Team.class)\n        \nfactory.define(builder);\nBeanWriter bw = factory.createWriter(&quot;sb&quot;, new File(&quot;file.txt&quot;));\nbw.write(teamVO);\n</code></pre>\n<p>Why in the first approach the file is created with size 0 kb?</p>\n"},{"tags":["java","hibernate","dropwizard"],"comments":[{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1649407397,"post_id":71794010,"comment_id":126872422,"body_markdown":"Please, specify library version you are using and provide error stacktrace in full.","body":"Please, specify library version you are using and provide error stacktrace in full."},{"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"score":0,"creation_date":1649408785,"post_id":71794010,"comment_id":126872919,"body_markdown":"@YuriiMelnychuk have added version and stack trace","body":"@YuriiMelnychuk have added version and stack trace"},{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1649408881,"post_id":71794010,"comment_id":126872950,"body_markdown":"Thanks. Error says `Classes must have either one (and only one) constructor annotated with\n@Inject or a zero-argument constructor that is not private.` so I would suggest adding `@Inject` annotation to your constructor.","body":"Thanks. Error says <code>Classes must have either one (and only one) constructor annotated with @Inject or a zero-argument constructor that is not private.</code> so I would suggest adding <code>@Inject</code> annotation to your constructor."},{"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"score":0,"creation_date":1649409094,"post_id":71794010,"comment_id":126873006,"body_markdown":"Had tried with injection error shifts to dao class\n1) Could not find a suitable constructor in com.mySite.surfservice.core.dao.MyRequestDao. Classes must have either one (and only one) constructor annotated with @Inject or a zero-argument constructor that is not private.\n  at com.mySite.surfservice.core.dao.MyRequestDao.class(MyRequestDao.java:9)","body":"Had tried with injection error shifts to dao class 1) Could not find a suitable constructor in com.mySite.surfservice.core.dao.MyRequestDao. Classes must have either one (and only one) constructor annotated with @Inject or a zero-argument constructor that is not private.   at com.mySite.surfservice.core.dao.MyRequestDao.class(MyRequest&zwnj;&#8203;Dao.java:9)"},{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1649409170,"post_id":71794010,"comment_id":126873020,"body_markdown":"So do the same with dao class. And read documentation regarding DI in Dropwizard.","body":"So do the same with dao class. And read documentation regarding DI in Dropwizard."},{"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"score":0,"creation_date":1649409277,"post_id":71794010,"comment_id":126873049,"body_markdown":"Dao layer takes sessionFactory as argument in constructor, so error is thrown\ncom.google.inject.CreationException: Unable to create injector, see the following errors:\n1) No implementation for org.hibernate.SessionFactory was bound.","body":"Dao layer takes sessionFactory as argument in constructor, so error is thrown com.google.inject.CreationException: Unable to create injector, see the following errors: 1) No implementation for org.hibernate.SessionFactory was bound."},{"owner":{"account_id":8094195,"reputation":858,"user_id":6099243,"display_name":"Yurii Melnychuk"},"score":0,"creation_date":1649419898,"post_id":71794010,"comment_id":126876838,"body_markdown":"Per error message, `SessionFactory` should be present in DI container. I recommend you check your DI config.","body":"Per error message, <code>SessionFactory</code> should be present in DI container. I recommend you check your DI config."}],"owner":{"account_id":5776444,"reputation":55,"user_id":4558381,"display_name":"Dev Dev"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649408653,"creation_date":1649406871,"question_id":71794010,"body_markdown":"(Dropwizard-core:1.3.12)\r\n\r\nBelow are my resource,dao and server class. I looked into dropwizard tutorials(https://www.dropwizard.io/en/latest/manual/hibernate.html) regarding this but not able to remove constructor error \r\n```\r\n1) Could not find a suitable constructor in com.mySite.surfService.server.resources.v1.MyResource. Classes must have either one (and only one) constructor annotated with\r\n@Inject or a zero-argument constructor that is not private.\r\nat com.mySite.surfService.server.resources.v1.MyResource.class(MyResource.java:31)\r\nat ru.vyarus.dropwizard.guice.module.installer.feature.jersey.ResourceInstaller.install(ResourceInstaller.java:46)\r\nru.vyarus.dropwizard.guice.module.GuiceSupportModule -&gt; ru.vyarus.dropwizard.guice.module.installer.InstallerModule)\r\n1 error\r\n\tat com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:543)\r\n```\r\n\r\n\r\nTried @Inject in MyResource also but did not work\r\n```\r\npublic class MyResource {\r\n    private final MyDao mydao;\r\n\r\n    public MyResource(MyDao mydao) {\r\n        this.mydao = mydao;\r\n    }\r\n\r\n\r\n    @POST\r\n    @Path(&quot;v1/getById&quot;)\r\n    @Produces(&quot;application/json&quot;)\r\n    @UnitOfWork\r\n    public Response getById() {\r\n        mydao.getById();\r\n        ........\r\n    }\r\n }\r\n\r\n\r\n public class MyDao extends AbstractDAO&lt;MyRequest&gt; {\r\n    public MyDao(SessionFactory sessionFactory) {\r\n        super(sessionFactory);\r\n    }\r\n\r\n    public MyRequest findById(Long id) {\r\n        return get(id);\r\n    }\r\n}\r\n\r\npublic class Server extends Application&lt;T&gt; {\r\n@Override\r\n    protected void run(DropwizardConfiguration configuration, Environment e) throws Exception {\r\n        ...\r\n        MyDao dao = new MyDao(hibernate.getSessionFactory());\r\n        MyResource myResource = new MyResource(dao);\r\n        e.jersey().register(myResource);\r\n    }\r\n\r\n    private HibernateBundle&lt;DropwizardConfiguration&gt; hibernate = new HibernateBundle&lt;DropwizardConfiguration&gt;(MyRequest.class) {\r\n        @Override\r\n        public DataSourceFactory getDataSourceFactory(DropwizardConfiguration configuration) {\r\n            return configuration.getDataSourceFactory();\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void initialize(Bootstrap&lt;DropwizardConfiguration&gt; bootstrap) {\r\n        ...\r\n        bootstrap.addBundle(hibernate);\r\n    }\r\n}\r\n```","title":"Could not find a suitable constructor using dropwizard","body":"<p>(Dropwizard-core:1.3.12)</p>\n<p>Below are my resource,dao and server class. I looked into dropwizard tutorials(<a href=\"https://www.dropwizard.io/en/latest/manual/hibernate.html\" rel=\"nofollow noreferrer\">https://www.dropwizard.io/en/latest/manual/hibernate.html</a>) regarding this but not able to remove constructor error</p>\n<pre><code>1) Could not find a suitable constructor in com.mySite.surfService.server.resources.v1.MyResource. Classes must have either one (and only one) constructor annotated with\n@Inject or a zero-argument constructor that is not private.\nat com.mySite.surfService.server.resources.v1.MyResource.class(MyResource.java:31)\nat ru.vyarus.dropwizard.guice.module.installer.feature.jersey.ResourceInstaller.install(ResourceInstaller.java:46)\nru.vyarus.dropwizard.guice.module.GuiceSupportModule -&gt; ru.vyarus.dropwizard.guice.module.installer.InstallerModule)\n1 error\n    at com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:543)\n</code></pre>\n<p>Tried @Inject in MyResource also but did not work</p>\n<pre><code>public class MyResource {\n    private final MyDao mydao;\n\n    public MyResource(MyDao mydao) {\n        this.mydao = mydao;\n    }\n\n\n    @POST\n    @Path(&quot;v1/getById&quot;)\n    @Produces(&quot;application/json&quot;)\n    @UnitOfWork\n    public Response getById() {\n        mydao.getById();\n        ........\n    }\n }\n\n\n public class MyDao extends AbstractDAO&lt;MyRequest&gt; {\n    public MyDao(SessionFactory sessionFactory) {\n        super(sessionFactory);\n    }\n\n    public MyRequest findById(Long id) {\n        return get(id);\n    }\n}\n\npublic class Server extends Application&lt;T&gt; {\n@Override\n    protected void run(DropwizardConfiguration configuration, Environment e) throws Exception {\n        ...\n        MyDao dao = new MyDao(hibernate.getSessionFactory());\n        MyResource myResource = new MyResource(dao);\n        e.jersey().register(myResource);\n    }\n\n    private HibernateBundle&lt;DropwizardConfiguration&gt; hibernate = new HibernateBundle&lt;DropwizardConfiguration&gt;(MyRequest.class) {\n        @Override\n        public DataSourceFactory getDataSourceFactory(DropwizardConfiguration configuration) {\n            return configuration.getDataSourceFactory();\n        }\n    };\n\n    @Override\n    protected void initialize(Bootstrap&lt;DropwizardConfiguration&gt; bootstrap) {\n        ...\n        bootstrap.addBundle(hibernate);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","docker","spring-boot"],"comments":[{"owner":{"account_id":1407178,"reputation":22174,"user_id":1334561,"display_name":"Muhammad Soliman"},"score":0,"creation_date":1528210414,"post_id":50703061,"comment_id":88415527,"body_markdown":"I think your issue is because of `classpath` make sure you add `classpath` and it should work","body":"I think your issue is because of <code>classpath</code> make sure you add <code>classpath</code> and it should work"},{"owner":{"account_id":448941,"reputation":4335,"user_id":843443,"accept_rate":91,"display_name":"Jeff"},"score":0,"creation_date":1528210500,"post_id":50703061,"comment_id":88415591,"body_markdown":"I&#39;m somewhat new to maven. Where is this added? in the pom or in a docker file somewhere? Additionally, why would it run outside a docker file but not inside one?","body":"I&#39;m somewhat new to maven. Where is this added? in the pom or in a docker file somewhere? Additionally, why would it run outside a docker file but not inside one?"},{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1528210669,"post_id":50703061,"comment_id":88415711,"body_markdown":"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies If you want to include the externalJar inside your spring boot jar, you will have to import it in as a resource.","body":"<a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#System_Dependencies\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> If you want to include the externalJar inside your spring boot jar, you will have to import it in as a resource."},{"owner":{"account_id":448941,"reputation":4335,"user_id":843443,"accept_rate":91,"display_name":"Jeff"},"score":0,"creation_date":1528210727,"post_id":50703061,"comment_id":88415750,"body_markdown":"I saw that article. I believe I&#39;ve done that above?","body":"I saw that article. I believe I&#39;ve done that above?"},{"owner":{"account_id":1407178,"reputation":22174,"user_id":1334561,"display_name":"Muhammad Soliman"},"score":1,"creation_date":1528210746,"post_id":50703061,"comment_id":88415761,"body_markdown":"https://stackoverflow.com/a/20795547/1334561","body":"<a href=\"https://stackoverflow.com/a/20795547/1334561\">stackoverflow.com/a/20795547/1334561</a>"},{"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"score":0,"creation_date":1528210813,"post_id":50703061,"comment_id":88415809,"body_markdown":"need your dockerfile to find out your problem. add your dockerfile in question.","body":"need your dockerfile to find out your problem. add your dockerfile in question."},{"owner":{"account_id":448941,"reputation":4335,"user_id":843443,"accept_rate":91,"display_name":"Jeff"},"score":0,"creation_date":1528211520,"post_id":50703061,"comment_id":88416257,"body_markdown":"@msoliman I&#39;ve now done that, and I&#39;m printing out the classpath in my Application.main(), and when running on the docker instance, it&#39;s only printing out my jar for the classpath. That should be the case, right since that other jar should be included inside my jar?","body":"@msoliman I&#39;ve now done that, and I&#39;m printing out the classpath in my Application.main(), and when running on the docker instance, it&#39;s only printing out my jar for the classpath. That should be the case, right since that other jar should be included inside my jar?"},{"owner":{"account_id":1407178,"reputation":22174,"user_id":1334561,"display_name":"Muhammad Soliman"},"score":0,"creation_date":1528211925,"post_id":50703061,"comment_id":88416528,"body_markdown":"you can use `-cp` to include directory for the other `jar` file","body":"you can use <code>-cp</code> to include directory for the other <code>jar</code> file"},{"owner":{"account_id":448941,"reputation":4335,"user_id":843443,"accept_rate":91,"display_name":"Jeff"},"score":0,"creation_date":1528212754,"post_id":50703061,"comment_id":88417039,"body_markdown":"I was able to reproduce the error outside of docker. using `java -jar ./main.jar` gives the error now. adding `-cp ./src/main/resources/externalJar.jar` didn&#39;t help","body":"I was able to reproduce the error outside of docker. using <code>java -jar .&#47;main.jar</code> gives the error now. adding <code>-cp .&#47;src&#47;main&#47;resources&#47;externalJar.jar</code> didn&#39;t help"},{"owner":{"account_id":1407178,"reputation":22174,"user_id":1334561,"display_name":"Muhammad Soliman"},"score":0,"creation_date":1528213434,"post_id":50703061,"comment_id":88417436,"body_markdown":"should be `-cp ./src/main/resources/`","body":"should be <code>-cp .&#47;src&#47;main&#47;resources&#47;</code>"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1528220298,"post_id":50703061,"comment_id":88421063,"body_markdown":"Springboot should build a self contained executable jar, yes? Did you do `mvn package spring-boot:repackage` to build it? See https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-maven-plugin.html","body":"Springboot should build a self contained executable jar, yes? Did you do <code>mvn package spring-boot:repackage</code> to build it? See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-maven-plugin.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":448941,"reputation":4335,"user_id":843443,"accept_rate":91,"display_name":"Jeff"},"score":0,"creation_date":1528225450,"post_id":50703061,"comment_id":88423542,"body_markdown":"I ended up creating a local repo in the project, and that fixed the issue.","body":"I ended up creating a local repo in the project, and that fixed the issue."}],"answers":[{"tags":[],"owner":{"account_id":3460362,"reputation":752,"user_id":2897683,"accept_rate":93,"display_name":"thahgr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649408496,"creation_date":1649408496,"answer_id":71794311,"question_id":50703061,"body_markdown":"I have run into the same problem. In an app we include some old libraries that only exist as external jars and locally it could run, but on a docker image it could not. \r\n\r\nThe trick was to include the `&lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;` besides everything else. \r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n\r\nso the plugin dependency is something like below, but was not enough until the `includeSystemScope` was added.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dddd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ggggg&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/lib/aaa.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n\r\nfound it from this link\r\n\r\nhttps://programmer.group/5dd6e1dae23a9.html\r\n","title":"Springboot jar runs, but not inside Docker container","body":"<p>I have run into the same problem. In an app we include some old libraries that only exist as external jars and locally it could run, but on a docker image it could not.</p>\n<p>The trick was to include the <code>&lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;</code> besides everything else.</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>so the plugin dependency is something like below, but was not enough until the <code>includeSystemScope</code> was added.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;dddd&lt;/groupId&gt;\n        &lt;artifactId&gt;ggggg&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/lib/aaa.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>found it from this link</p>\n<p><a href=\"https://programmer.group/5dd6e1dae23a9.html\" rel=\"nofollow noreferrer\">https://programmer.group/5dd6e1dae23a9.html</a></p>\n"}],"owner":{"account_id":448941,"reputation":4335,"user_id":843443,"accept_rate":91,"display_name":"Jeff"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71794311,"answer_count":1,"score":1,"last_activity_date":1649408496,"creation_date":1528210331,"question_id":50703061,"body_markdown":"I have recently dockerized a maven / springboot project. It runs outside docker just fine, and it even starts in a docker container, but as soon as I try to interact with the application, I receive a `java.lang.ClassNotFoundException`. \r\n\r\nMy understanding is that this has to do with the classpath, but why would the jar run locally and not in the docker container?\r\n\r\nThe class that is missing belongs to an external jar file that is in the project directory structure and listed in the pom.xml as a dependency:\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;externalJar&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;externalJar&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/src/main/resources/library/externalJar.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nHere is my dockerfile:\r\n\r\n\r\n    FROM openjdk:8-alpine\r\n    \r\n    RUN apk update &amp;&amp; apk add bash\r\n    \r\n    RUN mkdir -p /opt/app\r\n    ENV PROJECT_HOME /opt/app\r\n    \r\n    COPY target/main.jar $PROJECT_HOME/main.jar\r\n    \r\n    WORKDIR $PROJECT_HOME\r\n    EXPOSE 8282\r\n    \r\n    CMD [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;./main.jar&quot;]\r\n\r\n\r\n\r\nWhat am I missing?","title":"Springboot jar runs, but not inside Docker container","body":"<p>I have recently dockerized a maven / springboot project. It runs outside docker just fine, and it even starts in a docker container, but as soon as I try to interact with the application, I receive a <code>java.lang.ClassNotFoundException</code>. </p>\n\n<p>My understanding is that this has to do with the classpath, but why would the jar run locally and not in the docker container?</p>\n\n<p>The class that is missing belongs to an external jar file that is in the project directory structure and listed in the pom.xml as a dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;externalJar&lt;/groupId&gt;\n        &lt;artifactId&gt;externalJar&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/resources/library/externalJar.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Here is my dockerfile:</p>\n\n<pre><code>FROM openjdk:8-alpine\n\nRUN apk update &amp;&amp; apk add bash\n\nRUN mkdir -p /opt/app\nENV PROJECT_HOME /opt/app\n\nCOPY target/main.jar $PROJECT_HOME/main.jar\n\nWORKDIR $PROJECT_HOME\nEXPOSE 8282\n\nCMD [\"java\", \"-Djava.security.egd=file:/dev/./urandom\",\"-jar\",\"./main.jar\"]\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["java","jboss","wildfly","fix-protocol","datadog"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1591027664,"post_id":62123685,"comment_id":109894713,"body_markdown":"You shouldn&#39;t need the `com.sun.management.jmxremote` or adding the log manager to the boot class path. You&#39;d need to expose the management interface to a remote IP address. That said you shouldn&#39;t have the `-Xbootclasspath/p` defined twice.","body":"You shouldn&#39;t need the <code>com.sun.management.jmxremote</code> or adding the log manager to the boot class path. You&#39;d need to expose the management interface to a remote IP address. That said you shouldn&#39;t have the <code>-Xbootclasspath&#47;p</code> defined twice."},{"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"score":0,"creation_date":1634801996,"post_id":62123685,"comment_id":123124814,"body_markdown":"have you got the solution?","body":"have you got the solution?"},{"owner":{"account_id":2324956,"reputation":967,"user_id":2039693,"accept_rate":50,"display_name":"Ramesh Subramanian"},"score":0,"creation_date":1635755509,"post_id":62123685,"comment_id":123369571,"body_markdown":"By default, remote JMX is enabled on the management endpoint of WildFly server, No need to add `-Dcom.sun.management.jmxremote` args","body":"By default, remote JMX is enabled on the management endpoint of WildFly server, No need to add <code>-Dcom.sun.management.jmxremote</code> args"}],"answers":[{"tags":[],"owner":{"account_id":938600,"reputation":566,"user_id":967088,"display_name":"Will Tatam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591033406,"creation_date":1591033406,"answer_id":62137876,"question_id":62123685,"body_markdown":"Use the supplied jconsole.sh script in bin, don&#39;t try and build up the classpath by hand. You also need to use the custom service url. See the docs for details","title":"Wildfly 17 enabling JMX remote on the same server gives logmanager errors","body":"<p>Use the supplied jconsole.sh script in bin, don't try and build up the classpath by hand. You also need to use the custom service url. See the docs for details</p>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634840081,"creation_date":1634840081,"answer_id":69666891,"question_id":62123685,"body_markdown":"I encountered the same issue when I upgrade Wildfly server version from 10.1 to 24.0.0 and I resolved it using the below changes. \r\n\r\nThe below `JAVA_OPTS` changes are required to be added at the end of the `standalone.conf` file\r\n\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/a:$JBOSS_HOME/modules/system/layers/base/org/wildfly/common/main/wildfly-common-1.5.4.Final.jar -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Xbootclasspath/a:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.18.Final.jar  -Xbootclasspath/a:$JBOSS_HOME/modules/system/layers/base/org/jboss/log4j/logmanager/main/log4j-jboss-logmanager-1.2.0.Final.jar&quot;\r\n\r\n# Enable jmx remote management\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.port=4447 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false  -Dsun.util.logging.disableCallerCheck=true  -Djava.rmi.server.hostname=localhost -Dcom.sun.management.jmxremote.local.only=false&quot;\r\n```\r\n\r\n**NOTE:** wildfly-common-&lt;version&gt;.jar, jboss-logmanager-&lt;version&gt;.jar, log4j-jboss-logmanager-&lt;version&gt;.jar dependencies should be added to classpath using `-Xbootclasspath/a`","title":"Wildfly 17 enabling JMX remote on the same server gives logmanager errors","body":"<p>I encountered the same issue when I upgrade Wildfly server version from 10.1 to 24.0.0 and I resolved it using the below changes.</p>\n<p>The below <code>JAVA_OPTS</code> changes are required to be added at the end of the <code>standalone.conf</code> file</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/a:$JBOSS_HOME/modules/system/layers/base/org/wildfly/common/main/wildfly-common-1.5.4.Final.jar -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.logmanager -Xbootclasspath/a:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.18.Final.jar  -Xbootclasspath/a:$JBOSS_HOME/modules/system/layers/base/org/jboss/log4j/logmanager/main/log4j-jboss-logmanager-1.2.0.Final.jar&quot;\n\n# Enable jmx remote management\nJAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote.port=4447 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false  -Dsun.util.logging.disableCallerCheck=true  -Djava.rmi.server.hostname=localhost -Dcom.sun.management.jmxremote.local.only=false&quot;\n</code></pre>\n<p><strong>NOTE:</strong> wildfly-common-.jar, jboss-logmanager-.jar, log4j-jboss-logmanager-.jar dependencies should be added to classpath using <code>-Xbootclasspath/a</code></p>\n"},{"tags":[],"owner":{"account_id":3870525,"reputation":163,"user_id":3205899,"display_name":"alparslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649407169,"creation_date":1649407169,"answer_id":71794059,"question_id":62123685,"body_markdown":"change in  standalone.sh: #!/bin/sh to #!/bin/bash\r\n\r\nthen\r\n\r\nin standalone.conf :\r\n\r\n    JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.logmanager,jdk.nashorn.api,com.sun.crypto.provider,$JBOSS_MODULES_SYSTEM_PKGS&quot;\r\n\r\n...\r\n\r\n       JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9010 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false&quot;\r\n\r\n...\r\n\r\n    BOOT_CP=()\r\n    BOOT_CP=(&quot;$(find $JBOSS_HOME/modules -type f -name &quot;jboss-logmanager-*.jar&quot;)&quot;)\r\n    BOOT_CP+=(&quot;$(find $JBOSS_HOME/modules -type f -name &quot;wildfly-common*.jar&quot;)&quot;)\r\n    for f in $(find $JBOSS_HOME/modules -type f -name &quot;javax.json-*.jar&quot;); do\r\n        BOOT_CP+=(&quot;$f&quot;)\r\n    done\r\n    x=&quot;-Xbootclasspath/a&quot;\r\n    for p in &quot;${BOOT_CP[@]}&quot;; do\r\n        x+=&quot;:$p&quot;\r\n    done\r\n    JAVA_OPTS=&quot;-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Dsun.util.logging.disableCallerCheck=true $x $JAVA_OPTS&quot;\r\n\r\n\r\nit is work but I have still some issues...\r\n\r\n","title":"Wildfly 17 enabling JMX remote on the same server gives logmanager errors","body":"<p>change in  standalone.sh: #!/bin/sh to #!/bin/bash</p>\n<p>then</p>\n<p>in standalone.conf :</p>\n<pre><code>JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.logmanager,jdk.nashorn.api,com.sun.crypto.provider,$JBOSS_MODULES_SYSTEM_PKGS&quot;\n</code></pre>\n<p>...</p>\n<pre><code>   JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9010 -Dcom.sun.management.jmxremote.local.only=false -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false&quot;\n</code></pre>\n<p>...</p>\n<pre><code>BOOT_CP=()\nBOOT_CP=(&quot;$(find $JBOSS_HOME/modules -type f -name &quot;jboss-logmanager-*.jar&quot;)&quot;)\nBOOT_CP+=(&quot;$(find $JBOSS_HOME/modules -type f -name &quot;wildfly-common*.jar&quot;)&quot;)\nfor f in $(find $JBOSS_HOME/modules -type f -name &quot;javax.json-*.jar&quot;); do\n    BOOT_CP+=(&quot;$f&quot;)\ndone\nx=&quot;-Xbootclasspath/a&quot;\nfor p in &quot;${BOOT_CP[@]}&quot;; do\n    x+=&quot;:$p&quot;\ndone\nJAVA_OPTS=&quot;-Djava.util.logging.manager=org.jboss.logmanager.LogManager -Dsun.util.logging.disableCallerCheck=true $x $JAVA_OPTS&quot;\n</code></pre>\n<p>it is work but I have still some issues...</p>\n"}],"owner":{"account_id":14818786,"reputation":1237,"user_id":10701833,"display_name":"Marcus Adams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2953,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1649407169,"creation_date":1590967852,"question_id":62123685,"body_markdown":"I’m looking to enable JMX to allow datadog to monitor our java JBoss wildfly systems but keep hitting runtime errors\r\n\r\nI have set up the standalone.xml with\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:jmx:1.3&quot;&gt;              \r\n                &lt;expose-resolved-model/&gt;                     \r\n                &lt;expose-expression-model/&gt;                           \r\n                &lt;remoting-connector use-management-endpoint=&quot;true&quot;/&gt;                       \r\n    &lt;/subsystem&gt;\r\n\r\nAnd\r\n\r\n    &lt;interfaces&gt;\r\n        &lt;interface name=&quot;management&quot;&gt;\r\n        &lt;inet-address value=&quot;${jboss.bind.address.management:127.0.0.1}&quot;/&gt;\r\n    &lt;/interface&gt;\r\n\r\nAs well as \r\n\r\n    &lt;socket-binding name=&quot;management-http&quot; interface=&quot;management&quot; port=&quot;${jboss.management.http.port:9990}&quot;/&gt;\r\n\r\nThen in my startup.sh i have added\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote&quot;\r\n\r\nBut this gives me \r\n\r\n&gt; java.lang.IllegalStateException: The LogManager was not properly\r\n&gt; installed (you must set the &quot;java.util.logging.manager&quot; system\r\n&gt; property to &quot;org.jboss.logmanage r.LogManager&quot;)\r\n\r\nThis seems to be fairly common if I look at both here and on google but there seem to be different solutions depending on the version of wildfly.\r\n\r\nI think I need to do something like\r\nSet at the start of the standalone.conf\r\n\r\n    JBOSS_MODULES_SYSTEM_PKGS=&quot;org.jboss.logmanager&quot;\r\n\r\nAnd then\r\n\r\n    JBOSS_HOME=&quot;/opt/wildfly&quot;\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.11.Final.jar -Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/log4j/logmanager/main/log4j-jboss-logmanager-1.2.0.Final.jar&quot;\r\n\r\nAt the end.\r\n\r\nBut I still get errors “Could not load Logmanager &quot;org.jboss.logmanager.LogManager&quot;”\r\n\r\nAny advice would be appreciated.\r\n\r\n\r\n\r\n","title":"Wildfly 17 enabling JMX remote on the same server gives logmanager errors","body":"<p>I’m looking to enable JMX to allow datadog to monitor our java JBoss wildfly systems but keep hitting runtime errors</p>\n\n<p>I have set up the standalone.xml with</p>\n\n<pre><code>&lt;subsystem xmlns=\"urn:jboss:domain:jmx:1.3\"&gt;              \n            &lt;expose-resolved-model/&gt;                     \n            &lt;expose-expression-model/&gt;                           \n            &lt;remoting-connector use-management-endpoint=\"true\"/&gt;                       \n&lt;/subsystem&gt;\n</code></pre>\n\n<p>And</p>\n\n<pre><code>&lt;interfaces&gt;\n    &lt;interface name=\"management\"&gt;\n    &lt;inet-address value=\"${jboss.bind.address.management:127.0.0.1}\"/&gt;\n&lt;/interface&gt;\n</code></pre>\n\n<p>As well as </p>\n\n<pre><code>&lt;socket-binding name=\"management-http\" interface=\"management\" port=\"${jboss.management.http.port:9990}\"/&gt;\n</code></pre>\n\n<p>Then in my startup.sh i have added</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -Dcom.sun.management.jmxremote\"\n</code></pre>\n\n<p>But this gives me </p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: The LogManager was not properly\n  installed (you must set the \"java.util.logging.manager\" system\n  property to \"org.jboss.logmanage r.LogManager\")</p>\n</blockquote>\n\n<p>This seems to be fairly common if I look at both here and on google but there seem to be different solutions depending on the version of wildfly.</p>\n\n<p>I think I need to do something like\nSet at the start of the standalone.conf</p>\n\n<pre><code>JBOSS_MODULES_SYSTEM_PKGS=\"org.jboss.logmanager\"\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>JBOSS_HOME=\"/opt/wildfly\"\nJAVA_OPTS=\"$JAVA_OPTS -Djava.util.logging.manager=org.jboss.logmanager.LogManager -Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/logmanager/main/jboss-logmanager-2.1.11.Final.jar -Xbootclasspath/p:$JBOSS_HOME/modules/system/layers/base/org/jboss/log4j/logmanager/main/log4j-jboss-logmanager-1.2.0.Final.jar\"\n</code></pre>\n\n<p>At the end.</p>\n\n<p>But I still get errors “Could not load Logmanager \"org.jboss.logmanager.LogManager\"”</p>\n\n<p>Any advice would be appreciated.</p>\n"},{"tags":["java","garbage-collection","java-memory-model"],"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1493811724,"post_id":43747221,"comment_id":74559149,"body_markdown":"Concerning your last question, I guess that a new TLAB gets allocated for the thread. Think of allocating TLABs instead of small memory pieces like a simple optimization making frequent work thread local instead of requiring locks.","body":"Concerning your last question, I guess that a new TLAB gets allocated for the thread. Think of allocating TLABs instead of small memory pieces like a simple optimization making frequent work thread local instead of requiring locks."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1649406885,"creation_date":1493794224,"answer_id":43753051,"question_id":43747221,"body_markdown":"The idea of a TLAB is to reduce the need of synchronization between threads. Using TLABs, this need is reduced as any thread has an area it can use and expect that it is the only thread using this area. Assuming that a TLAB can hold 100 objects, a thread would only need to aquire a lock for claiming more memory when allocating the 101st object. Without TLABs, this would be required for every object. The downside is of course that you potentially waste space.\r\n\r\nLarge objects are typically allocated outside of a TLAB as they void the advantage of reducing the frequency of synchronized memory allocation. Some objects might not even fit inside of a TLAB.\r\n\r\nYou can set the size of a TLAB using the `-XX:TLABSize` flag but generally I do not recommend you to mess with these settings unless you really discovered a problem that you can solve by that.","title":"What is a TLAB (Thread Local Allocation Buffer)?","body":"<p>The idea of a TLAB is to reduce the need of synchronization between threads. Using TLABs, this need is reduced as any thread has an area it can use and expect that it is the only thread using this area. Assuming that a TLAB can hold 100 objects, a thread would only need to aquire a lock for claiming more memory when allocating the 101st object. Without TLABs, this would be required for every object. The downside is of course that you potentially waste space.</p>\n<p>Large objects are typically allocated outside of a TLAB as they void the advantage of reducing the frequency of synchronized memory allocation. Some objects might not even fit inside of a TLAB.</p>\n<p>You can set the size of a TLAB using the <code>-XX:TLABSize</code> flag but generally I do not recommend you to mess with these settings unless you really discovered a problem that you can solve by that.</p>\n"}],"owner":{"account_id":1938528,"reputation":4492,"user_id":1745356,"accept_rate":57,"display_name":"user1745356"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14211,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":43753051,"answer_count":1,"score":47,"last_activity_date":1649406885,"creation_date":1493759126,"question_id":43747221,"body_markdown":"I couldn&#39;t find a comprehensive source that would explain the concept in a clear manner. My understanding is that a thread is given some chunk of memory in the eden where it allocates new objects. A competing thread will end up having a somewhat consecutive chunk of eden. What happens if the first thread runs out of free area in its TLAB? Would it request a new chunk of eden?","title":"What is a TLAB (Thread Local Allocation Buffer)?","body":"<p>I couldn't find a comprehensive source that would explain the concept in a clear manner. My understanding is that a thread is given some chunk of memory in the eden where it allocates new objects. A competing thread will end up having a somewhat consecutive chunk of eden. What happens if the first thread runs out of free area in its TLAB? Would it request a new chunk of eden?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1649397081,"post_id":71791616,"comment_id":126869386,"body_markdown":"Quick and easy solution for small files: Make a temporary copy first with the new name then your existing method works, and simply delete the temporary copy once the file is sent.","body":"Quick and easy solution for small files: Make a temporary copy first with the new name then your existing method works, and simply delete the temporary copy once the file is sent."}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649406743,"creation_date":1649406743,"answer_id":71793977,"question_id":71791616,"body_markdown":"You can duplicate the original file and upload it. Once the required code is being executed, if you wish to delete then delete the file.\r\n\r\n    public String uploadCSVFileSendKeys(String filePath) {\r\n    \t\tFile originalFile = new File(filePath);\r\n    \t\tFile renamedFile = new File(System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources&quot;\r\n    \t\t\t\t+ RandomStringUtils.randomAlphanumeric(24) + &quot;.xlxs&quot;);\r\n    \t\tFileUtils.copyFile(originalFile, renamedFile);\r\n    \t\tuploadFile.sendKeys(renamedFile);\r\n    \t\treturn renamedFile.getAbsolutePath();\r\n    \t}\r\n\r\nTo delete `File`\r\n\r\n\t\tFileUtils.delete(new File(&quot;duplicateFileLocation&quot;));\r\n","title":"How to rename the file before uploading in selenium","body":"<p>You can duplicate the original file and upload it. Once the required code is being executed, if you wish to delete then delete the file.</p>\n<pre><code>public String uploadCSVFileSendKeys(String filePath) {\n        File originalFile = new File(filePath);\n        File renamedFile = new File(System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources&quot;\n                + RandomStringUtils.randomAlphanumeric(24) + &quot;.xlxs&quot;);\n        FileUtils.copyFile(originalFile, renamedFile);\n        uploadFile.sendKeys(renamedFile);\n        return renamedFile.getAbsolutePath();\n    }\n</code></pre>\n<p>To delete <code>File</code></p>\n<pre><code>    FileUtils.delete(new File(&quot;duplicateFileLocation&quot;));\n</code></pre>\n"}],"owner":{"account_id":24867995,"reputation":1,"user_id":18742828,"display_name":"Nitharshana Sathyamoorthy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649406743,"creation_date":1649391387,"question_id":71791616,"body_markdown":"I am trying to upload same file in multiple tests and under every test the file name should be unique. So the file name should be renamed automaticaly before uplaoding. I have provided the code snippet that i have used for uplaoding below.\r\n\r\n//Constants.java\r\n   \r\n\r\n     public static final String EXCEL_FILE = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources   /TestData/a.xlxs&quot;\r\n\r\n//page class //HomePage.java\r\n   \r\n\r\n     public void uploadCSVFileSendKeys(String filePath){\r\n            uploadFile.sendKeys(filePath);\r\n        }\r\n\r\n//test class\r\n\r\n    @Test(priority =1  )\r\n    public void VerifySuccessfulFileUpload(){\r\n        LoginPage loginPage = PageFactory.initElements(driver, LoginPage.class);\r\n        HomePage homePage = PageFactory.initElements(driver, HomePage.class);\r\n        loginPage.login(Constants.userName, Constants.password);\r\n        homePage.uploadCSVFileSendKeys(Constants.EXCEL_FILE);\r\n        homePage.uploadFile();\r\n    }\r\n\r\nI tried adding &quot;filepath + System.currentTimeMillis()&quot;, But provided an error as &quot;File not found&quot;. Tried adding date and time to the file path, same error was thrown.\r\n\r\nPlease provide a solution for this.\r\n\r\n\r\n","title":"How to rename the file before uploading in selenium","body":"<p>I am trying to upload same file in multiple tests and under every test the file name should be unique. So the file name should be renamed automaticaly before uplaoding. I have provided the code snippet that i have used for uplaoding below.</p>\n<p>//Constants.java</p>\n<pre><code> public static final String EXCEL_FILE = System.getProperty(&quot;user.dir&quot;) + &quot;/src/main/resources   /TestData/a.xlxs&quot;\n</code></pre>\n<p>//page class //HomePage.java</p>\n<pre><code> public void uploadCSVFileSendKeys(String filePath){\n        uploadFile.sendKeys(filePath);\n    }\n</code></pre>\n<p>//test class</p>\n<pre><code>@Test(priority =1  )\npublic void VerifySuccessfulFileUpload(){\n    LoginPage loginPage = PageFactory.initElements(driver, LoginPage.class);\n    HomePage homePage = PageFactory.initElements(driver, HomePage.class);\n    loginPage.login(Constants.userName, Constants.password);\n    homePage.uploadCSVFileSendKeys(Constants.EXCEL_FILE);\n    homePage.uploadFile();\n}\n</code></pre>\n<p>I tried adding &quot;filepath + System.currentTimeMillis()&quot;, But provided an error as &quot;File not found&quot;. Tried adding date and time to the file path, same error was thrown.</p>\n<p>Please provide a solution for this.</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":2966321,"reputation":3443,"user_id":2519395,"accept_rate":76,"display_name":"SlimenTN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649406549,"creation_date":1649406549,"question_id":71793934,"body_markdown":"I&#39;m trying to lock an entity while working on it, and I&#39;m doing the following:&lt;br&gt;\r\n1: retrieveing the entity from the database using this method:&lt;br&gt;\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findById(final Serializable id) {\r\n    \tSession session = getSession();\r\n    \tT e = session.get(persistentClass, id);\r\n    \treturn Optional.ofNullable(e);\r\n    }\r\n2: locking the entity:\r\n\r\n    public T myMethod(final Serialzable id){\r\n       //...\r\n       T entity = getById(id);\r\n       LockRequest lr = session.buildLockRequest(LockOptions.UPGRADE);\r\n       lr.setTimeOut(LOCK_REQUEST_TIME_OUT);\r\n       lr.lock(entity); // &lt;-- problem is in this line\r\n       //...\r\n    }\r\n\r\nbut I get this exception:&lt;br&gt;\r\n\r\n    org.hibernate.ObjectDeletedException: attempted to lock a deleted instance: [com.x.y.Entity#1]\r\n    \r\nAs you can see I&#39;m just retrieving the entity and locking it, not sure why the entity is in the **deleted** state!!","title":"hibernate: attempt to lock a deleted instance","body":"<p>I'm trying to lock an entity while working on it, and I'm doing the following:<br>\n1: retrieveing the entity from the database using this method:<br></p>\n<pre><code>@Override\npublic Optional&lt;T&gt; findById(final Serializable id) {\n    Session session = getSession();\n    T e = session.get(persistentClass, id);\n    return Optional.ofNullable(e);\n}\n</code></pre>\n<p>2: locking the entity:</p>\n<pre><code>public T myMethod(final Serialzable id){\n   //...\n   T entity = getById(id);\n   LockRequest lr = session.buildLockRequest(LockOptions.UPGRADE);\n   lr.setTimeOut(LOCK_REQUEST_TIME_OUT);\n   lr.lock(entity); // &lt;-- problem is in this line\n   //...\n}\n</code></pre>\n<p>but I get this exception:<br></p>\n<pre><code>org.hibernate.ObjectDeletedException: attempted to lock a deleted instance: [com.x.y.Entity#1]\n</code></pre>\n<p>As you can see I'm just retrieving the entity and locking it, not sure why the entity is in the <strong>deleted</strong> state!!</p>\n"},{"tags":["java","jsp","struts","tags","jsp-tags"],"answers":[{"tags":[],"owner":{"account_id":26048,"reputation":7945,"user_id":67476,"accept_rate":67,"display_name":"harshit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1237267606,"creation_date":1237267606,"answer_id":653095,"question_id":653085,"body_markdown":"If you use plain old HTML tags, you&#39;ll have to resort to scriptlets to get the values out of the form bean and into the html fields. The html tags work with the Struts framework to automagically populate html fields from your form bean fields and this results in JSPs that are cleaner and easier to maintain. ","title":"Purpose of tag library?","body":"<p>If you use plain old HTML tags, you'll have to resort to scriptlets to get the values out of the form bean and into the html fields. The html tags work with the Struts framework to automagically populate html fields from your form bean fields and this results in JSPs that are cleaner and easier to maintain. </p>\n"},{"tags":[],"owner":{"account_id":11987,"reputation":449,"user_id":23373,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1237268024,"creation_date":1237268024,"answer_id":653105,"question_id":653085,"body_markdown":"While you can do basic things like accessing bean property and using it to construct your HTML, often you require to do much more in your HTML pages. Struts provide a lot of well defined tags that you can use directly to construct your HTML elements, such as your inputs fields or tables etc. And this means, you won&#39;t be dealing with HTML elements but struts tags. Apart from providing basic HTML elements, there are tag library that help you create more complex HTML pages. For an e.g, with a particular tag library, you can construct neat paginated table just by providing an iterator and mapping column headers.","title":"Purpose of tag library?","body":"<p>While you can do basic things like accessing bean property and using it to construct your HTML, often you require to do much more in your HTML pages. Struts provide a lot of well defined tags that you can use directly to construct your HTML elements, such as your inputs fields or tables etc. And this means, you won't be dealing with HTML elements but struts tags. Apart from providing basic HTML elements, there are tag library that help you create more complex HTML pages. For an e.g, with a particular tag library, you can construct neat paginated table just by providing an iterator and mapping column headers.</p>\n"}],"owner":{"account_id":26132,"reputation":3227,"user_id":67722,"accept_rate":15,"display_name":"user67722"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649405804,"creation_date":1237267173,"question_id":653085,"body_markdown":"What is the purpose of having tag library? Though we have the basic tags available which makes our work very simple, what is the reason to have a struts-html.tld. Though we can call and use the bean easily through usebean, setProperty and getProperty tags why we have struts-bean.tld.","title":"Purpose of tag library?","body":"<p>What is the purpose of having tag library? Though we have the basic tags available which makes our work very simple, what is the reason to have a struts-html.tld. Though we can call and use the bean easily through usebean, setProperty and getProperty tags why we have struts-bean.tld.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"display_name":"user17729899"},"score":0,"creation_date":1649405511,"post_id":71793667,"comment_id":126871730,"body_markdown":"Okay, so I have added try catch into the code and it doesn&#39;t warning the error any more, but I&#39;m worried that it will break in production, it will just throws out the error not on my IDE, but the client...","body":"Okay, so I have added try catch into the code and it doesn&#39;t warning the error any more, but I&#39;m worried that it will break in production, it will just throws out the error not on my IDE, but the client..."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1649405914,"post_id":71793667,"comment_id":126871856,"body_markdown":"How you handle the exception is up to you, your needs and your program. There are many tutorials about that if you want to research that.","body":"How you handle the exception is up to you, your needs and your program. There are many tutorials about that if you want to research that."}],"owner":{"display_name":"user17729899"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649405458,"answer_count":0,"score":0,"last_activity_date":1649405128,"creation_date":1649405128,"question_id":71793667,"body_markdown":"I&#39;m trying to execute a GET request, but Intellij keeps refusing to let me do it!  \r\nHere is my code...\r\n\r\n```java\r\nString checkUrl = &quot;https://proxycheck.io/v2/&quot; + event.getAddress().toString();\r\nURL url = new URL(checkUrl);\r\n```\r\n\r\nFor no reason AT ALL, Intellij throwed out [this][1].  \r\nI&#39;ve never had this error in Intellij nor do I know what is wrong with my URL! And yes, I have tried a domain like `https://google.com` but it still throws out [that error][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o1xXI.png\r\n  [2]: https://i.stack.imgur.com/v2IbW.png","title":"java.net.MalformedURLException in Intellij IDEA","body":"<p>I'm trying to execute a GET request, but Intellij keeps refusing to let me do it!<br />\nHere is my code...</p>\n<pre class=\"lang-java prettyprint-override\"><code>String checkUrl = &quot;https://proxycheck.io/v2/&quot; + event.getAddress().toString();\nURL url = new URL(checkUrl);\n</code></pre>\n<p>For no reason AT ALL, Intellij throwed out <a href=\"https://i.stack.imgur.com/o1xXI.png\" rel=\"nofollow noreferrer\">this</a>.<br />\nI've never had this error in Intellij nor do I know what is wrong with my URL! And yes, I have tried a domain like <code>https://google.com</code> but it still throws out <a href=\"https://i.stack.imgur.com/v2IbW.png\" rel=\"nofollow noreferrer\">that error</a>.</p>\n"},{"tags":["java","spring","filter"],"comments":[{"owner":{"account_id":440137,"reputation":1037,"user_id":829542,"accept_rate":77,"display_name":"Satya"},"score":0,"creation_date":1649434802,"post_id":71791603,"comment_id":126883009,"body_markdown":"After fighting the design, I abandoned approaching my  decryption / encryption of payload  from a filter to individual rest controller methods as I could not sacrifice the controller advice functionality.","body":"After fighting the design, I abandoned approaching my  decryption / encryption of payload  from a filter to individual rest controller methods as I could not sacrifice the controller advice functionality."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649405115,"creation_date":1649405115,"answer_id":71793665,"question_id":71791603,"body_markdown":"Try using `.reset()` method on response object before you rewrite it.\r\n\r\n \r\n\r\n    private void interceptResponse(HttpServletResponse response, BufferResponseWrapper responseToUse) throws IOException {\r\n            String responseStr = new String(responseToUse.getWrapperBytes());\r\n            System.out.println(responseStr); // full response string with length 105 from @ControllerAdvice\r\n            AesEncryptionResponse encryptionResponse = AesUtil.encrypt(responseStr);\r\n            String encryptedResponse = gson.toJson(encryptionResponse); // encrypted form of @ControllerAdvice response length 200n chars\r\n           \r\n            response.reset(); &lt;-------------\r\n            response.setContentLength(encryptedResponse.length()); // this does not seem to have any effect, the response is still truncated to 105 chars\r\n            response.getOutputStream().write(encryptedResponse.getBytes(StandardCharsets.UTF_8));\r\n        }\r\n\r\nAccording to the [doc][1]\r\n\r\n&gt; void reset() Clears any data that exists in the buffer as well as the\r\n&gt; status code and **headers**. If the response has been committed, this\r\n&gt; method throws an IllegalStateException. \r\n&gt;\r\n&gt;Throws: IllegalStateException\r\n&gt; - if the response has already been committed\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html#resetBuffer()","title":"Java Filter modified response is getting truncated","body":"<p>Try using <code>.reset()</code> method on response object before you rewrite it.</p>\n<pre><code>private void interceptResponse(HttpServletResponse response, BufferResponseWrapper responseToUse) throws IOException {\n        String responseStr = new String(responseToUse.getWrapperBytes());\n        System.out.println(responseStr); // full response string with length 105 from @ControllerAdvice\n        AesEncryptionResponse encryptionResponse = AesUtil.encrypt(responseStr);\n        String encryptedResponse = gson.toJson(encryptionResponse); // encrypted form of @ControllerAdvice response length 200n chars\n       \n        response.reset(); &lt;-------------\n        response.setContentLength(encryptedResponse.length()); // this does not seem to have any effect, the response is still truncated to 105 chars\n        response.getOutputStream().write(encryptedResponse.getBytes(StandardCharsets.UTF_8));\n    }\n</code></pre>\n<p>According to the <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/ServletResponse.html#resetBuffer()\" rel=\"nofollow noreferrer\">doc</a></p>\n<blockquote>\n<p>void reset() Clears any data that exists in the buffer as well as the\nstatus code and <strong>headers</strong>. If the response has been committed, this\nmethod throws an IllegalStateException.</p>\n<p>Throws: IllegalStateException</p>\n<ul>\n<li>if the response has already been committed</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":440137,"reputation":1037,"user_id":829542,"accept_rate":77,"display_name":"Satya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649405115,"creation_date":1649391240,"question_id":71791603,"body_markdown":"\r\nI have a spring java application that has a EncryptDecryptFilter.java which is a &quot;OncePerRequestFilter&quot; within which I am trying to modify the response payload based on certain conditions. All is going well for happy path.\r\n\r\nDuring the un-happy path, when my application code in the RestController throws an exception, that exception is captured by a @ControllerAdvice class and the controller advice class returns a ResponseEntity. Let&#39;s say this response is &quot;string1&quot; with a length 105 characters. After this, the call is intercepted by the &quot;OncePerRequestFilter&quot; and when I attempt to modify the response in this filter with a new response, lets say the modified response is &quot;string2&quot; with a length 200 characters, the modified response string2 is truncated to 105 characters and delievered to the client. So, while the response it self is being modified, the setContentLength() on the response has no effect. \r\n\r\nAny suggestions on how to fix this?\r\n\r\nSee `response.setContentLength(encryptedResponse.length());` in the below filter\r\n\r\n```java\r\n@Component\r\npublic class EncryptDecryptFilter extends OncePerRequestFilter {\r\n    public static final Gson gson = new GsonBuilder()\r\n                                            .addSerializationExclusionStrategy(new GsonExclusionStrategy())\r\n                                            .setPrettyPrinting()\r\n                                            .create();\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String requestURI = request.getRequestURI();\r\n        String requestMethod = request.getMethod();\r\n\r\n        HttpServletRequest requestToUse = new ResettableStreamHttpServletRequest(request);\r\n        BufferResponseWrapper responseToUse = new BufferResponseWrapper(response); // declared as a member of this filter class below\r\n\r\n        interceptRequest(requestToUse, request);\r\n        filterChain.doFilter(requestToUse, responseToUse);\r\n        interceptResponse(response, responseToUse);\r\n    }\r\n\r\n    private void interceptRequest(HttpServletRequest requestToUse, HttpServletRequest request) throws IOException {\r\n        byte[] payload = IOUtils.toByteArray(requestToUse.getReader(), requestToUse.getCharacterEncoding());\r\n        String urlEncodedEncryptedBody = new String(payload, requestToUse.getCharacterEncoding());\r\n        System.out.println(urlEncodedEncryptedBody);\r\n        AesDecryptionRequest decryptionRequest = gson.fromJson(urlEncodedEncryptedBody, AesDecryptionRequest.class);\r\n        decryptionRequest.initialize();\r\n        String plainTextBody = AesUtil.decrypt(decryptionRequest);\r\n        requestToUse.setAttribute(&quot;requestBody&quot;, plainTextBody);\r\n    }\r\n\r\n    private void interceptResponse(HttpServletResponse response, BufferResponseWrapper responseToUse) throws IOException {\r\n        String responseStr = new String(responseToUse.getWrapperBytes());\r\n        System.out.println(responseStr); // full response string with length 105 from @ControllerAdvice\r\n        AesEncryptionResponse encryptionResponse = AesUtil.encrypt(responseStr);\r\n        String encryptedResponse = gson.toJson(encryptionResponse); // encrypted form of @ControllerAdvice response length 200n chars\r\n        response.setContentLength(encryptedResponse.length()); // this does not seem to have any effect, the response is still truncated to 105 chars\r\n        response.getOutputStream().write(encryptedResponse.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n\r\n\r\n    private final class BufferResponseWrapper extends HttpServletResponseWrapper\r\n    {\r\n        MyServletOutputStream stream = new MyServletOutputStream();\r\n\r\n        public BufferResponseWrapper(HttpServletResponse httpServletResponse)\r\n        {\r\n            super(httpServletResponse);\r\n        }\r\n\r\n        public ServletOutputStream getOutputStream() throws IOException\r\n        {\r\n            return stream;\r\n        }\r\n\r\n        public PrintWriter getWriter() throws IOException\r\n        {\r\n            return new PrintWriter(stream);\r\n        }\r\n\r\n        public byte[] getWrapperBytes()\r\n        {\r\n            return stream.getBytes();\r\n        }\r\n    }\r\n\r\n    private final class MyServletOutputStream extends ServletOutputStream\r\n    {\r\n        private ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\r\n        public void write(int b) throws IOException\r\n        {\r\n            out.write(b);\r\n        }\r\n\r\n        public byte[] getBytes()\r\n        {\r\n            return out.toByteArray();\r\n        }\r\n\r\n        @Override\r\n        public boolean isReady() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void setWriteListener(WriteListener writeListener) {\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n\r\npublic class ResettableStreamHttpServletRequest extends HttpServletRequestWrapper {\r\n\r\n    // this class allows the input stream to be read more than once\r\n\r\n    private static final String UTF_8 = &quot;UTF-8&quot;;\r\n    private byte[] rawData;\r\n    private HttpServletRequest request;\r\n    private ResettableServletInputStream servletStream;\r\n\r\n\r\n    public ResettableStreamHttpServletRequest(HttpServletRequest request) {\r\n        super(request);\r\n        this.request = request;\r\n        this.servletStream = new ResettableServletInputStream();\r\n    }\r\n\r\n    public void resetInputStream() {\r\n        servletStream.stream = new ByteArrayInputStream(rawData);\r\n    }\r\n\r\n    public void resetInputStream(byte[] newRawData) {\r\n        servletStream.stream = new ByteArrayInputStream(newRawData);\r\n    }\r\n\r\n    @Override\r\n    public ServletInputStream getInputStream() throws IOException {\r\n        if (rawData == null) {\r\n            rawData = IOUtils.toByteArray(this.request.getReader(), UTF_8);\r\n            servletStream.stream = new ByteArrayInputStream(rawData);\r\n        }\r\n        return servletStream;\r\n    }\r\n\r\n    @Override\r\n    public BufferedReader getReader() throws IOException {\r\n        if (rawData == null) {\r\n            rawData = IOUtils.toByteArray(this.request.getReader(), UTF_8);\r\n            servletStream.stream = new ByteArrayInputStream(rawData);\r\n        }\r\n        return new BufferedReader(new InputStreamReader(servletStream, UTF_8));\r\n    }\r\n\r\n    private class ResettableServletInputStream extends ServletInputStream {\r\n        private ByteArrayInputStream stream;\r\n\r\n        @Override\r\n        public int read() throws IOException {\r\n            return stream.read();\r\n        }\r\n\r\n        @Override\r\n        // Returns true when all the data from the stream has been read else it returns false.\r\n        public boolean isFinished() {\r\n            return stream.available() == 0;\r\n        }\r\n\r\n        @Override\r\n        // Returns true if data can be read without blocking else returns false.\r\n        public boolean isReady() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void setReadListener(ReadListener listener) {\r\n            throw new RuntimeException(&quot;Not implemented&quot;);\r\n        }\r\n    }\r\n} \r\n```\r\n\r\nController Advice class\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class ExceptionAdvice extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(value = {Exception.class})\r\n    protected ResponseEntity&lt;Object&gt; handleException(Exception exception, WebRequest request) {\r\n        return handleExceptionInternal(exception, exception.getMessage(), getStandardHeaders(), HttpStatus.INTERNAL_SERVER_ERROR, request);\r\n    }\r\n}\r\n```","title":"Java Filter modified response is getting truncated","body":"<p>I have a spring java application that has a EncryptDecryptFilter.java which is a &quot;OncePerRequestFilter&quot; within which I am trying to modify the response payload based on certain conditions. All is going well for happy path.</p>\n<p>During the un-happy path, when my application code in the RestController throws an exception, that exception is captured by a @ControllerAdvice class and the controller advice class returns a ResponseEntity. Let's say this response is &quot;string1&quot; with a length 105 characters. After this, the call is intercepted by the &quot;OncePerRequestFilter&quot; and when I attempt to modify the response in this filter with a new response, lets say the modified response is &quot;string2&quot; with a length 200 characters, the modified response string2 is truncated to 105 characters and delievered to the client. So, while the response it self is being modified, the setContentLength() on the response has no effect.</p>\n<p>Any suggestions on how to fix this?</p>\n<p>See <code>response.setContentLength(encryptedResponse.length());</code> in the below filter</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class EncryptDecryptFilter extends OncePerRequestFilter {\n    public static final Gson gson = new GsonBuilder()\n                                            .addSerializationExclusionStrategy(new GsonExclusionStrategy())\n                                            .setPrettyPrinting()\n                                            .create();\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String requestURI = request.getRequestURI();\n        String requestMethod = request.getMethod();\n\n        HttpServletRequest requestToUse = new ResettableStreamHttpServletRequest(request);\n        BufferResponseWrapper responseToUse = new BufferResponseWrapper(response); // declared as a member of this filter class below\n\n        interceptRequest(requestToUse, request);\n        filterChain.doFilter(requestToUse, responseToUse);\n        interceptResponse(response, responseToUse);\n    }\n\n    private void interceptRequest(HttpServletRequest requestToUse, HttpServletRequest request) throws IOException {\n        byte[] payload = IOUtils.toByteArray(requestToUse.getReader(), requestToUse.getCharacterEncoding());\n        String urlEncodedEncryptedBody = new String(payload, requestToUse.getCharacterEncoding());\n        System.out.println(urlEncodedEncryptedBody);\n        AesDecryptionRequest decryptionRequest = gson.fromJson(urlEncodedEncryptedBody, AesDecryptionRequest.class);\n        decryptionRequest.initialize();\n        String plainTextBody = AesUtil.decrypt(decryptionRequest);\n        requestToUse.setAttribute(&quot;requestBody&quot;, plainTextBody);\n    }\n\n    private void interceptResponse(HttpServletResponse response, BufferResponseWrapper responseToUse) throws IOException {\n        String responseStr = new String(responseToUse.getWrapperBytes());\n        System.out.println(responseStr); // full response string with length 105 from @ControllerAdvice\n        AesEncryptionResponse encryptionResponse = AesUtil.encrypt(responseStr);\n        String encryptedResponse = gson.toJson(encryptionResponse); // encrypted form of @ControllerAdvice response length 200n chars\n        response.setContentLength(encryptedResponse.length()); // this does not seem to have any effect, the response is still truncated to 105 chars\n        response.getOutputStream().write(encryptedResponse.getBytes(StandardCharsets.UTF_8));\n    }\n\n\n    private final class BufferResponseWrapper extends HttpServletResponseWrapper\n    {\n        MyServletOutputStream stream = new MyServletOutputStream();\n\n        public BufferResponseWrapper(HttpServletResponse httpServletResponse)\n        {\n            super(httpServletResponse);\n        }\n\n        public ServletOutputStream getOutputStream() throws IOException\n        {\n            return stream;\n        }\n\n        public PrintWriter getWriter() throws IOException\n        {\n            return new PrintWriter(stream);\n        }\n\n        public byte[] getWrapperBytes()\n        {\n            return stream.getBytes();\n        }\n    }\n\n    private final class MyServletOutputStream extends ServletOutputStream\n    {\n        private ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n        public void write(int b) throws IOException\n        {\n            out.write(b);\n        }\n\n        public byte[] getBytes()\n        {\n            return out.toByteArray();\n        }\n\n        @Override\n        public boolean isReady() {\n            return false;\n        }\n\n        @Override\n        public void setWriteListener(WriteListener writeListener) {\n\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ResettableStreamHttpServletRequest extends HttpServletRequestWrapper {\n\n    // this class allows the input stream to be read more than once\n\n    private static final String UTF_8 = &quot;UTF-8&quot;;\n    private byte[] rawData;\n    private HttpServletRequest request;\n    private ResettableServletInputStream servletStream;\n\n\n    public ResettableStreamHttpServletRequest(HttpServletRequest request) {\n        super(request);\n        this.request = request;\n        this.servletStream = new ResettableServletInputStream();\n    }\n\n    public void resetInputStream() {\n        servletStream.stream = new ByteArrayInputStream(rawData);\n    }\n\n    public void resetInputStream(byte[] newRawData) {\n        servletStream.stream = new ByteArrayInputStream(newRawData);\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        if (rawData == null) {\n            rawData = IOUtils.toByteArray(this.request.getReader(), UTF_8);\n            servletStream.stream = new ByteArrayInputStream(rawData);\n        }\n        return servletStream;\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        if (rawData == null) {\n            rawData = IOUtils.toByteArray(this.request.getReader(), UTF_8);\n            servletStream.stream = new ByteArrayInputStream(rawData);\n        }\n        return new BufferedReader(new InputStreamReader(servletStream, UTF_8));\n    }\n\n    private class ResettableServletInputStream extends ServletInputStream {\n        private ByteArrayInputStream stream;\n\n        @Override\n        public int read() throws IOException {\n            return stream.read();\n        }\n\n        @Override\n        // Returns true when all the data from the stream has been read else it returns false.\n        public boolean isFinished() {\n            return stream.available() == 0;\n        }\n\n        @Override\n        // Returns true if data can be read without blocking else returns false.\n        public boolean isReady() {\n            return true;\n        }\n\n        @Override\n        public void setReadListener(ReadListener listener) {\n            throw new RuntimeException(&quot;Not implemented&quot;);\n        }\n    }\n} \n</code></pre>\n<p>Controller Advice class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ExceptionAdvice extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(value = {Exception.class})\n    protected ResponseEntity&lt;Object&gt; handleException(Exception exception, WebRequest request) {\n        return handleExceptionInternal(exception, exception.getMessage(), getStandardHeaders(), HttpStatus.INTERNAL_SERVER_ERROR, request);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","kotlin","maven-surefire-plugin"],"comments":[{"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"score":0,"creation_date":1639527452,"post_id":70356949,"comment_id":124370218,"body_markdown":"Could you please post your `pom.xml`? What is the command line you execute to build the project? a plain`mvn clean install` without any other option? Your folders structure would be helpful too.","body":"Could you please post your <code>pom.xml</code>? What is the command line you execute to build the project? a plain<code>mvn clean install</code> without any other option? Your folders structure would be helpful too."},{"owner":{"account_id":23649633,"reputation":11,"user_id":17678696,"display_name":"Jovi Simons"},"score":0,"creation_date":1639572886,"post_id":70356949,"comment_id":124382150,"body_markdown":"@gmanjon I have added my `pom.xml` and folder structure. Yes, just a plain `mvn clean install` without other options.","body":"@gmanjon I have added my <code>pom.xml</code> and folder structure. Yes, just a plain <code>mvn clean install</code> without other options."}],"answers":[{"tags":[],"owner":{"account_id":24869816,"reputation":1,"user_id":18744452,"display_name":"user18744452"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649404521,"creation_date":1649404521,"answer_id":71793539,"question_id":70356949,"body_markdown":"Just comment out the following in the ApplicationTests class:\r\n\r\n    @Test\r\n        void contextLoads() {\r\n    }\r\n\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project: There are test failures","body":"<p>Just comment out the following in the ApplicationTests class:</p>\n<pre><code>@Test\n    void contextLoads() {\n}\n</code></pre>\n"}],"owner":{"account_id":23649633,"reputation":11,"user_id":17678696,"display_name":"Jovi Simons"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649404521,"creation_date":1639526208,"question_id":70356949,"body_markdown":"So I am trying to `mvn clean install` my spring boot application, but when building I get this error: ```Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project MenuService: There are test failures.``` I have temporarily removed all my tests and still get this error and I have tried multiple surefire versions and configurations but no success. I don&#39;t know where to look now and no fix found online is working for me.\r\n\r\n\r\n```\r\n[ERROR] /bin/sh: -c: line 0: unexpected EOF while looking for matching `&#39;&#39;\r\n[ERROR] /bin/sh: -c: line 1: syntax error: unexpected end of file\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.784 s\r\n[INFO] Finished at: 2021-12-15T00:40:53+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project MenuService: There are test failures.\r\n[ERROR] \r\n[ERROR] Please refer to /Users/jovisimons/Documents/school/S3/Mediaan/API&#39;s/MenuService/target/surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\r\n[ERROR] Command was /bin/sh -c cd /Users/jovisimons/Documents/school/S3/Mediaan/API\\&#39;s/MenuService &amp;&amp; /opt/homebrew/Cellar/openjdk/16.0.2/libexec/openjdk.jdk/Contents/Home/bin/java -jar &#39;/Users/jovisimons/Documents/school/S3/Mediaan/API\\&#39;s/MenuService/target/surefire/surefirebooter17156935436656909897.jar&#39; &#39;/Users/jovisimons/Documents/school/S3/Mediaan/API\\&#39;s/MenuService/target/surefire&#39; 2021-12-15T00-40-53_468-jvmRun1 surefire13232575194861143290tmp surefire_02848289339630503165tmp\r\n```\r\n\r\nI guess it has something to do with this:\r\n```\r\n /bin/sh: -c: line 0: unexpected EOF while looking for matching `&#39;&#39;\r\n /bin/sh: -c: line 1: syntax error: unexpected end of file\r\n```\r\n\r\nBut I have no clue what it could mean or where to find it.\r\n\r\nMy pom file: \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MenuService&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;MenuService&lt;/name&gt;\r\n    &lt;description&gt;MenuService&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;kotlin.version&gt;1.5.21&lt;/kotlin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                        &lt;version&gt;5.5.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;args&gt;\r\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n                    &lt;/args&gt;\r\n                    &lt;compilerPlugins&gt;\r\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\r\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\r\n                    &lt;/compilerPlugins&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[FOLDER STRUCTURE][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qlE0p.png\r\n\r\nI have found a solution but probably not the best or right one:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;forkCount&gt;3&lt;/forkCount&gt;\r\n\t\t&lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n\t\t&lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\r\n\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project: There are test failures","body":"<p>So I am trying to <code>mvn clean install</code> my spring boot application, but when building I get this error: <code>Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project MenuService: There are test failures.</code> I have temporarily removed all my tests and still get this error and I have tried multiple surefire versions and configurations but no success. I don't know where to look now and no fix found online is working for me.</p>\n<pre><code>[ERROR] /bin/sh: -c: line 0: unexpected EOF while looking for matching `''\n[ERROR] /bin/sh: -c: line 1: syntax error: unexpected end of file\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.784 s\n[INFO] Finished at: 2021-12-15T00:40:53+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project MenuService: There are test failures.\n[ERROR] \n[ERROR] Please refer to /Users/jovisimons/Documents/school/S3/Mediaan/API's/MenuService/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n[ERROR] Command was /bin/sh -c cd /Users/jovisimons/Documents/school/S3/Mediaan/API\\'s/MenuService &amp;&amp; /opt/homebrew/Cellar/openjdk/16.0.2/libexec/openjdk.jdk/Contents/Home/bin/java -jar '/Users/jovisimons/Documents/school/S3/Mediaan/API\\'s/MenuService/target/surefire/surefirebooter17156935436656909897.jar' '/Users/jovisimons/Documents/school/S3/Mediaan/API\\'s/MenuService/target/surefire' 2021-12-15T00-40-53_468-jvmRun1 surefire13232575194861143290tmp surefire_02848289339630503165tmp\n</code></pre>\n<p>I guess it has something to do with this:</p>\n<pre><code> /bin/sh: -c: line 0: unexpected EOF while looking for matching `''\n /bin/sh: -c: line 1: syntax error: unexpected end of file\n</code></pre>\n<p>But I have no clue what it could mean or where to find it.</p>\n<p>My pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MenuService&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MenuService&lt;/name&gt;\n    &lt;description&gt;MenuService&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.5.21&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;version&gt;5.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                &lt;version&gt;5.5.2&lt;/version&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                        &lt;version&gt;5.5.2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qlE0p.png\" rel=\"nofollow noreferrer\">FOLDER STRUCTURE</a></p>\n<p>I have found a solution but probably not the best or right one:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;forkCount&gt;3&lt;/forkCount&gt;\n        &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n        &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m&lt;/argLine&gt;\n        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","multithreading","multitasking"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":6,"creation_date":1649333669,"post_id":71781966,"comment_id":126852238,"body_markdown":"Your classes have to be static inner classes. `static class Thred1 extends Thread {` and so on. In general, I would advise you to stay away from inner classes and instead give each class its own file. That simplifies things a lot, if you are a beginner.","body":"Your classes have to be static inner classes. <code>static class Thred1 extends Thread {</code> and so on. In general, I would advise you to stay away from inner classes and instead give each class its own file. That simplifies things a lot, if you are a beginner."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":6,"creation_date":1649335120,"post_id":71781966,"comment_id":126852842,"body_markdown":"And just saying: this is very basic **syntax** stuff. Threading and concurrency is an advanced topic. Consider to really master the basics first, before starting on an advanced topic like Threads.","body":"And just saying: this is very basic <b>syntax</b> stuff. Threading and concurrency is an advanced topic. Consider to really master the basics first, before starting on an advanced topic like Threads."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1649335397,"post_id":71781966,"comment_id":126852969,"body_markdown":"And in general, you should not use `extends Thread`, but instead implement `Runnable` and pass an instance to `new Thread(yourRunnable)`.","body":"And in general, you should not use <code>extends Thread</code>, but instead implement <code>Runnable</code> and pass an instance to <code>new Thread(yourRunnable)</code>."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649404389,"creation_date":1649334981,"answer_id":71782309,"question_id":71781966,"body_markdown":"Your problem is with inner classes and not with threads , try to put all this code in the same file `Main.java` :\r\n\r\n``` lang-java\r\nclass Thred1 extends Thread {\r\n    public void run() {\r\n        System.out.println(&quot;I&#39;m watching a video...&quot;);\r\n    }\r\n}\r\n          \r\nclass Thred2 extends Thread {\r\n    public void run() {\r\n        System.out.println(&quot;I&#39;m eating...&quot;);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main (String[] args) {\r\n        Thred1 t11 = new Thred1();\r\n        Thred2 t12 = new Thred2();\r\n        t11.start();\r\n        t12.start();\r\n    }\r\n}\r\n```\r\n\r\nAnother possible solution is to use *static classes* instead of the *member inner classes* used in your code :\r\n\r\n    public class Main {\r\n    \tstatic class Thred1 extends Thread {\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot;I&#39;m watching a video...&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class Thred2 extends Thread {\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot;I&#39;m eating...&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tThred1 t11 = new Thred1();\r\n    \t\tThred2 t12 = new Thred2();\r\n    \t\tt11.start();\r\n    \t\tt12.start();\r\n    \t}\r\n    }\r\n\r\nOr simply you can use **Lambda** expression , *Thread* class have a constructor who accept a *Runnable* as parameter , *Runnable* is a functional interface so you can pass a **Lambda** expression as argument like that :\r\n\r\n    public class Main {\r\n     \r\n    \tpublic static void main(String[] args) {\r\n    \t\tThread t11 = new Thread(()-&gt;System.out.println(&quot;I&#39;m watching a video...&quot;));\r\n    \t\tThread t12 = new Thread(()-&gt;System.out.println(&quot;I&#39;m eating...&quot;));\r\n    \t\tt11.start();\r\n    \t\tt12.start();\r\n    \t}\r\n    }","title":"Multiple threads in on class","body":"<p>Your problem is with inner classes and not with threads , try to put all this code in the same file <code>Main.java</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Thred1 extends Thread {\n    public void run() {\n        System.out.println(&quot;I'm watching a video...&quot;);\n    }\n}\n          \nclass Thred2 extends Thread {\n    public void run() {\n        System.out.println(&quot;I'm eating...&quot;);\n    }\n}\n\npublic class Main {\n    public static void main (String[] args) {\n        Thred1 t11 = new Thred1();\n        Thred2 t12 = new Thred2();\n        t11.start();\n        t12.start();\n    }\n}\n</code></pre>\n<p>Another possible solution is to use <em>static classes</em> instead of the <em>member inner classes</em> used in your code :</p>\n<pre><code>public class Main {\n    static class Thred1 extends Thread {\n        public void run() {\n            System.out.println(&quot;I'm watching a video...&quot;);\n        }\n    }\n\n    static class Thred2 extends Thread {\n        public void run() {\n            System.out.println(&quot;I'm eating...&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        Thred1 t11 = new Thred1();\n        Thred2 t12 = new Thred2();\n        t11.start();\n        t12.start();\n    }\n}\n</code></pre>\n<p>Or simply you can use <strong>Lambda</strong> expression , <em>Thread</em> class have a constructor who accept a <em>Runnable</em> as parameter , <em>Runnable</em> is a functional interface so you can pass a <strong>Lambda</strong> expression as argument like that :</p>\n<pre><code>public class Main {\n \n    public static void main(String[] args) {\n        Thread t11 = new Thread(()-&gt;System.out.println(&quot;I'm watching a video...&quot;));\n        Thread t12 = new Thread(()-&gt;System.out.println(&quot;I'm eating...&quot;));\n        t11.start();\n        t12.start();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17206235,"reputation":1,"user_id":12456737,"display_name":"AISAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649404389,"creation_date":1649333554,"question_id":71781966,"body_markdown":"I&#39;m trying to create two classes that extends from Thread, I know how to create one class. \r\n```\r\npublic class Main {\r\n  class Thred1 extends Thread {\r\n    public void run() {\r\n      System.out.println(&quot;I&#39;m watching a video...&quot;);\r\n    }\r\n  }\r\n  \r\n  class Thred2 extends Thread {\r\n    public void run() {\r\n      System.out.println(&quot;I&#39;m eating...&quot;);\r\n    }\r\n  }\r\n  \r\n  public static void main (String[] args) {\r\n    Thred1 t11 = new Thred1();\r\n    Thred2 t12 = new Thred2();\r\n    t11.start();\r\n    t12.start();\r\n  }\r\n}\r\n```\r\nAnd got ```Main.java:15: error: non-static variable this cannot be referenced from a static context```\r\n\r\nIs there better way to implement my idea?","title":"Multiple threads in on class","body":"<p>I'm trying to create two classes that extends from Thread, I know how to create one class.</p>\n<pre><code>public class Main {\n  class Thred1 extends Thread {\n    public void run() {\n      System.out.println(&quot;I'm watching a video...&quot;);\n    }\n  }\n  \n  class Thred2 extends Thread {\n    public void run() {\n      System.out.println(&quot;I'm eating...&quot;);\n    }\n  }\n  \n  public static void main (String[] args) {\n    Thred1 t11 = new Thred1();\n    Thred2 t12 = new Thred2();\n    t11.start();\n    t12.start();\n  }\n}\n</code></pre>\n<p>And got <code>Main.java:15: error: non-static variable this cannot be referenced from a static context</code></p>\n<p>Is there better way to implement my idea?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":14695242,"reputation":552,"user_id":10612806,"display_name":"Evgeni Enchev"},"score":1,"creation_date":1649404862,"post_id":71793461,"comment_id":126871511,"body_markdown":"Take a look at compliance level in Java Compiler","body":"Take a look at compliance level in Java Compiler"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1649405045,"post_id":71793461,"comment_id":126871564,"body_markdown":"is the JDK-8 added to the Installed JREs (Window - Preferences - Java - Installed JREs)? Also check the Execution Environments.","body":"is the JDK-8 added to the Installed JREs (Window - Preferences - Java - Installed JREs)? Also check the Execution Environments."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1649405051,"post_id":71793461,"comment_id":126871565,"body_markdown":"Did you configured the Java 8 in _Window &gt; Preferences: Java &gt; Installed JREs_?","body":"Did you configured the Java 8 in <i>Window &gt; Preferences: Java &gt; Installed JREs</i>?"}],"owner":{"account_id":16480533,"reputation":311,"user_id":11907420,"display_name":"Usman Sajid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649404164,"creation_date":1649404164,"question_id":71793461,"body_markdown":"I am trying to run this project in Eclipse 2022-03 https://github.com/SERG-Delft/jpacman-framework I have installed JDK 8 but my eclipse is still reporting some issues that it is not detecting the correct JRE. I have also attached the image.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn the next image, JRE 8 can be seen but I am confused why its reporting such issues. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ngY4.png\r\n  [2]: https://i.stack.imgur.com/ERoWf.png","title":"Despite installing JDK 8, eclipse reports correct JRE is not being used","body":"<p>I am trying to run this project in Eclipse 2022-03 <a href=\"https://github.com/SERG-Delft/jpacman-framework\" rel=\"nofollow noreferrer\">https://github.com/SERG-Delft/jpacman-framework</a> I have installed JDK 8 but my eclipse is still reporting some issues that it is not detecting the correct JRE. I have also attached the image.</p>\n<p><a href=\"https://i.stack.imgur.com/9ngY4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ngY4.png\" alt=\"enter image description here\" /></a></p>\n<p>In the next image, JRE 8 can be seen but I am confused why its reporting such issues.</p>\n<p><a href=\"https://i.stack.imgur.com/ERoWf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ERoWf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","bottom-sheet"],"owner":{"account_id":18744771,"reputation":217,"user_id":13667248,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649403742,"creation_date":1649403742,"question_id":71793380,"body_markdown":"I have a fragment from which on a button click I am calling a bottom sheet to open like this:\r\n```\r\nAllDocsMoreIBBottomSheet bottomSheet = new AllDocsMoreIBBottomSheet(position);\r\nbottomSheet.show(getParentFragmentManager(), &quot;TAG55&quot;);\r\n```\r\n\r\nAnd this is my **AllDocsMoreIBBottomSheet** class:\r\n```\r\npackage com.example.pdf.models;\r\n\r\nimport android.app.Dialog;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\r\nimport com.example.pdf.R;\r\nimport com.example.pdf.database.MyDB;\r\nimport com.example.pdf.fragments.AllDocsFragment;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class AllDocsMoreIBBottomSheet extends BottomSheetDialogFragment {\r\n\r\n    private int position;\r\n\r\n    public AllDocsMoreIBBottomSheet(int position) {\r\n        this.position = position;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.all_docs_more_bottom_sheet, container, false);\r\n\r\n        LinearLayout deleteLL = view.findViewById(R.id.Home_DeleteDocBSLL);\r\n        LinearLayout addTagLL = view.findViewById(R.id.Home_AddTagBSLL);\r\n\r\n        deleteLL.setOnClickListener(view1 -&gt; {\r\n            Dialog dialog = new Dialog(requireActivity());\r\n            dialog.setContentView(R.layout.indeterminate_progress_dialog);\r\n            dialog.setCancelable(false);\r\n            TextView dialogMdgTV = dialog.findViewById(R.id.indetPDMsgTV);\r\n            dialogMdgTV.setText(&quot;Deleting document. Please wait&quot;);\r\n            dialog.show();\r\n            new Thread(() -&gt; {\r\n                MyDB myDB = new MyDB(requireActivity().getApplicationContext());\r\n                myDB.initDB();\r\n                ArrayList&lt;String&gt; titles = myDB.getDocName(position);\r\n                myDB.deleteCompleteDoc(titles.get(1));\r\n                if (isAdded()) {\r\n                    requireActivity().runOnUiThread(() -&gt; {\r\n                        myDB.closeDB();\r\n                        dialog.dismiss();\r\n                        dismiss();\r\n                    });\r\n                }\r\n            }).start();\r\n        });\r\n\r\n        addTagLL.setOnClickListener(view12 -&gt; {\r\n            dismiss();\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAs you can see I am calling **dismiss()** in **runOnUiThread** in my bottom sheet class which dismisses the bottom sheet. I want ot listen when the bottom sheet is dismissed in my fragment from where I am calling this bottom sheet so that I can update the recycler view as a document is deleted. How can I do that?\r\n\r\n**What I have tried:**\r\n\r\nIn my fragment class where I am calling my bottom sheet I did something like this:\r\n```\r\nAllDocsMoreIBBottomSheet bottomSheet = new AllDocsMoreIBBottomSheet(position);\r\nbottomSheet.onDismiss(new DialogInterface() {\r\n\t@Override\r\n\tpublic void cancel() {\r\n\t\tLog.e(&quot;TAG&quot;, &quot;CANCEL&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void dismiss() {\r\n\t\tLog.e(&quot;TAG&quot;, &quot;DISMISS&quot;);\r\n\t}\r\n});\r\nbottomSheet.show(getParentFragmentManager(), &quot;TAG55&quot;);\r\n```\r\n\r\nBut it gives me the following error:\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.pdf, PID: 12101\r\n    java.lang.IllegalStateException: Fragment AllDocsMoreIBBottomSheet{3361b8f} (47697cc3-3afc-4eb0-a2e4-803b4b06fde3) not associated with a fragment manager.\r\n        at androidx.fragment.app.Fragment.getParentFragmentManager(Fragment.java:1040)\r\n        at androidx.fragment.app.DialogFragment.dismissInternal(DialogFragment.java:350)\r\n        at androidx.fragment.app.DialogFragment.onDismiss(DialogFragment.java:632)\r\n        at com.example.pdf.fragments.AllDocsFragment$DocsRVAdapter.lambda$onBindViewHolder$1$com-example-pdf-fragments-AllDocsFragment$DocsRVAdapter(AllDocsFragment.java:354)\r\n        at com.example.pdf.fragments.AllDocsFragment$DocsRVAdapter$$ExternalSyntheticLambda1.onClick(Unknown Source:4)\r\n        at android.view.View.performClick(View.java:7750)\r\n        at android.view.View.performClickInternal(View.java:7727)\r\n        at android.view.View.access$3700(View.java:861)\r\n        at android.view.View$PerformClick.run(View.java:29141)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8250)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\r\n```\r\n\r\nAnd if I call bottomSheet.show() before onDismiss() then my bottom sheet does not open at all.\r\n\r\nWhat am I doing wrong here and how can I listen to its dismiss as well as cancel or drag down properly.\r\n\r\nThank you.","title":"Listen to bottom sheet dismiss and cancel from within fragment JAVA ANDROID","body":"<p>I have a fragment from which on a button click I am calling a bottom sheet to open like this:</p>\n<pre><code>AllDocsMoreIBBottomSheet bottomSheet = new AllDocsMoreIBBottomSheet(position);\nbottomSheet.show(getParentFragmentManager(), &quot;TAG55&quot;);\n</code></pre>\n<p>And this is my <strong>AllDocsMoreIBBottomSheet</strong> class:</p>\n<pre><code>package com.example.pdf.models;\n\nimport android.app.Dialog;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport com.google.android.material.bottomsheet.BottomSheetDialogFragment;\nimport com.example.pdf.R;\nimport com.example.pdf.database.MyDB;\nimport com.example.pdf.fragments.AllDocsFragment;\n\nimport java.util.ArrayList;\n\npublic class AllDocsMoreIBBottomSheet extends BottomSheetDialogFragment {\n\n    private int position;\n\n    public AllDocsMoreIBBottomSheet(int position) {\n        this.position = position;\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.all_docs_more_bottom_sheet, container, false);\n\n        LinearLayout deleteLL = view.findViewById(R.id.Home_DeleteDocBSLL);\n        LinearLayout addTagLL = view.findViewById(R.id.Home_AddTagBSLL);\n\n        deleteLL.setOnClickListener(view1 -&gt; {\n            Dialog dialog = new Dialog(requireActivity());\n            dialog.setContentView(R.layout.indeterminate_progress_dialog);\n            dialog.setCancelable(false);\n            TextView dialogMdgTV = dialog.findViewById(R.id.indetPDMsgTV);\n            dialogMdgTV.setText(&quot;Deleting document. Please wait&quot;);\n            dialog.show();\n            new Thread(() -&gt; {\n                MyDB myDB = new MyDB(requireActivity().getApplicationContext());\n                myDB.initDB();\n                ArrayList&lt;String&gt; titles = myDB.getDocName(position);\n                myDB.deleteCompleteDoc(titles.get(1));\n                if (isAdded()) {\n                    requireActivity().runOnUiThread(() -&gt; {\n                        myDB.closeDB();\n                        dialog.dismiss();\n                        dismiss();\n                    });\n                }\n            }).start();\n        });\n\n        addTagLL.setOnClickListener(view12 -&gt; {\n            dismiss();\n        });\n\n        return view;\n    }\n\n}\n\n</code></pre>\n<p>As you can see I am calling <strong>dismiss()</strong> in <strong>runOnUiThread</strong> in my bottom sheet class which dismisses the bottom sheet. I want ot listen when the bottom sheet is dismissed in my fragment from where I am calling this bottom sheet so that I can update the recycler view as a document is deleted. How can I do that?</p>\n<p><strong>What I have tried:</strong></p>\n<p>In my fragment class where I am calling my bottom sheet I did something like this:</p>\n<pre><code>AllDocsMoreIBBottomSheet bottomSheet = new AllDocsMoreIBBottomSheet(position);\nbottomSheet.onDismiss(new DialogInterface() {\n    @Override\n    public void cancel() {\n        Log.e(&quot;TAG&quot;, &quot;CANCEL&quot;);\n    }\n\n    @Override\n    public void dismiss() {\n        Log.e(&quot;TAG&quot;, &quot;DISMISS&quot;);\n    }\n});\nbottomSheet.show(getParentFragmentManager(), &quot;TAG55&quot;);\n</code></pre>\n<p>But it gives me the following error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.pdf, PID: 12101\n    java.lang.IllegalStateException: Fragment AllDocsMoreIBBottomSheet{3361b8f} (47697cc3-3afc-4eb0-a2e4-803b4b06fde3) not associated with a fragment manager.\n        at androidx.fragment.app.Fragment.getParentFragmentManager(Fragment.java:1040)\n        at androidx.fragment.app.DialogFragment.dismissInternal(DialogFragment.java:350)\n        at androidx.fragment.app.DialogFragment.onDismiss(DialogFragment.java:632)\n        at com.example.pdf.fragments.AllDocsFragment$DocsRVAdapter.lambda$onBindViewHolder$1$com-example-pdf-fragments-AllDocsFragment$DocsRVAdapter(AllDocsFragment.java:354)\n        at com.example.pdf.fragments.AllDocsFragment$DocsRVAdapter$$ExternalSyntheticLambda1.onClick(Unknown Source:4)\n        at android.view.View.performClick(View.java:7750)\n        at android.view.View.performClickInternal(View.java:7727)\n        at android.view.View.access$3700(View.java:861)\n        at android.view.View$PerformClick.run(View.java:29141)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:210)\n        at android.os.Looper.loop(Looper.java:299)\n        at android.app.ActivityThread.main(ActivityThread.java:8250)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1045)\n</code></pre>\n<p>And if I call bottomSheet.show() before onDismiss() then my bottom sheet does not open at all.</p>\n<p>What am I doing wrong here and how can I listen to its dismiss as well as cancel or drag down properly.</p>\n<p>Thank you.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1533665027,"creation_date":1533665027,"answer_id":51732902,"question_id":51732797,"body_markdown":"Change your `main()` method into a static initializer. This:\r\n\r\n&gt;     public static void main(String[] args) {\r\n\r\n&gt;         przezwiska = new String[20];\r\n        przezwiska[0] = &quot;kotku! &quot; + kotekSerceStr;\r\n        przezwiska[1] = &quot;słońce! &quot; + slonceStr;\r\n        przezwiska[2] = &quot;kochanie! &quot; + serceStr;\r\n    }\r\n\r\nshould become this:\r\n\r\n    static {\r\n        przezwiska = new String[20];\r\n        przezwiska[0] = &quot;kotku! &quot; + kotekSerceStr;\r\n        przezwiska[1] = &quot;słońce! &quot; + slonceStr;\r\n        przezwiska[2] = &quot;kochanie! &quot; + serceStr;\r\n    }\r\n\r\nYou need to do this because nothing about the Android system will call the `main()` method for you, so your array will never be initialized. A static initializer block, on the other hand, _will_ be automatically called, so your array will be correctly initialized when you try to use it.","title":"While storing and accessing an array from another class getting &quot;java.lang.NullPointerException: Attempt to read from null array&quot; error","body":"<p>Change your <code>main()</code> method into a static initializer. This:</p>\n\n<blockquote>\n<pre><code>public static void main(String[] args) {\n\n    przezwiska = new String[20];\n    przezwiska[0] = \"kotku! \" + kotekSerceStr;\n    przezwiska[1] = \"słońce! \" + slonceStr;\n    przezwiska[2] = \"kochanie! \" + serceStr;\n}\n</code></pre>\n</blockquote>\n\n<p>should become this:</p>\n\n<pre><code>static {\n    przezwiska = new String[20];\n    przezwiska[0] = \"kotku! \" + kotekSerceStr;\n    przezwiska[1] = \"słońce! \" + slonceStr;\n    przezwiska[2] = \"kochanie! \" + serceStr;\n}\n</code></pre>\n\n<p>You need to do this because nothing about the Android system will call the <code>main()</code> method for you, so your array will never be initialized. A static initializer block, on the other hand, <em>will</em> be automatically called, so your array will be correctly initialized when you try to use it.</p>\n"}],"owner":{"account_id":14089465,"reputation":35,"user_id":10178307,"display_name":"Palidon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51732902,"answer_count":1,"score":1,"last_activity_date":1649403238,"creation_date":1533664658,"question_id":51732797,"body_markdown":"I am trying to access an array `przezwiska` located in `data.java` from my `AlarmReciever`. The array is used to access a random position from the array in order to generate a notification. I imported the `data` file, but after i compile it and run, i get `java.lang.NullPointerException: Attempt to read from null array`.\r\n\r\nMy AlarmReciever.java:\r\n\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n        int x = (int) getRandomNumber();\r\n\r\n        long when = System.currentTimeMillis();\r\n        NotificationManager notificationManager = (NotificationManager) context\r\n                .getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n        Intent notificationIntent = new Intent(context, MainActivity.class);\r\n        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0,\r\n                notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n\r\n        NotificationCompat.Builder mNotifyBuilder = new NotificationCompat.Builder(\r\n                context).setSmallIcon(R.mipmap.ic_launcher)\r\n                .setContentTitle(&quot;My title text &quot;+ data.przezwiska[x] + data.sercoweOczyStr)\r\n                .setContentText(&quot;My content text &quot; + data.smileyStr).setSound(alarmSound)\r\n                .setAutoCancel(true).setWhen(when)\r\n                .setContentIntent(pendingIntent)\r\n                .setVibrate(new long[]{500, 250, 250, 250});\r\n        notificationManager.notify(0, mNotifyBuilder.build());\r\n    }\r\n\r\ndata.java:\r\n    \r\n    package com.example.palidon.myapplication.Data;\r\n\r\n    public class data {\r\n\r\n\r\n    public static int kotekSerce = 0x1F63B;\r\n    public static int slonce = 0x1F31E;\r\n    public static int sercoweOczy = 0x1F60D;\r\n    public static int serce = 0x1F49E;\r\n    public static int zloteSerce = 0x1F49B;\r\n    public static int smiley = 0x1F60A;\r\n\r\n\r\n    public static String kotekSerceStr = getEmojiByUnicode(kotekSerce);\r\n    public static String slonceStr = getEmojiByUnicode(slonce);\r\n    public static String sercoweOczyStr = getEmojiByUnicode(sercoweOczy);\r\n    public static String serceStr = getEmojiByUnicode(serce);\r\n    public static String smileyStr = getEmojiByUnicode(smiley);\r\n    \r\n    public static String[] przezwiska;\r\n    \r\n    public static void main(String[] args) {\r\n\r\n        przezwiska = new String[20];\r\n        przezwiska[0] = &quot;kotku! &quot; + kotekSerceStr;\r\n        przezwiska[1] = &quot;słońce! &quot; + slonceStr;\r\n        przezwiska[2] = &quot;kochanie! &quot; + serceStr;\r\n        }\r\n    }","title":"While storing and accessing an array from another class getting &quot;java.lang.NullPointerException: Attempt to read from null array&quot; error","body":"<p>I am trying to access an array <code>przezwiska</code> located in <code>data.java</code> from my <code>AlarmReciever</code>. The array is used to access a random position from the array in order to generate a notification. I imported the <code>data</code> file, but after i compile it and run, i get <code>java.lang.NullPointerException: Attempt to read from null array</code>.</p>\n<p>My AlarmReciever.java:</p>\n<pre><code>public void onReceive(Context context, Intent intent) {\n\n    int x = (int) getRandomNumber();\n\n    long when = System.currentTimeMillis();\n    NotificationManager notificationManager = (NotificationManager) context\n            .getSystemService(Context.NOTIFICATION_SERVICE);\n\n    Intent notificationIntent = new Intent(context, MainActivity.class);\n    notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0,\n            notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n\n    NotificationCompat.Builder mNotifyBuilder = new NotificationCompat.Builder(\n            context).setSmallIcon(R.mipmap.ic_launcher)\n            .setContentTitle(&quot;My title text &quot;+ data.przezwiska[x] + data.sercoweOczyStr)\n            .setContentText(&quot;My content text &quot; + data.smileyStr).setSound(alarmSound)\n            .setAutoCancel(true).setWhen(when)\n            .setContentIntent(pendingIntent)\n            .setVibrate(new long[]{500, 250, 250, 250});\n    notificationManager.notify(0, mNotifyBuilder.build());\n}\n</code></pre>\n<p>data.java:</p>\n<pre><code>package com.example.palidon.myapplication.Data;\n\npublic class data {\n\n\npublic static int kotekSerce = 0x1F63B;\npublic static int slonce = 0x1F31E;\npublic static int sercoweOczy = 0x1F60D;\npublic static int serce = 0x1F49E;\npublic static int zloteSerce = 0x1F49B;\npublic static int smiley = 0x1F60A;\n\n\npublic static String kotekSerceStr = getEmojiByUnicode(kotekSerce);\npublic static String slonceStr = getEmojiByUnicode(slonce);\npublic static String sercoweOczyStr = getEmojiByUnicode(sercoweOczy);\npublic static String serceStr = getEmojiByUnicode(serce);\npublic static String smileyStr = getEmojiByUnicode(smiley);\n\npublic static String[] przezwiska;\n\npublic static void main(String[] args) {\n\n    przezwiska = new String[20];\n    przezwiska[0] = &quot;kotku! &quot; + kotekSerceStr;\n    przezwiska[1] = &quot;słońce! &quot; + slonceStr;\n    przezwiska[2] = &quot;kochanie! &quot; + serceStr;\n    }\n}\n</code></pre>\n"},{"tags":["java","mount","net-use"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":2,"creation_date":1649403165,"post_id":71793227,"comment_id":126871000,"body_markdown":"i can imagin mapped one is faster since it should preload something. but you&#39;d better do some benchmark.","body":"i can imagin mapped one is faster since it should preload something. but you&#39;d better do some benchmark."},{"owner":{"account_id":13973752,"reputation":98,"user_id":10091625,"display_name":"Shubham"},"score":0,"creation_date":1650522416,"post_id":71793227,"comment_id":127138311,"body_markdown":"I couldn&#39;t any evidence to support this. In my testing, both perform the same.","body":"I couldn&#39;t any evidence to support this. In my testing, both perform the same."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1650522881,"post_id":71793227,"comment_id":127138424,"body_markdown":"so you got the answer yourself.","body":"so you got the answer yourself."},{"owner":{"account_id":13973752,"reputation":98,"user_id":10091625,"display_name":"Shubham"},"score":0,"creation_date":1650991215,"post_id":71793227,"comment_id":127253241,"body_markdown":"Well.. cant say so! I am not aware if I am missing any network related scenarios.. (Network load, etc)","body":"Well.. cant say so! I am not aware if I am missing any network related scenarios.. (Network load, etc)"}],"owner":{"account_id":13973752,"reputation":98,"user_id":10091625,"display_name":"Shubham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649403180,"creation_date":1649403015,"question_id":71793227,"body_markdown":"I am writing a java application which iterates over all the files in a network share and searches the files for some keywords.\r\nI am aware I can use the smbj library, but I want to use native windows/linux mounting.\r\n\r\nI am using the ````net use```` command on windows and ````mount -t```` command on linux.\r\n\r\n&gt; **Is there any difference in mapping the drive to a drive letter?**\r\n\r\n (So that I can avoid the code to wait if no drive letter is available)\r\n\r\nObviously, I don&#39;t need the drive letter for the user, I am unmounting the drive at the end of my code.\r\n\r\n&gt; Does mapping the drive make further calls to the drive faster?\r\n&gt; (X:/Folder vs \\\\Share\\Folder)","title":"(net use) What is better- UNC path or map drive?","body":"<p>I am writing a java application which iterates over all the files in a network share and searches the files for some keywords.\nI am aware I can use the smbj library, but I want to use native windows/linux mounting.</p>\n<p>I am using the <code>net use</code> command on windows and <code>mount -t</code> command on linux.</p>\n<blockquote>\n<p><strong>Is there any difference in mapping the drive to a drive letter?</strong></p>\n</blockquote>\n<p>(So that I can avoid the code to wait if no drive letter is available)</p>\n<p>Obviously, I don't need the drive letter for the user, I am unmounting the drive at the end of my code.</p>\n<blockquote>\n<p>Does mapping the drive make further calls to the drive faster?\n(X:/Folder vs \\Share\\Folder)</p>\n</blockquote>\n"},{"tags":["javascript","java","blob"],"answers":[{"tags":[],"owner":{"account_id":18216249,"reputation":105,"user_id":13257885,"display_name":"Matthieu Rioual"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649403130,"creation_date":1649403130,"answer_id":71793254,"question_id":71768620,"body_markdown":"I added the responseType in post request and i also removed Uint8Array convertion and it worked fine.\r\n```\r\nreturn this.axiosHttp\r\n      .post&lt;ArrayBuffer,RestProject&gt;(&#39;api/projects/download&#39;, restProject,{ responseType: &#39;blob&#39; })\r\n      .then(response =&gt; response.data);\r\n```\r\nI guess that when receiving the datas, axios needs to know what is coming to convert correctly it in the proper format. on the fly.","title":"Receiving ByteArrayResource( from java) into Blob (into javascript)","body":"<p>I added the responseType in post request and i also removed Uint8Array convertion and it worked fine.</p>\n<pre><code>return this.axiosHttp\n      .post&lt;ArrayBuffer,RestProject&gt;('api/projects/download', restProject,{ responseType: 'blob' })\n      .then(response =&gt; response.data);\n</code></pre>\n<p>I guess that when receiving the datas, axios needs to know what is coming to convert correctly it in the proper format. on the fly.</p>\n"}],"owner":{"account_id":18216249,"reputation":105,"user_id":13257885,"display_name":"Matthieu Rioual"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649403130,"creation_date":1649255342,"question_id":71768620,"body_markdown":"any help to my problem would be really appreciated.\r\nHere is the context:\r\n\r\nI am currently sending a zip file from java RestControler:\r\n```\r\npublic ResponseEntity&lt;Resource&gt; download(@RequestBody ProjectDTO projectDTO) {\r\n    Project project = ProjectDTO.toProject(projectDTO);\r\n    byte[] out = initApplicationService.download(project);\r\n    ByteArrayResource resource = new ByteArrayResource(out);\r\n    return ResponseEntity\r\n      .ok()\r\n      .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + getZipFilename(project))\r\n      .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n      .contentLength(out.length)\r\n      .header(&quot;X-Suggested-Filename&quot;, getZipFilename(project))\r\n      .body(resource);\r\n  }\r\n```\r\nThis works really well because i can dowload it through swagger.\r\n\r\nBut on plain javascript front, i can&#39;t figure out what i am missing :\r\nprimary:\r\n```\r\nconst download = async (): Promise&lt;void&gt; =&gt; {\r\n      if (project.value.folder !== &#39;&#39;) {\r\n        await projectService\r\n          .download(toProject(project.value))\r\n          .then(response =&gt; {\r\n              const url = window.URL.createObjectURL(new Blob([response],{type:&#39;application/octet-stream&#39;}));\r\n              const link = document.createElement(&#39;a&#39;);\r\n              link.href = url;\r\n              link.setAttribute(&#39;download&#39;, project.value.baseName + &#39;.zip&#39;);\r\n              document.body.appendChild(link);\r\n              link.click();\r\n          })\r\n          .catch(error =&gt; logger.error(&#39;Downloading project failed&#39;, error));\r\n      }\r\n    };\r\n```\r\n\r\ncalling secondary:\r\n```\r\nasync download(project: Project): Promise&lt;ArrayBuffer&gt; {\r\n    const restProject: RestProject = toRestProject(project);\r\n    return this.axiosHttp\r\n      .post&lt;ArrayBuffer, RestProject&gt;(&#39;api/projects/download&#39;, restProject)\r\n      .then(response =&gt; new Uint8Array(response.data));\r\n  }\r\n```\r\nIt dowloads well a zip but well opening it i got the following error : \r\n&quot;An error occured during archive loading&quot;\r\nThanks to any help :)","title":"Receiving ByteArrayResource( from java) into Blob (into javascript)","body":"<p>any help to my problem would be really appreciated.\nHere is the context:</p>\n<p>I am currently sending a zip file from java RestControler:</p>\n<pre><code>public ResponseEntity&lt;Resource&gt; download(@RequestBody ProjectDTO projectDTO) {\n    Project project = ProjectDTO.toProject(projectDTO);\n    byte[] out = initApplicationService.download(project);\n    ByteArrayResource resource = new ByteArrayResource(out);\n    return ResponseEntity\n      .ok()\n      .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + getZipFilename(project))\n      .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\n      .contentLength(out.length)\n      .header(&quot;X-Suggested-Filename&quot;, getZipFilename(project))\n      .body(resource);\n  }\n</code></pre>\n<p>This works really well because i can dowload it through swagger.</p>\n<p>But on plain javascript front, i can't figure out what i am missing :\nprimary:</p>\n<pre><code>const download = async (): Promise&lt;void&gt; =&gt; {\n      if (project.value.folder !== '') {\n        await projectService\n          .download(toProject(project.value))\n          .then(response =&gt; {\n              const url = window.URL.createObjectURL(new Blob([response],{type:'application/octet-stream'}));\n              const link = document.createElement('a');\n              link.href = url;\n              link.setAttribute('download', project.value.baseName + '.zip');\n              document.body.appendChild(link);\n              link.click();\n          })\n          .catch(error =&gt; logger.error('Downloading project failed', error));\n      }\n    };\n</code></pre>\n<p>calling secondary:</p>\n<pre><code>async download(project: Project): Promise&lt;ArrayBuffer&gt; {\n    const restProject: RestProject = toRestProject(project);\n    return this.axiosHttp\n      .post&lt;ArrayBuffer, RestProject&gt;('api/projects/download', restProject)\n      .then(response =&gt; new Uint8Array(response.data));\n  }\n</code></pre>\n<p>It dowloads well a zip but well opening it i got the following error :\n&quot;An error occured during archive loading&quot;\nThanks to any help :)</p>\n"},{"tags":["java","spring-websocket","stomp"],"answers":[{"tags":[],"owner":{"account_id":15862747,"reputation":373,"user_id":11445460,"display_name":"srinivas kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592632134,"creation_date":1592632134,"answer_id":62482169,"question_id":62456213,"body_markdown":"It is not getting sent because your &quot;destination&quot; i.e &quot;queuename&quot; is incorrect. \r\nAs you can see here [SimpMessagingTemplate.java#L230][1] this is the method that gets invoked as a part of the chain on invocations of `template.convertAndSendToUser()`. \r\n\r\nThis method already prefixes `/user` to the final destination. So instead you should do something like this:\r\n`simpMessagingTemplate.convertAndSendToUser(username,&quot;/queue/wishes&quot;, message);`\r\nNow with the correct destination it should get sent to user. \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/78d1591e2ddfe01f05b9d09e68a00e7ad54c885a/spring-messaging/src/main/java/org/springframework/messaging/simp/SimpMessagingTemplate.java#L230","title":"Spring WebSocket ConvertAndSendToUser not working but convertAndSend working","body":"<p>It is not getting sent because your \"destination\" i.e \"queuename\" is incorrect. \nAs you can see here <a href=\"https://github.com/spring-projects/spring-framework/blob/78d1591e2ddfe01f05b9d09e68a00e7ad54c885a/spring-messaging/src/main/java/org/springframework/messaging/simp/SimpMessagingTemplate.java#L230\" rel=\"nofollow noreferrer\">SimpMessagingTemplate.java#L230</a> this is the method that gets invoked as a part of the chain on invocations of <code>template.convertAndSendToUser()</code>. </p>\n\n<p>This method already prefixes <code>/user</code> to the final destination. So instead you should do something like this:\n<code>simpMessagingTemplate.convertAndSendToUser(username,\"/queue/wishes\", message);</code>\nNow with the correct destination it should get sent to user. </p>\n"},{"tags":[],"owner":{"account_id":3144785,"reputation":41,"user_id":2659452,"display_name":"xDrake"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1592862779,"creation_date":1592862779,"answer_id":62524099,"question_id":62456213,"body_markdown":"I had a similar problem, if your `username` is actually a `sessionId`, then try to use one of the overloaded methods that accept headers (so said in [SimpMessageSendingOperations][1] javadoc): \r\n\r\n    SimpMessageHeaderAccessor headerAccessor = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE);\r\n    headerAccessor.setSessionId(username);\r\n    headerAccessor.setLeaveMutable(true);\r\n    \r\n    messagingTemplate.convertAndSendToUser(username, &quot;/queue/wishes&quot;, message, headerAccessor.getMessageHeaders());\r\n\r\n\r\n[my example][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/messaging/simp/SimpMessageSendingOperations.html\r\n  [2]: https://github.com/xMandrake/spring-boot-ws-example/blob/master/src/main/java/com/example/ws/websocket/WebSocketController.java","title":"Spring WebSocket ConvertAndSendToUser not working but convertAndSend working","body":"<p>I had a similar problem, if your <code>username</code> is actually a <code>sessionId</code>, then try to use one of the overloaded methods that accept headers (so said in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/messaging/simp/SimpMessageSendingOperations.html\" rel=\"nofollow noreferrer\">SimpMessageSendingOperations</a> javadoc):</p>\n<pre><code>SimpMessageHeaderAccessor headerAccessor = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE);\nheaderAccessor.setSessionId(username);\nheaderAccessor.setLeaveMutable(true);\n\nmessagingTemplate.convertAndSendToUser(username, &quot;/queue/wishes&quot;, message, headerAccessor.getMessageHeaders());\n</code></pre>\n<p><a href=\"https://github.com/xMandrake/spring-boot-ws-example/blob/master/src/main/java/com/example/ws/websocket/WebSocketController.java\" rel=\"nofollow noreferrer\">my example</a></p>\n"},{"tags":[],"owner":{"account_id":271918,"reputation":839,"user_id":562714,"accept_rate":25,"display_name":"Harsha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1592932538,"creation_date":1592932538,"answer_id":62540270,"question_id":62456213,"body_markdown":"Finally figured out the problem. I did a silly mistake. I was filling the User DestinationPrefix as part of WebSocket config. but didn&#39;t set it up for the injected bean SimpMessaging template.","title":"Spring WebSocket ConvertAndSendToUser not working but convertAndSend working","body":"<p>Finally figured out the problem. I did a silly mistake. I was filling the User DestinationPrefix as part of WebSocket config. but didn't set it up for the injected bean SimpMessaging template.</p>\n"},{"tags":[],"owner":{"account_id":23768080,"reputation":1,"user_id":17782565,"display_name":"user17782565"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640711726,"creation_date":1640711726,"answer_id":70510348,"question_id":62456213,"body_markdown":"You must registry the prefix of SimpleBroker:\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        registry.enableSimpleBroker(&quot;/topic&quot;, &quot;/queue&quot;, &quot;/user&quot;);\r\n        registry.setUserDestinationPrefix(&quot;/user&quot;);\r\n    }\r\n\r\nAlthough the UserDestinationPrefix has been set for default value &quot;/user/&quot;, you must to add the SimpleBroker prefix.","title":"Spring WebSocket ConvertAndSendToUser not working but convertAndSend working","body":"<p>You must registry the prefix of SimpleBroker:</p>\n<pre><code>@Override\npublic void configureMessageBroker(MessageBrokerRegistry registry) {\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    registry.enableSimpleBroker(&quot;/topic&quot;, &quot;/queue&quot;, &quot;/user&quot;);\n    registry.setUserDestinationPrefix(&quot;/user&quot;);\n}\n</code></pre>\n<p>Although the UserDestinationPrefix has been set for default value &quot;/user/&quot;, you must to add the SimpleBroker prefix.</p>\n"}],"owner":{"account_id":271918,"reputation":839,"user_id":562714,"accept_rate":25,"display_name":"Harsha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7282,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62540270,"answer_count":4,"score":3,"last_activity_date":1649402901,"creation_date":1592502284,"question_id":62456213,"body_markdown":"I am new to Spring boot websocket and messaging semantics. Currently i am able to send private messages using the below code.\r\n\r\n    String queueName = &quot;/user/&quot; + username  + &quot;/queue/wishes&quot;;\r\n    simpMessagingTemplate.convertAndSend(queueName, message);\r\n\r\nWhen trying to use convertAndSendToUser I am not getting any error but the message is not getting sent. I knew that with sendToUser there should be a slight change in how the destination name should be formed but I am not getting it right. \r\n\r\n    String queueName = &quot;/user/queue/wishes&quot;;\r\n    simpMessagingTemplate.convertAndSendToUser(username, queueName, message);\r\n\r\nBelow is my subscription code.\r\n\r\n    stompClient.subscribe(&#39;/user/queue/wishes&#39;, function(message) {\r\n        alert(message);\r\n    }) \r\n\r\n","title":"Spring WebSocket ConvertAndSendToUser not working but convertAndSend working","body":"<p>I am new to Spring boot websocket and messaging semantics. Currently i am able to send private messages using the below code.</p>\n<pre><code>String queueName = &quot;/user/&quot; + username  + &quot;/queue/wishes&quot;;\nsimpMessagingTemplate.convertAndSend(queueName, message);\n</code></pre>\n<p>When trying to use convertAndSendToUser I am not getting any error but the message is not getting sent. I knew that with sendToUser there should be a slight change in how the destination name should be formed but I am not getting it right.</p>\n<pre><code>String queueName = &quot;/user/queue/wishes&quot;;\nsimpMessagingTemplate.convertAndSendToUser(username, queueName, message);\n</code></pre>\n<p>Below is my subscription code.</p>\n<pre><code>stompClient.subscribe('/user/queue/wishes', function(message) {\n    alert(message);\n}) \n</code></pre>\n"},{"tags":["java","aws-java-sdk-2.x"],"answers":[{"tags":[],"owner":{"account_id":4981698,"reputation":219,"user_id":4006435,"accept_rate":57,"display_name":"Swaminathan S"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1608876557,"creation_date":1559546595,"answer_id":56422783,"question_id":54447306,"body_markdown":"use  ResponseInputStream&lt;GetObjectResponse&gt;. Hope the below code solves your problem.  \r\n\r\n   \r\n```\r\nGetObjectRequest request = GetObjectRequest.builder()\r\n    .bucket(&quot;BucketName&quot;)\r\n    .key(&quot;key&quot;)\r\n    .build();\r\nResponseInputStream&lt;GetObjectResponse&gt; s3objectResponse = s3Client\r\n    .getObject(request);\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(s3objectResponse));\r\n\r\nString line;\t\t\t\r\nwhile ((line = reader.readLine()) != null) {\t\t\t\r\n    System.out.println(line);\r\n}\r\n```","title":"Get an S3Object from a GetObjectResponse in AWS Java SDK 2.0","body":"<p>use  ResponseInputStream. Hope the below code solves your problem.</p>\n<pre><code>GetObjectRequest request = GetObjectRequest.builder()\n    .bucket(&quot;BucketName&quot;)\n    .key(&quot;key&quot;)\n    .build();\nResponseInputStream&lt;GetObjectResponse&gt; s3objectResponse = s3Client\n    .getObject(request);\nBufferedReader reader = new BufferedReader(new InputStreamReader(s3objectResponse));\n\nString line;            \nwhile ((line = reader.readLine()) != null) {            \n    System.out.println(line);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649402253,"creation_date":1649342298,"answer_id":71784162,"question_id":54447306,"body_markdown":"Same issue here, but I had to return byte array of content.\r\n\r\n\r\n    public byte[] getContent(String bucketName, String keyInBucket) {\r\n    \t// Get Client\r\n    \tS3Client s3client = getS3Client();\r\n        // Get S3 Object\r\n    \tGetObjectRequest getObjectRequest = GetObjectRequest.builder()\r\n\t        .bucket(bucketName)\r\n\t        .key(keyInBucket)\r\n\t        .build();\r\n    \t// As Byte array \r\n    \tResponseBytes&lt;GetObjectResponse&gt; response = s3client.getObject(getObjectRequest, ResponseTransformer.toBytes());\r\n    \treturn response.asByteArray();\r\n    }","title":"Get an S3Object from a GetObjectResponse in AWS Java SDK 2.0","body":"<p>Same issue here, but I had to return byte array of content.</p>\n<pre><code>public byte[] getContent(String bucketName, String keyInBucket) {\n    // Get Client\n    S3Client s3client = getS3Client();\n    // Get S3 Object\n    GetObjectRequest getObjectRequest = GetObjectRequest.builder()\n        .bucket(bucketName)\n        .key(keyInBucket)\n        .build();\n    // As Byte array \n    ResponseBytes&lt;GetObjectResponse&gt; response = s3client.getObject(getObjectRequest, ResponseTransformer.toBytes());\n    return response.asByteArray();\n}\n</code></pre>\n"}],"owner":{"account_id":1994140,"reputation":2375,"user_id":1787434,"accept_rate":80,"display_name":"the_storyteller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15025,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1649402253,"creation_date":1548873231,"question_id":54447306,"body_markdown":"In AWS Java SDK 1.x, I could get an `S3Object` from an `S3Client` like this.\r\n\r\n    S3Object obj = mS3Client.getObject(pBucket, pKey);\r\n\r\nI&#39;m trying to replicate that functionality using AWS Java SDK 2.0 (and end up with an `S3Object`), but the closest I can get is a `GetObjectResponse`, and I can&#39;t find any simple method calls to turn the response into an `S3Object`.\r\n\r\n    GetObjectResponse response = mS3Client.getObject(\r\n            GetObjectRequest.builder()\r\n                    .bucket(pBucket)\r\n                    .key(pKey)\r\n                    .build())\r\n            .response();\r\n\r\nHow can I get an `S3Object` from the 2.0 `S3Client`, or build one from the `GetObjectResponse`?","title":"Get an S3Object from a GetObjectResponse in AWS Java SDK 2.0","body":"<p>In AWS Java SDK 1.x, I could get an <code>S3Object</code> from an <code>S3Client</code> like this.</p>\n<pre><code>S3Object obj = mS3Client.getObject(pBucket, pKey);\n</code></pre>\n<p>I'm trying to replicate that functionality using AWS Java SDK 2.0 (and end up with an <code>S3Object</code>), but the closest I can get is a <code>GetObjectResponse</code>, and I can't find any simple method calls to turn the response into an <code>S3Object</code>.</p>\n<pre><code>GetObjectResponse response = mS3Client.getObject(\n        GetObjectRequest.builder()\n                .bucket(pBucket)\n                .key(pKey)\n                .build())\n        .response();\n</code></pre>\n<p>How can I get an <code>S3Object</code> from the 2.0 <code>S3Client</code>, or build one from the <code>GetObjectResponse</code>?</p>\n"},{"tags":["javascript","java","angular","typescript","twitter-bootstrap"],"answers":[{"tags":[],"owner":{"account_id":20453981,"reputation":1,"user_id":15008094,"display_name":"arunT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649401955,"creation_date":1649388098,"answer_id":71791326,"question_id":71789843,"body_markdown":"Finally I followed suggestions from other posts to use annotation `Transactional` at \r\n\r\n    public interface EmployeeRepo extends JpaRepository&lt;Employee, Long&gt; {\r\n        @Transactional\r\n    \tvoid deleteEmployeeById(Long id);\r\n\r\nand that works!","title":"Why do I get White label error page type=Method Not Allowed, status=405 for delete operation?","body":"<p>Finally I followed suggestions from other posts to use annotation <code>Transactional</code> at</p>\n<pre><code>public interface EmployeeRepo extends JpaRepository&lt;Employee, Long&gt; {\n    @Transactional\n    void deleteEmployeeById(Long id);\n</code></pre>\n<p>and that works!</p>\n"}],"owner":{"account_id":20453981,"reputation":1,"user_id":15008094,"display_name":"arunT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649401955,"creation_date":1649372438,"question_id":71789843,"body_markdown":"I have java springboot as backend and angular as front for CRUD operations. Only delete operation is not working at all. I get the error in eclipse log javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process &#39;remove&#39; call\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:295 and the postman shows status 405, Method not allowed error.\r\nHere are my codes: Service\r\n\r\n \r\n\r\n           @Service\r\n    \r\n    public class EmployeeService {\r\n    \tprivate final EmployeeRepo employeeRepo;\r\n    \t@Autowired\r\n    \tpublic EmployeeService (EmployeeRepo employeeRepo) {\r\n    \t\tthis.employeeRepo = employeeRepo;\r\n    \t}\r\n    \tpublic Employee addEmployee(Employee employee) {\r\n    \t\temployee.setEmployeeCode(UUID.randomUUID().toString());\r\n    \t\treturn employeeRepo.save(employee);\r\n    \t}\r\n    \tpublic List&lt;Employee&gt; findAllEmployees() {\r\n    \t\treturn employeeRepo.findAll();\r\n    \t}\r\n    \tpublic Employee updateEmployee(Employee employee) {\r\n    \t\treturn employeeRepo.save(employee);\r\n    \t}\r\n    \tpublic Employee findEmployeeById(Long id) {\r\n    \t\treturn employeeRepo.findEmployeeById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new UserNotFoundException(&quot;User by id &quot; + id + &quot;was not found&quot;));\r\n    \t}\r\n    \tpublic void deleteEmployee(Long id) {\r\n    \t\temployeeRepo.deleteEmployeeById(id);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/employee&quot;)\r\n    public class EmployeeResource {\r\n    \tprivate final EmployeeService employeeService;\r\n    \t\r\n    \tpublic EmployeeResource(EmployeeService employeeService) {\r\n    \t\tthis.employeeService = employeeService;\r\n    \t}\r\n    \t@GetMapping(&quot;/all&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;Employee&gt;&gt; getAllEmployees() {\r\n    \t\tList&lt;Employee&gt; employees = employeeService.findAllEmployees();\r\n    \t\treturn new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/find/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable(&quot;id&quot;) Long id) {\r\n    \t\tEmployee employee = employeeService.findEmployeeById(id); \r\n    \t\treturn new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\r\n    \t}\r\n    \t@PostMapping(&quot;/add&quot;)\r\n    \tpublic ResponseEntity&lt;Employee&gt; addEmployee(@RequestBody Employee employee) {\r\n    \t\tEmployee newEmployee = employeeService.addEmployee(employee);\r\n    \t\treturn new ResponseEntity&lt;&gt;(newEmployee, HttpStatus.CREATED);\r\n    \t}\r\n    \t@PutMapping(&quot;/update&quot;)\r\n    \tpublic ResponseEntity&lt;Employee&gt; updateEmployee(@RequestBody Employee employee) {\r\n    \t\tEmployee updateEmployee = employeeService.updateEmployee(employee);\r\n    \t\treturn new ResponseEntity&lt;&gt;(updateEmployee, HttpStatus.OK);\r\n    \t}\r\n    \t@DeleteMapping(&quot;/delete/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable(&quot;id&quot;) Long id) {\r\n    \t\temployeeService.deleteEmployee(id);\r\n    \t\treturn new ResponseEntity&lt;&gt;( HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\n\r\n    Springboot Application:\r\n    @SpringBootApplication\r\n    public class EmployeemanagerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(EmployeemanagerApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic CorsFilter corsFilter() {\r\n    \t    CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n    \t    corsConfiguration.setAllowCredentials(true);\r\n    \t    corsConfiguration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));\r\n    \t    corsConfiguration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\r\n    \t    \t\t&quot;Access&quot;, &quot;Authorization&quot;, &quot;Origin, Accept&quot;, &quot;X-Requested-With&quot;,\r\n    \t    \t\t&quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\r\n    \t    corsConfiguration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;,&quot;Accept&quot;, &quot;Authorization&quot;, \r\n    \t    \t\t&quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Allow-Credentials&quot;));\r\n    \t    corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n    \t    UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\r\n    \t    urlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n    \t    return new CorsFilter(urlBasedCorsConfigurationSource);\r\n    \t}\r\n    \r\n    }\r\napplication properties:\r\n\r\n    spring.datasource.url=jdbc\\:mysql\\://localhost\\:3306/employeemanager?useSSL\\=false\r\n    server.port=8060\r\n    spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database=MYSQL\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root","title":"Why do I get White label error page type=Method Not Allowed, status=405 for delete operation?","body":"<p>I have java springboot as backend and angular as front for CRUD operations. Only delete operation is not working at all. I get the error in eclipse log javax.persistence.TransactionRequiredException: No EntityManager with actual transaction available for current thread - cannot reliably process 'remove' call\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:295 and the postman shows status 405, Method not allowed error.\nHere are my codes: Service</p>\n<pre><code>       @Service\n\npublic class EmployeeService {\n    private final EmployeeRepo employeeRepo;\n    @Autowired\n    public EmployeeService (EmployeeRepo employeeRepo) {\n        this.employeeRepo = employeeRepo;\n    }\n    public Employee addEmployee(Employee employee) {\n        employee.setEmployeeCode(UUID.randomUUID().toString());\n        return employeeRepo.save(employee);\n    }\n    public List&lt;Employee&gt; findAllEmployees() {\n        return employeeRepo.findAll();\n    }\n    public Employee updateEmployee(Employee employee) {\n        return employeeRepo.save(employee);\n    }\n    public Employee findEmployeeById(Long id) {\n        return employeeRepo.findEmployeeById(id)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;User by id &quot; + id + &quot;was not found&quot;));\n    }\n    public void deleteEmployee(Long id) {\n        employeeRepo.deleteEmployeeById(id);\n        \n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class EmployeeResource {\n    private final EmployeeService employeeService;\n    \n    public EmployeeResource(EmployeeService employeeService) {\n        this.employeeService = employeeService;\n    }\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; getAllEmployees() {\n        List&lt;Employee&gt; employees = employeeService.findAllEmployees();\n        return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/find/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable(&quot;id&quot;) Long id) {\n        Employee employee = employeeService.findEmployeeById(id); \n        return new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\n    }\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;Employee&gt; addEmployee(@RequestBody Employee employee) {\n        Employee newEmployee = employeeService.addEmployee(employee);\n        return new ResponseEntity&lt;&gt;(newEmployee, HttpStatus.CREATED);\n    }\n    @PutMapping(&quot;/update&quot;)\n    public ResponseEntity&lt;Employee&gt; updateEmployee(@RequestBody Employee employee) {\n        Employee updateEmployee = employeeService.updateEmployee(employee);\n        return new ResponseEntity&lt;&gt;(updateEmployee, HttpStatus.OK);\n    }\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable(&quot;id&quot;) Long id) {\n        employeeService.deleteEmployee(id);\n        return new ResponseEntity&lt;&gt;( HttpStatus.OK);\n    }\n}\n\n\nSpringboot Application:\n@SpringBootApplication\npublic class EmployeemanagerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EmployeemanagerApplication.class, args);\n    }\n    \n    @Bean\n    public CorsFilter corsFilter() {\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n        corsConfiguration.setAllowCredentials(true);\n        corsConfiguration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));\n        corsConfiguration.setAllowedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;,\n                &quot;Access&quot;, &quot;Authorization&quot;, &quot;Origin, Accept&quot;, &quot;X-Requested-With&quot;,\n                &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;));\n        corsConfiguration.setExposedHeaders(Arrays.asList(&quot;Origin&quot;, &quot;Content-Type&quot;,&quot;Accept&quot;, &quot;Authorization&quot;, \n                &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Allow-Credentials&quot;));\n        corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n        UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\n        urlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n        return new CorsFilter(urlBasedCorsConfigurationSource);\n    }\n\n}\n</code></pre>\n<p>application properties:</p>\n<pre><code>spring.datasource.url=jdbc\\:mysql\\://localhost\\:3306/employeemanager?useSSL\\=false\nserver.port=8060\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.jpa.database=MYSQL\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\nspring.datasource.username=root\nspring.datasource.password=root\n</code></pre>\n"},{"tags":["java","swing","user-interface","layout","gridbaglayout"],"comments":[{"owner":{"account_id":1504382,"reputation":8300,"user_id":1408143,"display_name":"copeg"},"score":0,"creation_date":1430237541,"post_id":29924478,"comment_id":47970685,"body_markdown":"What type of Component contains the messages (eg is being added to the panel containing the GridBagLayout)? JLabel? JPanel with custom painting?","body":"What type of Component contains the messages (eg is being added to the panel containing the GridBagLayout)? JLabel? JPanel with custom painting?"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1430243032,"post_id":29924478,"comment_id":47974413,"body_markdown":"Do you want the text to line wrap dynamically? If I resize the window so that more or less text can fit in a single line, should the lines be recalculated immediately?","body":"Do you want the text to line wrap dynamically? If I resize the window so that more or less text can fit in a single line, should the lines be recalculated immediately?"},{"owner":{"account_id":3089447,"reputation":1280,"user_id":2615905,"accept_rate":46,"display_name":"T_01"},"score":0,"creation_date":1430246519,"post_id":29924478,"comment_id":47976591,"body_markdown":"yep, that would be my aim..","body":"yep, that would be my aim.."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1430251630,"post_id":29924478,"comment_id":47979746,"body_markdown":"I will post an answer shortly, but in the meantime you have to realize that you will have to deal with space issues somehow. If I make the frame less wide and get multiple lines as you want, and then make the frame less tall, eventually you will not have enough space for all the text. How do you want to deal with that?","body":"I will post an answer shortly, but in the meantime you have to realize that you will have to deal with space issues somehow. If I make the frame less wide and get multiple lines as you want, and then make the frame less tall, eventually you will not have enough space for all the text. How do you want to deal with that?"},{"owner":{"account_id":3089447,"reputation":1280,"user_id":2615905,"accept_rate":46,"display_name":"T_01"},"score":0,"creation_date":1430251880,"post_id":29924478,"comment_id":47979936,"body_markdown":"do you insinuate that i have to write my own layout manager?...\n\nI thought about a css-like behavior.. like this: https://jsfiddle.net/u26gu2d3/","body":"do you insinuate that i have to write my own layout manager?...  I thought about a css-like behavior.. like this: <a href=\"https://jsfiddle.net/u26gu2d3/\" rel=\"nofollow noreferrer\">jsfiddle.net/u26gu2d3</a>"},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":0,"creation_date":1430252827,"post_id":29924478,"comment_id":47980584,"body_markdown":"Not at all! See my answer and you&#39;ll see what I mean when you have many entries.","body":"Not at all! See my answer and you&#39;ll see what I mean when you have many entries."}],"answers":[{"tags":[],"owner":{"account_id":5860087,"reputation":136,"user_id":4616101,"accept_rate":50,"display_name":"FreeSandwiches"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430237544,"creation_date":1430237544,"answer_id":29924580,"question_id":29924478,"body_markdown":"I think you can do this.\r\n\r\n    Jpanel.setPreferredSize(new Dimension(x size, y size));\r\n    Jframe.add(Jpanel);\r\n\r\nI think most layout managers work better with setPreferredSize than setSize.","title":"How can I make my Panel wrap text and increase in height instead of width when contained in a GridBagLayout?","body":"<p>I think you can do this.</p>\n\n<pre><code>Jpanel.setPreferredSize(new Dimension(x size, y size));\nJframe.add(Jpanel);\n</code></pre>\n\n<p>I think most layout managers work better with setPreferredSize than setSize.</p>\n"},{"tags":[],"owner":{"account_id":143651,"reputation":19969,"user_id":352131,"accept_rate":77,"display_name":"Durandal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430245427,"creation_date":1430239349,"answer_id":29925179,"question_id":29924478,"body_markdown":"This is an effect of the interaction between JScrollPane and its content. A scroll pane will (by default) provide as much space as the contents desires.\r\n\r\nSo in that sense, the layout is working perfectly.\r\n\r\nTo give the component shown in a scroll pane actually control of the size of the container it shows, the contained component can implement the interface `javax.swing.Scrollable`.\r\n\r\nTry something like this:\r\n\r\n    public class MyVerticalPanel extends JPanel implements Scrollable {\r\n\r\n        @Override\r\n        public boolean getScrollableTracksViewportWidth() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean getScrollableTracksViewportHeight() {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredScrollableViewportSize() {\r\n            return getPreferredSize();\r\n        }\r\n\r\n        // other method and implementation\r\n    }\r\n\r\nMore documentation is available here: https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#scrollable","title":"How can I make my Panel wrap text and increase in height instead of width when contained in a GridBagLayout?","body":"<p>This is an effect of the interaction between JScrollPane and its content. A scroll pane will (by default) provide as much space as the contents desires.</p>\n\n<p>So in that sense, the layout is working perfectly.</p>\n\n<p>To give the component shown in a scroll pane actually control of the size of the container it shows, the contained component can implement the interface <code>javax.swing.Scrollable</code>.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>public class MyVerticalPanel extends JPanel implements Scrollable {\n\n    @Override\n    public boolean getScrollableTracksViewportWidth() {\n        return true;\n    }\n\n    @Override\n    public boolean getScrollableTracksViewportHeight() {\n        return false;\n    }\n\n    @Override\n    public Dimension getPreferredScrollableViewportSize() {\n        return getPreferredSize();\n    }\n\n    // other method and implementation\n}\n</code></pre>\n\n<p>More documentation is available here: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#scrollable\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html#scrollable</a></p>\n"},{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430252772,"creation_date":1430252772,"answer_id":29929253,"question_id":29924478,"body_markdown":"I managed to get something working that is along the lines of what you want:\r\n\r\n    public class Chatter extends JFrame {\r\n    \r\n    \tJTextField enterTextField = new JTextField(&quot;This is a lot of text it&#39;s way too loooooooooooooooong to fit in one line but it is used to check for wrapping by words and characters some more text just for fun no punctuation&quot;);\r\n    \tJPanel historyPanel = new JPanel();\r\n    \r\n    \tpublic Chatter() {\r\n    \r\n    \t\tenterTextField.addActionListener(new enterTextActionListener());\r\n    \r\n    \t\thistoryPanel.setLayout(new BoxLayout(historyPanel, BoxLayout.PAGE_AXIS));\r\n    \t\tJScrollPane scrollPane = new JScrollPane(historyPanel, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \r\n    \t\tgetContentPane().add(enterTextField, BorderLayout.PAGE_END);\r\n    \t\tgetContentPane().add(scrollPane, BorderLayout.CENTER);\r\n    \r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tsetSize(300, 300);\r\n    \t\tsetLocationRelativeTo(null);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \r\n    \tprivate class enterTextActionListener implements ActionListener {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e) {\r\n    \r\n    \t\t\tJTextArea textArea = new JTextArea(enterTextField.getText());\r\n    \t\t\ttextArea.setLineWrap(true);\r\n    \t\t\ttextArea.setWrapStyleWord(true);\r\n    \r\n    \t\t\tJScrollPane scrollPane = new JScrollPane(textArea);\r\n    \t\t\tscrollPane.setBorder(BorderFactory.createLineBorder(Color.RED, 5));\r\n    \t\t\tscrollPane.setPreferredSize(textArea.getPreferredSize());\t\r\n    \r\n    \t\t\thistoryPanel.add(scrollPane);\r\n    \t\t\thistoryPanel.add(Box.createRigidArea(new Dimension(0,10)));\r\n    \t\t\thistoryPanel.revalidate();\r\n    //\t\t\tenterTextField.setText(&quot;&quot;); // Commented out for convenience while testing.\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \r\n    \t\tnew Chatter();\r\n    \t}\r\n    }\r\n\r\n**Explanation:**\r\n\r\nI use `JTextArea`s to display the text since it has text wrapping support. Each text area is inside a `JScrollPane` in order to allow vertical scrolling as a last resort if there is not enough space to display the text.\r\n\r\n**Notes:**\r\n\r\n* I used a `JTextField` as the input method for text, you can use a multiline text component instead.\r\n * The initial text is just for testing.\r\n * The text is not cleared with every entry for testing (see the commented line in the code).\r\n* I used `BoxLayout` for the panel which holds the text messages because it seemed simpler and more natural. `GridBagLayout` could surely be used instead.\r\n* I set `setWrapStyleWord(true)` because it&#39;s probably the right behavior to wrap by words. If you want to wrap by characters then delete this line.\r\n* I added a border and spaces for testing. Use whatever styling you want instead.","title":"How can I make my Panel wrap text and increase in height instead of width when contained in a GridBagLayout?","body":"<p>I managed to get something working that is along the lines of what you want:</p>\n\n<pre><code>public class Chatter extends JFrame {\n\n    JTextField enterTextField = new JTextField(\"This is a lot of text it's way too loooooooooooooooong to fit in one line but it is used to check for wrapping by words and characters some more text just for fun no punctuation\");\n    JPanel historyPanel = new JPanel();\n\n    public Chatter() {\n\n        enterTextField.addActionListener(new enterTextActionListener());\n\n        historyPanel.setLayout(new BoxLayout(historyPanel, BoxLayout.PAGE_AXIS));\n        JScrollPane scrollPane = new JScrollPane(historyPanel, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n\n        getContentPane().add(enterTextField, BorderLayout.PAGE_END);\n        getContentPane().add(scrollPane, BorderLayout.CENTER);\n\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setSize(300, 300);\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    private class enterTextActionListener implements ActionListener {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            JTextArea textArea = new JTextArea(enterTextField.getText());\n            textArea.setLineWrap(true);\n            textArea.setWrapStyleWord(true);\n\n            JScrollPane scrollPane = new JScrollPane(textArea);\n            scrollPane.setBorder(BorderFactory.createLineBorder(Color.RED, 5));\n            scrollPane.setPreferredSize(textArea.getPreferredSize());   \n\n            historyPanel.add(scrollPane);\n            historyPanel.add(Box.createRigidArea(new Dimension(0,10)));\n            historyPanel.revalidate();\n//          enterTextField.setText(\"\"); // Commented out for convenience while testing.\n        }\n    }\n\n    public static void main(String args[]) {\n\n        new Chatter();\n    }\n}\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>I use <code>JTextArea</code>s to display the text since it has text wrapping support. Each text area is inside a <code>JScrollPane</code> in order to allow vertical scrolling as a last resort if there is not enough space to display the text.</p>\n\n<p><strong>Notes:</strong></p>\n\n<ul>\n<li>I used a <code>JTextField</code> as the input method for text, you can use a multiline text component instead.\n<ul>\n<li>The initial text is just for testing.</li>\n<li>The text is not cleared with every entry for testing (see the commented line in the code).</li>\n</ul></li>\n<li>I used <code>BoxLayout</code> for the panel which holds the text messages because it seemed simpler and more natural. <code>GridBagLayout</code> could surely be used instead.</li>\n<li>I set <code>setWrapStyleWord(true)</code> because it's probably the right behavior to wrap by words. If you want to wrap by characters then delete this line.</li>\n<li>I added a border and spaces for testing. Use whatever styling you want instead.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1430254816,"creation_date":1430253770,"answer_id":29929523,"question_id":29924478,"body_markdown":"Following up on @durandal&#39;s advice, the problem is the JLabel. A JLabel does not wrap text. So you need to use a different component. Here is your code modified with a JTextArea:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class Kskb {\r\n    \r\n        private int row;\r\n    \r\n        public Kskb()\r\n        {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.getContentPane().setPreferredSize(new Dimension(800, 600));\r\n    //        final JPanel content = new JPanel(new GridBagLayout());\r\n            final ScrollablePanel content = new ScrollablePanel(new GridBagLayout());\r\n            content.setScrollableWidth( ScrollablePanel.ScrollableSizeHint.FIT );\r\n            final GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.insets = new Insets(10, 10, 10, 10);\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n            gbc.weightx = 1.0;\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            content.getInputMap().put(KeyStroke.getKeyStroke(&quot;ENTER&quot;), &quot;&quot;);\r\n            content.getActionMap().put(&quot;&quot;, new AbstractAction(){\r\n                @Override\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    JPanel p = new JPanel( new BorderLayout() );\r\n                    p.setBorder( new EmptyBorder(10, 10, 10, 10) );\r\n                    p.setBackground(Color.GRAY);\r\n                    JTextArea text = new JTextArea();\r\n                    text.append(&quot;ABCABCABCABCABCABCABCABC ABCABCABCABCABCABCABCABCABCABCABCABCABCABC ABCABCABCABCABCABCABCABCABCABCABCABCABCA BCABCABCABCABCABCABCAB CABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABC&quot;);\r\n                    text.setLineWrap( true );\r\n                    p.add(text);\r\n    \r\n                    gbc.gridy = row++;\r\n                    content.add(p, gbc);\r\n                    content.revalidate();\r\n                }\r\n            });\r\n    \r\n            JScrollPane scrollPane = new JScrollPane(content);\r\n            f.pack();\r\n            f.setLocationRelativeTo(null);\r\n            f.add(scrollPane);\r\n            f.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            new Kskb();\r\n        }\r\n    }\r\n\r\nThe key is the `Scrollable` implementation which forces the panels width to be adjusted ad the frame is adjusted. This code uses the [Scrollable Panel](https://tips4java.wordpress.com/2009/12/20/scrollable-panel/), which is just a reusable implementation of the `Scrollable` interface that you can configure with methods instead of creating a new class and overriding the methods.\r\n","title":"How can I make my Panel wrap text and increase in height instead of width when contained in a GridBagLayout?","body":"<p>Following up on @durandal's advice, the problem is the JLabel. A JLabel does not wrap text. So you need to use a different component. Here is your code modified with a JTextArea:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class Kskb {\n\n    private int row;\n\n    public Kskb()\n    {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.getContentPane().setPreferredSize(new Dimension(800, 600));\n//        final JPanel content = new JPanel(new GridBagLayout());\n        final ScrollablePanel content = new ScrollablePanel(new GridBagLayout());\n        content.setScrollableWidth( ScrollablePanel.ScrollableSizeHint.FIT );\n        final GridBagConstraints gbc = new GridBagConstraints();\n        gbc.insets = new Insets(10, 10, 10, 10);\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.weightx = 1.0;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        content.getInputMap().put(KeyStroke.getKeyStroke(\"ENTER\"), \"\");\n        content.getActionMap().put(\"\", new AbstractAction(){\n            @Override\n            public void actionPerformed(ActionEvent e)\n            {\n                JPanel p = new JPanel( new BorderLayout() );\n                p.setBorder( new EmptyBorder(10, 10, 10, 10) );\n                p.setBackground(Color.GRAY);\n                JTextArea text = new JTextArea();\n                text.append(\"ABCABCABCABCABCABCABCABC ABCABCABCABCABCABCABCABCABCABCABCABCABCABC ABCABCABCABCABCABCABCABCABCABCABCABCABCA BCABCABCABCABCABCABCAB CABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABC\");\n                text.setLineWrap( true );\n                p.add(text);\n\n                gbc.gridy = row++;\n                content.add(p, gbc);\n                content.revalidate();\n            }\n        });\n\n        JScrollPane scrollPane = new JScrollPane(content);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.add(scrollPane);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) throws Exception {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        new Kskb();\n    }\n}\n</code></pre>\n\n<p>The key is the <code>Scrollable</code> implementation which forces the panels width to be adjusted ad the frame is adjusted. This code uses the <a href=\"https://tips4java.wordpress.com/2009/12/20/scrollable-panel/\" rel=\"nofollow\">Scrollable Panel</a>, which is just a reusable implementation of the <code>Scrollable</code> interface that you can configure with methods instead of creating a new class and overriding the methods.</p>\n"}],"owner":{"account_id":3089447,"reputation":1280,"user_id":2615905,"accept_rate":46,"display_name":"T_01"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6405,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":29929523,"answer_count":4,"score":4,"last_activity_date":1649401918,"creation_date":1430237259,"question_id":29924478,"body_markdown":"[FINAL EDIT]\r\n\r\nOk folks.\r\n\r\nI don&#39;t know why it does not work in my chat program... but I managed to fix the SSCCE.. with the scrollable implementation it works now. Thank you all! \r\n\r\nCode:\r\n\r\n    package de.sky.cjat;\r\n    \r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.LayoutManager;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Scrollable;\r\n    import javax.swing.UIManager;\r\n    \r\n    public class MyKskb {\r\n    \t\r\n    \tprivate int row;\r\n    \t\r\n    \tclass SomethingPanel extends JPanel implements Scrollable {\r\n    \r\n    \t\tpublic SomethingPanel(LayoutManager manager){\r\n    \t\t\tsuper(manager);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic Dimension getPreferredScrollableViewportSize(){\r\n    \t\t\treturn getPreferredSize();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction){\r\n    \t\t\treturn 5;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean getScrollableTracksViewportHeight(){\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean getScrollableTracksViewportWidth(){\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction){\r\n    \t\t\treturn 1;\r\n    \t\t}\r\n        }\r\n    \t\r\n    \tpublic MyKskb(){\r\n    \t\tJFrame f = new JFrame();\r\n    \t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tf.getContentPane().setPreferredSize(new Dimension(800, 600));\r\n    //\t\tfinal JPanel content = new JPanel(new GridBagLayout());\r\n    \t\tfinal SomethingPanel content = new SomethingPanel(new GridBagLayout());\r\n    \r\n    //\t\tfinal JPanel empty = new JPanel();\r\n    //\t\tempty.setPreferredSize(new Dimension(0, 0));\r\n    //\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    //\t\tcontent.add(empty, gbc);\r\n    \t\tcontent.getInputMap().put(KeyStroke.getKeyStroke(&quot;ENTER&quot;), &quot;&#167;&quot;);\r\n    \t\tcontent.getActionMap().put(&quot;&#167;&quot;, new AbstractAction(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e){\r\n    \t\t\t\tJPanel p = new JPanel(new BorderLayout());\r\n    \t\t\t\tp.setBorder(BorderFactory.createLineBorder(Color.BLACK, 2));\r\n    \t\t\t\tp.setBackground(Color.GRAY);\r\n    \t\t\t\t\r\n    \t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\t\t\tgbc.insets = new Insets(10, 10, 10, 10);\r\n    \t\t\t\tgbc.weightx = 1.0;\r\n    \t\t\t\tgbc.gridx = 0;\r\n    \t\t\t\tgbc.gridy = row++;\r\n    \t\t\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\t\t\t\r\n    //\t\t\t\tcontent.remove(empty);\r\n    //\t\t\t\tgbc.gridy = row;\r\n    //\t\t\t\tgbc.weighty = 1.0;\r\n    //\t\t\t\tcontent.add(empty, gbc);\r\n    \t\t\t\r\n    \t\t\t\tJTextArea text = new JTextArea(\r\n    \t\t\t\t\t\tMath.random() &gt; 0.5 ? \r\n    \t\t\t\t\t\t&quot;ABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABC&quot; : \r\n    \t\t\t\t\t\t&quot;FFFFFFFFFFFFABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABC&quot;);\r\n    \t\t\t\ttext.setLineWrap(true);\r\n    \t\t\t\tp.add(text);\r\n    \t\t\t\tcontent.add(p, gbc);\r\n    \t\t\t\tcontent.revalidate();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tJScrollPane scrollPane = new JScrollPane(content);\r\n    \t\tf.pack();\r\n    \t\tf.setLocationRelativeTo(null);\r\n    \t\tf.add(scrollPane);\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    \t\tnew MyKskb();\r\n    \t}\r\n    }\r\n\r\n[END]\r\n\r\n\r\n\r\n\r\n[QUESTION]\r\n\r\nI&#39;m writing a Chat Program, and the layout looks like this:\r\n\r\n![enter image description here][1]\r\n\r\nThe Panel with the messages has a GridBagLayout and is wrapped in a JScrollPane.\r\n\r\nThe problem is, if the message is too long, the message panel stretches and gets too big:\r\n\r\n![enter image description here][2]\r\n\r\nSo what I want to achieve, is to limit the size of the panel, which is wrapped in the JScrollPane - I want the gray panels with the message text to increase their height, if the text gets longer, not wider. I.e. wrap the text, without increasing the panel width.\r\n\r\nIs there a way to achieve this with the grid bag layout, or am I missing something? Or should I use another layout manager?\r\n\r\nEdit: The full Hierarchy:\r\n\r\n    JScrollPane\r\n        JPanel (gbl)\r\n            JPanel (custom painting)\r\n                JComponent (JLabel but it can vary)\r\n            JPanel (custom painting)\r\n                JComponent (JLabel but it can vary)\r\n            JPanel (custom painting)\r\n                JComponent (JLabel but it can vary)\r\n            ....    \r\n\r\nedit: I tried to implement Scrollable like this:\r\n\r\n    @Override\r\n    \tpublic Dimension getPreferredScrollableViewportSize(){\r\n    \t\treturn new Dimension(100, getHeight());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction){\r\n    \t\treturn 5;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean getScrollableTracksViewportHeight(){\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean getScrollableTracksViewportWidth(){\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction){\r\n    \t\treturn 1;\r\n    \t}\r\n\r\nbut the same thing happens if the text gets too long... I don&#39;t know what `getPreferredScrollableViewportSize` should return, but also `getSize()` didn&#39;t work...  \r\n\r\n\r\nEDIT: here is a SSCCE, it shows the basic structure of my GUI: (press enter to add new component)\r\n\r\n    package de.sky.cjat;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.UIManager;\r\n    \r\n    public class Kskb {\r\n    \t\r\n    \tprivate int row;\r\n    \t\r\n    \tpublic Kskb(){\r\n    \t\tJFrame f = new JFrame();\r\n    \t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tf.getContentPane().setPreferredSize(new Dimension(800, 600));\r\n    \t\tfinal JPanel content = new JPanel(new GridBagLayout());\r\n    \t\tfinal JPanel empty = new JPanel();\r\n    \t\tempty.setPreferredSize(new Dimension(0, 0));\r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tcontent.add(empty, gbc);\r\n    \t\tcontent.getInputMap().put(KeyStroke.getKeyStroke(&quot;ENTER&quot;), &quot;&#167;&quot;);\r\n    \t\tcontent.getActionMap().put(&quot;&#167;&quot;, new AbstractAction(){\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e){\r\n    \t\t\t\tJPanel p = new JPanel();\r\n    \t\t\t\tp.setBackground(Color.GRAY);\r\n    \t\t\t\tJLabel text = new JLabel(&quot;ABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABC&quot;);\r\n    \t\t\t\tp.add(text);\r\n    \t\t\t\t\r\n    \t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\t\t\tgbc.insets = new Insets(10, 10, 10, 10);\r\n    \t\t\t\tgbc.weightx = 1.0;\r\n    \t\t\t\tgbc.gridy = row++;\r\n    \t\t\t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n    \t\t\t\tgbc.anchor = GridBagConstraints.NORTHWEST;\r\n    \t\t\t\t\r\n    \t\t\t\tcontent.add(p, gbc);\r\n    \t\t\t\t\r\n    \t\t\t\tcontent.remove(empty);\r\n    \t\t\t\tgbc.gridy = row;\r\n    \t\t\t\tgbc.weighty = 1.0;\r\n    \t\t\t\tcontent.add(empty, gbc);\r\n    \t\t\t\t\r\n    \t\t\t\tcontent.revalidate();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tJScrollPane scrollPane = new JScrollPane(content);\r\n    \t\tf.pack();\r\n    \t\tf.setLocationRelativeTo(null);\r\n    \t\tf.add(scrollPane);\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    \t\tnew Kskb();\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Kq7ar.png\r\n  [2]: http://i.stack.imgur.com/U3Kdz.png\r\n","title":"How can I make my Panel wrap text and increase in height instead of width when contained in a GridBagLayout?","body":"<p>[FINAL EDIT]</p>\n<p>Ok folks.</p>\n<p>I don't know why it does not work in my chat program... but I managed to fix the SSCCE.. with the scrollable implementation it works now. Thank you all!</p>\n<p>Code:</p>\n<pre><code>package de.sky.cjat;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.LayoutManager;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.KeyStroke;\nimport javax.swing.Scrollable;\nimport javax.swing.UIManager;\n\npublic class MyKskb {\n    \n    private int row;\n    \n    class SomethingPanel extends JPanel implements Scrollable {\n\n        public SomethingPanel(LayoutManager manager){\n            super(manager);\n        }\n        \n        @Override\n        public Dimension getPreferredScrollableViewportSize(){\n            return getPreferredSize();\n        }\n\n        @Override\n        public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction){\n            return 5;\n        }\n\n        @Override\n        public boolean getScrollableTracksViewportHeight(){\n            return false;\n        }\n\n        @Override\n        public boolean getScrollableTracksViewportWidth(){\n            return true;\n        }\n\n        @Override\n        public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction){\n            return 1;\n        }\n    }\n    \n    public MyKskb(){\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.getContentPane().setPreferredSize(new Dimension(800, 600));\n//      final JPanel content = new JPanel(new GridBagLayout());\n        final SomethingPanel content = new SomethingPanel(new GridBagLayout());\n\n//      final JPanel empty = new JPanel();\n//      empty.setPreferredSize(new Dimension(0, 0));\n//      GridBagConstraints gbc = new GridBagConstraints();\n//      content.add(empty, gbc);\n        content.getInputMap().put(KeyStroke.getKeyStroke(&quot;ENTER&quot;), &quot;§&quot;);\n        content.getActionMap().put(&quot;§&quot;, new AbstractAction(){\n            @Override\n            public void actionPerformed(ActionEvent e){\n                JPanel p = new JPanel(new BorderLayout());\n                p.setBorder(BorderFactory.createLineBorder(Color.BLACK, 2));\n                p.setBackground(Color.GRAY);\n                \n                GridBagConstraints gbc = new GridBagConstraints();\n                gbc.insets = new Insets(10, 10, 10, 10);\n                gbc.weightx = 1.0;\n                gbc.gridx = 0;\n                gbc.gridy = row++;\n                gbc.fill = GridBagConstraints.HORIZONTAL;\n                \n//              content.remove(empty);\n//              gbc.gridy = row;\n//              gbc.weighty = 1.0;\n//              content.add(empty, gbc);\n            \n                JTextArea text = new JTextArea(\n                        Math.random() &gt; 0.5 ? \n                        &quot;ABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABC&quot; : \n                        &quot;FFFFFFFFFFFFABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABC&quot;);\n                text.setLineWrap(true);\n                p.add(text);\n                content.add(p, gbc);\n                content.revalidate();\n            }\n        });\n        JScrollPane scrollPane = new JScrollPane(content);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.add(scrollPane);\n        f.setVisible(true);\n    }\n    \n    public static void main(String[] args) throws Exception {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        new MyKskb();\n    }\n}\n</code></pre>\n<p>[END]</p>\n<p>[QUESTION]</p>\n<p>I'm writing a Chat Program, and the layout looks like this:</p>\n<p><img src=\"https://i.stack.imgur.com/Kq7ar.png\" alt=\"enter image description here\" /></p>\n<p>The Panel with the messages has a GridBagLayout and is wrapped in a JScrollPane.</p>\n<p>The problem is, if the message is too long, the message panel stretches and gets too big:</p>\n<p><img src=\"https://i.stack.imgur.com/U3Kdz.png\" alt=\"enter image description here\" /></p>\n<p>So what I want to achieve, is to limit the size of the panel, which is wrapped in the JScrollPane - I want the gray panels with the message text to increase their height, if the text gets longer, not wider. I.e. wrap the text, without increasing the panel width.</p>\n<p>Is there a way to achieve this with the grid bag layout, or am I missing something? Or should I use another layout manager?</p>\n<p>Edit: The full Hierarchy:</p>\n<pre><code>JScrollPane\n    JPanel (gbl)\n        JPanel (custom painting)\n            JComponent (JLabel but it can vary)\n        JPanel (custom painting)\n            JComponent (JLabel but it can vary)\n        JPanel (custom painting)\n            JComponent (JLabel but it can vary)\n        ....    \n</code></pre>\n<p>edit: I tried to implement Scrollable like this:</p>\n<pre><code>@Override\n    public Dimension getPreferredScrollableViewportSize(){\n        return new Dimension(100, getHeight());\n    }\n\n    @Override\n    public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction){\n        return 5;\n    }\n\n    @Override\n    public boolean getScrollableTracksViewportHeight(){\n        return false;\n    }\n\n    @Override\n    public boolean getScrollableTracksViewportWidth(){\n        return true;\n    }\n\n    @Override\n    public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction){\n        return 1;\n    }\n</code></pre>\n<p>but the same thing happens if the text gets too long... I don't know what <code>getPreferredScrollableViewportSize</code> should return, but also <code>getSize()</code> didn't work...</p>\n<p>EDIT: here is a SSCCE, it shows the basic structure of my GUI: (press enter to add new component)</p>\n<pre><code>package de.sky.cjat;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.KeyStroke;\nimport javax.swing.UIManager;\n\npublic class Kskb {\n    \n    private int row;\n    \n    public Kskb(){\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.getContentPane().setPreferredSize(new Dimension(800, 600));\n        final JPanel content = new JPanel(new GridBagLayout());\n        final JPanel empty = new JPanel();\n        empty.setPreferredSize(new Dimension(0, 0));\n        GridBagConstraints gbc = new GridBagConstraints();\n        content.add(empty, gbc);\n        content.getInputMap().put(KeyStroke.getKeyStroke(&quot;ENTER&quot;), &quot;§&quot;);\n        content.getActionMap().put(&quot;§&quot;, new AbstractAction(){\n            @Override\n            public void actionPerformed(ActionEvent e){\n                JPanel p = new JPanel();\n                p.setBackground(Color.GRAY);\n                JLabel text = new JLabel(&quot;ABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABCABC&quot;);\n                p.add(text);\n                \n                GridBagConstraints gbc = new GridBagConstraints();\n                gbc.insets = new Insets(10, 10, 10, 10);\n                gbc.weightx = 1.0;\n                gbc.gridy = row++;\n                gbc.fill = GridBagConstraints.HORIZONTAL;\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\n                gbc.anchor = GridBagConstraints.NORTHWEST;\n                \n                content.add(p, gbc);\n                \n                content.remove(empty);\n                gbc.gridy = row;\n                gbc.weighty = 1.0;\n                content.add(empty, gbc);\n                \n                content.revalidate();\n            }\n        });\n        JScrollPane scrollPane = new JScrollPane(content);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.add(scrollPane);\n        f.setVisible(true);\n    }\n    \n    public static void main(String[] args) throws Exception {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        new Kskb();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":14695242,"reputation":552,"user_id":10612806,"display_name":"Evgeni Enchev"},"score":0,"creation_date":1649255509,"post_id":71768406,"comment_id":126830185,"body_markdown":"I&#39;d bet for rest callback - immediate, fast and simple. Everything else will give you headache","body":"I&#39;d bet for rest callback - immediate, fast and simple. Everything else will give you headache"},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1649262859,"post_id":71768406,"comment_id":126833414,"body_markdown":"Another option is to introduce a push-based queue like `AWS SNS` (queues like SNS rarely go down) and have a dead letter queue and have a common fallback mechanism","body":"Another option is to introduce a push-based queue like <code>AWS SNS</code> (queues like SNS rarely go down) and have a dead letter queue and have a common fallback mechanism"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1649392803,"post_id":71768406,"comment_id":126868646,"body_markdown":"Very bad design. Microservices are servers. GUIs are clients. App2 should not be a GUI. App2 must be a microservice.","body":"Very bad design. Microservices are servers. GUIs are clients. App2 should not be a GUI. App2 must be a microservice."},{"owner":{"account_id":137221,"reputation":3,"user_id":341264,"display_name":"DGoulston"},"score":0,"creation_date":1649401621,"post_id":71768406,"comment_id":126870513,"body_markdown":"@Grim Yes, I kept the question simple, but you are correct, App3 will be the GUI to actually handle the approvals.","body":"@Grim Yes, I kept the question simple, but you are correct, App3 will be the GUI to actually handle the approvals."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1649414795,"post_id":71768406,"comment_id":126874973,"body_markdown":"@DGoulston Ok then it is a good design.","body":"@DGoulston Ok then it is a good design."}],"owner":{"account_id":137221,"reputation":3,"user_id":341264,"display_name":"DGoulston"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649401778,"creation_date":1649254477,"question_id":71768406,"body_markdown":"So I have a system that handles approval of requests from other systems over Rest.\r\n\r\nWith the flow:\r\n\r\n- App2 (Server) process requests and handle approvals\r\n- App1 (Client) Submit Request to App2 via REST\r\n- App3 (Client) approvals GUI\r\n- App1 (Client) Wait for approval in App2 then do something with the request data.\r\n\r\nNow the question is what is the best way for App2 to communicate with App1 that it is approved (which could take hours/days) and that App1 can continue to process the data.\r\n\r\n(Note: Long term there can be more than one App1)\r\n\r\n**Potential solutions**\r\n\r\n- Rest Callback: (When App1 makes the request it tells App2 where to send the rest call once approved)\r\n- MQ/AWS SQS: Some kind of queue that App2 posts approvals onto for App1 to pick up\r\n- Polling: App1 polls App2 every 10 seconds to see if its request has been approved.\r\n\r\ndoes not need to scale much, based on just a few requests to max 100 per day for argument sake. so not large frequency of data –\r\n\r\nWould like to get accepted good practice design patterns on which is best or if there is a better technique as they must be an standard way of doing this that is effective and good.","title":"Design Patterns for Java Rest Call Backs","body":"<p>So I have a system that handles approval of requests from other systems over Rest.</p>\n<p>With the flow:</p>\n<ul>\n<li>App2 (Server) process requests and handle approvals</li>\n<li>App1 (Client) Submit Request to App2 via REST</li>\n<li>App3 (Client) approvals GUI</li>\n<li>App1 (Client) Wait for approval in App2 then do something with the request data.</li>\n</ul>\n<p>Now the question is what is the best way for App2 to communicate with App1 that it is approved (which could take hours/days) and that App1 can continue to process the data.</p>\n<p>(Note: Long term there can be more than one App1)</p>\n<p><strong>Potential solutions</strong></p>\n<ul>\n<li>Rest Callback: (When App1 makes the request it tells App2 where to send the rest call once approved)</li>\n<li>MQ/AWS SQS: Some kind of queue that App2 posts approvals onto for App1 to pick up</li>\n<li>Polling: App1 polls App2 every 10 seconds to see if its request has been approved.</li>\n</ul>\n<p>does not need to scale much, based on just a few requests to max 100 per day for argument sake. so not large frequency of data –</p>\n<p>Would like to get accepted good practice design patterns on which is best or if there is a better technique as they must be an standard way of doing this that is effective and good.</p>\n"},{"tags":["java","spring-boot","maven","heroku"],"comments":[{"owner":{"account_id":4473781,"reputation":358,"user_id":3639375,"display_name":"Sh Svyatoslav"},"score":0,"creation_date":1602072097,"post_id":64243538,"comment_id":113602850,"body_markdown":"Maybe this is related to your issue? https://stackoverflow.com/questions/53604111/heroku-cannot-deploy-java-11-spring-boot-app","body":"Maybe this is related to your issue? <a href=\"https://stackoverflow.com/questions/53604111/heroku-cannot-deploy-java-11-spring-boot-app\" title=\"heroku cannot deploy java 11 spring boot app\">stackoverflow.com/questions/53604111/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2510424,"reputation":540,"user_id":2183049,"display_name":"Habil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1602073371,"creation_date":1602073371,"answer_id":64243947,"question_id":64243538,"body_markdown":"You can change maven and java versions in your pom.xml file. \r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;","title":"Failed to upload spring boot to heroku","body":"<p>You can change maven and java versions in your pom.xml file.</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9723428,"reputation":23,"user_id":7211363,"display_name":"jo23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649401756,"creation_date":1649401756,"answer_id":71792989,"question_id":64243538,"body_markdown":"Creating `system.properties` file with the property `java.runtime.version=11 ` in the root directory helped me with the same problem.","title":"Failed to upload spring boot to heroku","body":"<p>Creating <code>system.properties</code> file with the property <code>java.runtime.version=11 </code> in the root directory helped me with the same problem.</p>\n"}],"owner":{"display_name":"user13505646"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64243947,"answer_count":2,"score":0,"last_activity_date":1649401756,"creation_date":1602071864,"question_id":64243538,"body_markdown":"In application.properties I specified java and maven version as \r\n\r\n    java.runtime.version=11\r\n    maven.version=4.0.0\r\n\r\n Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project heroku-spring: Fatal error compiling: invalid target release: 11\r\n\r\nHow can I solve it?","title":"Failed to upload spring boot to heroku","body":"<p>In application.properties I specified java and maven version as</p>\n<pre><code>java.runtime.version=11\nmaven.version=4.0.0\n</code></pre>\n<p>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project heroku-spring: Fatal error compiling: invalid target release: 11</p>\n<p>How can I solve it?</p>\n"},{"tags":["java","spring-boot","authentication","spring-security","web-applications"],"comments":[{"owner":{"account_id":7504490,"reputation":596,"user_id":5701542,"display_name":"gaetan224"},"score":0,"creation_date":1594124937,"post_id":62774687,"comment_id":111011189,"body_markdown":"there is no &quot;/login&quot; endpoint?","body":"there is no &quot;/login&quot; endpoint?"}],"answers":[{"tags":[],"owner":{"account_id":7504490,"reputation":596,"user_id":5701542,"display_name":"gaetan224"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594125920,"creation_date":1594125920,"answer_id":62775618,"question_id":62774687,"body_markdown":"Since evrything is done in your multiple filters, you just need a &quot;/login&quot; end point to return just OK   \r\n\r\n``` \r\n   @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; authenticate(HttpServletResponse response) {\r\n        String jwt = response.getHeader(SecurityParams.JWT_HEADER_NAME);\r\n        return new ResponseEntity&lt;&gt;(jwt, HttpStatus.OK);\r\n    }","title":": &quot;ERROR&quot; dispatch for GET &quot;/login&quot;, parameters={} ]","body":"<p>Since evrything is done in your multiple filters, you just need a &quot;/login&quot; end point to return just OK</p>\n<pre><code>   @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; authenticate(HttpServletResponse response) {\n        String jwt = response.getHeader(SecurityParams.JWT_HEADER_NAME);\n        return new ResponseEntity&lt;&gt;(jwt, HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20488231,"reputation":71,"user_id":15034864,"display_name":"misterM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649401688,"creation_date":1649378193,"answer_id":71790419,"question_id":62774687,"body_markdown":"Check the path of your endpoint &quot;\\login&quot; , generally it is &quot;/login&quot;, verify the endpoint url you are using to login for example:&quot;http://localhost:8080/your_endpoint_path&quot;.\r\nsince you made a custom version of UsernamePasswordAuthenticationFilter you need to specify the path you are using to login , try to add this to your SecurityConfig.java class \r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n        JWTAuthenticationFilter.setFilterProcessesUrl(&quot;/your_endpoint_path&quot;);\r\n    \r\n        // the rest of your configuration code\r\n    \r\n    }\r\n\r\n`\r\ntherefore you can authenticate by specifying &quot;/your_endpoint_path&quot; , i hope this would help .\r\n","title":": &quot;ERROR&quot; dispatch for GET &quot;/login&quot;, parameters={} ]","body":"<p>Check the path of your endpoint &quot;\\login&quot; , generally it is &quot;/login&quot;, verify the endpoint url you are using to login for example:&quot;http://localhost:8080/your_endpoint_path&quot;.\nsince you made a custom version of UsernamePasswordAuthenticationFilter you need to specify the path you are using to login , try to add this to your SecurityConfig.java class</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n    JWTAuthenticationFilter.setFilterProcessesUrl(&quot;/your_endpoint_path&quot;);\n\n    // the rest of your configuration code\n\n}\n</code></pre>\n<p>`\ntherefore you can authenticate by specifying &quot;/your_endpoint_path&quot; , i hope this would help .</p>\n"}],"owner":{"account_id":18834254,"reputation":11,"user_id":13737314,"display_name":"helloword981"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7097,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649401688,"creation_date":1594122849,"question_id":62774687,"body_markdown":"I have a problem with spring security  the register work and add admin and client with an encrypted password but   when I try to login with &quot;\\login&quot;  it shows me error 404 with not found resource \r\n```\r\n2020-07-07 13:43:19.912 DEBUG 12156 --- [nio-9000-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2020-07-07 13:43:20.490 DEBUG 12156 --- [nio-9000-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;, &quot;/&quot;]\r\n2020-07-07 13:43:21.178 DEBUG 12156 --- [nio-9000-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n2020-07-07 13:43:21.178 DEBUG 12156 --- [nio-9000-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n2020-07-07 13:43:21.227 DEBUG 12156 --- [nio-9000-exec-9] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n2020-07-07 13:43:21.253 DEBUG 12156 --- [nio-9000-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2020-07-07 13:43:21.471 DEBUG 12156 --- [nio-9000-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/hal+json&#39;, given [*/*] and \r\nsupported [application/hal+json]\r\n2020-07-07 13:43:21.477 DEBUG 12156 --- [nio-9000-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Jul 07 13:43:21 CEST 2020, status=404, error=Not Found, message=No message available, (truncated)...]\r\n2020-07-07 13:43:21.679 DEBUG 12156 --- [nio-9000-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404  \r\n```\r\n\r\nsecurityconfig.java\r\n```\r\n @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        private UserDetailsServiceImpl userDetailsService;\r\n        @Autowired\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n\r\n       \r\n\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n        }\r\n    \r\n\r\n       \r\n        \r\n         \r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n           http.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll();\r\n           \r\n         \r\n            http.authorizeRequests().anyRequest().permitAll();\r\n           // http.authorizeRequests().anyRequest().authenticated();\r\n            http.addFilter(new JWTAuthenticationFilter(authenticationManager()));\r\n            http.addFilterBefore(new JWTAuthorizationFiler(), UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n```\r\nJWTAuthorizationFiler\r\n```\r\n\r\npublic class JWTAuthorizationFiler extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE&quot;);\r\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers,authorization&quot;);\r\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials, authorization&quot;);\r\n        if(request.getMethod().equals(&quot;OPTIONS&quot;)){\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n        }\r\n        else if(request.getRequestURI().equals(&quot;/login&quot;)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        else {\r\n            String jwtToken = request.getHeader(SecurityParams.JWT_HEADER_NAME);\r\n            System.out.println(&quot;Token=&quot;+jwtToken);\r\n            if (jwtToken == null || !jwtToken.startsWith(SecurityParams.HEADER_PREFIX)) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n            JWTVerifier verifier = JWT.require(Algorithm.HMAC256(SecurityParams.SECRET)).build();\r\n            String jwt = jwtToken.substring(SecurityParams.HEADER_PREFIX.length());\r\n            DecodedJWT decodedJWT = verifier.verify(jwt);\r\n            System.out.println(&quot;JWT=&quot;+jwt);\r\n            String username = decodedJWT.getSubject();\r\n            List&lt;String&gt; roles = decodedJWT.getClaims().get(&quot;roles&quot;).asList(String.class);\r\n            System.out.println(&quot;username=&quot;+username);\r\n            System.out.println(&quot;roles=&quot;+roles);\r\n            Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n            roles.forEach(rn -&gt; {\r\n                authorities.add(new SimpleGrantedAuthority(rn));\r\n            });\r\n            UsernamePasswordAuthenticationToken Admin =\r\n                    new UsernamePasswordAuthenticationToken(username, null,authorities);\r\n            SecurityContextHolder.getContext().setAuthentication(Admin);\r\n            filterChain.doFilter(request, response);\r\n        }\r\n\r\n    }\r\n```\r\n\r\nJWTAuthenticationFilter.java\r\n```\r\n public class JWTAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    public JWTAuthenticationFilter(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        try {\r\n            Admin appUser= new ObjectMapper().readValue(request.getInputStream(),Admin.class);\r\n            return authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(appUser.getUsername(),appUser.getPassword()));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public Authentication attemptAuthentication1(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        try {\r\n            Admin appUser= new ObjectMapper().readValue(request.getInputStream(),Admin.class);\r\n            return authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(appUser.getUsername(),appUser.getPassword()));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response,\r\n                                            FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n        User user=(User)authResult.getPrincipal();\r\n        List&lt;String&gt; roles=new ArrayList&lt;&gt;();\r\n        authResult.getAuthorities().forEach(a-&gt;{\r\n            roles.add(a.getAuthority());\r\n        });\r\n        String jwt= JWT.create()\r\n                .withIssuer(request.getRequestURI())\r\n                .withSubject(user.getUsername())\r\n                .withArrayClaim(&quot;roles&quot;,roles.toArray(new String[roles.size()]))\r\n                .withExpiresAt(new Date(System.currentTimeMillis()+SecurityParams.EXPIRATION))\r\n                .sign(Algorithm.HMAC256(SecurityParams.SECRET));\r\n        response.addHeader(SecurityParams.JWT_HEADER_NAME,jwt);\r\n    }\r\n```\r\nAccountserviceimp.java\r\n```\r\npublic class AccountServiceImpl  implements AccountService{\r\n    private AppUserRepository appUserRepository;\r\n private AppRoleRepository appRoleRepository;\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    public AccountServiceImpl(AppUserRepository appUserRepository, AppRoleRepository appRoleRepository, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n        this.appUserRepository = appUserRepository;\r\n        this.appRoleRepository = appRoleRepository;\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    }\r\n//othercode\r\n@Override\r\n    public Utilisateur loadUserByUsername(String username) {\r\n        return appUserRepository.findByUsername(username);\r\n    }\r\n\r\n    @Override\r\n    public void addRoleToUser(String username, String rolename) {\r\n        Utilisateur appUser=appUserRepository.findByUsername(username);\r\n        AppRole appRole=appRoleRepository.findByRoleName(rolename);\r\n        appUser.getRoles().add(appRole);\r\n    }\r\n```\r\nadmincontroller.java\r\n```\r\n@GetMapping(&quot;/users&quot;)\r\n    public Utilisateur getuser(Principal principal){\r\n\r\n        return  appUserRepository.findByUsername(principal.getName());\r\n    }\r\n```\r\n","title":": &quot;ERROR&quot; dispatch for GET &quot;/login&quot;, parameters={} ]","body":"<p>I have a problem with spring security  the register work and add admin and client with an encrypted password but   when I try to login with &quot;\\login&quot;  it shows me error 404 with not found resource</p>\n<pre><code>2020-07-07 13:43:19.912 DEBUG 12156 --- [nio-9000-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2020-07-07 13:43:20.490 DEBUG 12156 --- [nio-9000-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;, &quot;/&quot;]\n2020-07-07 13:43:21.178 DEBUG 12156 --- [nio-9000-exec-9] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2020-07-07 13:43:21.178 DEBUG 12156 --- [nio-9000-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2020-07-07 13:43:21.227 DEBUG 12156 --- [nio-9000-exec-9] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2020-07-07 13:43:21.253 DEBUG 12156 --- [nio-9000-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2020-07-07 13:43:21.471 DEBUG 12156 --- [nio-9000-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/hal+json', given [*/*] and \nsupported [application/hal+json]\n2020-07-07 13:43:21.477 DEBUG 12156 --- [nio-9000-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Tue Jul 07 13:43:21 CEST 2020, status=404, error=Not Found, message=No message available, (truncated)...]\n2020-07-07 13:43:21.679 DEBUG 12156 --- [nio-9000-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404  \n</code></pre>\n<p>securityconfig.java</p>\n<pre><code> @Configuration\n    @EnableWebSecurity\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\n        @Autowired\n        private UserDetailsServiceImpl userDetailsService;\n        @Autowired\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n\n       \n\n        @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n        }\n    \n\n       \n        \n         \n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.csrf().disable();\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n           http.authorizeRequests().antMatchers(&quot;/login&quot;).permitAll();\n           \n         \n            http.authorizeRequests().anyRequest().permitAll();\n           // http.authorizeRequests().anyRequest().authenticated();\n            http.addFilter(new JWTAuthenticationFilter(authenticationManager()));\n            http.addFilterBefore(new JWTAuthorizationFiler(), UsernamePasswordAuthenticationFilter.class);\n        }\n</code></pre>\n<p>JWTAuthorizationFiler</p>\n<pre><code>\npublic class JWTAuthorizationFiler extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, PUT, OPTIONS, DELETE&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers,authorization&quot;);\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials, authorization&quot;);\n        if(request.getMethod().equals(&quot;OPTIONS&quot;)){\n            response.setStatus(HttpServletResponse.SC_OK);\n        }\n        else if(request.getRequestURI().equals(&quot;/login&quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        else {\n            String jwtToken = request.getHeader(SecurityParams.JWT_HEADER_NAME);\n            System.out.println(&quot;Token=&quot;+jwtToken);\n            if (jwtToken == null || !jwtToken.startsWith(SecurityParams.HEADER_PREFIX)) {\n                filterChain.doFilter(request, response);\n                return;\n            }\n            JWTVerifier verifier = JWT.require(Algorithm.HMAC256(SecurityParams.SECRET)).build();\n            String jwt = jwtToken.substring(SecurityParams.HEADER_PREFIX.length());\n            DecodedJWT decodedJWT = verifier.verify(jwt);\n            System.out.println(&quot;JWT=&quot;+jwt);\n            String username = decodedJWT.getSubject();\n            List&lt;String&gt; roles = decodedJWT.getClaims().get(&quot;roles&quot;).asList(String.class);\n            System.out.println(&quot;username=&quot;+username);\n            System.out.println(&quot;roles=&quot;+roles);\n            Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n            roles.forEach(rn -&gt; {\n                authorities.add(new SimpleGrantedAuthority(rn));\n            });\n            UsernamePasswordAuthenticationToken Admin =\n                    new UsernamePasswordAuthenticationToken(username, null,authorities);\n            SecurityContextHolder.getContext().setAuthentication(Admin);\n            filterChain.doFilter(request, response);\n        }\n\n    }\n</code></pre>\n<p>JWTAuthenticationFilter.java</p>\n<pre><code> public class JWTAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n    private AuthenticationManager authenticationManager;\n\n    public JWTAuthenticationFilter(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        try {\n            Admin appUser= new ObjectMapper().readValue(request.getInputStream(),Admin.class);\n            return authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(appUser.getUsername(),appUser.getPassword()));\n        } catch (IOException e) {\n            e.printStackTrace();\n            throw new RuntimeException(e);\n        }\n    }\n\n    public Authentication attemptAuthentication1(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        try {\n            Admin appUser= new ObjectMapper().readValue(request.getInputStream(),Admin.class);\n            return authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(appUser.getUsername(),appUser.getPassword()));\n        } catch (IOException e) {\n            e.printStackTrace();\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response,\n                                            FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        User user=(User)authResult.getPrincipal();\n        List&lt;String&gt; roles=new ArrayList&lt;&gt;();\n        authResult.getAuthorities().forEach(a-&gt;{\n            roles.add(a.getAuthority());\n        });\n        String jwt= JWT.create()\n                .withIssuer(request.getRequestURI())\n                .withSubject(user.getUsername())\n                .withArrayClaim(&quot;roles&quot;,roles.toArray(new String[roles.size()]))\n                .withExpiresAt(new Date(System.currentTimeMillis()+SecurityParams.EXPIRATION))\n                .sign(Algorithm.HMAC256(SecurityParams.SECRET));\n        response.addHeader(SecurityParams.JWT_HEADER_NAME,jwt);\n    }\n</code></pre>\n<p>Accountserviceimp.java</p>\n<pre><code>public class AccountServiceImpl  implements AccountService{\n    private AppUserRepository appUserRepository;\n private AppRoleRepository appRoleRepository;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public AccountServiceImpl(AppUserRepository appUserRepository, AppRoleRepository appRoleRepository, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.appUserRepository = appUserRepository;\n        this.appRoleRepository = appRoleRepository;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n//othercode\n@Override\n    public Utilisateur loadUserByUsername(String username) {\n        return appUserRepository.findByUsername(username);\n    }\n\n    @Override\n    public void addRoleToUser(String username, String rolename) {\n        Utilisateur appUser=appUserRepository.findByUsername(username);\n        AppRole appRole=appRoleRepository.findByRoleName(rolename);\n        appUser.getRoles().add(appRole);\n    }\n</code></pre>\n<p>admincontroller.java</p>\n<pre><code>@GetMapping(&quot;/users&quot;)\n    public Utilisateur getuser(Principal principal){\n\n        return  appUserRepository.findByUsername(principal.getName());\n    }\n</code></pre>\n"},{"tags":["java","eclipse","testing"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1649401726,"post_id":71792936,"comment_id":126870550,"body_markdown":"Does this answer your question? [Editor does not contain a main type](https://stackoverflow.com/questions/1113729/editor-does-not-contain-a-main-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1113729/editor-does-not-contain-a-main-type\">Editor does not contain a main type</a>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1649428552,"post_id":71792936,"comment_id":126880517,"body_markdown":"How in the UI did you try to Run it?","body":"How in the UI did you try to Run it?"}],"owner":{"account_id":24357327,"reputation":1,"user_id":18292284,"display_name":"Mattia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649401616,"creation_date":1649401445,"question_id":71792936,"body_markdown":"I have a problem with eclipse/java application. \r\n\r\nIn the moment where i was ready to run my application it tells me a message that the selection does not contain main, but isn&#39;t true (see the picture) \r\n\r\n[![][1]][1]\r\n\r\nhow can i fix this mistake ? \r\n\r\n  [1]: https://i.stack.imgur.com/U3n3Z.jpg","title":"&quot;Editor does not contain a main type&quot; error in Eclipse","body":"<p>I have a problem with eclipse/java application.</p>\n<p>In the moment where i was ready to run my application it tells me a message that the selection does not contain main, but isn't true (see the picture)</p>\n<p><a href=\"https://i.stack.imgur.com/U3n3Z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3n3Z.jpg\" alt=\"\" /></a></p>\n<p>how can i fix this mistake ?</p>\n"},{"tags":["java","spring-boot","jaxb","spring-ws","spring-oxm"],"answers":[{"tags":[],"owner":{"account_id":13970001,"reputation":1974,"user_id":10088866,"display_name":"Clyde Barrow"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1649400940,"creation_date":1649400940,"answer_id":71792860,"question_id":71780098,"body_markdown":"Jakarta EE9 is not supported by spring yet - you need to wait for spring6 - https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6\r\n\r\nYou should use \r\n\r\n    implementation(&#39;jakarta.xml.bind:jakarta.xml.bind-api:2.3.3&#39;)\r\n    implementation(&#39;org.glassfish.jaxb:jaxb-runtime:2.3.6&#39;)","title":"JDK17 + Spring Boot Starter Web Services: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>Jakarta EE9 is not supported by spring yet - you need to wait for spring6 - <a href=\"https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6\" rel=\"noreferrer\">https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6</a></p>\n<p>You should use</p>\n<pre><code>implementation('jakarta.xml.bind:jakarta.xml.bind-api:2.3.3')\nimplementation('org.glassfish.jaxb:jaxb-runtime:2.3.6')\n</code></pre>\n"}],"owner":{"account_id":13970001,"reputation":1974,"user_id":10088866,"display_name":"Clyde Barrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14224,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":71792860,"answer_count":1,"score":6,"last_activity_date":1649400940,"creation_date":1649325576,"question_id":71780098,"body_markdown":"I have a simple spring boot app and I want to send request to a SOAP endpoint. Unfortunately every time I try to do this I receive: `javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath`. I&#39;m really confident that I have all the required libraries and I have no idea why it&#39;s happening\r\n\r\n    Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:177)\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:364)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:508)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:465)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:366)\r\n    \tat org.springframework.oxm.jaxb.Jaxb2Marshaller.createJaxbContextFromContextPath(Jaxb2Marshaller.java:540)\r\n    \tat org.springframework.oxm.jaxb.Jaxb2Marshaller.getJaxbContext(Jaxb2Marshaller.java:500)\r\n    \t... 18 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\r\n    \tat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:174)\r\n    \t... 24 common frames omitted\r\n\r\n\r\n I&#39;m using JDK17\r\n\r\n    openjdk 17.0.2 2022-01-18\r\n    OpenJDK Runtime Environment Temurin-17.0.2+8 (build 17.0.2+8)\r\n    OpenJDK 64-Bit Server VM Temurin-17.0.2+8 (build 17.0.2+8, mixed mode, sharing)\r\n\r\nMy build.gradle looks like this:\r\n  \r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web-services:2.6.6&quot;)\r\n    implementation(&#39;jakarta.xml.bind:jakarta.xml.bind-api:3.0.1&#39;)\r\n    implementation(&#39;org.glassfish.jaxb:jaxb-runtime:3.0.2&#39;)\r\n    implementation(&#39;com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.2&#39;)\r\n\r\nMy code looks like this:\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n    import jakarta.xml.bind.JAXBElement;\r\n    import org.springframework.oxm.jaxb.Jaxb2Marshaller;\r\n    import org.springframework.ws.client.core.support.WebServiceGatewaySupport;\r\n    import org.springframework.ws.soap.client.core.SoapActionCallback;\r\n    import javax.xml.datatype.DatatypeConfigurationException;\r\n    import javax.xml.datatype.DatatypeFactory;\r\n\r\n\r\n\r\n    @Component\r\n    public class MyClient extends WebServiceGatewaySupport {\r\n    \r\n        XmlMapper xmlMapper = new XmlMapper();\r\n    \r\n        public MyClient() {\r\n            Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n            marshaller.setContextPath(CONTEXT_PATH);\r\n    \r\n            this.setMarshaller(marshaller);\r\n            this.setUnmarshaller(marshaller);\r\n            this.setDefaultUri(API_URL);\r\n        }\r\n    \r\n     void myMethod(){\r\n    ...\r\n    // AT THIS MOMENT I RECEIVE THE EXCEPTION\r\n            var response = (MyResponseClass) getWebServiceTemplate()\r\n                .marshalSendAndReceive(\r\n                    request,\r\n                    new SoapActionCallback(CALLBACK_URI)\r\n                );\r\n    ...\r\n    {\r\n\r\nHow to solve it ?\r\n","title":"JDK17 + Spring Boot Starter Web Services: Implementation of JAXB-API has not been found on module path or classpath","body":"<p>I have a simple spring boot app and I want to send request to a SOAP endpoint. Unfortunately every time I try to do this I receive: <code>javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath</code>. I'm really confident that I have all the required libraries and I have no idea why it's happening</p>\n<pre><code>Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:177)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:364)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:508)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:465)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:366)\n    at org.springframework.oxm.jaxb.Jaxb2Marshaller.createJaxbContextFromContextPath(Jaxb2Marshaller.java:540)\n    at org.springframework.oxm.jaxb.Jaxb2Marshaller.getJaxbContext(Jaxb2Marshaller.java:500)\n    ... 18 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\n    at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:174)\n    ... 24 common frames omitted\n</code></pre>\n<p>I'm using JDK17</p>\n<pre><code>openjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment Temurin-17.0.2+8 (build 17.0.2+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.2+8 (build 17.0.2+8, mixed mode, sharing)\n</code></pre>\n<p>My build.gradle looks like this:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-web-services:2.6.6&quot;)\nimplementation('jakarta.xml.bind:jakarta.xml.bind-api:3.0.1')\nimplementation('org.glassfish.jaxb:jaxb-runtime:3.0.2')\nimplementation('com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.13.2')\n</code></pre>\n<p>My code looks like this:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport jakarta.xml.bind.JAXBElement;\nimport org.springframework.oxm.jaxb.Jaxb2Marshaller;\nimport org.springframework.ws.client.core.support.WebServiceGatewaySupport;\nimport org.springframework.ws.soap.client.core.SoapActionCallback;\nimport javax.xml.datatype.DatatypeConfigurationException;\nimport javax.xml.datatype.DatatypeFactory;\n\n\n\n@Component\npublic class MyClient extends WebServiceGatewaySupport {\n\n    XmlMapper xmlMapper = new XmlMapper();\n\n    public MyClient() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setContextPath(CONTEXT_PATH);\n\n        this.setMarshaller(marshaller);\n        this.setUnmarshaller(marshaller);\n        this.setDefaultUri(API_URL);\n    }\n\n void myMethod(){\n...\n// AT THIS MOMENT I RECEIVE THE EXCEPTION\n        var response = (MyResponseClass) getWebServiceTemplate()\n            .marshalSendAndReceive(\n                request,\n                new SoapActionCallback(CALLBACK_URI)\n            );\n...\n{\n</code></pre>\n<p>How to solve it ?</p>\n"},{"tags":["java","micronaut","micronaut-data"],"answers":[{"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649341215,"creation_date":1649341215,"answer_id":71783904,"question_id":71776153,"body_markdown":"Based on the code [PredicateSpecification][1] you can `and` &amp; `or` specifications together. As demonstrated in the [Micronaut Data User Guide][2]\r\n\r\n\r\n  [1]: https://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/repository/jpa/criteria/PredicateSpecification.java\r\n  [2]: https://micronaut-projects.github.io/micronaut-data/latest/guide/#specifications","title":"Dynamic combination of multiple PredicateSpecification with JpaSpecificationExecutor with Micronuat data for MongoDB","body":"<p>Based on the code <a href=\"https://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/repository/jpa/criteria/PredicateSpecification.java\" rel=\"nofollow noreferrer\">PredicateSpecification</a> you can <code>and</code> &amp; <code>or</code> specifications together. As demonstrated in the <a href=\"https://micronaut-projects.github.io/micronaut-data/latest/guide/#specifications\" rel=\"nofollow noreferrer\">Micronaut Data User Guide</a></p>\n"},{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649400901,"creation_date":1649400901,"answer_id":71792856,"question_id":71776153,"body_markdown":"It should be possible to use `DiscountIdEquals(...).and(DiscountCodeEquals(..))`.\r\n\r\nYour example can be used with `PredicateSpecification.ALL` as the initial state and then have:\r\n\r\n`predicateSpecification = predicateSpecification.and(DiscountIdEquals(...))`.\r\n\r\nThere are some examples in the test apps:\r\nhttps://github.com/micronaut-projects/micronaut-data/blob/master/doc-examples/mongo-example-java/src/test/java/example/PersonRepositorySpec.java#L50","title":"Dynamic combination of multiple PredicateSpecification with JpaSpecificationExecutor with Micronuat data for MongoDB","body":"<p>It should be possible to use <code>DiscountIdEquals(...).and(DiscountCodeEquals(..))</code>.</p>\n<p>Your example can be used with <code>PredicateSpecification.ALL</code> as the initial state and then have:</p>\n<p><code>predicateSpecification = predicateSpecification.and(DiscountIdEquals(...))</code>.</p>\n<p>There are some examples in the test apps:\n<a href=\"https://github.com/micronaut-projects/micronaut-data/blob/master/doc-examples/mongo-example-java/src/test/java/example/PersonRepositorySpec.java#L50\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-data/blob/master/doc-examples/mongo-example-java/src/test/java/example/PersonRepositorySpec.java#L50</a></p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71792856,"answer_count":2,"score":0,"last_activity_date":1649400901,"creation_date":1649303816,"question_id":71776153,"body_markdown":"How can I append all the PredicateSpecification or QuerySpecification using JpaSpecificationExecutor in MongoDB with Micronaut data?\r\n\r\n**Predicate**\r\n\r\n    public class DiscountSpecification {\r\n        final static BeanIntrospection&lt;Discount&gt; introspection = BeanIntrospection.getIntrospection(Discount.class);\r\n        static String[] discountProperty = introspection.getPropertyNames();\r\n    \r\n        public static PredicateSpecification&lt;Discount&gt; DiscountIdEquals(ObjectId DiscountId) {\r\n            return (root, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(discountProperty[0]), DiscountId);\r\n        }\r\n    \r\n        public static PredicateSpecification&lt;Discount&gt; DiscountCodeEquals(String DiscountCode) {\r\n            return (root, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(discountProperty[1]), DiscountCode);\r\n        }\r\n    }\r\n\r\nNow based on the condition I want to append all the predicate\r\n\r\n    @Introspected\r\n    public record QueryBuilderSpecification() {\r\n        public static PredicateSpecification&lt;Discount&gt; QueryBuilder(DiscountFilterModel discountFilterModel){\r\n            PredicateSpecification&lt;Discount&gt; predicateSpecification = null;\r\n    \r\n            if (discountFilterModel.getId() != null){\r\n                predicateSpecification =  DiscountIdEquals(new ObjectId(discountFilterModel.getId()));\r\n            }\r\n            if (discountFilterModel.getDiscountCode() != null){\r\n                predicateSpecification =  DiscountCodeEquals(discountFilterModel.getDiscountCode());\r\n            }\r\n            return predicateSpecification;\r\n        }\r\n    }\r\n\r\nThe above code doesn&#39;t append for both the condition. Quite not sure how to combine both if both are present.","title":"Dynamic combination of multiple PredicateSpecification with JpaSpecificationExecutor with Micronuat data for MongoDB","body":"<p>How can I append all the PredicateSpecification or QuerySpecification using JpaSpecificationExecutor in MongoDB with Micronaut data?</p>\n<p><strong>Predicate</strong></p>\n<pre><code>public class DiscountSpecification {\n    final static BeanIntrospection&lt;Discount&gt; introspection = BeanIntrospection.getIntrospection(Discount.class);\n    static String[] discountProperty = introspection.getPropertyNames();\n\n    public static PredicateSpecification&lt;Discount&gt; DiscountIdEquals(ObjectId DiscountId) {\n        return (root, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(discountProperty[0]), DiscountId);\n    }\n\n    public static PredicateSpecification&lt;Discount&gt; DiscountCodeEquals(String DiscountCode) {\n        return (root, criteriaBuilder) -&gt; criteriaBuilder.equal(root.get(discountProperty[1]), DiscountCode);\n    }\n}\n</code></pre>\n<p>Now based on the condition I want to append all the predicate</p>\n<pre><code>@Introspected\npublic record QueryBuilderSpecification() {\n    public static PredicateSpecification&lt;Discount&gt; QueryBuilder(DiscountFilterModel discountFilterModel){\n        PredicateSpecification&lt;Discount&gt; predicateSpecification = null;\n\n        if (discountFilterModel.getId() != null){\n            predicateSpecification =  DiscountIdEquals(new ObjectId(discountFilterModel.getId()));\n        }\n        if (discountFilterModel.getDiscountCode() != null){\n            predicateSpecification =  DiscountCodeEquals(discountFilterModel.getDiscountCode());\n        }\n        return predicateSpecification;\n    }\n}\n</code></pre>\n<p>The above code doesn't append for both the condition. Quite not sure how to combine both if both are present.</p>\n"},{"tags":["java","opencv","gradle","intellij-idea"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649347550,"post_id":71785353,"comment_id":126858296,"body_markdown":"*My build.gradle build.gradle*\nPlease never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"<i>My build.gradle build.gradle</i> Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649400333,"creation_date":1649400333,"answer_id":71792736,"question_id":71785353,"body_markdown":"You must set the `java.library.path` `systemProperty` to this library for Java to be able to use it. \r\n\r\nYou can set in in Gradle build file like so: \r\n\r\n    systemProperty &quot;java.library.path&quot;, file(&quot;${project.projectDir}/libs/hello/shared&quot;).absolutePath","title":"No opencv_java340 in java.library.path in Intellij","body":"<p>You must set the <code>java.library.path</code> <code>systemProperty</code> to this library for Java to be able to use it.</p>\n<p>You can set in in Gradle build file like so:</p>\n<pre><code>systemProperty &quot;java.library.path&quot;, file(&quot;${project.projectDir}/libs/hello/shared&quot;).absolutePath\n</code></pre>\n"}],"owner":{"account_id":18577796,"reputation":11,"user_id":13538009,"display_name":"Mistborn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649400333,"creation_date":1649347041,"question_id":71785353,"body_markdown":"I have a project in Intellij and I want to use opencv libraries, add opencv file jar in my project like this:\r\n[opencv jar][1]\r\n\r\n\r\nAnd I have libraries in my build.gradle for load and another ones\r\n\r\nMy build.gradle\r\n[build.gradle][2]\r\n\r\nWhen I run my project it&#39;s ok, but when I want to use open library throw a exception\r\n\r\n    java.lang.UnsatisfiedLinkError: no opencv_java340 in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860) ~[na:1.8.0_261]\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:871) ~[na:1.8.0_261]\r\n    \tat java.lang.System.loadLibrary(System.java:1122) ~ [na:1.8.0_261]legatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat com.banorte.ocr.config.SimpleCorsFilter.doFilter(SimpleCorsFilter.java:29) ~[main/:na]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_261]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_261]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]\r\n\r\nMy code where I try to load:\r\n\r\n    private void initLibrary() {\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n    }\r\n\r\nIf I look a NATIVE_LIBRARY_NAME show me a version opencv I try to load\r\n[code][3]\r\n\r\nI&#39;m not sure why not find library.\r\nI tried to load file jar with InputStream but it didn&#39;t work and I use different ways like [this][4] or [that][5] but not working\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nFWUW.png\r\n  [2]: https://i.stack.imgur.com/JPrn5.png\r\n  [3]: https://i.stack.imgur.com/ObiEK.png\r\n  [4]: https://stackoverflow.com/questions/27088934/unsatisfiedlinkerror-no-opencv-java249-in-java-library-path\r\n  [5]: https://stackoverflow.com/questions/38262346/java-lang-unsatisfiedlinkerror-no-opencv-java2411-in-java-library-path","title":"No opencv_java340 in java.library.path in Intellij","body":"<p>I have a project in Intellij and I want to use opencv libraries, add opencv file jar in my project like this:\n<a href=\"https://i.stack.imgur.com/nFWUW.png\" rel=\"nofollow noreferrer\">opencv jar</a></p>\n<p>And I have libraries in my build.gradle for load and another ones</p>\n<p>My build.gradle\n<a href=\"https://i.stack.imgur.com/JPrn5.png\" rel=\"nofollow noreferrer\">build.gradle</a></p>\n<p>When I run my project it's ok, but when I want to use open library throw a exception</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no opencv_java340 in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860) ~[na:1.8.0_261]\n    at java.lang.Runtime.loadLibrary0(Runtime.java:871) ~[na:1.8.0_261]\n    at java.lang.System.loadLibrary(System.java:1122) ~ [na:1.8.0_261]legatingMethodAccessorImpl.java:43) ~[na:1.8.0_261]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_261]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) ~[spring-boot-actuator-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at com.banorte.ocr.config.SimpleCorsFilter.doFilter(SimpleCorsFilter.java:29) ~[main/:na]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_261]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_261]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar:9.0.29]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_261]\n</code></pre>\n<p>My code where I try to load:</p>\n<pre><code>private void initLibrary() {\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n}\n</code></pre>\n<p>If I look a NATIVE_LIBRARY_NAME show me a version opencv I try to load\n<a href=\"https://i.stack.imgur.com/ObiEK.png\" rel=\"nofollow noreferrer\">code</a></p>\n<p>I'm not sure why not find library.\nI tried to load file jar with InputStream but it didn't work and I use different ways like <a href=\"https://stackoverflow.com/questions/27088934/unsatisfiedlinkerror-no-opencv-java249-in-java-library-path\">this</a> or <a href=\"https://stackoverflow.com/questions/38262346/java-lang-unsatisfiedlinkerror-no-opencv-java2411-in-java-library-path\">that</a> but not working</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5463649,"reputation":69,"user_id":4345006,"display_name":"Гончаренко Александр"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649316924,"creation_date":1649316924,"answer_id":71778087,"question_id":71777143,"body_markdown":"Could you clarify if you are using native SQL or HQL? It seems to me that you specified table names instead of entity classes in the query.","title":"how to write innerjoin query using hibernate?","body":"<p>Could you clarify if you are using native SQL or HQL? It seems to me that you specified table names instead of entity classes in the query.</p>\n"},{"tags":[],"owner":{"account_id":24856792,"reputation":11,"user_id":18733038,"display_name":"njan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649400111,"creation_date":1649400111,"answer_id":71792705,"question_id":71777143,"body_markdown":"The issue is resolved by removing the &quot;,*&quot;.\r\n\r\n    Query query = session.createSQLQuery(&quot;select x.columnA,x.columnB from Table_A x\\n&quot; +\r\n                    &quot;inner join Table_B y on x.tableA_ID = y.TableB_id\\n&quot; +\r\n                    &quot;where x.columnC in (1,2) and x.columnD &lt;&gt; 1 and\\n&quot; +\r\n                    &quot;y.Column2 &gt;= &#39;&quot;+date+&quot;&#39;&quot;);","title":"how to write innerjoin query using hibernate?","body":"<p>The issue is resolved by removing the &quot;,*&quot;.</p>\n<pre><code>Query query = session.createSQLQuery(&quot;select x.columnA,x.columnB from Table_A x\\n&quot; +\n                &quot;inner join Table_B y on x.tableA_ID = y.TableB_id\\n&quot; +\n                &quot;where x.columnC in (1,2) and x.columnD &lt;&gt; 1 and\\n&quot; +\n                &quot;y.Column2 &gt;= '&quot;+date+&quot;'&quot;);\n</code></pre>\n"}],"owner":{"account_id":24856792,"reputation":11,"user_id":18733038,"display_name":"njan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71792705,"answer_count":2,"score":1,"last_activity_date":1649400111,"creation_date":1649311743,"question_id":71777143,"body_markdown":"I was trying to query using hibernate and im getting some alias and some other errors. can anyone help me to write code for below query\r\n\r\n    select columnA,x.columnB ,* from Table_A \r\n    inner join Table_B  on x.tableA_ID = y.TableB_id\r\n    where x.columnC in (3,6) and x.columnD &lt;&gt; 1 and\r\n    y.Column2 &gt;= &#39;2021-02-05 15:47:01.000&#39;\r\n\r\n\r\n\r\nI have tried the below code,\r\n\r\n   \r\n\r\n    String date=&quot;2021-02-05 15:47:01.000&quot;\r\n    Query query = session.createSQLQuery(&quot;select x.columnA,x.columnB ,* from Table_A x\\n&quot; +\r\n                    &quot;inner join Table_B y on x.tableA_ID = y.TableB_id\\n&quot; +\r\n                    &quot;where x.columnC in (1,2) and x.columnD &lt;&gt; 1 and\\n&quot; +\r\n                    &quot;y.Column2 &gt;= &#39;&quot;+date+&quot;&#39;&quot;);\r\n    resultList= query.list();\r\n\r\nerror: \r\n&gt;Encountered a duplicated sql alias [columnB] during auto-discovery of a native-sql query; nested exception is o\r\n\r\n","title":"how to write innerjoin query using hibernate?","body":"<p>I was trying to query using hibernate and im getting some alias and some other errors. can anyone help me to write code for below query</p>\n<pre><code>select columnA,x.columnB ,* from Table_A \ninner join Table_B  on x.tableA_ID = y.TableB_id\nwhere x.columnC in (3,6) and x.columnD &lt;&gt; 1 and\ny.Column2 &gt;= '2021-02-05 15:47:01.000'\n</code></pre>\n<p>I have tried the below code,</p>\n<pre><code>String date=&quot;2021-02-05 15:47:01.000&quot;\nQuery query = session.createSQLQuery(&quot;select x.columnA,x.columnB ,* from Table_A x\\n&quot; +\n                &quot;inner join Table_B y on x.tableA_ID = y.TableB_id\\n&quot; +\n                &quot;where x.columnC in (1,2) and x.columnD &lt;&gt; 1 and\\n&quot; +\n                &quot;y.Column2 &gt;= '&quot;+date+&quot;'&quot;);\nresultList= query.list();\n</code></pre>\n<p>error:</p>\n<blockquote>\n<p>Encountered a duplicated sql alias [columnB] during auto-discovery of a native-sql query; nested exception is o</p>\n</blockquote>\n"},{"tags":["java","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1335605814,"creation_date":1334835789,"answer_id":10227272,"question_id":10227244,"body_markdown":"They&#39;re completely compatible. As a matter of fact, they perform completely unrelated tasks.\r\n\r\n`pom.xml` is the [configuration file for Maven projects](http://maven.apache.org/guides/introduction/introduction-to-the-pom.html). One of its goals is to provide assistance in the compilation and building of a project when using Maven. You can think of it as an ant `build.xml` file or a `makefile` Make file if you&#39;re not familiar to Maven (actually, it can provide a lot more functionality)\r\n\r\n`web.xml` is the Java EE web application deployment descriptor, where you specify for instance servlets, servlet mappings and other aspects of a webapp.\r\n\r\n - **[What is Maven](http://maven.apache.org/what-is-maven.html)** from the Apache Maven site.\r\n - **[What is web.xml file and what all things can I do with it?](https://stackoverflow.com/q/2311065/851811)** question on SO.\r\n\r\n","title":"Difference between web projects with pom.xml and web.xml","body":"<p>They're completely compatible. As a matter of fact, they perform completely unrelated tasks.</p>\n\n<p><code>pom.xml</code> is the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-pom.html\" rel=\"noreferrer\">configuration file for Maven projects</a>. One of its goals is to provide assistance in the compilation and building of a project when using Maven. You can think of it as an ant <code>build.xml</code> file or a <code>makefile</code> Make file if you're not familiar to Maven (actually, it can provide a lot more functionality)</p>\n\n<p><code>web.xml</code> is the Java EE web application deployment descriptor, where you specify for instance servlets, servlet mappings and other aspects of a webapp.</p>\n\n<ul>\n<li><strong><a href=\"http://maven.apache.org/what-is-maven.html\" rel=\"noreferrer\">What is Maven</a></strong> from the Apache Maven site.</li>\n<li><strong><a href=\"https://stackoverflow.com/q/2311065/851811\">What is web.xml file and what all things can I do with it?</a></strong> question on SO.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1411632,"reputation":665,"user_id":1338103,"accept_rate":60,"display_name":"ke20"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334835813,"creation_date":1334835813,"answer_id":10227280,"question_id":10227244,"body_markdown":"The pom.xml is for configure your project with Maven.\r\n\r\nThe web.xml is use in all Java EE project under Tomcat for example.\r\n\r\nYou can use both, Maven is for compile and deploy your project, Tomcat is your server.","title":"Difference between web projects with pom.xml and web.xml","body":"<p>The pom.xml is for configure your project with Maven.</p>\n\n<p>The web.xml is use in all Java EE project under Tomcat for example.</p>\n\n<p>You can use both, Maven is for compile and deploy your project, Tomcat is your server.</p>\n"},{"tags":[],"owner":{"account_id":1096713,"reputation":1984,"user_id":1090159,"accept_rate":83,"display_name":"Davos555"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334835836,"creation_date":1334835836,"answer_id":10227285,"question_id":10227244,"body_markdown":"The Pom defines any dependancy libraries, it is part of Maven. This tells maven what jar files to download and store in the lib folder of your site. \r\n\r\nWeb xml is how your web project is configured. \r\n\r\nThey can both coexist as they do different things.","title":"Difference between web projects with pom.xml and web.xml","body":"<p>The Pom defines any dependancy libraries, it is part of Maven. This tells maven what jar files to download and store in the lib folder of your site. </p>\n\n<p>Web xml is how your web project is configured. </p>\n\n<p>They can both coexist as they do different things.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1367049146,"creation_date":1334835846,"answer_id":10227287,"question_id":10227244,"body_markdown":"`web.xml` is an indicator that the project is running in some kind of servlet container (possibly even a full-fledged Java EE container).\r\n\r\n`pom.xml` is an indicator that the project is built using [the Maven build system][1].\r\n\r\nThose two things are entirely orthogonal, so any given project can have none, one or both of them.\r\n\r\n\r\n  [1]: https://maven.apache.org/","title":"Difference between web projects with pom.xml and web.xml","body":"<p><code>web.xml</code> is an indicator that the project is running in some kind of servlet container (possibly even a full-fledged Java EE container).</p>\n\n<p><code>pom.xml</code> is an indicator that the project is built using <a href=\"https://maven.apache.org/\" rel=\"nofollow\">the Maven build system</a>.</p>\n\n<p>Those two things are entirely orthogonal, so any given project can have none, one or both of them.</p>\n"},{"tags":[],"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1334835878,"creation_date":1334835878,"answer_id":10227297,"question_id":10227244,"body_markdown":"The two files have nothing to do with each other.\r\n\r\n - ***pom.xml*** - Maven configuration file. Controls the build process for\r\n   the project\r\n - ***web.xml*** - Web application configuration file. Controls the deployment\r\n   and configuration of the web application\r\n\r\nThe POM file really shouldn&#39;t be deployed with the application, its just for the build process.","title":"Difference between web projects with pom.xml and web.xml","body":"<p>The two files have nothing to do with each other.</p>\n\n<ul>\n<li><em><strong>pom.xml</em></strong> - Maven configuration file. Controls the build process for\nthe project</li>\n<li><em><strong>web.xml</em></strong> - Web application configuration file. Controls the deployment\nand configuration of the web application</li>\n</ul>\n\n<p>The POM file really shouldn't be deployed with the application, its just for the build process.</p>\n"},{"tags":[],"owner":{"account_id":365245,"reputation":1677,"user_id":710064,"display_name":"Euclides Mul&#233;mbw&#232;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334835966,"creation_date":1334835966,"answer_id":10227329,"question_id":10227244,"body_markdown":"POM stands for &quot;Project Object Model&quot;. It is an XML representation of a Maven project held in a file named pom.xml. http://maven.apache.org/pom.html\r\n\r\nyes you can have both configurations at the same time.","title":"Difference between web projects with pom.xml and web.xml","body":"<p>POM stands for \"Project Object Model\". It is an XML representation of a Maven project held in a file named pom.xml. <a href=\"http://maven.apache.org/pom.html\" rel=\"nofollow\">http://maven.apache.org/pom.html</a></p>\n\n<p>yes you can have both configurations at the same time.</p>\n"}],"owner":{"account_id":985766,"reputation":2525,"user_id":1004307,"accept_rate":100,"display_name":"TechSpellBound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20747,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10227272,"answer_count":6,"score":14,"last_activity_date":1649399941,"creation_date":1334835677,"question_id":10227244,"body_markdown":"What is the difference between Java projects having pom.xml and web.xml? Can projects have both these configurations at the same time?","title":"Difference between web projects with pom.xml and web.xml","body":"<p>What is the difference between Java projects having pom.xml and web.xml? Can projects have both these configurations at the same time?</p>\n"},{"tags":["java","date-formatting","java.util.date"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1649395205,"post_id":71791941,"comment_id":126869041,"body_markdown":"This should help https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"This should help <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1649396802,"post_id":71791941,"comment_id":126869323,"body_markdown":"See also: https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/","body":"See also: <a href=\"https://codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date/\" rel=\"nofollow noreferrer\">codeblog.jonskeet.uk/2017/04/23/all-about-java-util-date</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649398764,"post_id":71791941,"comment_id":126869721,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649398823,"post_id":71791941,"comment_id":126869728,"body_markdown":"You are asking the impossible. A `Date` cannot have a format (neither can a `LocalDateTime`). You can have any format you like, but only in a `String`.","body":"You are asking the impossible. A <code>Date</code> cannot have a format (neither can a <code>LocalDateTime</code>). You can have any format you like, but only in a <code>String</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649396124,"creation_date":1649395409,"answer_id":71792024,"question_id":71791941,"body_markdown":"# tl;dr\r\n\r\nDate-time objects do not have a “format”. \r\n\r\nUse only *java.time* classes. \r\n\r\n    LocalDateTime\r\n    .parse ( \r\n        &quot;2019-04-25 07:06:42.790&quot;\r\n        .replace( &quot; &quot; , &quot;T&quot; ) \r\n    )\r\n    .toString()\r\n    .replace( &quot;T&quot; , &quot; &quot; )\r\n\r\n\r\n# Details\r\n\r\nYou need to understand that date-time objects are not text. They don’t have a “format”. The do parse and generate text in various formats, but that text is always external. \r\n\r\nUse only the *java.time* classes. Avoid legacy classes such as `Date` and `Calendar`.\r\n\r\nMake your input comply with ISO 8601 standard. \r\n\r\n    String input = &quot;2019-04-25 07:06:42.790&quot;.replace( &quot; &quot; , &quot;T&quot; ) ;\r\n\r\nParse as a `LocalDateTime`. \r\n\r\n    LocalDateTime ldt = LocalDateTime.parse ( input ) ;\r\n\r\nTo generate the same text as your input, call `toString` and replace the `T` with your desired SPACE character. \r\n\r\nYou could use a `DateTimeFormatter` rather than the string manipulations shown above. But in your specific case I recommend the string manipulations. ","title":"String date convertion to Date Conversion","body":"<h1>tl;dr</h1>\n<p>Date-time objects do not have a “format”.</p>\n<p>Use only <em>java.time</em> classes.</p>\n<pre><code>LocalDateTime\n.parse ( \n    &quot;2019-04-25 07:06:42.790&quot;\n    .replace( &quot; &quot; , &quot;T&quot; ) \n)\n.toString()\n.replace( &quot;T&quot; , &quot; &quot; )\n</code></pre>\n<h1>Details</h1>\n<p>You need to understand that date-time objects are not text. They don’t have a “format”. The do parse and generate text in various formats, but that text is always external.</p>\n<p>Use only the <em>java.time</em> classes. Avoid legacy classes such as <code>Date</code> and <code>Calendar</code>.</p>\n<p>Make your input comply with ISO 8601 standard.</p>\n<pre><code>String input = &quot;2019-04-25 07:06:42.790&quot;.replace( &quot; &quot; , &quot;T&quot; ) ;\n</code></pre>\n<p>Parse as a <code>LocalDateTime</code>.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse ( input ) ;\n</code></pre>\n<p>To generate the same text as your input, call <code>toString</code> and replace the <code>T</code> with your desired SPACE character.</p>\n<p>You could use a <code>DateTimeFormatter</code> rather than the string manipulations shown above. But in your specific case I recommend the string manipulations.</p>\n"}],"owner":{"account_id":3510566,"reputation":21,"user_id":2934988,"display_name":"Vikas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649398847,"answer_count":1,"score":0,"last_activity_date":1649399834,"creation_date":1649394505,"question_id":71791941,"body_markdown":"My requirement is to convert the string ***&quot;2019-04-25 07:06:42.790&quot;*** to `Date` Object with same format as ***&quot;2019-04-25 07:06:42.790&quot;***.\r\n\r\nI tried to do this, but it is always giving in String format.\r\n\r\n\t\tString createDate = &quot;2019-04-25 07:06:42.790&quot;;\r\n\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;, Locale.US);\r\n\t\tLocalDateTime localDateTime = LocalDateTime.parse(createDate, formatter);\r\n\r\n\t\tSystem.out.println(formatter.format(localDateTime));\r\n\r\n\t\tSimpleDateFormat formatter1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;, Locale.US);\r\n\t\tformatter1.setTimeZone(TimeZone.getTimeZone(&quot;IST&quot;));\r\n\r\n\t\tDate date = formatter1.parse(createDate);\r\n\t\tSystem.out.println(date);\r\n\t\t\r\n\t\tString formattedDateString = formatter1.format(date);\r\n\t\tSystem.out.println(formattedDateString);\r\n\r\nOutput from the above code:\r\n\r\n    2019-04-25 07:06:42.790\r\n    Thu Apr 25 07:06:42 IST 2019\r\n    2019-04-25 07:06:42.790\r\n","title":"String date convertion to Date Conversion","body":"<p>My requirement is to convert the string <em><strong>&quot;2019-04-25 07:06:42.790&quot;</strong></em> to <code>Date</code> Object with same format as <em><strong>&quot;2019-04-25 07:06:42.790&quot;</strong></em>.</p>\n<p>I tried to do this, but it is always giving in String format.</p>\n<pre><code>    String createDate = &quot;2019-04-25 07:06:42.790&quot;;\n\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;, Locale.US);\n    LocalDateTime localDateTime = LocalDateTime.parse(createDate, formatter);\n\n    System.out.println(formatter.format(localDateTime));\n\n    SimpleDateFormat formatter1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;, Locale.US);\n    formatter1.setTimeZone(TimeZone.getTimeZone(&quot;IST&quot;));\n\n    Date date = formatter1.parse(createDate);\n    System.out.println(date);\n    \n    String formattedDateString = formatter1.format(date);\n    System.out.println(formattedDateString);\n</code></pre>\n<p>Output from the above code:</p>\n<pre><code>2019-04-25 07:06:42.790\nThu Apr 25 07:06:42 IST 2019\n2019-04-25 07:06:42.790\n</code></pre>\n"},{"tags":["java","android","android-fragments","arraylist"],"answers":[{"tags":[],"owner":{"account_id":23655286,"reputation":261,"user_id":17683676,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649399726,"creation_date":1649399726,"answer_id":71792628,"question_id":71780298,"body_markdown":"Please use below code to send the data from one fragment to another fragment \r\n\r\n     Bundle bundle = new Bundle();\r\n     bundle.putParcelableArrayList(&quot;array&quot;,data);","title":"Why can&#39;t i send my ArrayList to another fragment?","body":"<p>Please use below code to send the data from one fragment to another fragment</p>\n<pre><code> Bundle bundle = new Bundle();\n bundle.putParcelableArrayList(&quot;array&quot;,data);\n</code></pre>\n"}],"owner":{"account_id":22123555,"reputation":13,"user_id":18735076,"display_name":"vlados_spasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71792628,"answer_count":1,"score":1,"last_activity_date":1649399726,"creation_date":1649326511,"question_id":71780298,"body_markdown":"There are 2 fragments: A and B. From fragment A i want to send ArrayList (data) to fragment B.\r\n\r\naction() - a method in which data transfer and transition to fragment B should occur (using navigate()). The program builds without errors, but when you click on the button to which the action method is attached, a crash occurs, the error is as follows:\r\n\r\n*java.lang.IllegalArgumentException: Wrong argument type for &#39;array&#39; in argument bundle. java.util.ArrayList expected.*\r\n\r\nIt says that I inserted an argument of the wrong type into the Bundle, an ArrayList is needed. But it is an ArrayList, isn&#39;t it?\r\n\r\nPlease help, i&#39;ve been struggling with this problem for 2 days now. My code is below.\r\n\r\nFragment A code:\r\n\r\n```\r\npackage com.github.dev.app.pack;\r\n\r\nimport android.os.Bundle;\r\nimport android.support.v4.app.Fragment;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport androidx.navigation.fragment.NavHostFragment;\r\nimport com.github.vladosspasi.mes.databinding.FragmentABinding;\r\nimport java.util.ArrayList;\r\n\r\npublic class FragmentA extends Fragment {\r\n\r\n    private FragmentABinding binding;\r\n    private ArrayList&lt;Integer&gt; data; // ArrayList that i want to send\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    ) {\r\n        binding = FragmentAsBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        data = new ArrayList&lt;&gt;(); \r\n        data.add(1);              \r\n\r\n        binding.actionButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                action();   //method with navigating to fragmentB and data transmitting\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    private void action() {\r\n\r\n        Bundle arg = new Bundle();\r\n        arg.putSerializable(&quot;array&quot;, data); //putIntegerArrayList doesn&#39;t work either\r\n\r\n        NavHostFragment.findNavController(FragmentA.this)\r\n             .navigate(R.id.action_FragmentA_to_FragmentB, arg); //exception ocuring here\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nFragments declaration in nav_graph.xml:\r\n\r\n```\r\n    &lt;fragment\r\n            android:id=&quot;@+id/FragmentA&quot;\r\n            android:name=&quot;com.github.dev.app.pack.FragmentA&quot;\r\n            android:label=&quot;Fragment A&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_FragmentA_to_FragmentB&quot;\r\n            app:destination=&quot;@id/FragmentB&quot;/&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n            android:id=&quot;@+id/FragmentB&quot;\r\n            android:name=&quot;com.github.dev.app.pack.FragmentB&quot;\r\n            android:label=&quot;Fragment B&quot;&gt;\r\n        &lt;argument android:name=&quot;array&quot; app:argType=&quot;java.util.ArrayList&quot;/&gt;\r\n    &lt;/fragment&gt;\r\n```\r\n\r\nint, String and other arguments are working properly, but ArrayList isn&#39;t. Please help!\r\nThank you.","title":"Why can&#39;t i send my ArrayList to another fragment?","body":"<p>There are 2 fragments: A and B. From fragment A i want to send ArrayList (data) to fragment B.</p>\n<p>action() - a method in which data transfer and transition to fragment B should occur (using navigate()). The program builds without errors, but when you click on the button to which the action method is attached, a crash occurs, the error is as follows:</p>\n<p><em>java.lang.IllegalArgumentException: Wrong argument type for 'array' in argument bundle. java.util.ArrayList expected.</em></p>\n<p>It says that I inserted an argument of the wrong type into the Bundle, an ArrayList is needed. But it is an ArrayList, isn't it?</p>\n<p>Please help, i've been struggling with this problem for 2 days now. My code is below.</p>\n<p>Fragment A code:</p>\n<pre><code>package com.github.dev.app.pack;\n\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport androidx.navigation.fragment.NavHostFragment;\nimport com.github.vladosspasi.mes.databinding.FragmentABinding;\nimport java.util.ArrayList;\n\npublic class FragmentA extends Fragment {\n\n    private FragmentABinding binding;\n    private ArrayList&lt;Integer&gt; data; // ArrayList that i want to send\n    @Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n        binding = FragmentAsBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        data = new ArrayList&lt;&gt;(); \n        data.add(1);              \n\n        binding.actionButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                action();   //method with navigating to fragmentB and data transmitting\n            }\n        });\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    private void action() {\n\n        Bundle arg = new Bundle();\n        arg.putSerializable(&quot;array&quot;, data); //putIntegerArrayList doesn't work either\n\n        NavHostFragment.findNavController(FragmentA.this)\n             .navigate(R.id.action_FragmentA_to_FragmentB, arg); //exception ocuring here\n\n    }\n}\n\n</code></pre>\n<p>Fragments declaration in nav_graph.xml:</p>\n<pre><code>    &lt;fragment\n            android:id=&quot;@+id/FragmentA&quot;\n            android:name=&quot;com.github.dev.app.pack.FragmentA&quot;\n            android:label=&quot;Fragment A&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_FragmentA_to_FragmentB&quot;\n            app:destination=&quot;@id/FragmentB&quot;/&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n            android:id=&quot;@+id/FragmentB&quot;\n            android:name=&quot;com.github.dev.app.pack.FragmentB&quot;\n            android:label=&quot;Fragment B&quot;&gt;\n        &lt;argument android:name=&quot;array&quot; app:argType=&quot;java.util.ArrayList&quot;/&gt;\n    &lt;/fragment&gt;\n</code></pre>\n<p>int, String and other arguments are working properly, but ArrayList isn't. Please help!\nThank you.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649399089,"creation_date":1649399089,"answer_id":71792508,"question_id":71792428,"body_markdown":"Focus at your code\r\n\r\n```\r\n@ Query(&quot;SELECT nameOfMeeting FROM Meeting WHERE responsiblePerson =?1 &quot;)\r\nList&lt;Meeting&gt; findAllByResponsiblePerson(String responsiblePerson);\r\n}\r\n```\r\n\r\n- SQL query get list of `nameOfMeeting`, it is `List&lt;String&gt;`.\r\n- Method returns list of `Meeting`, it is `List&lt;Meeting&gt;`.\r\n\r\nThefore the mismatching causes error.","title":"Error in Spring Boot application failed to convert from one type to another","body":"<p>Focus at your code</p>\n<pre><code>@ Query(&quot;SELECT nameOfMeeting FROM Meeting WHERE responsiblePerson =?1 &quot;)\nList&lt;Meeting&gt; findAllByResponsiblePerson(String responsiblePerson);\n}\n</code></pre>\n<ul>\n<li>SQL query get list of <code>nameOfMeeting</code>, it is <code>List&lt;String&gt;</code>.</li>\n<li>Method returns list of <code>Meeting</code>, it is <code>List&lt;Meeting&gt;</code>.</li>\n</ul>\n<p>Thefore the mismatching causes error.</p>\n"}],"owner":{"account_id":22844906,"reputation":39,"user_id":16991369,"display_name":"Mykoliux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71792508,"answer_count":1,"score":2,"last_activity_date":1649399089,"creation_date":1649398636,"question_id":71792428,"body_markdown":"Currently I am creating a Spring Boot application and getting this error\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).Failed to convert from type [java.util.ArrayList&lt;?&gt;] to type [@org.springframework.data.jpa.repository.Query java.util.List&lt;com.example.vismameetingappwithdb.entity.Meeting&gt;] for value &#39;[Jono Java Meetingas]&#39;; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [@org.springframework.data.jpa.repository.Query com.example.vismameetingappwithdb.entity.Meeting]\r\n```\r\n\r\nMy repository interface looks like this:\r\n\r\n    @ Repository\r\n    public interface MeetingRepository extends JpaRepository&lt;Meeting,Integer&gt;{\r\n    \r\n    @ Query(&quot;SELECT nameOfMeeting FROM Meeting WHERE responsiblePerson =?1 &quot;)\r\n    List&lt;Meeting&gt; findAllByResponsiblePerson(String responsiblePerson);\r\n    }\r\n\r\n\r\nMy RestController class looks like this:\r\n\r\n    @ RestController\r\n    public class MeetingController {\r\n    \r\n    private MeetingService meetingService;\r\n    \r\n    @ Autowired\r\n    public MeetingController(MeetingService meetingService){\r\n    this.meetingService = meetingService;\r\n    }\r\n    \r\n    @ GetMapping(&quot;/getmeetings&quot;)\r\n    public List&lt;Meeting&gt; findAll (){\r\n    return meetingService.findAll();\r\n    }\r\n    \r\n    @ GetMapping(&quot;/responsibleperson/{responsiblePerson}&quot;)\r\n    public List&lt;Meeting&gt; findAllByResponsiblePerson(@PathVariable String responsiblePerson) {\r\n    return meetingService.findAllByResponsiblePerson(responsiblePerson);\r\n    }\r\n    }\r\n\r\nHas anyone encountered such problem before? Can anyone help? I am trying to use responsibleperson endpoint.\r\n","title":"Error in Spring Boot application failed to convert from one type to another","body":"<p>Currently I am creating a Spring Boot application and getting this error</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).Failed to convert from type [java.util.ArrayList&lt;?&gt;] to type [@org.springframework.data.jpa.repository.Query java.util.List&lt;com.example.vismameetingappwithdb.entity.Meeting&gt;] for value '[Jono Java Meetingas]'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [@org.springframework.data.jpa.repository.Query com.example.vismameetingappwithdb.entity.Meeting]\n</code></pre>\n<p>My repository interface looks like this:</p>\n<pre><code>@ Repository\npublic interface MeetingRepository extends JpaRepository&lt;Meeting,Integer&gt;{\n\n@ Query(&quot;SELECT nameOfMeeting FROM Meeting WHERE responsiblePerson =?1 &quot;)\nList&lt;Meeting&gt; findAllByResponsiblePerson(String responsiblePerson);\n}\n</code></pre>\n<p>My RestController class looks like this:</p>\n<pre><code>@ RestController\npublic class MeetingController {\n\nprivate MeetingService meetingService;\n\n@ Autowired\npublic MeetingController(MeetingService meetingService){\nthis.meetingService = meetingService;\n}\n\n@ GetMapping(&quot;/getmeetings&quot;)\npublic List&lt;Meeting&gt; findAll (){\nreturn meetingService.findAll();\n}\n\n@ GetMapping(&quot;/responsibleperson/{responsiblePerson}&quot;)\npublic List&lt;Meeting&gt; findAllByResponsiblePerson(@PathVariable String responsiblePerson) {\nreturn meetingService.findAllByResponsiblePerson(responsiblePerson);\n}\n}\n</code></pre>\n<p>Has anyone encountered such problem before? Can anyone help? I am trying to use responsibleperson endpoint.</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649386117,"post_id":71788808,"comment_id":126867700,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649398716,"creation_date":1649398716,"answer_id":71792438,"question_id":71788808,"body_markdown":"Spring Boot 1.5 [does not support using Tomcat 9 as an embedded web server](https://docs.spring.io/spring-boot/docs/1.5.x/reference/htmlsingle/#_servlet_containers). To use Tomcat 9 you should upgrade to a supported version of Spring Boot. At the time of writing, 2.5.x and 2.6.x are the supported versions. Both use Tomcat 9.0.x by default.","title":"Changed embedded tomcat server version to 9 and using spring boot 1.5.10 RELEASE getting able to start embed web application","body":"<p>Spring Boot 1.5 <a href=\"https://docs.spring.io/spring-boot/docs/1.5.x/reference/htmlsingle/#_servlet_containers\" rel=\"nofollow noreferrer\">does not support using Tomcat 9 as an embedded web server</a>. To use Tomcat 9 you should upgrade to a supported version of Spring Boot. At the time of writing, 2.5.x and 2.6.x are the supported versions. Both use Tomcat 9.0.x by default.</p>\n"}],"owner":{"account_id":15507184,"reputation":1,"user_id":11187013,"display_name":"Nithish reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649398716,"creation_date":1649364930,"question_id":71788808,"body_markdown":"We are using spring boot 1.5.10 release and default embedded tomcat server 8.4.5 and changed the tomcat server to 9.0.3 by using \r\nGradle 2.12 version in build.gradle\r\next(&#39;tomcat.version:9.0.3&#39;)\r\n\r\nand trying to run apllication Getting Error: .... nested exception is java.lang.NoSuchMethodError: org.apache.catalina.Context.addServletMapping(Ljava/lang/String)","title":"Changed embedded tomcat server version to 9 and using spring boot 1.5.10 RELEASE getting able to start embed web application","body":"<p>We are using spring boot 1.5.10 release and default embedded tomcat server 8.4.5 and changed the tomcat server to 9.0.3 by using\nGradle 2.12 version in build.gradle\next('tomcat.version:9.0.3')</p>\n<p>and trying to run apllication Getting Error: .... nested exception is java.lang.NoSuchMethodError: org.apache.catalina.Context.addServletMapping(Ljava/lang/String)</p>\n"},{"tags":["python","java","kotlin","encryption","rsa"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1649259502,"post_id":71769533,"comment_id":126831984,"body_markdown":"Does your `pkey` get a correct value? Where are you stuck? After you create a cipher you init it and then feed it ciphertext as bytes.... Java defaults to PKCS#1 v1.5 encryption / decryptin, but I&#39;d specify `&quot;RSA/ECB/PKCS1Padding&quot;` explicitly (never mind the ECB in there, it&#39;s meaningless).","body":"Does your <code>pkey</code> get a correct value? Where are you stuck? After you create a cipher you init it and then feed it ciphertext as bytes.... Java defaults to PKCS#1 v1.5 encryption / decryptin, but I&#39;d specify <code>&quot;RSA&#47;ECB&#47;PKCS1Padding&quot;</code> explicitly (never mind the ECB in there, it&#39;s meaningless)."},{"owner":{"account_id":1134904,"reputation":693,"user_id":1120154,"accept_rate":77,"display_name":"Adrian Le Roy Devezin"},"score":0,"creation_date":1649260605,"post_id":71769533,"comment_id":126832465,"body_markdown":"If everything else looks correct, then I am stuck on how to initialize the cipher with the privatekey, and the proper way to encode a string with it @MaartenBodewes","body":"If everything else looks correct, then I am stuck on how to initialize the cipher with the privatekey, and the proper way to encode a string with it @MaartenBodewes"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1649261208,"post_id":71769533,"comment_id":126832713,"body_markdown":"Can you post an example for `jsonValue`? Porting also depends on the format and encoding of the key. The Python code doesn&#39;t allow much inference, as `importKey()` supports almost all format and encodings. And `base64.b64decode(jsonValue).decode()` only makes sense if `jsonValue` is a first (e.g. ASCII) encoded and then Base64 encoded PEM key, but that would be unnecessarily complicated.","body":"Can you post an example for <code>jsonValue</code>? Porting also depends on the format and encoding of the key. The Python code doesn&#39;t allow much inference, as <code>importKey()</code> supports almost all format and encodings. And <code>base64.b64decode(jsonValue).decode()</code> only makes sense if <code>jsonValue</code> is a first (e.g. ASCII) encoded and then Base64 encoded PEM key, but that would be unnecessarily complicated."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1649261425,"post_id":71769533,"comment_id":126832807,"body_markdown":"Also, in the Python code, encryption is performed, which indicates a public key and not a private key.","body":"Also, in the Python code, encryption is performed, which indicates a public key and not a private key."},{"owner":{"account_id":1134904,"reputation":693,"user_id":1120154,"accept_rate":77,"display_name":"Adrian Le Roy Devezin"},"score":0,"creation_date":1649261516,"post_id":71769533,"comment_id":126832842,"body_markdown":"@Topaco Unfortunately I cannot post an example json, however by the time ti gets to the RSA key it be utf8 encoded. I know how to encode a String to utf8 though, so I don&#39;t need an example of that part. Thanks for the info about PublicKey, a code example would be super helpful &#128578;","body":"@Topaco Unfortunately I cannot post an example json, however by the time ti gets to the RSA key it be utf8 encoded. I know how to encode a String to utf8 though, so I don&#39;t need an example of that part. Thanks for the info about PublicKey, a code example would be super helpful 🙂"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1649261889,"post_id":71769533,"comment_id":126832985,"body_markdown":"Depends on the format of the key. If it is an X.509/SPKI key, try `X509EncodedKeySpec`. This requires a DER encoded key.","body":"Depends on the format of the key. If it is an X.509/SPKI key, try <code>X509EncodedKeySpec</code>. This requires a DER encoded key."},{"owner":{"account_id":1134904,"reputation":693,"user_id":1120154,"accept_rate":77,"display_name":"Adrian Le Roy Devezin"},"score":0,"creation_date":1649262365,"post_id":71769533,"comment_id":126833196,"body_markdown":"@Topaco based on the code it seems to be RSA","body":"@Topaco based on the code it seems to be RSA"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1649263154,"post_id":71769533,"comment_id":126833501,"body_markdown":"RSA public keys can have different formats (X.509 or PKCS#1) and encodings (PEM or DER). Both cannot be derived so easily from the Python code, because `importKey()` supports most formats and encodings. Not so Java/Kotlin, here the implementation depends on format and encoding of the key.","body":"RSA public keys can have different formats (X.509 or PKCS#1) and encodings (PEM or DER). Both cannot be derived so easily from the Python code, because <code>importKey()</code> supports most formats and encodings. Not so Java/Kotlin, here the implementation depends on format and encoding of the key."},{"owner":{"account_id":1134904,"reputation":693,"user_id":1120154,"accept_rate":77,"display_name":"Adrian Le Roy Devezin"},"score":0,"creation_date":1649263733,"post_id":71769533,"comment_id":126833699,"body_markdown":"@Topaco makes sense. I can figure that out, however I can still accept an answer that shows how to do it with `X509EncodedKeySpec`. As All I would have to change once I figure out what spec it is is that one part.","body":"@Topaco makes sense. I can figure that out, however I can still accept an answer that shows how to do it with <code>X509EncodedKeySpec</code>. As All I would have to change once I figure out what spec it is is that one part."}],"owner":{"account_id":1134904,"reputation":693,"user_id":1120154,"accept_rate":77,"display_name":"Adrian Le Roy Devezin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649398574,"creation_date":1649258789,"question_id":71769533,"body_markdown":"I have some small python code that I want to translate into the equivalent Java/Kotlin code.  The python code gets a key off a JSON and encodes it to utf-8 standard. It then base64 decodes it and seems to import an RSA key. I am unsure what the cipher part is doing. However it then encrypts the email, password, and phone with the cipher, and then base64 encodes it. I have attempted to do it myself but get lost at the point of the cipher.\r\n\r\nPython\r\n\r\n&lt;!-- language: lang-py --&gt;\r\n    jsonValue = resp.json()[&quot;Content&quot;][&quot;pkey&quot;].encode()\r\n    pkeyBase64 = base64.b64decode(jsonValue).decode()\r\n    pkey = RSA.importKey(pkeyBase64)\r\n    cipher = Cipher_PKCS1_v1_5.new(pkey)\r\n\r\n    email = base64.b64encode(cipher.encrypt(email.encode())).decode()\r\n    phone = base64.b64encode(cipher.encrypt(phone.encode())).decode()\r\n    password = base64.b64encode(cipher.encrypt(password.encode())).decode()\r\n\r\nAttempt In Kotlin\r\n\r\n&lt;!-- language: lang-kt --&gt;\r\n    val base64Decoder = Base64.getDecoder()\r\n    val base64Encoder = Base64.getEncoder()\r\n    val base64EncodedPkey = body[&quot;Content&quot;]?.jsonObject?.get(&quot;pkey&quot;)?.toString()\r\n    val base64DecodedPkey = base64Decoder.decode(base64EncodedPkey)\r\n    val pkey = getPrivateKey(String(base64DecodedPkey)) ?: return\r\n    val cipher = Cipher.getInstance(&quot;RSA&quot;)\r\n\r\n    private fun getPrivateKey(base64PrivateKey: String): PrivateKey? {\r\n        var privateKey: PrivateKey? = null\r\n        val keySpec = PKCS8EncodedKeySpec(Base64.getDecoder().decode(base64PrivateKey.toByteArray()))\r\n        var keyFactory: KeyFactory? = null\r\n        try {\r\n            keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n        } catch (e: NoSuchAlgorithmException) {\r\n            e.printStackTrace()\r\n        }\r\n        try {\r\n            privateKey = keyFactory?.generatePrivate(keySpec)\r\n        } catch (e: InvalidKeySpecException) {\r\n            e.printStackTrace()\r\n        }\r\n        return privateKey\r\n    }","title":"Translating python RSA and Cipher_PKCS1_v1_5 code to java/kotlin","body":"<p>I have some small python code that I want to translate into the equivalent Java/Kotlin code.  The python code gets a key off a JSON and encodes it to utf-8 standard. It then base64 decodes it and seems to import an RSA key. I am unsure what the cipher part is doing. However it then encrypts the email, password, and phone with the cipher, and then base64 encodes it. I have attempted to do it myself but get lost at the point of the cipher.</p>\n<p>Python</p>\n<pre class=\"lang-py prettyprint-override\"><code>jsonValue = resp.json()[&quot;Content&quot;][&quot;pkey&quot;].encode()\npkeyBase64 = base64.b64decode(jsonValue).decode()\npkey = RSA.importKey(pkeyBase64)\ncipher = Cipher_PKCS1_v1_5.new(pkey)\n\nemail = base64.b64encode(cipher.encrypt(email.encode())).decode()\nphone = base64.b64encode(cipher.encrypt(phone.encode())).decode()\npassword = base64.b64encode(cipher.encrypt(password.encode())).decode()\n</code></pre>\n<p>Attempt In Kotlin</p>\n<pre class=\"lang-kt prettyprint-override\"><code>val base64Decoder = Base64.getDecoder()\nval base64Encoder = Base64.getEncoder()\nval base64EncodedPkey = body[&quot;Content&quot;]?.jsonObject?.get(&quot;pkey&quot;)?.toString()\nval base64DecodedPkey = base64Decoder.decode(base64EncodedPkey)\nval pkey = getPrivateKey(String(base64DecodedPkey)) ?: return\nval cipher = Cipher.getInstance(&quot;RSA&quot;)\n\nprivate fun getPrivateKey(base64PrivateKey: String): PrivateKey? {\n    var privateKey: PrivateKey? = null\n    val keySpec = PKCS8EncodedKeySpec(Base64.getDecoder().decode(base64PrivateKey.toByteArray()))\n    var keyFactory: KeyFactory? = null\n    try {\n        keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n    } catch (e: NoSuchAlgorithmException) {\n        e.printStackTrace()\n    }\n    try {\n        privateKey = keyFactory?.generatePrivate(keySpec)\n    } catch (e: InvalidKeySpecException) {\n        e.printStackTrace()\n    }\n    return privateKey\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649398449,"creation_date":1649398449,"answer_id":71792392,"question_id":71782980,"body_markdown":"This [question][1] brought me onto the right track:\r\nThe `switchIfEmpty` invocation has to come before the `flatMap`. As there is no body, `flatMap` is not executed and neither is anything after, therefore the `switchIfEmpty` has to come first:\r\n\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n      URI url = request.url();\r\n      HttpMethod method = request.method();\r\n      return next.exchange(request).flatMap(response -&gt; {\r\n        if (response.statusCode().isError()) {\r\n          return response.bodyToMono(String.class)\r\n            .switchIfEmpty(Mono.error(new UnsupportedOperationException(&quot;The body was empty&quot;)));\r\n            .flatMap(responseBody -&gt; {\r\n              Optional&lt;Exception&gt; exception = errorResponseHandler.handleError(method, response.statusCode(), url, responseBody);\r\n              if (exception.isPresent()) {\r\n                return Mono.error(exception.get());\r\n              } else {\r\n                // fallback\r\n                return Mono.error(new UnsupportedOperationException(&quot;The fallback functionality is still missing&quot;));\r\n              }\r\n            });\r\n        } else {\r\n          return Mono.just(response);\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/56060137/webclients-bodytomono-on-empty-body-expected-behavior","title":"Handle errors in WebClient with and without body","body":"<p>This <a href=\"https://stackoverflow.com/questions/56060137/webclients-bodytomono-on-empty-body-expected-behavior\">question</a> brought me onto the right track:\nThe <code>switchIfEmpty</code> invocation has to come before the <code>flatMap</code>. As there is no body, <code>flatMap</code> is not executed and neither is anything after, therefore the <code>switchIfEmpty</code> has to come first:</p>\n<pre><code>public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n  URI url = request.url();\n  HttpMethod method = request.method();\n  return next.exchange(request).flatMap(response -&gt; {\n    if (response.statusCode().isError()) {\n      return response.bodyToMono(String.class)\n        .switchIfEmpty(Mono.error(new UnsupportedOperationException(&quot;The body was empty&quot;)));\n        .flatMap(responseBody -&gt; {\n          Optional&lt;Exception&gt; exception = errorResponseHandler.handleError(method, response.statusCode(), url, responseBody);\n          if (exception.isPresent()) {\n            return Mono.error(exception.get());\n          } else {\n            // fallback\n            return Mono.error(new UnsupportedOperationException(&quot;The fallback functionality is still missing&quot;));\n          }\n        });\n    } else {\n      return Mono.just(response);\n    }\n  });\n}\n</code></pre>\n"}],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649398449,"creation_date":1649337790,"question_id":71782980,"body_markdown":"I have implemented the error handling in a filter that looks like this:\r\n\r\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\r\n      URI url = request.url();\r\n      HttpMethod method = request.method();\r\n      return next.exchange(request).flatMap(response -&gt; {\r\n        if (response.statusCode().isError()) {\r\n          return response.bodyToMono(String.class).flatMap(responseBody -&gt; {\r\n            Optional&lt;Exception&gt; exception = errorResponseHandler.handleError(method, response.statusCode(), url, responseBody);\r\n            if (exception.isPresent()) {\r\n              return Mono.error(exception.get());\r\n            } else {\r\n              // fallback\r\n              return Mono.error(new UnsupportedOperationException(&quot;The fallback functionality is still missing&quot;));\r\n            }\r\n          });\r\n        } else {\r\n          return Mono.just(response);\r\n        }\r\n      });\r\n    }\r\n\r\nThis should work fine in the case where the response comes with a body as then the `response.bodyToMono(String.class).flatMap(...)`  is executed. However when the body is empty nothing happens, but what I want is to also deal with the error. It is my understanding that I would do this something like this;\r\n\r\n    response.bodyToMono(String.class).flatMap(...)\r\n    .switchIfEmpty(Mono.error(new UnsupportedOperationException(&quot;The body was empty&quot;)));\r\n\r\nThis does not work as the expected type to be returned is Mono&lt;ClientResponse&gt; instead of Mono&lt;Object&gt;.\r\n\r\nHow can I achieve the handling of errors with and without response body, which is needed to construct to correct exception?\r\n","title":"Handle errors in WebClient with and without body","body":"<p>I have implemented the error handling in a filter that looks like this:</p>\n<pre><code>public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next) {\n  URI url = request.url();\n  HttpMethod method = request.method();\n  return next.exchange(request).flatMap(response -&gt; {\n    if (response.statusCode().isError()) {\n      return response.bodyToMono(String.class).flatMap(responseBody -&gt; {\n        Optional&lt;Exception&gt; exception = errorResponseHandler.handleError(method, response.statusCode(), url, responseBody);\n        if (exception.isPresent()) {\n          return Mono.error(exception.get());\n        } else {\n          // fallback\n          return Mono.error(new UnsupportedOperationException(&quot;The fallback functionality is still missing&quot;));\n        }\n      });\n    } else {\n      return Mono.just(response);\n    }\n  });\n}\n</code></pre>\n<p>This should work fine in the case where the response comes with a body as then the <code>response.bodyToMono(String.class).flatMap(...)</code>  is executed. However when the body is empty nothing happens, but what I want is to also deal with the error. It is my understanding that I would do this something like this;</p>\n<pre><code>response.bodyToMono(String.class).flatMap(...)\n.switchIfEmpty(Mono.error(new UnsupportedOperationException(&quot;The body was empty&quot;)));\n</code></pre>\n<p>This does not work as the expected type to be returned is Mono instead of Mono.</p>\n<p>How can I achieve the handling of errors with and without response body, which is needed to construct to correct exception?</p>\n"},{"tags":["java","intellij-idea","root"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1534863051,"post_id":51951329,"comment_id":90852886,"body_markdown":"https://stackoverflow.com/questions/36828036/is-there-a-way-for-a-java-app-to-gain-root-permissions","body":"<a href=\"https://stackoverflow.com/questions/36828036/is-there-a-way-for-a-java-app-to-gain-root-permissions\" title=\"is there a way for a java app to gain root permissions\">stackoverflow.com/questions/36828036/&hellip;</a>"},{"owner":{"account_id":2232375,"reputation":552,"user_id":1969633,"accept_rate":100,"display_name":"Dave Carruthers"},"score":1,"creation_date":1534863521,"post_id":51951329,"comment_id":90853197,"body_markdown":"This might help https://stackoverflow.com/questions/4413548/intellij-running-program-as-sudo","body":"This might help <a href=\"https://stackoverflow.com/questions/4413548/intellij-running-program-as-sudo\" title=\"intellij running program as sudo\">stackoverflow.com/questions/4413548/&hellip;</a>"},{"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"score":0,"creation_date":1534865636,"post_id":51951329,"comment_id":90854534,"body_markdown":"@DaveCarruthers please read my question again. This is exactly what we are doing right now and this is what I want to avoid.","body":"@DaveCarruthers please read my question again. This is exactly what we are doing right now and this is what I want to avoid."}],"answers":[{"tags":[],"owner":{"account_id":13153081,"reputation":153,"user_id":9501033,"display_name":"dijo francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649398303,"creation_date":1649398303,"answer_id":71792367,"question_id":51951329,"body_markdown":"Hope u have got the solution, But this answer might help others. Starting interllij using command `sudo ./idea.sh` will fix this issue. After staring the IDE use `su - &lt;current user&gt;` to switch back to the current user.\r\n\r\nNote : u have to give the root user privilages to the current user. for that follow this [link][1] \r\n\r\n\r\n  [1]: https://youtu.be/fnR4twMvGvc?t=4","title":"Run commands that require root access from IntelliJ Java project","body":"<p>Hope u have got the solution, But this answer might help others. Starting interllij using command <code>sudo ./idea.sh</code> will fix this issue. After staring the IDE use <code>su - &lt;current user&gt;</code> to switch back to the current user.</p>\n<p>Note : u have to give the root user privilages to the current user. for that follow this <a href=\"https://youtu.be/fnR4twMvGvc?t=4\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":1133918,"reputation":6752,"user_id":1119381,"accept_rate":61,"display_name":"Eugene S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649398303,"creation_date":1534862865,"question_id":51951329,"body_markdown":"I am working on a Java project together with other developers, all using macOS. As a part of its functionality, the code in this project needs to edit local `/etc/hosts` file which requires root user access. To accomplish that, we all run the IDE (IntelliJ) as root which creates a bunch of inconveniences.\r\n\r\nI am really keen to find another solution to this problem. I had an idea to maybe somehow use a local environment variable (perhaps managed in IDE profile or something) but I am not sure how to do that.\r\n\r\nAny ideas\\suggestions how I can solve this problem?","title":"Run commands that require root access from IntelliJ Java project","body":"<p>I am working on a Java project together with other developers, all using macOS. As a part of its functionality, the code in this project needs to edit local <code>/etc/hosts</code> file which requires root user access. To accomplish that, we all run the IDE (IntelliJ) as root which creates a bunch of inconveniences.</p>\n\n<p>I am really keen to find another solution to this problem. I had an idea to maybe somehow use a local environment variable (perhaps managed in IDE profile or something) but I am not sure how to do that.</p>\n\n<p>Any ideas\\suggestions how I can solve this problem?</p>\n"},{"tags":["java","logging","log4j","log4j2","properties-file"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649398262,"creation_date":1649398262,"answer_id":71792364,"question_id":71784217,"body_markdown":"The `name` of your `logger.rolling` logger configuration is &quot;SD&quot;, therefore only the logger &quot;SD&quot; and the loggers, whose name starts with &quot;SD.&quot; will log to your file.\r\n\r\nThe name of the logger used in your `A` class is the fully qualified name of that class.","title":"Logs are writing in console but not writing to log file","body":"<p>The <code>name</code> of your <code>logger.rolling</code> logger configuration is &quot;SD&quot;, therefore only the logger &quot;SD&quot; and the loggers, whose name starts with &quot;SD.&quot; will log to your file.</p>\n<p>The name of the logger used in your <code>A</code> class is the fully qualified name of that class.</p>\n"}],"owner":{"account_id":18829895,"reputation":35,"user_id":13733941,"display_name":"007_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1870,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71792364,"answer_count":1,"score":1,"last_activity_date":1649398262,"creation_date":1649342527,"question_id":71784217,"body_markdown":"Recently I migrated from log4j1.x to log4j2.x. I had replaced log4j.properties with log4j2.properties file. I am getting logs printed in my console but logs are not printing in sac.log file.\r\n\r\nPom File:\r\n\r\n - log4j-jcl:2.17.1    \r\n - log4j-core:2.17.1\r\n - log4j-api:2.17.1\r\n - jackson-core:2.13.1\r\n - jackson-annotations:2.13.1\r\n - jackson-databind:2.13.1\r\n\r\nLog4j.properties:\r\n\r\n    log4j.rootLogger=INFO, stdout, RollingLog\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%C{0}.%M:(%L) - %m%n\r\n    \r\n    log4j.appender.RollingLog=org.apache.log4j.DailyRollingFileAppender\r\n    log4j.appender.RollingLog.Threshold=TRACE\r\n    log4j.appender.RollingLog.File=SD/sac.log\r\n    log4j.appender.RollingLog.Append=true\r\n    log4j.appender.RollingLog.DatePattern=.yyyy-MM-dd\r\n    log4j.appender.RollingLog.layout=net.logstash.log4j.JSONEventLayoutV1\r\n    log4j.appender.RollingLog.rolling.rollingPolicy = org.apache.log4j.rolling.TimeBasedRollingPolicy\r\n    log4j.appender.RollingLog.rollingPolicy.FileNamePattern = SD/sac/sac-{yyyyMMdd}.log.gz\r\n\r\nLog4j2.properties:\r\n\r\n    status = error\r\n    dest = err\r\n    \r\n    filter.threshold.type = ThresholdFilter\r\n    filter.threshold.level = trace\r\n    \r\n    appender.console.type = Console\r\n    appender.console.name = STDOUT\r\n    appender.console.layout.type = PatternLayout\r\n    appender.console.layout.pattern =%C{0}.%M:(%L) - %m%n\r\n    \r\n    #File Appender for JSON log file.\r\n    appender.rolling.type = RollingFile\r\n    appender.rolling.name = RALLog\r\n    appender.rolling.fileName = SD/sac.log\r\n    appender.rolling.filePattern = SD/sac/sac-{yyyyMMdd}.log.gz\r\n    appender.rolling.layout.type = JsonLayout\r\n    appender.rolling.policies.type = Policies\r\n    appender.rolling.policies.time.type = TimeBasedTriggeringPolicy\r\n    \r\n    logger.rolling.name = SD\r\n    logger.rolling.level = debug\r\n    logger.rolling.additivity = false\r\n    logger.rolling.appenderRef.rolling.ref = RALLog\r\n    \r\n    rootLogger.level = info\r\n    rootLogger.appenderRef.stdout.ref = STDOUT\r\n\r\nA.java\r\n\r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    \r\n    public class A {\r\n    \r\n        private static final Log logger = LogFactory.getLog(A.class);","title":"Logs are writing in console but not writing to log file","body":"<p>Recently I migrated from log4j1.x to log4j2.x. I had replaced log4j.properties with log4j2.properties file. I am getting logs printed in my console but logs are not printing in sac.log file.</p>\n<p>Pom File:</p>\n<ul>\n<li>log4j-jcl:2.17.1</li>\n<li>log4j-core:2.17.1</li>\n<li>log4j-api:2.17.1</li>\n<li>jackson-core:2.13.1</li>\n<li>jackson-annotations:2.13.1</li>\n<li>jackson-databind:2.13.1</li>\n</ul>\n<p>Log4j.properties:</p>\n<pre><code>log4j.rootLogger=INFO, stdout, RollingLog\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%C{0}.%M:(%L) - %m%n\n\nlog4j.appender.RollingLog=org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.RollingLog.Threshold=TRACE\nlog4j.appender.RollingLog.File=SD/sac.log\nlog4j.appender.RollingLog.Append=true\nlog4j.appender.RollingLog.DatePattern=.yyyy-MM-dd\nlog4j.appender.RollingLog.layout=net.logstash.log4j.JSONEventLayoutV1\nlog4j.appender.RollingLog.rolling.rollingPolicy = org.apache.log4j.rolling.TimeBasedRollingPolicy\nlog4j.appender.RollingLog.rollingPolicy.FileNamePattern = SD/sac/sac-{yyyyMMdd}.log.gz\n</code></pre>\n<p>Log4j2.properties:</p>\n<pre><code>status = error\ndest = err\n\nfilter.threshold.type = ThresholdFilter\nfilter.threshold.level = trace\n\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern =%C{0}.%M:(%L) - %m%n\n\n#File Appender for JSON log file.\nappender.rolling.type = RollingFile\nappender.rolling.name = RALLog\nappender.rolling.fileName = SD/sac.log\nappender.rolling.filePattern = SD/sac/sac-{yyyyMMdd}.log.gz\nappender.rolling.layout.type = JsonLayout\nappender.rolling.policies.type = Policies\nappender.rolling.policies.time.type = TimeBasedTriggeringPolicy\n\nlogger.rolling.name = SD\nlogger.rolling.level = debug\nlogger.rolling.additivity = false\nlogger.rolling.appenderRef.rolling.ref = RALLog\n\nrootLogger.level = info\nrootLogger.appenderRef.stdout.ref = STDOUT\n</code></pre>\n<p>A.java</p>\n<pre><code>import org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\npublic class A {\n\n    private static final Log logger = LogFactory.getLog(A.class);\n</code></pre>\n"},{"tags":["java","mysql","datetime","jdbc","offsetdatetime"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642267588,"creation_date":1642265818,"answer_id":70723527,"question_id":70717342,"body_markdown":"# `TIMESTAMP WITHOUT TIME ZONE`\r\n\r\nYou’ve pinpointed the core issue: The author of your table defined the column as a MySQL [`DATETIME`](https://dev.mysql.com/doc/refman/8.0/en/datetime.html) type. That type represents only a date with time-of-day but lacks the context of a time zone or offset. That MySQL `DATETIME` column is akin to the SQL standard type of `TIMESTAMP WITHOUT TIME ZONE`. \r\n\r\n# `java.time.LocalDateTime`\r\n\r\nSo you are using the wrong Java class when retrieving a value from that `DATETIME` column. Rather than use `OffsetDateTime`, use `LocalDateTime`. Like `DATETIME` ( and `TIMESTAMP WITHOUT TIME ZONE`), the Java type `LocalDateTime` represents a date with time-of-day but no zone or offset. \r\n\r\n    LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n\r\n# Determine a moment\r\n\r\nYou can the assign an offset or time zone to pinpoint a moment, a point on the timeline. \r\n\r\n    OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ; \r\n\r\nOr:\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\n------\r\n\r\nYou said:\r\n\r\n&gt; it&#39;s assigning either the system or server (same machine) offset of &quot;-04:00&quot; and messing everything up.\r\n\r\nSome part along the route of traversal is trying to help you along with your code’s intention of starting with a date and time only value that ends up with an offset assigned. Likely your JDBC driver is the part assigning an offset. Since no offset is stored with a MySQL `DATETIME`, *some* offset needs to be assigned in order to produce the `OffsetDateTime` object you requested. \r\n\r\nAs shown above, a better approach is to **not ask for a `OffsetDateTime`** object when using a database column lacking an offset. \r\n\r\nYou asked:\r\n\r\n&gt; How can I retrieve and send time objects with the database in UTC, so the database is doing absolutely no conversions whatsoever?\r\n\r\nYou cannot exchange a moment as seen in UTC with a database column lacking the concept of an offset-from-UTC. \r\n\r\nIf you want to represent moments in a SQL database, you must use the appropriate data type, a type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`.\r\n\r\nWhat you are asking for in exchanging a date-time-with-offset value with a database column that is date-time-only is like asking to store a price in Japanese Yen in a mere numeric column. You can *pretend* that such recorded values represent a price in Yen, but you do not know. Someone could just as well store prices in Euros or Pesos there. \r\n\r\nSince you seem to be stuck in a pickle regarding your current work situation, you can *pretend* that your `TIMESTAMP WITHOUT TIME ZONE ` column stores UTC values. That is what my code example above does, essentially. \r\n\r\nTo pretend while writing values, adjust to UTC, then extract a `LocalDateTime`. \r\n\r\n    ZonedDateTime zdt = ZonedDateTime.now( z ) ;\r\n    OffsetDateTime odt = zdt.withOffsetSameInstant( ZoneOffset.UTC ) ; \r\n    LocalDateTime ldt = odt.toLocalDateTime() ;\r\n    myPreparedStatement.setObject( … , ldt ) ;\r\n\r\nThis pretending approach is fraught with peril, and irresponsible. The database is tracking a fiction, not the truth.  Be sure to document this hack, as any programmer new to the system would be thoroughly confused. \r\n\r\nBy the way, notice that the type names `TIMESTAMP WITH TIME ZONE` and `TIMESTAMP WITHOUT TIME ZONE` are misnomers. From what I’ve been told, and from what I’ve seen in drafts, the SQL standard actually meant offsets only, not really time zones. That is why `OffsetDateTime` is the only Java class mapped in JDBC for matching to `TIMESTAMP WITH TIME ZONE`. \r\n\r\n","title":"How to directly retrieve a UTC OffsetDateTime using MySQL Connector/J?","body":"<h1><code>TIMESTAMP WITHOUT TIME ZONE</code></h1>\n<p>You’ve pinpointed the core issue: The author of your table defined the column as a MySQL <a href=\"https://dev.mysql.com/doc/refman/8.0/en/datetime.html\" rel=\"noreferrer\"><code>DATETIME</code></a> type. That type represents only a date with time-of-day but lacks the context of a time zone or offset. That MySQL <code>DATETIME</code> column is akin to the SQL standard type of <code>TIMESTAMP WITHOUT TIME ZONE</code>.</p>\n<h1><code>java.time.LocalDateTime</code></h1>\n<p>So you are using the wrong Java class when retrieving a value from that <code>DATETIME</code> column. Rather than use <code>OffsetDateTime</code>, use <code>LocalDateTime</code>. Like <code>DATETIME</code> ( and <code>TIMESTAMP WITHOUT TIME ZONE</code>), the Java type <code>LocalDateTime</code> represents a date with time-of-day but no zone or offset.</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\n</code></pre>\n<h1>Determine a moment</h1>\n<p>You can the assign an offset or time zone to pinpoint a moment, a point on the timeline.</p>\n<pre><code>OffsetDateTime odt = ldt.atOffset( ZoneOffset.UTC ) ; \n</code></pre>\n<p>Or:</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n<hr />\n<p>You said:</p>\n<blockquote>\n<p>it's assigning either the system or server (same machine) offset of &quot;-04:00&quot; and messing everything up.</p>\n</blockquote>\n<p>Some part along the route of traversal is trying to help you along with your code’s intention of starting with a date and time only value that ends up with an offset assigned. Likely your JDBC driver is the part assigning an offset. Since no offset is stored with a MySQL <code>DATETIME</code>, <em>some</em> offset needs to be assigned in order to produce the <code>OffsetDateTime</code> object you requested.</p>\n<p>As shown above, a better approach is to <strong>not ask for a <code>OffsetDateTime</code></strong> object when using a database column lacking an offset.</p>\n<p>You asked:</p>\n<blockquote>\n<p>How can I retrieve and send time objects with the database in UTC, so the database is doing absolutely no conversions whatsoever?</p>\n</blockquote>\n<p>You cannot exchange a moment as seen in UTC with a database column lacking the concept of an offset-from-UTC.</p>\n<p>If you want to represent moments in a SQL database, you must use the appropriate data type, a type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<p>What you are asking for in exchanging a date-time-with-offset value with a database column that is date-time-only is like asking to store a price in Japanese Yen in a mere numeric column. You can <em>pretend</em> that such recorded values represent a price in Yen, but you do not know. Someone could just as well store prices in Euros or Pesos there.</p>\n<p>Since you seem to be stuck in a pickle regarding your current work situation, you can <em>pretend</em> that your <code>TIMESTAMP WITHOUT TIME ZONE </code> column stores UTC values. That is what my code example above does, essentially.</p>\n<p>To pretend while writing values, adjust to UTC, then extract a <code>LocalDateTime</code>.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.now( z ) ;\nOffsetDateTime odt = zdt.withOffsetSameInstant( ZoneOffset.UTC ) ; \nLocalDateTime ldt = odt.toLocalDateTime() ;\nmyPreparedStatement.setObject( … , ldt ) ;\n</code></pre>\n<p>This pretending approach is fraught with peril, and irresponsible. The database is tracking a fiction, not the truth.  Be sure to document this hack, as any programmer new to the system would be thoroughly confused.</p>\n<p>By the way, notice that the type names <code>TIMESTAMP WITH TIME ZONE</code> and <code>TIMESTAMP WITHOUT TIME ZONE</code> are misnomers. From what I’ve been told, and from what I’ve seen in drafts, the SQL standard actually meant offsets only, not really time zones. That is why <code>OffsetDateTime</code> is the only Java class mapped in JDBC for matching to <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n"}],"owner":{"account_id":2144838,"reputation":1675,"user_id":1902689,"accept_rate":47,"display_name":"user1902689"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70723527,"answer_count":1,"score":3,"last_activity_date":1649397707,"creation_date":1642200297,"question_id":70717342,"body_markdown":"I prefer all times to be in UTC, except for when they are displayed.  At the last moment, they can be converted to a local time for display only.\r\n\r\nI&#39;ve always stored UNIX timestamps (seconds since epoch) in MySQL before, in an integer field. I&#39;m working with someone else&#39;s database schema that I cannot change which uses a `DATETIME` that stores a raw time without even an offset.\r\n\r\nHow can I retrieve and send time objects with the database in UTC, so the database is doing absolutely no conversions whatsoever?\r\n\r\n---\r\nAlthough written for PostgreSQL, I&#39;ve tried to follow the excellent answers by Basil Bourque on the questions below.  I use `Instant` everywhere, except as he shows I use an `OffsetDateTime` when interacting with JDBC, because it&#39;s the only modern moment class guaranteed to be supported by JDBC 4.2.\r\n* [How to convert UTC date to UTC OffsetDateTime in java 8?][1]\r\n* [Issue in saving current date with UTC time in sql server][2]\r\n* and [How to save correct date time with timezone when using jdbc][3]\r\n\r\nI&#39;m using MySQL Connector/J driver version 8.0.27, and I am connecting with `&amp;preserveInstants=false&amp;connectionTimeZone=UTC`.\r\n\r\nLet&#39;s look at a `DATETIME` in the database stored as &quot;2022-01-14 11:00:00&quot; which is understood to be UTC.\r\n\r\n    resultSet.getString(columnName); // &quot;2022-01-14 11:00:00&quot;\r\n    resultSet.getObject(columnName, OffsetDateTime.class).toString() // &quot;2022-01-14T11:00-04:00&quot;\r\n    resultSet.getObject(columnName, OffsetDateTime.class).toInstant().toString() // &quot;2022-01-14T15:00:00Z&quot;\r\n\r\nWhen it&#39;s creating the `OffsetDateTime`, it&#39;s assigning either the system or server (same machine) offset of &quot;-04:00&quot; and messing everything up. I thought my connection options of `&amp;preserveInstants=false&amp;connectionTimeZone=UTC` should have stopped that.\r\n\r\nI know I could immediately set the offset to &quot;+00:00&quot; afterward with `.withOffsetSameLocal(ZoneOffset.UTC).toInstant()`, but how do I avoid doing that and have it directly create an `OffsetDateTime` that is in UTC?\r\n\r\n  [1]: https://stackoverflow.com/questions/51326102/how-to-convert-utc-date-to-utc-offsetdatetime-in-java-8\r\n  [2]: https://stackoverflow.com/questions/58099500/issue-in-saving-current-date-with-utc-time-in-sql-server\r\n  [3]: https://stackoverflow.com/questions/67676450/how-to-save-correct-date-time-with-timezone-when-using-jdbc","title":"How to directly retrieve a UTC OffsetDateTime using MySQL Connector/J?","body":"<p>I prefer all times to be in UTC, except for when they are displayed.  At the last moment, they can be converted to a local time for display only.</p>\n<p>I've always stored UNIX timestamps (seconds since epoch) in MySQL before, in an integer field. I'm working with someone else's database schema that I cannot change which uses a <code>DATETIME</code> that stores a raw time without even an offset.</p>\n<p>How can I retrieve and send time objects with the database in UTC, so the database is doing absolutely no conversions whatsoever?</p>\n<hr />\n<p>Although written for PostgreSQL, I've tried to follow the excellent answers by Basil Bourque on the questions below.  I use <code>Instant</code> everywhere, except as he shows I use an <code>OffsetDateTime</code> when interacting with JDBC, because it's the only modern moment class guaranteed to be supported by JDBC 4.2.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51326102/how-to-convert-utc-date-to-utc-offsetdatetime-in-java-8\">How to convert UTC date to UTC OffsetDateTime in java 8?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58099500/issue-in-saving-current-date-with-utc-time-in-sql-server\">Issue in saving current date with UTC time in sql server</a></li>\n<li>and <a href=\"https://stackoverflow.com/questions/67676450/how-to-save-correct-date-time-with-timezone-when-using-jdbc\">How to save correct date time with timezone when using jdbc</a></li>\n</ul>\n<p>I'm using MySQL Connector/J driver version 8.0.27, and I am connecting with <code>&amp;preserveInstants=false&amp;connectionTimeZone=UTC</code>.</p>\n<p>Let's look at a <code>DATETIME</code> in the database stored as &quot;2022-01-14 11:00:00&quot; which is understood to be UTC.</p>\n<pre><code>resultSet.getString(columnName); // &quot;2022-01-14 11:00:00&quot;\nresultSet.getObject(columnName, OffsetDateTime.class).toString() // &quot;2022-01-14T11:00-04:00&quot;\nresultSet.getObject(columnName, OffsetDateTime.class).toInstant().toString() // &quot;2022-01-14T15:00:00Z&quot;\n</code></pre>\n<p>When it's creating the <code>OffsetDateTime</code>, it's assigning either the system or server (same machine) offset of &quot;-04:00&quot; and messing everything up. I thought my connection options of <code>&amp;preserveInstants=false&amp;connectionTimeZone=UTC</code> should have stopped that.</p>\n<p>I know I could immediately set the offset to &quot;+00:00&quot; afterward with <code>.withOffsetSameLocal(ZoneOffset.UTC).toInstant()</code>, but how do I avoid doing that and have it directly create an <code>OffsetDateTime</code> that is in UTC?</p>\n"},{"tags":["java","exception","logging"],"comments":[{"owner":{"account_id":3672835,"reputation":1758,"user_id":3059575,"accept_rate":98,"display_name":"Ya Wang"},"score":0,"creation_date":1432208497,"post_id":30372673,"comment_id":48835246,"body_markdown":"Why did you throw ex? Just omit that","body":"Why did you throw ex? Just omit that"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1432208525,"post_id":30372673,"comment_id":48835263,"body_markdown":"` i get error` - _which_ error?","body":"` i get error` - <i>which</i> error?"},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1432208528,"post_id":30372673,"comment_id":48835264,"body_markdown":"what error do you get?","body":"what error do you get?"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432208637,"creation_date":1432208637,"answer_id":30372753,"question_id":30372673,"body_markdown":"Try using the specific type for `ex`, i.e. `IllegalArgumentException ex` or at least `RuntimeException ex` since `Exception` is a checked exception and if there is no `throws Exception` in the method signature the compiler will complain.\r\n\r\nBad:\r\n\r\n    public void myMethod() {\r\n      throw new Exception(); //this needs to be declared\r\n    }\r\n\r\nGood:\r\n\r\n    public void myMethod() throws Exception {\r\n      throw new Exception(); \r\n    }\r\n\r\n    public void myMethod() {\r\n      throw new RuntimeException(); //those don&#39;t have to be declared\r\n    }\r\n\r\nYour code is similar to the bad example since for the compiler `thow ex` looks like `throw new Exception()` (not exactly but you should get the point).","title":"Throw new Exception to logger.error","body":"<p>Try using the specific type for <code>ex</code>, i.e. <code>IllegalArgumentException ex</code> or at least <code>RuntimeException ex</code> since <code>Exception</code> is a checked exception and if there is no <code>throws Exception</code> in the method signature the compiler will complain.</p>\n\n<p>Bad:</p>\n\n<pre><code>public void myMethod() {\n  throw new Exception(); //this needs to be declared\n}\n</code></pre>\n\n<p>Good:</p>\n\n<pre><code>public void myMethod() throws Exception {\n  throw new Exception(); \n}\n\npublic void myMethod() {\n  throw new RuntimeException(); //those don't have to be declared\n}\n</code></pre>\n\n<p>Your code is similar to the bad example since for the compiler <code>thow ex</code> looks like <code>throw new Exception()</code> (not exactly but you should get the point).</p>\n"},{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432208686,"creation_date":1432208686,"answer_id":30372776,"question_id":30372673,"body_markdown":"    Exception ex= new IllegalArgumentException(&quot;ex msg&quot;);\r\n\r\nthis makex `ex` an `Exception` and you can&#39;t `throw Exception` without declaring it in method signature, so change below sentence by:\r\n\r\n    IllegalArgumentException ex= new IllegalArgumentException(&quot;ex msg&quot;);\r\n\r\nOr add `throw Exception` in you method signature.","title":"Throw new Exception to logger.error","body":"<pre><code>Exception ex= new IllegalArgumentException(\"ex msg\");\n</code></pre>\n\n<p>this makex <code>ex</code> an <code>Exception</code> and you can't <code>throw Exception</code> without declaring it in method signature, so change below sentence by:</p>\n\n<pre><code>IllegalArgumentException ex= new IllegalArgumentException(\"ex msg\");\n</code></pre>\n\n<p>Or add <code>throw Exception</code> in you method signature.</p>\n"},{"tags":[],"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432211945,"creation_date":1432211945,"answer_id":30374065,"question_id":30372673,"body_markdown":"Your abstraction is incorrect for the method signature.  \r\n\r\n    Exception ex = ... // The left side is a checked exception\r\n    ...\r\n    throw ex; // Mr. Compiler, I want to throw a checked exception!\r\n\r\nYou are telling the compiler you want to throw a checked `Exception` but the method doesn&#39;t declare it.  It&#39;s good practice to use the least amount of abstraction possible on the left side of the assignment, but in this case you went too far :)  You need `RuntimeException` instead of `Exception`.\r\n\r\n    // RuntimeException is unchecked.  No need to declare it.\r\n    RuntimeException ex = new IllegalArgumentException(msg);\r\n\r\nInstead of \r\n\r\n    // Exception is checked and needs to be declared\r\n    Exception ex = new IllegalArgumentException(msg);\r\n\r\n","title":"Throw new Exception to logger.error","body":"<p>Your abstraction is incorrect for the method signature.  </p>\n\n<pre><code>Exception ex = ... // The left side is a checked exception\n...\nthrow ex; // Mr. Compiler, I want to throw a checked exception!\n</code></pre>\n\n<p>You are telling the compiler you want to throw a checked <code>Exception</code> but the method doesn't declare it.  It's good practice to use the least amount of abstraction possible on the left side of the assignment, but in this case you went too far :)  You need <code>RuntimeException</code> instead of <code>Exception</code>.</p>\n\n<pre><code>// RuntimeException is unchecked.  No need to declare it.\nRuntimeException ex = new IllegalArgumentException(msg);\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>// Exception is checked and needs to be declared\nException ex = new IllegalArgumentException(msg);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649397518,"creation_date":1649150134,"answer_id":71749106,"question_id":30372673,"body_markdown":"Actually your code should work. Logger should internally take the throwing exceptions and should print it. You do not have to include it inside a logger (info/debug/error). The below code is more than enough. It will not print in the error console (system console) if the logger is configured properly.\r\n\r\n    throw new IllegalArgumentException(&quot;ex msg&quot;);\r\n\r\nAnd still it does not work, try this:\r\n\r\n    logger.error(&quot;Some exception happened : &quot;, throw new IllegalArgumentException(&quot;ex msg&quot;));\r\n\r\nNote the comma to separate the string and exception","title":"Throw new Exception to logger.error","body":"<p>Actually your code should work. Logger should internally take the throwing exceptions and should print it. You do not have to include it inside a logger (info/debug/error). The below code is more than enough. It will not print in the error console (system console) if the logger is configured properly.</p>\n<pre><code>throw new IllegalArgumentException(&quot;ex msg&quot;);\n</code></pre>\n<p>And still it does not work, try this:</p>\n<pre><code>logger.error(&quot;Some exception happened : &quot;, throw new IllegalArgumentException(&quot;ex msg&quot;));\n</code></pre>\n<p>Note the comma to separate the string and exception</p>\n"}],"owner":{"account_id":6343001,"reputation":19,"user_id":4924373,"display_name":"User789"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":973,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1649397518,"creation_date":1432208400,"question_id":30372673,"body_markdown":"Id like to add this exception to the logger:\r\n\r\n    throw new IllegalArgumentException(&quot;ex msg&quot;);\r\n\r\nBut when I try it like this, I get error on &quot;throw ex;&quot;\r\n\r\n    Exception ex= new IllegalArgumentException(&quot;ex msg&quot;);\r\n    log.error(&quot;msg&quot;,ex);\r\n    throw ex;\r\n\r\nAny idea how to solve this? \r\nThanks","title":"Throw new Exception to logger.error","body":"<p>Id like to add this exception to the logger:</p>\n\n<pre><code>throw new IllegalArgumentException(\"ex msg\");\n</code></pre>\n\n<p>But when I try it like this, I get error on \"throw ex;\"</p>\n\n<pre><code>Exception ex= new IllegalArgumentException(\"ex msg\");\nlog.error(\"msg\",ex);\nthrow ex;\n</code></pre>\n\n<p>Any idea how to solve this? \nThanks</p>\n"},{"tags":["java","json","pojo"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649396400,"post_id":71792043,"comment_id":126869240,"body_markdown":"Yes there are plenty of ways, but it entirely depends on which json library you use, and which methods it has avaliable.","body":"Yes there are plenty of ways, but it entirely depends on which json library you use, and which methods it has avaliable."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1649396855,"post_id":71792043,"comment_id":126869338,"body_markdown":"Does this answer your question? [How to parse JSON in Java](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java) and see the [Javadoc](https://docs.oracle.com/javame/8.0/api/json/api/com/oracle/json/JsonObject.html) `JSONArray array = jsonObject.getJSONArray(&quot;&quot;);` and `String name = array.getJsonObject(0).getString(&quot;param_name&quot;);`","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">How to parse JSON in Java</a> and see the <a href=\"https://docs.oracle.com/javame/8.0/api/json/api/com/oracle/json/JsonObject.html\" rel=\"nofollow noreferrer\">Javadoc</a> <code>JSONArray array = jsonObject.getJSONArray(&quot;&quot;);</code> and <code>String name = array.getJsonObject(0).getString(&quot;param_name&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":19935722,"reputation":214,"user_id":14608443,"display_name":"IveGotCodeButImNotACoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649397244,"creation_date":1649396201,"answer_id":71792113,"question_id":71792043,"body_markdown":"You would want something like this if my interpretation of your question is correct. This allows you to `POST` to the endpoint with an object and specify name and age in `json` format. I&#39;m going to say that the above is a `Student` for example but that&#39;s just an example object. If you want to include validation have a look at using `@Valid`. What you&#39;ve declared in the question is a `JsonArray` (indicated by the `[]` after the `{}`) within a `JsonObject` but there is no need for that, just create the `JsonObject` with the fields you require.\r\n\r\n    @JsonDeserialize(builder = NewStudent.Builder.class)\r\n        public class NewStudent{\r\n        private String name;\r\n        private String age;\r\n        //getters and setters here\r\n        //create builder here\r\n        }\r\n    \r\n       public class Student{\r\n    private String name;\r\n    private String age;\r\n    //getters and setters here\r\n    }\r\n\r\n\r\n    @PostMapping(value = &quot;/addstudent&quot;, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Student&gt; createStudent(@RequestBody NewStudent newStudent){\r\n    Student student = new Student();\r\n    student.setName(newStudent.getName());\r\n    student.setAge(newStudent.getAge());\r\n    ResponseEntity&lt;Student&gt; responseContent = ResponseEntity.body(student);\r\n    return responseContent;\r\n\r\n}","title":"in java convert json object where parameter name is a value to a java opject or jpa entity","body":"<p>You would want something like this if my interpretation of your question is correct. This allows you to <code>POST</code> to the endpoint with an object and specify name and age in <code>json</code> format. I'm going to say that the above is a <code>Student</code> for example but that's just an example object. If you want to include validation have a look at using <code>@Valid</code>. What you've declared in the question is a <code>JsonArray</code> (indicated by the <code>[]</code> after the <code>{}</code>) within a <code>JsonObject</code> but there is no need for that, just create the <code>JsonObject</code> with the fields you require.</p>\n<pre><code>@JsonDeserialize(builder = NewStudent.Builder.class)\n    public class NewStudent{\n    private String name;\n    private String age;\n    //getters and setters here\n    //create builder here\n    }\n\n   public class Student{\nprivate String name;\nprivate String age;\n//getters and setters here\n}\n\n\n@PostMapping(value = &quot;/addstudent&quot;, produces = APPLICATION_JSON_VALUE, consumes = APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Student&gt; createStudent(@RequestBody NewStudent newStudent){\nStudent student = new Student();\nstudent.setName(newStudent.getName());\nstudent.setAge(newStudent.getAge());\nResponseEntity&lt;Student&gt; responseContent = ResponseEntity.body(student);\nreturn responseContent;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":15295605,"reputation":1,"user_id":11035804,"display_name":"javaUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649589131,"answer_count":1,"score":0,"last_activity_date":1649397244,"creation_date":1649395560,"question_id":71792043,"body_markdown":"basically taking in a json object via a post api thats like the following\r\n\r\n    {\r\n        [\r\n            param_name: &quot;name&quot;, \r\n            param_value: &quot;jason&quot;\r\n            param_type: &quot;varchar&quot;\r\n        ],\r\n        [ \r\n            param_name: &quot;age&quot;, \r\n            param_value: &quot;15&quot;\r\n            param_type: &quot;varchar&quot;\r\n        ]\r\n    }\r\n\r\nthen i want to convert it to a predefined java object where the parameter names are the same as the &quot;param_value&quot; values.\r\n\r\nIs there anyway to do this in java, with a method like this?\r\n\r\n    student.setparamname(object.get(&quot;param_name&quot;),object.get(&quot;param_value&quot;) );\r\n\r\n\r\n\r\n\r\n","title":"in java convert json object where parameter name is a value to a java opject or jpa entity","body":"<p>basically taking in a json object via a post api thats like the following</p>\n<pre><code>{\n    [\n        param_name: &quot;name&quot;, \n        param_value: &quot;jason&quot;\n        param_type: &quot;varchar&quot;\n    ],\n    [ \n        param_name: &quot;age&quot;, \n        param_value: &quot;15&quot;\n        param_type: &quot;varchar&quot;\n    ]\n}\n</code></pre>\n<p>then i want to convert it to a predefined java object where the parameter names are the same as the &quot;param_value&quot; values.</p>\n<p>Is there anyway to do this in java, with a method like this?</p>\n<pre><code>student.setparamname(object.get(&quot;param_name&quot;),object.get(&quot;param_value&quot;) );\n</code></pre>\n"},{"tags":["javascript","java","reactjs","jsf","primefaces"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1648552956,"post_id":71661068,"comment_id":126648151,"body_markdown":"`library=&quot;js&quot;` is utterly wrong. Use `name=&quot;js/hello.js&quot;` etc and retry. Note that you can also just use plain HTML `&lt;script src&gt;` in JSF.","body":"<code>library=&quot;js&quot;</code> is utterly wrong. Use <code>name=&quot;js&#47;hello.js&quot;</code> etc and retry. Note that you can also just use plain HTML <code>&lt;script src&gt;</code> in JSF."},{"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"score":0,"creation_date":1648553340,"post_id":71661068,"comment_id":126648309,"body_markdown":"@BalusC but hello.js was working that way, but the rest of chunks are not. Anyway I tried with name=&quot;js/...&quot; and same result, hello is working and chunks are not rendered.","body":"@BalusC but hello.js was working that way, but the rest of chunks are not. Anyway I tried with name=&quot;js/...&quot; and same result, hello is working and chunks are not rendered."},{"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"score":0,"creation_date":1649545962,"post_id":71661068,"comment_id":126903638,"body_markdown":"Have you tried `&lt;script src=…`?","body":"Have you tried <code>&lt;script src=…</code>?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649594121,"post_id":71661068,"comment_id":126910117,"body_markdown":"If you don&#39;t need to modify the sources of the react component in any dynamic way, but they would work as static resources, I even would prefer the plain `&lt;script src=...&gt;` approach anyways, as then only the browser has to care for fetching the JS-files (which he would have to do anyways).","body":"If you don&#39;t need to modify the sources of the react component in any dynamic way, but they would work as static resources, I even would prefer the plain <code>&lt;script src=...&gt;</code> approach anyways, as then only the browser has to care for fetching the JS-files (which he would have to do anyways)."},{"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"score":0,"creation_date":1649663445,"post_id":71661068,"comment_id":126923820,"body_markdown":"@cyberbrain you mean that I should use &lt;script scr=...&gt; for every chunk or just for some of them (like main or runtime-main)?","body":"@cyberbrain you mean that I should use &lt;script scr=...&gt; for every chunk or just for some of them (like main or runtime-main)?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649667306,"post_id":71661068,"comment_id":126925216,"body_markdown":"tbh I don&#39;t kno w about the react-part of this question, so as I think that the react component is created once (at compile time and not at runtime), the same static include should be used as in a static web page, but I don&#39;t know, how to exactly do that. Actually I think by the file structure, that you are handling more than just a single react component.","body":"tbh I don&#39;t kno w about the react-part of this question, so as I think that the react component is created once (at compile time and not at runtime), the same static include should be used as in a static web page, but I don&#39;t know, how to exactly do that. Actually I think by the file structure, that you are handling more than just a single react component."},{"owner":{"account_id":9065455,"reputation":4233,"user_id":6750422,"display_name":"Daniil Loban"},"score":0,"creation_date":1649977113,"post_id":71661068,"comment_id":127016417,"body_markdown":"I assume we are talking about a complete application in react? Then it won&#39;t work like that. At a minimum, you need to remember that the render goes to &lt;div id=&#39;root&#39;&gt;. We need specifics to give an exact answer, but try to insert not js but root, connect the scripts below. Try this in html to see the errors. As for the source map - do not generate it, then it will not be needed, or remove links to it at the end of js files.","body":"I assume we are talking about a complete application in react? Then it won&#39;t work like that. At a minimum, you need to remember that the render goes to &lt;div id=&#39;root&#39;&gt;. We need specifics to give an exact answer, but try to insert not js but root, connect the scripts below. Try this in html to see the errors. As for the source map - do not generate it, then it will not be needed, or remove links to it at the end of js files."}],"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649397106,"creation_date":1648552723,"question_id":71661068,"body_markdown":"I have interesting case where I have to put React component inside JSF part of business application. I tried to achieve that with `&lt;h:outputScipt&gt;` but without success.\r\n\r\nI imported chunks from react component and put them like here:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen I used `&lt;h:outputScript/&gt;` like this:\r\n\r\n    &lt;ui:composition template=&quot;/templates/tempMain.xhtml&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n\t\t\t\t    xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\r\n\t\t\t\t    xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n\t\t\t\t    xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\r\n\r\n    \t&lt;ui:define name=&quot;content&quot;&gt;\r\n    \t\t&lt;h:form id=&quot;AdditionalServiceTemplatesForm&quot;&gt;\r\n    \t\t\t&lt;p:panel id=&quot;additionalServiceTemplatesPanel&quot;&gt;\r\n    \t\t\t\t&lt;div id=&quot;ComponentName&quot; style=&quot;background-color: white&quot; class=&quot;container&quot;&gt;&lt;/div&gt;\r\n    \t\t\t\t\t&lt;h:outputScript library=&quot;js&quot; name=&quot;19.649a5d09.chunk.js&quot;/&gt;\r\n    \t\t\t\t\t&lt;h:outputScript library=&quot;js&quot; name=&quot;runtime-main.d6107f88.js&quot;/&gt;\r\n    \t\t\t\t\t&lt;h:outputScript library=&quot;js&quot; name=&quot;main.d73a6ff5.chunk.js&quot;/&gt;\r\n    \t\t\t\t\t&lt;h:outputScript library=&quot;js&quot; name=&quot;hello.js&quot;/&gt;\r\n    \t\t\t\t&lt;h:form&gt;\r\n    \t\t\t\t\t&lt;h:commandButton onclick = &quot;showMessage();&quot; /&gt;\r\n    \t\t\t\t&lt;/h:form&gt;\r\n    \t\t\t&lt;/p:panel&gt;\r\n    \t\t&lt;/h:form&gt;\r\n    \t&lt;/ui:define&gt;\r\n    &lt;/ui:composition&gt;\r\n\r\nNormal javascript script hello.js (not chunk) is visible and is working but react component from chunks is not rendered. All I&#39;ve got is empty jsf container.\r\n\r\nAdditionaly there is information in the console:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAdditionaly I tried to change relative paths in chunks from static/js to &quot;resources/js&quot; and &quot;javax.faces.resource/js&quot; and without any path. Nothing is working.\r\n\r\nAfter compilation, sources looks like this:\r\n \r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xCosO.png\r\n  [2]: https://i.stack.imgur.com/vKc6q.png\r\n  [3]: https://i.stack.imgur.com/JQTpA.png","title":"How to render React component inside JSF using javascript chunks?","body":"<p>I have interesting case where I have to put React component inside JSF part of business application. I tried to achieve that with <code>&lt;h:outputScipt&gt;</code> but without success.</p>\n<p>I imported chunks from react component and put them like here:</p>\n<p><a href=\"https://i.stack.imgur.com/xCosO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xCosO.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I used <code>&lt;h:outputScript/&gt;</code> like this:</p>\n<pre><code>&lt;ui:composition template=&quot;/templates/tempMain.xhtml&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n                xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\n                xmlns:h=&quot;http://java.sun.com/jsf/html&quot;\n                xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\n\n    &lt;ui:define name=&quot;content&quot;&gt;\n        &lt;h:form id=&quot;AdditionalServiceTemplatesForm&quot;&gt;\n            &lt;p:panel id=&quot;additionalServiceTemplatesPanel&quot;&gt;\n                &lt;div id=&quot;ComponentName&quot; style=&quot;background-color: white&quot; class=&quot;container&quot;&gt;&lt;/div&gt;\n                    &lt;h:outputScript library=&quot;js&quot; name=&quot;19.649a5d09.chunk.js&quot;/&gt;\n                    &lt;h:outputScript library=&quot;js&quot; name=&quot;runtime-main.d6107f88.js&quot;/&gt;\n                    &lt;h:outputScript library=&quot;js&quot; name=&quot;main.d73a6ff5.chunk.js&quot;/&gt;\n                    &lt;h:outputScript library=&quot;js&quot; name=&quot;hello.js&quot;/&gt;\n                &lt;h:form&gt;\n                    &lt;h:commandButton onclick = &quot;showMessage();&quot; /&gt;\n                &lt;/h:form&gt;\n            &lt;/p:panel&gt;\n        &lt;/h:form&gt;\n    &lt;/ui:define&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n<p>Normal javascript script hello.js (not chunk) is visible and is working but react component from chunks is not rendered. All I've got is empty jsf container.</p>\n<p>Additionaly there is information in the console:\n<a href=\"https://i.stack.imgur.com/vKc6q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKc6q.png\" alt=\"enter image description here\" /></a></p>\n<p>Additionaly I tried to change relative paths in chunks from static/js to &quot;resources/js&quot; and &quot;javax.faces.resource/js&quot; and without any path. Nothing is working.</p>\n<p>After compilation, sources looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/JQTpA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JQTpA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","datetime","timezone"],"comments":[{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1547579537,"post_id":54205320,"comment_id":95237518,"body_markdown":"What is your client time zone?","body":"What is your client time zone?"},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1547579979,"post_id":54205320,"comment_id":95237697,"body_markdown":"mysql client? select @@time_zone: SYSTEM. the system time zone is UTC-6:00.","body":"mysql client? select @@time_zone: SYSTEM. the system time zone is UTC-6:00."},{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1547580447,"post_id":54205320,"comment_id":95237890,"body_markdown":"what exactly does the insert look like?","body":"what exactly does the insert look like?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1547581160,"post_id":54205320,"comment_id":95238161,"body_markdown":"What is the datatype of your database column? When my memory serves me right, MySQL has a `timestamp with timezone` datatype that will ensure that timestamps are stored in UTC.","body":"What is the datatype of your database column? When my memory serves me right, MySQL has a <code>timestamp with timezone</code> datatype that will ensure that timestamps are stored in UTC."},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1547581423,"post_id":54205320,"comment_id":95238248,"body_markdown":"@DanFarrell updated.","body":"@DanFarrell updated."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547585676,"creation_date":1547585278,"answer_id":54206576,"question_id":54205320,"body_markdown":"# tl;dr\r\n\r\nUse modern *java.time* classes, never `java.util.Date` or `java.sql.Date` or `java.sql.Timestamp`. \r\n\r\n    myPreparedStatement                   // With JDBC 4.2, wa can directly exchange java.time objects with the database.\r\n    .setObject(                           // Pass a `OffsetDateTime` object representing the moment we want stored in the database.\r\n        LocalDateTime.parse(              // Parse the input string lacking an indicator of offset or zone.\r\n            &quot;2019-01-19T19:00&quot;            // When using strings in standard ISO 8601 format, no need to specify a formatting pattern.\r\n        )                                 // Returns a `LocalDateTime`, an ambiguous value without real meaning.\r\n        .atZone(                          // Apply a time zone to give meaning to the `LocalDateTime`. \r\n            ZoneId.of( &quot;Europe/Paris&quot; )   // Here we are saying &quot;the 7 PM on that date as seen on the clock on the wall of someone standing in Paris France&quot;.\r\n        )                                 // Returns a `ZonedDateTime` object.\r\n        .toOffsetDateTime()               // Returns an `OffsetDateTime` object as demanded by the JDBC spec, stripping off the time zone to leave on the hours-minutes-seconds from UTC.\r\n    )\r\n\r\n\r\n\r\n# java.time\r\n\r\nYou are using terrible date-time classes that were supplanted years ago by the *java.time* classes. There is really no point in trying to debug/understand the legacy classes, as they are bloody awful mess.\r\n\r\n# `LocalDateTime`\r\n\r\nParse your input string as a `LocalDateTime` as it lacks any indicator of [time zone][1] or [offset-from-UTC][2]. \r\n\r\nMake a habit of using the standard [ISO 8601][3] formats for date-time text whenever possible. For a date with time-of-day, what would be YYYY-MM-DDTHH:MM:SS where the `T` separates the date-portion from the time-portion.\r\n\r\n    String input = &quot;2019-01-19T19:00&quot; ;\r\n    LocalDateTime ldt = LocalDateTime.parse( input ) ; // No need to specify formatting pattern when using standard ISO 8601 formats.\r\n\r\n# `ZonedDateTime`\r\n\r\nThe `LocalDateTime` class too lacks any concept of zone or offset. So an object of this class does *not* represent a moment, is *not* a point on the timeline. It represents *potential* moments along a range of about 26-27 hours, the various time zones around the globe.\r\n\r\nYou seem to know for certain this date and time were meant to represent a moment in a particular time zone. So apply a time zone, to give meaning to our ambiguous `LocalDateTime` object.\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `Continent/Region`, such as `America/Montreal`, `Africa/Casablanca`, or `Pacific/Auckland`. Never use the 2-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Paris&quot; ) ;  \r\n\r\nIf you want to use the JVM’s current default time zone, ask for it and pass as an argument. If omitted, the code becomes ambiguous to read in that we do not know for certain if you intended to use the default or if you, like so many programmers, were unaware of the issue.\r\n\r\n    ZoneId z = ZoneId.systemDefault() ;  // Get JVM’s current default time zone.\r\n\r\nNow we can apply a `ZoneId` to get a `ZonedDateTime`. \r\n\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;\r\n\r\n# `OffsetDateTime`\r\n\r\nYour JDBC *may* be accept the `ZonedDateTime` object, but the JDBC 4.2 spec requires that it take an `OffsetDateTime`. What&#39;s the difference? Both `ZonedDateTime` and `OffsetDateTime` represent a moment, a point on the timeline. An offset is merely a number of hours-minutes-seconds ahead-of or behind UTC. A time zone is much more. A time zone is a history of the past, present, and future changes to the offset used by the people of a particular region. So a time zone is always preferable. Except here, where we are using JDBC to exchange a *java.time* object with the database, we use `OffsetDateTime` to write standard code. \r\n\r\n    OffsetDateTime odt = zdt.toOffsetDateTime() ;  // Convert from moment with time zone to a moment with merely an offset-from-UTC.\r\n\r\nNow we can pass this moment to your prepared statement.\r\n\r\n    myPreparedStatement( … , odt ) ;  // Pass a `OffsetDateTime` moment as the value for a placeholder in the SQL of your prepared statement.\r\n\r\nRetrieval. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nAssign the desired time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Paris&quot; ) ;\r\n    ZonedDateTime zdt = odt.atZone( z ) ;\r\n\r\nBoth the `odt` and `zdt` seen in the few lines above represent the very same simultaneous moment, the same point on the timeline. Only their wall-clock time is different, as most databases store and retrieve UTC while you want to see Paris time.\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n \r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Time_zone\r\n  [2]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601","title":"MySQL datetime is not stored as UTC, but in server time zone","body":"<h1>tl;dr</h1>\n\n<p>Use modern <em>java.time</em> classes, never <code>java.util.Date</code> or <code>java.sql.Date</code> or <code>java.sql.Timestamp</code>. </p>\n\n<pre><code>myPreparedStatement                   // With JDBC 4.2, wa can directly exchange java.time objects with the database.\n.setObject(                           // Pass a `OffsetDateTime` object representing the moment we want stored in the database.\n    LocalDateTime.parse(              // Parse the input string lacking an indicator of offset or zone.\n        \"2019-01-19T19:00\"            // When using strings in standard ISO 8601 format, no need to specify a formatting pattern.\n    )                                 // Returns a `LocalDateTime`, an ambiguous value without real meaning.\n    .atZone(                          // Apply a time zone to give meaning to the `LocalDateTime`. \n        ZoneId.of( \"Europe/Paris\" )   // Here we are saying \"the 7 PM on that date as seen on the clock on the wall of someone standing in Paris France\".\n    )                                 // Returns a `ZonedDateTime` object.\n    .toOffsetDateTime()               // Returns an `OffsetDateTime` object as demanded by the JDBC spec, stripping off the time zone to leave on the hours-minutes-seconds from UTC.\n)\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>You are using terrible date-time classes that were supplanted years ago by the <em>java.time</em> classes. There is really no point in trying to debug/understand the legacy classes, as they are bloody awful mess.</p>\n\n<h1><code>LocalDateTime</code></h1>\n\n<p>Parse your input string as a <code>LocalDateTime</code> as it lacks any indicator of <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time zone</a> or <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a>. </p>\n\n<p>Make a habit of using the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for date-time text whenever possible. For a date with time-of-day, what would be YYYY-MM-DDTHH:MM:SS where the <code>T</code> separates the date-portion from the time-portion.</p>\n\n<pre><code>String input = \"2019-01-19T19:00\" ;\nLocalDateTime ldt = LocalDateTime.parse( input ) ; // No need to specify formatting pattern when using standard ISO 8601 formats.\n</code></pre>\n\n<h1><code>ZonedDateTime</code></h1>\n\n<p>The <code>LocalDateTime</code> class too lacks any concept of zone or offset. So an object of this class does <em>not</em> represent a moment, is <em>not</em> a point on the timeline. It represents <em>potential</em> moments along a range of about 26-27 hours, the various time zones around the globe.</p>\n\n<p>You seem to know for certain this date and time were meant to represent a moment in a particular time zone. So apply a time zone, to give meaning to our ambiguous <code>LocalDateTime</code> object.</p>\n\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>Continent/Region</code>, such as <code>America/Montreal</code>, <code>Africa/Casablanca</code>, or <code>Pacific/Auckland</code>. Never use the 2-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!). </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Europe/Paris\" ) ;  \n</code></pre>\n\n<p>If you want to use the JVM’s current default time zone, ask for it and pass as an argument. If omitted, the code becomes ambiguous to read in that we do not know for certain if you intended to use the default or if you, like so many programmers, were unaware of the issue.</p>\n\n<pre><code>ZoneId z = ZoneId.systemDefault() ;  // Get JVM’s current default time zone.\n</code></pre>\n\n<p>Now we can apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>. </p>\n\n<pre><code>ZonedDateTime zdt = ldt.atZone( z ) ;\n</code></pre>\n\n<h1><code>OffsetDateTime</code></h1>\n\n<p>Your JDBC <em>may</em> be accept the <code>ZonedDateTime</code> object, but the JDBC 4.2 spec requires that it take an <code>OffsetDateTime</code>. What's the difference? Both <code>ZonedDateTime</code> and <code>OffsetDateTime</code> represent a moment, a point on the timeline. An offset is merely a number of hours-minutes-seconds ahead-of or behind UTC. A time zone is much more. A time zone is a history of the past, present, and future changes to the offset used by the people of a particular region. So a time zone is always preferable. Except here, where we are using JDBC to exchange a <em>java.time</em> object with the database, we use <code>OffsetDateTime</code> to write standard code. </p>\n\n<pre><code>OffsetDateTime odt = zdt.toOffsetDateTime() ;  // Convert from moment with time zone to a moment with merely an offset-from-UTC.\n</code></pre>\n\n<p>Now we can pass this moment to your prepared statement.</p>\n\n<pre><code>myPreparedStatement( … , odt ) ;  // Pass a `OffsetDateTime` moment as the value for a placeholder in the SQL of your prepared statement.\n</code></pre>\n\n<p>Retrieval. </p>\n\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n\n<p>Assign the desired time zone.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Europe/Paris\" ) ;\nZonedDateTime zdt = odt.atZone( z ) ;\n</code></pre>\n\n<p>Both the <code>odt</code> and <code>zdt</code> seen in the few lines above represent the very same simultaneous moment, the same point on the timeline. Only their wall-clock time is different, as most databases store and retrieve UTC while you want to see Paris time.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2916,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649397071,"creation_date":1547579171,"question_id":54205320,"body_markdown":"MySQL database: store Java Date into database column of `DATETIME` type, e.g.,\r\n\r\n       Table Foo\r\n       -----------------------\r\n       id         |  time\r\n       -----------------------\r\n       bigint(20)   datetime\r\n\r\nThe date is\r\n \r\n    01/15/19 19:00:00 (Time Zone: UTC+1:00),\r\n\r\n    DateFormat df = new SimpleDateFormat(&#39;MM/dd/yy HH:mm:ss&#39;);\r\n    df.setTimeZone(&quot;Europe/Paris&quot;);   // UTC+1:00\r\n    Date date = df.parse(&quot;01/15/19 19:00:00&quot;);\r\n\r\n    PreparedStatement st = new PreparedStatement(&quot;insert into Foo (id, time) values (?, ?)&quot;;\r\n    st.setObject(1, 1);\r\n    st.setObject(2, date);\r\n    st.executeUpdate();  \r\n\r\nwhich is expected to be converted into \r\n\r\n    01/15/19 18:00:00 UTC\r\n\r\n and stored in database.\r\n\r\nMySQL time zone is `SYSTEM (UTC-6:00)`. JVM time zone is `UTC-6:00`. Both are running in the same machine. The value stored is `01/15/19 12:00:00`. Why is it stored in Server time zone (not UTC)? \r\n\r\nAn SQL query `SELECT time FROM Foo;` gives the following result:\r\n\r\n    time\r\n    -------------------\r\n    2019-01-15 12:00:00\r\n\r\nChanging server time zone did not affect the select value.\r\n\r\n    mysql&gt; set time_zone=&#39;+8:00&#39;;\r\n    \r\n    select time from Foo;\r\n    \r\n        time\r\n        -------------------\r\n        2019-01-15 12:00:00\r\n\r\n","title":"MySQL datetime is not stored as UTC, but in server time zone","body":"<p>MySQL database: store Java Date into database column of <code>DATETIME</code> type, e.g.,</p>\n<pre><code>   Table Foo\n   -----------------------\n   id         |  time\n   -----------------------\n   bigint(20)   datetime\n</code></pre>\n<p>The date is</p>\n<pre><code>01/15/19 19:00:00 (Time Zone: UTC+1:00),\n\nDateFormat df = new SimpleDateFormat('MM/dd/yy HH:mm:ss');\ndf.setTimeZone(&quot;Europe/Paris&quot;);   // UTC+1:00\nDate date = df.parse(&quot;01/15/19 19:00:00&quot;);\n\nPreparedStatement st = new PreparedStatement(&quot;insert into Foo (id, time) values (?, ?)&quot;;\nst.setObject(1, 1);\nst.setObject(2, date);\nst.executeUpdate();  \n</code></pre>\n<p>which is expected to be converted into</p>\n<pre><code>01/15/19 18:00:00 UTC\n</code></pre>\n<p>and stored in database.</p>\n<p>MySQL time zone is <code>SYSTEM (UTC-6:00)</code>. JVM time zone is <code>UTC-6:00</code>. Both are running in the same machine. The value stored is <code>01/15/19 12:00:00</code>. Why is it stored in Server time zone (not UTC)?</p>\n<p>An SQL query <code>SELECT time FROM Foo;</code> gives the following result:</p>\n<pre><code>time\n-------------------\n2019-01-15 12:00:00\n</code></pre>\n<p>Changing server time zone did not affect the select value.</p>\n<pre><code>mysql&gt; set time_zone='+8:00';\n\nselect time from Foo;\n\n    time\n    -------------------\n    2019-01-15 12:00:00\n</code></pre>\n"},{"tags":["java","garbage-collection","exit","exit-code","garbage"],"comments":[{"owner":{"account_id":4156176,"reputation":2475,"user_id":3407418,"display_name":"Gaskoin"},"score":1,"creation_date":1446674270,"post_id":33532774,"comment_id":54847228,"body_markdown":"It halts whole jvm so I do not know what are your concerns about? If you turn off your computer will it have not cleared RAM?","body":"It halts whole jvm so I do not know what are your concerns about? If you turn off your computer will it have not cleared RAM?"},{"owner":{"account_id":3840763,"reputation":4517,"user_id":3183924,"accept_rate":89,"display_name":"Paradox"},"score":0,"creation_date":1446674333,"post_id":33532774,"comment_id":54847263,"body_markdown":"So if I had another class, made an object from it, and called System.exit(0); in that object,  then that&#39;s totally alright?","body":"So if I had another class, made an object from it, and called System.exit(0); in that object,  then that&#39;s totally alright?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1446674352,"post_id":33532774,"comment_id":54847278,"body_markdown":"It doesn&#39;t have anything to do with the inner workings of Java. The process exits, and all its resources, including memory, are reclaimed by the operating system.","body":"It doesn&#39;t have anything to do with the inner workings of Java. The process exits, and all its resources, including memory, are reclaimed by the operating system."}],"answers":[{"tags":[],"owner":{"account_id":1640522,"reputation":676,"user_id":1513060,"accept_rate":75,"display_name":"SWPhantom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446674424,"creation_date":1446674424,"answer_id":33532885,"question_id":33532774,"body_markdown":"Using System.exit(0) will flush the whole application from the stack and heap. Use [VisualVM][1] while running your program to confirm this. I can&#39;t get to it, but I have an application that ramps up to a few GBs worth of memory utilization. I&#39;ve put a System.exit() statement in one of the objects and saw all the memory be freed.\r\n\r\n  [1]: https://visualvm.java.net/","title":"Will calling System.exit(0); from an object outside of main run garbage collection?","body":"<p>Using System.exit(0) will flush the whole application from the stack and heap. Use <a href=\"https://visualvm.java.net/\" rel=\"nofollow\">VisualVM</a> while running your program to confirm this. I can't get to it, but I have an application that ramps up to a few GBs worth of memory utilization. I've put a System.exit() statement in one of the objects and saw all the memory be freed.</p>\n"},{"tags":[],"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446675095,"creation_date":1446674620,"answer_id":33532926,"question_id":33532774,"body_markdown":"`System.exit(any int)` will terminate the application. The memory both native and heap would be freed up to the operating system.\r\n\r\nThis would terminate the &quot;java&quot; process. On linux, do \r\n\r\n&gt; ps -eaf | grep java\r\n\r\n to view the process after System.exit call and you would see that it has exited and there is no trace of it. This implies that this process is not running and any resources: memory, cpu assigned to it are claimed by the OS. \r\n\r\nOn the GC front, a clarification, the GC is also an integral part of any java application (process) and would also terminate with it. System.exit would not provide for GC to run or any cleanup to take place. \r\n\r\nIf you would like a cleanup, allow for a shutdown hook and System.exit() in this case would invoke the shutdown hook allowing for cleanup such as shutting down threads etc.\r\n\r\n","title":"Will calling System.exit(0); from an object outside of main run garbage collection?","body":"<p><code>System.exit(any int)</code> will terminate the application. The memory both native and heap would be freed up to the operating system.</p>\n\n<p>This would terminate the \"java\" process. On linux, do </p>\n\n<blockquote>\n  <p>ps -eaf | grep java</p>\n</blockquote>\n\n<p>to view the process after System.exit call and you would see that it has exited and there is no trace of it. This implies that this process is not running and any resources: memory, cpu assigned to it are claimed by the OS. </p>\n\n<p>On the GC front, a clarification, the GC is also an integral part of any java application (process) and would also terminate with it. System.exit would not provide for GC to run or any cleanup to take place. </p>\n\n<p>If you would like a cleanup, allow for a shutdown hook and System.exit() in this case would invoke the shutdown hook allowing for cleanup such as shutting down threads etc.</p>\n"},{"tags":[],"owner":{"account_id":4464281,"reputation":875,"user_id":3632328,"accept_rate":40,"display_name":"Wesley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1446675178,"creation_date":1446674942,"answer_id":33533017,"question_id":33532774,"body_markdown":"System.exit() is a static function therefore it doesn&#39;t matter where you call it. The effects are the same which is terminating the Java Virtual Machine. Any resources used by the JVM upon termination are given back to the OS.\r\n\r\nSource: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#exit(int)","title":"Will calling System.exit(0); from an object outside of main run garbage collection?","body":"<p>System.exit() is a static function therefore it doesn't matter where you call it. The effects are the same which is terminating the Java Virtual Machine. Any resources used by the JVM upon termination are given back to the OS.</p>\n\n<p>Source: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#exit(int)\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#exit(int)</a></p>\n"}],"owner":{"account_id":3840763,"reputation":4517,"user_id":3183924,"accept_rate":89,"display_name":"Paradox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33533017,"answer_count":3,"score":1,"last_activity_date":1649396574,"creation_date":1446673993,"question_id":33532774,"body_markdown":"I plan to use an object which is called by my main method to exit the entire program.  The object has a method which just runs  a `System.exit(0).`  My question is, is this a safe thing to do?  **If I run `System.exit(0)` from another object, will garbage collection still clean out the entire program from memory, or will I have issues cleaning the calling class from memory?**  My thoughts are that either since the JVM will be terminated, the calling class will be garbage-collected, or that I might have issues cleaning the calling class from memory since the object&#39;s stack frame is above the main stack frame.  It&#39;s mainly an issue of me not yet knowing enough about Java... Thanks for any help!","title":"Will calling System.exit(0); from an object outside of main run garbage collection?","body":"<p>I plan to use an object which is called by my main method to exit the entire program.  The object has a method which just runs  a <code>System.exit(0).</code>  My question is, is this a safe thing to do?  <strong>If I run <code>System.exit(0)</code> from another object, will garbage collection still clean out the entire program from memory, or will I have issues cleaning the calling class from memory?</strong>  My thoughts are that either since the JVM will be terminated, the calling class will be garbage-collected, or that I might have issues cleaning the calling class from memory since the object's stack frame is above the main stack frame.  It's mainly an issue of me not yet knowing enough about Java... Thanks for any help!</p>\n"},{"tags":["java","hibernate","java-8","hibernate-mapping","java-time"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1427116700,"post_id":29211210,"comment_id":46632100,"body_markdown":"See [HHH-8844](https://hibernate.atlassian.net/browse/HHH-8844) (Hibernate bug database) - apparently this is still not a standard feature in Hibernate. (The comments on that issue contain a link to the blog you already found...).","body":"See <a href=\"https://hibernate.atlassian.net/browse/HHH-8844\" rel=\"nofollow noreferrer\">HHH-8844</a> (Hibernate bug database) - apparently this is still not a standard feature in Hibernate. (The comments on that issue contain a link to the blog you already found...)."}],"answers":[{"tags":[],"owner":{"account_id":11560032,"reputation":129,"user_id":8470005,"display_name":"Nguyen Phung"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1649396509,"creation_date":1530605155,"answer_id":51149536,"question_id":29211210,"body_markdown":"Hibernate ORM 5.3 implements the JPA 2.2 standard. \r\n\r\n---\r\n## Supported types from the [Java 8 Date and Time API][1]\r\nThe [**JPA 2.2**][2] specification says that the following Java 8 types are supported:\r\n\r\n- `java.time.LocalDate`\r\n- `java.time.LocalTime`\r\n- `java.time.LocalDateTime`\r\n- `java.time.OffsetTime`\r\n- `java.time.OffsetDateTime`\r\n\r\nHibernate ORM supports all these types, and even more:\r\n\r\n- `java.time.ZonedDateTime`\r\n- `java.time.Duration`\r\n\r\n---\r\n# Entity mapping\r\nAssuming you have the following entity:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Entity(name = &quot;DateTimeEntity&quot;)\r\n    public static class DateTimeEntity {\r\n    \r\n        @Id\r\n        private Integer id;\r\n        \r\n        @Column(name = &quot;duration_value&quot;)\r\n        private Duration duration = Duration.of( 20, ChronoUnit.DAYS );\r\n        \r\n        @Column(name = &quot;instant_value&quot;)\r\n        private Instant instant = Instant.now();\r\n        \r\n        @Column(name = &quot;local_date&quot;)\r\n        private LocalDate localDate = LocalDate.now();\r\n        \r\n        @Column(name = &quot;local_date_time&quot;)\r\n        private LocalDateTime localDateTime = LocalDateTime.now();\r\n        \r\n        @Column(name = &quot;local_time&quot;)\r\n        private LocalTime localTime = LocalTime.now();\r\n        \r\n        @Column(name = &quot;offset_date_time&quot;)\r\n        private OffsetDateTime offsetDateTime = OffsetDateTime.now();\r\n        \r\n        @Column(name = &quot;offset_time&quot;)\r\n        private OffsetTime offsetTime = OffsetTime.now();\r\n        \r\n        @Column(name = &quot;zoned_date_time&quot;)\r\n        private ZonedDateTime zonedDateTime = ZonedDateTime.now();\r\n        \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nThe `DateTimeEntity` will have an associated database table that looks as follows:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TABLE DateTimeEntity (\r\n        id                  INTEGER NOT NULL,\r\n        duration_value      BIGINT,\r\n        instant_value       TIMESTAMP,\r\n        local_date          DATE,\r\n        local_date_time     TIMESTAMP,\r\n        local_time          TIME,\r\n        offset_date_time    TIMESTAMP,\r\n        offset_time         TIME,\r\n        zoned_date_time     TIMESTAMP,\r\n        PRIMARY KEY (id)\r\n    )\r\n\r\n---\r\n*Source*: [Mapping Java 8 Date/Time entity attributes with Hibernate][3]\r\n \r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\r\n  [2]: https://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-eval-spec/JavaPersistence.pdf?AuthParam=1649396204_29fc9e061911833a8744179a351d1a54\r\n  [3]: http://in.relation.to/2018/02/20/java8-date-time-mapping/","title":"How to persist OffsetTime and OffsetDateTime with JPA and Hibernate?","body":"<p>Hibernate ORM 5.3 implements the JPA 2.2 standard.</p>\n<hr />\n<h2>Supported types from the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">Java 8 Date and Time API</a></h2>\n<p>The <a href=\"https://download.oracle.com/otn-pub/jcp/persistence-2_2-mrel-eval-spec/JavaPersistence.pdf?AuthParam=1649396204_29fc9e061911833a8744179a351d1a54\" rel=\"nofollow noreferrer\"><strong>JPA 2.2</strong></a> specification says that the following Java 8 types are supported:</p>\n<ul>\n<li><code>java.time.LocalDate</code></li>\n<li><code>java.time.LocalTime</code></li>\n<li><code>java.time.LocalDateTime</code></li>\n<li><code>java.time.OffsetTime</code></li>\n<li><code>java.time.OffsetDateTime</code></li>\n</ul>\n<p>Hibernate ORM supports all these types, and even more:</p>\n<ul>\n<li><code>java.time.ZonedDateTime</code></li>\n<li><code>java.time.Duration</code></li>\n</ul>\n<hr />\n<h1>Entity mapping</h1>\n<p>Assuming you have the following entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;DateTimeEntity&quot;)\npublic static class DateTimeEntity {\n\n    @Id\n    private Integer id;\n    \n    @Column(name = &quot;duration_value&quot;)\n    private Duration duration = Duration.of( 20, ChronoUnit.DAYS );\n    \n    @Column(name = &quot;instant_value&quot;)\n    private Instant instant = Instant.now();\n    \n    @Column(name = &quot;local_date&quot;)\n    private LocalDate localDate = LocalDate.now();\n    \n    @Column(name = &quot;local_date_time&quot;)\n    private LocalDateTime localDateTime = LocalDateTime.now();\n    \n    @Column(name = &quot;local_time&quot;)\n    private LocalTime localTime = LocalTime.now();\n    \n    @Column(name = &quot;offset_date_time&quot;)\n    private OffsetDateTime offsetDateTime = OffsetDateTime.now();\n    \n    @Column(name = &quot;offset_time&quot;)\n    private OffsetTime offsetTime = OffsetTime.now();\n    \n    @Column(name = &quot;zoned_date_time&quot;)\n    private ZonedDateTime zonedDateTime = ZonedDateTime.now();\n    \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>The <code>DateTimeEntity</code> will have an associated database table that looks as follows:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE DateTimeEntity (\n    id                  INTEGER NOT NULL,\n    duration_value      BIGINT,\n    instant_value       TIMESTAMP,\n    local_date          DATE,\n    local_date_time     TIMESTAMP,\n    local_time          TIME,\n    offset_date_time    TIMESTAMP,\n    offset_time         TIME,\n    zoned_date_time     TIMESTAMP,\n    PRIMARY KEY (id)\n)\n</code></pre>\n<hr />\n<p><em>Source</em>: <a href=\"http://in.relation.to/2018/02/20/java8-date-time-mapping/\" rel=\"nofollow noreferrer\">Mapping Java 8 Date/Time entity attributes with Hibernate</a></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610144510,"creation_date":1588256356,"answer_id":61525553,"question_id":29211210,"body_markdown":"Since version 2.2, JPA offers support for mapping Java 8 Date/Time API, like `LocalDateTime`, `LocalTime`, `LocalDateTimeTime`, `OffsetDateTime` or `OffsetTime`.\r\n\r\nAlso, even with JPA 2.1, Hibernate 5.2 supports all Java 8 Date/Time API by default.\r\n\r\nIn Hibernate 5.1 and 5.0, you have to add the `hibernate-java8` Maven dependency.\r\n\r\nSo, let&#39;s assume we have the following `Notification` entity:\r\n\r\n    @Entity(name = &quot;Notification&quot;)\r\n    @Table(name = &quot;notification&quot;)\r\n    public class Notification {\r\n\r\n        @Id\r\n        private Long id;\r\n\r\n        @Column(name = &quot;created_on&quot;)\r\n        private OffsetDateTime createdOn;\r\n\r\n        @Column(name = &quot;notify_on&quot;)\r\n        private OffsetTime clockAlarm;\r\n    \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nNotice that the `createdOn` attribute is a `OffsetDateTime` Java object and the `clockAlarm` is of the `OffsetTime` type.\r\n\r\nWhen persisting the `Notification`:\r\n\r\n    ZoneOffset zoneOffset = ZoneOffset.systemDefault().getRules()\r\n        .getOffset(LocalDateTime.now());\r\n\r\n    Notification notification = new Notification()\r\n        .setId(1L)\r\n        .setCreatedOn(\r\n            LocalDateTime.of(\r\n                2020, 5, 1,\r\n                12, 30, 0\r\n            ).atOffset(zoneOffset)\r\n        ).setClockAlarm(\r\n            OffsetTime.of(7, 30, 0, 0, zoneOffset)\r\n        );\r\n\r\n    entityManager.persist(notification);\r\n\r\nHibernate generates the proper SQL INSERT statement:\r\n\r\n    INSERT INTO notification (\r\n        notify_on, \r\n        created_on, \r\n        id\r\n    ) \r\n    VALUES (\r\n        &#39;07:30:00&#39;, \r\n        &#39;2020-05-01 12:30:00.0&#39;, \r\n        1\r\n    )\r\n\r\nWhen fetching the `Notification` entity, we can see that the `OffsetDateTime` and `OffsetTime` \r\nare properly fetched from the database:\r\n\r\n    Notification notification = entityManager.find(\r\n        Notification.class, 1L\r\n    );\r\n\r\n    assertEquals(\r\n        LocalDateTime.of(\r\n            2020, 5, 1,\r\n            12, 30, 0\r\n        ).atOffset(zoneOffset),\r\n        notification.getCreatedOn()\r\n    );\r\n\r\n    assertEquals(\r\n        OffsetTime.of(7, 30, 0, 0, zoneOffset),\r\n        notification.getClockAlarm()\r\n    );\r\n","title":"How to persist OffsetTime and OffsetDateTime with JPA and Hibernate?","body":"<p>Since version 2.2, JPA offers support for mapping Java 8 Date/Time API, like <code>LocalDateTime</code>, <code>LocalTime</code>, <code>LocalDateTimeTime</code>, <code>OffsetDateTime</code> or <code>OffsetTime</code>.</p>\n<p>Also, even with JPA 2.1, Hibernate 5.2 supports all Java 8 Date/Time API by default.</p>\n<p>In Hibernate 5.1 and 5.0, you have to add the <code>hibernate-java8</code> Maven dependency.</p>\n<p>So, let's assume we have the following <code>Notification</code> entity:</p>\n<pre><code>@Entity(name = &quot;Notification&quot;)\n@Table(name = &quot;notification&quot;)\npublic class Notification {\n\n    @Id\n    private Long id;\n\n    @Column(name = &quot;created_on&quot;)\n    private OffsetDateTime createdOn;\n\n    @Column(name = &quot;notify_on&quot;)\n    private OffsetTime clockAlarm;\n\n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>Notice that the <code>createdOn</code> attribute is a <code>OffsetDateTime</code> Java object and the <code>clockAlarm</code> is of the <code>OffsetTime</code> type.</p>\n<p>When persisting the <code>Notification</code>:</p>\n<pre><code>ZoneOffset zoneOffset = ZoneOffset.systemDefault().getRules()\n    .getOffset(LocalDateTime.now());\n\nNotification notification = new Notification()\n    .setId(1L)\n    .setCreatedOn(\n        LocalDateTime.of(\n            2020, 5, 1,\n            12, 30, 0\n        ).atOffset(zoneOffset)\n    ).setClockAlarm(\n        OffsetTime.of(7, 30, 0, 0, zoneOffset)\n    );\n\nentityManager.persist(notification);\n</code></pre>\n<p>Hibernate generates the proper SQL INSERT statement:</p>\n<pre><code>INSERT INTO notification (\n    notify_on, \n    created_on, \n    id\n) \nVALUES (\n    '07:30:00', \n    '2020-05-01 12:30:00.0', \n    1\n)\n</code></pre>\n<p>When fetching the <code>Notification</code> entity, we can see that the <code>OffsetDateTime</code> and <code>OffsetTime</code>\nare properly fetched from the database:</p>\n<pre><code>Notification notification = entityManager.find(\n    Notification.class, 1L\n);\n\nassertEquals(\n    LocalDateTime.of(\n        2020, 5, 1,\n        12, 30, 0\n    ).atOffset(zoneOffset),\n    notification.getCreatedOn()\n);\n\nassertEquals(\n    OffsetTime.of(7, 30, 0, 0, zoneOffset),\n    notification.getClockAlarm()\n);\n</code></pre>\n"}],"owner":{"account_id":111284,"reputation":7731,"user_id":294068,"accept_rate":59,"display_name":"Stefan K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9093,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1649396509,"creation_date":1427116492,"question_id":29211210,"body_markdown":"How can I persist Java 8 `OffsetTime` and `OffsetDateTime` with Hibernate as proper SQL types (`TIME_WITH_TIMEZONE` and `TIMESTAMP_WITH_TIMEZONE`)?\r\n\r\nI found a solution for `LocalTime` and `LocalDateTime` using `EnhancedUserType`s in [a blog][1].\r\n\r\nHow would the user types be for *offset* data?\r\n\r\n  [1]: http://blog.progs.be/550/java-time-hibernate","title":"How to persist OffsetTime and OffsetDateTime with JPA and Hibernate?","body":"<p>How can I persist Java 8 <code>OffsetTime</code> and <code>OffsetDateTime</code> with Hibernate as proper SQL types (<code>TIME_WITH_TIMEZONE</code> and <code>TIMESTAMP_WITH_TIMEZONE</code>)?</p>\n<p>I found a solution for <code>LocalTime</code> and <code>LocalDateTime</code> using <code>EnhancedUserType</code>s in <a href=\"http://blog.progs.be/550/java-time-hibernate\" rel=\"nofollow noreferrer\">a blog</a>.</p>\n<p>How would the user types be for <em>offset</em> data?</p>\n"},{"tags":["java","object","visual-studio-code","shortcut","vscode-snippets"],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649396491,"creation_date":1649396491,"answer_id":71792149,"question_id":71781594,"body_markdown":"You can [Install snippets from the Marketplace][1]\r\n\r\nOr\r\n\r\n[Create your own snippets][2]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/editor/userdefinedsnippets#_install-snippets-from-the-marketplace\r\n  [2]: https://code.visualstudio.com/docs/editor/userdefinedsnippets#_create-your-own-snippets","title":"Shortcut to create a Java Object in Vscode","body":"<p>You can <a href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets#_install-snippets-from-the-marketplace\" rel=\"nofollow noreferrer\">Install snippets from the Marketplace</a></p>\n<p>Or</p>\n<p><a href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets#_create-your-own-snippets\" rel=\"nofollow noreferrer\">Create your own snippets</a></p>\n"}],"owner":{"account_id":18206750,"reputation":3,"user_id":13250039,"display_name":"Ashutosh Purohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649396491,"creation_date":1649331926,"question_id":71781594,"body_markdown":"Is there a keyboard shortcut to create an object in Java in VScode or how to write a User Snippet for that.\r\n\r\ni.e. shortcut for &quot;Object_TYPE ref_VAR = new Constructor();&quot;","title":"Shortcut to create a Java Object in Vscode","body":"<p>Is there a keyboard shortcut to create an object in Java in VScode or how to write a User Snippet for that.</p>\n<p>i.e. shortcut for &quot;Object_TYPE ref_VAR = new Constructor();&quot;</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1649388909,"post_id":71790852,"comment_id":126868079,"body_markdown":"This won&#39;t work: `while (!task.isSuccessful())`. Instead of using such a tight loop for the task to complete, you should add a completion handler to the task and then use the data inside the `onComplete`/`onSuccess` method of that. Also see: https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519","body":"This won&#39;t work: <code>while (!task.isSuccessful())</code>. Instead of using such a tight loop for the task to complete, you should add a completion handler to the task and then use the data inside the <code>onComplete</code>/<code>onSuccess</code> method of that. Also see: <a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\" title=\"getcontactsfromfirebase method return an empty list\">stackoverflow.com/questions/50434836/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649396399,"creation_date":1649396399,"answer_id":71792130,"question_id":71790852,"body_markdown":"When using the following line of code:\r\n\r\n    while (!task.isSuccessful());\r\n\r\nThe while statement has no body, since you are adding a ; (semicolon) at the end of the line. This means that while statement ends there. You can either create a body:\r\n\r\n                                  &#128071;\r\n     while (!task.isSuccessful()) {\r\n         // ...\r\n     }\r\n    &#128070;\r\n\r\nOr most likely you should use an if statement rather than a while:\r\n\r\n```\r\npublic Object fetch(String path) {\r\n     Object value;\r\n     Task&lt;DataSnapshot&gt; task = database.getReference(path).get();\r\n     if (task.isSuccessful()) {\r\n         value = task.getResult().getValue();\r\n     }\r\n     return value;\r\n}\r\n```","title":"Task&lt;DataSnapshot&gt; never completes","body":"<p>When using the following line of code:</p>\n<pre><code>while (!task.isSuccessful());\n</code></pre>\n<p>The while statement has no body, since you are adding a ; (semicolon) at the end of the line. This means that while statement ends there. You can either create a body:</p>\n<pre><code>                              👇\n while (!task.isSuccessful()) {\n     // ...\n }\n👆\n</code></pre>\n<p>Or most likely you should use an if statement rather than a while:</p>\n<pre><code>public Object fetch(String path) {\n     Object value;\n     Task&lt;DataSnapshot&gt; task = database.getReference(path).get();\n     if (task.isSuccessful()) {\n         value = task.getResult().getValue();\n     }\n     return value;\n}\n</code></pre>\n"}],"owner":{"account_id":19907052,"reputation":39,"user_id":14585874,"display_name":"Pluto7073"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649396426,"creation_date":1649383116,"question_id":71790852,"body_markdown":"I am trying to make it so that I can easily fetch the value of any path in my `Realtime Database`. I had 2 different ways of doing it. They are below.\r\n\r\nMethod 1:\r\n```\r\npublic Task&lt;DataSnapshot&gt; getValue(String path) {\r\n     return database.getReference(path).get();\r\n}\r\n```\r\n\r\nMethod 2:\r\n```\r\npublic Object fetch(String path) {\r\n     Object value;\r\n     Task&lt;DataSnapshot&gt; task = database.getReference(path).get();\r\n     while (!task.isSuccessful());\r\n     value = task.getResult().getValue();\r\n     return value;\r\n}\r\n```\r\n\r\nFor whatever reason, if I add an `onCompleteListener` to the output of the first function and do all of my code inside it, it works perfectly fine, but if I try and wait for it to be successful (method 2), it just gets stuck on the while loop forever.  What is even weirder is that the exact code worked perfectly fine on a different project, so I am not really sure what&#39;s wrong.\r\n\r\nI would totally just use method one except it doesn&#39;t always complete it at the same speed the rest of the program is going, so then the program ends up trying to get a method that hasn&#39;t been given its value yet.\r\n\r\nIf anyone has any ideas on how to get Method 2 to work please do share","title":"Task&lt;DataSnapshot&gt; never completes","body":"<p>I am trying to make it so that I can easily fetch the value of any path in my <code>Realtime Database</code>. I had 2 different ways of doing it. They are below.</p>\n<p>Method 1:</p>\n<pre><code>public Task&lt;DataSnapshot&gt; getValue(String path) {\n     return database.getReference(path).get();\n}\n</code></pre>\n<p>Method 2:</p>\n<pre><code>public Object fetch(String path) {\n     Object value;\n     Task&lt;DataSnapshot&gt; task = database.getReference(path).get();\n     while (!task.isSuccessful());\n     value = task.getResult().getValue();\n     return value;\n}\n</code></pre>\n<p>For whatever reason, if I add an <code>onCompleteListener</code> to the output of the first function and do all of my code inside it, it works perfectly fine, but if I try and wait for it to be successful (method 2), it just gets stuck on the while loop forever.  What is even weirder is that the exact code worked perfectly fine on a different project, so I am not really sure what's wrong.</p>\n<p>I would totally just use method one except it doesn't always complete it at the same speed the rest of the program is going, so then the program ends up trying to get a method that hasn't been given its value yet.</p>\n<p>If anyone has any ideas on how to get Method 2 to work please do share</p>\n"},{"tags":["java","android","android-fragments","augmented-reality","sceneform"],"comments":[{"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"score":0,"creation_date":1682064995,"post_id":71792081,"comment_id":134160164,"body_markdown":"Check this answer https://stackoverflow.com/questions/71099418/android-studio-com-google-ar-sceneform-ux-arfragment-is-incompatible-with-androi","body":"Check this answer <a href=\"https://stackoverflow.com/questions/71099418/android-studio-com-google-ar-sceneform-ux-arfragment-is-incompatible-with-androi\" title=\"android studio com google ar sceneform ux arfragment is incompatible with androi\">stackoverflow.com/questions/71099418/&hellip;</a>"},{"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"score":0,"creation_date":1682065057,"post_id":71792081,"comment_id":134160180,"body_markdown":"Check this answer https://stackoverflow.com/questions/71099418/android-studio-com-google-ar-sceneform-ux-arfragment-is-incompatible-with-androi","body":"Check this answer <a href=\"https://stackoverflow.com/questions/71099418/android-studio-com-google-ar-sceneform-ux-arfragment-is-incompatible-with-androi\" title=\"android studio com google ar sceneform ux arfragment is incompatible with androi\">stackoverflow.com/questions/71099418/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649396198,"creation_date":1649396198,"answer_id":71792111,"question_id":71792081,"body_markdown":"Ref:[Ar Fragment Blog][1]\r\n\r\nHere is an example where the AR Fragment is used inside another Fragment. You can take this approach\r\n\r\n\r\n```\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.annotation.Nullable\r\nimport com.google.ar.core.*\r\n\r\nclass MyFragment : Fragment() {\r\n\r\n    private lateinit var arFragment: MyARFragment\r\n    private var arShowing: Boolean = false\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, @Nullable container: ViewGroup?, @Nullable savedInstanceState: Bundle?\r\n    ): View? {\r\n        return inflater.inflate(R.layout.fragment_sample, container, false)\r\n    }\r\n\r\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\r\n        super.onActivityCreated(savedInstanceState)\r\n        arFragment = childFragmentManager.findFragmentById(R.id.ar_fragment) as MyARFragment\r\n        arFragment.arSceneView.scene\r\n            .addOnUpdateListener {\r\n                onUpdateFrame()\r\n            }\r\n     }\r\n\r\n    private fun onUpdateFrame() {\r\n        val frame = arFragment.arSceneView.arFrame ?: return\r\n        // If there is no frame, just return.\r\n        val updatedAugmentedImages =\r\n            frame.getUpdatedTrackables(\r\n                AugmentedImage::class.java\r\n            )\r\n        for (augmentedImage in updatedAugmentedImages) {\r\n            when (augmentedImage.trackingState) {\r\n                TrackingState.TRACKING -&gt; {\r\n                    if(!arShowing){\r\n                        val anchor =  arFragment.arSceneView.session!!.createAnchor(augmentedImage.centerPose)\r\n                        val node =\r\n                            MyViewNode(context)\r\n                        node.setImage(augmentedImage, anchor)\r\n                        arFragment.arSceneView.scene.addChild(node)\r\n                        arShowing = true\r\n                    }\r\n                }\r\n                TrackingState.STOPPED -&gt; {\r\n                    arShowing = false\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://tech.mizuki.io/post/14/","title":"Inconvertible types; cannot cast androidx.fragment.app.Fragment to com.google.ar.sceneform.ux.ArFragment","body":"<p>Ref:<a href=\"https://tech.mizuki.io/post/14/\" rel=\"nofollow noreferrer\">Ar Fragment Blog</a></p>\n<p>Here is an example where the AR Fragment is used inside another Fragment. You can take this approach</p>\n<pre><code>import android.os.Bundle\nimport android.util.Log\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.annotation.Nullable\nimport com.google.ar.core.*\n\nclass MyFragment : Fragment() {\n\n    private lateinit var arFragment: MyARFragment\n    private var arShowing: Boolean = false\n\n    override fun onCreateView(\n        inflater: LayoutInflater, @Nullable container: ViewGroup?, @Nullable savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_sample, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        arFragment = childFragmentManager.findFragmentById(R.id.ar_fragment) as MyARFragment\n        arFragment.arSceneView.scene\n            .addOnUpdateListener {\n                onUpdateFrame()\n            }\n     }\n\n    private fun onUpdateFrame() {\n        val frame = arFragment.arSceneView.arFrame ?: return\n        // If there is no frame, just return.\n        val updatedAugmentedImages =\n            frame.getUpdatedTrackables(\n                AugmentedImage::class.java\n            )\n        for (augmentedImage in updatedAugmentedImages) {\n            when (augmentedImage.trackingState) {\n                TrackingState.TRACKING -&gt; {\n                    if(!arShowing){\n                        val anchor =  arFragment.arSceneView.session!!.createAnchor(augmentedImage.centerPose)\n                        val node =\n                            MyViewNode(context)\n                        node.setImage(augmentedImage, anchor)\n                        arFragment.arSceneView.scene.addChild(node)\n                        arShowing = true\n                    }\n                }\n                TrackingState.STOPPED -&gt; {\n                    arShowing = false\n                }\n            }\n        }\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":22654651,"reputation":3,"user_id":16828767,"display_name":"AgChong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649396198,"creation_date":1649395868,"question_id":71792081,"body_markdown":"I am developing an AR measuring app but I have an error on `arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);`. The error shows **inconvertible types; cannot cast &#39;androidx.fragment.app.Fragment&#39; to &#39;com.google.ar.sceneform.ux.ArFragment&#39;**. What can I do with this situation?\r\n\r\nmainActivity.java\r\n\r\nI have imported the com.google.ar.sceneform.ux.ArFragment.\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ArFragment arFragment;\r\n    @Override\r\n    @SuppressWarnings({&quot;AndroidApiChecker&quot;, &quot;FutureReturnValueIgnored&quot;})\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);\r\n    }\r\n}\r\n```\r\nactivty_main.xml\r\n\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/fragment&quot;\r\n        android:name=&quot;com.google.ar.sceneform.ux.ArFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n","title":"Inconvertible types; cannot cast androidx.fragment.app.Fragment to com.google.ar.sceneform.ux.ArFragment","body":"<p>I am developing an AR measuring app but I have an error on <code>arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);</code>. The error shows <strong>inconvertible types; cannot cast 'androidx.fragment.app.Fragment' to 'com.google.ar.sceneform.ux.ArFragment'</strong>. What can I do with this situation?</p>\n<p>mainActivity.java</p>\n<p>I have imported the com.google.ar.sceneform.ux.ArFragment.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ArFragment arFragment;\n    @Override\n    @SuppressWarnings({&quot;AndroidApiChecker&quot;, &quot;FutureReturnValueIgnored&quot;})\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        arFragment = (ArFragment) getSupportFragmentManager().findFragmentById(R.id.fragment);\n    }\n}\n</code></pre>\n<p>activty_main.xml</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/fragment&quot;\n        android:name=&quot;com.google.ar.sceneform.ux.ArFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"score":0,"creation_date":1489079750,"post_id":42693643,"comment_id":72525080,"body_markdown":"Do post the DAO and service code as well","body":"Do post the DAO and service code as well"},{"owner":{"account_id":3925777,"reputation":156,"user_id":3246315,"accept_rate":73,"display_name":"Babak Gohardani"},"score":0,"creation_date":1489150027,"post_id":42693643,"comment_id":72557266,"body_markdown":"@Bond-JavaBond  hey dude, I added sevice and Dao code too.","body":"@Bond-JavaBond  hey dude, I added sevice and Dao code too."}],"answers":[{"tags":[],"owner":{"account_id":1110257,"reputation":25,"user_id":1100858,"display_name":"Luiz Augusto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490661165,"creation_date":1490357858,"answer_id":42999311,"question_id":42693643,"body_markdown":"Add in your  JSP file the following, just after the other hidden fields:\n\n    &lt;form:input type=&quot;hidden&quot; path=&quot;id&quot;/&gt;","title":"Updating user info (Spring boot)","body":"<p>Add in your  JSP file the following, just after the other hidden fields:</p>\n\n<pre><code>&lt;form:input type=\"hidden\" path=\"id\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4536708,"reputation":11,"user_id":4547615,"display_name":"Vikram Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509344058,"creation_date":1509344058,"answer_id":47009052,"question_id":42693643,"body_markdown":"    @RequestMapping(value=&quot;/updateUserInfo&quot;, method=RequestMethod.POST)\r\n\tpublic ResponseEntity profileInfo(\r\n\t\t\t\t@RequestBody HashMap&lt;String, Object&gt; mapper\r\n\t\t\t) throws Exception{\r\n\t\t\r\n\t\tint id = (Integer) mapper.get(&quot;id&quot;);\r\n\t\tString email = (String) mapper.get(&quot;email&quot;);\r\n\t\tString username = (String) mapper.get(&quot;username&quot;);\r\n\t\tString firstName = (String) mapper.get(&quot;firstName&quot;);\r\n\t\tString lastName = (String) mapper.get(&quot;lastName&quot;);\r\n\t\tString newPassword = (String) mapper.get(&quot;newPassword&quot;);\r\n\t\tString currentPassword = (String) mapper.get(&quot;currentPassword&quot;);\r\n\t\t\r\n\t\tUser currentUser = userService.findById(Long.valueOf(id));\r\n\t\t\r\n\t\tif(currentUser == null) {\r\n\t\t\tthrow new Exception (&quot;User not found&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif(userService.findByEmail(email) != null) {\r\n\t\t\tif(userService.findByEmail(email).getId() != currentUser.getId()) {\r\n\t\t\t\treturn new ResponseEntity(&quot;Email not found!&quot;, HttpStatus.BAD_REQUEST);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(userService.findByUsername(username) != null) {\r\n\t\t\tif(userService.findByUsername(username).getId() != currentUser.getId()) {\r\n\t\t\t\treturn new ResponseEntity(&quot;Username not found!&quot;, HttpStatus.BAD_REQUEST);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSecurityConfig securityConfig = new SecurityConfig();\r\n\t\t\r\n\t\t\r\n\t\t\tBCryptPasswordEncoder passwordEncoder = SecurityUtility.passwordEncoder();\r\n\t\t\tString dbPassword = currentUser.getPassword();\r\n\t\t\t\r\n\t\t\tif(null != currentPassword)\r\n\t\t\tif(passwordEncoder.matches(currentPassword, dbPassword)) {\r\n\t\t\t\tif(newPassword != null &amp;&amp; !newPassword.isEmpty() &amp;&amp; !newPassword.equals(&quot;&quot;)) {\r\n\t\t\t\t\tcurrentUser.setPassword(passwordEncoder.encode(newPassword));\r\n\t\t\t\t}\r\n\t\t\t\tcurrentUser.setEmail(email);\r\n\t\t\t} else {\r\n\t\t\t\treturn new ResponseEntity(&quot;Incorrect current password!&quot;, HttpStatus.BAD_REQUEST);\r\n\t\t\t}\r\n\t\t\r\n\t\t\r\n\t\tcurrentUser.setFirstName(firstName);\r\n\t\tcurrentUser.setLastName(lastName);\r\n\t\tcurrentUser.setUsername(username);\r\n\t\t\r\n\t\t\r\n\t\tuserService.save(currentUser);\r\n\t\t\r\n\t\treturn new ResponseEntity(&quot;Update Success&quot;, HttpStatus.OK);\r\n\t}\r\n","title":"Updating user info (Spring boot)","body":"<pre><code>@RequestMapping(value=\"/updateUserInfo\", method=RequestMethod.POST)\npublic ResponseEntity profileInfo(\n            @RequestBody HashMap&lt;String, Object&gt; mapper\n        ) throws Exception{\n\n    int id = (Integer) mapper.get(\"id\");\n    String email = (String) mapper.get(\"email\");\n    String username = (String) mapper.get(\"username\");\n    String firstName = (String) mapper.get(\"firstName\");\n    String lastName = (String) mapper.get(\"lastName\");\n    String newPassword = (String) mapper.get(\"newPassword\");\n    String currentPassword = (String) mapper.get(\"currentPassword\");\n\n    User currentUser = userService.findById(Long.valueOf(id));\n\n    if(currentUser == null) {\n        throw new Exception (\"User not found\");\n    }\n\n    if(userService.findByEmail(email) != null) {\n        if(userService.findByEmail(email).getId() != currentUser.getId()) {\n            return new ResponseEntity(\"Email not found!\", HttpStatus.BAD_REQUEST);\n        }\n    }\n\n    if(userService.findByUsername(username) != null) {\n        if(userService.findByUsername(username).getId() != currentUser.getId()) {\n            return new ResponseEntity(\"Username not found!\", HttpStatus.BAD_REQUEST);\n        }\n    }\n\n    SecurityConfig securityConfig = new SecurityConfig();\n\n\n        BCryptPasswordEncoder passwordEncoder = SecurityUtility.passwordEncoder();\n        String dbPassword = currentUser.getPassword();\n\n        if(null != currentPassword)\n        if(passwordEncoder.matches(currentPassword, dbPassword)) {\n            if(newPassword != null &amp;&amp; !newPassword.isEmpty() &amp;&amp; !newPassword.equals(\"\")) {\n                currentUser.setPassword(passwordEncoder.encode(newPassword));\n            }\n            currentUser.setEmail(email);\n        } else {\n            return new ResponseEntity(\"Incorrect current password!\", HttpStatus.BAD_REQUEST);\n        }\n\n\n    currentUser.setFirstName(firstName);\n    currentUser.setLastName(lastName);\n    currentUser.setUsername(username);\n\n\n    userService.save(currentUser);\n\n    return new ResponseEntity(\"Update Success\", HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23570176,"reputation":1,"user_id":17610404,"display_name":"Mohd Umer Faisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649396118,"creation_date":1649396118,"answer_id":71792106,"question_id":42693643,"body_markdown":"    PasswordRequest:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class PasswordRequest {\r\n    \t\r\n    \tprivate String oldPassword;\r\n    \tprivate String newPassword;\r\n    }\r\n\r\nController:\r\n\r\n    @PutMapping(&quot;/changePassword&quot;)\r\n    \tpublic ResponseEntity changePassword(@RequestBody PasswordRequest pwdRequest, Principal principal) {\r\n    \r\n    \t\tString LoggedInUserUsername=principal.getName();\r\n    \t\tUser currentUser=this.userRepository.findByUsername(LoggedInUserUsername);\r\n    \r\n    \t     if(pwdRequest.getNewPassword() != null &amp;&amp; !pwdRequest.getNewPassword().isEmpty() \r\n    \t    \t\t &amp;&amp; !pwdRequest.getNewPassword().equals(&quot;&quot;) &amp;&amp; !pwdRequest.getNewPassword().contains(&quot; &quot;)) {\r\n    \t    \t \r\n    \t    \tbCryptPasswordEncoder.matches(pwdRequest.getOldPassword(),currentUser.getPassword());//this will check old pwd fiels with current pwd \r\n    \r\n    \t\t\tcurrentUser.setPassword(bCryptPasswordEncoder.encode(pwdRequest.getNewPassword()));\r\n    \t\t\tuserRepository.save(currentUser);\r\n    \r\n    \t\t\treturn new ResponseEntity(&quot;Success&quot;, HttpStatus.OK); \r\n    \t\t}else {\r\n    \t\t\treturn new ResponseEntity(&quot;Somthing went wrong&quot;, HttpStatus.BAD_REQUEST); \r\n    \t\t}\r\n    \t}\r\n    \t\r\n\r\n","title":"Updating user info (Spring boot)","body":"<pre><code>PasswordRequest:\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class PasswordRequest {\n    \n    private String oldPassword;\n    private String newPassword;\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PutMapping(&quot;/changePassword&quot;)\n    public ResponseEntity changePassword(@RequestBody PasswordRequest pwdRequest, Principal principal) {\n\n        String LoggedInUserUsername=principal.getName();\n        User currentUser=this.userRepository.findByUsername(LoggedInUserUsername);\n\n         if(pwdRequest.getNewPassword() != null &amp;&amp; !pwdRequest.getNewPassword().isEmpty() \n                 &amp;&amp; !pwdRequest.getNewPassword().equals(&quot;&quot;) &amp;&amp; !pwdRequest.getNewPassword().contains(&quot; &quot;)) {\n             \n            bCryptPasswordEncoder.matches(pwdRequest.getOldPassword(),currentUser.getPassword());//this will check old pwd fiels with current pwd \n\n            currentUser.setPassword(bCryptPasswordEncoder.encode(pwdRequest.getNewPassword()));\n            userRepository.save(currentUser);\n\n            return new ResponseEntity(&quot;Success&quot;, HttpStatus.OK); \n        }else {\n            return new ResponseEntity(&quot;Somthing went wrong&quot;, HttpStatus.BAD_REQUEST); \n        }\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":3925777,"reputation":156,"user_id":3246315,"accept_rate":73,"display_name":"Babak Gohardani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649396118,"creation_date":1489057380,"question_id":42693643,"body_markdown":"I have a entity class that contains userinfo :\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    @PasswordMatch(message=&quot;{register.repeatPassword.mismatch}&quot;) \r\n    @DynamicUpdate\r\n    public class SiteUser {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;email&quot;, unique=true)\r\n\t@Email(message=&quot;{register.email.invalid}&quot;) \r\n\t@NotBlank(message=&quot;{register.email.invalid}&quot;)\r\n\tprivate String email;\r\n\r\n\t@Transient  \r\n\t@Size(min=5, max=15, message=&quot;{register.password.size}&quot;)\r\n\tprivate String plainPassword;\r\n\t\r\n\t@Transient\r\n\tprivate String repeatPassword;\r\n\t\r\n\t@Column(name = &quot;password&quot;, length=60)\r\n\tprivate String password;\r\n\t\r\n\t@Column(name=&quot;enabled&quot;)\r\n\tprivate boolean enabled = false;\r\n\t\r\n\t@Column(name=&quot;role&quot;, length=20)\r\n\tprivate String role;\r\n\t\r\n\t@NotNull\r\n\t@Column(name=&quot;firstname&quot;, length=20)\r\n\t@Size(min=2, max=20, message=&quot;{register.firstname.size}&quot;)\r\n\tprivate String firstname;\r\n\r\n\t@NotNull\r\n\t@Column(name=&quot;surname&quot;, length=25)\r\n\t@Size(min=2, max=25, message=&quot;{register.surname.size}&quot;)\r\n\tprivate String surname;\r\n\t\r\n\tpublic SiteUser() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic SiteUser(String email, String password, String firstname, String surname) {\r\n\t\tthis.email = email;\r\n\t\tthis.setPlainPassword(password);\r\n\t\tthis.repeatPassword = password;\r\n\t\tthis.enabled= true;\r\n\t\tthis.firstname= firstname;\r\n\t\tthis.surname= surname;\r\n\t}\r\n\t\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\t\r\n\tpublic String getRole() {\r\n\t\treturn role;\r\n\t}\r\n\r\n\tpublic void setRole(String role) {\r\n\t\tthis.role = role;\r\n\t}\r\n\r\n\tpublic String getPlainPassword() {\r\n\t\treturn plainPassword;\r\n\t}\r\n\r\n\tpublic void setPlainPassword(String plainPassword) {\r\n\t\tthis.password = new BCryptPasswordEncoder().encode(plainPassword);\r\n\t\tthis.plainPassword = plainPassword;\r\n\t}\r\n\r\n\tpublic String getRepeatPassword() {\r\n\t\treturn repeatPassword;\r\n\t}\r\n\r\n\tpublic void setRepeatPassword(String repeatPassword) {\r\n\t\tthis.repeatPassword = repeatPassword;\r\n\t}\r\n\r\n\tpublic boolean isEnabled() {\r\n\t\treturn enabled;\r\n\t}\r\n\r\n\tpublic void setEnabled(boolean enabled) {\r\n\t\tthis.enabled = enabled;\r\n\t}\r\n\r\n\tpublic String getFirstname() {\r\n\t\treturn firstname;\r\n\t}\r\n\r\n\tpublic void setFirstname(String firstname) {\r\n\t\tthis.firstname = firstname;\r\n\t}\r\n\r\n\tpublic String getSurname() {\r\n\t\treturn surname;\r\n\t}\r\n\r\n\tpublic void setSurname(String surname) {\r\n\t\tthis.surname = surname;\r\n\t}\r\n    }\r\n\r\nMy problem is that for registering users I added unique and @NotBlank annotations to my email and firstname / lastname columns so now that I want to only update my password I have 2 problems\r\n\r\n1- I have to add other fields as hidden in the update form since they can&#39;t be empty\r\n\r\n2- when i try to update my data using save() method of the Dao I get an error that there is same email in database.\r\n\r\nIs there any kind of logical solution for this issue?\r\n\r\n====================Update=========================\r\n\r\nController :\r\n\r\n    @RequestMapping(value =&quot;/resetPassword&quot;, method = RequestMethod.GET)\r\n\tModelAndView resetPasswordMailRecieved(ModelAndView modelAndView,           @RequestParam(&quot;t&quot;) String tokenString) {\r\n\t\t\r\n\t\tVerificationToken token = userService.getVerificationToken(tokenString);\r\n\t\tSiteUser user = token.getUser();\r\n\r\n\t\tif(token == null)\r\n\t\t{\r\n\t\t\tmodelAndView.setViewName(&quot;redirect:/invalidUser&quot;);\r\n\t\t\treturn modelAndView;\r\n\t\t}\r\n\t\t\r\n\t\tDate expirydate = token.getExpiry();\r\n\t\t\r\n\t\tif(expirydate.before(new Date()))\r\n\t\t{\r\n\t\t\tmodelAndView.setViewName(&quot;redirect:/expiredToken&quot;);\r\n\t\t\tuserService.deleteToken(token);\r\n\t\t\treturn modelAndView;\r\n\t\t}\r\n\t\t\r\n\t\tuserService.deleteToken(token);\r\n\t\tmodelAndView.getModel().put(&quot;user&quot;, user);\r\n\t\tmodelAndView.setViewName(&quot;app.resetPass&quot;);\r\n\t\treturn modelAndView;\r\n\t}\r\n\r\njSP file :\r\n\r\n    &lt;form:form method=&quot;post&quot; modelAttribute=&quot;user&quot; class=&quot;login-form&quot;&gt;\r\n\r\n\t\t\t\t\t&lt;form:input type=&quot;hidden&quot; path=&quot;firstname&quot; /&gt;\r\n\t\t\t\t\t&lt;form:input type=&quot;hidden&quot; path=&quot;surname&quot; /&gt;\r\n\t\t\t\t\t&lt;form:input type=&quot;hidden&quot; path=&quot;email&quot; /&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;div class=&quot;input-group&quot;&gt;\r\n\t\t\t\t\t\t&lt;form:input type=&quot;password&quot; path=&quot;plainPassword&quot;\r\n\t\t\t\t\t\t\tplaceholder=&quot;Password&quot; class=&quot;form-control&quot; /&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t&lt;div class=&quot;input-group&quot;&gt;\r\n\t\t\t\t\t\t&lt;form:input path=&quot;repeatPassword&quot; type=&quot;password&quot;\r\n\t\t\t\t\t\t\tplaceholder=&quot;Repeat password&quot; class=&quot;form-control&quot; /&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t\t&lt;div class=&quot;input-group&quot;&gt;\r\n\t\t\t\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn-primary pull-right&quot;&gt;Change\r\n\t\t\t\t\t\t\tPassword&lt;/button&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/form:form&gt;\r\n\r\nUserDao :\r\n\r\n    @Repository\r\n    public interface UserDao extends CrudRepository&lt;SiteUser, Long&gt; { \r\n\t   SiteUser findByEmail(String email);\r\n    }\r\n\r\nUserService :\r\n\r\n\r\n    @Service \r\n    public class UserService implements UserDetailsService {\r\n\t@Autowired\r\n\tprivate UserDao userDao;\r\n\r\n\t@Autowired\r\n\tPasswordEncoder encoder;\r\n\t\r\n\t@Autowired \r\n\tprivate VerificationDao verificationDao; \r\n\r\n\tpublic void register(SiteUser user) {\r\n\t\tuser.setRole(&quot;ROLE_USER&quot;);\r\n\t\tuserDao.save(user);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n\t\tSiteUser user = userDao.findByEmail(email);\r\n\r\n\t\tif (user == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tList&lt;GrantedAuthority&gt; auth = AuthorityUtils.commaSeparatedStringToAuthorityList(user.getRole());\r\n\r\n\t\tString password = user.getPassword();\r\n\t\tboolean enabled = user.isEnabled();\r\n\r\n\r\n\t\treturn new User(email, password, enabled, true, true, true, auth);\r\n\t}\r\n\t\r\n\tpublic void save(SiteUser user)\r\n\t{\r\n\t\tuserDao.save(user);\r\n\t}\r\n\t\r\n\tpublic void updatePass(SiteUser user,String pass){\r\n\t\tuser.setPlainPassword(pass);\r\n\t}\r\n\t\r\n\tpublic String createEmailVerificationToken(SiteUser user)\r\n\t{\r\n\r\n\t\tVerificationToken token = new VerificationToken(UUID.randomUUID().toString(), user, TokenType.REGISTRATION);\r\n\t\tverificationDao.save(token);\r\n\t\treturn token.getToken();  \r\n\t}\r\n\t\r\n\tpublic String createPasswordResetVerificationToken(SiteUser user)\r\n\t{\r\n\t\tVerificationToken token = new VerificationToken(UUID.randomUUID().toString(), user, TokenType.PASSWORD_RESET);\r\n\t\tverificationDao.save(token);\r\n\t\treturn token.getToken();\r\n\t}\r\n\t\r\n\tpublic VerificationToken getVerificationToken(String token)\r\n\t{\r\n\t\treturn verificationDao.findByToken(token);\r\n\t}\r\n\r\n\tpublic void deleteToken(VerificationToken token) {\r\n\t\tverificationDao.delete(token);\r\n\t}\r\n\r\n\tpublic SiteUser get(String email) {\r\n\t\t\r\n\t\treturn userDao.findByEmail(email);\r\n\t}\r\n\r\n\tpublic SiteUser get(Long id) {\r\n\r\n\t\treturn userDao.findOne(id);\r\n\t}\r\n}\r\n\r\n\r\n","title":"Updating user info (Spring boot)","body":"<p>I have a entity class that contains userinfo :</p>\n\n<pre><code>@Entity\n@Table(name = \"user\")\n@PasswordMatch(message=\"{register.repeatPassword.mismatch}\") \n@DynamicUpdate\npublic class SiteUser {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = \"id\")\nprivate Long id;\n\n@Column(name = \"email\", unique=true)\n@Email(message=\"{register.email.invalid}\") \n@NotBlank(message=\"{register.email.invalid}\")\nprivate String email;\n\n@Transient  \n@Size(min=5, max=15, message=\"{register.password.size}\")\nprivate String plainPassword;\n\n@Transient\nprivate String repeatPassword;\n\n@Column(name = \"password\", length=60)\nprivate String password;\n\n@Column(name=\"enabled\")\nprivate boolean enabled = false;\n\n@Column(name=\"role\", length=20)\nprivate String role;\n\n@NotNull\n@Column(name=\"firstname\", length=20)\n@Size(min=2, max=20, message=\"{register.firstname.size}\")\nprivate String firstname;\n\n@NotNull\n@Column(name=\"surname\", length=25)\n@Size(min=2, max=25, message=\"{register.surname.size}\")\nprivate String surname;\n\npublic SiteUser() {\n\n}\n\npublic SiteUser(String email, String password, String firstname, String surname) {\n    this.email = email;\n    this.setPlainPassword(password);\n    this.repeatPassword = password;\n    this.enabled= true;\n    this.firstname= firstname;\n    this.surname= surname;\n}\n\npublic Long getId() {\n    return id;\n}\n\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getRole() {\n    return role;\n}\n\npublic void setRole(String role) {\n    this.role = role;\n}\n\npublic String getPlainPassword() {\n    return plainPassword;\n}\n\npublic void setPlainPassword(String plainPassword) {\n    this.password = new BCryptPasswordEncoder().encode(plainPassword);\n    this.plainPassword = plainPassword;\n}\n\npublic String getRepeatPassword() {\n    return repeatPassword;\n}\n\npublic void setRepeatPassword(String repeatPassword) {\n    this.repeatPassword = repeatPassword;\n}\n\npublic boolean isEnabled() {\n    return enabled;\n}\n\npublic void setEnabled(boolean enabled) {\n    this.enabled = enabled;\n}\n\npublic String getFirstname() {\n    return firstname;\n}\n\npublic void setFirstname(String firstname) {\n    this.firstname = firstname;\n}\n\npublic String getSurname() {\n    return surname;\n}\n\npublic void setSurname(String surname) {\n    this.surname = surname;\n}\n}\n</code></pre>\n\n<p>My problem is that for registering users I added unique and @NotBlank annotations to my email and firstname / lastname columns so now that I want to only update my password I have 2 problems</p>\n\n<p>1- I have to add other fields as hidden in the update form since they can't be empty</p>\n\n<p>2- when i try to update my data using save() method of the Dao I get an error that there is same email in database.</p>\n\n<p>Is there any kind of logical solution for this issue?</p>\n\n<p>====================Update=========================</p>\n\n<p>Controller :</p>\n\n<pre><code>@RequestMapping(value =\"/resetPassword\", method = RequestMethod.GET)\nModelAndView resetPasswordMailRecieved(ModelAndView modelAndView,           @RequestParam(\"t\") String tokenString) {\n\n    VerificationToken token = userService.getVerificationToken(tokenString);\n    SiteUser user = token.getUser();\n\n    if(token == null)\n    {\n        modelAndView.setViewName(\"redirect:/invalidUser\");\n        return modelAndView;\n    }\n\n    Date expirydate = token.getExpiry();\n\n    if(expirydate.before(new Date()))\n    {\n        modelAndView.setViewName(\"redirect:/expiredToken\");\n        userService.deleteToken(token);\n        return modelAndView;\n    }\n\n    userService.deleteToken(token);\n    modelAndView.getModel().put(\"user\", user);\n    modelAndView.setViewName(\"app.resetPass\");\n    return modelAndView;\n}\n</code></pre>\n\n<p>jSP file :</p>\n\n<pre><code>&lt;form:form method=\"post\" modelAttribute=\"user\" class=\"login-form\"&gt;\n\n                &lt;form:input type=\"hidden\" path=\"firstname\" /&gt;\n                &lt;form:input type=\"hidden\" path=\"surname\" /&gt;\n                &lt;form:input type=\"hidden\" path=\"email\" /&gt;\n\n                &lt;div class=\"input-group\"&gt;\n                    &lt;form:input type=\"password\" path=\"plainPassword\"\n                        placeholder=\"Password\" class=\"form-control\" /&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"input-group\"&gt;\n                    &lt;form:input path=\"repeatPassword\" type=\"password\"\n                        placeholder=\"Repeat password\" class=\"form-control\" /&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"input-group\"&gt;\n                    &lt;button type=\"submit\" class=\"btn-primary pull-right\"&gt;Change\n                        Password&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form:form&gt;\n</code></pre>\n\n<p>UserDao :</p>\n\n<pre><code>@Repository\npublic interface UserDao extends CrudRepository&lt;SiteUser, Long&gt; { \n   SiteUser findByEmail(String email);\n}\n</code></pre>\n\n<p>UserService :</p>\n\n<pre><code>@Service \npublic class UserService implements UserDetailsService {\n@Autowired\nprivate UserDao userDao;\n\n@Autowired\nPasswordEncoder encoder;\n\n@Autowired \nprivate VerificationDao verificationDao; \n\npublic void register(SiteUser user) {\n    user.setRole(\"ROLE_USER\");\n    userDao.save(user);\n}\n\n@Override\npublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n    SiteUser user = userDao.findByEmail(email);\n\n    if (user == null) {\n        return null;\n    }\n\n    List&lt;GrantedAuthority&gt; auth = AuthorityUtils.commaSeparatedStringToAuthorityList(user.getRole());\n\n    String password = user.getPassword();\n    boolean enabled = user.isEnabled();\n\n\n    return new User(email, password, enabled, true, true, true, auth);\n}\n\npublic void save(SiteUser user)\n{\n    userDao.save(user);\n}\n\npublic void updatePass(SiteUser user,String pass){\n    user.setPlainPassword(pass);\n}\n\npublic String createEmailVerificationToken(SiteUser user)\n{\n\n    VerificationToken token = new VerificationToken(UUID.randomUUID().toString(), user, TokenType.REGISTRATION);\n    verificationDao.save(token);\n    return token.getToken();  \n}\n\npublic String createPasswordResetVerificationToken(SiteUser user)\n{\n    VerificationToken token = new VerificationToken(UUID.randomUUID().toString(), user, TokenType.PASSWORD_RESET);\n    verificationDao.save(token);\n    return token.getToken();\n}\n\npublic VerificationToken getVerificationToken(String token)\n{\n    return verificationDao.findByToken(token);\n}\n\npublic void deleteToken(VerificationToken token) {\n    verificationDao.delete(token);\n}\n\npublic SiteUser get(String email) {\n\n    return userDao.findByEmail(email);\n}\n\npublic SiteUser get(Long id) {\n\n    return userDao.findOne(id);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","uml","diagram"],"comments":[{"owner":{"account_id":2296898,"reputation":12966,"user_id":2018133,"accept_rate":100,"display_name":"Geert Bellekens"},"score":1,"creation_date":1572420307,"post_id":58616557,"comment_id":103549170,"body_markdown":"I&#39;m afraid the answer to your question is &quot;buy a UML book or follow a course&quot;. UML is a language. You can&#39;t just swing it, you have to actually learn it to understand.","body":"I&#39;m afraid the answer to your question is &quot;buy a UML book or follow a course&quot;. UML is a language. You can&#39;t just swing it, you have to actually learn it to understand."},{"owner":{"account_id":7177885,"reputation":5820,"user_id":5483079,"accept_rate":60,"display_name":"www.admiraalit.nl"},"score":1,"creation_date":1572439719,"post_id":58616557,"comment_id":103559026,"body_markdown":"``List&lt;Ident&gt;`` means a list of objects that implement interface ``Ident``, for example instances of ``Account``. The list may refer to a mix of instances of various classes, as long as all these classes implement ``Ident``.","body":"<code>List&lt;Ident&gt;</code> means a list of objects that implement interface <code>Ident</code>, for example instances of <code>Account</code>. The list may refer to a mix of instances of various classes, as long as all these classes implement <code>Ident</code>."},{"owner":{"account_id":15491140,"reputation":95,"user_id":11175563,"display_name":"AtMakeIT"},"score":0,"creation_date":1572612594,"post_id":58616557,"comment_id":103622118,"body_markdown":"thanks for the replies! I am reading books and following a course already, but as it is the case with every language you do not undertand all of its details immediatly. Since I have not found the two described cases in my studying material yet I decided to ask to get a hint. \nthanks www.admiraalit.nl, now this makes it clearer how I have to interpret the List&lt;Ident&gt; variable!","body":"thanks for the replies! I am reading books and following a course already, but as it is the case with every language you do not undertand all of its details immediatly. Since I have not found the two described cases in my studying material yet I decided to ask to get a hint.  thanks www.admiraalit.nl, now this makes it clearer how I have to interpret the List&lt;Ident&gt; variable!"}],"answers":[{"tags":[],"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1572430806,"creation_date":1572430806,"answer_id":58623152,"question_id":58616557,"body_markdown":"What Geert said. Anyhow:\r\n\r\n- Ask the author of the UML why he capitalized `AccountCounts`. As you assumed it&#39;s a static local attribute.\r\n- Multiplicity can be expressed in many ways. If you have low multiplicities you can instantiate a `var1`, `var2`, etc. Or you use lists as you did.\r\n- The names you marked are names of the association (which I never found very useful for my modeling). They probably should be role names but they aren&#39;t. If so they need to be near the far end (here to the right) and have a visibility indicator (`+`+, `-`, etc.) in front.","title":"UML to Java code - Multiplicity Indicator and capitalized variable","body":"<p>What Geert said. Anyhow:</p>\n\n<ul>\n<li>Ask the author of the UML why he capitalized <code>AccountCounts</code>. As you assumed it's a static local attribute.</li>\n<li>Multiplicity can be expressed in many ways. If you have low multiplicities you can instantiate a <code>var1</code>, <code>var2</code>, etc. Or you use lists as you did.</li>\n<li>The names you marked are names of the association (which I never found very useful for my modeling). They probably should be role names but they aren't. If so they need to be near the far end (here to the right) and have a visibility indicator (<code>+</code>+, <code>-</code>, etc.) in front.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21897634,"reputation":17,"user_id":16183716,"display_name":"Dulanjana Gamage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649396059,"creation_date":1649396059,"answer_id":71792100,"question_id":58616557,"body_markdown":"**Multiplicities or Cardinalities**\r\n\r\n - 1 to 0..n means that 1 manager can have zero or many accounts (same with the other association relationship as well).\r\n\r\n**Labels on Association lines**\r\n - The labels on the line indicate the nature of the interaction of one class with the other. In most cases, it is recommended to use a verb on the line as a label.(eg:&#39;accounts&#39; on the association relationship from Manager to Account)\r\n\r\n**AccountCounts**\r\n - The reason &#39;AccountCounts&#39; in the Account class is underlined is because it is treated as a variable and not as an attribute. From my experience with converting UML class diagrams to code, I believe you need to store the number of Account instances created in the &#39;AccontCounts&#39; variable. But it is advisable to read your case study and understand what is required. \r\n\r\n*Please use these resources to help you understand OOP and UML diagrams better*\r\n**Sage (2019). Concise Guide to Object-Oriented Programming** ","title":"UML to Java code - Multiplicity Indicator and capitalized variable","body":"<p><strong>Multiplicities or Cardinalities</strong></p>\n<ul>\n<li>1 to 0..n means that 1 manager can have zero or many accounts (same with the other association relationship as well).</li>\n</ul>\n<p><strong>Labels on Association lines</strong></p>\n<ul>\n<li>The labels on the line indicate the nature of the interaction of one class with the other. In most cases, it is recommended to use a verb on the line as a label.(eg:'accounts' on the association relationship from Manager to Account)</li>\n</ul>\n<p><strong>AccountCounts</strong></p>\n<ul>\n<li>The reason 'AccountCounts' in the Account class is underlined is because it is treated as a variable and not as an attribute. From my experience with converting UML class diagrams to code, I believe you need to store the number of Account instances created in the 'AccontCounts' variable. But it is advisable to read your case study and understand what is required.</li>\n</ul>\n<p><em>Please use these resources to help you understand OOP and UML diagrams better</em>\n<strong>Sage (2019). Concise Guide to Object-Oriented Programming</strong></p>\n"}],"owner":{"account_id":15491140,"reputation":95,"user_id":11175563,"display_name":"AtMakeIT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58623152,"answer_count":2,"score":0,"last_activity_date":1649396059,"creation_date":1572390243,"question_id":58616557,"body_markdown":"I am learning UML and I need to transform a given UML diagram to java code. I already created the Manager class, the Account class and the Ident interface. \r\n\r\nI marked the parts that i do not understand yet in yellow. Concerning the Account class i do not understand what AccountCounts is. I thought it could be a private static int  instance variable, but it makes no sense that it is written with an uppercase letter at the beginning then. \r\nSo i thought it is an inner class, but this does not make sense neither. \r\n\r\nI also do not know if it is possible to represent the multiplicity in code. I get the idea that 1 Manager Object can use multiple Objects of the type Account. But i am not sure how 1 Manager Object can work with Ident Objects, since this is an interface. I can&#39;t even create an instance of an Interface, can i?\r\n\r\nThanks in advance.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y3Q73.png","title":"UML to Java code - Multiplicity Indicator and capitalized variable","body":"<p>I am learning UML and I need to transform a given UML diagram to java code. I already created the Manager class, the Account class and the Ident interface. </p>\n\n<p>I marked the parts that i do not understand yet in yellow. Concerning the Account class i do not understand what AccountCounts is. I thought it could be a private static int  instance variable, but it makes no sense that it is written with an uppercase letter at the beginning then. \nSo i thought it is an inner class, but this does not make sense neither. </p>\n\n<p>I also do not know if it is possible to represent the multiplicity in code. I get the idea that 1 Manager Object can use multiple Objects of the type Account. But i am not sure how 1 Manager Object can work with Ident Objects, since this is an interface. I can't even create an instance of an Interface, can i?</p>\n\n<p>Thanks in advance.</p>\n\n<p><a href=\"https://i.stack.imgur.com/y3Q73.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y3Q73.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","encryption","cryptography","rsa","pkcs#8"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1534461794,"post_id":51883324,"comment_id":90724488,"body_markdown":"It&#39;s clear that snippet cannot represent what&#39;s going on, because it doesn&#39;t compile. Please create a valid minimal, complete, and verifiable example. Compile and run it yourself and make sure it works before posting it. You can create a test private key that you only use for this example, and post that.","body":"It&#39;s clear that snippet cannot represent what&#39;s going on, because it doesn&#39;t compile. Please create a valid minimal, complete, and verifiable example. Compile and run it yourself and make sure it works before posting it. You can create a test private key that you only use for this example, and post that."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":5,"creation_date":1534462559,"post_id":51883324,"comment_id":90724641,"body_markdown":"[JCE parsing of PBES2Parameters is buggy.](https://bugs.openjdk.java.net/browse/JDK-8076999) If you have or get BouncyCastle it works correctly for this, and is covered by existing Qs e.g. https://stackoverflow.com/questions/46767281/reading-pkcs8-in-pem-format-cannot-find-provider . Alternatively, Suncle will work if you create or re-create your PKCS8 to use a NON-PBES2 scheme: PKCS5-PBES1 schemes are mostly weak, but PKCS12-PBE are mostly okay. Or you could write the ASN.1 parsing yourself, but that&#39;s not easy.","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8076999\" rel=\"nofollow noreferrer\">JCE parsing of PBES2Parameters is buggy.</a> If you have or get BouncyCastle it works correctly for this, and is covered by existing Qs e.g. <a href=\"https://stackoverflow.com/questions/46767281/reading-pkcs8-in-pem-format-cannot-find-provider\" title=\"reading pkcs8 in pem format cannot find provider\">stackoverflow.com/questions/46767281/&hellip;</a> . Alternatively, Suncle will work if you create or re-create your PKCS8 to use a NON-PBES2 scheme: PKCS5-PBES1 schemes are mostly weak, but PKCS12-PBE are mostly okay. Or you could write the ASN.1 parsing yourself, but that&#39;s not easy."},{"owner":{"account_id":7879957,"reputation":340,"user_id":6558660,"accept_rate":80,"display_name":"srujzs"},"score":1,"creation_date":1534473926,"post_id":51883324,"comment_id":90726658,"body_markdown":"Edited to make the example compile-able. @dave_thompson_085, I think that might be the case because I&#39;ve tried re-encrypting the key with the passphrase after I decrypted it using openssl and then provided that new encrypted key to the EncryptePrivateKeyInfo which works.","body":"Edited to make the example compile-able. @dave_thompson_085, I think that might be the case because I&#39;ve tried re-encrypting the key with the passphrase after I decrypted it using openssl and then provided that new encrypted key to the EncryptePrivateKeyInfo which works."}],"answers":[{"tags":[],"owner":{"account_id":6087998,"reputation":21,"user_id":4751294,"display_name":"user4751294"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649395060,"creation_date":1649395060,"answer_id":71791995,"question_id":51883324,"body_markdown":"I&#39;ve got the same error when tying to use a keystore generated with x64 JDK&#39;s keytool for java app run with x32 JVM. Changing JVM to x64 helped.","title":"Why can EncryptedPrivateKeyInfo not read my PKCS#8 encrypted private key in Java?","body":"<p>I've got the same error when tying to use a keystore generated with x64 JDK's keytool for java app run with x32 JVM. Changing JVM to x64 helped.</p>\n"}],"owner":{"account_id":7879957,"reputation":340,"user_id":6558660,"accept_rate":80,"display_name":"srujzs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1649395060,"creation_date":1534444280,"question_id":51883324,"body_markdown":"I&#39;m trying to decrypt a password-encrypted private key in Java, and I&#39;ve come across this [previous question][1], but when I try the same, I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = 48)\r\n\tat sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257)\r\n\tat sun.security.util.DerInputStream.getOID(DerInputStream.java:314)\r\n\tat com.sun.crypto.provider.PBES2Parameters.engineInit(PBES2Parameters.java:267)\r\n\tat java.security.AlgorithmParameters.init(AlgorithmParameters.java:293)\r\n\tat sun.security.x509.AlgorithmId.decodeParams(AlgorithmId.java:132)\r\n\tat sun.security.x509.AlgorithmId.&lt;init&gt;(AlgorithmId.java:114)\r\n\tat sun.security.x509.AlgorithmId.parse(AlgorithmId.java:372)\r\n\tat javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:95)\r\n\tat TestDecryptKey.main(TestDecryptKey.java:65)\r\n\r\nwhere TestDecryptKey.java is my test file. Here&#39;s a snippet of what I&#39;m doing:\r\n    \r\n    import javax.crypto.EncryptedPrivateKeyInfo;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import java.util.Base64;\r\n    import java.security.GeneralSecurityException;\r\n    import java.io.IOException;\r\n\r\n    public class TestDecryptKey {\r\n      public static void main(String[] args) throws GeneralSecurityException, IOException {\r\n        String encryptedBase64PrivateKey = &quot;MII...&quot;;\r\n        String password = &quot;...&quot;;\r\n        byte[] encryptedPrivateKey = Base64.getDecoder().decode(encryptedBase64PrivateKey.getBytes(&quot;UTF-8&quot;));\r\n        PBEKeySpec pbeSpec = new PBEKeySpec(password.toCharArray());\r\n        // Exception is thrown here\r\n        EncryptedPrivateKeyInfo encryptedPrivateKeyInfo = new EncryptedPrivateKeyInfo(encryptedPrivateKey);\r\n     }\r\n    }\r\n\r\nI&#39;m assuming it&#39;s claiming that the encrypted key data I&#39;ve provided isn&#39;t a valid encrypted key, but openssl disagrees. I saved the Base64 string with the header and footer &quot;-----BEGIN ENCRYPTED PRIVATE KEY-----&quot; and &quot;-----END ENCRYPTED PRIVATE KEY-----&quot; as the file &quot;pem_key&quot; and using the following command and the password from above:\r\n\r\n    openssl pkcs8 -inform pem -in pem_key -outform der\r\n\r\nI&#39;m able to output the decrypted key bytes. Where am I going wrong?\r\n\r\n  [1]: https://stackoverflow.com/questions/32306081/how-to-decrypt-a-private-key-in-java-without-bc-openssl","title":"Why can EncryptedPrivateKeyInfo not read my PKCS#8 encrypted private key in Java?","body":"<p>I'm trying to decrypt a password-encrypted private key in Java, and I've come across this <a href=\"https://stackoverflow.com/questions/32306081/how-to-decrypt-a-private-key-in-java-without-bc-openssl\">previous question</a>, but when I try the same, I get the following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: ObjectIdentifier() -- data isn't an object ID (tag = 48)\nat sun.security.util.ObjectIdentifier.&lt;init&gt;(ObjectIdentifier.java:257)\nat sun.security.util.DerInputStream.getOID(DerInputStream.java:314)\nat com.sun.crypto.provider.PBES2Parameters.engineInit(PBES2Parameters.java:267)\nat java.security.AlgorithmParameters.init(AlgorithmParameters.java:293)\nat sun.security.x509.AlgorithmId.decodeParams(AlgorithmId.java:132)\nat sun.security.x509.AlgorithmId.&lt;init&gt;(AlgorithmId.java:114)\nat sun.security.x509.AlgorithmId.parse(AlgorithmId.java:372)\nat javax.crypto.EncryptedPrivateKeyInfo.&lt;init&gt;(EncryptedPrivateKeyInfo.java:95)\nat TestDecryptKey.main(TestDecryptKey.java:65)\n</code></pre>\n\n<p>where TestDecryptKey.java is my test file. Here's a snippet of what I'm doing:</p>\n\n<pre><code>import javax.crypto.EncryptedPrivateKeyInfo;\nimport javax.crypto.spec.PBEKeySpec;\nimport java.util.Base64;\nimport java.security.GeneralSecurityException;\nimport java.io.IOException;\n\npublic class TestDecryptKey {\n  public static void main(String[] args) throws GeneralSecurityException, IOException {\n    String encryptedBase64PrivateKey = \"MII...\";\n    String password = \"...\";\n    byte[] encryptedPrivateKey = Base64.getDecoder().decode(encryptedBase64PrivateKey.getBytes(\"UTF-8\"));\n    PBEKeySpec pbeSpec = new PBEKeySpec(password.toCharArray());\n    // Exception is thrown here\n    EncryptedPrivateKeyInfo encryptedPrivateKeyInfo = new EncryptedPrivateKeyInfo(encryptedPrivateKey);\n }\n}\n</code></pre>\n\n<p>I'm assuming it's claiming that the encrypted key data I've provided isn't a valid encrypted key, but openssl disagrees. I saved the Base64 string with the header and footer \"-----BEGIN ENCRYPTED PRIVATE KEY-----\" and \"-----END ENCRYPTED PRIVATE KEY-----\" as the file \"pem_key\" and using the following command and the password from above:</p>\n\n<pre><code>openssl pkcs8 -inform pem -in pem_key -outform der\n</code></pre>\n\n<p>I'm able to output the decrypted key bytes. Where am I going wrong?</p>\n"},{"tags":["java","spring","api","rest","multifile-uploader"],"comments":[{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1649249891,"post_id":71767086,"comment_id":126827597,"body_markdown":"Is it specifically excel or csv? Can the user upload excel workbook with multiple sheets inside it?","body":"Is it specifically excel or csv? Can the user upload excel workbook with multiple sheets inside it?"},{"owner":{"account_id":399900,"reputation":67,"user_id":765563,"accept_rate":44,"display_name":"User"},"score":0,"creation_date":1649250160,"post_id":71767086,"comment_id":126827725,"body_markdown":"It&#39;s excel workbook with xls or xlsx extension. The work book can have multiple sheets","body":"It&#39;s excel workbook with xls or xlsx extension. The work book can have multiple sheets"},{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1649250813,"post_id":71767086,"comment_id":126828037,"body_markdown":"Then you would need some java library to easily handle the file data. Do you have anything in mind? Apache POI? JExcel?","body":"Then you would need some java library to easily handle the file data. Do you have anything in mind? Apache POI? JExcel?"},{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1649251408,"post_id":71767086,"comment_id":126828317,"body_markdown":"And for the validation rules, you can usually specify most of the validations in java code itself. Why do you think a DB is necessary? Answering this question will be really difficult with all these factors involved. The question is more generic.","body":"And for the validation rules, you can usually specify most of the validations in java code itself. Why do you think a DB is necessary? Answering this question will be really difficult with all these factors involved. The question is more generic."},{"owner":{"account_id":399900,"reputation":67,"user_id":765563,"accept_rate":44,"display_name":"User"},"score":0,"creation_date":1649251917,"post_id":71767086,"comment_id":126828571,"body_markdown":"Have thought of using Apache POI.","body":"Have thought of using Apache POI."},{"owner":{"account_id":399900,"reputation":67,"user_id":765563,"accept_rate":44,"display_name":"User"},"score":0,"creation_date":1649252003,"post_id":71767086,"comment_id":126828607,"body_markdown":"Validation rules can be saved in database, Luike for column xyz, we need to perform data type, data length, mandatory field etc validations. Java program can read the rules from database and then perform them on the Excel Inputstream.   My question is, is database good option to store validation rules? Or should the valudation rules can be captured in java program itself","body":"Validation rules can be saved in database, Luike for column xyz, we need to perform data type, data length, mandatory field etc validations. Java program can read the rules from database and then perform them on the Excel Inputstream.   My question is, is database good option to store validation rules? Or should the valudation rules can be captured in java program itself"},{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1649266782,"post_id":71767086,"comment_id":126834832,"body_markdown":"I don&#39;t think that storing in DB adds any value.","body":"I don&#39;t think that storing in DB adds any value."}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649394766,"creation_date":1649394015,"answer_id":71791885,"question_id":71767086,"body_markdown":"You should not validate it in the browser, since browser-execution can be hacked. But you can provide a template-download. The template-download would be a partialy protected excel-file. Here you can predefine some rules (readonly-areas, basic validation, instructions for handling and restrictions).\r\n\r\nYou should validate it primarily in the server (single-responsibility-principle). The best way to validate it is while uploading. If the validation of the currently uploading excel-file failed, the upload must be rejected having a meaningfull message. Excel-files that are not validated should never be stored in the database (because it would violate data-integrity-principle). Notice: If there is a requirement to store the unvalidated excel-file as a &quot;draft&quot; to validate/complete it later, a second database should be created decoupled from the main database to store these &quot;draft&quot; informations.\r\n\r\nIn every case, excel-files should not be part of the main-database as binary streams! The information **in** the excel-files must be stored in the main-database, but not the excel-file **itself**.","title":"Best design pattern to perform excel valudation in java","body":"<p>You should not validate it in the browser, since browser-execution can be hacked. But you can provide a template-download. The template-download would be a partialy protected excel-file. Here you can predefine some rules (readonly-areas, basic validation, instructions for handling and restrictions).</p>\n<p>You should validate it primarily in the server (single-responsibility-principle). The best way to validate it is while uploading. If the validation of the currently uploading excel-file failed, the upload must be rejected having a meaningfull message. Excel-files that are not validated should never be stored in the database (because it would violate data-integrity-principle). Notice: If there is a requirement to store the unvalidated excel-file as a &quot;draft&quot; to validate/complete it later, a second database should be created decoupled from the main database to store these &quot;draft&quot; informations.</p>\n<p>In every case, excel-files should not be part of the main-database as binary streams! The information <strong>in</strong> the excel-files must be stored in the main-database, but not the excel-file <strong>itself</strong>.</p>\n"}],"owner":{"account_id":399900,"reputation":67,"user_id":765563,"accept_rate":44,"display_name":"User"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649394766,"creation_date":1649249465,"question_id":71767086,"body_markdown":"User is uploading a excel workbook in an application. As part of business logic, we need to perform data validations (mandatory fields, data type, length, enum etc). There are more than 100 columns in one Excel sheet and the data validations needs to be performed for all the columns of the records. Each column has roughly 10 validations. The frontend is developed in React and business layer is a java rest api. \r\n\r\nWhere can be the best way to store the validation rules? \r\n\r\nOption 1: can we store the validation rules in database and then write some generic framework in java which can read the rules from database and do the valudation ?\r\n\r\nOption 2: can we convert the excel into json and then validate it against json schema ?\r\n\r\nAlso need to keep watch on the performance impact.\r\n\r\nAny other better option?\r\n","title":"Best design pattern to perform excel valudation in java","body":"<p>User is uploading a excel workbook in an application. As part of business logic, we need to perform data validations (mandatory fields, data type, length, enum etc). There are more than 100 columns in one Excel sheet and the data validations needs to be performed for all the columns of the records. Each column has roughly 10 validations. The frontend is developed in React and business layer is a java rest api.</p>\n<p>Where can be the best way to store the validation rules?</p>\n<p>Option 1: can we store the validation rules in database and then write some generic framework in java which can read the rules from database and do the valudation ?</p>\n<p>Option 2: can we convert the excel into json and then validate it against json schema ?</p>\n<p>Also need to keep watch on the performance impact.</p>\n<p>Any other better option?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649394338,"post_id":71791912,"comment_id":126868889,"body_markdown":"What exact problem are you having doing this?","body":"What exact problem are you having doing this?"},{"owner":{"account_id":11012431,"reputation":1620,"user_id":8089312,"display_name":"Osca"},"score":0,"creation_date":1649394379,"post_id":71791912,"comment_id":126868892,"body_markdown":"that&#39;s all the information I got","body":"that&#39;s all the information I got"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1649394432,"post_id":71791912,"comment_id":126868906,"body_markdown":"It is only the declaration of the class variable *name*","body":"It is only the declaration of the class variable <i>name</i>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1649395481,"post_id":71791912,"comment_id":126869085,"body_markdown":"&quot;What&#39;s the String name; at the end of class A ?&quot; It&#39;s a field. Try indenting the code normally and it should become more obvious.","body":"&quot;What&#39;s the String name; at the end of class A ?&quot; It&#39;s a field. Try indenting the code normally and it should become more obvious."}],"answers":[{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1649394700,"creation_date":1649394700,"answer_id":71791962,"question_id":71791912,"body_markdown":"You can add a constructor in `B`, which calls its parent&#39;s constructor.\r\n\r\n```java\r\nB() {\r\n   super(&quot;Cell&quot;);\r\n}\r\n```\r\n\r\nAnd the following is the complete code:\r\n\r\n```java\r\nclass A {\r\n    String name;\r\n    A(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\nclass B extends A {\r\n    B() {\r\n        super(&quot;Cell&quot;);\r\n    }\r\n}\r\npublic class Exercise {\r\n    public static void main(String[] args) {\r\n        assert (new B().name.equals(&quot;Cell&quot;));\r\n    }\r\n}\r\n```","title":"Java inheritance questions","body":"<p>You can add a constructor in <code>B</code>, which calls its parent's constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>B() {\n   super(&quot;Cell&quot;);\n}\n</code></pre>\n<p>And the following is the complete code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    String name;\n    A(String name) {\n        this.name = name;\n    }\n}\nclass B extends A {\n    B() {\n        super(&quot;Cell&quot;);\n    }\n}\npublic class Exercise {\n    public static void main(String[] args) {\n        assert (new B().name.equals(&quot;Cell&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11012431,"reputation":1620,"user_id":8089312,"display_name":"Osca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1649396910,"accepted_answer_id":71791962,"answer_count":1,"score":-4,"last_activity_date":1649394700,"creation_date":1649394284,"question_id":71791912,"body_markdown":"I&#39;m new to java and trying to solve this question. I need to answer the `???` part in the code to make it returns true.\r\n\r\nI cannot parse the syntax of class A. What&#39;s the `String name;` at the end of class A ?\r\n```\r\nclass A{A(String name){this.name=name;}String name;}\r\nclass B extends A{[???]}\r\npublic class Exercise{\r\n  public static void main(String [] arg){\r\n    assert (new B().name.equals(&quot;Cell&quot;));\r\n  }\r\n}\r\n```","title":"Java inheritance questions","body":"<p>I'm new to java and trying to solve this question. I need to answer the <code>???</code> part in the code to make it returns true.</p>\n<p>I cannot parse the syntax of class A. What's the <code>String name;</code> at the end of class A ?</p>\n<pre><code>class A{A(String name){this.name=name;}String name;}\nclass B extends A{[???]}\npublic class Exercise{\n  public static void main(String [] arg){\n    assert (new B().name.equals(&quot;Cell&quot;));\n  }\n}\n</code></pre>\n"},{"tags":["java","tensorflow","ubuntu","jvm","unsatisfiedlinkerror"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649414335,"post_id":71791929,"comment_id":126874810,"body_markdown":"`System.out.println(System.getProperty(&quot;java.library.path&quot;));` What does that give you? The native library must be in one of those paths\nhttps://javabydeveloper.com/gradle-system-properties-via-command-line-step-by-step-example/","body":"<code>System.out.println(System.getProperty(&quot;java.library.path&quot;));</code> What does that give you? The native library must be in one of those paths <a href=\"https://javabydeveloper.com/gradle-system-properties-via-command-line-step-by-step-example/\" rel=\"nofollow noreferrer\">javabydeveloper.com/&hellip;</a>"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1651104291,"post_id":71791929,"comment_id":127285869,"body_markdown":"Please set the &quot;org.bytedeco.javacpp.logger.debug&quot; system property to &quot;true&quot; to get more information on the console.","body":"Please set the &quot;org.bytedeco.javacpp.logger.debug&quot; system property to &quot;true&quot; to get more information on the console."}],"owner":{"account_id":14904112,"reputation":105,"user_id":10762045,"display_name":"Dalton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1631,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1649394408,"creation_date":1649394408,"question_id":71791929,"body_markdown":"Goal: I&#39;m trying to build and run a gradle project that includes [TensorFlow&#39;s JVM libray](https://www.tensorflow.org/jvm). I&#39;m currently running on fresh Ubuntu 21.10 64bit server.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jnitensorflow in java.library.path: [/usr/java/packages/lib, /usr/lib/aarch64-linux-gnu/jni, /lib/aarch64-linux-gnu, /usr/lib/aarch64-linux-gnu, /usr/lib/jni, /lib, /usr/lib]\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2670)\r\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\r\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1738)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1345)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1157)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1133)\r\n        at org.tensorflow.internal.c_api.global.tensorflow.&lt;clinit&gt;(tensorflow.java:12)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:398)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1212)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1157)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1149)\r\n        at org.tensorflow.NativeLibrary.load(NativeLibrary.java:48)\r\n        at org.tensorflow.TensorFlow.&lt;clinit&gt;(TensorFlow.java:140)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:315)\r\n        at org.tensorflow.Graph.&lt;clinit&gt;(Graph.java:1341)\r\n        at org.ornatebyte.Test.main(Test.java:15)\r\nCaused by: java.lang.UnsatisfiedLinkError: Could not find jnitensorflow in class, module, and library paths.\r\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1705)\r\n        ... 15 more\r\n```\r\n\r\nWhat I&#39;ve tried: Including Libtensorflow JNI in dependencies, adding dependencies to jar, removing the redownloading dependencies, adding and referencing local jars for dependencies, and changing different TensorFlow versions.\r\n\r\n\r\ngradle.build\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.1.2&quot;\r\n}\r\n\r\ngroup &#39;org.ornatebyte&#39;\r\nversion &#39;1.0&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    flatDir {\r\n        dirs &#39;libs&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n\r\n    implementation group: &#39;org.tensorflow&#39;, name: &#39;tensorflow-core-platform&#39;, version: &#39;0.4.0&#39;\r\n    //implementation group: &#39;org.tensorflow&#39;, name: &#39;tensorflow-framework&#39;, version: &#39;0.4.0&#39;\r\n    implementation &#39;org.tensorflow:libtensorflow_jni:1.15.0&#39;\r\n\r\n\r\n}\r\n\r\n\r\njar {\r\n    manifest {\r\n        attributes(\r\n                &#39;Main-Class&#39;: &#39;org.ornatebyte.Test&#39;\r\n        )\r\n    }\r\n    from {\r\n        configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n```\r\n\r\nTest script:\r\n```\r\npackage org.ornatebyte;\r\n\r\n\r\nimport org.tensorflow.Graph;\r\nimport org.tensorflow.Operand;\r\nimport org.tensorflow.Session;\r\nimport org.tensorflow.op.Ops;\r\n\r\n\r\nimport org.tensorflow.types.TInt32;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n\r\n        try(Graph graph = new Graph()) {\r\n            Ops tf = Ops.create(graph);\r\n\r\n            Operand x = tf.constant(1);\r\n            Operand y = tf.constant(5);\r\n\r\n            Operand sum = tf.math.add(x, y);\r\n\r\n            try(Session session = new Session(graph)){\r\n                System.out.println(&quot;The result is:  &quot;+((TInt32) session.runner().fetch(sum)\r\n                        .run().get(0)).getInt());\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Done&quot;);\r\n    }\r\n}\r\n```","title":"java.lang.UnsatisfiedLinkError: no jnitensorflow in java.library.path Tensorflow JVM","body":"<p>Goal: I'm trying to build and run a gradle project that includes <a href=\"https://www.tensorflow.org/jvm\" rel=\"nofollow noreferrer\">TensorFlow's JVM libray</a>. I'm currently running on fresh Ubuntu 21.10 64bit server.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no jnitensorflow in java.library.path: [/usr/java/packages/lib, /usr/lib/aarch64-linux-gnu/jni, /lib/aarch64-linux-gnu, /usr/lib/aarch64-linux-gnu, /usr/lib/jni, /lib, /usr/lib]\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2670)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1738)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1345)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1157)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1133)\n        at org.tensorflow.internal.c_api.global.tensorflow.&lt;clinit&gt;(tensorflow.java:12)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1212)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1157)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1149)\n        at org.tensorflow.NativeLibrary.load(NativeLibrary.java:48)\n        at org.tensorflow.TensorFlow.&lt;clinit&gt;(TensorFlow.java:140)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:315)\n        at org.tensorflow.Graph.&lt;clinit&gt;(Graph.java:1341)\n        at org.ornatebyte.Test.main(Test.java:15)\nCaused by: java.lang.UnsatisfiedLinkError: Could not find jnitensorflow in class, module, and library paths.\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1705)\n        ... 15 more\n</code></pre>\n<p>What I've tried: Including Libtensorflow JNI in dependencies, adding dependencies to jar, removing the redownloading dependencies, adding and referencing local jars for dependencies, and changing different TensorFlow versions.</p>\n<p>gradle.build</p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;com.github.johnrengelman.shadow&quot; version &quot;7.1.2&quot;\n}\n\ngroup 'org.ornatebyte'\nversion '1.0'\n\nrepositories {\n    mavenCentral()\n    flatDir {\n        dirs 'libs'\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n\n    implementation group: 'org.tensorflow', name: 'tensorflow-core-platform', version: '0.4.0'\n    //implementation group: 'org.tensorflow', name: 'tensorflow-framework', version: '0.4.0'\n    implementation 'org.tensorflow:libtensorflow_jni:1.15.0'\n\n\n}\n\n\njar {\n    manifest {\n        attributes(\n                'Main-Class': 'org.ornatebyte.Test'\n        )\n    }\n    from {\n        configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n<p>Test script:</p>\n<pre><code>package org.ornatebyte;\n\n\nimport org.tensorflow.Graph;\nimport org.tensorflow.Operand;\nimport org.tensorflow.Session;\nimport org.tensorflow.op.Ops;\n\n\nimport org.tensorflow.types.TInt32;\n\npublic class Test {\n    public static void main(String[] args) {\n\n        try(Graph graph = new Graph()) {\n            Ops tf = Ops.create(graph);\n\n            Operand x = tf.constant(1);\n            Operand y = tf.constant(5);\n\n            Operand sum = tf.math.add(x, y);\n\n            try(Session session = new Session(graph)){\n                System.out.println(&quot;The result is:  &quot;+((TInt32) session.runner().fetch(sum)\n                        .run().get(0)).getInt());\n            }\n        }\n\n        System.out.println(&quot;Done&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":8424997,"reputation":702,"user_id":6322588,"display_name":"m_vemuri"},"score":0,"creation_date":1649394593,"post_id":71791910,"comment_id":126868939,"body_markdown":"You&#39;ve created a dataset of type `person`. So you can only refer to the Dataset as `Dataset&lt;Person&gt;`, both at compile time and run-time. You cannot use the child class to refer to it after creation.","body":"You&#39;ve created a dataset of type <code>person</code>. So you can only refer to the Dataset as <code>Dataset&lt;Person&gt;</code>, both at compile time and run-time. You cannot use the child class to refer to it after creation."},{"owner":{"account_id":19789009,"reputation":9,"user_id":14492378,"display_name":"CHAITANYA PRASAD"},"score":0,"creation_date":1649394867,"post_id":71791910,"comment_id":126868987,"body_markdown":"I want to refer to structure of child class while creating the dataset. Dataset of Person should have structure of it&#39;s child classes also when creating it. I want to know how we can achive that","body":"I want to refer to structure of child class while creating the dataset. Dataset of Person should have structure of it&#39;s child classes also when creating it. I want to know how we can achive that"},{"owner":{"account_id":8424997,"reputation":702,"user_id":6322588,"display_name":"m_vemuri"},"score":0,"creation_date":1649395041,"post_id":71791910,"comment_id":126869016,"body_markdown":"I don&#39;t believe you can do that. Only a parent can replace a child class without a compile time or run-time error. Not the other way around. If your child class has a member variable that is not in the parent, it would throw a class cast exception.","body":"I don&#39;t believe you can do that. Only a parent can replace a child class without a compile time or run-time error. Not the other way around. If your child class has a member variable that is not in the parent, it would throw a class cast exception."}],"owner":{"account_id":19789009,"reputation":9,"user_id":14492378,"display_name":"CHAITANYA PRASAD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649394276,"creation_date":1649394276,"question_id":71791910,"body_markdown":"Consider a class called Person.\r\nWe can create a dataset for it like\r\nDataset&lt;Person&gt; dateset = sqlContext.createDataset(list, Encoders.bean(Person.class));\r\n\r\nThe syntax above is not completely correct but I am taking just an example\r\n\r\nNow I want to refer tot he structure of a child class of Person while creating this dataset. how can that be done?","title":"Creating dataset object using child class of custom class","body":"<p>Consider a class called Person.\nWe can create a dataset for it like\nDataset dateset = sqlContext.createDataset(list, Encoders.bean(Person.class));</p>\n<p>The syntax above is not completely correct but I am taking just an example</p>\n<p>Now I want to refer tot he structure of a child class of Person while creating this dataset. how can that be done?</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":4930762,"reputation":1103,"user_id":3970630,"accept_rate":75,"display_name":"Ric17101"},"score":0,"creation_date":1649380933,"post_id":71787943,"comment_id":126866971,"body_markdown":"Needs some java code as well","body":"Needs some java code as well"}],"answers":[{"tags":[],"owner":{"display_name":"user18481390"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649393891,"creation_date":1649393891,"answer_id":71791866,"question_id":71787943,"body_markdown":"First, Make sure that you want to navigate different `fragment` or `layout`. If you want to navigate different `fragment` then add all IDs of `sidemenu.xml` in `mobile_navigation.xml` (make `sidemenu.xml` and `mobile_navigation.xml` id same) and if you know how to? then please add code of your `navigation`&gt;`mobile_navigation.xml` and also code of MainActivity. Because half code cannot solve any problem.","title":"Not able to select options from side menu and navigate to different screens","body":"<p>First, Make sure that you want to navigate different <code>fragment</code> or <code>layout</code>. If you want to navigate different <code>fragment</code> then add all IDs of <code>sidemenu.xml</code> in <code>mobile_navigation.xml</code> (make <code>sidemenu.xml</code> and <code>mobile_navigation.xml</code> id same) and if you know how to? then please add code of your <code>navigation</code>&gt;<code>mobile_navigation.xml</code> and also code of MainActivity. Because half code cannot solve any problem.</p>\n"}],"owner":{"account_id":24665222,"reputation":1,"user_id":18560998,"display_name":"shruti pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649393891,"creation_date":1649359939,"question_id":71787943,"body_markdown":"I have made one dashboard screen in that screen I added side bar navigation so for this I made sidemenu.xml and headerfile.xml and I added these both sidemenu.xml and headerfile.xml to dashboard.xml now I want when I click on any options from side bar navigation it should navigate to their respective screens.\r\n\r\n**sidemenu.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        //menu one\r\n        &lt;group android:checkableBehavior=&quot;single&quot;&gt;\r\n    \r\n            &lt;item\r\n    \r\n                android:id=&quot;@+id/profile_menu&quot;\r\n                android:icon=&quot;@drawable/profile&quot;\r\n                android:title=&quot;Profile&quot; /&gt;\r\n    \r\n            &lt;item\r\n    \r\n                android:id=&quot;@+id/home_menu&quot;\r\n                android:icon=&quot;@drawable/ic_outline_home_24&quot;\r\n                android:title=&quot;Home&quot; /&gt;\r\n    \r\n            &lt;item\r\n                android:id=&quot;@+id/dashboard_menu&quot;\r\n                android:icon=&quot;@drawable/ic_outline_dashboard_24&quot;\r\n                android:title=&quot;Dashboard&quot; /&gt;\r\n    \r\n            &lt;item\r\n                android:id=&quot;@+id/services_icon&quot;\r\n                android:icon=&quot;@drawable/ic_outline_miscellaneous_services_24&quot;\r\n                android:title=&quot;Services&quot; /&gt;\r\n    \r\n        &lt;/group&gt;\r\n        // menu two\r\n        &lt;group\r\n    \r\n            android:checkableBehavior=&quot;single&quot;&gt;\r\n    \r\n            &lt;item android:title=&quot;Authentication&quot;&gt;\r\n    \r\n    \r\n                &lt;menu&gt;\r\n    \r\n                    &lt;item\r\n                        android:id=&quot;@+id/login_menu&quot;\r\n                        android:icon=&quot;@drawable/ic_baseline_login_24&quot;\r\n                        android:title=&quot;Login&quot; /&gt;\r\n    \r\n                    &lt;item\r\n                        android:id=&quot;@+id/logout_menu&quot;\r\n                        android:icon=&quot;@drawable/ic_outline_logout_24&quot;\r\n                        android:title=&quot;Logout&quot; /&gt;\r\n    \r\n    \r\n                &lt;/menu&gt;\r\n            &lt;/item&gt;\r\n    \r\n        &lt;/group&gt;\r\n    \r\n        //menu three\r\n    \r\n        &lt;item android:title=&quot;Sharing&quot;&gt;\r\n    \r\n    \r\n            &lt;menu&gt;\r\n    \r\n                &lt;item\r\n                    android:id=&quot;@+id/share_menu&quot;\r\n                    android:icon=&quot;@drawable/ic_baseline_share_24&quot;\r\n                    android:title=&quot;Share&quot; /&gt;\r\n    \r\n                &lt;item\r\n                    android:id=&quot;@+id/refer_menu&quot;\r\n                    android:icon=&quot;@drawable/ic_baseline_send_24&quot;\r\n                    android:title=&quot;Refer&quot; /&gt;\r\n    \r\n    \r\n            &lt;/menu&gt;\r\n        &lt;/item&gt;\r\n    \r\n    \r\n    &lt;/menu&gt;\r\n\r\n**activity_dashboard.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawerlayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:context=&quot;.dashboard&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/navigationview&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:headerLayout=&quot;@layout/headerfile&quot;\r\n            app:menu=&quot;@menu/sidemenu&quot; /&gt;\r\n\r\n","title":"Not able to select options from side menu and navigate to different screens","body":"<p>I have made one dashboard screen in that screen I added side bar navigation so for this I made sidemenu.xml and headerfile.xml and I added these both sidemenu.xml and headerfile.xml to dashboard.xml now I want when I click on any options from side bar navigation it should navigate to their respective screens.</p>\n<p><strong>sidemenu.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    //menu one\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\n\n        &lt;item\n\n            android:id=&quot;@+id/profile_menu&quot;\n            android:icon=&quot;@drawable/profile&quot;\n            android:title=&quot;Profile&quot; /&gt;\n\n        &lt;item\n\n            android:id=&quot;@+id/home_menu&quot;\n            android:icon=&quot;@drawable/ic_outline_home_24&quot;\n            android:title=&quot;Home&quot; /&gt;\n\n        &lt;item\n            android:id=&quot;@+id/dashboard_menu&quot;\n            android:icon=&quot;@drawable/ic_outline_dashboard_24&quot;\n            android:title=&quot;Dashboard&quot; /&gt;\n\n        &lt;item\n            android:id=&quot;@+id/services_icon&quot;\n            android:icon=&quot;@drawable/ic_outline_miscellaneous_services_24&quot;\n            android:title=&quot;Services&quot; /&gt;\n\n    &lt;/group&gt;\n    // menu two\n    &lt;group\n\n        android:checkableBehavior=&quot;single&quot;&gt;\n\n        &lt;item android:title=&quot;Authentication&quot;&gt;\n\n\n            &lt;menu&gt;\n\n                &lt;item\n                    android:id=&quot;@+id/login_menu&quot;\n                    android:icon=&quot;@drawable/ic_baseline_login_24&quot;\n                    android:title=&quot;Login&quot; /&gt;\n\n                &lt;item\n                    android:id=&quot;@+id/logout_menu&quot;\n                    android:icon=&quot;@drawable/ic_outline_logout_24&quot;\n                    android:title=&quot;Logout&quot; /&gt;\n\n\n            &lt;/menu&gt;\n        &lt;/item&gt;\n\n    &lt;/group&gt;\n\n    //menu three\n\n    &lt;item android:title=&quot;Sharing&quot;&gt;\n\n\n        &lt;menu&gt;\n\n            &lt;item\n                android:id=&quot;@+id/share_menu&quot;\n                android:icon=&quot;@drawable/ic_baseline_share_24&quot;\n                android:title=&quot;Share&quot; /&gt;\n\n            &lt;item\n                android:id=&quot;@+id/refer_menu&quot;\n                android:icon=&quot;@drawable/ic_baseline_send_24&quot;\n                android:title=&quot;Refer&quot; /&gt;\n\n\n        &lt;/menu&gt;\n    &lt;/item&gt;\n\n\n&lt;/menu&gt;\n</code></pre>\n<p><strong>activity_dashboard.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawerlayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.dashboard&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/navigationview&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:headerLayout=&quot;@layout/headerfile&quot;\n        app:menu=&quot;@menu/sidemenu&quot; /&gt;\n</code></pre>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":5,"creation_date":1384505330,"post_id":19996911,"comment_id":29772671,"body_markdown":"Including the thread id in a log file is fairly common practice, and it&#39;s very helpful for some multi-threaded applications.","body":"Including the thread id in a log file is fairly common practice, and it&#39;s very helpful for some multi-threaded applications."},{"owner":{"account_id":1268721,"reputation":2821,"user_id":1225463,"accept_rate":43,"display_name":"benjamin.d"},"score":0,"creation_date":1384506138,"post_id":19996911,"comment_id":29773018,"body_markdown":"I will also add the session id (if you app is web based).","body":"I will also add the session id (if you app is web based)."}],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649393503,"creation_date":1384505578,"answer_id":19997005,"question_id":19996911,"body_markdown":"Log4j already supports the thread name using `t` placeholder in its [pattern layout][1]. So this is a supported feature that you should use if you find it useful. This way you don&#39;t need to pass the thread name manually. However it doesn&#39;t make use of the thread ID. So you should give meaningful names to your threads. This should be preferred as it is more indicative to what is going on in your application than just plain thread ids.\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/manual/layouts.html","title":"Is it fine to do logs in java class with thread id?","body":"<p>Log4j already supports the thread name using <code>t</code> placeholder in its <a href=\"http://logging.apache.org/log4j/2.x/manual/layouts.html\" rel=\"nofollow noreferrer\">pattern layout</a>. So this is a supported feature that you should use if you find it useful. This way you don't need to pass the thread name manually. However it doesn't make use of the thread ID. So you should give meaningful names to your threads. This should be preferred as it is more indicative to what is going on in your application than just plain thread ids.</p>\n"},{"tags":[],"owner":{"account_id":3045270,"reputation":3818,"user_id":2581128,"display_name":"lkamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384505579,"creation_date":1384505579,"answer_id":19997006,"question_id":19996911,"body_markdown":"If it is the thread id, please refer [this answer][1]\r\n\r\nHowever if you only need the thread name, you can use the `t` pattern configuration, please refer [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14360510/2581128\r\n  [2]: http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html","title":"Is it fine to do logs in java class with thread id?","body":"<p>If it is the thread id, please refer <a href=\"https://stackoverflow.com/a/14360510/2581128\">this answer</a></p>\n\n<p>However if you only need the thread name, you can use the <code>t</code> pattern configuration, please refer <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/PatternLayout.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2454118,"reputation":880,"user_id":2139708,"accept_rate":100,"display_name":"Linus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384505954,"creation_date":1384505954,"answer_id":19997102,"question_id":19996911,"body_markdown":"If you are using Java Logger API - LogRecord has method getThreadID() and can be configured to log.\r\n\r\nFor log4j there are no ThreadId methods available and No harm in logging it. \r\nIn cases If your class inherits from Thread, you can use methods getName and setName to name each thread. Otherwise you could just add a name field to MyTask, and initialize it in your constructor And use a more sensible Thread Name instead of ID.\r\n","title":"Is it fine to do logs in java class with thread id?","body":"<p>If you are using Java Logger API - LogRecord has method getThreadID() and can be configured to log.</p>\n\n<p>For log4j there are no ThreadId methods available and No harm in logging it. \nIn cases If your class inherits from Thread, you can use methods getName and setName to name each thread. Otherwise you could just add a name field to MyTask, and initialize it in your constructor And use a more sensible Thread Name instead of ID.</p>\n"},{"tags":[],"owner":{"account_id":2070624,"reputation":1205,"user_id":1845200,"accept_rate":25,"display_name":"Manish Doshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384506342,"creation_date":1384506342,"answer_id":19997226,"question_id":19996911,"body_markdown":"Logback has a special appender called **SiftingAppender** which provides a very nice solution to the type of problems you describe. A SiftingAppender can be used to separate (or sift) logging according to any runtime attribute, including thread id\r\n\r\nIf your concern is about several JVMs writing to the same FileAppender, then i&#39;d suggest two things:\r\n\r\n - using SLF4J as a logging facade \r\n - using logback as logging implementation, in prudent mode\r\n\r\n&gt; In prudent mode, FileAppender will safely write to the specified   \r\n&gt; file, even in the presence of other FileAppender instances running in \r\n&gt; different JVMs, potentially running on different hosts.\r\n\r\nRefer this: http://logback.qos.ch/manual/appenders.html#SiftingAppender\r\n\r\n","title":"Is it fine to do logs in java class with thread id?","body":"<p>Logback has a special appender called <strong>SiftingAppender</strong> which provides a very nice solution to the type of problems you describe. A SiftingAppender can be used to separate (or sift) logging according to any runtime attribute, including thread id</p>\n\n<p>If your concern is about several JVMs writing to the same FileAppender, then i'd suggest two things:</p>\n\n<ul>\n<li>using SLF4J as a logging facade </li>\n<li>using logback as logging implementation, in prudent mode</li>\n</ul>\n\n<blockquote>\n  <p>In prudent mode, FileAppender will safely write to the specified<br>\n  file, even in the presence of other FileAppender instances running in \n  different JVMs, potentially running on different hosts.</p>\n</blockquote>\n\n<p>Refer this: <a href=\"http://logback.qos.ch/manual/appenders.html#SiftingAppender\" rel=\"nofollow\">http://logback.qos.ch/manual/appenders.html#SiftingAppender</a></p>\n"}],"owner":{"account_id":1567262,"reputation":5791,"user_id":1455772,"accept_rate":50,"display_name":"Asela"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19997005,"answer_count":4,"score":2,"last_activity_date":1649393503,"creation_date":1384505246,"question_id":19996911,"body_markdown":"When we add logs in to the java class (using log4j), Is it fine to add thread id with that log messages?  is it a bad practice? My idea was to add this thread id; Once we examine a log file of a multithreaded application, it is difficult to find out the correct flow using logs. (As an example, say authentication flow). Is there any better approach for this rather than logging thread id? ","title":"Is it fine to do logs in java class with thread id?","body":"<p>When we add logs in to the java class (using log4j), Is it fine to add thread id with that log messages?  is it a bad practice? My idea was to add this thread id; Once we examine a log file of a multithreaded application, it is difficult to find out the correct flow using logs. (As an example, say authentication flow). Is there any better approach for this rather than logging thread id? </p>\n"},{"tags":["java","string","ascii"],"answers":[{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649392492,"creation_date":1649392492,"answer_id":71791720,"question_id":71787740,"body_markdown":"Hex string usually double the size of byte array, so you can try this\r\n\r\n```\r\nString hex = &quot;BC0800AF&quot;;\r\nbyte[] raw = new byte[hex.length()/2];\r\nfor(int i=0;i&lt;hex.length()/2;i+=2) {\r\n   char c = hex.charAt(i);\r\n   char c1 = hex.charAt(i+1);\r\n   raw[i] = (byte)((c &lt;&lt; 8) | c1);\r\n}\r\n```","title":"java equalent of HEXTORAW Function In Oracle","body":"<p>Hex string usually double the size of byte array, so you can try this</p>\n<pre><code>String hex = &quot;BC0800AF&quot;;\nbyte[] raw = new byte[hex.length()/2];\nfor(int i=0;i&lt;hex.length()/2;i+=2) {\n   char c = hex.charAt(i);\n   char c1 = hex.charAt(i+1);\n   raw[i] = (byte)((c &lt;&lt; 8) | c1);\n}\n</code></pre>\n"}],"owner":{"account_id":4107718,"reputation":141,"user_id":3371205,"accept_rate":80,"display_name":"pumper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649392492,"creation_date":1649358685,"question_id":71787740,"body_markdown":"Hi I want the java equalent of HEXTORAW Function In Oracle .in oracle you can use :\r\n```\r\nSELECT hextoraw(to_char(ascii(&#39;z&#39;))) from DUAL; \r\n```\r\nthat generates 0122 or use \r\n```\r\nSELECT hextoraw(to_char(ascii(&#39;C&#39;))) from DUAL; \r\n```\r\nwhich generates 67\r\nall methods that i found in java dont add left 0 to the ascii codes above 99 how can i solve this?\r\nthease are 2 of methods that i used:\r\n\r\n``` \r\n String key=&quot;zs01C&quot;;\r\n        IntStream intStream = key.codePoints();\r\n        String rawKey = intStream.mapToObj(c-&gt;Integer.toString(c)).collect(Collectors.joining());\r\n        System.out.println(&quot;Method1: &quot;+rawKey);\r\n        intStream = key.codePoints();\r\n\r\n        String rawKey2 = intStream.mapToObj(c-&gt;String.format(&quot;%2s&quot;, c).replace(&#39; &#39;, &#39;0&#39;)).collect(Collectors.joining());\r\n        System.out.println(&quot;Method2: &quot;+rawKey2);\r\n``` ","title":"java equalent of HEXTORAW Function In Oracle","body":"<p>Hi I want the java equalent of HEXTORAW Function In Oracle .in oracle you can use :</p>\n<pre><code>SELECT hextoraw(to_char(ascii('z'))) from DUAL; \n</code></pre>\n<p>that generates 0122 or use</p>\n<pre><code>SELECT hextoraw(to_char(ascii('C'))) from DUAL; \n</code></pre>\n<p>which generates 67\nall methods that i found in java dont add left 0 to the ascii codes above 99 how can i solve this?\nthease are 2 of methods that i used:</p>\n<pre><code> String key=&quot;zs01C&quot;;\n        IntStream intStream = key.codePoints();\n        String rawKey = intStream.mapToObj(c-&gt;Integer.toString(c)).collect(Collectors.joining());\n        System.out.println(&quot;Method1: &quot;+rawKey);\n        intStream = key.codePoints();\n\n        String rawKey2 = intStream.mapToObj(c-&gt;String.format(&quot;%2s&quot;, c).replace(' ', '0')).collect(Collectors.joining());\n        System.out.println(&quot;Method2: &quot;+rawKey2);\n</code></pre>\n"},{"tags":["java","arrays","swing","jpanel","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1556490683,"post_id":55895077,"comment_id":98446603,"body_markdown":"`s.paintComponent(g);` - NO, don&#39;t do this, there is never any reason why you should ever call a components `paint` method directly.  Instead, devise one or more classes which perform the required operations (ie `Box` which doesn&#39;t extend from a component, which has a &quot;draw&quot; method through which you can pass the `Graphics` context)","body":"<code>s.paintComponent(g);</code> - NO, don&#39;t do this, there is never any reason why you should ever call a components <code>paint</code> method directly.  Instead, devise one or more classes which perform the required operations (ie <code>Box</code> which doesn&#39;t extend from a component, which has a &quot;draw&quot; method through which you can pass the <code>Graphics</code> context)"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1556490762,"post_id":55895077,"comment_id":98446614,"body_markdown":"[This demonstrates the use of `AffineTransform#scale`](https://stackoverflow.com/questions/18396302/how-to-scale-image-using-getscaledinstance/18396317#18396317) which can be used to scale a `Graphics` context when dealing with pixel based renderings.  A &quot;better&quot; solution would be to scale the coordinates of the individual shapes, which is demonstrated [here](https://stackoverflow.com/questions/29067700/how-can-i-change-the-size-of-a-figure-made-in-java-graphics2d-with-a-slider/29067753#29067753)","body":"<a href=\"https://stackoverflow.com/questions/18396302/how-to-scale-image-using-getscaledinstance/18396317#18396317\">This demonstrates the use of <code>AffineTransform#scale</code></a> which can be used to scale a <code>Graphics</code> context when dealing with pixel based renderings.  A &quot;better&quot; solution would be to scale the coordinates of the individual shapes, which is demonstrated <a href=\"https://stackoverflow.com/questions/29067700/how-can-i-change-the-size-of-a-figure-made-in-java-graphics2d-with-a-slider/29067753#29067753\">here</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1556490935,"post_id":55895077,"comment_id":98446643,"body_markdown":"And if you&#39;d like to see a solution scaling based on a window size, your could look at [this example](https://stackoverflow.com/questions/30041397/how-to-paint-a-group-of-quadcurves-using-java-graphics2d/30042600#30042600)","body":"And if you&#39;d like to see a solution scaling based on a window size, your could look at <a href=\"https://stackoverflow.com/questions/30041397/how-to-paint-a-group-of-quadcurves-using-java-graphics2d/30042600#30042600\">this example</a>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1556491397,"post_id":55895077,"comment_id":98446718,"body_markdown":"You are using names like Shape, WIndow, and Rectangle for your own classes where  these are already defined in the Java  API (where Shape is an interface).  To avoid confusion you should change these. You should also check out [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) in the Java Tutorials.","body":"You are using names like Shape, WIndow, and Rectangle for your own classes where  these are already defined in the Java  API (where Shape is an interface).  To avoid confusion you should change these. You should also check out <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> in the Java Tutorials."}],"answers":[{"tags":[],"owner":{"account_id":9582474,"reputation":51,"user_id":7116502,"display_name":"GoldenBolt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1556492164,"creation_date":1556492164,"answer_id":55895227,"question_id":55895077,"body_markdown":"First of all, you should not add your JPanel to your window but set it as the ContentPane : `setContentPane(new DrawShape());`. Next, you should not repaint inside the loop but outside (at the end of your `paintComponent(Graphics g)` method for example). This way, the JPanel should be drawn again permanently.\r\nIf you need to change the size of your shapes depending on the window dimension, do it like that in your JPanel `paintComponent(Graphics g)` method:\r\n\r\n    //fill it with the shapes base sizes (index 0 = width, index 1 = height)\r\n    Map&lt;Shape,int[]&gt; shapeSizes = new HashMap&lt;Shape,int[]&gt;();\r\n    public void paintComponent(Graphics g) {\r\n    double widthCoeff = this.getWidth()/(double)Window.this.defaultWidth;\r\n    double heightCoeff = this.getHeight()/(double)Window.this.defaultHeight;\r\n    for (int i = 0; i&lt; paintList.size(); i++) {\r\n    Shape s = paintList.get(i);\r\n    int[] baseSize = shapeSizes.get(s);\r\n    int oldWidth = baseSize[0], oldHeight = baseSize[1];\r\n    int width = oldWidth*widthCoeff, height = oldHeight*heightCoeff;\r\n    //you can now give the shape its new width and height\r\n    }\r\n    }","title":"How to scale basic drawings?","body":"<p>First of all, you should not add your JPanel to your window but set it as the ContentPane : <code>setContentPane(new DrawShape());</code>. Next, you should not repaint inside the loop but outside (at the end of your <code>paintComponent(Graphics g)</code> method for example). This way, the JPanel should be drawn again permanently.\nIf you need to change the size of your shapes depending on the window dimension, do it like that in your JPanel <code>paintComponent(Graphics g)</code> method:</p>\n\n<pre><code>//fill it with the shapes base sizes (index 0 = width, index 1 = height)\nMap&lt;Shape,int[]&gt; shapeSizes = new HashMap&lt;Shape,int[]&gt;();\npublic void paintComponent(Graphics g) {\ndouble widthCoeff = this.getWidth()/(double)Window.this.defaultWidth;\ndouble heightCoeff = this.getHeight()/(double)Window.this.defaultHeight;\nfor (int i = 0; i&lt; paintList.size(); i++) {\nShape s = paintList.get(i);\nint[] baseSize = shapeSizes.get(s);\nint oldWidth = baseSize[0], oldHeight = baseSize[1];\nint width = oldWidth*widthCoeff, height = oldHeight*heightCoeff;\n//you can now give the shape its new width and height\n}\n}\n</code></pre>\n"}],"owner":{"account_id":15248139,"reputation":23,"user_id":11420297,"display_name":"B.Nary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":55895227,"answer_count":1,"score":-1,"last_activity_date":1649392361,"creation_date":1556490381,"question_id":55895077,"body_markdown":"I would like to have a list of shapes, that appears in my window. Whenever I&#39;m changing the size of the window, I would like to scale all of my drawings. \r\n\r\nI already prepared classes, that store information about random shapes in a list (rectangles, ovals, etc.). I have no problem with painting them all, but I can&#39;t deal with the scaling problem. My solutions don&#39;t change anything, or make all of shapes disappear.\r\n\r\n```\r\npublic class Shape extends JPanel{\r\n    int x, y,width,height,red,green,blue;\r\n    double scX, scY; //scale x and y\r\n\r\n    public Shape(int x, int y, int width, int height, int red, int green, int blue) {\r\n//...long constructor\r\n        scX=1;\r\n        scY=1;\r\n    }\r\n    void randomizeValues(){...}\r\n\r\n        void setScale(double x, double y) {\r\n        this.scX = x;\r\n        this.scY = y;\r\n    }\r\n}\r\n\r\npublic class Rectangle extends Shape{\r\n\r\n    public Rectangle(int x, int y, int width, int height, int red, int green, int blue) {\r\n        super(x, y, width, height, red, green, blue);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics graphics) {\r\n        super.paintComponent(graphics);\r\n        graphics.fillRect((int)(x*scX), (int)(y*scY), (int)(width*scX), (int)(height*scY));\r\n    }\r\n}\r\n\r\n\r\nclass Window extends JFrame {\r\n\r\n    int defaultWidth = 768;\r\n    int defaultHeight = 512;\r\n    List&lt;Shape&gt; paintList = new ArrayList&lt;&gt;();\r\n\r\n public Window() {\r\n        setTitle(&quot;Shape&quot;);\r\n        add(new DrawShape);\r\n        setSize(defaultWidth, defaultHeight);\r\n        setVisible(true);\r\n        setLocationRelativeTo(null);\r\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    }\r\n\r\nclass DrawShape extends JPanel {\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            for (int i = 0; i&lt; paintList.size(); i++) {\r\n                Shape s = paintList.get(i);\r\n                s.setScale(this.getWidth()/defaultWidth, this.getHeight()/defaultHeight);\r\n                s.paintComponent(g);\r\n            }\r\n   }\r\n}\r\n```\r\n\r\nHow to make a proper scale trick? Where should I multiply values, to make everything work good?","title":"How to scale basic drawings?","body":"<p>I would like to have a list of shapes, that appears in my window. Whenever I'm changing the size of the window, I would like to scale all of my drawings. </p>\n\n<p>I already prepared classes, that store information about random shapes in a list (rectangles, ovals, etc.). I have no problem with painting them all, but I can't deal with the scaling problem. My solutions don't change anything, or make all of shapes disappear.</p>\n\n<pre><code>public class Shape extends JPanel{\n    int x, y,width,height,red,green,blue;\n    double scX, scY; //scale x and y\n\n    public Shape(int x, int y, int width, int height, int red, int green, int blue) {\n//...long constructor\n        scX=1;\n        scY=1;\n    }\n    void randomizeValues(){...}\n\n        void setScale(double x, double y) {\n        this.scX = x;\n        this.scY = y;\n    }\n}\n\npublic class Rectangle extends Shape{\n\n    public Rectangle(int x, int y, int width, int height, int red, int green, int blue) {\n        super(x, y, width, height, red, green, blue);\n    }\n\n    @Override\n    protected void paintComponent(Graphics graphics) {\n        super.paintComponent(graphics);\n        graphics.fillRect((int)(x*scX), (int)(y*scY), (int)(width*scX), (int)(height*scY));\n    }\n}\n\n\nclass Window extends JFrame {\n\n    int defaultWidth = 768;\n    int defaultHeight = 512;\n    List&lt;Shape&gt; paintList = new ArrayList&lt;&gt;();\n\n public Window() {\n        setTitle(\"Shape\");\n        add(new DrawShape);\n        setSize(defaultWidth, defaultHeight);\n        setVisible(true);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    }\n\nclass DrawShape extends JPanel {\n        public void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            for (int i = 0; i&lt; paintList.size(); i++) {\n                Shape s = paintList.get(i);\n                s.setScale(this.getWidth()/defaultWidth, this.getHeight()/defaultHeight);\n                s.paintComponent(g);\n            }\n   }\n}\n</code></pre>\n\n<p>How to make a proper scale trick? Where should I multiply values, to make everything work good?</p>\n"},{"tags":["java","swing","jframe","jpanel","layout-manager"],"answers":[{"tags":[],"owner":{"account_id":6488047,"reputation":848,"user_id":5022959,"accept_rate":33,"display_name":"Nicola Uetz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1556566917,"creation_date":1556566917,"answer_id":55909823,"question_id":55909544,"body_markdown":"You have to set the JPanels size for it to be able to display Graphics.\r\n\r\n```java\r\nstatic class TornadoComponent extends JPanel {\r\n\r\n    public TornadoComponent() {\r\n        setPreferredSize(new Dimension(500, 500));\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        //Whatever\r\n    }\r\n}\r\n```\r\n\r\nAnd in order to trigger `paintComponent(Graphics g)` you have to add `tornado.repaint();` at the end of your `createComponents()` function.\r\n\r\n```\r\nprivate void createComponents() {\r\n    //All your components\r\n    panel.add(tornado);\r\n    add(panel);\r\n    tornado.repaint();\r\n}\r\n```\r\n\r\nNow the Polygon is shown but not at the right place (slightly off the image)\r\n\r\nTherefore we have to arrange your JPanels a bit:\r\n\r\n```java\r\n    private void createComponents() {\r\n        textBox = new JTextField(&quot;    &quot;);\r\n        submit = new JButton(&quot;Submit&quot;);\r\n        label = new JLabel(&quot;Please enter a windspeed:&quot;);\r\n        errorLabel = new JLabel(&quot;Error Message &quot; );\r\n\r\n        JPanel upper = new JPanel();\r\n        upper.setLayout(new BoxLayout(upper,BoxLayout.X_AXIS));\r\n        upper.add(label);\r\n        upper.add(textBox);\r\n        upper.add(submit);\r\n        upper.add(errorLabel);\r\n        JPanel lower = new JPanel();\r\n        lower.setLayout(new BoxLayout(lower,BoxLayout.X_AXIS));\r\n        lower.add(tornado);\r\n        JPanel over = new JPanel();\r\n        over.setLayout(new BoxLayout(over,BoxLayout.Y_AXIS));\r\n        over.add(upper);\r\n        over.add(lower);\r\n        add(over);\r\n        tornado.repaint();\r\n    }\r\n```\r\n\r\nBasically I make some boxes...\r\n\r\n```\r\nOver\r\n    Upper\r\n        ... your stuff with text\r\n    Lower\r\n        Our tornado\r\n```\r\n\r\nNow our tornado is the wrong way round...\r\n\r\n```\r\nint[] xPoints = {100,200,150};\r\nint[] yPoints = {0,0,150};\r\n```\r\n\r\nAnd voil&#224;:\r\n\r\n[![Tornado][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TKOtL.jpg\r\n\r\nWe just created a very basic tornado that is not aiming at anything :)\r\n\r\nIf you want to change the tornados position later you just have to recall `tornado.repaint();` and you are all set.","title":"How to add a JPanel graphic to a JFrame without covering the JFrame","body":"<p>You have to set the JPanels size for it to be able to display Graphics.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static class TornadoComponent extends JPanel {\n\n    public TornadoComponent() {\n        setPreferredSize(new Dimension(500, 500));\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        //Whatever\n    }\n}\n</code></pre>\n\n<p>And in order to trigger <code>paintComponent(Graphics g)</code> you have to add <code>tornado.repaint();</code> at the end of your <code>createComponents()</code> function.</p>\n\n<pre><code>private void createComponents() {\n    //All your components\n    panel.add(tornado);\n    add(panel);\n    tornado.repaint();\n}\n</code></pre>\n\n<p>Now the Polygon is shown but not at the right place (slightly off the image)</p>\n\n<p>Therefore we have to arrange your JPanels a bit:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    private void createComponents() {\n        textBox = new JTextField(\"    \");\n        submit = new JButton(\"Submit\");\n        label = new JLabel(\"Please enter a windspeed:\");\n        errorLabel = new JLabel(\"Error Message \" );\n\n        JPanel upper = new JPanel();\n        upper.setLayout(new BoxLayout(upper,BoxLayout.X_AXIS));\n        upper.add(label);\n        upper.add(textBox);\n        upper.add(submit);\n        upper.add(errorLabel);\n        JPanel lower = new JPanel();\n        lower.setLayout(new BoxLayout(lower,BoxLayout.X_AXIS));\n        lower.add(tornado);\n        JPanel over = new JPanel();\n        over.setLayout(new BoxLayout(over,BoxLayout.Y_AXIS));\n        over.add(upper);\n        over.add(lower);\n        add(over);\n        tornado.repaint();\n    }\n</code></pre>\n\n<p>Basically I make some boxes...</p>\n\n<pre><code>Over\n    Upper\n        ... your stuff with text\n    Lower\n        Our tornado\n</code></pre>\n\n<p>Now our tornado is the wrong way round...</p>\n\n<pre><code>int[] xPoints = {100,200,150};\nint[] yPoints = {0,0,150};\n</code></pre>\n\n<p>And voilà:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TKOtL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TKOtL.jpg\" alt=\"Tornado\"></a></p>\n\n<p>We just created a very basic tornado that is not aiming at anything :)</p>\n\n<p>If you want to change the tornados position later you just have to recall <code>tornado.repaint();</code> and you are all set.</p>\n"}],"owner":{"account_id":15839901,"reputation":21,"user_id":11428661,"display_name":"Jon Helak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":55909823,"answer_count":1,"score":1,"last_activity_date":1649392311,"creation_date":1556565456,"question_id":55909544,"body_markdown":"I&#39;m trying to add a small tornado graphic (upside down pyramid) to my Frame. I can get the tornado by adding it to the frame in the main method but when I do that all I see is the tornado graphic and not the GUI underneath it. \r\n\r\nSo, I&#39;m now trying to add the Tornado graphic to the frame when its created in the createComponents method but it now doesn&#39;t appear at all. Instead all I can see it the GUI in the frame.\r\n\r\nI&#39; probably missing something easy but I can&#39;t seem to figure it out. I&#39;m not sure what I need to to in order to get the GUI and the tornado graphic both to appear. \r\n\r\n        public class EFScaleViewer {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\tTornadoFrame frame = new TornadoFrame();\r\n        \t\t\r\n        \t\tframe.setTitle(&quot;EF Scale&quot;);\r\n        \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \t    frame.setVisible(true);  \r\n        \t}\r\n    }\r\n\r\nHere is where I create the frame and am trying to add the tornado:\r\n\r\n    public class TornadoFrame extends JFrame{\r\n    \t\r\n    \tprivate JButton submit;\r\n    \tprivate JLabel label;\r\n    \tstatic JLabel errorLabel;\r\n    \tstatic JTextField textBox;   \r\n    \tJPanel tornado = new TornadoComponent();\r\n    \t\r\n    \tprivate static final int FRAME_WIDTH = 400;\r\n    \tprivate static final int FRAME_HEIGHT = 300;\r\n    \t\r\n    \t//Constructor for the frame \r\n    \tpublic TornadoFrame() {\r\n    \t\tsuper();\r\n    \t\tsetSize(FRAME_WIDTH, FRAME_HEIGHT);\r\n    \t\tcreateComponents();\r\n    \t}\r\n    \r\n    \tprivate void createComponents()\r\n    \t   {\r\n    \t\t  textBox = new JTextField(&quot;\t&quot;); \r\n    \t\t  submit = new JButton(&quot;Submit&quot;);\r\n    \t      label = new JLabel(&quot;Please enter a windspeed:&quot;);\r\n    \t      errorLabel = new JLabel(&quot;Error Message &quot; );\r\n    \t      \r\n    \t      JPanel panel = new JPanel();\r\n    \t      panel.add(label);\r\n    \t      panel.add(textBox);\r\n    \t      panel.add(submit);\r\n    \t  \t\r\n    \t     panel.add(errorLabel);   \r\n    \t     panel.add(tornado);\r\n    \t     add(panel);\r\n    \t   }\t\r\n    }\r\nI know this is working but I may be missing something so here is where I create the tornado:\r\n\r\n    public class TornadoComponent extends JPanel {\r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tint[] xPoints = {100,200,0};\r\n    \t\tint[] yPoints = {0,200,200};\r\n    \t\tint nPoints = 3;\r\n    \t\t\r\n    \t\tg.drawPolygon(xPoints, yPoints, nPoints);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n","title":"How to add a JPanel graphic to a JFrame without covering the JFrame","body":"<p>I'm trying to add a small tornado graphic (upside down pyramid) to my Frame. I can get the tornado by adding it to the frame in the main method but when I do that all I see is the tornado graphic and not the GUI underneath it. </p>\n\n<p>So, I'm now trying to add the Tornado graphic to the frame when its created in the createComponents method but it now doesn't appear at all. Instead all I can see it the GUI in the frame.</p>\n\n<p>I' probably missing something easy but I can't seem to figure it out. I'm not sure what I need to to in order to get the GUI and the tornado graphic both to appear. </p>\n\n<pre><code>    public class EFScaleViewer {\n\n        public static void main(String[] args) {\n            // TODO Auto-generated method stub\n            TornadoFrame frame = new TornadoFrame();\n\n            frame.setTitle(\"EF Scale\");\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setVisible(true);  \n        }\n}\n</code></pre>\n\n<p>Here is where I create the frame and am trying to add the tornado:</p>\n\n<pre><code>public class TornadoFrame extends JFrame{\n\n    private JButton submit;\n    private JLabel label;\n    static JLabel errorLabel;\n    static JTextField textBox;   \n    JPanel tornado = new TornadoComponent();\n\n    private static final int FRAME_WIDTH = 400;\n    private static final int FRAME_HEIGHT = 300;\n\n    //Constructor for the frame \n    public TornadoFrame() {\n        super();\n        setSize(FRAME_WIDTH, FRAME_HEIGHT);\n        createComponents();\n    }\n\n    private void createComponents()\n       {\n          textBox = new JTextField(\"    \"); \n          submit = new JButton(\"Submit\");\n          label = new JLabel(\"Please enter a windspeed:\");\n          errorLabel = new JLabel(\"Error Message \" );\n\n          JPanel panel = new JPanel();\n          panel.add(label);\n          panel.add(textBox);\n          panel.add(submit);\n\n         panel.add(errorLabel);   \n         panel.add(tornado);\n         add(panel);\n       }    \n}\n</code></pre>\n\n<p>I know this is working but I may be missing something so here is where I create the tornado:</p>\n\n<pre><code>public class TornadoComponent extends JPanel {\n    public void paintComponent(Graphics g) {\n        int[] xPoints = {100,200,0};\n        int[] yPoints = {0,200,200};\n        int nPoints = 3;\n\n        g.drawPolygon(xPoints, yPoints, nPoints);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","multidimensional-array","nullpointerexception","bufferedimage"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1645003899,"post_id":71139205,"comment_id":125752533,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1645004072,"post_id":71139205,"comment_id":125752597,"body_markdown":"You should essentially never catch a `NullPointerException` specifically: it&#39;s an indication of a programming error, and you should fix that rather than attempting to recover from it at runtime.","body":"You should essentially never catch a <code>NullPointerException</code> specifically: it&#39;s an indication of a programming error, and you should fix that rather than attempting to recover from it at runtime."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645004166,"post_id":71139205,"comment_id":125752638,"body_markdown":"NPE is probably because the resource &quot;TileBlocks/block_brick.png&quot; isn&#39;t there. You try to read it, it does not exist, and null is returned. Hence the NPE. Check first if you have that image, if it is accessible, etc.","body":"NPE is probably because the resource &quot;TileBlocks/block_brick.png&quot; isn&#39;t there. You try to read it, it does not exist, and null is returned. Hence the NPE. Check first if you have that image, if it is accessible, etc."}],"answers":[{"tags":[],"owner":{"account_id":15446017,"reputation":54,"user_id":11142946,"display_name":"Evgenii Mikhailov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1645004277,"creation_date":1645004277,"answer_id":71139354,"question_id":71139205,"body_markdown":"Put file &quot;block_brick.png&quot; in directory &quot;TileBlocks&quot; in classpath.","title":"How to fix try/catch Java NullPointerException","body":"<p>Put file &quot;block_brick.png&quot; in directory &quot;TileBlocks&quot; in classpath.</p>\n"}],"owner":{"account_id":14363749,"reputation":661,"user_id":11346784,"display_name":"Mampenda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71139354,"answer_count":1,"score":-1,"last_activity_date":1649392192,"creation_date":1645003667,"question_id":71139205,"body_markdown":"I am trying to create a 2D platform game, by following [this][1] tutorial. I have created an `Images()`-class which looks like this: \r\npackage Resources;\r\n\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.Objects;\r\n    \r\n    public class Images {\r\n    \r\n        public static BufferedImage[] tileBlocks;\r\n    \r\n        public Images(){\r\n            tileBlocks = new BufferedImage[1];\r\n            try{\r\n                tileBlocks[0] = ImageIO.read(\r\n                        // TODO: Fix the error caused by this try/catch\r\n                        (Objects.requireNonNull(getClass().getResourceAsStream(&quot;TileBlocks/block_brick.png&quot;)))\r\n                );\r\n            } catch (IOException e) { e.printStackTrace(); }\r\n        }\r\n    }\r\n\r\nAnd I created an instantation of it in my `GamePanel()`-class, which looks like this\r\n\r\n    package Main;\r\n    \r\n    import GameState.GameStateManager;\r\n    import Resources.Images;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    import java.io.Serial;\r\n    \r\n    @SuppressWarnings(&quot;BusyWait&quot;)\r\n    public class GamePanel extends JPanel implements Runnable, KeyListener {\r\n    \r\n        @Serial\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        // Game thread\r\n        private boolean isRunning = false;\r\n        int FPS = 60;                                       // Frames per second\r\n        long targetTime = 1000 / FPS;                       // Set target time\r\n    \r\n        // Set the dimension of the game-window\r\n        public static final int WIDTH = 800;\r\n        public static final int HEIGHT = 600;\r\n    \r\n        private GameStateManager gsm = new GameStateManager(); // Game state manager object\r\n    \r\n        public GamePanel(){\r\n            setPreferredSize(new Dimension(WIDTH, HEIGHT));\r\n            addKeyListener(this);\r\n            setFocusable(true);\r\n    \r\n            // TODO: Fix error (Reports instantiation of utility classes using the new keyword)\r\n            new Images();\r\n    \r\n            start();\r\n        }\r\n    \r\n        // Start the game (initialize)\r\n        private void start() {\r\n            isRunning = true;\r\n            Thread thread = new Thread(this);            // Referring to Runnable\r\n            thread.start();                              // Call to our game-loop\r\n        }\r\n    \r\n        // Game-loop\r\n        public void run() {\r\n    \r\n            long start, elapsed, wait;                          // Keep track of time\r\n            gsm = new GameStateManager();                       // Initialize game state manager\r\n    \r\n            while (isRunning) {\r\n                start = System.nanoTime(); // Start timer\r\n                update();                  // Update the game-logic\r\n                repaint();                 // Re-paint the board (built-in method from java.awt)\r\n                elapsed = System.nanoTime() - start;\r\n    \r\n                // If everything runs in under the target time we wait (so it runs equally in all computers)\r\n                wait = targetTime - elapsed / 1000000;  // Divide by 1 000 000 to get milli-seconds\r\n                if (wait &lt;= 0) { wait = 5; }  // Keep wait a positive value\r\n    \r\n                try {\r\n                    Thread.sleep(wait);\r\n                } catch (Exception e) { e.printStackTrace(); } \r\n            }\r\n        }\r\n    \r\n        // Updating all game-logic\r\n        public void update() { gsm.update(); }// Call methods from game state manager in the game panel class\r\n    \r\n        // Where we draw the graphics\r\n        public void paintComponent(Graphics g){\r\n            super.paintComponent(g);         // Built-in method from java.awt\r\n            g.clearRect(0,0,WIDTH,HEIGHT);   // Clear the screen before drawing\r\n            gsm.draw(g);                     // Call method from game state manager in the game panel class\r\n        }\r\n    \r\n        public void keyPressed(KeyEvent e) {\r\n            gsm.keyPressed(e.getKeyCode());  // getKeyCode() turns KeyEvent into an integer\r\n        }\r\n    \r\n        public void keyReleased(KeyEvent e) {\r\n            gsm.keyReleased(e.getKeyCode()); // getKeyCode() turns KeyEvent into an integer\r\n        }\r\n    \r\n        public void keyTyped(KeyEvent e) { }\r\n    }\r\n\r\nI get an error saying \r\n\r\n    Instantiation of utility class &#39;Images&#39; \r\n    Inspection info: Reports instantiation of utility classes using the new keyword.\r\n    In utility classes, all fields and methods are static. \r\n    Instantiation of such classes is most likely unnecessary and indicates a mistake.\r\n\r\nAnd when I try to run the game it doesn&#39;t launch, I only get a `NullPointerException`\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat java.base/java.util.Objects.requireNonNull(Objects.java:208)\r\n    \tat inf112.skeleton.app/Resources.Images.&lt;init&gt;(Images.java:17)\r\n    \tat inf112.skeleton.app/Main.GamePanel.&lt;init&gt;(GamePanel.java:35)\r\n    \tat inf112.skeleton.app/Main.Game.game(Game.java:10)\r\n    \tat inf112.skeleton.app/Main.Game.main(Game.java:20)\r\n\r\nBut if I remove the the instantation, the game launches, but then it crashes with even more errors\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: \r\n    Cannot load from object array because &quot;Resources.Images.tileBlocks&quot; is null\r\n    etc...\r\n\r\nIf I remove the `Objects.requireNonNull` from \r\n    `tileBlocks[0] = ImageIO.read((getClass().getResourceAsStream(&quot;TileBlocks/block_brick.png&quot;))`\r\n\r\nThe game launches, but it crashes and I get another error saying \r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: \r\n    Cannot load from object array because &quot;Resources.Images.tileBlocks&quot; is null\r\n\r\nWhat am I doing wrong here? Why is my list of `tileBlocks null`? How can I read the image and display it on the `tileBlocks`? \r\n\r\n  [1]: https://www.youtube.com/playlist?list=PLJSII25WrAz5Pf1QMx0aUL0pEuZzdFp7W","title":"How to fix try/catch Java NullPointerException","body":"<p>I am trying to create a 2D platform game, by following <a href=\"https://www.youtube.com/playlist?list=PLJSII25WrAz5Pf1QMx0aUL0pEuZzdFp7W\" rel=\"nofollow noreferrer\">this</a> tutorial. I have created an <code>Images()</code>-class which looks like this:\npackage Resources;</p>\n<pre><code>import javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class Images {\n\n    public static BufferedImage[] tileBlocks;\n\n    public Images(){\n        tileBlocks = new BufferedImage[1];\n        try{\n            tileBlocks[0] = ImageIO.read(\n                    // TODO: Fix the error caused by this try/catch\n                    (Objects.requireNonNull(getClass().getResourceAsStream(&quot;TileBlocks/block_brick.png&quot;)))\n            );\n        } catch (IOException e) { e.printStackTrace(); }\n    }\n}\n</code></pre>\n<p>And I created an instantation of it in my <code>GamePanel()</code>-class, which looks like this</p>\n<pre><code>package Main;\n\nimport GameState.GameStateManager;\nimport Resources.Images;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.io.Serial;\n\n@SuppressWarnings(&quot;BusyWait&quot;)\npublic class GamePanel extends JPanel implements Runnable, KeyListener {\n\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    // Game thread\n    private boolean isRunning = false;\n    int FPS = 60;                                       // Frames per second\n    long targetTime = 1000 / FPS;                       // Set target time\n\n    // Set the dimension of the game-window\n    public static final int WIDTH = 800;\n    public static final int HEIGHT = 600;\n\n    private GameStateManager gsm = new GameStateManager(); // Game state manager object\n\n    public GamePanel(){\n        setPreferredSize(new Dimension(WIDTH, HEIGHT));\n        addKeyListener(this);\n        setFocusable(true);\n\n        // TODO: Fix error (Reports instantiation of utility classes using the new keyword)\n        new Images();\n\n        start();\n    }\n\n    // Start the game (initialize)\n    private void start() {\n        isRunning = true;\n        Thread thread = new Thread(this);            // Referring to Runnable\n        thread.start();                              // Call to our game-loop\n    }\n\n    // Game-loop\n    public void run() {\n\n        long start, elapsed, wait;                          // Keep track of time\n        gsm = new GameStateManager();                       // Initialize game state manager\n\n        while (isRunning) {\n            start = System.nanoTime(); // Start timer\n            update();                  // Update the game-logic\n            repaint();                 // Re-paint the board (built-in method from java.awt)\n            elapsed = System.nanoTime() - start;\n\n            // If everything runs in under the target time we wait (so it runs equally in all computers)\n            wait = targetTime - elapsed / 1000000;  // Divide by 1 000 000 to get milli-seconds\n            if (wait &lt;= 0) { wait = 5; }  // Keep wait a positive value\n\n            try {\n                Thread.sleep(wait);\n            } catch (Exception e) { e.printStackTrace(); } \n        }\n    }\n\n    // Updating all game-logic\n    public void update() { gsm.update(); }// Call methods from game state manager in the game panel class\n\n    // Where we draw the graphics\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);         // Built-in method from java.awt\n        g.clearRect(0,0,WIDTH,HEIGHT);   // Clear the screen before drawing\n        gsm.draw(g);                     // Call method from game state manager in the game panel class\n    }\n\n    public void keyPressed(KeyEvent e) {\n        gsm.keyPressed(e.getKeyCode());  // getKeyCode() turns KeyEvent into an integer\n    }\n\n    public void keyReleased(KeyEvent e) {\n        gsm.keyReleased(e.getKeyCode()); // getKeyCode() turns KeyEvent into an integer\n    }\n\n    public void keyTyped(KeyEvent e) { }\n}\n</code></pre>\n<p>I get an error saying</p>\n<pre><code>Instantiation of utility class 'Images' \nInspection info: Reports instantiation of utility classes using the new keyword.\nIn utility classes, all fields and methods are static. \nInstantiation of such classes is most likely unnecessary and indicates a mistake.\n</code></pre>\n<p>And when I try to run the game it doesn't launch, I only get a <code>NullPointerException</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:208)\n    at inf112.skeleton.app/Resources.Images.&lt;init&gt;(Images.java:17)\n    at inf112.skeleton.app/Main.GamePanel.&lt;init&gt;(GamePanel.java:35)\n    at inf112.skeleton.app/Main.Game.game(Game.java:10)\n    at inf112.skeleton.app/Main.Game.main(Game.java:20)\n</code></pre>\n<p>But if I remove the the instantation, the game launches, but then it crashes with even more errors</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: \nCannot load from object array because &quot;Resources.Images.tileBlocks&quot; is null\netc...\n</code></pre>\n<p>If I remove the <code>Objects.requireNonNull</code> from\n<code>tileBlocks[0] = ImageIO.read((getClass().getResourceAsStream(&quot;TileBlocks/block_brick.png&quot;))</code></p>\n<p>The game launches, but it crashes and I get another error saying</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: \nCannot load from object array because &quot;Resources.Images.tileBlocks&quot; is null\n</code></pre>\n<p>What am I doing wrong here? Why is my list of <code>tileBlocks null</code>? How can I read the image and display it on the <code>tileBlocks</code>?</p>\n"},{"tags":["java","android-studio","listview","io"],"answers":[{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649389861,"creation_date":1649389861,"answer_id":71791484,"question_id":71791414,"body_markdown":"You can use a Scanner to read the components of your file like so:\r\n\r\n         // creates scanner of that file path\r\n         Scanner fileScanner = new Scanner(new File(&quot;path here&quot;));\r\n         // read till there aren&#39;t elements\r\n         while(fileScanner.hasNext())\r\n         {   // printing whole that next line\r\n             System.out.println(fileScanner.next());\r\n         }\r\nThis will print the whole line till there are no more lines to read/print\r\n\r\n**NOTE** fileScanner.next() is of type String, I am simply printing it to the console for display","title":"How can i display saved text file on list view?","body":"<p>You can use a Scanner to read the components of your file like so:</p>\n<pre><code>     // creates scanner of that file path\n     Scanner fileScanner = new Scanner(new File(&quot;path here&quot;));\n     // read till there aren't elements\n     while(fileScanner.hasNext())\n     {   // printing whole that next line\n         System.out.println(fileScanner.next());\n     }\n</code></pre>\n<p>This will print the whole line till there are no more lines to read/print</p>\n<p><strong>NOTE</strong> fileScanner.next() is of type String, I am simply printing it to the console for display</p>\n"}],"owner":{"account_id":22910740,"reputation":11,"user_id":17048046,"display_name":"Leli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649392127,"creation_date":1649389037,"question_id":71791414,"body_markdown":"    File file = new \r\n    File(getApplicationContext().getFilesDir(), \r\n    &quot;text.txt&quot;);\r\n    if(file.exists()) \r\n    {\r\n       Toast.makeText(this, &quot;File Exist&quot; + file, \r\n    Toast.LENGTH_SHORT).show();\r\n    \r\n            }\r\n    else{\r\n         Toast.makeText(this, &quot;File Not Found&quot; + file, \r\n         Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n    }\r\n\r\nI want to display text.txt items on listview\r\n\r\ntext.txt: \r\n\r\n    1234\r\n    0000\r\n    abcd \r\ni have checked if the file exist or not but i am not able to display the items on listview.\r\n\r\n\r\n","title":"How can i display saved text file on list view?","body":"<pre><code>File file = new \nFile(getApplicationContext().getFilesDir(), \n&quot;text.txt&quot;);\nif(file.exists()) \n{\n   Toast.makeText(this, &quot;File Exist&quot; + file, \nToast.LENGTH_SHORT).show();\n\n        }\nelse{\n     Toast.makeText(this, &quot;File Not Found&quot; + file, \n     Toast.LENGTH_SHORT).show();\n    }\n\n}\n</code></pre>\n<p>I want to display text.txt items on listview</p>\n<p>text.txt:</p>\n<pre><code>1234\n0000\nabcd \n</code></pre>\n<p>i have checked if the file exist or not but i am not able to display the items on listview.</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1647397709,"post_id":71491143,"comment_id":126359149,"body_markdown":"in the for loop use `i &lt;= numlines;` or the full line: `for (int i = 0; i &lt;= numlines; i++) {...}`","body":"in the for loop use <code>i &lt;= numlines;</code> or the full line: <code>for (int i = 0; i &lt;= numlines; i++) {...}</code>"},{"owner":{"account_id":13557128,"reputation":67,"user_id":9780163,"display_name":"tedico"},"score":0,"creation_date":1647397710,"post_id":71491143,"comment_id":126359150,"body_markdown":"&#39;Sorry. I&#39;ll fix this now","body":"&#39;Sorry. I&#39;ll fix this now"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647398041,"post_id":71491143,"comment_id":126359201,"body_markdown":"Wait, you changed the code from `i &lt; numLines;` to now `i &lt;= numLines;`??","body":"Wait, you changed the code from <code>i &lt; numLines;</code> to now <code>i &lt;= numLines;</code>??"},{"owner":{"account_id":13557128,"reputation":67,"user_id":9780163,"display_name":"tedico"},"score":0,"creation_date":1647398759,"post_id":71491143,"comment_id":126359304,"body_markdown":"I just tried it and it&#39;s still not working. If I resize the window (by dragging it). The lines will go the full length of the panel. But not on the initial render. Should I change the dimensions of the panel perhaps? Right now it&#39;s 600 x 600.","body":"I just tried it and it&#39;s still not working. If I resize the window (by dragging it). The lines will go the full length of the panel. But not on the initial render. Should I change the dimensions of the panel perhaps? Right now it&#39;s 600 x 600."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647397915,"creation_date":1647397915,"answer_id":71491181,"question_id":71491143,"body_markdown":"In the for loop, change \r\n\r\n    for (int i = 0; i &lt; numLines; i++) {\r\n\r\nto \r\n\r\n    for (int i = 0; i &lt;= numLines; i++) {\r\n\r\nto iterate the full height of the component. The `i` must equal numLines to reach unity.","title":"Drawing lines the full height of JPanel","body":"<p>In the for loop, change</p>\n<pre><code>for (int i = 0; i &lt; numLines; i++) {\n</code></pre>\n<p>to</p>\n<pre><code>for (int i = 0; i &lt;= numLines; i++) {\n</code></pre>\n<p>to iterate the full height of the component. The <code>i</code> must equal numLines to reach unity.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647441693,"creation_date":1647399061,"answer_id":71491278,"question_id":71491143,"body_markdown":"Your calculation of the &quot;stepValue&quot; has two problems:\r\n\r\n1. the stepValue is to small, so the last line will never appear at the bottom\r\n2. the stepValue is truncated because of integer math so each addition of the truncated value to the &quot;spaceValue&quot; will yield a slightly less accurate value.\r\n\r\nLets say you have a panel with a height of 600 and the number of lines is 3.\r\n\r\nYour calculation is:\r\n\r\n    int stepValue = 600 / 3 = 200\r\n\r\nwhich I would suggest is wrong as you would draw 3 lines with a &quot;spaceValue&quot; of 0, 200, 400, so the last line (at 600) would never be drawn.\r\n\r\nIn reality I think the calculation should be:\r\n\r\n    double stepValue = (double)height / (numLine - 1);\r\n\r\nwhich gives:\r\n\r\n    double stepValue = 600 / (3 - 1) = 300.\r\n\r\nwhich will give lines with a &quot;spaceValue&quot; of 0, 300, 600 which would be a line at the top, middle and bottom.\r\n\r\nSo your painting loop simply becomes:\r\n\r\n    for (int i = 0; i &lt; numLines; i++) \r\n    {\r\n        g.drawLine(x1, y1, x2, spaceValue);\r\n        spaceValue += stepValue;\r\n    }\r\n","title":"Drawing lines the full height of JPanel","body":"<p>Your calculation of the &quot;stepValue&quot; has two problems:</p>\n<ol>\n<li>the stepValue is to small, so the last line will never appear at the bottom</li>\n<li>the stepValue is truncated because of integer math so each addition of the truncated value to the &quot;spaceValue&quot; will yield a slightly less accurate value.</li>\n</ol>\n<p>Lets say you have a panel with a height of 600 and the number of lines is 3.</p>\n<p>Your calculation is:</p>\n<pre><code>int stepValue = 600 / 3 = 200\n</code></pre>\n<p>which I would suggest is wrong as you would draw 3 lines with a &quot;spaceValue&quot; of 0, 200, 400, so the last line (at 600) would never be drawn.</p>\n<p>In reality I think the calculation should be:</p>\n<pre><code>double stepValue = (double)height / (numLine - 1);\n</code></pre>\n<p>which gives:</p>\n<pre><code>double stepValue = 600 / (3 - 1) = 300.\n</code></pre>\n<p>which will give lines with a &quot;spaceValue&quot; of 0, 300, 600 which would be a line at the top, middle and bottom.</p>\n<p>So your painting loop simply becomes:</p>\n<pre><code>for (int i = 0; i &lt; numLines; i++) \n{\n    g.drawLine(x1, y1, x2, spaceValue);\n    spaceValue += stepValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647399568,"creation_date":1647399568,"answer_id":71491334,"question_id":71491143,"body_markdown":"I think (one of) the issue you&#39;re having is a &quot;integer division&quot; issue.\r\n\r\n    int stepValue = height / numLines;\r\n\r\nis truncating the result.  For example, if the `height` is `400` and the number of lines is `6` the `stepValue` will be `66` instead of `67` (which would allow 66.6666 to be rounded up)\r\n\r\nNow, you could &quot;round&quot; the value up yourself, but I&#39;d prefer to make use of the available APIs to do these things for me.\r\n\r\n`Line2D.Double` supports double precision parameters, which makes it perfect for this job\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        if (lineCount &gt; 1) {\r\n            double gap = getHeight() / (double)(lineCount - 1);\r\n            for (int i = 0; i &lt; lineCount; i++) {\r\n                Line2D line = new Line2D.Double(0, getHeight() / 2, getWidth(), i * gap);\r\n                g2d.draw(line);\r\n            }\r\n        } else {\r\n            g2d.drawLine(0, getHeight() / 2, getWidth(), getHeight() / 2);\r\n        }\r\n        g2d.dispose();\r\n    }\r\n\r\n# Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Line2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    JPanel contentPane = new JPanel(new BorderLayout());\r\n                    contentPane.setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                    frame.setContentPane(contentPane);\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private int lineCount = 1;\r\n\r\n            public TestPane() {\r\n                setBorder(new LineBorder(Color.RED));\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        lineCount++;\r\n                        repaint();\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                g2d.drawString(Integer.toString(lineCount), 10, fm.getAscent());\r\n                if (lineCount &gt; 1) {\r\n                    double gap = getHeight() / (double) (lineCount - 1);\r\n                    for (int i = 0; i &lt; lineCount; i++) {\r\n                        Line2D line = new Line2D.Double(0, getHeight() / 2, getWidth(), i * gap);\r\n                        g2d.draw(line);\r\n                    }\r\n                } else {\r\n                    g2d.drawLine(0, getHeight() / 2, getWidth(), getHeight() / 2);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6k2Y2.gif","title":"Drawing lines the full height of JPanel","body":"<p>I think (one of) the issue you're having is a &quot;integer division&quot; issue.</p>\n<pre><code>int stepValue = height / numLines;\n</code></pre>\n<p>is truncating the result.  For example, if the <code>height</code> is <code>400</code> and the number of lines is <code>6</code> the <code>stepValue</code> will be <code>66</code> instead of <code>67</code> (which would allow 66.6666 to be rounded up)</p>\n<p>Now, you could &quot;round&quot; the value up yourself, but I'd prefer to make use of the available APIs to do these things for me.</p>\n<p><code>Line2D.Double</code> supports double precision parameters, which makes it perfect for this job</p>\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    Graphics2D g2d = (Graphics2D) g.create();\n    if (lineCount &gt; 1) {\n        double gap = getHeight() / (double)(lineCount - 1);\n        for (int i = 0; i &lt; lineCount; i++) {\n            Line2D line = new Line2D.Double(0, getHeight() / 2, getWidth(), i * gap);\n            g2d.draw(line);\n        }\n    } else {\n        g2d.drawLine(0, getHeight() / 2, getWidth(), getHeight() / 2);\n    }\n    g2d.dispose();\n}\n</code></pre>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/6k2Y2.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6k2Y2.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Line2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                JPanel contentPane = new JPanel(new BorderLayout());\n                contentPane.setBorder(new EmptyBorder(32, 32, 32, 32));\n                frame.setContentPane(contentPane);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private int lineCount = 1;\n\n        public TestPane() {\n            setBorder(new LineBorder(Color.RED));\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    lineCount++;\n                    repaint();\n                }\n            });\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            FontMetrics fm = g2d.getFontMetrics();\n            g2d.drawString(Integer.toString(lineCount), 10, fm.getAscent());\n            if (lineCount &gt; 1) {\n                double gap = getHeight() / (double) (lineCount - 1);\n                for (int i = 0; i &lt; lineCount; i++) {\n                    Line2D line = new Line2D.Double(0, getHeight() / 2, getWidth(), i * gap);\n                    g2d.draw(line);\n                }\n            } else {\n                g2d.drawLine(0, getHeight() / 2, getWidth(), getHeight() / 2);\n            }\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13557128,"reputation":67,"user_id":9780163,"display_name":"tedico"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1649392105,"creation_date":1647397555,"question_id":71491143,"body_markdown":"I&#39;ve gotten my code to work for the most part except for one last thing. When the number of lines drawn &gt; 20, the lines aren&#39;t being drawn to take up the full amount of panel\r\n\r\n** Look at the bottom right side of my screenshot. The lines go part way down the full height of the panel. I need it to go the full length of the height down. **\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere&#39;s my code for DrawPanelTest\r\n\r\n```\r\n\r\n// Creating JPanel to display DrawPanel\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class DrawPanelTest\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      int nValue = 0; // declare variable to store user input. Default value 0.\r\n      Boolean flag = true; // initalize flag to true for argument value of while-loop\r\n\r\n      // while-loop to prompt user input\r\n      while (flag) {\r\n         // prompt user for the value of N\r\n         nValue = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter number of lines between 2 and 100.&quot;));\r\n\r\n        // user input validation. Valid input is nValue [2, 100]\r\n        if (nValue &lt; 2 || nValue &gt; 100) {\r\n           nValue = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter number of lines between 2 and 100.&quot;));\r\n        } else {\r\n           flag = false; // if user input is correct, while-loop will end\r\n        } // end if-else\r\n      } // end while-loop\r\n     \r\n      // displays the value of N to make sure it really is correct; This works\r\n      // String message = String.format(&quot;The value of n is: %d &quot;, nValue);\r\n      // JOptionPane.showMessageDialog(null, message);\r\n\r\n      // create a panel that contains our drawing\r\n      DrawPanel drawPanel = new DrawPanel(nValue);\r\n      // create a new frame to hold the panel\r\n      JFrame application = new JFrame();\r\n\r\n      // set the frame to exit when closed\r\n      application.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      application.add(drawPanel); // add panel to the frame\r\n      application.setSize(600, 600); // set the size of the frame\r\n      application.setVisible(true); // make the frame visible\r\n   }\r\n } // end class DrawPanelTest\r\n```\r\n\r\nHere&#39;s my code DrawPanel\r\n\r\n```\r\n // Using drawLine() to connect the corners of a panel\r\nimport java.awt.Graphics;\r\nimport javax.swing.JPanel;\r\n\r\n\r\npublic class DrawPanel extends JPanel \r\n{\r\n  int numLines;\r\n\r\n  // constructor initializes DrawPanel and initializes\r\n  // numLines with the argument value of n\r\n  public DrawPanel(int n)\r\n  {\r\n    numLines = n;\r\n  }\r\n\r\n  // draws a X from the corners of the panel\r\n  public void paintComponent( Graphics g)\r\n  {\r\n    // call paintComponent to ensure the panel displays correctly\r\n    super.paintComponent(g);\r\n\r\n    int width = getWidth(); // total width\r\n    int height = getHeight(); // total height\r\n    int x1 = 0; // starting x-coordinate\r\n    int y1 = height / 2; // starting y-coordinate\r\n    int x2 = width; // initial value for end x-coordinate\r\n    int spaceValue = 0; // represents the space between the lines\r\n    int stepValue = height/numLines; // represents the increment value starting from top right corner\r\n\r\n    for (int i = 0; i &lt;= numLines; i++) {\r\n      if (numLines == 2) {\r\n        g.drawLine(x1, y1, x2, 0);\r\n        g.drawLine(x1, y1, x2, height);\r\n        break;\r\n      } // end numLines == 2\r\n\r\n      else if (numLines &gt;= 3) {\r\n        g.drawLine(x1, y1, x2, spaceValue);\r\n        spaceValue += stepValue;\r\n      } // end else if\r\n    } // end for-loop\r\n  } // end paintComponent\r\n} // end class DrawPanel\r\n```\r\n\r\n\r\nI think my problem lies in DrawPanel line 41. I don&#39;t think I&#39;m calculating the spaces between the lines correctly so that they end up taking the entire height of the panel.\r\n\r\nThanks in advance for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KReHw.png\r\n  [2]: https://i.stack.imgur.com/pbgvd.png\r\n  [3]: https://i.stack.imgur.com/cpgMC.png","title":"Drawing lines the full height of JPanel","body":"<p>I've gotten my code to work for the most part except for one last thing. When the number of lines drawn &gt; 20, the lines aren't being drawn to take up the full amount of panel</p>\n<p>** Look at the bottom right side of my screenshot. The lines go part way down the full height of the panel. I need it to go the full length of the height down. **</p>\n<p><a href=\"https://i.stack.imgur.com/KReHw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KReHw.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my code for DrawPanelTest</p>\n<pre><code>\n// Creating JPanel to display DrawPanel\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\n\npublic class DrawPanelTest\n{\n   public static void main(String[] args)\n   {\n      int nValue = 0; // declare variable to store user input. Default value 0.\n      Boolean flag = true; // initalize flag to true for argument value of while-loop\n\n      // while-loop to prompt user input\n      while (flag) {\n         // prompt user for the value of N\n         nValue = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter number of lines between 2 and 100.&quot;));\n\n        // user input validation. Valid input is nValue [2, 100]\n        if (nValue &lt; 2 || nValue &gt; 100) {\n           nValue = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter number of lines between 2 and 100.&quot;));\n        } else {\n           flag = false; // if user input is correct, while-loop will end\n        } // end if-else\n      } // end while-loop\n     \n      // displays the value of N to make sure it really is correct; This works\n      // String message = String.format(&quot;The value of n is: %d &quot;, nValue);\n      // JOptionPane.showMessageDialog(null, message);\n\n      // create a panel that contains our drawing\n      DrawPanel drawPanel = new DrawPanel(nValue);\n      // create a new frame to hold the panel\n      JFrame application = new JFrame();\n\n      // set the frame to exit when closed\n      application.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      application.add(drawPanel); // add panel to the frame\n      application.setSize(600, 600); // set the size of the frame\n      application.setVisible(true); // make the frame visible\n   }\n } // end class DrawPanelTest\n</code></pre>\n<p>Here's my code DrawPanel</p>\n<pre><code> // Using drawLine() to connect the corners of a panel\nimport java.awt.Graphics;\nimport javax.swing.JPanel;\n\n\npublic class DrawPanel extends JPanel \n{\n  int numLines;\n\n  // constructor initializes DrawPanel and initializes\n  // numLines with the argument value of n\n  public DrawPanel(int n)\n  {\n    numLines = n;\n  }\n\n  // draws a X from the corners of the panel\n  public void paintComponent( Graphics g)\n  {\n    // call paintComponent to ensure the panel displays correctly\n    super.paintComponent(g);\n\n    int width = getWidth(); // total width\n    int height = getHeight(); // total height\n    int x1 = 0; // starting x-coordinate\n    int y1 = height / 2; // starting y-coordinate\n    int x2 = width; // initial value for end x-coordinate\n    int spaceValue = 0; // represents the space between the lines\n    int stepValue = height/numLines; // represents the increment value starting from top right corner\n\n    for (int i = 0; i &lt;= numLines; i++) {\n      if (numLines == 2) {\n        g.drawLine(x1, y1, x2, 0);\n        g.drawLine(x1, y1, x2, height);\n        break;\n      } // end numLines == 2\n\n      else if (numLines &gt;= 3) {\n        g.drawLine(x1, y1, x2, spaceValue);\n        spaceValue += stepValue;\n      } // end else if\n    } // end for-loop\n  } // end paintComponent\n} // end class DrawPanel\n</code></pre>\n<p>I think my problem lies in DrawPanel line 41. I don't think I'm calculating the spaces between the lines correctly so that they end up taking the entire height of the panel.</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java","ioexception","filesystemexception"],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649391936,"creation_date":1649363291,"answer_id":71788543,"question_id":71784969,"body_markdown":"You are getting the error because the the parameter arguments for the [Files.move()](https://www.codejava.net/java-se/file-io/how-to-rename-move-file-or-directory-in-java) method are wrong. You need to supply the ***full path and file name*** of the source file (the original file name) and the `source.resolveSibling()` method need to be supplied the ***full path and file name*** of the destination file which in this case happens to the the original file name with the desired text inserted into the beginning of it. \r\n\r\nHere is a quick example of how to achieve this:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Input Directory path to modify file names in:&quot;);\r\n    System.out.print(&quot;Directory Path: --&gt; &quot;);\r\n    String dirInput = sc.nextLine();\r\n\r\n    /* &#39;DO&#39; take the time to ensure that OS file naming rules \r\n       are strictly followed when accepting User Input!!   */\r\n    System.out.print(&quot;Enter the text you want to insert into\\n&quot;\r\n                   + &quot;the begining of each file name within\\n&quot;\r\n                   + &quot;this directory: --&gt; &quot;);\r\n    String valInput = sc.nextLine();\r\n\r\n    // Close ONLY if you won&#39;t ever need it again in this application.\r\n    sc.close(); \r\n    System.out.println();\r\n        \r\n    File path = new File(dirInput);\r\n    File[] files = path.listFiles();\r\n\r\n    for (File file : files) {\r\n        if (!file.isFile()) { continue; }\r\n        Path source = Paths.get(file.getAbsolutePath());\r\n        File newName = new File(file.getParent() + File.separator + valInput + file.getName());\r\n        System.out.println(newName.getAbsolutePath());\r\n        try {\r\n            Files.move(source, source.resolveSibling(newName.getAbsolutePath()),\r\n                                           StandardCopyOption.REPLACE_EXISTING);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Trouble renaming file in directory without error: &quot;The process cannot access the file because it is being used by another process.&quot;","body":"<p>You are getting the error because the the parameter arguments for the <a href=\"https://www.codejava.net/java-se/file-io/how-to-rename-move-file-or-directory-in-java\" rel=\"nofollow noreferrer\">Files.move()</a> method are wrong. You need to supply the <em><strong>full path and file name</strong></em> of the source file (the original file name) and the <code>source.resolveSibling()</code> method need to be supplied the <em><strong>full path and file name</strong></em> of the destination file which in this case happens to the the original file name with the desired text inserted into the beginning of it.</p>\n<p>Here is a quick example of how to achieve this:</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nSystem.out.println(&quot;Input Directory path to modify file names in:&quot;);\nSystem.out.print(&quot;Directory Path: --&gt; &quot;);\nString dirInput = sc.nextLine();\n\n/* 'DO' take the time to ensure that OS file naming rules \n   are strictly followed when accepting User Input!!   */\nSystem.out.print(&quot;Enter the text you want to insert into\\n&quot;\n               + &quot;the begining of each file name within\\n&quot;\n               + &quot;this directory: --&gt; &quot;);\nString valInput = sc.nextLine();\n\n// Close ONLY if you won't ever need it again in this application.\nsc.close(); \nSystem.out.println();\n    \nFile path = new File(dirInput);\nFile[] files = path.listFiles();\n\nfor (File file : files) {\n    if (!file.isFile()) { continue; }\n    Path source = Paths.get(file.getAbsolutePath());\n    File newName = new File(file.getParent() + File.separator + valInput + file.getName());\n    System.out.println(newName.getAbsolutePath());\n    try {\n        Files.move(source, source.resolveSibling(newName.getAbsolutePath()),\n                                       StandardCopyOption.REPLACE_EXISTING);\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19952537,"reputation":1,"user_id":14621870,"display_name":"TheBriggis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649391936,"creation_date":1649345484,"question_id":71784969,"body_markdown":"    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    //import java.lang.Object;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.StandardCopyOption;\r\n\r\n    public class AppendTool {\r\n\tpublic static void main(String[] args){\r\n\t\t\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Input Directory to Append Values: &quot;);\r\n\t\tString dirInput = sc.nextLine();\r\n\t\tSystem.out.println(&quot;Input value to append to Directory Files: &quot;);\r\n\t\tString valInput = sc.nextLine();\r\n\t\t\r\n\t\tsc.close();\r\n\t\t\r\n\t\tPath source = Paths.get(dirInput);\r\n\t\t\r\n\t    File path = new File(dirInput);\r\n\r\n\t    File [] files = path.listFiles();\r\n\t    for (int i = 0; i &lt; files.length; i++){\r\n\t        if (files[i].isFile()){ //this line weeds out other directories/folders\r\n\t            System.out.println(files[i]);\r\n\t       try {     \r\n\t           // int where = files[i].getName().lastIndexOf(&quot;.&quot;);\r\n\t            String result = valInput + files[i].getName();//.substring(0, where) + files[i].getName().substring(where);\r\n\t            System.out.println(result);\r\n\t            File dest = new File(result);\r\n\t           //Files.move(files[i].toPath(), dest.toPath().resolveSibling(dest.getName()), StandardCopyOption.REPLACE_EXISTING);\t \r\n\t            Files.move(source, source.resolveSibling(dest.getName()), StandardCopyOption.REPLACE_EXISTING);\r\n\t            System.out.println(dest);\r\n\t            return;\r\n\t       } catch (IOException e) {\r\n\t            e.printStackTrace();\r\n\t          }\r\n\t        \t}\t\r\n\t    }\r\n      }\r\n     }\r\n\r\n\r\nI&#39;m trying to iterate through all files in a directory and append a value to each filename. Using Files.move creates a FileSystemException and states that the file is being used by another process. Using the commented-out Files.move(files[i].toPath.....) deletes creates the new file, deletes the old one from the directory, but it does not replace the original file. Any help would be appreciated. For the error below, I have a stuff.txt file saved in documents and I wanted to append &quot;e&quot; to the filename.\r\n\r\n&gt; C:\\Users\\Bob\\Documents -&gt; C:\\Users\\Bob\\estuff.txt: The process cannot access the file because it is being used by another process \r\n\r\n&gt; at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92)\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n\tat java.base/sun.nio.fs.WindowsFileCopy.move(WindowsFileCopy.java:395)\r\n\tat java.base/sun.nio.fs.WindowsFileSystemProvider.move(WindowsFileSystemProvider.java:292)\r\n\tat java.base/java.nio.file.Files.move(Files.java:1426)\r\n\tat AppendTool.main(AppendTool.java:36)\r\n\r\n","title":"Trouble renaming file in directory without error: &quot;The process cannot access the file because it is being used by another process.&quot;","body":"<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.*;\n//import java.lang.Object;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\n\npublic class AppendTool {\npublic static void main(String[] args){\n    \n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Input Directory to Append Values: &quot;);\n    String dirInput = sc.nextLine();\n    System.out.println(&quot;Input value to append to Directory Files: &quot;);\n    String valInput = sc.nextLine();\n    \n    sc.close();\n    \n    Path source = Paths.get(dirInput);\n    \n    File path = new File(dirInput);\n\n    File [] files = path.listFiles();\n    for (int i = 0; i &lt; files.length; i++){\n        if (files[i].isFile()){ //this line weeds out other directories/folders\n            System.out.println(files[i]);\n       try {     \n           // int where = files[i].getName().lastIndexOf(&quot;.&quot;);\n            String result = valInput + files[i].getName();//.substring(0, where) + files[i].getName().substring(where);\n            System.out.println(result);\n            File dest = new File(result);\n           //Files.move(files[i].toPath(), dest.toPath().resolveSibling(dest.getName()), StandardCopyOption.REPLACE_EXISTING);   \n            Files.move(source, source.resolveSibling(dest.getName()), StandardCopyOption.REPLACE_EXISTING);\n            System.out.println(dest);\n            return;\n       } catch (IOException e) {\n            e.printStackTrace();\n          }\n            }   \n    }\n  }\n }\n</code></pre>\n<p>I'm trying to iterate through all files in a directory and append a value to each filename. Using Files.move creates a FileSystemException and states that the file is being used by another process. Using the commented-out Files.move(files[i].toPath.....) deletes creates the new file, deletes the old one from the directory, but it does not replace the original file. Any help would be appreciated. For the error below, I have a stuff.txt file saved in documents and I wanted to append &quot;e&quot; to the filename.</p>\n<blockquote>\n<p>C:\\Users\\Bob\\Documents -&gt; C:\\Users\\Bob\\estuff.txt: The process cannot access the file because it is being used by another process</p>\n</blockquote>\n<blockquote>\n<p>at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92)\nat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\nat java.base/sun.nio.fs.WindowsFileCopy.move(WindowsFileCopy.java:395)\nat java.base/sun.nio.fs.WindowsFileSystemProvider.move(WindowsFileSystemProvider.java:292)\nat java.base/java.nio.file.Files.move(Files.java:1426)\nat AppendTool.main(AppendTool.java:36)</p>\n</blockquote>\n"},{"tags":["java","swing","jframe","jpanel","border"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1648194872,"post_id":71613634,"comment_id":126567437,"body_markdown":"You could try a gridlayout, and and use lineborders, and make sure there&#39;s no offset. I might not be perfet but should be worth a try. Otherwise make a custom component, which is much more work but will be perfect","body":"You could try a gridlayout, and and use lineborders, and make sure there&#39;s no offset. I might not be perfet but should be worth a try. Otherwise make a custom component, which is much more work but will be perfect"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1648204149,"post_id":71613634,"comment_id":126570541,"body_markdown":"Use nested GridLayouts with gaps.","body":"Use nested GridLayouts with gaps."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1648204576,"post_id":71613634,"comment_id":126570687,"body_markdown":"[The Java™ Tutorials: How to Use GridLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">The Java™ Tutorials: How to Use GridLayout</a>"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1648204623,"post_id":71613634,"comment_id":126570712,"body_markdown":"If the backing JPanel has a black background, then black lines will show through in the grid gaps.","body":"If the backing JPanel has a black background, then black lines will show through in the grid gaps."}],"owner":{"account_id":20914390,"reputation":3,"user_id":15364445,"display_name":"니로우"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648204137,"answer_count":0,"score":0,"last_activity_date":1649391739,"creation_date":1648194668,"question_id":71613634,"body_markdown":"I am trying to make a Sudoku game but got stuck in drawing borders to divide boundaries.\r\n\r\nFor example,[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o3hfs.png\r\n\r\nInside one Panel, how can I set borders like that?","title":"Java how to do this with Border (with JFrame)","body":"<p>I am trying to make a Sudoku game but got stuck in drawing borders to divide boundaries.</p>\n<p>For example,<a href=\"https://i.stack.imgur.com/o3hfs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o3hfs.png\" alt=\"enter image description here\" /></a></p>\n<p>Inside one Panel, how can I set borders like that?</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591155653,"creation_date":1591155653,"answer_id":62164864,"question_id":62162237,"body_markdown":"Wrong Spring Security configurations.\r\n\r\n[Default `WebSecurityConfigurerAdapter`&#39;s `@Order` value is `100`](https://github.com/spring-projects/spring-security/blob/5.3.2.RELEASE/config/src/main/java/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.java#L94).\r\nWhen creating 2 or more `WebSecurityConfigurerAdapter` implementations, set unique value explicitly.\r\n\r\nOn your environment, `org.engine.security.WebSecurityConfig` and `org.engine.security.WebSecurityConfiguration` are ones.","title":"@Order on WebSecurityConfigurers must be unique. Order of 100 was already used on org.engine.security.WebSecurityConfig","body":"<p>Wrong Spring Security configurations.</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-security/blob/5.3.2.RELEASE/config/src/main/java/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.java#L94\" rel=\"nofollow noreferrer\">Default <code>WebSecurityConfigurerAdapter</code>'s <code>@Order</code> value is <code>100</code></a>.\nWhen creating 2 or more <code>WebSecurityConfigurerAdapter</code> implementations, set unique value explicitly.</p>\n\n<p>On your environment, <code>org.engine.security.WebSecurityConfig</code> and <code>org.engine.security.WebSecurityConfiguration</code> are ones.</p>\n"},{"tags":[],"owner":{"account_id":8891376,"reputation":431,"user_id":6637798,"display_name":"howard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596165868,"creation_date":1596163579,"answer_id":63185045,"question_id":62162237,"body_markdown":"You need annotate the Configurers with a different @Order value--so like @Order(101) or something.\r\n","title":"@Order on WebSecurityConfigurers must be unique. Order of 100 was already used on org.engine.security.WebSecurityConfig","body":"<p>You need annotate the Configurers with a different @Order value--so like @Order(101) or something.</p>\n"},{"tags":[],"owner":{"account_id":23557323,"reputation":1,"user_id":17599149,"display_name":"Gaurav Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649391712,"creation_date":1649307990,"answer_id":71776607,"question_id":62162237,"body_markdown":"This error occurs when your SpringBoot application has two classes that &#39;extends&#39; `WebSecurityConfigurerAdapter`. \r\n\r\nOption 1: Keep only one class that extends `WebSecurityConfigurerAdapter`.\r\n\r\nOption 2: If you want to extend `WebSecurityConfigurerAdapter` multiple times then set explicit `@Order(1)` annotation on the class that you wish to be considered first.\r\n````\r\n    @Configuration\r\n\t@Order(1)                                                        \r\n\tpublic static class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\t\t\t\t.antMatcher(&quot;/api/**&quot;)                               \r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.anyRequest().hasRole(&quot;ADMIN&quot;)\r\n\t\t\t\t\t.and()\r\n\t\t\t\t.httpBasic();\r\n\t\t}\r\n\t}\r\n\r\n\t@Configuration                                                   \r\n\tpublic static class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t.formLogin();\r\n\t\t}\r\n\t} \r\n````\r\n\r\nLink to Spring Docs: https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/jc.html","title":"@Order on WebSecurityConfigurers must be unique. Order of 100 was already used on org.engine.security.WebSecurityConfig","body":"<p>This error occurs when your SpringBoot application has two classes that 'extends' <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>Option 1: Keep only one class that extends <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>Option 2: If you want to extend <code>WebSecurityConfigurerAdapter</code> multiple times then set explicit <code>@Order(1)</code> annotation on the class that you wish to be considered first.</p>\n<pre><code>    @Configuration\n    @Order(1)                                                        \n    public static class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                .antMatcher(&quot;/api/**&quot;)                               \n                .authorizeRequests()\n                    .anyRequest().hasRole(&quot;ADMIN&quot;)\n                    .and()\n                .httpBasic();\n        }\n    }\n\n    @Configuration                                                   \n    public static class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                .authorizeRequests()\n                    .anyRequest().authenticated()\n                    .and()\n                .formLogin();\n        }\n    } \n</code></pre>\n<p>Link to Spring Docs: <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/jc.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.2.x/reference/html/jc.html</a></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5298,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1649391712,"creation_date":1591136290,"question_id":62162237,"body_markdown":"I&#39;m trying to run Spring Boot app which connects to remote MySQL server. I get exception during startup time:\r\n\r\n    Caused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on org.engine.security.WebSecurityConfig$$EnhancerBySpringCGLIB$$de8b459d@49e2b3c5, so it cannot be used on org.engine.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$e6562c81@5a484ce1 too.\r\n            at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:147\r\n\r\nFull log: https://pastebin.com/xDguJ0Vz\r\n\r\n\r\nLocally it&#39;s working fine. Probably the connect time to MySQL is the issue. Do you know how I can increase the connect time in order to fix this issue?","title":"@Order on WebSecurityConfigurers must be unique. Order of 100 was already used on org.engine.security.WebSecurityConfig","body":"<p>I'm trying to run Spring Boot app which connects to remote MySQL server. I get exception during startup time:</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on org.engine.security.WebSecurityConfig$$EnhancerBySpringCGLIB$$de8b459d@49e2b3c5, so it cannot be used on org.engine.security.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$e6562c81@5a484ce1 too.\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(WebSecurityConfiguration.java:147\n</code></pre>\n\n<p>Full log: <a href=\"https://pastebin.com/xDguJ0Vz\" rel=\"nofollow noreferrer\">https://pastebin.com/xDguJ0Vz</a></p>\n\n<p>Locally it's working fine. Probably the connect time to MySQL is the issue. Do you know how I can increase the connect time in order to fix this issue?</p>\n"},{"tags":["java","swing","jpanel","paintcomponent","game-loop"],"comments":[{"owner":{"account_id":24006293,"reputation":3,"user_id":17990415,"display_name":"Hilter Steve"},"score":0,"creation_date":1648273235,"post_id":71625589,"comment_id":126587823,"body_markdown":"Please note, the `update();` method is **INCOMPLETE** because I need to complete the other code *first*","body":"Please note, the <code>update();</code> method is <b>INCOMPLETE</b> because I need to complete the other code <i>first</i>"}],"answers":[{"tags":[],"owner":{"account_id":24006293,"reputation":3,"user_id":17990415,"display_name":"Hilter Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648451612,"creation_date":1648451612,"answer_id":71643637,"question_id":71625589,"body_markdown":"After a bit of reading the code, I realized I didn&#39;t use the `getImg();` method, all I had to do was add one line of code in the `PanelManager()` constructor as shown below :-\r\n\r\n```\r\npublic PanelManager() {\r\n        \r\n        this.setPreferredSize(new Dimension(600,600));\r\n        this.setBackground(Color.darkGray);\r\n        this.setDoubleBuffered(true);\r\n        \r\n        this.getImg();\r\n        this.startThread();\r\n}\r\n```","title":"PaintComponent doesn&#39;t draw BufferedImage grid on JPanel","body":"<p>After a bit of reading the code, I realized I didn't use the <code>getImg();</code> method, all I had to do was add one line of code in the <code>PanelManager()</code> constructor as shown below :-</p>\n<pre><code>public PanelManager() {\n        \n        this.setPreferredSize(new Dimension(600,600));\n        this.setBackground(Color.darkGray);\n        this.setDoubleBuffered(true);\n        \n        this.getImg();\n        this.startThread();\n}\n</code></pre>\n"}],"owner":{"account_id":24006293,"reputation":3,"user_id":17990415,"display_name":"Hilter Steve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649391690,"creation_date":1648273112,"question_id":71625589,"body_markdown":"I created a 600 x 600 grid for a TicTacToe game, but every time I try to get the image(Using the `getImg()` method), it shows a white screen. The JPanel&#39;s background is darkGray, it neither draws the grid, nor does it show the JPanel background.\r\n\r\nThis is the code, I haven&#39;t tried anything\r\n\r\n&gt; PanelManager.java\r\n\r\n```\r\npackage TicTacToe.display.panel;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.JPanel;\r\n\r\npublic class PanelManager extends JPanel implements Runnable{\r\n\t\r\n\tThread t;\r\n\t\r\n\tBufferedImage grid;\r\n\t\r\n\tpublic PanelManager() {\r\n\t\t\r\n\t\tthis.setPreferredSize(new Dimension(600,600));\r\n\t    this.setBackground(Color.darkGray);\r\n\t    this.setDoubleBuffered(true);\r\n\t    \r\n\t    this.startThread();\r\n}\r\n\tpublic void getImg() {\r\n\t\ttry {\r\n\t    \tgrid = ImageIO.read(getClass().getResourceAsStream(&quot;/TicTacToe/grid/grid.png&quot;));\r\n\t    }\r\n\t    catch (IOException e) {\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t}\r\n\tpublic void startThread() {\r\n\t\t\r\n\t\tt = new Thread(this);\r\n\t\tt.start();\r\n\t\t\r\n\t}\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tGraphics2D g2 = (Graphics2D)g;\r\n\t\t\r\n\t\tg2.drawImage(grid,300,300,600,600,null);\r\n\t\t\r\n\t\tg2.dispose();\r\n\t\t\r\n\t}\r\n\tpublic void update() {\r\n\t\t\r\n\t}\r\n\tpublic void run() {\r\n\t    while(t != null) {\r\n\t    \t\tupdate();\r\n\t    \t\ttry {\r\n\t    \t\t\tThread.sleep(10);\r\n\t    \t\t}\r\n\t    \t\tcatch (Exception e) {}\r\n\t    \t\trepaint();\r\n\t    \t\t\r\n\t    }        \r\n\t}\r\n\r\n}\r\n```\r\n\r\n&gt; FrameManager.java\r\n\r\n```\r\npackage TicTacToe.display;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.WindowConstants;\r\n\r\nimport TicTacToe.display.panel.PanelManager;\r\n\r\npublic class FrameManager {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tJFrame f = new JFrame();\r\n\t\tPanelManager pm = new PanelManager();\r\n\t\t\r\n\t\tf.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tf.setTitle(&quot;TicTacToe Windowed Edition&quot;);\r\n\t\tf.setResizable(false);\r\n\t\tf.setVisible(true);\r\n\t\tf.setSize(600,600);\r\n\t\tf.setLocationRelativeTo(null);\r\n\t\t\r\n\t\t\r\n\t\tf.add(pm);\r\n\t}\r\n}\r\n```","title":"PaintComponent doesn&#39;t draw BufferedImage grid on JPanel","body":"<p>I created a 600 x 600 grid for a TicTacToe game, but every time I try to get the image(Using the <code>getImg()</code> method), it shows a white screen. The JPanel's background is darkGray, it neither draws the grid, nor does it show the JPanel background.</p>\n<p>This is the code, I haven't tried anything</p>\n<blockquote>\n<p>PanelManager.java</p>\n</blockquote>\n<pre><code>package TicTacToe.display.panel;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.JPanel;\n\npublic class PanelManager extends JPanel implements Runnable{\n    \n    Thread t;\n    \n    BufferedImage grid;\n    \n    public PanelManager() {\n        \n        this.setPreferredSize(new Dimension(600,600));\n        this.setBackground(Color.darkGray);\n        this.setDoubleBuffered(true);\n        \n        this.startThread();\n}\n    public void getImg() {\n        try {\n            grid = ImageIO.read(getClass().getResourceAsStream(&quot;/TicTacToe/grid/grid.png&quot;));\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    public void startThread() {\n        \n        t = new Thread(this);\n        t.start();\n        \n    }\n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        \n        Graphics2D g2 = (Graphics2D)g;\n        \n        g2.drawImage(grid,300,300,600,600,null);\n        \n        g2.dispose();\n        \n    }\n    public void update() {\n        \n    }\n    public void run() {\n        while(t != null) {\n                update();\n                try {\n                    Thread.sleep(10);\n                }\n                catch (Exception e) {}\n                repaint();\n                \n        }        \n    }\n\n}\n</code></pre>\n<blockquote>\n<p>FrameManager.java</p>\n</blockquote>\n<pre><code>package TicTacToe.display;\n\nimport javax.swing.JFrame;\nimport javax.swing.WindowConstants;\n\nimport TicTacToe.display.panel.PanelManager;\n\npublic class FrameManager {\n    public static void main(String[] args) {\n        \n        JFrame f = new JFrame();\n        PanelManager pm = new PanelManager();\n        \n        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        f.setTitle(&quot;TicTacToe Windowed Edition&quot;);\n        f.setResizable(false);\n        f.setVisible(true);\n        f.setSize(600,600);\n        f.setLocationRelativeTo(null);\n        \n        \n        f.add(pm);\n    }\n}\n</code></pre>\n"},{"tags":["java","ssl","jetty"],"answers":[{"tags":[],"owner":{"account_id":7150932,"reputation":563,"user_id":5465007,"display_name":"Roald Bankras"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1649391258,"creation_date":1445724193,"answer_id":33323842,"question_id":33146476,"body_markdown":"Since jetty-client &gt;= 10\r\n\r\n[HttpClient supports HTTPS requests out-of-the-box like a browser does.][1]\r\n\r\n\r\n---\r\n\r\nPrior jetty-client 9 \r\n\r\n[In order to perform HTTPS requests, you should create first a SslContextFactory.Client][2]\r\n\r\n\r\nYou have to pass a `SslContextFactory` into the `HttpClient` like this:\r\n\r\n    HttpClient httpClient = new HttpClient(new SslContextFactory());\r\n\r\nYou can even configure the `SslContextFactory` by trusting all or give it a keystore:\r\n\r\n    new SslContextFactory(true);\r\n    new SslContextFactory(&quot;/path/to/.keystore&quot;);\r\n\r\n\r\n  [1]: https://www.eclipse.org/jetty/documentation/jetty-10/programming-guide/index.html#pg-client-http-configuration-tls\r\n  [2]: https://www.eclipse.org/jetty/documentation/jetty-9/index.html#:~:text=In%20order%20to%20perform%20HTTPS%20requests%2C%20you%20should%20create%20first%20a%20SslContextFactory.Client","title":"Jetty: How to use SSL in Jetty client side","body":"<p>Since jetty-client &gt;= 10</p>\n<p><a href=\"https://www.eclipse.org/jetty/documentation/jetty-10/programming-guide/index.html#pg-client-http-configuration-tls\" rel=\"nofollow noreferrer\">HttpClient supports HTTPS requests out-of-the-box like a browser does.</a></p>\n<hr />\n<p>Prior jetty-client 9</p>\n<p><a href=\"https://www.eclipse.org/jetty/documentation/jetty-9/index.html#:%7E:text=In%20order%20to%20perform%20HTTPS%20requests%2C%20you%20should%20create%20first%20a%20SslContextFactory.Client\" rel=\"nofollow noreferrer\">In order to perform HTTPS requests, you should create first a SslContextFactory.Client</a></p>\n<p>You have to pass a <code>SslContextFactory</code> into the <code>HttpClient</code> like this:</p>\n<pre><code>HttpClient httpClient = new HttpClient(new SslContextFactory());\n</code></pre>\n<p>You can even configure the <code>SslContextFactory</code> by trusting all or give it a keystore:</p>\n<pre><code>new SslContextFactory(true);\nnew SslContextFactory(&quot;/path/to/.keystore&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13450059,"reputation":96,"user_id":10731283,"display_name":"mwikya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618942643,"creation_date":1618911221,"answer_id":67176246,"question_id":33146476,"body_markdown":"this is what worked for me with jetty-11\r\n\r\n    SslContextFactory.Client sslContextFactory = new SslContextFactory.Client();\r\n    sslContextFactory.setTrustAll(true); // you might want to think about this first\r\n\r\n    \r\n    ClientConnector clientConnector = new ClientConnector();\r\n    clientConnector.setSslContextFactory(sslContextFactory);\r\n    \r\n    HttpClient httpClient = new HttpClient(new HttpClientTransportDynamic(clientConnector));\r\n    httpClient.start();\r\n\r\nfor explanation, check out the official documentation here [https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#pg-client-http-configuration-tls][1]\r\n\r\n  [1]: https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#pg-client-http-configuration-tls\r\n","title":"Jetty: How to use SSL in Jetty client side","body":"<p>this is what worked for me with jetty-11</p>\n<pre><code>SslContextFactory.Client sslContextFactory = new SslContextFactory.Client();\nsslContextFactory.setTrustAll(true); // you might want to think about this first\n\n\nClientConnector clientConnector = new ClientConnector();\nclientConnector.setSslContextFactory(sslContextFactory);\n\nHttpClient httpClient = new HttpClient(new HttpClientTransportDynamic(clientConnector));\nhttpClient.start();\n</code></pre>\n<p>for explanation, check out the official documentation here <a href=\"https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#pg-client-http-configuration-tls\" rel=\"noreferrer\">https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#pg-client-http-configuration-tls</a></p>\n"}],"owner":{"account_id":5391135,"reputation":2152,"user_id":4293609,"accept_rate":61,"display_name":"sabrina2020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9270,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33323842,"answer_count":2,"score":4,"last_activity_date":1649391258,"creation_date":1444906070,"question_id":33146476,"body_markdown":"I am using Jetty to develop my client application side.\r\nI am not using Jetty in the server part.\r\nWhat I need to configure on the client side to be able send &quot;https&quot; request using the Jetty client?\r\n\r\nThat is what I do for HTTP client:\r\n\r\n    httpClient = new HttpClient();\r\n    // Configure HttpClient\r\n    httpClient.setFollowRedirects(false);\r\n   \r\n    httpClient.start();\r\n    \r\n    Request request = httpClient.newRequest(url);\r\n    //code\r\n    httpClient.stop();\r\n\r\nI got this exception if I try to send request using &quot;https&quot;:\r\n\r\n    java.util.concurrent.ExecutionException: java.lang.NullPointerException\r\n    \tat org.eclipse.jetty.client.util.FutureResponseListener.getResult(FutureResponseListener.java:118)\r\n    \tat org.eclipse.jetty.client.util.FutureResponseListener.get(FutureResponseListener.java:101)\r\n    \tat org.eclipse.jetty.client.HttpRequest.send(HttpRequest.java:653)\r\n    \tat egm.httpClient.jetty.TestBackend.POST(TestBackend.java:204)\r\n    \tat egm.httpClient.jetty.TestStep.execute(TestStep.java:77)\r\n    \tat egm.httpClient.jetty.TestSuite.execute(TestSuite.java:57)\r\n    \tat egm.httpClient.jetty.TestLauncher.main(TestLauncher.java:139)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.eclipse.jetty.io.ssl.SslClientConnectionFactory.newConnection(SslClientConnectionFactory.java:57)\r\n    \tat org.eclipse.jetty.client.AbstractHttpClientTransport$ClientSelectorManager.newConnection(AbstractHttpClientTransport.java:187)\r\n    \tat org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:411)\r\n    \tat org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:56)\r\n    \tat org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:587)\r\n    \tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213)\r\n    \tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.execute(ExecuteProduceConsume.java:101)\r\n    \tat org.eclipse.jetty.io.ManagedSelector.run(ManagedSelector.java:136)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\r\n    \tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\r\n    \tat java.lang.Thread.run(Unknown Source)","title":"Jetty: How to use SSL in Jetty client side","body":"<p>I am using Jetty to develop my client application side.\nI am not using Jetty in the server part.\nWhat I need to configure on the client side to be able send \"https\" request using the Jetty client?</p>\n\n<p>That is what I do for HTTP client:</p>\n\n<pre><code>httpClient = new HttpClient();\n// Configure HttpClient\nhttpClient.setFollowRedirects(false);\n\nhttpClient.start();\n\nRequest request = httpClient.newRequest(url);\n//code\nhttpClient.stop();\n</code></pre>\n\n<p>I got this exception if I try to send request using \"https\":</p>\n\n<pre><code>java.util.concurrent.ExecutionException: java.lang.NullPointerException\n    at org.eclipse.jetty.client.util.FutureResponseListener.getResult(FutureResponseListener.java:118)\n    at org.eclipse.jetty.client.util.FutureResponseListener.get(FutureResponseListener.java:101)\n    at org.eclipse.jetty.client.HttpRequest.send(HttpRequest.java:653)\n    at egm.httpClient.jetty.TestBackend.POST(TestBackend.java:204)\n    at egm.httpClient.jetty.TestStep.execute(TestStep.java:77)\n    at egm.httpClient.jetty.TestSuite.execute(TestSuite.java:57)\n    at egm.httpClient.jetty.TestLauncher.main(TestLauncher.java:139)\nCaused by: java.lang.NullPointerException\n    at org.eclipse.jetty.io.ssl.SslClientConnectionFactory.newConnection(SslClientConnectionFactory.java:57)\n    at org.eclipse.jetty.client.AbstractHttpClientTransport$ClientSelectorManager.newConnection(AbstractHttpClientTransport.java:187)\n    at org.eclipse.jetty.io.ManagedSelector.createEndPoint(ManagedSelector.java:411)\n    at org.eclipse.jetty.io.ManagedSelector.access$1600(ManagedSelector.java:56)\n    at org.eclipse.jetty.io.ManagedSelector$CreateEndPoint.run(ManagedSelector.java:587)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.execute(ExecuteProduceConsume.java:101)\n    at org.eclipse.jetty.io.ManagedSelector.run(ManagedSelector.java:136)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","react-native","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":18739573,"reputation":14,"user_id":13663091,"display_name":"Braulio Monroy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649360332,"creation_date":1649359099,"answer_id":71787805,"question_id":71786794,"body_markdown":"there!\r\n\r\nI was facing the same issue.\r\n\r\nJust make sure you have your JAVA_HOME into yours enviroments variables, mine has the next path -&gt; [enter image description here][3]\r\n\r\n\r\n  [3]: https://i.stack.imgur.com/5AtRw.png","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8 - React Native","body":"<p>there!</p>\n<p>I was facing the same issue.</p>\n<p>Just make sure you have your JAVA_HOME into yours enviroments variables, mine has the next path -&gt; <a href=\"https://i.stack.imgur.com/5AtRw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649390710,"creation_date":1649390710,"answer_id":71791560,"question_id":71786794,"body_markdown":"You can modify the JDK version to compile your projects like this:\r\n\r\n      &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n          &quot;path&quot;: &quot;C:\\\\Users\\\\Administrator\\\\Desktop\\\\jdk-17.0.2&quot;,\r\n          &quot;default&quot;: true\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;JavaSE-14&quot;,\r\n          &quot;path&quot;: &quot;C:\\\\Users\\\\Administrator\\\\Desktop\\\\jdk-14&quot;\r\n        }\r\n      ],\r\n\r\nYou can refer to the [official docs][1] for more details.\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8 - React Native","body":"<p>You can modify the JDK version to compile your projects like this:</p>\n<pre><code>  &quot;java.configuration.runtimes&quot;: [\n    {\n      &quot;name&quot;: &quot;JavaSE-17&quot;,\n      &quot;path&quot;: &quot;C:\\\\Users\\\\Administrator\\\\Desktop\\\\jdk-17.0.2&quot;,\n      &quot;default&quot;: true\n    },\n    {\n      &quot;name&quot;: &quot;JavaSE-14&quot;,\n      &quot;path&quot;: &quot;C:\\\\Users\\\\Administrator\\\\Desktop\\\\jdk-14&quot;\n    }\n  ],\n</code></pre>\n<p>You can refer to the <a href=\"https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements\" rel=\"nofollow noreferrer\">official docs</a> for more details.</p>\n"}],"owner":{"account_id":22576438,"reputation":21,"user_id":17992990,"display_name":"LeonelRequiem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1649390710,"creation_date":1649353713,"question_id":71786794,"body_markdown":"&gt; Failed to apply plugin &#39;com.android.internal.application&#39;. Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n\r\nHow can I change the version of Java used by the project? Download the corresponding version. I run the project from Visual Studio Code.\r\n\r\nAdd this code in &quot;my-project/android/gradle.properties&quot;\r\n\r\n&gt; org.gradle.java.home=C:\\Program Files\\Java\\jdk-11.0.14\r\n\r\nBut I get the following error:\r\n&gt;Value &#39;C:Program FilesJavajdk-11.0.14&#39; given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8 - React Native","body":"<blockquote>\n<p>Failed to apply plugin 'com.android.internal.application'. Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.</p>\n</blockquote>\n<p>How can I change the version of Java used by the project? Download the corresponding version. I run the project from Visual Studio Code.</p>\n<p>Add this code in &quot;my-project/android/gradle.properties&quot;</p>\n<blockquote>\n<p>org.gradle.java.home=C:\\Program Files\\Java\\jdk-11.0.14</p>\n</blockquote>\n<p>But I get the following error:</p>\n<blockquote>\n<p>Value 'C:Program FilesJavajdk-11.0.14' given for org.gradle.java.home Gradle property is invalid (Java home supplied is invalid)</p>\n</blockquote>\n"},{"tags":["java","swing","jpanel","jbutton","jlabel"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649086105,"post_id":71739731,"comment_id":126781296,"body_markdown":"A JPanel is not an ActionListener. However, you could let your panel implement that interface too. Your Main class is an ActionListener too.","body":"A JPanel is not an ActionListener. However, you could let your panel implement that interface too. Your Main class is an ActionListener too."}],"answers":[{"tags":[],"owner":{"account_id":2606259,"reputation":2527,"user_id":2257374,"accept_rate":64,"display_name":"marc3l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649086714,"creation_date":1649086714,"answer_id":71739994,"question_id":71739731,"body_markdown":"You cannot register a `java.awt.Component` (which JPanel is) as an `ActionListener` of `JButton`. Instead you should use one of the appropriate listeners listed here, to register one onto the `JPanel`: https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html\r\n\r\nYou should do:\r\n\r\n    button.addActionListener(new Main());\r\n\r\nbut it would be better if you create a new class for the `ActionListener` and implement the interface there, and then in the main method use the constructor of your own listener.\r\n\r\nAnd always read the documentation ;)","title":"The method addActionListener(ActionListener) in the type AbstractButton is not applicable for the arguments (JPanel)","body":"<p>You cannot register a <code>java.awt.Component</code> (which JPanel is) as an <code>ActionListener</code> of <code>JButton</code>. Instead you should use one of the appropriate listeners listed here, to register one onto the <code>JPanel</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html</a></p>\n<p>You should do:</p>\n<pre><code>button.addActionListener(new Main());\n</code></pre>\n<p>but it would be better if you create a new class for the <code>ActionListener</code> and implement the interface there, and then in the main method use the constructor of your own listener.</p>\n<p>And always read the documentation ;)</p>\n"}],"owner":{"account_id":21056241,"reputation":9,"user_id":15475451,"display_name":"Arbalistic_Cow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649390444,"creation_date":1649085646,"question_id":71739731,"body_markdown":"    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    public class Main implements ActionListener{\r\n    \tJButton button;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tJButton button = new JButton();\r\n    \t\tJLabel label = new JLabel();\r\n    \t\tlabel.setText(&quot;&quot;);\r\n    \t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\tJPanel redPanel = new JPanel();\r\n    \t\tredPanel.setBackground(Color.red);\r\n    \t\tredPanel.setBounds(0,250,250,250);\r\n    \t\tredPanel.setLayout(new BorderLayout());\r\n    \t\tJPanel bluePanel = new JPanel();\r\n    \t\tbluePanel.setBackground(Color.blue);\r\n    \t\tbluePanel.setBounds(250,250,250,250);\r\n    \t\tbluePanel.setLayout(new BorderLayout());\r\n    \t\tJPanel greenPanel = new JPanel();\r\n    \t\tgreenPanel.setBackground(Color.green);\r\n    \t\tgreenPanel.setBounds(0,0,500,250);\r\n    \t\tgreenPanel.setLayout(new BorderLayout());\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setLayout(null);\r\n    \t\tframe.setSize(750, 750);\r\n    \t\tframe.setVisible(true);\r\n    \t\tredPanel.add(label);\r\n    \t\tredPanel.add(button);\r\n    \t\tframe.add(redPanel);\r\n    \t\tframe.add(bluePanel);\r\n    \t\tframe.add(greenPanel);\r\n    \t\tbutton.setBounds(0,250,250,250);\r\n    \t\tbutton.addActionListener(redPanel);\r\n    \t}\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tif(e.getSource() == button) {\r\n    \t\t\tSystem.out.print(&quot;ahahah&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI wanted to add a fully functioning button inside the main class\r\n\r\ni had the error:The method addActionListener(ActionListener) in the type AbstractButton is not applicable for the arguments (JPanel)\r\n\r\n(I tried putting JPanel as an argument)\r\n\r\n    button.addActionListener(redPanel);","title":"The method addActionListener(ActionListener) in the type AbstractButton is not applicable for the arguments (JPanel)","body":"<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\npublic class Main implements ActionListener{\n    JButton button;\n    public static void main(String[] args) {\n        JButton button = new JButton();\n        JLabel label = new JLabel();\n        label.setText(&quot;&quot;);\n        label.setHorizontalAlignment(JLabel.CENTER);\n        JPanel redPanel = new JPanel();\n        redPanel.setBackground(Color.red);\n        redPanel.setBounds(0,250,250,250);\n        redPanel.setLayout(new BorderLayout());\n        JPanel bluePanel = new JPanel();\n        bluePanel.setBackground(Color.blue);\n        bluePanel.setBounds(250,250,250,250);\n        bluePanel.setLayout(new BorderLayout());\n        JPanel greenPanel = new JPanel();\n        greenPanel.setBackground(Color.green);\n        greenPanel.setBounds(0,0,500,250);\n        greenPanel.setLayout(new BorderLayout());\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        frame.setSize(750, 750);\n        frame.setVisible(true);\n        redPanel.add(label);\n        redPanel.add(button);\n        frame.add(redPanel);\n        frame.add(bluePanel);\n        frame.add(greenPanel);\n        button.setBounds(0,250,250,250);\n        button.addActionListener(redPanel);\n    }\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == button) {\n            System.out.print(&quot;ahahah&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I wanted to add a fully functioning button inside the main class</p>\n<p>i had the error:The method addActionListener(ActionListener) in the type AbstractButton is not applicable for the arguments (JPanel)</p>\n<p>(I tried putting JPanel as an argument)</p>\n<pre><code>button.addActionListener(redPanel);\n</code></pre>\n"},{"tags":["java","arrays","json","extract"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1649387991,"post_id":71791302,"comment_id":126867955,"body_markdown":"You input (json) is not valid, it should be wrapped in `[...]` to specify an &quot;array&quot; of objects","body":"You input (json) is not valid, it should be wrapped in <code>[...]</code> to specify an &quot;array&quot; of objects"},{"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"score":0,"creation_date":1649388895,"post_id":71791302,"comment_id":126868078,"body_markdown":"Fixed it, but still get the same error","body":"Fixed it, but still get the same error"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1649388990,"post_id":71791302,"comment_id":126868095,"body_markdown":"@Tiya You shouldn&#39;t have added the extra leading &quot;{&quot; and trailing &quot;}&quot;.","body":"@Tiya You shouldn&#39;t have added the extra leading &quot;{&quot; and trailing &quot;}&quot;."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649390127,"creation_date":1649390127,"answer_id":71791508,"question_id":71791302,"body_markdown":"This is where a good [JSON formatter](https://jsonformatter.curiousconcept.com/#) can really help.\r\n\r\n    {\r\n        &quot;autoId&quot;: &quot;babsds&quot;,\r\n        &quot;partNumber&quot;: 6144686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1129&quot;\r\n    },\r\n    {\r\n        &quot;autoId&quot;: &quot;bassb&quot;,\r\n        &quot;partNumber&quot;: 6442686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1219&quot;\r\n    },\r\n    {\r\n        &quot;autoId&quot;: &quot;bsswab&quot;,\r\n        &quot;partNumber&quot;: 6344686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1291&quot;\r\n    },\r\n    {\r\n        &quot;autoId&quot;: &quot;badfgb&quot;,\r\n        &quot;partNumber&quot;: 6446856,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;0129&quot;\r\n    }\r\n\r\nIs invalid, as it should either start with a single &quot;outer&quot; object or array\r\n\r\nAnd...\r\n\r\n    {\r\n        [\r\n            {\r\n                &quot;autoId&quot;: &quot;babsds&quot;,\r\n                &quot;partNumber&quot;: 6144686,\r\n                &quot;amount&quot;: &quot;139.98&quot;,\r\n                &quot;id&quot;: &quot;1129&quot;\r\n            },\r\n            {\r\n                &quot;autoId&quot;: &quot;bassb&quot;,\r\n                &quot;partNumber&quot;: 6442686,\r\n                &quot;amount&quot;: &quot;139.98&quot;,\r\n                &quot;id&quot;: &quot;1219&quot;\r\n            },\r\n            {\r\n                &quot;autoId&quot;: &quot;bsswab&quot;,\r\n                &quot;partNumber&quot;: 6344686,\r\n                &quot;amount&quot;: &quot;139.98&quot;,\r\n                &quot;id&quot;: &quot;1291&quot;\r\n            },\r\n            {\r\n                &quot;autoId&quot;: &quot;badfgb&quot;,\r\n                &quot;partNumber&quot;: 6446856,\r\n                &quot;amount&quot;: &quot;139.98&quot;,\r\n                &quot;id&quot;: &quot;0129&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nis invalid as the array needs a key ie `{&quot;some array&quot;:[...]}`\r\n\r\nSo, I modified your JSON to look like...\r\n\r\n    [\r\n        {\r\n            &quot;autoId&quot;: &quot;babsds&quot;,\r\n            &quot;partNumber&quot;: 6144686,\r\n            &quot;amount&quot;: &quot;139.98&quot;,\r\n            &quot;id&quot;: &quot;1129&quot;\r\n        },\r\n        {\r\n            &quot;autoId&quot;: &quot;bassb&quot;,\r\n            &quot;partNumber&quot;: 6442686,\r\n            &quot;amount&quot;: &quot;139.98&quot;,\r\n            &quot;id&quot;: &quot;1219&quot;\r\n        },\r\n        {\r\n            &quot;autoId&quot;: &quot;bsswab&quot;,\r\n            &quot;partNumber&quot;: 6344686,\r\n            &quot;amount&quot;: &quot;139.98&quot;,\r\n            &quot;id&quot;: &quot;1291&quot;\r\n        },\r\n        {\r\n            &quot;autoId&quot;: &quot;badfgb&quot;,\r\n            &quot;partNumber&quot;: 6446856,\r\n            &quot;amount&quot;: &quot;139.98&quot;,\r\n            &quot;id&quot;: &quot;0129&quot;\r\n        }\r\n    ]\r\n\r\nand used...\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.reflect.TypeToken;\r\n    import java.lang.reflect.Type;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Gson gson1 = new Gson();\r\n            Type listType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;() {\r\n            }.getType();\r\n\r\n            List&lt;MyObject&gt; stats = gson1.fromJson(getJson(), listType);\r\n            for (MyObject st : stats) {\r\n                System.out.println(st.id);\r\n            }\r\n        }\r\n\r\n        protected static String getJson() {\r\n            return &quot;&quot;&quot;\r\n                [\r\n                    {\r\n                        &quot;autoId&quot;: &quot;babsds&quot;,\r\n                        &quot;partNumber&quot;: 6144686,\r\n                        &quot;amount&quot;: &quot;139.98&quot;,\r\n                        &quot;id&quot;: &quot;1129&quot;\r\n                    },\r\n                    {\r\n                        &quot;autoId&quot;: &quot;bassb&quot;,\r\n                        &quot;partNumber&quot;: 6442686,\r\n                        &quot;amount&quot;: &quot;139.98&quot;,\r\n                        &quot;id&quot;: &quot;1219&quot;\r\n                    },\r\n                    {\r\n                        &quot;autoId&quot;: &quot;bsswab&quot;,\r\n                        &quot;partNumber&quot;: 6344686,\r\n                        &quot;amount&quot;: &quot;139.98&quot;,\r\n                        &quot;id&quot;: &quot;1291&quot;\r\n                    },\r\n                    {\r\n                        &quot;autoId&quot;: &quot;badfgb&quot;,\r\n                        &quot;partNumber&quot;: 6446856,\r\n                        &quot;amount&quot;: &quot;139.98&quot;,\r\n                        &quot;id&quot;: &quot;0129&quot;\r\n                    }\r\n                ]\r\n                   &quot;&quot;&quot;;\r\n        }\r\n\r\n        public static class MyObject {\r\n            String autoId;\r\n            String partNumber;\r\n            String amount;\r\n            String id;\r\n\r\n            @Override\r\n            public String toString() {\r\n                return &quot;MyObject [autoId=&quot; + autoId + &quot;, partNumber=&quot; + partNumber\r\n                        + &quot;, amount=&quot; + amount\r\n                        + &quot;, id=&quot; + id\r\n                        + &quot;]&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nto parse it and it prints...\r\n\r\n    1129\r\n    1219\r\n    1291\r\n    0129","title":"Extract a field value from json","body":"<p>This is where a good <a href=\"https://jsonformatter.curiousconcept.com/#\" rel=\"nofollow noreferrer\">JSON formatter</a> can really help.</p>\n<pre><code>{\n    &quot;autoId&quot;: &quot;babsds&quot;,\n    &quot;partNumber&quot;: 6144686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1129&quot;\n},\n{\n    &quot;autoId&quot;: &quot;bassb&quot;,\n    &quot;partNumber&quot;: 6442686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1219&quot;\n},\n{\n    &quot;autoId&quot;: &quot;bsswab&quot;,\n    &quot;partNumber&quot;: 6344686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1291&quot;\n},\n{\n    &quot;autoId&quot;: &quot;badfgb&quot;,\n    &quot;partNumber&quot;: 6446856,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;0129&quot;\n}\n</code></pre>\n<p>Is invalid, as it should either start with a single &quot;outer&quot; object or array</p>\n<p>And...</p>\n<pre><code>{\n    [\n        {\n            &quot;autoId&quot;: &quot;babsds&quot;,\n            &quot;partNumber&quot;: 6144686,\n            &quot;amount&quot;: &quot;139.98&quot;,\n            &quot;id&quot;: &quot;1129&quot;\n        },\n        {\n            &quot;autoId&quot;: &quot;bassb&quot;,\n            &quot;partNumber&quot;: 6442686,\n            &quot;amount&quot;: &quot;139.98&quot;,\n            &quot;id&quot;: &quot;1219&quot;\n        },\n        {\n            &quot;autoId&quot;: &quot;bsswab&quot;,\n            &quot;partNumber&quot;: 6344686,\n            &quot;amount&quot;: &quot;139.98&quot;,\n            &quot;id&quot;: &quot;1291&quot;\n        },\n        {\n            &quot;autoId&quot;: &quot;badfgb&quot;,\n            &quot;partNumber&quot;: 6446856,\n            &quot;amount&quot;: &quot;139.98&quot;,\n            &quot;id&quot;: &quot;0129&quot;\n        }\n    ]\n}\n</code></pre>\n<p>is invalid as the array needs a key ie <code>{&quot;some array&quot;:[...]}</code></p>\n<p>So, I modified your JSON to look like...</p>\n<pre><code>[\n    {\n        &quot;autoId&quot;: &quot;babsds&quot;,\n        &quot;partNumber&quot;: 6144686,\n        &quot;amount&quot;: &quot;139.98&quot;,\n        &quot;id&quot;: &quot;1129&quot;\n    },\n    {\n        &quot;autoId&quot;: &quot;bassb&quot;,\n        &quot;partNumber&quot;: 6442686,\n        &quot;amount&quot;: &quot;139.98&quot;,\n        &quot;id&quot;: &quot;1219&quot;\n    },\n    {\n        &quot;autoId&quot;: &quot;bsswab&quot;,\n        &quot;partNumber&quot;: 6344686,\n        &quot;amount&quot;: &quot;139.98&quot;,\n        &quot;id&quot;: &quot;1291&quot;\n    },\n    {\n        &quot;autoId&quot;: &quot;badfgb&quot;,\n        &quot;partNumber&quot;: 6446856,\n        &quot;amount&quot;: &quot;139.98&quot;,\n        &quot;id&quot;: &quot;0129&quot;\n    }\n]\n</code></pre>\n<p>and used...</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport java.lang.reflect.Type;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        Gson gson1 = new Gson();\n        Type listType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;() {\n        }.getType();\n\n        List&lt;MyObject&gt; stats = gson1.fromJson(getJson(), listType);\n        for (MyObject st : stats) {\n            System.out.println(st.id);\n        }\n    }\n\n    protected static String getJson() {\n        return &quot;&quot;&quot;\n            [\n                {\n                    &quot;autoId&quot;: &quot;babsds&quot;,\n                    &quot;partNumber&quot;: 6144686,\n                    &quot;amount&quot;: &quot;139.98&quot;,\n                    &quot;id&quot;: &quot;1129&quot;\n                },\n                {\n                    &quot;autoId&quot;: &quot;bassb&quot;,\n                    &quot;partNumber&quot;: 6442686,\n                    &quot;amount&quot;: &quot;139.98&quot;,\n                    &quot;id&quot;: &quot;1219&quot;\n                },\n                {\n                    &quot;autoId&quot;: &quot;bsswab&quot;,\n                    &quot;partNumber&quot;: 6344686,\n                    &quot;amount&quot;: &quot;139.98&quot;,\n                    &quot;id&quot;: &quot;1291&quot;\n                },\n                {\n                    &quot;autoId&quot;: &quot;badfgb&quot;,\n                    &quot;partNumber&quot;: 6446856,\n                    &quot;amount&quot;: &quot;139.98&quot;,\n                    &quot;id&quot;: &quot;0129&quot;\n                }\n            ]\n               &quot;&quot;&quot;;\n    }\n\n    public static class MyObject {\n        String autoId;\n        String partNumber;\n        String amount;\n        String id;\n\n        @Override\n        public String toString() {\n            return &quot;MyObject [autoId=&quot; + autoId + &quot;, partNumber=&quot; + partNumber\n                    + &quot;, amount=&quot; + amount\n                    + &quot;, id=&quot; + id\n                    + &quot;]&quot;;\n        }\n    }\n}\n</code></pre>\n<p>to parse it and it prints...</p>\n<pre><code>1129\n1219\n1291\n0129\n</code></pre>\n"}],"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649390127,"creation_date":1649387875,"question_id":71791302,"body_markdown":"I am trying to extract a value of a field from json, I have a json file with contents like :\r\n\r\n     [ {\r\n        &quot;autoId&quot;: &quot;babsds&quot;,\r\n        &quot;partNumber&quot;: 6144686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1129&quot;\r\n      },\r\n      {\r\n        &quot;autoId&quot;: &quot;bassb&quot;,\r\n        &quot;partNumber&quot;: 6442686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1219&quot;\r\n      },\r\n      {\r\n        &quot;autoId&quot;: &quot;bsswab&quot;,\r\n        &quot;partNumber&quot;: 6344686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1291&quot;\r\n      },\r\n      {\r\n        &quot;autoId&quot;: &quot;badfgb&quot;,\r\n        &quot;partNumber&quot;: 6446856,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;0129&quot;\r\n      }]\r\n\r\nTo extract the value of id field, I created a java class with this code : \r\n\r\n      Gson gson1 = new Gson();\r\n        Type listType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;(){}.getType();\r\n\r\n        List&lt;MyObject&gt; stats = gson1.fromJson(getJson(), listType);\r\n        for (MyObject st : stats) {\r\n            System.out.println(st.id);\r\n        }\r\n\r\nand also created a MyObject class :\r\n\r\n        class MyObject {\r\n           String autoId;\r\n           String partNumber;\r\n           String amount;\r\n           String id;\r\n\r\n           @Override\r\n           public String toString() {\r\n              return &quot;MyObject [autoId=&quot; + autoId + &quot;, partNumber=&quot; + partNumber + \r\n                      &quot;, amount=&quot; + amount +\r\n                      &quot;, id=&quot; + id +\r\n                      &quot;]&quot;;\r\n        }\r\n\r\nBut I get this error : \r\n\r\n        Caused by: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\n          at com.google.gson.stream.JsonReader.beginArray(JsonReader.java:350)\r\n          at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:80)\r\n          at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\r\n          at com.google.gson.Gson.fromJson(Gson.java:888)\r\n          ... 27 more","title":"Extract a field value from json","body":"<p>I am trying to extract a value of a field from json, I have a json file with contents like :</p>\n<pre><code> [ {\n    &quot;autoId&quot;: &quot;babsds&quot;,\n    &quot;partNumber&quot;: 6144686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1129&quot;\n  },\n  {\n    &quot;autoId&quot;: &quot;bassb&quot;,\n    &quot;partNumber&quot;: 6442686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1219&quot;\n  },\n  {\n    &quot;autoId&quot;: &quot;bsswab&quot;,\n    &quot;partNumber&quot;: 6344686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1291&quot;\n  },\n  {\n    &quot;autoId&quot;: &quot;badfgb&quot;,\n    &quot;partNumber&quot;: 6446856,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;0129&quot;\n  }]\n</code></pre>\n<p>To extract the value of id field, I created a java class with this code :</p>\n<pre><code>  Gson gson1 = new Gson();\n    Type listType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;(){}.getType();\n\n    List&lt;MyObject&gt; stats = gson1.fromJson(getJson(), listType);\n    for (MyObject st : stats) {\n        System.out.println(st.id);\n    }\n</code></pre>\n<p>and also created a MyObject class :</p>\n<pre><code>    class MyObject {\n       String autoId;\n       String partNumber;\n       String amount;\n       String id;\n\n       @Override\n       public String toString() {\n          return &quot;MyObject [autoId=&quot; + autoId + &quot;, partNumber=&quot; + partNumber + \n                  &quot;, amount=&quot; + amount +\n                  &quot;, id=&quot; + id +\n                  &quot;]&quot;;\n    }\n</code></pre>\n<p>But I get this error :</p>\n<pre><code>    Caused by: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\n      at com.google.gson.stream.JsonReader.beginArray(JsonReader.java:350)\n      at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:80)\n      at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\n      at com.google.gson.Gson.fromJson(Gson.java:888)\n      ... 27 more\n</code></pre>\n"},{"tags":["java","variables","operators","integer-arithmetic"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1649353901,"post_id":71786776,"comment_id":126860576,"body_markdown":"Just as a side note, doing things in less lines isn&#39;t necessarily better a lot of the time.  Sometimes it takes more lines to write something that is easy to read (and practicing readable code and good documentation is important too)","body":"Just as a side note, doing things in less lines isn&#39;t necessarily better a lot of the time.  Sometimes it takes more lines to write something that is easy to read (and practicing readable code and good documentation is important too)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649354305,"post_id":71786776,"comment_id":126860700,"body_markdown":"you can use the `IntBinaryOperator` functional interface for such: `IntBinaryOperator operator = Integer::sum;` (not sure if you already had that in class)","body":"you can use the <code>IntBinaryOperator</code> functional interface for such: <code>IntBinaryOperator operator = Integer::sum;</code> (not sure if you already had that in class)"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649353735,"creation_date":1649353735,"answer_id":71786801,"question_id":71786776,"body_markdown":"No, you can&#39;t do that directly.  You will have to make a type that _represents_ an operator.\r\n\r\nThe most common way to do this is with an enum:\r\n\r\n```\r\nenum Operator {\r\n  PLUS {\r\n    @Override int operate(int a, int b) {\r\n      return a + b;\r\n    }\r\n  };\r\n\r\n  abstract int operate(int a, int b);\r\n}\r\n\r\nOperator operator = Operator.PLUS;\r\nint[] n = {1, 2};\r\nSystem.out.println(operator.operate(n[0], n[1]));\r\n```","title":"How to create a variable that contains an Operator in Java?","body":"<p>No, you can't do that directly.  You will have to make a type that <em>represents</em> an operator.</p>\n<p>The most common way to do this is with an enum:</p>\n<pre><code>enum Operator {\n  PLUS {\n    @Override int operate(int a, int b) {\n      return a + b;\n    }\n  };\n\n  abstract int operate(int a, int b);\n}\n\nOperator operator = Operator.PLUS;\nint[] n = {1, 2};\nSystem.out.println(operator.operate(n[0], n[1]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649389473,"creation_date":1649364652,"answer_id":71788763,"question_id":71786776,"body_markdown":"It&#39;s *not possible* to assign an operator to a variable.\r\n\r\n&gt; in 30 lines **or less** ... the program asks the user a simple addition, division, multiplication, or subtraction\r\n\r\nIf you want to implement it using as fewer lines as possible, build-in **functional interfaces** will be a good choice. For that, you need [`IntBinaryOperator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntBinaryOperator.html) that represents an operation done on two `int` arguments.\r\n\r\nFunctional interface can be implemented either by using a [lambda expression](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) or a [method reference](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n) (*also, you can do that with an anonymous inner class as well by it&#39;ll not be shorter*). Addition operation can be represented like that:\r\n```\r\nIntBinaryOperator add = Integer::sum; // or (i1, i2) -&gt; i1 + i2\r\n```\r\n\r\n&gt; The type of question (add, mult, etc.) should be selected **randomly**\r\n\r\nFor that, firstly, you need to define a [`Random`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int)) object. In order to obtain a random integer in the given range, use `nextInt()` method that expects an `int` bound, and returns a value from `0` up to the bound (*exclusive*):\r\n```\r\nrand.nextInt(RANGE)\r\n```\r\nTo avoid hard-coding, `RANGE` should be defined as a global constant.\r\n\r\nBecause your application has to interact with the user, every *operation* should be associated with a *name* that will be exposed to the user. \r\n\r\nIt can be done by declaring a [`record`](https://docs.oracle.com/en/java/javase/17/language/records.html) (*a special kind class with* `final` *field and auto-generated constructor, getters*, `hashCode/equals`, `toString()`). Syntax for declaring records is very concise:\r\n```\r\npublic record Operation(String name, IntBinaryOperator operation) {}\r\n```\r\n\r\n*Records* representing arithmetical operations can be stored in a *list*. And you can pick an operation by generating a random index (from `0` up to list size).\r\n```\r\noperations.get(rand.nextInt(operations.size()))\r\n```\r\nUnlike the common getters, names of getters that will be generated by the compiler for the record will identical to names of its fields, i.e. `name()` and `operation()`.\r\n\r\nIn order to use the function retrieved from the record, you need to invoke the method `applyAsInt()` on it, passing the two previously generated numbers.\r\n\r\nThat&#39;s how it might look like.\r\n```\r\npublic class Operations {\r\n    public static final int RANGE = 100;\r\n    public static final Random rand = new Random();\r\n    \r\n    public record Operation(String name, IntBinaryOperator operation) {}\r\n    public static final List&lt;Operation&gt; operations =\r\n            List.of(new Operation(&quot;add&quot;, Integer::sum), new Operation(&quot;sub&quot;, (i1, i2) -&gt; i1 - i2),\r\n                    new Operation(&quot;mult&quot;, (i1, i2) -&gt; i1 * i2), new Operation(&quot;div&quot;, (i1, i2) -&gt; i1 / i2));\r\n\r\n    public static void main(String[] args) {\r\n        // you code (instansiate a scanner, enclose the code below with a while loop) \r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Operation oper = operations.get(rand.nextInt(operations.size()));\r\n            int operand1 = rand.nextInt(RANGE);\r\n            int operand2 = rand.nextInt(RANGE);\r\n            System.out.println(operand1 + &quot; &quot; + oper.name() + &quot; &quot; + operand2); // exposing generated data to the user\r\n            int userInput = sc.nextInt();                                      // reading user&#39;s input\r\n            int result = oper.operation().applyAsInt(operand1,operand2);       // exposing the result\r\n            System.out.println(result + &quot;\\n__________________&quot;);\r\n        }\r\n        // termination condition of the while loop\r\n    }\r\n}\r\n```\r\nThat&#39;s an example of the output the user will see:\r\n```\r\n38 add 67\r\n105 // user input\r\n105\r\n_____________________\r\n97 sub 15\r\n...\r\n```","title":"How to create a variable that contains an Operator in Java?","body":"<p>It's <em>not possible</em> to assign an operator to a variable.</p>\n<blockquote>\n<p>in 30 lines <strong>or less</strong> ... the program asks the user a simple addition, division, multiplication, or subtraction</p>\n</blockquote>\n<p>If you want to implement it using as fewer lines as possible, build-in <strong>functional interfaces</strong> will be a good choice. For that, you need <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntBinaryOperator.html\" rel=\"nofollow noreferrer\"><code>IntBinaryOperator</code></a> that represents an operation done on two <code>int</code> arguments.</p>\n<p>Functional interface can be implemented either by using a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a> or a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a> (<em>also, you can do that with an anonymous inner class as well by it'll not be shorter</em>). Addition operation can be represented like that:</p>\n<pre><code>IntBinaryOperator add = Integer::sum; // or (i1, i2) -&gt; i1 + i2\n</code></pre>\n<blockquote>\n<p>The type of question (add, mult, etc.) should be selected <strong>randomly</strong></p>\n</blockquote>\n<p>For that, firstly, you need to define a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int)\" rel=\"nofollow noreferrer\"><code>Random</code></a> object. In order to obtain a random integer in the given range, use <code>nextInt()</code> method that expects an <code>int</code> bound, and returns a value from <code>0</code> up to the bound (<em>exclusive</em>):</p>\n<pre><code>rand.nextInt(RANGE)\n</code></pre>\n<p>To avoid hard-coding, <code>RANGE</code> should be defined as a global constant.</p>\n<p>Because your application has to interact with the user, every <em>operation</em> should be associated with a <em>name</em> that will be exposed to the user.</p>\n<p>It can be done by declaring a <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\"><code>record</code></a> (<em>a special kind class with</em> <code>final</code> <em>field and auto-generated constructor, getters</em>, <code>hashCode/equals</code>, <code>toString()</code>). Syntax for declaring records is very concise:</p>\n<pre><code>public record Operation(String name, IntBinaryOperator operation) {}\n</code></pre>\n<p><em>Records</em> representing arithmetical operations can be stored in a <em>list</em>. And you can pick an operation by generating a random index (from <code>0</code> up to list size).</p>\n<pre><code>operations.get(rand.nextInt(operations.size()))\n</code></pre>\n<p>Unlike the common getters, names of getters that will be generated by the compiler for the record will identical to names of its fields, i.e. <code>name()</code> and <code>operation()</code>.</p>\n<p>In order to use the function retrieved from the record, you need to invoke the method <code>applyAsInt()</code> on it, passing the two previously generated numbers.</p>\n<p>That's how it might look like.</p>\n<pre><code>public class Operations {\n    public static final int RANGE = 100;\n    public static final Random rand = new Random();\n    \n    public record Operation(String name, IntBinaryOperator operation) {}\n    public static final List&lt;Operation&gt; operations =\n            List.of(new Operation(&quot;add&quot;, Integer::sum), new Operation(&quot;sub&quot;, (i1, i2) -&gt; i1 - i2),\n                    new Operation(&quot;mult&quot;, (i1, i2) -&gt; i1 * i2), new Operation(&quot;div&quot;, (i1, i2) -&gt; i1 / i2));\n\n    public static void main(String[] args) {\n        // you code (instansiate a scanner, enclose the code below with a while loop) \n        for (int i = 0; i &lt; 10; i++) {\n            Operation oper = operations.get(rand.nextInt(operations.size()));\n            int operand1 = rand.nextInt(RANGE);\n            int operand2 = rand.nextInt(RANGE);\n            System.out.println(operand1 + &quot; &quot; + oper.name() + &quot; &quot; + operand2); // exposing generated data to the user\n            int userInput = sc.nextInt();                                      // reading user's input\n            int result = oper.operation().applyAsInt(operand1,operand2);       // exposing the result\n            System.out.println(result + &quot;\\n__________________&quot;);\n        }\n        // termination condition of the while loop\n    }\n}\n</code></pre>\n<p>That's an example of the output the user will see:</p>\n<pre><code>38 add 67\n105 // user input\n105\n_____________________\n97 sub 15\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649389997,"creation_date":1649389997,"answer_id":71791495,"question_id":71786776,"body_markdown":"Unfortunately java supports neither operator overloading nor infix notation, making it impossible to do so in source code.","title":"How to create a variable that contains an Operator in Java?","body":"<p>Unfortunately java supports neither operator overloading nor infix notation, making it impossible to do so in source code.</p>\n"}],"owner":{"account_id":24268735,"reputation":23,"user_id":18217200,"display_name":"SirDuke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71788763,"answer_count":3,"score":2,"last_activity_date":1649389997,"creation_date":1649353608,"question_id":71786776,"body_markdown":"I&#39;m trying to write a program in 30 lines or less for my class (self imposed challenge).\r\n\r\nThe program asks the user a simple addition, division, multiplication, or subtraction ***question*** and the player answers, rinse and repeat 10 times, then the player is asked if they want to continue or end the program. The type of question (*add*, *mult*, etc.) should be selected randomly. \r\n\r\nSo that I don&#39;t need to use a huge switch case or if-else tree, I want to know if there is any way to contain an operator in a variable, and then use it later. \r\n\r\nExample:\r\n```\r\nvar operator = +;\r\nint[] n = {1, 2};\r\nSystem.out.println(n[0] operator n[1]);\r\n```\r\nAnd the output would be &quot;3&quot;\r\n\r\nThat&#39;s an example of what kinda thing I want to do. Is this possible?","title":"How to create a variable that contains an Operator in Java?","body":"<p>I'm trying to write a program in 30 lines or less for my class (self imposed challenge).</p>\n<p>The program asks the user a simple addition, division, multiplication, or subtraction <em><strong>question</strong></em> and the player answers, rinse and repeat 10 times, then the player is asked if they want to continue or end the program. The type of question (<em>add</em>, <em>mult</em>, etc.) should be selected randomly.</p>\n<p>So that I don't need to use a huge switch case or if-else tree, I want to know if there is any way to contain an operator in a variable, and then use it later.</p>\n<p>Example:</p>\n<pre><code>var operator = +;\nint[] n = {1, 2};\nSystem.out.println(n[0] operator n[1]);\n</code></pre>\n<p>And the output would be &quot;3&quot;</p>\n<p>That's an example of what kinda thing I want to do. Is this possible?</p>\n"},{"tags":["java","swing","jpanel","jbutton","actionlistener"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1649203848,"post_id":71759619,"comment_id":126815306,"body_markdown":"Assign it to a `final` variable before: `final int i2 = i; final int j2 = j`, and then use `i2` and `j2` in the lambda.","body":"Assign it to a <code>final</code> variable before: <code>final int i2 = i; final int j2 = j</code>, and then use <code>i2</code> and <code>j2</code> in the lambda."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1649204621,"post_id":71759619,"comment_id":126815452,"body_markdown":"I know this is being picky, but instead of doing this `visBoard[i][j].addActionListener(...)` to make you code more readable, you should create the `JButton` variable and then use it to set its attributes. For example, `JButton tempButton = new JButton();` and then `tempButton.addActionListener(...);`. Lastly, `visBoard[i][j] = tempButton;`","body":"I know this is being picky, but instead of doing this <code>visBoard[i][j].addActionListener(...)</code> to make you code more readable, you should create the <code>JButton</code> variable and then use it to set its attributes. For example, <code>JButton tempButton = new JButton();</code> and then <code>tempButton.addActionListener(...);</code>. Lastly, <code>visBoard[i][j] = tempButton;</code>"}],"owner":{"account_id":11241547,"reputation":1,"user_id":8245634,"display_name":"The Bromie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649389212,"creation_date":1649202405,"question_id":71759619,"body_markdown":"    for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                visBoard[i][j] = new JButton();\r\n                visBoard[i][j].addActionListener(e -&gt; playTurn(i, j));\r\n                moveSltPnl.add(visBoard[i][j]);\r\n            }\r\n    }\r\nBasically, I want to make the actionListener use the value of the variable, but not the actual variable itself","title":"I want to hardcode numbers into an ActionListener without using the actual variable","body":"<pre><code>for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            visBoard[i][j] = new JButton();\n            visBoard[i][j].addActionListener(e -&gt; playTurn(i, j));\n            moveSltPnl.add(visBoard[i][j]);\n        }\n}\n</code></pre>\n<p>Basically, I want to make the actionListener use the value of the variable, but not the actual variable itself</p>\n"},{"tags":["java","spring-boot","soapui"],"comments":[{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1649389673,"post_id":71791427,"comment_id":126868166,"body_markdown":"Can you try using @Webservice instead of endpoint with setter injection of WebserviceContext like https://stackoverflow.com/questions/5820969/how-to-use-resource-webservicecontext-injection-with-springs-transactional?","body":"Can you try using @Webservice instead of endpoint with setter injection of WebserviceContext like <a href=\"https://stackoverflow.com/questions/5820969/how-to-use-resource-webservicecontext-injection-with-springs-transactional\" title=\"how to use resource webservicecontext injection with springs transactional\">stackoverflow.com/questions/5820969/&hellip;</a>?"},{"owner":{"account_id":8429474,"reputation":135,"user_id":6325701,"display_name":"sid_bond"},"score":0,"creation_date":1649390717,"post_id":71791427,"comment_id":126868307,"body_markdown":"Without @Endpoint annotation Spring Boot doesn&#39;t map the incoming SOAP requests to the methods.","body":"Without @Endpoint annotation Spring Boot doesn&#39;t map the incoming SOAP requests to the methods."},{"owner":{"account_id":8412109,"reputation":93,"user_id":6313646,"display_name":"Matze"},"score":0,"creation_date":1657005642,"post_id":71791427,"comment_id":128700237,"body_markdown":"I am stuck with the same problem. Did you find any solution for this?\nAny help and ideas would be highly appreciated.","body":"I am stuck with the same problem. Did you find any solution for this? Any help and ideas would be highly appreciated."},{"owner":{"account_id":8429474,"reputation":135,"user_id":6325701,"display_name":"sid_bond"},"score":0,"creation_date":1657110600,"post_id":71791427,"comment_id":128730904,"body_markdown":"Hi @Matze, unfortunately this is not possible as we cannot have WebService context in Spring Boot application. However, I needed this to extract user credentials from the soap header, so as a workaround I parsed the Soap Header to fetch the details.\nTry fetching soap request from Spring framework&#39;s Message context and see if this information can fit your needs.","body":"Hi @Matze, unfortunately this is not possible as we cannot have WebService context in Spring Boot application. However, I needed this to extract user credentials from the soap header, so as a workaround I parsed the Soap Header to fetch the details. Try fetching soap request from Spring framework&#39;s Message context and see if this information can fit your needs."},{"owner":{"account_id":8412109,"reputation":93,"user_id":6313646,"display_name":"Matze"},"score":0,"creation_date":1657179981,"post_id":71791427,"comment_id":128750049,"body_markdown":"Thanks a lot @SidharthaShankar, I know use an EndpointInterceptorAdapter implementation and put my required Inforamtion into a ThreadLocal.\n\nThe WebService implementing class can get the desired header information out of it and removes the thread local.\nKind of dirty but it works.","body":"Thanks a lot @SidharthaShankar, I know use an EndpointInterceptorAdapter implementation and put my required Inforamtion into a ThreadLocal.  The WebService implementing class can get the desired header information out of it and removes the thread local. Kind of dirty but it works."}],"owner":{"account_id":8429474,"reputation":135,"user_id":6325701,"display_name":"sid_bond"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649389208,"creation_date":1649389208,"question_id":71791427,"body_markdown":"I have migrated an existing Java SOAP Web Service application to Spring Boot.\r\nI referred this link to do so: https://spring.io/guides/gs/producing-web-service/\r\n\r\nThe endpoints work fine and I am able to map the requests from SOAP UI to their respective Endpoints.\r\n\r\nNext task is to get Authentication credentials from the SOAP Request Header. \r\nPrior to this migration, the Authentication Credentials were being fetched from WebServiceContext.\r\n\r\nHowever, I am unable to do so because WebServiceContext is always null in the application migrated to Spring Boot.\r\n\r\nI am using @Resource annotation to get WebServiceContext. \r\nPlease note that I have also tried setter injection.\r\n\r\nBelow is the sample code:\r\n\r\n\r\n    @Endpoint\r\n    public class TestEndpoint{\r\n        \r\n       @Resource\r\n       WebServiceContext context; // Always null\r\n\r\n    }\r\n\r\n***Can we not use WebServiceContext in Spring Boot Application?***\r\n\r\nIs there any other way to get the credentials from Security header of SOAP request?","title":"WebServiceContext in Spring Boot Application","body":"<p>I have migrated an existing Java SOAP Web Service application to Spring Boot.\nI referred this link to do so: <a href=\"https://spring.io/guides/gs/producing-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/producing-web-service/</a></p>\n<p>The endpoints work fine and I am able to map the requests from SOAP UI to their respective Endpoints.</p>\n<p>Next task is to get Authentication credentials from the SOAP Request Header.\nPrior to this migration, the Authentication Credentials were being fetched from WebServiceContext.</p>\n<p>However, I am unable to do so because WebServiceContext is always null in the application migrated to Spring Boot.</p>\n<p>I am using @Resource annotation to get WebServiceContext.\nPlease note that I have also tried setter injection.</p>\n<p>Below is the sample code:</p>\n<pre><code>@Endpoint\npublic class TestEndpoint{\n    \n   @Resource\n   WebServiceContext context; // Always null\n\n}\n</code></pre>\n<p><em><strong>Can we not use WebServiceContext in Spring Boot Application?</strong></em></p>\n<p>Is there any other way to get the credentials from Security header of SOAP request?</p>\n"},{"tags":["java","ssl","https","cloudflare"],"comments":[{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1649391442,"post_id":71791426,"comment_id":126868419,"body_markdown":"If this message is specific to individual users it might be caused by SSL interception at their end. SSL interception replaces the certificate which makes it not trusted for the application - unless the CA from the interceptor is explicitly added as trusted.  SSL interception happens often in corporate environments but also in several local antivirus in order to detect attacks even in encrypted communication.","body":"If this message is specific to individual users it might be caused by SSL interception at their end. SSL interception replaces the certificate which makes it not trusted for the application - unless the CA from the interceptor is explicitly added as trusted.  SSL interception happens often in corporate environments but also in several local antivirus in order to detect attacks even in encrypted communication."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1649407072,"post_id":71791426,"comment_id":126872294,"body_markdown":"For what it&#39;s worth: there is a log feature using [sysprop `javax.net.debug=ssl:handshake`](https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-31B7E142-B874-46E9-8DD0-4E18EC0EB2CF) (possibly add `:trustmanager` if it appears not to be using the correct truststore) (the colons aren&#39;t required but help readability). This will produce _lots_ of output, which must be kept secure because it contains key-gen info that would enable a wiretapper to decrypt your/your user&#39;s protected data. Is that risk worth it? Your call.","body":"For what it&#39;s worth: there is a log feature using <a href=\"https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-31B7E142-B874-46E9-8DD0-4E18EC0EB2CF\" rel=\"nofollow noreferrer\">sysprop <code>javax.net.debug=ssl:handshake</code></a> (possibly add <code>:trustmanager</code> if it appears not to be using the correct truststore) (the colons aren&#39;t required but help readability). This will produce <i>lots</i> of output, which must be kept secure because it contains key-gen info that would enable a wiretapper to decrypt your/your user&#39;s protected data. Is that risk worth it? Your call."}],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":805,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649389195,"creation_date":1649389195,"question_id":71791426,"body_markdown":"I maintain a Java Swing Desktop application that intermittently doesn&#39;t work for individual users with the following SSL network error:\r\n```\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nThe issue is not reproducible for me, nor the vast majority of end users, and seems to be specific to individual users, and pops up repeatedly every other month for one user or another. It&#39;s rarely the same user twice. It&#39;s very mysterious.\r\n\r\nThe application is running on the latest JDK 17 and the requested HTTPS resource is served via an CloudFlare edge cache.\r\n\r\nGoogling the error message would suggest a root certificate issue, but the application has its own private JDK runtime, so it should work the same for all users. Notably, users report that the issue appears out of nowhere after using the application without problems for months.\r\n\r\nHow would I go about debugging the issue? Are there any system properties or JDK logger options that I can use to make the application log more information on end-user machines that would allow me to identify the root cause where the SSL back-and-forth goes awry?","title":"How do I debug SSLHandshakeException and find the root cause?","body":"<p>I maintain a Java Swing Desktop application that intermittently doesn't work for individual users with the following SSL network error:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>The issue is not reproducible for me, nor the vast majority of end users, and seems to be specific to individual users, and pops up repeatedly every other month for one user or another. It's rarely the same user twice. It's very mysterious.</p>\n<p>The application is running on the latest JDK 17 and the requested HTTPS resource is served via an CloudFlare edge cache.</p>\n<p>Googling the error message would suggest a root certificate issue, but the application has its own private JDK runtime, so it should work the same for all users. Notably, users report that the issue appears out of nowhere after using the application without problems for months.</p>\n<p>How would I go about debugging the issue? Are there any system properties or JDK logger options that I can use to make the application log more information on end-user machines that would allow me to identify the root cause where the SSL back-and-forth goes awry?</p>\n"},{"tags":["java","swing","arraylist","jpanel","jlabel"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1649223736,"post_id":71761517,"comment_id":126818184,"body_markdown":"you can&#39;t. What you can do, is either have a composite object, of a String key (your input) and a value (int), or you can create a map, where your String is the key, and the value (int) is the input","body":"you can&#39;t. What you can do, is either have a composite object, of a String key (your input) and a value (int), or you can create a map, where your String is the key, and the value (int) is the input"}],"answers":[{"tags":[],"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649226326,"creation_date":1649226326,"answer_id":71761952,"question_id":71761517,"body_markdown":"I guess this assignment has some pre-defined flavors (chocolate, vanilla etc) and they have designated button to vote for. Also it allows you to add your custom flavors to the collection and counts for its vote.\r\n\r\nYou cannot initialize variable during runtime. It is because you write the code so the computer run it for you. You cannot write the code so the program will write more new code for by itself. (at least this is not the purpose of this assignment)\r\n\r\nIn this case I would suggest you to store the flavors and vote to a unified data structure. I can see you store pre-defined flavors in `strawberryVotes`, `chocolateVotes`. You can make a map to store all the information you need, pre-defined or custom flavors. You need to store 2 information. 1) flavor name 2) vote. We can make use of a Map. Its concept is similar to a table.\r\n\r\n\r\n```java\r\n\tstatic int totalSubmissions = 0; // tracks # of custom submissions (used to navigate Array List)\r\n\r\n\tprivate Map&lt;String, Integer&gt; flavorVotes = new HashMap&lt;String, Integer&gt;();\r\n\t// contains flavor and vote (not listed ice creams) from user input\r\n\r\n\tprivate static JLabel pollOtherLabel = new JLabel(&quot;Unlisted Flavors: &quot;);\r\n\tprivate static JTextField customInput = new JTextField();\r\n\tprivate static JButton submitInput = new JButton(&quot;Submit&quot;);\r\n\r\n\t// define constant for predefined flavor\r\n\tprivate static final String FLAVOR_CHOCOLATE = &quot;Chocolate&quot;;\r\n\tprivate static final String FLAVOR_VANILLA_ = &quot;Vanilla&quot;;\r\n\tprivate static final String FLAVOR_STRAWBERRY_ = &quot;Strawberry&quot;;\r\n\r\n\t// Above is the totalSubmmissions (used to navigate ArrayList, the list itself,\r\n\t// and my label, submit button, and the neccesary code to record what was\r\n\t// entered.\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tString flavor;\r\n\t\t// checks vote chocolate and contains output\r\n\t\tif (e.getSource() == voteChocolate) {\r\n\t\t\tflavor = FLAVOR_CHOCOLATE;\r\n\t\t\taddVote(flavor);\r\n\t\t\tpollOption1Label.setText(&quot;Chocolate Votes: &quot; + flavorVotes.get(flavor));\r\n\t\t} else if (e.getSource() == voteVanilla) { // checks vote vanilla and contains output\r\n\t\t\tflavor = FLAVOR_VANILLA_;\r\n\t\t\taddVote(flavor);\r\n\t\t\tpollOption2Label.setText(&quot;Vanilla Votes: &quot; + flavorVotes.get(flavor));\r\n\t\t} else if (e.getSource() == voteStrawberry) { // checks vote strawberry and contains output\r\n\t\t\tflavor = FLAVOR_STRAWBERRY_;\r\n\t\t\taddVote(flavor);\r\n\t\t\tpollOption3Label.setText(&quot;Strawberry Votes: &quot; + flavorVotes.get(flavor));\r\n\t\t} else if (e.getSource() == submitInput) { // checks custom input and contains output\r\n\t\t\tflavor = customInput.getText();\r\n\t\t\taddVote(flavor);\r\n\r\n\t\t\tcustomInput.setText(&quot;&quot;);\r\n\t\t\tpollOtherLabel.setText(&quot;Unlisted Flavors: &quot; + flavor);\r\n\t\t\ttotalSubmissions++;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void addVote(String flavor) {\r\n\t\tif (flavorVotes.containsKey(flavor)) {\r\n\t\t\t// flavor exists, increment by 1\r\n\t\t\tflavorVotes.put(flavor, flavorVotes.get(flavor) + 1);\r\n\t\t} else {\r\n\t\t\t// new flavor, set its vote to 1\r\n\t\t\tflavorVotes.put(flavor, 1);\r\n\t\t}\r\n\t}\r\n```\r\n\r\np.s. I thinks some of the attributes should not declared as static. But that is another topic.","title":"How can I name a new integer with the input value of a String?","body":"<p>I guess this assignment has some pre-defined flavors (chocolate, vanilla etc) and they have designated button to vote for. Also it allows you to add your custom flavors to the collection and counts for its vote.</p>\n<p>You cannot initialize variable during runtime. It is because you write the code so the computer run it for you. You cannot write the code so the program will write more new code for by itself. (at least this is not the purpose of this assignment)</p>\n<p>In this case I would suggest you to store the flavors and vote to a unified data structure. I can see you store pre-defined flavors in <code>strawberryVotes</code>, <code>chocolateVotes</code>. You can make a map to store all the information you need, pre-defined or custom flavors. You need to store 2 information. 1) flavor name 2) vote. We can make use of a Map. Its concept is similar to a table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static int totalSubmissions = 0; // tracks # of custom submissions (used to navigate Array List)\n\n    private Map&lt;String, Integer&gt; flavorVotes = new HashMap&lt;String, Integer&gt;();\n    // contains flavor and vote (not listed ice creams) from user input\n\n    private static JLabel pollOtherLabel = new JLabel(&quot;Unlisted Flavors: &quot;);\n    private static JTextField customInput = new JTextField();\n    private static JButton submitInput = new JButton(&quot;Submit&quot;);\n\n    // define constant for predefined flavor\n    private static final String FLAVOR_CHOCOLATE = &quot;Chocolate&quot;;\n    private static final String FLAVOR_VANILLA_ = &quot;Vanilla&quot;;\n    private static final String FLAVOR_STRAWBERRY_ = &quot;Strawberry&quot;;\n\n    // Above is the totalSubmmissions (used to navigate ArrayList, the list itself,\n    // and my label, submit button, and the neccesary code to record what was\n    // entered.\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String flavor;\n        // checks vote chocolate and contains output\n        if (e.getSource() == voteChocolate) {\n            flavor = FLAVOR_CHOCOLATE;\n            addVote(flavor);\n            pollOption1Label.setText(&quot;Chocolate Votes: &quot; + flavorVotes.get(flavor));\n        } else if (e.getSource() == voteVanilla) { // checks vote vanilla and contains output\n            flavor = FLAVOR_VANILLA_;\n            addVote(flavor);\n            pollOption2Label.setText(&quot;Vanilla Votes: &quot; + flavorVotes.get(flavor));\n        } else if (e.getSource() == voteStrawberry) { // checks vote strawberry and contains output\n            flavor = FLAVOR_STRAWBERRY_;\n            addVote(flavor);\n            pollOption3Label.setText(&quot;Strawberry Votes: &quot; + flavorVotes.get(flavor));\n        } else if (e.getSource() == submitInput) { // checks custom input and contains output\n            flavor = customInput.getText();\n            addVote(flavor);\n\n            customInput.setText(&quot;&quot;);\n            pollOtherLabel.setText(&quot;Unlisted Flavors: &quot; + flavor);\n            totalSubmissions++;\n        }\n    }\n\n    private void addVote(String flavor) {\n        if (flavorVotes.containsKey(flavor)) {\n            // flavor exists, increment by 1\n            flavorVotes.put(flavor, flavorVotes.get(flavor) + 1);\n        } else {\n            // new flavor, set its vote to 1\n            flavorVotes.put(flavor, 1);\n        }\n    }\n</code></pre>\n<p>p.s. I thinks some of the attributes should not declared as static. But that is another topic.</p>\n"}],"owner":{"account_id":24347458,"reputation":25,"user_id":18283794,"display_name":"Banks N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71761952,"answer_count":1,"score":0,"last_activity_date":1649389176,"creation_date":1649223428,"question_id":71761517,"body_markdown":"I have an assignment I&#39;m working on, and I need to basically make a system that checks if a string entered already exist in an ArrayList. In the case that it does not exist, it will make a new integer with the name of the exact entered text, and assign the value to 1. If the string already does exist (meaning someone else already entered that choice) then it will add one to the already existing integer. I&#39;m just struggling with assigning an integer with the value of the string.\r\n\r\nI&#39;ve tried directly taking the input and assigning it to a string, to which I then try to use the string value to create a new integer. This has been unsuccessful so far.\r\n\r\n    static int totalSubmissions = 0;  // tracks # of custom submissions (used to navigate Array List)\r\n    static ArrayList&lt;String&gt; userInputs = new ArrayList&lt;String&gt;(); // contains strings (not listed ice                     creams) from user input\r\n    private static JLabel pollOtherLabel = new JLabel(&quot;Unlisted Flavors: &quot;);\r\n    private static JTextField customInput = new JTextField();\r\n    private static JButton submitInput = new JButton(&quot;Submit&quot;);\r\n    \r\n    // Above is the totalSubmmissions (used to navigate ArrayList, the list itself, and my label, submit button, and the neccesary code to record what was entered.\r\n    \r\n    \r\n    \r\n    \r\n    @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                // checks vote chocolate and contains output\r\n                if(e.getSource() == voteChocolate){\r\n                    chocolateVotes++;\r\n                    pollOption1Label.setText(&quot;Chocolate Votes: &quot; + chocolateVotes);\r\n                } else if (e.getSource() == voteVanilla){ // checks vote vanilla and contains output\r\n                    vanillaVotes++;\r\n                    pollOption2Label.setText(&quot;Vanilla Votes: &quot; + vanillaVotes);\r\n                } else if (e.getSource() == voteStrawberry){  // checks vote strawberry and contains output\r\n                    strawberryVotes++;\r\n                    pollOption3Label.setText(&quot;Strawberry Votes: &quot; + strawberryVotes);\r\n                } else if (e.getSource() == submitInput){ // checks custom input and contains output\r\n                    String currentString = customInput.getText(); //  &lt;&lt;  ISSUE IS HERE \r\n                    if (userInputs.contains(currentString)){     // want to assign the text field input \r\n                        int currentString = 1;                 // to a new integer, that will track\r\n                    } else {                         // the number of times that exact string is entered \r\n                        int customInput.getText() = 1;\r\n                    }\r\n                    userInputs.add(customInput.getText());\r\n                    customInput.setText(&quot;&quot;);\r\n                    pollOtherLabel.setText(&quot;Unlisted Flavors: &quot; + userInputs.get(totalSubmissions));\r\n                    totalSubmissions++;\r\n                }\r\n            }","title":"How can I name a new integer with the input value of a String?","body":"<p>I have an assignment I'm working on, and I need to basically make a system that checks if a string entered already exist in an ArrayList. In the case that it does not exist, it will make a new integer with the name of the exact entered text, and assign the value to 1. If the string already does exist (meaning someone else already entered that choice) then it will add one to the already existing integer. I'm just struggling with assigning an integer with the value of the string.</p>\n<p>I've tried directly taking the input and assigning it to a string, to which I then try to use the string value to create a new integer. This has been unsuccessful so far.</p>\n<pre><code>static int totalSubmissions = 0;  // tracks # of custom submissions (used to navigate Array List)\nstatic ArrayList&lt;String&gt; userInputs = new ArrayList&lt;String&gt;(); // contains strings (not listed ice                     creams) from user input\nprivate static JLabel pollOtherLabel = new JLabel(&quot;Unlisted Flavors: &quot;);\nprivate static JTextField customInput = new JTextField();\nprivate static JButton submitInput = new JButton(&quot;Submit&quot;);\n\n// Above is the totalSubmmissions (used to navigate ArrayList, the list itself, and my label, submit button, and the neccesary code to record what was entered.\n\n\n\n\n@Override\n        public void actionPerformed(ActionEvent e) {\n            // checks vote chocolate and contains output\n            if(e.getSource() == voteChocolate){\n                chocolateVotes++;\n                pollOption1Label.setText(&quot;Chocolate Votes: &quot; + chocolateVotes);\n            } else if (e.getSource() == voteVanilla){ // checks vote vanilla and contains output\n                vanillaVotes++;\n                pollOption2Label.setText(&quot;Vanilla Votes: &quot; + vanillaVotes);\n            } else if (e.getSource() == voteStrawberry){  // checks vote strawberry and contains output\n                strawberryVotes++;\n                pollOption3Label.setText(&quot;Strawberry Votes: &quot; + strawberryVotes);\n            } else if (e.getSource() == submitInput){ // checks custom input and contains output\n                String currentString = customInput.getText(); //  &lt;&lt;  ISSUE IS HERE \n                if (userInputs.contains(currentString)){     // want to assign the text field input \n                    int currentString = 1;                 // to a new integer, that will track\n                } else {                         // the number of times that exact string is entered \n                    int customInput.getText() = 1;\n                }\n                userInputs.add(customInput.getText());\n                customInput.setText(&quot;&quot;);\n                pollOtherLabel.setText(&quot;Unlisted Flavors: &quot; + userInputs.get(totalSubmissions));\n                totalSubmissions++;\n            }\n        }\n</code></pre>\n"},{"tags":["java","text-files"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1649383019,"post_id":71790819,"comment_id":126867270,"body_markdown":"*how I could remove those blank values* -- just check myReader.nextLine().toLowerCase().trim() before adding to words.","body":"<i>how I could remove those blank values</i> -- just check myReader.nextLine().toLowerCase().trim() before adding to words."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649384722,"post_id":71790819,"comment_id":126867516,"body_markdown":"Specifically assign the the line to a variable `String line = myReader.nextLine().toLowerCase().trim();` then only add it to the array if it&#39;s not blank `if(line.length() &gt; 0){arrWords.add(w);}`","body":"Specifically assign the the line to a variable <code>String line = myReader.nextLine().toLowerCase().trim();</code> then only add it to the array if it&#39;s not blank <code>if(line.length() &gt; 0){arrWords.add(w);}</code>"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649386229,"creation_date":1649386229,"answer_id":71791127,"question_id":71790819,"body_markdown":"try this:\r\n\r\n```java\r\nwhile (myReader.hasNextLine()) {\r\n    String line = myReader.nextLine().toLowerCase().trim();\r\n    if (!line.isEmpty()) {\r\n        arrWords.add(new Word(line));\r\n    }\r\n}\r\n```","title":"I have a text file containing words and I want to add them to an arraylist but I have a problem","body":"<p>try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (myReader.hasNextLine()) {\n    String line = myReader.nextLine().toLowerCase().trim();\n    if (!line.isEmpty()) {\n        arrWords.add(new Word(line));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649389076,"creation_date":1649387439,"answer_id":71791265,"question_id":71790819,"body_markdown":"Alternatively, you could use the [stream API][1].\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class WordList {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Path path = Paths.get(&quot;words.txt&quot;);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            List&lt;Word&gt; arrWords = lines.filter(line -&gt; !line.isBlank())\r\n                                       .map(line -&gt; new Word(line.strip().toLowerCase()))\r\n                                       .collect(Collectors.toList());\r\n            arrWords.forEach(System.out::println);\r\n        }\r\n    }\r\n}\r\n\r\nclass Word {\r\n    private String word;\r\n\r\n    public Word(String word) {\r\n        this.word = word;\r\n    }\r\n\r\n    public String toString() {\r\n        return word;\r\n    }\r\n}\r\n```\r\n* Methods [isBlank][2] and [strip][3] were added in Java 11.\r\n* Above code uses [try-with-resources][4] and [NIO.2][5] as well as [method references][6].\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#isBlank()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#strip()\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"I have a text file containing words and I want to add them to an arraylist but I have a problem","body":"<p>Alternatively, you could use the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class WordList {\n\n    public static void main(String[] args) throws IOException {\n        Path path = Paths.get(&quot;words.txt&quot;);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            List&lt;Word&gt; arrWords = lines.filter(line -&gt; !line.isBlank())\n                                       .map(line -&gt; new Word(line.strip().toLowerCase()))\n                                       .collect(Collectors.toList());\n            arrWords.forEach(System.out::println);\n        }\n    }\n}\n\nclass Word {\n    private String word;\n\n    public Word(String word) {\n        this.word = word;\n    }\n\n    public String toString() {\n        return word;\n    }\n}\n</code></pre>\n<ul>\n<li>Methods <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">isBlank</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\">strip</a> were added in Java 11.</li>\n<li>Above code uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a> as well as <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>.</li>\n</ul>\n"}],"owner":{"account_id":23337956,"reputation":37,"user_id":17413280,"display_name":"night"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71791127,"answer_count":2,"score":1,"last_activity_date":1649389076,"creation_date":1649382829,"question_id":71790819,"body_markdown":"This is the format of my text file: \r\n\r\napricot\\\r\ngarlic\\\r\npineapple\\\r\nattorney\\\r\nbanana\\\r\ncantaloupe\\\r\nCherry\\\r\ncelery\\\r\ncabbage\\\r\ncucumber\\\r\nfig\\\r\nraspberry\\\r\nKiwi\\\r\nlettuce\\\r\nlime\\\r\nmango\\\r\nmelon\\\r\ngrapefruit\\\r\nPear\\\r\npepper\\\r\nApple\\\r\nradish\\\r\ngrape\r\n\r\n\r\nThe problem I&#39;m having is that the text file contains extra blank lines and I&#39;m not allowed to remove those lines. When I add the words to an arraylist it reads those extra blank lines and I&#39;m wondering how I could remove those extra values.\r\n\\\r\nThis is what I&#39;ve come up with so far:\r\n\r\n    arrWords = new ArrayList&lt;Word&gt;();\r\n\t\t\t\r\n\t\t\twhile (myReader.hasNextLine()) {\r\n\t\t\t\tWord w = new Word(myReader.nextLine().toLowerCase().trim());\r\n\t\t\t\tarrWords.add(w);\r\n\t\t\t}\r\nThe arraylist is of type Word so I&#39;m wondering how I could remove those blank values or somehow read the lines differently. I&#39;ve tried multiple solutions like replace all or remove but none of them worked.\r\n\r\n","title":"I have a text file containing words and I want to add them to an arraylist but I have a problem","body":"<p>This is the format of my text file:</p>\n<p>apricot<br />\ngarlic<br />\npineapple<br />\nattorney<br />\nbanana<br />\ncantaloupe<br />\nCherry<br />\ncelery<br />\ncabbage<br />\ncucumber<br />\nfig<br />\nraspberry<br />\nKiwi<br />\nlettuce<br />\nlime<br />\nmango<br />\nmelon<br />\ngrapefruit<br />\nPear<br />\npepper<br />\nApple<br />\nradish<br />\ngrape</p>\n<p>The problem I'm having is that the text file contains extra blank lines and I'm not allowed to remove those lines. When I add the words to an arraylist it reads those extra blank lines and I'm wondering how I could remove those extra values.\n<br />\nThis is what I've come up with so far:</p>\n<pre><code>arrWords = new ArrayList&lt;Word&gt;();\n        \n        while (myReader.hasNextLine()) {\n            Word w = new Word(myReader.nextLine().toLowerCase().trim());\n            arrWords.add(w);\n        }\n</code></pre>\n<p>The arraylist is of type Word so I'm wondering how I could remove those blank values or somehow read the lines differently. I've tried multiple solutions like replace all or remove but none of them worked.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":10324389,"reputation":54,"user_id":7616277,"display_name":"Amul Mittal"},"score":0,"creation_date":1512379984,"post_id":47630142,"comment_id":82218113,"body_markdown":"thankyou for the edit - InsaneCat","body":"thankyou for the edit - InsaneCat"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1512381691,"post_id":47630142,"comment_id":82219202,"body_markdown":"PDFBox (according to tag) or Pdf2Dom (according to question text), which library are you talking about?","body":"PDFBox (according to tag) or Pdf2Dom (according to question text), which library are you talking about?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1512383471,"post_id":47630142,"comment_id":82220291,"body_markdown":"Ah, I just saw that pdf2Dom is based on PDFBox.","body":"Ah, I just saw that pdf2Dom is based on PDFBox."},{"owner":{"account_id":10324389,"reputation":54,"user_id":7616277,"display_name":"Amul Mittal"},"score":0,"creation_date":1512387534,"post_id":47630142,"comment_id":82222628,"body_markdown":"Yes, PDF2DOM is based on PDFBOX.......But I am talking about , how can I use PDf2DOM library to get HTML DOC from pdf.","body":"Yes, PDF2DOM is based on PDFBOX.......But I am talking about , how can I use PDf2DOM library to get HTML DOC from pdf."}],"answers":[{"tags":[],"owner":{"account_id":18771387,"reputation":180,"user_id":13688117,"display_name":"Prajwal Raju P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649388143,"creation_date":1649388143,"answer_id":71791331,"question_id":47630142,"body_markdown":"you can convert it using this\r\n\r\n    private void generateHTMLFromPDF(String filename) {\r\n        PDDocument pdf = PDDocument.load(new File(filename));\r\n        Writer output = new PrintWriter(&quot;src/output/pdf.html&quot;, &quot;utf-8&quot;);\r\n        new PDFDomTree().writeText(pdf, output);\r\n        output.close();\r\n    }\r\n\r\nreference - [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/pdf-conversions-java","title":"How to use pdf2Dom library in java code to get html doc from pdf?","body":"<p>you can convert it using this</p>\n<pre><code>private void generateHTMLFromPDF(String filename) {\n    PDDocument pdf = PDDocument.load(new File(filename));\n    Writer output = new PrintWriter(&quot;src/output/pdf.html&quot;, &quot;utf-8&quot;);\n    new PDFDomTree().writeText(pdf, output);\n    output.close();\n}\n</code></pre>\n<p>reference - <a href=\"https://www.baeldung.com/pdf-conversions-java\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":10324389,"reputation":54,"user_id":7616277,"display_name":"Amul Mittal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649388143,"creation_date":1512379737,"question_id":47630142,"body_markdown":"I am trying to extract tabular data from PDF, and to start it, my first step of algorithm says to convert PDF to html doc.\r\nHow can I convert PDF to html using **pdf2Dom library**?\r\n","title":"How to use pdf2Dom library in java code to get html doc from pdf?","body":"<p>I am trying to extract tabular data from PDF, and to start it, my first step of algorithm says to convert PDF to html doc.\nHow can I convert PDF to html using <strong>pdf2Dom library</strong>?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8544,"page":1448,"page_size":100}
