{"items":[{"tags":["java","spring-boot","rest","epoch","java.time.instant"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674995595,"post_id":75274353,"comment_id":132828990,"body_markdown":"What is the expected result from 683124845000? Asking because the number looks funny if it was supposed to denote a point in time this year or last year. If milliseconds since the epoch it would denote 1991-08-25T12:54:05Z. Is that it?","body":"What is the expected result from 683124845000? Asking because the number looks funny if it was supposed to denote a point in time this year or last year. If milliseconds since the epoch it would denote 1991-08-25T12:54:05Z. Is that it?"},{"owner":{"account_id":477139,"reputation":623,"user_id":888457,"accept_rate":76,"display_name":"Droid_Interceptor"},"score":0,"creation_date":1675006514,"post_id":75274353,"comment_id":132830949,"body_markdown":"That 1991 time is the expected time. It&#39;s from a randomly generate epoch with milliseconds","body":"That 1991 time is the expected time. It&#39;s from a randomly generate epoch with milliseconds"}],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674990437,"creation_date":1674990437,"answer_id":75274385,"question_id":75274353,"body_markdown":"To store the epoch value correctly, you can change the data type of the epoch field in the Booking class to long.\r\n\r\nExample:\r\n\r\n    public class Booking {\r\n    private long epoch;\r\n    private String email;\r\n    }\r\n\r\nThen in the controller, you can convert the string value from the request body to a long using Long.parseLong() method.\r\n\r\nExample:\r\n\r\n    @PostMapping(&quot;/booking&quot;)\r\n    public ResponseEntity createBooking(@RequestBody Booking booking) {\r\n    booking.setEpoch(Long.parseLong(booking.getEpoch()));\r\n    return ResponseEntity.ok().build();\r\n    }\r\n\r\n","title":"Instant incorrectly parsing epoch string with rest api","body":"<p>To store the epoch value correctly, you can change the data type of the epoch field in the Booking class to long.</p>\n<p>Example:</p>\n<pre><code>public class Booking {\nprivate long epoch;\nprivate String email;\n}\n</code></pre>\n<p>Then in the controller, you can convert the string value from the request body to a long using Long.parseLong() method.</p>\n<p>Example:</p>\n<pre><code>@PostMapping(&quot;/booking&quot;)\npublic ResponseEntity createBooking(@RequestBody Booking booking) {\nbooking.setEpoch(Long.parseLong(booking.getEpoch()));\nreturn ResponseEntity.ok().build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19232527,"reputation":195,"user_id":14054111,"display_name":"origeva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674995054,"creation_date":1674993951,"answer_id":75274738,"question_id":75274353,"body_markdown":"The default Instant serializer is expecting the epoch to be in seconds.\r\nHere are the following solutions:\r\n\r\n1) Use long or Long to store the epoch.\r\n2) Change your API to expect seconds.\r\n3) Create custom serializer / deserializer.\r\n\r\nCustom serializer / deserializer implementation:\r\n&lt;br&gt;\r\n(Assuming you want to use milliseconds for your API since the epoch in the question seemed to be in milliseconds)\r\n\r\n**Serializer**\r\n\r\n    public class CustomInstantSerializer extends JsonSerializer&lt;Instant&gt; {\r\n\r\n        @Override\r\n        public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            long epoch = value.toEpochMilli();\r\n            gen.writeNumber(epoch);\r\n        }\r\n    \r\n    }\r\n\r\n**Deserializer**\r\n\r\n    public class CustomInstantDeserializer extends JsonDeserializer&lt;Instant&gt; {\r\n\r\n        @Override\r\n        public Instant deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException {\r\n            long epoch = jp.getLongValue();\r\n            return Instant.ofEpochMilli(epoch);\r\n        }\r\n    \r\n    }\r\n\r\n**Then wiring the serializer / deserializer to the field:**\r\n\r\n    public class Booking {\r\n\r\n        @JsonSerialize(using = CustomInstantSerializer.class)\r\n        @JsonDeserialize(using = CustomInstantDeserializer.class)\r\n        private Instant epoch;\r\n\r\n        private String email;\r\n\r\n    }","title":"Instant incorrectly parsing epoch string with rest api","body":"<p>The default Instant serializer is expecting the epoch to be in seconds.\nHere are the following solutions:</p>\n<ol>\n<li>Use long or Long to store the epoch.</li>\n<li>Change your API to expect seconds.</li>\n<li>Create custom serializer / deserializer.</li>\n</ol>\n<p>Custom serializer / deserializer implementation:\n<br>\n(Assuming you want to use milliseconds for your API since the epoch in the question seemed to be in milliseconds)</p>\n<p><strong>Serializer</strong></p>\n<pre><code>public class CustomInstantSerializer extends JsonSerializer&lt;Instant&gt; {\n\n    @Override\n    public void serialize(Instant value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        long epoch = value.toEpochMilli();\n        gen.writeNumber(epoch);\n    }\n\n}\n</code></pre>\n<p><strong>Deserializer</strong></p>\n<pre><code>public class CustomInstantDeserializer extends JsonDeserializer&lt;Instant&gt; {\n\n    @Override\n    public Instant deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException {\n        long epoch = jp.getLongValue();\n        return Instant.ofEpochMilli(epoch);\n    }\n\n}\n</code></pre>\n<p><strong>Then wiring the serializer / deserializer to the field:</strong></p>\n<pre><code>public class Booking {\n\n    @JsonSerialize(using = CustomInstantSerializer.class)\n    @JsonDeserialize(using = CustomInstantDeserializer.class)\n    private Instant epoch;\n\n    private String email;\n\n}\n</code></pre>\n"}],"owner":{"account_id":477139,"reputation":623,"user_id":888457,"accept_rate":76,"display_name":"Droid_Interceptor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675062412,"accepted_answer_id":75274738,"answer_count":2,"score":0,"last_activity_date":1675006601,"creation_date":1674990146,"question_id":75274353,"body_markdown":"I have a rest API with an input value which is an epoch. However, storing as an Instant ignores the nanos, thus storing it as some date in the future (I think). I could be storing them in the wrong type also as had thought about storing them as a long either.\r\n\r\nExample:\r\nFrom the input of 683124845000 I am expecting a date and time in 1991. It is converted to +23617-05-13T13:23:20Z.\r\n\r\n```\r\npublic class Booking {\r\n    private Instant epoch;\r\n    private String email;\r\n}\r\n```\r\n\r\nThe JSON input is:\r\n```\r\n{\r\n  &quot;epoch&quot;: &quot;683124845000&quot;, \r\n  &quot;email&quot;: &quot;email@email.com&quot;\r\n}\r\n```\r\n\r\nCurrently, I just have a controller that returns OK regardless of input as I am modeling the input.\r\n```\r\n@PostMapping(&quot;/booking&quot;)\r\n    public ResponseEntity createBooking(@RequestBody Booking booking) {\r\n        return ResponseEntity.ok().build();\r\n    }\r\n```","title":"Instant incorrectly parsing epoch string with rest api","body":"<p>I have a rest API with an input value which is an epoch. However, storing as an Instant ignores the nanos, thus storing it as some date in the future (I think). I could be storing them in the wrong type also as had thought about storing them as a long either.</p>\n<p>Example:\nFrom the input of 683124845000 I am expecting a date and time in 1991. It is converted to +23617-05-13T13:23:20Z.</p>\n<pre><code>public class Booking {\n    private Instant epoch;\n    private String email;\n}\n</code></pre>\n<p>The JSON input is:</p>\n<pre><code>{\n  &quot;epoch&quot;: &quot;683124845000&quot;, \n  &quot;email&quot;: &quot;email@email.com&quot;\n}\n</code></pre>\n<p>Currently, I just have a controller that returns OK regardless of input as I am modeling the input.</p>\n<pre><code>@PostMapping(&quot;/booking&quot;)\n    public ResponseEntity createBooking(@RequestBody Booking booking) {\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","testing","automation"],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675006366,"creation_date":1675006366,"answer_id":75276118,"question_id":75275805,"body_markdown":"You missed a dot `&#39;.&#39;` in the below line in `readExcel()` method:\r\n\r\n    else if(fileExtension.equals(&quot;xls&quot;))\r\n\r\nit should be like:\r\n\r\n    else if(fileExtension.equals(&quot;.xls&quot;))\r\n\r\n","title":"Cannot fetch the data from excel sheet in automation testing","body":"<p>You missed a dot <code>'.'</code> in the below line in <code>readExcel()</code> method:</p>\n<pre><code>else if(fileExtension.equals(&quot;xls&quot;))\n</code></pre>\n<p>it should be like:</p>\n<pre><code>else if(fileExtension.equals(&quot;.xls&quot;))\n</code></pre>\n"}],"owner":{"account_id":21235043,"reputation":1,"user_id":15619339,"display_name":"Shifa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675006366,"creation_date":1675003943,"question_id":75275805,"body_markdown":"Please check the code suggest correction:\r\n\r\npackage com.framework;\r\n\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n    import java.io.IOException;\r\n\timport java.time.Duration;\r\n\timport org.apache.poi.ss.usermodel.Sheet;\r\n\timport org.apache.poi.ss.usermodel.Row;\r\n\timport org.apache.poi.ss.usermodel.Workbook;\r\n\timport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\timport org.apache.poi.hssf.usermodel.*;\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.firefox.FirefoxDriver;\r\n\r\n\tpublic class DataDriveFramework {\r\n\t\tpublic void readExcel(String filePath, String fileName, String sheetName) throws IOException {\r\n\t\t\tFile file = new File(filePath+&quot;\\\\&quot;+fileName);\r\n\t\t\tFileInputStream fis = new FileInputStream(file);\r\n\t\t\tWorkbook loginWorkbook=null;\r\n\t\t\t\r\n\t\t\tString fileExtension=fileName.substring(fileName.indexOf(&quot;.&quot;));\r\n\t\t\tif(fileExtension.equals(&quot;.xlsx&quot;))\r\n\t\t\t{\r\n\t\t\t\tloginWorkbook=new XSSFWorkbook(fis);\r\n\t\t\t}\r\n\t\t\telse if(fileExtension.equals(&quot;xls&quot;))\r\n\t\t\t{\r\n\t\t\t    loginWorkbook=new HSSFWorkbook(fis);\r\n\t\t}\r\n\t\t\tSheet loginSheet=loginWorkbook.getSheet(sheetName);\r\n\t\t\t\r\n\t\t\tint rowCount=loginSheet.getLastRowNum()-loginSheet.getFirstRowNum();\r\n\t\t\tfor(int i=1;1&lt;rowCount+1;i++)\r\n\t\t\t{\r\n\t\t\t\tRow row=loginSheet.getRow(i);\r\n\t\t\t\tString username=row.getCell(0).getStringCellValue();\r\n\t\t\t\tString password=row.getCell(0).getStringCellValue();\r\n\t\t\t\ttest(username,password);\r\n\t\t\t}\r\n\t}\r\n\t\tpublic void test(String username, String password)\r\n\t\t{\r\n\t\t\tWebDriver driver=new FirefoxDriver();\r\n\t\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\t\t\t\r\n\t\t\tString baseURL=&quot;https://accounts.google.com&quot;;\r\n\t\t\tdriver.get(baseURL);\r\n\t\t\t\r\n\t\t\tdriver.findElement(By.id(&quot;identifierId&quot;)).sendKeys(username);\r\n\t\t\tdriver.findElement(By.xpath(&quot;/html/body/div[1]/div[1]/div[2]/div/c-wiz/div/div[2]/div/div[2]/div/div[1]/div/div/button/span&quot;)).click();\r\n\t\t\t\t\t\r\n\t\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;password\\&quot;]/div[1]/div/div[1]/input&quot;)).sendKeys(password);\r\n\t\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;passwordNext\\&quot;]/div/button/span&quot;)).click();\r\n\t\t\tdriver.quit();\r\n\t\t}\r\n\t\tpublic static void main(String[] args)throws IOException {\r\n\t\t\tDataDriveFramework readFile=new DataDriveFramework();\r\n\t\t\tString filePath=&quot;C:\\\\Users\\\\Shefali\\\\eclipse-workspace\\\\DataDriveFramework\\\\TestExcelSheet\\\\&quot;;\r\n\t\t\treadFile.readExcel(filePath, &quot;DataDriven.xls&quot;, &quot;Sheet1&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\n\r\nThe code is to fetch the data from excel sheet and login automatically.But I am getting an error-- \r\n\r\n    &quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.apache.poi.ss.usermodel.Workbook.getSheet(String)&quot; because &quot;loginWorkbook&quot; is &quot;null&quot;\r\n    \tat com.framework.DataDriveFramework.readExcel(DataDriveFramework.java:31)\r\n    \tat com.framework.DataDriveFrame.main(DataDriveFrame.java:60)&quot;\r\n\r\n","title":"Cannot fetch the data from excel sheet in automation testing","body":"<p>Please check the code suggest correction:</p>\n<p>package com.framework;</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.*;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class DataDriveFramework {\n    public void readExcel(String filePath, String fileName, String sheetName) throws IOException {\n        File file = new File(filePath+&quot;\\\\&quot;+fileName);\n        FileInputStream fis = new FileInputStream(file);\n        Workbook loginWorkbook=null;\n        \n        String fileExtension=fileName.substring(fileName.indexOf(&quot;.&quot;));\n        if(fileExtension.equals(&quot;.xlsx&quot;))\n        {\n            loginWorkbook=new XSSFWorkbook(fis);\n        }\n        else if(fileExtension.equals(&quot;xls&quot;))\n        {\n            loginWorkbook=new HSSFWorkbook(fis);\n    }\n        Sheet loginSheet=loginWorkbook.getSheet(sheetName);\n        \n        int rowCount=loginSheet.getLastRowNum()-loginSheet.getFirstRowNum();\n        for(int i=1;1&lt;rowCount+1;i++)\n        {\n            Row row=loginSheet.getRow(i);\n            String username=row.getCell(0).getStringCellValue();\n            String password=row.getCell(0).getStringCellValue();\n            test(username,password);\n        }\n}\n    public void test(String username, String password)\n    {\n        WebDriver driver=new FirefoxDriver();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n        \n        String baseURL=&quot;https://accounts.google.com&quot;;\n        driver.get(baseURL);\n        \n        driver.findElement(By.id(&quot;identifierId&quot;)).sendKeys(username);\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[1]/div[2]/div/c-wiz/div/div[2]/div/div[2]/div/div[1]/div/div/button/span&quot;)).click();\n                \n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;password\\&quot;]/div[1]/div/div[1]/input&quot;)).sendKeys(password);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;passwordNext\\&quot;]/div/button/span&quot;)).click();\n        driver.quit();\n    }\n    public static void main(String[] args)throws IOException {\n        DataDriveFramework readFile=new DataDriveFramework();\n        String filePath=&quot;C:\\\\Users\\\\Shefali\\\\eclipse-workspace\\\\DataDriveFramework\\\\TestExcelSheet\\\\&quot;;\n        readFile.readExcel(filePath, &quot;DataDriven.xls&quot;, &quot;Sheet1&quot;);\n    }\n    \n}\n</code></pre>\n<p>The code is to fetch the data from excel sheet and login automatically.But I am getting an error--</p>\n<pre><code>&quot;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.apache.poi.ss.usermodel.Workbook.getSheet(String)&quot; because &quot;loginWorkbook&quot; is &quot;null&quot;\n    at com.framework.DataDriveFramework.readExcel(DataDriveFramework.java:31)\n    at com.framework.DataDriveFrame.main(DataDriveFrame.java:60)&quot;\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa","spring-data","jpql"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":2,"creation_date":1674998360,"post_id":75275096,"comment_id":132829497,"body_markdown":"Without the full stacktrace I can only guess. Please add as much of the stacktrace as you can. Why don&#39;t you try to reproduce the exception locally?","body":"Without the full stacktrace I can only guess. Please add as much of the stacktrace as you can. Why don&#39;t you try to reproduce the exception locally?"},{"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"score":0,"creation_date":1674999159,"post_id":75275096,"comment_id":132829614,"body_markdown":"I understand. Let me reproduce it locally and give further context. Thanks for the suggestion.","body":"I understand. Let me reproduce it locally and give further context. Thanks for the suggestion."}],"answers":[{"tags":[],"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675004849,"creation_date":1675004849,"answer_id":75275917,"question_id":75275096,"body_markdown":"I would recommend to return a Bean instance from the repository methode.\r\n\r\nExample here:\r\n\r\n```\r\n    @Query(&quot;SELECT &quot; +\r\n           &quot;    new com.path.to.Tuple(v.id, v.name) &quot; +\r\n           &quot;FROM &quot; +\r\n           &quot;    Quote v where v.id in (:quoteIds) &quot;)\r\n    List&lt;Tuple&gt; find(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds);\r\n```","title":"@Query doesn&#39;t work if I select more than 1 column","body":"<p>I would recommend to return a Bean instance from the repository methode.</p>\n<p>Example here:</p>\n<pre><code>    @Query(&quot;SELECT &quot; +\n           &quot;    new com.path.to.Tuple(v.id, v.name) &quot; +\n           &quot;FROM &quot; +\n           &quot;    Quote v where v.id in (:quoteIds) &quot;)\n    List&lt;Tuple&gt; find(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds);\n</code></pre>\n"}],"owner":{"account_id":1557618,"reputation":5266,"user_id":1448229,"accept_rate":93,"display_name":"Rey Libutan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675004849,"creation_date":1674997332,"question_id":75275096,"body_markdown":"I have a query like below that doesn&#39;t work. &lt;br&gt;\r\nIt throws `IndexOutOfBoundsException: Index: 0, Size: 0` \\\r\n(sorry I can&#39;t post the whole stacktrace as it is in my workstation (remote))\r\nThis started to be an issue when I upgraded from Spring Boot `1.5.2.RELEASE` to `1.5.22.RELEASE`\r\n\r\n    @Transactional(readOnly = true)\r\n    @Query(value = &quot;SELECT q.id as someId, q.name as someName from Quote q where q.id in (:quoteIds)&quot;)\r\n    List&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\r\n\r\nNow when I try to just select 1 column like so,\r\n\r\n    @Transactional(readOnly = true)\r\n    @Query(value = &quot;SELECT q.id as someId from Quote q where q.id in (:quoteIds)&quot;)\r\n    List&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\r\n\r\nor\r\n\r\n    @Transactional(readOnly = true)\r\n    @Query(value = &quot;SELECT q.name as someName from Quote q where q.id in (:quoteIds)&quot;)\r\n    List&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\r\n\r\nit works. Just doesn&#39;t work when I select 2 at the same time.\r\n\r\n","title":"@Query doesn&#39;t work if I select more than 1 column","body":"<p>I have a query like below that doesn't work. <br>\nIt throws <code>IndexOutOfBoundsException: Index: 0, Size: 0</code> <br />\n(sorry I can't post the whole stacktrace as it is in my workstation (remote))\nThis started to be an issue when I upgraded from Spring Boot <code>1.5.2.RELEASE</code> to <code>1.5.22.RELEASE</code></p>\n<pre><code>@Transactional(readOnly = true)\n@Query(value = &quot;SELECT q.id as someId, q.name as someName from Quote q where q.id in (:quoteIds)&quot;)\nList&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\n</code></pre>\n<p>Now when I try to just select 1 column like so,</p>\n<pre><code>@Transactional(readOnly = true)\n@Query(value = &quot;SELECT q.id as someId from Quote q where q.id in (:quoteIds)&quot;)\nList&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\n</code></pre>\n<p>or</p>\n<pre><code>@Transactional(readOnly = true)\n@Query(value = &quot;SELECT q.name as someName from Quote q where q.id in (:quoteIds)&quot;)\nList&lt;Tuple&gt; selectSomeThings(@Param(&quot;quoteIds&quot;) List&lt;Long&gt; quoteIds)\n</code></pre>\n<p>it works. Just doesn't work when I select 2 at the same time.</p>\n"},{"tags":["java","excel","spring-boot","apache-poi","cpu-usage"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1674891265,"post_id":75266070,"comment_id":132814293,"body_markdown":"Please clarify why your app is restarting. Exactly which resource limit is it hitting?","body":"Please clarify why your app is restarting. Exactly which resource limit is it hitting?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1674892865,"post_id":75266070,"comment_id":132814465,"body_markdown":"Don&#39;t return null on an exception, at least print a stack trace.","body":"Don&#39;t return null on an exception, at least print a stack trace."},{"owner":{"account_id":14738,"reputation":1687,"user_id":30581,"accept_rate":67,"display_name":"Emrah Diril"},"score":2,"creation_date":1674893355,"post_id":75266070,"comment_id":132814525,"body_markdown":"Which version of apache poi are you using? Is it the latest? If not, you could consider upgrading in case the team made improvements to the resource usage issues you are running into.","body":"Which version of apache poi are you using? Is it the latest? If not, you could consider upgrading in case the team made improvements to the resource usage issues you are running into."},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674895782,"post_id":75266070,"comment_id":132814795,"body_markdown":"@tgdavies CPU limit is hitting . that is confirmed from checking kubectl logs. and also when checking in local Jconsole for spring-boot it is confirmed. thank you for comment","body":"@tgdavies CPU limit is hitting . that is confirmed from checking kubectl logs. and also when checking in local Jconsole for spring-boot it is confirmed. thank you for comment"},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674895931,"post_id":75266070,"comment_id":132814810,"body_markdown":"@GilbertLeBlanc yes actally logging exception and throwing a custom business exception in catch block. removed unneccessary code for brevity when adding question in stackoverflow. thank you for comment","body":"@GilbertLeBlanc yes actally logging exception and throwing a custom business exception in catch block. removed unneccessary code for brevity when adding question in stackoverflow. thank you for comment"},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674897044,"post_id":75266070,"comment_id":132814941,"body_markdown":"@EmrahDiril new version 5.2.3 of apache poi-ooxml","body":"@EmrahDiril new version 5.2.3 of apache poi-ooxml"},{"owner":{"account_id":463036,"reputation":5197,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"score":0,"creation_date":1674899161,"post_id":75266070,"comment_id":132815266,"body_markdown":"Isn&#39;t writing to CSV and then converting to Excel an alternative?","body":"Isn&#39;t writing to CSV and then converting to Excel an alternative?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674901403,"post_id":75266070,"comment_id":132815580,"body_markdown":"Wanting more CPU than the k8s limit allows shouldn&#39;t cause a container to restart. Are you certain that&#39;s happening?","body":"Wanting more CPU than the k8s limit allows shouldn&#39;t cause a container to restart. Are you certain that&#39;s happening?"},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674917327,"post_id":75266070,"comment_id":132818232,"body_markdown":"@tgdavies yes we have config to discard pod if it reaches 60% of cpu resource utilization. checked with other team who configured this config also confirmed.","body":"@tgdavies yes we have config to discard pod if it reaches 60% of cpu resource utilization. checked with other team who configured this config also confirmed."},{"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"score":0,"creation_date":1674917395,"post_id":75266070,"comment_id":132818250,"body_markdown":"@Sebastian got the idea but still i have to use the POI to write the file so again i have to use workbook.write(fileOutStream) method only. it will again cause same CPU hike","body":"@Sebastian got the idea but still i have to use the POI to write the file so again i have to use workbook.write(fileOutStream) method only. it will again cause same CPU hike"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674972905,"post_id":75266070,"comment_id":132825917,"body_markdown":"Killing a pod if it uses 60% of the CPU that you have configured it to be able to use seems  strange. Why not just reduce the limit?","body":"Killing a pod if it uses 60% of the CPU that you have configured it to be able to use seems  strange. Why not just reduce the limit?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1674974036,"post_id":75266070,"comment_id":132826027,"body_markdown":"&quot;Is there any way to write a large excel file without impacting CPU and Memory?&quot;: Let me have my cake and eat it too. In German we say: Wash me but don&#39;t get me wet.","body":"&quot;Is there any way to write a large excel file without impacting CPU and Memory?&quot;: Let me have my cake and eat it too. In German we say: Wash me but don&#39;t get me wet."}],"answers":[{"tags":[],"owner":{"account_id":14738,"reputation":1687,"user_id":30581,"accept_rate":67,"display_name":"Emrah Diril"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674898208,"creation_date":1674894958,"answer_id":75266373,"question_id":75266070,"body_markdown":"You seem to be doing the right thing by giving SXSSFWorkbook a window size (although `1` might be too small causing problems?). The workbook should be getting flushed to disk when the number of rows exceed the limit you set, reducing memory usage. I doubt there is a workaround for reducing cpu usage though.\r\n\r\nYou can try to limit your memory usage by adjusting JVM parameters so it doesn&#39;t trigger the K8s limit. Have a look at these: `-Xmx` `-Xms` `-XX:MaxRAM` `-XX:+UseSerialGC`\r\n\r\nHave you considered using an alternate library for writing Excel files? For example, have a look at this SO answer: https://stackoverflow.com/questions/4601722/are-there-any-alternatives-to-using-apache-poi-java-for-microsoft-office","title":"Writing large Excel in Java causing high CPU usage using apache-poi","body":"<p>You seem to be doing the right thing by giving SXSSFWorkbook a window size (although <code>1</code> might be too small causing problems?). The workbook should be getting flushed to disk when the number of rows exceed the limit you set, reducing memory usage. I doubt there is a workaround for reducing cpu usage though.</p>\n<p>You can try to limit your memory usage by adjusting JVM parameters so it doesn't trigger the K8s limit. Have a look at these: <code>-Xmx</code> <code>-Xms</code> <code>-XX:MaxRAM</code> <code>-XX:+UseSerialGC</code></p>\n<p>Have you considered using an alternate library for writing Excel files? For example, have a look at this SO answer: <a href=\"https://stackoverflow.com/questions/4601722/are-there-any-alternatives-to-using-apache-poi-java-for-microsoft-office\">Are there any alternatives to using Apache POI Java for Microsoft Office?</a></p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675004659,"creation_date":1674982228,"answer_id":75273669,"question_id":75266070,"body_markdown":"The question &quot;Is there any way to write a large excel file without impacting CPU and Memory?&quot; is something like: Let me have my cake and eat it too. In German we say: Wash me but don&#39;t get me wet. In other words: All content which shall be in a file on a computer must be through the CPU and must be in memory while processing.\r\n\r\nTo get a clue about what amount of memory we are talking about, lets have a simple calculation of what it means to have 500,000 rows with 25 columns:\r\n\r\n                         Cell value                                                                         Len     500,000 times  KiByte\t     MiByte\r\n    Single value         some cell value                                                                    15\t\t\t\r\n    25 columns           some cell value, some cell value, some cell value, some cell value, some ...       425     212500000      207519.5313   202.6557922\r\n    XML of single value  &lt;c r=&quot;C99&quot; t=&quot;inlineStr&quot; s=&quot;9&quot;&gt;&lt;is&gt;&lt;t&gt;some cell value&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;                 66       \r\n    XML of 25 columns    &lt;c r=&quot;C99&quot; t=&quot;inlineStr&quot; s=&quot;9&quot;&gt;&lt;is&gt;&lt;t&gt;some cell value&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&lt;c r=&quot;...        1650    825000000      805664.0625   786.781311\r\n\r\n\r\nThat shows, even having only plain text, 500,000 rows with 25 columns having cell value &quot;some cell value&quot; will take 202.6557922 MiByte of memory.\r\n\r\nBut a Excel file is not simply plain text. Current Open Office Excel format stores XML. And that needs much more memory because of the XML-overhead. The above shows that 500,000 rows with 25 columns having cell value &quot;some cell value&quot; will take 786.781311 MiByte of memory, when stored as XML.\r\n\r\nThat 786.781311 MiByte of memory is only to store the cells, there is more overhead to store the rows, the sheets, the workbook, the styles, the relations, ... \r\n\r\n`SXSSFWorkbook` claims to be a streaming approach. But it only streams the cells into rows into sheets as temporary files. It additional needs memory to hold the workbook, the styles, the relations, ... After streaming, it needs memory to put that all together into the workbook. And at least while this process the whole workbook size must be processed through CPU and memory.\r\n\r\nConclusion:\r\nExcel is a spreadsheet application. It is not a good format for data exchange. Good formats for data exchange are: Plain text (CSV) or plain XML or JSON, as those really can contain streams of plain data rows without the overhead of sheets in a workbook.\r\n\r\n\r\nIf your business requirement insists in Excel files, then give the application more resources.\r\n\r\nMy code provided in https://stackoverflow.com/questions/75164355/get-smart-excel-table-with-apache-poi/75172222#75172222 works using `organizations-1000000.csv`, got downloaded from https://www.datablist.com/learn/csv/download-sample-csv-files. It creates a `Excel.xlsx` having 1,000,000 data rows and 97,450 KB of size.\r\n\r\nFor me `java -XX:+PrintFlagsFinal -version   | findstr HeapSize` prints:\r\n\r\n       size_t ErgoHeapSizeLimit                        = 0                                         {product} {default}\r\n       size_t HeapSizePerGCThread                      = 43620760                                  {product} {default}\r\n       size_t InitialHeapSize                          = 132120576                                 {product} {ergonomic}\r\n       size_t LargePageHeapSizeThreshold               = 134217728                                 {product} {default}\r\n       size_t MaxHeapSize                              = 2113929216                                {product} {ergonomic}\r\n       size_t MinHeapSize                              = 8388608                                   {product} {ergonomic}\r\n        uintx NonNMethodCodeHeapSize                   = 5832780                                {pd product} {ergonomic}\r\n        uintx NonProfiledCodeHeapSize                  = 122912730                              {pd product} {ergonomic}\r\n        uintx ProfiledCodeHeapSize                     = 122912730                              {pd product} {ergonomic}\r\n       size_t SoftMaxHeapSize                          = 2113929216                             {manageable} {ergonomic}\r\n    java version &quot;15&quot; 2020-09-15\r\n    Java(TM) SE Runtime Environment (build 15+36-1562)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 15+36-1562, mixed mode, sharing)\r\n\r\n","title":"Writing large Excel in Java causing high CPU usage using apache-poi","body":"<p>The question &quot;Is there any way to write a large excel file without impacting CPU and Memory?&quot; is something like: Let me have my cake and eat it too. In German we say: Wash me but don't get me wet. In other words: All content which shall be in a file on a computer must be through the CPU and must be in memory while processing.</p>\n<p>To get a clue about what amount of memory we are talking about, lets have a simple calculation of what it means to have 500,000 rows with 25 columns:</p>\n<pre><code>                     Cell value                                                                         Len     500,000 times  KiByte        MiByte\nSingle value         some cell value                                                                    15          \n25 columns           some cell value, some cell value, some cell value, some cell value, some ...       425     212500000      207519.5313   202.6557922\nXML of single value  &lt;c r=&quot;C99&quot; t=&quot;inlineStr&quot; s=&quot;9&quot;&gt;&lt;is&gt;&lt;t&gt;some cell value&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;                 66       \nXML of 25 columns    &lt;c r=&quot;C99&quot; t=&quot;inlineStr&quot; s=&quot;9&quot;&gt;&lt;is&gt;&lt;t&gt;some cell value&lt;/t&gt;&lt;/is&gt;&lt;/c&gt;&lt;c r=&quot;...        1650    825000000      805664.0625   786.781311\n</code></pre>\n<p>That shows, even having only plain text, 500,000 rows with 25 columns having cell value &quot;some cell value&quot; will take 202.6557922 MiByte of memory.</p>\n<p>But a Excel file is not simply plain text. Current Open Office Excel format stores XML. And that needs much more memory because of the XML-overhead. The above shows that 500,000 rows with 25 columns having cell value &quot;some cell value&quot; will take 786.781311 MiByte of memory, when stored as XML.</p>\n<p>That 786.781311 MiByte of memory is only to store the cells, there is more overhead to store the rows, the sheets, the workbook, the styles, the relations, ...</p>\n<p><code>SXSSFWorkbook</code> claims to be a streaming approach. But it only streams the cells into rows into sheets as temporary files. It additional needs memory to hold the workbook, the styles, the relations, ... After streaming, it needs memory to put that all together into the workbook. And at least while this process the whole workbook size must be processed through CPU and memory.</p>\n<p>Conclusion:\nExcel is a spreadsheet application. It is not a good format for data exchange. Good formats for data exchange are: Plain text (CSV) or plain XML or JSON, as those really can contain streams of plain data rows without the overhead of sheets in a workbook.</p>\n<p>If your business requirement insists in Excel files, then give the application more resources.</p>\n<p>My code provided in <a href=\"https://stackoverflow.com/questions/75164355/get-smart-excel-table-with-apache-poi/75172222#75172222\">Get smart Excel table with Apache POI</a> works using <code>organizations-1000000.csv</code>, got downloaded from <a href=\"https://www.datablist.com/learn/csv/download-sample-csv-files\" rel=\"nofollow noreferrer\">https://www.datablist.com/learn/csv/download-sample-csv-files</a>. It creates a <code>Excel.xlsx</code> having 1,000,000 data rows and 97,450 KB of size.</p>\n<p>For me <code>java -XX:+PrintFlagsFinal -version   | findstr HeapSize</code> prints:</p>\n<pre><code>   size_t ErgoHeapSizeLimit                        = 0                                         {product} {default}\n   size_t HeapSizePerGCThread                      = 43620760                                  {product} {default}\n   size_t InitialHeapSize                          = 132120576                                 {product} {ergonomic}\n   size_t LargePageHeapSizeThreshold               = 134217728                                 {product} {default}\n   size_t MaxHeapSize                              = 2113929216                                {product} {ergonomic}\n   size_t MinHeapSize                              = 8388608                                   {product} {ergonomic}\n    uintx NonNMethodCodeHeapSize                   = 5832780                                {pd product} {ergonomic}\n    uintx NonProfiledCodeHeapSize                  = 122912730                              {pd product} {ergonomic}\n    uintx ProfiledCodeHeapSize                     = 122912730                              {pd product} {ergonomic}\n   size_t SoftMaxHeapSize                          = 2113929216                             {manageable} {ergonomic}\njava version &quot;15&quot; 2020-09-15\nJava(TM) SE Runtime Environment (build 15+36-1562)\nJava HotSpot(TM) 64-Bit Server VM (build 15+36-1562, mixed mode, sharing)\n</code></pre>\n"}],"owner":{"account_id":20354271,"reputation":59,"user_id":14930161,"display_name":"tomsheldon"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":927,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675004659,"creation_date":1674890998,"question_id":75266070,"body_markdown":"Writing large data around 1/2 million records with  25 columns.\r\n\r\nUsing apache-poi streaming workbook to write data from list to excel file.\r\nwhen tested locally it is giving high CPU spikes in local machine too.\r\nappears to be causing when writing workbook data to file\r\n\r\n    workbook.write(fileOutputStream) // it is causing CPU spikes debugged and confirmed.\r\n\r\nIt is causing high CPU usage in cloud app (deployed in kubernetes) and restarting application as it is hitting resource limits. we have a simple app with 2042Mi memory and 1024m CPU config.\r\n\r\n\r\nIs there any way to write a large excel file without impacting CPU and Memory and java heap efficiently.\r\n\r\n(NOTE: can&#39;t use csv or other formats as business requirement is for excel files)\r\n\r\nCode using:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.util.List;\r\n\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.CellStyle;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.king.medicalcollege.model.Medico;\r\n\r\n@Service\r\npublic class ExcelWriterService {\r\n\r\n\t// file is an empty file already created\r\n\t// Large List around 500K records of medico data [Medico is POJO]\r\n\r\n\tpublic File writeData(File file, List&lt;Medico&gt; medicos) {\r\n\r\n\t\tSXSSFWorkbook sxssfWorkbook = null;\r\n\t\ttry (SXSSFWorkbook workbook = sxssfWorkbook = new SXSSFWorkbook(1);\r\n\t\t\t\tFileOutputStream fileOutputStream = new FileOutputStream(file)) {\r\n\r\n\t\t\tSheet sheet = workbook.createSheet();\r\n\t\t\tCellStyle cellStyle = workbook.createCellStyle();\r\n\t\t\tint rowNum = 0;\r\n\t\t\tfor (Medico medico : medicos) {\r\n\t\t\t\tRow row = sheet.createRow(rowNum);\r\n\t\t\t\t//just adding POJO values (25 fields)  into ROW \r\n\t\t\t\taddDataInRow(medico, row, cellStyle);\r\n\t\t\t\trowNum++;\r\n\t\t\t}\r\n\r\n\t\t\t//workbook.write causing CPU spike\r\n\t\t\tworkbook.write(fileOutputStream);\r\n\r\n\t\t\tworkbook.dispose();\r\n\r\n\t\t} catch (Exception exception) {\r\n\t\t\treturn null;\r\n\t\t} finally {\r\n\t\t\tif (sxssfWorkbook != null) {\r\n\t\t\t\tsxssfWorkbook.dispose();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn file;\r\n\t}\r\n\r\n\tprivate void addDataInRow(Medico medico, Row row, CellStyle cellStyle) {\r\n\t\tCell cell_0 = row.createCell(0);\r\n\t\tcell_0.setCellValue(medico.getFirstName());\r\n\t\tcell_0.setCellStyle(cellStyle);\r\n\t\t\r\n\t\tCell cell_1 = row.createCell(1);\r\n\t\tcell_1.setCellValue(medico.getMiddleName());\r\n\t\tcell_1.setCellStyle(cellStyle);\r\n\t\t\r\n\t\tCell cell_2 = row.createCell(2);\r\n\t\tcell_2.setCellValue(medico.getLastName());\r\n\t\tcell_2.setCellStyle(cellStyle);\r\n\t\t\r\n\t\tCell cell_3 = row.createCell(2);\r\n\t\tcell_3.setCellValue(medico.getFirstName());\r\n\t\tcell_3.setCellStyle(cellStyle);\r\n\t\t\r\n\t\t//...... around 25 columns will be added like this\r\n\t}\r\n}\r\n```","title":"Writing large Excel in Java causing high CPU usage using apache-poi","body":"<p>Writing large data around 1/2 million records with  25 columns.</p>\n<p>Using apache-poi streaming workbook to write data from list to excel file.\nwhen tested locally it is giving high CPU spikes in local machine too.\nappears to be causing when writing workbook data to file</p>\n<pre><code>workbook.write(fileOutputStream) // it is causing CPU spikes debugged and confirmed.\n</code></pre>\n<p>It is causing high CPU usage in cloud app (deployed in kubernetes) and restarting application as it is hitting resource limits. we have a simple app with 2042Mi memory and 1024m CPU config.</p>\n<p>Is there any way to write a large excel file without impacting CPU and Memory and java heap efficiently.</p>\n<p>(NOTE: can't use csv or other formats as business requirement is for excel files)</p>\n<p>Code using:</p>\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.List;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.CellStyle;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\nimport org.springframework.stereotype.Service;\n\nimport com.king.medicalcollege.model.Medico;\n\n@Service\npublic class ExcelWriterService {\n\n    // file is an empty file already created\n    // Large List around 500K records of medico data [Medico is POJO]\n\n    public File writeData(File file, List&lt;Medico&gt; medicos) {\n\n        SXSSFWorkbook sxssfWorkbook = null;\n        try (SXSSFWorkbook workbook = sxssfWorkbook = new SXSSFWorkbook(1);\n                FileOutputStream fileOutputStream = new FileOutputStream(file)) {\n\n            Sheet sheet = workbook.createSheet();\n            CellStyle cellStyle = workbook.createCellStyle();\n            int rowNum = 0;\n            for (Medico medico : medicos) {\n                Row row = sheet.createRow(rowNum);\n                //just adding POJO values (25 fields)  into ROW \n                addDataInRow(medico, row, cellStyle);\n                rowNum++;\n            }\n\n            //workbook.write causing CPU spike\n            workbook.write(fileOutputStream);\n\n            workbook.dispose();\n\n        } catch (Exception exception) {\n            return null;\n        } finally {\n            if (sxssfWorkbook != null) {\n                sxssfWorkbook.dispose();\n            }\n        }\n\n        return file;\n    }\n\n    private void addDataInRow(Medico medico, Row row, CellStyle cellStyle) {\n        Cell cell_0 = row.createCell(0);\n        cell_0.setCellValue(medico.getFirstName());\n        cell_0.setCellStyle(cellStyle);\n        \n        Cell cell_1 = row.createCell(1);\n        cell_1.setCellValue(medico.getMiddleName());\n        cell_1.setCellStyle(cellStyle);\n        \n        Cell cell_2 = row.createCell(2);\n        cell_2.setCellValue(medico.getLastName());\n        cell_2.setCellStyle(cellStyle);\n        \n        Cell cell_3 = row.createCell(2);\n        cell_3.setCellValue(medico.getFirstName());\n        cell_3.setCellStyle(cellStyle);\n        \n        //...... around 25 columns will be added like this\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","netbeans-8"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1558107327,"post_id":56189570,"comment_id":99004169,"body_markdown":"Have you tried `new Image(&quot;ship.png&quot;);` without the `file:` part!?","body":"Have you tried <code>new Image(&quot;ship.png&quot;);</code> without the <code>file:</code> part!?"},{"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"score":0,"creation_date":1558112423,"post_id":56189570,"comment_id":99006219,"body_markdown":"make sure your image is included into the jar","body":"make sure your image is included into the jar"},{"owner":{"account_id":927305,"reputation":34168,"user_id":1054140,"accept_rate":100,"display_name":"Sergey Grinev"},"score":1,"creation_date":1558112537,"post_id":56189570,"comment_id":99006262,"body_markdown":"Also, check https://stackoverflow.com/questions/10575410/where-does-javafx-scene-image-imageflower-png-look-for-flower-png","body":"Also, check <a href=\"https://stackoverflow.com/questions/10575410/where-does-javafx-scene-image-imageflower-png-look-for-flower-png\" title=\"where does javafx scene image imageflower png look for flower png\">stackoverflow.com/questions/10575410/&hellip;</a>"},{"owner":{"account_id":15959369,"reputation":3,"user_id":11516878,"display_name":"Ahmad Akram"},"score":0,"creation_date":1558118084,"post_id":56189570,"comment_id":99008467,"body_markdown":"I did try new Image(&quot;ship.png&quot;) and my images are included in the jar.","body":"I did try new Image(&quot;ship.png&quot;) and my images are included in the jar."}],"answers":[{"tags":[],"owner":{"account_id":18741097,"reputation":1,"user_id":13664345,"display_name":"Willson Vulembere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594496923,"creation_date":1594473975,"answer_id":62849756,"question_id":56189570,"body_markdown":"I believe that the image should be in the same directory as your java project or declare a package of icons inside your project.\r\ne.g.: `/icons/monimage.png` in the source directory\r\n  otherwise your access path will tighten \r\n\r\n    Image il=new Image(&quot;/icon/monimage.png&quot;);\r\n    setFill(new ImagePattern(il));","title":"IllegalArgumentException : image must be non-null","body":"<p>I believe that the image should be in the same directory as your java project or declare a package of icons inside your project.\ne.g.: <code>/icons/monimage.png</code> in the source directory\notherwise your access path will tighten</p>\n<pre><code>Image il=new Image(&quot;/icon/monimage.png&quot;);\nsetFill(new ImagePattern(il));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18741097,"reputation":1,"user_id":13664345,"display_name":"Willson Vulembere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675004578,"creation_date":1675004578,"answer_id":75275893,"question_id":56189570,"body_markdown":"     public static void SetImage(ImageView imgV, String patch) throws FileNotFoundException {\r\n        File file = new File(patch);\r\n        Image image = new Image(file.toURI().toString(), imgV.getFitHeight(), imgV.getFitWidth(), true, true);\r\n        imgV.setImage(image);\r\n        imgV.setPreserveRatio(true);\r\n    }\r\n\r\nYou can use this function to display an image directly in an ImagaView","title":"IllegalArgumentException : image must be non-null","body":"<pre><code> public static void SetImage(ImageView imgV, String patch) throws FileNotFoundException {\n    File file = new File(patch);\n    Image image = new Image(file.toURI().toString(), imgV.getFitHeight(), imgV.getFitWidth(), true, true);\n    imgV.setImage(image);\n    imgV.setPreserveRatio(true);\n}\n</code></pre>\n<p>You can use this function to display an image directly in an ImagaView</p>\n"}],"owner":{"account_id":15959369,"reputation":3,"user_id":11516878,"display_name":"Ahmad Akram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675004578,"creation_date":1558107262,"question_id":56189570,"body_markdown":"I&#39;m working on a simple &quot;Space Invaders&quot; game using JavaFx, and while my game works fine without any exceptions or errors when I run the project inside netbeans, it keeps giving me this error when I run the .jar file through CMD and I can&#39;t seem to find a solution.\r\n\r\n//this is an example of how i define my images/imagepattern\r\n\r\n```java\r\nImage il=new Image(&quot;file:ship.png&quot;);\r\nsetFill(new ImagePattern(il));\r\n```\r\n\r\n\r\n\r\n\r\n// this is the error\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IllegalArgumentException: Image must be non-null\r\n        at com.sun.prism.paint.ImagePattern.&lt;init&gt;(ImagePattern.java:44)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.createImagePatternPaint(QuantumToolkit.java:905)\r\n        at com.sun.javafx.tk.Toolkit.getPaint(Toolkit.java:657)\r\n        at javafx.scene.paint.ImagePattern.acc_getPlatformPaint(ImagePattern.java:291)\r\n        at javafx.scene.paint.Paint$1.getPlatformPaint(Paint.java:51)\r\n        at javafx.scene.shape.Shape.updatePGShape(Shape.java:916)\r\n        at javafx.scene.shape.Shape.impl_updatePeer(Shape.java:965)\r\n        at javafx.scene.shape.Rectangle.impl_updatePeer(Rectangle.java:541)\r\n        at javafx.scene.Node.impl_syncPeer(Node.java:503)\r\n        at javafx.scene.Scene$ScenePulseListener.syncAll(Scene.java:2304)\r\n        at javafx.scene.Scene$ScenePulseListener.syncAll(Scene.java:2313)\r\n        at javafx.scene.Scene$ScenePulseListener.synchronizeSceneNodes(Scene.java:2280)\r\n        at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2419)\r\n        at com.sun.javafx.tk.Toolkit.lambda$runPulse$29(Toolkit.java:398)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:397)\r\n        at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:424)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:518)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:498)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:491)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$408(QuantumToolkit.java:319)\r\n        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n        at com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\r\n        at java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\n\r\n**EDIT:**\r\nafter some debugging i have found that the .jar looks for the images in C:\\Users\\Admin instead of within the project itself, how can i change that?","title":"IllegalArgumentException : image must be non-null","body":"<p>I'm working on a simple \"Space Invaders\" game using JavaFx, and while my game works fine without any exceptions or errors when I run the project inside netbeans, it keeps giving me this error when I run the .jar file through CMD and I can't seem to find a solution.</p>\n\n<p>//this is an example of how i define my images/imagepattern</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Image il=new Image(\"file:ship.png\");\nsetFill(new ImagePattern(il));\n</code></pre>\n\n<p>// this is the error</p>\n\n<pre><code>Exception in thread \"JavaFX Application Thread\" java.lang.IllegalArgumentException: Image must be non-null\n        at com.sun.prism.paint.ImagePattern.&lt;init&gt;(ImagePattern.java:44)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.createImagePatternPaint(QuantumToolkit.java:905)\n        at com.sun.javafx.tk.Toolkit.getPaint(Toolkit.java:657)\n        at javafx.scene.paint.ImagePattern.acc_getPlatformPaint(ImagePattern.java:291)\n        at javafx.scene.paint.Paint$1.getPlatformPaint(Paint.java:51)\n        at javafx.scene.shape.Shape.updatePGShape(Shape.java:916)\n        at javafx.scene.shape.Shape.impl_updatePeer(Shape.java:965)\n        at javafx.scene.shape.Rectangle.impl_updatePeer(Rectangle.java:541)\n        at javafx.scene.Node.impl_syncPeer(Node.java:503)\n        at javafx.scene.Scene$ScenePulseListener.syncAll(Scene.java:2304)\n        at javafx.scene.Scene$ScenePulseListener.syncAll(Scene.java:2313)\n        at javafx.scene.Scene$ScenePulseListener.synchronizeSceneNodes(Scene.java:2280)\n        at javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2419)\n        at com.sun.javafx.tk.Toolkit.lambda$runPulse$29(Toolkit.java:398)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:397)\n        at com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:424)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:518)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:498)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:491)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$408(QuantumToolkit.java:319)\n        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at com.sun.glass.ui.win.WinApplication.lambda$null$152(WinApplication.java:177)\n        at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p><strong>EDIT:</strong>\nafter some debugging i have found that the .jar looks for the images in C:\\Users\\Admin instead of within the project itself, how can i change that?</p>\n"},{"tags":["java","android","adt"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1403972854,"post_id":24468705,"comment_id":37869655,"body_markdown":"Not officially. Xav Ducrohet was asked that in the Google I|O 2014 &quot;Android Fireside Chat&quot; presentation, and he declined to answer, more or less.","body":"Not officially. Xav Ducrohet was asked that in the Google I|O 2014 &quot;Android Fireside Chat&quot; presentation, and he declined to answer, more or less."},{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":1,"creation_date":1403976576,"post_id":24468705,"comment_id":37870648,"body_markdown":"It **barely supports Java 7** (only API Level 19 supports certain Java 7 features)...","body":"It <b>barely supports Java 7</b> (only API Level 19 supports certain Java 7 features)..."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1403985739,"post_id":24468705,"comment_id":37872912,"body_markdown":"See also http://stackoverflow.com/questions/24467933/is-it-possible-to-use-java-8-in-eclipse-android-project/24468106","body":"See also <a href=\"http://stackoverflow.com/questions/24467933/is-it-possible-to-use-java-8-in-eclipse-android-project/24468106\" title=\"is it possible to use java 8 in eclipse android project\">stackoverflow.com/questions/24467933/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675003824,"creation_date":1675003824,"answer_id":75275796,"question_id":24468705,"body_markdown":"Java 8 APIs started becoming available in Android API 26 (which is Android 8, or Nougat). A mechanism called [API desugaring][1] is available to use [certain Java 8 APIs][2] on earlier Android versions, regardless of the Android API level.\r\n\r\nHowever, there is no 1:1 connection between Android and Java API versions. In the past, it has taken Google some 2–3 years following the release of a new Java version to gradually start implementing its APIs. So, the question “is a certain Java API available on a certain Android version” can only be answered on a per-class/member base. You will have to look up every class, method, constant etc. on the **Android** API reference and see if it it supported, and what the minimum API version on Android is – or see if API desugaring provides it, which is not tied to a particular Android API level.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support#library-desugaring\r\n  [2]: https://developer.android.com/studio/write/java8-support-table","title":"Does ADT support Java 8 API?","body":"<p>Java 8 APIs started becoming available in Android API 26 (which is Android 8, or Nougat). A mechanism called <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">API desugaring</a> is available to use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">certain Java 8 APIs</a> on earlier Android versions, regardless of the Android API level.</p>\n<p>However, there is no 1:1 connection between Android and Java API versions. In the past, it has taken Google some 2–3 years following the release of a new Java version to gradually start implementing its APIs. So, the question “is a certain Java API available on a certain Android version” can only be answered on a per-class/member base. You will have to look up every class, method, constant etc. on the <strong>Android</strong> API reference and see if it it supported, and what the minimum API version on Android is – or see if API desugaring provides it, which is not tied to a particular Android API level.</p>\n"}],"owner":{"account_id":1719286,"reputation":3752,"user_id":1575632,"accept_rate":89,"display_name":"amin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675003824,"creation_date":1403972210,"question_id":24468705,"body_markdown":"Do Android Developers Tools support JAVA 8 API up to this date? I&#39;m trying to build an Android app using JAVA 8 and I was wondering about this thing.","title":"Does ADT support Java 8 API?","body":"<p>Do Android Developers Tools support JAVA 8 API up to this date? I'm trying to build an Android app using JAVA 8 and I was wondering about this thing.</p>\n"},{"tags":["java","java-stream"],"owner":{"account_id":16699278,"reputation":1,"user_id":12069487,"display_name":"Sephiroth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675002816,"answer_count":0,"score":0,"last_activity_date":1675003702,"creation_date":1675002587,"question_id":75275673,"body_markdown":"Can anyone tell me how this works: \r\n\r\n&gt; ```java\r\n&gt; long count = list.stream().filter(String::isEmpty).count();\r\n&gt; ```\r\n\r\nThe method `String.isEmpty()` does not accept any parameters. How was it able to gain access to the elements of the `Stream` in order for it to check if the elements are empty or not?\r\n\r\n\r\n\r\nI saw a code where a method can have access to elements of the `Stream`. I suppose it has access because the elements were passed as a parameter like below:\r\n\r\n\r\n&gt; ```java\r\n&gt; boolean isReal = list.stream().anyMatch(u -&gt; User.isRealUser(u));\r\n&gt; ```\r\n\r\nwhich essetnially the same as \r\n\r\n&gt; ```java\r\n&gt; boolean isReal = list.stream().anyMatch(User::isRealUser);\r\n&gt; ```\r\n\r\nBut `String.isEmpty()`? It does not accept any parameters, how was it able to know the `Stream` elements?\r\n\r\n**Update:**\r\n\r\nBelow helped me in understanding what happened.\r\n\r\n`String::toLowerCase` is an unbound non-static method reference that identifies the non-static String `toLowerCase()` method of the `String` class.\r\n\r\nHowever, because a non-static method still requires a receiver object (in this example a `String` object, which is used to invoke `toLowerCase()` via the method reference), the **receiver object is created by the virtual machine**. `toLowerCase()` will be invoked on this object. \r\n\r\n`String::toLowerCase` specifies a method that takes a single `String` argument, which is the receiver object, and returns a `String` result. \r\n\r\n`String::toLowerCase()` is equivalent to lambda `(String s) -&gt; { return s.toLowerCase(); }`.\r\n\r\nThe last line above is what I was looking for. Given the lambda equivalent of `String.toLowerCase()`, the elements of the `Stream` are passed as variable `s` to which `toLowerCase()` is applied.\r\n\r\n","title":"Java 8 Streams -- use of Predicate","body":"<p>Can anyone tell me how this works:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>long count = list.stream().filter(String::isEmpty).count();\n</code></pre>\n</blockquote>\n<p>The method <code>String.isEmpty()</code> does not accept any parameters. How was it able to gain access to the elements of the <code>Stream</code> in order for it to check if the elements are empty or not?</p>\n<p>I saw a code where a method can have access to elements of the <code>Stream</code>. I suppose it has access because the elements were passed as a parameter like below:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isReal = list.stream().anyMatch(u -&gt; User.isRealUser(u));\n</code></pre>\n</blockquote>\n<p>which essetnially the same as</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isReal = list.stream().anyMatch(User::isRealUser);\n</code></pre>\n</blockquote>\n<p>But <code>String.isEmpty()</code>? It does not accept any parameters, how was it able to know the <code>Stream</code> elements?</p>\n<p><strong>Update:</strong></p>\n<p>Below helped me in understanding what happened.</p>\n<p><code>String::toLowerCase</code> is an unbound non-static method reference that identifies the non-static String <code>toLowerCase()</code> method of the <code>String</code> class.</p>\n<p>However, because a non-static method still requires a receiver object (in this example a <code>String</code> object, which is used to invoke <code>toLowerCase()</code> via the method reference), the <strong>receiver object is created by the virtual machine</strong>. <code>toLowerCase()</code> will be invoked on this object.</p>\n<p><code>String::toLowerCase</code> specifies a method that takes a single <code>String</code> argument, which is the receiver object, and returns a <code>String</code> result.</p>\n<p><code>String::toLowerCase()</code> is equivalent to lambda <code>(String s) -&gt; { return s.toLowerCase(); }</code>.</p>\n<p>The last line above is what I was looking for. Given the lambda equivalent of <code>String.toLowerCase()</code>, the elements of the <code>Stream</code> are passed as variable <code>s</code> to which <code>toLowerCase()</code> is applied.</p>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":1468586,"reputation":44539,"user_id":1380752,"accept_rate":85,"display_name":"codeMagic"},"score":0,"creation_date":1389732584,"post_id":21123653,"comment_id":31785450,"body_markdown":"I have found `AlertDialog` to be hard to customize. I ended up creating a custom `Dialog` that contains a `View` exactly how I want.","body":"I have found <code>AlertDialog</code> to be hard to customize. I ended up creating a custom <code>Dialog</code> that contains a <code>View</code> exactly how I want."},{"owner":{"account_id":3849428,"reputation":1805,"user_id":3189953,"display_name":"koni"},"score":0,"creation_date":1389732694,"post_id":21123653,"comment_id":31785520,"body_markdown":"I think you can find you answer here : \r\nhttp://stackoverflow.com/questions/4954130/message-text-in-android-dialog-box\r\nI hope it help you !","body":"I think you can find you answer here :   <a href=\"http://stackoverflow.com/questions/4954130/message-text-in-android-dialog-box\" title=\"message text in android dialog box\">stackoverflow.com/questions/4954130/&hellip;</a>  I hope it help you !"},{"owner":{"account_id":2889439,"reputation":297,"user_id":2478562,"accept_rate":94,"display_name":"Violin Nz"},"score":0,"creation_date":1389733367,"post_id":21123653,"comment_id":31785957,"body_markdown":"@koni Yes, I saw that link, quick answer.","body":"@koni Yes, I saw that link, quick answer."}],"answers":[{"tags":[],"owner":{"account_id":543988,"reputation":3542,"user_id":913286,"display_name":"Gil Vegliach"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1389732591,"creation_date":1389732591,"answer_id":21123726,"question_id":21123653,"body_markdown":"Instead of setting the message, use `AlertDialog.Builder.setView(View)` with a `View` with centred text","title":"How to center text in Alert Dialog Builder?","body":"<p>Instead of setting the message, use <code>AlertDialog.Builder.setView(View)</code> with a <code>View</code> with centred text</p>\n"},{"tags":[],"owner":{"account_id":1004231,"reputation":1918,"user_id":1018387,"accept_rate":70,"display_name":"AlexAndro"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1395603097,"creation_date":1395603097,"answer_id":22595965,"question_id":21123653,"body_markdown":"This piece of code does the job by default, without providing your own custom view to the `AlertDialog.Builder` .\r\n\r\n \r\n\r\n      AlertDialog dialog = builder.show(); //builder is your just created builder\r\n        TextView messageText = (TextView)dialog.findViewById(android.R.id.message);\r\n        messageText.setGravity(Gravity.CENTER);\r\n        dialog.show();","title":"How to center text in Alert Dialog Builder?","body":"<p>This piece of code does the job by default, without providing your own custom view to the <code>AlertDialog.Builder</code> .</p>\n\n<pre><code>  AlertDialog dialog = builder.show(); //builder is your just created builder\n    TextView messageText = (TextView)dialog.findViewById(android.R.id.message);\n    messageText.setGravity(Gravity.CENTER);\n    dialog.show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8644203,"reputation":77,"user_id":6471918,"display_name":"Angga Dwi Prasetya"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1466035184,"creation_date":1466033280,"answer_id":37847462,"question_id":21123653,"body_markdown":"you can try this code\r\n\r\n    public void Info(){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setTitle(&quot;Info Aplikasi&quot;);\r\n        builder.setIcon(R.drawable.info_adp);\r\n        builder.setMessage(&quot;Jakarta Hospital&quot;);\r\n        builder.setCancelable(false);\r\n        builder.setPositiveButton(&quot;Exit&quot;, null);\r\n        AlertDialog dialog = builder.show();\r\n        TextView messageView = (TextView)dialog.findViewById(android.R.id.message);\r\n        messageView.setGravity(Gravity.CENTER);\r\n    }\r\n","title":"How to center text in Alert Dialog Builder?","body":"<p>you can try this code</p>\n\n<pre><code>public void Info(){\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setTitle(\"Info Aplikasi\");\n    builder.setIcon(R.drawable.info_adp);\n    builder.setMessage(\"Jakarta Hospital\");\n    builder.setCancelable(false);\n    builder.setPositiveButton(\"Exit\", null);\n    AlertDialog dialog = builder.show();\n    TextView messageView = (TextView)dialog.findViewById(android.R.id.message);\n    messageView.setGravity(Gravity.CENTER);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6654272,"reputation":474,"user_id":5135372,"display_name":"Farido mastr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503560880,"creation_date":1494704784,"answer_id":43957356,"question_id":21123653,"body_markdown":"You can try this simple method:\r\n\r\n\r\n    textView.setWidth(ViewGroup.LayoutParams.MATCH_PARENT);\r\n    textView.setGravity(Gravity.CENTER);\r\n    alert.setView(textView);\r\n\r\n","title":"How to center text in Alert Dialog Builder?","body":"<p>You can try this simple method:</p>\n\n<pre><code>textView.setWidth(ViewGroup.LayoutParams.MATCH_PARENT);\ntextView.setGravity(Gravity.CENTER);\nalert.setView(textView);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13309392,"reputation":190,"user_id":9653526,"display_name":"Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675003339,"creation_date":1675003339,"answer_id":75275759,"question_id":21123653,"body_markdown":"For Material Alert Dialog would be like this:\r\n\r\n    MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(this, com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered)\r\n        .setTitle(&quot;Titulo&quot;)\r\n        .setIcon(R.drawable.people)\r\n        .setMessage(&quot;un mensaje cualquiera&quot;);\r\n    AlertDialog dialog = builder.show();    \r\n    ((TextView) dialog.findViewById(android.R.id.message)).setGravity(Gravity.CENTER);","title":"How to center text in Alert Dialog Builder?","body":"<p>For Material Alert Dialog would be like this:</p>\n<pre><code>MaterialAlertDialogBuilder builder = new MaterialAlertDialogBuilder(this, com.google.android.material.R.style.ThemeOverlay_Material3_MaterialAlertDialog_Centered)\n    .setTitle(&quot;Titulo&quot;)\n    .setIcon(R.drawable.people)\n    .setMessage(&quot;un mensaje cualquiera&quot;);\nAlertDialog dialog = builder.show();    \n((TextView) dialog.findViewById(android.R.id.message)).setGravity(Gravity.CENTER);\n</code></pre>\n"}],"owner":{"account_id":2889439,"reputation":297,"user_id":2478562,"accept_rate":94,"display_name":"Violin Nz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19014,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":21123726,"answer_count":5,"score":9,"last_activity_date":1675003339,"creation_date":1389732353,"question_id":21123653,"body_markdown":"I&#39;m trying to center some text in a default Alert Dialog Builder\r\nHere&#39;s my code so far, but it defaults to the left.\r\n\r\n\t\t\t\tnew AlertDialog.Builder(getActivity())\r\n\t\t\t\t\t\t.setTitle(&quot;Well done!&quot;)\r\n\t\t\t\t\t\t.setMessage(&quot;Message centered????&quot;)\r\n\r\n\t\t\t\t\t\t.setPositiveButton(&quot;OK&quot;,\r\n\t\t\t\t\t\t\t\tnew DialogInterface.OnClickListener() {\r\n\r\n\t\t\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\t\t\tpublic void onClick(DialogInterface dialog,\r\n\t\t\t\t\t\t\t\t\t\t\tint which) {\r\n\t\t\t\t\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t.setIcon(R.drawable.img_ok)\r\n\t\t\t\t\t\t.show();\r\n\r\n\t\t\t}","title":"How to center text in Alert Dialog Builder?","body":"<p>I'm trying to center some text in a default Alert Dialog Builder\nHere's my code so far, but it defaults to the left.</p>\n\n<pre><code>            new AlertDialog.Builder(getActivity())\n                    .setTitle(\"Well done!\")\n                    .setMessage(\"Message centered????\")\n\n                    .setPositiveButton(\"OK\",\n                            new DialogInterface.OnClickListener() {\n\n                                @Override\n                                public void onClick(DialogInterface dialog,\n                                        int which) {\n                                    // TODO Auto-generated method stub\n\n                                }\n                            })\n\n                    .setIcon(R.drawable.img_ok)\n                    .show();\n\n        }\n</code></pre>\n"},{"tags":["java","object","objectinputstream","eofexception"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675002660,"post_id":75275611,"comment_id":132830238,"body_markdown":"Just a hint: don&#39;t use the `.txt` extension for files containing serialized data, because it will **not** be readable text in any meaningful way. I&#39;ve seen `.ser` or `.obj` or `.dat` used, it&#39;s not that important, but `.txt` implies that the file contains human-readable text which is barely the case with these files.","body":"Just a hint: don&#39;t use the <code>.txt</code> extension for files containing serialized data, because it will <b>not</b> be readable text in any meaningful way. I&#39;ve seen <code>.ser</code> or <code>.obj</code> or <code>.dat</code> used, it&#39;s not that important, but <code>.txt</code> implies that the file contains human-readable text which is barely the case with these files."},{"owner":{"account_id":5712980,"reputation":135,"user_id":4514306,"display_name":"PotatoesMaster"},"score":0,"creation_date":1675004974,"post_id":75275611,"comment_id":132830617,"body_markdown":"Some remarks unrelated to the question:\n\n - you can declare and initialize an array in one go with the notation `Person[] people = { new Professor(), new TA(), new Student() }` (no need for indexes)\n - you don&#39;t need to manually close a stream in a [try-with-resources statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html), so you can remove the call to `out.close()`\n - you can use the &quot;for each&quot; notation `for (Person p : people) { out.writeObject(p); }` instead of `for (int i = 0; i &lt; people.length; i++) { out.writeObject(people[i]); }` for clarity","body":"Some remarks unrelated to the question:   - you can declare and initialize an array in one go with the notation <code>Person[] people = { new Professor(), new TA(), new Student() }</code> (no need for indexes)  - you don&#39;t need to manually close a stream in a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources statement</a>, so you can remove the call to <code>out.close()</code>  - you can use the &quot;for each&quot; notation <code>for (Person p : people) { out.writeObject(p); }</code> instead of <code>for (int i = 0; i &lt; people.length; i++) { out.writeObject(people[i]); }</code> for clarity"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675002340,"creation_date":1675002340,"answer_id":75275649,"question_id":75275611,"body_markdown":"You get [an `EOFException`][1] because you&#39;ve reached the **E**nd **o**f the **F**ile.\r\n\r\nFor some reason you assume that [`in.readObject()`][2] will return `null` when it reached the end of the input, but that&#39;s not how it&#39;s specified.\r\n\r\nYou can *either* just use the `EOFException` as flow control (i.e. just let it happen in the flow of normal operation) or change to a format where you don&#39;t have to guess if more objects are available. The simplest way to do the second thing is to just write the whole array instead of individual people:\r\n\r\nReplace your writing loop with just\r\n\r\n    out.writeObject(people);\r\n\r\nAnd your reading loop with something like this:\r\n\r\n    Person[] readPeople = (Person[]) in.readObject();\r\n    for (int i = 0; i &lt; readPeople .length; i++) {\r\n        System.out.println(readPeople[i]);\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/EOFException.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectInputStream.html#readObject()","title":"Not sure why I&#39;m getting an EOFException","body":"<p>You get <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/EOFException.html\" rel=\"nofollow noreferrer\">an <code>EOFException</code></a> because you've reached the <strong>E</strong>nd <strong>o</strong>f the <strong>F</strong>ile.</p>\n<p>For some reason you assume that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ObjectInputStream.html#readObject()\" rel=\"nofollow noreferrer\"><code>in.readObject()</code></a> will return <code>null</code> when it reached the end of the input, but that's not how it's specified.</p>\n<p>You can <em>either</em> just use the <code>EOFException</code> as flow control (i.e. just let it happen in the flow of normal operation) or change to a format where you don't have to guess if more objects are available. The simplest way to do the second thing is to just write the whole array instead of individual people:</p>\n<p>Replace your writing loop with just</p>\n<pre><code>out.writeObject(people);\n</code></pre>\n<p>And your reading loop with something like this:</p>\n<pre><code>Person[] readPeople = (Person[]) in.readObject();\nfor (int i = 0; i &lt; readPeople .length; i++) {\n    System.out.println(readPeople[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":25548214,"reputation":25,"user_id":19333146,"display_name":"Avi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75275649,"answer_count":1,"score":0,"last_activity_date":1675002562,"creation_date":1675002047,"question_id":75275611,"body_markdown":"I&#39;m trying to read objects from a file that I have written to but when reading there&#39;s an EOFException that gets thrown. I can see that it reads the objects but halfway through reading the file the error shows up.\r\n\r\n```\r\npublic class IOStream {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) throws ClassNotFoundException {\r\n\r\n        Person[] people = new Person[14];\r\n        people[0] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Physcis&quot;, 6);\r\n        people[1] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Physics&quot;, 6);\r\n        people[2] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Calculus&quot;, 4);\r\n        people[3] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Calculus&quot;, 4);\r\n        people[4] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Calculus&quot;, 4);\r\n        people[5] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Physics&quot;, 6);\r\n        people[6] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Physics&quot;, 6);\r\n        people[7] = new Professor(&quot;Professor&quot;, &quot;Dimitri&quot;, &quot;Mendeleev&quot;, &quot;Chemistry&quot;, 6);\r\n        people[8] = new TA(&quot;TA&quot;, &quot;Carl&quot;, &quot;Gauss&quot;, &quot;Calculus&quot;, 4);\r\n        people[9] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Economics&quot;, 3);\r\n        people[10] = new Professor(&quot;Professor&quot;, &quot;Adam&quot;, &quot;Smith&quot;, &quot;Economics&quot;, 3);\r\n        people[11] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Chemistry&quot;, 6);\r\n        people[12] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Chemistry&quot;, 6);\r\n        people[13] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Chemistry&quot;, 6);\r\n\r\n        //WRITING\r\n        try ( ObjectOutputStream out = new ObjectOutputStream(new BufferedOutputStream (new FileOutputStream(&quot;object.txt&quot;)))) {\r\n            for (int i = 0; i &lt; people.length; i++) {\r\n                out.writeObject(people[i]);\r\n            }\r\n            out.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        \r\n        try (ObjectInputStream in = new ObjectInputStream(new BufferedInputStream( new FileInputStream(&quot;object.txt&quot;)))){\r\n            \r\n            \r\n            Person lol;\r\n            while ((lol = (Person)in.readObject())!= null){\r\n                System.out.println(lol);\r\n            }\r\n        }\r\n        catch(EOFException i){\r\n            i.printStackTrace();\r\n            System.out.println(&quot;End of File&quot;);\r\n        }\r\n        catch (IOException e){\r\n            e.printStackTrace();\r\n        } \r\n    }\r\n}\r\n```\r\n","title":"Not sure why I&#39;m getting an EOFException","body":"<p>I'm trying to read objects from a file that I have written to but when reading there's an EOFException that gets thrown. I can see that it reads the objects but halfway through reading the file the error shows up.</p>\n<pre><code>public class IOStream {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) throws ClassNotFoundException {\n\n        Person[] people = new Person[14];\n        people[0] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Physcis&quot;, 6);\n        people[1] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Physics&quot;, 6);\n        people[2] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Calculus&quot;, 4);\n        people[3] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Calculus&quot;, 4);\n        people[4] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Calculus&quot;, 4);\n        people[5] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Physics&quot;, 6);\n        people[6] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Physics&quot;, 6);\n        people[7] = new Professor(&quot;Professor&quot;, &quot;Dimitri&quot;, &quot;Mendeleev&quot;, &quot;Chemistry&quot;, 6);\n        people[8] = new TA(&quot;TA&quot;, &quot;Carl&quot;, &quot;Gauss&quot;, &quot;Calculus&quot;, 4);\n        people[9] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Economics&quot;, 3);\n        people[10] = new Professor(&quot;Professor&quot;, &quot;Adam&quot;, &quot;Smith&quot;, &quot;Economics&quot;, 3);\n        people[11] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Chemistry&quot;, 6);\n        people[12] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Chemistry&quot;, 6);\n        people[13] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Chemistry&quot;, 6);\n\n        //WRITING\n        try ( ObjectOutputStream out = new ObjectOutputStream(new BufferedOutputStream (new FileOutputStream(&quot;object.txt&quot;)))) {\n            for (int i = 0; i &lt; people.length; i++) {\n                out.writeObject(people[i]);\n            }\n            out.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        try (ObjectInputStream in = new ObjectInputStream(new BufferedInputStream( new FileInputStream(&quot;object.txt&quot;)))){\n            \n            \n            Person lol;\n            while ((lol = (Person)in.readObject())!= null){\n                System.out.println(lol);\n            }\n        }\n        catch(EOFException i){\n            i.printStackTrace();\n            System.out.println(&quot;End of File&quot;);\n        }\n        catch (IOException e){\n            e.printStackTrace();\n        } \n    }\n}\n</code></pre>\n"},{"tags":["java","android","version"],"comments":[{"owner":{"account_id":127457,"reputation":5934,"user_id":324625,"accept_rate":80,"display_name":"Steve Blackwell"},"score":0,"creation_date":1316817185,"post_id":7535385,"comment_id":9129706,"body_markdown":"Similar and relevant (but dated): http://stackoverflow.com/q/390482/324625","body":"Similar and relevant (but dated): <a href=\"http://stackoverflow.com/q/390482/324625\">stackoverflow.com/q/390482/324625</a>"},{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":12,"creation_date":1316817739,"post_id":7535385,"comment_id":9129761,"body_markdown":"Are you an Oracle lawyer?  If so I have right to remain silent :)","body":"Are you an Oracle lawyer?  If so I have right to remain silent :)"},{"owner":{"account_id":1713157,"reputation":192,"user_id":1570782,"accept_rate":100,"display_name":"Andrey Aleev"},"score":0,"creation_date":1360672940,"post_id":7535385,"comment_id":20782696,"body_markdown":"Here a good answer http://stackoverflow.com/questions/4867334/which-edition-of-java-is-being-used-in-android-j2me-or-java-se","body":"Here a good answer <a href=\"http://stackoverflow.com/questions/4867334/which-edition-of-java-is-being-used-in-android-j2me-or-java-se\" title=\"which edition of java is being used in android j2me or java se\">stackoverflow.com/questions/4867334/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":154118,"reputation":1782,"user_id":369833,"accept_rate":75,"display_name":"pents90"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1395264490,"creation_date":1316817003,"answer_id":7535471,"question_id":7535385,"body_markdown":"Android&#39;s version doesn&#39;t directly relate to Java SE, although it uses a subset of Apache Harmony&#39;s SE 6 libraries and tools. It will be up to the Android team to decide if &amp; when to support/require the SE 7 version of Harmony.\r\n\r\n**Edit** It looks like as of KitKat Android supports Java SE 7 language features. See the comments below.","title":"How does Android&#39;s Java version relate to a Java SE version?","body":"<p>Android's version doesn't directly relate to Java SE, although it uses a subset of Apache Harmony's SE 6 libraries and tools. It will be up to the Android team to decide if &amp; when to support/require the SE 7 version of Harmony.</p>\n\n<p><strong>Edit</strong> It looks like as of KitKat Android supports Java SE 7 language features. See the comments below.</p>\n"},{"tags":[],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675002488,"creation_date":1675002488,"answer_id":75275660,"question_id":7535385,"body_markdown":"There is no direct mapping:\r\n\r\n* Some parts of the API (such as JAXB, which has been around since at least Java 6) have never been available on Android.\r\n* When features of a new Java version are introduced, this can happen gradually over multiple versions.\r\n* Some newer Java features are made available for older, already-released versions as backports.\r\n\r\nIn the past it has taken Google some 2–3 years to start adopting a new Java version. Java 7 features started appearing around API 19 (KitKat). Java 8 features started at API 26 (Nougat), but a mechanism called [desugaring][1] is available to make certain Java 8 features available on earlier Android versions, regardless of their API level.\r\n\r\nSo, generally speaking, if you want to know whether a particular Java API feature is available on Android, look it up on the Android developer reference and check the minimum API version.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support#library-desugaring","title":"How does Android&#39;s Java version relate to a Java SE version?","body":"<p>There is no direct mapping:</p>\n<ul>\n<li>Some parts of the API (such as JAXB, which has been around since at least Java 6) have never been available on Android.</li>\n<li>When features of a new Java version are introduced, this can happen gradually over multiple versions.</li>\n<li>Some newer Java features are made available for older, already-released versions as backports.</li>\n</ul>\n<p>In the past it has taken Google some 2–3 years to start adopting a new Java version. Java 7 features started appearing around API 19 (KitKat). Java 8 features started at API 26 (Nougat), but a mechanism called <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">desugaring</a> is available to make certain Java 8 features available on earlier Android versions, regardless of their API level.</p>\n<p>So, generally speaking, if you want to know whether a particular Java API feature is available on Android, look it up on the Android developer reference and check the minimum API version.</p>\n"}],"owner":{"account_id":273180,"reputation":5923,"user_id":564626,"accept_rate":73,"display_name":"jfritz42"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29909,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":7535471,"answer_count":2,"score":73,"last_activity_date":1675002488,"creation_date":1316816080,"question_id":7535385,"body_markdown":"I am constantly wondering how the Java version used for Android development relates to a Java SE version.  For example, I was reading today about &quot;Type Inference and Generic Methods&quot; which is a feature added in Java SE 7.  I wonder to myself, &quot;Can I use this in Android code?&quot;\r\n\r\nOf course I could type the code into an Android project and see if it compiles, but I&#39;d be happier to have some kind of mapping in my head.\r\n\r\nI&#39;ve tried Googling for this info, checking the Android docs, etc, but can&#39;t find an answer.\r\n\r\nEdit: I&#39;m more interested in language features, e.g. how does the Android Java syntax version relate to Java SE syntax.  ","title":"How does Android&#39;s Java version relate to a Java SE version?","body":"<p>I am constantly wondering how the Java version used for Android development relates to a Java SE version.  For example, I was reading today about \"Type Inference and Generic Methods\" which is a feature added in Java SE 7.  I wonder to myself, \"Can I use this in Android code?\"</p>\n\n<p>Of course I could type the code into an Android project and see if it compiles, but I'd be happier to have some kind of mapping in my head.</p>\n\n<p>I've tried Googling for this info, checking the Android docs, etc, but can't find an answer.</p>\n\n<p>Edit: I'm more interested in language features, e.g. how does the Android Java syntax version relate to Java SE syntax.  </p>\n"},{"tags":["java","spring","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1674832916,"post_id":75258443,"comment_id":132803656,"body_markdown":"If you look at the generated HTML in your browser, does it look correct there?","body":"If you look at the generated HTML in your browser, does it look correct there?"},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674834089,"post_id":75258443,"comment_id":132804070,"body_markdown":"It does- only images are not displayed.","body":"It does- only images are not displayed."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674834913,"post_id":75258443,"comment_id":132804352,"body_markdown":"Btw,controller method responsible for fetching images is not even triggered. i used simple &quot;sout&quot; to check it.","body":"Btw,controller method responsible for fetching images is not even triggered. i used simple &quot;sout&quot; to check it."},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1674851913,"post_id":75258443,"comment_id":132809278,"body_markdown":"You should check if you need to use an absolute url `th:src=&quot;@{&#39;/getImageComment/&#39; + ${userId}}&quot;` here instead of a relative url.","body":"You should check if you need to use an absolute url <code>th:src=&quot;@{&#39;&#47;getImageComment&#47;&#39; + ${userId}}&quot;</code> here instead of a relative url."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674861796,"post_id":75258443,"comment_id":132811277,"body_markdown":"It doesnt work either","body":"It doesnt work either"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674898182,"post_id":75258443,"comment_id":132815106,"body_markdown":"@buchs, does your app use any security? If it does, make sure that the user has the right privilages to access the resource in question.","body":"@buchs, does your app use any security? If it does, make sure that the user has the right privilages to access the resource in question."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674905569,"post_id":75258443,"comment_id":132816211,"body_markdown":"It does.I checked the roles - evrythings seems okay. Anyway the page &quot;listComments&quot; is diplayed - only images are not.","body":"It does.I checked the roles - evrythings seems okay. Anyway the page &quot;listComments&quot; is diplayed - only images are not."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674905962,"post_id":75258443,"comment_id":132816286,"body_markdown":"When I modify &quot;displayComments&quot; method like this(drop variable from URI) -   @GetMapping(&quot;/showComments&quot;) - everything works fine, images are displayed. They are not displayed only when I add variable to the URI. And I cant get why it happens like this","body":"When I modify &quot;displayComments&quot; method like this(drop variable from URI) -   @GetMapping(&quot;/showComments&quot;) - everything works fine, images are displayed. They are not displayed only when I add variable to the URI. And I cant get why it happens like this"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674907686,"post_id":75258443,"comment_id":132816580,"body_markdown":"@buchs, hit F12 in your browser and check what response statuses (under the Network tab) you get when you try to load comments/images. This should at least give you some idea as to why your controller method isn&#39;t even called.","body":"@buchs, hit F12 in your browser and check what response statuses (under the Network tab) you get when you try to load comments/images. This should at least give you some idea as to why your controller method isn&#39;t even called."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674912365,"post_id":75258443,"comment_id":132817389,"body_markdown":"This is what i see -                                                                                                Request URL: http ://localhost:8080/createMessageForm/getImageComment/10\nRequest Method: GET\nStatus Code: 404 \nRemote Address: [::1]:8080\nReferrer Policy: strict-origin-when-cross-origin","body":"This is what i see -                                                                                                Request URL: http ://localhost:8080/createMessageForm/getImageComment/10 Request Method: GET Status Code: 404  Remote Address: [::1]:8080 Referrer Policy: strict-origin-when-cross-origin"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674932530,"post_id":75258443,"comment_id":132821088,"body_markdown":"@buchs, 404 means &quot;not found&quot;. Is that correct url? Shoudn&#39;t it perhaps be `http ://localhost:8080/getImageComment/10` ? Or is the mapping for /createMessageForm placed at class level?","body":"@buchs, 404 means &quot;not found&quot;. Is that correct url? Shoudn&#39;t it perhaps be <code>http :&#47;&#47;localhost:8080&#47;getImageComment&#47;10</code> ? Or is the mapping for /createMessageForm placed at class level?"},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674935664,"post_id":75258443,"comment_id":132821645,"body_markdown":"I dont have this url at class level in my app. The correct url is &quot;/showComments/{messageId}&quot;   and then &quot;/getImageComment/{id}&quot; must be triggered to fetch images. But it somehow generates this joined url. The first path variable confuses browser in some way","body":"I dont have this url at class level in my app. The correct url is &quot;/showComments/{messageId}&quot;   and then &quot;/getImageComment/{id}&quot; must be triggered to fetch images. But it somehow generates this joined url. The first path variable confuses browser in some way"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1674938079,"post_id":75258443,"comment_id":132822042,"body_markdown":"@buchs, perhaps this may help https://www.thymeleaf.org/doc/articles/standardurlsyntax.html#context-relative-urls Try using server relative urls instead, at least in this case.","body":"@buchs, perhaps this may help <a href=\"https://www.thymeleaf.org/doc/articles/standardurlsyntax.html#context-relative-urls\" rel=\"nofollow noreferrer\">thymeleaf.org/doc/articles/&hellip;</a> Try using server relative urls instead, at least in this case."},{"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"score":0,"creation_date":1674999817,"post_id":75258443,"comment_id":132829716,"body_markdown":"changed  th:src=&quot;@{&#39;getImageComment/&#39; + ${userId}}&quot; to  th:src=&quot;@{&#39;~/getImageComment/&#39; + ${userId}}&quot; and It finally worked for me. Thanks","body":"changed  th:src=&quot;@{&#39;getImageComment/&#39; + ${userId}}&quot; to  th:src=&quot;@{&#39;~/getImageComment/&#39; + ${userId}}&quot; and It finally worked for me. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675002460,"creation_date":1675002030,"answer_id":75275610,"question_id":75258443,"body_markdown":"Followed [dsp_user][1] advice and used [Server-relative URLs][2]. Changed \r\n```\r\n  &lt;img th:src=&quot;@{&#39;getImageComment/&#39; + ${userId}}&quot; height=&quot;55&quot;\r\n          width=&quot;55&quot;&gt;\r\n```\r\nto \r\n```\r\n  &lt;img class=&quot;rounded&quot; th:src=&quot;@{&#39;~/getImageComment/&#39; + ${userId}}&quot; height=&quot;55&quot;\r\n                                 width=&quot;55&quot;&gt; \r\n```\r\nAnd It finally worked for me.\r\n\r\n  [1]: https://stackoverflow.com/users/1119161/dsp-user\r\n  [2]: https://www.thymeleaf.org/doc/articles/standardurlsyntax.html#context-relative-urls","title":"Spring doesnt display images when there is a path variable on URI","body":"<p>Followed <a href=\"https://stackoverflow.com/users/1119161/dsp-user\">dsp_user</a> advice and used <a href=\"https://www.thymeleaf.org/doc/articles/standardurlsyntax.html#context-relative-urls\" rel=\"nofollow noreferrer\">Server-relative URLs</a>. Changed</p>\n<pre><code>  &lt;img th:src=&quot;@{'getImageComment/' + ${userId}}&quot; height=&quot;55&quot;\n          width=&quot;55&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>  &lt;img class=&quot;rounded&quot; th:src=&quot;@{'~/getImageComment/' + ${userId}}&quot; height=&quot;55&quot;\n                                 width=&quot;55&quot;&gt; \n</code></pre>\n<p>And It finally worked for me.</p>\n"}],"owner":{"account_id":19829135,"reputation":11,"user_id":14524105,"display_name":"buchs"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675002460,"creation_date":1674824249,"question_id":75258443,"body_markdown":"I have a method in my controller that directs to the page with comments.\r\nAll comments are related to a specific message. I use pathvariable to send messageID that I later use to get comments from my database.\r\n\r\n\r\n```\r\n  @GetMapping(&quot;/showComments/{messageId}&quot;)\r\n    public String displayComments(@PathVariable Long messageId, @AuthenticationPrincipal User user, Model model) {\r\n\r\n List&lt;Comment&gt; comments = commentService.showComments(messageId);\r\n Message messageGotById = messageService.getMessageById(messageId);\r\n           \r\n    model.addAttribute(&quot;comments&quot;, comments);\r\n    model.addAttribute(&quot;messageGot&quot;,messageGotById);\r\n    model.addAttribute(&quot;userId&quot;,user.getId());\r\n\r\n        return &quot;listComments&quot;;\r\n    }\r\n  \r\n```\r\nAnd then I have a method for fetching images from  database\r\n\r\n\r\n```\r\n        @GetMapping(&quot;/getImageComment/{id}&quot;)\r\n    public void showCommentImage(@PathVariable Long id, HttpServletResponse response) throws IOException {\r\n\r\n       \r\n        response.setContentType(&quot;image/jpeg&quot;);\r\n        Message messageImage = messageService.getMessageById(id);\r\n        ImageInfo imageInfo = messageImage.getUsr().getImageInfo();\r\n\r\n\r\n        byte[] imageData = imageInfo.getImageData();\r\n        String encode = Base64.getEncoder().encodeToString(imageData);\r\n\r\n        InputStream is = new ByteArrayInputStream(imageData);\r\n        IOUtils.copy(is, response.getOutputStream());\r\n    }\r\n```\r\n \r\nlistComments.html\r\n\r\n```\r\n &lt;img th:src=&quot;@{&#39;getImageComment/&#39; + ${userId}}&quot; height=&quot;55&quot;\r\n          width=&quot;55&quot;&gt;\r\n```\r\nAdded the link I use to go to listComments.html\r\n\r\n```\r\n    &lt;a th:href=&quot;@{/showComments/{id}(id=${message.id})}&quot;&gt;comment&lt;/a&gt;\r\n\r\n```\r\nThe issue here is that when there is a variable on URI in displayComments method, images are not displayed.\r\nBut without pathvariable everything works just fine.I cant understand what is the problem.\r\n\r\n","title":"Spring doesnt display images when there is a path variable on URI","body":"<p>I have a method in my controller that directs to the page with comments.\nAll comments are related to a specific message. I use pathvariable to send messageID that I later use to get comments from my database.</p>\n<pre><code>  @GetMapping(&quot;/showComments/{messageId}&quot;)\n    public String displayComments(@PathVariable Long messageId, @AuthenticationPrincipal User user, Model model) {\n\n List&lt;Comment&gt; comments = commentService.showComments(messageId);\n Message messageGotById = messageService.getMessageById(messageId);\n           \n    model.addAttribute(&quot;comments&quot;, comments);\n    model.addAttribute(&quot;messageGot&quot;,messageGotById);\n    model.addAttribute(&quot;userId&quot;,user.getId());\n\n        return &quot;listComments&quot;;\n    }\n  \n</code></pre>\n<p>And then I have a method for fetching images from  database</p>\n<pre><code>        @GetMapping(&quot;/getImageComment/{id}&quot;)\n    public void showCommentImage(@PathVariable Long id, HttpServletResponse response) throws IOException {\n\n       \n        response.setContentType(&quot;image/jpeg&quot;);\n        Message messageImage = messageService.getMessageById(id);\n        ImageInfo imageInfo = messageImage.getUsr().getImageInfo();\n\n\n        byte[] imageData = imageInfo.getImageData();\n        String encode = Base64.getEncoder().encodeToString(imageData);\n\n        InputStream is = new ByteArrayInputStream(imageData);\n        IOUtils.copy(is, response.getOutputStream());\n    }\n</code></pre>\n<p>listComments.html</p>\n<pre><code> &lt;img th:src=&quot;@{'getImageComment/' + ${userId}}&quot; height=&quot;55&quot;\n          width=&quot;55&quot;&gt;\n</code></pre>\n<p>Added the link I use to go to listComments.html</p>\n<pre><code>    &lt;a th:href=&quot;@{/showComments/{id}(id=${message.id})}&quot;&gt;comment&lt;/a&gt;\n\n</code></pre>\n<p>The issue here is that when there is a variable on URI in displayComments method, images are not displayed.\nBut without pathvariable everything works just fine.I cant understand what is the problem.</p>\n"},{"tags":["java","android","java-native-interface","tesseract"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674993471,"creation_date":1674993471,"answer_id":75274690,"question_id":75274431,"body_markdown":"Your problem is the statement:\r\n\r\n```\r\nstatic {\r\n        System.loadLibrary(&quot;libcamera.so&quot;);\r\n}\r\n```\r\n\r\n`System.loadLibrary` is a Java method for loading a library in a platform-independant way, which means you don&#39;t have to specify the platform specific filename of the library, but instead you need to use the library name so without `lib` at the beginning and `.so` at the end. Java will make it platform specific for Linux by adding both.\r\n\r\n\r\nSo you have to change it to \r\n```\r\nstatic {\r\n        System.loadLibrary(&quot;camera&quot;);\r\n}\r\n```\r\n\r\nand it will work and load `libcamera.so` (if this library is included in your app).","title":"java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader couldn&#39;t find &quot;liblivecamera.so.so&quot;","body":"<p>Your problem is the statement:</p>\n<pre><code>static {\n        System.loadLibrary(&quot;libcamera.so&quot;);\n}\n</code></pre>\n<p><code>System.loadLibrary</code> is a Java method for loading a library in a platform-independant way, which means you don't have to specify the platform specific filename of the library, but instead you need to use the library name so without <code>lib</code> at the beginning and <code>.so</code> at the end. Java will make it platform specific for Linux by adding both.</p>\n<p>So you have to change it to</p>\n<pre><code>static {\n        System.loadLibrary(&quot;camera&quot;);\n}\n</code></pre>\n<p>and it will work and load <code>libcamera.so</code> (if this library is included in your app).</p>\n"}],"owner":{"account_id":23407456,"reputation":263,"user_id":17469648,"display_name":"Rishi Ff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75274690,"answer_count":1,"score":0,"last_activity_date":1675002393,"creation_date":1674990919,"question_id":75274431,"body_markdown":"I am working on camera application. When I debug the application, it crashes and says \r\n\r\n&gt; java.lang.UnsatisfiedLinkError:\r\n&gt; dalvik.system.PathClassLoader[DexPathList[[zip file\r\n&gt; &quot;/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/lib/arm64,\r\n&gt; /data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/base.apk!/lib/arm64-v8a,\r\n&gt; /system/lib64, /vendor/lib64]]] couldn&#39;t find &quot;liblibcamera.so.so&quot;\r\n\r\n\r\nIt is showing this error at this line of code:-\r\n```\r\n\r\n\tstatic {\r\n\t\tSystem.loadLibrary(&quot;livecamera&quot;);\r\n\t}\r\n\r\n```\r\n\r\nMy complete **cameraview.java** code\r\n```\r\n\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Paint;\r\nimport android.graphics.PixelFormat;\r\nimport android.graphics.Rect;\r\nimport android.hardware.Camera;\r\nimport android.hardware.Camera.Size;\r\nimport android.os.Handler;\r\nimport android.util.AttributeSet;\r\nimport android.view.MotionEvent;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.SurfaceView;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CameraView extends SurfaceView implements Camera.PreviewCallback, SurfaceHolder.Callback,\r\n\t\tOCRThread.TextRegionsListener {\r\n\r\n\tprivate final List&lt;Rect&gt; regions = new ArrayList&lt;&gt;();\r\n\r\n\tprivate Camera mCamera;\r\n\tprivate byte[] mVideoSource;\r\n\tprivate Bitmap mBackBuffer;\r\n\tprivate OCRThread ocrThread;\r\n\r\n\tprivate Paint focusPaint;\r\n\tprivate Rect focusRect;\r\n\r\n\tprivate Paint paintText;\r\n\r\n\tprivate float horizontalRectRation;\r\n\tprivate float verticalRectRation;\r\n\r\n\r\n\tstatic {\r\n\t\tSystem.loadLibrary(&quot;livecamera&quot;);\r\n\t}\r\n\r\n\tpublic CameraView(final Context context) {\r\n\t\tthis(context, null);\r\n\t}\r\n\r\n\tpublic CameraView(final Context context, final AttributeSet attributes) {\r\n\t\tsuper(context, attributes);\r\n\t\tgetHolder().addCallback(this);\r\n\t\tsetWillNotDraw(false);\r\n\t\tfocusPaint = new Paint();\r\n\t\tfocusPaint.setColor(0xeed7d7d7);\r\n\t\tfocusPaint.setStyle(Paint.Style.STROKE);\r\n\t\tfocusPaint.setStrokeWidth(2);\r\n\t\tfocusRect = new Rect(0, 0, 0, 0);\r\n\r\n\t\tpaintText = new Paint();\r\n\t\tpaintText.setColor(0xeeff0000);\r\n\t\tpaintText.setStyle(Paint.Style.STROKE);\r\n\t\tpaintText.setStrokeWidth(4);\r\n\r\n\t\tocrThread = new OCRThread(context);\r\n\t\thorizontalRectRation = 1.0f;\r\n\t\tverticalRectRation = 1.0f;\r\n\t}\r\n\r\n\tpublic void setShowTextBounds(final boolean show) {\r\n\t\tregions.clear();\r\n\t\tocrThread.setRegionsListener(show ? this : null);\r\n\t\tinvalidate();\r\n\t}\r\n\r\n\tpublic void makeOCR(final OCRThread.TextRecognitionListener listener) {\r\n\t\tocrThread.setTextRecognitionListener(listener);\r\n\t}\r\n\r\n\tpublic native void decode(final Bitmap pTarget, final byte[] pSource);\r\n\r\n\r\n\t@Override\r\n\tprotected void onDraw(final Canvas canvas) {\r\n\t\tif (focusRect.width() &gt; 0) {\r\n\t\t\tcanvas.drawRect(focusRect, focusPaint);\r\n\t\t}\r\n\t\tif (mCamera != null) {\r\n\t\t\tmCamera.addCallbackBuffer(mVideoSource);\r\n\t\t\tdrawTextBounds(canvas);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void drawTextBounds(final Canvas canvas) {\r\n\t\tfor (Rect region : regions) {\r\n\t\t\tcanvas.drawRect(region.left * horizontalRectRation, region.top * verticalRectRation,\r\n\t\t\t\t\tregion.right * horizontalRectRation, region.bottom * verticalRectRation, paintText);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onPreviewFrame(final byte[] bytes, final Camera camera) {\r\n\t\tdecode(mBackBuffer, bytes);\r\n\t\tocrThread.updateBitmap(mBackBuffer);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void surfaceCreated(final SurfaceHolder surfaceHolder) {\r\n\t\ttry {\r\n\t\t\tmCamera = Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK);\r\n\t\t\tmCamera.setDisplayOrientation(90);\r\n\t\t\tmCamera.setPreviewDisplay(surfaceHolder);\r\n\t\t\tmCamera.setPreviewCallbackWithBuffer(this);\r\n\t\t\tstartOcrThread();\r\n\t\t} catch (IOException eIOException) {\r\n\t\t\tmCamera.release();\r\n\t\t\tmCamera = null;\r\n\t\t\tthrow new IllegalStateException();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void startOcrThread() {\r\n\t\tocrThread.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void surfaceChanged(final SurfaceHolder surfaceHolder, final int format, final int width, final int height) {\r\n\t\tmCamera.stopPreview();\r\n\t\tSize lSize = findBestResolution();\r\n\t\tupdateTextRectsRatio(width, height, lSize);\r\n\t\tPixelFormat lPixelFormat = new PixelFormat();\r\n\t\tPixelFormat.getPixelFormatInfo(mCamera.getParameters()\r\n\t\t\t\t.getPreviewFormat(), lPixelFormat);\r\n\t\tint lSourceSize = lSize.width * lSize.height * lPixelFormat.bitsPerPixel / 8;\r\n\t\tmVideoSource = new byte[lSourceSize];\r\n\t\tmBackBuffer = Bitmap.createBitmap(lSize.width, lSize.height,\r\n\t\t\t\tBitmap.Config.ARGB_8888);\r\n\t\tCamera.Parameters lParameters = mCamera.getParameters();\r\n\t\tlParameters.setPreviewSize(lSize.width, lSize.height);\r\n\t\tmCamera.setParameters(lParameters);\r\n\t\tmCamera.addCallbackBuffer(mVideoSource);\r\n\t\tmCamera.startPreview();\r\n\t}\r\n\r\n\tprivate Size findBestResolution() {\r\n\t\tList&lt;Size&gt; lSizes = mCamera.getParameters().getSupportedPreviewSizes();\r\n\t\tSize lSelectedSize = mCamera.new Size(0, 0);\r\n\t\tfor (Size lSize : lSizes) {\r\n\t\t\tif ((lSize.width &gt;= lSelectedSize.width) &amp;&amp; (lSize.height &gt;= lSelectedSize.height)) {\r\n\t\t\t\tlSelectedSize = lSize;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ((lSelectedSize.width == 0) || (lSelectedSize.height == 0)) {\r\n\t\t\tlSelectedSize = lSizes.get(0);\r\n\t\t}\r\n\t\treturn lSelectedSize;\r\n\t}\r\n\r\n\tprivate void updateTextRectsRatio(final int width, final int height, final Size cameraSize) {\r\n\t\tverticalRectRation = ((float) height) / cameraSize.width;\r\n\t\thorizontalRectRation = ((float) width) / cameraSize.height;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void surfaceDestroyed(final SurfaceHolder surfaceHolder) {\r\n\t\tif (mCamera != null) {\r\n\t\t\tmCamera.stopPreview();\r\n\t\t\tmCamera.release();\r\n\t\t\tmCamera = null;\r\n\t\t\tmVideoSource = null;\r\n\t\t\tmBackBuffer = null;\r\n\t\t\tstopOcrThread();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void stopOcrThread() {\r\n\t\tboolean retry = true;\r\n\t\tocrThread.cancel();\r\n\t\tocrThread.setRegionsListener(null);\r\n\t\twhile (retry) {\r\n\t\t\ttry {\r\n\t\t\t\tocrThread.join();\r\n\t\t\t\tretry = false;\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean onTouchEvent(MotionEvent event) {\r\n\t\tif (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n\t\t\tfloat x = event.getX();\r\n\t\t\tfloat y = event.getY();\r\n\r\n\t\t\tRect touchRect = new Rect(\r\n\t\t\t\t\t(int) (x - 100),\r\n\t\t\t\t\t(int) (y - 100),\r\n\t\t\t\t\t(int) (x + 100),\r\n\t\t\t\t\t(int) (y + 100));\r\n\r\n\t\t\tfinal Rect targetFocusRect = new Rect(\r\n\t\t\t\t\ttouchRect.left * 2000 / this.getWidth() - 1000,\r\n\t\t\t\t\ttouchRect.top * 2000 / this.getHeight() - 1000,\r\n\t\t\t\t\ttouchRect.right * 2000 / this.getWidth() - 1000,\r\n\t\t\t\t\ttouchRect.bottom * 2000 / this.getHeight() - 1000);\r\n\r\n\t\t\tdoTouchFocus(targetFocusRect);\r\n\t\t\tfocusRect = touchRect;\r\n\t\t\tinvalidate();\r\n\r\n\t\t\tHandler handler = new Handler();\r\n\t\t\thandler.postDelayed(new Runnable() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tfocusRect = new Rect(0, 0, 0, 0);\r\n\t\t\t\t\tinvalidate();\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate void doTouchFocus(final Rect tfocusRect) {\r\n\t\ttry {\r\n\t\t\tfinal List&lt;Camera.Area&gt; focusList = new ArrayList&lt;Camera.Area&gt;();\r\n\t\t\tCamera.Area focusArea = new Camera.Area(tfocusRect, 1000);\r\n\t\t\tfocusList.add(focusArea);\r\n\r\n\t\t\tCamera.Parameters para = mCamera.getParameters();\r\n\t\t\tpara.setFocusAreas(focusList);\r\n\t\t\tpara.setMeteringAreas(focusList);\r\n\t\t\tmCamera.setParameters(para);\r\n\t\t\tmCamera.autoFocus(myAutoFocusCallback);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tCamera.AutoFocusCallback myAutoFocusCallback = new Camera.AutoFocusCallback() {\r\n\r\n\t\t@Override\r\n\t\tpublic void onAutoFocus(boolean arg0, Camera arg1) {\r\n\t\t\tif (arg0) {\r\n\t\t\t\tmCamera.cancelAutoFocus();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * {@inheritDoc}\r\n\t */\r\n\t@Override\r\n\tpublic void onTextRegionsRecognized(final List&lt;Rect&gt; textRegions) {\r\n\t\tregions.clear();\r\n\t\tregions.addAll(textRegions);\r\n\t\tinvalidate();\r\n\t}\r\n}\r\n\r\n``","title":"java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader couldn&#39;t find &quot;liblivecamera.so.so&quot;","body":"<p>I am working on camera application. When I debug the application, it crashes and says</p>\n<blockquote>\n<p>java.lang.UnsatisfiedLinkError:\ndalvik.system.PathClassLoader[DexPathList[[zip file\n&quot;/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/lib/arm64,\n/data/app/org.tensorflow.lite.examples.detection-kuQobL0-J_-5EsHI7x5ShQ==/base.apk!/lib/arm64-v8a,\n/system/lib64, /vendor/lib64]]] couldn't find &quot;liblibcamera.so.so&quot;</p>\n</blockquote>\n<p>It is showing this error at this line of code:-</p>\n<pre><code>\n    static {\n        System.loadLibrary(&quot;livecamera&quot;);\n    }\n\n</code></pre>\n<p>My complete <strong>cameraview.java</strong> code</p>\n<pre><code>\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.Paint;\nimport android.graphics.PixelFormat;\nimport android.graphics.Rect;\nimport android.hardware.Camera;\nimport android.hardware.Camera.Size;\nimport android.os.Handler;\nimport android.util.AttributeSet;\nimport android.view.MotionEvent;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CameraView extends SurfaceView implements Camera.PreviewCallback, SurfaceHolder.Callback,\n        OCRThread.TextRegionsListener {\n\n    private final List&lt;Rect&gt; regions = new ArrayList&lt;&gt;();\n\n    private Camera mCamera;\n    private byte[] mVideoSource;\n    private Bitmap mBackBuffer;\n    private OCRThread ocrThread;\n\n    private Paint focusPaint;\n    private Rect focusRect;\n\n    private Paint paintText;\n\n    private float horizontalRectRation;\n    private float verticalRectRation;\n\n\n    static {\n        System.loadLibrary(&quot;livecamera&quot;);\n    }\n\n    public CameraView(final Context context) {\n        this(context, null);\n    }\n\n    public CameraView(final Context context, final AttributeSet attributes) {\n        super(context, attributes);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n        focusPaint = new Paint();\n        focusPaint.setColor(0xeed7d7d7);\n        focusPaint.setStyle(Paint.Style.STROKE);\n        focusPaint.setStrokeWidth(2);\n        focusRect = new Rect(0, 0, 0, 0);\n\n        paintText = new Paint();\n        paintText.setColor(0xeeff0000);\n        paintText.setStyle(Paint.Style.STROKE);\n        paintText.setStrokeWidth(4);\n\n        ocrThread = new OCRThread(context);\n        horizontalRectRation = 1.0f;\n        verticalRectRation = 1.0f;\n    }\n\n    public void setShowTextBounds(final boolean show) {\n        regions.clear();\n        ocrThread.setRegionsListener(show ? this : null);\n        invalidate();\n    }\n\n    public void makeOCR(final OCRThread.TextRecognitionListener listener) {\n        ocrThread.setTextRecognitionListener(listener);\n    }\n\n    public native void decode(final Bitmap pTarget, final byte[] pSource);\n\n\n    @Override\n    protected void onDraw(final Canvas canvas) {\n        if (focusRect.width() &gt; 0) {\n            canvas.drawRect(focusRect, focusPaint);\n        }\n        if (mCamera != null) {\n            mCamera.addCallbackBuffer(mVideoSource);\n            drawTextBounds(canvas);\n        }\n    }\n\n    private void drawTextBounds(final Canvas canvas) {\n        for (Rect region : regions) {\n            canvas.drawRect(region.left * horizontalRectRation, region.top * verticalRectRation,\n                    region.right * horizontalRectRation, region.bottom * verticalRectRation, paintText);\n        }\n    }\n\n    @Override\n    public void onPreviewFrame(final byte[] bytes, final Camera camera) {\n        decode(mBackBuffer, bytes);\n        ocrThread.updateBitmap(mBackBuffer);\n    }\n\n    @Override\n    public void surfaceCreated(final SurfaceHolder surfaceHolder) {\n        try {\n            mCamera = Camera.open(Camera.CameraInfo.CAMERA_FACING_BACK);\n            mCamera.setDisplayOrientation(90);\n            mCamera.setPreviewDisplay(surfaceHolder);\n            mCamera.setPreviewCallbackWithBuffer(this);\n            startOcrThread();\n        } catch (IOException eIOException) {\n            mCamera.release();\n            mCamera = null;\n            throw new IllegalStateException();\n        }\n    }\n\n    private void startOcrThread() {\n        ocrThread.start();\n    }\n\n    @Override\n    public void surfaceChanged(final SurfaceHolder surfaceHolder, final int format, final int width, final int height) {\n        mCamera.stopPreview();\n        Size lSize = findBestResolution();\n        updateTextRectsRatio(width, height, lSize);\n        PixelFormat lPixelFormat = new PixelFormat();\n        PixelFormat.getPixelFormatInfo(mCamera.getParameters()\n                .getPreviewFormat(), lPixelFormat);\n        int lSourceSize = lSize.width * lSize.height * lPixelFormat.bitsPerPixel / 8;\n        mVideoSource = new byte[lSourceSize];\n        mBackBuffer = Bitmap.createBitmap(lSize.width, lSize.height,\n                Bitmap.Config.ARGB_8888);\n        Camera.Parameters lParameters = mCamera.getParameters();\n        lParameters.setPreviewSize(lSize.width, lSize.height);\n        mCamera.setParameters(lParameters);\n        mCamera.addCallbackBuffer(mVideoSource);\n        mCamera.startPreview();\n    }\n\n    private Size findBestResolution() {\n        List&lt;Size&gt; lSizes = mCamera.getParameters().getSupportedPreviewSizes();\n        Size lSelectedSize = mCamera.new Size(0, 0);\n        for (Size lSize : lSizes) {\n            if ((lSize.width &gt;= lSelectedSize.width) &amp;&amp; (lSize.height &gt;= lSelectedSize.height)) {\n                lSelectedSize = lSize;\n            }\n        }\n        if ((lSelectedSize.width == 0) || (lSelectedSize.height == 0)) {\n            lSelectedSize = lSizes.get(0);\n        }\n        return lSelectedSize;\n    }\n\n    private void updateTextRectsRatio(final int width, final int height, final Size cameraSize) {\n        verticalRectRation = ((float) height) / cameraSize.width;\n        horizontalRectRation = ((float) width) / cameraSize.height;\n    }\n\n    @Override\n    public void surfaceDestroyed(final SurfaceHolder surfaceHolder) {\n        if (mCamera != null) {\n            mCamera.stopPreview();\n            mCamera.release();\n            mCamera = null;\n            mVideoSource = null;\n            mBackBuffer = null;\n            stopOcrThread();\n        }\n    }\n\n    private void stopOcrThread() {\n        boolean retry = true;\n        ocrThread.cancel();\n        ocrThread.setRegionsListener(null);\n        while (retry) {\n            try {\n                ocrThread.join();\n                retry = false;\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            float x = event.getX();\n            float y = event.getY();\n\n            Rect touchRect = new Rect(\n                    (int) (x - 100),\n                    (int) (y - 100),\n                    (int) (x + 100),\n                    (int) (y + 100));\n\n            final Rect targetFocusRect = new Rect(\n                    touchRect.left * 2000 / this.getWidth() - 1000,\n                    touchRect.top * 2000 / this.getHeight() - 1000,\n                    touchRect.right * 2000 / this.getWidth() - 1000,\n                    touchRect.bottom * 2000 / this.getHeight() - 1000);\n\n            doTouchFocus(targetFocusRect);\n            focusRect = touchRect;\n            invalidate();\n\n            Handler handler = new Handler();\n            handler.postDelayed(new Runnable() {\n\n                @Override\n                public void run() {\n                    focusRect = new Rect(0, 0, 0, 0);\n                    invalidate();\n                }\n            }, 1000);\n        }\n        return false;\n    }\n\n    private void doTouchFocus(final Rect tfocusRect) {\n        try {\n            final List&lt;Camera.Area&gt; focusList = new ArrayList&lt;Camera.Area&gt;();\n            Camera.Area focusArea = new Camera.Area(tfocusRect, 1000);\n            focusList.add(focusArea);\n\n            Camera.Parameters para = mCamera.getParameters();\n            para.setFocusAreas(focusList);\n            para.setMeteringAreas(focusList);\n            mCamera.setParameters(para);\n            mCamera.autoFocus(myAutoFocusCallback);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    Camera.AutoFocusCallback myAutoFocusCallback = new Camera.AutoFocusCallback() {\n\n        @Override\n        public void onAutoFocus(boolean arg0, Camera arg1) {\n            if (arg0) {\n                mCamera.cancelAutoFocus();\n            }\n        }\n    };\n\n    /**\n     * {@inheritDoc}\n     */\n    @Override\n    public void onTextRegionsRecognized(final List&lt;Rect&gt; textRegions) {\n        regions.clear();\n        regions.addAll(textRegions);\n        invalidate();\n    }\n}\n\n``\n</code></pre>\n"},{"tags":["java","spring-boot","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1674830282,"post_id":75256467,"comment_id":132802737,"body_markdown":"You&#39;re only showing a warning, not an error. Note you can only call `launch()` once, so if you sent a second POST request, you would then get an error. Can you include your pom.xml and specify how you are sending the POST request?","body":"You&#39;re only showing a warning, not an error. Note you can only call <code>launch()</code> once, so if you sent a second POST request, you would then get an error. Can you include your pom.xml and specify how you are sending the POST request?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1674832043,"post_id":75256467,"comment_id":132803337,"body_markdown":"Maybe [startup the JavaFX Platform](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)) when [starting the Spring application](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-events-and-listeners) and [exit the JavaFX platform](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#exit()) on [Spring application exit](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-exit).","body":"Maybe <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)\" rel=\"nofollow noreferrer\">startup the JavaFX Platform</a> when <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-events-and-listeners\" rel=\"nofollow noreferrer\">starting the Spring application</a> and <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#exit()\" rel=\"nofollow noreferrer\">exit the JavaFX platform</a> on <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.spring-application.application-exit\" rel=\"nofollow noreferrer\">Spring application exit</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1674832272,"post_id":75256467,"comment_id":132803421,"body_markdown":"Replace the Application class with a standard class for the UI with no inheritance, ensuring [Platform.setImplicitExit](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#setImplicitExit(boolean)) is false, and, when needed, send a message to the UI class to display or update your overlay via a [JavaFX Platform runLater](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)) call.","body":"Replace the Application class with a standard class for the UI with no inheritance, ensuring <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#setImplicitExit(boolean)\" rel=\"nofollow noreferrer\">Platform.setImplicitExit</a> is false, and, when needed, send a message to the UI class to display or update your overlay via a <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">JavaFX Platform runLater</a> call."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1674832339,"post_id":75256467,"comment_id":132803446,"body_markdown":"[Example of using runLater to send messages to a JavaFX app](https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java).  Study the [JavaFX Application lifecycle](https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html).","body":"<a href=\"https://stackoverflow.com/questions/24320014/how-to-call-launch-more-than-once-in-java\">Example of using runLater to send messages to a JavaFX app</a>.  Study the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">JavaFX Application lifecycle</a>."},{"owner":{"account_id":27633804,"reputation":21,"user_id":21092148,"display_name":"JavaCoder10"},"score":0,"creation_date":1674832824,"post_id":75256467,"comment_id":132803623,"body_markdown":"@James_D I don&#39;t have a `pom.xml`, maybe it&#39;s cause I use Gradle?\nI send the request using Postman","body":"@James_D I don&#39;t have a <code>pom.xml</code>, maybe it&#39;s cause I use Gradle? I send the request using Postman"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1674832895,"post_id":75256467,"comment_id":132803651,"body_markdown":"@JavaCoder10 yes, the Gradle equivalent of a Maven `pom.xml` is `build.gradle`, which you can provide in the question instead.  Also, edit the question to provide some more explanatory context of what you are trying to do.  Is the SpringBoot application running on a Server with a display and do you expect the UI to be displayed on the server?  Or is the SpringBoot application a standalone client app?  What generates the post?  What is the lifecycle of the overlay?  Should it always be displayed?  Does the user close it?  Is the overlay updated or replaced on subsequent posts? Why do this? etc","body":"@JavaCoder10 yes, the Gradle equivalent of a Maven <code>pom.xml</code> is <code>build.gradle</code>, which you can provide in the question instead.  Also, edit the question to provide some more explanatory context of what you are trying to do.  Is the SpringBoot application running on a Server with a display and do you expect the UI to be displayed on the server?  Or is the SpringBoot application a standalone client app?  What generates the post?  What is the lifecycle of the overlay?  Should it always be displayed?  Does the user close it?  Is the overlay updated or replaced on subsequent posts? Why do this? etc"}],"owner":{"account_id":27633804,"reputation":21,"user_id":21092148,"display_name":"JavaCoder10"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675001267,"creation_date":1674813279,"question_id":75256467,"body_markdown":"I have a Spring Boot App with the following classes in the `src/main/java/in/javacoder/overlayapp` package\r\n\r\n***build.gradle***\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.2&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\tid &#39;application&#39;\r\n\tid &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n}\r\n\r\njavafx {\r\n    version = &quot;17&quot;\r\n    modules = [ &#39;javafx.controls&#39; ]\r\n}\r\n\r\ngroup = &#39;in.techpro424&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\tannotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n***CoordinateOverlayAppApplication.java***\r\n```java\r\npackage in.techpro424.coordinateoverlayapp;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class CoordinateOverlayAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CoordinateOverlayAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n***CoordinateRestController.java***\r\n```java\r\npackage in.techpro424.coordinateoverlayapp;\r\n\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class CoordinateRestController {\r\n    public static double xCoord;\r\n    public static double yCoord;\r\n    public static double zCoord;\r\n  \r\n    @PostMapping(value = &quot;/coordinateOverlay&quot;)\r\n    public int receiveCoordinates(@RequestParam(name = &quot;xCoordinate&quot;) Double xCoordinate, @RequestParam(name = &quot;yCoordinate&quot;) Double yCoordinate, @RequestParam(name = &quot;zCoordinate&quot;) Double zCoordinate) {\r\n      CoordinateRestController.xCoord = xCoordinate;\r\n      System.out.println(CoordinateRestController.xCoord);\r\n\r\n      CoordinateRestController.yCoord = yCoordinate;\r\n      System.out.println(CoordinateRestController.yCoord);\r\n\r\n      CoordinateRestController.zCoord = zCoordinate;\r\n      System.out.println(CoordinateRestController.zCoord);\r\n\r\n      javafx.application.Application.launch(RenderCoordinateOverlay.class);\r\n\r\n      return 1;\r\n    }\r\n\r\n\r\n}\r\n```\r\n***RenderCoordinateOverlay.java***\r\n```java\r\npackage in.techpro424.coordinateoverlayapp;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Text;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.StageStyle;\r\n\r\npublic class RenderCoordinateOverlay extends Application {\r\n    double radius = 50;\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n\r\n        Group root = new Group();\r\n\r\n        Text coordinates = new Text();\r\n        coordinates.setText(&quot;X:&quot; + CoordinateRestController.xCoord + &quot;, Y:&quot; + CoordinateRestController.yCoord + &quot;, Z:&quot; + CoordinateRestController.zCoord);\r\n\r\n        root.getChildren().add(coordinates);\r\n\r\n        Scene scene = new Scene(root, Color.TRANSPARENT);\r\n\r\n        scene.getRoot().setStyle(&quot;-fx-background-color: transparent&quot;);\r\n\r\n        primaryStage.initStyle(StageStyle.TRANSPARENT);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        primaryStage.setAlwaysOnTop(true);\r\n\r\n        \r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nI want to render this overlay on the screen whenever I receive the POST request with the specified params\r\n\r\nI tried using `javafx.application.Application.launch(RenderCoordinateOverlay.class);` in the `receiveCoordinates()` function\r\nI expected the overlay to render the text the moment I sent the POST request\r\nHowever, when I sent the POST request, only a completely transparent window was rendered with this error in the console:\r\n\r\n```\r\n2023-01-27T15:01:27.384+05:30  WARN 13060 --- [JavaFX-Launcher] javafx: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @1ec4c0e8&#39;\r\n```\r\n\r\nThe SpringBoot application is running on my PC with a display and I expect the UI to be displayed on the PC.\r\nI use Postman to send the post.","title":"How do I run a JavaFX app from a SpringBoot app?","body":"<p>I have a Spring Boot App with the following classes in the <code>src/main/java/in/javacoder/overlayapp</code> package</p>\n<p><em><strong>build.gradle</strong></em></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.2'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n}\n\njavafx {\n    version = &quot;17&quot;\n    modules = [ 'javafx.controls' ]\n}\n\ngroup = 'in.techpro424'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><em><strong>CoordinateOverlayAppApplication.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package in.techpro424.coordinateoverlayapp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CoordinateOverlayAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CoordinateOverlayAppApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p><em><strong>CoordinateRestController.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package in.techpro424.coordinateoverlayapp;\n\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class CoordinateRestController {\n    public static double xCoord;\n    public static double yCoord;\n    public static double zCoord;\n  \n    @PostMapping(value = &quot;/coordinateOverlay&quot;)\n    public int receiveCoordinates(@RequestParam(name = &quot;xCoordinate&quot;) Double xCoordinate, @RequestParam(name = &quot;yCoordinate&quot;) Double yCoordinate, @RequestParam(name = &quot;zCoordinate&quot;) Double zCoordinate) {\n      CoordinateRestController.xCoord = xCoordinate;\n      System.out.println(CoordinateRestController.xCoord);\n\n      CoordinateRestController.yCoord = yCoordinate;\n      System.out.println(CoordinateRestController.yCoord);\n\n      CoordinateRestController.zCoord = zCoordinate;\n      System.out.println(CoordinateRestController.zCoord);\n\n      javafx.application.Application.launch(RenderCoordinateOverlay.class);\n\n      return 1;\n    }\n\n\n}\n</code></pre>\n<p><em><strong>RenderCoordinateOverlay.java</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package in.techpro424.coordinateoverlayapp;\n\nimport javafx.application.Application;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\n\npublic class RenderCoordinateOverlay extends Application {\n    double radius = 50;\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        Group root = new Group();\n\n        Text coordinates = new Text();\n        coordinates.setText(&quot;X:&quot; + CoordinateRestController.xCoord + &quot;, Y:&quot; + CoordinateRestController.yCoord + &quot;, Z:&quot; + CoordinateRestController.zCoord);\n\n        root.getChildren().add(coordinates);\n\n        Scene scene = new Scene(root, Color.TRANSPARENT);\n\n        scene.getRoot().setStyle(&quot;-fx-background-color: transparent&quot;);\n\n        primaryStage.initStyle(StageStyle.TRANSPARENT);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        primaryStage.setAlwaysOnTop(true);\n\n        \n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I want to render this overlay on the screen whenever I receive the POST request with the specified params</p>\n<p>I tried using <code>javafx.application.Application.launch(RenderCoordinateOverlay.class);</code> in the <code>receiveCoordinates()</code> function\nI expected the overlay to render the text the moment I sent the POST request\nHowever, when I sent the POST request, only a completely transparent window was rendered with this error in the console:</p>\n<pre><code>2023-01-27T15:01:27.384+05:30  WARN 13060 --- [JavaFX-Launcher] javafx: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @1ec4c0e8'\n</code></pre>\n<p>The SpringBoot application is running on my PC with a display and I expect the UI to be displayed on the PC.\nI use Postman to send the post.</p>\n"},{"tags":["java","switch-statement","java-14","switch-expression"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":4,"creation_date":1611680408,"post_id":65657169,"comment_id":116526709,"body_markdown":"What does standardized mean vs. introduced?","body":"What does standardized mean vs. introduced?"},{"owner":{"account_id":12064104,"reputation":3243,"user_id":8821960,"display_name":"tryman"},"score":6,"creation_date":1611740931,"post_id":65657169,"comment_id":116545491,"body_markdown":"@rogerdpack This must refer to switch expressions being introduced as Preview feature in JDK 12 - fully usable and complete, enabled through the compiler options, still amenable to (breaking) change in future versions based on user feedback. In JDK 14 this was consolidated as a standard feature that won&#39;t change anymore in future versions.","body":"@rogerdpack This must refer to switch expressions being introduced as Preview feature in JDK 12 - fully usable and complete, enabled through the compiler options, still amenable to (breaking) change in future versions based on user feedback. In JDK 14 this was consolidated as a standard feature that won&#39;t change anymore in future versions."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1610311068,"creation_date":1610304616,"answer_id":65657170,"question_id":65657169,"body_markdown":"## The `switch` statement:\r\n\r\nUnlike the `if/else if/else` statement, a `switch` statement can have a number of possible execution paths. A `switch` works with the primitive types, `byte`, `short`, `char`, and `int`, their respective wrapper types (`Byte`, `Short`, `Character`, and `Integer`), enumerated types, and the `String` type&lt;sup&gt;1&lt;/sup&gt;. While an `if-else` statement is used to test expressions based on ranges of values or conditions, a `switch` statement is used to test expressions based only on a single value.\r\n\r\n**Demo**\r\n\r\n\tenum PaymentStatus {\r\n\t\tUNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\r\n\t}\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString message = &quot;&quot;;\r\n\t\t\tPaymentStatus paymentStatus = PaymentStatus.PARTPAID;\r\n\r\n\t\t\tswitch (paymentStatus) {\r\n\t\t\tcase UNPAID:\r\n\t\t\t\tmessage = &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase PARTPAID:\r\n\t\t\t\tmessage = &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tcase PAID:\r\n\t\t\t\tmessage = &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(message);\r\n\t\t}\r\n\t}\r\n**Output:**\r\n\t\r\n\tThe order is partially paid. Some features will not be available. Please check the brochure for details.\r\n\r\n## The `switch` expression:\r\n\r\nThe `switch` expression was introduced with Java SE 12. However, it remained as a **Preview** feature in Java SE 12 and 13 and finally got standardized with Java SE 14. [Like any expression](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html), `switch` expressions evaluate to a single value, and can be used in statements. It also introduced &quot;arrow `case`&quot; labels eliminating the need for `break` statements to prevent fall through. As of Java SE 15, there is no change in the supported data types (mentioned in the `switch` statement section above).\r\n\r\n**Demo**\r\n\r\n\tenum PaymentStatus {\r\n\t\tUNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\r\n\t}\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tPaymentStatus paymentStatus = PaymentStatus.PARTPAID;\r\n\r\n\t\t\tString message = switch (paymentStatus) {\r\n\t\t\tcase UNPAID -&gt; &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\r\n\t\t\tcase PARTPAID -&gt; &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\r\n\t\t\tcase PAID -&gt; &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\r\n\t\t\tdefault -&gt; throw new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\r\n\t\t\t};\r\n\r\n\t\t\tSystem.out.println(message);\r\n\t\t}\r\n\t}\r\n**Output:**\r\n\t\r\n\tThe order is partially paid. Some features will not be available. Please check the brochure for details.\r\n\r\n## The `switch` expression with `yield`:\r\n\r\nSince Java SE 13, you can use `yield` statement, instead of the arrow operator (-&gt;), to return a value from a `switch` expression.\r\n\r\n**Demo**\r\n\r\n\tenum PaymentStatus {\r\n\t\tUNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\r\n\t}\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tPaymentStatus paymentStatus = PaymentStatus.PARTPAID;\r\n\r\n\t\t\tString message = switch (paymentStatus) {\r\n\t\t\tcase UNPAID:\r\n\t\t\t\tyield &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\r\n\t\t\tcase PARTPAID:\r\n\t\t\t\tyield &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\r\n\t\t\tcase PAID:\r\n\t\t\t\tyield &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\r\n\t\t\t};\r\n\r\n\t\t\tSystem.out.println(message);\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Output:**\r\n\t\r\n\tThe order is partially paid. Some features will not be available. Please check the brochure for details.\r\n\r\n***\r\n&lt;sup&gt;1&lt;/sup&gt; The support for `String` was added with JDK 7","title":"What are switch expressions and how are they different from switch statements?","body":"<h2>The <code>switch</code> statement:</h2>\n<p>Unlike the <code>if/else if/else</code> statement, a <code>switch</code> statement can have a number of possible execution paths. A <code>switch</code> works with the primitive types, <code>byte</code>, <code>short</code>, <code>char</code>, and <code>int</code>, their respective wrapper types (<code>Byte</code>, <code>Short</code>, <code>Character</code>, and <code>Integer</code>), enumerated types, and the <code>String</code> type<sup>1</sup>. While an <code>if-else</code> statement is used to test expressions based on ranges of values or conditions, a <code>switch</code> statement is used to test expressions based only on a single value.</p>\n<p><strong>Demo</strong></p>\n<pre><code>enum PaymentStatus {\n    UNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        String message = &quot;&quot;;\n        PaymentStatus paymentStatus = PaymentStatus.PARTPAID;\n\n        switch (paymentStatus) {\n        case UNPAID:\n            message = &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\n            break;\n        case PARTPAID:\n            message = &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\n            break;\n        case PAID:\n            message = &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\n            break;\n        default:\n            throw new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\n        }\n        System.out.println(message);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>The order is partially paid. Some features will not be available. Please check the brochure for details.\n</code></pre>\n<h2>The <code>switch</code> expression:</h2>\n<p>The <code>switch</code> expression was introduced with Java SE 12. However, it remained as a <strong>Preview</strong> feature in Java SE 12 and 13 and finally got standardized with Java SE 14. <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"noreferrer\">Like any expression</a>, <code>switch</code> expressions evaluate to a single value, and can be used in statements. It also introduced &quot;arrow <code>case</code>&quot; labels eliminating the need for <code>break</code> statements to prevent fall through. As of Java SE 15, there is no change in the supported data types (mentioned in the <code>switch</code> statement section above).</p>\n<p><strong>Demo</strong></p>\n<pre><code>enum PaymentStatus {\n    UNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        PaymentStatus paymentStatus = PaymentStatus.PARTPAID;\n\n        String message = switch (paymentStatus) {\n        case UNPAID -&gt; &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\n        case PARTPAID -&gt; &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\n        case PAID -&gt; &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\n        default -&gt; throw new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\n        };\n\n        System.out.println(message);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>The order is partially paid. Some features will not be available. Please check the brochure for details.\n</code></pre>\n<h2>The <code>switch</code> expression with <code>yield</code>:</h2>\n<p>Since Java SE 13, you can use <code>yield</code> statement, instead of the arrow operator (-&gt;), to return a value from a <code>switch</code> expression.</p>\n<p><strong>Demo</strong></p>\n<pre><code>enum PaymentStatus {\n    UNPAID, PARTPAID, PAID, DISPUTED, UNKNOWN;\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        PaymentStatus paymentStatus = PaymentStatus.PARTPAID;\n\n        String message = switch (paymentStatus) {\n        case UNPAID:\n            yield &quot;The order has not been paid yet. Please make the minimum/full amount to procced.&quot;;\n        case PARTPAID:\n            yield &quot;The order is partially paid. Some features will not be available. Please check the brochure for details.&quot;;\n        case PAID:\n            yield &quot;The order is fully paid. Please choose the desired items from the menu.&quot;;\n        default:\n            throw new IllegalStateException(&quot;Invalid payment status: &quot; + paymentStatus);\n        };\n\n        System.out.println(message);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>The order is partially paid. Some features will not be available. Please check the brochure for details.\n</code></pre>\n<hr />\n<p><sup>1</sup> The support for <code>String</code> was added with JDK 7</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1610338588,"creation_date":1610331701,"answer_id":65660594,"question_id":65657169,"body_markdown":"Nice writeup!  But I might also add the ability to have multiple cases for a single case statement.  The following example is very contrived (there are many better ways to achieve it).  It does a simple frequency count of the vowels, digits, consonants, and other characters in a string.\r\n```\r\nint count[] = new int[4];\r\n\r\nString s = &quot;829s2bi9jskj*&amp;@)(so2i2ksso&quot;;\r\n\r\nfor (char c : s.toCharArray()) {\r\n\t  int i = switch (c) {\r\n\t          \tcase  &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39; -&gt; 0;\r\n\t\t        case  &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; -&gt; 1;\r\n\t\t        case  &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;,\r\n\t\t              &#39;m&#39;, &#39;n&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;v&#39;, &#39;w&#39;,\r\n\t\t              &#39;x&#39;, &#39;y&#39;, &#39;z&#39; -&gt; 2;\r\n\t\t        default -&gt; 3;\r\n\t  };\r\n\t  count[i]++;\r\n}\r\nSystem.out.printf(&quot;vowels  - %d%n&quot;, count[0]);\r\nSystem.out.printf(&quot;digits  - %d%n&quot;, count[1]);\r\nSystem.out.printf(&quot;consonants - %d%n&quot;, count[2]);\r\nSystem.out.printf(&quot;other   - %d%n&quot;, count[3]);\r\n```\r\nPrints\r\n```\r\nvowels  - 4\r\ndigits  - 7\r\nconsonants - 10\r\nother   - 5","title":"What are switch expressions and how are they different from switch statements?","body":"<p>Nice writeup!  But I might also add the ability to have multiple cases for a single case statement.  The following example is very contrived (there are many better ways to achieve it).  It does a simple frequency count of the vowels, digits, consonants, and other characters in a string.</p>\n<pre><code>int count[] = new int[4];\n\nString s = &quot;829s2bi9jskj*&amp;@)(so2i2ksso&quot;;\n\nfor (char c : s.toCharArray()) {\n      int i = switch (c) {\n                case  'a', 'e', 'i', 'o', 'u' -&gt; 0;\n                case  '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' -&gt; 1;\n                case  'b', 'c', 'd', 'f', 'g', 'h', 'j', 'k', 'l',\n                      'm', 'n', 'p', 'q', 'r', 's', 't', 'v', 'w',\n                      'x', 'y', 'z' -&gt; 2;\n                default -&gt; 3;\n      };\n      count[i]++;\n}\nSystem.out.printf(&quot;vowels  - %d%n&quot;, count[0]);\nSystem.out.printf(&quot;digits  - %d%n&quot;, count[1]);\nSystem.out.printf(&quot;consonants - %d%n&quot;, count[2]);\nSystem.out.printf(&quot;other   - %d%n&quot;, count[3]);\n</code></pre>\n<p>Prints</p>\n<pre><code>vowels  - 4\ndigits  - 7\nconsonants - 10\nother   - 5\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15244370"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1616971283,"creation_date":1616971283,"answer_id":66846887,"question_id":65657169,"body_markdown":"Adding to existing answers: `yield` can also be used with `-&gt;` and its main purpose is to allow the use of a block when a single expression is not sufficient for a given case:\r\n```\r\nvar test = switch (value) {\r\n    case A -&gt; 1;\r\n    case B -&gt; 2;\r\n    case C -&gt; {\r\n        System.err.println(&quot;neither A nor B&quot;); // or some calculation\r\n        yield -1;\r\n    }\r\n}\r\n```\r\n\r\nI would also mention [JEP-354](http://openjdk.java.net/jeps/354) where the switch expression is proposed and described.&lt;br/&gt;\r\nFormal specification can be found, as always in the [Java Language Specification](https://docs.oracle.com/javase/specs/index.html).","title":"What are switch expressions and how are they different from switch statements?","body":"<p>Adding to existing answers: <code>yield</code> can also be used with <code>-&gt;</code> and its main purpose is to allow the use of a block when a single expression is not sufficient for a given case:</p>\n<pre><code>var test = switch (value) {\n    case A -&gt; 1;\n    case B -&gt; 2;\n    case C -&gt; {\n        System.err.println(&quot;neither A nor B&quot;); // or some calculation\n        yield -1;\n    }\n}\n</code></pre>\n<p>I would also mention <a href=\"http://openjdk.java.net/jeps/354\" rel=\"noreferrer\">JEP-354</a> where the switch expression is proposed and described.<br/>\nFormal specification can be found, as always in the <a href=\"https://docs.oracle.com/javase/specs/index.html\" rel=\"noreferrer\">Java Language Specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":1639431,"reputation":5035,"user_id":1512175,"accept_rate":57,"display_name":"Ithar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675000631,"creation_date":1675000631,"answer_id":75275450,"question_id":65657169,"body_markdown":"Adding to the above answers one can look at the current “shortfalls” with switch statement which switch expression solve:\r\n\r\n***Switch Statement:***\r\n\r\n- Issue 1: Accidental Fall-through\r\n- Issue 2: Variable scoping \r\n- Issue 3: No return value\r\n\r\n\r\n***Switch expression:***\r\n\r\n- No fallthrough\r\n- Combined constants\r\n- Blocked scope\r\n- Return yield\r\n\r\n\r\nEXAMPLE:\r\n--------------------------------\r\n\r\n***Switch Statement:***\r\n\r\n    private static void oldSwitchStatement(String month) {\r\n\r\n        int i = 0;\r\n        String quarter = &quot;&quot;;\r\n\r\n        switch (month) {\r\n            case &quot;JAN&quot;:\r\n            case &quot;FEB&quot;:\r\n            case &quot;MAR&quot;:\r\n                i = i + 1;\r\n                quarter = &quot;Q1&quot;;\r\n                // break;\r\n            case &quot;APR&quot;:\r\n            case &quot;MAY&quot;:\r\n            case &quot;JUN&quot;:\r\n                i = i + 2;\r\n                quarter = &quot;Q2&quot;;\r\n                // break;\r\n            case &quot;JUL&quot;:\r\n            case &quot;AUG&quot;:\r\n            case &quot;SEP&quot;:\r\n                i = i + 3;\r\n                quarter = &quot;Q3&quot;;\r\n                // break;\r\n            case &quot;OCT&quot;:\r\n            case &quot;NOV&quot;:\r\n            case &quot;DEC&quot;:\r\n                i = i + 4;\r\n                quarter = &quot;Q4&quot;;\r\n            default:\r\n                System.out.println(&quot;Unknown case&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;QUARTER: &quot;+ i + &quot; &quot;+ quarter);\r\n    }\r\n\r\n\r\n***Switch Expression***\r\n\r\n    private static String newSwitchExpressionYield(String month) {\r\n\r\n        return switch (month) {\r\n            case &quot;JAN&quot;, &quot;FEB&quot;, &quot;MAR&quot; -&gt; &quot;Q1&quot;;\r\n            case &quot;APR&quot;, &quot;MAY&quot;, &quot;JUN&quot; -&gt; {\r\n                System.out.println(&quot;Using yield.&quot;);\r\n                yield &quot;Q2&quot;;\r\n            }\r\n            case &quot;JUL&quot;, &quot;AUG&quot;, &quot;SEP&quot; -&gt; &quot;Q3&quot;;\r\n            case &quot;OCT&quot;, &quot;NOV&quot;, &quot;DEC&quot; -&gt; &quot;Q4&quot;;\r\n            default -&gt; &quot;Unknown case&quot;;\r\n        };\r\n    }\r\n\r\nTo test the above pass `oldSwitchStatement(&quot;APR&quot;);` and `newSwitchExpressionYield(&quot;APR&quot;);` and see the resutls.","title":"What are switch expressions and how are they different from switch statements?","body":"<p>Adding to the above answers one can look at the current “shortfalls” with switch statement which switch expression solve:</p>\n<p><em><strong>Switch Statement:</strong></em></p>\n<ul>\n<li>Issue 1: Accidental Fall-through</li>\n<li>Issue 2: Variable scoping</li>\n<li>Issue 3: No return value</li>\n</ul>\n<p><em><strong>Switch expression:</strong></em></p>\n<ul>\n<li>No fallthrough</li>\n<li>Combined constants</li>\n<li>Blocked scope</li>\n<li>Return yield</li>\n</ul>\n<h2>EXAMPLE:</h2>\n<p><em><strong>Switch Statement:</strong></em></p>\n<pre><code>private static void oldSwitchStatement(String month) {\n\n    int i = 0;\n    String quarter = &quot;&quot;;\n\n    switch (month) {\n        case &quot;JAN&quot;:\n        case &quot;FEB&quot;:\n        case &quot;MAR&quot;:\n            i = i + 1;\n            quarter = &quot;Q1&quot;;\n            // break;\n        case &quot;APR&quot;:\n        case &quot;MAY&quot;:\n        case &quot;JUN&quot;:\n            i = i + 2;\n            quarter = &quot;Q2&quot;;\n            // break;\n        case &quot;JUL&quot;:\n        case &quot;AUG&quot;:\n        case &quot;SEP&quot;:\n            i = i + 3;\n            quarter = &quot;Q3&quot;;\n            // break;\n        case &quot;OCT&quot;:\n        case &quot;NOV&quot;:\n        case &quot;DEC&quot;:\n            i = i + 4;\n            quarter = &quot;Q4&quot;;\n        default:\n            System.out.println(&quot;Unknown case&quot;);\n    }\n\n    System.out.println(&quot;QUARTER: &quot;+ i + &quot; &quot;+ quarter);\n}\n</code></pre>\n<p><em><strong>Switch Expression</strong></em></p>\n<pre><code>private static String newSwitchExpressionYield(String month) {\n\n    return switch (month) {\n        case &quot;JAN&quot;, &quot;FEB&quot;, &quot;MAR&quot; -&gt; &quot;Q1&quot;;\n        case &quot;APR&quot;, &quot;MAY&quot;, &quot;JUN&quot; -&gt; {\n            System.out.println(&quot;Using yield.&quot;);\n            yield &quot;Q2&quot;;\n        }\n        case &quot;JUL&quot;, &quot;AUG&quot;, &quot;SEP&quot; -&gt; &quot;Q3&quot;;\n        case &quot;OCT&quot;, &quot;NOV&quot;, &quot;DEC&quot; -&gt; &quot;Q4&quot;;\n        default -&gt; &quot;Unknown case&quot;;\n    };\n}\n</code></pre>\n<p>To test the above pass <code>oldSwitchStatement(&quot;APR&quot;);</code> and <code>newSwitchExpressionYield(&quot;APR&quot;);</code> and see the resutls.</p>\n"}],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14861,"favorite_count":0,"down_vote_count":14,"up_vote_count":45,"accepted_answer_id":65657170,"answer_count":4,"score":31,"last_activity_date":1675000631,"creation_date":1610304616,"question_id":65657169,"body_markdown":"As part of Java SE 12, [`switch` expressions](https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html) were introduced and since Java SE 14, they have been standardized. How are they different from `switch` statements?","title":"What are switch expressions and how are they different from switch statements?","body":"<p>As part of Java SE 12, <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"noreferrer\"><code>switch</code> expressions</a> were introduced and since Java SE 14, they have been standardized. How are they different from <code>switch</code> statements?</p>\n"},{"tags":["java","linux","installation","java-8","oraclelinux"],"owner":{"account_id":14214420,"reputation":23,"user_id":10268729,"display_name":"Pogman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674999703,"creation_date":1674959376,"question_id":75272260,"body_markdown":"I have a Java application which uses javaFX to process images (using the javafx.scene.image.Image and some related functionality, and instantiating an javafx/embed/swing/JFXPanel object to force JavaFX to initialise). I&#39;m trying to run this application on an Oracle free server running Oracle Linux 8.6 with Oracle Java 1.8.0_351 (OpenJDK and Oracle Java 19 give errors relating to JavaFX not being present). I&#39;ve compiled my application into a JAR (compiling for Java 1.8.0_301 using Oracle Java on Windows). However, on the server, this doesn&#39;t work; I get the exception `java.lang.UnsupportedOperationException: Unable to open DISPLAY`. \\\r\nThis question&#39;s answer suggests using xvfb:\\\r\nhttps://stackoverflow.com/questions/21162383/deploy-javafx-on-ubuntu-server-without-display \\\r\nI&#39;ve tried this, but get a &quot;GLX version 1.3 or higher is required&quot; error instead.\\\r\nIs there a solution for running JavaFX with Oracle Linux?\r\n\r\n**What I&#39;ve tried:**\r\n\r\nI&#39;ve tried with two different OSes available with Oracle free;\r\n\r\n**Oracle Linux 8.6**\r\n\r\nOpenJDK was installed with `sudo dnf install java-1.8.0-openjdk-devel.x86_64`.\\\r\nRunning the jar gives the `NoClassDefFoundError` error.\\\r\nI couldn&#39;t work out how to install javafx with dnf on Oracle Linux.\\\r\nI decided to give Oracle Java a go; OpenJDK was unlinked with `sudo unlink /etc/alternatives/java`.\\\r\nThe Oracle jdk 19 was downloaded and installed with `sudo rpm -ivh jdk-19_linux-x64_bin.rpm`. Running the jar (with `java -jar MyJar.jar`) still gives the same error.\\\r\nI tried uninstalling that (with `sudo dnf remove jdk-19`) and openJDK (with `sudo dnf remove java`) and installing Oracle Java 1.8.0 from a .rpm file. I then get an `java.lang.UnsupportedOperationException: Unable to open DISPLAY` error.\\\r\nXvfb was installed using `sudo dnf install xorg-x11-server-Xvfb`. xdpyinfo was installed using `sudo dnf install xdpyinfo`.\\\r\nXvfb was started using `export DISPLAY=:99` and `sudo xdpyinfo -display $DISPLAY &gt; /dev/null || Xvfb $DISPLAY -screen 0 1024x768x16 &amp;` (taken from here: https://unix.stackexchange.com/a/297882 )\\\r\nWhen running the JAR, I then get the exception\r\n```\r\nES2 Prism: Error - GLX extension is not supported\r\n    GLX version 1.3 or higher is required\r\njava.lang.UnsupportedOperationException: Internal Error\r\n```\r\n\r\n**Canonical Ubuntu 22.04 Minimal**\r\n\r\nOpenJDK was installed with `sudo apt-get install openjdk-8-jdk`. \\\r\nRunning the jar gives the `NoClassDefFoundError` error.\\\r\nOpenJFX was installed with `sudo apt-get install openjfx`. Same error.\\\r\nI tried running the JAR with `--module-path` argument pointing to `/usr/share/openjfx/lib/`; `--module-path` is an unrecognised option with Java 8.\\\r\nI upgraded to the latest openjdk `sudo apt-get install openjdk`. After this I&#39;m able to use `--module-path`.\\\r\nI tried running the JAR with `java --module-path /usr/share/openjfx/lib/ --add-modules javafx.controls,javafx.base,javafx.graphics,javafx.swing -jar MyJar.jar` (I&#39;m not sure which modules correspond to which packages...). This causes a `java.lang.UnsupportedOperationException: Unable to open DISPLAY` error.\r\n\r\n","title":"JavaFX on Oracle Linux 8.6","body":"<p>I have a Java application which uses javaFX to process images (using the javafx.scene.image.Image and some related functionality, and instantiating an javafx/embed/swing/JFXPanel object to force JavaFX to initialise). I'm trying to run this application on an Oracle free server running Oracle Linux 8.6 with Oracle Java 1.8.0_351 (OpenJDK and Oracle Java 19 give errors relating to JavaFX not being present). I've compiled my application into a JAR (compiling for Java 1.8.0_301 using Oracle Java on Windows). However, on the server, this doesn't work; I get the exception <code>java.lang.UnsupportedOperationException: Unable to open DISPLAY</code>. <br />\nThis question's answer suggests using xvfb:<br />\n<a href=\"https://stackoverflow.com/questions/21162383/deploy-javafx-on-ubuntu-server-without-display\">Deploy JavaFX on Ubuntu server without display</a> <br />\nI've tried this, but get a &quot;GLX version 1.3 or higher is required&quot; error instead.<br />\nIs there a solution for running JavaFX with Oracle Linux?</p>\n<p><strong>What I've tried:</strong></p>\n<p>I've tried with two different OSes available with Oracle free;</p>\n<p><strong>Oracle Linux 8.6</strong></p>\n<p>OpenJDK was installed with <code>sudo dnf install java-1.8.0-openjdk-devel.x86_64</code>.<br />\nRunning the jar gives the <code>NoClassDefFoundError</code> error.<br />\nI couldn't work out how to install javafx with dnf on Oracle Linux.<br />\nI decided to give Oracle Java a go; OpenJDK was unlinked with <code>sudo unlink /etc/alternatives/java</code>.<br />\nThe Oracle jdk 19 was downloaded and installed with <code>sudo rpm -ivh jdk-19_linux-x64_bin.rpm</code>. Running the jar (with <code>java -jar MyJar.jar</code>) still gives the same error.<br />\nI tried uninstalling that (with <code>sudo dnf remove jdk-19</code>) and openJDK (with <code>sudo dnf remove java</code>) and installing Oracle Java 1.8.0 from a .rpm file. I then get an <code>java.lang.UnsupportedOperationException: Unable to open DISPLAY</code> error.<br />\nXvfb was installed using <code>sudo dnf install xorg-x11-server-Xvfb</code>. xdpyinfo was installed using <code>sudo dnf install xdpyinfo</code>.<br />\nXvfb was started using <code>export DISPLAY=:99</code> and <code>sudo xdpyinfo -display $DISPLAY &gt; /dev/null || Xvfb $DISPLAY -screen 0 1024x768x16 &amp;</code> (taken from here: <a href=\"https://unix.stackexchange.com/a/297882\">https://unix.stackexchange.com/a/297882</a> )<br />\nWhen running the JAR, I then get the exception</p>\n<pre><code>ES2 Prism: Error - GLX extension is not supported\n    GLX version 1.3 or higher is required\njava.lang.UnsupportedOperationException: Internal Error\n</code></pre>\n<p><strong>Canonical Ubuntu 22.04 Minimal</strong></p>\n<p>OpenJDK was installed with <code>sudo apt-get install openjdk-8-jdk</code>. <br />\nRunning the jar gives the <code>NoClassDefFoundError</code> error.<br />\nOpenJFX was installed with <code>sudo apt-get install openjfx</code>. Same error.<br />\nI tried running the JAR with <code>--module-path</code> argument pointing to <code>/usr/share/openjfx/lib/</code>; <code>--module-path</code> is an unrecognised option with Java 8.<br />\nI upgraded to the latest openjdk <code>sudo apt-get install openjdk</code>. After this I'm able to use <code>--module-path</code>.<br />\nI tried running the JAR with <code>java --module-path /usr/share/openjfx/lib/ --add-modules javafx.controls,javafx.base,javafx.graphics,javafx.swing -jar MyJar.jar</code> (I'm not sure which modules correspond to which packages...). This causes a <code>java.lang.UnsupportedOperationException: Unable to open DISPLAY</code> error.</p>\n"},{"tags":["java","pdf","pdf-generation","itext7","apache-fop"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675018124,"post_id":75275336,"comment_id":132833316,"body_markdown":"*&quot;I want to merge or copy multiple multiple statements as a single PDF but with the properties intact.&quot;* - In addition to what @KJ mentioned, what would mean *intact* here, the Producer of _which_ of the merged files should be used?","body":"<i>&quot;I want to merge or copy multiple multiple statements as a single PDF but with the properties intact.&quot;</i> - In addition to what @KJ mentioned, what would mean <i>intact</i> here, the Producer of <i>which</i> of the merged files should be used?"}],"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674999566,"creation_date":1674999566,"question_id":75275336,"body_markdown":"I&#39;ve PDF Statements getting generated using Apache FOP 2.6. For those statements when I go to the properties, it tells the producer is Apache FOP like the one in the below screen  &lt;br&gt;\r\n[![enter image description here][1]][1]\r\n&lt;br&gt;&lt;br&gt;\r\nNow I want to merge those statements to create a single PDF File. For that I used **PdfMerger** from Itext7. But when I see the properties, the producer property changes to Itext7 like the one in the below screen&lt;br&gt;\r\n[![enter image description here][2]][2]\r\n&lt;br&gt;\r\n\r\n\r\n\r\nHere&#39;s the code I&#39;ve used.&lt;br&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfReader;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.kernel.utils.PdfMerger;\r\n\r\n    public class ApacheFOPExample {\r\n\r\n\t   public static void main(String[] args) {\r\n\t\t\tmergePdfs();\r\n\t   }\r\n\t\r\n\t   public static void mergePdfs() {\r\n\t\t   try {\r\n\t\t\t   PdfDocument pdf = new PdfDocument(new PdfWriter(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee_merged.pdf&quot;)));\r\n\t\t\t   PdfMerger merger = new PdfMerger(pdf);\r\n\r\n\t\t\t   //Add pages from the first document\r\n\t\t\t   PdfDocument firstSourcePdf = new PdfDocument(new PdfReader(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee.pdf&quot;)));\r\n\t\t\t   merger.merge(firstSourcePdf, 1, firstSourcePdf.getNumberOfPages());\r\n\r\n\t\t\t   //Add pages from the second pdf document\r\n\t\t\t   PdfDocument secondSourcePdf = new PdfDocument(new PdfReader(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee_another.pdf&quot;)));\r\n\t\t\t   merger.merge(secondSourcePdf, 1, secondSourcePdf.getNumberOfPages());\r\n\r\n\t\t\t   firstSourcePdf.close();\r\n\t\t\t   secondSourcePdf.close();\r\n\t\t\t   pdf.close();\r\n\t\t   } catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t   } catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t   }\r\n\t   }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TjyGG.png\r\n  [2]: https://i.stack.imgur.com/ef2ed.png\r\n&lt;br&gt;\r\nI want to merge or copy multiple multiple statements as a single PDF but with the properties intact. How can I achieve it? To merge, is there any alternative way that I can follow to achieve this?&lt;br&gt;\r\n\r\n**Note:** I can&#39;t use Itext5 classes to do this.\r\n\r\nThank You","title":"PDF Producer properties getting changed when I use merge of Itext7 for FOP Generated PDF Statements","body":"<p>I've PDF Statements getting generated using Apache FOP 2.6. For those statements when I go to the properties, it tells the producer is Apache FOP like the one in the below screen  <br>\n<a href=\"https://i.stack.imgur.com/TjyGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TjyGG.png\" alt=\"enter image description here\" /></a>\n<br><br>\nNow I want to merge those statements to create a single PDF File. For that I used <strong>PdfMerger</strong> from Itext7. But when I see the properties, the producer property changes to Itext7 like the one in the below screen<br>\n<a href=\"https://i.stack.imgur.com/ef2ed.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ef2ed.png\" alt=\"enter image description here\" /></a>\n<br></p>\n<p>Here's the code I've used.<br></p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfReader;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.kernel.utils.PdfMerger;\n\npublic class ApacheFOPExample {\n\n   public static void main(String[] args) {\n        mergePdfs();\n   }\n\n   public static void mergePdfs() {\n       try {\n           PdfDocument pdf = new PdfDocument(new PdfWriter(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee_merged.pdf&quot;)));\n           PdfMerger merger = new PdfMerger(pdf);\n\n           //Add pages from the first document\n           PdfDocument firstSourcePdf = new PdfDocument(new PdfReader(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee.pdf&quot;)));\n           merger.merge(firstSourcePdf, 1, firstSourcePdf.getNumberOfPages());\n\n           //Add pages from the second pdf document\n           PdfDocument secondSourcePdf = new PdfDocument(new PdfReader(new File(&quot;D:\\\\Workspace\\\\Itext\\\\xsl_employee_another.pdf&quot;)));\n           merger.merge(secondSourcePdf, 1, secondSourcePdf.getNumberOfPages());\n\n           firstSourcePdf.close();\n           secondSourcePdf.close();\n           pdf.close();\n       } catch (FileNotFoundException e) {\n        e.printStackTrace();\n       } catch (IOException e) {\n        e.printStackTrace();\n       }\n   }\n}\n</code></pre>\n<p><br>\nI want to merge or copy multiple multiple statements as a single PDF but with the properties intact. How can I achieve it? To merge, is there any alternative way that I can follow to achieve this?<br></p>\n<p><strong>Note:</strong> I can't use Itext5 classes to do this.</p>\n<p>Thank You</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0","scopes"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1674906420,"post_id":75260449,"comment_id":132816381,"body_markdown":"Scopes are for clients not for users, but the user can choose which scopes are granted for a client. The only way I see is to configure two clients for each authorization sever, one client for each type of user.","body":"Scopes are for clients not for users, but the user can choose which scopes are granted for a client. The only way I see is to configure two clients for each authorization sever, one client for each type of user."},{"owner":{"account_id":2634995,"reputation":123,"user_id":2279957,"display_name":"cowley05"},"score":1,"creation_date":1675040433,"post_id":75260449,"comment_id":132836731,"body_markdown":"Ahh I think that makes sense. So what you&#39;re saying is I could configure another client let call it user2-google and have different scopes defined but point to the same endpoints, then use that when accessing as user1?","body":"Ahh I think that makes sense. So what you&#39;re saying is I could configure another client let call it user2-google and have different scopes defined but point to the same endpoints, then use that when accessing as user1?"}],"owner":{"account_id":2634995,"reputation":123,"user_id":2279957,"display_name":"cowley05"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674999398,"creation_date":1674834933,"question_id":75260449,"body_markdown":"I have a React application and I have a Spring Boot backend currently using Spring Security to authenticate the users using OAuth2 code grant flow, with both Google and Azure. \r\n\r\nThis was all working fine when I had just one type of user that required me to ask for a specific set of scopes (email access and calendar access). I was able to login as a Google/Azure user, request permissions for the scopes I needed, get access tokens and access the email and calendars of the users. Lets call this type of user &quot;USER1&quot;.\r\n\r\nNow I have the requirement for another type of user. For this user I only need access to their profile information and no integration with calendars etc. They still need to be able to login with Google/Azure via the React app (using a different page/button from USER1 of course). Lets call this type of user &quot;USER2&quot;.\r\n\r\nI cant seem to work out in Spring Security how to configure USER1 to trigger the login process and have Spring ask Google/Azure for one set of scopes and for USER2 to trigger the login process and ask Google/Azure for a different set of scopes.\r\n\r\nMy current **security config** looks something like this: \r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class OAuth2LoginSecurityConfig {\r\n\r\n    private final long MAX_AGE = 3600;\r\n    private final CustomOAuth2UserService customOAuth2UserService; //for google\r\n    private final CustomOidcUserService customOidcUserService; //for azure\r\n    \r\n    private final MyUserRepository myUserRepository;\r\n    private final OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\r\n    private final OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\r\n    private final AppConfig appConfig;\r\n\r\n    public OAuth2LoginSecurityConfig(CustomOAuth2UserService customOAuth2UserService, CustomOidcUserService customOidcUserService, MyUserRepository myUserRepository, OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler, OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler, AppConfig appConfig) {\r\n        this.customOAuth2UserService = customOAuth2UserService;\r\n        this.customOidcUserService = customOidcUserService;\r\n        this.myUserRepository = myUserRepository;\r\n        this.oAuth2AuthenticationSuccessHandler = oAuth2AuthenticationSuccessHandler;\r\n        this.oAuth2AuthenticationFailureHandler = oAuth2AuthenticationFailureHandler;\r\n        this.appConfig = appConfig;\r\n    }\r\n\r\n    @Bean\r\n    public HttpCookieOAuth2AuthorizationRequestRepository cookieAuthorizationRequestRepository() {\r\n        return new HttpCookieOAuth2AuthorizationRequestRepository();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticateRequestsFilter tokenAuthenticationFilter() {\r\n        return new AuthenticateRequestsFilter(myUserRepository);\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2AccessTokenResponseClient&lt;OAuth2AuthorizationCodeGrantRequest&gt; accessTokenResponseClient() {\r\n        DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient =\r\n                new DefaultAuthorizationCodeTokenResponseClient();\r\n\r\n        OAuth2AccessTokenResponseHttpMessageConverter tokenResponseHttpMessageConverter =\r\n                new OAuth2AccessTokenResponseHttpMessageConverter();\r\n        tokenResponseHttpMessageConverter.setTokenResponseConverter(new CustomTokenResponseConverter());\r\n        RestTemplate restTemplate = new RestTemplate(Arrays.asList(\r\n                new FormHttpMessageConverter(), tokenResponseHttpMessageConverter));\r\n        restTemplate.setErrorHandler(new OAuth2ErrorResponseErrorHandler());\r\n\r\n        accessTokenResponseClient.setRestOperations(restTemplate);\r\n        return accessTokenResponseClient;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .cors()\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .csrf().disable()\r\n            .formLogin().disable()\r\n            .httpBasic().disable()\r\n            .exceptionHandling()\r\n                .authenticationEntryPoint(new RestAuthenticationEntryPoint())\r\n                .and()\r\n            .authorizeHttpRequests()\r\n                .antMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/data&quot;, &quot;/data/*&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET, &quot;/someurl/*/thingx&quot;, &quot;/someurl/*/thingy&quot;).permitAll()\r\n                .antMatchers(&quot;/auth/**&quot;, &quot;/oauth2/**&quot;, &quot;/user-logout&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .oauth2Login()\r\n                .authorizationEndpoint()\r\n                .baseUri(&quot;/oauth2/authorize&quot;)\r\n                .authorizationRequestRepository(cookieAuthorizationRequestRepository())\r\n                .and()\r\n                .redirectionEndpoint()\r\n                .baseUri(&quot;/oauth2/callback/*&quot;)\r\n                .and()\r\n                .tokenEndpoint()\r\n                .accessTokenResponseClient(accessTokenResponseClient())\r\n                .and()\r\n                .userInfoEndpoint()\r\n                .userService(customOAuth2UserService)\r\n                .oidcUserService(customOidcUserService)\r\n                .and()\r\n                .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                .failureHandler(oAuth2AuthenticationFailureHandler)\r\n                .and()\r\n            .addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedOrigin(appConfig.getClientBaseUrl().toString());\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;GET&quot;);\r\n        config.addAllowedMethod(&quot;POST&quot;);\r\n        config.addAllowedMethod(&quot;PUT&quot;);\r\n        config.addAllowedMethod(&quot;PATCH&quot;);\r\n        config.addAllowedMethod(&quot;DELETE&quot;);\r\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\r\n        config.setMaxAge(MAX_AGE);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        return new CorsFilter(source);\r\n    }\r\n}\r\n```\r\n\r\nMy **`application.yml`** looks like this (some things deleted as not relevant):\r\n\r\n```yaml\r\nspring:\r\n  mvc:\r\n    format:\r\n      date: yyyy-MM-dd\r\n      time: HH:mm:ss\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          azure:\r\n            token-uri: https://login.microsoftonline.com/common/oauth2/v2.0/token\r\n            authorization-uri: https://login.microsoftonline.com/common/oauth2/v2.0/authorize\r\n            user-info-uri: https://graph.microsoft.com/oidc/userinfo\r\n            jwk-set-uri: https://login.microsoftonline.com/common/discovery/v2.0/keys\r\n            user-name-attribute: name\r\n            user-info-authentication-method: header\r\n          google:\r\n            authorization-uri: https://accounts.google.com/o/oauth2/v2/auth?prompt=consent&amp;access_type=offline\r\n        registration:\r\n          azure:\r\n            client-id: FROM_ENV\r\n            client-secret: FROM_ENV\r\n            redirect-uri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\r\n            authorization-grant-type: authorization_code\r\n            scope:\r\n              - openid\r\n              - email\r\n              - profile\r\n              - offline_access\r\n              - https://graph.microsoft.com/Calendars.ReadWrite\r\n              - https://graph.microsoft.com/User.Read\r\n          google:\r\n            client-id: FROM_ENV\r\n            client-secret: FROM_ENV\r\n            redirect-uri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\r\n            scope:\r\n              - email\r\n              - profile\r\n              - https://www.googleapis.com/auth/gmail.send\r\n              - https://www.googleapis.com/auth/calendar\r\n\r\napp:\r\n  client-base-url: SOME_URL\r\n  server-base-url: SOME_URL\r\n\r\n```\r\n\r\nAny help or resources are much appreciated!\r\n\r\n\r\n","title":"How to request different sets of scopes for different types of users?","body":"<p>I have a React application and I have a Spring Boot backend currently using Spring Security to authenticate the users using OAuth2 code grant flow, with both Google and Azure.</p>\n<p>This was all working fine when I had just one type of user that required me to ask for a specific set of scopes (email access and calendar access). I was able to login as a Google/Azure user, request permissions for the scopes I needed, get access tokens and access the email and calendars of the users. Lets call this type of user &quot;USER1&quot;.</p>\n<p>Now I have the requirement for another type of user. For this user I only need access to their profile information and no integration with calendars etc. They still need to be able to login with Google/Azure via the React app (using a different page/button from USER1 of course). Lets call this type of user &quot;USER2&quot;.</p>\n<p>I cant seem to work out in Spring Security how to configure USER1 to trigger the login process and have Spring ask Google/Azure for one set of scopes and for USER2 to trigger the login process and ask Google/Azure for a different set of scopes.</p>\n<p>My current <strong>security config</strong> looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class OAuth2LoginSecurityConfig {\n\n    private final long MAX_AGE = 3600;\n    private final CustomOAuth2UserService customOAuth2UserService; //for google\n    private final CustomOidcUserService customOidcUserService; //for azure\n    \n    private final MyUserRepository myUserRepository;\n    private final OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\n    private final OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\n    private final AppConfig appConfig;\n\n    public OAuth2LoginSecurityConfig(CustomOAuth2UserService customOAuth2UserService, CustomOidcUserService customOidcUserService, MyUserRepository myUserRepository, OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler, OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler, AppConfig appConfig) {\n        this.customOAuth2UserService = customOAuth2UserService;\n        this.customOidcUserService = customOidcUserService;\n        this.myUserRepository = myUserRepository;\n        this.oAuth2AuthenticationSuccessHandler = oAuth2AuthenticationSuccessHandler;\n        this.oAuth2AuthenticationFailureHandler = oAuth2AuthenticationFailureHandler;\n        this.appConfig = appConfig;\n    }\n\n    @Bean\n    public HttpCookieOAuth2AuthorizationRequestRepository cookieAuthorizationRequestRepository() {\n        return new HttpCookieOAuth2AuthorizationRequestRepository();\n    }\n\n    @Bean\n    public AuthenticateRequestsFilter tokenAuthenticationFilter() {\n        return new AuthenticateRequestsFilter(myUserRepository);\n    }\n\n    @Bean\n    public OAuth2AccessTokenResponseClient&lt;OAuth2AuthorizationCodeGrantRequest&gt; accessTokenResponseClient() {\n        DefaultAuthorizationCodeTokenResponseClient accessTokenResponseClient =\n                new DefaultAuthorizationCodeTokenResponseClient();\n\n        OAuth2AccessTokenResponseHttpMessageConverter tokenResponseHttpMessageConverter =\n                new OAuth2AccessTokenResponseHttpMessageConverter();\n        tokenResponseHttpMessageConverter.setTokenResponseConverter(new CustomTokenResponseConverter());\n        RestTemplate restTemplate = new RestTemplate(Arrays.asList(\n                new FormHttpMessageConverter(), tokenResponseHttpMessageConverter));\n        restTemplate.setErrorHandler(new OAuth2ErrorResponseErrorHandler());\n\n        accessTokenResponseClient.setRestOperations(restTemplate);\n        return accessTokenResponseClient;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .cors()\n                .and()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n            .csrf().disable()\n            .formLogin().disable()\n            .httpBasic().disable()\n            .exceptionHandling()\n                .authenticationEntryPoint(new RestAuthenticationEntryPoint())\n                .and()\n            .authorizeHttpRequests()\n                .antMatchers(&quot;/&quot;, &quot;/error&quot;, &quot;/data&quot;, &quot;/data/*&quot;).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/someurl/*/thingx&quot;, &quot;/someurl/*/thingy&quot;).permitAll()\n                .antMatchers(&quot;/auth/**&quot;, &quot;/oauth2/**&quot;, &quot;/user-logout&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .oauth2Login()\n                .authorizationEndpoint()\n                .baseUri(&quot;/oauth2/authorize&quot;)\n                .authorizationRequestRepository(cookieAuthorizationRequestRepository())\n                .and()\n                .redirectionEndpoint()\n                .baseUri(&quot;/oauth2/callback/*&quot;)\n                .and()\n                .tokenEndpoint()\n                .accessTokenResponseClient(accessTokenResponseClient())\n                .and()\n                .userInfoEndpoint()\n                .userService(customOAuth2UserService)\n                .oidcUserService(customOidcUserService)\n                .and()\n                .successHandler(oAuth2AuthenticationSuccessHandler)\n                .failureHandler(oAuth2AuthenticationFailureHandler)\n                .and()\n            .addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public CorsFilter corsFilter() {\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(appConfig.getClientBaseUrl().toString());\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;GET&quot;);\n        config.addAllowedMethod(&quot;POST&quot;);\n        config.addAllowedMethod(&quot;PUT&quot;);\n        config.addAllowedMethod(&quot;PATCH&quot;);\n        config.addAllowedMethod(&quot;DELETE&quot;);\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\n        config.setMaxAge(MAX_AGE);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsFilter(source);\n    }\n}\n</code></pre>\n<p>My <strong><code>application.yml</code></strong> looks like this (some things deleted as not relevant):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  mvc:\n    format:\n      date: yyyy-MM-dd\n      time: HH:mm:ss\n  security:\n    oauth2:\n      client:\n        provider:\n          azure:\n            token-uri: https://login.microsoftonline.com/common/oauth2/v2.0/token\n            authorization-uri: https://login.microsoftonline.com/common/oauth2/v2.0/authorize\n            user-info-uri: https://graph.microsoft.com/oidc/userinfo\n            jwk-set-uri: https://login.microsoftonline.com/common/discovery/v2.0/keys\n            user-name-attribute: name\n            user-info-authentication-method: header\n          google:\n            authorization-uri: https://accounts.google.com/o/oauth2/v2/auth?prompt=consent&amp;access_type=offline\n        registration:\n          azure:\n            client-id: FROM_ENV\n            client-secret: FROM_ENV\n            redirect-uri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\n            authorization-grant-type: authorization_code\n            scope:\n              - openid\n              - email\n              - profile\n              - offline_access\n              - https://graph.microsoft.com/Calendars.ReadWrite\n              - https://graph.microsoft.com/User.Read\n          google:\n            client-id: FROM_ENV\n            client-secret: FROM_ENV\n            redirect-uri: &quot;{baseUrl}/oauth2/callback/{registrationId}&quot;\n            scope:\n              - email\n              - profile\n              - https://www.googleapis.com/auth/gmail.send\n              - https://www.googleapis.com/auth/calendar\n\napp:\n  client-base-url: SOME_URL\n  server-base-url: SOME_URL\n\n</code></pre>\n<p>Any help or resources are much appreciated!</p>\n"},{"tags":["java","oracle","spring-boot","hibernate","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674997975,"creation_date":1674997975,"answer_id":75275166,"question_id":75275140,"body_markdown":"Suppose your field has the name foo you can use the `@Column` annotation to declare a db column with a different name so\r\n\r\n```java\r\nclass Model {\r\n    // other fields\r\n    @Column(name = &quot;bar&quot;)\r\n    private int foo;\r\n}","title":"Need to Map incoming column to different field in model class","body":"<p>Suppose your field has the name foo you can use the <code>@Column</code> annotation to declare a db column with a different name so</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Model {\n    // other fields\n    @Column(name = &quot;bar&quot;)\n    private int foo;\n}\n</code></pre>\n"}],"owner":{"account_id":27649242,"reputation":1,"user_id":21104496,"display_name":"Sunil Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676233444,"answer_count":1,"score":-1,"last_activity_date":1674997975,"creation_date":1674997684,"question_id":75275140,"body_markdown":"I am receiving jpa object from db using springboot and mapping it to model but the column name in model is different than the  one coming from database. \r\n\r\nI tried to setter to set the value of model field from the incoming database attribute but the attribute is in parent class \r\nand hence it is always set as null. ","title":"Need to Map incoming column to different field in model class","body":"<p>I am receiving jpa object from db using springboot and mapping it to model but the column name in model is different than the  one coming from database.</p>\n<p>I tried to setter to set the value of model field from the incoming database attribute but the attribute is in parent class\nand hence it is always set as null.</p>\n"},{"tags":["java","jakarta-ee"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1675100647,"post_id":75274795,"comment_id":132851615,"body_markdown":"https://microprofile.io","body":"<a href=\"https://microprofile.io\" rel=\"nofollow noreferrer\">microprofile.io</a>"},{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1675109685,"post_id":75274795,"comment_id":132854251,"body_markdown":"@BalusC microprofile looks promising, but i am missing some specs like jpa on it. Am i missing something? thanks a lot for this first hint","body":"@BalusC microprofile looks promising, but i am missing some specs like jpa on it. Am i missing something? thanks a lot for this first hint"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1675181488,"post_id":75274795,"comment_id":132871301,"body_markdown":"JPA is optional (like as it is in Spring world). https://hibernate.org/reactive is another option.","body":"JPA is optional (like as it is in Spring world). <a href=\"https://hibernate.org/reactive\" rel=\"nofollow noreferrer\">hibernate.org/reactive</a> is another option."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1675267820,"post_id":75274795,"comment_id":132892885,"body_markdown":"For a spring-boot-like approach with JEE APIs and Microprofile, you can try Quarkus, Helidon (maybe others I am not aware of). Maybe WildFly Galleon would be interesting (but I have never used it) if you want to go for a more traditional appserver setup.","body":"For a spring-boot-like approach with JEE APIs and Microprofile, you can try Quarkus, Helidon (maybe others I am not aware of). Maybe WildFly Galleon would be interesting (but I have never used it) if you want to go for a more traditional appserver setup."},{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1675271762,"post_id":75274795,"comment_id":132894276,"body_markdown":"@NikosParaskevopoulos thanks for the links, they will help me a lot on clarifying these thoughts.","body":"@NikosParaskevopoulos thanks for the links, they will help me a lot on clarifying these thoughts."}],"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674997784,"creation_date":1674994567,"question_id":75274795,"body_markdown":"Unlike [spring-boot](https://spring.io/projects/spring-boot),\r\n[JakartaEE](https://jakarta.ee/) applications usually organizes application code\r\napart from server code.\r\n\r\nJava web projects used to be packaged into [war](https://en.wikipedia.org/wiki/WAR_(file_format))\r\nor [ear](https://www.ibm.com/docs/en/baw/19.x?topic=modules-ear-file-overview)\r\nfiles and the server was managed separately.\r\n\r\n**I am trying to find a project layout for JakartaEE projects that comply with separation but behaves more like a\r\nspringboot app** and, in order to get it, i am exploring the embedded app servers approach.\r\n\r\nSo far, i am thinking on a multiproject layout, one with regular JEE style structure and another with an embedded app\r\nserver consuming the first one. Gradle and maven both supports it:\r\n\r\n- https://docs.gradle.org/current/userguide/multi_project_builds.html\r\n- https://books.sonatype.com/mvnex-book/reference/multimodule-sect-simple-parent.html\r\n\r\nFor the embedded app server i found these samples so far:\r\n\r\n- https://blog.payara.fish/what-is-payara-embedded?\r\n- https://www.ibm.com/docs/en/was-liberty/zos?topic=liberty-embedding-server-in-your-applications\r\n- https://stackoverflow.com/questions/71383171/simple-embedded-tomcat-10-example\r\n- https://github.com/wildfly/wildfly-core/blob/main/embedded/src/test/java/org/wildfly/core/embedded/EmbeddedServerFactorySetupUnitTestCase.java\r\n- https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#creating-helloworld-class\r\n\r\nA good article on this topic follows:\r\n\r\n- https://www.baeldung.com/executable-jar-with-maven\r\n\r\nFor the project layout i don&#39;t have much ideas yet, i am only sure about the\r\nseparation of the two modules. A few questions so far:\r\n\r\n- should the embedded final jar file be an [uber jar](https://imagej.net/develop/uber-jars)?\r\n- should the war/ear artifact be repackaged?\r\n- why this approach isn&#39;t more popular, given the clear success of sprin boot?\r\n","title":"Embedded portable JakartaEE application design approach","body":"<p>Unlike <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">spring-boot</a>,\n<a href=\"https://jakarta.ee/\" rel=\"nofollow noreferrer\">JakartaEE</a> applications usually organizes application code\napart from server code.</p>\n<p>Java web projects used to be packaged into <a href=\"https://en.wikipedia.org/wiki/WAR_(file_format)\" rel=\"nofollow noreferrer\">war</a>\nor <a href=\"https://www.ibm.com/docs/en/baw/19.x?topic=modules-ear-file-overview\" rel=\"nofollow noreferrer\">ear</a>\nfiles and the server was managed separately.</p>\n<p><strong>I am trying to find a project layout for JakartaEE projects that comply with separation but behaves more like a\nspringboot app</strong> and, in order to get it, i am exploring the embedded app servers approach.</p>\n<p>So far, i am thinking on a multiproject layout, one with regular JEE style structure and another with an embedded app\nserver consuming the first one. Gradle and maven both supports it:</p>\n<ul>\n<li><a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/multi_project_builds.html</a></li>\n<li><a href=\"https://books.sonatype.com/mvnex-book/reference/multimodule-sect-simple-parent.html\" rel=\"nofollow noreferrer\">https://books.sonatype.com/mvnex-book/reference/multimodule-sect-simple-parent.html</a></li>\n</ul>\n<p>For the embedded app server i found these samples so far:</p>\n<ul>\n<li><a href=\"https://blog.payara.fish/what-is-payara-embedded\" rel=\"nofollow noreferrer\">https://blog.payara.fish/what-is-payara-embedded</a>?</li>\n<li><a href=\"https://www.ibm.com/docs/en/was-liberty/zos?topic=liberty-embedding-server-in-your-applications\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-liberty/zos?topic=liberty-embedding-server-in-your-applications</a></li>\n<li><a href=\"https://stackoverflow.com/questions/71383171/simple-embedded-tomcat-10-example\">Simple Embedded Tomcat 10 Example</a></li>\n<li><a href=\"https://github.com/wildfly/wildfly-core/blob/main/embedded/src/test/java/org/wildfly/core/embedded/EmbeddedServerFactorySetupUnitTestCase.java\" rel=\"nofollow noreferrer\">https://github.com/wildfly/wildfly-core/blob/main/embedded/src/test/java/org/wildfly/core/embedded/EmbeddedServerFactorySetupUnitTestCase.java</a></li>\n<li><a href=\"https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#creating-helloworld-class\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html#creating-helloworld-class</a></li>\n</ul>\n<p>A good article on this topic follows:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/executable-jar-with-maven\" rel=\"nofollow noreferrer\">https://www.baeldung.com/executable-jar-with-maven</a></li>\n</ul>\n<p>For the project layout i don't have much ideas yet, i am only sure about the\nseparation of the two modules. A few questions so far:</p>\n<ul>\n<li>should the embedded final jar file be an <a href=\"https://imagej.net/develop/uber-jars\" rel=\"nofollow noreferrer\">uber jar</a>?</li>\n<li>should the war/ear artifact be repackaged?</li>\n<li>why this approach isn't more popular, given the clear success of sprin boot?</li>\n</ul>\n"},{"tags":["java","android","datetime","parsing","timezone"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1674931742,"post_id":75270043,"comment_id":132820943,"body_markdown":"*I need to be compatible with Java 7, which rules out a bunch of nifty features introduces with Java 8.* Not really true. Use [ThreeTen Backport](https://www.threeten.org/threetenbp/) and java.time, the modern Java date and time API. *Preferably without having to resort to external libraries* Technically the backport is an external library, but its the code that is working in Java 8, so not really that external. It’s rock solid, and it will prepare you well for the day when you can let go of Java 7 and upgrade to a more modern Java version.","body":"<i>I need to be compatible with Java 7, which rules out a bunch of nifty features introduces with Java 8.</i> Not really true. Use <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport</a> and java.time, the modern Java date and time API. <i>Preferably without having to resort to external libraries</i> Technically the backport is an external library, but its the code that is working in Java 8, so not really that external. It’s rock solid, and it will prepare you well for the day when you can let go of Java 7 and upgrade to a more modern Java version."},{"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":0,"creation_date":1674932382,"post_id":75270043,"comment_id":132821067,"body_markdown":"@OleV.V. I am aware of that, but IIRC this is a particular pain when Android is involved. This is why I want to steer clear of external dependencies, and in particular of ThreeTen Backport.","body":"@OleV.V. I am aware of that, but IIRC this is a particular pain when Android is involved. This is why I want to steer clear of external dependencies, and in particular of ThreeTen Backport."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1674932603,"post_id":75270043,"comment_id":132821098,"body_markdown":"Is Android your only pain? If so, use [desugaring](https://developer.android.com/studio/write/java8-support-table). If desktop Java 7 is also in scope, I understand that using the backport gets more complicated since there is a separate Android adaptation, but shouldn’t you be able to manage? I’d personally go to great lengths for that.","body":"Is Android your only pain? If so, use <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a>. If desktop Java 7 is also in scope, I understand that using the backport gets more complicated since there is a separate Android adaptation, but shouldn’t you be able to manage? I’d personally go to great lengths for that."},{"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":0,"creation_date":1674938769,"post_id":75270043,"comment_id":132822173,"body_markdown":"Still a lot of overhead for that particular use case when there is a much simpler solution, see my answer.","body":"Still a lot of overhead for that particular use case when there is a much simpler solution, see my answer."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1674940372,"post_id":75270043,"comment_id":132822437,"body_markdown":"Your answer is a step forward in relation to the code in the question. But its still a solution pointing backward in time. If your code is to be maintained beyond February this year, you should prefer a solution that points forward. Meaning forgetting about the notorious troublesome date-time classes from the mid-1990s. Just my 0.02$.","body":"Your answer is a step forward in relation to the code in the question. But its still a solution pointing backward in time. If your code is to be maintained beyond February this year, you should prefer a solution that points forward. Meaning forgetting about the notorious troublesome date-time classes from the mid-1990s. Just my 0.02$."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1674952607,"post_id":75270043,"comment_id":132824192,"body_markdown":"The legacy date-time classes are terribly flawed, designed by people who did not understand date-time handling. You *really* should reconsider your objection to using the modern classes. The little bit of effort to either add the back-port library, or to learn API desugaring in Android, is well worth it to avoid the old classes. The old classes really are that bad.","body":"The legacy date-time classes are terribly flawed, designed by people who did not understand date-time handling. You <i>really</i> should reconsider your objection to using the modern classes. The little bit of effort to either add the back-port library, or to learn API desugaring in Android, is well worth it to avoid the old classes. The old classes really are that bad."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674990872,"post_id":75270043,"comment_id":132828197,"body_markdown":"`LocalDateTime.parse(&quot;2022-07-07 13:37&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)).atZone(ZoneId.of(&quot;Europe/Brussels&quot;)).format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm zzzz&quot;, Locale.FRENCH))`. Yields `2022-07-07 13:37 heure d’&#233;t&#233; d’Europe centrale`. Split up into more statements and substitute your desired locale.","body":"<code>LocalDateTime.parse(&quot;2022-07-07 13:37&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)).atZone(ZoneId.of(&quot;Europe&#47;Brussels&quot;)).format(DateTim&zwnj;&#8203;eFormatter.ofPattern&zwnj;&#8203;(&quot;yyyy-MM-dd HH:mm zzzz&quot;, Locale.FRENCH))</code>. Yields <code>2022-07-07 13:37 heure d’&#233;t&#233; d’Europe centrale</code>. Split up into more statements and substitute your desired locale."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1674991153,"post_id":75270043,"comment_id":132828250,"body_markdown":"Also the code is exactly the same when you use ThreeTen Backport for JRE 7 and ThreeTenABP for Android. The only difference will be the need to initialize the library once on Android. The imported packages and classes are the same and are named the same. While I do myself hesitate to commit to external dependencies, I really can’t see the big deal in this particular case.","body":"Also the code is exactly the same when you use ThreeTen Backport for JRE 7 and ThreeTenABP for Android. The only difference will be the need to initialize the library once on Android. The imported packages and classes are the same and are named the same. While I do myself hesitate to commit to external dependencies, I really can’t see the big deal in this particular case."},{"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"score":2,"creation_date":1674998040,"post_id":75270043,"comment_id":132829421,"body_markdown":"All right, you guys convinced me :-) desktop Java is not the issue, it’s only Android that needs the workaround (as, sadly, it takes Google three years to adopt a new Java API). Took me a while to set it up, but it’s an investment with future benefits. I’ve updated the answer to include both options, with their pros and cons. Just out of interest, anyone have a pointer to a description of the bugs in the Java 7-style classes?","body":"All right, you guys convinced me :-) desktop Java is not the issue, it’s only Android that needs the workaround (as, sadly, it takes Google three years to adopt a new Java API). Took me a while to set it up, but it’s an investment with future benefits. I’ve updated the answer to include both options, with their pros and cons. Just out of interest, anyone have a pointer to a description of the bugs in the Java 7-style classes?"}],"answers":[{"tags":[],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674997509,"creation_date":1674932393,"answer_id":75270136,"question_id":75270043,"body_markdown":"Two general options:\r\n\r\n### Option 1: Use Java 8+ classes, with API desugaring on Android\r\n\r\n**Pros:** Future proof; does not suffer from the bugs in Java’s `Date` and related classes; gives you [a number of Java 8 APIs][1]\r\n\r\n**Cons:** Will work on Android prior to API 26 (Android 8) but not on JRE7; may require toolchain upgrades (which you will eventually need to do anyway)\r\n\r\nThis is the preferred way at least if you don’t have to support old desktop Java versions. Java 8 support on Android (at least in part) is done through a process called [desugaring][2].\r\n\r\nFirst, make sure you are at least on Gradle 6.1.1 and version 4.0.0 of the Android Gradle plugin.\r\n\r\nYour `build.gradle` should not specify a `buildToolsVersion` unless you need a specific one (which then needs to be 29.0.2 or higher).\r\n\r\nThen add the following to your `build.gradle`:\r\n\r\n    android {\r\n        defaultConfig {\r\n            multiDexEnabled true\r\n        }\r\n    \r\n        compileOptions {\r\n            coreLibraryDesugaringEnabled true\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.8&#39;\r\n    }\r\n\r\nVersion 1.1.8 [is equivalent to 1.2.2][3] (which is the version Google recommends as of January 2023) but works on older versions of the R8/D8 compiler (I got an error with 1.2.2 but 1.1.8 worked).\r\n\r\nAll the changes so far only apply to the Android build. For other platforms you may be running the code on, nothing changes.\r\n\r\nThis allows you to then run the following Java code:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)\r\n        .withZone(ZoneId.of(&quot;Europe/Brussels&quot;));\r\n    try {\r\n        ZonedDateTime zonedDate = ZonedDateTime.parse(rawDate, formatter);\r\n        System.out.println(&quot;Timestamp: &quot; + zonedDate.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm zzzz&quot;)))\r\n    } catch (DateTimeParseException e) {\r\n        // do whatever is necessary here\r\n    }\r\n\r\nIf you need to pass this to something that expects a `Date`, you can convert that using `Date.from(zonedDate.toInstant())`.\r\n\r\n### Option 2: Use Java 7-compatible classes\r\n\r\n**Pros:** Works on any Java 7 API, whether desktop or Android\r\n\r\n**Cons:** Not future proof (as you are using deprecated classes); still suffers from all the bugs in Java’s `Date` and related classes; will solve this particular API incompatibility but not others\r\n\r\n`DateFormat` has a `setTimeZone()` method, which accepts a `TimeZone` argument (which, in turn, can be generated from a string such as `Europe/Brussels`). Setting it will cause date/time strings to be parsed as local time in that time zone, with automatic adjustment for DST. No need to append anything to the string being parsed.\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\n    dateFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Brussels&quot;));\r\n    Date date = dateFormat.parse(timestampString);\r\n    /*\r\n     * dateFormat no longer contains a time zone, so use a separate format\r\n     * for output (with the time zone)\r\n     */\r\n    SimpleDateFormat dateFormatOut = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm zzzz&quot;);\r\n    dateFormatOut.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Brussels&quot;));\r\n    System.out.println(&quot;Timestamp: &quot; + dateFormatOut.format(date));\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support-table\r\n  [2]: https://developer.android.com/studio/write/java8-support#library-desugaring\r\n  [3]: https://github.com/google/desugar_jdk_libs/blob/master/CHANGELOG.md","title":"Portable way to parse local date/time (with implicit time zone)","body":"<p>Two general options:</p>\n<h3>Option 1: Use Java 8+ classes, with API desugaring on Android</h3>\n<p><strong>Pros:</strong> Future proof; does not suffer from the bugs in Java’s <code>Date</code> and related classes; gives you <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">a number of Java 8 APIs</a></p>\n<p><strong>Cons:</strong> Will work on Android prior to API 26 (Android 8) but not on JRE7; may require toolchain upgrades (which you will eventually need to do anyway)</p>\n<p>This is the preferred way at least if you don’t have to support old desktop Java versions. Java 8 support on Android (at least in part) is done through a process called <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\">desugaring</a>.</p>\n<p>First, make sure you are at least on Gradle 6.1.1 and version 4.0.0 of the Android Gradle plugin.</p>\n<p>Your <code>build.gradle</code> should not specify a <code>buildToolsVersion</code> unless you need a specific one (which then needs to be 29.0.2 or higher).</p>\n<p>Then add the following to your <code>build.gradle</code>:</p>\n<pre><code>android {\n    defaultConfig {\n        multiDexEnabled true\n    }\n\n    compileOptions {\n        coreLibraryDesugaringEnabled true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.8'\n}\n</code></pre>\n<p>Version 1.1.8 <a href=\"https://github.com/google/desugar_jdk_libs/blob/master/CHANGELOG.md\" rel=\"nofollow noreferrer\">is equivalent to 1.2.2</a> (which is the version Google recommends as of January 2023) but works on older versions of the R8/D8 compiler (I got an error with 1.2.2 but 1.1.8 worked).</p>\n<p>All the changes so far only apply to the Android build. For other platforms you may be running the code on, nothing changes.</p>\n<p>This allows you to then run the following Java code:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;)\n    .withZone(ZoneId.of(&quot;Europe/Brussels&quot;));\ntry {\n    ZonedDateTime zonedDate = ZonedDateTime.parse(rawDate, formatter);\n    System.out.println(&quot;Timestamp: &quot; + zonedDate.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm zzzz&quot;)))\n} catch (DateTimeParseException e) {\n    // do whatever is necessary here\n}\n</code></pre>\n<p>If you need to pass this to something that expects a <code>Date</code>, you can convert that using <code>Date.from(zonedDate.toInstant())</code>.</p>\n<h3>Option 2: Use Java 7-compatible classes</h3>\n<p><strong>Pros:</strong> Works on any Java 7 API, whether desktop or Android</p>\n<p><strong>Cons:</strong> Not future proof (as you are using deprecated classes); still suffers from all the bugs in Java’s <code>Date</code> and related classes; will solve this particular API incompatibility but not others</p>\n<p><code>DateFormat</code> has a <code>setTimeZone()</code> method, which accepts a <code>TimeZone</code> argument (which, in turn, can be generated from a string such as <code>Europe/Brussels</code>). Setting it will cause date/time strings to be parsed as local time in that time zone, with automatic adjustment for DST. No need to append anything to the string being parsed.</p>\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\ndateFormat.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Brussels&quot;));\nDate date = dateFormat.parse(timestampString);\n/*\n * dateFormat no longer contains a time zone, so use a separate format\n * for output (with the time zone)\n */\nSimpleDateFormat dateFormatOut = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm zzzz&quot;);\ndateFormatOut.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Brussels&quot;));\nSystem.out.println(&quot;Timestamp: &quot; + dateFormatOut.format(date));\n</code></pre>\n"}],"owner":{"account_id":2636263,"reputation":5463,"user_id":2703209,"accept_rate":89,"display_name":"user149408"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75270136,"answer_count":1,"score":1,"last_activity_date":1674997509,"creation_date":1674931537,"question_id":75270043,"body_markdown":"I need to parse strings containing local date and time. The time zone is not explicitly specified, but the timestamps are in local time for a particular place.\r\n\r\nChallenges are:\r\n* I need to be compatible with Java 7, which rules out a bunch of nifty features introduces with Java 8.\r\n* Java 7 compatibility is mostly needed for older Android versions, but the code will run on both JRE and Android.\r\n* Times are either in standard time or DST, depending on the time of the year. Hence a simple UTC offset will not work, as it jumps back and forward by an hour per year.\r\n\r\n(This also means that timestamps during the DST to standard time switchover are ambiguous, but I can live with an hour of inaccuracy for that particular corner case.)\r\n\r\nHere’s how far I got:\r\n\r\n    /*\r\n     * Let timestampString be the date/time string, examples:\r\n     * &quot;2023-01-28 20:36&quot;\r\n     * &quot;2022-07-07 13:37&quot;\r\n     */\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm zzzz&quot;);\r\n    Date date = dateFormat.parse(timestampString + &quot; CET&quot;);\r\n    System.out.println(&quot;Timestamp: &quot; + dateFormat.format(date));\r\n\r\nProblem: this interprets everything as Central European Standard time, all year round – during the summer season, times are off by one hour.\r\n\r\nUsing a time zone name such as `Europe/Brussels` instead of `CET` (which works with `DateTimeFormatter` and `ZonedDateTime` on Java 8) does not work, as the string is not recognized.\r\n\r\nDoes Java 7 offer anything comparable? (Preferably without having to resort to external libraries.)","title":"Portable way to parse local date/time (with implicit time zone)","body":"<p>I need to parse strings containing local date and time. The time zone is not explicitly specified, but the timestamps are in local time for a particular place.</p>\n<p>Challenges are:</p>\n<ul>\n<li>I need to be compatible with Java 7, which rules out a bunch of nifty features introduces with Java 8.</li>\n<li>Java 7 compatibility is mostly needed for older Android versions, but the code will run on both JRE and Android.</li>\n<li>Times are either in standard time or DST, depending on the time of the year. Hence a simple UTC offset will not work, as it jumps back and forward by an hour per year.</li>\n</ul>\n<p>(This also means that timestamps during the DST to standard time switchover are ambiguous, but I can live with an hour of inaccuracy for that particular corner case.)</p>\n<p>Here’s how far I got:</p>\n<pre><code>/*\n * Let timestampString be the date/time string, examples:\n * &quot;2023-01-28 20:36&quot;\n * &quot;2022-07-07 13:37&quot;\n */\nSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm zzzz&quot;);\nDate date = dateFormat.parse(timestampString + &quot; CET&quot;);\nSystem.out.println(&quot;Timestamp: &quot; + dateFormat.format(date));\n</code></pre>\n<p>Problem: this interprets everything as Central European Standard time, all year round – during the summer season, times are off by one hour.</p>\n<p>Using a time zone name such as <code>Europe/Brussels</code> instead of <code>CET</code> (which works with <code>DateTimeFormatter</code> and <code>ZonedDateTime</code> on Java 8) does not work, as the string is not recognized.</p>\n<p>Does Java 7 offer anything comparable? (Preferably without having to resort to external libraries.)</p>\n"},{"tags":["java","android","datetime","retrofit2","android-viewholder"],"comments":[{"owner":{"display_name":"user16458899"},"score":0,"creation_date":1665223314,"post_id":73995247,"comment_id":130652753,"body_markdown":"The &#39;published_on&#39; appears to be a datestamp or unix epoch format (milliseconds since 1970) but a quick check using https://www.timecalculator.net/milliseconds-to-date indicates that the the date was 20/01/1970 16:00:22 pretty sure json was not around back then.","body":"The &#39;published_on&#39; appears to be a datestamp or unix epoch format (milliseconds since 1970) but a quick check using <a href=\"https://www.timecalculator.net/milliseconds-to-date\" rel=\"nofollow noreferrer\">timecalculator.net/milliseconds-to-date</a> indicates that the the date was 20/01/1970 16:00:22 pretty sure json was not around back then."}],"answers":[{"tags":[],"owner":{"display_name":"user16458899"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665223985,"creation_date":1665223985,"answer_id":73996140,"question_id":73995247,"body_markdown":"If you want to adjust the date by 1 day back subtract 86400000 from 1665223725508 which is 08/10/2022 for 3 minutes subtract 180000","title":"Need to convert Date Time Format from JSON to 1 day ago or 3 mins ago in Java","body":"<p>If you want to adjust the date by 1 day back subtract 86400000 from 1665223725508 which is 08/10/2022 for 3 minutes subtract 180000</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665234224,"creation_date":1665234224,"answer_id":73997207,"question_id":73995247,"body_markdown":"The value of `published_on` represents Epoch seconds which can be converted into `Instant` using [`Instant#ofEpochSecond`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-).\r\n\r\nOnce you have the instance of `Instant`, you can subtract the desired amount of time and also convert the same Epoch seconds as shown below:\r\n\r\n    import java.time.Instant;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Convert the given epoch seconds into Instant\r\n            Instant instant = Instant.ofEpochSecond(1663222879);\r\n            System.out.println(instant);\r\n    \r\n            // Three minutes ago\r\n            Instant threeMinsAgo = instant.minus(3, ChronoUnit.MINUTES);\r\n            System.out.println(threeMinsAgo);\r\n            long epochSecondThreeMinsAgo = TimeUnit.SECONDS.convert(threeMinsAgo.toEpochMilli(), TimeUnit.MILLISECONDS);\r\n            System.out.println(epochSecondThreeMinsAgo);\r\n    \r\n            // One Day ago\r\n            Instant oneDayAgo = instant.minus(1, ChronoUnit.DAYS);\r\n            System.out.println(oneDayAgo);\r\n            long epochSecondOneDayAgo = TimeUnit.SECONDS.convert(oneDayAgo.toEpochMilli(), TimeUnit.MILLISECONDS);\r\n            System.out.println(epochSecondOneDayAgo);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-09-15T06:21:19Z\r\n    2022-09-15T06:18:19Z\r\n    1663222699\r\n    2022-09-14T06:21:19Z\r\n    1663136479\r\n\r\nLearn about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Need to convert Date Time Format from JSON to 1 day ago or 3 mins ago in Java","body":"<p>The value of <code>published_on</code> represents Epoch seconds which can be converted into <code>Instant</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#ofEpochSecond-long-\" rel=\"nofollow noreferrer\"><code>Instant#ofEpochSecond</code></a>.</p>\n<p>Once you have the instance of <code>Instant</code>, you can subtract the desired amount of time and also convert the same Epoch seconds as shown below:</p>\n<pre><code>import java.time.Instant;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Convert the given epoch seconds into Instant\n        Instant instant = Instant.ofEpochSecond(1663222879);\n        System.out.println(instant);\n\n        // Three minutes ago\n        Instant threeMinsAgo = instant.minus(3, ChronoUnit.MINUTES);\n        System.out.println(threeMinsAgo);\n        long epochSecondThreeMinsAgo = TimeUnit.SECONDS.convert(threeMinsAgo.toEpochMilli(), TimeUnit.MILLISECONDS);\n        System.out.println(epochSecondThreeMinsAgo);\n\n        // One Day ago\n        Instant oneDayAgo = instant.minus(1, ChronoUnit.DAYS);\n        System.out.println(oneDayAgo);\n        long epochSecondOneDayAgo = TimeUnit.SECONDS.convert(oneDayAgo.toEpochMilli(), TimeUnit.MILLISECONDS);\n        System.out.println(epochSecondOneDayAgo);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-09-15T06:21:19Z\n2022-09-15T06:18:19Z\n1663222699\n2022-09-14T06:21:19Z\n1663136479\n</code></pre>\n<p>Learn about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":18221304,"reputation":21,"user_id":13261993,"display_name":"Stephen Gbolagade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674997455,"creation_date":1674997455,"answer_id":75275110,"question_id":73995247,"body_markdown":"If you are still having this issue, you can use Momentjs to convert time and date to any format you like.\r\n\r\nFor example: \r\n\r\n`` moment(&quot;20120620&quot;, &quot;YYYYMMDD&quot;).fromNow(); // will convert to 11 years ago ``\r\n\r\nCheck the documentation on [Momentjs website][1]\r\nNPM package [here][2]\r\n\r\n\r\n  [1]: https://momentjs.com/\r\n  [2]: https://www.npmjs.com/package/moment","title":"Need to convert Date Time Format from JSON to 1 day ago or 3 mins ago in Java","body":"<p>If you are still having this issue, you can use Momentjs to convert time and date to any format you like.</p>\n<p>For example:</p>\n<p><code>moment(&quot;20120620&quot;, &quot;YYYYMMDD&quot;).fromNow(); // will convert to 11 years ago</code></p>\n<p>Check the documentation on <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">Momentjs website</a>\nNPM package <a href=\"https://www.npmjs.com/package/moment\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":20826903,"reputation":19,"user_id":15297167,"display_name":"Reny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1674997455,"creation_date":1665214853,"question_id":73995247,"body_markdown":"I need help converting time from the JSON array and displaying it on recycler view in the example published 3 mins ago. The JSON property is `&quot;published_on&quot;: 1663222879`.\r\n\r\n\r\nMy JSON Response:\r\n```json\r\n{\r\n  &quot;Data&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;28035611&quot;,\r\n      &quot;guid&quot;: &quot;https://coingape.com/?p=121674&quot;,\r\n      &quot;published_on&quot;: 1663222879,\r\n      &quot;imageurl&quot;: &quot;https://images.cryptocompare.com/news/default/coingape.png&quot;,\r\n      &quot;lang&quot;: &quot;EN&quot;,\r\n      &quot;source_info&quot;: {\r\n        &quot;name&quot;: &quot;CoinGape&quot;,\r\n        &quot;lang&quot;: &quot;EN&quot;,\r\n        &quot;img&quot;: &quot;https://images.cryptocompare.com/news/default/coingape.png&quot;\r\n      }\r\n    }\r\n],\r\n  &quot;RateLimit&quot;: {},\r\n  &quot;HasWarning&quot;: false\r\n}\r\n```\r\n\r\nMy bindonviewHolder\r\n\r\n```java\r\n@Override\r\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n    holder.title.setText(dataList.get(position).getTitle());\r\n    holder.body.setText(dataList.get(position).getBody());\r\n\r\n    //Glide Library to display the images\r\n\r\n    Glide.with(mContext)\r\n            .load(dataList.get(position).getImageurl())\r\n            .into(holder.imageViewUrl);\r\n}\r\n```\r\n","title":"Need to convert Date Time Format from JSON to 1 day ago or 3 mins ago in Java","body":"<p>I need help converting time from the JSON array and displaying it on recycler view in the example published 3 mins ago. The JSON property is <code>&quot;published_on&quot;: 1663222879</code>.</p>\n<p>My JSON Response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Data&quot;: [\n    {\n      &quot;id&quot;: &quot;28035611&quot;,\n      &quot;guid&quot;: &quot;https://coingape.com/?p=121674&quot;,\n      &quot;published_on&quot;: 1663222879,\n      &quot;imageurl&quot;: &quot;https://images.cryptocompare.com/news/default/coingape.png&quot;,\n      &quot;lang&quot;: &quot;EN&quot;,\n      &quot;source_info&quot;: {\n        &quot;name&quot;: &quot;CoinGape&quot;,\n        &quot;lang&quot;: &quot;EN&quot;,\n        &quot;img&quot;: &quot;https://images.cryptocompare.com/news/default/coingape.png&quot;\n      }\n    }\n],\n  &quot;RateLimit&quot;: {},\n  &quot;HasWarning&quot;: false\n}\n</code></pre>\n<p>My bindonviewHolder</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n    holder.title.setText(dataList.get(position).getTitle());\n    holder.body.setText(dataList.get(position).getBody());\n\n    //Glide Library to display the images\n\n    Glide.with(mContext)\n            .load(dataList.get(position).getImageurl())\n            .into(holder.imageViewUrl);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1674997031,"post_id":75274711,"comment_id":132829233,"body_markdown":"To paraphrase Raymond Chen&#39;s paraphrasing someone else, if you don&#39;t know your charset, you can&#39;t afford it. Meaning, you usually don&#39;t want to pass any default charsets, be it console or something else, especially when reading files. A file might not be written with the console charset (and most like it doesn&#39;t). If it&#39;s a file you control, then you should know the charset it should have, since you wrote to it. If it&#39;s any random file, then you should either ask the user or in worst case try to guess it by some heuristic (there&#39;s a ICU lib which handles  that). For writing, use UTF8","body":"To paraphrase Raymond Chen&#39;s paraphrasing someone else, if you don&#39;t know your charset, you can&#39;t afford it. Meaning, you usually don&#39;t want to pass any default charsets, be it console or something else, especially when reading files. A file might not be written with the console charset (and most like it doesn&#39;t). If it&#39;s a file you control, then you should know the charset it should have, since you wrote to it. If it&#39;s any random file, then you should either ask the user or in worst case try to guess it by some heuristic (there&#39;s a ICU lib which handles  that). For writing, use UTF8"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674997018,"creation_date":1674996404,"answer_id":75274995,"question_id":75274711,"body_markdown":"This book is showing you how to do it in the modern way. Whilst java-the-ecosystem makes a point of not changing everything every other year unlike some other programming language ecosystem, this did change, and changed, specifically, in the JDK17 release. &lt;sup&gt;1&lt;/sup&gt;\r\n\r\nStarting with JDK17, this is the &#39;model&#39; that the JVM uses to deal with charset encoding issues:\r\n\r\n* Every constructor and method in java that ends up converting bytes to characters or vice versa necessarily is going to use a charset (you need one to convert from bytes to character or vice versa, you can&#39;t not have one) - and they all have an overload (in all versions of java): You can either specify no charset in which case &#39;the default&#39; would be used, or you could specify an explicit one. Starting with JDK17, all these methods use, as default, UTF-8, whether your host OS uses that as default charset or not. This is the change: Prior to JDK17, &#39;the default charset&#39; meant the host OS charset. JDK17 and up, it means &#39;UTF-8&#39;.\r\n\r\n* In the unlikely case you want to write data in the charset of the host OS, there&#39;s `System.console().charset()`. Therefore, `new FileWriter(&quot;file.txt&quot;)` would write in UTF-8, whereas `new FileWriter(&quot;file.txt, System.console.charset())` would write in the host OS charset, whatever that might be. On linux it usually is UTF-8 and there&#39;s no difference; on windows it&#39;s more often something like Cp1252 or some such.\r\n\r\nThat&#39;s a change. Prior to JDK17, it worked differently:\r\n\r\n* Those use-default-charset methods/constructors, such as `new FileWriter(fileName)`, would use the host OS charset. If you want UTF_8, you&#39;d have to write `new FileWriter(fileName, StandardCharsets.UTF_8)`.\r\n\r\n* There _is no_ `System.console.charset()` method. It doesn&#39;t exist at all.\r\n\r\n* As an exception, all methods in the new files API (`java.nio.file`) default to UTF-8, even before JDK17.\r\n\r\nClearly then the JDK you told VSCode to use predates it (because it&#39;s telling you `System.console().charset()` does not exist. It was introduced in JDK17, conclusion: Your VSCode is using a JDK that predates this). \r\n\r\nUnfortunately (I raised this point at the openjdk mailing lists, I don&#39;t think any openjdk team member cares, as nobody&#39;s taken any action on it), this means it is impossible to write code that works both pre- and post- JDK17 without jumping through some crazy hoops, if you want to write data explicitly in &#39;host OS charset&#39; form.\r\n\r\nAs you said, you&#39;re a beginner, so presumably you don&#39;t particularly care about writing code that writes data using the host OS charset in a way that compiles on both pre- and post-JDK17.\r\n\r\nThus, pick a solution. Either one will work:\r\n\r\n1. Upgrade to JDK17.\r\n2. Use `new FileWriter(fileName)`, without adding that charset.\r\n\r\nI&#39;d pick option #1 - the book is likely going to end up using other things introduced in JDK17, if it did so here.\r\n\r\nNB: For a beginner&#39;s book, worrying about charset encoding is a bizarre choice, especially considering that evidently they thought it was okay to use the obsolete `FileWriter`, presumably to keep things simple. It&#39;s almost like someone who tries to explain how to drive a car taking a moment to explain how a carburettor works (waaaay too much detail, you don&#39;t need to know this when learning how to drive cars until much later), but sort of handwave away how to charge the car, which is relevant much earlier. Bizarre choice - consider it 1 minor demerit against this book, and know that this charset malarky is not what you should be worrying about right now, if your aim is to learn java.\r\n\r\n[1] Congratulations - you are using a rather modern book. That&#39;s good news - a common problem is that tutorials are 20 years behind the times and end up showing you outdated ways of doing things. &quot;Too new&quot; is a better problem to have than &quot;too old&quot;.","title":"Java System.console().charset() is undefined","body":"<p>This book is showing you how to do it in the modern way. Whilst java-the-ecosystem makes a point of not changing everything every other year unlike some other programming language ecosystem, this did change, and changed, specifically, in the JDK17 release. <sup>1</sup></p>\n<p>Starting with JDK17, this is the 'model' that the JVM uses to deal with charset encoding issues:</p>\n<ul>\n<li><p>Every constructor and method in java that ends up converting bytes to characters or vice versa necessarily is going to use a charset (you need one to convert from bytes to character or vice versa, you can't not have one) - and they all have an overload (in all versions of java): You can either specify no charset in which case 'the default' would be used, or you could specify an explicit one. Starting with JDK17, all these methods use, as default, UTF-8, whether your host OS uses that as default charset or not. This is the change: Prior to JDK17, 'the default charset' meant the host OS charset. JDK17 and up, it means 'UTF-8'.</p>\n</li>\n<li><p>In the unlikely case you want to write data in the charset of the host OS, there's <code>System.console().charset()</code>. Therefore, <code>new FileWriter(&quot;file.txt&quot;)</code> would write in UTF-8, whereas <code>new FileWriter(&quot;file.txt, System.console.charset())</code> would write in the host OS charset, whatever that might be. On linux it usually is UTF-8 and there's no difference; on windows it's more often something like Cp1252 or some such.</p>\n</li>\n</ul>\n<p>That's a change. Prior to JDK17, it worked differently:</p>\n<ul>\n<li><p>Those use-default-charset methods/constructors, such as <code>new FileWriter(fileName)</code>, would use the host OS charset. If you want UTF_8, you'd have to write <code>new FileWriter(fileName, StandardCharsets.UTF_8)</code>.</p>\n</li>\n<li><p>There <em>is no</em> <code>System.console.charset()</code> method. It doesn't exist at all.</p>\n</li>\n<li><p>As an exception, all methods in the new files API (<code>java.nio.file</code>) default to UTF-8, even before JDK17.</p>\n</li>\n</ul>\n<p>Clearly then the JDK you told VSCode to use predates it (because it's telling you <code>System.console().charset()</code> does not exist. It was introduced in JDK17, conclusion: Your VSCode is using a JDK that predates this).</p>\n<p>Unfortunately (I raised this point at the openjdk mailing lists, I don't think any openjdk team member cares, as nobody's taken any action on it), this means it is impossible to write code that works both pre- and post- JDK17 without jumping through some crazy hoops, if you want to write data explicitly in 'host OS charset' form.</p>\n<p>As you said, you're a beginner, so presumably you don't particularly care about writing code that writes data using the host OS charset in a way that compiles on both pre- and post-JDK17.</p>\n<p>Thus, pick a solution. Either one will work:</p>\n<ol>\n<li>Upgrade to JDK17.</li>\n<li>Use <code>new FileWriter(fileName)</code>, without adding that charset.</li>\n</ol>\n<p>I'd pick option #1 - the book is likely going to end up using other things introduced in JDK17, if it did so here.</p>\n<p>NB: For a beginner's book, worrying about charset encoding is a bizarre choice, especially considering that evidently they thought it was okay to use the obsolete <code>FileWriter</code>, presumably to keep things simple. It's almost like someone who tries to explain how to drive a car taking a moment to explain how a carburettor works (waaaay too much detail, you don't need to know this when learning how to drive cars until much later), but sort of handwave away how to charge the car, which is relevant much earlier. Bizarre choice - consider it 1 minor demerit against this book, and know that this charset malarky is not what you should be worrying about right now, if your aim is to learn java.</p>\n<p>[1] Congratulations - you are using a rather modern book. That's good news - a common problem is that tutorials are 20 years behind the times and end up showing you outdated ways of doing things. &quot;Too new&quot; is a better problem to have than &quot;too old&quot;.</p>\n"}],"owner":{"account_id":2056551,"reputation":1209,"user_id":3482266,"accept_rate":43,"display_name":"An old man in the sea."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75274995,"answer_count":1,"score":0,"last_activity_date":1674997018,"creation_date":1674993684,"question_id":75274711,"body_markdown":"I&#39;m reading Java, A Beginner&#39;s guide by Schildt, and on the IO chapter, when using a FileWriter class, he tries to use the constructor of the type FileWriter(String filename, Charset charset). For the charset he uses `System.console().charset()`.\r\nHowever, my VSCode tells me the method charset is undefined for Console object...\r\n\r\nIs there a way to obtain the charset of the console?","title":"Java System.console().charset() is undefined","body":"<p>I'm reading Java, A Beginner's guide by Schildt, and on the IO chapter, when using a FileWriter class, he tries to use the constructor of the type FileWriter(String filename, Charset charset). For the charset he uses <code>System.console().charset()</code>.\nHowever, my VSCode tells me the method charset is undefined for Console object...</p>\n<p>Is there a way to obtain the charset of the console?</p>\n"},{"tags":["java","sqlite","kotlin","sugarorm"],"owner":{"account_id":12339438,"reputation":81,"user_id":9003215,"display_name":"DevPeter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674996976,"creation_date":1674996976,"question_id":75275065,"body_markdown":"In my app, I am using *Sugar ORM* version 1.5 to manage the SQL database. I am using *Cursor* to store alias name values from the query into the *List*, however, I am looking for a way how to do it without using the Cursor. The main reason for that is that I would like to use Observer in the Activity in the future. In my live app, I am connecting more than 7 tables using Cursor.\r\n\r\nIn my example below I tried to use the fun *test1()* to receive the result of the query and store it in *MutableList (or List)* using *TOneAndTTwoTogether data class*. Unfortunately, the result that I am having is an empty list but should be RB 0 and CB 0. \r\n\r\nInterestingly, when the select statement is SELECT \\* without using the alias name then if the field name matches the name in the TOneAndTTwoTogether data class I have the result, however the List includes all fields from all tables.\r\n\r\n**TABLE:**\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS T1 (\r\n```\r\n\r\n```\r\nID INTEGER PRIMARY KEY AUTOINCREMENT,\r\n```\r\n\r\n```\r\nACTIVE INTEGER ,\r\n```\r\n\r\n```\r\nRADIO_BUTTON_STATE INTEGER NOT NULL DEFAULT 0\r\n```\r\n\r\n```\r\n);\r\n```\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS T2 (\r\n```\r\n\r\n```\r\nID INTEGER PRIMARY KEY AUTOINCREMENT,\r\n```\r\n\r\n```\r\nACTIVE INTEGER ,\r\n```\r\n\r\n```\r\nCHECK_BOX_STATE INTEGER NOT NULL DEFAULT 0\r\n```\r\n\r\n```\r\n);\r\n```\r\n\r\n```\r\nINSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\r\n```\r\n\r\n```\r\nVALUES( 0, \t0);\r\n```\r\n\r\n```\r\nINSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\r\n```\r\n\r\n```\r\nVALUES( 1, \t0);\r\n```\r\n\r\n```\r\nINSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\r\n```\r\n\r\n```\r\nVALUES( 1, \t1);\r\n```\r\n\r\n```\r\nINSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\r\n```\r\n\r\n```\r\nVALUES( 0, \t0);\r\n```\r\n\r\n```\r\nINSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\r\n```\r\n\r\n```\r\nVALUES( 1, \t0);\r\n```\r\n\r\n```\r\nINSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\r\n```\r\n\r\n```\r\nVALUES( 1, \t1);\r\n```\r\n\r\n```\r\nSELECT T1.RADIO_BUTTON_STATE AS RB, T2.CHECK_BOX_STATE AS CB\r\n```\r\n\r\n```\r\nFROM T1\r\n```\r\n\r\n```\r\nINNER JOIN T2 on T2.ACTIVE = T1.ACTIVE\r\n```\r\n\r\n```\r\nWHERE T2.ACTIVE = 0 AND T1.ACTIVE = 0;\r\n```\r\n\r\n**Result is RB 0 CB 0**\r\n\r\n**The Function:**\r\n\r\n```\r\n    fun test1(): MutableList&lt;TOneAndTTwoTogether&gt;? {\r\n        val query = String.format(\r\n            &quot; SELECT T1.RADIO_BUTTON_STATE AS RB, T2.CHECK_BOX_STATE AS CB &quot; +\r\n                    &quot; FROM T1 &quot; +\r\n\t\t\t\t\t &quot; INNER JOIN T2 on T2.ACTIVE = T1.ACTIVE &quot; +\r\n                    &quot; WHERE T2.ACTIVE = 0 AND T1.ACTIVE = 0 &quot;\r\n        )\r\n        return SugarRecord.findWithQuery(\r\n            TOneAndTTwoTogether::class.java, query\r\n        )\r\n    }\r\n```\r\n\r\n**The Data Class:**\r\n\r\n```\r\npublic class TOneAndTTwoTogether {\r\n\r\n    private Integer RB = 0;\r\n    private Integer CB = 0;\r\n\r\n    public TOneAndTTwoTogether() {\r\n    }\r\n\r\n}\r\n```","title":"Sugar ORM, how to get specific fields (alias name) from multiple tables stored in List?","body":"<p>In my app, I am using <em>Sugar ORM</em> version 1.5 to manage the SQL database. I am using <em>Cursor</em> to store alias name values from the query into the <em>List</em>, however, I am looking for a way how to do it without using the Cursor. The main reason for that is that I would like to use Observer in the Activity in the future. In my live app, I am connecting more than 7 tables using Cursor.</p>\n<p>In my example below I tried to use the fun <em>test1()</em> to receive the result of the query and store it in <em>MutableList (or List)</em> using <em>TOneAndTTwoTogether data class</em>. Unfortunately, the result that I am having is an empty list but should be RB 0 and CB 0.</p>\n<p>Interestingly, when the select statement is SELECT * without using the alias name then if the field name matches the name in the TOneAndTTwoTogether data class I have the result, however the List includes all fields from all tables.</p>\n<p><strong>TABLE:</strong></p>\n<pre><code>CREATE TABLE IF NOT EXISTS T1 (\n</code></pre>\n<pre><code>ID INTEGER PRIMARY KEY AUTOINCREMENT,\n</code></pre>\n<pre><code>ACTIVE INTEGER ,\n</code></pre>\n<pre><code>RADIO_BUTTON_STATE INTEGER NOT NULL DEFAULT 0\n</code></pre>\n<pre><code>);\n</code></pre>\n<pre><code>CREATE TABLE IF NOT EXISTS T2 (\n</code></pre>\n<pre><code>ID INTEGER PRIMARY KEY AUTOINCREMENT,\n</code></pre>\n<pre><code>ACTIVE INTEGER ,\n</code></pre>\n<pre><code>CHECK_BOX_STATE INTEGER NOT NULL DEFAULT 0\n</code></pre>\n<pre><code>);\n</code></pre>\n<pre><code>INSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\n</code></pre>\n<pre><code>VALUES( 0,  0);\n</code></pre>\n<pre><code>INSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\n</code></pre>\n<pre><code>VALUES( 1,  0);\n</code></pre>\n<pre><code>INSERT INTO T1 (ACTIVE, RADIO_BUTTON_STATE)\n</code></pre>\n<pre><code>VALUES( 1,  1);\n</code></pre>\n<pre><code>INSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\n</code></pre>\n<pre><code>VALUES( 0,  0);\n</code></pre>\n<pre><code>INSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\n</code></pre>\n<pre><code>VALUES( 1,  0);\n</code></pre>\n<pre><code>INSERT INTO T2 (ACTIVE, CHECK_BOX_STATE)\n</code></pre>\n<pre><code>VALUES( 1,  1);\n</code></pre>\n<pre><code>SELECT T1.RADIO_BUTTON_STATE AS RB, T2.CHECK_BOX_STATE AS CB\n</code></pre>\n<pre><code>FROM T1\n</code></pre>\n<pre><code>INNER JOIN T2 on T2.ACTIVE = T1.ACTIVE\n</code></pre>\n<pre><code>WHERE T2.ACTIVE = 0 AND T1.ACTIVE = 0;\n</code></pre>\n<p><strong>Result is RB 0 CB 0</strong></p>\n<p><strong>The Function:</strong></p>\n<pre><code>    fun test1(): MutableList&lt;TOneAndTTwoTogether&gt;? {\n        val query = String.format(\n            &quot; SELECT T1.RADIO_BUTTON_STATE AS RB, T2.CHECK_BOX_STATE AS CB &quot; +\n                    &quot; FROM T1 &quot; +\n                     &quot; INNER JOIN T2 on T2.ACTIVE = T1.ACTIVE &quot; +\n                    &quot; WHERE T2.ACTIVE = 0 AND T1.ACTIVE = 0 &quot;\n        )\n        return SugarRecord.findWithQuery(\n            TOneAndTTwoTogether::class.java, query\n        )\n    }\n</code></pre>\n<p><strong>The Data Class:</strong></p>\n<pre><code>public class TOneAndTTwoTogether {\n\n    private Integer RB = 0;\n    private Integer CB = 0;\n\n    public TOneAndTTwoTogether() {\n    }\n\n}\n</code></pre>\n"},{"tags":["java","build","maven-3","dependency-management"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675012946,"post_id":75274872,"comment_id":132832278,"body_markdown":"If you have a multi module build you can use `${project.version}`..as version for the dependencies on other modules.. that is one solution. The other is to define a dependencyManagement in root and so that means to omit the version tag in the appropriate modules...","body":"If you have a multi module build you can use <code>${project.version}</code>..as version for the dependencies on other modules.. that is one solution. The other is to define a dependencyManagement in root and so that means to omit the version tag in the appropriate modules..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675013116,"post_id":75274872,"comment_id":132832310,"body_markdown":"It could be possible to make a hacky way. Just use a SNAPSHOT version like `1.0-SNAPSHOT` which means it&#39;s always the latest version via `mvn -U package`... but it&#39;s not reproducible...","body":"It could be possible to make a hacky way. Just use a SNAPSHOT version like <code>1.0-SNAPSHOT</code> which means it&#39;s always the latest version via <code>mvn -U package</code>... but it&#39;s not reproducible..."}],"answers":[{"tags":[],"owner":{"account_id":19988605,"reputation":29,"user_id":14650195,"display_name":"Samuel P&#233;rez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674996656,"creation_date":1674996656,"answer_id":75275021,"question_id":75274872,"body_markdown":"You could just set a minimum version of modules A,B,C in your D module, as per [https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402][1]\r\n\r\nlike you can set your dependency version as [1.5,) wich means any version greater than or equal to 1.5\r\n\r\nOr you could use &quot;RELEASE&quot; versions, for more information on this please see this other SO question where Rich gives a very good explanation:\r\n\r\n[https://stackoverflow.com/a/1172371/14650195][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402\r\n  [2]: https://stackoverflow.com/a/1172371/14650195","title":"Is it possible for one Maven module to have a version-less dependency to another module?","body":"<p>You could just set a minimum version of modules A,B,C in your D module, as per <a href=\"https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402\" rel=\"nofollow noreferrer\">https://docs.oracle.com/middleware/1212/core/MAVEN/maven_version.htm#MAVEN402</a></p>\n<p>like you can set your dependency version as [1.5,) wich means any version greater than or equal to 1.5</p>\n<p>Or you could use &quot;RELEASE&quot; versions, for more information on this please see this other SO question where Rich gives a very good explanation:</p>\n<p><a href=\"https://stackoverflow.com/a/1172371/14650195\">https://stackoverflow.com/a/1172371/14650195</a></p>\n"}],"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674996656,"creation_date":1674995191,"question_id":75274872,"body_markdown":"I have multiple Maven modules, let&#39;s say `A, B, C` and I also have a module `D`. \r\n\r\nCan module `D` have dependencies to `A, B, C` without explicitly setting their version? In other words, I&#39;d like module `D` to be built with the latest code of the other modules.","title":"Is it possible for one Maven module to have a version-less dependency to another module?","body":"<p>I have multiple Maven modules, let's say <code>A, B, C</code> and I also have a module <code>D</code>.</p>\n<p>Can module <code>D</code> have dependencies to <code>A, B, C</code> without explicitly setting their version? In other words, I'd like module <code>D</code> to be built with the latest code of the other modules.</p>\n"},{"tags":["java","java-8","comparator"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1516710452,"post_id":48401725,"comment_id":83791430,"body_markdown":"What is `sort_gender` in this case? A Comparator, I guess?","body":"What is <code>sort_gender</code> in this case? A Comparator, I guess?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1516710483,"post_id":48401725,"comment_id":83791460,"body_markdown":"You know that version 1 wouldn&#39;t &quot;return&quot; anything, don&#39;t you? `users = whatever` will reassign the parameter but that won&#39;t be visible from the outside. The other versions won&#39;t compile as the return type `void` won&#39;t fit. Besides that as you set only `LinkedHashSet` keeps the order so it would probably be version 2. (And btw, those 3 versions aren&#39;t that different anyways, so in the future just pick the one you like - provided they work correctly).","body":"You know that version 1 wouldn&#39;t &quot;return&quot; anything, don&#39;t you? <code>users = whatever</code> will reassign the parameter but that won&#39;t be visible from the outside. The other versions won&#39;t compile as the return type <code>void</code> won&#39;t fit. Besides that as you set only <code>LinkedHashSet</code> keeps the order so it would probably be version 2. (And btw, those 3 versions aren&#39;t that different anyways, so in the future just pick the one you like - provided they work correctly)."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":2,"creation_date":1516710487,"post_id":48401725,"comment_id":83791468,"body_markdown":"probably `v3` because your return type is `void` :p change it to `Set&lt;User&gt;`","body":"probably <code>v3</code> because your return type is <code>void</code> :p change it to <code>Set&lt;User&gt;</code>"},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1516710656,"post_id":48401725,"comment_id":83791603,"body_markdown":"Sorry for that, I changed the return type.","body":"Sorry for that, I changed the return type."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1516710879,"post_id":48401725,"comment_id":83791759,"body_markdown":"Test your code. Testing it will make it obvious what to use, because two out of the three versions don&#39;t do anything.","body":"Test your code. Testing it will make it obvious what to use, because two out of the three versions don&#39;t do anything."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1516711238,"post_id":48401725,"comment_id":83792001,"body_markdown":"Why don&#39;t you write a simple test for that code and pick the one which will works better? What about `SortedSet`/`NavigableSet` interface family?","body":"Why don&#39;t you write a simple test for that code and pick the one which will works better? What about <code>SortedSet</code>/<code>NavigableSet</code> interface family?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":4,"creation_date":1516711365,"post_id":48401725,"comment_id":83792086,"body_markdown":"@JBNizet, they do something: they make the world around us a little warmer, just that tiny bit.","body":"@JBNizet, they do something: they make the world around us a little warmer, just that tiny bit."},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1516711633,"post_id":48401725,"comment_id":83792269,"body_markdown":"I only want to achieve this: sort the set-&gt; the caller needs it, because to iterate through the sorted set. Nothing more. This should be achieved with the best performance. I can also convert set to list and sort the list and iterate through that list, Would this be better?","body":"I only want to achieve this: sort the set-&gt; the caller needs it, because to iterate through the sorted set. Nothing more. This should be achieved with the best performance. I can also convert set to list and sort the list and iterate through that list, Would this be better?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1516713227,"post_id":48401725,"comment_id":83793325,"body_markdown":"@nimo23, For just iterating right after, `List` is indeed probably better ,because that&#39;s what the defining characteristic of a list is: it&#39;s ordered. Most implementations are also lighter than implementations of `Set`s. For storing result somewhere where it matters that this is a set, one of the `Set` insterfaces is better. For clearly stating what it is, use `SortedSet` or `NavigableSet`.","body":"@nimo23, For just iterating right after, <code>List</code> is indeed probably better ,because that&#39;s what the defining characteristic of a list is: it&#39;s ordered. Most implementations are also lighter than implementations of <code>Set</code>s. For storing result somewhere where it matters that this is a set, one of the <code>Set</code> insterfaces is better. For clearly stating what it is, use <code>SortedSet</code> or <code>NavigableSet</code>."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1516779624,"creation_date":1516710644,"answer_id":48401804,"question_id":48401725,"body_markdown":"I would add a 4-th method (if you are OK to change that method to return the sorted `Set`)\r\n\r\n\r\n     users.stream()\r\n          .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing...)))\r\n\r\nI would return a `SortedSet` to make it explicit for the caller that this is actually sorted. \r\n\r\nIf not you could do:\r\n\r\n    SortedSet&lt;User&gt; sorted = new TreeSet&lt;&gt;(Comparator.comparing...)\r\n    sorted.addAll(users);\r\n","title":"java 8 stream.sorted with comparator in sets","body":"<p>I would add a 4-th method (if you are OK to change that method to return the sorted <code>Set</code>)</p>\n\n<pre><code> users.stream()\n      .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing...)))\n</code></pre>\n\n<p>I would return a <code>SortedSet</code> to make it explicit for the caller that this is actually sorted. </p>\n\n<p>If not you could do:</p>\n\n<pre><code>SortedSet&lt;User&gt; sorted = new TreeSet&lt;&gt;(Comparator.comparing...)\nsorted.addAll(users);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516710943,"creation_date":1516710767,"answer_id":48401867,"question_id":48401725,"body_markdown":"Version one does effectively nothing. You are changing the reference of the parameter `users` but not altering the set which is passed as an argument and not returning anything.\r\n\r\nVersion two works correctly.\r\n\r\nVersion three is attempting to store a sorted set in a set that does not maintain order. It&#39;s effectively no different than returning the set that you&#39;re given. From the JavaDoc for [`toSet`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toSet--):\r\n\r\n&gt; There are no guarantees on the type, mutability, serializability, or\r\n&gt; thread-safety of the Set returned","title":"java 8 stream.sorted with comparator in sets","body":"<p>Version one does effectively nothing. You are changing the reference of the parameter <code>users</code> but not altering the set which is passed as an argument and not returning anything.</p>\n\n<p>Version two works correctly.</p>\n\n<p>Version three is attempting to store a sorted set in a set that does not maintain order. It's effectively no different than returning the set that you're given. From the JavaDoc for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toSet--\" rel=\"nofollow noreferrer\"><code>toSet</code></a>:</p>\n\n<blockquote>\n  <p>There are no guarantees on the type, mutability, serializability, or\n  thread-safety of the Set returned</p>\n</blockquote>\n"}],"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12088,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":48401804,"answer_count":2,"score":10,"last_activity_date":1674996247,"creation_date":1516710366,"question_id":48401725,"body_markdown":"**I have a set to sort (with Comparators) and I dont know which version to choose:**\r\n\r\n**version 1:**\r\n\r\n    public static void sort(Set&lt;User&gt; users) {\r\n        users = users.stream()\r\n        .sorted(sort_gender.thenComparing(sort_age))\r\n        .collect(Collectors.toCollection(LinkedHashSet::new));\r\n    }\r\n\r\n**version 2:**\r\n\r\n\r\n    public static Set&lt;User&gt; sort(Set&lt;User&gt; users) {\r\n        return users.stream()\r\n        .sorted(sort_gender.thenComparing(sort_age))\r\n        .collect(Collectors.toCollection(LinkedHashSet::new));\r\n    }\r\n\r\n\r\n\r\n**version 3:**\r\n\r\n\r\n    public static void sort(Set&lt;User&gt; users) {\r\n        users.stream()\r\n        .sorted(sort_gender.thenComparing(sort_age))\r\n        .collect(Collectors.toSet());\r\n    }\r\n\r\n\r\n**version 4**\r\n\r\n    public static List&lt;User&gt; sort(Set&lt;User&gt; users){\r\n    \r\n    List&lt;User&gt; list = new ArrayList&lt;&gt;(users);\r\n    list.sort(sort_gender.thenComparing(sort_age));\r\n    return list;\r\n    }\r\n\r\nAll versions sort a set and return the sorted set. I know, only linkedHashSet can preserve ordering. \r\n\r\n**Which one should I choose**, I only want to sort the input properties users and return it, so is version 1 the best for that case? (For all cases, I want the references of input users be the same as for output users.)\r\n\r\n\r\n**EDIT: I think, I will choose version 4.** \r\n\r\n\r\n","title":"java 8 stream.sorted with comparator in sets","body":"<p><strong>I have a set to sort (with Comparators) and I dont know which version to choose:</strong></p>\n<p><strong>version 1:</strong></p>\n<pre><code>public static void sort(Set&lt;User&gt; users) {\n    users = users.stream()\n    .sorted(sort_gender.thenComparing(sort_age))\n    .collect(Collectors.toCollection(LinkedHashSet::new));\n}\n</code></pre>\n<p><strong>version 2:</strong></p>\n<pre><code>public static Set&lt;User&gt; sort(Set&lt;User&gt; users) {\n    return users.stream()\n    .sorted(sort_gender.thenComparing(sort_age))\n    .collect(Collectors.toCollection(LinkedHashSet::new));\n}\n</code></pre>\n<p><strong>version 3:</strong></p>\n<pre><code>public static void sort(Set&lt;User&gt; users) {\n    users.stream()\n    .sorted(sort_gender.thenComparing(sort_age))\n    .collect(Collectors.toSet());\n}\n</code></pre>\n<p><strong>version 4</strong></p>\n<pre><code>public static List&lt;User&gt; sort(Set&lt;User&gt; users){\n\nList&lt;User&gt; list = new ArrayList&lt;&gt;(users);\nlist.sort(sort_gender.thenComparing(sort_age));\nreturn list;\n}\n</code></pre>\n<p>All versions sort a set and return the sorted set. I know, only linkedHashSet can preserve ordering.</p>\n<p><strong>Which one should I choose</strong>, I only want to sort the input properties users and return it, so is version 1 the best for that case? (For all cases, I want the references of input users be the same as for output users.)</p>\n<p><strong>EDIT: I think, I will choose version 4.</strong></p>\n"},{"tags":["java","program-entry-point"],"owner":{"account_id":22808221,"reputation":9,"user_id":16959969,"display_name":"Daria"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674996022,"answer_count":0,"score":0,"last_activity_date":1674996110,"creation_date":1674995302,"question_id":75274887,"body_markdown":"I&#39;m trying to run this program but I do not know where to put &quot;main&quot;. It seems like the program does not have errors but whenever I run it I get error:\r\nError: Main method not found in class Lab2, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application\r\n\r\n`\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Lab2 {\r\n\t// compute sorting\r\nint [] sortingArrayOne = new int[10000]; // array one\r\nint [] sortingArrayTwo = new int[10000]; // array two\r\n\r\n\r\npublic void randomNumbers() {\r\n\tfor (int i = 0; i &lt; sortingArrayOne.length; i++) {\r\n\tsortingArrayOne[i]=(int)(Integer.MAX_VALUE * Math.random()); // filling array one with random integer\t\r\n\tsortingArrayTwo[i]=sortingArrayOne[1]; // same random numbers in both arrays\r\n\r\n\r\n\r\nlong startTimeArrayOne=System.currentTimeMillis(); // run time of array one\r\nselectionSort(sortingArrayOne); // sorting array one using selection sort\r\nlong runTimeArrayOne=System.currentTimeMillis() - startTimeArrayOne; // run time of selection sort\r\n\r\nlong startTimeArrayTwo = System.currentTimeMillis(); // computing time for array two\r\nArrays.sort(sortingArrayTwo); // sorting array two \r\nlong runTimeArrayTwo=System.currentTimeMillis() - startTimeArrayTwo; // time to run \r\n\r\nSystem.out.println(&quot;Selection sort time:&quot; + runTimeArrayOne); // printing sort time\r\nSystem.out.println(&quot;Arrays sort time:&quot; + runTimeArrayTwo); // printing array sort time\r\n}}\r\n\r\nstatic void selectionSort(int[] A) {\r\n\t// Sort A into increasing order, using selection sort\r\n\tfor (int lastPlace = A.length-1; lastPlace &gt; 0; lastPlace--) {\r\n\t// Find the largest item among A[0], A[1], ...,\r\n\t// A[lastPlace], and move it into position lastPlace\r\n\t// by swapping it with the number that is currently\r\n\t// in position lastPlace.\r\n\tint maxLoc = 0; // Location of largest item seen so far.\r\n\tfor (int j = 1; j &lt;= lastPlace; j++) {\r\n\tif (A[j] &gt; A[maxLoc]) {\r\n\t// Since A[j] is bigger than the maximum we’ve seen\r\n\t// so far, j is the new location of the maximum value\r\n\t// we’ve seen so far.\r\n\tmaxLoc = j;\r\n\t}\r\n\t}\r\n\tint temp = A[maxLoc]; // Swap largest item with A[lastPlace].\r\n\tA[max`Loc] = A[lastPlace];\r\n\tA[lastPlace] = temp;\r\n\t} // end of for loop\r\n\t}}\r\n```\r\n\r\n\r\n\r\n\r\nI tried writing main for this pice:\r\n`long startTimeArrayOne=System.currentTimeMillis(); // run time of array one\r\nselectionSort(sortingArrayOne); // sorting array one using selection sort\r\nlong runTimeArrayOne=System.currentTimeMillis() - startTimeArrayOne; // run time of selection sort\r\n\r\nlong startTimeArrayTwo = System.currentTimeMillis(); // computing time for array two\r\nArrays.sort(sortingArrayTwo); // sorting array two \r\nlong runTimeArrayTwo=System.currentTimeMillis() - startTimeArrayTwo; // time to run \r\n\r\nSystem.out.println(&quot;Selection sort time:&quot; + runTimeArrayOne); // printing sort time\r\nSystem.out.println(&quot;Arrays sort time:&quot; + runTimeArrayTwo); // printing array sort time\r\n}}`\r\n\r\nbut then I am getting different errors... ","title":"Main method not found in class Lab2, please define the main method as: public static void main(String[] args)","body":"<p>I'm trying to run this program but I do not know where to put &quot;main&quot;. It seems like the program does not have errors but whenever I run it I get error:\nError: Main method not found in class Lab2, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application</p>\n<p>`</p>\n<pre><code>import java.util.Arrays;\n\npublic class Lab2 {\n    // compute sorting\nint [] sortingArrayOne = new int[10000]; // array one\nint [] sortingArrayTwo = new int[10000]; // array two\n\n\npublic void randomNumbers() {\n    for (int i = 0; i &lt; sortingArrayOne.length; i++) {\n    sortingArrayOne[i]=(int)(Integer.MAX_VALUE * Math.random()); // filling array one with random integer   \n    sortingArrayTwo[i]=sortingArrayOne[1]; // same random numbers in both arrays\n\n\n\nlong startTimeArrayOne=System.currentTimeMillis(); // run time of array one\nselectionSort(sortingArrayOne); // sorting array one using selection sort\nlong runTimeArrayOne=System.currentTimeMillis() - startTimeArrayOne; // run time of selection sort\n\nlong startTimeArrayTwo = System.currentTimeMillis(); // computing time for array two\nArrays.sort(sortingArrayTwo); // sorting array two \nlong runTimeArrayTwo=System.currentTimeMillis() - startTimeArrayTwo; // time to run \n\nSystem.out.println(&quot;Selection sort time:&quot; + runTimeArrayOne); // printing sort time\nSystem.out.println(&quot;Arrays sort time:&quot; + runTimeArrayTwo); // printing array sort time\n}}\n\nstatic void selectionSort(int[] A) {\n    // Sort A into increasing order, using selection sort\n    for (int lastPlace = A.length-1; lastPlace &gt; 0; lastPlace--) {\n    // Find the largest item among A[0], A[1], ...,\n    // A[lastPlace], and move it into position lastPlace\n    // by swapping it with the number that is currently\n    // in position lastPlace.\n    int maxLoc = 0; // Location of largest item seen so far.\n    for (int j = 1; j &lt;= lastPlace; j++) {\n    if (A[j] &gt; A[maxLoc]) {\n    // Since A[j] is bigger than the maximum we’ve seen\n    // so far, j is the new location of the maximum value\n    // we’ve seen so far.\n    maxLoc = j;\n    }\n    }\n    int temp = A[maxLoc]; // Swap largest item with A[lastPlace].\n    A[max`Loc] = A[lastPlace];\n    A[lastPlace] = temp;\n    } // end of for loop\n    }}\n</code></pre>\n<p>I tried writing main for this pice:\n`long startTimeArrayOne=System.currentTimeMillis(); // run time of array one\nselectionSort(sortingArrayOne); // sorting array one using selection sort\nlong runTimeArrayOne=System.currentTimeMillis() - startTimeArrayOne; // run time of selection sort</p>\n<p>long startTimeArrayTwo = System.currentTimeMillis(); // computing time for array two\nArrays.sort(sortingArrayTwo); // sorting array two\nlong runTimeArrayTwo=System.currentTimeMillis() - startTimeArrayTwo; // time to run</p>\n<p>System.out.println(&quot;Selection sort time:&quot; + runTimeArrayOne); // printing sort time\nSystem.out.println(&quot;Arrays sort time:&quot; + runTimeArrayTwo); // printing array sort time\n}}`</p>\n<p>but then I am getting different errors...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"score":0,"creation_date":1495287415,"post_id":44086525,"comment_id":75195168,"body_markdown":"isn&#39;t the error clear enough ? BTW. You need to show us the code for the main method, if indeed there is one. Make sure it is `public static void main(String args[])`","body":"isn&#39;t the error clear enough ? BTW. You need to show us the code for the main method, if indeed there is one. Make sure it is <code>public static void main(String args[])</code>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1495287438,"post_id":44086525,"comment_id":75195177,"body_markdown":"Then create a `public static void main(String[] args)` in your class?","body":"Then create a <code>public static void main(String[] args)</code> in your class?"},{"owner":{"account_id":1320884,"reputation":614,"user_id":1266750,"accept_rate":38,"display_name":"Nitiraj"},"score":0,"creation_date":1513651930,"post_id":44086525,"comment_id":82724755,"body_markdown":"World&#39;s Smaile did not ask the question in correct context. Its a problem with Jetbrains idea IDE. I am also having the same problem. I am a seasoned programmer and my class and main method are all correct but when run from inside the idea community edition, it is showing this error.","body":"World&#39;s Smaile did not ask the question in correct context. Its a problem with Jetbrains idea IDE. I am also having the same problem. I am a seasoned programmer and my class and main method are all correct but when run from inside the idea community edition, it is showing this error."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1506521742,"creation_date":1495287532,"answer_id":44086559,"question_id":44086525,"body_markdown":"To start a java program you need the main method which not define in your code you can make it like this :\r\n\r\n    public class Test {\r\n    \r\n        public void printPhoto(int width, int height, boolean inColor) {\r\n            System.out.println(&quot;Width = &quot; + width + &quot; cm&quot;);\r\n            System.out.println(&quot;Height = &quot; + height + &quot; cm&quot;);\r\n            if (inColor) {\r\n                System.out.println(&quot;Print is Full color.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Print is black and white.&quot;);\r\n            }\r\n            // printPhoto(10, 20, false); // Avoid a Stack Overflow due the recursive call\r\n        }\r\n        \r\n        //main class\r\n        public static void main(String[] args) {\r\n            Test tst = new Test();//create a new instance of your class\r\n            tst.printPhoto(0, 0, true);//call your method with some values        \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Error :: Main method not found in class","body":"<p>To start a java program you need the main method which not define in your code you can make it like this :</p>\n\n<pre><code>public class Test {\n\n    public void printPhoto(int width, int height, boolean inColor) {\n        System.out.println(\"Width = \" + width + \" cm\");\n        System.out.println(\"Height = \" + height + \" cm\");\n        if (inColor) {\n            System.out.println(\"Print is Full color.\");\n        } else {\n            System.out.println(\"Print is black and white.\");\n        }\n        // printPhoto(10, 20, false); // Avoid a Stack Overflow due the recursive call\n    }\n\n    //main class\n    public static void main(String[] args) {\n        Test tst = new Test();//create a new instance of your class\n        tst.printPhoto(0, 0, true);//call your method with some values        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8408799,"reputation":5,"user_id":6311460,"display_name":"xMarcoGP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506521722,"creation_date":1495289021,"answer_id":44086804,"question_id":44086525,"body_markdown":"As already [@YCF_L](https://stackoverflow.com/users/5558072/ycf-l) posted, you need the main method.\r\n\r\nFirst, make sure you remove: \r\n\r\n    printPhoto(10,20,false);\r\n\r\nto avoid a Stack Overflow due the recursive call.\r\n\r\nIf you need to create a new instance and directly use your method, you can do the following:\r\n\r\n    public class Test {\r\n\r\n    \tpublic Test printPhoto(int width, int height, boolean inColor) {\r\n    \t\tSystem.out.println(&quot;Width = &quot; + width + &quot; cm&quot;);\r\n    \t\tSystem.out.println(&quot;Height = &quot; + height + &quot; cm&quot;);\r\n    \t\tif (inColor) {\r\n    \t\t\tSystem.out.println(&quot;Print is Full color.&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Print is black and white.&quot;);\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTest testObj = new Test().printPhoto(10, 20, false); //Creates a new instance of your class Test and calls the method printPhoto\r\n    \t}\r\n\r\n    }\r\n\r\nAlternatively, you could also make the method static, but it&#39;s not always the best procedure, it depends on how you are going to use it. \r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void printPhoto(int width, int height, boolean inColor) {\r\n    \t\tSystem.out.println(&quot;Width = &quot; + width + &quot; cm&quot;);\r\n    \t\tSystem.out.println(&quot;Height = &quot; + height + &quot; cm&quot;);\r\n    \t\tif (inColor) {\r\n    \t\t\tSystem.out.println(&quot;Print is Full color.&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Print is black and white.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tprintPhoto(10, 20, false);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Error :: Main method not found in class","body":"<p>As already <a href=\"https://stackoverflow.com/users/5558072/ycf-l\">@YCF_L</a> posted, you need the main method.</p>\n\n<p>First, make sure you remove: </p>\n\n<pre><code>printPhoto(10,20,false);\n</code></pre>\n\n<p>to avoid a Stack Overflow due the recursive call.</p>\n\n<p>If you need to create a new instance and directly use your method, you can do the following:</p>\n\n<pre><code>public class Test {\n\n    public Test printPhoto(int width, int height, boolean inColor) {\n        System.out.println(\"Width = \" + width + \" cm\");\n        System.out.println(\"Height = \" + height + \" cm\");\n        if (inColor) {\n            System.out.println(\"Print is Full color.\");\n        } else {\n            System.out.println(\"Print is black and white.\");\n        }\n        return this;\n    }\n\n    public static void main(String[] args) {\n        Test testObj = new Test().printPhoto(10, 20, false); //Creates a new instance of your class Test and calls the method printPhoto\n    }\n\n}\n</code></pre>\n\n<p>Alternatively, you could also make the method static, but it's not always the best procedure, it depends on how you are going to use it. </p>\n\n<pre><code>public class Test {\n\n    public static void printPhoto(int width, int height, boolean inColor) {\n        System.out.println(\"Width = \" + width + \" cm\");\n        System.out.println(\"Height = \" + height + \" cm\");\n        if (inColor) {\n            System.out.println(\"Print is Full color.\");\n        } else {\n            System.out.println(\"Print is black and white.\");\n        }\n    }\n\n    public static void main(String[] args) {\n        printPhoto(10, 20, false);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10940918,"reputation":9,"user_id":8040813,"display_name":"World&#39;s Smaile"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12569,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1674995989,"accepted_answer_id":44086559,"answer_count":2,"score":-2,"last_activity_date":1674996004,"creation_date":1495287314,"question_id":44086525,"body_markdown":"When I run my code, I receive this error message:\r\n\r\n    Error: Main method not found in class &quot;Class name&quot;, please define the main method as:\r\n       public static void main(String[] args)\r\n    or a JavaFX application class must extend javafx.application.Application\r\n\r\nMy code:\r\n \r\n    public static void main(String[] args){\r\n        public void printPhoto(int width,int height, boolean inColor){\r\n            System.out.println(&quot;Width = &quot; + width +  &quot; cm&quot; );\r\n            System.out.println(&quot;Height = &quot; + height + &quot; cm&quot;);\r\n            if(inColor){\r\n                System.out.println(&quot;Print is Full color.&quot;);\r\n            } else {\r\n                System.out.println(&quot;Print is black and white.&quot;);\r\n            }\r\n            printPhoto(10,20,false);\r\n        }\r\n    }","title":"Error :: Main method not found in class","body":"<p>When I run my code, I receive this error message:</p>\n\n<pre><code>Error: Main method not found in class \"Class name\", please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>public static void main(String[] args){\n    public void printPhoto(int width,int height, boolean inColor){\n        System.out.println(\"Width = \" + width +  \" cm\" );\n        System.out.println(\"Height = \" + height + \" cm\");\n        if(inColor){\n            System.out.println(\"Print is Full color.\");\n        } else {\n            System.out.println(\"Print is black and white.\");\n        }\n        printPhoto(10,20,false);\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","intellij-idea","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":8427978,"reputation":166,"user_id":6324633,"display_name":"serdroid"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1515433800,"creation_date":1515433800,"answer_id":48155508,"question_id":48155191,"body_markdown":"When you started your java program in debug mode, your IDE starts the JVM in debug mode (listening a socket to attach debugger). The statement starting with &#39;Connected ... &#39; shows your IDE connected to your debugging program, and &#39;Disconnected ...&#39; shows your IDE disconnected from JVM because of your program is terminated. ","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>When you started your java program in debug mode, your IDE starts the JVM in debug mode (listening a socket to attach debugger). The statement starting with 'Connected ... ' shows your IDE connected to your debugging program, and 'Disconnected ...' shows your IDE disconnected from JVM because of your program is terminated. </p>\n"},{"tags":[],"owner":{"account_id":1621503,"reputation":1451,"user_id":1497944,"display_name":"Kedar Joshi"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1515433846,"creation_date":1515433846,"answer_id":48155521,"question_id":48155191,"body_markdown":"Java debugger prints the following message when it is connected to debugging port of JVM. \r\n\r\n`Connected to the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;`\r\n\r\nSimilarly when your program terminates following message is printed to indicate that debugger has disconnected from the port.\r\n\r\n`Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;`\r\n\r\nSince these logs are written at the same time, console mixes them up.","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>Java debugger prints the following message when it is connected to debugging port of JVM. </p>\n\n<p><code>Connected to the target VM, address: '127.0.0.1:51928', transport: 'socket'</code></p>\n\n<p>Similarly when your program terminates following message is printed to indicate that debugger has disconnected from the port.</p>\n\n<p><code>Disconnected from the target VM, address: '127.0.0.1:51928', transport: 'socket'</code></p>\n\n<p>Since these logs are written at the same time, console mixes them up.</p>\n"},{"tags":[],"owner":{"account_id":463429,"reputation":6493,"user_id":866333,"accept_rate":88,"display_name":"John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523826034,"creation_date":1523826034,"answer_id":49846747,"question_id":48155191,"body_markdown":"I had similar problem with libGDX. It might have been related to my upgrade from 2017 to 2018 versions of IntelliJ. But it suddenly stopped working again, after I&#39;d just recreated the project using the 2018 version to import a barebone libgdx project.\r\n\r\nThis might need a new question but I&#39;m lazy so will piggyback my answer here.\r\n\r\nAs others point out, it is a debugging issue. (I don&#39;t actually understand what the OP of this question is asking, but the error looks right) I tried running without debugging and it fired up my previous version. &quot;What good is code I can&#39;t change?&quot; So I hit debug and sure enough I&#39;m back on my new code&#39;s breakpoint.","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>I had similar problem with libGDX. It might have been related to my upgrade from 2017 to 2018 versions of IntelliJ. But it suddenly stopped working again, after I'd just recreated the project using the 2018 version to import a barebone libgdx project.</p>\n\n<p>This might need a new question but I'm lazy so will piggyback my answer here.</p>\n\n<p>As others point out, it is a debugging issue. (I don't actually understand what the OP of this question is asking, but the error looks right) I tried running without debugging and it fired up my previous version. \"What good is code I can't change?\" So I hit debug and sure enough I'm back on my new code's breakpoint.</p>\n"},{"tags":[],"owner":{"account_id":13513248,"reputation":474,"user_id":9748774,"display_name":"ismael"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1529740433,"creation_date":1529740433,"answer_id":50999172,"question_id":48155191,"body_markdown":"change port\r\n\r\n    server:\r\n        port: 8083\r\nChange the previous port to an open port :)\r\n","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>change port</p>\n\n<pre><code>server:\n    port: 8083\n</code></pre>\n\n<p>Change the previous port to an open port :)</p>\n"},{"tags":[],"owner":{"account_id":15245822,"reputation":1,"user_id":11000724,"display_name":"Shivam Patidar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1571077145,"creation_date":1549020248,"answer_id":54478523,"question_id":48155191,"body_markdown":"The problem is that your console is hidden, perhaps meaning that a widget isn&#39;t being shown. You can see these errors in [the] Variables [widget]. So when you open the variables widget, the column on the right side will show you the frames, thread, [and the stack calls].  This is the best place to inspect console output. Just click on it and rerun the debug mode and use this to troubleshoot your transport socket error.","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>The problem is that your console is hidden, perhaps meaning that a widget isn't being shown. You can see these errors in [the] Variables [widget]. So when you open the variables widget, the column on the right side will show you the frames, thread, [and the stack calls].  This is the best place to inspect console output. Just click on it and rerun the debug mode and use this to troubleshoot your transport socket error.</p>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560340450,"creation_date":1560339040,"answer_id":56561181,"question_id":48155191,"body_markdown":"The main method should be called the object of inherited method. Otherwise you can get the following error when you are debugging the class:\r\n\r\n    Connected to the target VM, address: &#39;127.0.0.1:60102&#39;, transport: &#39;socket&#39;\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:60102&#39;, transport: &#39;socket&#39;","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>The main method should be called the object of inherited method. Otherwise you can get the following error when you are debugging the class:</p>\n\n<pre><code>Connected to the target VM, address: '127.0.0.1:60102', transport: 'socket'\nDisconnected from the target VM, address: '127.0.0.1:60102', transport: 'socket'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27649156,"reputation":1,"user_id":21104426,"display_name":"Андрей Антонов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674995978,"creation_date":1674995978,"answer_id":75274960,"question_id":48155191,"body_markdown":"Most likely you used a database, and now you don&#39;t need it. Go to the menu: Run -&gt; Edit Configurations.... Click &quot;-&quot; if there is a database in the list.","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>Most likely you used a database, and now you don't need it. Go to the menu: Run -&gt; Edit Configurations.... Click &quot;-&quot; if there is a database in the list.</p>\n"}],"owner":{"account_id":12402113,"reputation":93,"user_id":9038858,"display_name":"Danpatpang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49318,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48155521,"answer_count":7,"score":4,"last_activity_date":1674995978,"creation_date":1515432564,"question_id":48155191,"body_markdown":"What does `Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;` mean?\r\n\r\nThis is my code: \r\n\r\n    import java.math.BigDecimal;\r\n    public class puzzle2 {\r\n        public static void main(String args[]){\r\n            System.out.println(2.00-1.10);  //0.8999999999999999\r\n            System.out.println(new BigDecimal(&quot;2.00&quot;).subtract(new BigDecimal(&quot;1.10&quot;)));    //0.10\r\n        }\r\n    }\r\n\r\nresult is \r\n```\r\nConnected to the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;\r\n\r\n0.8999999999999999\r\n\r\n0.90\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;\r\n```\r\n","title":"Disconnected from the target VM, address: &#39;127.0.0.1:51928&#39;, transport: &#39;socket&#39;","body":"<p>What does <code>Disconnected from the target VM, address: '127.0.0.1:51928', transport: 'socket'</code> mean?</p>\n<p>This is my code:</p>\n<pre><code>import java.math.BigDecimal;\npublic class puzzle2 {\n    public static void main(String args[]){\n        System.out.println(2.00-1.10);  //0.8999999999999999\n        System.out.println(new BigDecimal(&quot;2.00&quot;).subtract(new BigDecimal(&quot;1.10&quot;)));    //0.10\n    }\n}\n</code></pre>\n<p>result is</p>\n<pre><code>Connected to the target VM, address: '127.0.0.1:51928', transport: 'socket'\n\n0.8999999999999999\n\n0.90\n\nDisconnected from the target VM, address: '127.0.0.1:51928', transport: 'socket'\n</code></pre>\n"},{"tags":["java","azure","gradle","azure-artifacts"],"answers":[{"tags":[],"owner":{"account_id":8573148,"reputation":57,"user_id":6423285,"accept_rate":75,"display_name":"Mina F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674994609,"creation_date":1674994609,"answer_id":75274799,"question_id":75270961,"body_markdown":"So I will answer my own question. I was missing the group and version in the build.gradle. So gradle was actually successful in publishing my artifacts, it just needed the group and version to identify the specific artifact.\r\n```\r\ngroup: thegroup\r\nversion: theversion\r\n```","title":"How to publish Gradle project to Azure Artifacts?","body":"<p>So I will answer my own question. I was missing the group and version in the build.gradle. So gradle was actually successful in publishing my artifacts, it just needed the group and version to identify the specific artifact.</p>\n<pre><code>group: thegroup\nversion: theversion\n</code></pre>\n"}],"owner":{"account_id":8573148,"reputation":57,"user_id":6423285,"accept_rate":75,"display_name":"Mina F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75274799,"answer_count":1,"score":1,"last_activity_date":1674995739,"creation_date":1674940642,"question_id":75270961,"body_markdown":"I am trying to publish a jar into Azure Artifacts using the command: `./gradlew publish`. I am not running into any error. Gradle is making it look successful, even the stacktrace, looks like the publish command succeeded. But when I open Azure artifacts feed, there is nothing that connected to the feed. I also tried `./gradlew publishAllPublicationsToMyFeedRepository` with the same result.\r\nTake the comments as multiple combinations of attempts I tried to get this to work:\r\n\r\nbuild.gradle:\r\n```\r\n    plugins { \r\n        id &#39;java-library&#39; apply true\r\n        id &quot;net.linguica.maven-settings&quot; version &quot;0.5&quot; apply true\r\n        id &#39;maven-publish&#39; apply true\r\n    }\r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.6.2&#39;\r\n    }\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    jar {\r\n        manifest {\r\n            attributes(&#39;Main-Class&#39;: &#39;com.myapp.LanguageApp.SayHello&#39;)\r\n        }\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n        mavenLocal()\r\n        // maven {\r\n        //     credentials {\r\n        //      // I replaced the username with a PAT name, and password with PAT token\r\n        //             username &quot;username&quot;\r\n        //             password &quot;password&quot;\r\n        //     }\r\n        //     url &#39;https://pkgs.dev.azure.com/username/azure-artifacts/_packaging/MyFeed/maven/v1&#39;\r\n        //     name &#39;MyFeed&#39;\r\n        //     authentication {\r\n        //         basic(BasicAuthentication)\r\n        //     }\r\n        // }\r\n    }\r\n    publishing {\r\n        publications {}\r\n        repositories {\r\n            maven {\r\n                url &#39;https://pkgs.dev.azure.com/username/azure-artifacts/_packaging/MyFeed/maven/v1&#39;\r\n                name &#39;MyFeed&#39;\r\n                // authentication {\r\n                //     basic(BasicAuthentication)\r\n                // }\r\n                credentials {\r\n                // I replaced the username with a PAT name, and password with PAT token\r\n                    username &quot;username&quot;\r\n                    password &quot;password&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nsettings.gradle:\r\n```\r\nrootProject.name = &#39;gradle-project&#39;\r\n```\r\n~/.m2/settings.xml:\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                              https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;MyFeed&lt;/id&gt;\r\n      /// yes, I replaced the username with a PAT name, and password with PAT token\r\n      &lt;username&gt;username&lt;/username&gt;\r\n      &lt;password&gt;password&lt;/password&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\n\r\n","title":"How to publish Gradle project to Azure Artifacts?","body":"<p>I am trying to publish a jar into Azure Artifacts using the command: <code>./gradlew publish</code>. I am not running into any error. Gradle is making it look successful, even the stacktrace, looks like the publish command succeeded. But when I open Azure artifacts feed, there is nothing that connected to the feed. I also tried <code>./gradlew publishAllPublicationsToMyFeedRepository</code> with the same result.\nTake the comments as multiple combinations of attempts I tried to get this to work:</p>\n<p>build.gradle:</p>\n<pre><code>    plugins { \n        id 'java-library' apply true\n        id &quot;net.linguica.maven-settings&quot; version &quot;0.5&quot; apply true\n        id 'maven-publish' apply true\n    }\n    dependencies {\n        testImplementation 'org.junit.jupiter:junit-jupiter:5.6.2'\n    }\n    test {\n        useJUnitPlatform()\n    }\n    jar {\n        manifest {\n            attributes('Main-Class': 'com.myapp.LanguageApp.SayHello')\n        }\n    }\n    repositories {\n        mavenCentral()\n        mavenLocal()\n        // maven {\n        //     credentials {\n        //      // I replaced the username with a PAT name, and password with PAT token\n        //             username &quot;username&quot;\n        //             password &quot;password&quot;\n        //     }\n        //     url 'https://pkgs.dev.azure.com/username/azure-artifacts/_packaging/MyFeed/maven/v1'\n        //     name 'MyFeed'\n        //     authentication {\n        //         basic(BasicAuthentication)\n        //     }\n        // }\n    }\n    publishing {\n        publications {}\n        repositories {\n            maven {\n                url 'https://pkgs.dev.azure.com/username/azure-artifacts/_packaging/MyFeed/maven/v1'\n                name 'MyFeed'\n                // authentication {\n                //     basic(BasicAuthentication)\n                // }\n                credentials {\n                // I replaced the username with a PAT name, and password with PAT token\n                    username &quot;username&quot;\n                    password &quot;password&quot;\n                }\n            }\n        }\n    }\n</code></pre>\n<p>settings.gradle:</p>\n<pre><code>rootProject.name = 'gradle-project'\n</code></pre>\n<p>~/.m2/settings.xml:</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                              https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;MyFeed&lt;/id&gt;\n      /// yes, I replaced the username with a PAT name, and password with PAT token\n      &lt;username&gt;username&lt;/username&gt;\n      &lt;password&gt;password&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1675011497,"post_id":75274856,"comment_id":132831946,"body_markdown":"Post your code. My crystal ball is broke.","body":"Post your code. My crystal ball is broke."}],"owner":{"account_id":25413418,"reputation":13,"user_id":19220813,"display_name":"Bishop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674995103,"creation_date":1674995103,"question_id":75274856,"body_markdown":"I want to load the results of a JSON Array request into a graph in android studio. The request response returns values of dates and amount so I want a bar graph that would show amount for last seven days using an adapter or maybe any other method of implementation. Please kindly help with a sample code.\r\n\r\nI have tried to create new barEntries ArrayList and then parse the values in the for block of the JSON request, The bar graph kept on saying no bar entries","title":"How to create a bar graph from JSON Array request Android","body":"<p>I want to load the results of a JSON Array request into a graph in android studio. The request response returns values of dates and amount so I want a bar graph that would show amount for last seven days using an adapter or maybe any other method of implementation. Please kindly help with a sample code.</p>\n<p>I have tried to create new barEntries ArrayList and then parse the values in the for block of the JSON request, The bar graph kept on saying no bar entries</p>\n"},{"tags":["java","mysql","spring-boot","tomcat"],"comments":[{"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"score":0,"creation_date":1675376929,"post_id":75274813,"comment_id":132921937,"body_markdown":"See https://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered","body":"See <a href=\"https://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered\" title=\"to prevent a memory leak the jdbc driver has been forcibly unregistered\">stackoverflow.com/questions/3320400/&hellip;</a>"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674994746,"creation_date":1674994746,"question_id":75274813,"body_markdown":"I have a problem with deploying the spring boot application after I delete the database and create new. When I deploy it I got an following exception:\r\n\r\n    \r\n\r\n&gt; 29-Jan-2023 00:16:21.058 WARNING [main]\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc\r\n&gt; The web application [ROOT] registered the JDBC driver\r\n&gt; [com.mysql.cj.jdbc.Driver] but failed to unregister it when the web\r\n&gt; application was stopped. To prevent a memory leak, the JDBC Driver has\r\n&gt; been forcibly unregistered. 29-Jan-2023 00:16:21.059 WARNING [main]\r\n&gt; org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads\r\n&gt; The web application [ROOT] appears to have started a thread named\r\n&gt; [mysql-cj-abandoned-connection-cleanup] but has failed to stop it.\r\n&gt; This is very likely to create a memory leak. Stack trace of thread:\r\n\r\nI read online, and I try the couple of methods and didn&#39;t work reference to the Stack Overflow answer: [answer][1]\r\nWhen i move the MySQL driver to tomcat lib folder, I got another exception for class witch is not mark as entity:\r\n\r\n&gt; javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: persistent class not known\r\n\r\n  [1]: https://stackoverflow.com/a/66059200/19219457\r\n\r\nLocally everything working fine. Any clues how to fix the issue, I don&#39;t have rights to restart the MySQL database at the moment and I search for fix.\r\n\r\nFrom the answer I only create that class I am not sure if i need to call it somewhere.","title":"Problem with JDBC driver on deployment after delete and recreate databse","body":"<p>I have a problem with deploying the spring boot application after I delete the database and create new. When I deploy it I got an following exception:</p>\n<blockquote>\n<p>29-Jan-2023 00:16:21.058 WARNING [main]\norg.apache.catalina.loader.WebappClassLoaderBase.clearReferencesJdbc\nThe web application [ROOT] registered the JDBC driver\n[com.mysql.cj.jdbc.Driver] but failed to unregister it when the web\napplication was stopped. To prevent a memory leak, the JDBC Driver has\nbeen forcibly unregistered. 29-Jan-2023 00:16:21.059 WARNING [main]\norg.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads\nThe web application [ROOT] appears to have started a thread named\n[mysql-cj-abandoned-connection-cleanup] but has failed to stop it.\nThis is very likely to create a memory leak. Stack trace of thread:</p>\n</blockquote>\n<p>I read online, and I try the couple of methods and didn't work reference to the Stack Overflow answer: <a href=\"https://stackoverflow.com/a/66059200/19219457\">answer</a>\nWhen i move the MySQL driver to tomcat lib folder, I got another exception for class witch is not mark as entity:</p>\n<blockquote>\n<p>javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: persistent class not known</p>\n</blockquote>\n<p>Locally everything working fine. Any clues how to fix the issue, I don't have rights to restart the MySQL database at the moment and I search for fix.</p>\n<p>From the answer I only create that class I am not sure if i need to call it somewhere.</p>\n"},{"tags":["java","algorithm","integer","double"],"answers":[{"tags":[],"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674991845,"creation_date":1674991845,"answer_id":75274525,"question_id":75274350,"body_markdown":"This logical check is incorrect:\r\n```\r\nif (rear &lt; data.length)\r\n```\r\nIn the corresponding `else` block, when `rear = data.length`, you set `rear = (rear+1) % data.length - 1`, so `rear &lt; data.length` becomes true in the next iteration, and you go back to the `if` block again. However, the logic to dequeue and update values is in the `else` block (which is where you should end up once `data` is filled completely). This is why you&#39;re getting an incorrect answer; `if (rear &lt; data.length)` isn&#39;t correct.\r\n\r\nReplacing that condition with something like `if (numberOfElementsTillNow &lt; data.length)` should fix this issue.","title":"Data type conversion problem for leetcode pratice &quot;Moving Average from Data Stream&quot;","body":"<p>This logical check is incorrect:</p>\n<pre><code>if (rear &lt; data.length)\n</code></pre>\n<p>In the corresponding <code>else</code> block, when <code>rear = data.length</code>, you set <code>rear = (rear+1) % data.length - 1</code>, so <code>rear &lt; data.length</code> becomes true in the next iteration, and you go back to the <code>if</code> block again. However, the logic to dequeue and update values is in the <code>else</code> block (which is where you should end up once <code>data</code> is filled completely). This is why you're getting an incorrect answer; <code>if (rear &lt; data.length)</code> isn't correct.</p>\n<p>Replacing that condition with something like <code>if (numberOfElementsTillNow &lt; data.length)</code> should fix this issue.</p>\n"},{"tags":[],"owner":{"account_id":16730894,"reputation":23,"user_id":12129537,"display_name":"Ryan Ren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674993152,"creation_date":1674993152,"answer_id":75274662,"question_id":75274350,"body_markdown":"I revised my code, and the answer accepted:\r\n\r\n    class MovingAverage {\r\n\t\r\n\tint front = 0, rear = 0; int sum = 0;\r\n\tint[] data;\r\n\r\n\t\r\n    public MovingAverage(int size) {\r\n\t\t\r\n\t    data = new int[size];\r\n\t\tArrays.fill(data, 0);\r\n\t\t\r\n\t\t\r\n        \r\n    }\r\n    \r\n    public double next(int val) {\r\n\t\t\r\n\t\tif(data.length == 1){\r\n\t\t\tdata[rear] = val;\r\n\t\t\treturn (double)val;\r\n\t\t}else{\r\n\t\t\t if(rear &lt; data.length){\r\n\t\t\t data[rear] = val;\r\n\t         sum += (int)data[rear];\r\n             rear++;\t\t \r\n\t\t\t return sum * 1.0/rear;\r\n             \t \r\n\t\t }else{\r\n\t\t\t sum -= (int)data[front % data.length];\r\n\t\t\t data[rear % data.length] = val;\r\n\t\t\t sum += (int)data[rear % data.length];\r\n\t\t\t rear++;\r\n\t\t\t front++;\r\n\t\t\t return sum * 1.0/data.length;\r\n\t\t }\r\n\t\t \r\n\t\t}\r\n\t\t\r\n\r\n\t\t \r\n    }\r\n}\r\n\r\nThis issue can be closed.","title":"Data type conversion problem for leetcode pratice &quot;Moving Average from Data Stream&quot;","body":"<p>I revised my code, and the answer accepted:</p>\n<pre><code>class MovingAverage {\n\nint front = 0, rear = 0; int sum = 0;\nint[] data;\n\n\npublic MovingAverage(int size) {\n    \n    data = new int[size];\n    Arrays.fill(data, 0);\n    \n    \n    \n}\n\npublic double next(int val) {\n    \n    if(data.length == 1){\n        data[rear] = val;\n        return (double)val;\n    }else{\n         if(rear &lt; data.length){\n         data[rear] = val;\n         sum += (int)data[rear];\n         rear++;         \n         return sum * 1.0/rear;\n             \n     }else{\n         sum -= (int)data[front % data.length];\n         data[rear % data.length] = val;\n         sum += (int)data[rear % data.length];\n         rear++;\n         front++;\n         return sum * 1.0/data.length;\n     }\n     \n    }\n    \n\n     \n}\n</code></pre>\n<p>}</p>\n<p>This issue can be closed.</p>\n"}],"owner":{"account_id":16730894,"reputation":23,"user_id":12129537,"display_name":"Ryan Ren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75274525,"answer_count":2,"score":0,"last_activity_date":1674993152,"creation_date":1674990120,"question_id":75274350,"body_markdown":"When I was running the code for the leetcode question &quot;&quot;Moving Average from Data Stream&quot;&quot;. I got a partly different output with the expected:\r\n[![enter image description here](https://i.stack.imgur.com/wRzWv.png)](https://i.stack.imgur.com/wRzWv.png)\r\nHere is my code:\r\n\r\n```\r\nclass MovingAverage {\r\n\t\r\n    int front = 0, rear = 0; Double sum = 0.00000;\r\n\tint[] data;\r\n\r\n\t\r\n    public MovingAverage(int size) {\r\n\t\t\r\n\t    data = new int[size];\r\n\t\tArrays.fill(data, 0);\r\n\t\t\r\n\t\t\r\n        \r\n    }\r\n    \r\n    public double next(int val) {\r\n\t\t\r\n\t\tif(data.length == 1){\r\n\t\t\tdata[rear] = val;\r\n\t\t\treturn val;\r\n\t\t}else{\r\n\t\t\t if(rear &lt; data.length){\r\n\t\t\t data[rear] = val;\r\n\t         sum += data[rear];\r\n             rear++;\t\t \r\n\t\t\t return sum/rear;\r\n             \t \r\n\t\t }else{\r\n\t\t\t sum -= data[front];\r\n\t\t\t rear = (rear+1) % data.length - 1;\r\n\t\t\t front = (front+1) % data.length ;\r\n\t\t\t data[rear] = val;\r\n\t\t\t sum += data[rear];\r\n\t\t\t rear++;\r\n\t\t\t return sum/data.length;\r\n\t\t }\r\n\t\t \r\n\t\t}\r\n\t\t\r\n\r\n\t\t \r\n    }\r\n}\r\n```\r\n\r\nThe requirement for code is :\r\n[![enter image description here](https://i.stack.imgur.com/q3c7U.png)](https://i.stack.imgur.com/q3c7U.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I run the tast cases of the example provided, everything is ok.\r\nBut when I run this edge case, thing is different:\r\n[&quot;MovingAverage&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;]\r\n[[5],[12009],[1965],[-940],[-8516],[-16446],[7870],[25545],[-21028],[18430],[-23464]]\r\n\r\n\r\nAnyone can help me pls? Is my code wrong or I didn&#39;t process the data conversion well?","title":"Data type conversion problem for leetcode pratice &quot;Moving Average from Data Stream&quot;","body":"<p>When I was running the code for the leetcode question &quot;&quot;Moving Average from Data Stream&quot;&quot;. I got a partly different output with the expected:\n<a href=\"https://i.stack.imgur.com/wRzWv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wRzWv.png\" alt=\"enter image description here\" /></a>\nHere is my code:</p>\n<pre><code>class MovingAverage {\n    \n    int front = 0, rear = 0; Double sum = 0.00000;\n    int[] data;\n\n    \n    public MovingAverage(int size) {\n        \n        data = new int[size];\n        Arrays.fill(data, 0);\n        \n        \n        \n    }\n    \n    public double next(int val) {\n        \n        if(data.length == 1){\n            data[rear] = val;\n            return val;\n        }else{\n             if(rear &lt; data.length){\n             data[rear] = val;\n             sum += data[rear];\n             rear++;         \n             return sum/rear;\n                 \n         }else{\n             sum -= data[front];\n             rear = (rear+1) % data.length - 1;\n             front = (front+1) % data.length ;\n             data[rear] = val;\n             sum += data[rear];\n             rear++;\n             return sum/data.length;\n         }\n         \n        }\n        \n\n         \n    }\n}\n</code></pre>\n<p>The requirement for code is :\n<a href=\"https://i.stack.imgur.com/q3c7U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3c7U.png\" alt=\"enter image description here\" /></a></p>\n<p>When I run the tast cases of the example provided, everything is ok.\nBut when I run this edge case, thing is different:\n[&quot;MovingAverage&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;,&quot;next&quot;]\n[[5],[12009],[1965],[-940],[-8516],[-16446],[7870],[25545],[-21028],[18430],[-23464]]</p>\n<p>Anyone can help me pls? Is my code wrong or I didn't process the data conversion well?</p>\n"},{"tags":["java","xades4j"],"answers":[{"tags":[],"owner":{"account_id":6396943,"reputation":392,"user_id":4960976,"display_name":"predrags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674655358,"creation_date":1674655358,"answer_id":75235135,"question_id":75213538,"body_markdown":"After some more hours/days of exploring, I think I&#39;ve found the reason for this behavior.\r\n\r\nSample code for signing XAdES-XL after XAdES-C (i.e. for enriching the signature) exists in class **xades4j.verification.XadesVerifierImplTest**, in the following method:\r\n\r\n    @Test\r\n    public void testVerifyCEnrichXL() throws Exception\r\n    {\r\n        System.out.println(&quot;verifyCEnrichXL&quot;);\r\n\r\n        Document doc = getDocument(&quot;document.signed.c.xml&quot;);\r\n        Element signatureNode = getSigElement(doc);\r\n\r\n        XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA).getFormatExtender();\r\n        XAdESVerificationResult res = nistVerificationProfile.newVerifier().verify(signatureNode, null, formExt, XAdESForm.X_L);\r\n\r\n        assertEquals(XAdESForm.C, res.getSignatureForm());\r\n        assertPropElementPresent(signatureNode, SigAndRefsTimeStampProperty.PROP_NAME);\r\n        assertPropElementPresent(signatureNode, CertificateValuesProperty.PROP_NAME);\r\n        assertPropElementPresent(signatureNode, RevocationValuesProperty.PROP_NAME);\r\n\r\n        outputDocument(doc, &quot;document.verified.c.xl.xml&quot;);\r\n    }\r\n\r\nThe same case would be for signing XAdES-A after XAdES-XL, as shown in class **xades4j.production.XadesSignatureFormatExtenderImplTest**, in the following method: \r\n\r\n    @Test\r\n    public void testEnrichSignatureWithA() throws Exception\r\n    {\r\n        System.out.println(&quot;enrichSignatureWithA&quot;);\r\n\r\n        Document doc = getDocument(&quot;document.verified.c.xl.xml&quot;);\r\n        Element signatureNode = (Element)doc.getElementsByTagNameNS(Constants.SignatureSpecNS, &quot;Signature&quot;).item(0);\r\n\r\n        XadesSignatureFormatExtender instance = new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA).getFormatExtender();\r\n\r\n        XMLSignature sig = new XMLSignature(signatureNode, &quot;&quot;);\r\n        Collection&lt;UnsignedSignatureProperty&gt; usp = new ArrayList&lt;UnsignedSignatureProperty&gt;(1);\r\n        usp.add(new ArchiveTimeStampProperty());\r\n\r\n        instance.enrichSignature(sig, new UnsignedProperties(usp));\r\n\r\n        outputDocument(doc, &quot;document.verified.c.xl.a.xml&quot;);\r\n    }\r\n\r\nComparing this code to my code, it looks like the problem is that there should be a TimeStampTokenProvider supplied for the XadesFormatExtenderProfile, like in:\r\n\r\n    XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile()\r\n            .with(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\r\n            .getFormatExtender();\r\n\r\nor:\r\n\r\n    XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile()\r\n            .withTimeStampTokenProvider(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\r\n            .getFormatExtender();\r\n\r\nIn theory, this is needed because every enrichment of XAdES format requires an additional property related to timestamp: \r\n\r\n - XAdES-C form has property xades:SignatureTimeStamp\r\n - XAdES-XL form has property xades:SigAndRefsTimeStamp\r\n - XAdES-A form has property xades141:ArchiveTimeStampV2\r\n\r\nI thought it would be sufficient to have timestamp applied only once (in XAdES-C), and then the other forms (XAdES-XL and XAdES-A) would afterwards just copy that info into their respective properties; however it proved that this is not the case. ","title":"XAdES4j - Error &quot;HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider&quot; when singing XAdES-XL","body":"<p>After some more hours/days of exploring, I think I've found the reason for this behavior.</p>\n<p>Sample code for signing XAdES-XL after XAdES-C (i.e. for enriching the signature) exists in class <strong>xades4j.verification.XadesVerifierImplTest</strong>, in the following method:</p>\n<pre><code>@Test\npublic void testVerifyCEnrichXL() throws Exception\n{\n    System.out.println(&quot;verifyCEnrichXL&quot;);\n\n    Document doc = getDocument(&quot;document.signed.c.xml&quot;);\n    Element signatureNode = getSigElement(doc);\n\n    XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA).getFormatExtender();\n    XAdESVerificationResult res = nistVerificationProfile.newVerifier().verify(signatureNode, null, formExt, XAdESForm.X_L);\n\n    assertEquals(XAdESForm.C, res.getSignatureForm());\n    assertPropElementPresent(signatureNode, SigAndRefsTimeStampProperty.PROP_NAME);\n    assertPropElementPresent(signatureNode, CertificateValuesProperty.PROP_NAME);\n    assertPropElementPresent(signatureNode, RevocationValuesProperty.PROP_NAME);\n\n    outputDocument(doc, &quot;document.verified.c.xl.xml&quot;);\n}\n</code></pre>\n<p>The same case would be for signing XAdES-A after XAdES-XL, as shown in class <strong>xades4j.production.XadesSignatureFormatExtenderImplTest</strong>, in the following method:</p>\n<pre><code>@Test\npublic void testEnrichSignatureWithA() throws Exception\n{\n    System.out.println(&quot;enrichSignatureWithA&quot;);\n\n    Document doc = getDocument(&quot;document.verified.c.xl.xml&quot;);\n    Element signatureNode = (Element)doc.getElementsByTagNameNS(Constants.SignatureSpecNS, &quot;Signature&quot;).item(0);\n\n    XadesSignatureFormatExtender instance = new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA).getFormatExtender();\n\n    XMLSignature sig = new XMLSignature(signatureNode, &quot;&quot;);\n    Collection&lt;UnsignedSignatureProperty&gt; usp = new ArrayList&lt;UnsignedSignatureProperty&gt;(1);\n    usp.add(new ArchiveTimeStampProperty());\n\n    instance.enrichSignature(sig, new UnsignedProperties(usp));\n\n    outputDocument(doc, &quot;document.verified.c.xl.a.xml&quot;);\n}\n</code></pre>\n<p>Comparing this code to my code, it looks like the problem is that there should be a TimeStampTokenProvider supplied for the XadesFormatExtenderProfile, like in:</p>\n<pre><code>XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile()\n        .with(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\n        .getFormatExtender();\n</code></pre>\n<p>or:</p>\n<pre><code>XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile()\n        .withTimeStampTokenProvider(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\n        .getFormatExtender();\n</code></pre>\n<p>In theory, this is needed because every enrichment of XAdES format requires an additional property related to timestamp:</p>\n<ul>\n<li>XAdES-C form has property xades:SignatureTimeStamp</li>\n<li>XAdES-XL form has property xades:SigAndRefsTimeStamp</li>\n<li>XAdES-A form has property xades141:ArchiveTimeStampV2</li>\n</ul>\n<p>I thought it would be sufficient to have timestamp applied only once (in XAdES-C), and then the other forms (XAdES-XL and XAdES-A) would afterwards just copy that info into their respective properties; however it proved that this is not the case.</p>\n"},{"tags":[],"owner":{"account_id":1765998,"reputation":2065,"user_id":1611874,"display_name":"lgoncalves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674992206,"creation_date":1674992206,"answer_id":75274566,"question_id":75213538,"body_markdown":"As you mentioned in your response, extending a signature to one of those formats requires adding new timestamp properties. As such, xades4j needs to know how to obtain those timestamps.\r\n\r\nBy default, xades4j includes a `TimeStampTokenProvider` that knows how to get timestamps via HTTP. You only need to configure `HttpTsaConfiguration` in the profiles (both for production and extending). This is documented here: https://github.com/luisgoncalves/xades4j/wiki/Timestamping.\r\n\r\nSo, in your code you don&#39;t need to register `HttpTimeStampTokenProvider`, only `HttpTsaConfiguration`. Note that this is what the tests (example code) do:\r\n\r\n    new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA)...\r\n\r\nThe same applies to the configuration of `XadesCSigningProfile`.","title":"XAdES4j - Error &quot;HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider&quot; when singing XAdES-XL","body":"<p>As you mentioned in your response, extending a signature to one of those formats requires adding new timestamp properties. As such, xades4j needs to know how to obtain those timestamps.</p>\n<p>By default, xades4j includes a <code>TimeStampTokenProvider</code> that knows how to get timestamps via HTTP. You only need to configure <code>HttpTsaConfiguration</code> in the profiles (both for production and extending). This is documented here: <a href=\"https://github.com/luisgoncalves/xades4j/wiki/Timestamping\" rel=\"nofollow noreferrer\">https://github.com/luisgoncalves/xades4j/wiki/Timestamping</a>.</p>\n<p>So, in your code you don't need to register <code>HttpTimeStampTokenProvider</code>, only <code>HttpTsaConfiguration</code>. Note that this is what the tests (example code) do:</p>\n<pre><code>new XadesFormatExtenderProfile().with(DEFAULT_TEST_TSA)...\n</code></pre>\n<p>The same applies to the configuration of <code>XadesCSigningProfile</code>.</p>\n"}],"owner":{"account_id":6396943,"reputation":392,"user_id":4960976,"display_name":"predrags"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75235135,"answer_count":2,"score":0,"last_activity_date":1674992206,"creation_date":1674498302,"question_id":75213538,"body_markdown":"I&#39;m using XAdES4j 2.2.0 for signing XML documents.\r\nPreviously I&#39;ve used version 1.5.1, and adapted that code to use the new version.\r\n\r\nWhile XADES-BES, XADES-T and XADES-C work flawlessly, there is a problem with XADES-XL (applied after XADES-C), i.e. an exception is caught:\r\n**HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider**\r\n\r\nMy code looks like:\r\n\r\n```\r\n// Certificate for signing is stored in PKCS12 keystore in file.\r\nKeyingDataProvider keyingDataProvider = FileSystemKeyStoreKeyingDataProvider\r\n\t\t.builder(&quot;PKCS12&quot;, sKeyStorePath, new SigningCertificateSelector.single())\r\n\t\t.storePassword(new DirectPasswordProvider(sKeyStorePassword))\r\n\t\t.entryPassword(new DirectPasswordProvider(sKeyStorePassword))\r\n\t\t.fullChain(true)\r\n\t\t.build();\r\n\r\n// KeyStore and CertStore for validating signatures and timestamps.\r\nCertificateValidationProvider validationProvider = PKIXCertificateValidationProvider\r\n\t\t.builder(keyStore)\r\n\t\t.checkRevocation(true)\r\n\t\t.intermediateCertStores(certStore)\r\n\t\t.build();\r\n\r\n// Read document from file on disk.\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\ndbf.setNamespaceAware(true);\r\nDocumentBuilder db = dbf.newDocumentBuilder();\r\ndoc = db.parse(new File(sFilePath));\r\n\r\n// Sign document with XAdES-C.\r\nsignDocumentC(keyingDataProvider, doc, validationProvider);\r\n// Sign document with XAdES-XL afterwards.\r\nsignDocumentXL(keyingDataProvider, doc, validationProvider);\r\n\r\n...\r\n\r\n/** Method for signing with XAdES-C. */\r\nprivate void signDocumentC(KeyingDataProvider keyingDataProvider, Document doc, CertificateValidationProvider validationProvider) throws Exception\r\n{\r\n\tElement elemToSign = doc.getDocumentElement();\r\n\tDOMHelper.useIdAsXmlId(elemToSign);\r\n\r\n\tValidationDataProvider vdp = new ValidationDataFromCertValidationProvider(validationProvider);\r\n\tXadesSigner signer = new XadesCSigningProfile(keyingDataProvider, vdp)\r\n\t\t.with(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\r\n\t\t.newSigner();\r\n\r\n\t// Skip check for countersigning, just sign.\r\n\tnew Enveloped(signer).sign(elemToSign);\r\n}\r\n\r\n/** Method for signing with XAdES-XL. */\r\nprivate void signDocumentXL(KeyingDataProvider keyingProvider, Document doc, CertificateValidationProvider validationProvider) throws Exception\r\n{\r\n\tElement elemToSign = doc.getDocumentElement();\r\n\tDOMHelper.useIdAsXmlId(elemToSign);\r\n\r\n\tNodeList signatures = doc.getElementsByTagNameNS(Constants.SignatureSpecNS, Constants._TAG_SIGNATURE);\r\n\tElement signatureNode = (Element)signatures.item(signatures.getLength() - 1);\r\n\r\n\tXadesVerificationProfile nistVerificationProfile = new XadesVerificationProfile(validationProvider);\r\n\r\n\tXadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile().getFormatExtender();\r\n\tXAdESVerificationResult res = nistVerificationProfile.newVerifier().verify(signatureNode, null, formExt, XAdESForm.X_L);\r\n}\r\n```\r\n\r\nHowever, there is always an exception thrown at the last line (`nistVerificationProfile.newVerifier().verify(...)`), that looks like:\r\n\r\n```\r\n[2023-01-23 18:22:29] INFO: [] ESignatureXML.signDocumentXL: Signing xml document XAdES-XL...\r\nxades4j.production.PropertyDataGeneratorNotAvailableException: Property data generation failed for SigAndRefsTimeStamp: data object generator cannot be created\r\n\tat xades4j.production.PropertyDataGeneratorsMapperImpl.getGenerator(PropertyDataGeneratorsMapperImpl.java:51)\r\n\tat xades4j.production.PropertiesDataObjectsGeneratorImpl.doGenPropsData(PropertiesDataObjectsGeneratorImpl.java:87)\r\n\tat xades4j.production.PropertiesDataObjectsGeneratorImpl.genPropsData(PropertiesDataObjectsGeneratorImpl.java:73)\r\n\tat xades4j.production.PropertiesDataObjectsGeneratorImpl.generateUnsignedPropertiesData(PropertiesDataObjectsGeneratorImpl.java:64)\r\n\tat xades4j.production.XadesSignatureFormatExtenderImpl.enrichSignature(XadesSignatureFormatExtenderImpl.java:79)\r\n\tat xades4j.verification.XadesVerifierImpl.verify(XadesVerifierImpl.java:497)\r\n\tat com.my.ESignatureXML.signDocumentXL(ESignatureXML.java:709)\r\n\tat com.my.ESignatureXML.signDocument(ESignatureXML.java:482)\r\n\tat com.my.ESignatureXML.performSigning(ESignatureXML.java:236)\r\n\tat com.my.ESignatureXML.sign(ESignatureXML.java:187)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n...\r\n\tat java.base/java.lang.Thread.run(Thread.java:835)\r\nCaused by: com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n\r\n1) [Guice/ErrorInCustomProvider]: IllegalStateException: HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider.\r\n  at DefaultProductionBindingsModule.configure(DefaultProductionBindingsModule.java:80)\r\n      \\_ installed by: Modules$OverrideModule -&gt; DefaultProductionBindingsModule\r\n  at HttpTimeStampTokenProvider.&lt;init&gt;(HttpTimeStampTokenProvider.java:44)\r\n      \\_ for 2nd parameter\r\n  while locating HttpTimeStampTokenProvider\r\n  at DataGenSigAndRefsTimeStamp.&lt;init&gt;(DataGenSigAndRefsTimeStamp.java:51)\r\n      \\_ for 2nd parameter\r\n  while locating DataGenSigAndRefsTimeStamp\r\n  while locating PropertyDataObjectGenerator&lt;SigAndRefsTimeStampProperty&gt;\r\n\r\nLearn more:\r\n  https://github.com/google/guice/wiki/ERROR_IN_CUSTOM_PROVIDER\r\n\r\n1 error\r\n\r\n======================\r\nFull classname legend:\r\n======================\r\nDataGenSigAndRefsTimeStamp:      &quot;xades4j.production.DataGenSigAndRefsTimeStamp&quot;\r\nDefaultProductionBindingsModule: &quot;xades4j.production.DefaultProductionBindingsModule&quot;\r\nHttpTimeStampTokenProvider:      &quot;xades4j.providers.impl.HttpTimeStampTokenProvider&quot;\r\nModules$OverrideModule:          &quot;com.google.inject.util.Modules$OverrideModule&quot;\r\nPropertyDataObjectGenerator:     &quot;xades4j.production.PropertyDataObjectGenerator&quot;\r\nSigAndRefsTimeStampProperty:     &quot;xades4j.properties.SigAndRefsTimeStampProperty&quot;\r\n========================\r\nEnd of classname legend:\r\n========================\r\n\r\n\tat com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:251)\r\n\tat com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1104)\r\n\tat com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1134)\r\n\tat xades4j.production.PropertyDataGeneratorsMapperImpl.getGenerator(PropertyDataGeneratorsMapperImpl.java:48)\r\n\t... 58 more\r\nCaused by: java.lang.IllegalStateException: HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider.\r\n\tat xades4j.production.DefaultProductionBindingsModule.lambda$configure$0(DefaultProductionBindingsModule.java:81)\r\n\tat com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\r\n\tat com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:57)\r\n\tat com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:60)\r\n\tat com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\r\n\tat com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\r\n\tat com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\r\n\tat com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\r\n\tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\r\n\tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\r\n\tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:60)\r\n\tat com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\r\n\tat com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\r\n\tat com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\r\n\tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\r\n\tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\r\n\tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:60)\r\n\tat com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1101)\r\n\t... 60 more\r\n```\r\n\r\nI have detected that in class PropertiesDataObjectsGeneratorImpl, in method doGenPropsData, while traversing the properties of the signature, one property, xades4j.properties.SigAndRefsTimeStampProperty, has value \r\ntime = null, and the exception is actually thrown while trying to add this property to a collection of signature properties to be used in further validation.\r\n\r\nThis happens only when signing XAdES-XL, while there is no exception in this method with other forms (i.e. XAdES-T and XAdES-C, where also timestamp details could be seen in the resulting XML file).\r\n\r\nHow to overcome this issue? Am I missing something in declaring signer, validation provider, verification profile...?\r\n","title":"XAdES4j - Error &quot;HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider&quot; when singing XAdES-XL","body":"<p>I'm using XAdES4j 2.2.0 for signing XML documents.\nPreviously I've used version 1.5.1, and adapted that code to use the new version.</p>\n<p>While XADES-BES, XADES-T and XADES-C work flawlessly, there is a problem with XADES-XL (applied after XADES-C), i.e. an exception is caught:\n<strong>HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider</strong></p>\n<p>My code looks like:</p>\n<pre><code>// Certificate for signing is stored in PKCS12 keystore in file.\nKeyingDataProvider keyingDataProvider = FileSystemKeyStoreKeyingDataProvider\n        .builder(&quot;PKCS12&quot;, sKeyStorePath, new SigningCertificateSelector.single())\n        .storePassword(new DirectPasswordProvider(sKeyStorePassword))\n        .entryPassword(new DirectPasswordProvider(sKeyStorePassword))\n        .fullChain(true)\n        .build();\n\n// KeyStore and CertStore for validating signatures and timestamps.\nCertificateValidationProvider validationProvider = PKIXCertificateValidationProvider\n        .builder(keyStore)\n        .checkRevocation(true)\n        .intermediateCertStores(certStore)\n        .build();\n\n// Read document from file on disk.\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setNamespaceAware(true);\nDocumentBuilder db = dbf.newDocumentBuilder();\ndoc = db.parse(new File(sFilePath));\n\n// Sign document with XAdES-C.\nsignDocumentC(keyingDataProvider, doc, validationProvider);\n// Sign document with XAdES-XL afterwards.\nsignDocumentXL(keyingDataProvider, doc, validationProvider);\n\n...\n\n/** Method for signing with XAdES-C. */\nprivate void signDocumentC(KeyingDataProvider keyingDataProvider, Document doc, CertificateValidationProvider validationProvider) throws Exception\n{\n    Element elemToSign = doc.getDocumentElement();\n    DOMHelper.useIdAsXmlId(elemToSign);\n\n    ValidationDataProvider vdp = new ValidationDataFromCertValidationProvider(validationProvider);\n    XadesSigner signer = new XadesCSigningProfile(keyingDataProvider, vdp)\n        .with(new HttpTimeStampTokenProvider(new DefaultMessageDigestProvider(), new HttpTsaConfiguration(&quot;http://freetsa.org/tsr&quot;)))\n        .newSigner();\n\n    // Skip check for countersigning, just sign.\n    new Enveloped(signer).sign(elemToSign);\n}\n\n/** Method for signing with XAdES-XL. */\nprivate void signDocumentXL(KeyingDataProvider keyingProvider, Document doc, CertificateValidationProvider validationProvider) throws Exception\n{\n    Element elemToSign = doc.getDocumentElement();\n    DOMHelper.useIdAsXmlId(elemToSign);\n\n    NodeList signatures = doc.getElementsByTagNameNS(Constants.SignatureSpecNS, Constants._TAG_SIGNATURE);\n    Element signatureNode = (Element)signatures.item(signatures.getLength() - 1);\n\n    XadesVerificationProfile nistVerificationProfile = new XadesVerificationProfile(validationProvider);\n\n    XadesSignatureFormatExtender formExt = new XadesFormatExtenderProfile().getFormatExtender();\n    XAdESVerificationResult res = nistVerificationProfile.newVerifier().verify(signatureNode, null, formExt, XAdESForm.X_L);\n}\n</code></pre>\n<p>However, there is always an exception thrown at the last line (<code>nistVerificationProfile.newVerifier().verify(...)</code>), that looks like:</p>\n<pre><code>[2023-01-23 18:22:29] INFO: [] ESignatureXML.signDocumentXL: Signing xml document XAdES-XL...\nxades4j.production.PropertyDataGeneratorNotAvailableException: Property data generation failed for SigAndRefsTimeStamp: data object generator cannot be created\n    at xades4j.production.PropertyDataGeneratorsMapperImpl.getGenerator(PropertyDataGeneratorsMapperImpl.java:51)\n    at xades4j.production.PropertiesDataObjectsGeneratorImpl.doGenPropsData(PropertiesDataObjectsGeneratorImpl.java:87)\n    at xades4j.production.PropertiesDataObjectsGeneratorImpl.genPropsData(PropertiesDataObjectsGeneratorImpl.java:73)\n    at xades4j.production.PropertiesDataObjectsGeneratorImpl.generateUnsignedPropertiesData(PropertiesDataObjectsGeneratorImpl.java:64)\n    at xades4j.production.XadesSignatureFormatExtenderImpl.enrichSignature(XadesSignatureFormatExtenderImpl.java:79)\n    at xades4j.verification.XadesVerifierImpl.verify(XadesVerifierImpl.java:497)\n    at com.my.ESignatureXML.signDocumentXL(ESignatureXML.java:709)\n    at com.my.ESignatureXML.signDocument(ESignatureXML.java:482)\n    at com.my.ESignatureXML.performSigning(ESignatureXML.java:236)\n    at com.my.ESignatureXML.sign(ESignatureXML.java:187)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n...\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: com.google.inject.ProvisionException: Unable to provision, see the following errors:\n\n1) [Guice/ErrorInCustomProvider]: IllegalStateException: HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider.\n  at DefaultProductionBindingsModule.configure(DefaultProductionBindingsModule.java:80)\n      \\_ installed by: Modules$OverrideModule -&gt; DefaultProductionBindingsModule\n  at HttpTimeStampTokenProvider.&lt;init&gt;(HttpTimeStampTokenProvider.java:44)\n      \\_ for 2nd parameter\n  while locating HttpTimeStampTokenProvider\n  at DataGenSigAndRefsTimeStamp.&lt;init&gt;(DataGenSigAndRefsTimeStamp.java:51)\n      \\_ for 2nd parameter\n  while locating DataGenSigAndRefsTimeStamp\n  while locating PropertyDataObjectGenerator&lt;SigAndRefsTimeStampProperty&gt;\n\nLearn more:\n  https://github.com/google/guice/wiki/ERROR_IN_CUSTOM_PROVIDER\n\n1 error\n\n======================\nFull classname legend:\n======================\nDataGenSigAndRefsTimeStamp:      &quot;xades4j.production.DataGenSigAndRefsTimeStamp&quot;\nDefaultProductionBindingsModule: &quot;xades4j.production.DefaultProductionBindingsModule&quot;\nHttpTimeStampTokenProvider:      &quot;xades4j.providers.impl.HttpTimeStampTokenProvider&quot;\nModules$OverrideModule:          &quot;com.google.inject.util.Modules$OverrideModule&quot;\nPropertyDataObjectGenerator:     &quot;xades4j.production.PropertyDataObjectGenerator&quot;\nSigAndRefsTimeStampProperty:     &quot;xades4j.properties.SigAndRefsTimeStampProperty&quot;\n========================\nEnd of classname legend:\n========================\n\n    at com.google.inject.internal.InternalProvisionException.toProvisionException(InternalProvisionException.java:251)\n    at com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1104)\n    at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1134)\n    at xades4j.production.PropertyDataGeneratorsMapperImpl.getGenerator(PropertyDataGeneratorsMapperImpl.java:48)\n    ... 58 more\nCaused by: java.lang.IllegalStateException: HttpTsaConfiguration must be configured in the profile in order to use an HTTP-based time-stamp token provider.\n    at xades4j.production.DefaultProductionBindingsModule.lambda$configure$0(DefaultProductionBindingsModule.java:81)\n    at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:60)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\n    at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\n    at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\n    at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:60)\n    at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:40)\n    at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:60)\n    at com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:113)\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:91)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:300)\n    at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:60)\n    at com.google.inject.internal.InjectorImpl$1.get(InjectorImpl.java:1101)\n    ... 60 more\n</code></pre>\n<p>I have detected that in class PropertiesDataObjectsGeneratorImpl, in method doGenPropsData, while traversing the properties of the signature, one property, xades4j.properties.SigAndRefsTimeStampProperty, has value\ntime = null, and the exception is actually thrown while trying to add this property to a collection of signature properties to be used in further validation.</p>\n<p>This happens only when signing XAdES-XL, while there is no exception in this method with other forms (i.e. XAdES-T and XAdES-C, where also timestamp details could be seen in the resulting XML file).</p>\n<p>How to overcome this issue? Am I missing something in declaring signer, validation provider, verification profile...?</p>\n"},{"tags":["java","spring-boot","elasticsearch","filter","criteria-api"],"owner":{"account_id":26702643,"reputation":11,"user_id":20309423,"display_name":"Danail Madzharov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674992020,"creation_date":1674991352,"question_id":75274483,"body_markdown":"We are currently developing a Spring boot app, kinda like a listing website with a filter based on around 20-25 columns. The columns don&#39;t contain large text inside, most of them are numbers and some are enums, one is a list of strings which is persisted in another extra table with ID of the other row and the string.\r\n\r\nThe query is basically number &gt; and &lt; checks &amp;&amp; string equality\r\n\r\nThe table from which the filter searches is expected to have around 100-150 thousand rows one at a time, because we delete old records when not needed.\r\n\r\nWe are using MYSQL for database.\r\n\r\nOur current implementation is using CRITERIA API, but we still haven&#39;t done a performance test to see if it works good enough or not with a lot of records.\r\n\r\nSince later it will be hard to change everything to elastic search, I wanted to see peoples opinion if we should change the implementation to elastic search.","title":"ElasticSearch or Criteria API for a listing website","body":"<p>We are currently developing a Spring boot app, kinda like a listing website with a filter based on around 20-25 columns. The columns don't contain large text inside, most of them are numbers and some are enums, one is a list of strings which is persisted in another extra table with ID of the other row and the string.</p>\n<p>The query is basically number &gt; and &lt; checks &amp;&amp; string equality</p>\n<p>The table from which the filter searches is expected to have around 100-150 thousand rows one at a time, because we delete old records when not needed.</p>\n<p>We are using MYSQL for database.</p>\n<p>Our current implementation is using CRITERIA API, but we still haven't done a performance test to see if it works good enough or not with a lot of records.</p>\n<p>Since later it will be hard to change everything to elastic search, I wanted to see peoples opinion if we should change the implementation to elastic search.</p>\n"},{"tags":["java","junit","constructor","mockito"],"comments":[{"owner":{"account_id":2818342,"reputation":299848,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1506453837,"post_id":46434282,"comment_id":79825862,"body_markdown":"Can you share your test&#39;s code, or at least the relevant parts of it?","body":"Can you share your test&#39;s code, or at least the relevant parts of it?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1506453854,"post_id":46434282,"comment_id":79825868,"body_markdown":"What are you trying to achieve? Your class under test doesn&#39;t have any dependency on another object. So there is nothing to mock.","body":"What are you trying to achieve? Your class under test doesn&#39;t have any dependency on another object. So there is nothing to mock."},{"owner":{"account_id":3475140,"reputation":2491,"user_id":3019956,"accept_rate":33,"display_name":"want2learn"},"score":0,"creation_date":1506456937,"post_id":46434282,"comment_id":79827346,"body_markdown":"you don&#39;t always have to use mockito. For your case why you need to mock anything. use simple junit test.","body":"you don&#39;t always have to use mockito. For your case why you need to mock anything. use simple junit test."},{"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"score":0,"creation_date":1506497087,"post_id":46434282,"comment_id":79842294,"body_markdown":"Since you are writing tests, you probably aim for writing testable code. If so, you should avoid constructors doing more then merely assigning parameters to fields. See [here](http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/) for an excellent argumentation on this topic.","body":"Since you are writing tests, you probably aim for writing testable code. If so, you should avoid constructors doing more then merely assigning parameters to fields. See <a href=\"http://misko.hevery.com/code-reviewers-guide/flaw-constructor-does-real-work/\" rel=\"nofollow noreferrer\">here</a> for an excellent argumentation on this topic."}],"answers":[{"tags":[],"owner":{"account_id":9729040,"reputation":2257,"user_id":7214815,"display_name":"Dmytro Maslenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1506454128,"creation_date":1506454128,"answer_id":46434393,"question_id":46434282,"body_markdown":"Not clear why you need the `Mockito` here. This is a solution without `Mockito`.\r\n\r\nIn your test create an instance of `MyClass` with overridden `draw()` method:\r\n\r\n    final MyClass myClass = new MyClass() {\r\n        @Override\r\n        public String draw() {\r\n            return &quot;mock data&quot;;\r\n        }\r\n    }\r\n\r\n    // Now test your class as you want","title":"Mock a method inside a constructor of a class","body":"<p>Not clear why you need the <code>Mockito</code> here. This is a solution without <code>Mockito</code>.</p>\n\n<p>In your test create an instance of <code>MyClass</code> with overridden <code>draw()</code> method:</p>\n\n<pre><code>final MyClass myClass = new MyClass() {\n    @Override\n    public String draw() {\n        return \"mock data\";\n    }\n}\n\n// Now test your class as you want\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506457341,"creation_date":1506456674,"answer_id":46434999,"question_id":46434282,"body_markdown":"One way to test your class with **Mockito** will be, \r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.mockito.Mock;\r\n    import org.mockito.MockitoAnnotations;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    public class TestMyClass {\r\n    \r\n        @Mock\r\n        private MyClass clazz;\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n        }\r\n    \r\n        @Test\r\n        public void testDraw() {\r\n            when(clazz.draw()).thenReturn(&quot;My mock hello&quot;);\r\n            assertEquals(&quot;My mock hello&quot;, clazz.draw());\r\n        }\r\n    }","title":"Mock a method inside a constructor of a class","body":"<p>One way to test your class with <strong>Mockito</strong> will be, </p>\n\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.mockito.Mockito.when;\n\npublic class TestMyClass {\n\n    @Mock\n    private MyClass clazz;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testDraw() {\n        when(clazz.draw()).thenReturn(\"My mock hello\");\n        assertEquals(\"My mock hello\", clazz.draw());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506498332,"creation_date":1506497094,"answer_id":46441824,"question_id":46434282,"body_markdown":"You could turn to do *partial mocking* using spies (see [here][1] for how to do that).\r\n\r\nBut as usual: when people start thinking about complex ways to use mocking framework, the **real** answer is: step back and improve your production code. Your constructor should do *only* simple initialisation things. \r\n\r\nIn your case, one reasonable approach would be: don&#39;t call an internal method to compute the value of that field - but **pass** that value to the constructor (in other words - use dependency injection).\r\n\r\nAnd you could still do something like:\r\n\r\n    public MyClass(int a) {\r\n      this(a, draw());\r\n    }\r\n\r\n    MyClass(int a, String b) { \r\n      this.a = a; ...\r\n\r\nNow your unit tests can happily use that ctor that takes *two* arguments - and your need to **mock** anything vanishes completely.\r\n\r\n  [1]: https://stackoverflow.com/questions/14970516/use-mockito-to-mock-some-methods-but-not-others","title":"Mock a method inside a constructor of a class","body":"<p>You could turn to do <em>partial mocking</em> using spies (see <a href=\"https://stackoverflow.com/questions/14970516/use-mockito-to-mock-some-methods-but-not-others\">here</a> for how to do that).</p>\n\n<p>But as usual: when people start thinking about complex ways to use mocking framework, the <strong>real</strong> answer is: step back and improve your production code. Your constructor should do <em>only</em> simple initialisation things. </p>\n\n<p>In your case, one reasonable approach would be: don't call an internal method to compute the value of that field - but <strong>pass</strong> that value to the constructor (in other words - use dependency injection).</p>\n\n<p>And you could still do something like:</p>\n\n<pre><code>public MyClass(int a) {\n  this(a, draw());\n}\n\nMyClass(int a, String b) { \n  this.a = a; ...\n</code></pre>\n\n<p>Now your unit tests can happily use that ctor that takes <em>two</em> arguments - and your need to <strong>mock</strong> anything vanishes completely.</p>\n"},{"tags":[],"owner":{"account_id":295514,"reputation":2157,"user_id":599971,"accept_rate":55,"display_name":"ejaenv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674991317,"creation_date":1674990528,"answer_id":75274393,"question_id":46434282,"body_markdown":"Complementing the solutions given, the constructor can also receive the method to mock as a function.\r\n\r\n    import java.util.function.Supplier;\r\n        \r\n    public class MyClass {\r\n        int a;\r\n        String b;\r\n\r\n        public MyClass(int a, Supplier&lt;String&gt; draw) {\r\n            this.a = a;\r\n            this.b = draw==null? draw() : draw.get();\r\n            System.out.println(&quot;class is created&quot;);\r\n         }\r\n            \r\n        public String draw() {\r\n            System.out.println(&quot;my&quot;);\r\n            return &quot;b&quot;;\r\n        }\r\n            \r\n        public void apple() {\r\n             System.out.println(&quot;apple&quot;);\r\n         }\r\n    }","title":"Mock a method inside a constructor of a class","body":"<p>Complementing the solutions given, the constructor can also receive the method to mock as a function.</p>\n<pre><code>import java.util.function.Supplier;\n    \npublic class MyClass {\n    int a;\n    String b;\n\n    public MyClass(int a, Supplier&lt;String&gt; draw) {\n        this.a = a;\n        this.b = draw==null? draw() : draw.get();\n        System.out.println(&quot;class is created&quot;);\n     }\n        \n    public String draw() {\n        System.out.println(&quot;my&quot;);\n        return &quot;b&quot;;\n    }\n        \n    public void apple() {\n         System.out.println(&quot;apple&quot;);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":6154399,"reputation":77,"user_id":4797840,"accept_rate":0,"display_name":"Tapashi Talukdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1674991317,"creation_date":1506453723,"question_id":46434282,"body_markdown":"I am new to mockito. Lets say I have a class like this\r\n\r\n    public class MyClass {\r\n        int a;\r\n        String b;\r\n        public MyClass(int a) {\r\n            this.a = a;\r\n            this.b = draw();\r\n            System.out.println(&quot;class is created&quot;);\r\n        }\r\n    \r\n        public String draw() {\r\n            System.out.println(&quot;my&quot;);\r\n            return &quot;b&quot;;\r\n        }\r\n    \r\n        public void apple() {\r\n            System.out.println(&quot;apple&quot;);\r\n        }\r\n    }\r\n\r\nI am writing a JUnit test using Mockito where I am creating a object of the class by using the constructor. Is it possible to mock the draw() method when I am instating the class?\r\n\r\n","title":"Mock a method inside a constructor of a class","body":"<p>I am new to mockito. Lets say I have a class like this</p>\n\n<pre><code>public class MyClass {\n    int a;\n    String b;\n    public MyClass(int a) {\n        this.a = a;\n        this.b = draw();\n        System.out.println(\"class is created\");\n    }\n\n    public String draw() {\n        System.out.println(\"my\");\n        return \"b\";\n    }\n\n    public void apple() {\n        System.out.println(\"apple\");\n    }\n}\n</code></pre>\n\n<p>I am writing a JUnit test using Mockito where I am creating a object of the class by using the constructor. Is it possible to mock the draw() method when I am instating the class?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":216,"is_accepted":true,"score":216,"last_activity_date":1500928109,"creation_date":1282782096,"answer_id":3571231,"question_id":3571203,"body_markdown":"According to the [API][1]\r\n\r\n    totalMemory()\r\n\r\nReturns the total amount of memory in the Java virtual machine. The value returned by this method may vary over time, depending on the host environment.\r\nNote that the amount of memory required to hold an object of any given type may be implementation-dependent.\r\n\r\n    maxMemory()\r\n\r\nReturns the maximum amount of memory that the Java virtual machine will attempt to use. If there is no inherent limit then the value Long.MAX_VALUE will be returned.\r\n\r\n    freeMemory()\r\n\r\nReturns the amount of free memory in the Java Virtual Machine. Calling the gc method may result in increasing the value returned by freeMemory.\r\n\r\nIn reference to your question, `maxMemory()` returns the `-Xmx` value.\r\n\r\nYou may be wondering why there is a **totalMemory()** AND a **maxMemory()**.  The answer is that the JVM allocates memory lazily.  Lets say you start your Java process as such:\r\n\r\n    java -Xms64m -Xmx1024m Foo\r\n\r\nYour process starts with 64mb of memory, and if and when it needs more (up to 1024m), it will allocate memory.  `totalMemory()` corresponds to the amount of memory *currently* available to the JVM for Foo.  If the JVM needs more memory, it will lazily allocate it *up* to the maximum memory.  If you run with `-Xms1024m -Xmx1024m`, the value you get from `totalMemory()` and `maxMemory()` will be equal.\r\n\r\nAlso, if you want to accurately calculate the amount of *used* memory, you do so with the following calculation :\r\n\r\n    final long usedMem = totalMemory() - freeMemory();\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html\r\n","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>According to the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html\" rel=\"noreferrer\">API</a></p>\n\n<pre><code>totalMemory()\n</code></pre>\n\n<p>Returns the total amount of memory in the Java virtual machine. The value returned by this method may vary over time, depending on the host environment.\nNote that the amount of memory required to hold an object of any given type may be implementation-dependent.</p>\n\n<pre><code>maxMemory()\n</code></pre>\n\n<p>Returns the maximum amount of memory that the Java virtual machine will attempt to use. If there is no inherent limit then the value Long.MAX_VALUE will be returned.</p>\n\n<pre><code>freeMemory()\n</code></pre>\n\n<p>Returns the amount of free memory in the Java Virtual Machine. Calling the gc method may result in increasing the value returned by freeMemory.</p>\n\n<p>In reference to your question, <code>maxMemory()</code> returns the <code>-Xmx</code> value.</p>\n\n<p>You may be wondering why there is a <strong>totalMemory()</strong> AND a <strong>maxMemory()</strong>.  The answer is that the JVM allocates memory lazily.  Lets say you start your Java process as such:</p>\n\n<pre><code>java -Xms64m -Xmx1024m Foo\n</code></pre>\n\n<p>Your process starts with 64mb of memory, and if and when it needs more (up to 1024m), it will allocate memory.  <code>totalMemory()</code> corresponds to the amount of memory <em>currently</em> available to the JVM for Foo.  If the JVM needs more memory, it will lazily allocate it <em>up</em> to the maximum memory.  If you run with <code>-Xms1024m -Xmx1024m</code>, the value you get from <code>totalMemory()</code> and <code>maxMemory()</code> will be equal.</p>\n\n<p>Also, if you want to accurately calculate the amount of <em>used</em> memory, you do so with the following calculation :</p>\n\n<pre><code>final long usedMem = totalMemory() - freeMemory();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1282782197,"creation_date":1282782197,"answer_id":3571235,"question_id":3571203,"body_markdown":"[Runtime#totalMemory][1] - the memory that the JVM has allocated thus far. This isn&#39;t necessarily what is in use or the maximum.\r\n\r\n[Runtime#maxMemory][2] - the maximum amount of memory that the JVM has been configured to use. Once your process reaches this amount, the JVM will not allocate more and instead GC much more frequently.\r\n\r\n[Runtime#freeMemory][3] - I&#39;m not sure if this is measured from the max or the portion of the total that is unused. I am guessing it is a measurement of the portion of total which is unused.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#totalMemory()\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#maxMemory()\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#freeMemory()","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#totalMemory()\" rel=\"noreferrer\">Runtime#totalMemory</a> - the memory that the JVM has allocated thus far. This isn't necessarily what is in use or the maximum.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#maxMemory()\" rel=\"noreferrer\">Runtime#maxMemory</a> - the maximum amount of memory that the JVM has been configured to use. Once your process reaches this amount, the JVM will not allocate more and instead GC much more frequently.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Runtime.html#freeMemory()\" rel=\"noreferrer\">Runtime#freeMemory</a> - I'm not sure if this is measured from the max or the portion of the total that is unused. I am guessing it is a measurement of the portion of total which is unused.</p>\n"},{"tags":[],"owner":{"account_id":1509318,"reputation":121,"user_id":1411827,"display_name":"ALam-Kim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1350725393,"creation_date":1337753525,"answer_id":10714412,"question_id":3571203,"body_markdown":"JVM heap size can be growable and shrinkable by the Garbage-Collection mechanism.\r\nBut, it can&#39;t allocate over maximum memory size: Runtime.maxMemory. This is the meaning of maximum memory. Total memory means the allocated heap size. And free memory means the available size in total memory.\r\n\r\nexample) java -Xms20M -Xmn10M -Xmx50M ~~~.\r\nThis means that jvm should allocate heap 20M on start(ms). In this case, total memory is 20M. free memory is 20M-used size. If more heap is needed, JVM allocate more but can&#39;t over 50M(mx). In the case of maximum, total memory is 50M, and free size is 50M-used size. As for minumum size(mn), if heap is not used much, jvm can shrink heap size to 10M.\r\n\r\nThis mechanism is for efficiency of memory. If small java program run on huge fixed size heap memory, so much memory may be wasteful.","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>JVM heap size can be growable and shrinkable by the Garbage-Collection mechanism.\nBut, it can't allocate over maximum memory size: Runtime.maxMemory. This is the meaning of maximum memory. Total memory means the allocated heap size. And free memory means the available size in total memory.</p>\n\n<p>example) java -Xms20M -Xmn10M -Xmx50M ~~~.\nThis means that jvm should allocate heap 20M on start(ms). In this case, total memory is 20M. free memory is 20M-used size. If more heap is needed, JVM allocate more but can't over 50M(mx). In the case of maximum, total memory is 50M, and free size is 50M-used size. As for minumum size(mn), if heap is not used much, jvm can shrink heap size to 10M.</p>\n\n<p>This mechanism is for efficiency of memory. If small java program run on huge fixed size heap memory, so much memory may be wasteful.</p>\n"},{"tags":[],"owner":{"account_id":193906,"reputation":4673,"user_id":435912,"accept_rate":78,"display_name":"Sri"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1362843827,"creation_date":1362843827,"answer_id":15312561,"question_id":3571203,"body_markdown":"To understand it better, run this following program (in jdk1.7.x) : \r\n\r\n&gt;     $ java -Xms1025k -Xmx1025k -XshowSettings:vm  MemoryTest\r\n\r\nThis will print *jvm* options and the *used*, *free*, *total* and *maximum* memory available in jvm.\r\n\r\n    public class MemoryTest {    \r\n        public static void main(String args[]) {\r\n                    System.out.println(&quot;Used Memory   :  &quot; + (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) + &quot; bytes&quot;);\r\n                    System.out.println(&quot;Free Memory   : &quot; + Runtime.getRuntime().freeMemory() + &quot; bytes&quot;);\r\n                    System.out.println(&quot;Total Memory  : &quot; + Runtime.getRuntime().totalMemory() + &quot; bytes&quot;);\r\n                    System.out.println(&quot;Max Memory    : &quot; + Runtime.getRuntime().maxMemory() + &quot; bytes&quot;);            \r\n            }\r\n    }\r\n\r\n","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>To understand it better, run this following program (in jdk1.7.x) : </p>\n\n<blockquote>\n<pre><code>$ java -Xms1025k -Xmx1025k -XshowSettings:vm  MemoryTest\n</code></pre>\n</blockquote>\n\n<p>This will print <em>jvm</em> options and the <em>used</em>, <em>free</em>, <em>total</em> and <em>maximum</em> memory available in jvm.</p>\n\n<pre><code>public class MemoryTest {    \n    public static void main(String args[]) {\n                System.out.println(\"Used Memory   :  \" + (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) + \" bytes\");\n                System.out.println(\"Free Memory   : \" + Runtime.getRuntime().freeMemory() + \" bytes\");\n                System.out.println(\"Total Memory  : \" + Runtime.getRuntime().totalMemory() + \" bytes\");\n                System.out.println(\"Max Memory    : \" + Runtime.getRuntime().maxMemory() + \" bytes\");            \n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2889895,"reputation":4122,"user_id":2478930,"display_name":"cheneym"},"down_vote_count":0,"up_vote_count":306,"is_accepted":false,"score":306,"last_activity_date":1437477269,"creation_date":1377161343,"answer_id":18375641,"question_id":3571203,"body_markdown":"The names and values are confusing. If you are looking for the *total free memory* you will have to calculate this value by your self. **It is not** what you get from `freeMemory();`.\r\n\r\nSee the following guide:\r\n\r\n**Total designated memory**, this will equal the configured *-Xmx* value:\r\n\r\n&gt;Runtime.getRuntime().maxMemory();\r\n\r\n**Current allocated free memory**, is the current allocated space *ready* for new objects. **Caution** this is not the total free *available* memory:\r\n&gt;Runtime.getRuntime().freeMemory();\r\n\r\n\r\n**Total allocated memory**, is the total allocated space *reserved* for the java process:\r\n\r\n&gt;Runtime.getRuntime().totalMemory();\r\n\r\n**Used memory**, has to be calculated:\r\n\r\n&gt;usedMemory = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\r\n\r\n**Total free memory**, has to be calculated:\r\n\r\n&gt;freeMemory = Runtime.getRuntime().maxMemory() - usedMemory;\r\n\r\n**A picture may help to clarify:**\r\n\r\n&gt;![java runtime memory][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GjuwM.png","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>The names and values are confusing. If you are looking for the <em>total free memory</em> you will have to calculate this value by your self. <strong>It is not</strong> what you get from <code>freeMemory();</code>.</p>\n\n<p>See the following guide:</p>\n\n<p><strong>Total designated memory</strong>, this will equal the configured <em>-Xmx</em> value:</p>\n\n<blockquote>\n  <p>Runtime.getRuntime().maxMemory();</p>\n</blockquote>\n\n<p><strong>Current allocated free memory</strong>, is the current allocated space <em>ready</em> for new objects. <strong>Caution</strong> this is not the total free <em>available</em> memory:</p>\n\n<blockquote>\n  <p>Runtime.getRuntime().freeMemory();</p>\n</blockquote>\n\n<p><strong>Total allocated memory</strong>, is the total allocated space <em>reserved</em> for the java process:</p>\n\n<blockquote>\n  <p>Runtime.getRuntime().totalMemory();</p>\n</blockquote>\n\n<p><strong>Used memory</strong>, has to be calculated:</p>\n\n<blockquote>\n  <p>usedMemory = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();</p>\n</blockquote>\n\n<p><strong>Total free memory</strong>, has to be calculated:</p>\n\n<blockquote>\n  <p>freeMemory = Runtime.getRuntime().maxMemory() - usedMemory;</p>\n</blockquote>\n\n<p><strong>A picture may help to clarify:</strong></p>\n\n<blockquote>\n  <p><img src=\"https://i.stack.imgur.com/GjuwM.png\" alt=\"java runtime memory\"></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":92486,"reputation":45185,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1674991111,"creation_date":1488494800,"answer_id":42567450,"question_id":3571203,"body_markdown":"Codified version of all other answers (at the time of writing):\r\n\r\n    import java.io.*;\r\n    \r\n    /**\r\n     * This class is based on &lt;a href=&quot;http://stackoverflow.com/users/2478930/cheneym&quot;&gt;cheneym&lt;/a&gt;&#39;s\r\n     * &lt;a href=&quot;http://stackoverflow.com/a/18375641/253468&quot;&gt;awesome interpretation&lt;/a&gt;\r\n     * of the Java {@link Runtime}&#39;s memory query methods, which reflects intuitive thinking.\r\n     * Also includes comments and observations from others on the same question, and my own experience.\r\n     * &lt;p&gt;\r\n     * &lt;img src=&quot;https://i.stack.imgur.com/GjuwM.png&quot; alt=&quot;Runtime&#39;s memory interpretation&quot;&gt;\r\n     * &lt;p&gt;\r\n     * &lt;b&gt;JVM memory management crash course&lt;/b&gt;:\r\n     * Java virtual machine process&#39; heap size is bounded by the maximum memory allowed.\r\n     * The startup and maximum size can be configured by JVM arguments.\r\n     * JVMs don&#39;t allocate the maximum memory on startup as the program running may never require that.\r\n     * This is to be a good player and not waste system resources unnecessarily.\r\n     * Instead they allocate some memory and then grow when new allocations require it.\r\n     * The garbage collector will be run at times to clean up unused objects to prevent this growing.\r\n     * Many parameters of this management such as when to grow/shrink or which GC to use\r\n     * can be tuned via advanced configuration parameters on JVM startup.\r\n     *\r\n     * @see &lt;a href=&quot;http://stackoverflow.com/a/42567450/253468&quot;&gt;\r\n     *     What are Runtime.getRuntime().totalMemory() and freeMemory()?&lt;/a&gt;\r\n     * @see &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf&quot;&gt;\r\n     *     Memory Management in the Sun Java HotSpot™ Virtual Machine&lt;/a&gt;\r\n     * @see &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html&quot;&gt;\r\n     *     Full VM options reference for Windows&lt;/a&gt;\r\n     * @see &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html&quot;&gt;\r\n     *     Full VM options reference for Linux, Mac OS X and Solaris&lt;/a&gt;\r\n     * @see &lt;a href=&quot;http://www.oracle.com/technetwork/articles/java/vmoptions-jsp-140102.html&quot;&gt;\r\n     *     Java HotSpot VM Options quick reference&lt;/a&gt;\r\n     */\r\n    public class SystemMemory {\r\n    \r\n    \t// can be white-box mocked for testing\r\n    \tprivate final Runtime runtime = Runtime.getRuntime();\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Total allocated memory&lt;/b&gt;: space currently reserved for the JVM heap within the process.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: this is not the total memory, the JVM may grow the heap for new allocations.\r\n    \t */\r\n    \tpublic long getAllocatedTotal() {\r\n    \t\treturn runtime.totalMemory();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Current allocated free memory&lt;/b&gt;: space immediately ready for new objects.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: this is not the total free available memory,\r\n    \t * the JVM may grow the heap for new allocations.\r\n    \t */\r\n    \tpublic long getAllocatedFree() {\r\n    \t\treturn runtime.freeMemory();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Used memory&lt;/b&gt;:\r\n    \t * Java heap currently used by instantiated objects. \r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: May include no longer referenced objects, soft references, etc.\r\n    \t * that will be swept away by the next garbage collection.\r\n    \t */\r\n    \tpublic long getUsed() {\r\n    \t\treturn getAllocatedTotal() - getAllocatedFree();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Maximum allocation&lt;/b&gt;: the process&#39; allocated memory will not grow any further.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: This may change over time, do not cache it!\r\n    \t * There are some JVMs / garbage collectors that can shrink the allocated process memory.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: If this is true, the JVM will likely run GC more often.\r\n    \t */\r\n    \tpublic boolean isAtMaximumAllocation() {\r\n    \t\treturn getAllocatedTotal() == getTotal();\r\n    \t\t// = return getUnallocated() == 0;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Unallocated memory&lt;/b&gt;: amount of space the process&#39; heap can grow.\r\n    \t */\r\n    \tpublic long getUnallocated() {\r\n    \t\treturn getTotal() - getAllocatedTotal();\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * &lt;b&gt;Total designated memory&lt;/b&gt;: this will equal the configured {@code -Xmx} value.\r\n    \t * &lt;p&gt;\r\n    \t * &lt;i&gt;Caution&lt;/i&gt;: You can never allocate more memory than this, unless you use native code.\r\n    \t */\r\n    \tpublic long getTotal() {\r\n    \t\treturn runtime.maxMemory();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Total free memory&lt;/b&gt;: memory available for new Objects,\r\n    \t * even at the cost of growing the allocated memory of the process.\r\n    \t */\r\n    \tpublic long getFree() {\r\n    \t\treturn getTotal() - getUsed();\r\n    \t\t// = return getAllocatedFree() + getUnallocated();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;b&gt;Unbounded memory&lt;/b&gt;: there is no inherent limit on free memory.\r\n    \t */\r\n    \tpublic boolean isBounded() {\r\n    \t\treturn getTotal() != Long.MAX_VALUE;\r\n    \t}\r\n    \r\n\t\t/**\r\n\t\t * Dump of the current state for debugging or understanding the memory divisions.\r\n\t\t * &lt;p&gt;\r\n\t\t * &lt;i&gt;Caution&lt;/i&gt;: Numbers may not match up exactly as state may change during the call.\r\n\t\t */\r\n\t\tpublic String getCurrentStats() {\r\n\t\t\tStringWriter backing = new StringWriter();\r\n\t\t\tPrintWriter out = new PrintWriter(backing, false);\r\n\t\t\tout.printf(&quot;Total: allocated %,d (%.1f%%) out of possible %,d; %s, %s %,d%n&quot;,\r\n\t\t\t\t\tgetAllocatedTotal(),\r\n\t\t\t\t\t(float)getAllocatedTotal() / (float)getTotal() * 100,\r\n\t\t\t\t\tgetTotal(),\r\n\t\t\t\t\tisBounded()? &quot;bounded&quot; : &quot;unbounded&quot;,\r\n\t\t\t\t\tisAtMaximumAllocation()? &quot;maxed out&quot; : &quot;can grow&quot;,\r\n\t\t\t\t\tgetUnallocated()\r\n\t\t\t);\r\n\t\t\tout.printf(&quot;Used: %,d; %.1f%% of total (%,d); %.1f%% of allocated (%,d)%n&quot;,\r\n\t\t\t\t\tgetUsed(),\r\n\t\t\t\t\t(float)getUsed() / (float)getTotal() * 100,\r\n\t\t\t\t\tgetTotal(),\r\n\t\t\t\t\t(float)getUsed() / (float)getAllocatedTotal() * 100,\r\n\t\t\t\t\tgetAllocatedTotal()\r\n\t\t\t);\r\n\t\t\tout.printf(&quot;Free: %,d (%.1f%%) out of %,d total; %,d (%.1f%%) out of %,d allocated%n&quot;,\r\n\t\t\t\t\tgetFree(),\r\n\t\t\t\t\t(float)getFree() / (float)getTotal() * 100,\r\n\t\t\t\t\tgetTotal(),\r\n\t\t\t\t\tgetAllocatedFree(),\r\n\t\t\t\t\t(float)getAllocatedFree() / (float)getAllocatedTotal() * 100,\r\n\t\t\t\t\tgetAllocatedTotal()\r\n\t\t\t);\r\n\t\t\tout.flush();\r\n\t\t\treturn backing.toString();\r\n\t\t}\r\n    \r\n    \tpublic static void main(String... args) {\r\n    \t\tSystemMemory memory = new SystemMemory();\r\n    \t\tSystem.out.println(memory.getCurrentStats());\r\n    \t}\r\n    }\r\n\r\nExample output:\r\n\r\n```\r\nTotal: allocated 33,554,432 (12.5%) out of possible 268,435,456; bounded, can grow 234,881,024\r\nUsed: 2,392,832; 0.9% of total (268,435,456); 7.1% of allocated (33,554,432)\r\nFree: 266,042,624 (99.1%) out of 268,435,456 total; 31,161,600 (92.9%) out of 33,554,432 allocated\r\n```","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>Codified version of all other answers (at the time of writing):</p>\n<pre><code>import java.io.*;\n\n/**\n * This class is based on &lt;a href=&quot;http://stackoverflow.com/users/2478930/cheneym&quot;&gt;cheneym&lt;/a&gt;'s\n * &lt;a href=&quot;http://stackoverflow.com/a/18375641/253468&quot;&gt;awesome interpretation&lt;/a&gt;\n * of the Java {@link Runtime}'s memory query methods, which reflects intuitive thinking.\n * Also includes comments and observations from others on the same question, and my own experience.\n * &lt;p&gt;\n * &lt;img src=&quot;https://i.stack.imgur.com/GjuwM.png&quot; alt=&quot;Runtime's memory interpretation&quot;&gt;\n * &lt;p&gt;\n * &lt;b&gt;JVM memory management crash course&lt;/b&gt;:\n * Java virtual machine process' heap size is bounded by the maximum memory allowed.\n * The startup and maximum size can be configured by JVM arguments.\n * JVMs don't allocate the maximum memory on startup as the program running may never require that.\n * This is to be a good player and not waste system resources unnecessarily.\n * Instead they allocate some memory and then grow when new allocations require it.\n * The garbage collector will be run at times to clean up unused objects to prevent this growing.\n * Many parameters of this management such as when to grow/shrink or which GC to use\n * can be tuned via advanced configuration parameters on JVM startup.\n *\n * @see &lt;a href=&quot;http://stackoverflow.com/a/42567450/253468&quot;&gt;\n *     What are Runtime.getRuntime().totalMemory() and freeMemory()?&lt;/a&gt;\n * @see &lt;a href=&quot;http://www.oracle.com/technetwork/java/javase/memorymanagement-whitepaper-150215.pdf&quot;&gt;\n *     Memory Management in the Sun Java HotSpot™ Virtual Machine&lt;/a&gt;\n * @see &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html&quot;&gt;\n *     Full VM options reference for Windows&lt;/a&gt;\n * @see &lt;a href=&quot;http://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html&quot;&gt;\n *     Full VM options reference for Linux, Mac OS X and Solaris&lt;/a&gt;\n * @see &lt;a href=&quot;http://www.oracle.com/technetwork/articles/java/vmoptions-jsp-140102.html&quot;&gt;\n *     Java HotSpot VM Options quick reference&lt;/a&gt;\n */\npublic class SystemMemory {\n\n    // can be white-box mocked for testing\n    private final Runtime runtime = Runtime.getRuntime();\n\n    /**\n     * &lt;b&gt;Total allocated memory&lt;/b&gt;: space currently reserved for the JVM heap within the process.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: this is not the total memory, the JVM may grow the heap for new allocations.\n     */\n    public long getAllocatedTotal() {\n        return runtime.totalMemory();\n    }\n\n    /**\n     * &lt;b&gt;Current allocated free memory&lt;/b&gt;: space immediately ready for new objects.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: this is not the total free available memory,\n     * the JVM may grow the heap for new allocations.\n     */\n    public long getAllocatedFree() {\n        return runtime.freeMemory();\n    }\n\n    /**\n     * &lt;b&gt;Used memory&lt;/b&gt;:\n     * Java heap currently used by instantiated objects. \n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: May include no longer referenced objects, soft references, etc.\n     * that will be swept away by the next garbage collection.\n     */\n    public long getUsed() {\n        return getAllocatedTotal() - getAllocatedFree();\n    }\n\n    /**\n     * &lt;b&gt;Maximum allocation&lt;/b&gt;: the process' allocated memory will not grow any further.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: This may change over time, do not cache it!\n     * There are some JVMs / garbage collectors that can shrink the allocated process memory.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: If this is true, the JVM will likely run GC more often.\n     */\n    public boolean isAtMaximumAllocation() {\n        return getAllocatedTotal() == getTotal();\n        // = return getUnallocated() == 0;\n    }\n\n    /**\n     * &lt;b&gt;Unallocated memory&lt;/b&gt;: amount of space the process' heap can grow.\n     */\n    public long getUnallocated() {\n        return getTotal() - getAllocatedTotal();\n    }\n    \n    /**\n     * &lt;b&gt;Total designated memory&lt;/b&gt;: this will equal the configured {@code -Xmx} value.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: You can never allocate more memory than this, unless you use native code.\n     */\n    public long getTotal() {\n        return runtime.maxMemory();\n    }\n\n    /**\n     * &lt;b&gt;Total free memory&lt;/b&gt;: memory available for new Objects,\n     * even at the cost of growing the allocated memory of the process.\n     */\n    public long getFree() {\n        return getTotal() - getUsed();\n        // = return getAllocatedFree() + getUnallocated();\n    }\n\n    /**\n     * &lt;b&gt;Unbounded memory&lt;/b&gt;: there is no inherent limit on free memory.\n     */\n    public boolean isBounded() {\n        return getTotal() != Long.MAX_VALUE;\n    }\n\n    /**\n     * Dump of the current state for debugging or understanding the memory divisions.\n     * &lt;p&gt;\n     * &lt;i&gt;Caution&lt;/i&gt;: Numbers may not match up exactly as state may change during the call.\n     */\n    public String getCurrentStats() {\n        StringWriter backing = new StringWriter();\n        PrintWriter out = new PrintWriter(backing, false);\n        out.printf(&quot;Total: allocated %,d (%.1f%%) out of possible %,d; %s, %s %,d%n&quot;,\n                getAllocatedTotal(),\n                (float)getAllocatedTotal() / (float)getTotal() * 100,\n                getTotal(),\n                isBounded()? &quot;bounded&quot; : &quot;unbounded&quot;,\n                isAtMaximumAllocation()? &quot;maxed out&quot; : &quot;can grow&quot;,\n                getUnallocated()\n        );\n        out.printf(&quot;Used: %,d; %.1f%% of total (%,d); %.1f%% of allocated (%,d)%n&quot;,\n                getUsed(),\n                (float)getUsed() / (float)getTotal() * 100,\n                getTotal(),\n                (float)getUsed() / (float)getAllocatedTotal() * 100,\n                getAllocatedTotal()\n        );\n        out.printf(&quot;Free: %,d (%.1f%%) out of %,d total; %,d (%.1f%%) out of %,d allocated%n&quot;,\n                getFree(),\n                (float)getFree() / (float)getTotal() * 100,\n                getTotal(),\n                getAllocatedFree(),\n                (float)getAllocatedFree() / (float)getAllocatedTotal() * 100,\n                getAllocatedTotal()\n        );\n        out.flush();\n        return backing.toString();\n    }\n\n    public static void main(String... args) {\n        SystemMemory memory = new SystemMemory();\n        System.out.println(memory.getCurrentStats());\n    }\n}\n</code></pre>\n<p>Example output:</p>\n<pre><code>Total: allocated 33,554,432 (12.5%) out of possible 268,435,456; bounded, can grow 234,881,024\nUsed: 2,392,832; 0.9% of total (268,435,456); 7.1% of allocated (33,554,432)\nFree: 266,042,624 (99.1%) out of 268,435,456 total; 31,161,600 (92.9%) out of 33,554,432 allocated\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7255085,"reputation":77,"user_id":5534037,"display_name":"GAbriel lopez"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1552910149,"creation_date":1552910149,"answer_id":55220799,"question_id":3571203,"body_markdown":"You can see the results in **MB format**, with the division of *1024 x 1024* which is equal to **1 MB**.\r\n\r\n    int dataSize = 1024 * 1024;\r\n        \r\n    System.out.println(&quot;Used Memory   : &quot; + (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory())/dataSize + &quot; MB&quot;);\r\n    System.out.println(&quot;Free Memory   : &quot; + Runtime.getRuntime().freeMemory()/dataSize + &quot; MB&quot;);\r\n    System.out.println(&quot;Total Memory  : &quot; + Runtime.getRuntime().totalMemory()/dataSize + &quot; MB&quot;);\r\n    System.out.println(&quot;Max Memory    : &quot; + Runtime.getRuntime().maxMemory()/dataSize + &quot; MB&quot;);  \r\n\r\n","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>You can see the results in <strong>MB format</strong>, with the division of <em>1024 x 1024</em> which is equal to <strong>1 MB</strong>.</p>\n\n<pre><code>int dataSize = 1024 * 1024;\n\nSystem.out.println(\"Used Memory   : \" + (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory())/dataSize + \" MB\");\nSystem.out.println(\"Free Memory   : \" + Runtime.getRuntime().freeMemory()/dataSize + \" MB\");\nSystem.out.println(\"Total Memory  : \" + Runtime.getRuntime().totalMemory()/dataSize + \" MB\");\nSystem.out.println(\"Max Memory    : \" + Runtime.getRuntime().maxMemory()/dataSize + \" MB\");  \n</code></pre>\n"}],"owner":{"account_id":93708,"reputation":17827,"user_id":256239,"accept_rate":61,"display_name":"user256239"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132105,"favorite_count":0,"down_vote_count":0,"up_vote_count":183,"accepted_answer_id":3571231,"answer_count":7,"score":183,"last_activity_date":1674991111,"creation_date":1282781703,"question_id":3571203,"body_markdown":"I&#39;ve been wondering what the exact meaning of  [Runtime.getRuntime().totalMemory()][1], [Runtime.getRuntime().freeMemory()][2], and [Runtime.getRuntime().maxMemory()][3] is.\r\n\r\nMy understanding is, `Runtime.getRuntime().totalMemory()` returns the total memory my process is using. Is that correct? \r\n\r\nHow about `freeMemory()` and `maxMemory()`?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#totalMemory--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#freeMemory--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#maxMemory--","title":"What are Runtime.getRuntime().totalMemory() and freeMemory()?","body":"<p>I've been wondering what the exact meaning of  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#totalMemory--\" rel=\"noreferrer\">Runtime.getRuntime().totalMemory()</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#freeMemory--\" rel=\"noreferrer\">Runtime.getRuntime().freeMemory()</a>, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#maxMemory--\" rel=\"noreferrer\">Runtime.getRuntime().maxMemory()</a> is.</p>\n\n<p>My understanding is, <code>Runtime.getRuntime().totalMemory()</code> returns the total memory my process is using. Is that correct? </p>\n\n<p>How about <code>freeMemory()</code> and <code>maxMemory()</code>?</p>\n"},{"tags":["java","jdbc","jar","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":26299345,"reputation":375,"user_id":19965045,"display_name":"Sarthak"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674990146,"creation_date":1674990146,"answer_id":75274354,"question_id":75274275,"body_markdown":"so I faced this a while back, I was using Bluej as the IDE which solved the issue. Any how to connect mysql connector to classpath, we have to give location of jar file in dependency if using IDE, or in command if running directly via terminal.\r\nFor IntelliJ IDE, try following [this](https://www.geeksforgeeks.org/how-to-add-external-jar-file-to-an-intellij-idea-project/) and check if it solves the issue.\r\n\r\nAs for the terminal, you can try \r\n`` java.exe -classpath D:\\lib*Main script.java ``\r\nI created a [README](https://github.com/sarthak-19/Bitnine-Coding-Test/tree/main/Q5) file with explaining basic operations using MYSQL driver. You can check this out if it helps.","title":"unable to connect mysql connector to intellij idea(JDBC problem)","body":"<p>so I faced this a while back, I was using Bluej as the IDE which solved the issue. Any how to connect mysql connector to classpath, we have to give location of jar file in dependency if using IDE, or in command if running directly via terminal.\nFor IntelliJ IDE, try following <a href=\"https://www.geeksforgeeks.org/how-to-add-external-jar-file-to-an-intellij-idea-project/\" rel=\"nofollow noreferrer\">this</a> and check if it solves the issue.</p>\n<p>As for the terminal, you can try\n<code>java.exe -classpath D:\\lib*Main script.java</code>\nI created a <a href=\"https://github.com/sarthak-19/Bitnine-Coding-Test/tree/main/Q5\" rel=\"nofollow noreferrer\">README</a> file with explaining basic operations using MYSQL driver. You can check this out if it helps.</p>\n"}],"owner":{"account_id":27648509,"reputation":1,"user_id":21103921,"display_name":"Sanan Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675174408,"answer_count":1,"score":0,"last_activity_date":1674990146,"creation_date":1674989233,"question_id":75274275,"body_markdown":"I am facing problem to connect MySQL connector to class path .I am trying to do it on every possible way and I am doing everything right but on command prompt it is constantly showing &quot;class not found&quot;. please somebody help me I am facing this issue since last two days.\r\n\r\n1. I try convert zip(win rare)file to jar file and \r\n2. I also try solve the problem through control panel\r\n","title":"unable to connect mysql connector to intellij idea(JDBC problem)","body":"<p>I am facing problem to connect MySQL connector to class path .I am trying to do it on every possible way and I am doing everything right but on command prompt it is constantly showing &quot;class not found&quot;. please somebody help me I am facing this issue since last two days.</p>\n<ol>\n<li>I try convert zip(win rare)file to jar file and</li>\n<li>I also try solve the problem through control panel</li>\n</ol>\n"},{"tags":["java","spring","swagger","swagger-ui","springfox"],"comments":[{"owner":{"account_id":3868488,"reputation":141,"user_id":3204417,"display_name":"doom4s"},"score":0,"creation_date":1674944701,"post_id":75271194,"comment_id":132823205,"body_markdown":"What is the version of the swagger and how did you bootstrapped it ?","body":"What is the version of the swagger and how did you bootstrapped it ?"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1674990269,"post_id":75271194,"comment_id":132828115,"body_markdown":"Please check the [existing Q&amp;As](https://stackoverflow.com/search?q=%22unable+to+infer+base+url%22) about the &quot;unable to infer base URL&quot; error and see if any of the proposed solutions help.","body":"Please check the <a href=\"https://stackoverflow.com/search?q=%22unable+to+infer+base+url%22\">existing Q&amp;As</a> about the &quot;unable to infer base URL&quot; error and see if any of the proposed solutions help."}],"answers":[{"tags":[],"owner":{"account_id":24864493,"reputation":1,"user_id":18739790,"display_name":"moneyyiiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674946752,"creation_date":1674946752,"answer_id":75271497,"question_id":75271194,"body_markdown":"The error message &quot;Unable to infer base url&quot; often shows a failure of the Swagger UI to locate the API documentation automatically. This may occur when utilising dynamic servlet registration or when the API is protected by an API Gateway.\r\nYou can manually input the base url for the API documentation in the field provided to fix this error, such as http://localhost:8080/swagger-ui.html, or if the API is protected by an API Gateway, you can enter the right URL for the API Gateway.","title":"Swagger UI gives me this error message: Unable to infer base url","body":"<p>The error message &quot;Unable to infer base url&quot; often shows a failure of the Swagger UI to locate the API documentation automatically. This may occur when utilising dynamic servlet registration or when the API is protected by an API Gateway.\nYou can manually input the base url for the API documentation in the field provided to fix this error, such as http://localhost:8080/swagger-ui.html, or if the API is protected by an API Gateway, you can enter the right URL for the API Gateway.</p>\n"}],"owner":{"account_id":19975204,"reputation":1,"user_id":14639699,"display_name":"Souvik Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674990120,"creation_date":1674943128,"question_id":75271194,"body_markdown":"What can I do to get rid of this error message I see whenever I try to open my Swagger UI documentation on localhost:\r\n&gt; Unable to infer base url. This is common when using dynamic servlet registration or when the API is behind an API Gateway.\r\n\r\n[screenshot of the error dialog](https://i.stack.imgur.com/V2ENR.png)","title":"Swagger UI gives me this error message: Unable to infer base url","body":"<p>What can I do to get rid of this error message I see whenever I try to open my Swagger UI documentation on localhost:</p>\n<blockquote>\n<p>Unable to infer base url. This is common when using dynamic servlet registration or when the API is behind an API Gateway.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/V2ENR.png\" rel=\"nofollow noreferrer\">screenshot of the error dialog</a></p>\n"},{"tags":["java","android","firebase-realtime-database","ads"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1674989409,"post_id":75274254,"comment_id":132827973,"body_markdown":"Given that the value of `Reklama` in your database is `1`, it seems correct that only the `if (Reklama == 1) {` block is executed. Can you explain what you expected to happen instead?","body":"Given that the value of <code>Reklama</code> in your database is <code>1</code>, it seems correct that only the <code>if (Reklama == 1) {</code> block is executed. Can you explain what you expected to happen instead?"},{"owner":{"account_id":27638879,"reputation":13,"user_id":21096249,"display_name":"ploxo"},"score":0,"creation_date":1674989808,"post_id":75274254,"comment_id":132828035,"body_markdown":"@FrankvanPuffelen &quot;Reklama&quot; - Switch between video ads and interstitial ads. if Reklama == 1 -&gt; Interstitial Displayed / if Reklama == 2 -&gt; Video displayed.","body":"@FrankvanPuffelen &quot;Reklama&quot; - Switch between video ads and interstitial ads. if Reklama == 1 -&gt; Interstitial Displayed / if Reklama == 2 -&gt; Video displayed."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674989834,"post_id":75274254,"comment_id":132828040,"body_markdown":"As @FrankvanPuffelen said, and also you set the variable for your `switch` statements to 1 immediately before the switch so clearly there’s no possibility of the other options ever being executed.","body":"As @FrankvanPuffelen said, and also you set the variable for your <code>switch</code> statements to 1 immediately before the switch so clearly there’s no possibility of the other options ever being executed."},{"owner":{"account_id":27638879,"reputation":13,"user_id":21096249,"display_name":"ploxo"},"score":0,"creation_date":1674990836,"post_id":75274254,"comment_id":132828194,"body_markdown":"@racraman, \nMy problem is that the first ad is checked and loaded, how can I make sure that all three ads are checked but only one is loaded?\nThe problem is in : int ReklamaInt = 1;\n            switch (ReklamaInt) {","body":"@racraman,  My problem is that the first ad is checked and loaded, how can I make sure that all three ads are checked but only one is loaded? The problem is in : int ReklamaInt = 1;             switch (ReklamaInt) {"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674992007,"post_id":75274254,"comment_id":132828406,"body_markdown":"Nothing in the code you show is about making anything “checked”, so nobody can help you there.   Nor do you show anything that progresses through the sequence, any incrementing of values.   ALL that you show is that you hardcode a value to 1 and then switch on that, so all we can say is “don’t hardcode that value to 1”.  Instead, the switch statements should be controlled by the variables you use to step through the ads.","body":"Nothing in the code you show is about making anything “checked”, so nobody can help you there.   Nor do you show anything that progresses through the sequence, any incrementing of values.   ALL that you show is that you hardcode a value to 1 and then switch on that, so all we can say is “don’t hardcode that value to 1”.  Instead, the switch statements should be controlled by the variables you use to step through the ads."}],"owner":{"account_id":27638879,"reputation":13,"user_id":21096249,"display_name":"ploxo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674989322,"creation_date":1674988931,"question_id":75274254,"body_markdown":"![This is what my database looks like ,](https://i.stack.imgur.com/WPHRd.png)\r\n\r\nif the first ad block is loaded -&gt; stop checking and execute it -&gt; if the first one is not loaded -&gt; check the second one -&gt; the second one is loaded -&gt; stop checking -&gt; the second one is not loaded -&gt; check the third one .\r\n\r\nTried to execute through Switch case. Only the first block is executed. Please help me figure out what the problem is.\r\n\r\n\r\n```\r\nmDatabase = FirebaseDatabase.getInstance().getReference(&quot;Reklama&quot;);\r\nmDatabase.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    // Switch between video ads and interstitial ads. if Reklama == 1 -&gt; Interstitial / if Reklama == 2 -&gt; Video.\r\n        int Reklama = Math.toIntExact((Long) snapshot.getValue());\r\n        //ad matching cycle\r\n        if (Reklama == 1) {\r\n            final int adUnit1 = 1;\r\n            final int adUnit2 = 2;\r\n            final int adUnit3 = 3;\r\n            int ReklamaInt = 1;\r\n            switch (ReklamaInt) {\r\n                case adUnit1:\r\n                    mInterstitialAd.loadAd(adRequest);\r\n                    break;\r\n                case adUnit2:\r\n                    mInterstitialAdMid.loadAd(adRequest);\r\n                    break;\r\n                case adUnit3:\r\n                    mInterstitialAdLow.loadAd(adRequest);\r\n                    break;\r\n                default:\r\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + ReklamaInt);\r\n            }\r\n        }\r\n        //ad matching cycle\r\n        else if (Reklama == 2) {\r\n            final int adUnit1 = 1;\r\n            final int adUnit2 = 2;\r\n            final int adUnit3 = 3;\r\n            int ReklamaReward = 1;\r\n            switch (ReklamaReward){\r\n                case adUnit1:\r\n                    mRewardedAd.loadAd(adRequest);\r\n                    break;\r\n                case adUnit2:\r\n                    mRewardedAdMid.loadAd(adRequest);\r\n                    break;\r\n                case adUnit3:\r\n                    mRewardedAdLow.loadAd(adRequest);\r\n                    break;\r\n                default:\r\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + ReklamaReward);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n```\r\n\r\n","title":"How to check conditions in succession?","body":"<p><img src=\"https://i.stack.imgur.com/WPHRd.png\" alt=\"This is what my database looks like ,\" /></p>\n<p>if the first ad block is loaded -&gt; stop checking and execute it -&gt; if the first one is not loaded -&gt; check the second one -&gt; the second one is loaded -&gt; stop checking -&gt; the second one is not loaded -&gt; check the third one .</p>\n<p>Tried to execute through Switch case. Only the first block is executed. Please help me figure out what the problem is.</p>\n<pre><code>mDatabase = FirebaseDatabase.getInstance().getReference(&quot;Reklama&quot;);\nmDatabase.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n    // Switch between video ads and interstitial ads. if Reklama == 1 -&gt; Interstitial / if Reklama == 2 -&gt; Video.\n        int Reklama = Math.toIntExact((Long) snapshot.getValue());\n        //ad matching cycle\n        if (Reklama == 1) {\n            final int adUnit1 = 1;\n            final int adUnit2 = 2;\n            final int adUnit3 = 3;\n            int ReklamaInt = 1;\n            switch (ReklamaInt) {\n                case adUnit1:\n                    mInterstitialAd.loadAd(adRequest);\n                    break;\n                case adUnit2:\n                    mInterstitialAdMid.loadAd(adRequest);\n                    break;\n                case adUnit3:\n                    mInterstitialAdLow.loadAd(adRequest);\n                    break;\n                default:\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + ReklamaInt);\n            }\n        }\n        //ad matching cycle\n        else if (Reklama == 2) {\n            final int adUnit1 = 1;\n            final int adUnit2 = 2;\n            final int adUnit3 = 3;\n            int ReklamaReward = 1;\n            switch (ReklamaReward){\n                case adUnit1:\n                    mRewardedAd.loadAd(adRequest);\n                    break;\n                case adUnit2:\n                    mRewardedAdMid.loadAd(adRequest);\n                    break;\n                case adUnit3:\n                    mRewardedAdLow.loadAd(adRequest);\n                    break;\n                default:\n                    throw new IllegalStateException(&quot;Unexpected value: &quot; + ReklamaReward);\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":13830008,"reputation":89,"user_id":9983181,"display_name":"CoderMSL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674989285,"creation_date":1674988669,"answer_id":75274239,"question_id":75274084,"body_markdown":"If you would like to get user input as a `BigDecimal` then you can use one of `Scanner` class method [`nextBigDecimal()`][1] To convert existing `double` to `BigDecimal` you can use `BigDecimal.valueOf()` method. \r\n\r\nCode sample: \r\n```\r\n\r\n    public static void main(String[] args) {\r\n        var scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Enter BigDecimal&quot;);\r\n        var number = scanner.nextBigDecimal();\r\n        System.out.println(&quot;BigDecimal from user input: &quot; + number);\r\n\r\n        var doubleNumber = 2.15;\r\n        var decimal = BigDecimal.valueOf(doubleNumber);\r\n        System.out.println(&quot;Double converted to BigDecimal: &quot; + decimal);\r\n    }\r\n\r\n```\r\nListing:\r\n```\r\nEnter BigDecimal\r\n2,15\r\nBigDecimal from user input: 2.15\r\nDouble converted to BigDecimal: 2.15\r\n\r\nProcess finished with exit code 0\r\n```\r\nKeep in mind that while converting `double` to `BigDecimal` you may loose some accuracy of data, because `double` is less accurate comparing to `BigDecimal`. \r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextBigDecimal()","title":"Bigdecimal userinput or double to Bigdecimal","body":"<p>If you would like to get user input as a <code>BigDecimal</code> then you can use one of <code>Scanner</code> class method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextBigDecimal()\" rel=\"nofollow noreferrer\"><code>nextBigDecimal()</code></a> To convert existing <code>double</code> to <code>BigDecimal</code> you can use <code>BigDecimal.valueOf()</code> method.</p>\n<p>Code sample:</p>\n<pre><code>\n    public static void main(String[] args) {\n        var scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter BigDecimal&quot;);\n        var number = scanner.nextBigDecimal();\n        System.out.println(&quot;BigDecimal from user input: &quot; + number);\n\n        var doubleNumber = 2.15;\n        var decimal = BigDecimal.valueOf(doubleNumber);\n        System.out.println(&quot;Double converted to BigDecimal: &quot; + decimal);\n    }\n\n</code></pre>\n<p>Listing:</p>\n<pre><code>Enter BigDecimal\n2,15\nBigDecimal from user input: 2.15\nDouble converted to BigDecimal: 2.15\n\nProcess finished with exit code 0\n</code></pre>\n<p>Keep in mind that while converting <code>double</code> to <code>BigDecimal</code> you may loose some accuracy of data, because <code>double</code> is less accurate comparing to <code>BigDecimal</code>.</p>\n"}],"owner":{"account_id":17427245,"reputation":13,"user_id":12631934,"display_name":"Andrew Sadler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75274239,"answer_count":1,"score":0,"last_activity_date":1674989285,"creation_date":1674986888,"question_id":75274084,"body_markdown":"I am creating a Currency converter using BigDecimal and now I am suck with an issue.\r\n\r\nI have a user-defined number - &quot;Amount&quot; (this is the amount of currency you want to convert)\r\n\r\nI am putting that userValue through the scanner class but I have only ever done this successfully with the following :\r\n\r\n```java\r\nint userInput = new scanner.nextint();\r\n```\r\nI would have loved userinput to be passed as a BigDecimal\r\n\r\nbut my understanding of java is very limited.\r\n\r\nwould you suggest converting the double to BigDecimal or is there a much simple way.","title":"Bigdecimal userinput or double to Bigdecimal","body":"<p>I am creating a Currency converter using BigDecimal and now I am suck with an issue.</p>\n<p>I have a user-defined number - &quot;Amount&quot; (this is the amount of currency you want to convert)</p>\n<p>I am putting that userValue through the scanner class but I have only ever done this successfully with the following :</p>\n<pre class=\"lang-java prettyprint-override\"><code>int userInput = new scanner.nextint();\n</code></pre>\n<p>I would have loved userinput to be passed as a BigDecimal</p>\n<p>but my understanding of java is very limited.</p>\n<p>would you suggest converting the double to BigDecimal or is there a much simple way.</p>\n"},{"tags":["java","selenium","selenium-chromedriver","browser-automation"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1674959682,"post_id":75270044,"comment_id":132824902,"body_markdown":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why [a screenshot of code/HTML is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Paste the code/HTML/error message and properly format it instead.","body":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">a screenshot of code/HTML is a bad idea</a>. Paste the code/HTML/error message and properly format it instead."},{"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"score":0,"creation_date":1675130339,"post_id":75270044,"comment_id":132858394,"body_markdown":"Restructuring your code something to below will work.\ndriver.manage().window().maximize();\ndriver.get(&quot;https://baasithfazil.github.io/resume/&quot;);\nWebElement elem = driver.findElement(By.cssSelector(&quot;a.nav-twitter&quot;));\nelem.click();","body":"Restructuring your code something to below will work. driver.manage().window().maximize(); driver.get(&quot;<a href=\"https://baasithfazil.github.io/resume/&quot;\" rel=\"nofollow noreferrer\">baasithfazil.github.io/resume/&quot;</a>); WebElement elem = driver.findElement(By.cssSelector(&quot;a.nav-twitter&quot;)); elem.click();"}],"answers":[{"tags":[],"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674937726,"creation_date":1674937726,"answer_id":75270659,"question_id":75270044,"body_markdown":"Whenever you are initiating webdriver make sure to add implicit wait statement, so it can wait for sometime before looking for objects. Add below statement right after chromedriver initialization and your code should work without any issues.\r\n\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);","title":"cant find the element using classname in selenium java","body":"<p>Whenever you are initiating webdriver make sure to add implicit wait statement, so it can wait for sometime before looking for objects. Add below statement right after chromedriver initialization and your code should work without any issues.</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674944797,"creation_date":1674944797,"answer_id":75271332,"question_id":75270044,"body_markdown":"Your locator is slightly off. In your code you are looking for an element with _tagName_ as _`twitter`_ which doesn&#39;t exists. Instead you can use either of the following [_locator strategies_](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  WebElement navTwitter = driver.findElement(By.cssSelector(&quot;a.nav-twitter[name=&#39;twitter&#39;]&quot;));\r\n\t  navTwitter.click();\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  WebElement navTwitter = driver.findElement(By.xpath(&quot;//a[@class=&#39;nav-twitter&#39; and name=&#39;twitter&#39;]&quot;));\r\n\t  navTwitter.click();","title":"cant find the element using classname in selenium java","body":"<p>Your locator is slightly off. In your code you are looking for an element with <em>tagName</em> as <em><code>twitter</code></em> which doesn't exists. Instead you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>WebElement navTwitter = driver.findElement(By.cssSelector(&quot;a.nav-twitter[name='twitter']&quot;));\nnavTwitter.click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>WebElement navTwitter = driver.findElement(By.xpath(&quot;//a[@class='nav-twitter' and name='twitter']&quot;));\nnavTwitter.click();\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10476413,"reputation":11,"user_id":7722807,"display_name":"akansh singhal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674989273,"creation_date":1674989273,"answer_id":75274278,"question_id":75270044,"body_markdown":"You have used wrong selector/locator here. &quot;twitter&quot; is not tag name, Tag name is the value from less than symbol to the first space or greater than symbol. Words like div, p, a, span are the tag names. \r\n\r\nSo here a is the tag name and name, class, href are attribute which you can use while forming xpath or css locators. So you can create multiple locators here:\r\n\r\n 1. By using class name attribute\r\n\r\n        By.className(&quot;nav-twitter&quot;);\r\n\r\n 2. By creating xpath using name attribute\r\n\r\n        By.xpath(&quot;//a[@name=&#39;twitter&#39;]&quot;);]\r\n\r\n 3. By creating xpath using class attribute\r\n\r\n        By.xpath(&quot;//a[@class=&#39;nav-twitter&#39;]&quot;);\r\n\r\n 4. By creating css locator using class attribute. \r\n\r\n        By.cssSelector(&quot;a[class*=&#39;nav-twitter&#39;]&quot;);\r\n\r\n 5. By using dot symbol in css selector with class name\r\n\r\n        By.cssSelector(&quot;a.nav-twitter&quot;);\r\n\r\nSimilarly you can create css selector with name too. Since there are multiple &lt;a&gt; tags, so you can not use a tag directly and If you want to use `By.tagName(&quot;a&quot;)` then it will click on first &lt;a&gt; tag present on the page\r\n\r\n\r\n*Note: We use dot with class name and Hash (#) with Id name while forming css selectors.*","title":"cant find the element using classname in selenium java","body":"<p>You have used wrong selector/locator here. &quot;twitter&quot; is not tag name, Tag name is the value from less than symbol to the first space or greater than symbol. Words like div, p, a, span are the tag names.</p>\n<p>So here a is the tag name and name, class, href are attribute which you can use while forming xpath or css locators. So you can create multiple locators here:</p>\n<ol>\n<li><p>By using class name attribute</p>\n<pre><code>By.className(&quot;nav-twitter&quot;);\n</code></pre>\n</li>\n<li><p>By creating xpath using name attribute</p>\n<pre><code>By.xpath(&quot;//a[@name='twitter']&quot;);]\n</code></pre>\n</li>\n<li><p>By creating xpath using class attribute</p>\n<pre><code>By.xpath(&quot;//a[@class='nav-twitter']&quot;);\n</code></pre>\n</li>\n<li><p>By creating css locator using class attribute.</p>\n<pre><code>By.cssSelector(&quot;a[class*='nav-twitter']&quot;);\n</code></pre>\n</li>\n<li><p>By using dot symbol in css selector with class name</p>\n<pre><code>By.cssSelector(&quot;a.nav-twitter&quot;);\n</code></pre>\n</li>\n</ol>\n<p>Similarly you can create css selector with name too. Since there are multiple  tags, so you can not use a tag directly and If you want to use <code>By.tagName(&quot;a&quot;)</code> then it will click on first  tag present on the page</p>\n<p><em>Note: We use dot with class name and Hash (#) with Id name while forming css selectors.</em></p>\n"}],"owner":{"account_id":18844892,"reputation":13,"user_id":13745453,"display_name":"Baasith Fazil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":3,"score":-4,"last_activity_date":1674989273,"creation_date":1674931548,"question_id":75270044,"body_markdown":"I&#39;am using selenium framework to test my own website. Im trying to click on specific icon which using anchor tag. I have java selenium code to click but couldn&#39;t click. Tried many xpath, css selectors, class name and names. but didn&#39;t worked. But can run the script and it is opening the chrome and navigating to entered domain but the clicking option is not working[![This the code of my website][1]][1] \r\n\r\n\r\nabove code I need to click nav-twitter class anchor option . which will create another tab in chrome to show my twitter page. but after running the app .it is only navigating to the page domain and nothing works.\r\n\r\n\r\n[![Selenium Code Snippets][2]][2]\r\n\r\n\r\nSo, This is my code where I have added. until the maximize everything works but not the anchor tag\r\n\r\n\r\n[![Error Image][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RxgeB.png\r\n  [2]: https://i.stack.imgur.com/ak2IL.png\r\n  [3]: https://i.stack.imgur.com/7mHsC.png\r\n\r\nThis kind of error im getting when running the script in chrome. Please anyone let me know where I have been wrong here or is there are any way to make it happen. Thanks in advance.","title":"cant find the element using classname in selenium java","body":"<p>I'am using selenium framework to test my own website. Im trying to click on specific icon which using anchor tag. I have java selenium code to click but couldn't click. Tried many xpath, css selectors, class name and names. but didn't worked. But can run the script and it is opening the chrome and navigating to entered domain but the clicking option is not working<a href=\"https://i.stack.imgur.com/RxgeB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RxgeB.png\" alt=\"This the code of my website\" /></a></p>\n<p>above code I need to click nav-twitter class anchor option . which will create another tab in chrome to show my twitter page. but after running the app .it is only navigating to the page domain and nothing works.</p>\n<p><a href=\"https://i.stack.imgur.com/ak2IL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ak2IL.png\" alt=\"Selenium Code Snippets\" /></a></p>\n<p>So, This is my code where I have added. until the maximize everything works but not the anchor tag</p>\n<p><a href=\"https://i.stack.imgur.com/7mHsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7mHsC.png\" alt=\"Error Image\" /></a></p>\n<p>This kind of error im getting when running the script in chrome. Please anyone let me know where I have been wrong here or is there are any way to make it happen. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":17139355,"reputation":1,"user_id":13914848,"display_name":"Виктор"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674988761,"creation_date":1674977859,"question_id":75273292,"body_markdown":"How to do the same that I pointed using Spring Boot (+Security)? Implementation of WebMvcConfigurer interface resets a lots settings, which were performed by Spring BOOT did automatically. For example, setting in application.properties &quot;spring.mvc.hiddenmethod.filter.enabled=true&quot; stopped to work. Question in that how to setting a binding of multiple ResourceHandler:ResourceLocation pairs without configuring the extra.\r\nI don&#39;t know how to make things right.\r\n\r\n```java\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/css/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/assets/css/&quot;);\r\n            registry.addResourceHandler(&quot;/images/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/assets/images/&quot;);\r\n            registry.addResourceHandler(&quot;/js/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/static/assets/js/&quot;);\r\n            registry.addResourceHandler(&quot;/person-storage/**&quot;)\r\n                    .addResourceLocations(&quot;classpath:/storage/person-images/&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nI tried to use settings in application.properties for spring boot. I tried to create @Bean of &quot;addResourceHandler&quot; to I won&#39;t implement interface WebMvcConfigurer fully.","title":"Config resource handlers for Spring Boot","body":"<p>How to do the same that I pointed using Spring Boot (+Security)? Implementation of WebMvcConfigurer interface resets a lots settings, which were performed by Spring BOOT did automatically. For example, setting in application.properties &quot;spring.mvc.hiddenmethod.filter.enabled=true&quot; stopped to work. Question in that how to setting a binding of multiple ResourceHandler:ResourceLocation pairs without configuring the extra.\nI don't know how to make things right.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    @EnableWebMvc\n    public class MvcConfig implements WebMvcConfigurer {\n        @Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(&quot;/css/**&quot;)\n                    .addResourceLocations(&quot;classpath:/static/assets/css/&quot;);\n            registry.addResourceHandler(&quot;/images/**&quot;)\n                    .addResourceLocations(&quot;classpath:/static/assets/images/&quot;);\n            registry.addResourceHandler(&quot;/js/**&quot;)\n                    .addResourceLocations(&quot;classpath:/static/assets/js/&quot;);\n            registry.addResourceHandler(&quot;/person-storage/**&quot;)\n                    .addResourceLocations(&quot;classpath:/storage/person-images/&quot;);\n        }\n    }\n</code></pre>\n<p>I tried to use settings in application.properties for spring boot. I tried to create @Bean of &quot;addResourceHandler&quot; to I won't implement interface WebMvcConfigurer fully.</p>\n"},{"tags":["java","c#",".net","static-import"],"comments":[{"owner":{"account_id":4175009,"reputation":1660,"user_id":3421814,"accept_rate":75,"display_name":"Andrej Adamenko"},"score":0,"creation_date":1449479890,"post_id":7692826,"comment_id":56007932,"body_markdown":"Possible duplicate of [Is it possible to reference a method in a static class without referencing the class?](http://stackoverflow.com/questions/30671769/is-it-possible-to-reference-a-method-in-a-static-class-without-referencing-the-c)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/30671769/is-it-possible-to-reference-a-method-in-a-static-class-without-referencing-the-c\">Is it possible to reference a method in a static class without referencing the class?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14332,"reputation":1027392,"user_id":29407,"accept_rate":86,"display_name":"Darin Dimitrov"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1318023934,"creation_date":1318021405,"answer_id":7692839,"question_id":7692826,"body_markdown":"No, such feature doesn&#39;t exist in C#. You need to specify the class that the static method belongs to unless you are already inside a method of this same class.\r\n\r\nIn C# though you have [extension methods][1] which kind of mimic this.\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/bb383977.aspx","title":"static imports in c#","body":"<p>No, such feature doesn't exist in C#. You need to specify the class that the static method belongs to unless you are already inside a method of this same class.</p>\n\n<p>In C# though you have <a href=\"http://msdn.microsoft.com/en-us/library/bb383977.aspx\">extension methods</a> which kind of mimic this.</p>\n"},{"tags":[],"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1443874257,"creation_date":1318021441,"answer_id":7692845,"question_id":7692826,"body_markdown":"Starting with C# 6.0, this is possible:\r\n\r\n    using static FileHelper;\r\n\r\n    // in a member\r\n    ExtractSimpleFileName(file)\r\n\r\n----\r\n\r\nHowever, previous versions of C# do not have static imports.\r\n\r\nYou can get close with an alias for the type.\r\n\r\n    using FH = namespace.FileHelper;\r\n    \r\n    // in a member\r\n    FH.ExtractSimpleFileName(file)\r\n\r\nAlternatively, change the static method to an [extension method][1] on the type - you would then be able to call it as:\r\n\r\n    var value = file.ExtractSimpleFileName();\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/bb383977.aspx","title":"static imports in c#","body":"<p>Starting with C# 6.0, this is possible:</p>\n\n<pre><code>using static FileHelper;\n\n// in a member\nExtractSimpleFileName(file)\n</code></pre>\n\n<hr>\n\n<p>However, previous versions of C# do not have static imports.</p>\n\n<p>You can get close with an alias for the type.</p>\n\n<pre><code>using FH = namespace.FileHelper;\n\n// in a member\nFH.ExtractSimpleFileName(file)\n</code></pre>\n\n<p>Alternatively, change the static method to an <a href=\"http://msdn.microsoft.com/en-us/library/bb383977.aspx\" rel=\"noreferrer\">extension method</a> on the type - you would then be able to call it as:</p>\n\n<pre><code>var value = file.ExtractSimpleFileName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3350,"reputation":22909,"user_id":4830,"accept_rate":80,"display_name":"Michiel van Oosterhout"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1404829563,"creation_date":1404829563,"answer_id":24634374,"question_id":7692826,"body_markdown":"Time marches on... it looks like C# might get static imports in the next version, see http://msdn.microsoft.com/en-us/magazine/dn683793.aspx for a preview.\r\n\r\n    using System;\r\n    using System.Console; // using the Console class here\r\n\r\n    public class Program\r\n    {\r\n        public static void Main()\r\n        {\r\n            // Console.WriteLine is called here\r\n            WriteLine(&quot;Hello world!&quot;);\r\n        }\r\n    }\r\n\r\nThe [official documentation][1] for the &#39;Roslyn&#39; C# compiler lists the feature as &#39;done&#39;\r\n\r\n\r\n  [1]: https://roslyn.codeplex.com/wikipage?title=Language%20Feature%20Status&amp;referringTitle=Home","title":"static imports in c#","body":"<p>Time marches on... it looks like C# might get static imports in the next version, see <a href=\"http://msdn.microsoft.com/en-us/magazine/dn683793.aspx\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/magazine/dn683793.aspx</a> for a preview.</p>\n\n<pre><code>using System;\nusing System.Console; // using the Console class here\n\npublic class Program\n{\n    public static void Main()\n    {\n        // Console.WriteLine is called here\n        WriteLine(\"Hello world!\");\n    }\n}\n</code></pre>\n\n<p>The <a href=\"https://roslyn.codeplex.com/wikipage?title=Language%20Feature%20Status&amp;referringTitle=Home\" rel=\"noreferrer\">official documentation</a> for the 'Roslyn' C# compiler lists the feature as 'done'</p>\n"},{"tags":[],"owner":{"account_id":931267,"reputation":220130,"user_id":961113,"display_name":"Habib"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1429814334,"creation_date":1429814334,"answer_id":29831750,"question_id":7692826,"body_markdown":"C# 6.0 under Roslyn Platform [supports Static import][1]. It requires statement like:\r\n\r\n    using static System.Console;\r\n\r\nso the code might look like:\r\n\r\n    using static System.Console;\r\n    namespace TestApplication\r\n    {\r\n    \tclass Program\r\n    \t{\r\n    \t\tstatic void Main(string[] args)\r\n    \t\t{\r\n    \t\t\tWriteLine(&quot;My test message&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nThe earlier planned version for C# 6.0 had static import *without* `static` keyword. \r\n\r\nFor other new features in C# 6.0 see: [New Language Features in C# 6][2]\r\n\r\n\r\n  [1]: https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6\r\n  [2]: https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6","title":"static imports in c#","body":"<p>C# 6.0 under Roslyn Platform <a href=\"https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6\" rel=\"noreferrer\">supports Static import</a>. It requires statement like:</p>\n\n<pre><code>using static System.Console;\n</code></pre>\n\n<p>so the code might look like:</p>\n\n<pre><code>using static System.Console;\nnamespace TestApplication\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            WriteLine(\"My test message\");\n        }\n    }\n}\n</code></pre>\n\n<p>The earlier planned version for C# 6.0 had static import <em>without</em> <code>static</code> keyword. </p>\n\n<p>For other new features in C# 6.0 see: <a href=\"https://github.com/dotnet/roslyn/wiki/New-Language-Features-in-C%23-6\" rel=\"noreferrer\">New Language Features in C# 6</a></p>\n"},{"tags":[],"owner":{"account_id":4242117,"reputation":2087,"user_id":3471712,"display_name":"Auguste"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674988599,"creation_date":1674986891,"answer_id":75274086,"question_id":7692826,"body_markdown":"If you are using .Net 6+ with C# 10+, you can add all the namepaces, (including the static ones) that you want to use globally in obj &gt; Projectname.GlobalUsings.g.cs and you&#39;ll be able to use all the classes that are part of those namepaces without importing.  Here are some examples:\r\n\r\n     global using global::System.Net.Http.Json;\r\n     global using global::System.Threading;\r\n     global using global::System.Threading.Tasks;\r\n     global using static global::System.Console;","title":"static imports in c#","body":"<p>If you are using .Net 6+ with C# 10+, you can add all the namepaces, (including the static ones) that you want to use globally in obj &gt; Projectname.GlobalUsings.g.cs and you'll be able to use all the classes that are part of those namepaces without importing.  Here are some examples:</p>\n<pre><code> global using global::System.Net.Http.Json;\n global using global::System.Threading;\n global using global::System.Threading.Tasks;\n global using static global::System.Console;\n</code></pre>\n"}],"owner":{"account_id":14684,"reputation":62911,"user_id":30453,"accept_rate":82,"display_name":"IAdapter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23429,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":7692845,"answer_count":5,"score":58,"last_activity_date":1674988599,"creation_date":1318021329,"question_id":7692826,"body_markdown":"Does C# has feature like Java&#39;s static imports?\r\n\r\nso instead of writing code like \r\n\r\n    FileHelper.ExtractSimpleFileName(file)\r\n\r\nI could write\r\n\r\n    ExtractSimpleFileName(file)\r\n\r\nand compiler would know that I mean method from FileHelper.\r\n\r\n","title":"static imports in c#","body":"<p>Does C# has feature like Java's static imports?</p>\n\n<p>so instead of writing code like </p>\n\n<pre><code>FileHelper.ExtractSimpleFileName(file)\n</code></pre>\n\n<p>I could write</p>\n\n<pre><code>ExtractSimpleFileName(file)\n</code></pre>\n\n<p>and compiler would know that I mean method from FileHelper.</p>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":232,"is_accepted":true,"score":232,"last_activity_date":1285683716,"creation_date":1285683716,"answer_id":3813725,"question_id":3813588,"body_markdown":"You can do this using the `autowireBean()` method of `AutowireCapableBeanFactory`. You pass it an arbitrary object, and Spring will treat it like something it created itself, and will apply the various autowiring bits and pieces.\r\n\r\nTo get hold of the `AutowireCapableBeanFactory`, just autowire that:\r\n\r\n    private @Autowired AutowireCapableBeanFactory beanFactory;\r\n    \r\n    public void doStuff() {\r\n       MyBean obj = new MyBean();\r\n       beanFactory.autowireBean(obj);\r\n       // obj will now have its dependencies autowired.\r\n    }","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>You can do this using the <code>autowireBean()</code> method of <code>AutowireCapableBeanFactory</code>. You pass it an arbitrary object, and Spring will treat it like something it created itself, and will apply the various autowiring bits and pieces.</p>\n\n<p>To get hold of the <code>AutowireCapableBeanFactory</code>, just autowire that:</p>\n\n<pre><code>private @Autowired AutowireCapableBeanFactory beanFactory;\n\npublic void doStuff() {\n   MyBean obj = new MyBean();\n   beanFactory.autowireBean(obj);\n   // obj will now have its dependencies autowired.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23731,"reputation":8707,"user_id":59692,"accept_rate":57,"display_name":"glaz666"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1287586385,"creation_date":1287586385,"answer_id":3979179,"question_id":3813588,"body_markdown":"You can also mark your MyClass with @Configurable annotation:\r\n\r\n    @Configurable\r\n    public class MyClass {\r\n       @Autowired private AnotherClass instance\r\n    }\r\n\r\nThen at creation time it will automatically inject its dependencies. You also should have `&lt;context:spring-configured/&gt;` in your application context xml. \r\n","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>You can also mark your MyClass with @Configurable annotation:</p>\n\n<pre><code>@Configurable\npublic class MyClass {\n   @Autowired private AnotherClass instance\n}\n</code></pre>\n\n<p>Then at creation time it will automatically inject its dependencies. You also should have <code>&lt;context:spring-configured/&gt;</code> in your application context xml. </p>\n"},{"tags":[],"owner":{"account_id":2453287,"reputation":3192,"user_id":2139038,"accept_rate":67,"display_name":"rand0m86"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518818315,"creation_date":1518818315,"answer_id":48835448,"question_id":3813588,"body_markdown":"Just got the same need and in my case it was already the logic inside non Spring manageable java class which had access to `ApplicationContext`. Inspired by scaffman.\r\nSolved by:\r\n\r\n\r\n    AutowireCapableBeanFactory factory = applicationContext.getAutowireCapableBeanFactory();\r\n    factory.autowireBean(manuallyCreatedInstance);\r\n","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>Just got the same need and in my case it was already the logic inside non Spring manageable java class which had access to <code>ApplicationContext</code>. Inspired by scaffman.\nSolved by:</p>\n\n<pre><code>AutowireCapableBeanFactory factory = applicationContext.getAutowireCapableBeanFactory();\nfactory.autowireBean(manuallyCreatedInstance);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529435172,"creation_date":1529435172,"answer_id":50935376,"question_id":3813588,"body_markdown":"I wanted to share my solution that follows the `@Configurable` approach as `briefly` mentioned in @glaz666 [answer][1] because \r\n\r\n - The [answer][2] by @skaffman is nearly 10 years old, and that does not mean not good enough or does not work\r\n - The answer by @glaz666 is brief and didn&#39;t really help me solve my problem but, did point me in the right direction\r\n\r\nMy setup\r\n---\r\n\r\n 1. Spring Boot 2.0.3 with `Spring Neo4j &amp; Aop starts` (which is irrelevant anyway)\r\n 2. Instantiate a bean when `Spring Boot` is ready using `@Configurable` approach (using `ApplicationRunner`) \r\n 3. Gradle &amp; Eclipse\r\n\r\n\r\nSteps\r\n---- \r\nI needed to follow the steps below in order to get it working\r\n\r\n 1. The `@Configurable(preConstruction = true, autowire = Autowire.BY_TYPE, dependencyCheck = false)` to be placed on top of your `Bean` that is to be manually instantiated. In my case the `Bean` that is to be manually instantiated have `@Autowired` services hence, the props to above annotation. \r\n 2. Annotate the Spring Boot&#39;s main `XXXApplicaiton.java` (or the file that is annotated with `@SpringBootApplication`) with the `@EnableSpringConfigured` and `@EnableLoadTimeWeaving(aspectjWeaving=AspectJWeaving.ENABLED)` \r\n 3. Add the dependencies in your build file (i.e. build.gradle or pom.xml depending on which one you use) `compile(&#39;org.springframework.boot:spring-boot-starter-aop&#39;)` and `compile(&#39;org.springframework:spring-aspects:5.0.7.RELEASE&#39;)` \r\n 4. New+up your `Bean` that is annotated with `@Configurable` anywhere and its dependencies should be autowired. \r\n\r\n \r\n*In regards to point #3 above, I am aware that the `org.springframework.boot:spring-boot-starter-aop` transitively pulls the `spring-aop` (as shown here [mavencentral][3]) but, in my case the Eclipse failed to resolve the `@EnableSpringConfigured` annotations hence, why I explicitly added the `spring-aop` dependency in addition to the starter. Should you face the same issue, just declare the dependency or go on adventure of figuring out \r\n\r\n - Is there a version conflict \r\n - Why the `org.springframework.context.annotation.aspect.*` is not available\r\n - Is your IDE setup properly\r\n - Etc etc.\r\n\r\n  [1]: https://stackoverflow.com/a/3979179/1225551\r\n  [2]: https://stackoverflow.com/a/3813725/1225551\r\n  [3]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-aop/2.0.3.RELEASE","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>I wanted to share my solution that follows the <code>@Configurable</code> approach as <code>briefly</code> mentioned in @glaz666 <a href=\"https://stackoverflow.com/a/3979179/1225551\">answer</a> because </p>\n\n<ul>\n<li>The <a href=\"https://stackoverflow.com/a/3813725/1225551\">answer</a> by @skaffman is nearly 10 years old, and that does not mean not good enough or does not work</li>\n<li>The answer by @glaz666 is brief and didn't really help me solve my problem but, did point me in the right direction</li>\n</ul>\n\n<h2>My setup</h2>\n\n<ol>\n<li>Spring Boot 2.0.3 with <code>Spring Neo4j &amp; Aop starts</code> (which is irrelevant anyway)</li>\n<li>Instantiate a bean when <code>Spring Boot</code> is ready using <code>@Configurable</code> approach (using <code>ApplicationRunner</code>) </li>\n<li>Gradle &amp; Eclipse</li>\n</ol>\n\n<h2>Steps</h2>\n\n<p>I needed to follow the steps below in order to get it working</p>\n\n<ol>\n<li>The <code>@Configurable(preConstruction = true, autowire = Autowire.BY_TYPE, dependencyCheck = false)</code> to be placed on top of your <code>Bean</code> that is to be manually instantiated. In my case the <code>Bean</code> that is to be manually instantiated have <code>@Autowired</code> services hence, the props to above annotation. </li>\n<li>Annotate the Spring Boot's main <code>XXXApplicaiton.java</code> (or the file that is annotated with <code>@SpringBootApplication</code>) with the <code>@EnableSpringConfigured</code> and <code>@EnableLoadTimeWeaving(aspectjWeaving=AspectJWeaving.ENABLED)</code> </li>\n<li>Add the dependencies in your build file (i.e. build.gradle or pom.xml depending on which one you use) <code>compile('org.springframework.boot:spring-boot-starter-aop')</code> and <code>compile('org.springframework:spring-aspects:5.0.7.RELEASE')</code> </li>\n<li>New+up your <code>Bean</code> that is annotated with <code>@Configurable</code> anywhere and its dependencies should be autowired. </li>\n</ol>\n\n<p>*In regards to point #3 above, I am aware that the <code>org.springframework.boot:spring-boot-starter-aop</code> transitively pulls the <code>spring-aop</code> (as shown here <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-aop/2.0.3.RELEASE\" rel=\"nofollow noreferrer\">mavencentral</a>) but, in my case the Eclipse failed to resolve the <code>@EnableSpringConfigured</code> annotations hence, why I explicitly added the <code>spring-aop</code> dependency in addition to the starter. Should you face the same issue, just declare the dependency or go on adventure of figuring out </p>\n\n<ul>\n<li>Is there a version conflict </li>\n<li>Why the <code>org.springframework.context.annotation.aspect.*</code> is not available</li>\n<li>Is your IDE setup properly</li>\n<li>Etc etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":37795,"reputation":1575,"user_id":108153,"accept_rate":25,"display_name":"codeDr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1612619286,"creation_date":1612619286,"answer_id":66077592,"question_id":3813588,"body_markdown":"I used a different approach.  I had spring loaded beans that I wanted to call from my extended classes of a third-party library that created its own threads. \r\n\r\nI used approach I found here https://confluence.jaytaala.com/display/TKB/Super+simple+approach+to+accessing+Spring+beans+from+non-Spring+managed+classes+and+POJOs\r\n\r\nIn the non-managed class:\r\n\r\n    {\r\n        [...]\r\n        SomeBean bc = (SomeBean) SpringContext.getBean(SomeBean.class);\r\n\r\n        [...]\r\n        bc.someMethod(...)\r\n    }\r\n\r\nAnd then as a helper class in the main application:\r\n\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.ApplicationContextAware;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class SpringContext implements ApplicationContextAware\r\n    {\r\n        private static ApplicationContext context;\r\n\r\n        public static &lt;T extends Object&gt; T getBean(Class&lt;T&gt; beanClass)\r\n        {   \r\n            return context.getBean(beanClass);\r\n        }\r\n\r\n        @Override\r\n        public void setApplicationContext(ApplicationContext context) throws BeansException\r\n        {   \r\n            SpringContext.context = context;\r\n        }\r\n    }\r\n\r\n[1]: https://confluence.jaytaala.com/display/TKB/Super+simple+approach+to+accessing+Spring+beans+from+non-Spring+managed+classes+and+POJOs\r\n","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>I used a different approach.  I had spring loaded beans that I wanted to call from my extended classes of a third-party library that created its own threads.</p>\n<p>I used approach I found here <a href=\"https://confluence.jaytaala.com/display/TKB/Super+simple+approach+to+accessing+Spring+beans+from+non-Spring+managed+classes+and+POJOs\" rel=\"noreferrer\">https://confluence.jaytaala.com/display/TKB/Super+simple+approach+to+accessing+Spring+beans+from+non-Spring+managed+classes+and+POJOs</a></p>\n<p>In the non-managed class:</p>\n<pre><code>{\n    [...]\n    SomeBean bc = (SomeBean) SpringContext.getBean(SomeBean.class);\n\n    [...]\n    bc.someMethod(...)\n}\n</code></pre>\n<p>And then as a helper class in the main application:</p>\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class SpringContext implements ApplicationContextAware\n{\n    private static ApplicationContext context;\n\n    public static &lt;T extends Object&gt; T getBean(Class&lt;T&gt; beanClass)\n    {   \n        return context.getBean(beanClass);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext context) throws BeansException\n    {   \n        SpringContext.context = context;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3946141,"reputation":1685,"user_id":3894977,"accept_rate":75,"display_name":"mrek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646742364,"creation_date":1646742364,"answer_id":71395040,"question_id":3813588,"body_markdown":"This worked for me:\r\n\r\n```\r\n@Configuration\r\npublic class AppConfig {\r\n    @Bean\r\n    public TransferService transferService() {\r\n        return new TransferServiceImpl();\r\n    }\r\n}\r\n```\r\n\r\nSee more information: https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>This worked for me:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n    @Bean\n    public TransferService transferService() {\n        return new TransferServiceImpl();\n    }\n}\n</code></pre>\n<p>See more information: <a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html</a></p>\n"},{"tags":[],"owner":{"account_id":16896098,"reputation":241,"user_id":12218581,"display_name":"rohimsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674987096,"creation_date":1674987096,"answer_id":75274104,"question_id":3813588,"body_markdown":"Found the following way useful for my use case. Sharing here for reference, credit goes to the blogger entirely. This creates a static field and populates that from Spring and then provides a public static method which returns the field populated above.\r\n \r\nhttps://sultanov.dev/blog/access-spring-beans-from-unmanaged-objects/","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>Found the following way useful for my use case. Sharing here for reference, credit goes to the blogger entirely. This creates a static field and populates that from Spring and then provides a public static method which returns the field populated above.</p>\n<p><a href=\"https://sultanov.dev/blog/access-spring-beans-from-unmanaged-objects/\" rel=\"nofollow noreferrer\">https://sultanov.dev/blog/access-spring-beans-from-unmanaged-objects/</a></p>\n"}],"owner":{"account_id":174948,"reputation":15184,"user_id":404615,"accept_rate":79,"display_name":"Igor Mukhin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87721,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":3813725,"answer_count":7,"score":158,"last_activity_date":1674987096,"creation_date":1285682682,"question_id":3813588,"body_markdown":"Let&#39;s say we have a class:\r\n\r\n    public class MyClass {\r\n        @Autowired private AnotherBean anotherBean;\r\n    }\r\n\r\nThen we created an object of this class (or some other framework have created the instance of this class).\r\n\r\n    MyClass obj = new MyClass();\r\n\r\nIs it possible to still inject the dependencies? Something like:\r\n\r\n    applicationContext.injectDependencies(obj);\r\n\r\n(I think Google Guice has something like this)\r\n","title":"How to inject dependencies into a self-instantiated object in Spring?","body":"<p>Let's say we have a class:</p>\n\n<pre><code>public class MyClass {\n    @Autowired private AnotherBean anotherBean;\n}\n</code></pre>\n\n<p>Then we created an object of this class (or some other framework have created the instance of this class).</p>\n\n<pre><code>MyClass obj = new MyClass();\n</code></pre>\n\n<p>Is it possible to still inject the dependencies? Something like:</p>\n\n<pre><code>applicationContext.injectDependencies(obj);\n</code></pre>\n\n<p>(I think Google Guice has something like this)</p>\n"},{"tags":["java","html","css","html-to-pdf","pdf-conversion"],"answers":[{"tags":[],"owner":{"account_id":13316162,"reputation":11,"user_id":9612520,"display_name":"Uma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674982609,"creation_date":1674982609,"answer_id":75273697,"question_id":75273443,"body_markdown":"I don&#39;t know much about [YaHP converter](https://github.com/allcolor/YaHP-Converter), but we can achieve this using the [itextPdf](https://github.com/itext/itext7) library easily.\r\n\r\nHere is the [link](https://stackoverflow.com/questions/38057241/itextpdf-different-margin-on-specific-page) which will help you in setting the different margins for different pages.\r\n\r\nBased on personal experience, I suggest you use to itext v7 as it can process complicated HTML documents as well compared to v5. Check [this](https://stackoverflow.com/questions/47895935/converting-html-to-pdf-using-itext) for more information on why should we use v7\r\n\r\n**Note:** itextpdf library is not free for commercial use, please check their site for further license-related information ","title":"Convert HTML to PDF With a Dynamic Margin for Different Pages in Java","body":"<p>I don't know much about <a href=\"https://github.com/allcolor/YaHP-Converter\" rel=\"nofollow noreferrer\">YaHP converter</a>, but we can achieve this using the <a href=\"https://github.com/itext/itext7\" rel=\"nofollow noreferrer\">itextPdf</a> library easily.</p>\n<p>Here is the <a href=\"https://stackoverflow.com/questions/38057241/itextpdf-different-margin-on-specific-page\">link</a> which will help you in setting the different margins for different pages.</p>\n<p>Based on personal experience, I suggest you use to itext v7 as it can process complicated HTML documents as well compared to v5. Check <a href=\"https://stackoverflow.com/questions/47895935/converting-html-to-pdf-using-itext\">this</a> for more information on why should we use v7</p>\n<p><strong>Note:</strong> itextpdf library is not free for commercial use, please check their site for further license-related information</p>\n"}],"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674986537,"creation_date":1674979678,"question_id":75273443,"body_markdown":"We are working on creating PDf from HTML which will be printed on Legal Page - It contains financial stamps only for first 3 pages at the top. \r\nSo, we need to set big top margin for first 3 pages only for the space of the Financial Stamp and default margin for rest of the pages.\r\nWe are using CYaHPConverter for HTML -&gt; PDF conversion which does not support this dynamic margin setup on runtime pdf creation. \r\nCan anyone have any idea how to solve this problem with CSS or HTML. Or, suggest any other convertion library for this dynamic margin setup for different pages?\r\n\r\nI tried [YaHP-Converter][1]&#39;s documentation and other popular library like -  Aspose.PDF. But not sure how to pass the margin per page. I also tried Vanilla CSS but failed to get the idea. \r\n\r\n\r\n  [1]: https://github.com/allcolor/YaHP-Converter","title":"Convert HTML to PDF With a Dynamic Margin for Different Pages in Java","body":"<p>We are working on creating PDf from HTML which will be printed on Legal Page - It contains financial stamps only for first 3 pages at the top.\nSo, we need to set big top margin for first 3 pages only for the space of the Financial Stamp and default margin for rest of the pages.\nWe are using CYaHPConverter for HTML -&gt; PDF conversion which does not support this dynamic margin setup on runtime pdf creation.\nCan anyone have any idea how to solve this problem with CSS or HTML. Or, suggest any other convertion library for this dynamic margin setup for different pages?</p>\n<p>I tried <a href=\"https://github.com/allcolor/YaHP-Converter\" rel=\"nofollow noreferrer\">YaHP-Converter</a>'s documentation and other popular library like -  Aspose.PDF. But not sure how to pass the margin per page. I also tried Vanilla CSS but failed to get the idea.</p>\n"},{"tags":["java","eclipse","jsf","facelets"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1309946343,"creation_date":1309946343,"answer_id":6594597,"question_id":6594482,"body_markdown":"The XML taglib namespace URI does not point to a real web resource or something. It just points to the same value as the `&lt;namespace&gt;` entry of the `.taglib.xml` file of the XML taglib in question in the runtime classpath, which in case of JSF taglibs (and lot others) *just* happens to be a HTTP URL. In case of Mojarra, you can find the declaration in the `/com/sun/faces/metadata/taglib/html_basic.taglib.xml` file of the `jsf-impl.jar` file.\r\n\r\nIf you&#39;re encountering problems with referencing JSF HTML tags, then the cause lies somewhere else.","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>The XML taglib namespace URI does not point to a real web resource or something. It just points to the same value as the <code>&lt;namespace&gt;</code> entry of the <code>.taglib.xml</code> file of the XML taglib in question in the runtime classpath, which in case of JSF taglibs (and lot others) <em>just</em> happens to be a HTTP URL. In case of Mojarra, you can find the declaration in the <code>/com/sun/faces/metadata/taglib/html_basic.taglib.xml</code> file of the <code>jsf-impl.jar</code> file.</p>\n\n<p>If you're encountering problems with referencing JSF HTML tags, then the cause lies somewhere else.</p>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1309957840,"creation_date":1309957840,"answer_id":6596911,"question_id":6594482,"body_markdown":"For solving this problem this is what I did :\r\n&lt;pre&gt;\r\n     1. Close the eclipse project\r\n     2. Open the eclipse project\r\n     3. Right click on the project\r\n     4. Click on Validate\r\n\r\n   =&gt; The (false) warnings are gone.\r\n&lt;/pre&gt;\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>For solving this problem this is what I did :</p>\n\n<pre>\n     1. Close the eclipse project\n     2. Open the eclipse project\n     3. Right click on the project\n     4. Click on Validate\n\n   => The (false) warnings are gone.\n</pre>\n"},{"tags":[],"owner":{"account_id":154940,"reputation":742,"user_id":371238,"accept_rate":75,"display_name":"Dhananjay"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1311849948,"creation_date":1311849948,"answer_id":6857698,"question_id":6594482,"body_markdown":"    &lt;%@taglib   uri=&quot;http://java.sun.com/jsf/html&quot; prefix=&quot;h&quot;%&gt;\r\n\r\njsf-api.jar and jsf-impl.jar jar in your lib.\r\n\r\n\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<pre><code>&lt;%@taglib   uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%&gt;\n</code></pre>\n\n<p>jsf-api.jar and jsf-impl.jar jar in your lib.</p>\n"},{"tags":[],"owner":{"account_id":3261342,"reputation":1970,"user_id":2746879,"accept_rate":77,"display_name":"Sarz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476681164,"creation_date":1388387706,"answer_id":20835048,"question_id":6594482,"body_markdown":"Previous answers were useful to me. Here I provide an alternative way for solving this issue. I fixed this problem by adding the jar `primefaces-[version].jar` to the `WEB-INF/lib` directory.\r\n\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>Previous answers were useful to me. Here I provide an alternative way for solving this issue. I fixed this problem by adding the jar <code>primefaces-[version].jar</code> to the <code>WEB-INF/lib</code> directory.</p>\n"},{"tags":[],"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674986351,"creation_date":1674986351,"answer_id":75274039,"question_id":6594482,"body_markdown":"Compare the Uri respective to the jsf version you are using.\r\n```\r\n. The real JSTL 1.0 taglib uses the URI *http://java.sun.com/jstl/core.*\r\n. The real JSTL 1.1/1.2 taglib uses the URI *http://java.sun.com/jsp/jstl/core*.\r\n. Facelets 1.x uses the URI *http://java.sun.com/jstl/core.*\r\n. Facelets 2.x uses the URI *http://java.sun.com/jsp/jstl/core.*\r\n. Facelets 2.2+ uses the URI *http://xmlns.jcp.org/jsp/jstl/core.*\r\n```\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>Compare the Uri respective to the jsf version you are using.</p>\n<pre><code>. The real JSTL 1.0 taglib uses the URI *http://java.sun.com/jstl/core.*\n. The real JSTL 1.1/1.2 taglib uses the URI *http://java.sun.com/jsp/jstl/core*.\n. Facelets 1.x uses the URI *http://java.sun.com/jstl/core.*\n. Facelets 2.x uses the URI *http://java.sun.com/jsp/jstl/core.*\n. Facelets 2.2+ uses the URI *http://xmlns.jcp.org/jsp/jstl/core.*\n</code></pre>\n"}],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40354,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6596911,"answer_count":5,"score":9,"last_activity_date":1674986351,"creation_date":1309945796,"question_id":6594482,"body_markdown":"In my `index.xhtml` , I have a namespace defined like this `xmlns:h=&quot;http://java.sun.com/jsf/html&quot;`. The server at this url indicates that the page [cannot be found][1].\r\n\r\nDo you know where the page has moved ?\r\n\r\n**Eclipse Info**\r\n&lt;pre&gt;\r\nVersion: Indigo Release\r\nBuild id: 20110615-0604\r\n&lt;/pre&gt;\r\n\r\n  [1]: http://java.sun.com/jsf/html\r\n\r\n","title":"Eclipse - Can&#39;t find facelet tag library for uri http://java.sun.com/jsf/html","body":"<p>In my <code>index.xhtml</code> , I have a namespace defined like this <code>xmlns:h=\"http://java.sun.com/jsf/html\"</code>. The server at this url indicates that the page <a href=\"http://java.sun.com/jsf/html\" rel=\"noreferrer\">cannot be found</a>.</p>\n\n<p>Do you know where the page has moved ?</p>\n\n<p><strong>Eclipse Info</strong></p>\n\n<pre>\nVersion: Indigo Release\nBuild id: 20110615-0604\n</pre>\n"},{"tags":["java","algorithm","ternary-operator","shunting-yard"],"answers":[{"tags":[],"owner":{"account_id":462905,"reputation":7596,"user_id":865481,"display_name":"Salix alba"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1459471284,"creation_date":1459471284,"answer_id":36346180,"question_id":36332016,"body_markdown":"I&#39;ve implemented a mathematical parser in java which can handle ternary operators. The heart of this is the `expression` method. The input is contained in an iterator `it` with a `it.peekNext()` method to view the next token and `it.consume()` move to the next token. It calls the `prefixSuffix()` to read constants and variables with possible prefix and suffix operators eg `++x`.\r\n\r\n    protected void expression() throws ParseException  {\r\n        \r\n        prefixSuffix(); \r\n        \r\n        Token t = it.peekNext();\r\n        while(t!=null) {\r\n            if(t.isBinary()) {\r\n                OperatorToken ot = (OperatorToken)t;\r\n                Operator op = ot.getBinaryOp();\r\n                pushOp(op,ot);\r\n                it.consume();\r\n                prefixSuffix();\r\n            }\r\n            else if(t.isTernary()){\r\n                OperatorToken ot =(OperatorToken)t;\r\n                Operator to = ot.getTernaryOp();\r\n                pushOp(to,ot);\r\n                it.consume();\r\n                prefixSuffix();\r\n            }\r\n            else\r\n                break;\r\n            t=it.peekNext();\r\n        }\r\n        // read all remaining elements off the stack\r\n        while(!sentinel.equals(ops.peek())) {\r\n            popOp();\r\n        }\r\n    }\r\n\r\nSo when either of the tokens is encountered it calls the `pushOp` methods to push them on the stack. Each token has an associated operator which is also parsed to `pushOp`.\r\n\r\npushOp compare the new operator with the top of the stack, poping if necessary\r\n\r\n    protected void pushOp(Operator op,Token tok) throws ParseException \r\n    {\r\n        while(compareOps(ops.peek(),op))\r\n            popOp();\r\n        ops.push(op); \r\n    }\r\n\r\nThe logic for dealing with tenary operators happen in `compareOps`:\r\n\r\n    /**\r\n     * Compare operators based on their precedence and associativity.\r\n     * @param op1\r\n     * @param op2\r\n     * @return true if op1 has a lower precedence than op2, or equal precedence and a left assoc op, etc.\r\n     */\r\n    protected boolean compareOps(Operator op1,Operator op2)\r\n    {\r\n        if(op1.isTernary() &amp;&amp; op2.isTernary()) {\r\n            if(op1 instanceof TernaryOperator.RhsTernaryOperator &amp;&amp;\r\n                    op2 instanceof TernaryOperator.RhsTernaryOperator )\r\n                return true;\r\n            return false;\r\n        }\r\n        if(op1 == sentinel ) return false;\r\n        if(op2 == sentinel ) return true;\r\n        if(op2.isPrefix() &amp;&amp; op1.isBinary()) return false;\r\n        if(op1.getPrecedence() &lt; op2.getPrecedence()) return true;\r\n        if(op1.getPrecedence() == op2.getPrecedence() &amp;&amp; op1.isLeftBinding()) return true;\r\n        return false;\r\n    }\r\n\r\nIf both operators are the right hand of a ternary operator then `compareOps` returns true one operator will be popped. Otherwise if both are the left hand ternary operators or one is a left and one is a right then `compareOps` returns false and no operators are popped.\r\n\r\nThe other bit of handling happens in the `popOp` method:\r\n\r\n    protected void popOp() throws ParseException\r\n    {\r\n        Operator op = ops.pop();\r\n\r\n        if(op == implicitMul) {\r\n            Node rhs = nodes.pop();\r\n            Node lhs = nodes.pop();\r\n            Node node = nf.buildOperatorNode(\r\n                    jep.getOperatorTable().getMultiply(), \r\n                    lhs, rhs);\r\n            nodes.push(node);\r\n        }\r\n        else if(op.isBinary()) {\r\n            Node rhs = nodes.pop();\r\n            Node lhs = nodes.pop();\r\n            Node node = nf.buildOperatorNode(op, lhs, rhs);\r\n            nodes.push(node);\r\n        }\r\n        else if(op.isUnary()) {\r\n            Node lhs = nodes.pop();\r\n            Node node = nf.buildOperatorNode(op, lhs);\r\n            nodes.push(node);\r\n        }\r\n        else if(op.isTernary() &amp;&amp; op instanceof TernaryOperator.RhsTernaryOperator ) {\r\n            Operator op2 = ops.pop();\r\n            if(!(op2 instanceof TernaryOperator ) || !((TernaryOperator) op2).getRhsOperator().equals(op)) {\r\n                throw new ParseException(\r\n                \t\tMessageFormat.format(JepMessages.getString(&quot;configurableparser.ShuntingYard.NextOperatorShouldHaveBeenMatchingTernaryOp&quot;),op2.getName())); //$NON-NLS-1$\r\n            \t\r\n            }\r\n\r\n            Node rhs = nodes.pop();\r\n            Node middle = nodes.pop();\r\n            Node lhs = nodes.pop();\r\n            Node node = nf.buildOperatorNode(op2, new Node[]{lhs,middle,rhs});\r\n            nodes.push(node);\r\n        }\r\n        else {\r\n            throw new ParseException(MessageFormat.format(JepMessages.getString(&quot;configurableparser.ShuntingYard.InvalidOperatorOnStack&quot;),op.getSymbol())); //$NON-NLS-1$\r\n        }\r\n    }\r\n\r\nOnly the right hand side of the ternary operator should be encountered. The operator directly below it should be the corresponding left hand operator. (Any operator with a lower precedence will have already been popped, the only operators with higher precedence are assignment operators which can&#39;t occur inside a ternary operator). \r\n\r\nBoth the left and right hands operators are now popped. I&#39;m constructing a tree and the last three nodes produced are removed with a new ternary operator node constructed. \r\n\r\n","title":"Ternary Operator Parsing with the Shunting Yard Algorithm","body":"<p>I've implemented a mathematical parser in java which can handle ternary operators. The heart of this is the <code>expression</code> method. The input is contained in an iterator <code>it</code> with a <code>it.peekNext()</code> method to view the next token and <code>it.consume()</code> move to the next token. It calls the <code>prefixSuffix()</code> to read constants and variables with possible prefix and suffix operators eg <code>++x</code>.</p>\n\n<pre><code>protected void expression() throws ParseException  {\n\n    prefixSuffix(); \n\n    Token t = it.peekNext();\n    while(t!=null) {\n        if(t.isBinary()) {\n            OperatorToken ot = (OperatorToken)t;\n            Operator op = ot.getBinaryOp();\n            pushOp(op,ot);\n            it.consume();\n            prefixSuffix();\n        }\n        else if(t.isTernary()){\n            OperatorToken ot =(OperatorToken)t;\n            Operator to = ot.getTernaryOp();\n            pushOp(to,ot);\n            it.consume();\n            prefixSuffix();\n        }\n        else\n            break;\n        t=it.peekNext();\n    }\n    // read all remaining elements off the stack\n    while(!sentinel.equals(ops.peek())) {\n        popOp();\n    }\n}\n</code></pre>\n\n<p>So when either of the tokens is encountered it calls the <code>pushOp</code> methods to push them on the stack. Each token has an associated operator which is also parsed to <code>pushOp</code>.</p>\n\n<p>pushOp compare the new operator with the top of the stack, poping if necessary</p>\n\n<pre><code>protected void pushOp(Operator op,Token tok) throws ParseException \n{\n    while(compareOps(ops.peek(),op))\n        popOp();\n    ops.push(op); \n}\n</code></pre>\n\n<p>The logic for dealing with tenary operators happen in <code>compareOps</code>:</p>\n\n<pre><code>/**\n * Compare operators based on their precedence and associativity.\n * @param op1\n * @param op2\n * @return true if op1 has a lower precedence than op2, or equal precedence and a left assoc op, etc.\n */\nprotected boolean compareOps(Operator op1,Operator op2)\n{\n    if(op1.isTernary() &amp;&amp; op2.isTernary()) {\n        if(op1 instanceof TernaryOperator.RhsTernaryOperator &amp;&amp;\n                op2 instanceof TernaryOperator.RhsTernaryOperator )\n            return true;\n        return false;\n    }\n    if(op1 == sentinel ) return false;\n    if(op2 == sentinel ) return true;\n    if(op2.isPrefix() &amp;&amp; op1.isBinary()) return false;\n    if(op1.getPrecedence() &lt; op2.getPrecedence()) return true;\n    if(op1.getPrecedence() == op2.getPrecedence() &amp;&amp; op1.isLeftBinding()) return true;\n    return false;\n}\n</code></pre>\n\n<p>If both operators are the right hand of a ternary operator then <code>compareOps</code> returns true one operator will be popped. Otherwise if both are the left hand ternary operators or one is a left and one is a right then <code>compareOps</code> returns false and no operators are popped.</p>\n\n<p>The other bit of handling happens in the <code>popOp</code> method:</p>\n\n<pre><code>protected void popOp() throws ParseException\n{\n    Operator op = ops.pop();\n\n    if(op == implicitMul) {\n        Node rhs = nodes.pop();\n        Node lhs = nodes.pop();\n        Node node = nf.buildOperatorNode(\n                jep.getOperatorTable().getMultiply(), \n                lhs, rhs);\n        nodes.push(node);\n    }\n    else if(op.isBinary()) {\n        Node rhs = nodes.pop();\n        Node lhs = nodes.pop();\n        Node node = nf.buildOperatorNode(op, lhs, rhs);\n        nodes.push(node);\n    }\n    else if(op.isUnary()) {\n        Node lhs = nodes.pop();\n        Node node = nf.buildOperatorNode(op, lhs);\n        nodes.push(node);\n    }\n    else if(op.isTernary() &amp;&amp; op instanceof TernaryOperator.RhsTernaryOperator ) {\n        Operator op2 = ops.pop();\n        if(!(op2 instanceof TernaryOperator ) || !((TernaryOperator) op2).getRhsOperator().equals(op)) {\n            throw new ParseException(\n                    MessageFormat.format(JepMessages.getString(\"configurableparser.ShuntingYard.NextOperatorShouldHaveBeenMatchingTernaryOp\"),op2.getName())); //$NON-NLS-1$\n\n        }\n\n        Node rhs = nodes.pop();\n        Node middle = nodes.pop();\n        Node lhs = nodes.pop();\n        Node node = nf.buildOperatorNode(op2, new Node[]{lhs,middle,rhs});\n        nodes.push(node);\n    }\n    else {\n        throw new ParseException(MessageFormat.format(JepMessages.getString(\"configurableparser.ShuntingYard.InvalidOperatorOnStack\"),op.getSymbol())); //$NON-NLS-1$\n    }\n}\n</code></pre>\n\n<p>Only the right hand side of the ternary operator should be encountered. The operator directly below it should be the corresponding left hand operator. (Any operator with a lower precedence will have already been popped, the only operators with higher precedence are assignment operators which can't occur inside a ternary operator). </p>\n\n<p>Both the left and right hands operators are now popped. I'm constructing a tree and the last three nodes produced are removed with a new ternary operator node constructed. </p>\n"},{"tags":[],"owner":{"account_id":9858905,"reputation":420,"user_id":7302562,"display_name":"Duke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674986246,"creation_date":1673945634,"answer_id":75143918,"question_id":36332016,"body_markdown":"The following is not exactly what the OP was asking for, but there is another **pragmatic** solution which might help someone coming across...\r\n\r\nI had a pretty standard shunting yard algorithm with prefix/2-operand-infix support, and needed it to additionally handle just the one ternary operator `?:` (which is probably the only one out there, anyway... ;-) ). I also didn&#39;t care about associativity or precedence between `?:` operators since writing something like `a ? b : c ? d : e` is just not nice and I wanted it to be explicitly forbidden. (Brackets should be used in this case: `a ? b : (c ? d : e)` or `(a ? b : c) ? d : e`.) \r\n\r\nGiven this, there is a simple solution:\r\n\r\n 1. Create a new (2-operand) infix operator `?`.\r\n 2. Create a new (2-operand) infix operator `:` with **lower** precedence than the `?` precedence.\r\n\r\nBoth precedences should be lower than those of `+`/`-`/`*` etc. to parse `a &gt; 1 ? x + 4 : y + 5` as `(a &gt; 1) ? (x + 4) : (y + 5)`.\r\n\r\nNow you&#39;ll get a parse tree with elements looking like this for each of the `c ? a : b`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n 3. Do a post-processing step replacing each element of this type (`:` node with left child `?`) with another custom node `?:(c, a, b)`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThat&#39;s it!\r\n\r\nYou&#39;ll end up with a tree containing `?` or `:` nodes if and only if\r\n * there are nested ternary operations in the code that don&#39;t have proper brackets or\r\n * there is some syntactical misuse of the `?` or `:` operators.\r\n\r\nPrint an error message in that case.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HBRPU.png\r\n  [2]: https://i.stack.imgur.com/OdJN4.png","title":"Ternary Operator Parsing with the Shunting Yard Algorithm","body":"<p>The following is not exactly what the OP was asking for, but there is another <strong>pragmatic</strong> solution which might help someone coming across...</p>\n<p>I had a pretty standard shunting yard algorithm with prefix/2-operand-infix support, and needed it to additionally handle just the one ternary operator <code>?:</code> (which is probably the only one out there, anyway... ;-) ). I also didn't care about associativity or precedence between <code>?:</code> operators since writing something like <code>a ? b : c ? d : e</code> is just not nice and I wanted it to be explicitly forbidden. (Brackets should be used in this case: <code>a ? b : (c ? d : e)</code> or <code>(a ? b : c) ? d : e</code>.)</p>\n<p>Given this, there is a simple solution:</p>\n<ol>\n<li>Create a new (2-operand) infix operator <code>?</code>.</li>\n<li>Create a new (2-operand) infix operator <code>:</code> with <strong>lower</strong> precedence than the <code>?</code> precedence.</li>\n</ol>\n<p>Both precedences should be lower than those of <code>+</code>/<code>-</code>/<code>*</code> etc. to parse <code>a &gt; 1 ? x + 4 : y + 5</code> as <code>(a &gt; 1) ? (x + 4) : (y + 5)</code>.</p>\n<p>Now you'll get a parse tree with elements looking like this for each of the <code>c ? a : b</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/HBRPU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HBRPU.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Do a post-processing step replacing each element of this type (<code>:</code> node with left child <code>?</code>) with another custom node <code>?:(c, a, b)</code>.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/OdJN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OdJN4.png\" alt=\"enter image description here\" /></a></p>\n<p>That's it!</p>\n<p>You'll end up with a tree containing <code>?</code> or <code>:</code> nodes if and only if</p>\n<ul>\n<li>there are nested ternary operations in the code that don't have proper brackets or</li>\n<li>there is some syntactical misuse of the <code>?</code> or <code>:</code> operators.</li>\n</ul>\n<p>Print an error message in that case.</p>\n"}],"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2492,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36346180,"answer_count":2,"score":5,"last_activity_date":1674986246,"creation_date":1459423451,"question_id":36332016,"body_markdown":"For context, please read [this question about Ternary Operators](https://stackoverflow.com/questions/36319740/ternary-operator-associativity) first.\r\n\r\nI am building my own programming language that allows you to define custom operators. Because I want it to have as few compiler built-ins as possible, it should allow the definition of custom ternary operators, preferably in the form\r\n\r\n    infix operator ? : { precedence 120 }\r\n\r\nMy (hand-written) Expression Parser will turn nested ternary operators into a list of operands separated by operators.\r\n\r\n    a ? b ? c : d : e\r\n    (a) ? (b) ? (c) : (d) : (d)\r\n    OperatorChain(operators: [?, ?, :, :], operands: [a, b, c, d, e])\r\n\r\nThe `OperatorChain` class now looks up the operators from operator definitions in scope and converts the list into binary AST nodes using a modified version of the shunting yard algorithm, which is shown below:\r\n\r\n    // Note: OperatorElement is a class that merely stores an Identifier, an associated source code position and the resolved operator.\r\n    // IValue is the base interface for all Expression AST nodes\r\n\r\n    final Stack&lt;OperatorElement&gt; operatorStack = new LinkedList&lt;&gt;();\r\n\tfinal Stack&lt;IValue&gt; operandStack = new LinkedList&lt;&gt;();\r\n\toperandStack.push(this.operands[0]);\r\n\r\n\tfor (int i = 0; i &lt; this.operatorCount; i++)\r\n\t{\r\n\t\tfinal OperatorElement element1 = this.operators[i];\r\n\t\tOperatorElement element2;\r\n\t\twhile (!operatorStack.isEmpty())\r\n\t\t{\r\n\t\t\telement2 = operatorStack.peek();\r\n\r\n\t\t\tfinal int comparePrecedence = element1.operator.comparePrecedence(element2.operator);\r\n\t\t\tif (comparePrecedence &lt; 0\r\n\t\t\t\t    || element1.operator.getAssociativity() != IOperator.RIGHT &amp;&amp; comparePrecedence == 0)\r\n\t\t\t{\r\n\t\t\t\toperatorStack.pop();\r\n\t\t\t\tthis.pushCall(operandStack, element2);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\toperatorStack.push(element1);\r\n\t\toperandStack.push(this.operands[i + 1]);\r\n\t}\r\n\twhile (!operatorStack.isEmpty())\r\n\t{\r\n\t\tthis.pushCall(operandStack, operatorStack.pop());\r\n\t}\r\n\r\n\treturn operandStack.pop().resolve(markers, context);\r\n\r\nHow would I need to modify this algorithm to work with ternary operators, including custom ones?","title":"Ternary Operator Parsing with the Shunting Yard Algorithm","body":"<p>For context, please read <a href=\"https://stackoverflow.com/questions/36319740/ternary-operator-associativity\">this question about Ternary Operators</a> first.</p>\n\n<p>I am building my own programming language that allows you to define custom operators. Because I want it to have as few compiler built-ins as possible, it should allow the definition of custom ternary operators, preferably in the form</p>\n\n<pre><code>infix operator ? : { precedence 120 }\n</code></pre>\n\n<p>My (hand-written) Expression Parser will turn nested ternary operators into a list of operands separated by operators.</p>\n\n<pre><code>a ? b ? c : d : e\n(a) ? (b) ? (c) : (d) : (d)\nOperatorChain(operators: [?, ?, :, :], operands: [a, b, c, d, e])\n</code></pre>\n\n<p>The <code>OperatorChain</code> class now looks up the operators from operator definitions in scope and converts the list into binary AST nodes using a modified version of the shunting yard algorithm, which is shown below:</p>\n\n<pre><code>// Note: OperatorElement is a class that merely stores an Identifier, an associated source code position and the resolved operator.\n// IValue is the base interface for all Expression AST nodes\n\nfinal Stack&lt;OperatorElement&gt; operatorStack = new LinkedList&lt;&gt;();\nfinal Stack&lt;IValue&gt; operandStack = new LinkedList&lt;&gt;();\noperandStack.push(this.operands[0]);\n\nfor (int i = 0; i &lt; this.operatorCount; i++)\n{\n    final OperatorElement element1 = this.operators[i];\n    OperatorElement element2;\n    while (!operatorStack.isEmpty())\n    {\n        element2 = operatorStack.peek();\n\n        final int comparePrecedence = element1.operator.comparePrecedence(element2.operator);\n        if (comparePrecedence &lt; 0\n                || element1.operator.getAssociativity() != IOperator.RIGHT &amp;&amp; comparePrecedence == 0)\n        {\n            operatorStack.pop();\n            this.pushCall(operandStack, element2);\n        }\n        else\n        {\n            break;\n        }\n    }\n    operatorStack.push(element1);\n    operandStack.push(this.operands[i + 1]);\n}\nwhile (!operatorStack.isEmpty())\n{\n    this.pushCall(operandStack, operatorStack.pop());\n}\n\nreturn operandStack.pop().resolve(markers, context);\n</code></pre>\n\n<p>How would I need to modify this algorithm to work with ternary operators, including custom ones?</p>\n"},{"tags":["java","spring","spring-data-r2dbc"],"comments":[{"owner":{"account_id":4508336,"reputation":15533,"user_id":3665178,"accept_rate":73,"display_name":"Manuel Jordan"},"score":0,"creation_date":1600878233,"post_id":64030718,"comment_id":113229612,"body_markdown":"Can you update your post to include the Repository code? , if you are using JPA is *mandatory* declare the Entity annotation in your entity class","body":"Can you update your post to include the Repository code? , if you are using JPA is <i>mandatory</i> declare the Entity annotation in your entity class"}],"answers":[{"tags":[],"owner":{"account_id":7215483,"reputation":300,"user_id":5508139,"display_name":"BlackPearl"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1600873498,"creation_date":1600873498,"answer_id":64030876,"question_id":64030718,"body_markdown":"It seems like you forgot to use annotation `@Entity` for your entity class **User**","title":"Spring does Update instead of save","body":"<p>It seems like you forgot to use annotation <code>@Entity</code> for your entity class <strong>User</strong></p>\n"},{"tags":[],"owner":{"account_id":12291234,"reputation":33,"user_id":8968495,"display_name":"suseelkumar annamraju"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1600874597,"creation_date":1600874255,"answer_id":64031115,"question_id":64030718,"body_markdown":"@Entity &amp; @GeneratedValue should be added to your pojo.\r\n\r\n@GeneratedValue will help to define the strategy(like Identify/Sequence) for primary key value generation.\n\r\nIf possible provide your update sql query printed in console for further analysis.","title":"Spring does Update instead of save","body":"<p>@Entity &amp; @GeneratedValue should be added to your pojo.</p>\n<p>@GeneratedValue will help to define the strategy(like Identify/Sequence) for primary key value generation.</p>\n<p>If possible provide your update sql query printed in console for further analysis.</p>\n"},{"tags":[],"owner":{"account_id":5340963,"reputation":26,"user_id":4258090,"display_name":"Yasser Kantour"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600878031,"creation_date":1600878031,"answer_id":64032222,"question_id":64030718,"body_markdown":"You need to ad the `@GeneratedValue(strategy = GenerationType.IDENTITY)`. Spring&#39;s Crud repositories do not have create and update methods but only save (see also `saveAndFlush`). It handles creation and update through `@id`, so if the `id` field is present it performs an update","title":"Spring does Update instead of save","body":"<p>You need to ad the <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>. Spring's Crud repositories do not have create and update methods but only save (see also <code>saveAndFlush</code>). It handles creation and update through <code>@id</code>, so if the <code>id</code> field is present it performs an update</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1645332331,"creation_date":1600949862,"answer_id":64046284,"question_id":64030718,"body_markdown":"Check my [new example](https://github.com/hantsy/spring-r2dbc-sample/tree/master/boot) for upcoming Spring Boot 2.4, Spring 5.3, and Spring Data R2DBC 1.2.\r\n\r\nI am using Postgres in this example. It used ApplicationRunner to initialize some sample data into the database.\r\n\r\nYou set the identifier a non-null value when saving the `User` entity(not a `Persistable`), Spring Data R2DBC uses it to check if the entity is new. *If the entity is a `Persistable`, it will use the `isNew` method to determine if the entity is new*.\r\n\r\nHowever, you can insert data manually using R2dbc `DatabaseClient` to execute SQL queries as expected, check [my DatabaseClient example](https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/PostRepository.java#L57) here(but I used a database generated id here).\r\n","title":"Spring does Update instead of save","body":"<p>Check my <a href=\"https://github.com/hantsy/spring-r2dbc-sample/tree/master/boot\" rel=\"nofollow noreferrer\">new example</a> for upcoming Spring Boot 2.4, Spring 5.3, and Spring Data R2DBC 1.2.</p>\n<p>I am using Postgres in this example. It used ApplicationRunner to initialize some sample data into the database.</p>\n<p>You set the identifier a non-null value when saving the <code>User</code> entity(not a <code>Persistable</code>), Spring Data R2DBC uses it to check if the entity is new. <em>If the entity is a <code>Persistable</code>, it will use the <code>isNew</code> method to determine if the entity is new</em>.</p>\n<p>However, you can insert data manually using R2dbc <code>DatabaseClient</code> to execute SQL queries as expected, check <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/PostRepository.java#L57\" rel=\"nofollow noreferrer\">my DatabaseClient example</a> here(but I used a database generated id here).</p>\n"},{"tags":[],"owner":{"account_id":10561548,"reputation":2425,"user_id":7781169,"display_name":"fyrkov"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1601637691,"creation_date":1601637691,"answer_id":64170679,"question_id":64030718,"body_markdown":"The reason could be that you are posting an entity with the pre-filled `id`:\r\n```\r\n{ &quot;id&quot; : &quot;re&quot;, &quot;username&quot; : &quot;ehmmidk&quot;, &quot;password&quot; : &quot;dsadsadsadsa&quot; }\r\n```\r\n\r\nWhat I spotted is that if a declared entity is implementing `Persistable` interface it must implement `isNew()` method which defines the behavior of `repository.save()` - will it fire an `INSERT` or an `UPDATE`. \r\n\r\nI see that in your case you do not implement `Persistable` but **maybe** then the default behavior is\r\n```\r\nboolean isNew() { return id == null; }\r\n```\r\nThat might mean in your case that the entity is considered as not new by Spring data r2dbc and that&#39;s why it makes an `UPDATE`.\r\n\r\nHowever this is only my guess.","title":"Spring does Update instead of save","body":"<p>The reason could be that you are posting an entity with the pre-filled <code>id</code>:</p>\n<pre><code>{ &quot;id&quot; : &quot;re&quot;, &quot;username&quot; : &quot;ehmmidk&quot;, &quot;password&quot; : &quot;dsadsadsadsa&quot; }\n</code></pre>\n<p>What I spotted is that if a declared entity is implementing <code>Persistable</code> interface it must implement <code>isNew()</code> method which defines the behavior of <code>repository.save()</code> - will it fire an <code>INSERT</code> or an <code>UPDATE</code>.</p>\n<p>I see that in your case you do not implement <code>Persistable</code> but <strong>maybe</strong> then the default behavior is</p>\n<pre><code>boolean isNew() { return id == null; }\n</code></pre>\n<p>That might mean in your case that the entity is considered as not new by Spring data r2dbc and that's why it makes an <code>UPDATE</code>.</p>\n<p>However this is only my guess.</p>\n"},{"tags":[],"owner":{"account_id":890105,"reputation":423,"user_id":928550,"display_name":"AndrewS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674986017,"creation_date":1674977535,"answer_id":75273271,"question_id":64030718,"body_markdown":"The answer by fyrkov is correct: https://stackoverflow.com/a/64170679/928550\r\n\r\nI have however discovered that using Optimistic locking is another way of getting Spring Data R2DBC to do the right thing when you are not using database generated id values.\r\n\r\neg. Add a @Version annotated fields to you JPA entities.\r\n\r\n&gt; @Version private Long version;\r\n\r\nI&#39;m not exactly sure why, but for it worked.","title":"Spring does Update instead of save","body":"<p>The answer by fyrkov is correct: <a href=\"https://stackoverflow.com/a/64170679/928550\">https://stackoverflow.com/a/64170679/928550</a></p>\n<p>I have however discovered that using Optimistic locking is another way of getting Spring Data R2DBC to do the right thing when you are not using database generated id values.</p>\n<p>eg. Add a @Version annotated fields to you JPA entities.</p>\n<blockquote>\n<p>@Version private Long version;</p>\n</blockquote>\n<p>I'm not exactly sure why, but for it worked.</p>\n"}],"owner":{"account_id":18878904,"reputation":191,"user_id":13771775,"display_name":"Yasin Eraslan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6046,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1674986017,"creation_date":1600872988,"question_id":64030718,"body_markdown":"I am trying to code a little reactive backend with R2DBC and run into a thing I do not really understand. I dont know why but Spring is trying to update an entry instead of saving it to the database.\r\n\r\nMy User Model:\r\n\r\n    @Table(&quot;user&quot;)\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class User {\r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        private String username;\r\n        private String password;\r\n    \r\n        public User(String id,String username,String password){\r\n            this.id = id;\r\n            this.username = username;\r\n            this.password=password;\r\n        }\r\n\r\nMy Controller:\r\n\r\n \r\n\r\n    @RestController\r\n        public class UserController {\r\n    \r\n    `   private final UserRepository userRepository`;\r\n    \r\n        @Autowired\r\n        public UserController(UserRepository userRepository){\r\n    \r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        @PostMapping(&quot;/create&quot;)\r\n            public Mono&lt;User&gt; createUser(@RequestBody User user){\r\n                return userRepository.save(user);\r\n            }   \r\n\r\nWhen I sent a POST request to this endpoint with input like this for example:\r\n\r\n{\r\n\t&quot;id&quot; : &quot;re&quot;,\r\n\t&quot;username&quot; : &quot;ehmmidk&quot;,\r\n\t&quot;password&quot; : &quot;dsadsadsadsa&quot;\r\n}\r\n\r\nit does an update insted of a save even when there is no entries in my database.\r\n\r\nMy schema looks like this:\r\n\r\n    CREATE TABLE user (\r\n       id VARCHAR(255) NOT NULL ,\r\n       username VARCHAR(255) NOT NULL,\r\n       password VARCHAR(255) NOT NULL,\r\n    \r\n    \r\n       PRIMARY KEY (id),\r\n       UNIQUE(username)\r\n    );","title":"Spring does Update instead of save","body":"<p>I am trying to code a little reactive backend with R2DBC and run into a thing I do not really understand. I dont know why but Spring is trying to update an entry instead of saving it to the database.</p>\n<p>My User Model:</p>\n<pre><code>@Table(&quot;user&quot;)\n@NoArgsConstructor\n@Data\npublic class User {\n\n    @Id\n    private String id;\n\n    private String username;\n    private String password;\n\n    public User(String id,String username,String password){\n        this.id = id;\n        this.username = username;\n        this.password=password;\n    }\n</code></pre>\n<p>My Controller:</p>\n<pre><code>@RestController\n    public class UserController {\n\n`   private final UserRepository userRepository`;\n\n    @Autowired\n    public UserController(UserRepository userRepository){\n\n        this.userRepository = userRepository;\n    }\n\n    @PostMapping(&quot;/create&quot;)\n        public Mono&lt;User&gt; createUser(@RequestBody User user){\n            return userRepository.save(user);\n        }   \n</code></pre>\n<p>When I sent a POST request to this endpoint with input like this for example:</p>\n<p>{\n&quot;id&quot; : &quot;re&quot;,\n&quot;username&quot; : &quot;ehmmidk&quot;,\n&quot;password&quot; : &quot;dsadsadsadsa&quot;\n}</p>\n<p>it does an update insted of a save even when there is no entries in my database.</p>\n<p>My schema looks like this:</p>\n<pre><code>CREATE TABLE user (\n   id VARCHAR(255) NOT NULL ,\n   username VARCHAR(255) NOT NULL,\n   password VARCHAR(255) NOT NULL,\n\n\n   PRIMARY KEY (id),\n   UNIQUE(username)\n);\n</code></pre>\n"},{"tags":["java","mysql","spring","mybatis","spring-mybatis"],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674985109,"creation_date":1674985109,"answer_id":75273921,"question_id":75273792,"body_markdown":"The difference is that `categoryService.getOne(categoryLambdaQueryWrapper)` returns a single entity that matches the conditions specified in the lambda query wrapper, or null if no such entity exists.\r\n\r\nOn the other hand, `categoryService.getById(categoryId)` directly queries the database for the entity with the specified categoryId, returns the entity if it exists, or throws an exception if it doesn&#39;t.\r\n\r\nSo if you want to ensure that a category exists before processing it, it&#39;s better to use `categoryService.getById(categoryId)`.","title":"does these 2 ways of querying equivalent?","body":"<p>The difference is that <code>categoryService.getOne(categoryLambdaQueryWrapper)</code> returns a single entity that matches the conditions specified in the lambda query wrapper, or null if no such entity exists.</p>\n<p>On the other hand, <code>categoryService.getById(categoryId)</code> directly queries the database for the entity with the specified categoryId, returns the entity if it exists, or throws an exception if it doesn't.</p>\n<p>So if you want to ensure that a category exists before processing it, it's better to use <code>categoryService.getById(categoryId)</code>.</p>\n"}],"owner":{"account_id":26114048,"reputation":9,"user_id":19807466,"display_name":"siyuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674985109,"creation_date":1674983599,"question_id":75273792,"body_markdown":"I&#39;m a Spring backend learner, currently want to query some data from mysql. What I want is just a field from table.(I want `categoryName` in `category`).\r\n\r\n\r\n\r\n\r\nFirst, I was using LambdaQueryWrapper. I wrote\r\n```\r\ncategoryLambdaQueryWrapper.eq(Category::getId, categoryId);\r\nCategory category = categoryService.getOne(categoryLambdaQueryWrapper);\r\n```\r\nBut category values `null` occasionally.\r\n\r\nThen, I changed to simply using getById method in categoryService, everything worked fine.\r\n```\r\nCategory category = categoryService.getById(categoryId);\r\n```\r\n\r\nI confused, is there anything difference between the 2 ways of querying? I thought they were equivalent before. Thank you for everyone who can help me.\r\n\r\n","title":"does these 2 ways of querying equivalent?","body":"<p>I'm a Spring backend learner, currently want to query some data from mysql. What I want is just a field from table.(I want <code>categoryName</code> in <code>category</code>).</p>\n<p>First, I was using LambdaQueryWrapper. I wrote</p>\n<pre><code>categoryLambdaQueryWrapper.eq(Category::getId, categoryId);\nCategory category = categoryService.getOne(categoryLambdaQueryWrapper);\n</code></pre>\n<p>But category values <code>null</code> occasionally.</p>\n<p>Then, I changed to simply using getById method in categoryService, everything worked fine.</p>\n<pre><code>Category category = categoryService.getById(categoryId);\n</code></pre>\n<p>I confused, is there anything difference between the 2 ways of querying? I thought they were equivalent before. Thank you for everyone who can help me.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway","sam"],"answers":[{"tags":[],"owner":{"account_id":12871638,"reputation":485,"user_id":9309869,"display_name":"S&#225;ndor Bakos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674984902,"creation_date":1674984902,"answer_id":75273898,"question_id":75273249,"body_markdown":"you can find the Lambda event structures in the documentation. Here is the list for all the different event types, [https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html][1]. \r\n\r\nIn your case I would say the event you are looking for coming from API Gateway, you can find it here: [https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event","title":"How to retrieve event.json file to unit test lambda","body":"<p>you can find the Lambda event structures in the documentation. Here is the list for all the different event types, <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html</a>.</p>\n<p>In your case I would say the event you are looking for coming from API Gateway, you can find it here: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/services-apigateway.html#apigateway-example-event</a></p>\n"}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674984902,"creation_date":1674977276,"question_id":75273249,"body_markdown":"I am able to run AWS lambda using postman. I want to use the event to run unit test along it. I am not sure how I can generate the event.json file.\r\n\r\nI tried logging event that I receive in my handleRequest method on cloudwatch logs but it does not seem to be the right one.\r\n\r\n","title":"How to retrieve event.json file to unit test lambda","body":"<p>I am able to run AWS lambda using postman. I want to use the event to run unit test along it. I am not sure how I can generate the event.json file.</p>\n<p>I tried logging event that I receive in my handleRequest method on cloudwatch logs but it does not seem to be the right one.</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries","amazon-dynamodb-index"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674984796,"creation_date":1674984796,"answer_id":75273890,"question_id":75273188,"body_markdown":"Here is an example using cli.\r\n\r\n`:v1` should be the material type I&#39;d that you are searching on.  `:v2` should be your epoch time in milliseconds for 30 mins ago which you will have to calculate.\r\n\r\n\r\n```\r\naws dynamodb query \\\r\n    --table-name mytable \\\r\n    --index-name myindex\r\n    --key-condition-expression &quot;materialType = :v1 AND create time &gt; :v2&quot; \\\r\n    --expression-attribute-values &#39;{\r\n    &quot;:v1&quot;: {&quot;S&quot;: &quot;some id&quot;},\r\n    &quot;:V2&quot;: {&quot;N&quot;: &quot;766677876567&quot;}\r\n}&#39;\r\n```","title":"Get all items of the last 15 minutes in DynamoDB","body":"<p>Here is an example using cli.</p>\n<p><code>:v1</code> should be the material type I'd that you are searching on.  <code>:v2</code> should be your epoch time in milliseconds for 30 mins ago which you will have to calculate.</p>\n<pre><code>aws dynamodb query \\\n    --table-name mytable \\\n    --index-name myindex\n    --key-condition-expression &quot;materialType = :v1 AND create time &gt; :v2&quot; \\\n    --expression-attribute-values '{\n    &quot;:v1&quot;: {&quot;S&quot;: &quot;some id&quot;},\n    &quot;:V2&quot;: {&quot;N&quot;: &quot;766677876567&quot;}\n}'\n</code></pre>\n"}],"owner":{"account_id":15338304,"reputation":173,"user_id":11066001,"display_name":"Yashika Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674984796,"creation_date":1674976483,"question_id":75273188,"body_markdown":"As I come from RDBM background I am bit confuse with DynamoDB, how to write this query.\r\n\r\n**Problem** : need to filter out those data which is more than 15 minutes.\r\n\r\nI have created GSI with hashkey`materialType` and `createTime` (create time format `Instant.now().toEpochMilli()`).\r\n\r\nNow I have to write a java query which gives those values which is more than 15 minutes.","title":"Get all items of the last 15 minutes in DynamoDB","body":"<p>As I come from RDBM background I am bit confuse with DynamoDB, how to write this query.</p>\n<p><strong>Problem</strong> : need to filter out those data which is more than 15 minutes.</p>\n<p>I have created GSI with hashkey<code>materialType</code> and <code>createTime</code> (create time format <code>Instant.now().toEpochMilli()</code>).</p>\n<p>Now I have to write a java query which gives those values which is more than 15 minutes.</p>\n"},{"tags":["java","json","discord","discord-jda"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1674983631,"post_id":75273716,"comment_id":132827089,"body_markdown":"Does the string contain the ID of the channel? What does the JSON file look like?","body":"Does the string contain the ID of the channel? What does the JSON file look like?"}],"owner":{"account_id":25562543,"reputation":39,"user_id":19344937,"display_name":"Rose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674984562,"creation_date":1674982791,"question_id":75273716,"body_markdown":"I am trying to store a MessageChannel in a json file, then reading it and sending a message into that channel later\r\n\r\n~~~\r\nInputStream is = new FileInputStream(&quot;OmgIt&#39;sJasonBourne.json&quot;);\r\n\t          \r\n\t          JSONTokener tokener = new JSONTokener(is);\r\n\t          JSONObject jsonObject = new JSONObject(tokener);\r\n\t          JSONObject jsonAlarm = (JSONObject) jsonObject.get(&quot;alarm&quot;);\r\n\r\n\t         MessageChannel theChannel= (MessageChannel) jsonAlarm.get(&quot;channel&quot;);\r\n\t         theChannel.sendMessage(jsonAlarm.get(&quot;message&quot;).toString());\r\n~~~\r\n\r\nWhen I try and use this code it gives me: \r\n~~~\r\nString cannot be cast to class net.dv8tion.jda.api.entities.channel.middleman.MessageChannel\r\n~~~\r\nIs there any way to convert a string into a MessageChannel?","title":"How to cast String to MessageChannel","body":"<p>I am trying to store a MessageChannel in a json file, then reading it and sending a message into that channel later</p>\n<pre><code>InputStream is = new FileInputStream(&quot;OmgIt'sJasonBourne.json&quot;);\n              \n              JSONTokener tokener = new JSONTokener(is);\n              JSONObject jsonObject = new JSONObject(tokener);\n              JSONObject jsonAlarm = (JSONObject) jsonObject.get(&quot;alarm&quot;);\n\n             MessageChannel theChannel= (MessageChannel) jsonAlarm.get(&quot;channel&quot;);\n             theChannel.sendMessage(jsonAlarm.get(&quot;message&quot;).toString());\n</code></pre>\n<p>When I try and use this code it gives me:</p>\n<pre><code>String cannot be cast to class net.dv8tion.jda.api.entities.channel.middleman.MessageChannel\n</code></pre>\n<p>Is there any way to convert a string into a MessageChannel?</p>\n"},{"tags":["java","zip","crc32"],"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1423130995,"post_id":1206970,"comment_id":45027190,"body_markdown":"Those int constants are &quot;a code accent&quot; from another age (probably C)... I wish David Connelly had read about Java enums before he wrote ZipOutputStream.","body":"Those int constants are &quot;a code accent&quot; from another age (probably C)... I wish David Connelly had read about Java enums before he wrote ZipOutputStream."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1458951888,"post_id":1206970,"comment_id":60091431,"body_markdown":"@ChristopheRoussy That would have been rather difficult, as `ZipOutputStream` appeared many years before enums.","body":"@ChristopheRoussy That would have been rather difficult, as <code>ZipOutputStream</code> appeared many years before enums."},{"owner":{"display_name":"user9599745"},"score":1,"creation_date":1579209358,"post_id":1206970,"comment_id":105699909,"body_markdown":"I wonder what is so cool about enums. and what is so uncool about const integers.","body":"I wonder what is so cool about enums. and what is so uncool about const integers."}],"answers":[{"tags":[],"owner":{"account_id":379825,"reputation":3125,"user_id":733456,"accept_rate":84,"display_name":"Christian Schlichtherle"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1372280062,"creation_date":1304420188,"answer_id":5868403,"question_id":1206970,"body_markdown":"You need to use the `STORED` method, but this requires that you set the `size`, `compressedSize` and `crc32` properties of the corresponding `ZipEntry` before you can call `putNextEntry` on the `ZipOutputStream`. You can precompute the CRC-32 by using a `Crc32OutputStream`.","title":"How to create Uncompressed Zip archive in Java","body":"<p>You need to use the <code>STORED</code> method, but this requires that you set the <code>size</code>, <code>compressedSize</code> and <code>crc32</code> properties of the corresponding <code>ZipEntry</code> before you can call <code>putNextEntry</code> on the <code>ZipOutputStream</code>. You can precompute the CRC-32 by using a <code>Crc32OutputStream</code>.</p>\n"},{"tags":[],"owner":{"account_id":108996,"reputation":740,"user_id":289037,"accept_rate":50,"display_name":"PMorganCA"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1458948434,"creation_date":1354314213,"answer_id":13654065,"question_id":1206970,"body_markdown":"I&#39;m leery of **aperkins** solution (since deleted), but I know why it worked. The line (which has since been corrected in his answer)\r\n\r\n    zipOut.setLevel(ZipOutputStream.STORED); // accidentally right\r\n\r\nwas using the static value `ZipOutputStream.STORED`, which coincidentally equals `0`. So what that line is doing is setting the *level* used by the default DEFLATED method to zero compression (this is obviously what you want to do, but happened to only work by luck). So to get what you want explicitly and safely, use this instead:\r\n\r\n    zipOut.setMethod(ZipOutputStream.DEFLATED); // this line optional\r\n    zipOut.setLevel(0);\r\n\r\nor\r\n\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\nIf you use\r\n\r\n    zipOut.setMethod(ZipOutputStream.STORED);\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\n\r\nyou&#39;ll probably get the Exception that Keya noted in the original question. I believe **Christian Schlichtherle** is right; you are getting the Exceptions because you are not setting the CRC in the entry. The repercussions of that is that to use the STORED method, you have to read the entire entry file first, or find some other way to set the size, compressed size (must be equal) and the CRC before you call `zipOut.putNextEntry()`. Otherwise, you&#39;ll run into more exceptions if you overrun the size attribute by writing too many bytes to the output stream.  It appears that the ZIP specs say that if you are writing STORED data then it has to write the header [which includes the CRC-32 and length] &quot;up front&quot; before the data itself, hence the java API requiring these be set before it can start, since it basically only supports streaming out to the final zip file.","title":"How to create Uncompressed Zip archive in Java","body":"<p>I'm leery of <strong>aperkins</strong> solution (since deleted), but I know why it worked. The line (which has since been corrected in his answer)</p>\n\n<pre><code>zipOut.setLevel(ZipOutputStream.STORED); // accidentally right\n</code></pre>\n\n<p>was using the static value <code>ZipOutputStream.STORED</code>, which coincidentally equals <code>0</code>. So what that line is doing is setting the <em>level</em> used by the default DEFLATED method to zero compression (this is obviously what you want to do, but happened to only work by luck). So to get what you want explicitly and safely, use this instead:</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.DEFLATED); // this line optional\nzipOut.setLevel(0);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>zipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n\n<p>If you use</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.STORED);\nzipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n\n<p>you'll probably get the Exception that Keya noted in the original question. I believe <strong>Christian Schlichtherle</strong> is right; you are getting the Exceptions because you are not setting the CRC in the entry. The repercussions of that is that to use the STORED method, you have to read the entire entry file first, or find some other way to set the size, compressed size (must be equal) and the CRC before you call <code>zipOut.putNextEntry()</code>. Otherwise, you'll run into more exceptions if you overrun the size attribute by writing too many bytes to the output stream.  It appears that the ZIP specs say that if you are writing STORED data then it has to write the header [which includes the CRC-32 and length] \"up front\" before the data itself, hence the java API requiring these be set before it can start, since it basically only supports streaming out to the final zip file.</p>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1414032521,"creation_date":1414032521,"answer_id":26520506,"question_id":1206970,"body_markdown":"FYI:\r\n\r\nIn JDK Source of the method [java.util.zip.ZipOutputStream.setLevel(int)]:\r\n\r\n    public void setLevel(int level) {\r\n        def.setLevel(level);\r\n    }\r\n\r\n\r\nIt simply redirect the compression level setting to the field variable [def], which is an instance of [java.util.zip.Deflater].\r\n\r\nAnd in the source code of the class [java.util.zip.Deflater]:\r\n\r\n\r\n\r\n    /**\r\n     * Compression level for no compression.\r\n     */\r\n    public static final int NO_COMPRESSION = 0;\r\n    \r\n    /**\r\n     * Compression level for fastest compression.\r\n     */\r\n    public static final int BEST_SPEED = 1;\r\n    \r\n    /**\r\n     * Compression level for best compression.\r\n     */\r\n    public static final int BEST_COMPRESSION = 9;\r\n    \r\n    /**\r\n     * Default compression level.\r\n     */\r\n    public static final int DEFAULT_COMPRESSION = -1;\r\n\r\n\r\n\r\n\r\n\r\nSo, I think it will be more readable if you use the constant value [Deflater.NO_COMPRESSION]:\r\n\r\n\r\n\r\n    zipOut.setMethod(ZipOutputStream.DEFLATED);\r\n    zipOut.setLevel(Deflater.NO_COMPRESSION);\r\n\r\n","title":"How to create Uncompressed Zip archive in Java","body":"<p>FYI:</p>\n\n<p>In JDK Source of the method [java.util.zip.ZipOutputStream.setLevel(int)]:</p>\n\n<pre><code>public void setLevel(int level) {\n    def.setLevel(level);\n}\n</code></pre>\n\n<p>It simply redirect the compression level setting to the field variable [def], which is an instance of [java.util.zip.Deflater].</p>\n\n<p>And in the source code of the class [java.util.zip.Deflater]:</p>\n\n<pre><code>/**\n * Compression level for no compression.\n */\npublic static final int NO_COMPRESSION = 0;\n\n/**\n * Compression level for fastest compression.\n */\npublic static final int BEST_SPEED = 1;\n\n/**\n * Compression level for best compression.\n */\npublic static final int BEST_COMPRESSION = 9;\n\n/**\n * Default compression level.\n */\npublic static final int DEFAULT_COMPRESSION = -1;\n</code></pre>\n\n<p>So, I think it will be more readable if you use the constant value [Deflater.NO_COMPRESSION]:</p>\n\n<pre><code>zipOut.setMethod(ZipOutputStream.DEFLATED);\nzipOut.setLevel(Deflater.NO_COMPRESSION);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11437882,"reputation":56,"user_id":8384616,"display_name":"clzd0792"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674982860,"creation_date":1674982860,"answer_id":75273720,"question_id":1206970,"body_markdown":"```\r\n    public static void zipForStored(String srcFile, String zipFile) throws Exception {\r\n        File file = new File(zipFile);\r\n        if (!file.exists()) file.createNewFile();\r\n        ZipOutputStream outZip = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(file)));\r\n        outZip.setMethod(ZipOutputStream.STORED);\r\n        ZipFiles(srcFile, null, &quot;&quot;, outZip);\r\n        outZip.finish();\r\n        outZip.close();\r\n    }\r\n\r\n    private static void ZipFiles(String folder, FilenameFilter filter, String file, ZipOutputStream zipOutputSteam) throws Exception {\r\n        if (zipOutputSteam == null)\r\n            return;\r\n        File f = new File(folder, file);\r\n        if (f.isFile()) {\r\n            ZipEntry zipEntry = new ZipEntry(file);\r\n            FileInputStream inputStream = new FileInputStream(f);\r\n            zipEntry.setSize(f.length());\r\n            zipEntry.setCompressedSize(f.length());\r\n            zipEntry.setCrc(computeCrc(f));\r\n            zipOutputSteam.putNextEntry(zipEntry);\r\n            int len;\r\n            byte[] buffer = new byte[4096];\r\n            while ((len = inputStream.read(buffer)) != -1) {\r\n                zipOutputSteam.write(buffer, 0, len);\r\n            }\r\n            zipOutputSteam.closeEntry();\r\n            inputStream.close();\r\n        } else {\r\n            String fileList[] = f.list(filter);\r\n            if (fileList.length &lt;= 0) {\r\n                ZipEntry zipEntry = new ZipEntry(file + File.separator);\r\n                zipEntry.setSize(0);\r\n                zipEntry.setCompressedSize(0);\r\n                zipEntry.setCrc(0);\r\n                zipOutputSteam.putNextEntry(zipEntry);\r\n                zipOutputSteam.closeEntry();\r\n            }\r\n            for (int i = 0; i &lt; fileList.length; i++) {\r\n                if (TextUtils.isEmpty(file)) {\r\n                    ZipFiles(folder, filter, fileList[i], zipOutputSteam);\r\n                } else {\r\n                    ZipFiles(folder, filter, file + File.separator + fileList[i], zipOutputSteam);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Computes the CRC checksum for the given file.\r\n     *\r\n     * @param file The file to compute checksum for.\r\n     * @return A CRC32 checksum.\r\n     * @throws IOException If an I/O error occurs.\r\n     */\r\n    private static long computeCrc(File file) throws IOException {\r\n        CRC32 crc = new CRC32();\r\n        InputStream in = new FileInputStream(file);\r\n\r\n        try {\r\n            byte[] buf = new byte[8192];\r\n            int n = in.read(buf);\r\n            while (n != -1) {\r\n                crc.update(buf, 0, n);\r\n                n = in.read(buf);\r\n            }\r\n        } finally {\r\n            in.close();\r\n        }\r\n        return crc.getValue();\r\n    }\r\n```","title":"How to create Uncompressed Zip archive in Java","body":"<pre><code>    public static void zipForStored(String srcFile, String zipFile) throws Exception {\n        File file = new File(zipFile);\n        if (!file.exists()) file.createNewFile();\n        ZipOutputStream outZip = new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(file)));\n        outZip.setMethod(ZipOutputStream.STORED);\n        ZipFiles(srcFile, null, &quot;&quot;, outZip);\n        outZip.finish();\n        outZip.close();\n    }\n\n    private static void ZipFiles(String folder, FilenameFilter filter, String file, ZipOutputStream zipOutputSteam) throws Exception {\n        if (zipOutputSteam == null)\n            return;\n        File f = new File(folder, file);\n        if (f.isFile()) {\n            ZipEntry zipEntry = new ZipEntry(file);\n            FileInputStream inputStream = new FileInputStream(f);\n            zipEntry.setSize(f.length());\n            zipEntry.setCompressedSize(f.length());\n            zipEntry.setCrc(computeCrc(f));\n            zipOutputSteam.putNextEntry(zipEntry);\n            int len;\n            byte[] buffer = new byte[4096];\n            while ((len = inputStream.read(buffer)) != -1) {\n                zipOutputSteam.write(buffer, 0, len);\n            }\n            zipOutputSteam.closeEntry();\n            inputStream.close();\n        } else {\n            String fileList[] = f.list(filter);\n            if (fileList.length &lt;= 0) {\n                ZipEntry zipEntry = new ZipEntry(file + File.separator);\n                zipEntry.setSize(0);\n                zipEntry.setCompressedSize(0);\n                zipEntry.setCrc(0);\n                zipOutputSteam.putNextEntry(zipEntry);\n                zipOutputSteam.closeEntry();\n            }\n            for (int i = 0; i &lt; fileList.length; i++) {\n                if (TextUtils.isEmpty(file)) {\n                    ZipFiles(folder, filter, fileList[i], zipOutputSteam);\n                } else {\n                    ZipFiles(folder, filter, file + File.separator + fileList[i], zipOutputSteam);\n                }\n            }\n        }\n    }\n\n    /**\n     * Computes the CRC checksum for the given file.\n     *\n     * @param file The file to compute checksum for.\n     * @return A CRC32 checksum.\n     * @throws IOException If an I/O error occurs.\n     */\n    private static long computeCrc(File file) throws IOException {\n        CRC32 crc = new CRC32();\n        InputStream in = new FileInputStream(file);\n\n        try {\n            byte[] buf = new byte[8192];\n            int n = in.read(buf);\n            while (n != -1) {\n                crc.update(buf, 0, n);\n                n = in.read(buf);\n            }\n        } finally {\n            in.close();\n        }\n        return crc.getValue();\n    }\n</code></pre>\n"}],"owner":{"display_name":"Keya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19973,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":4,"score":30,"last_activity_date":1674982860,"creation_date":1248964143,"question_id":1206970,"body_markdown":"I am using the Zip utility package of Java and wanted to know how to create a zip file with no compression at all.  Setting the level to 0 doesn&#39;t help.  Is this right?\r\n\r\nAlso, when I used the `STORED` method, it throws following exception:\r\n\r\n    java.util.zip.ZipException: STORED entry missing size, compressed size, or crc-32\r\n\r\nI can set the size but now following exception is thrown:\r\n\r\n    java.util.zip.ZipException: invalid entry crc-32 \r\n\r\nI am just following all the examples available by searching on the web and I am not able to really understand it properly I guess.  It would be great if someone can help me on this and provide me suggestion to correct the problem I might be doing.","title":"How to create Uncompressed Zip archive in Java","body":"<p>I am using the Zip utility package of Java and wanted to know how to create a zip file with no compression at all.  Setting the level to 0 doesn't help.  Is this right?</p>\n\n<p>Also, when I used the <code>STORED</code> method, it throws following exception:</p>\n\n<pre><code>java.util.zip.ZipException: STORED entry missing size, compressed size, or crc-32\n</code></pre>\n\n<p>I can set the size but now following exception is thrown:</p>\n\n<pre><code>java.util.zip.ZipException: invalid entry crc-32 \n</code></pre>\n\n<p>I am just following all the examples available by searching on the web and I am not able to really understand it properly I guess.  It would be great if someone can help me on this and provide me suggestion to correct the problem I might be doing.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674982787,"creation_date":1674982787,"answer_id":75273715,"question_id":75273228,"body_markdown":"The `Model` class actually has `asMap()` method. You can check in [java docs](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html#asMap()) . `Context` class in turn has `context.setVariables()` method. You can check it [here](https://www.thymeleaf.org/apidocs/thymeleaf/2.0.2/org/thymeleaf/context/AbstractContext.html#setVariables(java.util.Map)). It means you can write something like this:\r\n```java\r\nctx.setVariables(model.asMap());\r\n```\r\nIt is also worth noting that you should use the `Model` class and the `Context` class as they have different responsibilities. Since `Model` class is used to add attributes to a model that will be used to render a view, and the `Context` class is used to add attributes to a context that will be used to process a Thymeleaf template.","title":"Convert Model variable to a Context variable in SpringBoot","body":"<p>The <code>Model</code> class actually has <code>asMap()</code> method. You can check in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html#asMap()\" rel=\"nofollow noreferrer\">java docs</a> . <code>Context</code> class in turn has <code>context.setVariables()</code> method. You can check it <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/2.0.2/org/thymeleaf/context/AbstractContext.html#setVariables(java.util.Map)\" rel=\"nofollow noreferrer\">here</a>. It means you can write something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.setVariables(model.asMap());\n</code></pre>\n<p>It is also worth noting that you should use the <code>Model</code> class and the <code>Context</code> class as they have different responsibilities. Since <code>Model</code> class is used to add attributes to a model that will be used to render a view, and the <code>Context</code> class is used to add attributes to a context that will be used to process a Thymeleaf template.</p>\n"}],"owner":{"account_id":43392,"reputation":3949,"user_id":126833,"accept_rate":76,"display_name":"anjanesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75273715,"answer_count":1,"score":0,"last_activity_date":1674982787,"creation_date":1674977036,"question_id":75273228,"body_markdown":"This is what I already have :\r\n\r\n```java\r\nmodel.addAttribute(&quot;var1&quot;, var1);\r\nmodel.addAttribute(&quot;var99&quot;, var99);\r\n```\r\n\r\nThis is what I have to do - so its a complete re-do :\r\n\r\n```java\r\nContext ctx = new Context();\r\n\r\nctx.setVariable(&quot;var1&quot;, var1);\r\nctx.setVariable(&quot;var99&quot;, var99);\r\n```\r\n\r\nIs there a way to set `model` to `ctx` ?\r\n\r\nWhat I really want to do :\r\n\r\n```java\r\nString htmlTemplate = myTemplateEngine.process(&quot;html/foo.html&quot;, ctx);\r\n```","title":"Convert Model variable to a Context variable in SpringBoot","body":"<p>This is what I already have :</p>\n<pre class=\"lang-java prettyprint-override\"><code>model.addAttribute(&quot;var1&quot;, var1);\nmodel.addAttribute(&quot;var99&quot;, var99);\n</code></pre>\n<p>This is what I have to do - so its a complete re-do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Context ctx = new Context();\n\nctx.setVariable(&quot;var1&quot;, var1);\nctx.setVariable(&quot;var99&quot;, var99);\n</code></pre>\n<p>Is there a way to set <code>model</code> to <code>ctx</code> ?</p>\n<p>What I really want to do :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String htmlTemplate = myTemplateEngine.process(&quot;html/foo.html&quot;, ctx);\n</code></pre>\n"},{"tags":["java","spring-boot","netty","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1593170199,"creation_date":1593166113,"answer_id":62592495,"question_id":62591575,"body_markdown":"You are doing several things wrong you should not `subscribe` in your application, and you are having void methods, which should not be used in reactive programming unless in specific places.\r\n\r\nhere is some example code:\r\n```\r\n\r\n// Nothing will happen, we are not returning anything, we can&#39;t subscribe\r\nprivate void doSomething() {\r\n    Mono.just(&quot;Foo&quot;);\r\n}\r\n\r\n// complier error\r\ndoSomething().subscribe( ... );\r\n\r\n```\r\n\r\nYour application is a `publisher` the calling client, is the subscriber, thats why we return a Mono or a Flux out to the calling client, they `subscribe`.\r\n\r\nYou have solved it this way:\r\n```\r\nprivate void doSomething() {\r\n    Mono.just(&quot;Foo&quot;).subscribe( ... );\r\n}\r\n\r\ndoSomething();\r\n```\r\n\r\nNow you are subscribing to yourself to get things running, this is not the correct way, as mentioned before, the calling client is the subscriber, not you.\r\n\r\nCorrect way:\r\n```\r\nprivate Mono&lt;String&gt; doSomething() {\r\n    return Mono.just(&quot;Foo&quot;);\r\n}\r\n\r\n// This is returned out to the calling client, they subscribe\r\nreturn doSomething();\r\n```\r\n\r\nAs a Mono/Flux completes, it will emit a signal, this signal will trigger the next and the next and the next in the chain.\r\n\r\nSo my opinion of what you need to do is the following:\r\n\r\n - Remove **all** `subscribes`, if you want to do things there are functions like, `flatmap`, `map`, `doOnSuccess` etc. keep the chain instact all the way out to the client.\r\n - Remove all **void** functions, make sure they return a `Flux` or a `Mono` and if you want to **not** return something return a `Mono&lt;Void&gt;` by using the `Mono.empty()` function so that the chain will be complete.\r\n\r\nAs soon as you use a Mono/Flux you need to handle the return so that others can chain on.\r\n\r\nUpdate:\r\n\r\nIn order for `then` to trigger, you must return something, it will return when the previous mono/flux completes.\r\n\r\nexample:\r\n```\r\nprivate Flux&lt;String&gt; doSomething() {\r\n    return Flux.just(&quot;Foo&quot;, &quot;Bar&quot;, &quot;FooBar&quot;)\r\n               .doOnNext(string -&gt; {\r\n                   return // return something\r\n               });\r\n}\r\n\r\n// Ignore what was return from doSomething and return something else when the flux has completed (so only trigger on the completed signal from the flux)\r\nreturn doSomething().then( ... );\r\n```\r\n\r\n\r\n","title":"Flux does not wait for completion of elements before &#39;then&#39;","body":"<p>You are doing several things wrong you should not <code>subscribe</code> in your application, and you are having void methods, which should not be used in reactive programming unless in specific places.</p>\n<p>here is some example code:</p>\n<pre><code>\n// Nothing will happen, we are not returning anything, we can't subscribe\nprivate void doSomething() {\n    Mono.just(&quot;Foo&quot;);\n}\n\n// complier error\ndoSomething().subscribe( ... );\n\n</code></pre>\n<p>Your application is a <code>publisher</code> the calling client, is the subscriber, thats why we return a Mono or a Flux out to the calling client, they <code>subscribe</code>.</p>\n<p>You have solved it this way:</p>\n<pre><code>private void doSomething() {\n    Mono.just(&quot;Foo&quot;).subscribe( ... );\n}\n\ndoSomething();\n</code></pre>\n<p>Now you are subscribing to yourself to get things running, this is not the correct way, as mentioned before, the calling client is the subscriber, not you.</p>\n<p>Correct way:</p>\n<pre><code>private Mono&lt;String&gt; doSomething() {\n    return Mono.just(&quot;Foo&quot;);\n}\n\n// This is returned out to the calling client, they subscribe\nreturn doSomething();\n</code></pre>\n<p>As a Mono/Flux completes, it will emit a signal, this signal will trigger the next and the next and the next in the chain.</p>\n<p>So my opinion of what you need to do is the following:</p>\n<ul>\n<li>Remove <strong>all</strong> <code>subscribes</code>, if you want to do things there are functions like, <code>flatmap</code>, <code>map</code>, <code>doOnSuccess</code> etc. keep the chain instact all the way out to the client.</li>\n<li>Remove all <strong>void</strong> functions, make sure they return a <code>Flux</code> or a <code>Mono</code> and if you want to <strong>not</strong> return something return a <code>Mono&lt;Void&gt;</code> by using the <code>Mono.empty()</code> function so that the chain will be complete.</li>\n</ul>\n<p>As soon as you use a Mono/Flux you need to handle the return so that others can chain on.</p>\n<p>Update:</p>\n<p>In order for <code>then</code> to trigger, you must return something, it will return when the previous mono/flux completes.</p>\n<p>example:</p>\n<pre><code>private Flux&lt;String&gt; doSomething() {\n    return Flux.just(&quot;Foo&quot;, &quot;Bar&quot;, &quot;FooBar&quot;)\n               .doOnNext(string -&gt; {\n                   return // return something\n               });\n}\n\n// Ignore what was return from doSomething and return something else when the flux has completed (so only trigger on the completed signal from the flux)\nreturn doSomething().then( ... );\n</code></pre>\n"}],"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16352,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62592495,"answer_count":1,"score":4,"last_activity_date":1674982086,"creation_date":1593162684,"question_id":62591575,"body_markdown":"I am failing to understand the issue and I am not sure what am I doing wrong.\r\n\r\nI want to wait for Flux to end and then return `Mono` of `serverResponse`\r\n\r\nI have attached the code snippet, the `doOnNext` will populate the `categoryIdToPrintRepository`.\r\n\r\nI have looked around on how to return mono after flux ends and found the &#39;then&#39; but still the &#39;then&#39; method is being executed way before the onNextSite is being processed, this results with the error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: &#39;producer&#39; type is unknown to ReactiveAdapterRegistry\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n```\r\n public Mono&lt;ServerResponse&gt; retrieveCatalog(ServerRequest ignored) {\r\n        return Mono.just(&quot;start&quot;).flatMap(id -&gt;\r\n                Flux.fromIterable(appSettings.getSites())\r\n                        .subscribeOn(ForkJoinPoolScheduler.create(&quot;SiteCatalogScheduler&quot;))\r\n                        .doOnNext(this::onNextSite)\r\n                        .then(Mono.from(ServerResponse.ok().body(categoryIdToPrintRepository.getSortedTreeValues(), String.class))));\r\n\r\n    }\r\n\r\n    private void onNextSite(Integer siteId) {\r\n        IntStream.range(1, appSettings.getCatalogMaxValue()).parallel().forEach(catalogId -&gt; {\r\n            Optional&lt;SiteCatalogCategoryDTO&gt; cacheData =\r\n                    siteCatalogCacheUseCaseService.getSiteCatalogResponseFromCache(siteId, catalogId);\r\n            cacheData.ifPresentOrElse(siteCatalogCategoryDTO -&gt; {/*do nothing already exist in cache*/},\r\n                    () -&gt; {\r\n                    Mono&lt;SiteCatalogCategoryDTO&gt; catalogCategoryDTOMono = WebClient.create(getUri(siteId, catalogId))\r\n                            .get().retrieve().bodyToMono(SiteCatalogCategoryDTO.class);\r\n                    catalogCategoryDTOMono.subscribe(siteCatalogCategoryDTO -&gt;\r\n                            handleSiteServerResponse(siteCatalogCategoryDTO, siteId, catalogId));\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    private void handleSiteServerResponse(SiteCatalogCategoryDTO siteCatalogCategoryDTO,\r\n                                          int siteId, int catalogId) {\r\n        if (siteCatalogCategoryDTO.getResponseStatus().equals(ResponseStatus.SUCCESS))\r\n            Flux.fromIterable(siteCatalogCategoryDTO.getMappingList())\r\n                    .subscribe(mapSCC -&gt; {\r\n                        categoryIdToPrintRepository.insertIntoTree(mapSCC.getCategoryId(),\r\n                                &quot;Site &quot; + siteId + &quot; - Catalog &quot; + catalogId + &quot; is mapped to category &quot; + &quot;\\&quot;&quot; +\r\n                                        mapSCC.getCategoryName() + &quot;\\&quot; (&quot; + mapSCC.getCategoryId() + &quot;)&quot;);\r\n                        siteCatalogCacheUseCaseService.insertIntoSiteCatalogCache(siteId, catalogId, siteCatalogCategoryDTO);\r\n                    });\r\n    }\r\n```\r\n\r\n","title":"Flux does not wait for completion of elements before &#39;then&#39;","body":"<p>I am failing to understand the issue and I am not sure what am I doing wrong.</p>\n<p>I want to wait for Flux to end and then return <code>Mono</code> of <code>serverResponse</code></p>\n<p>I have attached the code snippet, the <code>doOnNext</code> will populate the <code>categoryIdToPrintRepository</code>.</p>\n<p>I have looked around on how to return mono after flux ends and found the 'then' but still the 'then' method is being executed way before the onNextSite is being processed, this results with the error:</p>\n<pre><code>java.lang.IllegalArgumentException: 'producer' type is unknown to ReactiveAdapterRegistry\n</code></pre>\n<p>What am I doing wrong?</p>\n<pre><code> public Mono&lt;ServerResponse&gt; retrieveCatalog(ServerRequest ignored) {\n        return Mono.just(&quot;start&quot;).flatMap(id -&gt;\n                Flux.fromIterable(appSettings.getSites())\n                        .subscribeOn(ForkJoinPoolScheduler.create(&quot;SiteCatalogScheduler&quot;))\n                        .doOnNext(this::onNextSite)\n                        .then(Mono.from(ServerResponse.ok().body(categoryIdToPrintRepository.getSortedTreeValues(), String.class))));\n\n    }\n\n    private void onNextSite(Integer siteId) {\n        IntStream.range(1, appSettings.getCatalogMaxValue()).parallel().forEach(catalogId -&gt; {\n            Optional&lt;SiteCatalogCategoryDTO&gt; cacheData =\n                    siteCatalogCacheUseCaseService.getSiteCatalogResponseFromCache(siteId, catalogId);\n            cacheData.ifPresentOrElse(siteCatalogCategoryDTO -&gt; {/*do nothing already exist in cache*/},\n                    () -&gt; {\n                    Mono&lt;SiteCatalogCategoryDTO&gt; catalogCategoryDTOMono = WebClient.create(getUri(siteId, catalogId))\n                            .get().retrieve().bodyToMono(SiteCatalogCategoryDTO.class);\n                    catalogCategoryDTOMono.subscribe(siteCatalogCategoryDTO -&gt;\n                            handleSiteServerResponse(siteCatalogCategoryDTO, siteId, catalogId));\n            });\n        });\n    }\n\n\n    private void handleSiteServerResponse(SiteCatalogCategoryDTO siteCatalogCategoryDTO,\n                                          int siteId, int catalogId) {\n        if (siteCatalogCategoryDTO.getResponseStatus().equals(ResponseStatus.SUCCESS))\n            Flux.fromIterable(siteCatalogCategoryDTO.getMappingList())\n                    .subscribe(mapSCC -&gt; {\n                        categoryIdToPrintRepository.insertIntoTree(mapSCC.getCategoryId(),\n                                &quot;Site &quot; + siteId + &quot; - Catalog &quot; + catalogId + &quot; is mapped to category &quot; + &quot;\\&quot;&quot; +\n                                        mapSCC.getCategoryName() + &quot;\\&quot; (&quot; + mapSCC.getCategoryId() + &quot;)&quot;);\n                        siteCatalogCacheUseCaseService.insertIntoSiteCatalogCache(siteId, catalogId, siteCatalogCategoryDTO);\n                    });\n    }\n</code></pre>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981946,"creation_date":1674981946,"answer_id":75273641,"question_id":75273558,"body_markdown":"You&#39;ve got the same issue repeatedly, which is that you are interacting with a shared data structure in a non-synchronized way. The fact that `map` is a `ConcurrentHashMap` means that *individual* `.get` and `.put` calls will not break thread safety, you use *multiple* of those calls with the assumption that the map doesn&#39;t change between them.\r\n\r\n        MutableInteger newMinuteAcceptKey = new MutableInteger();\r\n        newMinuteAcceptKey.setValue(1);\r\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\r\n        // let&#39;s assume here something happens\r\n        if(null != oldMinuteAcceptKey) {\r\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\r\n        }\r\n\r\nIf at the point marked with a comment above **some other thread** *also* puts a new `MutableInteger` into the map, then your later change to `newMinuteAcceptKey` (which should really be `newMinuteAcceptValue`, since it&#39;s not the key!) will be irrelevant, as that value is no longer in the map.\r\n\r\nIn order to fix this, replace this whole thing with a single [compute][1] or [`merge`][2] call. Then you also don&#39;t really need `MutableInteger`, but can switch to a boring old `Integer`, if you want:\r\n\r\n    map.merge(minuteAcceptKey, 1, Integer::sum);\r\n\r\nThose methods will do **the whole operation** in an atomic way, i.e. make sure that no other calls manipulate the data until they are complete.\r\n\r\nA short summary: If you need a `ConcurrentHashMap`, then you almost never want to have plain `.put()` calls (except maybe when populating the initial values in a single-threaded way), as those method have rather weak concurrency guarantees (i.e. they only guarantee to not break the map, but any other operation can easily overwrite their values at any time).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#merge(K,V,java.util.function.BiFunction)","title":"Thread safety count problem，Why is there a problem with counting in the code?","body":"<p>You've got the same issue repeatedly, which is that you are interacting with a shared data structure in a non-synchronized way. The fact that <code>map</code> is a <code>ConcurrentHashMap</code> means that <em>individual</em> <code>.get</code> and <code>.put</code> calls will not break thread safety, you use <em>multiple</em> of those calls with the assumption that the map doesn't change between them.</p>\n<pre><code>    MutableInteger newMinuteAcceptKey = new MutableInteger();\n    newMinuteAcceptKey.setValue(1);\n    MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\n    // let's assume here something happens\n    if(null != oldMinuteAcceptKey) {\n        newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\n    }\n</code></pre>\n<p>If at the point marked with a comment above <strong>some other thread</strong> <em>also</em> puts a new <code>MutableInteger</code> into the map, then your later change to <code>newMinuteAcceptKey</code> (which should really be <code>newMinuteAcceptValue</code>, since it's not the key!) will be irrelevant, as that value is no longer in the map.</p>\n<p>In order to fix this, replace this whole thing with a single <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">compute</a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>merge</code></a> call. Then you also don't really need <code>MutableInteger</code>, but can switch to a boring old <code>Integer</code>, if you want:</p>\n<pre><code>map.merge(minuteAcceptKey, 1, Integer::sum);\n</code></pre>\n<p>Those methods will do <strong>the whole operation</strong> in an atomic way, i.e. make sure that no other calls manipulate the data until they are complete.</p>\n<p>A short summary: If you need a <code>ConcurrentHashMap</code>, then you almost never want to have plain <code>.put()</code> calls (except maybe when populating the initial values in a single-threaded way), as those method have rather weak concurrency guarantees (i.e. they only guarantee to not break the map, but any other operation can easily overwrite their values at any time).</p>\n"}],"owner":{"account_id":27572028,"reputation":1,"user_id":21043025,"display_name":"user21043025"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674981946,"creation_date":1674980984,"question_id":75273558,"body_markdown":"### Why is the following code thread unsafe?\r\n\r\nIn ConcurrentHashMap, the key is the current time, the value is MutableInteger, and the mutableInteger is used for counting, and the set method and get method have been locked. Why is the final value incorrect？\r\n\r\n```java\r\npublic class MutableInteger {\r\n    private volatile int value;\r\n\r\n    public MutableInteger() {\r\n    }\r\n\r\n    public synchronized int getValue() {\r\n        return value;\r\n    }\r\n\r\n    public synchronized void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.concurrent.*;\r\n\r\npublic class LinkedQueue {\r\n\r\n    static ConcurrentHashMap&lt;String,MutableInteger&gt; map = new ConcurrentHashMap();\r\n\r\n    public static class CountQueue{\r\n        static BlockingQueue&lt;Calendar&gt; queue = new LinkedBlockingQueue&lt;Calendar&gt;();\r\n\r\n        public void produce() throws InterruptedException{\r\n            queue.put(Calendar.getInstance());\r\n        }\r\n        public Calendar consume() throws InterruptedException{\r\n            return queue.take();\r\n        }\r\n    }\r\n\r\n    /**\r\n     */\r\n    public static void recordFlow(){\r\n        final CountQueue queue = new CountQueue();\r\n        class Producer implements Runnable {\r\n            public void run() {\r\n                try {\r\n                    queue.produce();\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        class Consumer implements Runnable {\r\n            public void run() {\r\n                try {\r\n                    getdata(queue.consume());\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        ExecutorService service = Executors.newCachedThreadPool();\r\n        Producer producer = new Producer();\r\n        Consumer consumer = new Consumer();\r\n        service.submit(producer);\r\n        service.submit(consumer);\r\n        service.shutdown();\r\n    }\r\n\r\n    /**\r\n     *\r\n     *\r\n     * @param c 队列中取出的时间\r\n     */\r\n    public static void getdata(Calendar c){\r\n        try{\r\n            saveFlow(c);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // 接口流量记录\r\n    public static void saveFlow(Calendar c){\r\n        System.out.println(&quot;Thread Name:&quot;+Thread.currentThread().getName());\r\n        SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        SimpleDateFormat sdfHour = new SimpleDateFormat(&quot;yyyy-MM-dd HH&quot;);\r\n        SimpleDateFormat sdfMinute = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\n\r\n        String dayAcceptKey = sdfDate.format(c.getTime());\r\n        String hourAcceptKey = sdfHour.format(c.getTime());\r\n        String minuteAcceptKey = sdfMinute.format(c.getTime());\r\n        \r\n        MutableInteger newMinuteAcceptKey = new MutableInteger();\r\n        newMinuteAcceptKey.setValue(1);\r\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\r\n        if(null != oldMinuteAcceptKey) {\r\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;minute in map：&quot;+ minuteAcceptKey + &quot;,&quot;+ newMinuteAcceptKey.getValue());\r\n        MutableInteger newHourAcceptKey = new MutableInteger();\r\n        newHourAcceptKey.setValue(1);\r\n        MutableInteger oldHourAcceptKey = map.put(hourAcceptKey, newHourAcceptKey);\r\n        if(null != oldHourAcceptKey) {\r\n            newHourAcceptKey.setValue(oldHourAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;hour in map：&quot; + hourAcceptKey + &quot;,&quot; + newHourAcceptKey.getValue());\r\n        MutableInteger newDayAcceptKey = new MutableInteger();\r\n        newDayAcceptKey.setValue(1);\r\n        MutableInteger oldDayAcceptKey = map.put(dayAcceptKey, newDayAcceptKey);\r\n        if(null != oldDayAcceptKey) {\r\n            newDayAcceptKey.setValue(oldDayAcceptKey.getValue() + 1);\r\n        }\r\n        System.out.println(&quot;day in map：&quot; + dayAcceptKey + &quot;,&quot; + newDayAcceptKey.getValue());\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        for(int i=0;i&lt;1000;i++) {\r\n            recordFlow();\r\n        }\r\n        try {\r\n            Thread.sleep(2000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;==========================&quot;);\r\n        for(String key:map.keySet()){\r\n            System.out.println(&quot;key and value:&quot; +key + &quot; &quot; + map.get(key).getValue());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe get method and set method in MutableInteger have been locked and are used ConcurrentHashMap, but the result data in the main method is incorrect. Please help me see what the problem is，thank you","title":"Thread safety count problem，Why is there a problem with counting in the code?","body":"<h3>Why is the following code thread unsafe?</h3>\n<p>In ConcurrentHashMap, the key is the current time, the value is MutableInteger, and the mutableInteger is used for counting, and the set method and get method have been locked. Why is the final value incorrect？</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MutableInteger {\n    private volatile int value;\n\n    public MutableInteger() {\n    }\n\n    public synchronized int getValue() {\n        return value;\n    }\n\n    public synchronized void setValue(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.concurrent.*;\n\npublic class LinkedQueue {\n\n    static ConcurrentHashMap&lt;String,MutableInteger&gt; map = new ConcurrentHashMap();\n\n    public static class CountQueue{\n        static BlockingQueue&lt;Calendar&gt; queue = new LinkedBlockingQueue&lt;Calendar&gt;();\n\n        public void produce() throws InterruptedException{\n            queue.put(Calendar.getInstance());\n        }\n        public Calendar consume() throws InterruptedException{\n            return queue.take();\n        }\n    }\n\n    /**\n     */\n    public static void recordFlow(){\n        final CountQueue queue = new CountQueue();\n        class Producer implements Runnable {\n            public void run() {\n                try {\n                    queue.produce();\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n        class Consumer implements Runnable {\n            public void run() {\n                try {\n                    getdata(queue.consume());\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        }\n\n        ExecutorService service = Executors.newCachedThreadPool();\n        Producer producer = new Producer();\n        Consumer consumer = new Consumer();\n        service.submit(producer);\n        service.submit(consumer);\n        service.shutdown();\n    }\n\n    /**\n     *\n     *\n     * @param c 队列中取出的时间\n     */\n    public static void getdata(Calendar c){\n        try{\n            saveFlow(c);\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n    // 接口流量记录\n    public static void saveFlow(Calendar c){\n        System.out.println(&quot;Thread Name:&quot;+Thread.currentThread().getName());\n        SimpleDateFormat sdfDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        SimpleDateFormat sdfHour = new SimpleDateFormat(&quot;yyyy-MM-dd HH&quot;);\n        SimpleDateFormat sdfMinute = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\n\n        String dayAcceptKey = sdfDate.format(c.getTime());\n        String hourAcceptKey = sdfHour.format(c.getTime());\n        String minuteAcceptKey = sdfMinute.format(c.getTime());\n        \n        MutableInteger newMinuteAcceptKey = new MutableInteger();\n        newMinuteAcceptKey.setValue(1);\n        MutableInteger oldMinuteAcceptKey = map.put(minuteAcceptKey, newMinuteAcceptKey);\n        if(null != oldMinuteAcceptKey) {\n            newMinuteAcceptKey.setValue(oldMinuteAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;minute in map：&quot;+ minuteAcceptKey + &quot;,&quot;+ newMinuteAcceptKey.getValue());\n        MutableInteger newHourAcceptKey = new MutableInteger();\n        newHourAcceptKey.setValue(1);\n        MutableInteger oldHourAcceptKey = map.put(hourAcceptKey, newHourAcceptKey);\n        if(null != oldHourAcceptKey) {\n            newHourAcceptKey.setValue(oldHourAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;hour in map：&quot; + hourAcceptKey + &quot;,&quot; + newHourAcceptKey.getValue());\n        MutableInteger newDayAcceptKey = new MutableInteger();\n        newDayAcceptKey.setValue(1);\n        MutableInteger oldDayAcceptKey = map.put(dayAcceptKey, newDayAcceptKey);\n        if(null != oldDayAcceptKey) {\n            newDayAcceptKey.setValue(oldDayAcceptKey.getValue() + 1);\n        }\n        System.out.println(&quot;day in map：&quot; + dayAcceptKey + &quot;,&quot; + newDayAcceptKey.getValue());\n    }\n\n    public static void main(String[] args){\n        for(int i=0;i&lt;1000;i++) {\n            recordFlow();\n        }\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;==========================&quot;);\n        for(String key:map.keySet()){\n            System.out.println(&quot;key and value:&quot; +key + &quot; &quot; + map.get(key).getValue());\n        }\n    }\n}\n</code></pre>\n<p>The get method and set method in MutableInteger have been locked and are used ConcurrentHashMap, but the result data in the main method is incorrect. Please help me see what the problem is，thank you</p>\n"},{"tags":["java","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":27647969,"reputation":1,"user_id":21103464,"display_name":"Dainel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674981593,"creation_date":1674981593,"answer_id":75273609,"question_id":75273559,"body_markdown":"try use &quot;anyMatch&quot;:\r\n```\r\nString mainString = new String (&quot;qrfghjtysd&quot;);\r\nString container = new String (&quot;qre fgh ty np&quot;);\r\n\r\nboolean result = Arrays.stream(container.split(&quot;\\\\s++&quot;))\r\n                .anyMatch(s -&gt; s.equals(mainString));\r\n```","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>try use &quot;anyMatch&quot;:</p>\n<pre><code>String mainString = new String (&quot;qrfghjtysd&quot;);\nString container = new String (&quot;qre fgh ty np&quot;);\n\nboolean result = Arrays.stream(container.split(&quot;\\\\s++&quot;))\n                .anyMatch(s -&gt; s.equals(mainString));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981676,"creation_date":1674981676,"answer_id":75273619,"question_id":75273559,"body_markdown":"It seems like you want to transform each string `s` in the array to either &quot;true&quot; or &quot;false&quot; depending on `mainString.contains(s)`, and then join them together with new lines as the separator. The transformation can be done with a [`map`][1], and the joining can be done with the [`joining`][2] collector.\r\n\r\n    String res = Arrays.stream(smallStrings)\r\n        .map(s -&gt; Boolean.toString(mainString.contains(s)))\r\n        .collect(Collectors.joining(System.lineSeparator(), &quot;&quot;, System.lineSeparator()));\r\n\r\nLike your original code, this adds a trailing new line to the resulting string. If you don&#39;t care about the trailing new line, you can just pass a single `System.lineSeparator()` argument to the `joining` collector, calling [the other overload][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>It seems like you want to transform each string <code>s</code> in the array to either &quot;true&quot; or &quot;false&quot; depending on <code>mainString.contains(s)</code>, and then join them together with new lines as the separator. The transformation can be done with a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>map</code></a>, and the joining can be done with the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence,java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>joining</code></a> collector.</p>\n<pre><code>String res = Arrays.stream(smallStrings)\n    .map(s -&gt; Boolean.toString(mainString.contains(s)))\n    .collect(Collectors.joining(System.lineSeparator(), &quot;&quot;, System.lineSeparator()));\n</code></pre>\n<p>Like your original code, this adds a trailing new line to the resulting string. If you don't care about the trailing new line, you can just pass a single <code>System.lineSeparator()</code> argument to the <code>joining</code> collector, calling <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/stream/Collectors.html#joining(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">the other overload</a>.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674981729,"creation_date":1674981729,"answer_id":75273623,"question_id":75273559,"body_markdown":"    String mainString = new String (&quot;qrfghjtysd&quot;);\r\n    String container = new String (&quot;qre fgh ty np&quot;);\r\n    String[] smallStrings = container.split(&quot;\\\\s++&quot;);\r\n    StringBuilder res = new StringBuilder();\r\n    Arrays.stream(smallStrings).map(str -&gt; mainString.contains(str)).forEach(flag -&gt; res.append(flag + System.lineSeparator()));\r\n    System.out.println(res);","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<pre><code>String mainString = new String (&quot;qrfghjtysd&quot;);\nString container = new String (&quot;qre fgh ty np&quot;);\nString[] smallStrings = container.split(&quot;\\\\s++&quot;);\nStringBuilder res = new StringBuilder();\nArrays.stream(smallStrings).map(str -&gt; mainString.contains(str)).forEach(flag -&gt; res.append(flag + System.lineSeparator()));\nSystem.out.println(res);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674981749,"creation_date":1674981749,"answer_id":75273625,"question_id":75273559,"body_markdown":"I would suggest something like this:\r\n```java\r\nfinal String mainString = &quot;qrfghjtysd&quot;;\r\nfinal String container = &quot;qre fgh ty np&quot;;\r\nfinal String res = Arrays.stream(container.split(&quot;\\\\s++&quot;))\r\n    .map(mainString::contains)\r\n    .map(String::valueOf)\r\n    .collect(Collectors.joining(System.lineSeparator()));\r\nSystem.out.println(res);\r\n```","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>I would suggest something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String mainString = &quot;qrfghjtysd&quot;;\nfinal String container = &quot;qre fgh ty np&quot;;\nfinal String res = Arrays.stream(container.split(&quot;\\\\s++&quot;))\n    .map(mainString::contains)\n    .map(String::valueOf)\n    .collect(Collectors.joining(System.lineSeparator()));\nSystem.out.println(res);\n</code></pre>\n"}],"owner":{"account_id":182529,"reputation":6991,"user_id":417291,"accept_rate":71,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":4,"score":-2,"last_activity_date":1674981749,"creation_date":1674981000,"question_id":75273559,"body_markdown":"I have a small program that iterates over an array of strings and then prints either true or false depending whether the string from array is included into another string.\r\nHow to rewrite this program using Stream API methods, such as filter and map?\r\n\r\n        String mainString = new String (&quot;qrfghjtysd&quot;);\r\n        String container = new String (&quot;qre fgh ty np&quot;);\r\n        String[] smallStrings = container.split(&quot;\\\\s++&quot;);\r\n        StringBuilder res = new StringBuilder();\r\n        Arrays.stream(smallStrings).  forEach(str -&gt; {\r\n            if (mainString.contains(str)) {\r\n                res.append(&quot;true&quot; + System.lineSeparator());\r\n            }\r\n            else {\r\n                res.append(&quot;false&quot; + System.lineSeparator());\r\n            }\r\n        });\r\n        System.out.println(res);","title":"How to rewrite a Java program using Stream API methods, such as filter and map?","body":"<p>I have a small program that iterates over an array of strings and then prints either true or false depending whether the string from array is included into another string.\nHow to rewrite this program using Stream API methods, such as filter and map?</p>\n<pre><code>    String mainString = new String (&quot;qrfghjtysd&quot;);\n    String container = new String (&quot;qre fgh ty np&quot;);\n    String[] smallStrings = container.split(&quot;\\\\s++&quot;);\n    StringBuilder res = new StringBuilder();\n    Arrays.stream(smallStrings).  forEach(str -&gt; {\n        if (mainString.contains(str)) {\n            res.append(&quot;true&quot; + System.lineSeparator());\n        }\n        else {\n            res.append(&quot;false&quot; + System.lineSeparator());\n        }\n    });\n    System.out.println(res);\n</code></pre>\n"},{"tags":["java","multithreading","callable"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674982100,"post_id":75273539,"comment_id":132826880,"body_markdown":"As an aside, it looks like `PasswordHacker` should implement `Callable&lt;String&gt;`, not the raw type `Callable`. [Don&#39;t use raw types](https://stackoverflow.com/q/2770321/6395627).","body":"As an aside, it looks like <code>PasswordHacker</code> should implement <code>Callable&lt;String&gt;</code>, not the raw type <code>Callable</code>. <a href=\"https://stackoverflow.com/q/2770321/6395627\">Don&#39;t use raw types</a>."}],"owner":{"account_id":17934535,"reputation":55,"user_id":13031127,"display_name":"Suhas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674981538,"creation_date":1674980823,"question_id":75273539,"body_markdown":"**Question :**\r\nWhen invokeAny() is called with some tasks, On successful returning of one of the tasks, will the other task execution be &quot;STOPPED&quot; or Is the thread interruption is just called and the task execution continues to happen unless we manually check for the thread ?? According to the documentation : \r\n&gt;  Upon normal or exceptional return, tasks that have not completed are cancelled. \r\n \r\n**Background :**\r\nI have an implementation where I need to run few tasks parallely and wait for the acknowledgement of one success task completion but let the other tasks run and complete their job. For the POC, I found InvokeAny() could help me and just wrote the following code to test it out : \r\n\r\n```\r\n\r\npublic class PasswordHacker implements Callable {\r\n    private static final Logger logger = LoggerFactory.getLogger(PasswordHacker.class);\r\n    int password ;\r\n    int digits;\r\n\r\n    PasswordHacker(int password, int digits){\r\n        this.password = password;\r\n        this.digits = digits;\r\n    }\r\n    @Override\r\n    public Object call() throws Exception {\r\n        String hackerName = Thread.currentThread().getName();\r\n        logger.info( hackerName +  &quot; is starting to hack &quot;);\r\n        try{\r\n            while(true){\r\n                Integer guess = new Random().nextInt((int) Math.pow(10, digits));\r\n                if(guess.equals(password)) {\r\n                    logger.info(hackerName + &quot; completed the hack &quot;);\r\n                    return hackerName + &quot; Successfully &quot;;\r\n                }\r\n            }\r\n        }catch (Exception e){\r\n            throw new InterruptedException();\r\n        }\r\n//        return hackerName + &quot; Failed &quot;;\r\n    }\r\n}\r\n```\r\nand then added them as callableTasks\r\n```\r\n        List&lt;Callable&lt;String&gt;&gt; callableHackerTasks = new ArrayList&lt;&gt;();\r\n        for( int i = 1 ; i&lt;= hackers; i++){\r\n            callableHackerTasks.add(new PasswordHacker(password, digits));\r\n        }\r\n\r\n        try {\r\n            String result = executorService.invokeAny(callableHackerTasks, 2, TimeUnit.MINUTES);\r\n            logger.info( &quot;Hacker &quot;  +  result + &quot; completed the hack&quot;);\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n```\r\nAnd the result is as follows, when I run 3 threads : \r\n```\r\npool-1-thread-2 is starting to hack \r\npool-1-thread-3 is starting to hack \r\npool-1-thread-1 is starting to hack \r\npool-1-thread-1 completed the hack \r\nHacker pool-1-thread-1 Successfully  completed the hack\r\npool-1-thread-2 completed the hack \r\npool-1-thread-3 completed the hack \r\n```\r\nThought this approach seems to satisfy my need, I want to know what exactly is the documentation referring to. Clearly, even though the documentation says that other threads are cancelled, they continue to run. According to the answer [here][1] ; We need to manually check in the while condition if the threat is interrupted and then stop the logic. But in real case scenarios what actually happens ?? Should we manually check for that or some Exception be thrown (Bcz in above code, the catch block isn&#39;t catching Interuption Exc ). \r\nWould appreciate a bit more clarity on this part or suggest any other useful methods to achieve the same.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25197160/what-happens-to-remaining-thread-of-invokeany-executor-service","title":"Executor InvokeAny method doesnt cancel other threads after returning a result","body":"<p><strong>Question :</strong>\nWhen invokeAny() is called with some tasks, On successful returning of one of the tasks, will the other task execution be &quot;STOPPED&quot; or Is the thread interruption is just called and the task execution continues to happen unless we manually check for the thread ?? According to the documentation :</p>\n<blockquote>\n<p>Upon normal or exceptional return, tasks that have not completed are cancelled.</p>\n</blockquote>\n<p><strong>Background :</strong>\nI have an implementation where I need to run few tasks parallely and wait for the acknowledgement of one success task completion but let the other tasks run and complete their job. For the POC, I found InvokeAny() could help me and just wrote the following code to test it out :</p>\n<pre><code>\npublic class PasswordHacker implements Callable {\n    private static final Logger logger = LoggerFactory.getLogger(PasswordHacker.class);\n    int password ;\n    int digits;\n\n    PasswordHacker(int password, int digits){\n        this.password = password;\n        this.digits = digits;\n    }\n    @Override\n    public Object call() throws Exception {\n        String hackerName = Thread.currentThread().getName();\n        logger.info( hackerName +  &quot; is starting to hack &quot;);\n        try{\n            while(true){\n                Integer guess = new Random().nextInt((int) Math.pow(10, digits));\n                if(guess.equals(password)) {\n                    logger.info(hackerName + &quot; completed the hack &quot;);\n                    return hackerName + &quot; Successfully &quot;;\n                }\n            }\n        }catch (Exception e){\n            throw new InterruptedException();\n        }\n//        return hackerName + &quot; Failed &quot;;\n    }\n}\n</code></pre>\n<p>and then added them as callableTasks</p>\n<pre><code>        List&lt;Callable&lt;String&gt;&gt; callableHackerTasks = new ArrayList&lt;&gt;();\n        for( int i = 1 ; i&lt;= hackers; i++){\n            callableHackerTasks.add(new PasswordHacker(password, digits));\n        }\n\n        try {\n            String result = executorService.invokeAny(callableHackerTasks, 2, TimeUnit.MINUTES);\n            logger.info( &quot;Hacker &quot;  +  result + &quot; completed the hack&quot;);\n        } catch (Exception ex) {\n            throw new RuntimeException(ex);\n        }\n</code></pre>\n<p>And the result is as follows, when I run 3 threads :</p>\n<pre><code>pool-1-thread-2 is starting to hack \npool-1-thread-3 is starting to hack \npool-1-thread-1 is starting to hack \npool-1-thread-1 completed the hack \nHacker pool-1-thread-1 Successfully  completed the hack\npool-1-thread-2 completed the hack \npool-1-thread-3 completed the hack \n</code></pre>\n<p>Thought this approach seems to satisfy my need, I want to know what exactly is the documentation referring to. Clearly, even though the documentation says that other threads are cancelled, they continue to run. According to the answer <a href=\"https://stackoverflow.com/questions/25197160/what-happens-to-remaining-thread-of-invokeany-executor-service\">here</a> ; We need to manually check in the while condition if the threat is interrupted and then stop the logic. But in real case scenarios what actually happens ?? Should we manually check for that or some Exception be thrown (Bcz in above code, the catch block isn't catching Interuption Exc ).\nWould appreciate a bit more clarity on this part or suggest any other useful methods to achieve the same.</p>\n"},{"tags":["java","spring","spring-boot","xstream","jettison"],"owner":{"account_id":20856183,"reputation":41,"user_id":15319442,"display_name":"nik2811"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674980775,"creation_date":1674980775,"question_id":75273530,"body_markdown":"I was using Spring batch 4.2.7 and I&#39;d custom ExecutionContextSerializer class using jettison 1.2 and thoughtworks xstream 1.4.20. Serializable class is as follow.\r\n\r\n```\r\npublic class XStreamExecutionContextStringSerializer2 implements ExecutionContextSerializer, InitializingBean {\r\n\tprivate ReflectionProvider reflectionProvider = null;\r\n\r\n\tprivate HierarchicalStreamDriver hierarchicalStreamDriver;\r\n\r\n\tprivate XStream xstream;\r\n\r\n\tpublic void setReflectionProvider(ReflectionProvider reflectionProvider) {\r\n\t\tthis.reflectionProvider = reflectionProvider;\r\n\t}\r\n\r\n\tpublic void setHierarchicalStreamDriver(HierarchicalStreamDriver hierarchicalStreamDriver) {\r\n\t\tthis.hierarchicalStreamDriver = hierarchicalStreamDriver;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterPropertiesSet() throws Exception {\r\n\t\tinit();\r\n\t}\r\n\r\n\tpublic synchronized void init() throws Exception {\r\n\t\tif (hierarchicalStreamDriver == null) {\r\n\t\t\tConfiguration configuration = new Configuration();\r\n\t\t\tthis.hierarchicalStreamDriver = new JettisonMappedXmlDriver(configuration);\r\n\t\t}\r\n\t\tif (reflectionProvider == null) {\r\n\t\t\txstream = new XStream(hierarchicalStreamDriver);\r\n\r\n\t\t} else {\r\n\t\t\txstream = new XStream(reflectionProvider, hierarchicalStreamDriver);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Serializes the passed execution context to the supplied OutputStream.\r\n\t *\r\n\t * @param context {@link Map} containing the context information.\r\n\t * @param out     {@link OutputStream} where the serialized context information\r\n\t *                will be written.\r\n\t *\r\n\t * @see Serializer#serialize(Object, OutputStream)\r\n\t */\r\n\t@Override\r\n\tpublic void serialize(Map&lt;String, Object&gt; context, OutputStream out) throws IOException {\r\n\t\tAssert.notNull(context, &quot;context is required&quot;);\r\n\t\tAssert.notNull(out, &quot;An OutputStream is required&quot;);\r\n\r\n\t\tout.write(xstream.toXML(context).getBytes());\r\n\t}\r\n\r\n\t/**\r\n\t * Deserializes the supplied input stream into a new execution context.\r\n\t *\r\n\t * @param in {@link InputStream} containing the information to be deserialized.\r\n\t * \r\n\t * @return a reconstructed execution context\r\n\t * @see Deserializer#deserialize(InputStream)\r\n\t */\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Override\r\n\tpublic Map&lt;String, Object&gt; deserialize(InputStream in) throws IOException {\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tString line;\r\n\t\twhile ((line = br.readLine()) != null) {\r\n\t\t\tsb.append(line);\r\n\t\t}\r\n\r\n\t\treturn (Map&lt;String, Object&gt;) xstream.fromXML(sb.toString());\r\n\t}\r\n}\r\n```\r\n\r\nAs I&#39;ve upgraded jettison to 1.5.3, it started failing at deserialization, with following error\r\n\r\n```\r\nJobServiceImpl Error while deserializing execution context: Cannot construct type\r\n---- Debugging information ----\r\nmessage             : Cannot construct type\r\ncause-exception     : java.lang.InstantiationException\r\ncause-message       : java.util.Map$Entry\r\nconstruction-type   : java.util.Map$Entry\r\nclass               : java.util.Map$Entry\r\nrequired-type       : java.util.Map$Entry\r\nconverter-type      : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\r\npath                : /map/map/entry\r\nline number         : -1\r\nclass[1]            : java.util.HashMap\r\nrequired-type[1]    : java.util.HashMap\r\nconverter-type[1]   : com.thoughtworks.xstream.converters.collections.MapConverter\r\nversion             : 1.4.20\r\n-------------------------------Stack Trace:[Ljava.lang.StackTraceElement;@441bcb7a\r\n```\r\n\r\nI&#39;ve tried to add use the solution of updating batch\\*\\_\\*job_execution_context and batch_step_execution_context as per below stackoverflow solution, but still it is not working. Can someone please help?\r\n\r\nhttps://stackoverflow.com/questions/62718203/spring-batch-4-2-4-unable-to-deserialize-the-execution-context","title":"JobServiceImpl Error while deserializing execution context: Cannot construct type using xstream thoughtworks 1.4.20 and jettison 1.5.3","body":"<p>I was using Spring batch 4.2.7 and I'd custom ExecutionContextSerializer class using jettison 1.2 and thoughtworks xstream 1.4.20. Serializable class is as follow.</p>\n<pre><code>public class XStreamExecutionContextStringSerializer2 implements ExecutionContextSerializer, InitializingBean {\n    private ReflectionProvider reflectionProvider = null;\n\n    private HierarchicalStreamDriver hierarchicalStreamDriver;\n\n    private XStream xstream;\n\n    public void setReflectionProvider(ReflectionProvider reflectionProvider) {\n        this.reflectionProvider = reflectionProvider;\n    }\n\n    public void setHierarchicalStreamDriver(HierarchicalStreamDriver hierarchicalStreamDriver) {\n        this.hierarchicalStreamDriver = hierarchicalStreamDriver;\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        init();\n    }\n\n    public synchronized void init() throws Exception {\n        if (hierarchicalStreamDriver == null) {\n            Configuration configuration = new Configuration();\n            this.hierarchicalStreamDriver = new JettisonMappedXmlDriver(configuration);\n        }\n        if (reflectionProvider == null) {\n            xstream = new XStream(hierarchicalStreamDriver);\n\n        } else {\n            xstream = new XStream(reflectionProvider, hierarchicalStreamDriver);\n        }\n    }\n\n    /**\n     * Serializes the passed execution context to the supplied OutputStream.\n     *\n     * @param context {@link Map} containing the context information.\n     * @param out     {@link OutputStream} where the serialized context information\n     *                will be written.\n     *\n     * @see Serializer#serialize(Object, OutputStream)\n     */\n    @Override\n    public void serialize(Map&lt;String, Object&gt; context, OutputStream out) throws IOException {\n        Assert.notNull(context, &quot;context is required&quot;);\n        Assert.notNull(out, &quot;An OutputStream is required&quot;);\n\n        out.write(xstream.toXML(context).getBytes());\n    }\n\n    /**\n     * Deserializes the supplied input stream into a new execution context.\n     *\n     * @param in {@link InputStream} containing the information to be deserialized.\n     * \n     * @return a reconstructed execution context\n     * @see Deserializer#deserialize(InputStream)\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public Map&lt;String, Object&gt; deserialize(InputStream in) throws IOException {\n        BufferedReader br = new BufferedReader(new InputStreamReader(in));\n\n        StringBuilder sb = new StringBuilder();\n\n        String line;\n        while ((line = br.readLine()) != null) {\n            sb.append(line);\n        }\n\n        return (Map&lt;String, Object&gt;) xstream.fromXML(sb.toString());\n    }\n}\n</code></pre>\n<p>As I've upgraded jettison to 1.5.3, it started failing at deserialization, with following error</p>\n<pre><code>JobServiceImpl Error while deserializing execution context: Cannot construct type\n---- Debugging information ----\nmessage             : Cannot construct type\ncause-exception     : java.lang.InstantiationException\ncause-message       : java.util.Map$Entry\nconstruction-type   : java.util.Map$Entry\nclass               : java.util.Map$Entry\nrequired-type       : java.util.Map$Entry\nconverter-type      : com.thoughtworks.xstream.converters.reflection.ReflectionConverter\npath                : /map/map/entry\nline number         : -1\nclass[1]            : java.util.HashMap\nrequired-type[1]    : java.util.HashMap\nconverter-type[1]   : com.thoughtworks.xstream.converters.collections.MapConverter\nversion             : 1.4.20\n-------------------------------Stack Trace:[Ljava.lang.StackTraceElement;@441bcb7a\n</code></pre>\n<p>I've tried to add use the solution of updating batch*_*job_execution_context and batch_step_execution_context as per below stackoverflow solution, but still it is not working. Can someone please help?</p>\n<p><a href=\"https://stackoverflow.com/questions/62718203/spring-batch-4-2-4-unable-to-deserialize-the-execution-context\">Spring Batch 4.2.4: Unable to deserialize the execution context</a></p>\n"},{"tags":["java","android","android-studio","abstract-class","onclicklistener"],"answers":[{"tags":[],"owner":{"account_id":1225655,"reputation":38395,"user_id":1207921,"accept_rate":79,"display_name":"Karakuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461540891,"creation_date":1461540891,"answer_id":36830127,"question_id":36829998,"body_markdown":"Remove `implements OnClickListener` from your class definition.","title":"Class must either be declared abstract or implement abstract method?","body":"<p>Remove <code>implements OnClickListener</code> from your class definition.</p>\n"},{"tags":[],"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1461541565,"creation_date":1461541565,"answer_id":36830195,"question_id":36829998,"body_markdown":"You need to implement all the unimplemented methods from the interface you&#39;re implementing. In your case the interface is `OnClickListener` and it needs to have a method:\r\n\r\n `public abstract void onClick (View v)`\r\n\r\nEither remove the interface or implement that method. You can do so easily by placing your cursor on the `OnClickListener` and pressing `ALT+ENTER` if you&#39;re using *Android Studio* and it&#39;ll give you the options on how to fix the error.\r\n\r\nAs I can see in your code, you&#39;ve already given your buttons the proper `onClickListeners` so the solution might be simply to delete `implements OnClickListener` since you&#39;re not using it.","title":"Class must either be declared abstract or implement abstract method?","body":"<p>You need to implement all the unimplemented methods from the interface you're implementing. In your case the interface is <code>OnClickListener</code> and it needs to have a method:</p>\n\n<p><code>public abstract void onClick (View v)</code></p>\n\n<p>Either remove the interface or implement that method. You can do so easily by placing your cursor on the <code>OnClickListener</code> and pressing <code>ALT+ENTER</code> if you're using <em>Android Studio</em> and it'll give you the options on how to fix the error.</p>\n\n<p>As I can see in your code, you've already given your buttons the proper <code>onClickListeners</code> so the solution might be simply to delete <code>implements OnClickListener</code> since you're not using it.</p>\n"}],"owner":{"account_id":4456517,"reputation":325,"user_id":3626609,"accept_rate":58,"display_name":"fatalError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55295,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1461542257,"accepted_answer_id":36830195,"answer_count":2,"score":7,"last_activity_date":1674979836,"creation_date":1461539803,"question_id":36829998,"body_markdown":"It loos like i&#39;m doing everything right here but I must be missing  something. Hoping to get explanation about why I&#39;m getting that error in the first line of my code and what I should do to fix this type of problem? I&#39;m new to android dev. \r\n\r\n    public class page2 extends AppCompatActivity implements OnClickListener {\r\n\r\n\r\n    /**\r\n     * ATTENTION: This was auto-generated to implement the App Indexing API.\r\n     * See https://g.co/AppIndexing/AndroidStudio for more information.\r\n     */\r\n    private GoogleApiClient client;\r\n\r\n    ImageButton rock, scissors, paper;\r\n    Random randomNum = new Random();\r\n    int cpuMov;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activitypage2); //set what xml page style to display\r\n\r\n        rock = (ImageButton) findViewById(R.id.imageButtonRock);\r\n        scissors = (ImageButton) findViewById(R.id.imageButtonScissors);\r\n        paper = (ImageButton) findViewById(R.id.imageButtonPaper);\r\n\r\n        rock.setOnClickListener(new OnClickListener() { // calling onClick() method\r\n            @Override\r\n            //method for handling what happens when you click Rock buttonImage.\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonRock&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n        scissors.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonScissors&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n        paper.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // number between 1-3 inclusive (max-min+1)+1\r\n                cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\r\n                buildAlert(cpuMov, &quot;imageButtonPaper&quot;);\r\n                moveViewToScreenCenter(v);//float to center\r\n            }\r\n        });\r\n\r\n    } //EoOnCreate\r\n\r\n    private void moveViewToScreenCenter( View view )\r\n    {\r\n        RelativeLayout root = (RelativeLayout) findViewById( R.id.rootLayout );\r\n        DisplayMetrics dm = new DisplayMetrics();\r\n        this.getWindowManager().getDefaultDisplay().getMetrics( dm );\r\n        int statusBarOffset = dm.heightPixels - root.getMeasuredHeight();\r\n\r\n        int originalPos[] = new int[2];\r\n        view.getLocationOnScreen( originalPos );\r\n\r\n        int xDest = dm.widthPixels/2;\r\n        xDest -= (view.getMeasuredWidth()/2);\r\n        int yDest = dm.heightPixels/2 - (view.getMeasuredHeight()/2) - statusBarOffset;\r\n\r\n        TranslateAnimation anim = new TranslateAnimation( 0, xDest - originalPos[0] , 0, yDest - originalPos[1] );\r\n        anim.setDuration(5000); // speed of the movement\r\n        anim.setFillAfter( true );\r\n        view.startAnimation(anim);\r\n    }\r\n\r\n    //builds the message that will be displayed\r\n    void appendMessage(AlertDialog.Builder myAlert, String cpuMove, String result) {\r\n        myAlert.setMessage(&quot;Computer selects &quot; +cpuMove+ &quot;, you &quot; +result+ &quot;!&quot;);\r\n        myAlert.show();\r\n        myAlert.setCancelable(true);\r\n        //how to give id to alertDialog to save in strings.xml\r\n\r\n    }\r\n\r\n    public void buildAlert(int move, String btnPressed) {\r\n        AlertDialog.Builder myAlert = new AlertDialog.Builder(this);\r\n        String cpuMove;\r\n        String result;\r\n        if (btnPressed.equals(&quot;imageButtonRock&quot;)) {\r\n            //Toast.makeText(this, &quot;hooray &quot;+move, Toast.LENGTH_SHORT).show();\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert, cpuMove, result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        } else if (btnPressed.equals(&quot;imageButtonScissors&quot;)) {\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert, cpuMove, result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        } else { //imageButton is Scissors\r\n            if (move == 1) {\r\n                cpuMove = &quot;Rock&quot;;\r\n                result = &quot;won&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 2) {\r\n                cpuMove = &quot;Scissors&quot;;\r\n                result = &quot;lost&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n            if (move == 3) {\r\n                cpuMove = &quot;Paper&quot;;\r\n                result = &quot;tied&quot;;\r\n                //call appendMessage to append vars and display the message\r\n                appendMessage(myAlert,cpuMove,result);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\r\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n        client.connect();\r\n        Action viewAction = Action.newAction(\r\n                Action.TYPE_VIEW, // TODO: choose an action type.\r\n                &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\r\n                // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                // make sure this auto-generated web page URL is correct.\r\n                // Otherwise, set the URL to null.\r\n                Uri.parse(&quot;http://host/path&quot;),\r\n                // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\r\n        );\r\n        AppIndex.AppIndexApi.start(client, viewAction);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n\r\n        // ATTENTION: This was auto-generated to implement the App Indexing API.\r\n        // See https://g.co/AppIndexing/AndroidStudio for more information.\r\n        Action viewAction = Action.newAction(\r\n                Action.TYPE_VIEW, // TODO: choose an action type.\r\n                &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\r\n                // TODO: If you have web page content that matches this app activity&#39;s content,\r\n                // make sure this auto-generated web page URL is correct.\r\n                // Otherwise, set the URL to null.\r\n                Uri.parse(&quot;http://host/path&quot;),\r\n                // TODO: Make sure this auto-generated app deep link URI is correct.\r\n                Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\r\n        );\r\n        AppIndex.AppIndexApi.end(client, viewAction);\r\n        client.disconnect();\r\n    }\r\n\r\n    }\r\n\r\nI know that View.OnClickListener must implement the function onClick(). Am I not doing that?","title":"Class must either be declared abstract or implement abstract method?","body":"<p>It loos like i'm doing everything right here but I must be missing  something. Hoping to get explanation about why I'm getting that error in the first line of my code and what I should do to fix this type of problem? I'm new to android dev.</p>\n<pre><code>public class page2 extends AppCompatActivity implements OnClickListener {\n\n\n/**\n * ATTENTION: This was auto-generated to implement the App Indexing API.\n * See https://g.co/AppIndexing/AndroidStudio for more information.\n */\nprivate GoogleApiClient client;\n\nImageButton rock, scissors, paper;\nRandom randomNum = new Random();\nint cpuMov;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activitypage2); //set what xml page style to display\n\n    rock = (ImageButton) findViewById(R.id.imageButtonRock);\n    scissors = (ImageButton) findViewById(R.id.imageButtonScissors);\n    paper = (ImageButton) findViewById(R.id.imageButtonPaper);\n\n    rock.setOnClickListener(new OnClickListener() { // calling onClick() method\n        @Override\n        //method for handling what happens when you click Rock buttonImage.\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonRock&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n    scissors.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonScissors&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n    paper.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            // number between 1-3 inclusive (max-min+1)+1\n            cpuMov = randomNum.nextInt(3 - 1 + 1) + 1;\n            buildAlert(cpuMov, &quot;imageButtonPaper&quot;);\n            moveViewToScreenCenter(v);//float to center\n        }\n    });\n\n} //EoOnCreate\n\nprivate void moveViewToScreenCenter( View view )\n{\n    RelativeLayout root = (RelativeLayout) findViewById( R.id.rootLayout );\n    DisplayMetrics dm = new DisplayMetrics();\n    this.getWindowManager().getDefaultDisplay().getMetrics( dm );\n    int statusBarOffset = dm.heightPixels - root.getMeasuredHeight();\n\n    int originalPos[] = new int[2];\n    view.getLocationOnScreen( originalPos );\n\n    int xDest = dm.widthPixels/2;\n    xDest -= (view.getMeasuredWidth()/2);\n    int yDest = dm.heightPixels/2 - (view.getMeasuredHeight()/2) - statusBarOffset;\n\n    TranslateAnimation anim = new TranslateAnimation( 0, xDest - originalPos[0] , 0, yDest - originalPos[1] );\n    anim.setDuration(5000); // speed of the movement\n    anim.setFillAfter( true );\n    view.startAnimation(anim);\n}\n\n//builds the message that will be displayed\nvoid appendMessage(AlertDialog.Builder myAlert, String cpuMove, String result) {\n    myAlert.setMessage(&quot;Computer selects &quot; +cpuMove+ &quot;, you &quot; +result+ &quot;!&quot;);\n    myAlert.show();\n    myAlert.setCancelable(true);\n    //how to give id to alertDialog to save in strings.xml\n\n}\n\npublic void buildAlert(int move, String btnPressed) {\n    AlertDialog.Builder myAlert = new AlertDialog.Builder(this);\n    String cpuMove;\n    String result;\n    if (btnPressed.equals(&quot;imageButtonRock&quot;)) {\n        //Toast.makeText(this, &quot;hooray &quot;+move, Toast.LENGTH_SHORT).show();\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert, cpuMove, result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    } else if (btnPressed.equals(&quot;imageButtonScissors&quot;)) {\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert, cpuMove, result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    } else { //imageButton is Scissors\n        if (move == 1) {\n            cpuMove = &quot;Rock&quot;;\n            result = &quot;won&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 2) {\n            cpuMove = &quot;Scissors&quot;;\n            result = &quot;lost&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n        if (move == 3) {\n            cpuMove = &quot;Paper&quot;;\n            result = &quot;tied&quot;;\n            //call appendMessage to append vars and display the message\n            appendMessage(myAlert,cpuMove,result);\n        }\n    }\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n\n    // ATTENTION: This was auto-generated to implement the App Indexing API.\n    // See https://g.co/AppIndexing/AndroidStudio for more information.\n    client.connect();\n    Action viewAction = Action.newAction(\n            Action.TYPE_VIEW, // TODO: choose an action type.\n            &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\n            // TODO: If you have web page content that matches this app activity's content,\n            // make sure this auto-generated web page URL is correct.\n            // Otherwise, set the URL to null.\n            Uri.parse(&quot;http://host/path&quot;),\n            // TODO: Make sure this auto-generated app deep link URI is correct.\n            Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\n    );\n    AppIndex.AppIndexApi.start(client, viewAction);\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n\n    // ATTENTION: This was auto-generated to implement the App Indexing API.\n    // See https://g.co/AppIndexing/AndroidStudio for more information.\n    Action viewAction = Action.newAction(\n            Action.TYPE_VIEW, // TODO: choose an action type.\n            &quot;page2 Page&quot;, // TODO: Define a title for the content shown.\n            // TODO: If you have web page content that matches this app activity's content,\n            // make sure this auto-generated web page URL is correct.\n            // Otherwise, set the URL to null.\n            Uri.parse(&quot;http://host/path&quot;),\n            // TODO: Make sure this auto-generated app deep link URI is correct.\n            Uri.parse(&quot;android-app://rps.rsp/http/host/path&quot;)\n    );\n    AppIndex.AppIndexApi.end(client, viewAction);\n    client.disconnect();\n}\n\n}\n</code></pre>\n<p>I know that View.OnClickListener must implement the function onClick(). Am I not doing that?</p>\n"},{"tags":["java","multithreading","threadpool","work-stealing"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650287578,"post_id":71906940,"comment_id":127073180,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":21416719,"reputation":1,"user_id":19143352,"display_name":"programming-tips.jp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674979593,"creation_date":1674979593,"answer_id":75273431,"question_id":71906940,"body_markdown":"The work-stealing thread pool does not support Future.cancel(true). If you need to interrupt the thread (e.g. using Thread.sleep), you need to use the fixed thread pool. If not, it would be better to use the work-stealing thread pool.\r\n\r\nPlease see also [here](https://stackoverflow.com/questions/29903804/executorservice-workstealingpool-and-cancel-method).","title":"How to decide whether to use newWorkStealingPool or newFixedThreadPool?","body":"<p>The work-stealing thread pool does not support Future.cancel(true). If you need to interrupt the thread (e.g. using Thread.sleep), you need to use the fixed thread pool. If not, it would be better to use the work-stealing thread pool.</p>\n<p>Please see also <a href=\"https://stackoverflow.com/questions/29903804/executorservice-workstealingpool-and-cancel-method\">here</a>.</p>\n"}],"owner":{"account_id":8742868,"reputation":1,"user_id":6539353,"display_name":"zainuel abideen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674979593,"creation_date":1650247425,"question_id":71906940,"body_markdown":"I understand that in Work Stealing Pool each thread has its own queue where as Fixed Thread Pool has a single shared unbounded queue.\r\n\r\nBut I&#39;m still not clear in deciding which one is better among them in terms of performance. I see that work stealing pool has an advantage because it steals the work from other thread&#39;s queue when it is done processing all of its tasks and both of them use a fixed number of threads.\r\n\r\nSo is work stealing pool always a better choice ?","title":"How to decide whether to use newWorkStealingPool or newFixedThreadPool?","body":"<p>I understand that in Work Stealing Pool each thread has its own queue where as Fixed Thread Pool has a single shared unbounded queue.</p>\n<p>But I'm still not clear in deciding which one is better among them in terms of performance. I see that work stealing pool has an advantage because it steals the work from other thread's queue when it is done processing all of its tasks and both of them use a fixed number of threads.</p>\n<p>So is work stealing pool always a better choice ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1674979301,"post_id":75273353,"comment_id":132826499,"body_markdown":"you initial de and then check if id is null?wierd.it is ok if all fields are emty because you create a new object and just assign phonenumber","body":"you initial de and then check if id is null?wierd.it is ok if all fields are emty because you create a new object and just assign phonenumber"}],"owner":{"account_id":27647613,"reputation":11,"user_id":21103169,"display_name":"Tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674978512,"creation_date":1674978512,"question_id":75273353,"body_markdown":"When i tried this method only phone number display other fields showing null\r\n\r\n\r\n@Component\r\npublic class delegatemock {\r\n\t\r\n\tprivate List&lt;Delegate&gt; list=new ArrayList&lt;Delegate&gt;();\r\n\t\r\n\tpublic void create() {\r\n\t\tlist=List.of(\r\n\t\t\t\tnew Delegate(&quot;1&quot;,&quot;neha&quot;,&quot;123457894&quot;,&quot;family&quot;),\r\n\t\t\t\tnew Delegate(&quot;2&quot;,&quot;joy&quot;,&quot;993456432&quot;,&quot;family&quot;));\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\tpublic delegateresponse updated(dto d,String id) {\r\n\t\t\r\n\t\tDelegate de =new Delegate();\r\n\t\tif(de.getId()!=null &amp;&amp;de.getName()==d.getName())  \r\n\t\t\tde.setPhone(d.getPhone());\r\n\t\t   list.add(de);\r\n\t\t   return new delegateresponse(de.getId(),de.getName(),de.getPhone(),de.getRelation());\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t`your text`\r\n\r\n\r\n\r\nPlease anyone help me to update specific phone number without database ","title":"How to update specific field without database in spring boot application","body":"<p>When i tried this method only phone number display other fields showing null</p>\n<p>@Component\npublic class delegatemock {</p>\n<pre><code>private List&lt;Delegate&gt; list=new ArrayList&lt;Delegate&gt;();\n\npublic void create() {\n    list=List.of(\n            new Delegate(&quot;1&quot;,&quot;neha&quot;,&quot;123457894&quot;,&quot;family&quot;),\n            new Delegate(&quot;2&quot;,&quot;joy&quot;,&quot;993456432&quot;,&quot;family&quot;));\n            \n}\n\npublic delegateresponse updated(dto d,String id) {\n    \n    Delegate de =new Delegate();\n    if(de.getId()!=null &amp;&amp;de.getName()==d.getName())  \n        de.setPhone(d.getPhone());\n       list.add(de);\n       return new delegateresponse(de.getId(),de.getName(),de.getPhone(),de.getRelation());\n    \n}\n\n\n`your text`\n</code></pre>\n<p>Please anyone help me to update specific phone number without database</p>\n"},{"tags":["java","sonarqube","sonarlint"],"comments":[{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":1,"creation_date":1673977965,"post_id":75150324,"comment_id":132615151,"body_markdown":"`func2(obj1, !bool1)`.","body":"<code>func2(obj1, !bool1)</code>."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673978050,"post_id":75150324,"comment_id":132615182,"body_markdown":"@user229044 Well maybe... There&#39;s no `else` in the code as given, but it&#39;s also syntactically broken, so hard to know if the lack of `else` is a transcription error.","body":"@user229044 Well maybe... There&#39;s no <code>else</code> in the code as given, but it&#39;s also syntactically broken, so hard to know if the lack of <code>else</code> is a transcription error."},{"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"score":0,"creation_date":1673978637,"post_id":75150324,"comment_id":132615379,"body_markdown":"@user16320675, that is what i have mentioned if bool1 is false then expression becomes true and func1 will get executed.","body":"@user16320675, that is what i have mentioned if bool1 is false then expression becomes true and func1 will get executed."},{"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"score":0,"creation_date":1673978884,"post_id":75150324,"comment_id":132615453,"body_markdown":"I am sorry, got it now. Corrected it.","body":"I am sorry, got it now. Corrected it."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1673979258,"post_id":75150324,"comment_id":132615578,"body_markdown":"now it makes sense, maybe Sonar also got confused...and I do not think it is a duplicate of the actual linked to question","body":"now it makes sense, maybe Sonar also got confused...and I do not think it is a duplicate of the actual linked to question"},{"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"score":0,"creation_date":1673979546,"post_id":75150324,"comment_id":132615676,"body_markdown":"Any idea how it can be resolved, Only way i can think of is to separate logic of func2 into two different function which includes duplicating lots of code.","body":"Any idea how it can be resolved, Only way i can think of is to separate logic of func2 into two different function which includes duplicating lots of code."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1673988934,"post_id":75150324,"comment_id":132618380,"body_markdown":"I would report it to Sonar as a bug.","body":"I would report it to Sonar as a bug."},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":2,"creation_date":1673991244,"post_id":75150324,"comment_id":132619029,"body_markdown":"I&#39;ve reproduced it using SonarLint plugin in IntelliJ IDEA, and reported it at https://community.sonarsource.com/t/false-positive-for-an-if-without-else/81463","body":"I&#39;ve reproduced it using SonarLint plugin in IntelliJ IDEA, and reported it at <a href=\"https://community.sonarsource.com/t/false-positive-for-an-if-without-else/81463\" rel=\"nofollow noreferrer\">community.sonarsource.com/t/&hellip;</a>"},{"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"score":0,"creation_date":1674590863,"post_id":75150324,"comment_id":132745738,"body_markdown":"As a workaround i enclosed the method with false argument into another method with a different name and Sonar issue goes away.","body":"As a workaround i enclosed the method with false argument into another method with a different name and Sonar issue goes away."}],"owner":{"account_id":7796397,"reputation":83,"user_id":5897316,"accept_rate":0,"display_name":"gaurav b"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674978134,"creation_date":1673977852,"question_id":75150324,"body_markdown":"I wanted to execute func2 with 2nd parameter as true only when value of bool1 is false and func2 with 2nd parameter as false will be called every time but for some reason Sonar is taking it as non complaint code even though i am not even using any else statement neither returning anything from the function. \r\n\r\n    func1(Obj1, bool1){\r\n        if(!bool1){\r\n            func2(obj1,true);\r\n        }\r\n        func2(obj1,false);  // Note this is called UNCONDITIONALLY\r\n    }\r\n\r\nCan anyone suggest how to resolve this issue without duplicating code of func2.Most of the other answers in stack overflow are talking about returning something based on some condition but in this i am supposed to execute func2 even though if condition is true.","title":"Replace this if-then-else statement by a single method invocation","body":"<p>I wanted to execute func2 with 2nd parameter as true only when value of bool1 is false and func2 with 2nd parameter as false will be called every time but for some reason Sonar is taking it as non complaint code even though i am not even using any else statement neither returning anything from the function.</p>\n<pre><code>func1(Obj1, bool1){\n    if(!bool1){\n        func2(obj1,true);\n    }\n    func2(obj1,false);  // Note this is called UNCONDITIONALLY\n}\n</code></pre>\n<p>Can anyone suggest how to resolve this issue without duplicating code of func2.Most of the other answers in stack overflow are talking about returning something based on some condition but in this i am supposed to execute func2 even though if condition is true.</p>\n"},{"tags":["java","fingerprint"],"answers":[{"tags":[],"owner":{"account_id":1902194,"reputation":21,"user_id":1717824,"display_name":"Alan Rodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589312238,"creation_date":1589312238,"answer_id":61760472,"question_id":61645757,"body_markdown":"I got in touch with tech support via the email inquiry@futronic-tech.com.\r\nTeam futronic were very kind and supportive and helped me to accomplish the taks.\r\nThere&#39;s everything available in their dll api, and they sent me access to their ftp with Java code example to handle multiple FS80 readers plugged in the same PC.\r\nI would like to thank team Futronic.","title":"Futronic fingerprint reader FS80H, 2 readers in the same PC, how can i differentiate them","body":"<p>I got in touch with tech support via the email inquiry@futronic-tech.com.\nTeam futronic were very kind and supportive and helped me to accomplish the taks.\nThere's everything available in their dll api, and they sent me access to their ftp with Java code example to handle multiple FS80 readers plugged in the same PC.\nI would like to thank team Futronic.</p>\n"}],"owner":{"account_id":1902194,"reputation":21,"user_id":1717824,"display_name":"Alan Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674978063,"creation_date":1588800647,"question_id":61645757,"body_markdown":"I have Java application using Futronic FS80H.\r\nWorking successfully with one device.\r\nBut now i have 2 of them plugged in the same PC.\r\nI want one to enroll, and the other must only read.\r\nBut i can&#39;t find a way to diferentiate them.\r\nI&#39;m using the SDK Worked Example for Windows, available at https://www.futronic-tech.com/download.php, and building my software upon that.\r\nCan someone help me?","title":"Futronic fingerprint reader FS80H, 2 readers in the same PC, how can i differentiate them","body":"<p>I have Java application using Futronic FS80H.\nWorking successfully with one device.\nBut now i have 2 of them plugged in the same PC.\nI want one to enroll, and the other must only read.\nBut i can't find a way to diferentiate them.\nI'm using the SDK Worked Example for Windows, available at <a href=\"https://www.futronic-tech.com/download.php\" rel=\"nofollow noreferrer\">https://www.futronic-tech.com/download.php</a>, and building my software upon that.\nCan someone help me?</p>\n"},{"tags":["java","gradle","slf4j"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1674976667,"creation_date":1624471849,"answer_id":68105131,"question_id":68105088,"body_markdown":"You added `slf4j-simple` only in test scope, you want it also in runtime scope.\r\n\r\nI.e. change `testImplementation` to `implementation` in your build definition.\r\n\r\n-----\r\n\r\nNote that `slf4j-simple` as the name suggests is a minimal implementation of SLF4J API, you might want to use a more customizable one for production code like logback, log4j2...","title":"How to solve &quot;No SLF4J providers were found&quot; when the &quot;slf4j-api&quot; and &quot;slf4j-simple&quot; are already imported?","body":"<p>You added <code>slf4j-simple</code> only in test scope, you want it also in runtime scope.</p>\n<p>I.e. change <code>testImplementation</code> to <code>implementation</code> in your build definition.</p>\n<hr />\n<p>Note that <code>slf4j-simple</code> as the name suggests is a minimal implementation of SLF4J API, you might want to use a more customizable one for production code like logback, log4j2...</p>\n"}],"owner":{"account_id":16275079,"reputation":1090,"user_id":11752443,"display_name":"powerseed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27238,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":68105131,"answer_count":1,"score":3,"last_activity_date":1674976667,"creation_date":1624471613,"question_id":68105088,"body_markdown":"I am using Guice in a gradle project. When running the main method, I got the following error:\r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\r\n```\r\n\r\nI did some research and added two dependencies in the `dependencies` section of the `build.gradle` file as shown below:\r\n```\r\ndependencies {\r\n    ...\r\n    implementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-api&#39;, version: &#39;2.0.0-alpha1&#39;\r\n    testImplementation group: &#39;org.slf4j&#39;, name: &#39;slf4j-simple&#39;, version: &#39;2.0.0-alpha1&#39;\r\n}\r\n```\r\nBut the error is still there...\r\n\r\nDo I need to bind the SLF4J provider with something via Guice?\r\n\r\nMy `main` method is very simple, so as the `AbstractModule` class for Guice, as shown below (not sure if they are relevant):\r\n```\r\npublic class Restful {\r\n    public static void main(String[] args) {\r\n        Injector injector = Guice.createInjector(new ApplicationModule());\r\n    }\r\n}\r\n```\r\nand\r\n```\r\npublic class ApplicationModule extends AbstractModule {\r\n    @Override\r\n    protected void configure() {\r\n        bind(UserDao.class).toInstance(new UserDao());\r\n    }\r\n}\r\n```\r\nThank in advance!","title":"How to solve &quot;No SLF4J providers were found&quot; when the &quot;slf4j-api&quot; and &quot;slf4j-simple&quot; are already imported?","body":"<p>I am using Guice in a gradle project. When running the main method, I got the following error:</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#noProviders for further details.\n</code></pre>\n<p>I did some research and added two dependencies in the <code>dependencies</code> section of the <code>build.gradle</code> file as shown below:</p>\n<pre><code>dependencies {\n    ...\n    implementation group: 'org.slf4j', name: 'slf4j-api', version: '2.0.0-alpha1'\n    testImplementation group: 'org.slf4j', name: 'slf4j-simple', version: '2.0.0-alpha1'\n}\n</code></pre>\n<p>But the error is still there...</p>\n<p>Do I need to bind the SLF4J provider with something via Guice?</p>\n<p>My <code>main</code> method is very simple, so as the <code>AbstractModule</code> class for Guice, as shown below (not sure if they are relevant):</p>\n<pre><code>public class Restful {\n    public static void main(String[] args) {\n        Injector injector = Guice.createInjector(new ApplicationModule());\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class ApplicationModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        bind(UserDao.class).toInstance(new UserDao());\n    }\n}\n</code></pre>\n<p>Thank in advance!</p>\n"},{"tags":["java","apache-kafka","apache-camel","junit5","spring-restcontroller"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674778511,"post_id":75242266,"comment_id":132791619,"body_markdown":"Have you tried to write any test yet on your own that starts your webserver?","body":"Have you tried to write any test yet on your own that starts your webserver?"},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1674812881,"post_id":75242266,"comment_id":132797318,"body_markdown":"I am new to springboot,I am able to do write the rest of test cases for the flow like camel routing,repository layer etc.Need help in this topic.As unable to find any leads also from internet.","body":"I am new to springboot,I am able to do write the rest of test cases for the flow like camel routing,repository layer etc.Need help in this topic.As unable to find any leads also from internet."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674838295,"post_id":75242266,"comment_id":132805481,"body_markdown":"So [&quot;test restcontroller with junit5&quot;](https://howtodoinjava.com/spring-boot2/testing/rest-controller-unit-test-example/) resulting in nothing useful?","body":"So <a href=\"https://howtodoinjava.com/spring-boot2/testing/rest-controller-unit-test-example/\" rel=\"nofollow noreferrer\">&quot;test restcontroller with junit5&quot;</a> resulting in nothing useful?"},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1674931792,"post_id":75242266,"comment_id":132820960,"body_markdown":"It&#39;s not a regular  MV Ccontroller where you have service and repo,as mentioned in my question its an independent api which is uses camel producer template to publish messages into kafka events.I am not finding exact test case for this, yes event publishing even could be possible through kafka template but as i m using camel is next layer to do transformation and process so would like to reuse the producer template instead of kafka template.","body":"It&#39;s not a regular  MV Ccontroller where you have service and repo,as mentioned in my question its an independent api which is uses camel producer template to publish messages into kafka events.I am not finding exact test case for this, yes event publishing even could be possible through kafka template but as i m using camel is next layer to do transformation and process so would like to reuse the producer template instead of kafka template."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1674976015,"post_id":75242266,"comment_id":132826171,"body_markdown":"You still have a rest controller. Camel shouldn&#39;t matter. Otherwise, you should refactor your code with dependency injection to make it easier to test in isolation","body":"You still have a rest controller. Camel shouldn&#39;t matter. Otherwise, you should refactor your code with dependency injection to make it easier to test in isolation"},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1675014760,"post_id":75242266,"comment_id":132832675,"body_markdown":"do you have any reference code for rest controller with kafka producer template, if yes please share.","body":"do you have any reference code for rest controller with kafka producer template, if yes please share."},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1675082342,"post_id":75242266,"comment_id":132845133,"body_markdown":"*camel producer template not kafka producer template","body":"*camel producer template not kafka producer template"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675101516,"post_id":75242266,"comment_id":132851877,"body_markdown":"I do not because I don&#39;t use Kafka producers in RESTControllers, Camel or otherwise... Besides, no part of your question seems to be [using Camel Kafka producer](https://camel.apache.org/components/3.20.x/kafka-component.html#_producing_messages_to_kafka), and as I said, you can [test camel in isolation](https://camel.apache.org/components/3.20.x/others/test-spring-junit5.html)","body":"I do not because I don&#39;t use Kafka producers in RESTControllers, Camel or otherwise... Besides, no part of your question seems to be <a href=\"https://camel.apache.org/components/3.20.x/kafka-component.html#_producing_messages_to_kafka\" rel=\"nofollow noreferrer\">using Camel Kafka producer</a>, and as I said, you can <a href=\"https://camel.apache.org/components/3.20.x/others/test-spring-junit5.html\" rel=\"nofollow noreferrer\">test camel in isolation</a>"},{"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"score":0,"creation_date":1675155991,"post_id":75242266,"comment_id":132862638,"body_markdown":"test camel alone already i have taken care i was looking only for this part lv it,,thank you","body":"test camel alone already i have taken care i was looking only for this part lv it,,thank you"}],"owner":{"account_id":27623928,"reputation":1,"user_id":21084314,"display_name":"Saumya R Dash"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674976080,"creation_date":1674707329,"question_id":75242266,"body_markdown":"Need a help to write junit5 test case in springboot for a post api where it uses apache camel producer template to send message to kafka. Please find the controller class details for which junit test cases are required. Note-I don&#39;t have any service/repository layer for this.This is standalone controller which is responsible to publish message to kafka by using camel producer template.Thanks is advance.\r\n\r\n**Controller Class--&gt;**\r\n\r\n```\r\n`\r\n`import com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.rms.inventory.savr.audit.model.AuditInfo;\r\nimport java.util.Map;\r\nimport javax.annotation.PostConstruct;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestHeader;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n@RestController\r\npublic class MockKafkaProducerController {\r\n  @Autowired ProducerTemplate producerTemplate;\r\n  @Value(&quot;${audit.inbound.endpoint.kafka.uri:audit-json-topic}&quot;)\r\n  private String auditTopicKafka;\r\n  @Value(&quot;${camel.component.kafka.consumer.supply}&quot;)\r\n  private String supplyLineUpdateKafkaTopic;\r\n  @Value(&quot;${camel.component.kafka.consumer.demand}&quot;)\r\n  private String demandLineUpdateKafkaTopic;\r\n  @Value(&quot;${camel.component.kafka.consumer.supply-bucket}&quot;)\r\n  private String supplybucketTopicKafka;\r\n  @Value(&quot;${camel.component.kafka.consumer.demand-bucket}&quot;)\r\n  private String demandbucketTopicKafka;\r\n  @Value(&quot;${camel.component.kafka.consumer.availability}&quot;)\r\n  private String availabilityTopicKafka;\r\n  private Map&lt;String, String&gt; dataTypeTopicMap;\r\n  @PostConstruct\r\n  void init() {\r\n    dataTypeTopicMap =\r\n        Map.of(\r\n            &quot;SUPPLY_LINE&quot;,\r\n            supplyLineUpdateKafkaTopic,\r\n            &quot;SUPPLY_BUCKET&quot;,\r\n            supplybucketTopicKafka,\r\n            &quot;DEMAND_LINE&quot;,\r\n            demandLineUpdateKafkaTopic,\r\n            &quot;DEMAND_BUCKET&quot;,\r\n            demandbucketTopicKafka,\r\n            &quot;AVAILABILITY&quot;,\r\n            availabilityTopicKafka);\r\n  }\r\n  @PostMapping(&quot;/api/mock/producer&quot;)\r\n  public ResponseEntity&lt;Boolean&gt; saveAuditInfo(@RequestBody AuditInfo auditInfo)\r\n  public ResponseEntity&lt;Boolean&gt; saveAuditInfo(\r\n      @RequestBody AuditInfo auditInfo, @RequestHeader(&quot;AUDIT_TYPE&quot;) String auditType)\r\n      throws JsonProcessingException {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.findAndRegisterModules();\r\n    if (auditType == null || auditType.isEmpty()) {\r\n      auditType = &quot;SUPPLY_LINE&quot;;\r\n    }\r\n    String topicName = dataTypeTopicMap.get(auditType);\r\n    //  producerTemplate.\r\n    producerTemplate.sendBodyAndHeader(\r\n        auditTopicKafka, objectMapper.writeValueAsString(auditInfo), &quot;messageFormat&quot;, &quot;CANONICAL&quot;);\r\n        topicName, objectMapper.writeValueAsString(auditInfo), &quot;messageFormat&quot;, &quot;CANONICAL&quot;);\r\n    return ResponseEntity.ok(Boolean.TRUE);\r\n  }\r\n  @PostMapping(&quot;/api/inventory/audit/mock/producer&quot;)\r\n  public ResponseEntity&lt;Boolean&gt; publishInventoryAudit(@RequestBody String auditInfo)\r\n  public ResponseEntity&lt;Boolean&gt; publishInventoryAudit(\r\n      @RequestBody String auditInfo, @RequestHeader(&quot;AUDIT_TYPE&quot;) String auditType)\r\n      throws JsonProcessingException {\r\n    producerTemplate.sendBody(auditTopicKafka, auditInfo);\r\n    if (auditType == null || auditType.isEmpty()) {\r\n      auditType = &quot;SUPPLY_LINE&quot;;\r\n    }\r\n    String topicName = dataTypeTopicMap.get(auditType);\r\n    producerTemplate.sendBody(topicName, auditInfo);\r\n    return ResponseEntity.ok(Boolean.TRUE);\r\n  }\r\n}`\r\n```\r\n`\r\n\r\n\r\nI tried to mock producer template but not able to fix.","title":"How to write Junit5 test cases in Springboot for apache camel Producer Template sendBodyAndHeader() to publish a json event to kafka","body":"<p>Need a help to write junit5 test case in springboot for a post api where it uses apache camel producer template to send message to kafka. Please find the controller class details for which junit test cases are required. Note-I don't have any service/repository layer for this.This is standalone controller which is responsible to publish message to kafka by using camel producer template.Thanks is advance.</p>\n<p><strong>Controller Class--&gt;</strong></p>\n<pre><code>`\n`import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.rms.inventory.savr.audit.model.AuditInfo;\nimport java.util.Map;\nimport javax.annotation.PostConstruct;\nimport org.apache.camel.ProducerTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RestController;\n@RestController\npublic class MockKafkaProducerController {\n  @Autowired ProducerTemplate producerTemplate;\n  @Value(&quot;${audit.inbound.endpoint.kafka.uri:audit-json-topic}&quot;)\n  private String auditTopicKafka;\n  @Value(&quot;${camel.component.kafka.consumer.supply}&quot;)\n  private String supplyLineUpdateKafkaTopic;\n  @Value(&quot;${camel.component.kafka.consumer.demand}&quot;)\n  private String demandLineUpdateKafkaTopic;\n  @Value(&quot;${camel.component.kafka.consumer.supply-bucket}&quot;)\n  private String supplybucketTopicKafka;\n  @Value(&quot;${camel.component.kafka.consumer.demand-bucket}&quot;)\n  private String demandbucketTopicKafka;\n  @Value(&quot;${camel.component.kafka.consumer.availability}&quot;)\n  private String availabilityTopicKafka;\n  private Map&lt;String, String&gt; dataTypeTopicMap;\n  @PostConstruct\n  void init() {\n    dataTypeTopicMap =\n        Map.of(\n            &quot;SUPPLY_LINE&quot;,\n            supplyLineUpdateKafkaTopic,\n            &quot;SUPPLY_BUCKET&quot;,\n            supplybucketTopicKafka,\n            &quot;DEMAND_LINE&quot;,\n            demandLineUpdateKafkaTopic,\n            &quot;DEMAND_BUCKET&quot;,\n            demandbucketTopicKafka,\n            &quot;AVAILABILITY&quot;,\n            availabilityTopicKafka);\n  }\n  @PostMapping(&quot;/api/mock/producer&quot;)\n  public ResponseEntity&lt;Boolean&gt; saveAuditInfo(@RequestBody AuditInfo auditInfo)\n  public ResponseEntity&lt;Boolean&gt; saveAuditInfo(\n      @RequestBody AuditInfo auditInfo, @RequestHeader(&quot;AUDIT_TYPE&quot;) String auditType)\n      throws JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.findAndRegisterModules();\n    if (auditType == null || auditType.isEmpty()) {\n      auditType = &quot;SUPPLY_LINE&quot;;\n    }\n    String topicName = dataTypeTopicMap.get(auditType);\n    //  producerTemplate.\n    producerTemplate.sendBodyAndHeader(\n        auditTopicKafka, objectMapper.writeValueAsString(auditInfo), &quot;messageFormat&quot;, &quot;CANONICAL&quot;);\n        topicName, objectMapper.writeValueAsString(auditInfo), &quot;messageFormat&quot;, &quot;CANONICAL&quot;);\n    return ResponseEntity.ok(Boolean.TRUE);\n  }\n  @PostMapping(&quot;/api/inventory/audit/mock/producer&quot;)\n  public ResponseEntity&lt;Boolean&gt; publishInventoryAudit(@RequestBody String auditInfo)\n  public ResponseEntity&lt;Boolean&gt; publishInventoryAudit(\n      @RequestBody String auditInfo, @RequestHeader(&quot;AUDIT_TYPE&quot;) String auditType)\n      throws JsonProcessingException {\n    producerTemplate.sendBody(auditTopicKafka, auditInfo);\n    if (auditType == null || auditType.isEmpty()) {\n      auditType = &quot;SUPPLY_LINE&quot;;\n    }\n    String topicName = dataTypeTopicMap.get(auditType);\n    producerTemplate.sendBody(topicName, auditInfo);\n    return ResponseEntity.ok(Boolean.TRUE);\n  }\n}`\n</code></pre>\n<p>`</p>\n<p>I tried to mock producer template but not able to fix.</p>\n"},{"tags":["java","python","django","docker","codenarc"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569073355,"creation_date":1569073355,"answer_id":58040875,"question_id":58040314,"body_markdown":"There is nothing wrong with the way you have the tool set up now, without Docker, and I would keep doing what you&#39;re doing unless you&#39;re trying to address some specific problem with it.\r\n\r\nWhen you write out the problem description as &quot;browse the file system&quot;, &quot;exports into files&quot;, &quot;run a jar file&quot;, this isn&#39;t an architecture that works well in Docker.  Sharing files between containers is tricky (requires startup-time options, there are lurking permission issues), one container can&#39;t directly run a command in another, and one container can&#39;t start another container without being trusted with unrestricted root-level access over the whole system.\r\n\r\nRebuilding this into a form that would work well with Docker would involve some reengineering, that&#39;s kind of secondary to the actual problem you&#39;re trying to solve.  Two typical approaches:\r\n\r\n1. Instead of the Java tool being a tool that&#39;s run once and exits, make it be a long-running process with an HTTP interface.  The Django front-end would HTTP POST a file it wants processed, and get the results back in the HTTP response.\r\n\r\n2. Deploy a job queue like RabbitMQ.  When the Django application has a file it wants processed, it posts it into the job queue.  Wrap the Java tool in a worker that reads from the request queue, does its processing, and writes to a response queue.  The Django application is then able to pick up the response.\r\n\r\nThe last option is &quot;most industrial&quot; -- if you needed to process thousands of files  at a time, scale up and down the number of Java workers you had based on the workload, and generally run this as a production network service, it&#39;s a good way to go.  That doesn&#39;t sound like the scale you&#39;re aiming for.\r\n\r\nFinally: you should _never_ `eval()` anything, and you should _especially_ never `eval()` something you&#39;re getting from an HTTP request.  That&#39;s a massive security disaster waiting to happen.  (Anyone who can reach your service would be able to read or write any file your service could, and potentially even change the code the service is running; this could very easily become a scenario where someone takes over your entire system.)","title":"How to manage Java and Python apps on docker?","body":"<p>There is nothing wrong with the way you have the tool set up now, without Docker, and I would keep doing what you're doing unless you're trying to address some specific problem with it.</p>\n\n<p>When you write out the problem description as \"browse the file system\", \"exports into files\", \"run a jar file\", this isn't an architecture that works well in Docker.  Sharing files between containers is tricky (requires startup-time options, there are lurking permission issues), one container can't directly run a command in another, and one container can't start another container without being trusted with unrestricted root-level access over the whole system.</p>\n\n<p>Rebuilding this into a form that would work well with Docker would involve some reengineering, that's kind of secondary to the actual problem you're trying to solve.  Two typical approaches:</p>\n\n<ol>\n<li><p>Instead of the Java tool being a tool that's run once and exits, make it be a long-running process with an HTTP interface.  The Django front-end would HTTP POST a file it wants processed, and get the results back in the HTTP response.</p></li>\n<li><p>Deploy a job queue like RabbitMQ.  When the Django application has a file it wants processed, it posts it into the job queue.  Wrap the Java tool in a worker that reads from the request queue, does its processing, and writes to a response queue.  The Django application is then able to pick up the response.</p></li>\n</ol>\n\n<p>The last option is \"most industrial\" -- if you needed to process thousands of files  at a time, scale up and down the number of Java workers you had based on the workload, and generally run this as a production network service, it's a good way to go.  That doesn't sound like the scale you're aiming for.</p>\n\n<p>Finally: you should <em>never</em> <code>eval()</code> anything, and you should <em>especially</em> never <code>eval()</code> something you're getting from an HTTP request.  That's a massive security disaster waiting to happen.  (Anyone who can reach your service would be able to read or write any file your service could, and potentially even change the code the service is running; this could very easily become a scenario where someone takes over your entire system.)</p>\n"}],"owner":{"account_id":16739235,"reputation":1,"user_id":12099422,"display_name":"magsul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674974960,"creation_date":1569069186,"question_id":58040314,"body_markdown":"I have a Python app based on Django that I run over a docker container. The app browses the file system and does analysis on some XML files and extracts embedded source code and exports that into separate files. \r\n\r\nThe app should run a Java jar file that does static code analysis on files generated by the Django web app.\r\n\r\nI thought of isolating both parts of the whole platform. The Python Django part is on a container, the jar file (it&#39;s an open source tool) runs on another alpine container. \r\n\r\nNow I want to continue development of the tool and make the Django app run the tool through a command on each file that&#39;s generated that contains source code. \r\n\r\n- Should I create another Django wrapper on the jar file to expose some endpoints so that the first container could run it? And possibly make the wrapper handle a GET request that would use `eval()` to run the tool?\r\n- Is there another way I could enhance this architecture?\r\n\r\nEdit: The tool I&#39;m using: https://github.com/AbletonDevTools/groovylint","title":"How to manage Java and Python apps on docker?","body":"<p>I have a Python app based on Django that I run over a docker container. The app browses the file system and does analysis on some XML files and extracts embedded source code and exports that into separate files. </p>\n\n<p>The app should run a Java jar file that does static code analysis on files generated by the Django web app.</p>\n\n<p>I thought of isolating both parts of the whole platform. The Python Django part is on a container, the jar file (it's an open source tool) runs on another alpine container. </p>\n\n<p>Now I want to continue development of the tool and make the Django app run the tool through a command on each file that's generated that contains source code. </p>\n\n<ul>\n<li>Should I create another Django wrapper on the jar file to expose some endpoints so that the first container could run it? And possibly make the wrapper handle a GET request that would use <code>eval()</code> to run the tool?</li>\n<li>Is there another way I could enhance this architecture?</li>\n</ul>\n\n<p>Edit: The tool I'm using: <a href=\"https://github.com/AbletonDevTools/groovylint\" rel=\"nofollow noreferrer\">https://github.com/AbletonDevTools/groovylint</a></p>\n"},{"tags":["java","android","loops","android-studio","android-mediaplayer"],"comments":[{"owner":{"account_id":11500679,"reputation":276,"user_id":8428570,"display_name":"Syed Muhammad Zeejah Hashmi ze"},"score":1,"creation_date":1674974079,"post_id":75272971,"comment_id":132826030,"body_markdown":"setLooping to true means that the music file will run continuously without stopping and OnCompleteListener will trigger only when the specific music file will complete its time like suppose file in 1 min and when 1 mint reach onCompleteListener triggers","body":"setLooping to true means that the music file will run continuously without stopping and OnCompleteListener will trigger only when the specific music file will complete its time like suppose file in 1 min and when 1 mint reach onCompleteListener triggers"}],"owner":{"account_id":19402080,"reputation":39,"user_id":14188414,"display_name":"Deepak Bhatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674974034,"creation_date":1674973253,"question_id":75272971,"body_markdown":"I am a beginner to android studio and currently i&#39;m learning creating a musicplayer , so i had a doubt what to use for looping the music, \r\nmediaPlayer.setLooping(true) or setOnCompletionListener.","title":"difference between mediaplayer.setLooping and setOnCompleteListener in android studio","body":"<p>I am a beginner to android studio and currently i'm learning creating a musicplayer , so i had a doubt what to use for looping the music,\nmediaPlayer.setLooping(true) or setOnCompletionListener.</p>\n"},{"tags":["java","jsp","import"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1501746132,"creation_date":1501746132,"answer_id":45477873,"question_id":45477426,"body_markdown":"Your import are wrong, List/ArrayList are classes and not packages so you need to remove .*\r\n\r\n    &lt;%@ page import =&quot;java.util.ArrayList&quot;%&gt;\r\n    &lt;%@ page import =&quot;java.util.List&quot;%&gt;","title":"List cannot be resolved in jsp","body":"<p>Your import are wrong, List/ArrayList are classes and not packages so you need to remove .*</p>\n\n<pre><code>&lt;%@ page import =\"java.util.ArrayList\"%&gt;\n&lt;%@ page import =\"java.util.List\"%&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27647353,"reputation":1,"user_id":21102960,"display_name":"ABHAY MISHRA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674973377,"creation_date":1674973377,"answer_id":75272982,"question_id":45477426,"body_markdown":"remove asterik(*)\r\n&lt;%@ page import =&quot;java.util.ArrayList&quot;%&gt;\r\n&lt;%@ page import =&quot;java.util.List&quot;%&gt;","title":"List cannot be resolved in jsp","body":"<p>remove asterik(*)\n&lt;%@ page import =&quot;java.util.ArrayList&quot;%&gt;\n&lt;%@ page import =&quot;java.util.List&quot;%&gt;</p>\n"}],"owner":{"account_id":11380972,"reputation":53,"user_id":8343887,"display_name":"Venki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11277,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"accepted_answer_id":45477873,"answer_count":2,"score":1,"last_activity_date":1674973377,"creation_date":1501744826,"question_id":45477426,"body_markdown":"Below code is for display an images from server folder but List is showing cannot be resolved type. Uploaded the images into the folder using the servlet code &quot;private static final String UPLOAD_DIRECTORY = &quot;upload&quot;;&quot; now i want display all the images to jsp page. please help\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;%@ page import =&quot;java.io.*&quot;%&gt;;\r\n    &lt;%@ page import =&quot;java.io.File.*&quot;%&gt;;\r\n    &lt;%@ page import=&quot;java.sql.*&quot;%&gt;\r\n    &lt;%@ page import=&quot;javax.sql.*&quot;%&gt;\r\n    &lt;%@ page import =&quot;java.util.ArrayList.*&quot;%&gt;\r\n    &lt;%@ page import =&quot;java.util.List.*&quot;%&gt;\r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n            &lt;title&gt;File Upload Example&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt; \r\n            &lt;div id=&quot;result&quot;&gt;\r\n                &lt;h3&gt;${requestScope[&quot;message&quot;]}&lt;/h3&gt;\r\n            &lt;/div&gt;\r\n\r\n            &lt;%\r\n                List imageUrlList = new ArrayList(); //List cannot be resolved type\r\n                File imageDir = new File(&quot;Upload&quot;);\r\n                for (File imageFile : imageDir.listFiles()) {\r\n                    String imageFileName = imageFile.getName();\r\n\r\n                    // add this images name to the list we are building up  \r\n                    imageUrlList.add(imageFileName);\r\n\r\n                }\r\n                request.setAttribute(&quot;imageUrlList&quot;, imageUrlList);\r\n            %&gt;\r\n        &lt;c:forEach var=&quot;img&quot; items=&quot;${imageUrlList}&quot;&gt;  \r\n            &lt;img src=&quot;${imageUrlList}&quot;/&gt;  \r\n        &lt;/c:forEach&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n ","title":"List cannot be resolved in jsp","body":"<p>Below code is for display an images from server folder but List is showing cannot be resolved type. Uploaded the images into the folder using the servlet code \"private static final String UPLOAD_DIRECTORY = \"upload\";\" now i want display all the images to jsp page. please help</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%@ page import =\"java.io.*\"%&gt;;\n&lt;%@ page import =\"java.io.File.*\"%&gt;;\n&lt;%@ page import=\"java.sql.*\"%&gt;\n&lt;%@ page import=\"javax.sql.*\"%&gt;\n&lt;%@ page import =\"java.util.ArrayList.*\"%&gt;\n&lt;%@ page import =\"java.util.List.*\"%&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n        &lt;title&gt;File Upload Example&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt; \n        &lt;div id=\"result\"&gt;\n            &lt;h3&gt;${requestScope[\"message\"]}&lt;/h3&gt;\n        &lt;/div&gt;\n\n        &lt;%\n            List imageUrlList = new ArrayList(); //List cannot be resolved type\n            File imageDir = new File(\"Upload\");\n            for (File imageFile : imageDir.listFiles()) {\n                String imageFileName = imageFile.getName();\n\n                // add this images name to the list we are building up  \n                imageUrlList.add(imageFileName);\n\n            }\n            request.setAttribute(\"imageUrlList\", imageUrlList);\n        %&gt;\n    &lt;c:forEach var=\"img\" items=\"${imageUrlList}\"&gt;  \n        &lt;img src=\"${imageUrlList}\"/&gt;  \n    &lt;/c:forEach&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n\n"},{"tags":["java","int","bluej"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1380607740,"post_id":19109131,"comment_id":28254637,"body_markdown":"You&#39;re trying to using a `int` where an `Integer`, `Number` or `Object` is expected...`int` does not have any methods","body":"You&#39;re trying to using a <code>int</code> where an <code>Integer</code>, <code>Number</code> or <code>Object</code> is expected...<code>int</code> does not have any methods"}],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1458703427,"creation_date":1380607845,"answer_id":19109169,"question_id":19109131,"body_markdown":"`id` is of primitive type `int` and not an `Object`. You cannot call methods on a primitive as you are doing here :\r\n\r\n    id.equals\r\n\r\nTry replacing this:\r\n\r\n            if (id.equals(list[pos].getItemNumber())){ //Getting error on &quot;equals&quot;\r\n\r\nwith\r\n\r\n            if (id == list[pos].getItemNumber()){ //Getting error on &quot;equals&quot;\r\n","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p><code>id</code> is of primitive type <code>int</code> and not an <code>Object</code>. You cannot call methods on a primitive as you are doing here :</p>\n\n<pre><code>id.equals\n</code></pre>\n\n<p>Try replacing this:</p>\n\n<pre><code>        if (id.equals(list[pos].getItemNumber())){ //Getting error on \"equals\"\n</code></pre>\n\n<p>with</p>\n\n<pre><code>        if (id == list[pos].getItemNumber()){ //Getting error on \"equals\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380607847,"creation_date":1380607847,"answer_id":19109173,"question_id":19109131,"body_markdown":"Assuming `getItemNumber()` returns an `int`, replace \r\n\r\n`if (id.equals(list[pos].getItemNumber()))` \r\n\r\nwith \r\n\r\n`if (id == list[pos].getItemNumber())`","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>Assuming <code>getItemNumber()</code> returns an <code>int</code>, replace </p>\n\n<p><code>if (id.equals(list[pos].getItemNumber()))</code> </p>\n\n<p>with </p>\n\n<p><code>if (id == list[pos].getItemNumber())</code></p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1380607859,"creation_date":1380607859,"answer_id":19109177,"question_id":19109131,"body_markdown":"Basically, you&#39;re trying to use `int` as if it was an `Object`, which it isn&#39;t (well...it&#39;s complicated)\r\n\r\n    id.equals(list[pos].getItemNumber())\r\n\r\nShould be...\r\n\r\n    id == list[pos].getItemNumber()","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>Basically, you're trying to use <code>int</code> as if it was an <code>Object</code>, which it isn't (well...it's complicated)</p>\n\n<pre><code>id.equals(list[pos].getItemNumber())\n</code></pre>\n\n<p>Should be...</p>\n\n<pre><code>id == list[pos].getItemNumber()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380607862,"creation_date":1380607862,"answer_id":19109178,"question_id":19109131,"body_markdown":"Change\r\n\r\n    id.equals(list[pos].getItemNumber())\r\n\r\nto\r\n\r\n    id == list[pos].getItemNumber()\r\n\r\nFor more details, you should learn the difference between the primitive types like `int`, `char`, and `double` and reference types.","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>Change</p>\n\n<pre><code>id.equals(list[pos].getItemNumber())\n</code></pre>\n\n<p>to</p>\n\n<pre><code>id == list[pos].getItemNumber()\n</code></pre>\n\n<p>For more details, you should learn the difference between the primitive types like <code>int</code>, <code>char</code>, and <code>double</code> and reference types.</p>\n"},{"tags":[],"owner":{"account_id":1082506,"reputation":3218,"user_id":1079103,"accept_rate":79,"display_name":"Ali Hashemi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1380607966,"creation_date":1380607966,"answer_id":19109203,"question_id":19109131,"body_markdown":"try \r\n\r\n    id == list[pos].getItemNumber()\r\n\r\ninstead of \r\n\r\n    id.equals(list[pos].getItemNumber()","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>try </p>\n\n<pre><code>id == list[pos].getItemNumber()\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>id.equals(list[pos].getItemNumber()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8944815,"reputation":59,"user_id":6672659,"display_name":"Ashit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529765967,"creation_date":1529765967,"answer_id":51002364,"question_id":19109131,"body_markdown":"As your methods an int datatype, you should use &quot;==&quot; instead of equals()\r\n\r\ntry replacing this \r\n    if (id.equals(list[pos].getItemNumber()))\r\n\r\nwith\r\n\r\n    if (id.equals==list[pos].getItemNumber())\r\n\r\nit will fix the error .","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>As your methods an int datatype, you should use \"==\" instead of equals()</p>\n\n<p>try replacing this \n    if (id.equals(list[pos].getItemNumber()))</p>\n\n<p>with</p>\n\n<pre><code>if (id.equals==list[pos].getItemNumber())\n</code></pre>\n\n<p>it will fix the error .</p>\n"},{"tags":[],"owner":{"account_id":19405565,"reputation":161,"user_id":14191108,"display_name":"Ashwani Kumar Kushwaha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645420834,"creation_date":1645420834,"answer_id":71201539,"question_id":19109131,"body_markdown":"Dereferencing is the process of accessing the value referred to by a reference . Since, int is already a value (not a reference), it can not be dereferenced.\r\nso u need to replace your code (.) to(==).","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>Dereferencing is the process of accessing the value referred to by a reference . Since, int is already a value (not a reference), it can not be dereferenced.\nso u need to replace your code (.) to(==).</p>\n"},{"tags":[],"owner":{"account_id":25234700,"reputation":1,"user_id":19069400,"display_name":"Ujjwal Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674973100,"creation_date":1674973100,"answer_id":75272963,"question_id":19109131,"body_markdown":"I think you are getting this error in the initialization of the Integer somewhere","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>I think you are getting this error in the initialization of the Integer somewhere</p>\n"}],"owner":{"account_id":2042096,"reputation":613,"user_id":1822998,"accept_rate":89,"display_name":"BBladem83"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307066,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":19109169,"answer_count":8,"score":38,"last_activity_date":1674973100,"creation_date":1380607704,"question_id":19109131,"body_markdown":"I&#39;m fairly new to Java and I&#39;m using BlueJ. I keep getting this &quot;Int cannot be dereferenced&quot; error when trying to compile and I&#39;m not sure what the problem is.  The error is specifically happening in my if statement at the bottom, where it says &quot;equals&quot; is an error and &quot;int cannot be dereferenced.&quot; Hope to get some assistance as I have no idea what to do. Thank you in advance!\r\n\r\n\r\n\r\n    public class Catalog {\r\n        private Item[] list;\r\n        private int size;\r\n    \r\n        // Construct an empty catalog with the specified capacity.\r\n        public Catalog(int max) {\r\n            list = new Item[max];\r\n            size = 0;\r\n        }\r\n    \r\n        // Insert a new item into the catalog.\r\n        // Throw a CatalogFull exception if the catalog is full.\r\n        public void insert(Item obj) throws CatalogFull {\r\n            if (list.length == size) {\r\n                throw new CatalogFull();\r\n            }\r\n            list[size] = obj;\r\n            ++size;\r\n        }\r\n    \r\n        // Search the catalog for the item whose item number\r\n        // is the parameter id.  Return the matching object \r\n        // if the search succeeds.  Throw an ItemNotFound\r\n        // exception if the search fails.\r\n        public Item find(int id) throws ItemNotFound {\r\n            for (int pos = 0; pos &lt; size; ++pos){\r\n                if (id.equals(list[pos].getItemNumber())){ //Getting error on &quot;equals&quot;\r\n                    return list[pos];\r\n                }\r\n                else {\r\n                    throw new ItemNotFound();\r\n                }\r\n            }\r\n        }\r\n    }","title":"&quot;int cannot be dereferenced&quot; in Java","body":"<p>I'm fairly new to Java and I'm using BlueJ. I keep getting this \"Int cannot be dereferenced\" error when trying to compile and I'm not sure what the problem is.  The error is specifically happening in my if statement at the bottom, where it says \"equals\" is an error and \"int cannot be dereferenced.\" Hope to get some assistance as I have no idea what to do. Thank you in advance!</p>\n\n<pre><code>public class Catalog {\n    private Item[] list;\n    private int size;\n\n    // Construct an empty catalog with the specified capacity.\n    public Catalog(int max) {\n        list = new Item[max];\n        size = 0;\n    }\n\n    // Insert a new item into the catalog.\n    // Throw a CatalogFull exception if the catalog is full.\n    public void insert(Item obj) throws CatalogFull {\n        if (list.length == size) {\n            throw new CatalogFull();\n        }\n        list[size] = obj;\n        ++size;\n    }\n\n    // Search the catalog for the item whose item number\n    // is the parameter id.  Return the matching object \n    // if the search succeeds.  Throw an ItemNotFound\n    // exception if the search fails.\n    public Item find(int id) throws ItemNotFound {\n        for (int pos = 0; pos &lt; size; ++pos){\n            if (id.equals(list[pos].getItemNumber())){ //Getting error on \"equals\"\n                return list[pos];\n            }\n            else {\n                throw new ItemNotFound();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1674966446,"post_id":75272580,"comment_id":132825433,"body_markdown":"&quot;how would a sealed class know beforehand which classes it should permit for extension?&quot; The whole point of this is that sealed classes *do not* permit external extension, so that client code knows that variables of a sealed class can only contain instances of a fixed set of classes.","body":"&quot;how would a sealed class know beforehand which classes it should permit for extension?&quot; The whole point of this is that sealed classes <i>do not</i> permit external extension, so that client code knows that variables of a sealed class can only contain instances of a fixed set of classes."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675076276,"post_id":75272580,"comment_id":132843347,"body_markdown":"The permitted classes must be in the same package or module, so there are no permitted classes outside the hypothetical library.","body":"The permitted classes must be in the same package or module, so there are no permitted classes outside the hypothetical library."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1674972088,"creation_date":1674972088,"answer_id":75272899,"question_id":75272580,"body_markdown":"`sealed` classes provide the opposite guarantee to open classes (the default in Java). An open class says to implementors &quot;Hey, you can subclass me and override my non-`final` methods&quot;, but it says to *users* &quot;I have no idea what subclasses look like, so you can only use my own methods directly&quot;. On the flipside, `sealed` classes are very restrictive to implementors &quot;You cannot subclass me, and you can only use me in these prescribed ways&quot;, but very powerful to users: &quot;I know in advance all of my subclasses, so you know that if you have an instance of me, then it must be one of X, Y, or Z&quot;. Consequently, adding a subclass to a `sealed` class is a breaking change.\r\n\r\nIt may be helpful to think of `sealed` classes less as &quot;restricted classes&quot; and more as &quot;enums with superpowers&quot;. An `enum` in Java is a finite set of data values, all constructed in advance. A `sealed class` is a finite set of *classes* that you set forth, but those classes may have an infinite number of possible instances.\r\n\r\nHere&#39;s a real-world example that I wrote myself recently. This was in Kotlin, which also has `sealed` classes, but it&#39;s the same idea. I was writing a wrapper for some Minecraft code and I needed a class that could uniformly represent all of the ways you can die in Minecraft. Long story short, I ended up partitioning the death reasons into &quot;killed by another living thing&quot; and &quot;all other death reasons&quot;. So I wrote a sealed interface `CauseOfDeath`. Its two implementors were `VanillaDeath` (which took a &quot;cause of damage&quot; as its constructor argument, basically an enum listing all of the possible causes) and `VanillaMobDeath` (which took the specific entity that killed you as its constructor argument).\r\n\r\nSince this was clearly exhaustive, I made it `sealed`. If Minecraft later adds more death reasons, they will fit into one of the two categories (&quot;death by entity&quot; or &quot;death by other causes&quot;), so it makes no sense for me or anyone else to ever subclass this interface again.\r\n\r\nFurther, since I&#39;m providing very strong guarantees about the type of death reason, it&#39;s reasonable for users to discriminate based on type. Downcasting in Java has always been a bit of a code smell, on the basis that it can&#39;t possibly know every possible subclass of a class. The logic is &quot;okay, you&#39;ve handled cases X and Y, but what if someone comes along and writes class Z that you&#39;ve never heard of&quot;. But that can&#39;t happen here. The class is sealed, so it&#39;s perfectly reasonable for someone to write a sort of pseudo-visitor that does one thing for &quot;death by entity&quot; and another for &quot;death by other&quot;, since Java (or Kotlin, in my case) can be fully confident that there are not, and never will be, any other possibilities.\r\n\r\nThis makes more sense as well if you&#39;ve used algebraic data types in Haskell or OCaml. The `sealed` keyword originated in Scala as a way to encode ADTs, and they&#39;re exactly what I just described: a type defined as the (tagged) union of a finite number of possible collections of data. And in Haskell and OCaml, it&#39;s entirely normal to discriminate on ADTs as well using `match` (or `case`) expressions.","title":"Java 17 Sealed Classes Business Use Case","body":"<p><code>sealed</code> classes provide the opposite guarantee to open classes (the default in Java). An open class says to implementors &quot;Hey, you can subclass me and override my non-<code>final</code> methods&quot;, but it says to <em>users</em> &quot;I have no idea what subclasses look like, so you can only use my own methods directly&quot;. On the flipside, <code>sealed</code> classes are very restrictive to implementors &quot;You cannot subclass me, and you can only use me in these prescribed ways&quot;, but very powerful to users: &quot;I know in advance all of my subclasses, so you know that if you have an instance of me, then it must be one of X, Y, or Z&quot;. Consequently, adding a subclass to a <code>sealed</code> class is a breaking change.</p>\n<p>It may be helpful to think of <code>sealed</code> classes less as &quot;restricted classes&quot; and more as &quot;enums with superpowers&quot;. An <code>enum</code> in Java is a finite set of data values, all constructed in advance. A <code>sealed class</code> is a finite set of <em>classes</em> that you set forth, but those classes may have an infinite number of possible instances.</p>\n<p>Here's a real-world example that I wrote myself recently. This was in Kotlin, which also has <code>sealed</code> classes, but it's the same idea. I was writing a wrapper for some Minecraft code and I needed a class that could uniformly represent all of the ways you can die in Minecraft. Long story short, I ended up partitioning the death reasons into &quot;killed by another living thing&quot; and &quot;all other death reasons&quot;. So I wrote a sealed interface <code>CauseOfDeath</code>. Its two implementors were <code>VanillaDeath</code> (which took a &quot;cause of damage&quot; as its constructor argument, basically an enum listing all of the possible causes) and <code>VanillaMobDeath</code> (which took the specific entity that killed you as its constructor argument).</p>\n<p>Since this was clearly exhaustive, I made it <code>sealed</code>. If Minecraft later adds more death reasons, they will fit into one of the two categories (&quot;death by entity&quot; or &quot;death by other causes&quot;), so it makes no sense for me or anyone else to ever subclass this interface again.</p>\n<p>Further, since I'm providing very strong guarantees about the type of death reason, it's reasonable for users to discriminate based on type. Downcasting in Java has always been a bit of a code smell, on the basis that it can't possibly know every possible subclass of a class. The logic is &quot;okay, you've handled cases X and Y, but what if someone comes along and writes class Z that you've never heard of&quot;. But that can't happen here. The class is sealed, so it's perfectly reasonable for someone to write a sort of pseudo-visitor that does one thing for &quot;death by entity&quot; and another for &quot;death by other&quot;, since Java (or Kotlin, in my case) can be fully confident that there are not, and never will be, any other possibilities.</p>\n<p>This makes more sense as well if you've used algebraic data types in Haskell or OCaml. The <code>sealed</code> keyword originated in Scala as a way to encode ADTs, and they're exactly what I just described: a type defined as the (tagged) union of a finite number of possible collections of data. And in Haskell and OCaml, it's entirely normal to discriminate on ADTs as well using <code>match</code> (or <code>case</code>) expressions.</p>\n"}],"owner":{"account_id":16243302,"reputation":98,"user_id":11729079,"display_name":"bakarJc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75272899,"answer_count":1,"score":6,"last_activity_date":1674972088,"creation_date":1674966093,"question_id":75272580,"body_markdown":"Java 17 has introduced sealed classes which can permit only specific classes to extend them and would otherwise be final\r\n\r\nI understand the technical use-case, but can&#39;t think of any real life use cases where this would be useful?\r\n\r\nWhen would we want only specific classes to be able to extend a particular class?\r\n\r\nIn our own projects, if we want a new class to extend the sealed class can&#39;t we just add it to the permitted classes? Wouldn&#39;t it be better to just not make the class final or sealed in that case to avoid the slight overhead?\r\n\r\nOn the other hand, while exposing a library for external use how would a sealed class know beforehand which classes it should permit for extension?","title":"Java 17 Sealed Classes Business Use Case","body":"<p>Java 17 has introduced sealed classes which can permit only specific classes to extend them and would otherwise be final</p>\n<p>I understand the technical use-case, but can't think of any real life use cases where this would be useful?</p>\n<p>When would we want only specific classes to be able to extend a particular class?</p>\n<p>In our own projects, if we want a new class to extend the sealed class can't we just add it to the permitted classes? Wouldn't it be better to just not make the class final or sealed in that case to avoid the slight overhead?</p>\n<p>On the other hand, while exposing a library for external use how would a sealed class know beforehand which classes it should permit for extension?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":18064369,"reputation":48565,"user_id":13130697,"display_name":"Dharmaraj"},"score":0,"creation_date":1674970629,"post_id":75270186,"comment_id":132825717,"body_markdown":"`android-studio` tag is used for questions related to the IDE itself. Please use `android` only for app related issues.","body":"<code>android-studio</code> tag is used for questions related to the IDE itself. Please use <code>android</code> only for app related issues."}],"answers":[{"tags":[],"owner":{"account_id":18064369,"reputation":48565,"user_id":13130697,"display_name":"Dharmaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674970599,"creation_date":1674970599,"answer_id":75272821,"question_id":75270186,"body_markdown":"The `booksList.add(bt);` just adds book title in adapter view&#39;s list so `getItemAtPosition()` will return the book title itself and not the document data. One way would be to store the document data in a separate list as shown below:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    FirebaseFirestore db;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        db = FirebaseFirestore.getInstance();\r\n\r\n        Spinner spinner = findViewById(R.id.spinner);\r\n        TextView priceTextView = findViewById(R.id.price);\r\n\r\n        // List to store all document&#39;s data\r\n        List&lt;QueryDocumentSnapshot&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_item, new ArrayList&lt;&gt;());\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n\r\n        CollectionReference colRef = db.collection(&quot;books&quot;);\r\n        colRef.get().addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    adapter.add(document.getString(&quot;Title&quot;));\r\n                    list.add(document); // &lt;-- add document to list\r\n                }\r\n            } else {\r\n                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n            }\r\n            adapter.notifyDataSetChanged();\r\n        });\r\n\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, android.view.View view, int position, long id) {\r\n                // Get book data from the list by position\r\n                QueryDocumentSnapshot book = list.get(position);\r\n                priceTextView.setText(String.valueOf(book.get(&quot;Price&quot;)));\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n                Log.d(TAG, &quot;Nothing selected&quot;);\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"How I show the other field of selected item in document","body":"<p>The <code>booksList.add(bt);</code> just adds book title in adapter view's list so <code>getItemAtPosition()</code> will return the book title itself and not the document data. One way would be to store the document data in a separate list as shown below:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    FirebaseFirestore db;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = FirebaseFirestore.getInstance();\n\n        Spinner spinner = findViewById(R.id.spinner);\n        TextView priceTextView = findViewById(R.id.price);\n\n        // List to store all document's data\n        List&lt;QueryDocumentSnapshot&gt; list = new ArrayList&lt;&gt;();\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_item, new ArrayList&lt;&gt;());\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n\n        CollectionReference colRef = db.collection(&quot;books&quot;);\n        colRef.get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                for (QueryDocumentSnapshot document : task.getResult()) {\n                    adapter.add(document.getString(&quot;Title&quot;));\n                    list.add(document); // &lt;-- add document to list\n                }\n            } else {\n                Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\n            }\n            adapter.notifyDataSetChanged();\n        });\n\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; parent, android.view.View view, int position, long id) {\n                // Get book data from the list by position\n                QueryDocumentSnapshot book = list.get(position);\n                priceTextView.setText(String.valueOf(book.get(&quot;Price&quot;)));\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n                Log.d(TAG, &quot;Nothing selected&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24472300,"reputation":53,"user_id":18391859,"display_name":"fyafee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75272821,"answer_count":1,"score":0,"last_activity_date":1674970604,"creation_date":1674932992,"question_id":75270186,"body_markdown":"I am creating a `spinner` which will show the book title. and want to display the price of the selected book. my Firestore database is as follows:\r\n\r\n   \r\n\r\n     Books (collection)\r\n    |\r\n    |--- book1 (document)\r\n    |    |--- Price : &quot;100&quot;\r\n    |    |--- Title : &quot;Book-1&quot;\r\n    |\r\n    |--- book2\r\n    |    |--- Price : &quot;200&quot;\r\n    |    |--- Title : &quot;Book-2&quot;\r\n\r\nWhen I tried the below codes it displayed the same selected item, Could you please tell me what do I need to add to show the price of the selected book? \r\n\r\n\r\n   \r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n        FirebaseFirestore db;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            TextView priceView = findViewById(R.id.price);\r\n    \r\n            db =  FirebaseFirestore.getInstance();\r\n    \r\n            CollectionReference booksRef = db.collection(&quot;Books&quot;);\r\n            Spinner spinner = (Spinner) findViewById(R.id.spinner);\r\n            List&lt;String&gt; booksList = new ArrayList&lt;&gt;();\r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, booksList);\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n            spinner.setAdapter(adapter);\r\n            booksRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;(){\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        for (QueryDocumentSnapshot document : task.getResult()) {\r\n                            String bt = document.getString(&quot;Title&quot;);\r\n                            booksList.add(bt);\r\n                        }\r\n                        adapter.notifyDataSetChanged();\r\n                    }\r\n                }\r\n            });\r\n            spinner.setOnItemSelectedListener(new OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\r\n                    priceView.setText(&quot;Price:  &quot; + adapterView.getItemIdAtPosition(position).);\r\n                }\r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n                }\r\n                                              }\r\n            );\r\n    \r\n        }","title":"How I show the other field of selected item in document","body":"<p>I am creating a <code>spinner</code> which will show the book title. and want to display the price of the selected book. my Firestore database is as follows:</p>\n<pre><code> Books (collection)\n|\n|--- book1 (document)\n|    |--- Price : &quot;100&quot;\n|    |--- Title : &quot;Book-1&quot;\n|\n|--- book2\n|    |--- Price : &quot;200&quot;\n|    |--- Title : &quot;Book-2&quot;\n</code></pre>\n<p>When I tried the below codes it displayed the same selected item, Could you please tell me what do I need to add to show the price of the selected book?</p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n    FirebaseFirestore db;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView priceView = findViewById(R.id.price);\n\n        db =  FirebaseFirestore.getInstance();\n\n        CollectionReference booksRef = db.collection(&quot;Books&quot;);\n        Spinner spinner = (Spinner) findViewById(R.id.spinner);\n        List&lt;String&gt; booksList = new ArrayList&lt;&gt;();\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, booksList);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n        booksRef.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;(){\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    for (QueryDocumentSnapshot document : task.getResult()) {\n                        String bt = document.getString(&quot;Title&quot;);\n                        booksList.add(bt);\n                    }\n                    adapter.notifyDataSetChanged();\n                }\n            }\n        });\n        spinner.setOnItemSelectedListener(new OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {\n                priceView.setText(&quot;Price:  &quot; + adapterView.getItemIdAtPosition(position).);\n            }\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n                                          }\n        );\n\n    }\n</code></pre>\n"},{"tags":["java","maven","groovy"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1674957363,"post_id":75272136,"comment_id":132824701,"body_markdown":"`/users/123` is not a valid java/groovy code","body":"<code>&#47;users&#47;123</code> is not a valid java/groovy code"},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1674957417,"post_id":75272136,"comment_id":132824706,"body_markdown":"Also `users` is not defined variable.","body":"Also <code>users</code> is not defined variable."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1674973071,"post_id":75272136,"comment_id":132825933,"body_markdown":"The third parameter of `Eval.me()` mus be a legal groovy expression. As for your problem, you may use `expression.replace(&#39;id&#39;, id)`, and the regular expression solutions may be required if the expression is more complex.","body":"The third parameter of <code>Eval.me()</code> mus be a legal groovy expression. As for your problem, you may use <code>expression.replace(&#39;id&#39;, id)</code>, and the regular expression solutions may be required if the expression is more complex."}],"owner":{"account_id":8278787,"reputation":21,"user_id":6224096,"display_name":"ross999"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674970106,"creation_date":1674956980,"question_id":75272136,"body_markdown":"In my Java code, I am trying to invoke the Eval.me Groovy method (using Apache Groovy maven dependency) to evaluate a string expression. But I am getting this exception:\r\n\r\n`groovy.lang.MissingPropertyException: No such property: users for class: Script1`\r\n\r\nI get the error on this line \r\n\r\n`Eval.me(&quot;id&quot;, id, &quot;/users/id&quot;)`\r\n\r\nTrying to evaluate &quot;/users/id&quot; by making the parameter (id) available inside the script\r\n\r\nWhat I am essentialy trying to do is given the value of an id, I want to evaluate the path (/users/id) to retrieve a specific user. \r\n\r\n```\r\npublic String getUser(String id, String expression){\r\nString getUserPath = Eval.me(&quot;id&quot;, id, expression).toString();\r\nreturn getUserPath; \r\n}\r\n```\r\n^ Here expression would be &quot;/users/id&quot;\r\n\r\nEval.me is defined under [groovy.util.Eval](https://docs.groovy-lang.org/latest/html/api/groovy/util/Eval.html#me(java.lang.String,java.lang.Object,java.lang.String))\r\n\r\nI am expecting that the expression gets evaluated to &quot;/users/123&quot; if 123 is the value of the id parameter.\r\n\r\nWhat could I be doing wrong and how can I go about carrying this out?\r\nThanks in advance.","title":"groovy.lang.MissingPropertyException: No such property: users for class: Script1","body":"<p>In my Java code, I am trying to invoke the Eval.me Groovy method (using Apache Groovy maven dependency) to evaluate a string expression. But I am getting this exception:</p>\n<p><code>groovy.lang.MissingPropertyException: No such property: users for class: Script1</code></p>\n<p>I get the error on this line</p>\n<p><code>Eval.me(&quot;id&quot;, id, &quot;/users/id&quot;)</code></p>\n<p>Trying to evaluate &quot;/users/id&quot; by making the parameter (id) available inside the script</p>\n<p>What I am essentialy trying to do is given the value of an id, I want to evaluate the path (/users/id) to retrieve a specific user.</p>\n<pre><code>public String getUser(String id, String expression){\nString getUserPath = Eval.me(&quot;id&quot;, id, expression).toString();\nreturn getUserPath; \n}\n</code></pre>\n<p>^ Here expression would be &quot;/users/id&quot;</p>\n<p>Eval.me is defined under <a href=\"https://docs.groovy-lang.org/latest/html/api/groovy/util/Eval.html#me(java.lang.String,java.lang.Object,java.lang.String)\" rel=\"nofollow noreferrer\">groovy.util.Eval</a></p>\n<p>I am expecting that the expression gets evaluated to &quot;/users/123&quot; if 123 is the value of the id parameter.</p>\n<p>What could I be doing wrong and how can I go about carrying this out?\nThanks in advance.</p>\n"},{"tags":["java","authorization","kerberos","jaas"],"owner":{"account_id":5490266,"reputation":59,"user_id":4363821,"accept_rate":0,"display_name":"Celina yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674969665,"creation_date":1674969665,"question_id":75272764,"body_markdown":"After enabling AES256 our java code doing authorization based on PAC from Kerberos is broken. We use jaaslounge-decode but jaaslonge-decode only supports RC4. I checked doc for Java Authentication and Authorization Service (JAAS) and didn’t find any implementation for authorization based on user groups.will check Waffle later.  Could anybody share what libraries can be used? Thanks ","title":"Authorization using SID from Kerberos in Java","body":"<p>After enabling AES256 our java code doing authorization based on PAC from Kerberos is broken. We use jaaslounge-decode but jaaslonge-decode only supports RC4. I checked doc for Java Authentication and Authorization Service (JAAS) and didn’t find any implementation for authorization based on user groups.will check Waffle later.  Could anybody share what libraries can be used? Thanks</p>\n"},{"tags":["java","session","tomcat","cookies","session-cookies"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674972530,"post_id":75272758,"comment_id":132825882,"body_markdown":"Are you using Spring?","body":"Are you using Spring?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1674973037,"post_id":75272758,"comment_id":132825926,"body_markdown":"If this application doesn’t use the session, how can the session cookie be used to intercept and fetch data?","body":"If this application doesn’t use the session, how can the session cookie be used to intercept and fetch data?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1675014255,"post_id":75272758,"comment_id":132832561,"body_markdown":"Does this answer your question? [Why session is not null after session.invalidate() in JAVA?](https://stackoverflow.com/questions/24677949/why-session-is-not-null-after-session-invalidate-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24677949/why-session-is-not-null-after-session-invalidate-in-java\">Why session is not null after session.invalidate() in JAVA?</a>"},{"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"score":0,"creation_date":1675296974,"post_id":75272758,"comment_id":132901020,"body_markdown":"@Unmitigated Yes using spring","body":"@Unmitigated Yes using spring"},{"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"score":0,"creation_date":1675297108,"post_id":75272758,"comment_id":132901040,"body_markdown":"@Tim Moore Its not using JSESSIONID. It uses an external API to authenticate and return data if session is still valid","body":"@Tim Moore Its not using JSESSIONID. It uses an external API to authenticate and return data if session is still valid"},{"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"score":0,"creation_date":1675297227,"post_id":75272758,"comment_id":132901063,"body_markdown":"Olaf Kock, not exactly, we are not trying to invalidate session here","body":"Olaf Kock, not exactly, we are not trying to invalidate session here"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675304111,"post_id":75272758,"comment_id":132902062,"body_markdown":"@user3494187 the question says “ So, user can still intercept and fetch data using this cookie causing a risk.” If the session isn’t used, there should be no data to fetch.","body":"@user3494187 the question says “ So, user can still intercept and fetch data using this cookie causing a risk.” If the session isn’t used, there should be no data to fetch."},{"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"score":0,"creation_date":1675433715,"post_id":75272758,"comment_id":132933781,"body_markdown":"@TimMoore do you know anyway we can stop sending jsessionid neither in cookie nor in the url in response?","body":"@TimMoore do you know anyway we can stop sending jsessionid neither in cookie nor in the url in response?"}],"owner":{"account_id":4272733,"reputation":1,"user_id":3494187,"display_name":"user3494187"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674969584,"creation_date":1674969584,"question_id":75272758,"body_markdown":"My application uses a different platform to manage authentication. hence we are not using tomcat&#39;s default JSESSIONID cookie for any session management.\r\nI do not see in our code that we call request.getSession() explicitly. \r\nHowever, the response that goes back to browser has JSESSIONID cookie in Response Headers.\r\nBecause of which, when user clicks on logout, the JSESSIONID cookie value is not cleared off as authentication is managed by a different app. So, user can still intercept and fetch data using this cookie causing a risk.\r\n\r\n\r\nPlease help.\r\n\r\nI tried creating a new JSESSIONID cookie and setting maxAge = 0 for that JSESSIONID to overwrite the existing one but did not work. \r\n\r\nI want to either stop the application from generating this cookie or stop sending the value in response headers so its value is not accessible by other users. ","title":"how to clear value of JSESSIONID cookie?","body":"<p>My application uses a different platform to manage authentication. hence we are not using tomcat's default JSESSIONID cookie for any session management.\nI do not see in our code that we call request.getSession() explicitly.\nHowever, the response that goes back to browser has JSESSIONID cookie in Response Headers.\nBecause of which, when user clicks on logout, the JSESSIONID cookie value is not cleared off as authentication is managed by a different app. So, user can still intercept and fetch data using this cookie causing a risk.</p>\n<p>Please help.</p>\n<p>I tried creating a new JSESSIONID cookie and setting maxAge = 0 for that JSESSIONID to overwrite the existing one but did not work.</p>\n<p>I want to either stop the application from generating this cookie or stop sending the value in response headers so its value is not accessible by other users.</p>\n"},{"tags":["java","class","server","constructor","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1674971397,"post_id":75272751,"comment_id":132825777,"body_markdown":"`Servidor` extends from `RummyClient`, so when you create an instance of `Servidor`, it will also run it&#39;s parent constructor - hence two instances.  And, don&#39;t do `while(true) { gui.repaint(); }`.  I can&#39;t even begin to explain what a terribly bad idea this is.  Don&#39;t load images in your paint method, this is going to slow down you paint passes - pre-load your images and switch the them based on the current state. Swing is not thread save, so you should be updating the UI or any state the UI relies on from out side the context of the Event Dispatching Thread","body":"<code>Servidor</code> extends from <code>RummyClient</code>, so when you create an instance of <code>Servidor</code>, it will also run it&#39;s parent constructor - hence two instances.  And, don&#39;t do <code>while(true) { gui.repaint(); }</code>.  I can&#39;t even begin to explain what a terribly bad idea this is.  Don&#39;t load images in your paint method, this is going to slow down you paint passes - pre-load your images and switch the them based on the current state. Swing is not thread save, so you should be updating the UI or any state the UI relies on from out side the context of the Event Dispatching Thread"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674971477,"post_id":75272751,"comment_id":132825784,"body_markdown":"You should start by having a look at [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency) and probably make use of [`SwingWorker`](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"You should start by having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and probably make use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code></a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1674971664,"post_id":75272751,"comment_id":132825805,"body_markdown":"As to how you might go about fixing your core issues - start by separating your workflows.  The &quot;comms&quot; layer should have direct connection to the UI and should instead communicate via an observer pattern (ie listener), this way you isolate it&#39;s responsibility and focus it&#39;s work.  The UI should be a stand alone entity, which makes use of a model, which represents the current state, which the UI should renderer. Again, changes to the model would be communicated to the UI via an observer pattern.  This is a very common workflow - you should do some research into &quot;model-view-controller&quot;","body":"As to how you might go about fixing your core issues - start by separating your workflows.  The &quot;comms&quot; layer should have direct connection to the UI and should instead communicate via an observer pattern (ie listener), this way you isolate it&#39;s responsibility and focus it&#39;s work.  The UI should be a stand alone entity, which makes use of a model, which represents the current state, which the UI should renderer. Again, changes to the model would be communicated to the UI via an observer pattern.  This is a very common workflow - you should do some research into &quot;model-view-controller&quot;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674980969,"post_id":75272751,"comment_id":132826708,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27647048,"reputation":11,"user_id":21102712,"display_name":"user21102712"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674969515,"creation_date":1674969439,"question_id":75272751,"body_markdown":"I am currently working on a test project using windows and servers. I have it working so far (doing what&#39;s supposed to be doing), but the only problem is that the constructor is being called twice, making the code to display two similar windows. Help!\r\nHere is my code:\r\n\r\n(you can ignore the mouse listener parts, I don&#39;t really think that&#39;s the problem).\r\n\r\n\r\n```java\r\npublic class RummyClient implements Runnable{\r\npublic GUI gui = new GUI();\r\npublic static Servidor servidor;\r\n\r\n    public static void main(String[] args) throws UnknownHostException, IOException {\r\n        servidor = new Servidor(25565, &quot;localhost&quot;);\r\n        new Thread(new RummyClient()).start();\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n        while(true) {\r\n            gui.repaint();\r\n        }\r\n    }\r\n    \r\n    public class GUI extends JFrame {\r\n    \r\n        public int clickedX = 0;\r\n        public int clickedY = 0;\r\n    \r\n        public String stage = &quot;&quot;;\r\n    \r\n        public boolean start = false;\r\n    \r\n        public GUI() {\r\n            setTitle(&quot;Rummy&quot;);\r\n            setSize(1280, 720);\r\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n            setVisible(true);\r\n            setResizable(false);\r\n            \r\n            Board board = new Board();\r\n            setContentPane(board);\r\n            getContentPane().setPreferredSize(new Dimension(1280, 720));\r\n    \r\n            Move move = new Move();\r\n            addMouseMotionListener(move);\r\n    \r\n            Click click = new Click();\r\n            addMouseListener(click);\r\n            pack();\r\n    \r\n            stage = &quot;start&quot;;\r\n            System.out.println(&quot;created&quot;);\r\n        }\r\n    \r\n        public class Board extends JPanel {\r\n    \r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                try {\r\n                    Image board = ImageIO.read(new File(&quot;client/src/imgs/board.jpg&quot;)).getScaledInstance(1280, 720, java.awt.Image.SCALE_SMOOTH);\r\n                    g.drawImage(board, 0, 0, this);\r\n                    switch (stage) {\r\n                        case &quot;start&quot;:\r\n                            Image playButtonNP = ImageIO.read(new File(&quot;client/src/imgs/play.png&quot;)).getScaledInstance(406, 220, java.awt.Image.SCALE_SMOOTH);\r\n    \r\n                            Image rummyTitle = ImageIO.read(new File(&quot;client/src/imgs/rummy.png&quot;)).getScaledInstance(526, 340, java.awt.Image.SCALE_SMOOTH);\r\n                            g.drawImage(rummyTitle, 376, 0, this);\r\n                            if (start){\r\n                                g.drawImage(playButtonNP, 448, 360, this);\r\n                            }\r\n                        break;\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;error!&quot;);\r\n                }\r\n            }\r\n            \r\n        }\r\n    \r\n        public class Move implements MouseMotionListener {\r\n    \r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void mouseMoved(MouseEvent e) {\r\n    \r\n            }\r\n        }\r\n    \r\n        public class Click implements MouseListener{\r\n    \r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                \r\n            }\r\n    \r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                clickedX = e.getX();\r\n                clickedY = e.getY();\r\n            }\r\n    \r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {\r\n                clickedX = 0;\r\n                clickedY = 0;\r\n            }\r\n    \r\n            @Override\r\n            public void mouseEntered(MouseEvent e) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void mouseExited(MouseEvent e) {\r\n    \r\n            }\r\n        }\r\n    \r\n        public void start() {\r\n            this.start = true;\r\n        }\r\n    }\r\n    \r\n    static class Servidor extends RummyClient{\r\n        Socket s;\r\n        PrintWriter out;\r\n        Scanner in;\r\n    \r\n        public Servidor(int port, String ip) throws UnknownHostException, IOException {\r\n            this.s = new Socket(ip, port);\r\n            this.out = new PrintWriter(s.getOutputStream());\r\n            this.in = new Scanner(s.getInputStream());\r\n            Thread input = new Thread(new Input());\r\n            input.start();\r\n        }\r\n    \r\n        public void send(String text) {\r\n            out.println(text);\r\n            out.flush();\r\n        }\r\n    \r\n        class Input implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                while(true) {\r\n                    String incoming = in.nextLine();\r\n                    switch (incoming) {\r\n                        case &quot;ready&quot;:\r\n                            gui.start();\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"The constructor &quot;public GUI()&quot; is called twice, causing two similar windows to open","body":"<p>I am currently working on a test project using windows and servers. I have it working so far (doing what's supposed to be doing), but the only problem is that the constructor is being called twice, making the code to display two similar windows. Help!\nHere is my code:</p>\n<p>(you can ignore the mouse listener parts, I don't really think that's the problem).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RummyClient implements Runnable{\npublic GUI gui = new GUI();\npublic static Servidor servidor;\n\n    public static void main(String[] args) throws UnknownHostException, IOException {\n        servidor = new Servidor(25565, &quot;localhost&quot;);\n        new Thread(new RummyClient()).start();\n    }\n    \n    @Override\n    public void run() {\n        while(true) {\n            gui.repaint();\n        }\n    }\n    \n    public class GUI extends JFrame {\n    \n        public int clickedX = 0;\n        public int clickedY = 0;\n    \n        public String stage = &quot;&quot;;\n    \n        public boolean start = false;\n    \n        public GUI() {\n            setTitle(&quot;Rummy&quot;);\n            setSize(1280, 720);\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\n            setVisible(true);\n            setResizable(false);\n            \n            Board board = new Board();\n            setContentPane(board);\n            getContentPane().setPreferredSize(new Dimension(1280, 720));\n    \n            Move move = new Move();\n            addMouseMotionListener(move);\n    \n            Click click = new Click();\n            addMouseListener(click);\n            pack();\n    \n            stage = &quot;start&quot;;\n            System.out.println(&quot;created&quot;);\n        }\n    \n        public class Board extends JPanel {\n    \n            @Override\n            public void paintComponent(Graphics g) {\n                super.paintComponent(g);\n                try {\n                    Image board = ImageIO.read(new File(&quot;client/src/imgs/board.jpg&quot;)).getScaledInstance(1280, 720, java.awt.Image.SCALE_SMOOTH);\n                    g.drawImage(board, 0, 0, this);\n                    switch (stage) {\n                        case &quot;start&quot;:\n                            Image playButtonNP = ImageIO.read(new File(&quot;client/src/imgs/play.png&quot;)).getScaledInstance(406, 220, java.awt.Image.SCALE_SMOOTH);\n    \n                            Image rummyTitle = ImageIO.read(new File(&quot;client/src/imgs/rummy.png&quot;)).getScaledInstance(526, 340, java.awt.Image.SCALE_SMOOTH);\n                            g.drawImage(rummyTitle, 376, 0, this);\n                            if (start){\n                                g.drawImage(playButtonNP, 448, 360, this);\n                            }\n                        break;\n                    }\n                } catch (Exception e) {\n                    System.out.println(&quot;error!&quot;);\n                }\n            }\n            \n        }\n    \n        public class Move implements MouseMotionListener {\n    \n            @Override\n            public void mouseDragged(MouseEvent e) {\n    \n            }\n    \n            @Override\n            public void mouseMoved(MouseEvent e) {\n    \n            }\n        }\n    \n        public class Click implements MouseListener{\n    \n            @Override\n            public void mouseClicked(MouseEvent e) {\n                \n            }\n    \n            @Override\n            public void mousePressed(MouseEvent e) {\n                clickedX = e.getX();\n                clickedY = e.getY();\n            }\n    \n            @Override\n            public void mouseReleased(MouseEvent e) {\n                clickedX = 0;\n                clickedY = 0;\n            }\n    \n            @Override\n            public void mouseEntered(MouseEvent e) {\n    \n            }\n    \n            @Override\n            public void mouseExited(MouseEvent e) {\n    \n            }\n        }\n    \n        public void start() {\n            this.start = true;\n        }\n    }\n    \n    static class Servidor extends RummyClient{\n        Socket s;\n        PrintWriter out;\n        Scanner in;\n    \n        public Servidor(int port, String ip) throws UnknownHostException, IOException {\n            this.s = new Socket(ip, port);\n            this.out = new PrintWriter(s.getOutputStream());\n            this.in = new Scanner(s.getInputStream());\n            Thread input = new Thread(new Input());\n            input.start();\n        }\n    \n        public void send(String text) {\n            out.println(text);\n            out.flush();\n        }\n    \n        class Input implements Runnable {\n            @Override\n            public void run() {\n                while(true) {\n                    String incoming = in.nextLine();\n                    switch (incoming) {\n                        case &quot;ready&quot;:\n                            gui.start();\n                            break;\n                    }\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","authentication","http","web","basic-authentication"],"owner":{"account_id":173018,"reputation":2857,"user_id":401441,"accept_rate":60,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674968157,"creation_date":1673146438,"question_id":75045215,"body_markdown":"What I want is: I have two B/S systems,let&#39;s say A: demo.a.com, B: sample.b.com,  I need to when log in A system, at the same time log in B system (**The two systems have same user account and password**). So I can click a link from web page in A and seamlessly redirect to B, without login again.  \r\n\r\nI know SSO can achieve this,but it&#39;s too heavy for me. The B system is using **http basic** authentication. I think there should be a lightweight method.\r\n\r\nI used the spring boot to test, but failed\r\n\r\n   \r\n\r\n     @GetMapping(&quot;/gob&quot;)\r\n    \tpublic void redirectWC(HttpServletRequest request, HttpServletResponse response) {\r\n    \t\t//return &quot;redirect:&quot;+siteBurl;\r\n    \t\ttry {\r\n    \t\t\tString authString = &quot;user1:pwd&quot;;\r\n                byte[] authEncBytes = Base64Utils.encode(authString.getBytes());\r\n                String authStringEnc = new String(authEncBytes);\r\n    \t\t\tresponse.setHeader(&quot;Authorization&quot;, &quot;Basic &quot;+authStringEnc);\r\n    //\t\t\tresponse.sendRedirect(&quot;&quot;);\r\n    //\t\t\tresponse.setStatus(response.SC_MOVED_PERMANENTLY);\r\n    \t\t\tresponse.setHeader(&quot;Location&quot;, siteBurl);\r\n    \t\t\tRequestDispatcher dispatcher  = request.getRequestDispatcher(siteBurl);\r\n    \t\t\tdispatcher.forward(request, response);\r\n    \t\t} catch (ServletException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\nPlease help, thanks in advance.\r\n","title":"How can I log in to two different systems at the same time in the browser without implementing regular SSO？","body":"<p>What I want is: I have two B/S systems,let's say A: demo.a.com, B: sample.b.com,  I need to when log in A system, at the same time log in B system (<strong>The two systems have same user account and password</strong>). So I can click a link from web page in A and seamlessly redirect to B, without login again.</p>\n<p>I know SSO can achieve this,but it's too heavy for me. The B system is using <strong>http basic</strong> authentication. I think there should be a lightweight method.</p>\n<p>I used the spring boot to test, but failed</p>\n<pre><code> @GetMapping(&quot;/gob&quot;)\n    public void redirectWC(HttpServletRequest request, HttpServletResponse response) {\n        //return &quot;redirect:&quot;+siteBurl;\n        try {\n            String authString = &quot;user1:pwd&quot;;\n            byte[] authEncBytes = Base64Utils.encode(authString.getBytes());\n            String authStringEnc = new String(authEncBytes);\n            response.setHeader(&quot;Authorization&quot;, &quot;Basic &quot;+authStringEnc);\n//          response.sendRedirect(&quot;&quot;);\n//          response.setStatus(response.SC_MOVED_PERMANENTLY);\n            response.setHeader(&quot;Location&quot;, siteBurl);\n            RequestDispatcher dispatcher  = request.getRequestDispatcher(siteBurl);\n            dispatcher.forward(request, response);\n        } catch (ServletException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Please help, thanks in advance.</p>\n"},{"tags":["java","spring-boot","rest","amazon-s3","spring-cloud"],"comments":[{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1609912543,"post_id":60808987,"comment_id":115966780,"body_markdown":"Did you find the solution for this issue?","body":"Did you find the solution for this issue?"},{"owner":{"account_id":10100092,"reputation":166,"user_id":7464200,"display_name":"danyPasillas"},"score":0,"creation_date":1614874855,"post_id":60808987,"comment_id":117524760,"body_markdown":"The first error message &quot;There is more than one bean of &#39;ResourceLoader&#39; type&quot; could be caused because you are using either xml amazonS3Client bean, and Spring web AmazonS3Client bean as well.  There is a conflict between the beans, use only one or define the proper one with @Qualifier.","body":"The first error message &quot;There is more than one bean of &#39;ResourceLoader&#39; type&quot; could be caused because you are using either xml amazonS3Client bean, and Spring web AmazonS3Client bean as well.  There is a conflict between the beans, use only one or define the proper one with @Qualifier."},{"owner":{"account_id":6882432,"reputation":94,"user_id":5288738,"accept_rate":0,"display_name":"Ashish Awasthi"},"score":0,"creation_date":1661111643,"post_id":60808987,"comment_id":129688597,"body_markdown":"Did you find the solution for the 2nd exception as I am getting that exception but s3 file exist as s://mybucket/directory/myfile.csv","body":"Did you find the solution for the 2nd exception as I am getting that exception but s3 file exist as s://mybucket/directory/myfile.csv"}],"owner":{"account_id":896972,"reputation":1153,"user_id":934005,"accept_rate":0,"display_name":"samme4life"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2031,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1674966250,"creation_date":1584946029,"question_id":60808987,"body_markdown":"I am writing a Spring Batch Application which needs to read a file from an AWS S3 bucket.\r\n\r\nThis is my AWS Config Java Class,\r\n\r\n    @Configuration\r\n    public class AWSConfig{\r\n    \r\n        @Value(&quot;${cloud.aws.credentials.accessKey}&quot;)\r\n        private String accessKey;\r\n    \r\n        @Value(&quot;${cloud.aws.credentials.secretKey}&quot;)\r\n        private String secretKey;\r\n    \r\n        @Value(&quot;${cloud.aws.region}&quot;)\r\n        private String region;\r\n    \r\n        @Bean\r\n        public BasicAWSCredentials basicAWSCredentials() {\r\n            return new BasicAWSCredentials(accessKey, secretKey);\r\n        }\r\n    \r\n        @Bean\r\n        public AmazonS3Client amazonS3Client(AWSCredentials awsCredentials) {\r\n            AmazonS3Client amazonS3Client = (AmazonS3Client) AmazonS3ClientBuilder.standard()\r\n                    .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\r\n                    .withRegion(region)\r\n                    .build();\r\n            return amazonS3Client;\r\n        }\r\n    \r\n    }\r\n\r\nThis is my aws-context.xml(located in the resources/) file which is to modifiy the default ResourceLoader,\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:aws-context=&quot;http://www.springframework.org/schema/cloud/aws/context&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/cloud/aws/context\r\n            http://www.springframework.org/schema/cloud/aws/context/spring-cloud-aws-context.xsd&quot;&gt;\r\n    \r\n        &lt;aws-context:context-resource-loader amazon-s3=&quot;amazonS3Client&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\nThis is my SpringBatchConfig.java class,\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class SpringBatchConfig {\r\n    \r\n        @Autowired\r\n        private ResourceLoader resourceLoader;\r\n    \r\n        @Bean\r\n        public Job job(JobBuilderFactory jobBuilderFactory,\r\n                       StepBuilderFactory stepBuilderFactory,\r\n                       ItemReader&lt;User&gt; itemReader,\r\n                       ItemProcessor&lt;User, User&gt; itemProcessor,\r\n                       ItemWriter&lt;User&gt; itemWriter\r\n        ) {\r\n    \r\n            Step step = stepBuilderFactory.get(&quot;ETL-file-load&quot;)\r\n                    .&lt;User, User&gt;chunk(100)\r\n                    .reader(itemReader)\r\n                    .processor(itemProcessor)\r\n                    .writer(itemWriter)\r\n                    .build();\r\n    \r\n    \r\n            return jobBuilderFactory.get(&quot;ETL-Load&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .start(step)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public FlatFileItemReader&lt;User&gt; itemReader() throws IOException {\r\n    \r\n            FlatFileItemReader&lt;User&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\r\n            flatFileItemReader.setResource(resourceLoader.getResource(&quot;s3://&quot; + &quot;&lt;bucket-name&gt;&quot; + &quot;/&quot; + &quot;&lt;key&gt;&quot;));\r\n            flatFileItemReader.setName(&quot;CSV-Reader&quot;);\r\n            flatFileItemReader.setLinesToSkip(1);\r\n            flatFileItemReader.setLineMapper(lineMapper());\r\n            return flatFileItemReader;\r\n        }\r\n    \r\n        @Bean\r\n        public LineMapper&lt;User&gt; lineMapper() {\r\n    \r\n            DefaultLineMapper&lt;User&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();\r\n            DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\r\n    \r\n            lineTokenizer.setDelimiter(&quot;,&quot;);\r\n            lineTokenizer.setStrict(false);\r\n            lineTokenizer.setNames(new String[]{&quot;id&quot;, &quot;name&quot;, &quot;dept&quot;, &quot;salary&quot;});\r\n    \r\n            BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n            fieldSetMapper.setTargetType(User.class);\r\n    \r\n            defaultLineMapper.setLineTokenizer(lineTokenizer);\r\n            defaultLineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \r\n            return defaultLineMapper;\r\n        }\r\n    \r\n    }\r\n\r\nI have followed the answer given by @mtoutcalt in this StackOverflow thread to configure this,\r\nhttps://stackoverflow.com/questions/30832041/spring-batch-read-files-from-aws-s3\r\n\r\nAnd also this documentation: https://cloud.spring.io/spring-cloud-aws/spring-cloud-aws.html#_resource_handling\r\n\r\nIssues I face,\r\n\r\n 1) In the SpringBatchConfig.java it when try to autowire ResourceLoader it says (I&#39;m using IntelliJIdea),\r\n\r\n    Could not autowire. There is more than one bean of &#39;ResourceLoader&#39; type.\r\n    Beans:\r\n     &#160;&#160; (aws-config.xml) webApplicationContext&#160;&#160; (Spring Web) \r\n\r\n2) When I run the Batch Application it says,\r\n\r\n    Caused by: java.lang.IllegalStateException: Input resource must exist (reader is in &#39;strict&#39; mode): ServletContext resource [/s3://&lt;bucket-name&gt;/&lt;key&gt;]\r\n\r\nCan someone please help with fixing this?\r\n\r\nRegards\r\n","title":"Spring Batch - Read a file from AWS S3 to Process","body":"<p>I am writing a Spring Batch Application which needs to read a file from an AWS S3 bucket.</p>\n\n<p>This is my AWS Config Java Class,</p>\n\n<pre><code>@Configuration\npublic class AWSConfig{\n\n    @Value(\"${cloud.aws.credentials.accessKey}\")\n    private String accessKey;\n\n    @Value(\"${cloud.aws.credentials.secretKey}\")\n    private String secretKey;\n\n    @Value(\"${cloud.aws.region}\")\n    private String region;\n\n    @Bean\n    public BasicAWSCredentials basicAWSCredentials() {\n        return new BasicAWSCredentials(accessKey, secretKey);\n    }\n\n    @Bean\n    public AmazonS3Client amazonS3Client(AWSCredentials awsCredentials) {\n        AmazonS3Client amazonS3Client = (AmazonS3Client) AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\n                .withRegion(region)\n                .build();\n        return amazonS3Client;\n    }\n\n}\n</code></pre>\n\n<p>This is my aws-context.xml(located in the resources/) file which is to modifiy the default ResourceLoader,</p>\n\n<pre><code>&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:aws-context=\"http://www.springframework.org/schema/cloud/aws/context\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/cloud/aws/context\n        http://www.springframework.org/schema/cloud/aws/context/spring-cloud-aws-context.xsd\"&gt;\n\n    &lt;aws-context:context-resource-loader amazon-s3=\"amazonS3Client\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>This is my SpringBatchConfig.java class,</p>\n\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class SpringBatchConfig {\n\n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    @Bean\n    public Job job(JobBuilderFactory jobBuilderFactory,\n                   StepBuilderFactory stepBuilderFactory,\n                   ItemReader&lt;User&gt; itemReader,\n                   ItemProcessor&lt;User, User&gt; itemProcessor,\n                   ItemWriter&lt;User&gt; itemWriter\n    ) {\n\n        Step step = stepBuilderFactory.get(\"ETL-file-load\")\n                .&lt;User, User&gt;chunk(100)\n                .reader(itemReader)\n                .processor(itemProcessor)\n                .writer(itemWriter)\n                .build();\n\n\n        return jobBuilderFactory.get(\"ETL-Load\")\n                .incrementer(new RunIdIncrementer())\n                .start(step)\n                .build();\n    }\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; itemReader() throws IOException {\n\n        FlatFileItemReader&lt;User&gt; flatFileItemReader = new FlatFileItemReader&lt;&gt;();\n        flatFileItemReader.setResource(resourceLoader.getResource(\"s3://\" + \"&lt;bucket-name&gt;\" + \"/\" + \"&lt;key&gt;\"));\n        flatFileItemReader.setName(\"CSV-Reader\");\n        flatFileItemReader.setLinesToSkip(1);\n        flatFileItemReader.setLineMapper(lineMapper());\n        return flatFileItemReader;\n    }\n\n    @Bean\n    public LineMapper&lt;User&gt; lineMapper() {\n\n        DefaultLineMapper&lt;User&gt; defaultLineMapper = new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer lineTokenizer = new DelimitedLineTokenizer();\n\n        lineTokenizer.setDelimiter(\",\");\n        lineTokenizer.setStrict(false);\n        lineTokenizer.setNames(new String[]{\"id\", \"name\", \"dept\", \"salary\"});\n\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n\n        defaultLineMapper.setLineTokenizer(lineTokenizer);\n        defaultLineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return defaultLineMapper;\n    }\n\n}\n</code></pre>\n\n<p>I have followed the answer given by @mtoutcalt in this StackOverflow thread to configure this,\n<a href=\"https://stackoverflow.com/questions/30832041/spring-batch-read-files-from-aws-s3\">Spring Batch - Read files from Aws S3</a></p>\n\n<p>And also this documentation: <a href=\"https://cloud.spring.io/spring-cloud-aws/spring-cloud-aws.html#_resource_handling\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-aws/spring-cloud-aws.html#_resource_handling</a></p>\n\n<p>Issues I face,</p>\n\n<p>1) In the SpringBatchConfig.java it when try to autowire ResourceLoader it says (I'm using IntelliJIdea),</p>\n\n<pre><code>Could not autowire. There is more than one bean of 'ResourceLoader' type.\nBeans:\n    (aws-config.xml) webApplicationContext   (Spring Web) \n</code></pre>\n\n<p>2) When I run the Batch Application it says,</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: Input resource must exist (reader is in 'strict' mode): ServletContext resource [/s3://&lt;bucket-name&gt;/&lt;key&gt;]\n</code></pre>\n\n<p>Can someone please help with fixing this?</p>\n\n<p>Regards</p>\n"},{"tags":["java","multithreading","project-loom"],"answers":[{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674965653,"creation_date":1674965653,"answer_id":75272562,"question_id":75272197,"body_markdown":"Your understanding is wrong. Quoting [JEP 425][1],\r\n\r\n&gt; A virtual thread can be scheduled on different carriers over the course of its lifetime\r\n\r\nHowever, it doesn&#39;t matter if a virtual thread gets scheduled on a new carrier. The Java Memory Model&#39;s guarantees are based on Java threads, not OS threads. Code running in a single virtual thread is running in a single thread as far as any synchronization requirements are concerned, regardless of how many carrier threads the virtual thread is scheduled on over its lifetime.\r\n\r\nYou will not have to mark anything `volatile` with virtual threads that you would not have had to mark `volatile` with platform threads.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/425","title":"Does a virtual thread wake up in the same carrier thread on which it was blocked?","body":"<p>Your understanding is wrong. Quoting <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">JEP 425</a>,</p>\n<blockquote>\n<p>A virtual thread can be scheduled on different carriers over the course of its lifetime</p>\n</blockquote>\n<p>However, it doesn't matter if a virtual thread gets scheduled on a new carrier. The Java Memory Model's guarantees are based on Java threads, not OS threads. Code running in a single virtual thread is running in a single thread as far as any synchronization requirements are concerned, regardless of how many carrier threads the virtual thread is scheduled on over its lifetime.</p>\n<p>You will not have to mark anything <code>volatile</code> with virtual threads that you would not have had to mark <code>volatile</code> with platform threads.</p>\n"}],"owner":{"account_id":1077174,"reputation":8775,"user_id":1075051,"accept_rate":75,"display_name":"Sanjay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75272562,"answer_count":1,"score":2,"last_activity_date":1674965653,"creation_date":1674958068,"question_id":75272197,"body_markdown":"Is my understanding correct that a virtual thread runs on the same carrier thread throughout its lifetime? If not, then I&#39;m wondering if we&#39;d need to have our instance variables as `volatile` to have the correct value after a virtual threads blocks in one carrier thread and wakes up in another. For example, see the code snippet below:\r\n```java\r\npublic class VirtualThreadDemo {\r\n\r\n    private int disabledUserCount;\r\n\r\n    void countDisabledUsers() {\r\n\r\n        while (moreUsers()) {\r\n            User user = getNextUserFromDb(); // virtual thread blocks for IO\r\n            if (user.isDisabled())\r\n                disabledUserCount++; // always happens in same carrier thread?\r\n        }\r\n        System.out.println(disabledUserCount);\r\n    }\r\n}\r\n```\r\nWe don&#39;t have to declare `disabledUserCount` as volatile (because the carrier thread is gauranteed to remain same). Correct?\r\n\r\nIf not, what if it were a local variable?\r\n","title":"Does a virtual thread wake up in the same carrier thread on which it was blocked?","body":"<p>Is my understanding correct that a virtual thread runs on the same carrier thread throughout its lifetime? If not, then I'm wondering if we'd need to have our instance variables as <code>volatile</code> to have the correct value after a virtual threads blocks in one carrier thread and wakes up in another. For example, see the code snippet below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class VirtualThreadDemo {\n\n    private int disabledUserCount;\n\n    void countDisabledUsers() {\n\n        while (moreUsers()) {\n            User user = getNextUserFromDb(); // virtual thread blocks for IO\n            if (user.isDisabled())\n                disabledUserCount++; // always happens in same carrier thread?\n        }\n        System.out.println(disabledUserCount);\n    }\n}\n</code></pre>\n<p>We don't have to declare <code>disabledUserCount</code> as volatile (because the carrier thread is gauranteed to remain same). Correct?</p>\n<p>If not, what if it were a local variable?</p>\n"},{"tags":["java","database","oracle"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1674992188,"post_id":75272485,"comment_id":132828440,"body_markdown":"What mechanism are you using to perform the sync between databases? The sync would need to know in which order the updates happened across all databases, and only replicate them once, in order. You can&#39;t just replicate all transactions in both directions. This can rapidly become *very* complicated, especially if you have multiple tables with foreign key relationships, triggers, and other object types in play. Oracle has specific tools to do this, like GoldenGate, and I would not advise trying to build your own solution.","body":"What mechanism are you using to perform the sync between databases? The sync would need to know in which order the updates happened across all databases, and only replicate them once, in order. You can&#39;t just replicate all transactions in both directions. This can rapidly become <i>very</i> complicated, especially if you have multiple tables with foreign key relationships, triggers, and other object types in play. Oracle has specific tools to do this, like GoldenGate, and I would not advise trying to build your own solution."}],"owner":{"account_id":22581578,"reputation":1,"user_id":16766150,"display_name":"loveaeen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674964040,"creation_date":1674964040,"question_id":75272485,"body_markdown":"**question 1: concurrent update**\r\n\r\nI have database A and B, initially they have same column value `age = 0`,later two user modify age in two database at the same time, such as database A change `age = 1`, database B change `age = 2`,\r\nwhen database start sync, maybe dabatase B becomes `age = 1` and A becomes `age2`.\r\n\r\n**question 2: bidirectional sync**\r\n\r\nafter database A changes happened, B receive its changes and execute. Then the changes send to A again. infinite loop.\r\n\r\nhow to solve these problem?\r\n\r\nplease give me some advices","title":"How to handle the concurrent update and bidirectional sync of multi-master database?","body":"<p><strong>question 1: concurrent update</strong></p>\n<p>I have database A and B, initially they have same column value <code>age = 0</code>,later two user modify age in two database at the same time, such as database A change <code>age = 1</code>, database B change <code>age = 2</code>,\nwhen database start sync, maybe dabatase B becomes <code>age = 1</code> and A becomes <code>age2</code>.</p>\n<p><strong>question 2: bidirectional sync</strong></p>\n<p>after database A changes happened, B receive its changes and execute. Then the changes send to A again. infinite loop.</p>\n<p>how to solve these problem?</p>\n<p>please give me some advices</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs","guice","aws-credentials"],"comments":[{"owner":{"account_id":14170256,"reputation":173,"user_id":10237028,"display_name":"bravinator932421"},"score":0,"creation_date":1675798434,"post_id":75272477,"comment_id":133005202,"body_markdown":"Not sure but commenting because I have the same problem due to an SSM automation that takes ~14 hours to complete.","body":"Not sure but commenting because I have the same problem due to an SSM automation that takes ~14 hours to complete."}],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674963909,"creation_date":1674963909,"question_id":75272477,"body_markdown":"I am connecting to SQS through my Java code, and the connection is required to be alive for more than 60 minutes, as I keep polling a queue for a long time. However the credentials I use seem to expire. How can I keep the credentials alive?\r\n\r\nBelow is how I create the credentials provider:\r\n\r\n    @Provides\r\n        public AwsCredentialsProvider getSTSCredentialProvider() {\r\n            final String credentialsPath = System.getenv(&quot;CREDENTIAL_PATH&quot;);\r\n    \r\n            final AwsCredentialsProvider credentialsProvider = ProfileCredentialsProvider.builder().profileFile(\r\n                    ProfileFile.builder().content(Paths.get(credentialsPath)).type(ProfileFile.Type.CREDENTIALS).build()\r\n            ).profileName(&quot;default&quot;).build();\r\n    \r\n            return credentialsProvider;\r\n        }\r\n\r\nBelow is how I create the SQS client:\r\n\r\n    @Provides\r\n        @Singleton\r\n        public SqsClient provideSqsClient(AwsCredentialsProvider awsCredentialsProvider) {\r\n            return SqsClient.builder().credentialsProvider(awsCredentialsProvider)\r\n                    .region(REGION).build();\r\n        }\r\n\r\nHow can I allow the SQS client to refresh the credentials? Appreciate any help/guidance.","title":"The security token included in the request is expired when using ProfileCredentialsProvider","body":"<p>I am connecting to SQS through my Java code, and the connection is required to be alive for more than 60 minutes, as I keep polling a queue for a long time. However the credentials I use seem to expire. How can I keep the credentials alive?</p>\n<p>Below is how I create the credentials provider:</p>\n<pre><code>@Provides\n    public AwsCredentialsProvider getSTSCredentialProvider() {\n        final String credentialsPath = System.getenv(&quot;CREDENTIAL_PATH&quot;);\n\n        final AwsCredentialsProvider credentialsProvider = ProfileCredentialsProvider.builder().profileFile(\n                ProfileFile.builder().content(Paths.get(credentialsPath)).type(ProfileFile.Type.CREDENTIALS).build()\n        ).profileName(&quot;default&quot;).build();\n\n        return credentialsProvider;\n    }\n</code></pre>\n<p>Below is how I create the SQS client:</p>\n<pre><code>@Provides\n    @Singleton\n    public SqsClient provideSqsClient(AwsCredentialsProvider awsCredentialsProvider) {\n        return SqsClient.builder().credentialsProvider(awsCredentialsProvider)\n                .region(REGION).build();\n    }\n</code></pre>\n<p>How can I allow the SQS client to refresh the credentials? Appreciate any help/guidance.</p>\n"},{"tags":["java","json","types","json-simple"],"comments":[{"owner":{"account_id":1662511,"reputation":14161,"user_id":1530508,"accept_rate":100,"display_name":"ApproachingDarknessFish"},"score":0,"creation_date":1367894792,"post_id":16410421,"comment_id":23527925,"body_markdown":"It should be pretty simple to check if the string begins and ends with `[]`. What have you tried?","body":"It should be pretty simple to check if the string begins and ends with <code>[]</code>. What have you tried?"},{"owner":{"account_id":997746,"reputation":7123,"user_id":1013298,"accept_rate":54,"display_name":"Z2VvZ3Vp"},"score":0,"creation_date":1367896888,"post_id":16410421,"comment_id":23528389,"body_markdown":"I can tell if it beings and ends with [] but then the problem is that i get a string &quot;[{\\&quot;param1\\&quot;...},{...}]&quot; that I can&#39;t seem to convert into an array again.","body":"I can tell if it beings and ends with [] but then the problem is that i get a string &quot;[{\\&quot;param1\\&quot;...},{...}]&quot; that I can&#39;t seem to convert into an array again."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1674962622,"creation_date":1367896931,"answer_id":16410684,"question_id":16410421,"body_markdown":"Simple Java:\r\n\r\n    Object obj = new JSONParser().parse(result); \r\n    if (obj instanceof JSONObject) {\r\n        JSONObject jo = (JSONObject) obj;\r\n    } else {\r\n        JSONArray ja = (JSONArray) obj;\r\n    }\r\n\r\nYou could also test if the (purported) JSON starts with a `[` or a `{` if you wanted to avoid the overhead of parsing the wrong kind of JSON.  But be careful with leading whitespace.\r\n\r\n-----------------\r\n\r\nFor what it is worth, an API that returns either a JSON object or an array of JSON objects depending on the result set size is ... badly designed.  It would be better to *always* return a JSON array; e.g. an array containing zero, one or many objects.  That avoids the client-side messiness we are having to deal with in this question.","title":"How to tell if return is JSONObject or JSONArray with JSON-simple (Java)?","body":"<p>Simple Java:</p>\n<pre><code>Object obj = new JSONParser().parse(result); \nif (obj instanceof JSONObject) {\n    JSONObject jo = (JSONObject) obj;\n} else {\n    JSONArray ja = (JSONArray) obj;\n}\n</code></pre>\n<p>You could also test if the (purported) JSON starts with a <code>[</code> or a <code>{</code> if you wanted to avoid the overhead of parsing the wrong kind of JSON.  But be careful with leading whitespace.</p>\n<hr />\n<p>For what it is worth, an API that returns either a JSON object or an array of JSON objects depending on the result set size is ... badly designed.  It would be better to <em>always</em> return a JSON array; e.g. an array containing zero, one or many objects.  That avoids the client-side messiness we are having to deal with in this question.</p>\n"},{"tags":[],"owner":{"account_id":4005907,"reputation":73,"user_id":3300555,"display_name":"Saurabh Mittal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547023361,"creation_date":1547023361,"answer_id":54106108,"question_id":16410421,"body_markdown":"Though it&#39;s similar to above one, but their is not default constructor of JSONParser. Error coming was: The constructor JSONParser() is undefined\r\n\r\nUse this instead\r\n\r\n    JsonElement jsonElement = new JsonParser().parse(jsonString);\r\n    if (jsonElement.isJsonArray()) {\r\n        //Your Code\r\n    } else {\r\n        //Your Code\r\n    }","title":"How to tell if return is JSONObject or JSONArray with JSON-simple (Java)?","body":"<p>Though it's similar to above one, but their is not default constructor of JSONParser. Error coming was: The constructor JSONParser() is undefined</p>\n\n<p>Use this instead</p>\n\n<pre><code>JsonElement jsonElement = new JsonParser().parse(jsonString);\nif (jsonElement.isJsonArray()) {\n    //Your Code\n} else {\n    //Your Code\n}\n</code></pre>\n"}],"owner":{"account_id":997746,"reputation":7123,"user_id":1013298,"accept_rate":54,"display_name":"Z2VvZ3Vp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14739,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":16410684,"answer_count":2,"score":12,"last_activity_date":1674962622,"creation_date":1367894588,"question_id":16410421,"body_markdown":"I am hitting a service and sometimes getting back something like this:\r\n\r\n    { &quot;param1&quot;: &quot;value1&quot;, &quot;param2&quot;: &quot;value2&quot; }\r\n\r\nand sometimes getting return like this:\r\n\r\n    [{ &quot;param1&quot;: &quot;value1&quot;, &quot;param2&quot;: &quot;value2&quot; },{ &quot;param1&quot;: &quot;value1&quot;, &quot;param2&quot;: &quot;value2&quot; }]\r\n\r\nHow do I tell which I&#39;m getting? Both of them evaluate to a String when I do getClass() but if I try to do this:\r\n\r\n    json = (JSONObject) new JSONParser().parse(result); \r\n\r\non the second case I get an exception\r\n\r\n    org.json.simple.JSONArray cannot be cast to org.json.simple.JSONObject\r\n\r\nHow to avoid this? I would just like to know how to check which I&#39;m getting back. (The first case will sometimes have `[]` in it so I can&#39;t do index of and I&#39;d like a cleaner way than just checking the first character.\r\n\r\nThere has got to be some sort of method that checks this?\r\n\r\n","title":"How to tell if return is JSONObject or JSONArray with JSON-simple (Java)?","body":"<p>I am hitting a service and sometimes getting back something like this:</p>\n\n<pre><code>{ \"param1\": \"value1\", \"param2\": \"value2\" }\n</code></pre>\n\n<p>and sometimes getting return like this:</p>\n\n<pre><code>[{ \"param1\": \"value1\", \"param2\": \"value2\" },{ \"param1\": \"value1\", \"param2\": \"value2\" }]\n</code></pre>\n\n<p>How do I tell which I'm getting? Both of them evaluate to a String when I do getClass() but if I try to do this:</p>\n\n<pre><code>json = (JSONObject) new JSONParser().parse(result); \n</code></pre>\n\n<p>on the second case I get an exception</p>\n\n<pre><code>org.json.simple.JSONArray cannot be cast to org.json.simple.JSONObject\n</code></pre>\n\n<p>How to avoid this? I would just like to know how to check which I'm getting back. (The first case will sometimes have <code>[]</code> in it so I can't do index of and I'd like a cleaner way than just checking the first character.</p>\n\n<p>There has got to be some sort of method that checks this?</p>\n"},{"tags":["java","arraylist","objectinputstream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674963125,"post_id":75272405,"comment_id":132825181,"body_markdown":"Looks like `Administrators.dat` doesn&#39;t contain what you expect it to.","body":"Looks like <code>Administrators.dat</code> doesn&#39;t contain what you expect it to."},{"owner":{"account_id":14420242,"reputation":123,"user_id":10416462,"display_name":"Sxc-Dev"},"score":0,"creation_date":1674966337,"post_id":75272405,"comment_id":132825420,"body_markdown":"Answer in link below might solve your issue. Input.readObject is most likely only returning Administrator instead of list of Administrator. https://stackoverflow.com/questions/62843415/reading-objects-from-a-dat-file-using-java","body":"Answer in link below might solve your issue. Input.readObject is most likely only returning Administrator instead of list of Administrator. <a href=\"https://stackoverflow.com/questions/62843415/reading-objects-from-a-dat-file-using-java\" title=\"reading objects from a dat file using java\">stackoverflow.com/questions/62843415/&hellip;</a>"}],"owner":{"account_id":27646604,"reputation":1,"user_id":21102353,"display_name":"Abbs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674962118,"creation_date":1674962118,"question_id":75272405,"body_markdown":"I&#39;m trying to read an ArrayList of objects from a BinaryI/O but I keep getting the error &quot;class java.lang.Boolean cannot be cast to class java.util.ArrayList (java.lang.Boolean and java.util.ArrayList are in module java.base of loader &#39;bootstrap&#39;)&quot;\r\n\r\nThis is the code\r\n\r\n    public void readAdmin(){\r\n         try{\r\n             File file = new File(&quot;Administrators.dat&quot;);\r\n             file.createNewFile();\r\n             ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;Administrators.dat&quot;));\r\n             ArrayList&lt;Administrator&gt; adms = (ArrayList&lt;Administrator&gt;) input.readObject(); \r\n             usercontroller.setAdmins(adms);\r\n\r\n         }\r\n         catch(IOException e){\r\n             System.out.println(&quot;Input of administrator data error.&quot;);\r\n         }\r\n         catch (ClassNotFoundException cn){\r\n             System.out.println(&quot;Administrator class not existent.&quot;);\r\n         }\r\n\r\nThe line &quot;ArrayList&lt;Administrator&gt; adms = (ArrayList&lt;Administrator&gt;) input.readObject();&quot; seems to be the one causing the error when I call the &quot;readAdmin&quot; method in main.\r\n\r\n\r\n\r\nAny ideas on how I can fix this?\r\n","title":"class java.lang.Boolean cannot be cast to class java.util.ArrayList","body":"<p>I'm trying to read an ArrayList of objects from a BinaryI/O but I keep getting the error &quot;class java.lang.Boolean cannot be cast to class java.util.ArrayList (java.lang.Boolean and java.util.ArrayList are in module java.base of loader 'bootstrap')&quot;</p>\n<p>This is the code</p>\n<pre><code>public void readAdmin(){\n     try{\n         File file = new File(&quot;Administrators.dat&quot;);\n         file.createNewFile();\n         ObjectInputStream input = new ObjectInputStream(new FileInputStream(&quot;Administrators.dat&quot;));\n         ArrayList&lt;Administrator&gt; adms = (ArrayList&lt;Administrator&gt;) input.readObject(); \n         usercontroller.setAdmins(adms);\n\n     }\n     catch(IOException e){\n         System.out.println(&quot;Input of administrator data error.&quot;);\n     }\n     catch (ClassNotFoundException cn){\n         System.out.println(&quot;Administrator class not existent.&quot;);\n     }\n</code></pre>\n<p>The line &quot;ArrayList adms = (ArrayList) input.readObject();&quot; seems to be the one causing the error when I call the &quot;readAdmin&quot; method in main.</p>\n<p>Any ideas on how I can fix this?</p>\n"},{"tags":["java","android","nfc"],"owner":{"account_id":27224533,"reputation":5,"user_id":20753230,"display_name":"Student Progg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674962108,"creation_date":1674962108,"question_id":75272402,"body_markdown":"I already achieved to write NFC tag. The problem was the tag needs to stay on device before you click  the &quot;write&quot; button. Heres my code\r\n````public void writeNFC () {\r\n        try {\r\n            if(myTag==null){\r\n                Toast.makeText(this, &quot;TAP YOUR TAG!&quot;, Toast.LENGTH_SHORT ).show();\r\n            }else{\r\n                write(tagData,myTag);\r\n                Toast.makeText(this, &quot;Tag Written!&quot;, Toast.LENGTH_SHORT ).show();\r\n            }\r\n        } catch (IOException e) {\r\n            Toast.makeText(this, &quot;Error Writing!&quot;, Toast.LENGTH_SHORT ).show();\r\n            e.printStackTrace();\r\n        } catch (FormatException e) {\r\n            Toast.makeText(this, &quot;NFC Format Error!&quot;, Toast.LENGTH_SHORT ).show();\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n    private void write(String text, Tag tag) throws IOException, FormatException {\r\n\r\n        NdefRecord[] records = { createRecord(text) };\r\n        NdefMessage message = new NdefMessage(records);\r\n        Ndef ndef = Ndef.get(tag);\r\n        if (ndef != null) {\r\n            ndef.connect();\r\n            ndef.writeNdefMessage(message);\r\n            ndef.close();\r\n        } else {\r\n            NdefFormatable ndefFormatable = NdefFormatable.get(tag);\r\n            if (ndefFormatable != null) {\r\n                ndefFormatable.connect();\r\n                ndefFormatable.format(message);\r\n                ndefFormatable.close();\r\n            } else {\r\n                Toast.makeText(this, &quot;Tag cannot be written!&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n````\r\nAnd the button is this (I used Onclick view)\r\n\r\n````\r\npublic void confirmInput (View v){\r\n        writeNFC();\r\n    }\r\n````\r\nWhat I want is the user will fill up the input, click the button (after the button was clicked, show dialog that states &quot;tap your tag&quot;) and then input will write the tag (close the dialog) \r\n\r\nI think this way it would be more friendly user. Thanks","title":"&quot;Tap your NFC TAG&quot; dialog after button clicked","body":"<p>I already achieved to write NFC tag. The problem was the tag needs to stay on device before you click  the &quot;write&quot; button. Heres my code</p>\n<pre><code>        try {\n            if(myTag==null){\n                Toast.makeText(this, &quot;TAP YOUR TAG!&quot;, Toast.LENGTH_SHORT ).show();\n            }else{\n                write(tagData,myTag);\n                Toast.makeText(this, &quot;Tag Written!&quot;, Toast.LENGTH_SHORT ).show();\n            }\n        } catch (IOException e) {\n            Toast.makeText(this, &quot;Error Writing!&quot;, Toast.LENGTH_SHORT ).show();\n            e.printStackTrace();\n        } catch (FormatException e) {\n            Toast.makeText(this, &quot;NFC Format Error!&quot;, Toast.LENGTH_SHORT ).show();\n            e.printStackTrace();\n        }\n\n    }\n    private void write(String text, Tag tag) throws IOException, FormatException {\n\n        NdefRecord[] records = { createRecord(text) };\n        NdefMessage message = new NdefMessage(records);\n        Ndef ndef = Ndef.get(tag);\n        if (ndef != null) {\n            ndef.connect();\n            ndef.writeNdefMessage(message);\n            ndef.close();\n        } else {\n            NdefFormatable ndefFormatable = NdefFormatable.get(tag);\n            if (ndefFormatable != null) {\n                ndefFormatable.connect();\n                ndefFormatable.format(message);\n                ndefFormatable.close();\n            } else {\n                Toast.makeText(this, &quot;Tag cannot be written!&quot;, Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n</code></pre>\n<p>And the button is this (I used Onclick view)</p>\n<pre><code>public void confirmInput (View v){\n        writeNFC();\n    }\n</code></pre>\n<p>What I want is the user will fill up the input, click the button (after the button was clicked, show dialog that states &quot;tap your tag&quot;) and then input will write the tag (close the dialog)</p>\n<p>I think this way it would be more friendly user. Thanks</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1674904860,"post_id":75267179,"comment_id":132816078,"body_markdown":"It probably just gets overwritten by two theads writing to the same index within the same bucket. But as you already know, nothing is guaranteed, and the way in which it fails depends on the specific implementation you are using...","body":"It probably just gets overwritten by two theads writing to the same index within the same bucket. But as you already know, nothing is guaranteed, and the way in which it fails depends on the specific implementation you are using..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1674912371,"post_id":75267179,"comment_id":132817391,"body_markdown":"Re, &quot;I want to understand how exactly...&quot; Your program allows concurrent updates of the map. The behavior of IdentityHashMap is _undefined_ when you do that. Maybe you coud find out exactly what happens on _your_ computer, running some particular JVM and JRE versions on some particular OS, but that&#39;s no guarantee that the same bad thing would happen in the same way on somebody else&#39;s computer, or even, on your own computer on a different day.","body":"Re, &quot;I want to understand how exactly...&quot; Your program allows concurrent updates of the map. The behavior of IdentityHashMap is <i>undefined</i> when you do that. Maybe you coud find out exactly what happens on <i>your</i> computer, running some particular JVM and JRE versions on some particular OS, but that&#39;s no guarantee that the same bad thing would happen in the same way on somebody else&#39;s computer, or even, on your own computer on a different day."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1674912722,"post_id":75267179,"comment_id":132817451,"body_markdown":"P.S., What is the purpose of your `Key` class? (1) It overrides Object.equals() with a method that does exactly the same thing that Object.equals() does. (2) IdentityHashMap does not ever _call_ the equals method, so why bother? (3) Your equals method and your hashCode method test different objects. (That&#39;s normally a huge red flag, though, In this special case, it doesn&#39;t actually break the contract.) Was your intent to force all of the &quot;random&quot; keys to hash to the same bucket as part of a stress test for the Map?","body":"P.S., What is the purpose of your <code>Key</code> class? (1) It overrides Object.equals() with a method that does exactly the same thing that Object.equals() does. (2) IdentityHashMap does not ever <i>call</i> the equals method, so why bother? (3) Your equals method and your hashCode method test different objects. (That&#39;s normally a huge red flag, though, In this special case, it doesn&#39;t actually break the contract.) Was your intent to force all of the &quot;random&quot; keys to hash to the same bucket as part of a stress test for the Map?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675180580,"post_id":75267179,"comment_id":132870986,"body_markdown":"Seems `IdentityHashMap` [works similar to `HashMap`](https://stackoverflow.com/q/40927934/2711488) in this regard.","body":"Seems <code>IdentityHashMap</code> <a href=\"https://stackoverflow.com/q/40927934/2711488\">works similar to <code>HashMap</code></a> in this regard."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674906537,"creation_date":1674905262,"answer_id":75267287,"question_id":75267179,"body_markdown":"You have two threads working on the same structure with no coordination. Each thread thinks that it&#39;s safe to manipulate the map however it wants and acts accordingly. When two threads are doing that, all bets are off. There is no &quot;expected behaviour&quot;, except that you should expect it to break.\r\n\r\nA map is not just an infinitely big bag of data you can keep stuffing more data into. It needs reorganizing as it grows. An insert is not just setting an null element in some array to have a non-null value. It may result in a complete reorganization of everything in the map.\r\n\r\nIf you have 2 threads trying to do this reorganization at the same time, it seems reasonable that even keys that weren&#39;t presently being inserted on either of those threads could go missing.\r\n\r\nIf you set an explicit default size on the map then I think you&#39;ll see fewer failures. This is **not** a solution - the solution is to use a thread-safe implementation - but this will demonstrate that a sparser Map will do fewer reorganizations, which should reduce the frequency of errors (though not eliminate them).\r\n\r\n```java\r\nfinal Map&lt;Key, Integer&gt; map = new IdentityHashMap&lt;&gt;(1_000);\r\n```","title":"Why is key being deleted by IdentityHashMap","body":"<p>You have two threads working on the same structure with no coordination. Each thread thinks that it's safe to manipulate the map however it wants and acts accordingly. When two threads are doing that, all bets are off. There is no &quot;expected behaviour&quot;, except that you should expect it to break.</p>\n<p>A map is not just an infinitely big bag of data you can keep stuffing more data into. It needs reorganizing as it grows. An insert is not just setting an null element in some array to have a non-null value. It may result in a complete reorganization of everything in the map.</p>\n<p>If you have 2 threads trying to do this reorganization at the same time, it seems reasonable that even keys that weren't presently being inserted on either of those threads could go missing.</p>\n<p>If you set an explicit default size on the map then I think you'll see fewer failures. This is <strong>not</strong> a solution - the solution is to use a thread-safe implementation - but this will demonstrate that a sparser Map will do fewer reorganizations, which should reduce the frequency of errors (though not eliminate them).</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;Key, Integer&gt; map = new IdentityHashMap&lt;&gt;(1_000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674961223,"creation_date":1674961223,"answer_id":75272360,"question_id":75267179,"body_markdown":"This is a snippet of the code from `IdentityHashMap::resize`\r\n\r\n```java\r\n        Object[] oldTable = table;\r\n        ...\r\n        Object[] newTable = new Object[newLength];\r\n        ...\r\n        for (int j = 0; j &lt; oldLength; j += 2) {\r\n            Object key = oldTable[j];\r\n            if (key != null) {\r\n                Object value = oldTable[j+1];\r\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  oldTable[j] = null;\r\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  oldTable[j+1] = null;\r\n                int i = hash(key, newLength);\r\n                while (newTable[i] != null)\r\n                    i = nextKeyIndex(i, newLength);\r\n                newTable[i] = key;\r\n                newTable[i + 1] = value;\r\n            }\r\n        }\r\n        table = newTable;\r\n```\r\n\r\nIt&#39;s setting the values in the old array to be null as it copies to the new array, then assign the new array to be the field.\r\n\r\nAnd you have 5 threads doing this concurrently, so sometimes this happens:\r\n\r\n1. Thread A and B start resizing at the same time, so they see the same reference to `oldTable`. Thread A successfully copies &quot;main&quot; from `oldTable` and nulls out the old value. Thread B is a bit behind therefore can&#39;t see &quot;main&quot; anymore since Thread A has deleted it.\r\n2. Thread A assigns its `newTable` to the field which contains &quot;main&quot;, then thread B assigns its own `newTable` to the field, but because of #1 it doesn&#39;t contain &quot;main&quot;.\r\n3. Now the map contains no &quot;main&quot;.","title":"Why is key being deleted by IdentityHashMap","body":"<p>This is a snippet of the code from <code>IdentityHashMap::resize</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>        Object[] oldTable = table;\n        ...\n        Object[] newTable = new Object[newLength];\n        ...\n        for (int j = 0; j &lt; oldLength; j += 2) {\n            Object key = oldTable[j];\n            if (key != null) {\n                Object value = oldTable[j+1];\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  oldTable[j] = null;\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  oldTable[j+1] = null;\n                int i = hash(key, newLength);\n                while (newTable[i] != null)\n                    i = nextKeyIndex(i, newLength);\n                newTable[i] = key;\n                newTable[i + 1] = value;\n            }\n        }\n        table = newTable;\n</code></pre>\n<p>It's setting the values in the old array to be null as it copies to the new array, then assign the new array to be the field.</p>\n<p>And you have 5 threads doing this concurrently, so sometimes this happens:</p>\n<ol>\n<li>Thread A and B start resizing at the same time, so they see the same reference to <code>oldTable</code>. Thread A successfully copies &quot;main&quot; from <code>oldTable</code> and nulls out the old value. Thread B is a bit behind therefore can't see &quot;main&quot; anymore since Thread A has deleted it.</li>\n<li>Thread A assigns its <code>newTable</code> to the field which contains &quot;main&quot;, then thread B assigns its own <code>newTable</code> to the field, but because of #1 it doesn't contain &quot;main&quot;.</li>\n<li>Now the map contains no &quot;main&quot;.</li>\n</ol>\n"}],"owner":{"account_id":1536289,"reputation":1554,"user_id":1432247,"accept_rate":100,"display_name":"Adwait Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674961223,"creation_date":1674904237,"question_id":75267179,"body_markdown":"I know `IdentityHashMap` is not a thread safe data structure, so the below test failing is not a total surprise. Having said that, my understanding of non-Concurrent and non-synchronized maps being not thread-safe was that there is no *happens before* relation between the put of the value in the map, and the get of the value, so a thread that receives the value from the cache, doesn’t need to see all fields if the value has publication problems.\r\n\r\nHowever I am unable to understand how a Map can loose values even if it not thread safe. See the below reprex,\r\n\r\n\r\n```\r\nimport org.junit.jupiter.api.RepeatedTest;\r\n\r\nimport java.util.IdentityHashMap;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ThreadLocalRandom;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\nclass IdentityHashmapTest {\r\n\r\n    static class Key {\r\n        final String description;\r\n\r\n        Key(String description) {\r\n            this.description = description;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Key{&quot; +\r\n                    &quot;description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return this == o;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(description);\r\n        }\r\n    }\r\n\r\n    @RepeatedTest(100)\r\n    void testConcurrency() throws InterruptedException {\r\n        final Map&lt;Key, Integer&gt; map = new IdentityHashMap&lt;&gt;();\r\n        Key mainKey = new Key(&quot;main&quot;);\r\n        map.put(mainKey, 1);\r\n        ExecutorService executor = Executors.newFixedThreadPool(4);\r\n        assertNotNull(map.get(mainKey));\r\n        for (int i = 0; i &lt;= 5; i++) {\r\n            executor.submit(() -&gt; {\r\n                for (int j = 1; j &lt;= 5; j++) {\r\n                    map.put(new Key(&quot;random&quot;), ThreadLocalRandom.current().nextInt());\r\n                }\r\n            });\r\n        }\r\n        executor.shutdown();\r\n        assertTrue(executor.awaitTermination(30, TimeUnit.SECONDS));\r\n        assertNotNull(map.get(mainKey));\r\n    }\r\n}\r\n```\r\n\r\nI insert `mainKey` even before I am making concurrent updates to the `IdentityHashMap`, but after all the threads have been shutdown I can see the value has disappeared from the map in some cases. Note not all 100 invocations of the `RepeatedTest` fail, but on an average 10-20 invocations fail.\r\n\r\nI suspect that this might be because of re-sizing, because if I initialize the IdentityHashMap with a large `expectedMaxSize` all tests pass. Also I see special handling of resize in the put of IdentityHashMap, so that adds to my suspicion.\r\n\r\nI want to understand how exactly is the value getting *erased* from the IdentityHashMap. I already know the fix of the problem (i.e use a thread safe data structure like `ConcurrentHashMap`, I am interested to understand the *exact root cause* of this inconsistency.","title":"Why is key being deleted by IdentityHashMap","body":"<p>I know <code>IdentityHashMap</code> is not a thread safe data structure, so the below test failing is not a total surprise. Having said that, my understanding of non-Concurrent and non-synchronized maps being not thread-safe was that there is no <em>happens before</em> relation between the put of the value in the map, and the get of the value, so a thread that receives the value from the cache, doesn’t need to see all fields if the value has publication problems.</p>\n<p>However I am unable to understand how a Map can loose values even if it not thread safe. See the below reprex,</p>\n<pre><code>import org.junit.jupiter.api.RepeatedTest;\n\nimport java.util.IdentityHashMap;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ThreadLocalRandom;\nimport java.util.concurrent.TimeUnit;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nclass IdentityHashmapTest {\n\n    static class Key {\n        final String description;\n\n        Key(String description) {\n            this.description = description;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Key{&quot; +\n                    &quot;description='&quot; + description + '\\'' +\n                    '}';\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            return this == o;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(description);\n        }\n    }\n\n    @RepeatedTest(100)\n    void testConcurrency() throws InterruptedException {\n        final Map&lt;Key, Integer&gt; map = new IdentityHashMap&lt;&gt;();\n        Key mainKey = new Key(&quot;main&quot;);\n        map.put(mainKey, 1);\n        ExecutorService executor = Executors.newFixedThreadPool(4);\n        assertNotNull(map.get(mainKey));\n        for (int i = 0; i &lt;= 5; i++) {\n            executor.submit(() -&gt; {\n                for (int j = 1; j &lt;= 5; j++) {\n                    map.put(new Key(&quot;random&quot;), ThreadLocalRandom.current().nextInt());\n                }\n            });\n        }\n        executor.shutdown();\n        assertTrue(executor.awaitTermination(30, TimeUnit.SECONDS));\n        assertNotNull(map.get(mainKey));\n    }\n}\n</code></pre>\n<p>I insert <code>mainKey</code> even before I am making concurrent updates to the <code>IdentityHashMap</code>, but after all the threads have been shutdown I can see the value has disappeared from the map in some cases. Note not all 100 invocations of the <code>RepeatedTest</code> fail, but on an average 10-20 invocations fail.</p>\n<p>I suspect that this might be because of re-sizing, because if I initialize the IdentityHashMap with a large <code>expectedMaxSize</code> all tests pass. Also I see special handling of resize in the put of IdentityHashMap, so that adds to my suspicion.</p>\n<p>I want to understand how exactly is the value getting <em>erased</em> from the IdentityHashMap. I already know the fix of the problem (i.e use a thread safe data structure like <code>ConcurrentHashMap</code>, I am interested to understand the <em>exact root cause</em> of this inconsistency.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":1,"creation_date":1674956283,"post_id":75271588,"comment_id":132824560,"body_markdown":"Are you able to compile the project via Gradle on the command line directly? If so, in IntelliJ&#39;s Gradle tool window, hit that little refresh button and see if that works.","body":"Are you able to compile the project via Gradle on the command line directly? If so, in IntelliJ&#39;s Gradle tool window, hit that little refresh button and see if that works."},{"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1674961720,"post_id":75271588,"comment_id":132825045,"body_markdown":"the intellij gradle tool disappeared after I clicked unlink gradle.","body":"the intellij gradle tool disappeared after I clicked unlink gradle."},{"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"score":0,"creation_date":1674962514,"post_id":75271588,"comment_id":132825128,"body_markdown":"Try the &quot;Notifications&quot; tool window, sometimes it will have a notification asking you to reload the Gradle project.","body":"Try the &quot;Notifications&quot; tool window, sometimes it will have a notification asking you to reload the Gradle project."}],"answers":[{"tags":[],"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674961015,"creation_date":1674961015,"answer_id":75272352,"question_id":75271588,"body_markdown":"Try deleting the .idea folder under the project root and reopen the project.","title":"Java project with Gradle is not compiling on Intellij","body":"<p>Try deleting the .idea folder under the project root and reopen the project.</p>\n"}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674961015,"creation_date":1674948022,"question_id":75271588,"body_markdown":"I am not able to compile my Java project. The intellij is not able to detect the Java files as well. I did clink &quot;unlink Gradle&quot; and it started happening after that. I want to fix the gradle settings but I am not able to view the options as well. The gradle tab on the right of the intellij is not visible too. Thank you\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qjFB3.png","title":"Java project with Gradle is not compiling on Intellij","body":"<p>I am not able to compile my Java project. The intellij is not able to detect the Java files as well. I did clink &quot;unlink Gradle&quot; and it started happening after that. I want to fix the gradle settings but I am not able to view the options as well. The gradle tab on the right of the intellij is not visible too. Thank you</p>\n<p><a href=\"https://i.stack.imgur.com/qjFB3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qjFB3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674950425,"post_id":75271714,"comment_id":132823906,"body_markdown":"There&#39;s no package statement on `Converter`","body":"There&#39;s no package statement on <code>Converter</code>"},{"owner":{"account_id":27645972,"reputation":1,"user_id":21101861,"display_name":"Mark Ainsworth"},"score":0,"creation_date":1674952400,"post_id":75271714,"comment_id":132824172,"body_markdown":"@TimMoore - apologies, looks like the code block edited it out. I have it assigned to the same package as the first file for simplicity sake at the moment.","body":"@TimMoore - apologies, looks like the code block edited it out. I have it assigned to the same package as the first file for simplicity sake at the moment."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674952651,"post_id":75271714,"comment_id":132824199,"body_markdown":"Looks OK, then. How are you compiling and running?","body":"Looks OK, then. How are you compiling and running?"},{"owner":{"account_id":27645972,"reputation":1,"user_id":21101861,"display_name":"Mark Ainsworth"},"score":0,"creation_date":1674953350,"post_id":75271714,"comment_id":132824267,"body_markdown":"@TimMoore thanks for the response! I&#39;m using VisualStudio&#39;s terminal, my command line is javac temptable.java and javac converter.java","body":"@TimMoore thanks for the response! I&#39;m using VisualStudio&#39;s terminal, my command line is javac temptable.java and javac converter.java"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1674953856,"post_id":75271714,"comment_id":132824328,"body_markdown":"You need to give javac the correct classpath so that it can find Converter. Try `java -cp .. converter.java`. As you&#39;re building in the package directory, `temp`, `javac` is looking for `Concverter` in `temp/Converter.class`, relative to the current working directory, which in your case is the `temp` directory which contains the source files.","body":"You need to give javac the correct classpath so that it can find Converter. Try <code>java -cp .. converter.java</code>. As you&#39;re building in the package directory, <code>temp</code>, <code>javac</code> is looking for <code>Concverter</code> in <code>temp&#47;Converter.class</code>, relative to the current working directory, which in your case is the <code>temp</code> directory which contains the source files."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1674953959,"post_id":75271714,"comment_id":132824341,"body_markdown":"Alternatively, work in the parent directory of `temp`, and use `javac temp/&lt;class&gt;.java`. Better still, build with maven.","body":"Alternatively, work in the parent directory of <code>temp</code>, and use <code>javac temp&#47;&lt;class&gt;.java</code>. Better still, build with maven."}],"answers":[{"tags":[],"owner":{"account_id":27645972,"reputation":1,"user_id":21101861,"display_name":"Mark Ainsworth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674961005,"creation_date":1674961005,"answer_id":75272350,"question_id":75271714,"body_markdown":"I solved the problem.\r\nin the file Converter.java, compile it with a -d option:\r\n&gt; javac -d . Converter.java\r\n\r\nThis puts Converter.class inside a subfolder &#39;temp&#39;, because of the &quot;package temp;&quot; statement.\r\n\r\nThen, delete the &quot;package temp;&quot; statement from TempTable.java; it serves no useful purpose for this example.\r\n\r\nThe &quot;import temp.*;&quot; statement is OK, keep it.\r\n\r\nThen, compile the TempTable.java in the normal fashion:\r\n&gt; javac TempTable.java\r\n\r\nThe TempTable.class file should be in the same folder. You should be able to run it normally:\r\n&gt; java TempTable","title":"Java compiler cannot find symbol for a class in another file","body":"<p>I solved the problem.\nin the file Converter.java, compile it with a -d option:</p>\n<blockquote>\n<p>javac -d . Converter.java</p>\n</blockquote>\n<p>This puts Converter.class inside a subfolder 'temp', because of the &quot;package temp;&quot; statement.</p>\n<p>Then, delete the &quot;package temp;&quot; statement from TempTable.java; it serves no useful purpose for this example.</p>\n<p>The &quot;import temp.*;&quot; statement is OK, keep it.</p>\n<p>Then, compile the TempTable.java in the normal fashion:</p>\n<blockquote>\n<p>javac TempTable.java</p>\n</blockquote>\n<p>The TempTable.class file should be in the same folder. You should be able to run it normally:</p>\n<blockquote>\n<p>java TempTable</p>\n</blockquote>\n"}],"owner":{"account_id":27645972,"reputation":1,"user_id":21101861,"display_name":"Mark Ainsworth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675010850,"answer_count":1,"score":0,"last_activity_date":1674961005,"creation_date":1674949923,"question_id":75271714,"body_markdown":"I have two files in the same folder &#39;temp&#39;. One file compiles fine, but for the other the compiler throws &quot;java:13: error: cannot find symbol&quot; for the name of a class in the first file. I don&#39;t know how to resolve this, thanks in advance for any help!\r\n\r\nMain file, doesn&#39;t compile, can&#39;t find &#39;Converter&#39;:\r\n\r\n```\r\npackage temp;\r\nimport temp.*;\r\n\r\n/**\r\n * A simple class that uses classes in named packages.\r\n */\r\npublic class TempTable {\r\n\r\n   /**\r\n    * A program that prints out a temperature conversion table\r\n    * @param args The command-line arguments\r\n    */\r\n   public static void main(String[] args) {\r\n   \r\n      double f = Converter.c2f(0);\r\n      // print out headers\r\n      System.out.println(&quot;Celsius  Fahrenheit&quot;);\r\n      \r\n      // print out values\r\n      \r\n   }\r\n}\r\n```\r\n\r\nSecondary file, with the class that can&#39;t be found:\r\n\r\n```\r\npackage temp;\r\n\r\n/**\r\n * A simple supplier class that converts temperature values.\r\n */\r\npublic class Converter {\r\n\r\n   /**\r\n    * Converts Celsius to Fahrenheit.\r\n    * @param value The Celsius temperature to be converted\r\n    * @return      The calculated Fahrenheit temperature\r\n    */\r\n   public static double c2f(double value) {\r\n   \r\n      return 0;\r\n      \r\n   }\r\n}\r\n```","title":"Java compiler cannot find symbol for a class in another file","body":"<p>I have two files in the same folder 'temp'. One file compiles fine, but for the other the compiler throws &quot;java:13: error: cannot find symbol&quot; for the name of a class in the first file. I don't know how to resolve this, thanks in advance for any help!</p>\n<p>Main file, doesn't compile, can't find 'Converter':</p>\n<pre><code>package temp;\nimport temp.*;\n\n/**\n * A simple class that uses classes in named packages.\n */\npublic class TempTable {\n\n   /**\n    * A program that prints out a temperature conversion table\n    * @param args The command-line arguments\n    */\n   public static void main(String[] args) {\n   \n      double f = Converter.c2f(0);\n      // print out headers\n      System.out.println(&quot;Celsius  Fahrenheit&quot;);\n      \n      // print out values\n      \n   }\n}\n</code></pre>\n<p>Secondary file, with the class that can't be found:</p>\n<pre><code>package temp;\n\n/**\n * A simple supplier class that converts temperature values.\n */\npublic class Converter {\n\n   /**\n    * Converts Celsius to Fahrenheit.\n    * @param value The Celsius temperature to be converted\n    * @return      The calculated Fahrenheit temperature\n    */\n   public static double c2f(double value) {\n   \n      return 0;\n      \n   }\n}\n</code></pre>\n"},{"tags":["java","junit","integration-testing","junit4"],"answers":[{"tags":[],"owner":{"account_id":27625246,"reputation":29,"user_id":21085370,"display_name":"Daniel Delimata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674960534,"creation_date":1674960534,"answer_id":75272318,"question_id":29252250,"body_markdown":"You can add `Main` class with `main` method that calls JUnit4 tests and adds an `AllureJunit4` listener.\r\n\r\n```java\r\npackage samples;\r\n\r\nimport io.qameta.allure.junit4.AllureJunit4;\r\nimport org.junit.runner.JUnitCore;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        JUnitCore engine = new JUnitCore();\r\n        engine.addListener(new AllureJunit4());\r\n        engine.run(SampleTest.class);\r\n    }\r\n}\r\n```\r\n\r\nLet us say that your pom.xml looks as follows.\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.test.classes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;archive&gt;\r\n                                &lt;manifest&gt;\r\n                                    &lt;mainClass&gt;samples.Main&lt;/mainClass&gt;\r\n                                &lt;/manifest&gt;\r\n                            &lt;/archive&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nand `assembly.xml`\r\n```xml\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\r\n    &lt;id&gt;fat-tests&lt;/id&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n            &lt;unpack&gt;true&lt;/unpack&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.build.directory}/test-classes&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/*.class&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;useDefaultExcludes&gt;true&lt;/useDefaultExcludes&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n&lt;/assembly&gt;\r\n```\r\n\r\nYour test can be enriched with Allure annotations.\r\n```\r\npackage samples;\r\n\r\n\r\nimport io.qameta.allure.Description;\r\nimport io.qameta.allure.Feature;\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\npublic class SampleTest {\r\n    @Test\r\n    @Description(\r\n            &quot;&quot;&quot;\r\n            Here we can provide longer description.\r\n            Even the whole user story in bullet points\r\n              * As a ...\r\n              * I want to ...\r\n              * in order to ...&quot;&quot;&quot;\r\n    )\r\n    @Feature(&quot;Feature 1&quot;)\r\n    public void first(){\r\n        System.out.println(&quot;first&quot;);\r\n        Assert.assertEquals(&quot;1&quot;, &quot;1&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void second(){\r\n        System.out.println(&quot;second&quot;);\r\n        Assert.assertEquals(&quot;2&quot;, &quot;3&quot;);\r\n    }\r\n}\r\n```\r\n\r\nTo pack the jar:\r\n\r\n```bash\r\nmvn clean package\r\n```\r\n\r\nTo run tests\r\n```bash\r\njava -jar junit-maven-1.0-SNAPSHOT-fat-tests.jar\r\n```\r\nIt will create `allure-results` directory.\r\n\r\nFinally, you can use the [Allure command line][1] to serve the results.\r\n```bash\r\nallure serve allure-results\r\n```\r\n\r\n[The results][2]\r\n\r\n\r\n  [1]: https://docs.qameta.io/allure/#_installing_a_commandline\r\n  [2]: https://i.stack.imgur.com/G9Ilc.png","title":"Run JUnit tests standalone with reporting","body":"<p>You can add <code>Main</code> class with <code>main</code> method that calls JUnit4 tests and adds an <code>AllureJunit4</code> listener.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package samples;\n\nimport io.qameta.allure.junit4.AllureJunit4;\nimport org.junit.runner.JUnitCore;\n\npublic class Main {\n    public static void main(String[] args) {\n        JUnitCore engine = new JUnitCore();\n        engine.addListener(new AllureJunit4());\n        engine.run(SampleTest.class);\n    }\n}\n</code></pre>\n<p>Let us say that your pom.xml looks as follows.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.test.classes&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;aspectj.version&gt;1.8.10&lt;/aspectj.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;src/main/assembly/assembly.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifest&gt;\n                                    &lt;mainClass&gt;samples.Main&lt;/mainClass&gt;\n                                &lt;/manifest&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and <code>assembly.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\n    &lt;id&gt;fat-tests&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;jar&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.build.directory}/test-classes&lt;/directory&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*.class&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;useDefaultExcludes&gt;true&lt;/useDefaultExcludes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Your test can be enriched with Allure annotations.</p>\n<pre><code>package samples;\n\n\nimport io.qameta.allure.Description;\nimport io.qameta.allure.Feature;\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class SampleTest {\n    @Test\n    @Description(\n            &quot;&quot;&quot;\n            Here we can provide longer description.\n            Even the whole user story in bullet points\n              * As a ...\n              * I want to ...\n              * in order to ...&quot;&quot;&quot;\n    )\n    @Feature(&quot;Feature 1&quot;)\n    public void first(){\n        System.out.println(&quot;first&quot;);\n        Assert.assertEquals(&quot;1&quot;, &quot;1&quot;);\n    }\n\n    @Test\n    public void second(){\n        System.out.println(&quot;second&quot;);\n        Assert.assertEquals(&quot;2&quot;, &quot;3&quot;);\n    }\n}\n</code></pre>\n<p>To pack the jar:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean package\n</code></pre>\n<p>To run tests</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar junit-maven-1.0-SNAPSHOT-fat-tests.jar\n</code></pre>\n<p>It will create <code>allure-results</code> directory.</p>\n<p>Finally, you can use the <a href=\"https://docs.qameta.io/allure/#_installing_a_commandline\" rel=\"nofollow noreferrer\">Allure command line</a> to serve the results.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>allure serve allure-results\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G9Ilc.png\" rel=\"nofollow noreferrer\">The results</a></p>\n"}],"owner":{"account_id":2459621,"reputation":1013,"user_id":2144057,"accept_rate":71,"display_name":"Kamil Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":999,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1674960534,"creation_date":1427276906,"question_id":29252250,"body_markdown":"How can one run junit tests and get some nice (e.g. gradle-like html) reporting from them without project source code (e.g. tests + dependencies packaged in an uber jar)?\r\n\r\nI can package the tests and maven into runnable jar with maven assembly plugin, run this jar with help of https://stackoverflow.com/questions/2235276/how-to-run-junit-test-cases-from-the-command-line but how can one create some nice test results report then?","title":"Run JUnit tests standalone with reporting","body":"<p>How can one run junit tests and get some nice (e.g. gradle-like html) reporting from them without project source code (e.g. tests + dependencies packaged in an uber jar)?</p>\n\n<p>I can package the tests and maven into runnable jar with maven assembly plugin, run this jar with help of <a href=\"https://stackoverflow.com/questions/2235276/how-to-run-junit-test-cases-from-the-command-line\">How to run JUnit test cases from the command line</a> but how can one create some nice test results report then?</p>\n"},{"tags":["java","arrays","parameter-passing","reflections"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674962826,"post_id":75272274,"comment_id":132825156,"body_markdown":"Invoke takes an array of Object as it&#39;s second parameter. Have you tried `m.invoke(current, p)`?","body":"Invoke takes an array of Object as it&#39;s second parameter. Have you tried <code>m.invoke(current, p)</code>?"},{"owner":{"account_id":22730911,"reputation":9,"user_id":16893837,"display_name":"Creepabob"},"score":0,"creation_date":1674963115,"post_id":75272274,"comment_id":132825180,"body_markdown":"@tgdavies oh my god thank you so much, i don&#39;t know why i didn&#39;t try that earlier","body":"@tgdavies oh my god thank you so much, i don&#39;t know why i didn&#39;t try that earlier"}],"owner":{"account_id":22730911,"reputation":9,"user_id":16893837,"display_name":"Creepabob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674959677,"creation_date":1674959677,"question_id":75272274,"body_markdown":"I&#39;m over-engineering a photo project right now and trying to make it really easy to add more images with filters to a collage of images. I have a 2D array of all the pictures, a 2D array of all the methods to call, and a 3D array of Objects. I went with a 3D array of objects to represent the parameters since each method has a differing number of parameters and different types (i.e. int, Color, etc). Right now, I am able to pass the parameters but it is hard-capped at three, and to increase that number I have to hard code in more if statements. My code is as follows:\r\n\r\n```\r\nfor (int row = 0; row &lt; pictures.length; row++)\r\n        {\r\n            for (int col = 0; col &lt; pictures[row].length; col++)\r\n            {\r\n                Picture current = pictures[row][col];\r\n                Method m = methods[row][col];\r\n                Object[] p = parameters[row][col];\r\n                \r\n                int numOfParameters = p.length;\r\n                \r\n                if (numOfParameters == 0)\r\n                    m.invoke(current);\r\n                else if (numOfParameters == 1)\r\n                    m.invoke(current, p[0]);\r\n                else if (numOfParameters == 2)\r\n                    m.invoke(current, p[0], p[1]);\r\n                else if (numOfParameters == 3)\r\n                    m.invoke(current, p[0], p[1], p[2]);\r\n                \r\n                canvas.cropAndCopy(current, 0, height, 0, width, height * row, width * col);\r\n            }\r\n        }\r\n```\r\n\r\nWould it be possible to do something like\r\n\r\n```\r\nm.invoke(currentPicture, unpack(p));\r\n```\r\nIn such a way that it is equal to this\r\n\r\n```\r\nm.invoke(currentPicture);\r\n```\r\nthis,\r\n```\r\nm.invoke(currentPicture, param1);\r\n```\r\nthis,\r\n\r\n```\r\nm.invoke(currentPicture, param1, param2);\r\n```\r\netc. depending on the size of the array\r\nor something so that it automatically adjusts to the number of parameters?\r\n\r\nI have searched essentially everywhere to find an answer, but the only thing I&#39;m seeing is varargs, which isn&#39;t what I&#39;m looking for, I need a way to send one parameter but &quot;unpack&quot; it into n number of parameters where n represents the size of the array","title":"Java take Object array of dynamic size and convert it to individual parameters","body":"<p>I'm over-engineering a photo project right now and trying to make it really easy to add more images with filters to a collage of images. I have a 2D array of all the pictures, a 2D array of all the methods to call, and a 3D array of Objects. I went with a 3D array of objects to represent the parameters since each method has a differing number of parameters and different types (i.e. int, Color, etc). Right now, I am able to pass the parameters but it is hard-capped at three, and to increase that number I have to hard code in more if statements. My code is as follows:</p>\n<pre><code>for (int row = 0; row &lt; pictures.length; row++)\n        {\n            for (int col = 0; col &lt; pictures[row].length; col++)\n            {\n                Picture current = pictures[row][col];\n                Method m = methods[row][col];\n                Object[] p = parameters[row][col];\n                \n                int numOfParameters = p.length;\n                \n                if (numOfParameters == 0)\n                    m.invoke(current);\n                else if (numOfParameters == 1)\n                    m.invoke(current, p[0]);\n                else if (numOfParameters == 2)\n                    m.invoke(current, p[0], p[1]);\n                else if (numOfParameters == 3)\n                    m.invoke(current, p[0], p[1], p[2]);\n                \n                canvas.cropAndCopy(current, 0, height, 0, width, height * row, width * col);\n            }\n        }\n</code></pre>\n<p>Would it be possible to do something like</p>\n<pre><code>m.invoke(currentPicture, unpack(p));\n</code></pre>\n<p>In such a way that it is equal to this</p>\n<pre><code>m.invoke(currentPicture);\n</code></pre>\n<p>this,</p>\n<pre><code>m.invoke(currentPicture, param1);\n</code></pre>\n<p>this,</p>\n<pre><code>m.invoke(currentPicture, param1, param2);\n</code></pre>\n<p>etc. depending on the size of the array\nor something so that it automatically adjusts to the number of parameters?</p>\n<p>I have searched essentially everywhere to find an answer, but the only thing I'm seeing is varargs, which isn't what I'm looking for, I need a way to send one parameter but &quot;unpack&quot; it into n number of parameters where n represents the size of the array</p>\n"},{"tags":["java","maven","java-ee-8"],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674959113,"creation_date":1674959113,"answer_id":75272247,"question_id":75268825,"body_markdown":"From the stack trace, you are using [org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2][1] which pulls in `com.sun.xml.ws:jaxws-ri:2.2.6`, and that version does not have the `com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)` method.\r\n\r\nI see that you are trying to override that to version 2.3.3 in the pom, but you need to put the override inside the plugin section instead:\r\n\r\n```xml\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.3&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n```\r\n\r\nBut I would suggest you find a replacement for `org.jvnet.jax-ws-commons:jaxws-maven-plugin` instead as that project is obsolete.\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.jvnet.jax-ws-commons/jaxws-maven-plugin/2.2","title":"MojoExecutionException while run jaxws-maven-plugin","body":"<p>From the stack trace, you are using <a href=\"https://mvnrepository.com/artifact/org.jvnet.jax-ws-commons/jaxws-maven-plugin/2.2\" rel=\"nofollow noreferrer\">org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2</a> which pulls in <code>com.sun.xml.ws:jaxws-ri:2.2.6</code>, and that version does not have the <code>com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)</code> method.</p>\n<p>I see that you are trying to override that to version 2.3.3 in the pom, but you need to put the override inside the plugin section instead:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.3&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n</code></pre>\n<p>But I would suggest you find a replacement for <code>org.jvnet.jax-ws-commons:jaxws-maven-plugin</code> instead as that project is obsolete.</p>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674959113,"creation_date":1674920484,"question_id":75268825,"body_markdown":"Got `MojoExecutionException` exception while generate WSDL with maven plugin. How to start solving this problem?\r\n\r\n    [ERROR] Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsgen (generate-wsdl) on project helloservice-war: Failed to execute wsgen: &#39;javax.xml.parsers.DocumentBuilderFactory com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)&#39; -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsgen (generate-wsdl) on project helloservice-war: Failed to execute wsgen\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:306)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to execute wsgen\r\n        at org.jvnet.jax_ws_commons.jaxws.AbstractWsGenMojo.execute (AbstractWsGenMojo.java:148)\r\n        at org.jvnet.jax_ws_commons.jaxws.MainWsGenMojo.execute (MainWsGenMojo.java:95)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.NoSuchMethodError: &#39;javax.xml.parsers.DocumentBuilderFactory com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)&#39;\r\n        at com.sun.xml.ws.db.toplink.JAXBContextFactory.&lt;clinit&gt; (JAXBContextFactory.java:184)\r\n        at java.lang.Class.forName0 (Native Method)\r\n        at java.lang.Class.forName (Class.java:467)\r\n        at com.sun.xml.ws.util.ServiceFinder$LazyIterator.next (ServiceFinder.java:460)\r\n        at com.sun.xml.ws.util.ServiceFinder$CompositeIterator.next (ServiceFinder.java:402)\r\n        at com.sun.xml.ws.spi.db.BindingContextFactory$1.hasNext (BindingContextFactory.java:80)\r\n        at com.sun.xml.ws.spi.db.BindingContextFactory.factories (BindingContextFactory.java:110)\r\n        at com.sun.xml.ws.spi.db.BindingContextFactory.create (BindingContextFactory.java:176)\r\n        at com.sun.xml.ws.model.AbstractSEIModelImpl$1.run (AbstractSEIModelImpl.java:213)\r\n        at com.sun.xml.ws.model.AbstractSEIModelImpl$1.run (AbstractSEIModelImpl.java:186)\r\n        at java.security.AccessController.doPrivileged (AccessController.java:569)\r\n        at com.sun.xml.ws.model.AbstractSEIModelImpl.createJAXBContext (AbstractSEIModelImpl.java:186)\r\n        at com.sun.xml.ws.model.AbstractSEIModelImpl.postProcess (AbstractSEIModelImpl.java:111)\r\n        at com.sun.xml.ws.model.RuntimeModeler.buildRuntimeModel (RuntimeModeler.java:318)\r\n        at com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt; (DatabindingImpl.java:99)\r\n        at com.sun.xml.ws.db.DatabindingProviderImpl.create (DatabindingProviderImpl.java:74)\r\n        at com.sun.xml.ws.db.DatabindingProviderImpl.create (DatabindingProviderImpl.java:58)\r\n        at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime (DatabindingFactoryImpl.java:130)\r\n        at com.sun.tools.ws.wscompile.WsgenTool.buildModel (WsgenTool.java:236)\r\n        at com.sun.tools.ws.wscompile.WsgenTool.run (WsgenTool.java:124)\r\n        at com.sun.tools.ws.WsGen.doMain (WsGen.java:74)\r\n        at org.jvnet.jax_ws_commons.jaxws.AbstractWsGenMojo.execute (AbstractWsGenMojo.java:142)\r\n        at org.jvnet.jax_ws_commons.jaxws.MainWsGenMojo.execute (MainWsGenMojo.java:95)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:568)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\n\r\n\r\nPOM.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.glassfish.javaeetutorial&lt;/groupId&gt;\r\n        &lt;artifactId&gt;helloservice-war&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;helloservice-war&lt;/name&gt;\r\n        &lt;description&gt;Simple example JAX-WS web service.&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.glassfish.javaeetutorial&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;generate-wsdl&lt;/id&gt;\r\n                            &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;wsgen&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sei&gt;javaeetutorial.helloservice.Hello&lt;/sei&gt;\r\n                                &lt;genWsdl&gt;true&lt;/genWsdl&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;deployables&gt;\r\n                            &lt;deployable&gt;\r\n                            &lt;properties&gt;\r\n                                &lt;context&gt;helloservice&lt;/context&gt;\r\n                            &lt;/properties&gt;\r\n                            &lt;/deployable&gt;\r\n                        &lt;/deployables&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n              &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n              &lt;version&gt;2.3.3&lt;/version&gt;\r\n              &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"MojoExecutionException while run jaxws-maven-plugin","body":"<p>Got <code>MojoExecutionException</code> exception while generate WSDL with maven plugin. How to start solving this problem?</p>\n<pre><code>[ERROR] Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsgen (generate-wsdl) on project helloservice-war: Failed to execute wsgen: 'javax.xml.parsers.DocumentBuilderFactory com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)' -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.jvnet.jax-ws-commons:jaxws-maven-plugin:2.2:wsgen (generate-wsdl) on project helloservice-war: Failed to execute wsgen\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:306)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Failed to execute wsgen\n    at org.jvnet.jax_ws_commons.jaxws.AbstractWsGenMojo.execute (AbstractWsGenMojo.java:148)\n    at org.jvnet.jax_ws_commons.jaxws.MainWsGenMojo.execute (MainWsGenMojo.java:95)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NoSuchMethodError: 'javax.xml.parsers.DocumentBuilderFactory com.sun.xml.ws.util.xml.XmlUtil.newDocumentBuilderFactory(boolean)'\n    at com.sun.xml.ws.db.toplink.JAXBContextFactory.&lt;clinit&gt; (JAXBContextFactory.java:184)\n    at java.lang.Class.forName0 (Native Method)\n    at java.lang.Class.forName (Class.java:467)\n    at com.sun.xml.ws.util.ServiceFinder$LazyIterator.next (ServiceFinder.java:460)\n    at com.sun.xml.ws.util.ServiceFinder$CompositeIterator.next (ServiceFinder.java:402)\n    at com.sun.xml.ws.spi.db.BindingContextFactory$1.hasNext (BindingContextFactory.java:80)\n    at com.sun.xml.ws.spi.db.BindingContextFactory.factories (BindingContextFactory.java:110)\n    at com.sun.xml.ws.spi.db.BindingContextFactory.create (BindingContextFactory.java:176)\n    at com.sun.xml.ws.model.AbstractSEIModelImpl$1.run (AbstractSEIModelImpl.java:213)\n    at com.sun.xml.ws.model.AbstractSEIModelImpl$1.run (AbstractSEIModelImpl.java:186)\n    at java.security.AccessController.doPrivileged (AccessController.java:569)\n    at com.sun.xml.ws.model.AbstractSEIModelImpl.createJAXBContext (AbstractSEIModelImpl.java:186)\n    at com.sun.xml.ws.model.AbstractSEIModelImpl.postProcess (AbstractSEIModelImpl.java:111)\n    at com.sun.xml.ws.model.RuntimeModeler.buildRuntimeModel (RuntimeModeler.java:318)\n    at com.sun.xml.ws.db.DatabindingImpl.&lt;init&gt; (DatabindingImpl.java:99)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create (DatabindingProviderImpl.java:74)\n    at com.sun.xml.ws.db.DatabindingProviderImpl.create (DatabindingProviderImpl.java:58)\n    at com.sun.xml.ws.db.DatabindingFactoryImpl.createRuntime (DatabindingFactoryImpl.java:130)\n    at com.sun.tools.ws.wscompile.WsgenTool.buildModel (WsgenTool.java:236)\n    at com.sun.tools.ws.wscompile.WsgenTool.run (WsgenTool.java:124)\n    at com.sun.tools.ws.WsGen.doMain (WsGen.java:74)\n    at org.jvnet.jax_ws_commons.jaxws.AbstractWsGenMojo.execute (AbstractWsGenMojo.java:142)\n    at org.jvnet.jax_ws_commons.jaxws.MainWsGenMojo.execute (MainWsGenMojo.java:95)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>POM.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.glassfish.javaeetutorial&lt;/groupId&gt;\n    &lt;artifactId&gt;helloservice-war&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;helloservice-war&lt;/name&gt;\n    &lt;description&gt;Simple example JAX-WS web service.&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.glassfish.javaeetutorial&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws&lt;/artifactId&gt;\n        &lt;version&gt;8.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jaxws-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-wsdl&lt;/id&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsgen&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sei&gt;javaeetutorial.helloservice.Hello&lt;/sei&gt;\n                            &lt;genWsdl&gt;true&lt;/genWsdl&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n                &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;deployables&gt;\n                        &lt;deployable&gt;\n                        &lt;properties&gt;\n                            &lt;context&gt;helloservice&lt;/context&gt;\n                        &lt;/properties&gt;\n                        &lt;/deployable&gt;\n                    &lt;/deployables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n          &lt;version&gt;2.3.3&lt;/version&gt;\n          &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","web-scraping","tiktok"],"owner":{"account_id":23659651,"reputation":104,"user_id":17687406,"display_name":"mi1000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674957655,"creation_date":1674957655,"question_id":75272177,"body_markdown":"I&#39;ve been trying to scrape data about a user&#39;s Tiktok posts through [an API](https://rapidapi.com/JoTucker/api/tiktok-scraper2).\r\n\r\nThe HTTP request works well, but the problem is that I&#39;d need infos about the 170 last videos or so from the aforementioned user , and the API only returns the last 20 videos, nothing more, even when I specify the timestamps, that is between the 20th December 2021 and the date of today.\r\n\r\nHere&#39;s the code I used for my request:\r\n\r\n\r\n```\r\nHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t\t.uri(URI.create(&quot;https://tiktok-scraper2.p.rapidapi.com/user/videos?sec_uid={SEC_UID}&amp;user_id={ID}&amp;user_name={USERNAME}&amp;min_cursor=1639958400000&amp;max_cursor=1674932652000&quot;))\r\n\t\t\t\t.header(&quot;X-RapidAPI-Key&quot;, &quot;{KEY}&quot;)\r\n\t\t\t\t.header(&quot;X-RapidAPI-Host&quot;, &quot;tiktok-scraper2.p.rapidapi.com&quot;)\r\n\t\t\t\t.method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n\t\t\t\t.build();\r\n\t\tHttpResponse&lt;String&gt; response;\r\n\t\ttry {\r\n\t\t\tresponse = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\r\n\t\t\tSystem.out.println(response.body());\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.err.println(&quot;Erreur lors de l&#39;ex&#233;cution de la requ&#234;te : \\n&quot; + e.getMessage());\r\n\t\t}\r\n```\r\n\r\nAnd this is what I get from the console prints out (it doesn&#39;t print &quot;xxx&quot; by the way, I prefer to keep my info secure) after making it more readable in Notepad++:\r\n\r\n\r\n```\r\n{&quot;itemList&quot;:[{&quot;id&quot;:&quot;7193xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\r\n,&quot;stats&quot;:{&quot;commentCount&quot;:206,&quot;diggCount&quot;:57100,&quot;playCount&quot;:515500,&quot;shareCount&quot;:71}\r\n}\r\n,{&quot;id&quot;:&quot;7191xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\r\n,&quot;stats&quot;:{&quot;commentCount&quot;:25,&quot;diggCount&quot;:23600,&quot;playCount&quot;:153300,&quot;shareCount&quot;:22}\r\n}\r\n, (...) // Data\r\n,{&quot;id&quot;:&quot;7174xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\r\n,&quot;stats&quot;:{&quot;commentCount&quot;:2,&quot;diggCount&quot;:272,&quot;playCount&quot;:4737,&quot;shareCount&quot;:1}\r\n}\r\n],&quot;statusCode&quot;:0,&quot;status_code&quot;:0}\r\n```\r\n\r\nNow this is stopping at timestamp `1670284800000`, which means I&#39;m missing almost a year of data...\r\n\r\nI must also mention that I&#39;ve tried with other APIs, but they couldn&#39;t return more than 20 or 30 results, and only the latest ones, even when specified otherwise. I&#39;ve inspected the source code on the profile page and when doing Ctrl+F and searching `diggCount` it also returns about 30 results, in spite of me having scrolled all the way down to the first videos I want to analyse, I don&#39;t know if the problem might come from there ?\r\n\r\nAnyways anybody knows how to fix this problem is welcome, any advice is appreciated, even another functioning API, as this one seems to be the best free one I&#39;ve been able to find, but I might have missed out on some better ones.\r\n\r\nThank you in advance :)\r\n","title":"Unable to scrape full data on Tiktok","body":"<p>I've been trying to scrape data about a user's Tiktok posts through <a href=\"https://rapidapi.com/JoTucker/api/tiktok-scraper2\" rel=\"nofollow noreferrer\">an API</a>.</p>\n<p>The HTTP request works well, but the problem is that I'd need infos about the 170 last videos or so from the aforementioned user , and the API only returns the last 20 videos, nothing more, even when I specify the timestamps, that is between the 20th December 2021 and the date of today.</p>\n<p>Here's the code I used for my request:</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://tiktok-scraper2.p.rapidapi.com/user/videos?sec_uid={SEC_UID}&amp;user_id={ID}&amp;user_name={USERNAME}&amp;min_cursor=1639958400000&amp;max_cursor=1674932652000&quot;))\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;{KEY}&quot;)\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;tiktok-scraper2.p.rapidapi.com&quot;)\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\n        HttpResponse&lt;String&gt; response;\n        try {\n            response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\n            System.out.println(response.body());\n        } catch (Exception e) {\n            System.err.println(&quot;Erreur lors de l'exécution de la requête : \\n&quot; + e.getMessage());\n        }\n</code></pre>\n<p>And this is what I get from the console prints out (it doesn't print &quot;xxx&quot; by the way, I prefer to keep my info secure) after making it more readable in Notepad++:</p>\n<pre><code>{&quot;itemList&quot;:[{&quot;id&quot;:&quot;7193xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\n,&quot;stats&quot;:{&quot;commentCount&quot;:206,&quot;diggCount&quot;:57100,&quot;playCount&quot;:515500,&quot;shareCount&quot;:71}\n}\n,{&quot;id&quot;:&quot;7191xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\n,&quot;stats&quot;:{&quot;commentCount&quot;:25,&quot;diggCount&quot;:23600,&quot;playCount&quot;:153300,&quot;shareCount&quot;:22}\n}\n, (...) // Data\n,{&quot;id&quot;:&quot;7174xxxxxxxxxxxxxxx&quot;,&quot;video&quot;:{&quot;cover&quot;:&quot;xxx&quot;}\n,&quot;stats&quot;:{&quot;commentCount&quot;:2,&quot;diggCount&quot;:272,&quot;playCount&quot;:4737,&quot;shareCount&quot;:1}\n}\n],&quot;statusCode&quot;:0,&quot;status_code&quot;:0}\n</code></pre>\n<p>Now this is stopping at timestamp <code>1670284800000</code>, which means I'm missing almost a year of data...</p>\n<p>I must also mention that I've tried with other APIs, but they couldn't return more than 20 or 30 results, and only the latest ones, even when specified otherwise. I've inspected the source code on the profile page and when doing Ctrl+F and searching <code>diggCount</code> it also returns about 30 results, in spite of me having scrolled all the way down to the first videos I want to analyse, I don't know if the problem might come from there ?</p>\n<p>Anyways anybody knows how to fix this problem is welcome, any advice is appreciated, even another functioning API, as this one seems to be the best free one I've been able to find, but I might have missed out on some better ones.</p>\n<p>Thank you in advance :)</p>\n"},{"tags":["java","caching","transactions","ehcache"],"answers":[{"tags":[],"owner":{"account_id":13910808,"reputation":11,"user_id":10044058,"display_name":"Jebussz C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674957561,"creation_date":1674957561,"answer_id":75272171,"question_id":51216563,"body_markdown":"The timeout problem was related to not having hashCode/toString defined for the objects we were caching as is requested in the documentation.\r\n\r\nhttps://www.ehcache.org/documentation/2.8/apis/transactions.html#requirements\r\n\r\nAdding hashCode/toString solved the issue for myself.","title":"EHCache Local TransactionManager timeout on removal","body":"<p>The timeout problem was related to not having hashCode/toString defined for the objects we were caching as is requested in the documentation.</p>\n<p><a href=\"https://www.ehcache.org/documentation/2.8/apis/transactions.html#requirements\" rel=\"nofollow noreferrer\">https://www.ehcache.org/documentation/2.8/apis/transactions.html#requirements</a></p>\n<p>Adding hashCode/toString solved the issue for myself.</p>\n"}],"owner":{"account_id":13910808,"reputation":11,"user_id":10044058,"display_name":"Jebussz C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674957561,"creation_date":1530904978,"question_id":51216563,"body_markdown":"I am working on a project to incorporate ehCache. Currently I am writing JUnit tests to test the various behaviours. When adding a transaction manager I started seeing timeout issues on certain calls.\r\n\r\nCurrently using eHcache 2.10.5 but also tried 2.8.4\r\nBelow is my xml \r\n\r\n    \t&lt;cache name=&quot;ehCache_1&quot;\r\n\t\t   maxElementsInMemory=&quot;20&quot;\r\n\t\t   eternal=&quot;false&quot;\r\n\t\t   overflowToDisk=&quot;false&quot;\r\n\t\t   timeToLiveSeconds=&quot;50&quot;\r\n\t\t   timeToIdleSeconds=&quot;10&quot;\r\n\t\t   transactionalMode=&quot;local&quot;&gt;\r\n\r\nBelow here is my JUnit\r\n\r\n    @Test\r\n\tpublic void testEHCacheIssue(){\r\n\t\ttry{\r\n\t\t\tEhcache ehCache_1 = ehCacheManager.getCache(&quot;ehCache_1&quot;);\r\n\t\t\ttransactionManager = ehCacheManager.getTransactionController();\r\n\t\t\ttransactionManager.setDefaultTransactionTimeout(15);\r\n\t\t\t\r\n\t\t\ttransactionManager.begin();\r\n\t\t\tehCache_1.put(new Element(&quot;1&quot;, new TestElementPerson(1, &quot;firstName1&quot;, &quot;lastName1&quot;,&quot;email1@test.com&quot;,1234)));\r\n\t\t\ttransactionManager.commit();\r\n\r\n\t\t\ttransactionManager.begin();\r\n\t\t\tehCache_1.put(new Element(&quot;2&quot;, new TestElementPerson(2, &quot;firstName3&quot;, &quot;lastName3&quot;,&quot;email3@test.com&quot;,1234)));\r\n\t\t\ttransactionManager.commit();\r\n\t\t\t\r\n\t\t\ttransactionManager.begin();\r\n\t\t\tehCache_1.get(&quot;1&quot;);\r\n\t\t\ttransactionManager.commit();\r\n\t\t\t\r\n\t\t\ttransactionManager.begin(); \r\n\t\t\tehCache_1.remove(&quot;1&quot;);//Timeout happens here\r\n\t\t\ttransactionManager.commit();\r\n\r\n\t\t}catch(Exception ex){\r\n\t\t\tLOGGER.error(&quot;There was an exception&quot;, ex);\r\n\t\t\tAssert.fail();\r\n\t\t}\r\n\t}\r\nWhich throws the below error on the remove:\r\n\r\nThere was an exception\r\n\r\n&gt; net.sf.ehcache.transaction.TransactionTimeoutException: transaction\r\n&gt; [3] timed out \tat\r\n&gt; net.sf.ehcache.transaction.local.LocalTransactionStore.assertNotTimedOut(LocalTransactionStore.java:108)\r\n&gt; \tat\r\n&gt; net.sf.ehcache.transaction.local.LocalTransactionStore.remove(LocalTransactionStore.java:391)\r\n&gt; \tat\r\n&gt; net.sf.ehcache.store.AbstractCopyingCacheStore.remove(AbstractCopyingCacheStore.java:110)\r\n&gt; \tat\r\n&gt; net.sf.ehcache.store.TxCopyingCacheStore.remove(TxCopyingCacheStore.java:33)\r\n&gt; \tat net.sf.ehcache.Cache.removeInternal(Cache.java:2426) \tat\r\n&gt; net.sf.ehcache.Cache.remove(Cache.java:2331) \tat\r\n&gt; net.sf.ehcache.Cache.remove(Cache.java:2249) \tat\r\n&gt; net.sf.ehcache.Cache.remove(Cache.java:2227)\r\n\r\nI notice that if I do anything that involves put or remove on an already existing key I get this issue. I know the Transaction Manager puts locks on the key between the begin and commit and that the Transaction Manager&#39;s threads tend to timeout sometimes in concurrent environments, but Im unsure how I could use the Transaction Manager if it holds a lock on the object&#39;s key for any serious period of time. \r\n","title":"EHCache Local TransactionManager timeout on removal","body":"<p>I am working on a project to incorporate ehCache. Currently I am writing JUnit tests to test the various behaviours. When adding a transaction manager I started seeing timeout issues on certain calls.</p>\n\n<p>Currently using eHcache 2.10.5 but also tried 2.8.4\nBelow is my xml </p>\n\n<pre><code>    &lt;cache name=\"ehCache_1\"\n       maxElementsInMemory=\"20\"\n       eternal=\"false\"\n       overflowToDisk=\"false\"\n       timeToLiveSeconds=\"50\"\n       timeToIdleSeconds=\"10\"\n       transactionalMode=\"local\"&gt;\n</code></pre>\n\n<p>Below here is my JUnit</p>\n\n<pre><code>@Test\npublic void testEHCacheIssue(){\n    try{\n        Ehcache ehCache_1 = ehCacheManager.getCache(\"ehCache_1\");\n        transactionManager = ehCacheManager.getTransactionController();\n        transactionManager.setDefaultTransactionTimeout(15);\n\n        transactionManager.begin();\n        ehCache_1.put(new Element(\"1\", new TestElementPerson(1, \"firstName1\", \"lastName1\",\"email1@test.com\",1234)));\n        transactionManager.commit();\n\n        transactionManager.begin();\n        ehCache_1.put(new Element(\"2\", new TestElementPerson(2, \"firstName3\", \"lastName3\",\"email3@test.com\",1234)));\n        transactionManager.commit();\n\n        transactionManager.begin();\n        ehCache_1.get(\"1\");\n        transactionManager.commit();\n\n        transactionManager.begin(); \n        ehCache_1.remove(\"1\");//Timeout happens here\n        transactionManager.commit();\n\n    }catch(Exception ex){\n        LOGGER.error(\"There was an exception\", ex);\n        Assert.fail();\n    }\n}\n</code></pre>\n\n<p>Which throws the below error on the remove:</p>\n\n<p>There was an exception</p>\n\n<blockquote>\n  <p>net.sf.ehcache.transaction.TransactionTimeoutException: transaction\n  [3] timed out     at\n  net.sf.ehcache.transaction.local.LocalTransactionStore.assertNotTimedOut(LocalTransactionStore.java:108)\n    at\n  net.sf.ehcache.transaction.local.LocalTransactionStore.remove(LocalTransactionStore.java:391)\n    at\n  net.sf.ehcache.store.AbstractCopyingCacheStore.remove(AbstractCopyingCacheStore.java:110)\n    at\n  net.sf.ehcache.store.TxCopyingCacheStore.remove(TxCopyingCacheStore.java:33)\n    at net.sf.ehcache.Cache.removeInternal(Cache.java:2426)     at\n  net.sf.ehcache.Cache.remove(Cache.java:2331)  at\n  net.sf.ehcache.Cache.remove(Cache.java:2249)  at\n  net.sf.ehcache.Cache.remove(Cache.java:2227)</p>\n</blockquote>\n\n<p>I notice that if I do anything that involves put or remove on an already existing key I get this issue. I know the Transaction Manager puts locks on the key between the begin and commit and that the Transaction Manager's threads tend to timeout sometimes in concurrent environments, but Im unsure how I could use the Transaction Manager if it holds a lock on the object's key for any serious period of time. </p>\n"},{"tags":["java","spring-boot","graphql","graphql-java","typegraphql"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1670191115,"post_id":74681060,"comment_id":131812623,"body_markdown":"Does this answer your question? [Date and Json in type definition for graphql](https://stackoverflow.com/questions/49693928/date-and-json-in-type-definition-for-graphql)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/49693928/date-and-json-in-type-definition-for-graphql\">Date and Json in type definition for graphql</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1670191418,"post_id":74681060,"comment_id":131812679,"body_markdown":"Another approach, mentioned in a comment, is to &quot;_directly store dates as time in millis_&quot; (milliseconds since the epoch). Look at Java&#39;s [`Instant`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html). BUT I don&#39;t know if epoch-seconds would fit into a GraphQL primitive - so that may not help.","body":"Another approach, mentioned in a comment, is to &quot;<i>directly store dates as time in millis</i>&quot; (milliseconds since the epoch). Look at Java&#39;s <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. BUT I don&#39;t know if epoch-seconds would fit into a GraphQL primitive - so that may not help."}],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674957071,"creation_date":1674898655,"answer_id":75266694,"question_id":74681060,"body_markdown":"Create a custom scalar for your types that is not recognized by your framework.\r\n\r\nI am not sure which graphql-java based framework you are using. I assume you are using the official [Spring for GraphQL](https://spring.io/projects/spring-graphql) from Spring team.\r\n\r\n1. Create a custom scalar, eg [my LocalDateTime scalar](https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql/src/main/java/com/example/demo/gql/scalars/LocalDateTimeScalar.java).\r\n\r\n\tpublic class LocalDateTimeScalar implements Coercing&lt;LocalDateTime, String&gt; {\r\n\t\t@Override\r\n\t\tpublic String serialize(Object dataFetcherResult) throws CoercingSerializeException {\r\n\t\t\tif (dataFetcherResult instanceof LocalDateTime) {\r\n\t\t\t\treturn ((LocalDateTime) dataFetcherResult).format(DateTimeFormatter.ISO_DATE_TIME);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new CoercingSerializeException(&quot;Not a valid DateTime&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalDateTime parseValue(Object input) throws CoercingParseValueException {\r\n\t\t\treturn LocalDateTime.parse(input.toString(), DateTimeFormatter.ISO_DATE_TIME);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalDateTime parseLiteral(Object input) throws CoercingParseLiteralException {\r\n\t\t\tif (input instanceof StringValue) {\r\n\t\t\t\treturn LocalDateTime.parse(((StringValue) input).getValue(), DateTimeFormatter.ISO_DATE_TIME);\r\n\t\t\t}\r\n\r\n\t\t\tthrow new CoercingParseLiteralException(&quot;Value is not a valid ISO date time&quot;);\r\n\t\t}\r\n\t}\r\n\r\n2. Register it in your custom `RuntimeWiring` bean, check [here](https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql/src/main/java/com/example/demo/gql/PostsRuntimeWiring.java#L41).\r\n    \r\n\r\n\t```java\r\n    public class Scalars {\r\n\r\n\t\tpublic static GraphQLScalarType localDateTimeType() {\r\n\t\t\treturn GraphQLScalarType.newScalar()\r\n\t\t\t\t\t.name(&quot;LocalDateTime&quot;)\r\n\t\t\t\t\t.description(&quot;LocalDateTime type&quot;)\r\n\t\t\t\t\t.coercing(new LocalDateTimeScalar())\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t}\r\n    ```\r\n\t\t\r\n\t```java\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class PostsRuntimeWiring implements RuntimeWiringConfigurer {\r\n\t\tprivate final DataFetchers dataFetchers;\r\n\r\n\t\t@Override\r\n\t\tpublic void configure(RuntimeWiring.Builder builder) {\r\n\t\t\tbuilder\r\n\t\t\t\t\t//...\r\n\t\t\t\t\t.scalar(Scalars.localDateTimeType())\r\n\t\t\t\t\t//...\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t}\r\n    ```\r\n\r\nIf you are using Scalars in other graphql-java based frameworks(GraphQL Java, GraphQL Java Kickstart, GraphQL Kotlin, GraphQL SPQR, Netflix DGS etc) and spring integrations, check my [Spring GraphQL Sample](https://github.com/hantsy/spring-graphql-sample). The back-end principle is similar, just some different config. \r\n\r\n\r\n\r\n","title":"How to specify DateTime in GraphQL schema?","body":"<p>Create a custom scalar for your types that is not recognized by your framework.</p>\n<p>I am not sure which graphql-java based framework you are using. I assume you are using the official <a href=\"https://spring.io/projects/spring-graphql\" rel=\"nofollow noreferrer\">Spring for GraphQL</a> from Spring team.</p>\n<ol>\n<li><p>Create a custom scalar, eg <a href=\"https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql/src/main/java/com/example/demo/gql/scalars/LocalDateTimeScalar.java\" rel=\"nofollow noreferrer\">my LocalDateTime scalar</a>.</p>\n<p>public class LocalDateTimeScalar implements Coercing&lt;LocalDateTime, String&gt; {\n@Override\npublic String serialize(Object dataFetcherResult) throws CoercingSerializeException {\nif (dataFetcherResult instanceof LocalDateTime) {\nreturn ((LocalDateTime) dataFetcherResult).format(DateTimeFormatter.ISO_DATE_TIME);\n} else {\nthrow new CoercingSerializeException(&quot;Not a valid DateTime&quot;);\n}\n}</p>\n<pre><code> @Override\n public LocalDateTime parseValue(Object input) throws CoercingParseValueException {\n     return LocalDateTime.parse(input.toString(), DateTimeFormatter.ISO_DATE_TIME);\n }\n\n @Override\n public LocalDateTime parseLiteral(Object input) throws CoercingParseLiteralException {\n     if (input instanceof StringValue) {\n         return LocalDateTime.parse(((StringValue) input).getValue(), DateTimeFormatter.ISO_DATE_TIME);\n     }\n\n     throw new CoercingParseLiteralException(&quot;Value is not a valid ISO date time&quot;);\n }\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Register it in your custom <code>RuntimeWiring</code> bean, check <a href=\"https://github.com/hantsy/spring-graphql-sample/blob/master/spring-graphql/src/main/java/com/example/demo/gql/PostsRuntimeWiring.java#L41\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Scalars {\n\n    public static GraphQLScalarType localDateTimeType() {\n        return GraphQLScalarType.newScalar()\n                .name(&quot;LocalDateTime&quot;)\n                .description(&quot;LocalDateTime type&quot;)\n                .coercing(new LocalDateTimeScalar())\n                .build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class PostsRuntimeWiring implements RuntimeWiringConfigurer {\n    private final DataFetchers dataFetchers;\n\n    @Override\n    public void configure(RuntimeWiring.Builder builder) {\n        builder\n                //...\n                .scalar(Scalars.localDateTimeType())\n                //...\n                .build();\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>If you are using Scalars in other graphql-java based frameworks(GraphQL Java, GraphQL Java Kickstart, GraphQL Kotlin, GraphQL SPQR, Netflix DGS etc) and spring integrations, check my <a href=\"https://github.com/hantsy/spring-graphql-sample\" rel=\"nofollow noreferrer\">Spring GraphQL Sample</a>. The back-end principle is similar, just some different config.</p>\n"}],"owner":{"display_name":"user15793405"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674957071,"creation_date":1670189163,"question_id":74681060,"body_markdown":"I am building my GraphQL schema for my project and one of my models has a DateTime format.\r\n\r\nHow do I write out date formats on my GraphQL schema? \r\n\r\nI tried DateTime or Date but nothing shows up.\r\n\r\nThis is the model:\r\n\r\n```  \r\npublic Integer Id;\r\npublic String name;\r\npublic String description;\r\npublic LocalDate birthDate;\r\n```\r\n\r\nThis is what&#39;s in my GraphQL schema:\r\n\r\n``` \r\ntype Pet {\r\n    id: ID!\r\n    name: String!\r\n    description: String\r\n    birthDate: DateTime\r\n} \r\n``` \r\n\r\nBut it says: \r\n\r\n&gt; Unknown type DateTime\r\n","title":"How to specify DateTime in GraphQL schema?","body":"<p>I am building my GraphQL schema for my project and one of my models has a DateTime format.</p>\n<p>How do I write out date formats on my GraphQL schema?</p>\n<p>I tried DateTime or Date but nothing shows up.</p>\n<p>This is the model:</p>\n<pre><code>public Integer Id;\npublic String name;\npublic String description;\npublic LocalDate birthDate;\n</code></pre>\n<p>This is what's in my GraphQL schema:</p>\n<pre><code>type Pet {\n    id: ID!\n    name: String!\n    description: String\n    birthDate: DateTime\n} \n</code></pre>\n<p>But it says:</p>\n<blockquote>\n<p>Unknown type DateTime</p>\n</blockquote>\n"},{"tags":["java","arrays","object","serialization","iostream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674956452,"post_id":75272074,"comment_id":132824581,"body_markdown":"What part of doing this are you stuck on?","body":"What part of doing this are you stuck on?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674956691,"post_id":75272074,"comment_id":132824612,"body_markdown":"By the way, never use an empty catch block -- if an error happens you will not know.","body":"By the way, never use an empty catch block -- if an error happens you will not know."},{"owner":{"account_id":25548214,"reputation":25,"user_id":19333146,"display_name":"Avi"},"score":0,"creation_date":1674956835,"post_id":75272074,"comment_id":132824631,"body_markdown":"I&#39;m basically stuck on where all instances of issac newton needs to be one instance but all the numbers added up so the result should be one line (Professor Issac Newton 7)","body":"I&#39;m basically stuck on where all instances of issac newton needs to be one instance but all the numbers added up so the result should be one line (Professor Issac Newton 7)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1674960992,"post_id":75272074,"comment_id":132824994,"body_markdown":"Look at the Map interface.","body":"Look at the Map interface."}],"owner":{"account_id":25548214,"reputation":25,"user_id":19333146,"display_name":"Avi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674955905,"creation_date":1674955905,"question_id":75272074,"body_markdown":"Currently I have an object array that I wrote into a .ser file. Now what I want to do is make individuals appear only once into another file with all their numbers added up. So far I wrote each line with their updated number from the function but not sure how to only make them only appear once with all the numbers added up. \r\n\r\nThis is my code: \r\n\r\npublic class IOStream {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) throws ClassNotFoundException {\r\n\r\n        Person[] people = new Person[14];\r\n        people[0] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Physcis&quot;, 6);\r\n        people[1] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Physics&quot;, 6);\r\n        people[2] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Calculus&quot;, 4);\r\n        people[3] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Calculus&quot;, 4);\r\n        people[4] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Calculus&quot;, 4);\r\n        people[5] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Physics&quot;, 6);\r\n        people[6] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Physics&quot;, 6);\r\n        people[7] = new Professor(&quot;Professor&quot;, &quot;Dimitri&quot;, &quot;Mendeleev&quot;, &quot;Chemistry&quot;, 6);\r\n        people[8] = new TA(&quot;TA&quot;, &quot;Carl&quot;, &quot;Gauss&quot;, &quot;Calculus&quot;, 4);\r\n        people[9] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Economics&quot;, 3);\r\n        people[10] = new Professor(&quot;Professor&quot;, &quot;Adam&quot;, &quot;Smith&quot;, &quot;Economics&quot;, 3);\r\n        people[11] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Chemistry&quot;, 6);\r\n        people[12] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Chemistry&quot;, 6);\r\n        people[13] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Chemistry&quot;, 6);\r\n\r\n        //WRITING\r\n        try ( ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(&quot;object.ser&quot;))) {\r\n            for (int i = 0; i &lt; people.length; i++) {\r\n                out.writeObject(people[i]);\r\n            }\r\n            out.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        //READING INPUT\r\n        try ( ObjectInputStream in = new ObjectInputStream(new FileInputStream(&quot;object.ser&quot;))) {\r\n            ObjectOutputStream writer = new ObjectOutputStream(new FileOutputStream(&quot;output.ser&quot;));\r\n            Person lol;\r\n            Person [] list;\r\n            int i;\r\n            while ((lol = (Person) in.readObject()) != null) {\r\n                \r\n               writer.writeObject(lol.title + &quot; &quot; + lol.fName + &quot; &quot; + lol.lName + &quot; &quot; + lol.getParticipatingHours(lol.courseHours));\r\n                \r\n            }\r\n        } catch (EOFException i) {\r\n            //System.out.println(&quot;lol&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            System.out.println(&quot;Error&quot;);\r\n        }       \r\n        try {\r\n            ObjectInputStream reader = new ObjectInputStream(new FileInputStream(&quot;output.ser&quot;));\r\n            Object line;\r\n            while ((line = reader.readObject()) != null) {\r\n                System.out.println(line);\r\n            }\r\n        } catch (EOFException i) {\r\n            //System.out.println(&quot;lol&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n       \r\n \r\n    }\r\n}\r\n\r\nthis is my output read from the output file: \r\nrun:\r\nProfessor Issac Newton 4\r\nTA Marie Curie 2\r\nProfessor Issac Newton 3\r\nStudent Amy Adams 4\r\nStudent Will Smith 4\r\nStudent Brad Pitt 6\r\nStudent Will Smith 6\r\nProfessor Dimitri Mendeleev 4\r\nTA Carl Gauss 1\r\nStudent Amy Adams 3\r\nProfessor Adam Smith 2\r\nTA Marie Curie 2\r\nStudent Brad Pitt 6\r\nStudent Will Smith 6\r\n","title":"Read objects from a file and output them into a single line into another file","body":"<p>Currently I have an object array that I wrote into a .ser file. Now what I want to do is make individuals appear only once into another file with all their numbers added up. So far I wrote each line with their updated number from the function but not sure how to only make them only appear once with all the numbers added up.</p>\n<p>This is my code:</p>\n<p>public class IOStream {</p>\n<pre><code>/**\n * @param args the command line arguments\n */\npublic static void main(String[] args) throws ClassNotFoundException {\n\n    Person[] people = new Person[14];\n    people[0] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Physcis&quot;, 6);\n    people[1] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Physics&quot;, 6);\n    people[2] = new Professor(&quot;Professor&quot;, &quot;Issac&quot;, &quot;Newton&quot;, &quot;Calculus&quot;, 4);\n    people[3] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Calculus&quot;, 4);\n    people[4] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Calculus&quot;, 4);\n    people[5] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Physics&quot;, 6);\n    people[6] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Physics&quot;, 6);\n    people[7] = new Professor(&quot;Professor&quot;, &quot;Dimitri&quot;, &quot;Mendeleev&quot;, &quot;Chemistry&quot;, 6);\n    people[8] = new TA(&quot;TA&quot;, &quot;Carl&quot;, &quot;Gauss&quot;, &quot;Calculus&quot;, 4);\n    people[9] = new Student(&quot;Student&quot;, &quot;Amy&quot;, &quot;Adams&quot;, &quot;Economics&quot;, 3);\n    people[10] = new Professor(&quot;Professor&quot;, &quot;Adam&quot;, &quot;Smith&quot;, &quot;Economics&quot;, 3);\n    people[11] = new TA(&quot;TA&quot;, &quot;Marie&quot;, &quot;Curie&quot;, &quot;Chemistry&quot;, 6);\n    people[12] = new Student(&quot;Student&quot;, &quot;Brad&quot;, &quot;Pitt&quot;, &quot;Chemistry&quot;, 6);\n    people[13] = new Student(&quot;Student&quot;, &quot;Will&quot;, &quot;Smith&quot;, &quot;Chemistry&quot;, 6);\n\n    //WRITING\n    try ( ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(&quot;object.ser&quot;))) {\n        for (int i = 0; i &lt; people.length; i++) {\n            out.writeObject(people[i]);\n        }\n        out.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    //READING INPUT\n    try ( ObjectInputStream in = new ObjectInputStream(new FileInputStream(&quot;object.ser&quot;))) {\n        ObjectOutputStream writer = new ObjectOutputStream(new FileOutputStream(&quot;output.ser&quot;));\n        Person lol;\n        Person [] list;\n        int i;\n        while ((lol = (Person) in.readObject()) != null) {\n            \n           writer.writeObject(lol.title + &quot; &quot; + lol.fName + &quot; &quot; + lol.lName + &quot; &quot; + lol.getParticipatingHours(lol.courseHours));\n            \n        }\n    } catch (EOFException i) {\n        //System.out.println(&quot;lol&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n        System.out.println(&quot;Error&quot;);\n    }       \n    try {\n        ObjectInputStream reader = new ObjectInputStream(new FileInputStream(&quot;output.ser&quot;));\n        Object line;\n        while ((line = reader.readObject()) != null) {\n            System.out.println(line);\n        }\n    } catch (EOFException i) {\n        //System.out.println(&quot;lol&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n   \n\n}\n</code></pre>\n<p>}</p>\n<p>this is my output read from the output file:\nrun:\nProfessor Issac Newton 4\nTA Marie Curie 2\nProfessor Issac Newton 3\nStudent Amy Adams 4\nStudent Will Smith 4\nStudent Brad Pitt 6\nStudent Will Smith 6\nProfessor Dimitri Mendeleev 4\nTA Carl Gauss 1\nStudent Amy Adams 3\nProfessor Adam Smith 2\nTA Marie Curie 2\nStudent Brad Pitt 6\nStudent Will Smith 6</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674951977,"post_id":75271629,"comment_id":132824102,"body_markdown":"*display the newly added items alongside the old items.* - just update the DefaultTableModel at the same time you write the data to the file when you add a new item. Recreating the entire TableModel would be lots of extra work, especially if you use custom renderers and editors.","body":"<i>display the newly added items alongside the old items.</i> - just update the DefaultTableModel at the same time you write the data to the file when you add a new item. Recreating the entire TableModel would be lots of extra work, especially if you use custom renderers and editors."},{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1674952369,"post_id":75271629,"comment_id":132824165,"body_markdown":"I&#39;m a bit confused about the DefaultTableModel, do I have to initialize that somewhere, or if I reference it will it automatically update the JTable? How would I update it too, is there a function for that?","body":"I&#39;m a bit confused about the DefaultTableModel, do I have to initialize that somewhere, or if I reference it will it automatically update the JTable? How would I update it too, is there a function for that?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1674988902,"post_id":75271629,"comment_id":132827885,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/table.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":25348917,"reputation":125,"user_id":19166078,"display_name":"Brian Alex"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674953540,"creation_date":1674950451,"answer_id":75271752,"question_id":75271629,"body_markdown":"Usually lists and tables are updated through their models. They represent the information shown to the user. You can try this.\r\n\r\nCreate in your class a new field. Use this field when initializing the table in your constructor.\r\n\r\n    private JTable userTable;\r\n\r\nIn your update function, try this:\r\n\r\n    DefaultTableModel model = new DefaultTableModel();\r\n    users = // fetch here for your users\r\n    for (int i = 0, i &lt; user.length, i++)\r\n        model.addRow(users[i]);\r\n    }\r\n    // finally set new model in your table\r\n    userTable.setModel(model);\r\n    userTable.doLayout();","title":"How to call the JTable function again","body":"<p>Usually lists and tables are updated through their models. They represent the information shown to the user. You can try this.</p>\n<p>Create in your class a new field. Use this field when initializing the table in your constructor.</p>\n<pre><code>private JTable userTable;\n</code></pre>\n<p>In your update function, try this:</p>\n<pre><code>DefaultTableModel model = new DefaultTableModel();\nusers = // fetch here for your users\nfor (int i = 0, i &lt; user.length, i++)\n    model.addRow(users[i]);\n}\n// finally set new model in your table\nuserTable.setModel(model);\nuserTable.doLayout();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674954568,"creation_date":1674952816,"answer_id":75271906,"question_id":75271629,"body_markdown":"&gt; Initializing the JTable (THIS IS WHAT I NEED TO REFRESH)\r\n\r\nYou don&#39;t refresh the table. The data for all Swing components is contained in a &quot;model&quot;. You change the data in the model. When changes to the model are made the table is repainted to reflect the change.\r\n\r\nSo you could either:\r\n\r\n1. create a new `DefaultTableModel` (which is unnecessary)\r\n2. update the existing `DefaultTableModel`, by using the `addRow(...)` method to update the model every time you write a new item to your file.\r\n\r\nInstead of using code like:\r\n\r\n    JTable j = new JTable(data, columnNames);\r\n\r\nYou can use:\r\n\r\n\tmodel = new DefaultTableModel(data, columnNames)\r\n\ttable = new JTable(model)\r\n\r\nNow you can access the DefaultTableModel any time you need to by creating an instance variable in your class or by using the `table.getModel()` method.\r\n","title":"How to call the JTable function again","body":"<blockquote>\n<p>Initializing the JTable (THIS IS WHAT I NEED TO REFRESH)</p>\n</blockquote>\n<p>You don't refresh the table. The data for all Swing components is contained in a &quot;model&quot;. You change the data in the model. When changes to the model are made the table is repainted to reflect the change.</p>\n<p>So you could either:</p>\n<ol>\n<li>create a new <code>DefaultTableModel</code> (which is unnecessary)</li>\n<li>update the existing <code>DefaultTableModel</code>, by using the <code>addRow(...)</code> method to update the model every time you write a new item to your file.</li>\n</ol>\n<p>Instead of using code like:</p>\n<pre><code>JTable j = new JTable(data, columnNames);\n</code></pre>\n<p>You can use:</p>\n<pre><code>model = new DefaultTableModel(data, columnNames)\ntable = new JTable(model)\n</code></pre>\n<p>Now you can access the DefaultTableModel any time you need to by creating an instance variable in your class or by using the <code>table.getModel()</code> method.</p>\n"}],"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75271906,"answer_count":2,"score":-1,"last_activity_date":1674954568,"creation_date":1674948621,"question_id":75271629,"body_markdown":"I&#39;m trying to make a GUI interface using java swing that is able to add users to a text file that I treat as a database. The GUI interface has a JTable which pulls the existing items in the text file and displays it initially. Once I go to add a new item, it gets updated on the text file but not on the JTable. This is mainly because I only call the JTable once the way I set up my code. I&#39;m wondering how I can call the JTable multiple times or make a button for it to call a refresh of the table and display the newly added items alongside the old items.\r\n\r\nI want it to be able to either call the refresh of the table in the `updateList` function or once the `viewButton` is pressed which triggers an else if statement which can do that in the `actionPerformed` function.\r\n\r\nHere is my code:\r\n\r\n    class UserManager extends JFrame implements ActionListener {\r\n    \r\n      private JTextField firstNameField, lastNameField, salaryField;\r\n      private JButton addButton, removeButton, viewButton, sortButton, getButton;\r\n      private JList&lt;Employee&gt; userList;\r\n      private ArrayList&lt;Employee&gt; users;\r\n    \r\n      public UserManager() {\r\n        setTitle(&quot;Employee Manager&quot;);\r\n        setSize(300, 300);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \r\n        firstNameField = new JTextField(20);\r\n        lastNameField = new JTextField(20);\r\n        salaryField = new JTextField(20);\r\n        addButton = new JButton(&quot;Add&quot;);\r\n        addButton.addActionListener(this);\r\n        removeButton = new JButton(&quot;Remove&quot;);\r\n        removeButton.addActionListener(this);\r\n        viewButton = new JButton(&quot;Refresh List&quot;); // POTENTIAL BUTTON TO REFRESH JTABLE?\r\n        viewButton.addActionListener(this);\r\n        sortButton = new JButton(&quot;Sort List&quot;);\r\n        sortButton.addActionListener(this);\r\n    \r\n        // Pulling data from text file database\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\r\n    \r\n        users = new ArrayList&lt;Employee&gt;();\r\n    \r\n        // Adding existing databaseData to users\r\n        for (int i = 0; i &lt; databaseData.size(); i++) {\r\n          Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\r\n          users.add(user);\r\n        }\r\n        \r\n        userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\r\n        userList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n    \r\n    \r\n        JPanel firstNamePanel = new JPanel();\r\n        firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\r\n        firstNamePanel.add(firstNameField);\r\n    \r\n        JPanel lastNamePanel = new JPanel();\r\n        lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\r\n        lastNamePanel.add(lastNameField);\r\n    \r\n        JPanel salaryPanel = new JPanel();\r\n        salaryPanel.add(new JLabel(&quot;Salary:&quot;));\r\n        salaryPanel.add(salaryField);\r\n    \r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.add(addButton);\r\n        buttonPanel.add(removeButton);\r\n        buttonPanel.add(viewButton);\r\n        buttonPanel.add(sortButton);\r\n    \r\n        \r\n        // Converting 2D arraylist to normal 2D array for JTable\r\n        String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\r\n    \r\n        // Initializing column names of JTable\r\n        String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\r\n        \r\n        // Initializing the JTable (THIS IS WHAT I NEED TO REFRESH)\r\n        JTable j = new JTable(data, columnNames);\r\n        j.setBounds(1000, 1000, 900, 900);\r\n    \r\n        // adding it to JScrollPane\r\n        JScrollPane table = new JScrollPane(j);\r\n        \r\n        JPanel mainPanel = new JPanel(new GridLayout(5, 3));\r\n        mainPanel.add(firstNamePanel);\r\n        mainPanel.add(lastNamePanel);\r\n        mainPanel.add(salaryPanel);\r\n        mainPanel.add(buttonPanel);\r\n        mainPanel.add(table);\r\n    \r\n        \r\n        add(mainPanel);\r\n      }\r\n    \r\n      public void actionPerformed(ActionEvent e) {\r\n        // &quot;Add&quot; button is clicked\r\n        if (e.getSource() == addButton) {\r\n          String firstName = firstNameField.getText();\r\n          String lastName = lastNameField.getText();\r\n          int salary = 0;\r\n          \r\n          try {\r\n              salary = Integer.parseInt(salaryField.getText());\r\n          } \r\n          catch (NumberFormatException nfe) {\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter a valid salary&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            return;\r\n          }\r\n    \r\n          // Error check to see if full name and age is entered\r\n          if (!firstName.equals(&quot;&quot;) &amp;&amp; !lastName.equals(&quot;&quot;)) {\r\n            Employee user = new Employee(firstName, lastName, salary);\r\n            users.add(user);\r\n            updateList();\r\n            firstNameField.setText(&quot;&quot;);\r\n            lastNameField.setText(&quot;&quot;);\r\n            salaryField.setText(&quot;&quot;);\r\n\r\n          }\r\n          else {\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter a valid full name&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          }\r\n    \r\n        } \r\n    \r\n    \r\n        // POTENTIAL BUTTON THAT REFRESHES JTABLE? \r\n        else if (e.getSource() == viewButton) {\r\n          \r\n        }\r\n      }\r\n    \r\n      // Updates the list after a CRUD operation is called\r\n      private void updateList() {\r\n        userList.setListData(users.toArray(new Employee[0]));\r\n    \r\n        try {\r\n          FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\r\n          // BufferedWriter bw = new BufferedWriter(fw);\r\n          // PrintWriter pw = new PrintWriter(bw);\r\n    \r\n          // Loop through each student and write to the text file\r\n          for (int i = 0; i &lt; users.size(); i++) {\r\n            fw.write(toString(users.get(i).getFirstName(), users.get(i).getLastName(), users.get(i).getSalary()));\r\n          }\r\n          fw.close();\r\n\r\n          // CALL A REFRESH FOR THE TABLE HERE??\r\n        }\r\n        catch (IOException io) {\r\n    \r\n        }\r\n    \r\n      }\r\n    \r\n    \r\n      \r\n      \r\n      // Combing multiple string and ints into a string\r\n      public String toString(String firstName, String lastName, int salary) {\r\n          return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\r\n      }\r\n    \r\n    \r\n    \r\n      // Reading database\r\n      public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\r\n        try {\r\n          // Choose grades.txt file to look at\r\n          File myObj = new File(&quot;db.txt&quot;);\r\n    \r\n          // Create scanner object\r\n          Scanner myReader = new Scanner(myObj);\r\n    \r\n          // Create 2d list array to hold all the single list arrays of single information\r\n          ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        \r\n          // While the file reader is still reading lines in the text\r\n          while (myReader.hasNextLine()) {\r\n            // Read strings of text in txt file\r\n            String data = myReader.nextLine();\r\n    \r\n            // Get first and last name from a string\r\n            ArrayList&lt;String&gt; temp = GetName(data); \r\n    \r\n            // Add the person and their salary to the combined array that holds everyones\r\n            combinedArr.add(temp);\r\n          }\r\n    \r\n          // Close file once there are no more lines to read\r\n          myReader.close();\r\n    \r\n          return combinedArr;\r\n        } \r\n        catch (FileNotFoundException e) {\r\n          System.out.println(&quot;An error occurred.&quot;);\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        // Return invalid list string with nothing if error\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        return Invalid;\r\n      }\r\n    \r\n    \r\n    \r\n      // Parses name in db\r\n      public static ArrayList&lt;String&gt; GetName(String data) {\r\n        String first = &quot;&quot;;\r\n        String last = &quot;&quot;;\r\n        String sal = &quot;&quot;;\r\n        // System.out.println(data[0])\r\n        for (int i = 0; i &lt; data.length(); i++) {\r\n          if (data.charAt(i) == &#39;,&#39;) {\r\n            // Start from 2 indexes after the first occurance of the comma\r\n            for (int j = i+2; j &lt; data.length(); j++) {\r\n              if (data.charAt(j) == &#39;,&#39;) {\r\n                for (int n = j+2; n &lt; data.length(); n++) {\r\n                  sal += data.charAt(n);\r\n                }\r\n                break;\r\n              }\r\n              last += data.charAt(j);\r\n            }\r\n            break;\r\n          }\r\n          first += data.charAt(i);\r\n        }\r\n    \r\n        // Initializing package array to send all values\r\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n        arr.add(first);\r\n        arr.add(last);\r\n        arr.add(sal);\r\n        \r\n        return arr;\r\n      }\r\n    \r\n    \r\n      public static void main(String[] args) {\r\n          UserManager frame = new UserManager();\r\n          frame.setVisible(true);\r\n      }\r\n    }\r\n    \r\n    class Employee {\r\n      // Initalizing variables\r\n      private String firstName;\r\n      private String lastName;\r\n      private int salary;\r\n    \r\n      // Assigning variables\r\n      public Employee(String firstName, String lastName, int salary) {\r\n          this.firstName = firstName;\r\n          this.lastName = lastName;\r\n          this.salary = salary;\r\n      }\r\n    \r\n      // return first name\r\n      public String getFirstName() {\r\n        return firstName;\r\n      }\r\n    \r\n      // return last name\r\n      public String getLastName() {\r\n        return lastName;\r\n      }\r\n    \r\n      // return salary\r\n      public int getSalary() {\r\n        return salary;\r\n      }\r\n    }","title":"How to call the JTable function again","body":"<p>I'm trying to make a GUI interface using java swing that is able to add users to a text file that I treat as a database. The GUI interface has a JTable which pulls the existing items in the text file and displays it initially. Once I go to add a new item, it gets updated on the text file but not on the JTable. This is mainly because I only call the JTable once the way I set up my code. I'm wondering how I can call the JTable multiple times or make a button for it to call a refresh of the table and display the newly added items alongside the old items.</p>\n<p>I want it to be able to either call the refresh of the table in the <code>updateList</code> function or once the <code>viewButton</code> is pressed which triggers an else if statement which can do that in the <code>actionPerformed</code> function.</p>\n<p>Here is my code:</p>\n<pre><code>class UserManager extends JFrame implements ActionListener {\n\n  private JTextField firstNameField, lastNameField, salaryField;\n  private JButton addButton, removeButton, viewButton, sortButton, getButton;\n  private JList&lt;Employee&gt; userList;\n  private ArrayList&lt;Employee&gt; users;\n\n  public UserManager() {\n    setTitle(&quot;Employee Manager&quot;);\n    setSize(300, 300);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    firstNameField = new JTextField(20);\n    lastNameField = new JTextField(20);\n    salaryField = new JTextField(20);\n    addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(this);\n    removeButton = new JButton(&quot;Remove&quot;);\n    removeButton.addActionListener(this);\n    viewButton = new JButton(&quot;Refresh List&quot;); // POTENTIAL BUTTON TO REFRESH JTABLE?\n    viewButton.addActionListener(this);\n    sortButton = new JButton(&quot;Sort List&quot;);\n    sortButton.addActionListener(this);\n\n    // Pulling data from text file database\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\n\n    users = new ArrayList&lt;Employee&gt;();\n\n    // Adding existing databaseData to users\n    for (int i = 0; i &lt; databaseData.size(); i++) {\n      Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\n      users.add(user);\n    }\n    \n    userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\n    userList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n\n\n    JPanel firstNamePanel = new JPanel();\n    firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\n    firstNamePanel.add(firstNameField);\n\n    JPanel lastNamePanel = new JPanel();\n    lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\n    lastNamePanel.add(lastNameField);\n\n    JPanel salaryPanel = new JPanel();\n    salaryPanel.add(new JLabel(&quot;Salary:&quot;));\n    salaryPanel.add(salaryField);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.add(addButton);\n    buttonPanel.add(removeButton);\n    buttonPanel.add(viewButton);\n    buttonPanel.add(sortButton);\n\n    \n    // Converting 2D arraylist to normal 2D array for JTable\n    String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\n\n    // Initializing column names of JTable\n    String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\n    \n    // Initializing the JTable (THIS IS WHAT I NEED TO REFRESH)\n    JTable j = new JTable(data, columnNames);\n    j.setBounds(1000, 1000, 900, 900);\n\n    // adding it to JScrollPane\n    JScrollPane table = new JScrollPane(j);\n    \n    JPanel mainPanel = new JPanel(new GridLayout(5, 3));\n    mainPanel.add(firstNamePanel);\n    mainPanel.add(lastNamePanel);\n    mainPanel.add(salaryPanel);\n    mainPanel.add(buttonPanel);\n    mainPanel.add(table);\n\n    \n    add(mainPanel);\n  }\n\n  public void actionPerformed(ActionEvent e) {\n    // &quot;Add&quot; button is clicked\n    if (e.getSource() == addButton) {\n      String firstName = firstNameField.getText();\n      String lastName = lastNameField.getText();\n      int salary = 0;\n      \n      try {\n          salary = Integer.parseInt(salaryField.getText());\n      } \n      catch (NumberFormatException nfe) {\n        JOptionPane.showMessageDialog(this, &quot;Please enter a valid salary&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        return;\n      }\n\n      // Error check to see if full name and age is entered\n      if (!firstName.equals(&quot;&quot;) &amp;&amp; !lastName.equals(&quot;&quot;)) {\n        Employee user = new Employee(firstName, lastName, salary);\n        users.add(user);\n        updateList();\n        firstNameField.setText(&quot;&quot;);\n        lastNameField.setText(&quot;&quot;);\n        salaryField.setText(&quot;&quot;);\n\n      }\n      else {\n        JOptionPane.showMessageDialog(this, &quot;Please enter a valid full name&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      }\n\n    } \n\n\n    // POTENTIAL BUTTON THAT REFRESHES JTABLE? \n    else if (e.getSource() == viewButton) {\n      \n    }\n  }\n\n  // Updates the list after a CRUD operation is called\n  private void updateList() {\n    userList.setListData(users.toArray(new Employee[0]));\n\n    try {\n      FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\n      // BufferedWriter bw = new BufferedWriter(fw);\n      // PrintWriter pw = new PrintWriter(bw);\n\n      // Loop through each student and write to the text file\n      for (int i = 0; i &lt; users.size(); i++) {\n        fw.write(toString(users.get(i).getFirstName(), users.get(i).getLastName(), users.get(i).getSalary()));\n      }\n      fw.close();\n\n      // CALL A REFRESH FOR THE TABLE HERE??\n    }\n    catch (IOException io) {\n\n    }\n\n  }\n\n\n  \n  \n  // Combing multiple string and ints into a string\n  public String toString(String firstName, String lastName, int salary) {\n      return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\n  }\n\n\n\n  // Reading database\n  public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\n    try {\n      // Choose grades.txt file to look at\n      File myObj = new File(&quot;db.txt&quot;);\n\n      // Create scanner object\n      Scanner myReader = new Scanner(myObj);\n\n      // Create 2d list array to hold all the single list arrays of single information\n      ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    \n      // While the file reader is still reading lines in the text\n      while (myReader.hasNextLine()) {\n        // Read strings of text in txt file\n        String data = myReader.nextLine();\n\n        // Get first and last name from a string\n        ArrayList&lt;String&gt; temp = GetName(data); \n\n        // Add the person and their salary to the combined array that holds everyones\n        combinedArr.add(temp);\n      }\n\n      // Close file once there are no more lines to read\n      myReader.close();\n\n      return combinedArr;\n    } \n    catch (FileNotFoundException e) {\n      System.out.println(&quot;An error occurred.&quot;);\n      e.printStackTrace();\n    }\n\n    // Return invalid list string with nothing if error\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    return Invalid;\n  }\n\n\n\n  // Parses name in db\n  public static ArrayList&lt;String&gt; GetName(String data) {\n    String first = &quot;&quot;;\n    String last = &quot;&quot;;\n    String sal = &quot;&quot;;\n    // System.out.println(data[0])\n    for (int i = 0; i &lt; data.length(); i++) {\n      if (data.charAt(i) == ',') {\n        // Start from 2 indexes after the first occurance of the comma\n        for (int j = i+2; j &lt; data.length(); j++) {\n          if (data.charAt(j) == ',') {\n            for (int n = j+2; n &lt; data.length(); n++) {\n              sal += data.charAt(n);\n            }\n            break;\n          }\n          last += data.charAt(j);\n        }\n        break;\n      }\n      first += data.charAt(i);\n    }\n\n    // Initializing package array to send all values\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n    arr.add(first);\n    arr.add(last);\n    arr.add(sal);\n    \n    return arr;\n  }\n\n\n  public static void main(String[] args) {\n      UserManager frame = new UserManager();\n      frame.setVisible(true);\n  }\n}\n\nclass Employee {\n  // Initalizing variables\n  private String firstName;\n  private String lastName;\n  private int salary;\n\n  // Assigning variables\n  public Employee(String firstName, String lastName, int salary) {\n      this.firstName = firstName;\n      this.lastName = lastName;\n      this.salary = salary;\n  }\n\n  // return first name\n  public String getFirstName() {\n    return firstName;\n  }\n\n  // return last name\n  public String getLastName() {\n    return lastName;\n  }\n\n  // return salary\n  public int getSalary() {\n    return salary;\n  }\n}\n</code></pre>\n"},{"tags":["java","android","flatmap","gpx"],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674953036,"creation_date":1674953036,"answer_id":75271918,"question_id":75271343,"body_markdown":"Figured it out. Here&#39;s my solution.\r\n\r\n    public ArrayList&lt;LatLng&gt; getWaypointLatLngs (Gpx gpx) {\r\n\r\n        ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\r\n\r\n         gpx.getTracks().stream().flatMap(track -&gt; track.getTrackSegments().stream())\r\n                .flatMap(trackPoints -&gt; trackPoints.getTrackPoints().stream())\r\n                .forEach(w -&gt; latLngPoints.add(new LatLng(w.getLatitude(), w.getLongitude())));\r\n\r\n        return latLngPoints;\r\n    }","title":"Getting all wayPoints from a GPX object by stream and map","body":"<p>Figured it out. Here's my solution.</p>\n<pre><code>public ArrayList&lt;LatLng&gt; getWaypointLatLngs (Gpx gpx) {\n\n    ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\n\n     gpx.getTracks().stream().flatMap(track -&gt; track.getTrackSegments().stream())\n            .flatMap(trackPoints -&gt; trackPoints.getTrackPoints().stream())\n            .forEach(w -&gt; latLngPoints.add(new LatLng(w.getLatitude(), w.getLongitude())));\n\n    return latLngPoints;\n}\n</code></pre>\n"}],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75271918,"answer_count":1,"score":0,"last_activity_date":1674953183,"creation_date":1674944964,"question_id":75271343,"body_markdown":"I&#39;m attempting to use com.github.ticofab:android-gpx-parser:2.2.0 in my project.\r\n\r\nMigrating from &#39;io.jenetics:jpx:2.2.0&#39;. I actually got it working in android. But later(after putting it in production) found that some GPX files will try requesting an unavailable dependency, crashing the app.\r\n\r\nThis snippet of code I was using with JPX. But I&#39;m having a hard time switching it over android-gpx-parser.\r\n\r\n    import com.google.android.gms.maps.model.LatLng;\r\n\r\n    public ArrayList&lt;LatLng&gt; getWaypointLatLngs (GPX gpx) {\r\n            ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\r\n            gpx.tracks()\r\n                .flatMap(Track::segments)\r\n                .flatMap(TrackSegment::points)\r\n                .forEach(w -&gt; latLngPoints.add(\r\n                     new LatLng( w.getLatitude().doubleValue(), w.getLongitude().doubleValue())));\r\n            return latLngPoints;\r\n        }\r\n\r\nHere&#39;s what I&#39;m trying to do with android-gpx-parser.\r\n\r\n    public ArrayList&lt;LatLng&gt; getWaypointLatLngs (Gpx gpx) {\r\n        ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\r\n        gpx.getTracks().stream().flatMap(Track::getTrackSegments)\r\n                .flatMap(TrackSegment::getTrackPoints)\r\n                .forEach(w -&gt; latLngPoints.add(\r\n                    new LatLng( w.getLatitude().doubleValue(), w.getLongitude().doubleValue())));\r\n        return latLngPoints;\r\n    }\r\n\r\nThe IDE is tell me I&#39;m declaring a method reference and it is expecting a Function (with map or flatMap).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs there an elegant way of getting all waypoints (points) with from a Gpx object using android-gpx-parser?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JE63L.png","title":"Getting all wayPoints from a GPX object by stream and map","body":"<p>I'm attempting to use com.github.ticofab:android-gpx-parser:2.2.0 in my project.</p>\n<p>Migrating from 'io.jenetics:jpx:2.2.0'. I actually got it working in android. But later(after putting it in production) found that some GPX files will try requesting an unavailable dependency, crashing the app.</p>\n<p>This snippet of code I was using with JPX. But I'm having a hard time switching it over android-gpx-parser.</p>\n<pre><code>import com.google.android.gms.maps.model.LatLng;\n\npublic ArrayList&lt;LatLng&gt; getWaypointLatLngs (GPX gpx) {\n        ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\n        gpx.tracks()\n            .flatMap(Track::segments)\n            .flatMap(TrackSegment::points)\n            .forEach(w -&gt; latLngPoints.add(\n                 new LatLng( w.getLatitude().doubleValue(), w.getLongitude().doubleValue())));\n        return latLngPoints;\n    }\n</code></pre>\n<p>Here's what I'm trying to do with android-gpx-parser.</p>\n<pre><code>public ArrayList&lt;LatLng&gt; getWaypointLatLngs (Gpx gpx) {\n    ArrayList&lt;LatLng&gt; latLngPoints = new ArrayList&lt;&gt;();\n    gpx.getTracks().stream().flatMap(Track::getTrackSegments)\n            .flatMap(TrackSegment::getTrackPoints)\n            .forEach(w -&gt; latLngPoints.add(\n                new LatLng( w.getLatitude().doubleValue(), w.getLongitude().doubleValue())));\n    return latLngPoints;\n}\n</code></pre>\n<p>The IDE is tell me I'm declaring a method reference and it is expecting a Function (with map or flatMap).</p>\n<p><a href=\"https://i.stack.imgur.com/JE63L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JE63L.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there an elegant way of getting all waypoints (points) with from a Gpx object using android-gpx-parser?</p>\n"},{"tags":["java","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":20537776,"reputation":1,"user_id":15073402,"display_name":"SpicedPine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611560787,"creation_date":1611532635,"answer_id":65877309,"question_id":60759399,"body_markdown":"May be you are just missing packaging properties at your pom.xml files? Adding war packaging worked for me.\r\n\r\n```xml\r\n&lt;packaging&gt;war&lt;/packaging&gt;","title":"&quot;java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present &quot;","body":"<p>May be you are just missing packaging properties at your pom.xml files? Adding war packaging worked for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8436933,"reputation":67,"user_id":6330806,"display_name":"Andres Camilo Sierra Hormiga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674951799,"creation_date":1674951799,"answer_id":75271825,"question_id":60759399,"body_markdown":"You should check:\r\n* The order of your POM dependencies\r\n* The status of your Build Path.\r\n\r\nTypeNotPresentException is thrown when java can&#39;t find the definition of a Type, attempted to be accesed using a specified name [more][1].\r\n\r\n\r\nThe problem could be that java can&#39;t find a specific type in your .POM dependencies before Spring ORM. Check if you are declaring hibernate-core dependency BEFORE spring orm in your  POM.\r\n\r\nAlso check if there is a package named &quot;types&quot; inside of &quot;hibernate-core&quot;.\r\n\r\nIf it doesn&#39;t work, check if your build path is correct.\r\n\r\n  [1]: https://rollbar.com/blog/java-typenotpresentexception/","title":"&quot;java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present &quot;","body":"<p>You should check:</p>\n<ul>\n<li>The order of your POM dependencies</li>\n<li>The status of your Build Path.</li>\n</ul>\n<p>TypeNotPresentException is thrown when java can't find the definition of a Type, attempted to be accesed using a specified name <a href=\"https://rollbar.com/blog/java-typenotpresentexception/\" rel=\"nofollow noreferrer\">more</a>.</p>\n<p>The problem could be that java can't find a specific type in your .POM dependencies before Spring ORM. Check if you are declaring hibernate-core dependency BEFORE spring orm in your  POM.</p>\n<p>Also check if there is a package named &quot;types&quot; inside of &quot;hibernate-core&quot;.</p>\n<p>If it doesn't work, check if your build path is correct.</p>\n"}],"owner":{"account_id":16276379,"reputation":1,"user_id":11753450,"display_name":"IsoKing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674951799,"creation_date":1584628803,"question_id":60759399,"body_markdown":" I have  &quot;java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present &quot;  Error when trying to run spring MVC project with hibernate + tomcat on intelliJIdea.\r\n\r\nHere is my Dependencies in pom.xml\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.5.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.12.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.15&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n                &lt;version&gt;1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Test --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.7&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n                &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;C:/Users/egulocak/Downloads/ojdbc-full(1)/OJDBC-Full/ojdbc6.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;      \r\n\r\n**My Dispatcher.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans\r\n            xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n            xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n            xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n            xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd&quot;&gt;\r\n    \r\n        &lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing\r\n            infrastructure --&gt;\r\n        &lt;context:component-scan base-package=&quot;com.efe.*&quot; /&gt;\r\n        &lt;context:annotation-config /&gt;\r\n        &lt;annotation-driven /&gt;\r\n    \r\n    \r\n        &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n    \r\n    \r\n        &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving\r\n            up static resources in the ${webappRoot}/resources directory --&gt;\r\n    \r\n    \r\n        &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources\r\n            in the /WEB-INF/views directory --&gt;\r\n        &lt;beans:bean\r\n                class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n            &lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;dataSource&quot;\r\n                    class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n            &lt;beans:property name=&quot;driverClass&quot;\r\n                            value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\r\n            &lt;beans:property name=&quot;jdbcUrl&quot;\r\n                            value=&quot;jdbc:oracle:thin:hr@//localhost:1521.org:1521/xe&quot; /&gt;\r\n            &lt;beans:property name=&quot;user&quot; value=&quot;hr&quot; /&gt;\r\n            &lt;beans:property name=&quot;password&quot; value=&quot;hr&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;sessionFactory&quot;\r\n                    class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n            &lt;beans:property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n            &lt;beans:property name=&quot;hibernateProperties&quot;&gt;\r\n                &lt;beans:props&gt;\r\n                    &lt;beans:prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.Oracle10gDialect\r\n                    &lt;/beans:prop&gt;\r\n                    &lt;beans:prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/beans:prop&gt;\r\n                    &lt;beans:prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n                    &lt;beans:prop key=&quot;hibernate.format_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n                &lt;/beans:props&gt;\r\n            &lt;/beans:property&gt;\r\n    \r\n    \r\n            &lt;beans:property name=&quot;packagesToScan&quot;\r\n                            value=&quot;com.efe.entities&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n    \r\n        &lt;beans:bean id=&quot;hibernateTransactionManager&quot;\r\n                        class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n            &lt;beans:property name=&quot;sessionFactory&quot;\r\n                            ref=&quot;sessionFactory&quot; /&gt;\r\n        &lt;/beans:bean&gt;\r\n        &lt;tx:annotation-driven\r\n                transaction-manager=&quot;hibernateTransactionManager&quot; /&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    &lt;/beans:beans&gt;\r\n\r\n**My Entity**\r\n\r\n    @Entity\r\n    @Table(name=&quot;person&quot;)\r\n    public class Person {\r\n    \r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        private String name;\r\n    \r\n        private String country;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n    \r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n    }\r\n\r\n\r\nHomeController\r\n\r\n    @Controller\r\n    public class HomeController {\r\n    \r\n        @Autowired\r\n        SessionFactory sessionFactory;\r\n    \r\n    \r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public String index(Model m) {\r\n            m.addAttribute(&quot;someAttribute&quot;, &quot;someValue&quot;);\r\n    \r\n    \r\n    \r\n            Person person = new Person();\r\n            person.setId(1);\r\n            person.setName(&quot;efe&quot;);\r\n            person.setCountry(&quot;Italy&quot;);\r\n    \r\n            sessionFactory.getCurrentSession().save(person);\r\n    \r\n               return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\nApllciations runs on server but I am getting 500 Internal Server Error with \r\n\r\njava.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present\r\n\r\n\r\n","title":"&quot;java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present &quot;","body":"<p>I have  \"java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present \"  Error when trying to run spring MVC project with hibernate + tomcat on intelliJIdea.</p>\n\n<p>Here is my Dependencies in pom.xml</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.5.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.0.12.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;11.2.0.3&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;C:/Users/egulocak/Downloads/ojdbc-full(1)/OJDBC-Full/ojdbc6.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.8.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;      \n</code></pre>\n\n<p><strong>My Dispatcher.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans\n        xmlns=\"http://www.springframework.org/schema/mvc\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:beans=\"http://www.springframework.org/schema/beans\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:tx=\"http://www.springframework.org/schema/tx\"\n        xsi:schemaLocation=\"http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.3.xsd\"&gt;\n\n    &lt;!-- DispatcherServlet Context: defines this servlet's request-processing\n        infrastructure --&gt;\n    &lt;context:component-scan base-package=\"com.efe.*\" /&gt;\n    &lt;context:annotation-config /&gt;\n    &lt;annotation-driven /&gt;\n\n\n    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n\n\n    &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving\n        up static resources in the ${webappRoot}/resources directory --&gt;\n\n\n    &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources\n        in the /WEB-INF/views directory --&gt;\n    &lt;beans:bean\n            class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n        &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"dataSource\"\n                class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"&gt;\n        &lt;beans:property name=\"driverClass\"\n                        value=\"oracle.jdbc.OracleDriver\" /&gt;\n        &lt;beans:property name=\"jdbcUrl\"\n                        value=\"jdbc:oracle:thin:hr@//localhost:1521.org:1521/xe\" /&gt;\n        &lt;beans:property name=\"user\" value=\"hr\" /&gt;\n        &lt;beans:property name=\"password\" value=\"hr\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"sessionFactory\"\n                class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n        &lt;beans:property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;beans:property name=\"hibernateProperties\"&gt;\n            &lt;beans:props&gt;\n                &lt;beans:prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.Oracle10gDialect\n                &lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.show_sql\"&gt;true&lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.format_sql\"&gt;true&lt;/beans:prop&gt;\n            &lt;/beans:props&gt;\n        &lt;/beans:property&gt;\n\n\n        &lt;beans:property name=\"packagesToScan\"\n                        value=\"com.efe.entities\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"hibernateTransactionManager\"\n                    class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\"&gt;\n        &lt;beans:property name=\"sessionFactory\"\n                        ref=\"sessionFactory\" /&gt;\n    &lt;/beans:bean&gt;\n    &lt;tx:annotation-driven\n            transaction-manager=\"hibernateTransactionManager\" /&gt;\n\n\n\n\n\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p><strong>My Entity</strong></p>\n\n<pre><code>@Entity\n@Table(name=\"person\")\npublic class Person {\n\n    @Id\n    @Column(name=\"id\")\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n\n    private String name;\n\n    private String country;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n}\n</code></pre>\n\n<p>HomeController</p>\n\n<pre><code>@Controller\npublic class HomeController {\n\n    @Autowired\n    SessionFactory sessionFactory;\n\n\n\n    @GetMapping(\"/\")\n    public String index(Model m) {\n        m.addAttribute(\"someAttribute\", \"someValue\");\n\n\n\n        Person person = new Person();\n        person.setId(1);\n        person.setName(\"efe\");\n        person.setCountry(\"Italy\");\n\n        sessionFactory.getCurrentSession().save(person);\n\n           return \"index\";\n    }\n}\n</code></pre>\n\n<p>Apllciations runs on server but I am getting 500 Internal Server Error with </p>\n\n<p>java.lang.TypeNotPresentException: Type org.hibernate.SessionFactory not present</p>\n"},{"tags":["java","spring-boot","jhipster"],"owner":{"account_id":26708254,"reputation":1,"user_id":20314094,"display_name":"MartinBill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674950920,"creation_date":1674950920,"question_id":75271777,"body_markdown":"When generating an application with version 7.9.3, during the questions to configure which modules to install, the modules for integrations with social networks and the type of cache do not appear.\r\n\r\n[enter image description here](https://i.stack.imgur.com/Iqbq9.png)\r\n\r\nDoes anyone know why they aren&#39;t there? In the old versions (I&#39;ve seen some tutorials so I can&#39;t say which one/s exactly) they were present.\r\n\r\n[enter image description here](https://i.stack.imgur.com/DGfIi.png)\r\n\r\nI want to add them to my application and I was considering possibly adding them from the marketplace. I found the social module, but I can&#39;t find the proposed cache types (redis, caffeine..)\r\n\r\nThank you in advance","title":"JHipster 7.x missing modules?","body":"<p>When generating an application with version 7.9.3, during the questions to configure which modules to install, the modules for integrations with social networks and the type of cache do not appear.</p>\n<p><a href=\"https://i.stack.imgur.com/Iqbq9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Does anyone know why they aren't there? In the old versions (I've seen some tutorials so I can't say which one/s exactly) they were present.</p>\n<p><a href=\"https://i.stack.imgur.com/DGfIi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to add them to my application and I was considering possibly adding them from the marketplace. I found the social module, but I can't find the proposed cache types (redis, caffeine..)</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","spring-boot","sentry"],"comments":[{"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"score":0,"creation_date":1605914874,"post_id":64938132,"comment_id":114808874,"body_markdown":"Do you use Spring MVC there? `@GET` and `@Path` look like JAX-RS to me. Nevertheless, Logback integration should work for you. Try the latest sentry-logback from 3.x: https://docs.sentry.io/platforms/java/guides/logback/","body":"Do you use Spring MVC there? <code>@GET</code> and <code>@Path</code> look like JAX-RS to me. Nevertheless, Logback integration should work for you. Try the latest sentry-logback from 3.x: <a href=\"https://docs.sentry.io/platforms/java/guides/logback/\" rel=\"nofollow noreferrer\">docs.sentry.io/platforms/java/guides/logback</a>"},{"owner":{"account_id":5080491,"reputation":15121,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1605915863,"post_id":64938132,"comment_id":114809059,"body_markdown":"Yes - your&#39;e righ tis is JAX-RS.  Would this explain why the exception handler isn&#39;t picked up?  I will try with a proper spring controller.  Regarding logback, I&#39;ll try the updated logback repo, but can you help me understand what adding this logback dependency is actually doing?  The linked thread was resolved this way too and I don&#39;t understand why some logging framework would affect an error handler getting called...?","body":"Yes - your&#39;e righ tis is JAX-RS.  Would this explain why the exception handler isn&#39;t picked up?  I will try with a proper spring controller.  Regarding logback, I&#39;ll try the updated logback repo, but can you help me understand what adding this logback dependency is actually doing?  The linked thread was resolved this way too and I don&#39;t understand why some logging framework would affect an error handler getting called...?"},{"owner":{"account_id":5080491,"reputation":15121,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1605916589,"post_id":64938132,"comment_id":114809197,"body_markdown":"@MaciejWalkowiak - HA you were right, ti was becase I&#39;m using JAX-RS.  Thanks for catching.  This is an inherited project and I didn&#39;t really even notice the difference... if you want to poast as answer I&#39;ll accept and give you rep","body":"@MaciejWalkowiak - HA you were right, ti was becase I&#39;m using JAX-RS.  Thanks for catching.  This is an inherited project and I didn&#39;t really even notice the difference... if you want to poast as answer I&#39;ll accept and give you rep"}],"answers":[{"tags":[],"owner":{"account_id":1186616,"reputation":12512,"user_id":1160445,"display_name":"Maciej Walkowiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1606119566,"creation_date":1606119566,"answer_id":64964731,"question_id":64938132,"body_markdown":"It seems you are using JAX-RS and not Spring MVC. There is no JAX-RS - Sentry integration working out of the box. \r\n\r\nTo forward exceptions to Sentry you can also use `sentry-logback` integration. You can configure Logback to forward any logger error to Sentry. The drawback of not having Spring integration there too is that errors are not decorated with contextual information from the HTTP request.","title":"Sentry in Spring 1.X simply does not work","body":"<p>It seems you are using JAX-RS and not Spring MVC. There is no JAX-RS - Sentry integration working out of the box.</p>\n<p>To forward exceptions to Sentry you can also use <code>sentry-logback</code> integration. You can configure Logback to forward any logger error to Sentry. The drawback of not having Spring integration there too is that errors are not decorated with contextual information from the HTTP request.</p>\n"}],"owner":{"account_id":5080491,"reputation":15121,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64964731,"answer_count":1,"score":1,"last_activity_date":1674950706,"creation_date":1605913919,"question_id":64938132,"body_markdown":"We have a spring 1.5.17 app and are trying to simply integrate Sentry.  Because this is an older version of Spring (no upgrading isn&#39;t a possiblity), we&#39;re following Sentry&#39;s `Legacy SDK 1.7` directions [here][1].  It&#39;s quite straightforward.\r\n\r\n## Configuration\r\n\r\nHere is pom.  We use other spring libraries like logging/actuator/jpa as well but not showing for clarity.  All the same spring version.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.sentry&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sentry-spring&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.30&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.17.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdditionally, added `sentry.properties` file under `src/main/resources`.\r\n\r\n    enabled=true\r\n    dsn=***\r\n    environment=uat\r\n    sample.rate=1.0\r\n    stacktrace.app.packages=com.pls\r\n    stacktrace.hidecommon=false\r\n\r\n## Application\r\n\r\nCreated a boilerplate configuration file overwriting the two beans as per sentry docs.\r\n\r\n    @Configuration\r\n    public class SentryConfig {\r\n    \r\n        @Bean\r\n        public HandlerExceptionResolver sentryExceptionResolver() {\r\n            return new io.sentry.spring.SentryExceptionResolver();\r\n        }\r\n    \r\n        @Bean\r\n        public ServletContextInitializer sentryServletContextInitializer() {\r\n            return new io.sentry.spring.SentryServletContextInitializer();\r\n        }\r\n    }\r\n\r\nVia breakpoints, I&#39;ve confirmed that these beans are initializing and they are getting the properties from `sentry.properties` correctly.  A [related thread][2], I found that if I manually make `SentryClient.captureEvent(event)` calls, then events show up in sentry.  **This means that the sentry client is setup correctly and working, but spring isn&#39;t actually ever calling `.captureEvent()`.**\r\n\r\nTo confirm my suspicion, I stepped into the SentryExceptionResolver bean and confirmed the code never hits this breakpoint.\r\n\r\n[![enter image description here][3]][3] \r\n\r\nI&#39;ve tried to trigger the breakpoint by throwing dummy errors in a `@RestController` ie.\r\n\r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    public Object throwError(){\r\n      LOGGER.error(&quot;ERROR BEING LOGGED&quot;);\r\n      throw new RuntimeException(&quot;ERROR THROWN&quot;);\r\n    }\r\n\r\nWhile this error is certainly thrown in the console logs, it does NOT trigger the `.capture()` codepath.\r\n\r\n## Logging?\r\n\r\nThe [related thread][2] mentions something with logging modules, but I don&#39;t understand how that&#39;s related.  `sentry-spring` dependency is loading all the app needs and the client is being initialized, just never actually called!!\r\n\r\nRegardless, I tried adding various logging dependencies (eg. logback as described in this [sentry doc][4]) to no avail.  What could possibly be missing from my configuration!?!?\r\n\r\nIn case it matters, we do use spring-boot-starter-logging...\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nNote that when I add `sentry-logback` dependency, the app doesnt load.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://docs.sentry.io/platforms/java/legacy/spring/\r\n  [2]: https://stackoverflow.com/questions/62797517/sentry-not-capturing-exceptions-automatically-in-a-spring-boot-application\r\n  [3]: https://i.stack.imgur.com/DWTsW.png\r\n  [4]: https://docs.sentry.io/platforms/java/legacy/logback/\r\n  [5]: https://i.stack.imgur.com/IWxil.png","title":"Sentry in Spring 1.X simply does not work","body":"<p>We have a spring 1.5.17 app and are trying to simply integrate Sentry.  Because this is an older version of Spring (no upgrading isn't a possiblity), we're following Sentry's <code>Legacy SDK 1.7</code> directions <a href=\"https://docs.sentry.io/platforms/java/legacy/spring/\" rel=\"nofollow noreferrer\">here</a>.  It's quite straightforward.</p>\n<h2>Configuration</h2>\n<p>Here is pom.  We use other spring libraries like logging/actuator/jpa as well but not showing for clarity.  All the same spring version.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.sentry&lt;/groupId&gt;\n    &lt;artifactId&gt;sentry-spring&lt;/artifactId&gt;\n    &lt;version&gt;1.7.30&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;1.5.17.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Additionally, added <code>sentry.properties</code> file under <code>src/main/resources</code>.</p>\n<pre><code>enabled=true\ndsn=***\nenvironment=uat\nsample.rate=1.0\nstacktrace.app.packages=com.pls\nstacktrace.hidecommon=false\n</code></pre>\n<h2>Application</h2>\n<p>Created a boilerplate configuration file overwriting the two beans as per sentry docs.</p>\n<pre><code>@Configuration\npublic class SentryConfig {\n\n    @Bean\n    public HandlerExceptionResolver sentryExceptionResolver() {\n        return new io.sentry.spring.SentryExceptionResolver();\n    }\n\n    @Bean\n    public ServletContextInitializer sentryServletContextInitializer() {\n        return new io.sentry.spring.SentryServletContextInitializer();\n    }\n}\n</code></pre>\n<p>Via breakpoints, I've confirmed that these beans are initializing and they are getting the properties from <code>sentry.properties</code> correctly.  A <a href=\"https://stackoverflow.com/questions/62797517/sentry-not-capturing-exceptions-automatically-in-a-spring-boot-application\">related thread</a>, I found that if I manually make <code>SentryClient.captureEvent(event)</code> calls, then events show up in sentry.  <strong>This means that the sentry client is setup correctly and working, but spring isn't actually ever calling <code>.captureEvent()</code>.</strong></p>\n<p>To confirm my suspicion, I stepped into the SentryExceptionResolver bean and confirmed the code never hits this breakpoint.</p>\n<p><a href=\"https://i.stack.imgur.com/DWTsW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWTsW.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried to trigger the breakpoint by throwing dummy errors in a <code>@RestController</code> ie.</p>\n<pre><code>@GET\n@Path(&quot;/test&quot;)\npublic Object throwError(){\n  LOGGER.error(&quot;ERROR BEING LOGGED&quot;);\n  throw new RuntimeException(&quot;ERROR THROWN&quot;);\n}\n</code></pre>\n<p>While this error is certainly thrown in the console logs, it does NOT trigger the <code>.capture()</code> codepath.</p>\n<h2>Logging?</h2>\n<p>The <a href=\"https://stackoverflow.com/questions/62797517/sentry-not-capturing-exceptions-automatically-in-a-spring-boot-application\">related thread</a> mentions something with logging modules, but I don't understand how that's related.  <code>sentry-spring</code> dependency is loading all the app needs and the client is being initialized, just never actually called!!</p>\n<p>Regardless, I tried adding various logging dependencies (eg. logback as described in this <a href=\"https://docs.sentry.io/platforms/java/legacy/logback/\" rel=\"nofollow noreferrer\">sentry doc</a>) to no avail.  What could possibly be missing from my configuration!?!?</p>\n<p>In case it matters, we do use spring-boot-starter-logging...</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note that when I add <code>sentry-logback</code> dependency, the app doesnt load.</p>\n<p><a href=\"https://i.stack.imgur.com/IWxil.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWxil.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","firefox"],"comments":[{"owner":{"account_id":8760755,"reputation":951,"user_id":6550782,"display_name":"Raj Paliwal"},"score":0,"creation_date":1573558562,"post_id":58817626,"comment_id":103913108,"body_markdown":"Would like to suggest you to provide code snippet in here itself instead of the image. It is not good practice to ask questions using image and expect  answers","body":"Would like to suggest you to provide code snippet in here itself instead of the image. It is not good practice to ask questions using image and expect  answers"},{"owner":{"account_id":7020410,"reputation":508,"user_id":5380023,"accept_rate":75,"display_name":"Pankaj Devrani"},"score":0,"creation_date":1573573925,"post_id":58817626,"comment_id":103921259,"body_markdown":"make sure your user have read write access for gecodriver.exe also make sure your anti virus is not preventing you from copying the gecodriver.exe.","body":"make sure your user have read write access for gecodriver.exe also make sure your anti virus is not preventing you from copying the gecodriver.exe."}],"answers":[{"tags":[],"owner":{"account_id":8760755,"reputation":951,"user_id":6550782,"display_name":"Raj Paliwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573558504,"creation_date":1573558504,"answer_id":58817891,"question_id":58817626,"body_markdown":"Please make sure the mentioned path i.e. E:/ is accessible.\r\n\r\nOne of the solution is try to move gecko into some other directory.\r\n\r\n    driver = webdriver.Firefox(&#39;&lt;new directory&gt;/geckodriver.exe&#39;)","title":"Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: permission denied","body":"<p>Please make sure the mentioned path i.e. E:/ is accessible.</p>\n\n<p>One of the solution is try to move gecko into some other directory.</p>\n\n<pre><code>driver = webdriver.Firefox('&lt;new directory&gt;/geckodriver.exe')\n</code></pre>\n"}],"owner":{"account_id":10595437,"reputation":19,"user_id":7804330,"display_name":"Sumaiya Sirat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674950136,"creation_date":1573557642,"question_id":58817626,"body_markdown":"This code is not running even when i find nothing wrong.\r\n\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZI9tx.png","title":"Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: permission denied","body":"<p>This code is not running even when i find nothing wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/ZI9tx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZI9tx.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9300,"page":692,"page_size":100}
