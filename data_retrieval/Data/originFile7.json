{"items":[{"tags":["java","visual-studio","compiler-errors"],"comments":[{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":1,"creation_date":1702133519,"post_id":77631150,"comment_id":136860993,"body_markdown":"(1)  Please post code, not a picture of code. (2) Your screen-shot shows a compiler error at compile time, not runtime. (3) Sorry, I don&#39;t use VScode so cannot help, but I would guess that it&#39;s a &#39;setting&#39;. Have you looked?","body":"(1)  Please post code, not a picture of code. (2) Your screen-shot shows a compiler error at compile time, not runtime. (3) Sorry, I don&#39;t use VScode so cannot help, but I would guess that it&#39;s a &#39;setting&#39;. Have you looked?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702134012,"post_id":77631150,"comment_id":136861036,"body_markdown":"It is impossible you are seeing a parsing error like missing a semi colon at runtime in Java. It is a compilation error. If compilation failed there is nothing to execute. Please clarify your question.","body":"It is impossible you are seeing a parsing error like missing a semi colon at runtime in Java. It is a compilation error. If compilation failed there is nothing to execute. Please clarify your question."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":0,"creation_date":1702136389,"post_id":77631150,"comment_id":136861264,"body_markdown":"The question seems clear enough - his IDE (VScode) used to provide an on-screen indication of such syntax errors, and now it does not. The question: &quot;why?&quot;.","body":"The question seems clear enough - his IDE (VScode) used to provide an on-screen indication of such syntax errors, and now it does not. The question: &quot;why?&quot;."}],"owner":{"account_id":30104733,"reputation":1,"user_id":23070902,"display_name":"Ch Navadeep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702143218,"answer_count":0,"score":-1,"last_activity_date":1702122699,"creation_date":1702122699,"question_id":77631150,"body_markdown":"VS Code not showing compile-time errors for missing semicolons or brackets in Java, errors only show at runtime.\r\n\r\n\r\nearlier my vs code used to show missing semicolons and brackets. from past few days it is not showing anything[enter image description here](https://i.stack.imgur.com/mB3yt.png)","title":"VS Code not showing compile-time errors for missing semicolons or brackets in Java, errors only show at runtime","body":"<p>VS Code not showing compile-time errors for missing semicolons or brackets in Java, errors only show at runtime.</p>\n<p>earlier my vs code used to show missing semicolons and brackets. from past few days it is not showing anything<a href=\"https://i.stack.imgur.com/mB3yt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","junit","junit4"],"comments":[{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":0,"creation_date":1702076071,"post_id":77629492,"comment_id":136857234,"body_markdown":"This is unlikely to be possible out of the box. Tests are all about determinism. But you can create one test and call 2 of 3 scenarios with assertions inside it in any way you choose include random.","body":"This is unlikely to be possible out of the box. Tests are all about determinism. But you can create one test and call 2 of 3 scenarios with assertions inside it in any way you choose include random."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1702076206,"post_id":77629492,"comment_id":136857248,"body_markdown":"Why do you want to call a random number of tests instead of running all of them?","body":"Why do you want to call a random number of tests instead of running all of them?"}],"answers":[{"tags":[],"owner":{"account_id":30101643,"reputation":1,"user_id":23068595,"display_name":"cassidy friend"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1702077623,"creation_date":1702077623,"answer_id":77629594,"question_id":77629492,"body_markdown":"you will need to make the objects static and then where it says import and have your test number run here replace it and call your objects.\r\n\r\n    for(int i = 0; i &lt; 2; i++) {\r\n\t\t\t//this switch makes checks for a random number between 1 and 3\r\n\t\t\tswitch((int)Math.floor(Math.random()*(3-1+1)+1)) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\t// import and have test 1 run here\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\t// import and have test 2 run here\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\t// import and have test 3 run here\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}","title":"How to run Junit tests at random number","body":"<p>you will need to make the objects static and then where it says import and have your test number run here replace it and call your objects.</p>\n<pre><code>for(int i = 0; i &lt; 2; i++) {\n        //this switch makes checks for a random number between 1 and 3\n        switch((int)Math.floor(Math.random()*(3-1+1)+1)) {\n            case 1:\n                // import and have test 1 run here\n                break;\n            case 2:\n                // import and have test 2 run here\n                break;\n            case 3:\n                // import and have test 3 run here\n                break;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702121450,"creation_date":1702121450,"answer_id":77631096,"question_id":77629492,"body_markdown":"**Using Junit, this is not possible out of the box**. You would have to write a custom `org.junit.runner.Runner` implementation to achieve this. \r\n\r\nHowever, I think what you are asking is [an XY problem][1]. You should ask yourself why doing something like this is necessary. Junit5 for instance provides tonnes of methods [to run tests conditionally][2], depending on Java version, env variables, specific OS, etc. So you can decide wether to run tests either [statically][3] or [dynamically][4] (depending on the runtime conditions) in Junit. Most likely that is what you want. \r\n\r\n\r\n  [1]: https://xyproblem.info/\r\n  [2]: https://www.baeldung.com/junit-5-conditional-test-execution\r\n  [3]: https://junit.org/junit5/docs/5.0.0-M2/api/org/junit/jupiter/api/Disabled.html#:~:text=%40Disabled%20is%20used%20to%20signal,are%20automatically%20disabled%20as%20well.\r\n  [4]: https://junit.org/junit5/docs/5.2.0/api/org/junit/jupiter/api/condition/DisabledOnOs.html","title":"How to run Junit tests at random number","body":"<p><strong>Using Junit, this is not possible out of the box</strong>. You would have to write a custom <code>org.junit.runner.Runner</code> implementation to achieve this.</p>\n<p>However, I think what you are asking is <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">an XY problem</a>. You should ask yourself why doing something like this is necessary. Junit5 for instance provides tonnes of methods <a href=\"https://www.baeldung.com/junit-5-conditional-test-execution\" rel=\"nofollow noreferrer\">to run tests conditionally</a>, depending on Java version, env variables, specific OS, etc. So you can decide wether to run tests either <a href=\"https://junit.org/junit5/docs/5.0.0-M2/api/org/junit/jupiter/api/Disabled.html#:%7E:text=%40Disabled%20is%20used%20to%20signal,are%20automatically%20disabled%20as%20well.\" rel=\"nofollow noreferrer\">statically</a> or <a href=\"https://junit.org/junit5/docs/5.2.0/api/org/junit/jupiter/api/condition/DisabledOnOs.html\" rel=\"nofollow noreferrer\">dynamically</a> (depending on the runtime conditions) in Junit. Most likely that is what you want.</p>\n"}],"owner":{"account_id":14382262,"reputation":53,"user_id":10389122,"display_name":"HELENDOUDOU"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702121450,"creation_date":1702075048,"question_id":77629492,"body_markdown":"I have a test suite class `TestSuite` and `TestA` class\r\n\r\n```java\r\n    @RunWith(Suite.class)\r\n    @Suite.SuiteClasses({TestA.class})\r\n    public class TestSuite {\r\n    }\r\n```\r\n\r\n```java\r\n    public class TestA {\r\n    \r\n        @Test\r\n        public void test1(){\r\n            System.out.println(&quot;test1&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test2(){\r\n            System.out.println(&quot;test2&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test3(){\r\n            System.out.println(&quot;test3&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nHow to randomly run just 2 tests of all 3? Searched and looks like I need to create a custom runner. Any example for this? Thanks!","title":"How to run Junit tests at random number","body":"<p>I have a test suite class <code>TestSuite</code> and <code>TestA</code> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RunWith(Suite.class)\n    @Suite.SuiteClasses({TestA.class})\n    public class TestSuite {\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public class TestA {\n    \n        @Test\n        public void test1(){\n            System.out.println(&quot;test1&quot;);\n        }\n    \n        @Test\n        public void test2(){\n            System.out.println(&quot;test2&quot;);\n        }\n    \n        @Test\n        public void test3(){\n            System.out.println(&quot;test3&quot;);\n        }\n    }\n</code></pre>\n<p>How to randomly run just 2 tests of all 3? Searched and looks like I need to create a custom runner. Any example for this? Thanks!</p>\n"},{"tags":["java","android-recyclerview"],"owner":{"account_id":30104407,"reputation":1,"user_id":23070649,"display_name":"DonBlitzkrieg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702120952,"creation_date":1702120952,"question_id":77631077,"body_markdown":"[enter image description here](https://i.stack.imgur.com/V1qvs.png)\r\n\r\n`database structure\r\n/firestore-database\r\n    /users\r\n        - test1\r\n            - items\r\n                - milk\r\n                - coke\r\n        - test2\r\n            - items\r\n                - milk\r\n                - coke\r\n                - coffee\r\n\r\ni could run the code no problem but when i go to the StockScreen it kicks me out and put me to the last visited Sreen/Page`\r\n\r\n\r\n\r\n```\r\npublic class StockScreen extends AppCompatActivity {\r\n    private static final String TAG = &quot;StockScreen&quot;;\r\n    private ArrayList&lt;Item&gt; itemList;\r\n    private RecyclerView recyclerView;\r\n    private recyclerAdapter adapter;\r\n    private FirebaseFirestore db;\r\n    private FirebaseAuth auth;\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_stock_screen);\r\n\r\n        itemList = new ArrayList&lt;&gt;();\r\n        recyclerView = findViewById(R.id.recyclerViewItems);\r\n\r\n        db = FirebaseFirestore.getInstance();\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n        setRecyclerView();\r\n\r\n        retrieveItemsForUser();\r\n\r\n    }\r\n\r\n    private void retrieveItemsForUser() {\r\n        FirebaseUser currentUser = auth.getCurrentUser();\r\n        String userId = currentUser.getUid();\r\n        db.collection(&quot;users&quot;)\r\n                .document(userId)\r\n                .collection(&quot;items&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                Log.d(TAG, document.getId() + &quot; =&gt; &quot; + document.getData());\r\n                                String itemName = document.getString(&quot;itemName&quot;);\r\n                                double listPrice = document.getDouble(&quot;listPrice&quot;);\r\n                                double retailPrice = document.getDouble(&quot;retailPrice&quot;);\r\n                                int stockQty = Objects.requireNonNull(document.getLong(&quot;stockQty&quot;)).intValue();\r\n                                int soldQty = Objects.requireNonNull(document.getLong(&quot;soldQty&quot;)).intValue();\r\n\r\n                                itemList.add(new Item(itemName, listPrice, retailPrice, stockQty, soldQty));\r\n\r\n                            }\r\n                            adapter.notifyDataSetChanged();\r\n\r\n                        } else {\r\n                            Toast.makeText(StockScreen.this,&quot;error cant get any data&quot;,Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void setRecyclerView() {\r\n        adapter = new recyclerAdapter(itemList);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getApplicationContext());\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n        recyclerView.setAdapter(adapter);\r\n    }\r\n```\r\n\r\n\r\n\r\n`the expected output would show the data in RecyclerView \r\ni already have a login function so i want to get its data on who login\r\n\r\n1. user = test1 \r\n      -item name = milo\r\n      -list price = 90\r\n      -etc.......\r\n\r\n2. user = test2\r\n      -item name = Coke\r\n      -list price = 20\r\n      -etc......\r\n\r\n      -item name = Milk\r\n      -list price = 100\r\netc........``","title":"how to get a data from /firebase/user/userid/items/itemid/itemsData","body":"<p><a href=\"https://i.stack.imgur.com/V1qvs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>`database structure\n/firestore-database\n/users\n- test1\n- items\n- milk\n- coke\n- test2\n- items\n- milk\n- coke\n- coffee</p>\n<p>i could run the code no problem but when i go to the StockScreen it kicks me out and put me to the last visited Sreen/Page`</p>\n<pre><code>public class StockScreen extends AppCompatActivity {\n    private static final String TAG = &quot;StockScreen&quot;;\n    private ArrayList&lt;Item&gt; itemList;\n    private RecyclerView recyclerView;\n    private recyclerAdapter adapter;\n    private FirebaseFirestore db;\n    private FirebaseAuth auth;\n\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_stock_screen);\n\n        itemList = new ArrayList&lt;&gt;();\n        recyclerView = findViewById(R.id.recyclerViewItems);\n\n        db = FirebaseFirestore.getInstance();\n        auth = FirebaseAuth.getInstance();\n\n        setRecyclerView();\n\n        retrieveItemsForUser();\n\n    }\n\n    private void retrieveItemsForUser() {\n        FirebaseUser currentUser = auth.getCurrentUser();\n        String userId = currentUser.getUid();\n        db.collection(&quot;users&quot;)\n                .document(userId)\n                .collection(&quot;items&quot;)\n                .get()\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                        if (task.isSuccessful()) {\n                            for (QueryDocumentSnapshot document : task.getResult()) {\n                                Log.d(TAG, document.getId() + &quot; =&gt; &quot; + document.getData());\n                                String itemName = document.getString(&quot;itemName&quot;);\n                                double listPrice = document.getDouble(&quot;listPrice&quot;);\n                                double retailPrice = document.getDouble(&quot;retailPrice&quot;);\n                                int stockQty = Objects.requireNonNull(document.getLong(&quot;stockQty&quot;)).intValue();\n                                int soldQty = Objects.requireNonNull(document.getLong(&quot;soldQty&quot;)).intValue();\n\n                                itemList.add(new Item(itemName, listPrice, retailPrice, stockQty, soldQty));\n\n                            }\n                            adapter.notifyDataSetChanged();\n\n                        } else {\n                            Toast.makeText(StockScreen.this,&quot;error cant get any data&quot;,Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n    }\n\n    private void setRecyclerView() {\n        adapter = new recyclerAdapter(itemList);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(getApplicationContext());\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n        recyclerView.setAdapter(adapter);\n    }\n</code></pre>\n<p>`the expected output would show the data in RecyclerView\ni already have a login function so i want to get its data on who login</p>\n<ol>\n<li><p>user = test1\n-item name = milo\n-list price = 90\n-etc.......</p>\n</li>\n<li><p>user = test2\n-item name = Coke\n-list price = 20\n-etc......</p>\n<p>-item name = Milk\n-list price = 100\netc........``</p>\n</li>\n</ol>\n"},{"tags":["java","android","android-studio","google-api"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1701944095,"post_id":77619041,"comment_id":136838414,"body_markdown":"are you using proguard for releasing? maybe you are obfuscating some code (libs, dependencies), which shouldn&#39;t be...","body":"are you using proguard for releasing? maybe you are obfuscating some code (libs, dependencies), which shouldn&#39;t be..."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1701953134,"post_id":77619041,"comment_id":136840083,"body_markdown":"@Chichi Add `@keep` notation to your Model, POJO, Request class, and API Interfaces to prevent minifying.","body":"@Chichi Add <code>@keep</code> notation to your Model, POJO, Request class, and API Interfaces to prevent minifying."},{"owner":{"account_id":29772154,"reputation":51,"user_id":22817079,"display_name":"Chichi"},"score":0,"creation_date":1702120568,"post_id":77619041,"comment_id":136859927,"body_markdown":"I am using proguard and it seems that minify is set to false. Is there any configurations should I do to prevent the problem?","body":"I am using proguard and it seems that minify is set to false. Is there any configurations should I do to prevent the problem?"}],"owner":{"account_id":29772154,"reputation":51,"user_id":22817079,"display_name":"Chichi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702120302,"creation_date":1701942674,"question_id":77619041,"body_markdown":"I encountered an issue after building my project in Android Studio and successfully generating the APK. Upon installing the app, I noticed that the APIs I&#39;m utilizing, specifically Google APIs, aren&#39;t functioning as expected.\r\n\r\nI&#39;ve followed the usual procedures for integrating these APIs into my Android app, including obtaining the necessary API keys, ensuring proper permissions in the manifest file, and configuring the API client appropriately.\r\n\r\nDespite this, when the app is installed and running, the expected functionality tied to the Google APIs doesn&#39;t seem to be working. I&#39;ve double-checked the API key integration and the code implementation for accessing these APIs, yet I&#39;m still facing this issue.\r\n\r\nCould anyone provide guidance or suggestions on troubleshooting steps to identify the root cause of this problem? Additionally, are there any common pitfalls or less-obvious configurations that might affect the proper functioning of Google APIs within an Android app after deployment?\r\n\r\nAny insights or assistance on resolving this issue would be greatly appreciated. Thank you!\r\n\r\n[![This is where I build my apk][1]][1]\r\n\r\n\r\n\r\nI am currently using proguard, it seems that minify is set to false\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lZmfW.png\r\n  [2]: https://i.stack.imgur.com/J2UQz.png","title":"Why is my APIs not working after building the APK","body":"<p>I encountered an issue after building my project in Android Studio and successfully generating the APK. Upon installing the app, I noticed that the APIs I'm utilizing, specifically Google APIs, aren't functioning as expected.</p>\n<p>I've followed the usual procedures for integrating these APIs into my Android app, including obtaining the necessary API keys, ensuring proper permissions in the manifest file, and configuring the API client appropriately.</p>\n<p>Despite this, when the app is installed and running, the expected functionality tied to the Google APIs doesn't seem to be working. I've double-checked the API key integration and the code implementation for accessing these APIs, yet I'm still facing this issue.</p>\n<p>Could anyone provide guidance or suggestions on troubleshooting steps to identify the root cause of this problem? Additionally, are there any common pitfalls or less-obvious configurations that might affect the proper functioning of Google APIs within an Android app after deployment?</p>\n<p>Any insights or assistance on resolving this issue would be greatly appreciated. Thank you!</p>\n<p><a href=\"https://i.stack.imgur.com/lZmfW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZmfW.png\" alt=\"This is where I build my apk\" /></a></p>\n<p>I am currently using proguard, it seems that minify is set to false</p>\n<p><a href=\"https://i.stack.imgur.com/J2UQz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J2UQz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1702118637,"post_id":77629845,"comment_id":136859786,"body_markdown":"Based on your test class you are using JUnit Jupiter (aka JUnit 5) import `org.junit.jupiter.*` but you have a dependency to JUnit 4? I suppose you want to use JUnit Jupiter so you can remove the dependency to JUnit 4...","body":"Based on your test class you are using JUnit Jupiter (aka JUnit 5) import <code>org.junit.jupiter.*</code> but you have a dependency to JUnit 4? I suppose you want to use JUnit Jupiter so you can remove the dependency to JUnit 4..."}],"answers":[{"comments":[{"owner":{"account_id":17774746,"reputation":128,"user_id":12907379,"display_name":"mdaabis"},"score":0,"creation_date":1702114100,"post_id":77630170,"comment_id":136859468,"body_markdown":"This made no difference unfortunately. Same issue happened","body":"This made no difference unfortunately. Same issue happened"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1702118555,"post_id":77630170,"comment_id":136859779,"body_markdown":"Making them public it not neccessary nor is the issue here. Since JUnit Jupiter (aka JUnit 5) you don&#39;t need to make the public...","body":"Making them public it not neccessary nor is the issue here. Since JUnit Jupiter (aka JUnit 5) you don&#39;t need to make the public..."}],"tags":[],"owner":{"account_id":30048050,"reputation":9,"user_id":23027218,"display_name":"Yashwant Panchal"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1702097657,"creation_date":1702097450,"answer_id":77630170,"question_id":77629845,"body_markdown":"Make your test cases public.  \r\n\r\n```\r\npackage aspectcapital.question1;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\npublic class QuestionOneTest\r\n{\r\n    private final QuestionOne mQuestionOne = new QuestionOne();\r\n\r\n    @Test\r\n    public void examplePlusOneUsingMapFunction()\r\n    {\r\n        List&lt;Integer&gt; numList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\r\n        Function&lt;Integer, Integer&gt; plusOneFunction = num -&gt; num + 1;\r\n\r\n        assertEquals(new ArrayList&lt;&gt;(Arrays.asList(2,3,4)), mQuestionOne.map(plusOneFunction, numList));\r\n    }\r\n\r\n    @Test\r\n    public void multipleFunctionsApplied()\r\n    {\r\n        List&lt;Integer&gt; numList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\r\n        Function&lt;Integer, Integer&gt; plusOneFunction = num -&gt; num + 1;\r\n        Function&lt;Integer, Integer&gt; doubleFunction = num -&gt; num * 2;\r\n\r\n        assertEquals(new ArrayList&lt;&gt;(Arrays.asList(4,6,8)), mQuestionOne.map(plusOneFunction.andThen(doubleFunction), numList));\r\n    }\r\n}\r\n```","title":"JUnit tests are not being detected","body":"<p>Make your test cases public.</p>\n<pre><code>package aspectcapital.question1;\n\nimport org.junit.jupiter.api.Test;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.function.Function;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\npublic class QuestionOneTest\n{\n    private final QuestionOne mQuestionOne = new QuestionOne();\n\n    @Test\n    public void examplePlusOneUsingMapFunction()\n    {\n        List&lt;Integer&gt; numList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\n        Function&lt;Integer, Integer&gt; plusOneFunction = num -&gt; num + 1;\n\n        assertEquals(new ArrayList&lt;&gt;(Arrays.asList(2,3,4)), mQuestionOne.map(plusOneFunction, numList));\n    }\n\n    @Test\n    public void multipleFunctionsApplied()\n    {\n        List&lt;Integer&gt; numList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\n        Function&lt;Integer, Integer&gt; plusOneFunction = num -&gt; num + 1;\n        Function&lt;Integer, Integer&gt; doubleFunction = num -&gt; num * 2;\n\n        assertEquals(new ArrayList&lt;&gt;(Arrays.asList(4,6,8)), mQuestionOne.map(plusOneFunction.andThen(doubleFunction), numList));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702118910,"creation_date":1702118518,"answer_id":77630973,"question_id":77629845,"body_markdown":"To make running unig tests which are using [JUnit Jupiter (aka JUnit 5)][1] you have to use [maven-surefire-plugin/maven-failsafe-plugin][2] (for integration tests) at least version 2.22.2 or higher.\r\n\r\n\r\nThat means you have to define all plugins you are using in your pom file. That is in general best practice to make sure you are using always the same versions.\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;project\r\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.soebes.youtube.maven.episodes&lt;/groupId&gt;\r\n      &lt;artifactId&gt;example-episode-2&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;    \r\n      &lt;/properties&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.1&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;3.24.2&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n\r\nFurthermore your unit tests with JUnit Jupiter(aka JUnit 5) don&#39;t need to be public. The test class as well as the test methods can be defined as &quot;package local&quot; which means no explicit access modifier like this:\r\n\r\n&lt;!-- language:language-java --&gt;\r\n\r\n\r\n    class FirstTest {\r\n    \r\n      @Test\r\n      void first_add() {\r\n        First sum1 = new First(5);\r\n        First sum2 = new First(2);\r\n    \r\n        assertThat(sum1.add(sum2)).isEqualTo(new First(7));\r\n      }\r\n    \r\n      @Test\r\n      void second_add() {\r\n        First sum1 = new First(10);\r\n        First sum2 = new First(2);\r\n    \r\n        assertThat(sum1.add(sum2)).isEqualTo(new First(12));\r\n      }\r\n    }\r\n\r\nMore details can be found here: https://github.com/khmarbaise/youtube-videos/ or on youtube: https://www.youtube.com/@khmarbaise\r\n\r\nIf you need to run JUnit 4 and JUnit 5 test within the same project you have to make a different setup more details in https://github.com/khmarbaise/youtube-videos/tree/main/episode-3. I strongly recommend to use JUnit Jupiter (aka JUnit 5) only. \r\n\r\n  [1]: https://junit.org/junit5/\r\n  [2]: https://maven.apache.org/plugins/\r\n\r\n","title":"JUnit tests are not being detected","body":"<p>To make running unig tests which are using <a href=\"https://junit.org/junit5/\" rel=\"nofollow noreferrer\">JUnit Jupiter (aka JUnit 5)</a> you have to use <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven-surefire-plugin/maven-failsafe-plugin</a> (for integration tests) at least version 2.22.2 or higher.</p>\n<p>That means you have to define all plugins you are using in your pom file. That is in general best practice to make sure you are using always the same versions.</p>\n\n<pre><code>&lt;project\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.soebes.youtube.maven.episodes&lt;/groupId&gt;\n  &lt;artifactId&gt;example-episode-2&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;    \n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.10.1&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-bom&lt;/artifactId&gt;\n        &lt;version&gt;3.24.2&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Furthermore your unit tests with JUnit Jupiter(aka JUnit 5) don't need to be public. The test class as well as the test methods can be defined as &quot;package local&quot; which means no explicit access modifier like this:</p>\n\n<pre><code>class FirstTest {\n\n  @Test\n  void first_add() {\n    First sum1 = new First(5);\n    First sum2 = new First(2);\n\n    assertThat(sum1.add(sum2)).isEqualTo(new First(7));\n  }\n\n  @Test\n  void second_add() {\n    First sum1 = new First(10);\n    First sum2 = new First(2);\n\n    assertThat(sum1.add(sum2)).isEqualTo(new First(12));\n  }\n}\n</code></pre>\n<p>More details can be found here: <a href=\"https://github.com/khmarbaise/youtube-videos/\" rel=\"nofollow noreferrer\">https://github.com/khmarbaise/youtube-videos/</a> or on youtube: <a href=\"https://www.youtube.com/@khmarbaise\" rel=\"nofollow noreferrer\">https://www.youtube.com/@khmarbaise</a></p>\n<p>If you need to run JUnit 4 and JUnit 5 test within the same project you have to make a different setup more details in <a href=\"https://github.com/khmarbaise/youtube-videos/tree/main/episode-3\" rel=\"nofollow noreferrer\">https://github.com/khmarbaise/youtube-videos/tree/main/episode-3</a>. I strongly recommend to use JUnit Jupiter (aka JUnit 5) only.</p>\n"}],"owner":{"account_id":17774746,"reputation":128,"user_id":12907379,"display_name":"mdaabis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702118910,"creation_date":1702084963,"question_id":77629845,"body_markdown":"I am submitting a Hackerrank test. I have been asked to use my IDE to complete the tasks and then upload a zip folder. When I run the tests in my IDE, everything works fine however, when I upload the zip folder to Hackerrank and try to run the unit tests, they don&#39;t get detected. Instead, I get the following:\r\n```$&gt; mvn test\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] --------------&lt; aspectcapital:software-development-test &gt;---------------\r\n[INFO] Building software-development-test Candidate-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.22.0/maven-surefire-plugin-2.22.0.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.22.0/maven-surefire-plugin-2.22.0.pom (5.0 kB at 15 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire/2.22.0/surefire-2.22.0.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire/2.22.0/surefire-2.22.0.pom (27 kB at 911 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/31/maven-parent-31.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/31/maven-parent-31.pom (43 kB at 2.3 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/apache/19/apache-19.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/apache/19/apache-19.pom (15 kB at 1.1 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.22.0/maven-surefire-plugin-2.22.0.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.22.0/maven-surefire-plugin-2.22.0.jar (41 kB at 2.0 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/junit/jupiter/junit-jupiter-api/5.9.3/junit-jupiter-api-5.9.3.jar\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/junit/platform/junit-platform-commons/1.9.3/junit-platform-commons-1.9.3.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar (7.7 kB at 219 kB/s)\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/junit/platform/junit-platform-commons/1.9.3/junit-platform-commons-1.9.3.jar (103 kB at 2.0 MB/s)\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/junit/jupiter/junit-jupiter-api/5.9.3/junit-jupiter-api-5.9.3.jar (208 kB at 3.7 MB/s)\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ software-development-test ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /run-zlwe7bwOtCVcpjT54bRb/Solution/src/main/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ software-development-test ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ software-development-test ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /run-zlwe7bwOtCVcpjT54bRb/Solution/src/test/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ software-development-test ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 3 source files to /run-zlwe7bwOtCVcpjT54bRb/Solution/target/test-classes\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:2.22.0:test (default-test) @ software-development-test ---\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.22.0/maven-surefire-common-2.22.0.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.22.0/maven-surefire-common-2.22.0.pom (11 kB at 874 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5/maven-plugin-annotations-3.5.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5/maven-plugin-annotations-3.5.pom (1.7 kB at 152 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-tools/3.5/maven-plugin-tools-3.5.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-tools/3.5/maven-plugin-tools-3.5.pom (16 kB at 1.2 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.22.0/surefire-api-2.22.0.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.22.0/surefire-api-2.22.0.pom (3.5 kB at 354 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-logger-api/2.22.0/surefire-logger-api-2.22.0.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-logger-api/2.22.0/surefire-logger-api-2.22.0.pom (2.0 kB at 98 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.22.0/surefire-booter-2.22.0.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.22.0/surefire-booter-2.22.0.pom (7.4 kB at 433 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-java/0.9.8/plexus-java-0.9.8.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-java/0.9.8/plexus-java-0.9.8.pom (2.4 kB at 102 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-languages/0.9.8/plexus-languages-0.9.8.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-languages/0.9.8/plexus-languages-0.9.8.pom (2.2 kB at 116 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm/6.1.1/asm-6.1.1.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm/6.1.1/asm-6.1.1.pom (2.9 kB at 294 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/ow2/ow2/1.5/ow2-1.5.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/ow2/ow2/1.5/ow2-1.5.pom (11 kB at 1.6 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M7/qdox-2.0-M7.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M7/qdox-2.0-M7.pom (16 kB at 1.4 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.22.0/surefire-booter-2.22.0.jar\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.22.0/maven-surefire-common-2.22.0.jar\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-logger-api/2.22.0/surefire-logger-api-2.22.0.jar\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.22.0/surefire-api-2.22.0.jar\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5/maven-plugin-annotations-3.5.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5/maven-plugin-annotations-3.5.jar (14 kB at 227 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/1.5.15/plexus-utils-1.5.15.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-logger-api/2.22.0/surefire-logger-api-2.22.0.jar (13 kB at 148 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/junit/junit/4.12/junit-4.12.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.22.0/surefire-api-2.22.0.jar (186 kB at 1.7 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar (11 kB at 98 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-java/0.9.8/plexus-java-0.9.8.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-java/0.9.8/plexus-java-0.9.8.jar (35 kB at 276 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm/6.1.1/asm-6.1.1.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/1.5.15/plexus-utils-1.5.15.jar (228 kB at 1.3 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M7/qdox-2.0-M7.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.22.0/surefire-booter-2.22.0.jar (273 kB at 1.5 MB/s)\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/junit/junit/4.12/junit-4.12.jar (315 kB at 1.7 MB/s)\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm/6.1.1/asm-6.1.1.jar (108 kB at 588 kB/s)\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.22.0/maven-surefire-common-2.22.0.jar (524 kB at 2.8 MB/s)\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M7/qdox-2.0-M7.jar (315 kB at 1.5 MB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.22.0/surefire-junit4-2.22.0.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.22.0/surefire-junit4-2.22.0.pom (3.1 kB at 308 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.22.0/surefire-providers-2.22.0.pom\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.22.0/surefire-providers-2.22.0.pom (2.5 kB at 276 kB/s)\r\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.22.0/surefire-junit4-2.22.0.jar\r\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.22.0/surefire-junit4-2.22.0.jar (85 kB at 6.0 MB/s)\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  4.715 s\r\n[INFO] Finished at: 2023-12-09T01:15:02Z\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n\r\n\r\n\r\nAs you can see, it says I have no tests to run, which is not the case. Here is my `pom.xml` file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;aspectcapital&lt;/groupId&gt;\r\n  &lt;artifactId&gt;software-development-test&lt;/artifactId&gt;\r\n  &lt;version&gt;Candidate-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Testing dependencies. --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.8&lt;/source&gt;\r\n          &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n            &lt;mainClass&gt;aspectcapital.Main&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd here is an example test class for reference:\r\n```\r\npackage aspectcapital.question1;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\n/** Question 1 usage - Please provide example usage of your map method here */\r\npublic class QuestionOneTest\r\n{\r\n    private final QuestionOne mQuestionOne = new QuestionOne();\r\n\r\n    @Test\r\n    void examplePlusOneUsingMapFunction()\r\n    {\r\n        List&lt;Integer&gt; numList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\r\n        Function&lt;Integer, Integer&gt; plusOneFunction = num -&gt; num + 1;\r\n\r\n        assertEquals(new ArrayList&lt;&gt;(Arrays.asList(2,3,4)), mQuestionOne.map(plusOneFunction, numList));\r\n    }\r\n\r\n    @Test\r\n    void multipleFunctionsApplied()\r\n    {\r\n        List&lt;Integer&gt; numList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\r\n        Function&lt;Integer, Integer&gt; plusOneFunction = num -&gt; num + 1;\r\n        Function&lt;Integer, Integer&gt; doubleFunction = num -&gt; num * 2;\r\n\r\n        assertEquals(new ArrayList&lt;&gt;(Arrays.asList(4,6,8)), mQuestionOne.map(plusOneFunction.andThen(doubleFunction), numList));\r\n    }\r\n}\r\n```\r\n\r\nI have tried a lot of the other solutions that I have seen on here and elsewhere but to no avail. Any help would be greatly appreciated.","title":"JUnit tests are not being detected","body":"<p>I am submitting a Hackerrank test. I have been asked to use my IDE to complete the tasks and then upload a zip folder. When I run the tests in my IDE, everything works fine however, when I upload the zip folder to Hackerrank and try to run the unit tests, they don't get detected. Instead, I get the following:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------&lt; aspectcapital:software-development-test &gt;---------------\n[INFO] Building software-development-test Candidate-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.22.0/maven-surefire-plugin-2.22.0.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.22.0/maven-surefire-plugin-2.22.0.pom (5.0 kB at 15 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire/2.22.0/surefire-2.22.0.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire/2.22.0/surefire-2.22.0.pom (27 kB at 911 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/31/maven-parent-31.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/maven-parent/31/maven-parent-31.pom (43 kB at 2.3 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/apache/19/apache-19.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/apache/19/apache-19.pom (15 kB at 1.1 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.22.0/maven-surefire-plugin-2.22.0.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-surefire-plugin/2.22.0/maven-surefire-plugin-2.22.0.jar (41 kB at 2.0 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/junit/jupiter/junit-jupiter-api/5.9.3/junit-jupiter-api-5.9.3.jar\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/junit/platform/junit-platform-commons/1.9.3/junit-platform-commons-1.9.3.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar (7.7 kB at 219 kB/s)\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/junit/platform/junit-platform-commons/1.9.3/junit-platform-commons-1.9.3.jar (103 kB at 2.0 MB/s)\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/junit/jupiter/junit-jupiter-api/5.9.3/junit-jupiter-api-5.9.3.jar (208 kB at 3.7 MB/s)\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ software-development-test ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /run-zlwe7bwOtCVcpjT54bRb/Solution/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ software-development-test ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ software-development-test ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /run-zlwe7bwOtCVcpjT54bRb/Solution/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ software-development-test ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 3 source files to /run-zlwe7bwOtCVcpjT54bRb/Solution/target/test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:2.22.0:test (default-test) @ software-development-test ---\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.22.0/maven-surefire-common-2.22.0.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.22.0/maven-surefire-common-2.22.0.pom (11 kB at 874 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5/maven-plugin-annotations-3.5.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5/maven-plugin-annotations-3.5.pom (1.7 kB at 152 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-tools/3.5/maven-plugin-tools-3.5.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-tools/3.5/maven-plugin-tools-3.5.pom (16 kB at 1.2 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.22.0/surefire-api-2.22.0.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.22.0/surefire-api-2.22.0.pom (3.5 kB at 354 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-logger-api/2.22.0/surefire-logger-api-2.22.0.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-logger-api/2.22.0/surefire-logger-api-2.22.0.pom (2.0 kB at 98 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.22.0/surefire-booter-2.22.0.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.22.0/surefire-booter-2.22.0.pom (7.4 kB at 433 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-java/0.9.8/plexus-java-0.9.8.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-java/0.9.8/plexus-java-0.9.8.pom (2.4 kB at 102 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-languages/0.9.8/plexus-languages-0.9.8.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-languages/0.9.8/plexus-languages-0.9.8.pom (2.2 kB at 116 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm/6.1.1/asm-6.1.1.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm/6.1.1/asm-6.1.1.pom (2.9 kB at 294 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/ow2/ow2/1.5/ow2-1.5.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/ow2/ow2/1.5/ow2-1.5.pom (11 kB at 1.6 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M7/qdox-2.0-M7.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M7/qdox-2.0-M7.pom (16 kB at 1.4 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.22.0/surefire-booter-2.22.0.jar\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.22.0/maven-surefire-common-2.22.0.jar\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-logger-api/2.22.0/surefire-logger-api-2.22.0.jar\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.22.0/surefire-api-2.22.0.jar\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5/maven-plugin-annotations-3.5.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5/maven-plugin-annotations-3.5.jar (14 kB at 227 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/1.5.15/plexus-utils-1.5.15.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-logger-api/2.22.0/surefire-logger-api-2.22.0.jar (13 kB at 148 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/junit/junit/4.12/junit-4.12.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-api/2.22.0/surefire-api-2.22.0.jar (186 kB at 1.7 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar (11 kB at 98 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-java/0.9.8/plexus-java-0.9.8.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-java/0.9.8/plexus-java-0.9.8.jar (35 kB at 276 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm/6.1.1/asm-6.1.1.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/1.5.15/plexus-utils-1.5.15.jar (228 kB at 1.3 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M7/qdox-2.0-M7.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-booter/2.22.0/surefire-booter-2.22.0.jar (273 kB at 1.5 MB/s)\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/junit/junit/4.12/junit-4.12.jar (315 kB at 1.7 MB/s)\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/ow2/asm/asm/6.1.1/asm-6.1.1.jar (108 kB at 588 kB/s)\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/maven-surefire-common/2.22.0/maven-surefire-common-2.22.0.jar (524 kB at 2.8 MB/s)\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/com/thoughtworks/qdox/qdox/2.0-M7/qdox-2.0-M7.jar (315 kB at 1.5 MB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.22.0/surefire-junit4-2.22.0.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.22.0/surefire-junit4-2.22.0.pom (3.1 kB at 308 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.22.0/surefire-providers-2.22.0.pom\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.22.0/surefire-providers-2.22.0.pom (2.5 kB at 276 kB/s)\n[INFO] Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.22.0/surefire-junit4-2.22.0.jar\n[INFO] Downloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.22.0/surefire-junit4-2.22.0.jar (85 kB at 6.0 MB/s)\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  4.715 s\n[INFO] Finished at: 2023-12-09T01:15:02Z\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>As you can see, it says I have no tests to run, which is not the case. Here is my <code>pom.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;aspectcapital&lt;/groupId&gt;\n  &lt;artifactId&gt;software-development-test&lt;/artifactId&gt;\n  &lt;version&gt;Candidate-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Testing dependencies. --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.9.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;aspectcapital.Main&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>And here is an example test class for reference:</p>\n<pre><code>package aspectcapital.question1;\n\nimport org.junit.jupiter.api.Test;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.function.Function;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\n/** Question 1 usage - Please provide example usage of your map method here */\npublic class QuestionOneTest\n{\n    private final QuestionOne mQuestionOne = new QuestionOne();\n\n    @Test\n    void examplePlusOneUsingMapFunction()\n    {\n        List&lt;Integer&gt; numList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\n        Function&lt;Integer, Integer&gt; plusOneFunction = num -&gt; num + 1;\n\n        assertEquals(new ArrayList&lt;&gt;(Arrays.asList(2,3,4)), mQuestionOne.map(plusOneFunction, numList));\n    }\n\n    @Test\n    void multipleFunctionsApplied()\n    {\n        List&lt;Integer&gt; numList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3));\n        Function&lt;Integer, Integer&gt; plusOneFunction = num -&gt; num + 1;\n        Function&lt;Integer, Integer&gt; doubleFunction = num -&gt; num * 2;\n\n        assertEquals(new ArrayList&lt;&gt;(Arrays.asList(4,6,8)), mQuestionOne.map(plusOneFunction.andThen(doubleFunction), numList));\n    }\n}\n</code></pre>\n<p>I have tried a lot of the other solutions that I have seen on here and elsewhere but to no avail. Any help would be greatly appreciated.</p>\n"},{"tags":["java","tomcat","log4j","log4j2","catalina"],"answers":[{"comments":[{"owner":{"account_id":3851650,"reputation":1455,"user_id":3191676,"accept_rate":50,"display_name":"atom88"},"score":0,"creation_date":1554234145,"post_id":49378838,"comment_id":97674595,"body_markdown":"Where can you get the tomcat-juli.jar?  I looked here and it&#39;s missing?\nhttp://mirror.metrocast.net/apache/tomcat/tomcat-8/v8.5.39/bin/extras/","body":"Where can you get the tomcat-juli.jar?  I looked here and it&#39;s missing? <a href=\"http://mirror.metrocast.net/apache/tomcat/tomcat-8/v8.5.39/bin/extras/\" rel=\"nofollow noreferrer\">mirror.metrocast.net/apache/tomcat/tomcat-8/v8.5.39/bin/extr&zwnj;&#8203;as</a>"},{"owner":{"account_id":9635952,"reputation":5693,"user_id":7152019,"display_name":"Vikas Sachdeva"},"score":0,"creation_date":1554460769,"post_id":49378838,"comment_id":97770183,"body_markdown":"Look inside the zip file - http://mirror.metrocast.net/apache/tomcat/tomcat-8/v8.5.39/bin/apache-tomcat-8.5.39.zip . Extract this zip file and you will find this JAR inside `bin` directory.","body":"Look inside the zip file - <a href=\"http://mirror.metrocast.net/apache/tomcat/tomcat-8/v8.5.39/bin/apache-tomcat-8.5.39.zip\" rel=\"nofollow noreferrer\">mirror.metrocast.net/apache/tomcat/tomcat-8/v8.5.39/bin/&hellip;</a> . Extract this zip file and you will find this JAR inside <code>bin</code> directory."}],"tags":[],"owner":{"account_id":9635952,"reputation":5693,"user_id":7152019,"display_name":"Vikas Sachdeva"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1521532111,"creation_date":1521532111,"answer_id":49378838,"question_id":49299649,"body_markdown":"`log4j2 jars` must be loaded along with `bootstrap.jar` (tomcat startup) and `tomcat-juli.jar` (logging) \r\n\r\nThese jars are present in `CATALINA_HOME/bin` directory and are responsible for \r\n initialization of tomcat including logging.\r\n\r\nIn `CATALINA_HOME/cataline.bat` in case of windows, you will find below code -\r\n\r\n    set &quot;CLASSPATH=%CLASSPATH%%CATALINA_HOME%\\bin\\bootstrap.jar&quot;\r\n\r\nHere, you should add log4j2 jars at the classpath so that when tomcat starts, these jars are there.","title":"How to configure log4j2 with Tomcat 8.5.15","body":"<p><code>log4j2 jars</code> must be loaded along with <code>bootstrap.jar</code> (tomcat startup) and <code>tomcat-juli.jar</code> (logging) </p>\n\n<p>These jars are present in <code>CATALINA_HOME/bin</code> directory and are responsible for \n initialization of tomcat including logging.</p>\n\n<p>In <code>CATALINA_HOME/cataline.bat</code> in case of windows, you will find below code -</p>\n\n<pre><code>set \"CLASSPATH=%CLASSPATH%%CATALINA_HOME%\\bin\\bootstrap.jar\"\n</code></pre>\n\n<p>Here, you should add log4j2 jars at the classpath so that when tomcat starts, these jars are there.</p>\n"},{"tags":[],"owner":{"account_id":13448538,"reputation":79,"user_id":9703890,"display_name":"Evzenkooo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573563153,"creation_date":1573561058,"answer_id":58818594,"question_id":49299649,"body_markdown":"Create in `tomcat\\bin\\` file `setenv.bat` and add to file:\r\n```\r\nset &quot;CLASSPATH=%CLASSPATH%%CATALINA_BASE%\\bin;%CATALINA_BASE%\\bin\\log4j-core-2.10.0.jar;%CATALINA_BASE%\\bin\\log4j-api-2.10.0.jar;%CATALINA_BASE%\\bin\\log4j-jul-2.10.0.jar&quot;\r\n```\r\ncopy jars files\r\n```\r\nlog4j-api-2.10.0.jar \r\nlog4j-core-2.10.0.jar \r\nlog4j-jul-2.10.0.jar\r\n```\r\nto folder `tomcat\\bin\\`\r\n\r\ncreate file `log4j2.xml` in `tomcat\\bin` folder\r\n","title":"How to configure log4j2 with Tomcat 8.5.15","body":"<p>Create in <code>tomcat\\bin\\</code> file <code>setenv.bat</code> and add to file:</p>\n\n<pre><code>set \"CLASSPATH=%CLASSPATH%%CATALINA_BASE%\\bin;%CATALINA_BASE%\\bin\\log4j-core-2.10.0.jar;%CATALINA_BASE%\\bin\\log4j-api-2.10.0.jar;%CATALINA_BASE%\\bin\\log4j-jul-2.10.0.jar\"\n</code></pre>\n\n<p>copy jars files</p>\n\n<pre><code>log4j-api-2.10.0.jar \nlog4j-core-2.10.0.jar \nlog4j-jul-2.10.0.jar\n</code></pre>\n\n<p>to folder <code>tomcat\\bin\\</code></p>\n\n<p>create file <code>log4j2.xml</code> in <code>tomcat\\bin</code> folder</p>\n"},{"tags":[],"owner":{"account_id":6442486,"reputation":84,"user_id":4992070,"display_name":"ICF"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1602719595,"creation_date":1602718824,"answer_id":64362917,"question_id":49299649,"body_markdown":"I know that this is a little late to answer this question, but I&#39;m sure it could help someone struggling like me trying to configure tomcat so that it uses lo4j.\r\n I&#39;ve been working on something similar for the past 3 days, and I found out that the extras folder provided by tomcat&#39;s website are not what I need.  But, you can still grab them using maven.  I was able to configure tomcat so that it uses the mentioned jar files ( tomcat-extras-juli.jar and tomcat-extras-juli-adapters.jar ).  Just remember to include the VM argument -Dlog4j.debug to make your life easier and catch errors quicker.\r\n\r\nMaven repo: https://mvnrepository.com/artifact/org.apache.tomcat.extras/tomcat-extras-juli-adapters\r\n\r\n\r\nI came upon the same problem after I included the mentioned jars provided by tomcat&#39;s repository.  After a quick analysis I found that the interface org.apache.juli.WebAppProperties was not included in the jar file tomcat-extras-juli.jar which is utilized by the file org.apache.catalina.loader.WebappClassLoaderBase.  After researching a bit more, I realized that the tomcat jar files are included in the Maven Repo.  I downloaded the mentioned jar files under the same version of tomcat ( currently 8.5 ), plugged those jars in my tomcat installation and everything worked as expected.  Now my version of tomcat uses log4j instead of juli.","title":"How to configure log4j2 with Tomcat 8.5.15","body":"<p>I know that this is a little late to answer this question, but I'm sure it could help someone struggling like me trying to configure tomcat so that it uses lo4j.\nI've been working on something similar for the past 3 days, and I found out that the extras folder provided by tomcat's website are not what I need.  But, you can still grab them using maven.  I was able to configure tomcat so that it uses the mentioned jar files ( tomcat-extras-juli.jar and tomcat-extras-juli-adapters.jar ).  Just remember to include the VM argument -Dlog4j.debug to make your life easier and catch errors quicker.</p>\n<p>Maven repo: <a href=\"https://mvnrepository.com/artifact/org.apache.tomcat.extras/tomcat-extras-juli-adapters\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.tomcat.extras/tomcat-extras-juli-adapters</a></p>\n<p>I came upon the same problem after I included the mentioned jars provided by tomcat's repository.  After a quick analysis I found that the interface org.apache.juli.WebAppProperties was not included in the jar file tomcat-extras-juli.jar which is utilized by the file org.apache.catalina.loader.WebappClassLoaderBase.  After researching a bit more, I realized that the tomcat jar files are included in the Maven Repo.  I downloaded the mentioned jar files under the same version of tomcat ( currently 8.5 ), plugged those jars in my tomcat installation and everything worked as expected.  Now my version of tomcat uses log4j instead of juli.</p>\n"},{"tags":[],"owner":{"account_id":4282883,"reputation":1928,"user_id":6364089,"display_name":"hxysayhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611580422,"creation_date":1611580422,"answer_id":65885472,"question_id":49299649,"body_markdown":"You just need to add the **log4j2-api**, **log4j2-core** and **log4j2-appserver** libraries into the Tomcat classpath, provide the log4j2 configuration file and remove the $CATALINA_BASE/conf/logging.properties from your installation. \r\n\r\nThis is most easily done by:\r\n\r\n 1. Creating a set of directories in catalina home named log4j2/lib and\r\n    log4j2/conf.\r\n\r\n 2. Placing `log4j2-api-2.x.x.jar`, `log4j2-core-2.x.x.jar`, and\r\n    `log4j2-appserver-2.x.x.jar` in the log4j2/lib directory.\r\n\r\n\r\n 3. Creating a file named log4j2-tomcat.xml, log4j2-tomcat.json,\r\n    log4j2-tomcat.yaml, log4j2-tomcat.yml, or log4j2-tomcat.properties\r\n        in the log4j2/conf directory.\r\n\r\n 4. Create or modify setenv.sh in the tomcat bin directory to include\r\n    `CLASSPATH=$CATALINA_HOME/log4j2/lib/*:$CATALINA_HOME/log4j2/conf`\r\n\r\n\r\n----------\r\n\r\n\r\nYou can force the applications that use the JUL framework to use log4j2 format changing the environment variable LOGGING_MANAGER. You can do this by adding in the **setenv.sh** file: `LOGGING_MANAGER=&quot;-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;` \r\n\r\nRemember that `org.apache.logging.log4j.jul.LogManager` is included in the `log4j-jul-2.x.x.jar` bridge which must be added to your classpath.\r\n\r\n\r\n----------\r\n\r\n\r\nrefs:\r\n\r\nhttps://db-blog.web.cern.ch/blog/luis-rodriguez-fernandez/2019-03-keeping-your-logs-clean-apache-tomcat-9-log4j2-and-spring-boot\r\n\r\nhttps://logging.apache.org/log4j/2.x/log4j-appserver/index.html\r\n","title":"How to configure log4j2 with Tomcat 8.5.15","body":"<p>You just need to add the <strong>log4j2-api</strong>, <strong>log4j2-core</strong> and <strong>log4j2-appserver</strong> libraries into the Tomcat classpath, provide the log4j2 configuration file and remove the $CATALINA_BASE/conf/logging.properties from your installation.</p>\n<p>This is most easily done by:</p>\n<ol>\n<li><p>Creating a set of directories in catalina home named log4j2/lib and\nlog4j2/conf.</p>\n</li>\n<li><p>Placing <code>log4j2-api-2.x.x.jar</code>, <code>log4j2-core-2.x.x.jar</code>, and\n<code>log4j2-appserver-2.x.x.jar</code> in the log4j2/lib directory.</p>\n</li>\n<li><p>Creating a file named log4j2-tomcat.xml, log4j2-tomcat.json,\nlog4j2-tomcat.yaml, log4j2-tomcat.yml, or log4j2-tomcat.properties\nin the log4j2/conf directory.</p>\n</li>\n<li><p>Create or modify setenv.sh in the tomcat bin directory to include\n<code>CLASSPATH=$CATALINA_HOME/log4j2/lib/*:$CATALINA_HOME/log4j2/conf</code></p>\n</li>\n</ol>\n<hr />\n<p>You can force the applications that use the JUL framework to use log4j2 format changing the environment variable LOGGING_MANAGER. You can do this by adding in the <strong>setenv.sh</strong> file: <code>LOGGING_MANAGER=&quot;-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;</code></p>\n<p>Remember that <code>org.apache.logging.log4j.jul.LogManager</code> is included in the <code>log4j-jul-2.x.x.jar</code> bridge which must be added to your classpath.</p>\n<hr />\n<p>refs:</p>\n<p><a href=\"https://db-blog.web.cern.ch/blog/luis-rodriguez-fernandez/2019-03-keeping-your-logs-clean-apache-tomcat-9-log4j2-and-spring-boot\" rel=\"nofollow noreferrer\">https://db-blog.web.cern.ch/blog/luis-rodriguez-fernandez/2019-03-keeping-your-logs-clean-apache-tomcat-9-log4j2-and-spring-boot</a></p>\n<p><a href=\"https://logging.apache.org/log4j/2.x/log4j-appserver/index.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/log4j-appserver/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702118876,"creation_date":1702118876,"answer_id":77630987,"question_id":49299649,"body_markdown":"The issue is that the content of `$CATALINA_BASE/lib` is part of the *Common* class loader, but logging classes are required early and thus must be part of the *System* class loader. See [Tomcat Class Loader How-To](https://tomcat.apache.org/tomcat-8.5-doc/class-loader-howto.html).\r\n\r\nI would recommend creating a new `log4j` directory under `$CATALINA_HOME`, put the log4j config files and jars there, and add it to the classpath using `setenv.sh` (or `setenv.bat` under Windows):\r\n\r\n```\r\n$ ls $CATALINA_HOME/log4j\r\nlog4j2.xml\r\nlog4j-api-2.22.0.jar\r\nlog4j-core-2.22.0.jar\r\nlog4j-jul-2.22.0.jar\r\n$ cat $CATALINA_HOME/bin/setenv.sh \r\nLOGGING_MANAGER=&quot;-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;\r\nCLASSPATH=&quot;${CATALINA_HOME}/log4j/*:${CATALINA_HOME}/log4j&quot;\r\n```\r\n\r\nNB: The classpath entry `${CATALINA_HOME}/log4j/*` is a [Class Path Wild Cards](https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#JSWOR586) that includes all jars inside `${CATALINA_HOME}/log4j`, but not this directory itself.","title":"How to configure log4j2 with Tomcat 8.5.15","body":"<p>The issue is that the content of <code>$CATALINA_BASE/lib</code> is part of the <em>Common</em> class loader, but logging classes are required early and thus must be part of the <em>System</em> class loader. See <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">Tomcat Class Loader How-To</a>.</p>\n<p>I would recommend creating a new <code>log4j</code> directory under <code>$CATALINA_HOME</code>, put the log4j config files and jars there, and add it to the classpath using <code>setenv.sh</code> (or <code>setenv.bat</code> under Windows):</p>\n<pre><code>$ ls $CATALINA_HOME/log4j\nlog4j2.xml\nlog4j-api-2.22.0.jar\nlog4j-core-2.22.0.jar\nlog4j-jul-2.22.0.jar\n$ cat $CATALINA_HOME/bin/setenv.sh \nLOGGING_MANAGER=&quot;-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;\nCLASSPATH=&quot;${CATALINA_HOME}/log4j/*:${CATALINA_HOME}/log4j&quot;\n</code></pre>\n<p>NB: The classpath entry <code>${CATALINA_HOME}/log4j/*</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#JSWOR586\" rel=\"nofollow noreferrer\">Class Path Wild Cards</a> that includes all jars inside <code>${CATALINA_HOME}/log4j</code>, but not this directory itself.</p>\n"}],"owner":{"account_id":1192552,"reputation":2321,"user_id":1165009,"accept_rate":52,"display_name":"Sami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13381,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":64362917,"answer_count":5,"score":6,"last_activity_date":1702118876,"creation_date":1521117350,"question_id":49299649,"body_markdown":"I have log4j2 jars under $CATALINA_HOME/lib:\r\n\r\n - log4j-api-2.10.0.jar \r\n - log4j-core-2.10.0.jar \r\n - log4j-jul-2.10.0.jar \r\n\r\nexport JAVA_OPTS=&quot;${JAVA_OPTS} -Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager&quot;\r\n\r\nIn catalina.properties I&#39;ve got common classloader and I tried to add log4j-jul-2.10.0.jar again even if it is already under the CATALINA_HOME/lib, but no success.\r\n\r\ncommon.loader=&quot;${catalina.base}/lib&quot;,&quot;${catalina.base}/lib/*.jar&quot;,&quot;${catalina.home}/lib&quot;,&quot;${catalina.home}/lib/*.jar&quot;,&quot;/opt/tomcat/apache-tomcat-8.5.15/lib/log4j-jul-2.10.0.jar&quot;\r\n\r\nI have deleted logging.properties under Tomcat and add a new log4j2.xml to path\r\n\r\n**ERRORMESSAGE:**\r\n\r\nCould not load Logmanager &quot;org.apache.logging.log4j.jul.LogManager&quot;\r\njava.lang.ClassNotFoundException: org.apache.logging.log4j.jul.LogManager\r\n\r\nAny idea why LogManager is still missing or should I use some other jars instead. In another messages they are speaking juli.jar and extras, but in their case they have older Tomcat version, 6 or 7.","title":"How to configure log4j2 with Tomcat 8.5.15","body":"<p>I have log4j2 jars under $CATALINA_HOME/lib:</p>\n\n<ul>\n<li>log4j-api-2.10.0.jar </li>\n<li>log4j-core-2.10.0.jar </li>\n<li>log4j-jul-2.10.0.jar </li>\n</ul>\n\n<p>export JAVA_OPTS=\"${JAVA_OPTS} -Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\"</p>\n\n<p>In catalina.properties I've got common classloader and I tried to add log4j-jul-2.10.0.jar again even if it is already under the CATALINA_HOME/lib, but no success.</p>\n\n<p>common.loader=\"${catalina.base}/lib\",\"${catalina.base}/lib/<em>.jar\",\"${catalina.home}/lib\",\"${catalina.home}/lib/</em>.jar\",\"/opt/tomcat/apache-tomcat-8.5.15/lib/log4j-jul-2.10.0.jar\"</p>\n\n<p>I have deleted logging.properties under Tomcat and add a new log4j2.xml to path</p>\n\n<p><strong>ERRORMESSAGE:</strong></p>\n\n<p>Could not load Logmanager \"org.apache.logging.log4j.jul.LogManager\"\njava.lang.ClassNotFoundException: org.apache.logging.log4j.jul.LogManager</p>\n\n<p>Any idea why LogManager is still missing or should I use some other jars instead. In another messages they are speaking juli.jar and extras, but in their case they have older Tomcat version, 6 or 7.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":1,"creation_date":1303416726,"post_id":5749251,"comment_id":6580487,"body_markdown":"Nothing in Java is passed by reference.  Everything is passed by value.","body":"Nothing in Java is passed by reference.  Everything is passed by value."},{"owner":{"account_id":365141,"reputation":1223,"user_id":709910,"accept_rate":100,"display_name":"Datoraki"},"score":0,"creation_date":1303417000,"post_id":5749251,"comment_id":6580546,"body_markdown":"@Chris or to be more precise http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing","body":"@Chris or to be more precise <a href=\"http://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing</a>"}],"answers":[{"comments":[{"owner":{"account_id":211562,"reputation":351,"user_id":463810,"display_name":"Ouais"},"score":0,"creation_date":1303416802,"post_id":5749281,"comment_id":6580508,"body_markdown":"already considered passing classes, but it seemed like an ugly thing to do","body":"already considered passing classes, but it seemed like an ugly thing to do"}],"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1303416591,"creation_date":1303416591,"answer_id":5749281,"question_id":5749251,"body_markdown":"@Title itself: You can&#39;t without &quot;dirty&quot; tricks. The easiest method is to pass an array - or a class containing the field. Changes to those will be reflected just fine.\r\n\r\nBut your problem is something completely different: Doubles are immutable, so every change to it will return a new value. There&#39;s nothing you can do about that, apart from implementing your own class.","title":"java - passing a double value by reference","body":"<p>@Title itself: You can't without \"dirty\" tricks. The easiest method is to pass an array - or a class containing the field. Changes to those will be reflected just fine.</p>\n\n<p>But your problem is something completely different: Doubles are immutable, so every change to it will return a new value. There's nothing you can do about that, apart from implementing your own class.</p>\n"},{"comments":[{"owner":{"account_id":211562,"reputation":351,"user_id":463810,"display_name":"Ouais"},"score":0,"creation_date":1303416730,"post_id":5749283,"comment_id":6580488,"body_markdown":"I&#39;m writing an expert system to solve geometrical problems in jess, and a certain double value say, the length of a segment is a part of many classes, now I could make classes to hold segments instead of double values, but that&#39;d cause a mini class explosion","body":"I&#39;m writing an expert system to solve geometrical problems in jess, and a certain double value say, the length of a segment is a part of many classes, now I could make classes to hold segments instead of double values, but that&#39;d cause a mini class explosion"},{"owner":{"account_id":152811,"reputation":3137,"user_id":367591,"accept_rate":62,"display_name":"Java Drinker"},"score":1,"creation_date":1303416935,"post_id":5749283,"comment_id":6580533,"body_markdown":"Nope, you are correct in having classes hold &quot;Segments&quot; rather than Doubles. This makes the intention clear, and in case you ever modify the game to use something other than doubles, there is a smaller impact. Dont worry over too many classes, in OOP, there is (almost) no such thing as too many classes.","body":"Nope, you are correct in having classes hold &quot;Segments&quot; rather than Doubles. This makes the intention clear, and in case you ever modify the game to use something other than doubles, there is a smaller impact. Dont worry over too many classes, in OOP, there is (almost) no such thing as too many classes."}],"tags":[],"owner":{"account_id":152811,"reputation":3137,"user_id":367591,"accept_rate":62,"display_name":"Java Drinker"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1303416616,"creation_date":1303416616,"answer_id":5749283,"question_id":5749251,"body_markdown":"The wrapper types are immutable in Java. Once they are created, their value cannot be changed (except via reflection magic ofcourse). Why are you trying to do what you&#39;re doing?\r\n\r\nEdit:\r\nJust to elaborate, when you set:\r\n\r\n    a = 5.0;\r\nWhat actually ends up happening is something like:\r\n\r\n    a = new Double(5.0);\r\n\r\nIf double were mutable, you could have done something like \r\n\r\n    a.setValue(5.0);// this would have worked for mutable objects, but not in this case\r\n\r\nYou can of course write your own class, but there are a lot of pitfalls here, so it&#39;s best to explain you&#39;re goal","title":"java - passing a double value by reference","body":"<p>The wrapper types are immutable in Java. Once they are created, their value cannot be changed (except via reflection magic ofcourse). Why are you trying to do what you're doing?</p>\n\n<p>Edit:\nJust to elaborate, when you set:</p>\n\n<pre><code>a = 5.0;\n</code></pre>\n\n<p>What actually ends up happening is something like:</p>\n\n<pre><code>a = new Double(5.0);\n</code></pre>\n\n<p>If double were mutable, you could have done something like </p>\n\n<pre><code>a.setValue(5.0);// this would have worked for mutable objects, but not in this case\n</code></pre>\n\n<p>You can of course write your own class, but there are a lot of pitfalls here, so it's best to explain you're goal</p>\n"},{"tags":[],"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303416744,"creation_date":1303416744,"answer_id":5749304,"question_id":5749251,"body_markdown":"You can not. In java you can not select the way (by value/by ref) by which parameters will be passed to a method.","title":"java - passing a double value by reference","body":"<p>You can not. In java you can not select the way (by value/by ref) by which parameters will be passed to a method.</p>\n"},{"comments":[{"owner":{"account_id":211562,"reputation":351,"user_id":463810,"display_name":"Ouais"},"score":0,"creation_date":1303416928,"post_id":5749317,"comment_id":6580530,"body_markdown":"actually, the copy constructor in double is passing the object by value, and I wanted it to pass it by reference, apologies if the question seemed obscure","body":"actually, the copy constructor in double is passing the object by value, and I wanted it to pass it by reference, apologies if the question seemed obscure"},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1303418263,"post_id":5749317,"comment_id":6580827,"body_markdown":"@Ouais - in Java you cant pass the reference itself - you pass the value of the reference. When you do `a=5.0`, it&#39;s not the same `a` that&#39;s getting set to 5.0 - if that was true then `b` would have 5 as well.","body":"@Ouais - in Java you cant pass the reference itself - you pass the value of the reference. When you do <code>a=5.0</code>, it&#39;s not the same <code>a</code> that&#39;s getting set to 5.0 - if that was true then <code>b</code> would have 5 as well."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1303416830,"creation_date":1303416830,"answer_id":5749317,"question_id":5749251,"body_markdown":"You can try &lt;a href=&quot;http://people.apache.org/~bayard/commons-lang-3.0-snapshot-api/org/apache/commons/lang/mutable/MutableDouble.html&quot;&gt;`MutableDouble`&lt;/a&gt; from commons-lang.\r\n\r\nBut not that this has nothing to do with pass-by-reference - you are not passing anything.\r\n","title":"java - passing a double value by reference","body":"<p>You can try <a href=\"http://people.apache.org/~bayard/commons-lang-3.0-snapshot-api/org/apache/commons/lang/mutable/MutableDouble.html\" rel=\"nofollow\"><code>MutableDouble</code></a> from commons-lang.</p>\n\n<p>But not that this has nothing to do with pass-by-reference - you are not passing anything.</p>\n"},{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303416907,"creation_date":1303416907,"answer_id":5749332,"question_id":5749251,"body_markdown":"Double is immutable in Java.  The assignment a = 5.0 is not changing the Double value of a.  It is actually creating an entirely new Double object and changing the value of the pointer that a holds to point at that new object.  If you want to be able to change the value without changing the reference, you need to make a mutable Double.\r\n\r\n    public class MutableDouble {\r\n      private Double value;\r\n      \r\n      public Double getValue() {\r\n        return value;\r\n      }\r\n    \r\n      public void setValue(Double value) {\r\n        this.value = value;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return value != null ? value.toString() : &quot;null&quot;;\r\n      }\r\n    }\r\n\r\nThen you would call a.setValue(5.0); and both would change.","title":"java - passing a double value by reference","body":"<p>Double is immutable in Java.  The assignment a = 5.0 is not changing the Double value of a.  It is actually creating an entirely new Double object and changing the value of the pointer that a holds to point at that new object.  If you want to be able to change the value without changing the reference, you need to make a mutable Double.</p>\n\n<pre><code>public class MutableDouble {\n  private Double value;\n\n  public Double getValue() {\n    return value;\n  }\n\n  public void setValue(Double value) {\n    this.value = value;\n  }\n\n  @Override\n  public String toString() {\n    return value != null ? value.toString() : \"null\";\n  }\n}\n</code></pre>\n\n<p>Then you would call a.setValue(5.0); and both would change.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1303416960,"creation_date":1303416960,"answer_id":5749341,"question_id":5749251,"body_markdown":"Java doesn&#39;t support pointers, so you can&#39;t point to a&#39;s memory directly (as in C / C++).\r\n\r\nJava does support references, but references are only references to Objects.  Native (built-in) types cannot be referenced.  So when you executed (autoboxing converted the code for you to the following).\r\n\r\n   Double a = new Double(3.0);\r\n\r\nThat means that when you execute\r\n\r\n    Double b = a;\r\n\r\nyou gain a reference to a&#39;s Object.  When you opt to change a (autoboxing will eventually convert your code above to this)\r\n\r\n    a = new Double(5.0);\r\n\r\nWhich won&#39;t impact b&#39;s reference to the previously created `new Double(3.0)`.  In other words, you can&#39;t impact b&#39;s reference by manipulating a directly (or there&#39;s no &quot;action at a distance&quot; in Java).\r\n\r\nThat said, there are other solutions\r\n\r\n    public class MutableDouble() {\r\n\r\n       private double value;\r\n\r\n       public MutableDouble(double value) {\r\n         this.value = value;\r\n       }\r\n\r\n       public double getValue() {\r\n         return this.value;\r\n       }\r\n\r\n       public void setValue(double value) {\r\n         this.value = value;\r\n       }\r\n     }\r\n\r\n     MutableDouble a = new MutableDouble(3.0);\r\n     MutableDouble b = a;\r\n\r\n     a.setValue(5.0);\r\n     b.getValue(); // equals 5.0\r\n    ","title":"java - passing a double value by reference","body":"<p>Java doesn't support pointers, so you can't point to a's memory directly (as in C / C++).</p>\n\n<p>Java does support references, but references are only references to Objects.  Native (built-in) types cannot be referenced.  So when you executed (autoboxing converted the code for you to the following).</p>\n\n<p>Double a = new Double(3.0);</p>\n\n<p>That means that when you execute</p>\n\n<pre><code>Double b = a;\n</code></pre>\n\n<p>you gain a reference to a's Object.  When you opt to change a (autoboxing will eventually convert your code above to this)</p>\n\n<pre><code>a = new Double(5.0);\n</code></pre>\n\n<p>Which won't impact b's reference to the previously created <code>new Double(3.0)</code>.  In other words, you can't impact b's reference by manipulating a directly (or there's no \"action at a distance\" in Java).</p>\n\n<p>That said, there are other solutions</p>\n\n<pre><code>public class MutableDouble() {\n\n   private double value;\n\n   public MutableDouble(double value) {\n     this.value = value;\n   }\n\n   public double getValue() {\n     return this.value;\n   }\n\n   public void setValue(double value) {\n     this.value = value;\n   }\n }\n\n MutableDouble a = new MutableDouble(3.0);\n MutableDouble b = a;\n\n a.setValue(5.0);\n b.getValue(); // equals 5.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3261933,"reputation":1,"user_id":2747343,"display_name":"Hygens Colt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702118818,"creation_date":1702118818,"answer_id":77630983,"question_id":5749251,"body_markdown":"Same that Java not pass any primitive as reference exists alternatives on Java to reference any value if that value is hosted on one array that is one object. For that you can, for example, passing parameters to method via unitary array:\r\n```\r\n    public class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\t double[] arr =  { 2.3535 };\r\n\t\t xDouble(arr);\r\n\t\t System.out.printf(&quot;The 2x double for reference is: %.2f\\n&quot;, arr[0]);\r\n\t}\r\n\t\r\n\tprivate static void xDouble(double[] dA) {\r\n\t\tdA[0]=dA[0]*2;\r\n\t}\r\n    }\r\n\r\n    Result: The 2x double for reference is: 4.71\r\n```\r\n\r\n\r\n","title":"java - passing a double value by reference","body":"<p>Same that Java not pass any primitive as reference exists alternatives on Java to reference any value if that value is hosted on one array that is one object. For that you can, for example, passing parameters to method via unitary array:</p>\n<pre><code>    public class Test {\n    public static void main(String[] args) {\n         double[] arr =  { 2.3535 };\n         xDouble(arr);\n         System.out.printf(&quot;The 2x double for reference is: %.2f\\n&quot;, arr[0]);\n    }\n    \n    private static void xDouble(double[] dA) {\n        dA[0]=dA[0]*2;\n    }\n    }\n\n    Result: The 2x double for reference is: 4.71\n</code></pre>\n"}],"owner":{"account_id":211562,"reputation":351,"user_id":463810,"display_name":"Ouais"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26657,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":7,"score":12,"last_activity_date":1702118818,"creation_date":1303416391,"question_id":5749251,"body_markdown":"how can I pass a double value by reference in java?\r\n\r\nexample:\r\n\r\n    Double a = 3.0;\r\n    Double b = a;\r\n    System.out.println(&quot;a: &quot;+a+&quot; b: &quot;+b);\r\n    a = 5.0;\r\n    System.out.println(&quot;a: &quot;+a+&quot; b: &quot;+b);\r\n\r\nthis code prints:\r\n\r\n    a: 3 b: 3\r\n    a: 5 b: 3\r\n\r\nand my problem is to get it to print:\r\n\r\n    a: 3 b: 3\r\n    a: 5 b: 5\r\n\r\nmy goal:\r\nI&#39;m writing an expert system in jess, in that application a segment would have a double value for it&#39;s length, now that double value isn&#39;t in a single segment; it&#39;s in many other segments, proportionality classes..etc, all of which are referencing to it, waiting it to change so that they could possibly meet some rules.\r\n\r\nif I can&#39;t get that double to change, I can&#39;t have a certain rule fire which contains an object that references to that double value.\r\n\r\n","title":"java - passing a double value by reference","body":"<p>how can I pass a double value by reference in java?</p>\n\n<p>example:</p>\n\n<pre><code>Double a = 3.0;\nDouble b = a;\nSystem.out.println(\"a: \"+a+\" b: \"+b);\na = 5.0;\nSystem.out.println(\"a: \"+a+\" b: \"+b);\n</code></pre>\n\n<p>this code prints:</p>\n\n<pre><code>a: 3 b: 3\na: 5 b: 3\n</code></pre>\n\n<p>and my problem is to get it to print:</p>\n\n<pre><code>a: 3 b: 3\na: 5 b: 5\n</code></pre>\n\n<p>my goal:\nI'm writing an expert system in jess, in that application a segment would have a double value for it's length, now that double value isn't in a single segment; it's in many other segments, proportionality classes..etc, all of which are referencing to it, waiting it to change so that they could possibly meet some rules.</p>\n\n<p>if I can't get that double to change, I can't have a certain rule fire which contains an object that references to that double value.</p>\n"},{"tags":["java","spring","design-patterns","amazon-sqs","spring-cloud-aws"],"owner":{"account_id":15602617,"reputation":1,"user_id":23055215,"display_name":"Siva s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702065600,"answer_count":0,"score":0,"last_activity_date":1702117049,"creation_date":1702064245,"question_id":77628781,"body_markdown":"I&#39;m working on a SQS consumer application using Spring AWS Cloud and Spring Boot. I have listeners and handlers for different types of messages. I want to know which design pattern to use for delegating the message to a corresponding handlers.\r\n\r\n```\r\n//Listener \r\nclass Listener{\r\n    \r\n    Handler&lt;MessageA&gt; handler;\r\n\r\n    @SqsListener(&quot;queueName&quot;)\r\n    public void listen(MessageA messageA){\r\n       //want to pass the message to delegator\r\n       Delegator&lt;MessageA&gt; delegator = new Delegator(messageA , handler);\r\n       delegator.delegate();\r\n    }\r\n}\r\n```\r\n```\r\n//Delegator\r\nclass Delegator&lt;T&gt;{\r\n\r\n   T message;\r\n   Handler&lt;T&gt; handler;\r\n\r\n   public void delegate(){\r\n       handler.process(T message);\r\n  }\r\n}\r\n```\r\n```\r\n//Handler\r\ninterface Handler&lt;T&gt;{\r\n    void processs(T message);\r\n}\r\n\r\n```\r\n\r\n```\r\n//Handler implmentations\r\npublic MessageA_Handler implements Handler&lt;MessageA&gt;{\r\n  \r\n  public void processs(MessageA msgA){\r\n     //process the message here.\r\n  }\r\n\r\n}\r\n```","title":"SQS consumer - message handlers and delegation","body":"<p>I'm working on a SQS consumer application using Spring AWS Cloud and Spring Boot. I have listeners and handlers for different types of messages. I want to know which design pattern to use for delegating the message to a corresponding handlers.</p>\n<pre><code>//Listener \nclass Listener{\n    \n    Handler&lt;MessageA&gt; handler;\n\n    @SqsListener(&quot;queueName&quot;)\n    public void listen(MessageA messageA){\n       //want to pass the message to delegator\n       Delegator&lt;MessageA&gt; delegator = new Delegator(messageA , handler);\n       delegator.delegate();\n    }\n}\n</code></pre>\n<pre><code>//Delegator\nclass Delegator&lt;T&gt;{\n\n   T message;\n   Handler&lt;T&gt; handler;\n\n   public void delegate(){\n       handler.process(T message);\n  }\n}\n</code></pre>\n<pre><code>//Handler\ninterface Handler&lt;T&gt;{\n    void processs(T message);\n}\n\n</code></pre>\n<pre><code>//Handler implmentations\npublic MessageA_Handler implements Handler&lt;MessageA&gt;{\n  \n  public void processs(MessageA msgA){\n     //process the message here.\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":2532801,"reputation":1006,"user_id":2200726,"display_name":"padilo"},"score":1,"creation_date":1403689833,"post_id":23766580,"comment_id":37752452,"body_markdown":"Use PageableDefault instead of PageableDefaults. It has the same functionality, but PageDefaults is deprecated since Spring Data Commons 1.6 (http://docs.spring.io/spring-data/commons/docs/1.6.x/api/org/springframework/data/web/PageableDefaults.html)","body":"Use PageableDefault instead of PageableDefaults. It has the same functionality, but PageDefaults is deprecated since Spring Data Commons 1.6 (<a href=\"http://docs.spring.io/spring-data/commons/docs/1.6.x/api/org/springframework/data/web/PageableDefaults.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/commons/docs/1.6.x/api/org/&hellip;</a>)"},{"owner":{"account_id":1241031,"reputation":1797,"user_id":1203628,"accept_rate":75,"display_name":"pdorgambide"},"score":13,"creation_date":1426712815,"post_id":23766580,"comment_id":46491155,"body_markdown":"The page size has limit upper bound as the &#39;maxPageSize&#39; property of the PageableHandlerMethodArgumentResolver. For this reason if the @PageagleDeafult annotation has a greater value than the &#39;maxPageSize&#39; the argument resolver will change it to &#39;maxPageSize&#39;. To run properly needs also  configure the &#39;maxPageSize&#39; to Integer.MAX_VALUE","body":"The page size has limit upper bound as the &#39;maxPageSize&#39; property of the PageableHandlerMethodArgumentResolver. For this reason if the @PageagleDeafult annotation has a greater value than the &#39;maxPageSize&#39; the argument resolver will change it to &#39;maxPageSize&#39;. To run properly needs also  configure the &#39;maxPageSize&#39; to Integer.MAX_VALUE"}],"tags":[],"owner":{"account_id":3796139,"reputation":8113,"user_id":3151168,"accept_rate":100,"display_name":"ksokol"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1403844098,"creation_date":1400607959,"answer_id":23766580,"question_id":23751193,"body_markdown":"In conjunction with Spring MVC you can use `PageableDefaults` annotation with `value = Integer.MAX_VALUE` like\r\n\r\n    public String showUsers(Model model, \r\n      @PageableDefaults(pageNumber = 0, value = Integer.MAX_VALUE) Pageable pageable) { … }\r\n\r\n\r\nsee [PageableDefaults annotation][1] Javadoc.\r\n\r\n\r\nIn any other client code you can set second constructor parameter to `Integer.MAX_VALUE`:\r\n\r\n    new PageRequest(\r\n        queryForm.getPageNumber()- 1, \r\n        queryForm.getPageSize() == null ? Integer.MAX_VALUE : queryForm.getPageSize(),\r\n        Sort.Direction.ASC,&quot;id&quot;); \r\n\r\nsee [PageRequest constructor][3]. I assume that `queryForm.getPageSize()` is a wrapper type not a primitive. Otherwise you get a zero if pageSize wasn&#39;t set by the user (intentionally for a &quot;search all&quot; request).\r\n\r\nUPDATE:\r\n\r\nSince Spring Data Commons 1.6 you should use `PageableDefault` instead of `PageableDefaults`\r\n\r\n    public String showUsers(Model model, \r\n        @PageableDefault(page= 2 ,value = Integer.MAX_VALUE)\r\n\r\n\r\nSee [PageableDefault annotation][4] Javadoc.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/data-commons/docs/1.1.0.RELEASE/api/org/springframework/data/web/PageableDefaults.html\r\n  [3]: http://docs.spring.io/spring-data/data-commons/docs/1.1.0.RELEASE/api/org/springframework/data/domain/PageRequest.html\r\n  [4]: http://docs.spring.io/spring-data/data-commons/docs/1.6.x/api/org/springframework/data/web/PageableDefault.html","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>In conjunction with Spring MVC you can use <code>PageableDefaults</code> annotation with <code>value = Integer.MAX_VALUE</code> like</p>\n\n<pre><code>public String showUsers(Model model, \n  @PageableDefaults(pageNumber = 0, value = Integer.MAX_VALUE) Pageable pageable) { … }\n</code></pre>\n\n<p>see <a href=\"http://docs.spring.io/spring-data/data-commons/docs/1.1.0.RELEASE/api/org/springframework/data/web/PageableDefaults.html\">PageableDefaults annotation</a> Javadoc.</p>\n\n<p>In any other client code you can set second constructor parameter to <code>Integer.MAX_VALUE</code>:</p>\n\n<pre><code>new PageRequest(\n    queryForm.getPageNumber()- 1, \n    queryForm.getPageSize() == null ? Integer.MAX_VALUE : queryForm.getPageSize(),\n    Sort.Direction.ASC,\"id\"); \n</code></pre>\n\n<p>see <a href=\"http://docs.spring.io/spring-data/data-commons/docs/1.1.0.RELEASE/api/org/springframework/data/domain/PageRequest.html\">PageRequest constructor</a>. I assume that <code>queryForm.getPageSize()</code> is a wrapper type not a primitive. Otherwise you get a zero if pageSize wasn't set by the user (intentionally for a \"search all\" request).</p>\n\n<p>UPDATE:</p>\n\n<p>Since Spring Data Commons 1.6 you should use <code>PageableDefault</code> instead of <code>PageableDefaults</code></p>\n\n<pre><code>public String showUsers(Model model, \n    @PageableDefault(page= 2 ,value = Integer.MAX_VALUE)\n</code></pre>\n\n<p>See <a href=\"http://docs.spring.io/spring-data/data-commons/docs/1.6.x/api/org/springframework/data/web/PageableDefault.html\">PageableDefault annotation</a> Javadoc.</p>\n"},{"tags":[],"owner":{"account_id":4702394,"reputation":21,"user_id":3805618,"display_name":"user3805618"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496831245,"creation_date":1496830264,"answer_id":44409704,"question_id":23751193,"body_markdown":"This works for me:\r\n\r\nAll pageable request use `MyCustomPage` and use a default page and size if not found in request.\r\n\r\nIf size (number of record exceed the max value) i set a default value, which in this case 50.\r\n\r\n    public class MyCustomPage extends PageRequest{\r\n        Integer MAX_PAGE_SIZE = 50\r\n        //constructor \r\n        public MyCustomPage(Integer page, Integer size) {\r\n            super(page,(size&gt;MAX_PAGE_SIZE)?MAX_PAGE_SIZE:size);\r\n        }\r\n    }\r\n\r\n","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>This works for me:</p>\n\n<p>All pageable request use <code>MyCustomPage</code> and use a default page and size if not found in request.</p>\n\n<p>If size (number of record exceed the max value) i set a default value, which in this case 50.</p>\n\n<pre><code>public class MyCustomPage extends PageRequest{\n    Integer MAX_PAGE_SIZE = 50\n    //constructor \n    public MyCustomPage(Integer page, Integer size) {\n        super(page,(size&gt;MAX_PAGE_SIZE)?MAX_PAGE_SIZE:size);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5131675,"reputation":368,"user_id":4111643,"accept_rate":100,"display_name":"CodeMonkey"},"score":1,"creation_date":1522695409,"post_id":44705987,"comment_id":86241065,"body_markdown":"@OWADVL is it though? As of Spring 5 there is no default constructor for `org.springframework.data.web.config.SpringDataWebConfiguration`","body":"@OWADVL is it though? As of Spring 5 there is no default constructor for <code>org.springframework.data.web.config.SpringDataWebConfigurati&zwnj;&#8203;on</code>"},{"owner":{"account_id":1845327,"reputation":3625,"user_id":1673775,"display_name":"luke"},"score":0,"creation_date":1525701655,"post_id":44705987,"comment_id":87448850,"body_markdown":"@CodeMonkey This answer does not include Spring 5 and I think it is obvious when you look at the answer date. This answer was posted on Jun 22 2017, OWADVL commented it on Jul 23 2017 and first stable version of Spring 5 was released on Sep 28, 2017. So both answer and OWADVL comment were made before first stable release of Spring 5 came out. Now you might find out how to make it work in Spring 5 and post another, better, more complete answer :)","body":"@CodeMonkey This answer does not include Spring 5 and I think it is obvious when you look at the answer date. This answer was posted on Jun 22 2017, OWADVL commented it on Jul 23 2017 and first stable version of Spring 5 was released on Sep 28, 2017. So both answer and OWADVL comment were made before first stable release of Spring 5 came out. Now you might find out how to make it work in Spring 5 and post another, better, more complete answer :)"}],"tags":[],"owner":{"account_id":1845327,"reputation":3625,"user_id":1673775,"display_name":"luke"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1525702005,"creation_date":1498152855,"answer_id":44705987,"question_id":23751193,"body_markdown":"If you use Spring MVC this may help you. According to comments below this answer is fully correct for Spring 4.x.x and maybe ealier, but for Spring 5.x.x you probably need another solution.\r\n\r\nThe first thing that you have to do is to use `@PageableDefault` annotation and set size to Integer.MAX_VALUE or any other value you want:\r\n\r\n    public SomeResponseObject getSomething(\r\n        @PageableDefault(size = Integer.MAX_VALUE) Pageable page\r\n    ) {\r\n        return someService.getSomething(page);\r\n    }\r\nBut it is not enough when your size value is very big (bigger than 2000 in Spring Data Core/spring-data-commons `1.12.3`), because size will be still limited by `maxPageSize` variable in `PageableHandlerMethodArgumentResolver` class which is set by default to 2000. This was mentioned by [pdorgambide][1]. You will get something like this:  \r\n[![Response with size limited to 2000 because of default maxPageSize][2]][2]  \r\nAs you can see there is size=2000 instead of expected size=2147483647 (size=Integer.MAX_VALUE).  \r\nSo the second step is to change mentioned `maxPageSize`. We can do it by overriding `PageableHandlerMethodArgumentResolver`. One of the ways to do it is to create a proper java configuration file in a proper package - if you use such kind of configuration in your project. You can do it also in xml config file if your project uses such. There is my solution (Java Spring Configuration File):  \r\n\r\n    @Configuration\r\n    @EnableConfigurationProperties\r\n    public class PaginationConfiguration extends SpringDataWebConfiguration {\r\n    \r\n        @Bean\r\n        public PageableHandlerMethodArgumentResolver pageableResolver() {\r\n            PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver =\r\n                new PageableHandlerMethodArgumentResolver(sortResolver());\r\n    \r\n            pageableHandlerMethodArgumentResolver.setMaxPageSize(Integer.MAX_VALUE);\r\n    \r\n            return pageableHandlerMethodArgumentResolver;\r\n        }\r\n    \r\n    }\r\n\r\nNow everything works as expected:  \r\n[![Response with proper size equal to Integer.MAX_VALUE which is 2147483647][3]][3]\r\n\r\nIt is also worth to mention that in `@PageableDefault` annotation `value` is equivalent to `size`. In other words it is alias for `size`. It means that instead of `size=Integer.MAX_VALUE` you can write `value=Integer.MAX_VALUE`. What is more althought it makes no sense you can use both in the same time. If they are different only `size` is taken into consideration.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1203628/pdorgambide\r\n  [2]: https://i.stack.imgur.com/S1psC.png\r\n  [3]: https://i.stack.imgur.com/APeXF.png","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>If you use Spring MVC this may help you. According to comments below this answer is fully correct for Spring 4.x.x and maybe ealier, but for Spring 5.x.x you probably need another solution.</p>\n\n<p>The first thing that you have to do is to use <code>@PageableDefault</code> annotation and set size to Integer.MAX_VALUE or any other value you want:</p>\n\n<pre><code>public SomeResponseObject getSomething(\n    @PageableDefault(size = Integer.MAX_VALUE) Pageable page\n) {\n    return someService.getSomething(page);\n}\n</code></pre>\n\n<p>But it is not enough when your size value is very big (bigger than 2000 in Spring Data Core/spring-data-commons <code>1.12.3</code>), because size will be still limited by <code>maxPageSize</code> variable in <code>PageableHandlerMethodArgumentResolver</code> class which is set by default to 2000. This was mentioned by <a href=\"https://stackoverflow.com/users/1203628/pdorgambide\">pdorgambide</a>. You will get something like this:<br>\n<a href=\"https://i.stack.imgur.com/S1psC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/S1psC.png\" alt=\"Response with size limited to 2000 because of default maxPageSize\"></a><br>\nAs you can see there is size=2000 instead of expected size=2147483647 (size=Integer.MAX_VALUE).<br>\nSo the second step is to change mentioned <code>maxPageSize</code>. We can do it by overriding <code>PageableHandlerMethodArgumentResolver</code>. One of the ways to do it is to create a proper java configuration file in a proper package - if you use such kind of configuration in your project. You can do it also in xml config file if your project uses such. There is my solution (Java Spring Configuration File):  </p>\n\n<pre><code>@Configuration\n@EnableConfigurationProperties\npublic class PaginationConfiguration extends SpringDataWebConfiguration {\n\n    @Bean\n    public PageableHandlerMethodArgumentResolver pageableResolver() {\n        PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver =\n            new PageableHandlerMethodArgumentResolver(sortResolver());\n\n        pageableHandlerMethodArgumentResolver.setMaxPageSize(Integer.MAX_VALUE);\n\n        return pageableHandlerMethodArgumentResolver;\n    }\n\n}\n</code></pre>\n\n<p>Now everything works as expected:<br>\n<a href=\"https://i.stack.imgur.com/APeXF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/APeXF.png\" alt=\"Response with proper size equal to Integer.MAX_VALUE which is 2147483647\"></a></p>\n\n<p>It is also worth to mention that in <code>@PageableDefault</code> annotation <code>value</code> is equivalent to <code>size</code>. In other words it is alias for <code>size</code>. It means that instead of <code>size=Integer.MAX_VALUE</code> you can write <code>value=Integer.MAX_VALUE</code>. What is more althought it makes no sense you can use both in the same time. If they are different only <code>size</code> is taken into consideration.</p>\n"},{"comments":[{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":1,"creation_date":1581433433,"post_id":46836539,"comment_id":106426757,"body_markdown":"The problem with `Pageable p = super.resolveArgument(methodParameter, mavContainer, webRequest, binderFactory);` doesn&#39;t take what consumer has sent in request, its taking `Page request [number: 0, size 2000]`, is there any way if we can take what consumer is sending ?","body":"The problem with <code>Pageable p = super.resolveArgument(methodParameter, mavContainer, webRequest, binderFactory);</code> doesn&#39;t take what consumer has sent in request, its taking <code>Page request [number: 0, size 2000]</code>, is there any way if we can take what consumer is sending ?"}],"tags":[],"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1508437610,"creation_date":1508437610,"answer_id":46836539,"question_id":23751193,"body_markdown":"If you need per-controller limits like this:\r\n\r\n    @RequestMapping(path = &quot;/users&quot;)\r\n    public ModelAndView users(@PageableLimits(maxSize = 10) Pageable pageable) {\r\n        ...\r\n    }\r\n\r\n    @RequestMapping(path = &quot;/comments&quot;)\r\n    public ModelAndView comments(@PageableLimits(maxSize = 100) Pageable pageable) {\r\n        ...\r\n    }\r\n\r\nIt can be done with custom annotation:\r\n\r\n    @Documented\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.PARAMETER)\r\n    public @interface PageableLimits {\r\n        int maxSize() default Integer.MAX_VALUE;\r\n\r\n        int minSize() default 0;\r\n    }\r\n\r\nAnd extended `PageableHandlerMethodArgumentResolver` configuration:\r\n\r\n    @Configuration\r\n    public class MvcConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            PageableHandlerMethodArgumentResolver resolver = new PageableHandlerMethodArgumentResolver() {\r\n                \r\n                @Override\r\n                public Pageable resolveArgument(MethodParameter methodParameter, @Nullable ModelAndViewContainer mavContainer,\r\n                                                NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) {\r\n                    Pageable p = super.resolveArgument(methodParameter, mavContainer, webRequest, binderFactory);\r\n                    return getLimitsFromAnnotation(p, methodParameter);\r\n                }\r\n    \r\n                private Pageable getLimitsFromAnnotation(Pageable p, MethodParameter methodParameter) {\r\n    \r\n                    PageableLimits limits = methodParameter.getParameterAnnotation(PageableLimits.class);\r\n    \r\n                    if (limits == null) return p;\r\n    \r\n                    if (p.getPageSize() &gt; limits.maxSize())\r\n                        return PageRequest.of(p.getPageNumber(), limits.maxSize(), p.getSort());\r\n                    else if (p.getPageSize() &lt; limits.minSize())\r\n                        return PageRequest.of(p.getPageNumber(), limits.minSize(), p.getSort());\r\n    \r\n                    return p;\r\n                }\r\n            };\r\n    \r\n            resolver.setMaxPageSize(Integer.MAX_VALUE);\r\n            argumentResolvers.add(resolver);\r\n            super.addArgumentResolvers(argumentResolvers);\r\n        }\r\n    }\r\n\r\n","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>If you need per-controller limits like this:</p>\n\n<pre><code>@RequestMapping(path = \"/users\")\npublic ModelAndView users(@PageableLimits(maxSize = 10) Pageable pageable) {\n    ...\n}\n\n@RequestMapping(path = \"/comments\")\npublic ModelAndView comments(@PageableLimits(maxSize = 100) Pageable pageable) {\n    ...\n}\n</code></pre>\n\n<p>It can be done with custom annotation:</p>\n\n<pre><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\npublic @interface PageableLimits {\n    int maxSize() default Integer.MAX_VALUE;\n\n    int minSize() default 0;\n}\n</code></pre>\n\n<p>And extended <code>PageableHandlerMethodArgumentResolver</code> configuration:</p>\n\n<pre><code>@Configuration\npublic class MvcConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        PageableHandlerMethodArgumentResolver resolver = new PageableHandlerMethodArgumentResolver() {\n\n            @Override\n            public Pageable resolveArgument(MethodParameter methodParameter, @Nullable ModelAndViewContainer mavContainer,\n                                            NativeWebRequest webRequest, @Nullable WebDataBinderFactory binderFactory) {\n                Pageable p = super.resolveArgument(methodParameter, mavContainer, webRequest, binderFactory);\n                return getLimitsFromAnnotation(p, methodParameter);\n            }\n\n            private Pageable getLimitsFromAnnotation(Pageable p, MethodParameter methodParameter) {\n\n                PageableLimits limits = methodParameter.getParameterAnnotation(PageableLimits.class);\n\n                if (limits == null) return p;\n\n                if (p.getPageSize() &gt; limits.maxSize())\n                    return PageRequest.of(p.getPageNumber(), limits.maxSize(), p.getSort());\n                else if (p.getPageSize() &lt; limits.minSize())\n                    return PageRequest.of(p.getPageNumber(), limits.minSize(), p.getSort());\n\n                return p;\n            }\n        };\n\n        resolver.setMaxPageSize(Integer.MAX_VALUE);\n        argumentResolvers.add(resolver);\n        super.addArgumentResolvers(argumentResolvers);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12654557,"reputation":1,"user_id":9197475,"display_name":"владимир сенцов"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533198740,"creation_date":1533198291,"answer_id":51648916,"question_id":23751193,"body_markdown":"Maybe you could use:\r\n\r\n    @Override\r\n    @GetMapping(&quot;/some&quot;)\r\n    public ResponseEntity&lt;Page&lt;BaseEntityInformationDTO&gt;&gt; getTemplateInfo(\r\n                  @PageableDefault(sort = &quot;displayedName&quot;) Pageable pageable, \r\n                  @RequestParam(defaultValue = Integer.MAX_VALUE + &quot;&quot;) Integer trueSize) {\r\n        pageable = new PageRequest(pageable.getPageNumber, Math.max(pageable.getPageSize, trueSize),..)\r\n        ....\r\n    }","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>Maybe you could use:</p>\n\n<pre><code>@Override\n@GetMapping(\"/some\")\npublic ResponseEntity&lt;Page&lt;BaseEntityInformationDTO&gt;&gt; getTemplateInfo(\n              @PageableDefault(sort = \"displayedName\") Pageable pageable, \n              @RequestParam(defaultValue = Integer.MAX_VALUE + \"\") Integer trueSize) {\n    pageable = new PageRequest(pageable.getPageNumber, Math.max(pageable.getPageSize, trueSize),..)\n    ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14201611,"reputation":1,"user_id":10259380,"display_name":"Triqui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534936326,"creation_date":1534936326,"answer_id":51965588,"question_id":23751193,"body_markdown":"I use this in my code:\r\n\r\n\tpublic Page&lt;MyObject&gt; retrieveData(@RequestBody CustomParameters query, Pageable pageable, Sort sort) {\r\n\t\tif (pageable == null) {\r\n\t\t\treturn new PageImpl&lt;&gt;(repository.findAll(query.buildSpecification(), sort));\r\n\t\t}\r\n\t\treturn repository.findAll(query.buildSpecification(), pageable);\r\n\t}\r\n\r\nThis has a couple of advantages. If you use this in controllers you can always define a Pageable and a Sort arguments, if the request contains a &quot;page&quot; parameter, a Pageable will be created automatically (if there is a &quot;sort&quot; parameter it will be included in the pageable if it&#39;s not null or in the Sort argument if it is).\r\n\r\nYou can customize the sortResolver and pageableResolver in you configuration and then you have the same behaviour in all your controllers.\r\n\r\nThis way when you send the request you can specify if you want just a number of records (sendig a &quot;page&quot; parameter, and &quot;size&quot;) or if you want them all (not sending those parameters), but you always get the same return structure.\r\n\r\n","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>I use this in my code:</p>\n\n<pre><code>public Page&lt;MyObject&gt; retrieveData(@RequestBody CustomParameters query, Pageable pageable, Sort sort) {\n    if (pageable == null) {\n        return new PageImpl&lt;&gt;(repository.findAll(query.buildSpecification(), sort));\n    }\n    return repository.findAll(query.buildSpecification(), pageable);\n}\n</code></pre>\n\n<p>This has a couple of advantages. If you use this in controllers you can always define a Pageable and a Sort arguments, if the request contains a \"page\" parameter, a Pageable will be created automatically (if there is a \"sort\" parameter it will be included in the pageable if it's not null or in the Sort argument if it is).</p>\n\n<p>You can customize the sortResolver and pageableResolver in you configuration and then you have the same behaviour in all your controllers.</p>\n\n<p>This way when you send the request you can specify if you want just a number of records (sendig a \"page\" parameter, and \"size\") or if you want them all (not sending those parameters), but you always get the same return structure.</p>\n"},{"comments":[{"owner":{"account_id":152400,"reputation":240448,"user_id":366904,"accept_rate":82,"display_name":"Cody Gray - on strike"},"score":3,"creation_date":1550113485,"post_id":54682535,"comment_id":96154004,"body_markdown":"There is a &quot;delete&quot; link, if you are looking for it. But editing your answer to contain garbage text is not acceptable.","body":"There is a &quot;delete&quot; link, if you are looking for it. But editing your answer to contain garbage text is not acceptable."}],"tags":[],"owner":{"account_id":15329749,"reputation":21,"user_id":11059780,"display_name":"bioye"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1550113448,"creation_date":1550112775,"answer_id":54682535,"question_id":23751193,"body_markdown":"For Spring 5.x.x, set `spring.data.rest.max-page-size=2147483647` in `application.properties`.","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>For Spring 5.x.x, set <code>spring.data.rest.max-page-size=2147483647</code> in <code>application.properties</code>.</p>\n"},{"comments":[{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":3,"creation_date":1597905675,"post_id":56857029,"comment_id":112285728,"body_markdown":"this only works if you are using `spring-data-rest`. If not, I have found `spring.data.web.pageable.max-page-size` to work.","body":"this only works if you are using <code>spring-data-rest</code>. If not, I have found <code>spring.data.web.pageable.max-page-size</code> to work."}],"tags":[],"owner":{"account_id":11634571,"reputation":1536,"user_id":8521434,"accept_rate":0,"display_name":"VIJ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562090154,"creation_date":1562086365,"answer_id":56857029,"question_id":23751193,"body_markdown":"    spring.data.rest.max-page-size=1000\r\n\r\nuse this property in `application.property` and assign a higher value.","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<pre><code>spring.data.rest.max-page-size=1000\n</code></pre>\n\n<p>use this property in <code>application.property</code> and assign a higher value.</p>\n"},{"tags":[],"owner":{"account_id":5244521,"reputation":327,"user_id":4190682,"display_name":"Maneki"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1562344267,"creation_date":1562333343,"answer_id":56904030,"question_id":23751193,"body_markdown":"Here is a working solution for Spring 5.x.x. You just need to add the default constructor. See the above example :\r\n\r\n```\r\n@Configuration\r\npublic class PaginationConfiguration extends SpringDataWebConfiguration {\r\n\r\n    /**\r\n     * @param context           must not be {@literal null}.\r\n     * @param conversionService must not be {@literal null}.\r\n     */\r\n    public PaginationConfiguration(ApplicationContext context,\r\n                                   @Qualifier(&quot;mvcConversionService&quot;) ObjectFactory&lt;ConversionService&gt; conversionService) {\r\n        super(context, conversionService);\r\n    }\r\n\r\n    @Bean\r\n    public PageableHandlerMethodArgumentResolver pageableResolver() {\r\n        PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver =\r\n                new PageableHandlerMethodArgumentResolver(sortResolver());\r\n\r\n        pageableHandlerMethodArgumentResolver.setMaxPageSize(Integer.MAX_VALUE);\r\n\r\n        return pageableHandlerMethodArgumentResolver;\r\n    }\r\n\r\n}\r\n```","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>Here is a working solution for Spring 5.x.x. You just need to add the default constructor. See the above example :</p>\n\n<pre><code>@Configuration\npublic class PaginationConfiguration extends SpringDataWebConfiguration {\n\n    /**\n     * @param context           must not be {@literal null}.\n     * @param conversionService must not be {@literal null}.\n     */\n    public PaginationConfiguration(ApplicationContext context,\n                                   @Qualifier(\"mvcConversionService\") ObjectFactory&lt;ConversionService&gt; conversionService) {\n        super(context, conversionService);\n    }\n\n    @Bean\n    public PageableHandlerMethodArgumentResolver pageableResolver() {\n        PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver =\n                new PageableHandlerMethodArgumentResolver(sortResolver());\n\n        pageableHandlerMethodArgumentResolver.setMaxPageSize(Integer.MAX_VALUE);\n\n        return pageableHandlerMethodArgumentResolver;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643719447,"creation_date":1573909932,"answer_id":58891109,"question_id":23751193,"body_markdown":"The calling application can send the maximum value of integer (something like Integer.MAX_VALUE) to the API directly in page size.\r\n\r\nTo give maximum value explicitly we can provide below value in size.\r\n\r\n    pageable = PageRequest.of(0, Integer.MAX_VALUE);\r\n\r\n\r\nYou can also provide one variable like `isPageable` in this case, when clients needs full data, they can provide this value to false &amp; you can override the page size based on this flag.\r\n\r\n\r\n\t// pageable is coming from function\r\n\tif(!isPageable)\r\n\t\tpageable = PageRequest.of(0, Integer.MAX_VALUE, pageable.getSort());\r\n\r\nPageRequest&#39;s package **org.springframework.data.domain.PageRequest**\r\n","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>The calling application can send the maximum value of integer (something like Integer.MAX_VALUE) to the API directly in page size.</p>\n<p>To give maximum value explicitly we can provide below value in size.</p>\n<pre><code>pageable = PageRequest.of(0, Integer.MAX_VALUE);\n</code></pre>\n<p>You can also provide one variable like <code>isPageable</code> in this case, when clients needs full data, they can provide this value to false &amp; you can override the page size based on this flag.</p>\n<pre><code>// pageable is coming from function\nif(!isPageable)\n    pageable = PageRequest.of(0, Integer.MAX_VALUE, pageable.getSort());\n</code></pre>\n<p>PageRequest's package <strong>org.springframework.data.domain.PageRequest</strong></p>\n"},{"tags":[],"owner":{"account_id":140637,"reputation":6194,"user_id":1311394,"display_name":"ach"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579203856,"creation_date":1579203856,"answer_id":59776741,"question_id":23751193,"body_markdown":"As of Spring Data 2.0 you can also do the following:\r\n\r\n```\r\n@Configuration\r\npublic class WebConfiguration implements PageableHandlerMethodArgumentResolverCustomizer {\r\n\r\n    @Override\r\n    public void customize(PageableHandlerMethodArgumentResolver pageableResolver) {\r\n        pageableResolver.setFallbackPageable(Pageable.unpaged());\r\n    }\r\n\r\n}\r\n```","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>As of Spring Data 2.0 you can also do the following:</p>\n\n<pre><code>@Configuration\npublic class WebConfiguration implements PageableHandlerMethodArgumentResolverCustomizer {\n\n    @Override\n    public void customize(PageableHandlerMethodArgumentResolver pageableResolver) {\n        pageableResolver.setFallbackPageable(Pageable.unpaged());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599954642,"creation_date":1599954642,"answer_id":63865896,"question_id":23751193,"body_markdown":"In newer versions of spring-data (since v2.0), you can simply create a bean of `org.springframework.data.web.config.PageableHandlerMethodArgumentResolverCustomizer` and set `PageableHandlerMethodArgumentResolver.setMaxPageSize.`\r\n\r\n\r\n\r\n\r\n    @Configuration\r\n    public class WebMvcConfig {\r\n    \r\n        @Bean\r\n        public PageableHandlerMethodArgumentResolverCustomizer paginationCustomizer() {\r\n            return pageableResolver -&gt; pageableResolver.setMaxPageSize(5);\r\n        }\r\n    }","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>In newer versions of spring-data (since v2.0), you can simply create a bean of <code>org.springframework.data.web.config.PageableHandlerMethodArgumentResolverCustomizer</code> and set <code>PageableHandlerMethodArgumentResolver.setMaxPageSize.</code></p>\n<pre><code>@Configuration\npublic class WebMvcConfig {\n\n    @Bean\n    public PageableHandlerMethodArgumentResolverCustomizer paginationCustomizer() {\n        return pageableResolver -&gt; pageableResolver.setMaxPageSize(5);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12114036,"reputation":471,"user_id":9950567,"display_name":"Sham Fiorin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671895077,"creation_date":1671895077,"answer_id":74908524,"question_id":23751193,"body_markdown":"This could be a measure of security, so it can be done globally.\r\n\r\nIf you are using a Pageable in a @RestController then you can change the maximum with the property:\r\n\r\n    spring.data.web.pageable.max-page-size=1000000000 # 1 billion\r\n\r\nIf you are using a Pageable in a @RepositoryRestResource then you can change the maximum with the property:\r\n\r\n    spring.data.rest.max-page-size=1000000000 # 1 billion\r\n\r\nSource https://medium.com/@rafiek/spring-data-pageable-maximum-page-size-1bcc9f5348aa","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>This could be a measure of security, so it can be done globally.</p>\n<p>If you are using a Pageable in a @RestController then you can change the maximum with the property:</p>\n<pre><code>spring.data.web.pageable.max-page-size=1000000000 # 1 billion\n</code></pre>\n<p>If you are using a Pageable in a @RepositoryRestResource then you can change the maximum with the property:</p>\n<pre><code>spring.data.rest.max-page-size=1000000000 # 1 billion\n</code></pre>\n<p>Source <a href=\"https://medium.com/@rafiek/spring-data-pageable-maximum-page-size-1bcc9f5348aa\" rel=\"nofollow noreferrer\">https://medium.com/@rafiek/spring-data-pageable-maximum-page-size-1bcc9f5348aa</a></p>\n"},{"tags":[],"owner":{"account_id":24385934,"reputation":111,"user_id":18316717,"display_name":"agitrubard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702116408,"creation_date":1702116258,"answer_id":77630877,"question_id":23751193,"body_markdown":"Use `pageSize` maximum length is `10`;\r\n\r\n```java\r\n@Getter\r\n@Setter\r\npublic class Paging {\r\n\r\n    @Range(min = 1, max = 99999999)\r\n    public int page;\r\n\r\n    @Range(min = 10, max = 10)\r\n    public int pageSize;\r\n\r\n}\r\n```\r\n\r\n---\r\n\r\nBecause when we send page to JPA Pageable object, It has a validation like this;\r\n```java\r\npublic final class PageableUtils {\r\n    private PageableUtils() {\r\n        throw new IllegalStateException(&quot;Cannot instantiate a utility class!&quot;);\r\n    }\r\n\r\n    public static int getOffsetAsInteger(Pageable pageable) {\r\n        if (pageable.getOffset() &gt; 2147483647L) {\r\n            throw new InvalidDataAccessApiUsageException(&quot;Page offset exceeds Integer.MAX_VALUE (2147483647)&quot;);\r\n        } else {\r\n            return Math.toIntExact(pageable.getOffset());\r\n        }\r\n    }\r\n}\r\n```\r\n```java\r\n    ...\r\n    public long getOffset() {\r\n        return (long)this.pageNumber * (long)this.pageSize;\r\n    }\r\n    ...\r\n```","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>Use <code>pageSize</code> maximum length is <code>10</code>;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class Paging {\n\n    @Range(min = 1, max = 99999999)\n    public int page;\n\n    @Range(min = 10, max = 10)\n    public int pageSize;\n\n}\n</code></pre>\n<hr />\n<p>Because when we send page to JPA Pageable object, It has a validation like this;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class PageableUtils {\n    private PageableUtils() {\n        throw new IllegalStateException(&quot;Cannot instantiate a utility class!&quot;);\n    }\n\n    public static int getOffsetAsInteger(Pageable pageable) {\n        if (pageable.getOffset() &gt; 2147483647L) {\n            throw new InvalidDataAccessApiUsageException(&quot;Page offset exceeds Integer.MAX_VALUE (2147483647)&quot;);\n        } else {\n            return Math.toIntExact(pageable.getOffset());\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    ...\n    public long getOffset() {\n        return (long)this.pageNumber * (long)this.pageSize;\n    }\n    ...\n</code></pre>\n"}],"owner":{"account_id":3077237,"reputation":3645,"user_id":2606279,"accept_rate":59,"display_name":"Awakening"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75229,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":23766580,"answer_count":14,"score":26,"last_activity_date":1702116408,"creation_date":1400561213,"question_id":23751193,"body_markdown":"I have one requirement is to search by pageable and non-pageable,\r\n\r\nand in my Java code, I use spring data jpa Pageable class,\r\n\r\n     Pageable pageable = new PageRequest(\r\n                        queryForm.getPageNumber()- 1, queryForm.getPageSize(),Sort.Direction.ASC,&quot;id&quot;);  \r\n    Page page = repository.fullTextSearch(queryForm.getText(), pageable);\r\n\r\nAnd I don&#39;t want to change the return structure,\r\n\r\nSo when non-pageable situation (search all), how to set the pageSize value to MAX ?","title":"spring data jpa limit pagesize, how to set to maxSize","body":"<p>I have one requirement is to search by pageable and non-pageable,</p>\n\n<p>and in my Java code, I use spring data jpa Pageable class,</p>\n\n<pre><code> Pageable pageable = new PageRequest(\n                    queryForm.getPageNumber()- 1, queryForm.getPageSize(),Sort.Direction.ASC,\"id\");  \nPage page = repository.fullTextSearch(queryForm.getText(), pageable);\n</code></pre>\n\n<p>And I don't want to change the return structure,</p>\n\n<p>So when non-pageable situation (search all), how to set the pageSize value to MAX ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702081050,"post_id":77629405,"comment_id":136857613,"body_markdown":"Why the JavaScript tag?","body":"Why the JavaScript tag?"}],"answers":[{"tags":[],"owner":{"account_id":19163412,"reputation":42,"user_id":13998703,"display_name":"Md Eusuf Uddin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702111335,"creation_date":1702111335,"answer_id":77630660,"question_id":77629405,"body_markdown":"You need to pass data using Interface from ProfileUsersFragment to JobUsersFragment.\r\n\r\n    public interface PassData {\r\n\r\n    void onPassData(String name, String email ,String password ,String \r\n    preference ,String image);\r\n    }\r\n\r\nThen ProfileUsersFragment onAttach() to give context\r\n\r\n&gt; passData = (PassData) context;\r\n\r\nthen pass Data Through Interface\r\n\r\n     public void passData() {\r\n        String userUsername = profileUsername.getText().toString().trim();\r\n        String userPreference = profilePreference.getText().toString().trim();\r\n        passData.onPassData(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);\r\n      \r\n        \r\n     }\r\n\r\nRetrive Data from JobUsersFragment , First of all implements PassData and override onPassData() Method. and get Value","title":"How to pass a data to another fragment and retrieve it as well","body":"<p>You need to pass data using Interface from ProfileUsersFragment to JobUsersFragment.</p>\n<pre><code>public interface PassData {\n\nvoid onPassData(String name, String email ,String password ,String \npreference ,String image);\n}\n</code></pre>\n<p>Then ProfileUsersFragment onAttach() to give context</p>\n<blockquote>\n<p>passData = (PassData) context;</p>\n</blockquote>\n<p>then pass Data Through Interface</p>\n<pre><code> public void passData() {\n    String userUsername = profileUsername.getText().toString().trim();\n    String userPreference = profilePreference.getText().toString().trim();\n    passData.onPassData(&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;);\n  \n    \n }\n</code></pre>\n<p>Retrive Data from JobUsersFragment , First of all implements PassData and override onPassData() Method. and get Value</p>\n"},{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702116196,"creation_date":1702116196,"answer_id":77630872,"question_id":77629405,"body_markdown":"Try this in order to fix your problem: \r\n\r\nIn the passData method of ProfileUsersFragment, you are creating a Bundle and adding data to it. Ensure that the keys used to retrieve data in JobUsersFragment match the keys used to put data in the Bundle. In both fragments, you are using the same keys, so that seems correct.\r\n\r\nIn JobUsersFragment, you are trying to retrieve the data from the arguments using the same keys used in ProfileUsersFragment. The keys seem to match, but ensure that the handleData method is being called after the fragment is created and attached.\r\n\r\nIn the passData method of ProfileUsersFragment, you are checking if the JobUsersFragment is added using isAdded(). This checks if the fragment is currently added to the activity, but you should also ensure that the JobUsersFragment is created before trying to pass data to it. Consider checking if the fragment is not null and has been instantiated.","title":"How to pass a data to another fragment and retrieve it as well","body":"<p>Try this in order to fix your problem:</p>\n<p>In the passData method of ProfileUsersFragment, you are creating a Bundle and adding data to it. Ensure that the keys used to retrieve data in JobUsersFragment match the keys used to put data in the Bundle. In both fragments, you are using the same keys, so that seems correct.</p>\n<p>In JobUsersFragment, you are trying to retrieve the data from the arguments using the same keys used in ProfileUsersFragment. The keys seem to match, but ensure that the handleData method is being called after the fragment is created and attached.</p>\n<p>In the passData method of ProfileUsersFragment, you are checking if the JobUsersFragment is added using isAdded(). This checks if the fragment is currently added to the activity, but you should also ensure that the JobUsersFragment is created before trying to pass data to it. Consider checking if the fragment is not null and has been instantiated.</p>\n"}],"owner":{"account_id":30101439,"reputation":1,"user_id":23068452,"display_name":"Afzal Rizal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702116196,"creation_date":1702073325,"question_id":77629405,"body_markdown":"The data was null when I retrieve it but in my firebase there is nothing problem\r\n\r\nI already pass the data from profile users fragment to the job users fragment but the error keep saying that data was null because I would like to create a page when the profile preference\r\n(IT or NON-IT) have a same value with job preference(dataPre) it will display at the page. In my home users fragment, I already display all jobs that have been stored in firebase and I want to implement same method in job users fragment but the different is I want this page specified the jobs based on the profile preference.\r\n\r\nJobUsersFragment.java\r\n\r\n```\r\npackage com.example.jobrecruitment;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.widget.SearchView;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class JobUsersFragment extends Fragment {\r\n\r\n    private DatabaseReference databaseReference;\r\n    private ValueEventListener eventListener;\r\n    private RecyclerView recyclerView;\r\n    private List&lt;DataClass&gt; dataList;\r\n    private UserAdapter adapter;\r\n    private SearchView searchView;\r\n    private String userPreference;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View rootView = inflater.inflate(R.layout.fragment_home_users, container, false);\r\n\r\n        recyclerView = rootView.findViewById(R.id.recyclerView);\r\n        searchView = rootView.findViewById(R.id.search);\r\n        searchView.clearFocus();\r\n\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getActivity(), 1);\r\n        recyclerView.setLayoutManager(gridLayoutManager);\r\n\r\n        dataList = new ArrayList&lt;&gt;();\r\n\r\n        // Retrieve the user&#39;s profile preference\r\n        userPreference = retrieveUserProfilePreference();\r\n\r\n        Log.d(&quot;JobUsersFragment&quot;, &quot;User Profile Preference: &quot; + userPreference);\r\n\r\n        adapter = new UserAdapter(getActivity(), dataList);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        // Use the user&#39;s profile preference in the Firebase Database query\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Android Tutorials&quot;);\r\n        Query query = databaseReference.orderByChild(&quot;dataPre&quot;).equalTo(userPreference);\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        builder.setCancelable(false);\r\n        builder.setView(R.layout.progress_layout);\r\n        AlertDialog dialog = builder.create();\r\n        dialog.show();\r\n\r\n\r\n        eventListener = query.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                dataList.clear();\r\n                for (DataSnapshot itemSnapshot : snapshot.getChildren()) {\r\n                    DataClass dataClass = itemSnapshot.getValue(DataClass.class);\r\n                    dataClass.setKey(itemSnapshot.getKey());\r\n\r\n                    Log.d(&quot;JobUsersFragment&quot;, &quot;DataClass dataPre: &quot; + dataClass.getDataPre() + &quot;, User Preference: &quot; + userPreference);\r\n\r\n                    // Only add items to the list if their dataPre matches the user&#39;s preference\r\n                    if (dataClass.getDataPre().equals(userPreference)) {\r\n                        dataList.add(dataClass);\r\n                    }\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n                dialog.dismiss();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Log.e(&quot;JobUsersFragment&quot;, &quot;Database Error: &quot; + error.getMessage());\r\n                dialog.dismiss();\r\n            }\r\n\r\n        });\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                searchList(newText);\r\n                return true;\r\n            }\r\n        });\r\n\r\n        // Retrieve data passed from ProfileUsersFragment\r\n        Bundle args = getArguments();\r\n        if (args != null) {\r\n            handleData(args);\r\n        }\r\n\r\n        return rootView;\r\n    }\r\n\r\n    private String retrieveUserProfilePreference() {\r\n        Bundle args = getArguments();\r\n        if (args != null &amp;&amp; args.containsKey(&quot;preference&quot;)) {\r\n            String preference = args.getString(&quot;preference&quot;, &quot;&quot;);\r\n            Log.d(&quot;JobUsersFragment&quot;, &quot;Retrieved user preference from arguments: &quot; + preference);\r\n            // Check if the preference is either &quot;IT&quot; or &quot;NON-IT&quot;, default to &quot;NON-IT&quot; otherwise\r\n            return &quot;IT&quot;.equals(preference) ? &quot;IT&quot; : &quot;NON-IT&quot;;\r\n        } else {\r\n            Log.d(&quot;JobUsersFragment&quot;, &quot;No user preference found in arguments. Defaulting to NON-IT.&quot;);\r\n            return &quot;NON-IT&quot;;\r\n        }\r\n    }\r\n\r\n\r\n    private void searchList(String text) {\r\n        ArrayList&lt;DataClass&gt; searchList = new ArrayList&lt;&gt;();\r\n        for (DataClass dataClass : dataList) {\r\n            if (dataClass.getDataTitle().toLowerCase().contains(text.toLowerCase())) {\r\n                searchList.add(dataClass);\r\n            }\r\n        }\r\n        adapter.searchDataList(searchList);\r\n    }\r\n\r\n    // Method to handle data received from ProfileUsersFragment\r\n    public void handleData(Bundle bundle) {\r\n        String username = bundle.getString(&quot;username&quot;, &quot;&quot;);\r\n        String name = bundle.getString(&quot;name&quot;, &quot;&quot;);\r\n        String email = bundle.getString(&quot;email&quot;, &quot;&quot;);\r\n        String password = bundle.getString(&quot;password&quot;, &quot;&quot;);\r\n        String preference = bundle.getString(&quot;preference&quot;, &quot;&quot;);\r\n        String image = bundle.getString(&quot;image&quot;, &quot;&quot;);\r\n\r\n        Log.d(&quot;JobUsersFragment&quot;, &quot;Received data from ProfileUsersFragment: &quot; + username + &quot;, &quot; + name + &quot;, &quot; + email + &quot;, &quot; + password + &quot;, &quot; + preference + &quot;, &quot; + image);\r\n\r\n        // Now you can use the received data as needed in your fragment\r\n    }\r\n}\r\n```\r\n\r\n  \r\n  \r\nProfileUsersFragment.java\r\n\r\n```\r\npackage com.example.jobrecruitment;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class ProfileUsersFragment extends Fragment {\r\n\r\n    private TextView profileName, profileEmail, profileUsername, profilePassword, profilePreference;\r\n    private Button editProfile;\r\n    private ImageView profileImage;\r\n    private String imageUrl; // Ensure to declare imageUrl at the class level\r\n\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_profile_users, container, false);\r\n\r\n        profileName = view.findViewById(R.id.profileName);\r\n        profileEmail = view.findViewById(R.id.profileEmail);\r\n        profileUsername = view.findViewById(R.id.profileUsername);\r\n        profilePassword = view.findViewById(R.id.profilePassword);\r\n        profilePreference = view.findViewById(R.id.profilePreference);\r\n        profileImage = view.findViewById(R.id.profileImage);\r\n        editProfile = view.findViewById(R.id.editButton);\r\n\r\n        showAllUserData();\r\n\r\n        editProfile.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                passUserData();\r\n            }\r\n        });\r\n\r\n        // Call passData as needed, for example, in onCreateView or another appropriate place\r\n        passData();\r\n\r\n        return view;\r\n    }\r\n\r\n    public void showAllUserData() {\r\n        Intent intent = requireActivity().getIntent();\r\n        String usernameUser = intent.getStringExtra(&quot;username&quot;);\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n        Query userQuery = reference.orderByChild(&quot;username&quot;).equalTo(usernameUser);\r\n\r\n        userQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    for (DataSnapshot userSnapshot : snapshot.getChildren()) {\r\n                        String nameUser = userSnapshot.child(&quot;name&quot;).getValue(String.class);\r\n                        String emailUser = userSnapshot.child(&quot;email&quot;).getValue(String.class);\r\n                        String passwordUser = userSnapshot.child(&quot;password&quot;).getValue(String.class);\r\n                        String preference = userSnapshot.child(&quot;preference&quot;).getValue(String.class);\r\n                        imageUrl = userSnapshot.child(&quot;image&quot;).getValue(String.class); // Update class-level variable\r\n\r\n                        profileName.setText(nameUser);\r\n                        profileEmail.setText(emailUser);\r\n                        profileUsername.setText(usernameUser);\r\n                        profilePassword.setText(passwordUser);\r\n                        profilePreference.setText(preference);\r\n\r\n                        if (imageUrl != null) {\r\n                            Glide.with(requireContext()).load(imageUrl).into(profileImage);\r\n                        } else {\r\n                            Glide.with(requireContext()).load(R.drawable.uploadimg).into(profileImage);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                // Handle onCancelled\r\n            }\r\n        });\r\n    }\r\n\r\n    public void passUserData() {\r\n        String userUsername = profileUsername.getText().toString().trim();\r\n\r\n        Intent intent = new Intent(requireContext(), EditProfile.class);\r\n        intent.putExtra(&quot;username&quot;, userUsername);\r\n        intent.putExtra(&quot;name&quot;, profileName.getText().toString());\r\n        intent.putExtra(&quot;email&quot;, profileEmail.getText().toString());\r\n        intent.putExtra(&quot;password&quot;, profilePassword.getText().toString());\r\n        intent.putExtra(&quot;preference&quot;, profilePreference.getText().toString());\r\n        intent.putExtra(&quot;image&quot;, imageUrl);\r\n        startActivity(intent);\r\n    }\r\n\r\n    // Add passData method to pass data to JobUsersFragment\r\n    public void passData() {\r\n        String userUsername = profileUsername.getText().toString().trim();\r\n        String userPreference = profilePreference.getText().toString().trim();\r\n\r\n        Log.d(&quot;PassData&quot;, &quot;passData() called with username: &quot; + userUsername + &quot;, preference: &quot; + userPreference);\r\n\r\n\r\n        JobUsersFragment jobUsersFragment = (JobUsersFragment) requireActivity().getSupportFragmentManager().findFragmentByTag(&quot;JobUsersFragment&quot;);\r\n\r\n\r\n        if (jobUsersFragment != null &amp;&amp; jobUsersFragment.isAdded()) {\r\n            // Create a Bundle and set the data\r\n            Bundle bundle = new Bundle();\r\n            bundle.putString(&quot;username&quot;, userUsername);\r\n            bundle.putString(&quot;name&quot;, profileName.getText().toString());\r\n            bundle.putString(&quot;email&quot;, profileEmail.getText().toString());\r\n            bundle.putString(&quot;password&quot;, profilePassword.getText().toString());\r\n            bundle.putString(&quot;preference&quot;, userPreference);\r\n            bundle.putString(&quot;image&quot;, imageUrl);\r\n\r\n            // Call a method in JobUsersFragment to handle the data\r\n            jobUsersFragment.handleData(bundle);\r\n        } else {\r\n\r\n            Log.d(&quot;PassData&quot;, &quot;JobUsersFragment is not added to the fragment manager.&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"How to pass a data to another fragment and retrieve it as well","body":"<p>The data was null when I retrieve it but in my firebase there is nothing problem</p>\n<p>I already pass the data from profile users fragment to the job users fragment but the error keep saying that data was null because I would like to create a page when the profile preference\n(IT or NON-IT) have a same value with job preference(dataPre) it will display at the page. In my home users fragment, I already display all jobs that have been stored in firebase and I want to implement same method in job users fragment but the different is I want this page specified the jobs based on the profile preference.</p>\n<p>JobUsersFragment.java</p>\n<pre><code>package com.example.jobrecruitment;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.widget.SearchView;\nimport androidx.fragment.app.Fragment;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class JobUsersFragment extends Fragment {\n\n    private DatabaseReference databaseReference;\n    private ValueEventListener eventListener;\n    private RecyclerView recyclerView;\n    private List&lt;DataClass&gt; dataList;\n    private UserAdapter adapter;\n    private SearchView searchView;\n    private String userPreference;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_home_users, container, false);\n\n        recyclerView = rootView.findViewById(R.id.recyclerView);\n        searchView = rootView.findViewById(R.id.search);\n        searchView.clearFocus();\n\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getActivity(), 1);\n        recyclerView.setLayoutManager(gridLayoutManager);\n\n        dataList = new ArrayList&lt;&gt;();\n\n        // Retrieve the user's profile preference\n        userPreference = retrieveUserProfilePreference();\n\n        Log.d(&quot;JobUsersFragment&quot;, &quot;User Profile Preference: &quot; + userPreference);\n\n        adapter = new UserAdapter(getActivity(), dataList);\n        recyclerView.setAdapter(adapter);\n\n        // Use the user's profile preference in the Firebase Database query\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Android Tutorials&quot;);\n        Query query = databaseReference.orderByChild(&quot;dataPre&quot;).equalTo(userPreference);\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setCancelable(false);\n        builder.setView(R.layout.progress_layout);\n        AlertDialog dialog = builder.create();\n        dialog.show();\n\n\n        eventListener = query.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                dataList.clear();\n                for (DataSnapshot itemSnapshot : snapshot.getChildren()) {\n                    DataClass dataClass = itemSnapshot.getValue(DataClass.class);\n                    dataClass.setKey(itemSnapshot.getKey());\n\n                    Log.d(&quot;JobUsersFragment&quot;, &quot;DataClass dataPre: &quot; + dataClass.getDataPre() + &quot;, User Preference: &quot; + userPreference);\n\n                    // Only add items to the list if their dataPre matches the user's preference\n                    if (dataClass.getDataPre().equals(userPreference)) {\n                        dataList.add(dataClass);\n                    }\n                }\n                adapter.notifyDataSetChanged();\n                dialog.dismiss();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Log.e(&quot;JobUsersFragment&quot;, &quot;Database Error: &quot; + error.getMessage());\n                dialog.dismiss();\n            }\n\n        });\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                searchList(newText);\n                return true;\n            }\n        });\n\n        // Retrieve data passed from ProfileUsersFragment\n        Bundle args = getArguments();\n        if (args != null) {\n            handleData(args);\n        }\n\n        return rootView;\n    }\n\n    private String retrieveUserProfilePreference() {\n        Bundle args = getArguments();\n        if (args != null &amp;&amp; args.containsKey(&quot;preference&quot;)) {\n            String preference = args.getString(&quot;preference&quot;, &quot;&quot;);\n            Log.d(&quot;JobUsersFragment&quot;, &quot;Retrieved user preference from arguments: &quot; + preference);\n            // Check if the preference is either &quot;IT&quot; or &quot;NON-IT&quot;, default to &quot;NON-IT&quot; otherwise\n            return &quot;IT&quot;.equals(preference) ? &quot;IT&quot; : &quot;NON-IT&quot;;\n        } else {\n            Log.d(&quot;JobUsersFragment&quot;, &quot;No user preference found in arguments. Defaulting to NON-IT.&quot;);\n            return &quot;NON-IT&quot;;\n        }\n    }\n\n\n    private void searchList(String text) {\n        ArrayList&lt;DataClass&gt; searchList = new ArrayList&lt;&gt;();\n        for (DataClass dataClass : dataList) {\n            if (dataClass.getDataTitle().toLowerCase().contains(text.toLowerCase())) {\n                searchList.add(dataClass);\n            }\n        }\n        adapter.searchDataList(searchList);\n    }\n\n    // Method to handle data received from ProfileUsersFragment\n    public void handleData(Bundle bundle) {\n        String username = bundle.getString(&quot;username&quot;, &quot;&quot;);\n        String name = bundle.getString(&quot;name&quot;, &quot;&quot;);\n        String email = bundle.getString(&quot;email&quot;, &quot;&quot;);\n        String password = bundle.getString(&quot;password&quot;, &quot;&quot;);\n        String preference = bundle.getString(&quot;preference&quot;, &quot;&quot;);\n        String image = bundle.getString(&quot;image&quot;, &quot;&quot;);\n\n        Log.d(&quot;JobUsersFragment&quot;, &quot;Received data from ProfileUsersFragment: &quot; + username + &quot;, &quot; + name + &quot;, &quot; + email + &quot;, &quot; + password + &quot;, &quot; + preference + &quot;, &quot; + image);\n\n        // Now you can use the received data as needed in your fragment\n    }\n}\n</code></pre>\n<p>ProfileUsersFragment.java</p>\n<pre><code>package com.example.jobrecruitment;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport com.bumptech.glide.Glide;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class ProfileUsersFragment extends Fragment {\n\n    private TextView profileName, profileEmail, profileUsername, profilePassword, profilePreference;\n    private Button editProfile;\n    private ImageView profileImage;\n    private String imageUrl; // Ensure to declare imageUrl at the class level\n\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_profile_users, container, false);\n\n        profileName = view.findViewById(R.id.profileName);\n        profileEmail = view.findViewById(R.id.profileEmail);\n        profileUsername = view.findViewById(R.id.profileUsername);\n        profilePassword = view.findViewById(R.id.profilePassword);\n        profilePreference = view.findViewById(R.id.profilePreference);\n        profileImage = view.findViewById(R.id.profileImage);\n        editProfile = view.findViewById(R.id.editButton);\n\n        showAllUserData();\n\n        editProfile.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                passUserData();\n            }\n        });\n\n        // Call passData as needed, for example, in onCreateView or another appropriate place\n        passData();\n\n        return view;\n    }\n\n    public void showAllUserData() {\n        Intent intent = requireActivity().getIntent();\n        String usernameUser = intent.getStringExtra(&quot;username&quot;);\n\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n        Query userQuery = reference.orderByChild(&quot;username&quot;).equalTo(usernameUser);\n\n        userQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n                    for (DataSnapshot userSnapshot : snapshot.getChildren()) {\n                        String nameUser = userSnapshot.child(&quot;name&quot;).getValue(String.class);\n                        String emailUser = userSnapshot.child(&quot;email&quot;).getValue(String.class);\n                        String passwordUser = userSnapshot.child(&quot;password&quot;).getValue(String.class);\n                        String preference = userSnapshot.child(&quot;preference&quot;).getValue(String.class);\n                        imageUrl = userSnapshot.child(&quot;image&quot;).getValue(String.class); // Update class-level variable\n\n                        profileName.setText(nameUser);\n                        profileEmail.setText(emailUser);\n                        profileUsername.setText(usernameUser);\n                        profilePassword.setText(passwordUser);\n                        profilePreference.setText(preference);\n\n                        if (imageUrl != null) {\n                            Glide.with(requireContext()).load(imageUrl).into(profileImage);\n                        } else {\n                            Glide.with(requireContext()).load(R.drawable.uploadimg).into(profileImage);\n                        }\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                // Handle onCancelled\n            }\n        });\n    }\n\n    public void passUserData() {\n        String userUsername = profileUsername.getText().toString().trim();\n\n        Intent intent = new Intent(requireContext(), EditProfile.class);\n        intent.putExtra(&quot;username&quot;, userUsername);\n        intent.putExtra(&quot;name&quot;, profileName.getText().toString());\n        intent.putExtra(&quot;email&quot;, profileEmail.getText().toString());\n        intent.putExtra(&quot;password&quot;, profilePassword.getText().toString());\n        intent.putExtra(&quot;preference&quot;, profilePreference.getText().toString());\n        intent.putExtra(&quot;image&quot;, imageUrl);\n        startActivity(intent);\n    }\n\n    // Add passData method to pass data to JobUsersFragment\n    public void passData() {\n        String userUsername = profileUsername.getText().toString().trim();\n        String userPreference = profilePreference.getText().toString().trim();\n\n        Log.d(&quot;PassData&quot;, &quot;passData() called with username: &quot; + userUsername + &quot;, preference: &quot; + userPreference);\n\n\n        JobUsersFragment jobUsersFragment = (JobUsersFragment) requireActivity().getSupportFragmentManager().findFragmentByTag(&quot;JobUsersFragment&quot;);\n\n\n        if (jobUsersFragment != null &amp;&amp; jobUsersFragment.isAdded()) {\n            // Create a Bundle and set the data\n            Bundle bundle = new Bundle();\n            bundle.putString(&quot;username&quot;, userUsername);\n            bundle.putString(&quot;name&quot;, profileName.getText().toString());\n            bundle.putString(&quot;email&quot;, profileEmail.getText().toString());\n            bundle.putString(&quot;password&quot;, profilePassword.getText().toString());\n            bundle.putString(&quot;preference&quot;, userPreference);\n            bundle.putString(&quot;image&quot;, imageUrl);\n\n            // Call a method in JobUsersFragment to handle the data\n            jobUsersFragment.handleData(bundle);\n        } else {\n\n            Log.d(&quot;PassData&quot;, &quot;JobUsersFragment is not added to the fragment manager.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","kotlin","neovim","eclipse-jdt"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1702116087,"post_id":77629365,"comment_id":136859589,"body_markdown":"Eclipse JDT is just Java","body":"Eclipse JDT is just Java"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1702135666,"post_id":77629365,"comment_id":136861199,"body_markdown":"Does it work to install both JDT-LS and a Kotlin language server like [this one](https://github.com/fwcd/kotlin-language-server)? See also [this](https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#kotlin_language_server)","body":"Does it work to install both JDT-LS and a Kotlin language server like <a href=\"https://github.com/fwcd/kotlin-language-server\" rel=\"nofollow noreferrer\">this one</a>? See also <a href=\"https://github.com/neovim/nvim-lspconfig/blob/master/doc/server_configurations.md#kotlin_language_server\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":11775657,"reputation":53,"user_id":8617214,"display_name":"clarkjoe"},"score":0,"creation_date":1702242282,"post_id":77629365,"comment_id":136869516,"body_markdown":"Thanks for confirming my suspicions, @greg-449","body":"Thanks for confirming my suspicions, @greg-449"},{"owner":{"account_id":11775657,"reputation":53,"user_id":8617214,"display_name":"clarkjoe"},"score":0,"creation_date":1702242332,"post_id":77629365,"comment_id":136869520,"body_markdown":"@dan1stiscrying I&#39;ll give that a try and report back.","body":"@dan1stiscrying I&#39;ll give that a try and report back."}],"owner":{"account_id":11775657,"reputation":53,"user_id":8617214,"display_name":"clarkjoe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1702116070,"creation_date":1702072648,"question_id":77629365,"body_markdown":"I have a multi gradle project. There are both Java and Kotlin files the project. I&#39;ve configured neovim to use `eclipse.jdt.ls` and `nvim-jdtls`. However, I cannot navigate normally to Kotlin files. This is because the Kotlin files are not in my jdtlds-workspace cache (I looked for the classpath of where they should be and they are not there).\r\n\r\nIs there a solutions to use Java and Kotlin files in the same project in neovim? More importantly, does `eclipse-jdt-ls` even support Kotlin files? My guess is no, but I have not found explicit documentation one way or another.\r\n\r\nPasted is my `ftplugin/java.lua` configuration files:\r\n```\r\nlocal project_name = vim.fn.fnamemodify(vim.fn.getcwd(), &#39;:p:h:t&#39;)\r\nlocal workspace_dir = &#39;/Users/josephclark/.cache/jdtls-workspace/&#39; .. project_name\r\n\r\nlocal capabilities = vim.lsp.protocol.make_client_capabilities()\r\ncapabilities = require(&#39;cmp_nvim_lsp&#39;).default_capabilities(capabilities)\r\n\r\nlocal config = {\r\n    cmd = {\r\n        &#39;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java&#39;,\r\n        &quot;-Declipse.application=org.eclipse.jdt.ls.core.id1&quot;,\r\n        &quot;-Dosgi.bundles.defaultStartLevel=4&quot;,\r\n        &quot;-Declipse.product=org.eclipse.jdt.ls.core.product&quot;,\r\n        &quot;-Dlog.protocol=true&quot;,\r\n        &quot;-Dlog.level=ALL&quot;,\r\n        &#39;-javaagent:/Users/josephclark/.local/share/java/lombok.jar&#39;,\r\n        &quot;-Xms1g&quot;,\r\n        &quot;--add-modules=ALL-SYSTEM&quot;,\r\n        &quot;--add-opens&quot;,\r\n        &quot;java.base/java.util=ALL-UNNAMED&quot;,\r\n        &quot;--add-opens&quot;,\r\n        &quot;java.base/java.lang=ALL-UNNAMED&quot;,\r\n        &#39;-jar&#39;, &#39;/Users/josephclark/.local/share/java/jdt-language-server-1.10.0-202204131925/plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar&#39;,\r\n        &#39;-configuration&#39;, &#39;/Users/josephclark/.local/share/java/jdt-language-server-1.10.0-202204131925/config_mac/&#39;,\r\n        &#39;-data&#39;, workspace_dir\r\n    },\r\n    capabilities = capabilities\r\n}\r\n-- This starts a new client &amp; server,\r\n-- or attaches to an existing client &amp; server depending on the `root_dir`.\r\nrequire(&#39;jdtls&#39;).start_or_attach(config)\r\n\r\nlocal opts = { noremap = true, silent = true }\r\nvim.keymap.set(&#39;n&#39;, &#39;&lt;leader&gt;e&#39;, vim.diagnostic.open_float, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;[d&#39;, vim.diagnostic.goto_prev, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;]d&#39;, vim.diagnostic.goto_next, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;&lt;leader&gt;q&#39;, vim.diagnostic.setloclist, opts)\r\n\r\nvim.keymap.set(&#39;n&#39;, &#39;gD&#39;, vim.lsp.buf.declaration, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;gd&#39;, vim.lsp.buf.definition, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;gi&#39;, vim.lsp.buf.implementation, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;K&#39;, vim.lsp.buf.hover, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;&lt;C-k&gt;&#39;, vim.lsp.buf.signature_help, opts)\r\n--vim.keymap.set(&#39;n&#39;, &#39;&lt;leader&gt;wa&#39;, vim.lsp.buf.add_workspace_folder, opts)\r\n--vim.keymap.set(&#39;n&#39;, &#39;&lt;space&gt;wr&#39;, vim.lsp.buf.remove_workspace_folder, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;&lt;leader&gt;wl&#39;, function()\r\n    print(vim.inspect(vim.lsp.buf.list_workspace_folders()))\r\nend, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;&lt;leader&gt;D&#39;, vim.lsp.buf.type_definition, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;&lt;leader&gt;rn&#39;, vim.lsp.buf.rename, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;&lt;leader&gt;ca&#39;, vim.lsp.buf.code_action, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;gr&#39;, vim.lsp.buf.references, opts)\r\nvim.keymap.set(&#39;n&#39;, &#39;&lt;leader&gt;f&#39;, function() vim.lsp.buf.format { async = true } end, opts)\r\n```\r\n\r\nThanks.","title":"eclipse.jdt.ls Support for Kotlin","body":"<p>I have a multi gradle project. There are both Java and Kotlin files the project. I've configured neovim to use <code>eclipse.jdt.ls</code> and <code>nvim-jdtls</code>. However, I cannot navigate normally to Kotlin files. This is because the Kotlin files are not in my jdtlds-workspace cache (I looked for the classpath of where they should be and they are not there).</p>\n<p>Is there a solutions to use Java and Kotlin files in the same project in neovim? More importantly, does <code>eclipse-jdt-ls</code> even support Kotlin files? My guess is no, but I have not found explicit documentation one way or another.</p>\n<p>Pasted is my <code>ftplugin/java.lua</code> configuration files:</p>\n<pre><code>local project_name = vim.fn.fnamemodify(vim.fn.getcwd(), ':p:h:t')\nlocal workspace_dir = '/Users/josephclark/.cache/jdtls-workspace/' .. project_name\n\nlocal capabilities = vim.lsp.protocol.make_client_capabilities()\ncapabilities = require('cmp_nvim_lsp').default_capabilities(capabilities)\n\nlocal config = {\n    cmd = {\n        '/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java',\n        &quot;-Declipse.application=org.eclipse.jdt.ls.core.id1&quot;,\n        &quot;-Dosgi.bundles.defaultStartLevel=4&quot;,\n        &quot;-Declipse.product=org.eclipse.jdt.ls.core.product&quot;,\n        &quot;-Dlog.protocol=true&quot;,\n        &quot;-Dlog.level=ALL&quot;,\n        '-javaagent:/Users/josephclark/.local/share/java/lombok.jar',\n        &quot;-Xms1g&quot;,\n        &quot;--add-modules=ALL-SYSTEM&quot;,\n        &quot;--add-opens&quot;,\n        &quot;java.base/java.util=ALL-UNNAMED&quot;,\n        &quot;--add-opens&quot;,\n        &quot;java.base/java.lang=ALL-UNNAMED&quot;,\n        '-jar', '/Users/josephclark/.local/share/java/jdt-language-server-1.10.0-202204131925/plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar',\n        '-configuration', '/Users/josephclark/.local/share/java/jdt-language-server-1.10.0-202204131925/config_mac/',\n        '-data', workspace_dir\n    },\n    capabilities = capabilities\n}\n-- This starts a new client &amp; server,\n-- or attaches to an existing client &amp; server depending on the `root_dir`.\nrequire('jdtls').start_or_attach(config)\n\nlocal opts = { noremap = true, silent = true }\nvim.keymap.set('n', '&lt;leader&gt;e', vim.diagnostic.open_float, opts)\nvim.keymap.set('n', '[d', vim.diagnostic.goto_prev, opts)\nvim.keymap.set('n', ']d', vim.diagnostic.goto_next, opts)\nvim.keymap.set('n', '&lt;leader&gt;q', vim.diagnostic.setloclist, opts)\n\nvim.keymap.set('n', 'gD', vim.lsp.buf.declaration, opts)\nvim.keymap.set('n', 'gd', vim.lsp.buf.definition, opts)\nvim.keymap.set('n', 'gi', vim.lsp.buf.implementation, opts)\nvim.keymap.set('n', 'K', vim.lsp.buf.hover, opts)\nvim.keymap.set('n', '&lt;C-k&gt;', vim.lsp.buf.signature_help, opts)\n--vim.keymap.set('n', '&lt;leader&gt;wa', vim.lsp.buf.add_workspace_folder, opts)\n--vim.keymap.set('n', '&lt;space&gt;wr', vim.lsp.buf.remove_workspace_folder, opts)\nvim.keymap.set('n', '&lt;leader&gt;wl', function()\n    print(vim.inspect(vim.lsp.buf.list_workspace_folders()))\nend, opts)\nvim.keymap.set('n', '&lt;leader&gt;D', vim.lsp.buf.type_definition, opts)\nvim.keymap.set('n', '&lt;leader&gt;rn', vim.lsp.buf.rename, opts)\nvim.keymap.set('n', '&lt;leader&gt;ca', vim.lsp.buf.code_action, opts)\nvim.keymap.set('n', 'gr', vim.lsp.buf.references, opts)\nvim.keymap.set('n', '&lt;leader&gt;f', function() vim.lsp.buf.format { async = true } end, opts)\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","html","spring-boot","frontend","backend"],"comments":[{"owner":{"account_id":2251196,"reputation":660,"user_id":1983401,"display_name":"muzzletov"},"score":0,"creation_date":1702116809,"post_id":77630859,"comment_id":136859647,"body_markdown":"formdata is your dto, which means, you would create a class that is supposed to be deserialized. which means, create a class called FormData, that embodies your payload and import it.","body":"formdata is your dto, which means, you would create a class that is supposed to be deserialized. which means, create a class called FormData, that embodies your payload and import it."}],"owner":{"account_id":29741981,"reputation":1,"user_id":22794057,"display_name":"PatrickBateman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1702117116,"answer_count":0,"score":-4,"last_activity_date":1702115924,"creation_date":1702115924,"question_id":77630859,"body_markdown":"I&#39;m following this [guide ](https://websitehurdles.com/connect-frontend-backend-spring-boot-java/) to connect the frontend to the backend in SpringBoot, but I get the following error in Java when I create the processFormData method in the controller:\r\n\r\nCannot resolve symbol &#39;FormData&#39;\r\n\r\nhow can I solve it?\r\n\r\n\r\nI tried searching online for how to solve it, but I couldn&#39;t find anything. I hope someone can help me\r\n","title":"How to Connect Frontend to Backend in Spring Boot","body":"<p>I'm following this <a href=\"https://websitehurdles.com/connect-frontend-backend-spring-boot-java/\" rel=\"nofollow noreferrer\">guide </a> to connect the frontend to the backend in SpringBoot, but I get the following error in Java when I create the processFormData method in the controller:</p>\n<p>Cannot resolve symbol 'FormData'</p>\n<p>how can I solve it?</p>\n<p>I tried searching online for how to solve it, but I couldn't find anything. I hope someone can help me</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702119732,"post_id":77630821,"comment_id":136859859,"body_markdown":"Maybe you can explain how exactly you tried to run *your* debugger? And be a bit more specific about &quot;nothing happened&quot; (did not start at all, did not stop at breakpoint, did not switch to debugger perspective, ...!)","body":"Maybe you can explain how exactly you tried to run <i>your</i> debugger? And be a bit more specific about &quot;nothing happened&quot; (did not start at all, did not stop at breakpoint, did not switch to debugger perspective, ...!)"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1702124885,"post_id":77630821,"comment_id":136860229,"body_markdown":"1: Make sure to click on the &quot;start-debug&quot; button. 2: If you use a Spring Boot application, make sure that you started it as &quot;spring-boot-app-start-debug&quot; and not as &quot;maven-app-start-debug&quot;. This is a very evil topic IMO. If you use Vaadin: Same.","body":"1: Make sure to click on the &quot;start-debug&quot; button. 2: If you use a Spring Boot application, make sure that you started it as &quot;spring-boot-app-start-debug&quot; and not as &quot;maven-app-start-debug&quot;. This is a very evil topic IMO. If you use Vaadin: Same."}],"owner":{"account_id":12226722,"reputation":41,"user_id":8924071,"display_name":"David Skvirskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702131116,"answer_count":0,"score":0,"last_activity_date":1702115824,"creation_date":1702114880,"question_id":77630821,"body_markdown":"I&#39;m trying to start my Eclipse debugger. I have put my Breakpoints on my program and tried to run my debugger on the project, but nothing happened. Does anyone know how to solve this problem?\r\n","title":"Can&#39;t run Eclipse debugger at all","body":"<p>I'm trying to start my Eclipse debugger. I have put my Breakpoints on my program and tried to run my debugger on the project, but nothing happened. Does anyone know how to solve this problem?</p>\n"},{"tags":["java","adobe"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1702101698,"post_id":77630290,"comment_id":136858662,"body_markdown":"Have you looked at the [documentation](https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/)? It&#39;s actually pretty good.","body":"Have you looked at the <a href=\"https://developer.adobe.com/document-services/docs/overview/pdf-extract-api/\" rel=\"nofollow noreferrer\">documentation</a>? It&#39;s actually pretty good."},{"owner":{"account_id":30103007,"reputation":1,"user_id":23069582,"display_name":"Dsyt"},"score":0,"creation_date":1702102529,"post_id":77630290,"comment_id":136858713,"body_markdown":"Yeap i am watching Documet But i didn&#39;t saw OCR Things I Think i have to post in Adobe Community Thanks for your Help!!","body":"Yeap i am watching Documet But i didn&#39;t saw OCR Things I Think i have to post in Adobe Community Thanks for your Help!!"}],"owner":{"account_id":30103007,"reputation":1,"user_id":23069582,"display_name":"Dsyt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702109207,"answer_count":0,"score":-2,"last_activity_date":1702115318,"creation_date":1702101209,"question_id":77630290,"body_markdown":"I am planning to use this tool to read text from PDFs and automate the data organization process by incorporating logic. I understand that this API uses OCR technology to recognize and extract data from PDFs. Is this correct? If so, I believe I need to consider its accuracy. I have tried the demo provided by Adobe, and while analyzing PDFs in Korean, I noticed that sometimes the text in the PDF is not included. If this is the case, it seems like Adobe API&#39;s accuracy is not sufficient, and I feel like I might have to give up on automating the process. I would be grateful if you could explain the exact principle behind this and if you know any methods that could help automate my work.","title":"i have Question about Adobe Services API in Java","body":"<p>I am planning to use this tool to read text from PDFs and automate the data organization process by incorporating logic. I understand that this API uses OCR technology to recognize and extract data from PDFs. Is this correct? If so, I believe I need to consider its accuracy. I have tried the demo provided by Adobe, and while analyzing PDFs in Korean, I noticed that sometimes the text in the PDF is not included. If this is the case, it seems like Adobe API's accuracy is not sufficient, and I feel like I might have to give up on automating the process. I would be grateful if you could explain the exact principle behind this and if you know any methods that could help automate my work.</p>\n"},{"tags":["java","json","jackson","jaxb","jersey"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1702307518,"post_id":77626866,"comment_id":136877065,"body_markdown":"If your Jackson annotations aren&#39;t working, then it&#39;s possible Jackson is not being used as the JSON provider. If you are using Jersey, and you have other providers on the classpath, it might take precedence over Jackson, unless you explicitly register the JacksonFeature.","body":"If your Jackson annotations aren&#39;t working, then it&#39;s possible Jackson is not being used as the JSON provider. If you are using Jersey, and you have other providers on the classpath, it might take precedence over Jackson, unless you explicitly register the JacksonFeature."}],"answers":[{"comments":[{"owner":{"account_id":7057423,"reputation":1105,"user_id":5404157,"accept_rate":100,"display_name":"Dasma"},"score":0,"creation_date":1702100516,"post_id":77629401,"comment_id":136858623,"body_markdown":"Thank you, already tried to do that  with no success.","body":"Thank you, already tried to do that  with no success."},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1702114845,"post_id":77629401,"comment_id":136859519,"body_markdown":"New solution proposed above with @JsonProperty annotation","body":"New solution proposed above with @JsonProperty annotation"}],"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702114832,"creation_date":1702073276,"answer_id":77629401,"question_id":77626866,"body_markdown":"I think you should add the following annotation to the good `setData` method : `com.fasterxml.jackson.annotation.JsonSetter`\r\n\r\nAccording to javadoc, the `@JsonSetter` is :\r\n\r\n&gt; Annotation that can be used to define a non-static, single-argument method to be used as a &quot;setter&quot; for a logical property as an alternative to recommended JsonProperty annotation; or (as of 2.9 and later), specify additional aspects of the assigning property a value during serialization.\r\n\r\nIf not working, try the `com.fasterxml.jackson.annotation.JsonProperty`, which also is documented as follow :\r\n\r\n&gt; Marker annotation that can be used to define a non-static method as a &quot;setter&quot; or &quot;getter&quot; for a logical property (depending on its signature), or non-static object field to be used (serialized, deserialized) as a logical property.","title":"Handling &quot;Conflicting Setter Definitions&quot; with Jackson in Jersey for Overloaded Methods","body":"<p>I think you should add the following annotation to the good <code>setData</code> method : <code>com.fasterxml.jackson.annotation.JsonSetter</code></p>\n<p>According to javadoc, the <code>@JsonSetter</code> is :</p>\n<blockquote>\n<p>Annotation that can be used to define a non-static, single-argument method to be used as a &quot;setter&quot; for a logical property as an alternative to recommended JsonProperty annotation; or (as of 2.9 and later), specify additional aspects of the assigning property a value during serialization.</p>\n</blockquote>\n<p>If not working, try the <code>com.fasterxml.jackson.annotation.JsonProperty</code>, which also is documented as follow :</p>\n<blockquote>\n<p>Marker annotation that can be used to define a non-static method as a &quot;setter&quot; or &quot;getter&quot; for a logical property (depending on its signature), or non-static object field to be used (serialized, deserialized) as a logical property.</p>\n</blockquote>\n"}],"owner":{"account_id":7057423,"reputation":1105,"user_id":5404157,"accept_rate":100,"display_name":"Dasma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702114832,"creation_date":1702041757,"question_id":77626866,"body_markdown":"Hello Stack Overflow community,\r\n\r\nI am encountering an issue with Jackson in a Jersey-based application, specifically dealing with &quot;Conflicting setter definitions for property&quot; error related to overloaded setter methods. Despite using `@JsonIgnore` and `@XmlTransient` annotations, the problem persists.\r\n\r\n**Issue Description:**\r\nWhen Jersey processes requests, it fails with the error &quot;Conflicting setter definitions for property&quot; due to multiple overloaded setter methods. Two of these methods are annotated with `@JsonIgnore` and `@XmlTransient`, but they seem to be ignored.\r\n\r\n**Example Code:**\r\nHere&#39;s a simplified version of my class with overloaded setter methods:\r\n\r\n```java\r\npublic class MyEntity {\r\n    private String data;\r\n\r\n    public void setData(String data) {\r\n        this.data = data;\r\n    }\r\n\r\n    @JsonIgnore\r\n    @XmlTransient\r\n    public void setData(CustomType1 data) {\r\n        this.data = data.toString();\r\n    }\r\n\r\n    @JsonIgnore\r\n    @XmlTransient\r\n    public void setData(CustomType2 data) {\r\n        this.data = data.toString();\r\n    }\r\n\r\n    // Other fields and methods...\r\n}\r\n","title":"Handling &quot;Conflicting Setter Definitions&quot; with Jackson in Jersey for Overloaded Methods","body":"<p>Hello Stack Overflow community,</p>\n<p>I am encountering an issue with Jackson in a Jersey-based application, specifically dealing with &quot;Conflicting setter definitions for property&quot; error related to overloaded setter methods. Despite using <code>@JsonIgnore</code> and <code>@XmlTransient</code> annotations, the problem persists.</p>\n<p><strong>Issue Description:</strong>\nWhen Jersey processes requests, it fails with the error &quot;Conflicting setter definitions for property&quot; due to multiple overloaded setter methods. Two of these methods are annotated with <code>@JsonIgnore</code> and <code>@XmlTransient</code>, but they seem to be ignored.</p>\n<p><strong>Example Code:</strong>\nHere's a simplified version of my class with overloaded setter methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyEntity {\n    private String data;\n\n    public void setData(String data) {\n        this.data = data;\n    }\n\n    @JsonIgnore\n    @XmlTransient\n    public void setData(CustomType1 data) {\n        this.data = data.toString();\n    }\n\n    @JsonIgnore\n    @XmlTransient\n    public void setData(CustomType2 data) {\n        this.data = data.toString();\n    }\n\n    // Other fields and methods...\n}\n</code></pre>\n"},{"tags":["java","junit","mockito","junit-jupiter"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701693451,"post_id":77599477,"comment_id":136803395,"body_markdown":"This may be similar to testing abstract base classes. You simply cannot without creating a concise instantiable subclass. Similarly, you might need a concisely typed class that you can test. If need be, create a couple and test them all.","body":"This may be similar to testing abstract base classes. You simply cannot without creating a concise instantiable subclass. Similarly, you might need a concisely typed class that you can test. If need be, create a couple and test them all."},{"owner":{"account_id":25487519,"reputation":63,"user_id":21054019,"display_name":"New User"},"score":0,"creation_date":1701693999,"post_id":77599477,"comment_id":136803494,"body_markdown":"@queeg, can you kindly point me to an example?","body":"@queeg, can you kindly point me to an example?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701718658,"post_id":77599477,"comment_id":136808295,"body_markdown":"https://stackoverflow.com/questions/7569444/how-to-test-abstract-class-in-java-with-junit","body":"<a href=\"https://stackoverflow.com/questions/7569444/how-to-test-abstract-class-in-java-with-junit\" title=\"how to test abstract class in java with junit\">stackoverflow.com/questions/7569444/&hellip;</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701767012,"post_id":77599477,"comment_id":136813344,"body_markdown":"You have not mocked anything, your test calls `new` to create a new class (this call is unaffected by your test code). What is `webClient`? How is `requestBodyUriSpec` injected into your service? Please show the complete test (read up on [mre]).","body":"You have not mocked anything, your test calls <code>new</code> to create a new class (this call is unaffected by your test code). What is <code>webClient</code>? How is <code>requestBodyUriSpec</code> injected into your service? Please show the complete test (read up on <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."},{"owner":{"account_id":25487519,"reputation":63,"user_id":21054019,"display_name":"New User"},"score":0,"creation_date":1701767700,"post_id":77599477,"comment_id":136813479,"body_markdown":"@knittl, I have updated the code, kindly let me know if you need any further information. Happy to give more.\n\nI have also tried `eq(ParameterizedTypeReference.class)` but still no effect","body":"@knittl, I have updated the code, kindly let me know if you need any further information. Happy to give more.  I have also tried <code>eq(ParameterizedTypeReference.class)</code> but still no effect"},{"owner":{"account_id":25487519,"reputation":63,"user_id":21054019,"display_name":"New User"},"score":0,"creation_date":1701769599,"post_id":77599477,"comment_id":136813818,"body_markdown":"@knittl, yes please ...","body":"@knittl, yes please ..."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701947066,"post_id":77599477,"comment_id":136839002,"body_markdown":"Please note that your test is only verifying that Mockito works correctly. You are calling a &quot;single&quot; method in your method and returning its return value. This single method is stubbed (mostly with `anyXXX()` matchers). You then assert whether the stubbed value was the value returned.","body":"Please note that your test is only verifying that Mockito works correctly. You are calling a &quot;single&quot; method in your method and returning its return value. This single method is stubbed (mostly with <code>anyXXX()</code> matchers). You then assert whether the stubbed value was the value returned."}],"answers":[{"comments":[{"owner":{"account_id":25487519,"reputation":63,"user_id":21054019,"display_name":"New User"},"score":0,"creation_date":1701925290,"post_id":77606660,"comment_id":136836045,"body_markdown":"Hey @knittl, thank you for the answer and time, can you just guide me a little through the error got post making the above changes... That would be really helpful, and thanks in advance","body":"Hey @knittl, thank you for the answer and time, can you just guide me a little through the error got post making the above changes... That would be really helpful, and thanks in advance"},{"owner":{"account_id":25487519,"reputation":63,"user_id":21054019,"display_name":"New User"},"score":0,"creation_date":1701927481,"post_id":77606660,"comment_id":136836223,"body_markdown":"I have added Extra info if that helps, kindly let me know if you want any further details","body":"I have added Extra info if that helps, kindly let me know if you want any further details"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701947095,"post_id":77606660,"comment_id":136839010,"body_markdown":"@NewUser the &quot;stubbed with (null, null)&quot; is a weird error message, it should contain the matchers. But please do note that your test is not testing anything of your business code, only that Mockito can stub methods.","body":"@NewUser the &quot;stubbed with (null, null)&quot; is a weird error message, it should contain the matchers. But please do note that your test is not testing anything of your business code, only that Mockito can stub methods."},{"owner":{"account_id":25487519,"reputation":63,"user_id":21054019,"display_name":"New User"},"score":0,"creation_date":1701949152,"post_id":77606660,"comment_id":136839372,"body_markdown":"oh is it, sure.","body":"oh is it, sure."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701783704,"creation_date":1701783704,"answer_id":77606660,"question_id":77599477,"body_markdown":"You cannot mix matcher arguments with non-matcher arguments.\r\n\r\n```\r\nwhen(requestBodyUriSpec.body(\r\n    Mono.just(anyString()),\r\n    eq(parameterizedTypeReference1))) // eq returns null!\r\n  .thenReturn(requestHeadersSpec);\r\n```\r\n\r\nMixes a non-matcher argument (`Mono.just`) with a matcher argument (`ArgumentMatchers.eq`). The implementation of the matcher methods returns `null` (or the default value for the type, e.g. `false` for booleans and `0` for numeric types).\r\n\r\nMockito should usually catch this and would normally print an error message informing about the mixed usage. The problem is that you record a second matcher as argument to `Mono.just`, preventing Mockito from detecting this mistake.\r\n\r\nYou need to use matchers for all arguments or no matchers at all. Here&#39;s a correct version using matchers for all arguments:\r\n\r\n```\r\nwhen(requestBodyUriSpec.body(\r\n    any(Mono.class),\r\n    eq(parameterizedTypeReference1)))\r\n  .thenReturn(requestHeadersSpec);\r\n```","title":"How to mock generic wildcard Class?","body":"<p>You cannot mix matcher arguments with non-matcher arguments.</p>\n<pre><code>when(requestBodyUriSpec.body(\n    Mono.just(anyString()),\n    eq(parameterizedTypeReference1))) // eq returns null!\n  .thenReturn(requestHeadersSpec);\n</code></pre>\n<p>Mixes a non-matcher argument (<code>Mono.just</code>) with a matcher argument (<code>ArgumentMatchers.eq</code>). The implementation of the matcher methods returns <code>null</code> (or the default value for the type, e.g. <code>false</code> for booleans and <code>0</code> for numeric types).</p>\n<p>Mockito should usually catch this and would normally print an error message informing about the mixed usage. The problem is that you record a second matcher as argument to <code>Mono.just</code>, preventing Mockito from detecting this mistake.</p>\n<p>You need to use matchers for all arguments or no matchers at all. Here's a correct version using matchers for all arguments:</p>\n<pre><code>when(requestBodyUriSpec.body(\n    any(Mono.class),\n    eq(parameterizedTypeReference1)))\n  .thenReturn(requestHeadersSpec);\n</code></pre>\n"}],"owner":{"account_id":25487519,"reputation":63,"user_id":21054019,"display_name":"New User"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702112393,"creation_date":1701693246,"question_id":77599477,"body_markdown":"I have a variable which is generic i.e \r\n\r\n```\r\nParameterizedTypeReference&lt;?&gt; parameterizedTypeReference = new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {}\r\n```\r\nThe actual method looks like: \r\n```\r\npublic &lt;T, U&gt; U post(String serviceUrl, T data, ParameterizedTypeReference&lt;U&gt; ref, String bearerToken) {\r\n        ParameterizedTypeReference&lt;?&gt; parameterizedTypeReference = new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {\r\n        }:\r\n        var responseBodyMono = webClient\r\n                .post()\r\n                .uri(serviceUrl)\r\n                .header(HttpHeaders.AUTHORIZATION, bearerToken)\r\n                .header(X_CORRELATION_ID, MDC.get(X_CORRELATION_ID))\r\n                .body(Mono.just(data), parameterizedTypeReference)              // I want to mock this\r\n    }\r\n```\r\n\r\nI have written test case like\r\n\r\n```\r\n@Mock\r\nWebClient.RequestHeadersSpec requestHeadersSpec;\r\n\r\n@Mock\r\nWebClient.RequestHeadersUriSpec requestHeadersUriSpec;\r\n\r\n@Mock\r\nWebClient.RequestBodyUriSpec requestBodyUriSpec;\r\n\r\n@Test\r\n\tpublic void testPost() {\r\n\t\tParameterizedTypeReference&lt;?&gt; parameterizedTypeReference1 = new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {};\r\n\t\tMockito.when(webClient.post()).thenReturn(requestBodyUriSpec);\r\n\t\twhen(requestBodyUriSpec.uri(SERVICE_URL)).thenReturn(requestBodySpec);\r\n\t\twhen(requestBodySpec.header(eq(HttpHeaders.AUTHORIZATION), eq(BEARER_TOKEN))).thenReturn(requestBodyUriSpec);\r\n\t\twhen(requestBodyUriSpec.header(anyString(), Mockito.isNull())).thenReturn(requestBodyUriSpec);\r\n\t\twhen(requestBodyUriSpec.body(Mono.just(anyString()), eq(parameterizedTypeReference1))).thenReturn(requestHeadersSpec); // Here I have tried to mock\r\n\t\tassertNotNull(webClientService.post(SERVICE_URL, Collections.emptyList(), parameterizedTypeReference, BEARER_TOKEN));\r\n\t}\r\n```\r\n\r\nBut I get error saying \r\n\r\n```\r\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n - this invocation of &#39;body&#39; method:\r\n    requestBodyUriSpec.body(\r\n    MonoJust,\r\n    ParameterizedTypeReference&lt;T&gt;\r\n);\r\n    -&gt; at com.radisys.macs.cems.common.webclient.WebClientService.getResponseEntity(WebClientService.java:310)\r\n - has following stubbing(s) with different arguments:\r\n    1. requestBodyUriSpec.body(MonoJust, null);\r\n      -&gt; at com.radisys.macs.cems.common.webclient.WebClientServiceTest.testGetResponseEntity(WebClientServiceTest.java:224)\r\n\r\n```\r\n\r\nHow can the `parametrizedTypeReference` be null? When I have nicely mocked it?\r\n\r\n**EDIT**\r\nAfter trying the answer, the following was the error \r\n```\r\njava: no suitable method found for thenReturn(reactor.core.publisher.Mono&lt;java.util.List&lt;java.lang.String&gt;&gt;)\r\n    method org.mockito.stubbing.OngoingStubbing.thenReturn(reactor.core.publisher.Mono&lt;capture#1 of ?&gt;) is not applicable\r\n      (argument mismatch; inference variable T has incompatible bounds\r\n          equality constraints: capture#1 of ?\r\n          lower bounds: java.util.List&lt;T&gt;)\r\n    method org.mockito.stubbing.OngoingStubbing.thenReturn(reactor.core.publisher.Mono&lt;capture#1 of ?&gt;,reactor.core.publisher.Mono&lt;capture#1 of ?&gt;...) is not applicable\r\n      (argument mismatch; inference variable T has incompatible bounds\r\n          equality constraints: capture#1 of ?\r\n          lower bounds: java.util.List&lt;T&gt;)\r\n```\r\n\r\n**EDIT 2**\r\n\r\nChanged to\r\n```\r\n ParameterizedTypeReference parameterizedTypeReference1 = new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {}; // removed &lt;?&gt;\r\n```\r\n```\r\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n - this invocation of &#39;body&#39; method:\r\n    requestBodyUriSpec.body(\r\n    MonoJust,\r\n    ParameterizedTypeReference&lt;java.util.List&lt;java.lang.Object&gt;&gt;\r\n);\r\n    -&gt; at com.radisys.macs.cems.common.webclient.WebClientService.post(WebClientService.java:185)\r\n - has following stubbing(s) with different arguments:\r\n    1. requestBodyUriSpec.body(null, null);\r\n      -&gt; at com.radisys.macs.cems.common.webclient.WebClientServiceTest.testPost(WebClientServiceTest.java:131)\r\n```\r\n\r\n***********************\r\nExtra info please ignore this, for the SO\r\n*******************\r\n\r\n**If this helps EXTRA INFO:**\r\n\r\nFor the below code\r\n```\r\n public &lt;T, U&gt; U update(String serviceUrl, T payload, ParameterizedTypeReference&lt;U&gt; ref, String bearerToken) {\r\n        LOGGER.atFine().log(SERVICE_URL_LOGGER, serviceUrl);\r\n        ParameterizedTypeReference&lt;T&gt; parameterizedTypeReference = new ParameterizedTypeReference&lt;&gt;() {\r\n        };\r\n        Mono&lt;U&gt; responseStatusMono = webClient\r\n                .put()\r\n                .uri(serviceUrl)\r\n                .header(HttpHeaders.AUTHORIZATION, bearerToken)\r\n                .header(X_CORRELATION_ID, MDC.get(X_CORRELATION_ID))\r\n                .body(Mono.just(payload), parameterizedTypeReference)\r\n                .retrieve()\r\n                .onStatus(HttpStatusCode::isError, response -&gt; com.radisys.macs.cems.common.webclient.SBServiceErrorHandlerUtil.logAndGetThrowableMono(serviceUrl,\r\n                        response))\r\n                .bodyToMono(ref)\r\n                .doOnError(com.radisys.macs.cems.common.webclient.SBServiceErrorHandlerUtil::handleConnectionErrors);\r\n        var responseStatus = responseStatusMono.block();\r\n        LOGGER.atFine().log(&quot;update operation response from SB Service: %s&quot;, responseStatus);\r\n        return responseStatus;\r\n    }\r\n```\r\n\r\nTest case is \r\n```\r\n\t@Test\r\n\tpublic void testUpdate() {\r\n\r\n\t\twhen(webClient.put()).thenReturn(requestBodyUriSpec);\r\n\t\twhen(requestBodyUriSpec.uri(WebClientServiceTest.SERVICE_URL)).thenReturn(requestBodySpec);\r\n\t\twhen(requestBodySpec.header(eq(HttpHeaders.AUTHORIZATION), eq(WebClientServiceTest.BEARER_TOKEN))).thenReturn(requestBodyUriSpec);\r\n\t\twhen(requestBodyUriSpec.header(anyString(), Mockito.isNull())).thenReturn(requestBodyUriSpec);\r\n\t\twhen(requestBodyUriSpec.body(any(), any(ParameterizedTypeReference.class))).thenReturn(requestHeadersSpec);\r\n\t\twhen(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\r\n\t\twhen(responseSpec.onStatus(any(), any())).thenReturn(responseSpec);\r\n\t\twhen(responseSpec.bodyToMono(eq(parameterizedTypeReference))).thenReturn(Mono.just(Collections.singletonList(&quot;record1&quot;)));\r\n\r\n\t\tassertNotNull(webClientService.update(WebClientServiceTest.SERVICE_URL, Collections.emptyList(), parameterizedTypeReference, WebClientServiceTest.BEARER_TOKEN));\r\n\r\n\r\n\t}\r\n```\r\n\r\nThe below is working just fine, but for the post it is not working, I am amazed how it is working for update, and not for post request :(","title":"How to mock generic wildcard Class?","body":"<p>I have a variable which is generic i.e</p>\n<pre><code>ParameterizedTypeReference&lt;?&gt; parameterizedTypeReference = new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {}\n</code></pre>\n<p>The actual method looks like:</p>\n<pre><code>public &lt;T, U&gt; U post(String serviceUrl, T data, ParameterizedTypeReference&lt;U&gt; ref, String bearerToken) {\n        ParameterizedTypeReference&lt;?&gt; parameterizedTypeReference = new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {\n        }:\n        var responseBodyMono = webClient\n                .post()\n                .uri(serviceUrl)\n                .header(HttpHeaders.AUTHORIZATION, bearerToken)\n                .header(X_CORRELATION_ID, MDC.get(X_CORRELATION_ID))\n                .body(Mono.just(data), parameterizedTypeReference)              // I want to mock this\n    }\n</code></pre>\n<p>I have written test case like</p>\n<pre><code>@Mock\nWebClient.RequestHeadersSpec requestHeadersSpec;\n\n@Mock\nWebClient.RequestHeadersUriSpec requestHeadersUriSpec;\n\n@Mock\nWebClient.RequestBodyUriSpec requestBodyUriSpec;\n\n@Test\n    public void testPost() {\n        ParameterizedTypeReference&lt;?&gt; parameterizedTypeReference1 = new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {};\n        Mockito.when(webClient.post()).thenReturn(requestBodyUriSpec);\n        when(requestBodyUriSpec.uri(SERVICE_URL)).thenReturn(requestBodySpec);\n        when(requestBodySpec.header(eq(HttpHeaders.AUTHORIZATION), eq(BEARER_TOKEN))).thenReturn(requestBodyUriSpec);\n        when(requestBodyUriSpec.header(anyString(), Mockito.isNull())).thenReturn(requestBodyUriSpec);\n        when(requestBodyUriSpec.body(Mono.just(anyString()), eq(parameterizedTypeReference1))).thenReturn(requestHeadersSpec); // Here I have tried to mock\n        assertNotNull(webClientService.post(SERVICE_URL, Collections.emptyList(), parameterizedTypeReference, BEARER_TOKEN));\n    }\n</code></pre>\n<p>But I get error saying</p>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'body' method:\n    requestBodyUriSpec.body(\n    MonoJust,\n    ParameterizedTypeReference&lt;T&gt;\n);\n    -&gt; at com.radisys.macs.cems.common.webclient.WebClientService.getResponseEntity(WebClientService.java:310)\n - has following stubbing(s) with different arguments:\n    1. requestBodyUriSpec.body(MonoJust, null);\n      -&gt; at com.radisys.macs.cems.common.webclient.WebClientServiceTest.testGetResponseEntity(WebClientServiceTest.java:224)\n\n</code></pre>\n<p>How can the <code>parametrizedTypeReference</code> be null? When I have nicely mocked it?</p>\n<p><strong>EDIT</strong>\nAfter trying the answer, the following was the error</p>\n<pre><code>java: no suitable method found for thenReturn(reactor.core.publisher.Mono&lt;java.util.List&lt;java.lang.String&gt;&gt;)\n    method org.mockito.stubbing.OngoingStubbing.thenReturn(reactor.core.publisher.Mono&lt;capture#1 of ?&gt;) is not applicable\n      (argument mismatch; inference variable T has incompatible bounds\n          equality constraints: capture#1 of ?\n          lower bounds: java.util.List&lt;T&gt;)\n    method org.mockito.stubbing.OngoingStubbing.thenReturn(reactor.core.publisher.Mono&lt;capture#1 of ?&gt;,reactor.core.publisher.Mono&lt;capture#1 of ?&gt;...) is not applicable\n      (argument mismatch; inference variable T has incompatible bounds\n          equality constraints: capture#1 of ?\n          lower bounds: java.util.List&lt;T&gt;)\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>Changed to</p>\n<pre><code> ParameterizedTypeReference parameterizedTypeReference1 = new ParameterizedTypeReference&lt;List&lt;Object&gt;&gt;() {}; // removed &lt;?&gt;\n</code></pre>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'body' method:\n    requestBodyUriSpec.body(\n    MonoJust,\n    ParameterizedTypeReference&lt;java.util.List&lt;java.lang.Object&gt;&gt;\n);\n    -&gt; at com.radisys.macs.cems.common.webclient.WebClientService.post(WebClientService.java:185)\n - has following stubbing(s) with different arguments:\n    1. requestBodyUriSpec.body(null, null);\n      -&gt; at com.radisys.macs.cems.common.webclient.WebClientServiceTest.testPost(WebClientServiceTest.java:131)\n</code></pre>\n<hr />\n<p>Extra info please ignore this, for the SO</p>\n<hr />\n<p><strong>If this helps EXTRA INFO:</strong></p>\n<p>For the below code</p>\n<pre><code> public &lt;T, U&gt; U update(String serviceUrl, T payload, ParameterizedTypeReference&lt;U&gt; ref, String bearerToken) {\n        LOGGER.atFine().log(SERVICE_URL_LOGGER, serviceUrl);\n        ParameterizedTypeReference&lt;T&gt; parameterizedTypeReference = new ParameterizedTypeReference&lt;&gt;() {\n        };\n        Mono&lt;U&gt; responseStatusMono = webClient\n                .put()\n                .uri(serviceUrl)\n                .header(HttpHeaders.AUTHORIZATION, bearerToken)\n                .header(X_CORRELATION_ID, MDC.get(X_CORRELATION_ID))\n                .body(Mono.just(payload), parameterizedTypeReference)\n                .retrieve()\n                .onStatus(HttpStatusCode::isError, response -&gt; com.radisys.macs.cems.common.webclient.SBServiceErrorHandlerUtil.logAndGetThrowableMono(serviceUrl,\n                        response))\n                .bodyToMono(ref)\n                .doOnError(com.radisys.macs.cems.common.webclient.SBServiceErrorHandlerUtil::handleConnectionErrors);\n        var responseStatus = responseStatusMono.block();\n        LOGGER.atFine().log(&quot;update operation response from SB Service: %s&quot;, responseStatus);\n        return responseStatus;\n    }\n</code></pre>\n<p>Test case is</p>\n<pre><code>    @Test\n    public void testUpdate() {\n\n        when(webClient.put()).thenReturn(requestBodyUriSpec);\n        when(requestBodyUriSpec.uri(WebClientServiceTest.SERVICE_URL)).thenReturn(requestBodySpec);\n        when(requestBodySpec.header(eq(HttpHeaders.AUTHORIZATION), eq(WebClientServiceTest.BEARER_TOKEN))).thenReturn(requestBodyUriSpec);\n        when(requestBodyUriSpec.header(anyString(), Mockito.isNull())).thenReturn(requestBodyUriSpec);\n        when(requestBodyUriSpec.body(any(), any(ParameterizedTypeReference.class))).thenReturn(requestHeadersSpec);\n        when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\n        when(responseSpec.onStatus(any(), any())).thenReturn(responseSpec);\n        when(responseSpec.bodyToMono(eq(parameterizedTypeReference))).thenReturn(Mono.just(Collections.singletonList(&quot;record1&quot;)));\n\n        assertNotNull(webClientService.update(WebClientServiceTest.SERVICE_URL, Collections.emptyList(), parameterizedTypeReference, WebClientServiceTest.BEARER_TOKEN));\n\n\n    }\n</code></pre>\n<p>The below is working just fine, but for the post it is not working, I am amazed how it is working for update, and not for post request :(</p>\n"},{"tags":["java","spring","http"],"owner":{"account_id":14256377,"reputation":49,"user_id":10298463,"display_name":"t _ liang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702112323,"creation_date":1702112323,"question_id":77630702,"body_markdown":"# http spec\r\n\r\n&lt;https://datatracker.ietf.org/doc/html/rfc9112&gt;\r\n\r\nI just want find out the location of source code.\r\n\r\n# case 1\r\n\r\n1. http-server: spring-boot-starter-web\r\n2. http-client: spring-boot-starter-webflux\r\n\r\n```java\r\n// client code\r\n\r\nWebClient webClient = WebClient.create();\r\nResponseEntity&lt;String&gt; res = webClient\r\n        .get()\r\n        .uri(&quot;http:// your url&quot;)\r\n        .header(&quot;a&quot;, &quot;\\u007F&quot;)\r\n        .retrieve().toEntity(String.class).block();\r\nSystem.out.println(res.getStatusCodeValue());\r\nSystem.out.println(res.getBody());\r\n```\r\n\r\nresult: client got `400 Bad Request`\r\n\r\nQ: where is the source code of throw the `400 Bad Request` exception?\r\n\r\n# case 2 (base on case 1)\r\n\r\n```java\r\n// client code\r\n\r\n        .header(&quot;a&quot;, &quot;\\u6211&quot;)\r\n```\r\n\r\nresult: server out the header value is `?`(code point 63)\r\n\r\nQ: where is the source code of replace this chars?","title":"http header (name, value), where is the source code of value intercept/replace in spring-framework?","body":"<h1>http spec</h1>\n<p><a href=\"https://datatracker.ietf.org/doc/html/rfc9112\" rel=\"nofollow noreferrer\">https://datatracker.ietf.org/doc/html/rfc9112</a></p>\n<p>I just want find out the location of source code.</p>\n<h1>case 1</h1>\n<ol>\n<li>http-server: spring-boot-starter-web</li>\n<li>http-client: spring-boot-starter-webflux</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// client code\n\nWebClient webClient = WebClient.create();\nResponseEntity&lt;String&gt; res = webClient\n        .get()\n        .uri(&quot;http:// your url&quot;)\n        .header(&quot;a&quot;, &quot;\\u007F&quot;)\n        .retrieve().toEntity(String.class).block();\nSystem.out.println(res.getStatusCodeValue());\nSystem.out.println(res.getBody());\n</code></pre>\n<p>result: client got <code>400 Bad Request</code></p>\n<p>Q: where is the source code of throw the <code>400 Bad Request</code> exception?</p>\n<h1>case 2 (base on case 1)</h1>\n<pre class=\"lang-java prettyprint-override\"><code>// client code\n\n        .header(&quot;a&quot;, &quot;\\u6211&quot;)\n</code></pre>\n<p>result: server out the header value is <code>?</code>(code point 63)</p>\n<p>Q: where is the source code of replace this chars?</p>\n"},{"tags":["java","recursion","printing","tree","height"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1651258915,"post_id":72062570,"comment_id":127330184,"body_markdown":"Put the output statement in the main program, not in the `getHeight()` method.","body":"Put the output statement in the main program, not in the <code>getHeight()</code> method."},{"owner":{"account_id":24592867,"reputation":11,"user_id":18496486,"display_name":"Shai Baruch"},"score":0,"creation_date":1651259037,"post_id":72062570,"comment_id":127330220,"body_markdown":"I can do that of course, but my assignment (data structure course) is to write a method that prints the height when it&#39;s called from main...","body":"I can do that of course, but my assignment (data structure course) is to write a method that prints the height when it&#39;s called from main..."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1651259093,"post_id":72062570,"comment_id":127330239,"body_markdown":"Then you have to write another method that invokes the recursive function and prints the result.","body":"Then you have to write another method that invokes the recursive function and prints the result."},{"owner":{"account_id":24592867,"reputation":11,"user_id":18496486,"display_name":"Shai Baruch"},"score":0,"creation_date":1651259350,"post_id":72062570,"comment_id":127330308,"body_markdown":"I thought about it too, but then it makes the code very complicated and not efficient. \nI thought to trace the path of the method and nest the System.out.print in an if/else statement, but it is so tedious to find the path for any given tree..\nMaybe I need to write a method that uses a while loop instead of a recursive method but it will be much harder...","body":"I thought about it too, but then it makes the code very complicated and not efficient.  I thought to trace the path of the method and nest the System.out.print in an if/else statement, but it is so tedious to find the path for any given tree.. Maybe I need to write a method that uses a while loop instead of a recursive method but it will be much harder..."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1651259579,"post_id":72062570,"comment_id":127330378,"body_markdown":"&quot;makes the code very complicated and not efficient&quot; - absolutely the contrary, using an additional method will make it much easier and efficient then having some additional kind of logic (if/else) in the recursive method || `public void printHeight(TreeNode root) { System.out.println(getHeight(root)); }` almost can&#39;t be less complicated","body":"&quot;makes the code very complicated and not efficient&quot; - absolutely the contrary, using an additional method will make it much easier and efficient then having some additional kind of logic (if/else) in the recursive method || <code>public void printHeight(TreeNode root) { System.out.println(getHeight(root)); }</code> almost can&#39;t be less complicated"},{"owner":{"account_id":24592867,"reputation":11,"user_id":18496486,"display_name":"Shai Baruch"},"score":0,"creation_date":1651260118,"post_id":72062570,"comment_id":127330507,"body_markdown":"Alright, I&#39;m convinced! This is not to much to add and it does the work.\nThank you very much!","body":"Alright, I&#39;m convinced! This is not to much to add and it does the work. Thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":20588812,"reputation":1,"user_id":15113026,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702111244,"creation_date":1701953474,"answer_id":77620158,"question_id":72062570,"body_markdown":"You should use a second method e. g. `printHeight` to print the height and use the `getHeight` method only to return the height.\r\n\r\nE. g.:\r\n\r\n    public int getHeight(IntTreeNode root) {\r\n        if(root == null) {\r\n            return 0;\r\n        }\r\n        int height = 1 + Math.max(getHeight(root.left), getHeight(root.right));\r\n        return height;\r\n    }\r\n    public void printHeight() {\r\n        System.out.println(getHeight());\r\n    }\r\n\r\n","title":"I wrote a recursive method in java to calculate the height of a tree and my question is how can I get this method to print the height one time","body":"<p>You should use a second method e. g. <code>printHeight</code> to print the height and use the <code>getHeight</code> method only to return the height.</p>\n<p>E. g.:</p>\n<pre><code>public int getHeight(IntTreeNode root) {\n    if(root == null) {\n        return 0;\n    }\n    int height = 1 + Math.max(getHeight(root.left), getHeight(root.right));\n    return height;\n}\npublic void printHeight() {\n    System.out.println(getHeight());\n}\n</code></pre>\n"}],"owner":{"account_id":24592867,"reputation":11,"user_id":18496486,"display_name":"Shai Baruch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1702111244,"creation_date":1651258591,"question_id":72062570,"body_markdown":"So here is my method:\r\n\r\n    public int getHeight(IntTreeNode root) {\r\n            if(root == null) {\r\n                return 0;\r\n            }\r\n            int height = 1 + Math.max(getHeight(root.left), getHeight(root.right));\r\n             \r\n            System.out.println(height);\r\n            }\r\n            return height;\r\n        }\r\n\r\nI know that since it&#39;s a recursive method it will print the height in loops until it reaches the final height, but what I want is for this method to print the final height only. Any ideas on how to make this work anyone? thanks.","title":"I wrote a recursive method in java to calculate the height of a tree and my question is how can I get this method to print the height one time","body":"<p>So here is my method:</p>\n<pre><code>public int getHeight(IntTreeNode root) {\n        if(root == null) {\n            return 0;\n        }\n        int height = 1 + Math.max(getHeight(root.left), getHeight(root.right));\n         \n        System.out.println(height);\n        }\n        return height;\n    }\n</code></pre>\n<p>I know that since it's a recursive method it will print the height in loops until it reaches the final height, but what I want is for this method to print the final height only. Any ideas on how to make this work anyone? thanks.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"score":6,"creation_date":1379583017,"post_id":18890993,"comment_id":27882749,"body_markdown":"Show us your code.","body":"Show us your code."},{"owner":{"account_id":1338893,"reputation":4757,"user_id":1281004,"accept_rate":89,"display_name":"Mike T"},"score":0,"creation_date":1379583037,"post_id":18890993,"comment_id":27882767,"body_markdown":"Have you tried inspecting what that element is?","body":"Have you tried inspecting what that element is?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":3,"creation_date":1379583038,"post_id":18890993,"comment_id":27882768,"body_markdown":"Code talks much better than thousand words.","body":"Code talks much better than thousand words."},{"owner":{"account_id":1044190,"reputation":2567,"user_id":1049527,"accept_rate":96,"display_name":"ZaoTaoBao"},"score":1,"creation_date":1379583084,"post_id":18890993,"comment_id":27882798,"body_markdown":"why don&#39;t you use .size()","body":"why don&#39;t you use .size()"},{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":0,"creation_date":1379583097,"post_id":18890993,"comment_id":27882806,"body_markdown":"don&#39;t you mean `size()` instead of `length()`? Also, please show us your sourcecode.","body":"don&#39;t you mean <code>size()</code> instead of <code>length()</code>? Also, please show us your sourcecode."},{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":0,"creation_date":1379583131,"post_id":18890993,"comment_id":27882842,"body_markdown":"You seem to be a bit mixed up between an array and `ArrayList`. Edit your question to be clearer.","body":"You seem to be a bit mixed up between an array and <code>ArrayList</code>. Edit your question to be clearer."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1379583138,"post_id":18890993,"comment_id":27882849,"body_markdown":"`ArrayList` has no method named `length()`.  Use [`size()`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#size%28%29).","body":"<code>ArrayList</code> has no method named <code>length()</code>.  Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#size%28%29\" rel=\"nofollow noreferrer\"><code>size()</code></a>."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1379583263,"post_id":18890993,"comment_id":27882946,"body_markdown":"`ArrayList.size()` **can&#39;t** return 1 directly after a clear. You need to show us your code.","body":"<code>ArrayList.size()</code> <b>can&#39;t</b> return 1 directly after a clear. You need to show us your code."},{"owner":{"account_id":1120840,"reputation":6465,"user_id":1109179,"accept_rate":62,"display_name":"Sohan"},"score":0,"creation_date":1484911676,"post_id":18890993,"comment_id":70716508,"body_markdown":"code will make things clear here","body":"code will make things clear here"}],"answers":[{"tags":[],"owner":{"account_id":3194981,"reputation":86,"user_id":2698359,"display_name":"cb1zzly"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1702109545,"creation_date":1379583154,"answer_id":18891092,"question_id":18890993,"body_markdown":"Use `arrayListName.size()` for ArrayLists.\r\n\r\nHave a look at \r\n http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html","title":"How to find the size of an Array List in java?","body":"<p>Use <code>arrayListName.size()</code> for ArrayLists.</p>\n<p>Have a look at\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html</a></p>\n"},{"tags":[],"owner":{"account_id":254607,"reputation":31358,"user_id":534124,"accept_rate":75,"display_name":"Oswald"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379583158,"creation_date":1379583158,"answer_id":18891094,"question_id":18890993,"body_markdown":"Use [ArrayList.size()][1] to determine how many elements the ArrayList contains.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#size()","title":"How to find the size of an Array List in java?","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#size%28%29\" rel=\"nofollow\">ArrayList.size()</a> to determine how many elements the ArrayList contains.</p>\n"},{"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379583206,"creation_date":1379583206,"answer_id":18891121,"question_id":18890993,"body_markdown":"Works for me:\r\n\r\n        Collection&lt;String&gt; c = new ArrayList&lt;String&gt;();\r\n        c.add(&quot;Hello&quot;);\r\n        if (c.size() != 1) {\r\n            throw new IllegalStateException();\r\n        }\r\n        c.clear();\r\n        if (c.size() != 0) {\r\n            throw new IllegalStateException();\r\n        }\r\n\r\n","title":"How to find the size of an Array List in java?","body":"<p>Works for me:</p>\n\n<pre><code>    Collection&lt;String&gt; c = new ArrayList&lt;String&gt;();\n    c.add(\"Hello\");\n    if (c.size() != 1) {\n        throw new IllegalStateException();\n    }\n    c.clear();\n    if (c.size() != 0) {\n        throw new IllegalStateException();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2519746,"reputation":8347,"user_id":2190336,"display_name":"Prabhaker A"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379583648,"creation_date":1379583335,"answer_id":18891164,"question_id":18890993,"body_markdown":"You can use `size()` method to find size of the `ArrayList`.But I strongly recommend you to use `isEmpty()` method to check whether list is empty or not (instead of `list.size()==0` checking).  \r\n[ArrayList#isEmpty](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#isEmpty)\r\n&gt;Returns true if this list contains no elements.","title":"How to find the size of an Array List in java?","body":"<p>You can use <code>size()</code> method to find size of the <code>ArrayList</code>.But I strongly recommend you to use <code>isEmpty()</code> method to check whether list is empty or not (instead of <code>list.size()==0</code> checking).<br>\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#isEmpty\" rel=\"nofollow\">ArrayList#isEmpty</a></p>\n\n<blockquote>\n  <p>Returns true if this list contains no elements.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3121795,"reputation":29,"user_id":2641427,"display_name":"Clover Wu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379584889,"creation_date":1379584889,"answer_id":18891719,"question_id":18890993,"body_markdown":"Use the .size() method..i thought that you can print the element in the array list when you thought that the all elements are cleared from the arraylist to make sure that if it is cleared.or the method .clear() just reset the elements in the arrayList.","title":"How to find the size of an Array List in java?","body":"<p>Use the .size() method..i thought that you can print the element in the array list when you thought that the all elements are cleared from the arraylist to make sure that if it is cleared.or the method .clear() just reset the elements in the arrayList.</p>\n"},{"tags":[],"owner":{"account_id":7234346,"reputation":58,"user_id":5520120,"accept_rate":0,"display_name":"M Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484911295,"creation_date":1484911295,"answer_id":41762469,"question_id":18890993,"body_markdown":"Just use\r\n\r\nint size=ArrayList.size();","title":"How to find the size of an Array List in java?","body":"<p>Just use</p>\n\n<p>int size=ArrayList.size();</p>\n"}],"owner":{"account_id":1625899,"reputation":357,"user_id":1501468,"accept_rate":10,"display_name":"Piyush Srivastava"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47514,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":6,"score":-6,"last_activity_date":1702109545,"creation_date":1379582916,"question_id":18890993,"body_markdown":"I have to write a piece of code using ArrayList and some of its member functions.\r\n\r\nThese are the steps I have to take:\r\n\r\n1. Insert data into ArrayList;\r\n2. Update the array list either by insertion or by deletion;\r\n3. Get the size of ArrayList  by using member function .length().\r\n    \r\nI have to execute Step 2 by using member function .clear()\r\nI have tried to execute Step 3 as well, but in my attempt, the size of the ArrayList is displayed as 1, not 0.\r\n\r\nCan you provide me with a piece of code that executes these three steps?","title":"How to find the size of an Array List in java?","body":"<p>I have to write a piece of code using ArrayList and some of its member functions.</p>\n\n<p>These are the steps I have to take:</p>\n\n<ol>\n<li>Insert data into ArrayList;</li>\n<li>Update the array list either by insertion or by deletion;</li>\n<li>Get the size of ArrayList  by using member function .length().</li>\n</ol>\n\n<p>I have to execute Step 2 by using member function .clear()\nI have tried to execute Step 3 as well, but in my attempt, the size of the ArrayList is displayed as 1, not 0.</p>\n\n<p>Can you provide me with a piece of code that executes these three steps?</p>\n"},{"tags":["java","spring","rest","authentication","spring-security"],"comments":[{"owner":{"account_id":342311,"reputation":893,"user_id":673402,"accept_rate":100,"display_name":"franDayz"},"score":1,"creation_date":1461157994,"post_id":36721212,"comment_id":61070985,"body_markdown":"Take a look at this: http://stackoverflow.com/questions/22453550/custom-authentication-provider-not-being-called/22457561#22457561","body":"Take a look at this: <a href=\"http://stackoverflow.com/questions/22453550/custom-authentication-provider-not-being-called/22457561#22457561\" title=\"custom authentication provider not being called\">stackoverflow.com/questions/22453550/&hellip;</a>"},{"owner":{"account_id":8280491,"reputation":259,"user_id":6225358,"display_name":"H&#229;vard Bakke"},"score":1,"creation_date":1461205084,"post_id":36721212,"comment_id":61096395,"body_markdown":"Thank you! The missing @Autowired annotation was the issue. Problem solved!","body":"Thank you! The missing @Autowired annotation was the issue. Problem solved!"},{"owner":{"account_id":448569,"reputation":3796,"user_id":842832,"accept_rate":33,"display_name":"demaniak"},"score":0,"creation_date":1481621417,"post_id":36721212,"comment_id":69439101,"body_markdown":"@franDayz maybe add your comment as an answer, so that H&#229;vard Bakke can accept as an answer?","body":"@franDayz maybe add your comment as an answer, so that H&#229;vard Bakke can accept as an answer?"},{"owner":{"account_id":342311,"reputation":893,"user_id":673402,"accept_rate":100,"display_name":"franDayz"},"score":0,"creation_date":1481627978,"post_id":36721212,"comment_id":69443309,"body_markdown":"@demaniak I just tried but the system converts simple answers to comments...","body":"@demaniak I just tried but the system converts simple answers to comments..."},{"owner":{"account_id":13093409,"reputation":2312,"user_id":9460065,"display_name":"rohit thomas"},"score":0,"creation_date":1526784786,"post_id":36721212,"comment_id":87876904,"body_markdown":"@franDayz just mention, why &#39;@autowired&#39; was required and follow up with the URL then you can add it as a answer :)","body":"@franDayz just mention, why &#39;@autowired&#39; was required and follow up with the URL then you can add it as a answer :)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1526786846,"post_id":36721212,"comment_id":87877149,"body_markdown":"Duplicate of http://stackoverflow.com/questions/22453550/custom-authentication-provider-not-being-called/22457561#22457561","body":"Duplicate of <a href=\"http://stackoverflow.com/questions/22453550/custom-authentication-provider-not-being-called/22457561#22457561\" title=\"custom authentication provider not being called\">stackoverflow.com/questions/22453550/&hellip;</a>"},{"owner":{"account_id":5499167,"reputation":179,"user_id":4369048,"display_name":"Vikash Gupta"},"score":0,"creation_date":1587053770,"post_id":36721212,"comment_id":108364512,"body_markdown":"Does this answer your question? [Custom Authentication provider with Spring Security and Java Config](https://stackoverflow.com/questions/22606751/custom-authentication-provider-with-spring-security-and-java-config)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22606751/custom-authentication-provider-with-spring-security-and-java-config\">Custom Authentication provider with Spring Security and Java Config</a>"}],"answers":[{"tags":[],"owner":{"account_id":3126549,"reputation":79,"user_id":2645298,"display_name":"Catalin Stan"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1483806768,"creation_date":1483806768,"answer_id":41523710,"question_id":36721212,"body_markdown":"Look at the AuthenticationProvider class (respectively it&#39;s java doc)\r\n\r\nThe method authenticate expects to :\r\n\r\n     * Performs authentication with the same contract as\r\n\t * {@link org.springframework.security.authentication.AuthenticationManager#authenticate(Authentication)}\r\n     * @return a fully authenticated object including credentials. May return\r\n\t * &lt;code&gt;null&lt;/code&gt; if the &lt;code&gt;AuthenticationProvider&lt;/code&gt; is unable to support\r\n\t * authentication of the passed &lt;code&gt;Authentication&lt;/code&gt; object. In such a case,\r\n\t * the next &lt;code&gt;AuthenticationProvider&lt;/code&gt; that supports the presented\r\n\t * &lt;code&gt;Authentication&lt;/code&gt; class will be tried.\r\nIf you return null, then the next AuthenticationProvider will be called, which is the defaut one.\r\n\r\nI am not sure this is the problem, but this might be something. Try to throw BadCredentialsException, as the AuthenticationManager class tells you to do :\r\n\r\n     * &lt;li&gt;A {@link BadCredentialsException} must be thrown if incorrect credentials are\r\n\t * presented. Whilst the above exceptions are optional, an\r\n\t * &lt;code&gt;AuthenticationManager&lt;/code&gt; must &lt;B&gt;always&lt;/B&gt; test credentials.&lt;/li&gt;\r\n\r\n","title":"Spring Boot Custom Authentication Provider with Java Configuration not working","body":"<p>Look at the AuthenticationProvider class (respectively it's java doc)</p>\n\n<p>The method authenticate expects to :</p>\n\n<pre><code> * Performs authentication with the same contract as\n * {@link org.springframework.security.authentication.AuthenticationManager#authenticate(Authentication)}\n * @return a fully authenticated object including credentials. May return\n * &lt;code&gt;null&lt;/code&gt; if the &lt;code&gt;AuthenticationProvider&lt;/code&gt; is unable to support\n * authentication of the passed &lt;code&gt;Authentication&lt;/code&gt; object. In such a case,\n * the next &lt;code&gt;AuthenticationProvider&lt;/code&gt; that supports the presented\n * &lt;code&gt;Authentication&lt;/code&gt; class will be tried.\n</code></pre>\n\n<p>If you return null, then the next AuthenticationProvider will be called, which is the defaut one.</p>\n\n<p>I am not sure this is the problem, but this might be something. Try to throw BadCredentialsException, as the AuthenticationManager class tells you to do :</p>\n\n<pre><code> * &lt;li&gt;A {@link BadCredentialsException} must be thrown if incorrect credentials are\n * presented. Whilst the above exceptions are optional, an\n * &lt;code&gt;AuthenticationManager&lt;/code&gt; must &lt;B&gt;always&lt;/B&gt; test credentials.&lt;/li&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198788,"reputation":6200,"user_id":443664,"accept_rate":97,"display_name":"Dexter"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1495055301,"creation_date":1495055301,"answer_id":44034798,"question_id":36721212,"body_markdown":"You have to set the credentials in some other way. Try to see a working example of Username Password token. But your &quot;authenticate&quot; function needs to be the one that sets the credentials.","title":"Spring Boot Custom Authentication Provider with Java Configuration not working","body":"<p>You have to set the credentials in some other way. Try to see a working example of Username Password token. But your \"authenticate\" function needs to be the one that sets the credentials.</p>\n"},{"tags":[],"owner":{"account_id":8845418,"reputation":1,"user_id":6606333,"display_name":"Nico"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537378187,"creation_date":1537378187,"answer_id":52411314,"question_id":36721212,"body_markdown":"Try to add on header http this thinks:\r\n\r\nExample:\r\n\r\n    const headers = new HttpHeaders();\r\n    headers.set(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);\r\n    headers.set(&#39;Access-Control-Allow-Methods&#39;, &#39;POST, GET, OPTIONS, DELETE, PUT&#39;);\r\n    headers.set(&#39;Access-Control-Allow-Headers&#39;, &#39;Authorization, Content-Type, Accept, x- \r\n    requested-with, Cache-Control&#39;);\r\n    headers.set(&#39;Content-Type&#39;, &#39;application/json&#39;);\r\n\r\n\r\n    this.http.post(&#39;http://localhost:8081/loginAngular&#39;,\r\n       JSON.stringify({user: &#39;sdasd&#39;, password: &#39;dasdasd&#39;, estado: &#39;dasdasd&#39;, idUsuario: 1, resultado: &#39;asdasd&#39;}) ,\r\n      {headers: new HttpHeaders().set(&#39;Content-Type&#39;, &#39;application/json&#39;)}).subscribe(data =&gt; {\r\n      console.log(&#39; Data: &#39; + data);\r\n\r\n    });\r\n\r\n\r\nI made this app with spring security and angular! \r\nFront: https://github.com/nicobassart/angularforHidra\r\nBack: https://github.com/nicobassart/hidra_server","title":"Spring Boot Custom Authentication Provider with Java Configuration not working","body":"<p>Try to add on header http this thinks:</p>\n\n<p>Example:</p>\n\n<pre><code>const headers = new HttpHeaders();\nheaders.set('Access-Control-Allow-Origin', '*');\nheaders.set('Access-Control-Allow-Methods', 'POST, GET, OPTIONS, DELETE, PUT');\nheaders.set('Access-Control-Allow-Headers', 'Authorization, Content-Type, Accept, x- \nrequested-with, Cache-Control');\nheaders.set('Content-Type', 'application/json');\n\n\nthis.http.post('http://localhost:8081/loginAngular',\n   JSON.stringify({user: 'sdasd', password: 'dasdasd', estado: 'dasdasd', idUsuario: 1, resultado: 'asdasd'}) ,\n  {headers: new HttpHeaders().set('Content-Type', 'application/json')}).subscribe(data =&gt; {\n  console.log(' Data: ' + data);\n\n});\n</code></pre>\n\n<p>I made this app with spring security and angular! \nFront: <a href=\"https://github.com/nicobassart/angularforHidra\" rel=\"nofollow noreferrer\">https://github.com/nicobassart/angularforHidra</a>\nBack: <a href=\"https://github.com/nicobassart/hidra_server\" rel=\"nofollow noreferrer\">https://github.com/nicobassart/hidra_server</a></p>\n"}],"owner":{"account_id":8280491,"reputation":259,"user_id":6225358,"display_name":"H&#229;vard Bakke"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39668,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1702109075,"creation_date":1461075745,"question_id":36721212,"body_markdown":"I am trying to setup a REST based web application, where the frontend is using Reactjs and the backend is using Spring Boot. I am also trying to setup a custom authentication provider, and this is where my problems start. When trying to test the login API call, the CustomAuthenticationProvider is never called, and instead the default DaoAuthenticationProvider is used. This causes the login to report &quot;Bad credentials&quot;.\r\n\r\nI have upload a small sample application to github: [spring-boot-auth-demo][1]\r\n\r\n\r\nTo test the login API I use the following curl:\r\n\r\n    curl -H &quot;Content-Type: application/json&quot; -X POST -d &#39;{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;admin&quot;}&#39; http://localhost:8080/api/users/login\r\n\r\nThe CustomAuthenticationProvider does a simple username/password check and returns an UsernamePasswordAuthenicationToken object.\r\n\r\n    package no.bluebit.demo;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.security.authentication.AuthenticationProvider;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    private static final Logger logger =     LoggerFactory.getLogger(CustomAuthenticationProvider.class);\r\n\r\n    public CustomAuthenticationProvider() {\r\n        logger.info(&quot;*** CustomAuthenticationProvider created&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\r\n        if(authentication.getName().equals(&quot;admin&quot;)  &amp;&amp; authentication.getCredentials().equals(&quot;admin&quot;)) {\r\n            List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\r\n            grantedAuths.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n            grantedAuths.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n            return new UsernamePasswordAuthenticationToken(authentication.getName(), authentication.getCredentials(), grantedAuths);\r\n        } else {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n    }\r\n\r\n    }\r\n\r\nThe CustomAuthenticationProvider is wired up using the SecurityConfiguration class. When stepping through the code, I can see that the CustomAuthenicationProvider is not in the list of providers used to authenticate the incoming request.\r\n\r\n\tpackage no.bluebit.demo;\r\n\t\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n\timport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n\timport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\timport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\t\r\n\t@Configuration\r\n\t@EnableWebSecurity\r\n\t@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n\tpublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\t\t@Autowired\r\n\t\tprivate CustomAuthenticationProvider customAuthenticationProvider;\r\n\t\r\n\t\t@Override\r\n\t\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\tauth\r\n\t\t\t\t.authenticationProvider(this.customAuthenticationProvider);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t\t.antMatchers(&quot;/api/users/login&quot;).permitAll()    // Permit access for all to login REST service\r\n\t\t\t\t\t.antMatchers(&quot;/&quot;).permitAll()\t\t\t\t    // Neccessary to permit access to default document\r\n\t\t\t\t.anyRequest().authenticated().and()\t\t\t\t    // All other requests require authentication\r\n\t\t\t\t.httpBasic().and()\r\n\t\t\t\t.logout().and()\r\n\t\t\t\t.csrf().disable();\r\n\t\t}\r\n\t}\r\n\r\nWhy is this not working?\r\n\r\n  [1]: https://github.com/habakke/spring-boot-auth-demo","title":"Spring Boot Custom Authentication Provider with Java Configuration not working","body":"<p>I am trying to setup a REST based web application, where the frontend is using Reactjs and the backend is using Spring Boot. I am also trying to setup a custom authentication provider, and this is where my problems start. When trying to test the login API call, the CustomAuthenticationProvider is never called, and instead the default DaoAuthenticationProvider is used. This causes the login to report \"Bad credentials\".</p>\n\n<p>I have upload a small sample application to github: <a href=\"https://github.com/habakke/spring-boot-auth-demo\" rel=\"noreferrer\">spring-boot-auth-demo</a></p>\n\n<p>To test the login API I use the following curl:</p>\n\n<pre><code>curl -H \"Content-Type: application/json\" -X POST -d '{\"username\":\"admin\",\"password\":\"admin\"}' http://localhost:8080/api/users/login\n</code></pre>\n\n<p>The CustomAuthenticationProvider does a simple username/password check and returns an UsernamePasswordAuthenicationToken object.</p>\n\n<pre><code>package no.bluebit.demo;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.stereotype.Component;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\nprivate static final Logger logger =     LoggerFactory.getLogger(CustomAuthenticationProvider.class);\n\npublic CustomAuthenticationProvider() {\n    logger.info(\"*** CustomAuthenticationProvider created\");\n}\n\n@Override\npublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n    if(authentication.getName().equals(\"admin\")  &amp;&amp; authentication.getCredentials().equals(\"admin\")) {\n        List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\n        grantedAuths.add(new SimpleGrantedAuthority(\"ROLE_USER\"));\n        grantedAuths.add(new SimpleGrantedAuthority(\"ROLE_ADMIN\"));\n        return new UsernamePasswordAuthenticationToken(authentication.getName(), authentication.getCredentials(), grantedAuths);\n    } else {\n        return null;\n    }\n\n}\n\n@Override\npublic boolean supports(Class&lt;?&gt; authentication) {\n    return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n}\n\n}\n</code></pre>\n\n<p>The CustomAuthenticationProvider is wired up using the SecurityConfiguration class. When stepping through the code, I can see that the CustomAuthenicationProvider is not in the list of providers used to authenticate the incoming request.</p>\n\n<pre><code>package no.bluebit.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    @Autowired\n    private CustomAuthenticationProvider customAuthenticationProvider;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .authenticationProvider(this.customAuthenticationProvider);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n                .antMatchers(\"/api/users/login\").permitAll()    // Permit access for all to login REST service\n                .antMatchers(\"/\").permitAll()                   // Neccessary to permit access to default document\n            .anyRequest().authenticated().and()                 // All other requests require authentication\n            .httpBasic().and()\n            .logout().and()\n            .csrf().disable();\n    }\n}\n</code></pre>\n\n<p>Why is this not working?</p>\n"},{"tags":["java","spring","rest","spring-security","backend"],"comments":[{"owner":{"account_id":4042366,"reputation":300,"user_id":3324794,"display_name":"Reveson"},"score":1,"creation_date":1702032551,"post_id":77625893,"comment_id":136850726,"body_markdown":"Isn&#39;t this problem related to CORS? Please try turning it off and see if the problem persists. If so, reconfigure it to your needs.","body":"Isn&#39;t this problem related to CORS? Please try turning it off and see if the problem persists. If so, reconfigure it to your needs."},{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":0,"creation_date":1702036426,"post_id":77625893,"comment_id":136851343,"body_markdown":"If it isn&#39;t CORS, it could be related to HTTP response caching, look here: https://stackoverflow.com/questions/31412918/spring-security-no-way-to-avoid-cache-control/36459244#36459244","body":"If it isn&#39;t CORS, it could be related to HTTP response caching, look here: <a href=\"https://stackoverflow.com/questions/31412918/spring-security-no-way-to-avoid-cache-control/36459244#36459244\" title=\"spring security no way to avoid cache control\">stackoverflow.com/questions/31412918/&hellip;</a>"},{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":0,"creation_date":1702069465,"post_id":77625893,"comment_id":136856487,"body_markdown":"@AP11 , look at my question one more time, please, there are some updates","body":"@AP11 , look at my question one more time, please, there are some updates"},{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":0,"creation_date":1702069621,"post_id":77625893,"comment_id":136856505,"body_markdown":"@Reveson, disabling cors didn&#39;t help","body":"@Reveson, disabling cors didn&#39;t help"},{"owner":{"account_id":4042366,"reputation":300,"user_id":3324794,"display_name":"Reveson"},"score":1,"creation_date":1702107319,"post_id":77625893,"comment_id":136858968,"body_markdown":"What exact HTTP code and response are you getting from the request in Postman? Also what version of Spring Boot are you using?","body":"What exact HTTP code and response are you getting from the request in Postman? Also what version of Spring Boot are you using?"},{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":1,"creation_date":1702108986,"post_id":77625893,"comment_id":136859079,"body_markdown":"@Reveson id(&quot;org.springframework.boot&quot;) version &quot;3.2.0&quot;, postman error added to question (UPD2)","body":"@Reveson id(&quot;org.springframework.boot&quot;) version &quot;3.2.0&quot;, postman error added to question (UPD2)"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1702113423,"post_id":77625893,"comment_id":136859419,"body_markdown":"First of all, read the spring docs CORS chapter on how to configure CORS, because you are all wrong. Second of all, its called FORM login, you should send username and password as FORM parameters, so why are you sending them as QUERY parameters? Third, learn how to enable DEBUG logs and learn how to read your logs. We get about 3 questions a day about CORS because people dont seem to even bother reading the docs before asking here. Please motivate why you havnt read the docs before asking here?","body":"First of all, read the spring docs CORS chapter on how to configure CORS, because you are all wrong. Second of all, its called FORM login, you should send username and password as FORM parameters, so why are you sending them as QUERY parameters? Third, learn how to enable DEBUG logs and learn how to read your logs. We get about 3 questions a day about CORS because people dont seem to even bother reading the docs before asking here. Please motivate why you havnt read the docs before asking here?"},{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":0,"creation_date":1702126475,"post_id":77625893,"comment_id":136860374,"body_markdown":"@Toerktumlare why do I have to read docs about cors if I don&#39;t have cors in my project at all? My backend and frontend are deployed with docker and nginx, which should just redirect requests and doesn&#39;t require cors usage","body":"@Toerktumlare why do I have to read docs about cors if I don&#39;t have cors in my project at all? My backend and frontend are deployed with docker and nginx, which should just redirect requests and doesn&#39;t require cors usage"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1702134429,"post_id":77625893,"comment_id":136861074,"body_markdown":"Cors is enable by default, and i have no idea if you need to configure it or not since you have not disclosed enough information for me to be able to tell you if you need to configure it or not. If you are using docker is irrelevant. And if nginx affects things i cant tell since once again you have provided litterally no information at all. Your entire question contains not a single word about nginx. We are not mind readers.","body":"Cors is enable by default, and i have no idea if you need to configure it or not since you have not disclosed enough information for me to be able to tell you if you need to configure it or not. If you are using docker is irrelevant. And if nginx affects things i cant tell since once again you have provided litterally no information at all. Your entire question contains not a single word about nginx. We are not mind readers."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702134508,"post_id":77625893,"comment_id":136861080,"body_markdown":"Once again, why dont you read documentation?","body":"Once again, why dont you read documentation?"},{"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"score":0,"creation_date":1702136204,"post_id":77625893,"comment_id":136861246,"body_markdown":"@Toerktumlare what docs I didn&#39;t read? Btw, my question was solved, I just reinitialized project. Maybe, some of my past actions caused some irreversible changes","body":"@Toerktumlare what docs I didn&#39;t read? Btw, my question was solved, I just reinitialized project. Maybe, some of my past actions caused some irreversible changes"}],"owner":{"account_id":25734598,"reputation":11,"user_id":19489599,"display_name":"MC_Vovi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702120315,"answer_count":0,"score":-3,"last_activity_date":1702108949,"creation_date":1702031031,"question_id":77625893,"body_markdown":"Got a spring backend application. It doesn&#39;t handle requests. I got single controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/login&quot;)\r\npublic class LoginContoller {\r\n    @PostMapping(produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; handleLoginRequest(@RequestBody UserDTO req) {\r\n        return ResponseEntity.ok(&quot;Authentication successful: &quot; + req.getLogin() + &quot; &quot; + req.getPassword());\r\n    }\r\n}\r\n```\r\nI tried to make security config handler all requests:\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorizeRequests -&gt;\r\n                        authorizeRequests\r\n                                .anyRequest().permitAll() // Allow all access\r\n                )\r\n                .formLogin(withDefaults()); // Use default login form\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\r\n        UserDetails user = User.builder()\r\n                .username(&quot;user&quot;)\r\n                .password(passwordEncoder.encode(&quot;password&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\nHowever, when I try to access app with postman like this\r\n[![enter image description here][1]][1]\r\n\r\nI got \r\n```\r\nWARN 1 --- [backend] [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to &#39;/api/login&#39; (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE\r\n```\r\nI am sure that I try to access correct url. Help me, please.\r\n\r\nUPD: added config to be sure that cors is disabled:\r\n```\r\n@Component\r\npublic class CorsConfig extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\r\n                                    final FilterChain filterChain) throws ServletException, IOException {\r\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, PATCH, HEAD&quot;);\r\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers&quot;);\r\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials&quot;);\r\n        response.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        response.addIntHeader(&quot;Access-Control-Max-Age&quot;, 10);\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\nChanged rest controller (tried to set header manually):\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/login&quot;)\r\npublic class LoginContoller {\r\n    @PostMapping(produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; handleLoginRequest(@RequestBody UserDTO req) {\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        responseHeaders.set(&quot;Cache-Control&quot;, &quot;no-transform, public, max-age=86400&quot;);\r\n        return ResponseEntity.ok()\r\n                .headers(responseHeaders)\r\n                .body(&quot;Authentication successful: &quot; + req.getLogin() + &quot; &quot; + req.getPassword());\r\n    }\r\n}\r\n```\r\nNothing changed, got same error\r\n\r\nUPD2: \r\n[![here is my postman error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VjbXQ.png\r\n  [2]: https://i.stack.imgur.com/2r8O8.png","title":"Spring rest controller configuration","body":"<p>Got a spring backend application. It doesn't handle requests. I got single controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/login&quot;)\npublic class LoginContoller {\n    @PostMapping(produces = MediaType.TEXT_PLAIN_VALUE)\n    public ResponseEntity&lt;String&gt; handleLoginRequest(@RequestBody UserDTO req) {\n        return ResponseEntity.ok(&quot;Authentication successful: &quot; + req.getLogin() + &quot; &quot; + req.getPassword());\n    }\n}\n</code></pre>\n<p>I tried to make security config handler all requests:</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorizeRequests -&gt;\n                        authorizeRequests\n                                .anyRequest().permitAll() // Allow all access\n                )\n                .formLogin(withDefaults()); // Use default login form\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\n        UserDetails user = User.builder()\n                .username(&quot;user&quot;)\n                .password(passwordEncoder.encode(&quot;password&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>However, when I try to access app with postman like this\n<a href=\"https://i.stack.imgur.com/VjbXQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VjbXQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I got</p>\n<pre><code>WARN 1 --- [backend] [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/login' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE\n</code></pre>\n<p>I am sure that I try to access correct url. Help me, please.</p>\n<p>UPD: added config to be sure that cors is disabled:</p>\n<pre><code>@Component\npublic class CorsConfig extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\n                                    final FilterChain filterChain) throws ServletException, IOException {\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, PATCH, HEAD&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers&quot;);\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.addIntHeader(&quot;Access-Control-Max-Age&quot;, 10);\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Changed rest controller (tried to set header manually):</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/login&quot;)\npublic class LoginContoller {\n    @PostMapping(produces = MediaType.TEXT_PLAIN_VALUE)\n    public ResponseEntity&lt;String&gt; handleLoginRequest(@RequestBody UserDTO req) {\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.set(&quot;Cache-Control&quot;, &quot;no-transform, public, max-age=86400&quot;);\n        return ResponseEntity.ok()\n                .headers(responseHeaders)\n                .body(&quot;Authentication successful: &quot; + req.getLogin() + &quot; &quot; + req.getPassword());\n    }\n}\n</code></pre>\n<p>Nothing changed, got same error</p>\n<p>UPD2:\n<a href=\"https://i.stack.imgur.com/2r8O8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2r8O8.png\" alt=\"here is my postman error\" /></a></p>\n"},{"tags":["java","nlp","slf4j","opennlp"],"answers":[{"tags":[],"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702108034,"creation_date":1702108034,"answer_id":77630535,"question_id":77615264,"body_markdown":"You found a bug. Congratulation! I created [OPENNLP-1527][1] for it.\r\n\r\nMeanwhile, you can override the content of the opennlp.bat file with\r\n\r\n    @ECHO off\r\n    \r\n    REM #   Licensed to the Apache Software Foundation (ASF) under one\r\n    REM #   or more contributor license agreements.  See the NOTICE file\r\n    REM #   distributed with this work for additional information\r\n    REM #   regarding copyright ownership.  The ASF licenses this file\r\n    REM #   to you under the Apache License, Version 2.0 (the\r\n    REM #   &quot;License&quot;); you may not use this file except in compliance\r\n    REM #   with the License.  You may obtain a copy of the License at\r\n    REM #\r\n    REM #    http://www.apache.org/licenses/LICENSE-2.0\r\n    REM #\r\n    REM #   Unless required by applicable law or agreed to in writing,\r\n    REM #   software distributed under the License is distributed on an\r\n    REM #   #  &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    REM #   KIND, either express or implied.  See the License for the\r\n    REM #   specific language governing permissions and limitations\r\n    REM #   under the License.\r\n    \r\n    REM # Note:  Do not output anything in this script file, any output\r\n    REM #        may be inadvertantly placed in any output files if\r\n    REM #        output redirection is used.\r\n    SETLOCAL\r\n    \r\n    IF &quot;%JAVA_CMD%&quot; == &quot;&quot; (\r\n    \tIF &quot;%JAVA_HOME%&quot; == &quot;&quot; (\r\n    \t\tSET JAVA_CMD=java \r\n    \t) ELSE (\r\n    \t\tREM # Keep JAVA_HOME to short-name without spaces\r\n    \t\tFOR %%A IN (&quot;%JAVA_HOME%&quot;) DO SET JAVA_CMD=%%~sfA\\bin\\java\r\n    \t)\r\n    )\r\n    \r\n    REM remove HEAP variable\r\n    SET HEAP=\r\n    IF not &quot;%JAVA_HEAP%&quot; == &quot;&quot; (\r\n    \tSET HEAP=&quot;-Xmx%JAVA_HEAP%&quot;\r\n    )\r\n    \r\n    REM #  Should work with Windows XP and greater.  If not, specify the path to where it is installed.\r\n    IF &quot;%OPENNLP_HOME%&quot; == &quot;&quot; (\r\n    \tSET OPENNLP_HOME=%~sp0..\r\n    ) ELSE (\r\n    \tREM # Keep OPENNLP_HOME to short-name without spaces\r\n    \tFOR %%A IN (&quot;%OPENNLP_HOME%&quot;) DO SET OPENNLP_HOME=%%~sfA\r\n    )\r\n    \r\n    echo Environment\r\n    echo JAVA_HOME=%JAVA_HOME%\r\n    echo OPENNLP_HOME=%OPENNLP_HOME% \r\n    \r\n    REM Add lib directory to the classpath\r\n    SET CLASSPATH=&quot;%OPENNLP_HOME%\\lib\\*&quot;\r\n    \r\n    echo CLASSPATH=%CLASSPATH%\r\n    \r\n    %JAVA_CMD% %HEAP% &quot;-Dlog4j.configurationFile=%OPENNLP_HOME%\\conf\\log4j2.xml&quot; -cp %CLASSPATH% opennlp.tools.cmdline.CLI %*\r\n    \r\n    ENDLOCAL\r\n\r\nThis will correctly append the classes contained in the lib folder to the classpath and the cli will work as expected.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/OPENNLP-1527","title":"Why does OpenNLP CLI output &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot; on Windows?","body":"<p>You found a bug. Congratulation! I created <a href=\"https://issues.apache.org/jira/browse/OPENNLP-1527\" rel=\"nofollow noreferrer\">OPENNLP-1527</a> for it.</p>\n<p>Meanwhile, you can override the content of the opennlp.bat file with</p>\n<pre><code>@ECHO off\n\nREM #   Licensed to the Apache Software Foundation (ASF) under one\nREM #   or more contributor license agreements.  See the NOTICE file\nREM #   distributed with this work for additional information\nREM #   regarding copyright ownership.  The ASF licenses this file\nREM #   to you under the Apache License, Version 2.0 (the\nREM #   &quot;License&quot;); you may not use this file except in compliance\nREM #   with the License.  You may obtain a copy of the License at\nREM #\nREM #    http://www.apache.org/licenses/LICENSE-2.0\nREM #\nREM #   Unless required by applicable law or agreed to in writing,\nREM #   software distributed under the License is distributed on an\nREM #   #  &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nREM #   KIND, either express or implied.  See the License for the\nREM #   specific language governing permissions and limitations\nREM #   under the License.\n\nREM # Note:  Do not output anything in this script file, any output\nREM #        may be inadvertantly placed in any output files if\nREM #        output redirection is used.\nSETLOCAL\n\nIF &quot;%JAVA_CMD%&quot; == &quot;&quot; (\n    IF &quot;%JAVA_HOME%&quot; == &quot;&quot; (\n        SET JAVA_CMD=java \n    ) ELSE (\n        REM # Keep JAVA_HOME to short-name without spaces\n        FOR %%A IN (&quot;%JAVA_HOME%&quot;) DO SET JAVA_CMD=%%~sfA\\bin\\java\n    )\n)\n\nREM remove HEAP variable\nSET HEAP=\nIF not &quot;%JAVA_HEAP%&quot; == &quot;&quot; (\n    SET HEAP=&quot;-Xmx%JAVA_HEAP%&quot;\n)\n\nREM #  Should work with Windows XP and greater.  If not, specify the path to where it is installed.\nIF &quot;%OPENNLP_HOME%&quot; == &quot;&quot; (\n    SET OPENNLP_HOME=%~sp0..\n) ELSE (\n    REM # Keep OPENNLP_HOME to short-name without spaces\n    FOR %%A IN (&quot;%OPENNLP_HOME%&quot;) DO SET OPENNLP_HOME=%%~sfA\n)\n\necho Environment\necho JAVA_HOME=%JAVA_HOME%\necho OPENNLP_HOME=%OPENNLP_HOME% \n\nREM Add lib directory to the classpath\nSET CLASSPATH=&quot;%OPENNLP_HOME%\\lib\\*&quot;\n\necho CLASSPATH=%CLASSPATH%\n\n%JAVA_CMD% %HEAP% &quot;-Dlog4j.configurationFile=%OPENNLP_HOME%\\conf\\log4j2.xml&quot; -cp %CLASSPATH% opennlp.tools.cmdline.CLI %*\n\nENDLOCAL\n</code></pre>\n<p>This will correctly append the classes contained in the lib folder to the classpath and the cli will work as expected.</p>\n"}],"owner":{"account_id":8880624,"reputation":419,"user_id":6630892,"accept_rate":83,"display_name":"MTB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77630535,"answer_count":1,"score":0,"last_activity_date":1702108034,"creation_date":1701884837,"question_id":77615264,"body_markdown":"Based on Apache OpenNLP documentation, I downloaded binary version of OpenNLP, then set JAVA_HOME and OPENNLP_HOME. When I run opennlp command it faced to below exception:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\n\r\nI used windows operating system and tried this command on different systems with different versions of Java, but always this exception is shown. It is too odd, because I&#39;ve searched and no one faced this issued before.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IST5I.png","title":"Why does OpenNLP CLI output &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot; on Windows?","body":"<p>Based on Apache OpenNLP documentation, I downloaded binary version of OpenNLP, then set JAVA_HOME and OPENNLP_HOME. When I run opennlp command it faced to below exception:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n</code></pre>\n<p>I used windows operating system and tried this command on different systems with different versions of Java, but always this exception is shown. It is too odd, because I've searched and no one faced this issued before.</p>\n<p><a href=\"https://i.stack.imgur.com/IST5I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IST5I.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","nlp","opennlp"],"answers":[{"tags":[],"owner":{"account_id":2500104,"reputation":21,"user_id":2175467,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686580521,"creation_date":1686580208,"answer_id":76457664,"question_id":76427524,"body_markdown":"I decided to tackle it this way.  whatever limited knowledge I have seems to be no limitation here.\r\n\r\nI was using POSSample as my object which stores tags and tokens together, i created a different object like POSSample which stores in a hashmap the same tags, tokens, but also expandable to whatever other data i want to put in there like lems, custom tags, etc...\r\n\r\n    public class TaggedSentence {\r\n    \tprivate String sentence;\r\n    \tprivate HashMap&lt;TagTypes, List&lt;String&gt;&gt; tagHash = new HashMap&lt;TagTypes, List&lt;String&gt;&gt;();\r\n    }\r\n\r\nmy tag types i use as the hash key is just an enum with values i can use for bitwise operations... so i can easily flag when i want or don&#39;t want these extra tags to be scanned for and populated in my sentence tagger\r\n\r\n    public enum TagTypes {\r\n    \tTOKENS(0B001),\r\n    \tTAGS(0B010),\r\n    \tLEMS(0B100);\r\n        // expand this list later as i need\r\n    \t\r\n    \t/**\r\n    \t * Values are set for bitwise operator checks\r\n    \t */\r\n        public final int value;\r\n    \r\n        private TagTypes(int value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\nso doing this way, normally LEMS for instance would not get populated unless my method specified:\r\n\r\n    // only populate my object with tokens\r\n    TaggedSentence pos = nlpService.tokenizeSentence(sentence);\r\n\r\n    // populate my object with tokens, tags (since lems requires tags), and lems \r\n    TaggedSentence pos = nlpService.tokenizeSentence(sentence, TagTypes.LEMS.value);\r\n\r\n    // populate my object with lems and any other random tagtype category I add to my enum to scan for later\r\n    TaggedSentence pos = nlpService.tokenizeSentence(sentence, TagTypes.LEMS.value | TagTypes.SOMEOTHERTYPE.value);\r\n\r\n","title":"How to assign multiple tags to a token using OpenNLP?","body":"<p>I decided to tackle it this way.  whatever limited knowledge I have seems to be no limitation here.</p>\n<p>I was using POSSample as my object which stores tags and tokens together, i created a different object like POSSample which stores in a hashmap the same tags, tokens, but also expandable to whatever other data i want to put in there like lems, custom tags, etc...</p>\n<pre><code>public class TaggedSentence {\n    private String sentence;\n    private HashMap&lt;TagTypes, List&lt;String&gt;&gt; tagHash = new HashMap&lt;TagTypes, List&lt;String&gt;&gt;();\n}\n</code></pre>\n<p>my tag types i use as the hash key is just an enum with values i can use for bitwise operations... so i can easily flag when i want or don't want these extra tags to be scanned for and populated in my sentence tagger</p>\n<pre><code>public enum TagTypes {\n    TOKENS(0B001),\n    TAGS(0B010),\n    LEMS(0B100);\n    // expand this list later as i need\n    \n    /**\n     * Values are set for bitwise operator checks\n     */\n    public final int value;\n\n    private TagTypes(int value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<p>so doing this way, normally LEMS for instance would not get populated unless my method specified:</p>\n<pre><code>// only populate my object with tokens\nTaggedSentence pos = nlpService.tokenizeSentence(sentence);\n\n// populate my object with tokens, tags (since lems requires tags), and lems \nTaggedSentence pos = nlpService.tokenizeSentence(sentence, TagTypes.LEMS.value);\n\n// populate my object with lems and any other random tagtype category I add to my enum to scan for later\nTaggedSentence pos = nlpService.tokenizeSentence(sentence, TagTypes.LEMS.value | TagTypes.SOMEOTHERTYPE.value);\n</code></pre>\n"}],"owner":{"account_id":2500104,"reputation":21,"user_id":2175467,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702106910,"creation_date":1686177759,"question_id":76427524,"body_markdown":"I&#39;m using OpenNLP and it works fine for detecting parts of speech and such when doing this:\r\n\r\n```\r\ntry (InputStream modelIn = new FileInputStream(&quot;en-pos-maxent.bin&quot;){\r\n  POSModel model = new POSModel(modelIn);\r\n  POSTaggerME tagger = new POSTaggerME(model);\r\n  String tags[] = tagger.tag(tokenList);\r\n}\r\n```\r\n\r\nso if tokens = \\[Test, Recipe, of, Incredible, Goodness, .\\]\r\nthen tags    = \\[ADJ, NOUN, ADP, ADJ, NOUN, PUNCT\\]\r\n\r\ncan I further add even more tags than just those defined as parts of speech?   what if I want to add a tag for short words, products, food, etc...\r\n\r\nwould i need to add a custom POS model with my definitions, run it in addition to the english POS model, and just have additional tag arrays for each POS model that I run the sentence through??  \r\n\r\nI have tried what I described, defining my own model and running it so that I have multiple arrays.   I was just wondering if there was some other way to do this that might be better than what I tried.","title":"How to assign multiple tags to a token using OpenNLP?","body":"<p>I'm using OpenNLP and it works fine for detecting parts of speech and such when doing this:</p>\n<pre><code>try (InputStream modelIn = new FileInputStream(&quot;en-pos-maxent.bin&quot;){\n  POSModel model = new POSModel(modelIn);\n  POSTaggerME tagger = new POSTaggerME(model);\n  String tags[] = tagger.tag(tokenList);\n}\n</code></pre>\n<p>so if tokens = [Test, Recipe, of, Incredible, Goodness, .]\nthen tags    = [ADJ, NOUN, ADP, ADJ, NOUN, PUNCT]</p>\n<p>can I further add even more tags than just those defined as parts of speech?   what if I want to add a tag for short words, products, food, etc...</p>\n<p>would i need to add a custom POS model with my definitions, run it in addition to the english POS model, and just have additional tag arrays for each POS model that I run the sentence through??</p>\n<p>I have tried what I described, defining my own model and running it so that I have multiple arrays.   I was just wondering if there was some other way to do this that might be better than what I tried.</p>\n"},{"tags":["java","nlp","stanford-nlp","opennlp","lemmatization"],"comments":[{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1702105662,"post_id":77598900,"comment_id":136858873,"body_markdown":"Did you check or try: https://github.com/mawiesne/DE-Lemma ?","body":"Did you check or try: <a href=\"https://github.com/mawiesne/DE-Lemma\" rel=\"nofollow noreferrer\">github.com/mawiesne/DE-Lemma</a> ?"}],"owner":{"account_id":30061713,"reputation":1,"user_id":23037690,"display_name":"kiwi-123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702121568,"answer_count":0,"score":0,"last_activity_date":1702106770,"creation_date":1701687634,"question_id":77598900,"body_markdown":"I am trying to do lemmatization in German in Java and just can&#39;t find any library. I might just be dumb about this, but I&#39;ve spent some time on this now and would appreciate help.\r\n\r\n\r\nHere&#39;s what I tried:\r\n\r\nStanford NLP doesn&#39;t support German lemmatization, if I add the dependency\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.opennlp&lt;/groupId&gt;\r\n   &lt;artifactId&gt;opennlp-tools&lt;/artifactId&gt;\r\n   &lt;version&gt;2.3.1&lt;/version&gt; &lt;!-- Check for the latest version on Maven Central --&gt;\r\n&lt;/dependency&gt;\r\n```\r\nto my pom the code doesn&#39;t find the import\r\n```\r\nimport opennlp.tools.lemmatizer.DictionaryLemmatizer;\r\n```\r\nwhich, following the documentation (https://opennlp.apache.org/docs/2.3.1/apidocs/opennlp-tools/opennlp/tools/lemmatizer/DictionaryLemmatizer.html) should exist. I&#39;ve also tried LanguageTools (https://dev.languagetool.org/java-api.html) by following their website and adding the dependency\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.languagetool&lt;/groupId&gt;\r\n   &lt;artifactId&gt;language-en&lt;/artifactId&gt;\r\n   &lt;version&gt;6.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nbut then when I try to do this\r\n```\r\nJLanguageTool langTool = new JLanguageTool(Languages.getLanguageForShortCode(&lt;language-code&gt;));\r\n```\r\nJava doesn&#39;t find the library, I try to search it on the web in eclipse but it can&#39;t find it. \r\nSoo I start to be out of ideas here. Which frustrates me because I am certainly not the only person wanting to do lemmatization and I am sure that there are solutions to this, I am just feeling a bit dumb here. So any help is highly appreciated!!!\r\n","title":"Lemmatization in Java for German","body":"<p>I am trying to do lemmatization in German in Java and just can't find any library. I might just be dumb about this, but I've spent some time on this now and would appreciate help.</p>\n<p>Here's what I tried:</p>\n<p>Stanford NLP doesn't support German lemmatization, if I add the dependency</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.opennlp&lt;/groupId&gt;\n   &lt;artifactId&gt;opennlp-tools&lt;/artifactId&gt;\n   &lt;version&gt;2.3.1&lt;/version&gt; &lt;!-- Check for the latest version on Maven Central --&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to my pom the code doesn't find the import</p>\n<pre><code>import opennlp.tools.lemmatizer.DictionaryLemmatizer;\n</code></pre>\n<p>which, following the documentation (<a href=\"https://opennlp.apache.org/docs/2.3.1/apidocs/opennlp-tools/opennlp/tools/lemmatizer/DictionaryLemmatizer.html\" rel=\"nofollow noreferrer\">https://opennlp.apache.org/docs/2.3.1/apidocs/opennlp-tools/opennlp/tools/lemmatizer/DictionaryLemmatizer.html</a>) should exist. I've also tried LanguageTools (<a href=\"https://dev.languagetool.org/java-api.html\" rel=\"nofollow noreferrer\">https://dev.languagetool.org/java-api.html</a>) by following their website and adding the dependency</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.languagetool&lt;/groupId&gt;\n   &lt;artifactId&gt;language-en&lt;/artifactId&gt;\n   &lt;version&gt;6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but then when I try to do this</p>\n<pre><code>JLanguageTool langTool = new JLanguageTool(Languages.getLanguageForShortCode(&lt;language-code&gt;));\n</code></pre>\n<p>Java doesn't find the library, I try to search it on the web in eclipse but it can't find it.\nSoo I start to be out of ideas here. Which frustrates me because I am certainly not the only person wanting to do lemmatization and I am sure that there are solutions to this, I am just feeling a bit dumb here. So any help is highly appreciated!!!</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702050703,"creation_date":1702050703,"answer_id":77627755,"question_id":77627570,"body_markdown":"Its not going to be simple so to speak.\r\n\r\nIn a high concurrency system with async writes you might need both the flag as well as to use pessimistic locking.  The way you have it now its certainly possible that someone else is reading the row while you are in the process of writing the locked value.  That being the case you will want some version of pessimistic reading/writing around your db transaction specifically around the setting of the row flag.","title":"A simple way of telling the frontend whether or not an Entity is finished updating?","body":"<p>Its not going to be simple so to speak.</p>\n<p>In a high concurrency system with async writes you might need both the flag as well as to use pessimistic locking.  The way you have it now its certainly possible that someone else is reading the row while you are in the process of writing the locked value.  That being the case you will want some version of pessimistic reading/writing around your db transaction specifically around the setting of the row flag.</p>\n"},{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702103581,"creation_date":1702103101,"answer_id":77630354,"question_id":77627570,"body_markdown":" `repo.save()` returns null if unsuccessful and not null if successful. Seems you are trying to save in both function instead in only one. Try the following snippet\r\n\r\n    public void lockDocument (Document document){\r\n     try {\r\n       document.setLocked(true);\r\n       document = documentRepo.save(document);\r\n       if(document != null) {\r\n         document.setLocked(false);\r\n       }\r\n     } catch(Exception e) {\r\n        document.setLocked(false);\r\n        e.printStackTrace();\r\n     }\r\n    }","title":"A simple way of telling the frontend whether or not an Entity is finished updating?","body":"<p><code>repo.save()</code> returns null if unsuccessful and not null if successful. Seems you are trying to save in both function instead in only one. Try the following snippet</p>\n<pre><code>public void lockDocument (Document document){\n try {\n   document.setLocked(true);\n   document = documentRepo.save(document);\n   if(document != null) {\n     document.setLocked(false);\n   }\n } catch(Exception e) {\n    document.setLocked(false);\n    e.printStackTrace();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":26341114,"reputation":43,"user_id":20000194,"display_name":"random55645"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702103581,"creation_date":1702048776,"question_id":77627570,"body_markdown":"I have an API that updates an entity (called Document) inside a SQL database. This update can sometimes take a few minutes. I also have an Angular Frontend that lets the user select a document and edit it. I want to stop the user from selecting a Document that is still in the process of updating. If the user can’t select the document from the frontend, it is impossible to update the document.\r\n\r\nIn order to accomplish this goal, I added a column called locked in the document to table to indicate whether a document should be selectable. (If locked is true, the frontend will stop the user from selecting the document.) Before running the async method to update the document, I set locked to true. The async method will then set locked equal to false when it is done updating the document. If something goes wrong inside the async method, I will also set locked back to false.\r\n\r\nHere is the code:\r\n\r\nDocumentAPI:\r\n\r\n    @PostMapping(&quot;/updateDocument&quot;)\r\n    public ResponseEntity&lt;Document&gt; updateDocument(@RequestBody Document document) {\r\n    \tthis.documentService.lockDocument(document);\r\n    \tthis.documentService.updateDocumentAsync(document);\r\n    \treturn new ResponseEntity&lt;&gt;(new Document(),HttpStatus.OK);\r\n    }\r\n\r\nDocumentService:\r\n\r\n    @Transactional\r\n    @Async\r\n    public void updateDocumentAsync(Document document){\r\n    \ttry{\r\n    \t\t//a bunch of computation\r\n    \t\tdocument.setLocked(false);\r\n    \t\tdocumentRepo.save(document);\r\n    \t}\r\n    \tcatch(Exception e){\r\n    \t\tdocument.setLocked(false);\r\n    \t\tdocumentRepo.save(document);\r\n    \t}\r\n    }\r\n    \r\n    public void lockDocument (Document document){\r\n    \tdocument.setLocked(true);\r\n    \tdocumentRepo.save(document);\r\n    \r\n    }\r\n\r\nIs this approach suitable enough for my needs (making sure the user can’t select the document on the frontend), or should I use the Pessimistic/Optimistic locking mechanisms supported by the Spring JPA?\r\n\r\n","title":"A simple way of telling the frontend whether or not an Entity is finished updating?","body":"<p>I have an API that updates an entity (called Document) inside a SQL database. This update can sometimes take a few minutes. I also have an Angular Frontend that lets the user select a document and edit it. I want to stop the user from selecting a Document that is still in the process of updating. If the user can’t select the document from the frontend, it is impossible to update the document.</p>\n<p>In order to accomplish this goal, I added a column called locked in the document to table to indicate whether a document should be selectable. (If locked is true, the frontend will stop the user from selecting the document.) Before running the async method to update the document, I set locked to true. The async method will then set locked equal to false when it is done updating the document. If something goes wrong inside the async method, I will also set locked back to false.</p>\n<p>Here is the code:</p>\n<p>DocumentAPI:</p>\n<pre><code>@PostMapping(&quot;/updateDocument&quot;)\npublic ResponseEntity&lt;Document&gt; updateDocument(@RequestBody Document document) {\n    this.documentService.lockDocument(document);\n    this.documentService.updateDocumentAsync(document);\n    return new ResponseEntity&lt;&gt;(new Document(),HttpStatus.OK);\n}\n</code></pre>\n<p>DocumentService:</p>\n<pre><code>@Transactional\n@Async\npublic void updateDocumentAsync(Document document){\n    try{\n        //a bunch of computation\n        document.setLocked(false);\n        documentRepo.save(document);\n    }\n    catch(Exception e){\n        document.setLocked(false);\n        documentRepo.save(document);\n    }\n}\n\npublic void lockDocument (Document document){\n    document.setLocked(true);\n    documentRepo.save(document);\n\n}\n</code></pre>\n<p>Is this approach suitable enough for my needs (making sure the user can’t select the document on the frontend), or should I use the Pessimistic/Optimistic locking mechanisms supported by the Spring JPA?</p>\n"},{"tags":["java","apache-spark","parquet"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1702103267,"post_id":77623758,"comment_id":136858746,"body_markdown":"You&#39;d need to read existing files, then do some compare the existing data to what you&#39;re about to write. Maybe use SparkSQL joins. HDFS doesn&#39;t compare files on its own","body":"You&#39;d need to read existing files, then do some compare the existing data to what you&#39;re about to write. Maybe use SparkSQL joins. HDFS doesn&#39;t compare files on its own"}],"owner":{"account_id":2090494,"reputation":1336,"user_id":1860447,"accept_rate":47,"display_name":"user1860447"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702103179,"creation_date":1701996128,"question_id":77623758,"body_markdown":"I am new to java, spark and hdfs\r\nHere is my use case:\r\nI read a log file, select the events that I am interested in and using java spark persist it as parquet in hdfs.\r\nNow if the same log is re-sent, select the events that I am interested in, then how do I ensure that I do not re-write this duplicate data back in the hdfs? What if only a some log messages are duplicate and others are new? As in log file is sent in every 10 hours wether it has rolled over or not, then there will be some new data with pre-existing data. \r\n\r\n","title":"How not to write duplicate data(parquet) to hdfs using java spark","body":"<p>I am new to java, spark and hdfs\nHere is my use case:\nI read a log file, select the events that I am interested in and using java spark persist it as parquet in hdfs.\nNow if the same log is re-sent, select the events that I am interested in, then how do I ensure that I do not re-write this duplicate data back in the hdfs? What if only a some log messages are duplicate and others are new? As in log file is sent in every 10 hours wether it has rolled over or not, then there will be some new data with pre-existing data.</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1702046616,"post_id":77627280,"comment_id":136852973,"body_markdown":"Well, I have not looked into it, but what could be is that the inner loop causes the *n*th element from the left is swapped with the *n*th element from the right, but you are walking over the *whole* array, so the elements are swapped back to their original place – that would be my guess.","body":"Well, I have not looked into it, but what could be is that the inner loop causes the <i>n</i>th element from the left is swapped with the <i>n</i>th element from the right, but you are walking over the <i>whole</i> array, so the elements are swapped back to their original place – that would be my guess."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702049526,"creation_date":1702048240,"answer_id":77627502,"question_id":77627280,"body_markdown":"There are several problems.\r\n- As mentioned in the comments you are replacing swapped values twice, resulting in the same array.\r\n- And you are indexing the columns based on the row index.  This will only work for a square matrix.\r\n\r\nHere is a demo using a `&quot;ragged&quot;` matrix\r\n```\r\nint[][] matrix = {{1,2,3},{1,2,3,4},{1,2},{1,2,3,4,5,6},{1,2,3},{1,2}};\r\nhorizontalReverse(matrix);\r\nfor (int[] row : matrix) {\r\n    System.out.println(Arrays.toString(row));\r\n}\r\n```\r\nprints\r\n```\r\n[1, 2, 3]\r\n[4, 3, 2, 1]\r\n[1, 2]\r\n[6, 5, 4, 3, 2, 1]\r\n[1, 2, 3]\r\n[2, 1]\r\n```\r\nNote that I elmininated `cont` and just used `j` and I changed the inner loop to go to `mat[i].length/2`.\r\n```\r\n\r\npublic static void  horizontalReverse(int[][] mat) {    \r\n    for (int i=1; i&lt;mat.length; i+=2) {\r\n        for (int j=0; j&lt;mat[i].length/2; j++) { \r\n             int matrixHelper = mat[i][j];\r\n             mat [i][j] = mat[i][(mat[i].length -1 )-j];\r\n             mat[i][(mat[i].length -1 )-j] = matrixHelper;\r\n        }\r\n    }\r\n}\r\n```\r\nIn the future, it may help to place print statements at various locations to print selected values.  This is a good way to see if the program is working the way you expect it to.  You may also want to consider using a debugger and set break points to inspect the variables as you step thru the program.  The latter can take some practice if you are not familiar with debuggers.\r\n","title":"Putting an odd row of a matrix in reverse order","body":"<p>There are several problems.</p>\n<ul>\n<li>As mentioned in the comments you are replacing swapped values twice, resulting in the same array.</li>\n<li>And you are indexing the columns based on the row index.  This will only work for a square matrix.</li>\n</ul>\n<p>Here is a demo using a <code>&quot;ragged&quot;</code> matrix</p>\n<pre><code>int[][] matrix = {{1,2,3},{1,2,3,4},{1,2},{1,2,3,4,5,6},{1,2,3},{1,2}};\nhorizontalReverse(matrix);\nfor (int[] row : matrix) {\n    System.out.println(Arrays.toString(row));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[1, 2, 3]\n[4, 3, 2, 1]\n[1, 2]\n[6, 5, 4, 3, 2, 1]\n[1, 2, 3]\n[2, 1]\n</code></pre>\n<p>Note that I elmininated <code>cont</code> and just used <code>j</code> and I changed the inner loop to go to <code>mat[i].length/2</code>.</p>\n<pre><code>\npublic static void  horizontalReverse(int[][] mat) {    \n    for (int i=1; i&lt;mat.length; i+=2) {\n        for (int j=0; j&lt;mat[i].length/2; j++) { \n             int matrixHelper = mat[i][j];\n             mat [i][j] = mat[i][(mat[i].length -1 )-j];\n             mat[i][(mat[i].length -1 )-j] = matrixHelper;\n        }\n    }\n}\n</code></pre>\n<p>In the future, it may help to place print statements at various locations to print selected values.  This is a good way to see if the program is working the way you expect it to.  You may also want to consider using a debugger and set break points to inspect the variables as you step thru the program.  The latter can take some practice if you are not familiar with debuggers.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702102878,"creation_date":1702058031,"answer_id":77628386,"question_id":77627280,"body_markdown":"&gt; _&quot;... The exercise consists of putting the odd rows of a matrix in reverse order. ...&quot;_\r\n\r\nHere is an example.\r\n\r\n```java\r\n&lt;T&gt; void reverseOdd(T[][] a) {\r\n    T t;\r\n    int m, n, x = a.length, y, z;\r\n    for (m = 1; m &lt; x; m++) {\r\n        if (m % 2 == 0) continue;\r\n        for (n = 0, y = a[m].length, z = y / 2; n &lt; z; n++) {\r\n            t = a[m][n];\r\n            a[m][n] = a[m][y - n - 1];\r\n            a[m][y - n - 1] = t;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```none\r\nbefore\r\n[3, 7, 3, 2, 6]\r\n[5, 3, 4, 3, 0]\r\n[9, 8, 5, 0, 2]\r\n[7, 1, 7, 6, 6]\r\n[6, 3, 8, 6, 4]\r\n\r\nafter\r\n[3, 7, 3, 2, 6]\r\n[0, 3, 4, 3, 5]\r\n[9, 8, 5, 0, 2]\r\n[6, 6, 7, 1, 7]\r\n[6, 3, 8, 6, 4]\r\n```","title":"Putting an odd row of a matrix in reverse order","body":"<blockquote>\n<p><em>&quot;... The exercise consists of putting the odd rows of a matrix in reverse order. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; void reverseOdd(T[][] a) {\n    T t;\n    int m, n, x = a.length, y, z;\n    for (m = 1; m &lt; x; m++) {\n        if (m % 2 == 0) continue;\n        for (n = 0, y = a[m].length, z = y / 2; n &lt; z; n++) {\n            t = a[m][n];\n            a[m][n] = a[m][y - n - 1];\n            a[m][y - n - 1] = t;\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>before\n[3, 7, 3, 2, 6]\n[5, 3, 4, 3, 0]\n[9, 8, 5, 0, 2]\n[7, 1, 7, 6, 6]\n[6, 3, 8, 6, 4]\n\nafter\n[3, 7, 3, 2, 6]\n[0, 3, 4, 3, 5]\n[9, 8, 5, 0, 2]\n[6, 6, 7, 1, 7]\n[6, 3, 8, 6, 4]\n</code></pre>\n"}],"owner":{"account_id":30098793,"reputation":1,"user_id":23066448,"display_name":"Aida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702102878,"creation_date":1702045918,"question_id":77627280,"body_markdown":"The exercise consists of putting the odd rows of a matrix in reverse order. I am trying to make the matrix access another equal matrix and take the values ​​from there since modifying them in the matrix to be changed does not give the result I wanted\r\n\r\n\r\nThis is the code  \r\n\r\n```\r\npublic void  horizontalReverse()\r\n    {\r\n        int cont = 0;\r\n        for (int i=1; i&lt;matrix.length; i+=2) \r\n        {\r\n            for (int j=0; j&lt;matrix[i].length; j++) \r\n            { \r\n                 int matrixHelper = matrix[i][j];\r\n                 matrix [i][j] = matrix[i][(matrix.length -1 )-cont];\r\n                 matrix[i][(matrix.length -1 )-cont] = matrixHelper;\r\n                    \r\n                 cont++;               \r\n            }\r\n            cont = 0;\r\n        }\r\n    }\r\n```\r\nWhen I print the matrix the values does not change and I have no idea why","title":"Putting an odd row of a matrix in reverse order","body":"<p>The exercise consists of putting the odd rows of a matrix in reverse order. I am trying to make the matrix access another equal matrix and take the values ​​from there since modifying them in the matrix to be changed does not give the result I wanted</p>\n<p>This is the code</p>\n<pre><code>public void  horizontalReverse()\n    {\n        int cont = 0;\n        for (int i=1; i&lt;matrix.length; i+=2) \n        {\n            for (int j=0; j&lt;matrix[i].length; j++) \n            { \n                 int matrixHelper = matrix[i][j];\n                 matrix [i][j] = matrix[i][(matrix.length -1 )-cont];\n                 matrix[i][(matrix.length -1 )-cont] = matrixHelper;\n                    \n                 cont++;               \n            }\n            cont = 0;\n        }\n    }\n</code></pre>\n<p>When I print the matrix the values does not change and I have no idea why</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":5741398,"reputation":289,"user_id":5933012,"display_name":"NIKHIL MAURYA"},"score":0,"creation_date":1576061859,"post_id":59284215,"comment_id":104774146,"body_markdown":"I think you need to intercept loading of URL and check if scheme is UPI then start the intent yourself. I don&#39;t see any other way a webview would be able to redirect you to a UPI:// scheme it will support HTTP and HTTPS though","body":"I think you need to intercept loading of URL and check if scheme is UPI then start the intent yourself. I don&#39;t see any other way a webview would be able to redirect you to a UPI:// scheme it will support HTTP and HTTPS though"},{"owner":{"account_id":6508016,"reputation":23,"user_id":8083499,"display_name":"Devdatt Gurjar"},"score":0,"creation_date":1576062099,"post_id":59284215,"comment_id":104774266,"body_markdown":"If possible can you give me some example or appreciate you will modified some code so i can go through. I am newbie in android development.","body":"If possible can you give me some example or appreciate you will modified some code so i can go through. I am newbie in android development."},{"owner":{"account_id":5741398,"reputation":289,"user_id":5933012,"display_name":"NIKHIL MAURYA"},"score":0,"creation_date":1576062326,"post_id":59284215,"comment_id":104774397,"body_markdown":"try something like mentioned in this example https://stackoverflow.com/a/53059413/5933012 \nUsing webviewclient to get a handle to `shouldOverrideUrlLoading` where you can check if scheme is UPI and call the Intents to different apps yourself","body":"try something like mentioned in this example <a href=\"https://stackoverflow.com/a/53059413/5933012\">stackoverflow.com/a/53059413/5933012</a>  Using webviewclient to get a handle to <code>shouldOverrideUrlLoading</code> where you can check if scheme is UPI and call the Intents to different apps yourself"},{"owner":{"account_id":11790692,"reputation":649,"user_id":8626932,"display_name":"Gitesh"},"score":0,"creation_date":1576062626,"post_id":59284215,"comment_id":104774572,"body_markdown":"It may help https://androidride.com/android-webview-example-tutorial-kotlin-java-download-source-code/#ERR_UNKNOWN_URL_SCHEME%20in%20Android%20WebView","body":"It may help <a href=\"https://androidride.com/android-webview-example-tutorial-kotlin-java-download-source-code/#ERR_UNKNOWN_URL_SCHEME%20in%20Android%20WebView\" rel=\"nofollow noreferrer\">androidride.com/&hellip;</a>"},{"owner":{"account_id":6508016,"reputation":23,"user_id":8083499,"display_name":"Devdatt Gurjar"},"score":0,"creation_date":1576063207,"post_id":59284215,"comment_id":104774890,"body_markdown":"sucked in code can you guide me code put in MainActivity.java and suggestion me if i need to change in some other files too. that will be best","body":"sucked in code can you guide me code put in MainActivity.java and suggestion me if i need to change in some other files too. that will be best"}],"answers":[{"tags":[],"owner":{"account_id":18541836,"reputation":11,"user_id":13510146,"display_name":"Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590767409,"creation_date":1590761246,"answer_id":62087845,"question_id":59284215,"body_markdown":"i&#39;m sharing what worked for me. Hope the same with you. Added some code to the same that you&#39;ve posted. Look for it within the webview client.\r\n   \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private WebView myWebView;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n          myWebView = (WebView) findViewById(R.id.webView);\r\n          WebSettings webSettings = myWebView.getSettings();\r\n          webSettings.setJavaScriptEnabled(true);\r\n          webSettings.setAppCacheEnabled(true);\r\n          myWebView.loadUrl(&quot;http://192.168.1.14/mzdec&quot;);\r\n          myWebView.setWebViewClient(new WebViewClient(){\r\n                @Override\r\n                public boolean shouldOverrideUrlLoading(WebView wv, String url) {\r\n                    if (url.startsWith(&quot;upi:&quot;)) {\r\n                        Intent intent = new Intent(Intent.ACTION_VIEW);\r\n                        intent.setData(Uri.parse(url));\r\n                        startActivity(intent);\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onBackPressed() {\r\n            if(myWebView.canGoBack()) {\r\n                myWebView.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    }","title":"WebView page not available - “Upi:// ”","body":"<p>i'm sharing what worked for me. Hope the same with you. Added some code to the same that you've posted. Look for it within the webview client.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private WebView myWebView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n      myWebView = (WebView) findViewById(R.id.webView);\n      WebSettings webSettings = myWebView.getSettings();\n      webSettings.setJavaScriptEnabled(true);\n      webSettings.setAppCacheEnabled(true);\n      myWebView.loadUrl(\"http://192.168.1.14/mzdec\");\n      myWebView.setWebViewClient(new WebViewClient(){\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView wv, String url) {\n                if (url.startsWith(\"upi:\")) {\n                    Intent intent = new Intent(Intent.ACTION_VIEW);\n                    intent.setData(Uri.parse(url));\n                    startActivity(intent);\n                    return true;\n                }\n                return false;\n            }\n        });\n    }\n\n    @Override\n    public void onBackPressed() {\n        if(myWebView.canGoBack()) {\n            myWebView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3826025,"reputation":1663,"user_id":3172844,"accept_rate":25,"display_name":"Anupriya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619009176,"creation_date":1619009176,"answer_id":67196261,"question_id":59284215,"body_markdown":"I too faced the same problem and resolved it by adding one if-condition\r\n\r\n     @Override\r\n     public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n        if (url.startsWith(&quot;upi:&quot;)) {    //To allow link which starts with upi://\r\n               return true;\r\n           }\r\n                    view.loadUrl(url);\r\n                    return true;\r\n                }\r\n\r\n\r\n\r\nIf you want to show an app chooser as well to display all those apps that support UPI payment then you can use following code:\r\n\r\n     @Override\r\n     public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n        if (url.startsWith(&quot;upi:&quot;)) {    //To allow link which starts with upi://\r\n           Intent intent = new Intent(Intent.ACTION_VIEW);  // To show app chooser\r\n                        intent.setData(Uri.parse(url));\r\n                        startActivity(intent);\r\n                        return true;\r\n                    }\r\n                    view.loadUrl(url);\r\n                    return true;\r\n                }","title":"WebView page not available - “Upi:// ”","body":"<p>I too faced the same problem and resolved it by adding one if-condition</p>\n<pre><code> @Override\n public boolean shouldOverrideUrlLoading(WebView view, String url) {\n    if (url.startsWith(&quot;upi:&quot;)) {    //To allow link which starts with upi://\n           return true;\n       }\n                view.loadUrl(url);\n                return true;\n            }\n</code></pre>\n<p>If you want to show an app chooser as well to display all those apps that support UPI payment then you can use following code:</p>\n<pre><code> @Override\n public boolean shouldOverrideUrlLoading(WebView view, String url) {\n    if (url.startsWith(&quot;upi:&quot;)) {    //To allow link which starts with upi://\n       Intent intent = new Intent(Intent.ACTION_VIEW);  // To show app chooser\n                    intent.setData(Uri.parse(url));\n                    startActivity(intent);\n                    return true;\n                }\n                view.loadUrl(url);\n                return true;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272690,"reputation":72,"user_id":563913,"display_name":"Venkatgreat309"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688476899,"creation_date":1688380344,"answer_id":76603901,"question_id":59284215,"body_markdown":"Finally, we resolved the issue; it is purely based on an issue with WebView module of node.\r\nUpdate the below code in the node module of the WebView.\r\n\r\nFile Path: node_modules\\react-native-webview\\android\\src\\main\\java\\com\\reactnativecommunity\\webview\\RNCWebViewClient.java \r\n\r\n\r\nImport the cross-ponding Android files:\r\n\r\n    import android.content.ActivityNotFoundException;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.widget.Toast;\r\n\r\n    @Override\r\n    public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n        final String url = request.getUrl().toString();\r\n        Intent intent;\r\n        try {\r\n            if (url.contains(&quot;upi://pay?pa&quot;)) {\r\n                intent = new Intent(Intent.ACTION_VIEW);\r\n                intent.setData(Uri.parse(url));\r\n                view.getContext().startActivity(intent);\r\n                return true;\r\n            }\r\n\r\n        } catch (ActivityNotFoundException e) {\r\n            view.stopLoading();\r\n            Toast.makeText(view.getContext(), &quot;UPI supported applications not found&quot;, Toast.LENGTH_SHORT).show();\r\n            view.loadUrl(&quot;javascript:(function() { document.getElementsByClassName(\\&quot;intent-off\\&quot;)[0].click();})()&quot;);\r\n        }\r\n        return this.shouldOverrideUrlLoading(view, url);\r\n    }\r\n\r\n ","title":"WebView page not available - “Upi:// ”","body":"<p>Finally, we resolved the issue; it is purely based on an issue with WebView module of node.\nUpdate the below code in the node module of the WebView.</p>\n<p>File Path: node_modules\\react-native-webview\\android\\src\\main\\java\\com\\reactnativecommunity\\webview\\RNCWebViewClient.java</p>\n<p>Import the cross-ponding Android files:</p>\n<pre><code>import android.content.ActivityNotFoundException;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.widget.Toast;\n\n@Override\npublic boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n    final String url = request.getUrl().toString();\n    Intent intent;\n    try {\n        if (url.contains(&quot;upi://pay?pa&quot;)) {\n            intent = new Intent(Intent.ACTION_VIEW);\n            intent.setData(Uri.parse(url));\n            view.getContext().startActivity(intent);\n            return true;\n        }\n\n    } catch (ActivityNotFoundException e) {\n        view.stopLoading();\n        Toast.makeText(view.getContext(), &quot;UPI supported applications not found&quot;, Toast.LENGTH_SHORT).show();\n        view.loadUrl(&quot;javascript:(function() { document.getElementsByClassName(\\&quot;intent-off\\&quot;)[0].click();})()&quot;);\n    }\n    return this.shouldOverrideUrlLoading(view, url);\n}\n</code></pre>\n"}],"owner":{"account_id":6508016,"reputation":23,"user_id":8083499,"display_name":"Devdatt Gurjar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4071,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1702102757,"creation_date":1576061662,"question_id":59284215,"body_markdown":"![screenshot of my error][1]\r\n\r\nI have a shopping website with base on WordPress with Woo-commerce, and installed UPI Payment Plugin. and also I have make Android APP for my website using Web View.\r\n\r\n****Problem****\r\n\r\nWebView everything worked correctly but I used UPI payment link in one page to redirect to upi payments (&quot;upi://pay?pn=DevShop&amp;pa=eshop@kotak&amp;tr=40766&amp;tn=OrderID40766&amp;am=1149&amp;cu=INR&quot;) like this link and I&#39;m getting ERR_UNKNOWN_URL_SCHEME error\r\n\r\nI want My UPI Payment Link as above when clicked it open in default UPI APP like BHIM, PayTM, PhonePe or etc.. and Rest will handle through the above apps. following are the links of targeted apps.\r\n\r\nhttps://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user\r\n\r\nhttps://play.google.com/store/apps/details?id=in.org.npci.upiapp\r\n\r\nhttps://play.google.com/store/apps/details?id=net.one97.paytm\r\n\r\nhttps://play.google.com/store/apps/details?id=com.phonepe.app\r\n\r\nhttps://play.google.com/store/apps/details?id=com.mobikwik_new\r\n\r\nhttps://play.google.com/store/apps/details?id=com.freecharge.android\r\n\r\nFollowing is my Code in MainActivity.java\r\n\r\n    package com.shop.dev;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n      \r\n      private WebView myWebView;\r\n\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n          myWebView = (WebView) findViewById(R.id.webView);\r\n          WebSettings webSettings = myWebView.getSettings();\r\n          webSettings.setJavaScriptEnabled(true);\r\n          webSettings.setAppCacheEnabled(true);\r\n          myWebView.loadUrl(&quot;http://192.168.1.14/mzdec&quot;);\r\n          myWebView.setWebViewClient(new WebViewClient());\r\n      }\r\n\r\n      @Override\r\n      public void onBackPressed() {\r\n          if(myWebView.canGoBack()) {\r\n              myWebView.goBack();\r\n          } else {\r\n              super.onBackPressed();\r\n          }\r\n      }\r\n    }\r\n\r\nFollowing is my Code in AndroidManifest.xml\r\n\r\n\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n\r\n    &lt;application    android:allowBackup=&quot;true&quot;    android:icon=&quot;@mipmap/ic_launcher&quot;    android:label=&quot;@string/app_name&quot;    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;    android:supportsRtl=&quot;true&quot;    android:usesCleartextTraffic=&quot;true&quot;    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n    &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;intent-filter&gt;\r\n\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\r\n        &lt;/intent-filter&gt;\r\n\r\n    &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\nHelp to resolve the Error.\r\n\r\nFollowing are the Error When Payment Made via UPI Link.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CX1AL.png","title":"WebView page not available - “Upi:// ”","body":"<p><img src=\"https://i.stack.imgur.com/CX1AL.png\" alt=\"screenshot of my error\"></p>\n\n<p>I have a shopping website with base on WordPress with Woo-commerce, and installed UPI Payment Plugin. and also I have make Android APP for my website using Web View.</p>\n\n<p>****Problem****</p>\n\n<p>WebView everything worked correctly but I used UPI payment link in one page to redirect to upi payments (\"upi://pay?pn=DevShop&amp;pa=eshop@kotak&amp;tr=40766&amp;tn=OrderID40766&amp;am=1149&amp;cu=INR\") like this link and I'm getting ERR_UNKNOWN_URL_SCHEME error</p>\n\n<p>I want My UPI Payment Link as above when clicked it open in default UPI APP like BHIM, PayTM, PhonePe or etc.. and Rest will handle through the above apps. following are the links of targeted apps.</p>\n\n<p><a href=\"https://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user</a></p>\n\n<p><a href=\"https://play.google.com/store/apps/details?id=in.org.npci.upiapp\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=in.org.npci.upiapp</a></p>\n\n<p><a href=\"https://play.google.com/store/apps/details?id=net.one97.paytm\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=net.one97.paytm</a></p>\n\n<p><a href=\"https://play.google.com/store/apps/details?id=com.phonepe.app\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.phonepe.app</a></p>\n\n<p><a href=\"https://play.google.com/store/apps/details?id=com.mobikwik_new\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.mobikwik_new</a></p>\n\n<p><a href=\"https://play.google.com/store/apps/details?id=com.freecharge.android\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.freecharge.android</a></p>\n\n<p>Following is my Code in MainActivity.java</p>\n\n<pre><code>package com.shop.dev;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n  private WebView myWebView;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n      myWebView = (WebView) findViewById(R.id.webView);\n      WebSettings webSettings = myWebView.getSettings();\n      webSettings.setJavaScriptEnabled(true);\n      webSettings.setAppCacheEnabled(true);\n      myWebView.loadUrl(\"http://192.168.1.14/mzdec\");\n      myWebView.setWebViewClient(new WebViewClient());\n  }\n\n  @Override\n  public void onBackPressed() {\n      if(myWebView.canGoBack()) {\n          myWebView.goBack();\n      } else {\n          super.onBackPressed();\n      }\n  }\n}\n</code></pre>\n\n<p>Following is my Code in AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"&gt;&lt;/uses-permission&gt;\n\n&lt;application    android:allowBackup=\"true\"    android:icon=\"@mipmap/ic_launcher\"    android:label=\"@string/app_name\"    android:roundIcon=\"@mipmap/ic_launcher_round\"    android:supportsRtl=\"true\"    android:usesCleartextTraffic=\"true\"    android:theme=\"@style/AppTheme\"&gt;\n\n&lt;activity android:name=\".MainActivity\"&gt;\n\n    &lt;intent-filter&gt;\n\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n\n    &lt;/intent-filter&gt;\n\n&lt;/activity&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p>Help to resolve the Error.</p>\n\n<p>Following are the Error When Payment Made via UPI Link.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1702103684,"post_id":77630340,"comment_id":136858774,"body_markdown":"*&quot;Any recommendations&quot;* - No recommendations.  Except ... please review the Help Center information on what you are permitted to ask on Stack Overflow.","body":"<i>&quot;Any recommendations&quot;</i> - No recommendations.  Except ... please review the Help Center information on what you are permitted to ask on Stack Overflow."}],"owner":{"account_id":30103072,"reputation":1,"user_id":23069629,"display_name":"Ankit yaduwanshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702108376,"answer_count":0,"score":-1,"last_activity_date":1702102725,"creation_date":1702102725,"question_id":77630340,"body_markdown":"&quot;I&#39;m looking for a solid tutorial on app backend development. Struggling to find a good one. Seems like there&#39;s only content for Firebase. As a beginner Kotlin developer, I&#39;m a bit lost on backend development. Any recommendations?&quot;","title":"Is there any tutorial available in which explain about how to connect a online server with android application without firebase","body":"<p>&quot;I'm looking for a solid tutorial on app backend development. Struggling to find a good one. Seems like there's only content for Firebase. As a beginner Kotlin developer, I'm a bit lost on backend development. Any recommendations?&quot;</p>\n"},{"tags":["java","android","html","xml-parsing","stringbuffer"],"answers":[{"tags":[],"owner":{"account_id":2257919,"reputation":31825,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1362382717,"creation_date":1362381606,"answer_id":15196465,"question_id":15196414,"body_markdown":"One option is to add the [JSoup][1] library, import it and use it as follows:\r\n\r\n\r\n    public static String html2text(String html) {\r\n    return Jsoup.parse(html).text();\r\n    }\r\n\r\n\r\n  [1]: http://jsoup.org/","title":"remove html tag in android","body":"<p>One option is to add the <a href=\"http://jsoup.org/\" rel=\"nofollow\">JSoup</a> library, import it and use it as follows:</p>\n\n<pre><code>public static String html2text(String html) {\nreturn Jsoup.parse(html).text();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1405191,"reputation":3316,"user_id":1333103,"display_name":"Maulik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362384338,"creation_date":1362383902,"answer_id":15196978,"question_id":15196414,"body_markdown":"According to my knowledge you can get data by spannable interface. \r\n\r\nTry using this:\r\n\r\n&gt; Spanned spannable =\r\n&gt; Html.fromHtml(arrayList.get(position).getBusinessDescription());\t\r\n&gt; System.out.println(&quot;description\r\n&gt; value-----&gt;&quot;+n+att_ID+&quot;------&gt;&gt;&quot;+spannable);\r\n\r\ncheck the below link for more details:\r\n\r\n&gt; http://developer.android.com/reference/android/text/Spanned.html\r\n&gt; http://developer.android.com/reference/android/text/Spannable.html","title":"remove html tag in android","body":"<p>According to my knowledge you can get data by spannable interface. </p>\n\n<p>Try using this:</p>\n\n<blockquote>\n  <p>Spanned spannable =\n  Html.fromHtml(arrayList.get(position).getBusinessDescription());<br>\n  System.out.println(\"description\n  value----->\"+n+att_ID+\"------>>\"+spannable);</p>\n</blockquote>\n\n<p>check the below link for more details:</p>\n\n<blockquote>\n  <p><a href=\"http://developer.android.com/reference/android/text/Spanned.html\" rel=\"nofollow\">http://developer.android.com/reference/android/text/Spanned.html</a>\n  <a href=\"http://developer.android.com/reference/android/text/Spannable.html\" rel=\"nofollow\">http://developer.android.com/reference/android/text/Spannable.html</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3007058,"reputation":771,"user_id":2551356,"display_name":"contactsunny"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1383446202,"creation_date":1383446202,"answer_id":19749288,"question_id":15196414,"body_markdown":"You can easily remove any HTML tag in Android using the built-in HTML class in Android. Import `android.text.Html;`. Now, considering &quot;data&quot; is your String variable which has HTML tags, you use `Html.fromHtml(data).toString()` to get back the string without any HTML tags. ","title":"remove html tag in android","body":"<p>You can easily remove any HTML tag in Android using the built-in HTML class in Android. Import <code>android.text.Html;</code>. Now, considering \"data\" is your String variable which has HTML tags, you use <code>Html.fromHtml(data).toString()</code> to get back the string without any HTML tags. </p>\n"},{"tags":[],"owner":{"account_id":272573,"reputation":10312,"user_id":563735,"accept_rate":71,"display_name":"Rohit Mandiwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395029078,"creation_date":1395029078,"answer_id":22446759,"question_id":15196414,"body_markdown":"    String plain = Html.fromHtml(&quot;your_html_string&quot;).toString();","title":"remove html tag in android","body":"<pre><code>String plain = Html.fromHtml(\"your_html_string\").toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2092804,"reputation":3603,"user_id":1862213,"accept_rate":41,"display_name":"Akanksha Rathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1466058025,"creation_date":1466058025,"answer_id":37851323,"question_id":15196414,"body_markdown":"Simple method to remove html. This will return non-html formatted text\r\n\r\n     private String removeHtml(String html) {\r\n        html = html.replaceAll(&quot;&lt;(.*?)\\\\&gt;&quot;,&quot; &quot;);\r\n        html = html.replaceAll(&quot;&lt;(.*?)\\\\\\n&quot;,&quot; &quot;);\r\n        html = html.replaceFirst(&quot;(.*?)\\\\&gt;&quot;, &quot; &quot;);\r\n        html = html.replaceAll(&quot;&amp;nbsp;&quot;,&quot; &quot;);\r\n        html = html.replaceAll(&quot;&amp;amp;&quot;,&quot; &quot;);\r\n        return html;\r\n    }\r\n\r\nTo formatted according html tag and remove tag.\r\n\r\n    Html.fromHtml(data).toString();","title":"remove html tag in android","body":"<p>Simple method to remove html. This will return non-html formatted text</p>\n\n<pre><code> private String removeHtml(String html) {\n    html = html.replaceAll(\"&lt;(.*?)\\\\&gt;\",\" \");\n    html = html.replaceAll(\"&lt;(.*?)\\\\\\n\",\" \");\n    html = html.replaceFirst(\"(.*?)\\\\&gt;\", \" \");\n    html = html.replaceAll(\"&amp;nbsp;\",\" \");\n    html = html.replaceAll(\"&amp;amp;\",\" \");\n    return html;\n}\n</code></pre>\n\n<p>To formatted according html tag and remove tag.</p>\n\n<pre><code>Html.fromHtml(data).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6943403,"reputation":847,"user_id":5328872,"display_name":"Hanisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521538734,"creation_date":1521538734,"answer_id":49380731,"question_id":15196414,"body_markdown":"Just add these few lines of code and you are done .\r\n\r\n    String html=(jsonObject1.getString(&quot;originaltext&quot;));\r\n                html = html.replaceAll(&quot;&lt;(.*?)\\\\&gt;&quot;,&quot; &quot;);\r\n                html = html.replaceAll(&quot;&lt;(.*?)\\\\\\n&quot;,&quot; &quot;);\r\n                html = html.replaceFirst(&quot;(.*?)\\\\&gt;&quot;, &quot; &quot;);\r\n                html = html.replaceAll(&quot;&amp;nbsp;&quot;,&quot; &quot;);\r\n                html = html.replaceAll(&quot;&amp;amp;&quot;,&quot; &quot;);\r\n                newsModel.setNews(html);\r\n                Log.d(&quot;originaltext: &quot;,html);","title":"remove html tag in android","body":"<p>Just add these few lines of code and you are done .</p>\n\n<pre><code>String html=(jsonObject1.getString(\"originaltext\"));\n            html = html.replaceAll(\"&lt;(.*?)\\\\&gt;\",\" \");\n            html = html.replaceAll(\"&lt;(.*?)\\\\\\n\",\" \");\n            html = html.replaceFirst(\"(.*?)\\\\&gt;\", \" \");\n            html = html.replaceAll(\"&amp;nbsp;\",\" \");\n            html = html.replaceAll(\"&amp;amp;\",\" \");\n            newsModel.setNews(html);\n            Log.d(\"originaltext: \",html);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7780006,"reputation":974,"user_id":5886712,"accept_rate":36,"display_name":"Tarit Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541233893,"creation_date":1541233893,"answer_id":53129667,"question_id":15196414,"body_markdown":"         \r\n        private int iMobileVersion = Build.VERSION.SDK_INT;\r\n        String strResonseTemplate = data.getStringExtra(&quot;template&quot;); //getting HTML data in string\r\n        \r\n        if (iMobileVersion &gt;= 24) {\r\n                                    mEtReply.setText(Html.fromHtml(strResonseTemplate, Html.FROM_HTML_MODE_COMPACT));// this code only works on and above API 24, and removes all HTML tag, but gives same view as HTML in Edittext.\r\n                                } else {\r\n                                    mEtReply.setText(Html.fromHtml(strResonseTemplate).toString()); // bellow API level 24 we are removing only HTML tags, it will show as normal text.\r\n       \r\n                                }\r\n\r\nHope this will be helpfull :)","title":"remove html tag in android","body":"<pre><code>    private int iMobileVersion = Build.VERSION.SDK_INT;\n    String strResonseTemplate = data.getStringExtra(\"template\"); //getting HTML data in string\n\n    if (iMobileVersion &gt;= 24) {\n                                mEtReply.setText(Html.fromHtml(strResonseTemplate, Html.FROM_HTML_MODE_COMPACT));// this code only works on and above API 24, and removes all HTML tag, but gives same view as HTML in Edittext.\n                            } else {\n                                mEtReply.setText(Html.fromHtml(strResonseTemplate).toString()); // bellow API level 24 we are removing only HTML tags, it will show as normal text.\n\n                            }\n</code></pre>\n\n<p>Hope this will be helpfull :)</p>\n"},{"comments":[{"owner":{"account_id":2731417,"reputation":2195,"user_id":2486496,"accept_rate":100,"display_name":"gravity"},"score":2,"creation_date":1561651132,"post_id":56794715,"comment_id":100144256,"body_markdown":"Hi Jose!  This could be a great answer, can you elaborate and explain some of the steps to the question asker?  That would help tremendously.","body":"Hi Jose!  This could be a great answer, can you elaborate and explain some of the steps to the question asker?  That would help tremendously."}],"tags":[],"owner":{"account_id":8613610,"reputation":379,"user_id":6451314,"display_name":"Jose Antonio Dominguez Garcia"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562100976,"creation_date":1561650598,"answer_id":56794715,"question_id":15196414,"body_markdown":"```java\r\n//Patter to detect elements contained into &quot;&lt;&gt;&quot;\r\nprivate static final Pattern REMOVE_TAGS = Pattern.compile(&quot;&lt;.+?&gt;&quot;);\r\n\r\n//Method to remove the html tags contained in a String variable\r\npublic static String removeTags(String string) \r\n{\r\n  //validate that at least one value contains the string\r\n  if (string == null || string.length() == 0) \r\n  {\r\n     return string;\r\n  }\r\n  //Function to find the matches within the chain and the pattern       \r\n  Matcher m = REMOVE_TAGS.matcher(string);\r\n  //replace &lt;&gt; element with &quot;&quot;\r\n  return m.replaceAll(&quot;&quot;);\r\n}\r\n\r\n//Implementation of the method to eliminate html tags and place inside a Text control\r\nthis.itemView.setText(\r\n Html.fromHtml(\r\n  new String(removeTags(&quot;&lt;h1&gt;My Title here&lt;/h1&gt;&quot;).getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;)\r\n )\r\n);","title":"remove html tag in android","body":"<pre class=\"lang-java prettyprint-override\"><code>//Patter to detect elements contained into \"&lt;&gt;\"\nprivate static final Pattern REMOVE_TAGS = Pattern.compile(\"&lt;.+?&gt;\");\n\n//Method to remove the html tags contained in a String variable\npublic static String removeTags(String string) \n{\n  //validate that at least one value contains the string\n  if (string == null || string.length() == 0) \n  {\n     return string;\n  }\n  //Function to find the matches within the chain and the pattern       \n  Matcher m = REMOVE_TAGS.matcher(string);\n  //replace &lt;&gt; element with \"\"\n  return m.replaceAll(\"\");\n}\n\n//Implementation of the method to eliminate html tags and place inside a Text control\nthis.itemView.setText(\n Html.fromHtml(\n  new String(removeTags(\"&lt;h1&gt;My Title here&lt;/h1&gt;\").getBytes(\"ISO-8859-1\"),\"UTF-8\")\n )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9543906,"reputation":1261,"user_id":7090806,"display_name":"Rahul Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702102459,"creation_date":1702102459,"answer_id":77630331,"question_id":15196414,"body_markdown":"In Kotlin you can simply do it with this extension function -\r\n\r\n    fun String.removeHtml() = replace(&quot;\\\\&lt;.*?\\\\&gt;&quot;.toRegex(), &quot;&quot;)\r\n\r\nand you can call this function as\r\n\r\n    val cleanString = yourHtmlString.removeHtml()\r\n\r\n","title":"remove html tag in android","body":"<p>In Kotlin you can simply do it with this extension function -</p>\n<pre><code>fun String.removeHtml() = replace(&quot;\\\\&lt;.*?\\\\&gt;&quot;.toRegex(), &quot;&quot;)\n</code></pre>\n<p>and you can call this function as</p>\n<pre><code>val cleanString = yourHtmlString.removeHtml()\n</code></pre>\n"}],"owner":{"account_id":2400233,"reputation":95,"user_id":2098063,"accept_rate":67,"display_name":"user2098063"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17325,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":9,"score":5,"last_activity_date":1702102459,"creation_date":1362381398,"question_id":15196414,"body_markdown":"I have follows below XML feed:\r\n\r\n    &lt;Description&gt;\r\n      &lt;p&gt;Touch, tap, flip, slide! You don&amp;#39;t just read Books, you experience it.&lt;/p&gt;\r\n    &lt;/Description&gt;\r\n\r\nHere I have to display the description like \r\n\r\n**Touch,tap,flip,slide! You don 39.just read the Books, you experience it.**\r\n\r\nHere I have handled the parser like:\r\n\r\n       \r\n       public static String removeHTML(String htmlString)\r\n      {\r\n      // Remove HTML tag from java String    \r\n    String noHTMLString = htmlString.replaceAll(&quot;\\\\&lt;.*?\\\\&gt;&quot;, &quot;&quot;);\r\n\r\n    // Remove Carriage return from java String\r\n    noHTMLString = noHTMLString.replaceAll(&quot;\\r&quot;, &quot;&lt;br/&gt;&quot;);\r\n    noHTMLString = noHTMLString.replaceAll(&quot;&lt;([bip])&gt;.*?&lt;/\\1&gt;&quot;, &quot;&quot;);\r\n    // Remove New line from java string and replace html break\r\n    noHTMLString = noHTMLString.replaceAll(&quot;\\n&quot;, &quot; &quot;);\r\n    noHTMLString = noHTMLString.replaceAll(&quot;\\&quot;&quot;, &quot;&amp;quot;&quot;);\r\n    noHTMLString = noHTMLString.replaceAll(&quot;&lt;(.*?)\\\\&gt;&quot;,&quot; &quot;);//Removes all items in brackets\r\n    noHTMLString = noHTMLString.replaceAll(&quot;&lt;(.*?)\\\\\\n&quot;,&quot; &quot;);//Must be undeneath\r\n    noHTMLString = noHTMLString.replaceFirst(&quot;(.*?)\\\\&gt;&quot;, &quot; &quot;);\r\n    noHTMLString = noHTMLString.replaceAll(&quot;&amp;nbsp;&quot;,&quot; &quot;);\r\n    noHTMLString = noHTMLString.replaceAll(&quot;&amp;amp;&quot;,&quot; &quot;);\r\n    return noHTMLString;\r\n\r\n        }\r\n\r\n\r\nIn endElement :\r\n\r\n       public void endElement(String uri, String localName, String qName)throws SAXException {\r\n      currentElement = false;\r\n       if (localName.equalsIgnoreCase(&quot;Description&quot;)){\r\n       sitesList.setDescription(currentValue);\r\n       String Sub_arry=n+currentValue;\r\n       Appscontent.Sub_arraylistdes.add(Sub_arry);\r\n       String stringWithoutHTML=removeHTML(currentValue);\r\n       System.out.println(&quot;description value-----&gt;&quot;+n+att_ID+&quot;------&gt;&gt;&quot;+stringWithoutHTML);}\r\n\r\n\r\nNow i have to run the app means the html tag is displayed with my description...Here how can I remove the HTML tag? please provide me solution for these ???\r\n\r\ni wish to display the description without Html tags...please provide e solution for these.\r\n\r\n**EDIT:**\r\n\r\n        if (localName.equalsIgnoreCase(&quot;Description&quot;)){\r\n        sitesList.setDescription(currentValue);\r\n        String Sub_arry=n+currentValue;\r\n        StringBuffer sb = new StringBuffer();\r\n        sb.append(Sub_arry);\r\n         String newString = sb.toString();\r\n          Appscontent.Sub_arraylistdes.add(newString);\r\n           System.out.println(&quot;description value-----&gt;&quot;+n+att_ID+&quot;------&gt;&gt;&quot;+newString);}\r\n\r\n**EDIT:**\r\n\r\n      public static String html2text(String html) {\r\n      return Jsoup.parse(html).text();\r\n        }\r\n\r\nIn endElement:\r\n\r\n        if (localName.equalsIgnoreCase(&quot;Description&quot;)){\r\n        sitesList.setDescription(currentValue);\r\n        String Sub_arry=n+currentValue;\r\n        Appscontent.Sub_arraylistdes.add(Sub_arry);\r\n          String stringWithoutHTML=html2text(currentValue);\r\n           System.out.println(&quot;description value-----&gt;&quot;+n+att_ID+&quot;------&gt;&gt;&quot;+stringWithoutHTML);}\r\n\r\n\r\nBut i didn&#39;t get  the o/p..pls provide me solution for these ???  how can i remove the html tags in these description...","title":"remove html tag in android","body":"<p>I have follows below XML feed:</p>\n\n<pre><code>&lt;Description&gt;\n  &lt;p&gt;Touch, tap, flip, slide! You don&amp;#39;t just read Books, you experience it.&lt;/p&gt;\n&lt;/Description&gt;\n</code></pre>\n\n<p>Here I have to display the description like </p>\n\n<p><strong>Touch,tap,flip,slide! You don 39.just read the Books, you experience it.</strong></p>\n\n<p>Here I have handled the parser like:</p>\n\n<pre><code>   public static String removeHTML(String htmlString)\n  {\n  // Remove HTML tag from java String    \nString noHTMLString = htmlString.replaceAll(\"\\\\&lt;.*?\\\\&gt;\", \"\");\n\n// Remove Carriage return from java String\nnoHTMLString = noHTMLString.replaceAll(\"\\r\", \"&lt;br/&gt;\");\nnoHTMLString = noHTMLString.replaceAll(\"&lt;([bip])&gt;.*?&lt;/\\1&gt;\", \"\");\n// Remove New line from java string and replace html break\nnoHTMLString = noHTMLString.replaceAll(\"\\n\", \" \");\nnoHTMLString = noHTMLString.replaceAll(\"\\\"\", \"&amp;quot;\");\nnoHTMLString = noHTMLString.replaceAll(\"&lt;(.*?)\\\\&gt;\",\" \");//Removes all items in brackets\nnoHTMLString = noHTMLString.replaceAll(\"&lt;(.*?)\\\\\\n\",\" \");//Must be undeneath\nnoHTMLString = noHTMLString.replaceFirst(\"(.*?)\\\\&gt;\", \" \");\nnoHTMLString = noHTMLString.replaceAll(\"&amp;nbsp;\",\" \");\nnoHTMLString = noHTMLString.replaceAll(\"&amp;amp;\",\" \");\nreturn noHTMLString;\n\n    }\n</code></pre>\n\n<p>In endElement :</p>\n\n<pre><code>   public void endElement(String uri, String localName, String qName)throws SAXException {\n  currentElement = false;\n   if (localName.equalsIgnoreCase(\"Description\")){\n   sitesList.setDescription(currentValue);\n   String Sub_arry=n+currentValue;\n   Appscontent.Sub_arraylistdes.add(Sub_arry);\n   String stringWithoutHTML=removeHTML(currentValue);\n   System.out.println(\"description value-----&gt;\"+n+att_ID+\"------&gt;&gt;\"+stringWithoutHTML);}\n</code></pre>\n\n<p>Now i have to run the app means the html tag is displayed with my description...Here how can I remove the HTML tag? please provide me solution for these ???</p>\n\n<p>i wish to display the description without Html tags...please provide e solution for these.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>    if (localName.equalsIgnoreCase(\"Description\")){\n    sitesList.setDescription(currentValue);\n    String Sub_arry=n+currentValue;\n    StringBuffer sb = new StringBuffer();\n    sb.append(Sub_arry);\n     String newString = sb.toString();\n      Appscontent.Sub_arraylistdes.add(newString);\n       System.out.println(\"description value-----&gt;\"+n+att_ID+\"------&gt;&gt;\"+newString);}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>  public static String html2text(String html) {\n  return Jsoup.parse(html).text();\n    }\n</code></pre>\n\n<p>In endElement:</p>\n\n<pre><code>    if (localName.equalsIgnoreCase(\"Description\")){\n    sitesList.setDescription(currentValue);\n    String Sub_arry=n+currentValue;\n    Appscontent.Sub_arraylistdes.add(Sub_arry);\n      String stringWithoutHTML=html2text(currentValue);\n       System.out.println(\"description value-----&gt;\"+n+att_ID+\"------&gt;&gt;\"+stringWithoutHTML);}\n</code></pre>\n\n<p>But i didn't get  the o/p..pls provide me solution for these ???  how can i remove the html tags in these description...</p>\n"},{"tags":["java","spring-boot","spring-tools-4"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1702102441,"post_id":77629389,"comment_id":136858708,"body_markdown":"Hello and welcome! Please add some piece of code, some part of your properties files and maven `pom.xml` maybe or command line you&#39;re using to run or compile your program, depending on what is relevant. It might also be annotations on the top of some classes, multiple properties files having suffixes and being run by profile... We need some details.","body":"Hello and welcome! Please add some piece of code, some part of your properties files and maven <code>pom.xml</code> maybe or command line you&#39;re using to run or compile your program, depending on what is relevant. It might also be annotations on the top of some classes, multiple properties files having suffixes and being run by profile... We need some details."}],"owner":{"account_id":30101452,"reputation":1,"user_id":23068460,"display_name":"Dinesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702135055,"answer_count":0,"score":0,"last_activity_date":1702102339,"creation_date":1702073092,"question_id":77629389,"body_markdown":"Hi there I have a issue in spring boot for past two day... I will run a project in spring tools the host port 8080 and I will search the path in but it run the old host automatically \r\n\r\n \r\n  I will also change host like 8090 but the old host occur that host also \r\n  So anybody please help to solve my issue...","title":"Spring boot sever host auto connect the old project host","body":"<p>Hi there I have a issue in spring boot for past two day... I will run a project in spring tools the host port 8080 and I will search the path in but it run the old host automatically</p>\n<p>I will also change host like 8090 but the old host occur that host also\nSo anybody please help to solve my issue...</p>\n"},{"tags":["java","calculator","graphing"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1702101946,"post_id":77630310,"comment_id":136858672,"body_markdown":"Well, you can&#39;t turn it into something Java evaluates, but if you&#39;re only dealing with polynomials, it&#39;s not that hard.  Just use an array with the coefficients, and write a function that accepts that array and a value of x, and compute the result.","body":"Well, you can&#39;t turn it into something Java evaluates, but if you&#39;re only dealing with polynomials, it&#39;s not that hard.  Just use an array with the coefficients, and write a function that accepts that array and a value of x, and compute the result."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1702102246,"post_id":77630310,"comment_id":136858696,"body_markdown":"Does this answer your question? https://stackoverflow.com/q/7258538/2308683","body":"Does this answer your question? <a href=\"https://stackoverflow.com/q/7258538/2308683\">stackoverflow.com/q/7258538/2308683</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702130011,"post_id":77630310,"comment_id":136860692,"body_markdown":"for general expressions you need to learn some [parsing method](https://jonascarpay.com/posts/2021-05-16-parsing-programming-language.html) and build a parser.","body":"for general expressions you need to learn some <a href=\"https://jonascarpay.com/posts/2021-05-16-parsing-programming-language.html\" rel=\"nofollow noreferrer\">parsing method</a> and build a parser."}],"owner":{"account_id":30103069,"reputation":1,"user_id":23069627,"display_name":"SpicyPark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702131454,"answer_count":0,"score":0,"last_activity_date":1702101894,"creation_date":1702101813,"question_id":77630310,"body_markdown":"I am currently trying to make a graphing calculator in Java in which the user inputs an equation, for example, 3x^2+4x-14, which is fed into the program and graphed. How could I take any user equation and turn it into an equation in Java for a for loop to run?\r\n\r\nI have already implemented methods that automatically detect if the user input is a viable equation, however I&#39;m still stumped by actually taking that user input and converting it into a runnable algorithm.","title":"How would I take user input and convert it to a runnable equation?","body":"<p>I am currently trying to make a graphing calculator in Java in which the user inputs an equation, for example, 3x^2+4x-14, which is fed into the program and graphed. How could I take any user equation and turn it into an equation in Java for a for loop to run?</p>\n<p>I have already implemented methods that automatically detect if the user input is a viable equation, however I'm still stumped by actually taking that user input and converting it into a runnable algorithm.</p>\n"},{"tags":["java","hibernate","jpa","jdbc","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":22569862,"reputation":37,"user_id":16756182,"display_name":"Ganesh Java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647245963,"creation_date":1647245963,"answer_id":71464738,"question_id":71293144,"body_markdown":"Bellow configuration worked for me . Thanks everyone for your help.\r\n\r\nspring.datasource.hikari.connection-timeout = 600000\r\n\r\nspring.datasource.hikari.maximum-pool-size = 15\r\n\r\nspring.datasource.hikari.max-lifetime=1800000\r\n","title":"How to fixed Failed to obtain JDBC connection ; nested exception in a java.sql.SQLTransientConnectionException:HikariPool-1?","body":"<p>Bellow configuration worked for me . Thanks everyone for your help.</p>\n<p>spring.datasource.hikari.connection-timeout = 600000</p>\n<p>spring.datasource.hikari.maximum-pool-size = 15</p>\n<p>spring.datasource.hikari.max-lifetime=1800000</p>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":0,"creation_date":1655219083,"post_id":72618718,"comment_id":128277647,"body_markdown":"Isn&#39;t it what OP already did?","body":"Isn&#39;t it what OP already did?"}],"tags":[],"owner":{"account_id":2659163,"reputation":131,"user_id":2299235,"display_name":"Gustavo Amaro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655216755,"creation_date":1655216755,"answer_id":72618718,"question_id":71293144,"body_markdown":"In my case the solution was to upgrade the number of maximum-pool-size :D","title":"How to fixed Failed to obtain JDBC connection ; nested exception in a java.sql.SQLTransientConnectionException:HikariPool-1?","body":"<p>In my case the solution was to upgrade the number of maximum-pool-size :D</p>\n"}],"owner":{"account_id":22569862,"reputation":37,"user_id":16756182,"display_name":"Ganesh Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10283,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1702101835,"creation_date":1646041869,"question_id":71293144,"body_markdown":"I am getting below error when number of user hitting the application will increase .\r\n\r\nRestart will help to solve the issue for some time and again facing same issue when more user trying to access the application.\r\n\r\nHow Can I fixed this or How can I automatically restart when app get this issue?\r\n\r\n\r\n**org.springframework.jdbc.cannotgetjdbcconnectionexception: DatasourceHealthIndicator Failed to obtain JDBC connection ; nested exception in a java.sql.SQLTransientConnectionException:\r\nHikariPool-1 DatasourceHealthIndicator doHealthCheck()**\r\n \r\n\r\n\r\nApplication properties file contain below\r\n\r\nspring.datasource.hikari.max-pool-size = 10\r\nspring.datasource.hikari.minimum-idle = 5\r\n","title":"How to fixed Failed to obtain JDBC connection ; nested exception in a java.sql.SQLTransientConnectionException:HikariPool-1?","body":"<p>I am getting below error when number of user hitting the application will increase .</p>\n<p>Restart will help to solve the issue for some time and again facing same issue when more user trying to access the application.</p>\n<p>How Can I fixed this or How can I automatically restart when app get this issue?</p>\n<p><strong>org.springframework.jdbc.cannotgetjdbcconnectionexception: DatasourceHealthIndicator Failed to obtain JDBC connection ; nested exception in a java.sql.SQLTransientConnectionException:\nHikariPool-1 DatasourceHealthIndicator doHealthCheck()</strong></p>\n<p>Application properties file contain below</p>\n<p>spring.datasource.hikari.max-pool-size = 10\nspring.datasource.hikari.minimum-idle = 5</p>\n"},{"tags":["java","jpa","named-query"],"comments":[{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1702116089,"post_id":77629655,"comment_id":136859590,"body_markdown":"Just an idea, worth a try: Does it work if you add abstract getId/setId to AbstractStatus?","body":"Just an idea, worth a try: Does it work if you add abstract getId/setId to AbstractStatus?"}],"owner":{"account_id":19735537,"reputation":55,"user_id":14450120,"display_name":"Konstantin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702101798,"creation_date":1702079086,"question_id":77629655,"body_markdown":"I would appreciate if somebody helps to solve my problem.\r\nHere is the thing. I use `jakarta-persistence-api-3.1.0`.\r\n\r\nThere is the super class:\r\n\r\n```java\r\n@MappedSuperclass\r\npublic abstract class AbstractStatus{\r\n    ...here are business fields...\r\n}\r\n```\r\nThere are two children:\r\n\r\n```java\r\n@Entity\r\npublic Status_A extends AbstractStatus{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=STATUS_A_GENERATOR)\r\n    @SequenceGenerator\r\n    private long id;\r\n\r\n}\r\n\r\n@Entity\r\npublic Status_B extends AbstractStatus{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=STATUS_B_GENERATOR)\r\n    @SequenceGenerator\r\n    private long id;\r\n\r\n}\r\n```\r\n\r\nSo, each `&lt;? extends AbstractStatus&gt;` Entity has it’s own Id with specific generator.\r\n\r\nThere is abstract superclass for `AbstractProduct` that has `AbstractStatus` joined:\r\n\r\n```java\r\n@MappedSuperclass\r\npublic abstract class AbstractProduct&lt;ST extends AbstractStatus&gt;{\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=“productStatusId”)\r\n    pivate ST status;\r\n\r\n}\r\n```\r\nAnd there is specific `Product_A` with `NamedQuery` on it:\r\n\r\n```java\r\n@Entity\r\n@NamedQuery(name = “Query”, query = “SELECT product\r\nFROM Product_A product\r\nWHERE product.status.id = 42”)\r\npublic class Product_A extends AbstractProduct&lt;Status_A&gt;{\r\n}\r\n```\r\n\r\nAnd the problem here that it cannot resolve `.id` field of the `product.status` because it doesn’t know what the implementation of the `AbstractStatus` to look at, seems, it cannot resolve generic type on compile time.  \r\nIf run such code in a test it will fail with \r\n\r\n```log\r\nCannot resolve attribute ‘id’ of ‘AbstractStatus’ due to the attribute being declared in multiple subtypes [Status_A, Status_B]\r\n```","title":"Jakarta NamedQuery cannot resolve the field from joined generic type","body":"<p>I would appreciate if somebody helps to solve my problem.\nHere is the thing. I use <code>jakarta-persistence-api-3.1.0</code>.</p>\n<p>There is the super class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic abstract class AbstractStatus{\n    ...here are business fields...\n}\n</code></pre>\n<p>There are two children:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic Status_A extends AbstractStatus{\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=STATUS_A_GENERATOR)\n    @SequenceGenerator\n    private long id;\n\n}\n\n@Entity\npublic Status_B extends AbstractStatus{\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=STATUS_B_GENERATOR)\n    @SequenceGenerator\n    private long id;\n\n}\n</code></pre>\n<p>So, each <code>&lt;? extends AbstractStatus&gt;</code> Entity has it’s own Id with specific generator.</p>\n<p>There is abstract superclass for <code>AbstractProduct</code> that has <code>AbstractStatus</code> joined:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\npublic abstract class AbstractProduct&lt;ST extends AbstractStatus&gt;{\n\n    @ManyToOne\n    @JoinColumn(name=“productStatusId”)\n    pivate ST status;\n\n}\n</code></pre>\n<p>And there is specific <code>Product_A</code> with <code>NamedQuery</code> on it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NamedQuery(name = “Query”, query = “SELECT product\nFROM Product_A product\nWHERE product.status.id = 42”)\npublic class Product_A extends AbstractProduct&lt;Status_A&gt;{\n}\n</code></pre>\n<p>And the problem here that it cannot resolve <code>.id</code> field of the <code>product.status</code> because it doesn’t know what the implementation of the <code>AbstractStatus</code> to look at, seems, it cannot resolve generic type on compile time.<br />\nIf run such code in a test it will fail with</p>\n<pre><code>Cannot resolve attribute ‘id’ of ‘AbstractStatus’ due to the attribute being declared in multiple subtypes [Status_A, Status_B]\n</code></pre>\n"},{"tags":["java","multithreading","collections"],"comments":[{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":1,"creation_date":1586256753,"post_id":61078300,"comment_id":108055849,"body_markdown":"If we use same object reference among multiple threads, no object is thread safe. No, Your hypothesis are wrong","body":"If we use same object reference among multiple threads, no object is thread safe. No, Your hypothesis are wrong"},{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1586256857,"post_id":61078300,"comment_id":108055891,"body_markdown":"If two threads are being executed simultaneously to change a value in object reference, won&#39;t that create an interference ? Doesn&#39;t that mean that they are not threat-safe?","body":"If two threads are being executed simultaneously to change a value in object reference, won&#39;t that create an interference ? Doesn&#39;t that mean that they are not threat-safe?"},{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":1,"creation_date":1586256969,"post_id":61078300,"comment_id":108055937,"body_markdown":"not really no, if its protected with locks for example then it is thread-safe","body":"not really no, if its protected with locks for example then it is thread-safe"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1586257200,"post_id":61078300,"comment_id":108056048,"body_markdown":"Shared mutable state is never thread safe.  It has to be guarded appropriately to manage thread access or be made immutable.  That&#39;s why immutable objects and functional style is desirable - immutable objects are always thread-safe.   They come at the cost of greater memory consumption.","body":"Shared mutable state is never thread safe.  It has to be guarded appropriately to manage thread access or be made immutable.  That&#39;s why immutable objects and functional style is desirable - immutable objects are always thread-safe.   They come at the cost of greater memory consumption."}],"answers":[{"comments":[{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1586257237,"post_id":61078406,"comment_id":108056065,"body_markdown":"So, if it is a thread-safe collection, without declaring it as synchronized, we can use it among multiple threads preventing interference. Because of this reason, we are saying that ArrayList is not thread-safe. Am i right?","body":"So, if it is a thread-safe collection, without declaring it as synchronized, we can use it among multiple threads preventing interference. Because of this reason, we are saying that ArrayList is not thread-safe. Am i right?"},{"owner":{"account_id":1908929,"reputation":1215,"user_id":1723247,"display_name":"tobi"},"score":0,"creation_date":1586257539,"post_id":61078406,"comment_id":108056192,"body_markdown":"There might be interference as for example blocking (a method call waiting for another call in a different thread to be finished). Caveats like this should be documented in the class&#39; JavaDoc.\n\nBut there won&#39;t be any corrupted data or ConcurrentModificationExceptions or anything like this.","body":"There might be interference as for example blocking (a method call waiting for another call in a different thread to be finished). Caveats like this should be documented in the class&#39; JavaDoc.  But there won&#39;t be any corrupted data or ConcurrentModificationExceptions or anything like this."}],"tags":[],"owner":{"account_id":1908929,"reputation":1215,"user_id":1723247,"display_name":"tobi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586256991,"creation_date":1586256991,"answer_id":61078406,"question_id":61078300,"body_markdown":"I haven&#39;t checked but I think that all standard Collection implementations state if they are thread-safe or not. So you know if you can share that collection among different threads without synchronization.\r\n\r\nCopyOnWriteArrayList for example is a thread-safe List implementation.","title":"Why are we here, specifically, saying that ArrayList is not thread safe?","body":"<p>I haven't checked but I think that all standard Collection implementations state if they are thread-safe or not. So you know if you can share that collection among different threads without synchronization.</p>\n\n<p>CopyOnWriteArrayList for example is a thread-safe List implementation.</p>\n"},{"comments":[{"owner":{"account_id":24877651,"reputation":106,"user_id":18751272,"display_name":"acrastt"},"score":0,"creation_date":1676695159,"post_id":61078511,"comment_id":133194105,"body_markdown":"Note that Hirad&#39;s meaning by &quot;unsynchronized&quot; is that is that you can run the method with multiple threads at a time(Which would cause strange problems). It doesn&#39;t have to be used in keyword &quot;synchronized&quot; it can be used it something like Lock.lock() and Lock.unlock(). There are some situations where there could have multiple threads running the method(For example optimistic read or tryOptimisticRead in StampedLock or other classes.","body":"Note that Hirad&#39;s meaning by &quot;unsynchronized&quot; is that is that you can run the method with multiple threads at a time(Which would cause strange problems). It doesn&#39;t have to be used in keyword &quot;synchronized&quot; it can be used it something like Lock.lock() and Lock.unlock(). There are some situations where there could have multiple threads running the method(For example optimistic read or tryOptimisticRead in StampedLock or other classes."}],"tags":[],"owner":{"account_id":1189325,"reputation":1619,"user_id":1162551,"accept_rate":78,"display_name":"Hirad Nikoo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1586258853,"creation_date":1586257348,"answer_id":61078511,"question_id":61078300,"body_markdown":"ArrayList is unsynchronized in implementation. When an object is unsynchronized it means that is is not locked while being modified structurally. `A structural modification is any operation that adds or deletes one or more elements, or explicitly resizes the backing array; merely setting the value of an element is not a structural modification.`\r\nWhat you are referring to is an array which the elements are being added to or being deleted from and can be modified this differs from it having its value being set.\r\n\r\nReference is in regards with the pointer of the start of the array but how many elements are there is in question and having an unsynchronized object being modified in the sense of elements while the elements are being iterated over by another thread the integrity of the elements in the list is hard to guarantee. I hope I was able to convey the message plainly.\r\n\r\nLook for more details here in Oracle: [Array List][1] and [ConcurrentModificationException][2]\r\n\r\nArrayList:\r\n&gt; Note that this implementation is not synchronized. If multiple threads access an ArrayList instance concurrently, and at least one of the threads modifies the list structurally, it must be synchronized externally. (A structural modification is any operation that adds or deletes one or more elements, or explicitly resizes the backing array; merely setting the value of an element is not a structural modification.) This is typically accomplished by synchronizing on some object that naturally encapsulates the list. If no such object exists, the list should be &quot;wrapped&quot; using the Collections.synchronizedList method. \r\n \r\n\r\nConcurrentModificationException:\r\n&gt; Note that fail-fast behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html","title":"Why are we here, specifically, saying that ArrayList is not thread safe?","body":"<p>ArrayList is unsynchronized in implementation. When an object is unsynchronized it means that is is not locked while being modified structurally. <code>A structural modification is any operation that adds or deletes one or more elements, or explicitly resizes the backing array; merely setting the value of an element is not a structural modification.</code>\nWhat you are referring to is an array which the elements are being added to or being deleted from and can be modified this differs from it having its value being set.</p>\n\n<p>Reference is in regards with the pointer of the start of the array but how many elements are there is in question and having an unsynchronized object being modified in the sense of elements while the elements are being iterated over by another thread the integrity of the elements in the list is hard to guarantee. I hope I was able to convey the message plainly.</p>\n\n<p>Look for more details here in Oracle: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Array List</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">ConcurrentModificationException</a></p>\n\n<p>ArrayList:</p>\n\n<blockquote>\n  <p>Note that this implementation is not synchronized. If multiple threads access an ArrayList instance concurrently, and at least one of the threads modifies the list structurally, it must be synchronized externally. (A structural modification is any operation that adds or deletes one or more elements, or explicitly resizes the backing array; merely setting the value of an element is not a structural modification.) This is typically accomplished by synchronizing on some object that naturally encapsulates the list. If no such object exists, the list should be \"wrapped\" using the Collections.synchronizedList method. </p>\n</blockquote>\n\n<p>ConcurrentModificationException:</p>\n\n<blockquote>\n  <p>Note that fail-fast behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"score":0,"creation_date":1586259600,"post_id":61079064,"comment_id":108057193,"body_markdown":"I understood the thread-safety in the following way:\nIf A, B both do a structural  modification on the list, they do it one after other fashion. I mean, the list would be locked for A until it completes its operation and then for B. Is this good understanding?","body":"I understood the thread-safety in the following way: If A, B both do a structural  modification on the list, they do it one after other fashion. I mean, the list would be locked for A until it completes its operation and then for B. Is this good understanding?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1586260544,"post_id":61079064,"comment_id":108057671,"body_markdown":"@manikantanvsr, Forget about &quot;structural modification.&quot; I intentionally chose an example above in which it is not necessary for the list structure to change. _Any_ concurrent access to an &quot;unsafe&quot; object has the potential to crash your program or worse\\* if at least one of those accesses is a write. [\\* For &quot;worse,&quot; imagine a life-critical application that makes a wrong decision, a program that stores bad data in a mission-critical database, etc.\\]","body":"@manikantanvsr, Forget about &quot;structural modification.&quot; I intentionally chose an example above in which it is not necessary for the list structure to change. <i>Any</i> concurrent access to an &quot;unsafe&quot; object has the potential to crash your program or worse* if at least one of those accesses is a write. [* For &quot;worse,&quot; imagine a life-critical application that makes a wrong decision, a program that stores bad data in a mission-critical database, etc.&#93;"}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586259454,"creation_date":1586259113,"answer_id":61079064,"question_id":61078300,"body_markdown":"You misunderstand the meaning of &quot;thread-safe.&quot;\r\n\r\nWhen we say &quot;class X is thread-safe,&quot; We are _not_ saying that _you_ don&#39;t have to worry about the thread-safety of a program that uses it. If you build a program using nothing but thread-safe objects, that does _not_ guarantee that your program will be thread-safe.\r\n\r\nSo what _does_ it guarantee?\r\n\r\nSuppose you have a `List`. Suppose that two threads, A and B, each write different values to the same index in the list, suppose that some thread C reads from that index, and suppose that none of those three threads uses any synchronization.\r\n\r\nIf the list is &quot;thread-safe,&quot; then you can be assured that thread C will get one of three possible values:\r\n\r\n- The value that thread A wrote,\r\n- The value that thread B wrote,\r\n- The value that was stored at that index before either thread A or thread B wrote.\r\n\r\nIf the list is _not_ thread-safe, then any of those same three things could happen, but also, other things could happen:\r\n\r\n- Thread C could get a value that was never in the list,\r\n- The list could behave in broken ways in the future for thread C even if no other thread continues to use it,\r\n- The program could crash,\r\n- etc. (I don&#39;t know how many other strange things could happen.)\r\n\r\nWhen we say that a class is &quot;thread-safe&quot; we are saying that it will always behave in predictable, reasonable ways, even when its methods are concurrently called by multiple threads.\r\n\r\nIf you write a program that uses a &quot;thread-safe&quot; list, and if it depends on thread C reading one particular value of the three possibilities that I listed above, then _your program_ has a thread-safety problem, even though the list itself does not.\r\n","title":"Why are we here, specifically, saying that ArrayList is not thread safe?","body":"<p>You misunderstand the meaning of \"thread-safe.\"</p>\n\n<p>When we say \"class X is thread-safe,\" We are <em>not</em> saying that <em>you</em> don't have to worry about the thread-safety of a program that uses it. If you build a program using nothing but thread-safe objects, that does <em>not</em> guarantee that your program will be thread-safe.</p>\n\n<p>So what <em>does</em> it guarantee?</p>\n\n<p>Suppose you have a <code>List</code>. Suppose that two threads, A and B, each write different values to the same index in the list, suppose that some thread C reads from that index, and suppose that none of those three threads uses any synchronization.</p>\n\n<p>If the list is \"thread-safe,\" then you can be assured that thread C will get one of three possible values:</p>\n\n<ul>\n<li>The value that thread A wrote,</li>\n<li>The value that thread B wrote,</li>\n<li>The value that was stored at that index before either thread A or thread B wrote.</li>\n</ul>\n\n<p>If the list is <em>not</em> thread-safe, then any of those same three things could happen, but also, other things could happen:</p>\n\n<ul>\n<li>Thread C could get a value that was never in the list,</li>\n<li>The list could behave in broken ways in the future for thread C even if no other thread continues to use it,</li>\n<li>The program could crash,</li>\n<li>etc. (I don't know how many other strange things could happen.)</li>\n</ul>\n\n<p>When we say that a class is \"thread-safe\" we are saying that it will always behave in predictable, reasonable ways, even when its methods are concurrently called by multiple threads.</p>\n\n<p>If you write a program that uses a \"thread-safe\" list, and if it depends on thread C reading one particular value of the three possibilities that I listed above, then <em>your program</em> has a thread-safety problem, even though the list itself does not.</p>\n"},{"tags":[],"owner":{"account_id":30074012,"reputation":1,"user_id":23047312,"display_name":"Ashish Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702100730,"creation_date":1701864578,"answer_id":77612936,"question_id":61078300,"body_markdown":"The statement &quot;ArrayList is not thread-safe&quot; refers to the fact that the implementation of the `ArrayList` class in Java is not designed to handle concurrent access by multiple threads without external synchronization. Let&#39;s break down what this means:\r\n\r\n**ArrayList Basics:**\r\n\r\n`ArrayList` is a part of the Java Collections Framework and provides a dynamic array implementation, allowing you to store and manipulate a variable-sized collection of elements.\r\n\r\n**Thread Safety:**\r\n\r\nThread safety refers to the ability of an object or a piece of code to be safely used by multiple threads in a multi-threaded environment without causing data corruption or unexpected behavior.\r\n\r\n**ArrayList and Concurrency:**\r\n\r\n`ArrayList` is not thread-safe because its methods are not synchronized. If multiple threads try to modify an `ArrayList` instance concurrently, without proper synchronization, it can lead to unpredictable results, such as data corruption or exceptions.\r\n\r\n**Synchronization Options:**\r\n\r\nTo make `ArrayList` thread-safe, you can use synchronization mechanisms like `Collections.synchronizedList()` or use the `java.util.concurrent.CopyOnWriteArrayList` class, which is inherently thread-safe.","title":"Why are we here, specifically, saying that ArrayList is not thread safe?","body":"<p>The statement &quot;ArrayList is not thread-safe&quot; refers to the fact that the implementation of the <code>ArrayList</code> class in Java is not designed to handle concurrent access by multiple threads without external synchronization. Let's break down what this means:</p>\n<p><strong>ArrayList Basics:</strong></p>\n<p><code>ArrayList</code> is a part of the Java Collections Framework and provides a dynamic array implementation, allowing you to store and manipulate a variable-sized collection of elements.</p>\n<p><strong>Thread Safety:</strong></p>\n<p>Thread safety refers to the ability of an object or a piece of code to be safely used by multiple threads in a multi-threaded environment without causing data corruption or unexpected behavior.</p>\n<p><strong>ArrayList and Concurrency:</strong></p>\n<p><code>ArrayList</code> is not thread-safe because its methods are not synchronized. If multiple threads try to modify an <code>ArrayList</code> instance concurrently, without proper synchronization, it can lead to unpredictable results, such as data corruption or exceptions.</p>\n<p><strong>Synchronization Options:</strong></p>\n<p>To make <code>ArrayList</code> thread-safe, you can use synchronization mechanisms like <code>Collections.synchronizedList()</code> or use the <code>java.util.concurrent.CopyOnWriteArrayList</code> class, which is inherently thread-safe.</p>\n"}],"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61078511,"answer_count":4,"score":0,"last_activity_date":1702100730,"creation_date":1586256522,"question_id":61078300,"body_markdown":"Description: If we use same object reference among multiple threads, no object is thread safe. Similarly, if any collection reference is shared among multiple threads then that collection is not thread-safe since other threads can access it. So, Why are we here specifically saying that ArrayList is not thread-safe? What about the other Collections?","title":"Why are we here, specifically, saying that ArrayList is not thread safe?","body":"<p>Description: If we use same object reference among multiple threads, no object is thread safe. Similarly, if any collection reference is shared among multiple threads then that collection is not thread-safe since other threads can access it. So, Why are we here specifically saying that ArrayList is not thread-safe? What about the other Collections?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1702004714,"post_id":77624118,"comment_id":136847536,"body_markdown":"`IntStream#toArray()` returns `int[]`, not `Integer[]`. While primitives will be autoboxed when appropriate, the same does not happen for _arrays_ of primitives.","body":"<code>IntStream#toArray()</code> returns <code>int[]</code>, not <code>Integer[]</code>. While primitives will be autoboxed when appropriate, the same does not happen for <i>arrays</i> of primitives."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1702004838,"post_id":77624118,"comment_id":136847541,"body_markdown":"Right there [in the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#toArray()).","body":"Right there <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#toArray()\" rel=\"nofollow noreferrer\">in the documentation</a>."}],"answers":[{"comments":[{"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"score":0,"creation_date":1702056008,"post_id":77624140,"comment_id":136854675,"body_markdown":"Can you explain what boxed() is doing to the stream?","body":"Can you explain what boxed() is doing to the stream?"},{"owner":{"account_id":10259286,"reputation":3326,"user_id":19090048,"display_name":"mandy8055"},"score":0,"creation_date":1702056687,"post_id":77624140,"comment_id":136854790,"body_markdown":"@notaorb I have edited my answer. Please take a look","body":"@notaorb I have edited my answer. Please take a look"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1702121770,"post_id":77624140,"comment_id":136860013,"body_markdown":"@notaorb Java has primitive types and reference types. An `int` is a primitive type (though note `int[]`, like all arrays, is a reference type; i.e., an object). Unfortunately, primitive types cannot be used as generic type arguments, so you can&#39;t have something like a `Stream&lt;int&gt;`. That&#39;s why there&#39;s the `IntStream` primitive stream specialization. It&#39;s also why there are reference equivalents to primitives (e.g., `Integer` vs `int`). Going from the primitive type to the reference type is known as &quot;boxing&quot;. Boxing and unboxing (the opposite of boxing) can happen automatically.","body":"@notaorb Java has primitive types and reference types. An <code>int</code> is a primitive type (though note <code>int[]</code>, like all arrays, is a reference type; i.e., an object). Unfortunately, primitive types cannot be used as generic type arguments, so you can&#39;t have something like a <code>Stream&lt;int&gt;</code>. That&#39;s why there&#39;s the <code>IntStream</code> primitive stream specialization. It&#39;s also why there are reference equivalents to primitives (e.g., <code>Integer</code> vs <code>int</code>). Going from the primitive type to the reference type is known as &quot;boxing&quot;. Boxing and unboxing (the opposite of boxing) can happen automatically."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1702121928,"post_id":77624140,"comment_id":136860023,"body_markdown":"Having to go from an `IntStream` to a `Stream&lt;Integer&gt;` (i.e., go from a primitive `int` stream to a boxed `Integer` stream) is a common occurrence, so they added the `boxed()` method to the `IntStream` interface. It&#39;s basically shorthand for `mapToObj(i -&gt; Integer.valueOf(i))` (or just `mapToObj(i -&gt; i)` due to autoboxing).","body":"Having to go from an <code>IntStream</code> to a <code>Stream&lt;Integer&gt;</code> (i.e., go from a primitive <code>int</code> stream to a boxed <code>Integer</code> stream) is a common occurrence, so they added the <code>boxed()</code> method to the <code>IntStream</code> interface. It&#39;s basically shorthand for <code>mapToObj(i -&gt; Integer.valueOf(i))</code> (or just <code>mapToObj(i -&gt; i)</code> due to autoboxing)."}],"tags":[],"owner":{"account_id":10259286,"reputation":3326,"user_id":19090048,"display_name":"mandy8055"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1702100501,"creation_date":1702004989,"answer_id":77624140,"question_id":77624118,"body_markdown":"When you call `toArray()`, it returns a primitive `int[]` array instead of an `Integer[]` array&lt;sup&gt;[***1***](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#toArray())&lt;/sup&gt;. One way to fix the issue is to use *[`boxed`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#boxed--)* method.\r\n\r\n```java\r\nInteger[] arr = new Random().ints(1, 100).distinct()\r\n                .limit(10)\r\n                .boxed()\r\n                .toArray(Integer[]::new);\r\n```\r\n***[SAMPLE DEMO](https://onlinegdb.com/xD2a7gDGZ)***\r\n\r\n#### What `boxed()` does to the stream?\r\n\r\n&gt;The `boxed()` method is used to convert a stream of primitive values (like in our case an `IntStream`) to a stream of their corresponding wrapper objects (like a `Stream&lt;Integer&gt;`), allowing us to perform operations that require objects rather than primitive values.\r\n\r\n----\r\n\r\nLet&#39;s break it down into steps of what happens when you call `boxed()` on an `IntStream`:\r\n\r\n- The `IntStream` contains a sequence of primitive `int` values.\r\n- When you call `boxed()`, it creates a new `Stream&lt;Integer&gt;` instance.\r\n- The `boxed()` method iterates through the original `IntStream` and, for each `int` value, creates a new `Integer` object containing that value.\r\n- The new `Stream&lt;Integer&gt;` contains the `Integer` objects that correspond to the original `int` values in the `IntStream`.","title":"Create stream of Integer values and add to Integer[]","body":"<p>When you call <code>toArray()</code>, it returns a primitive <code>int[]</code> array instead of an <code>Integer[]</code> array<sup><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#toArray()\" rel=\"nofollow noreferrer\"><em><strong>1</strong></em></a></sup>. One way to fix the issue is to use <em><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#boxed--\" rel=\"nofollow noreferrer\"><code>boxed</code></a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] arr = new Random().ints(1, 100).distinct()\n                .limit(10)\n                .boxed()\n                .toArray(Integer[]::new);\n</code></pre>\n<p><em><strong><a href=\"https://onlinegdb.com/xD2a7gDGZ\" rel=\"nofollow noreferrer\">SAMPLE DEMO</a></strong></em></p>\n<h4>What <code>boxed()</code> does to the stream?</h4>\n<blockquote>\n<p>The <code>boxed()</code> method is used to convert a stream of primitive values (like in our case an <code>IntStream</code>) to a stream of their corresponding wrapper objects (like a <code>Stream&lt;Integer&gt;</code>), allowing us to perform operations that require objects rather than primitive values.</p>\n</blockquote>\n<hr />\n<p>Let's break it down into steps of what happens when you call <code>boxed()</code> on an <code>IntStream</code>:</p>\n<ul>\n<li>The <code>IntStream</code> contains a sequence of primitive <code>int</code> values.</li>\n<li>When you call <code>boxed()</code>, it creates a new <code>Stream&lt;Integer&gt;</code> instance.</li>\n<li>The <code>boxed()</code> method iterates through the original <code>IntStream</code> and, for each <code>int</code> value, creates a new <code>Integer</code> object containing that value.</li>\n<li>The new <code>Stream&lt;Integer&gt;</code> contains the <code>Integer</code> objects that correspond to the original <code>int</code> values in the <code>IntStream</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16001900,"reputation":328,"user_id":11548316,"display_name":"Preston"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1702005013,"creation_date":1702005013,"answer_id":77624142,"question_id":77624118,"body_markdown":"IntStream is a stream for basic type int, not for boxed type Integer.\r\n\r\nTo generate an Integer array, call the boxed method first.\r\n```\r\nInteger[] arr = new Random().ints(1,100).distinct()\r\n                .limit((long) 10).boxed().toArray(Integer[]::new);\r\n```","title":"Create stream of Integer values and add to Integer[]","body":"<p>IntStream is a stream for basic type int, not for boxed type Integer.</p>\n<p>To generate an Integer array, call the boxed method first.</p>\n<pre><code>Integer[] arr = new Random().ints(1,100).distinct()\n                .limit((long) 10).boxed().toArray(Integer[]::new);\n</code></pre>\n"}],"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1702100501,"creation_date":1702004526,"question_id":77624118,"body_markdown":"I&#39;m trying:\r\n\r\n    Integer[] arr = new Random().ints(1,100).distinct()\r\n                    .limit((long) 10).toArray();\r\n\r\n    java: incompatible types: int[] cannot be converted to java.lang.Integer[]\r\n\r\nI&#39;m confused because `ints()` returns an `IntStream` which should be a stream of `Integer` values correct?\r\n\r\nDoes anyone know how to do this with streams?","title":"Create stream of Integer values and add to Integer[]","body":"<p>I'm trying:</p>\n<pre><code>Integer[] arr = new Random().ints(1,100).distinct()\n                .limit((long) 10).toArray();\n\njava: incompatible types: int[] cannot be converted to java.lang.Integer[]\n</code></pre>\n<p>I'm confused because <code>ints()</code> returns an <code>IntStream</code> which should be a stream of <code>Integer</code> values correct?</p>\n<p>Does anyone know how to do this with streams?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1702098470,"post_id":77630190,"comment_id":136858530,"body_markdown":"That&#39;s because you assign `randChar` outside of the loop, so it only happens once. Move it down 2 lines, into the outer loop.","body":"That&#39;s because you assign <code>randChar</code> outside of the loop, so it only happens once. Move it down 2 lines, into the outer loop."},{"owner":{"account_id":30102823,"reputation":7,"user_id":23069447,"display_name":"dowba"},"score":0,"creation_date":1702098791,"post_id":77630190,"comment_id":136858550,"body_markdown":"@Robert Tried this. It creates a new problem where a new letter is generated everytime the user presses enter.","body":"@Robert Tried this. It creates a new problem where a new letter is generated everytime the user presses enter."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1702100033,"post_id":77630190,"comment_id":136858603,"body_markdown":"This suggests that you have multiple issues your code. Best in this situation to learn how to debug your code which can help you with this code and your future code. Please check out [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173/)  and [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for more on this.","body":"This suggests that you have multiple issues your code. Best in this situation to learn how to debug your code which can help you with this code and your future code. Please check out <a href=\"https://stackoverflow.com/q/25385173/\">What is a debugger and how can it help me diagnose problems?</a>  and <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a> for more on this."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1702127936,"post_id":77630190,"comment_id":136860515,"body_markdown":"Is this a second account? If so, you&#39;ve already posted *multiple times* almost the same question yesterday. [Here](https://stackoverflow.com/questions/77625143/do-while-loop-condition-java), [here](https://stackoverflow.com/questions/77625051/how-to-stop-generating-letter-that-is-in-a-loop-java) and [here](https://stackoverflow.com/questions/77624518/letter-guessing-game-not-working-properly).","body":"Is this a second account? If so, you&#39;ve already posted <i>multiple times</i> almost the same question yesterday. <a href=\"https://stackoverflow.com/questions/77625143/do-while-loop-condition-java\">Here</a>, <a href=\"https://stackoverflow.com/questions/77625051/how-to-stop-generating-letter-that-is-in-a-loop-java\">here</a> and <a href=\"https://stackoverflow.com/questions/77624518/letter-guessing-game-not-working-properly\">here</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1702154451,"post_id":77630190,"comment_id":136863052,"body_markdown":"@QBrute have you flagged those accounts for moderator action?","body":"@QBrute have you flagged those accounts for moderator action?"},{"owner":{"account_id":30102823,"reputation":7,"user_id":23069447,"display_name":"dowba"},"score":0,"creation_date":1702198232,"post_id":77630190,"comment_id":136865555,"body_markdown":"@QBrute move along and quit whining. If you cant offer help no one asked you to leave your comment on my post. They are CLEARLY all different questions","body":"@QBrute move along and quit whining. If you cant offer help no one asked you to leave your comment on my post. They are CLEARLY all different questions"}],"owner":{"account_id":30102823,"reputation":7,"user_id":23069447,"display_name":"dowba"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1702099289,"answer_count":0,"score":-2,"last_activity_date":1702100406,"creation_date":1702098364,"question_id":77630190,"body_markdown":"Have the following code The problem is the program generates a random letter using char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));, and does not generate a new letter after the user correctly guesses the correct letter, and plays a new game. It stays as the same letter that the user already guesses. What is the solution to this?\r\n\r\n    Scanner scan = new Scanner (System.in);\r\n        Random rnd = new Random();\r\n        boolean play = true;\r\n        int correctGue = 0;\r\n        String playAgain;\r\n        char randChar = (char) (&#39;a&#39; + rnd.nextInt(26));\r\n        while (play ==true)\r\n        {\r\n            System.out.println(randChar);\r\n            System.out.println(&quot;I generated a random letter. Enter your guess. 0 to quit! You will forfeit all progress/stats&quot;);\r\n            char guess = scan.next().charAt(0);\r\n            if (guess == &#39;0&#39;)\r\n            {\r\n                play = false;\r\n                System.out.println(&quot;You decided to quit! Goodbye!&quot;);\r\n                break;\r\n            }\r\n            do\r\n            {\r\n                if((int)guess &lt; (int)randChar)\r\n                    {\r\n                        System.out.println(&quot;The letter is later in the alphabet&quot;);  \r\n                        break;\r\n                    }\r\n                else if((int)guess &gt; (int)randChar)\r\n                    {\r\n                        System.out.println(&quot;The letter is earlier in the alphabet&quot;);\r\n                        break;\r\n                    }\r\n                else {\r\n                 \r\n                 play = false;\r\n                 break;\r\n            }          \r\n            }while (guess != randChar);\r\n            if (guess == randChar)\r\n            {\r\n                System.out.println(&quot;You have guessed the correct letter!&quot;);\r\n                Scanner answer = new Scanner(System.in);\r\n                System.out.println(&quot;Would you like another GO &quot;);\r\n                playAgain = answer.nextLine();\r\n                correctGue++;\r\n                if(playAgain.equalsIgnoreCase(&quot;Y&quot;))\r\n                {\r\n                    play = true;\r\n                }\r\n                else if (playAgain.equalsIgnoreCase(&quot;N&quot;))\r\n                {\r\n                    play = false;\r\n                    System.out.println(&quot;Thanks for playing :) Please come back soon!&quot;);\r\n                    System.out.println(&quot;The number of times you guessed correctly: &quot; + correctGue + &quot;&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }","title":"Loops only generates 1 letter - Java","body":"<p>Have the following code The problem is the program generates a random letter using char randChar = (char) ('a' + rnd.nextInt(26));, and does not generate a new letter after the user correctly guesses the correct letter, and plays a new game. It stays as the same letter that the user already guesses. What is the solution to this?</p>\n<pre><code>Scanner scan = new Scanner (System.in);\n    Random rnd = new Random();\n    boolean play = true;\n    int correctGue = 0;\n    String playAgain;\n    char randChar = (char) ('a' + rnd.nextInt(26));\n    while (play ==true)\n    {\n        System.out.println(randChar);\n        System.out.println(&quot;I generated a random letter. Enter your guess. 0 to quit! You will forfeit all progress/stats&quot;);\n        char guess = scan.next().charAt(0);\n        if (guess == '0')\n        {\n            play = false;\n            System.out.println(&quot;You decided to quit! Goodbye!&quot;);\n            break;\n        }\n        do\n        {\n            if((int)guess &lt; (int)randChar)\n                {\n                    System.out.println(&quot;The letter is later in the alphabet&quot;);  \n                    break;\n                }\n            else if((int)guess &gt; (int)randChar)\n                {\n                    System.out.println(&quot;The letter is earlier in the alphabet&quot;);\n                    break;\n                }\n            else {\n             \n             play = false;\n             break;\n        }          \n        }while (guess != randChar);\n        if (guess == randChar)\n        {\n            System.out.println(&quot;You have guessed the correct letter!&quot;);\n            Scanner answer = new Scanner(System.in);\n            System.out.println(&quot;Would you like another GO &quot;);\n            playAgain = answer.nextLine();\n            correctGue++;\n            if(playAgain.equalsIgnoreCase(&quot;Y&quot;))\n            {\n                play = true;\n            }\n            else if (playAgain.equalsIgnoreCase(&quot;N&quot;))\n            {\n                play = false;\n                System.out.println(&quot;Thanks for playing :) Please come back soon!&quot;);\n                System.out.println(&quot;The number of times you guessed correctly: &quot; + correctGue + &quot;&quot;);\n                break;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1702097228,"post_id":77630156,"comment_id":136858459,"body_markdown":"Recommend making use of `Collections.shuffle` if you&#39;re not restricted to arrays - otherwise you could run into the possibility of randomly selecting a previously asked question","body":"Recommend making use of <code>Collections.shuffle</code> if you&#39;re not restricted to arrays - otherwise you could run into the possibility of randomly selecting a previously asked question"},{"owner":{"account_id":5941380,"reputation":4127,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"score":0,"creation_date":1702097464,"post_id":77630156,"comment_id":136858476,"body_markdown":"@ Gabriel Escano check the answer I provided","body":"@ Gabriel Escano check the answer I provided"}],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4127,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702097181,"creation_date":1702097181,"answer_id":77630160,"question_id":77630156,"body_markdown":"    import java.util.Random;\r\n    \r\n    public class RandomQuestionPicker {\r\n    \r\n        public static void main(String[] args) {\r\n            Random random = new Random();\r\n    \r\n            int minQuestionNumber = 1;\r\n            int maxQuestionNumber = 4;\r\n    \r\n            int randomQuestionNumber = random.nextInt(maxQuestionNumber - minQuestionNumber + 1) + minQuestionNumber;\r\n    \r\n    \r\n            System.out.println(&quot;Randomly picked question: &quot; + randomQuestionNumber);\r\n        }\r\n    }\r\n\r\n**Refer the working code sample [here][1]**\r\n\r\n\r\n  [1]: https://onlinegdb.com/y2_1gqK6c","title":"How do you randomize questions in a quiz game in Java?","body":"<pre><code>import java.util.Random;\n\npublic class RandomQuestionPicker {\n\n    public static void main(String[] args) {\n        Random random = new Random();\n\n        int minQuestionNumber = 1;\n        int maxQuestionNumber = 4;\n\n        int randomQuestionNumber = random.nextInt(maxQuestionNumber - minQuestionNumber + 1) + minQuestionNumber;\n\n\n        System.out.println(&quot;Randomly picked question: &quot; + randomQuestionNumber);\n    }\n}\n</code></pre>\n<p><strong>Refer the working code sample <a href=\"https://onlinegdb.com/y2_1gqK6c\" rel=\"nofollow noreferrer\">here</a></strong></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702099977,"creation_date":1702099977,"answer_id":77630253,"question_id":77630156,"body_markdown":"&gt; _&quot;How do you randomize questions in a quiz game in Java? ...\\\r\n&gt;\\\r\n&gt; I wanted it so that my questions are randomly given, and not in a fixed pattern. ...&quot;_\r\n\r\nShuffle the values.\r\n\r\n```java\r\nString[] q = {\r\n    &quot;question 1&quot;, &quot;question 2&quot;, &quot;question 3&quot;, &quot;question 4&quot;\r\n};\r\nCollections.shuffle(Arrays.asList(q));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[question 1, question 3, question 4, question 2]\r\n```","title":"How do you randomize questions in a quiz game in Java?","body":"<blockquote>\n<p><em>&quot;How do you randomize questions in a quiz game in Java? ...<br />\n<br />\nI wanted it so that my questions are randomly given, and not in a fixed pattern. ...&quot;</em></p>\n</blockquote>\n<p>Shuffle the values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] q = {\n    &quot;question 1&quot;, &quot;question 2&quot;, &quot;question 3&quot;, &quot;question 4&quot;\n};\nCollections.shuffle(Arrays.asList(q));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[question 1, question 3, question 4, question 2]\n</code></pre>\n"}],"owner":{"account_id":30102642,"reputation":9,"user_id":23069309,"display_name":"Gabriel Escano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1702100070,"answer_count":2,"score":0,"last_activity_date":1702099977,"creation_date":1702097001,"question_id":77630156,"body_markdown":"I&#39;m making a quiz game for a school project, and I wanted it so that my questions are randomly given, and not in a fixed pattern. I researched on how I can use the randomizer package, but I can&#39;t seem to figure out how I can &quot;connect&quot; the randomizer to my questions.\r\n\r\nFor example: \r\nThe number of questions range from 1 to 4, how can I tell java to randomly pick a question from those set of numbers? \r\nMy idea is to make an array and let the randomizer package do the job (refer to the code below), but how to make it so that it chooses from the set of questions I made in the quiz game?\r\n\r\n```\r\n\t\tint[] numbers = {1, 2, 3 , 4};\r\n\t\t\r\n\t\tRandom rand = new Random();\r\n\t\t\r\n\t\tint randomize = rand.nextInt(numbers.length);\r\n\t\t\r\n\t\tSystem.out.println(randomize);\r\n```\r\n","title":"How do you randomize questions in a quiz game in Java?","body":"<p>I'm making a quiz game for a school project, and I wanted it so that my questions are randomly given, and not in a fixed pattern. I researched on how I can use the randomizer package, but I can't seem to figure out how I can &quot;connect&quot; the randomizer to my questions.</p>\n<p>For example:\nThe number of questions range from 1 to 4, how can I tell java to randomly pick a question from those set of numbers?\nMy idea is to make an array and let the randomizer package do the job (refer to the code below), but how to make it so that it chooses from the set of questions I made in the quiz game?</p>\n<pre><code>        int[] numbers = {1, 2, 3 , 4};\n        \n        Random rand = new Random();\n        \n        int randomize = rand.nextInt(numbers.length);\n        \n        System.out.println(randomize);\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","domain-driven-design","hexagonal-architecture"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701604943,"post_id":77593813,"comment_id":136794185,"body_markdown":"In my opinion the best way in this case is to create a common one and then use it where you need, because it is more related to infrastructure part and not bussines part.","body":"In my opinion the best way in this case is to create a common one and then use it where you need, because it is more related to infrastructure part and not bussines part."}],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702099386,"creation_date":1702099386,"answer_id":77630228,"question_id":77593813,"body_markdown":"&gt; Is it good practice to duplicate class userJpaEntity in each hexagon?\r\n\r\nDo both contexts access the same properties or do you access different parts of the userJpaEntity from the ConnexionManagment and the OrderManagment? In other words do you load more things from the database in each context then they need? If so, it is not the same userJpaEntity that you need.\r\n\r\nEven if the userJpaEntity looks the same in both contexts. Does the userJpaEntity change for the same reasons? If not it should be separated to honor the single responsibility principle, even if it look the same. It often only looks the same by accident.\r\n\r\n&gt; Or do I have to create a common hexagon and put all common classes in this hexagon?\r\n\r\nYou might want to use a shared kerned. I mean that you have a common domain entity that the userJpaEntity is mapped to. Having a shared kernel might also mean that you have a shared &quot;infrastructure&quot;, like the userJpaEntity, that is used to load the domain entity. You can then put the userJpaEntity in a separate module (library) that is used by the secondary port implementers, the adapters. I would not call this a common hexagon. It&#39;s just a shared kernel and some other shared librarie. Just parts of a hexagon that are shared.\r\n\r\nWhenever you use one thing from different contexts you create a dependency between them. Thus, you have to make changes in all contexts when the thing that all use changes. It might be ok.\r\n\r\n\r\n\r\n","title":"Multiple Hexagonal architecture with sprint boot","body":"<blockquote>\n<p>Is it good practice to duplicate class userJpaEntity in each hexagon?</p>\n</blockquote>\n<p>Do both contexts access the same properties or do you access different parts of the userJpaEntity from the ConnexionManagment and the OrderManagment? In other words do you load more things from the database in each context then they need? If so, it is not the same userJpaEntity that you need.</p>\n<p>Even if the userJpaEntity looks the same in both contexts. Does the userJpaEntity change for the same reasons? If not it should be separated to honor the single responsibility principle, even if it look the same. It often only looks the same by accident.</p>\n<blockquote>\n<p>Or do I have to create a common hexagon and put all common classes in this hexagon?</p>\n</blockquote>\n<p>You might want to use a shared kerned. I mean that you have a common domain entity that the userJpaEntity is mapped to. Having a shared kernel might also mean that you have a shared &quot;infrastructure&quot;, like the userJpaEntity, that is used to load the domain entity. You can then put the userJpaEntity in a separate module (library) that is used by the secondary port implementers, the adapters. I would not call this a common hexagon. It's just a shared kernel and some other shared librarie. Just parts of a hexagon that are shared.</p>\n<p>Whenever you use one thing from different contexts you create a dependency between them. Thus, you have to make changes in all contexts when the thing that all use changes. It might be ok.</p>\n"}],"owner":{"account_id":23378573,"reputation":1,"user_id":17446679,"display_name":"ElieA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702099386,"creation_date":1701598144,"question_id":77593813,"body_markdown":"I work on a spring boot application with spring data and hibernate.\r\nI am using hexagonal architecture.\r\nI have 2 hexagons:\r\n1. ConnexionManagment\r\n2. OrderManagment\r\n\r\nEach hexagon interacts with the same table in the database called User.\r\nIn the OrderManagment hexagon I use User table because user have a list of orders\r\nAnd in ConnexionManagment hexagon I use User table because I need to manage user information when the user subscribes and other things.\r\n\r\nSo in each hexagon U have added the same UserjpaEntity to interact with table user in the infrastructure layer.\r\n\r\nIs it good practice to duplicate class userJpaEntity in each hexagon?\r\nOr do I have to create a common hexagon and put all common classes in this hexagon?\r\n\r\nTo finish we can imagine other hexagon separate by functional domain which need to interact with the same table user in database.\r\n\r\nSo can you help me to find the best practice?\r\n[enter image description here][1]\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VTOSC.png","title":"Multiple Hexagonal architecture with sprint boot","body":"<p>I work on a spring boot application with spring data and hibernate.\nI am using hexagonal architecture.\nI have 2 hexagons:</p>\n<ol>\n<li>ConnexionManagment</li>\n<li>OrderManagment</li>\n</ol>\n<p>Each hexagon interacts with the same table in the database called User.\nIn the OrderManagment hexagon I use User table because user have a list of orders\nAnd in ConnexionManagment hexagon I use User table because I need to manage user information when the user subscribes and other things.</p>\n<p>So in each hexagon U have added the same UserjpaEntity to interact with table user in the infrastructure layer.</p>\n<p>Is it good practice to duplicate class userJpaEntity in each hexagon?\nOr do I have to create a common hexagon and put all common classes in this hexagon?</p>\n<p>To finish we can imagine other hexagon separate by functional domain which need to interact with the same table user in database.</p>\n<p>So can you help me to find the best practice?\n<a href=\"https://i.stack.imgur.com/VTOSC.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThanks.</p>\n"},{"tags":["java","codenameone"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702099046,"creation_date":1702099046,"answer_id":77630219,"question_id":77630043,"body_markdown":"Why isn&#39;t `EncryptedStorage.install(&quot;hshdjimnj&quot;);` the first line in the `init()` method?\r\n\r\nThis can happen if some code accesses preferences before the encryption took place which I&#39;m not sure how since `init()` should be the first thing. \r\n\r\nNotice that this is just an informative error as you can see by [this code][1]. That code returns null if it fails to read the file and reports the error to you. This will then trigger a rewrite of the properly encrypted file when the file is saved with a `set()` call.\r\n\r\n\r\n  [1]: https://github.com/codenameone/CodenameOne/blob/master/CodenameOne/src/com/codename1/io/Storage.java#L271-L277","title":"Encryption padding issue","body":"<p>Why isn't <code>EncryptedStorage.install(&quot;hshdjimnj&quot;);</code> the first line in the <code>init()</code> method?</p>\n<p>This can happen if some code accesses preferences before the encryption took place which I'm not sure how since <code>init()</code> should be the first thing.</p>\n<p>Notice that this is just an informative error as you can see by <a href=\"https://github.com/codenameone/CodenameOne/blob/master/CodenameOne/src/com/codename1/io/Storage.java#L271-L277\" rel=\"nofollow noreferrer\">this code</a>. That code returns null if it fails to read the file and reports the error to you. This will then trigger a rewrite of the properly encrypted file when the file is saved with a <code>set()</code> call.</p>\n"}],"owner":{"account_id":1852500,"reputation":201,"user_id":1678742,"accept_rate":0,"display_name":"user1678742"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702099046,"creation_date":1702093334,"question_id":77630043,"body_markdown":"I&#39;m seeing the following issue as crash reporting. There could be sequence of statements that cause the issue. Please see the code snippet and suggest if the sequence need to be changed as Preferences set on the first line. Please let me know.\r\n\r\n``\r\n\r\n    Codename One revisions: 7dd4e7d08b3442d90959477ee52a5ae8c4361b29\r\n    [EDT] 0:0:0,3 - Exception: java.io.IOException - \r\n    org.bouncycastle.crypto.InvalidCipherTextException: pad block corrupted\r\n    java.io.IOException\r\n    at com_codename1_crypto_EncryptedStorage.createInputStream:70\r\n    at com_codename1_io_Storage.readObject:263\r\n    at com_codename1_io_Preferences.get:84\r\n    at com_codename1_io_Preferences.get:252\r\n    at com_fluency_fluencymobile_server_ServerImpl.__INIT__:49\r\n    at com_fluency_fluencymobile_server_Server.__CLINIT__:14\r\n    at com_fluency_fluencymobile_Main.init:51\r\n    at com_fluency_fluencymobile_MainStub.run:30\r\n    at com_codename1_ui_Display.processSerialCalls:1303\r\n    at com_codename1_ui_Display.mainEDTLoop:1097\r\n    at com_codename1_ui_RunnableWrapper.run:120\r\n    at com_codename1_impl_CodenameOneThread.run:176\r\n    at java_lang_Thread.runImpl:153\r\n\r\n``\r\n\r\nCode:\r\n\r\n``\r\n\r\n    public void init(Object context) {\r\n    Preferences.setPreferencesLocation(&quot;EncryptedPreferences&quot;);\r\n    Storage.getInstance().deleteStorageFile(Cookie.STORAGE_NAME);\r\n    EncryptedStorage.install(&quot;hshdjimnj&quot;);\r\n    JSONParser.setUseLongs(true);\r\n    Display.getInstance().setProperty(&quot;AppVersion&quot;, &quot;2.1&quot;);\r\n    NetworkManager.getInstance().updateThreadCount(2);\r\n    Util.register(&quot;Activity&quot;, Activity.class);\r\n    Util.register(&quot;OfflineCommand&quot;, OfflineCommand.class);\r\n    Util.register(&quot;Appointment&quot;, Appointment.class);\r\n    theme = UIManager.initNamedTheme(&quot;/theme&quot;, &quot;Theme&quot;);\r\n    Dialog.setDefaultBlurBackgroundRadius(10);\r\n\r\n``","title":"Encryption padding issue","body":"<p>I'm seeing the following issue as crash reporting. There could be sequence of statements that cause the issue. Please see the code snippet and suggest if the sequence need to be changed as Preferences set on the first line. Please let me know.</p>\n<p>``</p>\n<pre><code>Codename One revisions: 7dd4e7d08b3442d90959477ee52a5ae8c4361b29\n[EDT] 0:0:0,3 - Exception: java.io.IOException - \norg.bouncycastle.crypto.InvalidCipherTextException: pad block corrupted\njava.io.IOException\nat com_codename1_crypto_EncryptedStorage.createInputStream:70\nat com_codename1_io_Storage.readObject:263\nat com_codename1_io_Preferences.get:84\nat com_codename1_io_Preferences.get:252\nat com_fluency_fluencymobile_server_ServerImpl.__INIT__:49\nat com_fluency_fluencymobile_server_Server.__CLINIT__:14\nat com_fluency_fluencymobile_Main.init:51\nat com_fluency_fluencymobile_MainStub.run:30\nat com_codename1_ui_Display.processSerialCalls:1303\nat com_codename1_ui_Display.mainEDTLoop:1097\nat com_codename1_ui_RunnableWrapper.run:120\nat com_codename1_impl_CodenameOneThread.run:176\nat java_lang_Thread.runImpl:153\n</code></pre>\n<p>``</p>\n<p>Code:</p>\n<p>``</p>\n<pre><code>public void init(Object context) {\nPreferences.setPreferencesLocation(&quot;EncryptedPreferences&quot;);\nStorage.getInstance().deleteStorageFile(Cookie.STORAGE_NAME);\nEncryptedStorage.install(&quot;hshdjimnj&quot;);\nJSONParser.setUseLongs(true);\nDisplay.getInstance().setProperty(&quot;AppVersion&quot;, &quot;2.1&quot;);\nNetworkManager.getInstance().updateThreadCount(2);\nUtil.register(&quot;Activity&quot;, Activity.class);\nUtil.register(&quot;OfflineCommand&quot;, OfflineCommand.class);\nUtil.register(&quot;Appointment&quot;, Appointment.class);\ntheme = UIManager.initNamedTheme(&quot;/theme&quot;, &quot;Theme&quot;);\nDialog.setDefaultBlurBackgroundRadius(10);\n</code></pre>\n<p>``</p>\n"},{"tags":["java","cmd","netstat"],"comments":[{"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"score":1,"creation_date":1364769522,"post_id":15735379,"comment_id":22356787,"body_markdown":"you should use `ProcessBuilder` instead of `Runtime` and you need to show us `readCmd()`. the error probably lies in there.","body":"you should use <code>ProcessBuilder</code> instead of <code>Runtime</code> and you need to show us <code>readCmd()</code>. the error probably lies in there."},{"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"score":0,"creation_date":1364770070,"post_id":15735379,"comment_id":22356908,"body_markdown":"alright, `readCmd` seems ok. maybe just try to use a `PrintWriter` wrapping your `OutputStream`. I also encountered this problem some time ago. Still don&#39;t know, why that happens.","body":"alright, <code>readCmd</code> seems ok. maybe just try to use a <code>PrintWriter</code> wrapping your <code>OutputStream</code>. I also encountered this problem some time ago. Still don&#39;t know, why that happens."},{"owner":{"account_id":1194963,"reputation":2297,"user_id":1166894,"accept_rate":73,"display_name":"neutrino"},"score":0,"creation_date":1364804718,"post_id":15735379,"comment_id":22364912,"body_markdown":"How is `command1` defined?","body":"How is <code>command1</code> defined?"},{"owner":{"account_id":2564849,"reputation":153,"user_id":2225210,"accept_rate":64,"display_name":"Miigueel"},"score":0,"creation_date":1364806365,"post_id":15735379,"comment_id":22365528,"body_markdown":"public static String command1 =&quot;netstat&quot;;","body":"public static String command1 =&quot;netstat&quot;;"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1636931039,"post_id":15735379,"comment_id":123682958,"body_markdown":"&quot;Obviously i&#39;m working with eclipse, in windows 7&quot; - how is that obvious?","body":"&quot;Obviously i&#39;m working with eclipse, in windows 7&quot; - how is that obvious?"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1584925962,"post_id":15773908,"comment_id":107582912,"body_markdown":"You forgot to close the file.","body":"You forgot to close the file."}],"tags":[],"owner":{"account_id":199887,"reputation":3242,"user_id":445452,"accept_rate":61,"display_name":"sreeprasad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364935119,"creation_date":1364935119,"answer_id":15773908,"question_id":15735379,"body_markdown":"\t\t\r\n\t\t\r\nTry this : I was able to create a file in my default temporary directory with all the connections\r\n\r\n    final String cmd = &quot;netstat -ano&quot;;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t  \r\n    \t\t    Process process = Runtime.getRuntime().exec(cmd);\r\n    \t\t    \r\n    \t\t    InputStream in = process.getInputStream();\r\n    \t\t    \r\n    \t\t    File tmp = File.createTempFile(&quot;allConnections&quot;,&quot;txt&quot;);\r\n    \t\t    \r\n    \t\t    byte[] buf = new byte[256];\r\n    \r\n    \t\t    OutputStream outputConnectionsToFile = new FileOutputStream(tmp);\r\n    \r\n    \t\t    int numbytes = 0;\r\n    \t\t    \r\n    \t\t    while ((numbytes = in.read(buf, 0, 256)) != -1) {\r\n    \t\t    \t\r\n    \t\t    \toutputConnectionsToFile.write(buf, 0, numbytes);\r\n    \t\t    \r\n    \t\t    }\r\n    \t\t    \r\n    \t\t    System.out.println(&quot;File is present at &quot;+tmp.getAbsolutePath());\r\n    \t\t    \r\n    \t\t    \r\n    \t\t} catch (Exception e) {\r\n    \t\t    e.printStackTrace(System.err);\r\n    \t\t}\r\n    \t\t","title":"java write netstat in cmd","body":"<p>Try this : I was able to create a file in my default temporary directory with all the connections</p>\n\n<pre><code>final String cmd = \"netstat -ano\";\n\n        try {\n\n            Process process = Runtime.getRuntime().exec(cmd);\n\n            InputStream in = process.getInputStream();\n\n            File tmp = File.createTempFile(\"allConnections\",\"txt\");\n\n            byte[] buf = new byte[256];\n\n            OutputStream outputConnectionsToFile = new FileOutputStream(tmp);\n\n            int numbytes = 0;\n\n            while ((numbytes = in.read(buf, 0, 256)) != -1) {\n\n                outputConnectionsToFile.write(buf, 0, numbytes);\n\n            }\n\n            System.out.println(\"File is present at \"+tmp.getAbsolutePath());\n\n\n        } catch (Exception e) {\n            e.printStackTrace(System.err);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1584926029,"post_id":22868521,"comment_id":107582921,"body_markdown":"The problem isn&#39;t parsing the output, it is getting the correct output, i.e. running the correct command.","body":"The problem isn&#39;t parsing the output, it is getting the correct output, i.e. running the correct command."}],"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1396630043,"creation_date":1396630043,"answer_id":22868521,"question_id":15735379,"body_markdown":"You can also use an instance of [**`java.util.Scanner`**][1] to read the output of the command.\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString[] cmdarray = { &quot;netstat&quot;, &quot;-o&quot; };\r\n\t\tProcess process = Runtime.getRuntime().exec(cmdarray);\r\n\t\tScanner sc = new Scanner(process.getInputStream(), &quot;IBM850&quot;);\r\n\t\tsc.useDelimiter(&quot;\\\\A&quot;);\r\n\t\tSystem.out.println(sc.next());\r\n\t\tsc.close();\r\n\t}\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html","title":"java write netstat in cmd","body":"<p>You can also use an instance of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html\" rel=\"nofollow\"><strong><code>java.util.Scanner</code></strong></a> to read the output of the command.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    String[] cmdarray = { \"netstat\", \"-o\" };\n    Process process = Runtime.getRuntime().exec(cmdarray);\n    Scanner sc = new Scanner(process.getInputStream(), \"IBM850\");\n    sc.useDelimiter(\"\\\\A\");\n    System.out.println(sc.next());\n    sc.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1483797,"reputation":4018,"user_id":1392490,"accept_rate":100,"display_name":"rollstuhlfahrer"},"score":2,"creation_date":1523395957,"post_id":49762857,"comment_id":86541917,"body_markdown":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value.","body":"While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."}],"tags":[],"owner":{"account_id":13338074,"reputation":1,"user_id":9627259,"display_name":"Santosh Kumar"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1523395945,"creation_date":1523394449,"answer_id":49762857,"question_id":15735379,"body_markdown":"    final String cmd = &quot;netstat -ano&quot;;\r\n\r\n        try {\r\n\r\n            Process process = Runtime.getRuntime().exec(cmd);\r\n\r\n            InputStream in = process.getInputStream();\r\n            InputStreamReader isr = new InputStreamReader(in);\r\n            BufferedReader br = new BufferedReader(isr);\r\n            String line;\r\n\r\n            while ((line = br.readLine()) != null) {\r\n               System.out.println(line);\r\n            }\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace(System.err);\r\n        } finally{\r\n            in  = null;\r\n            isr = null;\r\n            br = null;\r\n        }","title":"java write netstat in cmd","body":"<pre><code>final String cmd = \"netstat -ano\";\n\n    try {\n\n        Process process = Runtime.getRuntime().exec(cmd);\n\n        InputStream in = process.getInputStream();\n        InputStreamReader isr = new InputStreamReader(in);\n        BufferedReader br = new BufferedReader(isr);\n        String line;\n\n        while ((line = br.readLine()) != null) {\n           System.out.println(line);\n        }\n\n\n    } catch (Exception e) {\n        e.printStackTrace(System.err);\n    } finally{\n        in  = null;\n        isr = null;\n        br = null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689060575,"creation_date":1689060575,"answer_id":76659590,"question_id":15735379,"body_markdown":"File [NETSTAT.EXE][1] should be on the [PATH][2] (environment variable), hence your &quot;command&quot; of just _netstat_ should be enough. If `NETSTAT.EXE` is not on the PATH, you can either edit the PATH or provide the full path to the file in your Java code. On my Windows 10 machine, the path to the file is...\r\n```none\r\nC:\\Windows\\System32\\NETSTAT.EXE\r\n```\r\nYou should also use class [ProcessBuilder][3] rather than class `Runtime`. Since JDK 7, class `ProcessBuilder` has method `inheritIO`. Hence if all you want is to print the output of `netstat`, the following is the simplest code to achieve that. Note that the below code works because file `NETSTAT.EXE` is on the PATH.\r\n```java\r\nimport java.io.IOException;\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;netstat&quot;);\r\n        pb.inheritIO();\r\n        try {\r\n            pb.start();\r\n        }\r\n        catch (IOException x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nHere are the first few lines of output that are displayed when I run the above code.\r\n```none\r\n\r\nActive Connections\r\n\r\n  Proto  Local Address          Foreign Address        State\r\n  TCP    127.0.0.1:5354         BDL-DLRC88V:49669      ESTABLISHED\r\n```\r\n\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/netstat\r\n  [2]: https://cs1331.gitlab.io/environment-variables.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html","title":"java write netstat in cmd","body":"<p>File <a href=\"https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/netstat\" rel=\"nofollow noreferrer\">NETSTAT.EXE</a> should be on the <a href=\"https://cs1331.gitlab.io/environment-variables.html\" rel=\"nofollow noreferrer\">PATH</a> (environment variable), hence your &quot;command&quot; of just <em>netstat</em> should be enough. If <code>NETSTAT.EXE</code> is not on the PATH, you can either edit the PATH or provide the full path to the file in your Java code. On my Windows 10 machine, the path to the file is...</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Windows\\System32\\NETSTAT.EXE\n</code></pre>\n<p>You should also use class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> rather than class <code>Runtime</code>. Since JDK 7, class <code>ProcessBuilder</code> has method <code>inheritIO</code>. Hence if all you want is to print the output of <code>netstat</code>, the following is the simplest code to achieve that. Note that the below code works because file <code>NETSTAT.EXE</code> is on the PATH.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\n\npublic class Solution {\n    public static void main(String[] args) {\n        ProcessBuilder pb = new ProcessBuilder(&quot;netstat&quot;);\n        pb.inheritIO();\n        try {\n            pb.start();\n        }\n        catch (IOException x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here are the first few lines of output that are displayed when I run the above code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>\nActive Connections\n\n  Proto  Local Address          Foreign Address        State\n  TCP    127.0.0.1:5354         BDL-DLRC88V:49669      ESTABLISHED\n</code></pre>\n"}],"owner":{"account_id":2564849,"reputation":153,"user_id":2225210,"accept_rate":64,"display_name":"Miigueel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8335,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1702098531,"creation_date":1364769418,"question_id":15735379,"body_markdown":"My goal is to print all the internet connections on my computer. When I type `netstat` on CMD, I get the internet connections list. I wanted to do the same in Java, automatically.\r\n\r\nMy code:\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    process = runtime.exec(pathToCmd);\r\n    byte[] command1array = command1.getBytes(); // writing netstat in an array of bytes\r\n    OutputStream out = process.getOutputStream();\r\n    out.write(command1array);\r\n    out.flush();\r\n    out.close();\r\n    readCmd();  //read and print cmd\r\n\r\nBut with this code I get `C:\\eclipse\\workspace\\Tracker&gt;Mais?` instead of the list of connections. Obviously I&#39;m working with Eclipse, in Windows 7. What am I doing wrong? I&#39;ve looked in similar topics but I couldn&#39;t find what&#39;s wrong. Thank you for the answers.\r\n\r\nEDIT:\r\n \r\n    public static void readCmd() throws IOException {\r\n\t    is = process.getInputStream();\r\n\t    isr = new InputStreamReader(is);\r\n\t    br = new BufferedReader(isr);\r\n        String line;\r\n\t    while ((line = br.readLine()) != null) {\r\n\t        System.out.println(line);\r\n        }\r\n    }\r\n","title":"java write netstat in cmd","body":"<p>My goal is to print all the internet connections on my computer. When I type <code>netstat</code> on CMD, I get the internet connections list. I wanted to do the same in Java, automatically.</p>\n<p>My code:</p>\n<pre><code>Runtime runtime = Runtime.getRuntime();\nprocess = runtime.exec(pathToCmd);\nbyte[] command1array = command1.getBytes(); // writing netstat in an array of bytes\nOutputStream out = process.getOutputStream();\nout.write(command1array);\nout.flush();\nout.close();\nreadCmd();  //read and print cmd\n</code></pre>\n<p>But with this code I get <code>C:\\eclipse\\workspace\\Tracker&gt;Mais?</code> instead of the list of connections. Obviously I'm working with Eclipse, in Windows 7. What am I doing wrong? I've looked in similar topics but I couldn't find what's wrong. Thank you for the answers.</p>\n<p>EDIT:</p>\n<pre><code>public static void readCmd() throws IOException {\n    is = process.getInputStream();\n    isr = new InputStreamReader(is);\n    br = new BufferedReader(isr);\n    String line;\n    while ((line = br.readLine()) != null) {\n        System.out.println(line);\n    }\n}\n</code></pre>\n"},{"tags":["java","robotics"],"answers":[{"tags":[],"owner":{"account_id":24000166,"reputation":220,"user_id":17985195,"display_name":"TP95"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701994673,"creation_date":1701994673,"answer_id":77623688,"question_id":77623652,"body_markdown":"Try this:\r\n\r\n``` java\r\nprivate void drive(int mainTarget, double speed) {\r\n  mainPos += mainTarget;\r\n  main.setTargetPosition(mainPos);\r\n  main.setMode(DcMotor.RunMode.RUN_TO_POSITION);\r\n  main.setPower(speed);\r\n  while (opModeIsActive() &amp;&amp; main.isBusy()) {\r\n    idle();\r\n  }\r\n  main.setPower(0); // Stop the motor here\r\n}\r\n\r\n```","title":"My FTC motor is continously running, any ideas?","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void drive(int mainTarget, double speed) {\n  mainPos += mainTarget;\n  main.setTargetPosition(mainPos);\n  main.setMode(DcMotor.RunMode.RUN_TO_POSITION);\n  main.setPower(speed);\n  while (opModeIsActive() &amp;&amp; main.isBusy()) {\n    idle();\n  }\n  main.setPower(0); // Stop the motor here\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30101455,"reputation":11,"user_id":23068463,"display_name":"Louis McCarthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702098487,"creation_date":1702098487,"answer_id":77630194,"question_id":77623652,"body_markdown":"I&#39;m assuming that you mean that the motor continues to run until the autonomous timer expires or the program is terminated with the driver station?\r\n\r\nIf your motor is wired backwards (power and encoder are going opposite directions), the motor will continue to run because it never (within FTC match time) makes it to the target position. This is like trying to go from the Great Lakes to the Gulf of Mexico by flying North! You&#39;re taking the long way...\r\n\r\nAnother possibility is that the encoder connector is plugged in backwards (if you are using a level shifter). This will result in the encoder counts being stuck on a fixed value (typically close to 0).\r\n\r\nYou can print the current position and the target position inside the while loop, using a telemetry command. This will help you determine if it is a hardware problem.","title":"My FTC motor is continously running, any ideas?","body":"<p>I'm assuming that you mean that the motor continues to run until the autonomous timer expires or the program is terminated with the driver station?</p>\n<p>If your motor is wired backwards (power and encoder are going opposite directions), the motor will continue to run because it never (within FTC match time) makes it to the target position. This is like trying to go from the Great Lakes to the Gulf of Mexico by flying North! You're taking the long way...</p>\n<p>Another possibility is that the encoder connector is plugged in backwards (if you are using a level shifter). This will result in the encoder counts being stuck on a fixed value (typically close to 0).</p>\n<p>You can print the current position and the target position inside the while loop, using a telemetry command. This will help you determine if it is a hardware problem.</p>\n"}],"owner":{"account_id":30093776,"reputation":1,"user_id":23062569,"display_name":"Litheon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1702098487,"creation_date":1701993628,"question_id":77623652,"body_markdown":"This is my program. Why does it keeps moving, instead of stopping? I don&#39;t see any clear issues, and the motor just continues turning without stopping.\r\n```\r\npackage org.firstinspires.ftc.teamcode.drive.auto;\r\n\r\nimport com.qualcomm.robotcore.eventloop.opmode.Autonomous;\r\nimport com.qualcomm.robotcore.eventloop.opmode.LinearOpMode;\r\nimport com.qualcomm.robotcore.hardware.DcMotor;\r\nimport com.qualcomm.robotcore.hardware.DcMotorSimple;\r\n\r\n@Autonomous(name=&quot;EncoderTestOneThousand&quot;, group=&quot;Autonomous&quot;)\r\npublic class EncoderTestOneThousand extends LinearOpMode {\r\n    private DcMotor main;\r\n    private int mainPos;\r\n\r\n    @Override\r\n    public void runOpMode() {\r\n        main = hardwareMap.get(DcMotor.class, &quot;main&quot;);\r\n        main.setMode(DcMotor.RunMode.STOP_AND_RESET_ENCODER);\r\n        main.setDirection(DcMotorSimple.Direction.REVERSE);\r\n        mainPos = 0;\r\n        waitForStart();\r\n        drive (100, 0.5);\r\n    }\r\n\r\n    private void drive(int mainTarget, double speed) {\r\n        mainPos += mainTarget;\r\n        main.setTargetPosition(mainPos);\r\n        main.setMode(DcMotor.RunMode.RUN_TO_POSITION);\r\n        main.setPower(speed);\r\n        while (opModeIsActive() &amp;&amp; main.isBusy()) {\r\n            idle();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to remove and add brackets, and still had the same result. I&#39;ve double checked it all and don&#39;t see any reasons it won&#39;t stop movement.","title":"My FTC motor is continously running, any ideas?","body":"<p>This is my program. Why does it keeps moving, instead of stopping? I don't see any clear issues, and the motor just continues turning without stopping.</p>\n<pre><code>package org.firstinspires.ftc.teamcode.drive.auto;\n\nimport com.qualcomm.robotcore.eventloop.opmode.Autonomous;\nimport com.qualcomm.robotcore.eventloop.opmode.LinearOpMode;\nimport com.qualcomm.robotcore.hardware.DcMotor;\nimport com.qualcomm.robotcore.hardware.DcMotorSimple;\n\n@Autonomous(name=&quot;EncoderTestOneThousand&quot;, group=&quot;Autonomous&quot;)\npublic class EncoderTestOneThousand extends LinearOpMode {\n    private DcMotor main;\n    private int mainPos;\n\n    @Override\n    public void runOpMode() {\n        main = hardwareMap.get(DcMotor.class, &quot;main&quot;);\n        main.setMode(DcMotor.RunMode.STOP_AND_RESET_ENCODER);\n        main.setDirection(DcMotorSimple.Direction.REVERSE);\n        mainPos = 0;\n        waitForStart();\n        drive (100, 0.5);\n    }\n\n    private void drive(int mainTarget, double speed) {\n        mainPos += mainTarget;\n        main.setTargetPosition(mainPos);\n        main.setMode(DcMotor.RunMode.RUN_TO_POSITION);\n        main.setPower(speed);\n        while (opModeIsActive() &amp;&amp; main.isBusy()) {\n            idle();\n        }\n    }\n}\n</code></pre>\n<p>I tried to remove and add brackets, and still had the same result. I've double checked it all and don't see any reasons it won't stop movement.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":29954500,"reputation":41,"user_id":22955729,"display_name":"Eira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702032311,"creation_date":1702032311,"answer_id":77626004,"question_id":77625448,"body_markdown":"It seems like you want to perform a double click on a button until a certain condition (in this case, the visibility of holderTypeDropdown) is met. You can achieve this by modifying your code slightly. Instead of using a `do-while loop`, you can use a `while loop` with a condition to check `if the holderTypeDropdown is not displayed.` If it&#39;s not displayed, perform the `double click;` otherwise, exit the loop.\r\n\r\n    int maxAttempts = 3;\r\n    int attemptCount = 0;\r\n    \r\n    while (!holderTypeDropdown.get(0).isDisplayed() &amp;&amp; attemptCount &lt; maxAttempts) {\r\n        ButtonAndMouseActions.doubleClickOnButton(driver, starSecurityHolderTypeValues.get(0));\r\n        attemptCount++;\r\n    }\r\n    \r\n    // Further code after the loop (e.g., interacting with the dropdown when it is displayed)\r\n    if (holderTypeDropdown.get(0).isDisplayed()) {\r\n        // Your code to interact with the dropdown\r\n    } else {\r\n        // Code to handle the case when the dropdown is still not displayed after max attempts\r\n        System.out.println(&quot;Dropdown not displayed after &quot; + maxAttempts + &quot; attempts.&quot;);\r\n    }\r\nIn this code snippet, the loop will continue as long as `holderTypeDropdown` is not displayed and the number of attempts is less than the maximum allowed attempts (`maxAttempts`). If the dropdown becomes visible or the maximum attempts are reached, the loop will exit, and you can handle the scenario accordingly.\r\n","title":"Click on a web element until a particular element is displayed","body":"<p>It seems like you want to perform a double click on a button until a certain condition (in this case, the visibility of holderTypeDropdown) is met. You can achieve this by modifying your code slightly. Instead of using a <code>do-while loop</code>, you can use a <code>while loop</code> with a condition to check <code>if the holderTypeDropdown is not displayed.</code> If it's not displayed, perform the <code>double click;</code> otherwise, exit the loop.</p>\n<pre><code>int maxAttempts = 3;\nint attemptCount = 0;\n\nwhile (!holderTypeDropdown.get(0).isDisplayed() &amp;&amp; attemptCount &lt; maxAttempts) {\n    ButtonAndMouseActions.doubleClickOnButton(driver, starSecurityHolderTypeValues.get(0));\n    attemptCount++;\n}\n\n// Further code after the loop (e.g., interacting with the dropdown when it is displayed)\nif (holderTypeDropdown.get(0).isDisplayed()) {\n    // Your code to interact with the dropdown\n} else {\n    // Code to handle the case when the dropdown is still not displayed after max attempts\n    System.out.println(&quot;Dropdown not displayed after &quot; + maxAttempts + &quot; attempts.&quot;);\n}\n</code></pre>\n<p>In this code snippet, the loop will continue as long as <code>holderTypeDropdown</code> is not displayed and the number of attempts is less than the maximum allowed attempts (<code>maxAttempts</code>). If the dropdown becomes visible or the maximum attempts are reached, the loop will exit, and you can handle the scenario accordingly.</p>\n"}],"owner":{"account_id":30096281,"reputation":3,"user_id":23064435,"display_name":"Pratik Pathare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77626004,"answer_count":1,"score":0,"last_activity_date":1702098441,"creation_date":1702026162,"question_id":77625448,"body_markdown":"I have a web element that when double-clicked, gives access to the dropdown. I am trying to use a do-while loop to achieve this but the web element needs one two or three double-click attempts to have dropdown being enabled. \r\n\r\n```\r\ndo {\r\n   ButtonAndMouseActions.doubleClickOnButton(driver,starSecurityHolderTypeValues.get(0));\r\n} \r\nwhile (holderTypeDropdown.get(0).isDisplayed());\r\n```\r\n\r\nIn `while` condition, the `holderTypeDropdown` is not displayed and it lands me in the holder type dropdown element not visible exception and my code is not executed further. I want to double-click on `starSecurityHolderTypeValues` until that `holderTypeDropdown is displayed. ","title":"Click on a web element until a particular element is displayed","body":"<p>I have a web element that when double-clicked, gives access to the dropdown. I am trying to use a do-while loop to achieve this but the web element needs one two or three double-click attempts to have dropdown being enabled.</p>\n<pre><code>do {\n   ButtonAndMouseActions.doubleClickOnButton(driver,starSecurityHolderTypeValues.get(0));\n} \nwhile (holderTypeDropdown.get(0).isDisplayed());\n</code></pre>\n<p>In <code>while</code> condition, the <code>holderTypeDropdown</code> is not displayed and it lands me in the holder type dropdown element not visible exception and my code is not executed further. I want to double-click on <code>starSecurityHolderTypeValues</code> until that `holderTypeDropdown is displayed.</p>\n"},{"tags":["java","mqtt","paho","moquette"],"answers":[{"comments":[{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1522255403,"post_id":49533375,"comment_id":86087144,"body_markdown":"Setting the retained flag only keeps the last message published (with the retained flag set) on a given topic. It does not queue messages for offline clients that have been previously subscribed to a topic.","body":"Setting the retained flag only keeps the last message published (with the retained flag set) on a given topic. It does not queue messages for offline clients that have been previously subscribed to a topic."},{"owner":{"account_id":2492704,"reputation":1081,"user_id":2169868,"accept_rate":100,"display_name":"mad_manny"},"score":0,"creation_date":1522298983,"post_id":49533375,"comment_id":86103676,"body_markdown":"@hardlib Yes of course it only keeps the last message. The OP did not state that ALL messages should be kept. If this is the case, MQTT is the wrong choice anyway, because MQTT is not designed for this. The Broker is to be understood as a kind of state database. (edited the answer to respect that)","body":"@hardlib Yes of course it only keeps the last message. The OP did not state that ALL messages should be kept. If this is the case, MQTT is the wrong choice anyway, because MQTT is not designed for this. The Broker is to be understood as a kind of state database. (edited the answer to respect that)"}],"tags":[],"owner":{"account_id":2492704,"reputation":1081,"user_id":2169868,"accept_rate":100,"display_name":"mad_manny"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522299125,"creation_date":1522236671,"answer_id":49533375,"question_id":49151167,"body_markdown":"In your case you need to set the `retained` flag to `true` when creating the `MqttMessage` in your `ClientLauncher` (publisher). The default value is `false` as in the [documentation][1].\r\n\r\n    ...    \r\n    message.setRetained(true)\r\n    ...\r\n\r\nSetting this flag enables messages to be retained on the broker and be sent to newly connected clients. Please be aware, that the broker only keeps the last message for a topic. There is no way to keep more than one message for a specific topic.\r\n\r\n\r\n\r\n  [1]: https://www.eclipse.org/paho/files/javadoc/org/eclipse/paho/client/mqttv3/MqttMessage.html#setRetained-boolean-","title":"Offline messages are not consumed in Moquette with Paho Client","body":"<p>In your case you need to set the <code>retained</code> flag to <code>true</code> when creating the <code>MqttMessage</code> in your <code>ClientLauncher</code> (publisher). The default value is <code>false</code> as in the <a href=\"https://www.eclipse.org/paho/files/javadoc/org/eclipse/paho/client/mqttv3/MqttMessage.html#setRetained-boolean-\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<pre><code>...    \nmessage.setRetained(true)\n...\n</code></pre>\n\n<p>Setting this flag enables messages to be retained on the broker and be sent to newly connected clients. Please be aware, that the broker only keeps the last message for a topic. There is no way to keep more than one message for a specific topic.</p>\n"}],"owner":{"account_id":994678,"reputation":489,"user_id":1010950,"accept_rate":42,"display_name":"gbids"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1702097705,"creation_date":1520423183,"question_id":49151167,"body_markdown":"I have an issue with respect to consuming offline MQTT messages in Moquette server through eclipse Paho client.\r\n\r\nFollowing are the steps which I have followed.\r\n\r\n1. Created and spinned up the Moquette MQTT broker.\r\n2. Created a simple MQTT consumer application using eclipse Paho client.\r\n3. Set consumer to consume data on topic : &quot;devices/reported/#&quot; with QOS : 1 and CleanSession : False\r\n4. Created a simple MQTT data publisher to publish data to MQTT broker using Eclipse Paho.\r\n5. Used MQTT data publisher to publish messages to : &quot;devices/reported/client_1&quot; topic with QOS : 1\r\n\r\nAbove steps were successful without any issue.\r\n\r\nThen I stopped my consumer application and sent MQTT data to broker with the same topic. using my publisher application - Server was able to receive these messages but in this moment there was no any consumer to consume this message since I have stopped my consumer.\r\nThen I started my consumer application again. It was connected to the broker successfully but, it did not receive any message which I sent to broker while the consumer shutdown.\r\n\r\nDo I need to do any specific configuration to my Moquette server to persist data (with clean session : false) ?\r\nOr am I missing something ?\r\n\r\nPlease find my sample code below,\r\n\r\n*Moquette Server initialization*\r\n\r\n    package com.gbids.mqtt.moquette.main;\r\n    \r\n    import com.gbids.mqtt.moquette.server.PublishInterceptor;\r\n    import io.moquette.interception.InterceptHandler;\r\n    import io.moquette.server.Server;\r\n    import io.moquette.server.config.IConfig;\r\n    import io.moquette.server.config.MemoryConfig;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Properties;\r\n    \r\n    public class ServerLauncher {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            Properties props = new Properties();\r\n            final IConfig configs = new MemoryConfig(props);\r\n    \r\n            final Server mqttBroker = new Server();\r\n            final List&lt;? extends InterceptHandler&gt; userHandlers = Arrays.asList(new PublishInterceptor());\r\n            mqttBroker.startServer(configs, userHandlers);\r\n    \r\n            System.out.println(&quot;moquette mqtt broker started, press ctrl-c to shutdown..&quot;);\r\n            Runtime.getRuntime().addShutdownHook(new Thread() {\r\n                @Override\r\n                public void run() {\r\n                    System.out.println(&quot;stopping moquette mqtt broker..&quot;);\r\n                    mqttBroker.stopServer();\r\n                    System.out.println(&quot;moquette mqtt broker stopped&quot;);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n*MQTT Consumer*\r\n\r\n    package com.gbids.mqtt.moquette.main;\r\n    \r\n    import org.eclipse.paho.client.mqttv3.*;\r\n    import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n    \r\n    public class ConsumerLauncher implements MqttCallback {\r\n    \r\n        private static final String topicPrefix = &quot;devices/reported&quot;;\r\n        private static final String broker = &quot;tcp://0.0.0.0:1883&quot;;\r\n        private static final String clientIdPrefix = &quot;consumer&quot;;\r\n    \r\n        public static void main(String[] args) throws MqttException {\r\n            final String clientId = &quot;consumer_1&quot;;\r\n            MqttClient sampleClient = new MqttClient(broker, clientId, new MemoryPersistence());\r\n            MqttConnectOptions connOpts = new MqttConnectOptions();\r\n            connOpts.setCleanSession(false);\r\n            sampleClient.connect(connOpts);\r\n            sampleClient.subscribe(topicPrefix + &quot;/#&quot;, 1);\r\n            sampleClient.setCallback(new ConsumerLauncher());\r\n        }\r\n    \r\n        public void connectionLost(Throwable throwable) {\r\n            System.out.println(&quot;Consumer connection lost : &quot; + throwable.getMessage());\r\n        }\r\n    \r\n        public void messageArrived(String s, MqttMessage mqttMessage) throws Exception {\r\n            System.out.println(&quot;Message arrived from topic : &quot; + s + &quot; | Message : &quot; + new String(mqttMessage.getPayload()) + &quot; | Message ID : &quot; +mqttMessage.getId());\r\n        }\r\n    \r\n        public void deliveryComplete(IMqttDeliveryToken iMqttDeliveryToken) {\r\n            System.out.println(&quot;Delivery completed from : &quot; + clientIdPrefix + &quot;_1&quot;);\r\n        }\r\n    }\r\n\r\n*MQTT Publisher*\r\n\r\n    package com.gbids.mqtt.moquette.main;\r\n    \r\n    import org.eclipse.paho.client.mqttv3.MqttClient;\r\n    import org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\n    import org.eclipse.paho.client.mqttv3.MqttException;\r\n    import org.eclipse.paho.client.mqttv3.MqttMessage;\r\n    import org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\n    \r\n    public class ClientLauncher {\r\n    \r\n        private static final String content = &quot;{\\&quot;randomData\\&quot;: 25}&quot;;\r\n        private static final String willContent = &quot;Client disconnected unexpectedly&quot;;\r\n        private static final String broker = &quot;tcp://0.0.0.0:1883&quot;;\r\n        private static final String clientIdPrefix = &quot;client&quot;;\r\n    \r\n        public static void main(String[] args) throws Exception{\r\n            sendDataWithQOSOne();\r\n            System.exit(0);\r\n        }\r\n    \r\n        private static void sendDataWithQOSOne(){\r\n            try {\r\n                final String clientId = &quot;client_1&quot;;\r\n                MqttClient sampleClient = new MqttClient(broker, clientId, new MemoryPersistence());\r\n                MqttConnectOptions connOpts = new MqttConnectOptions();\r\n                connOpts.setCleanSession(false); // for publisher - this is not needed I think\r\n                sampleClient.connect(connOpts);\r\n                MqttMessage message = new MqttMessage(content.getBytes());\r\n                message.setQos(1);\r\n                final String topic = &quot;devices/reported/&quot; + clientId;\r\n                sampleClient.publish(topic, message);\r\n                System.out.println(&quot;Message published from : &quot; + clientId + &quot; with payload of : &quot; + content);\r\n                sampleClient.disconnect();\r\n            } catch (MqttException me) {\r\n                me.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Offline messages are not consumed in Moquette with Paho Client","body":"<p>I have an issue with respect to consuming offline MQTT messages in Moquette server through eclipse Paho client.</p>\n\n<p>Following are the steps which I have followed.</p>\n\n<ol>\n<li>Created and spinned up the Moquette MQTT broker.</li>\n<li>Created a simple MQTT consumer application using eclipse Paho client.</li>\n<li>Set consumer to consume data on topic : \"devices/reported/#\" with QOS : 1 and CleanSession : False</li>\n<li>Created a simple MQTT data publisher to publish data to MQTT broker using Eclipse Paho.</li>\n<li>Used MQTT data publisher to publish messages to : \"devices/reported/client_1\" topic with QOS : 1</li>\n</ol>\n\n<p>Above steps were successful without any issue.</p>\n\n<p>Then I stopped my consumer application and sent MQTT data to broker with the same topic. using my publisher application - Server was able to receive these messages but in this moment there was no any consumer to consume this message since I have stopped my consumer.\nThen I started my consumer application again. It was connected to the broker successfully but, it did not receive any message which I sent to broker while the consumer shutdown.</p>\n\n<p>Do I need to do any specific configuration to my Moquette server to persist data (with clean session : false) ?\nOr am I missing something ?</p>\n\n<p>Please find my sample code below,</p>\n\n<p><em>Moquette Server initialization</em></p>\n\n<pre><code>package com.gbids.mqtt.moquette.main;\n\nimport com.gbids.mqtt.moquette.server.PublishInterceptor;\nimport io.moquette.interception.InterceptHandler;\nimport io.moquette.server.Server;\nimport io.moquette.server.config.IConfig;\nimport io.moquette.server.config.MemoryConfig;\n\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Properties;\n\npublic class ServerLauncher {\n\n    public static void main(String[] args) throws IOException {\n        Properties props = new Properties();\n        final IConfig configs = new MemoryConfig(props);\n\n        final Server mqttBroker = new Server();\n        final List&lt;? extends InterceptHandler&gt; userHandlers = Arrays.asList(new PublishInterceptor());\n        mqttBroker.startServer(configs, userHandlers);\n\n        System.out.println(\"moquette mqtt broker started, press ctrl-c to shutdown..\");\n        Runtime.getRuntime().addShutdownHook(new Thread() {\n            @Override\n            public void run() {\n                System.out.println(\"stopping moquette mqtt broker..\");\n                mqttBroker.stopServer();\n                System.out.println(\"moquette mqtt broker stopped\");\n            }\n        });\n    }\n}\n</code></pre>\n\n<p><em>MQTT Consumer</em></p>\n\n<pre><code>package com.gbids.mqtt.moquette.main;\n\nimport org.eclipse.paho.client.mqttv3.*;\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\n\npublic class ConsumerLauncher implements MqttCallback {\n\n    private static final String topicPrefix = \"devices/reported\";\n    private static final String broker = \"tcp://0.0.0.0:1883\";\n    private static final String clientIdPrefix = \"consumer\";\n\n    public static void main(String[] args) throws MqttException {\n        final String clientId = \"consumer_1\";\n        MqttClient sampleClient = new MqttClient(broker, clientId, new MemoryPersistence());\n        MqttConnectOptions connOpts = new MqttConnectOptions();\n        connOpts.setCleanSession(false);\n        sampleClient.connect(connOpts);\n        sampleClient.subscribe(topicPrefix + \"/#\", 1);\n        sampleClient.setCallback(new ConsumerLauncher());\n    }\n\n    public void connectionLost(Throwable throwable) {\n        System.out.println(\"Consumer connection lost : \" + throwable.getMessage());\n    }\n\n    public void messageArrived(String s, MqttMessage mqttMessage) throws Exception {\n        System.out.println(\"Message arrived from topic : \" + s + \" | Message : \" + new String(mqttMessage.getPayload()) + \" | Message ID : \" +mqttMessage.getId());\n    }\n\n    public void deliveryComplete(IMqttDeliveryToken iMqttDeliveryToken) {\n        System.out.println(\"Delivery completed from : \" + clientIdPrefix + \"_1\");\n    }\n}\n</code></pre>\n\n<p><em>MQTT Publisher</em></p>\n\n<pre><code>package com.gbids.mqtt.moquette.main;\n\nimport org.eclipse.paho.client.mqttv3.MqttClient;\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\nimport org.eclipse.paho.client.mqttv3.MqttException;\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\n\npublic class ClientLauncher {\n\n    private static final String content = \"{\\\"randomData\\\": 25}\";\n    private static final String willContent = \"Client disconnected unexpectedly\";\n    private static final String broker = \"tcp://0.0.0.0:1883\";\n    private static final String clientIdPrefix = \"client\";\n\n    public static void main(String[] args) throws Exception{\n        sendDataWithQOSOne();\n        System.exit(0);\n    }\n\n    private static void sendDataWithQOSOne(){\n        try {\n            final String clientId = \"client_1\";\n            MqttClient sampleClient = new MqttClient(broker, clientId, new MemoryPersistence());\n            MqttConnectOptions connOpts = new MqttConnectOptions();\n            connOpts.setCleanSession(false); // for publisher - this is not needed I think\n            sampleClient.connect(connOpts);\n            MqttMessage message = new MqttMessage(content.getBytes());\n            message.setQos(1);\n            final String topic = \"devices/reported/\" + clientId;\n            sampleClient.publish(topic, message);\n            System.out.println(\"Message published from : \" + clientId + \" with payload of : \" + content);\n            sampleClient.disconnect();\n        } catch (MqttException me) {\n            me.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","mqtt","messagebroker","paho"],"answers":[{"comments":[{"owner":{"account_id":6342012,"reputation":83,"user_id":4923636,"display_name":"Prateek Garg"},"score":0,"creation_date":1435229332,"post_id":31047996,"comment_id":50117697,"body_markdown":"Messages are also published with QoS=1","body":"Messages are also published with QoS=1"},{"owner":{"account_id":2338685,"reputation":287,"user_id":2050460,"accept_rate":57,"display_name":"RedShift"},"score":0,"creation_date":1568998401,"post_id":31047996,"comment_id":102467044,"body_markdown":"This was my problem as well, the subtlety that the messages must be *published* as QoS&gt;=1 for a QoS&gt;=1 subscription to work.","body":"This was my problem as well, the subtlety that the messages must be <i>published</i> as QoS&gt;=1 for a QoS&gt;=1 subscription to work."}],"tags":[],"owner":{"account_id":189845,"reputation":11243,"user_id":429431,"display_name":"ralight"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435231357,"creation_date":1435228749,"answer_id":31047996,"question_id":31047612,"body_markdown":"The most likely problem is that the messages being published were QoS=0. Both the subscription and the publish must be QoS&gt;0 in order to be queued for a durable client.\r\n\r\nYou have confirmed that the messages are published with QoS 1, so the next thing to do is test with known working tools, to eliminate possible problems with your code. I tried:\r\n\r\n    mosquitto_sub -i prateek -t mqttmessenger -h broker.mqttdashboard.com -v -d -c -q 1\r\n\r\nAnd verified that I could receive messages whilst it was connected:\r\n\r\n    mosquitto_pub -q 1 -t mqttmessenger -m hello2 -h broker.mqttdashboard.com\r\n\r\nI then disconnected the mosquitto_sub client and published another message with the same mosquitto_pub command. Reconnecting mosquitto_sub with the same command produced no message, exactly as you see. Repeating the procedure but using `test.mosquitto.org` as the broker, the behaviour is as expected. It looks like `broker.mqttdashboard.com` is not configured to allow durable clients.","title":"Paho MQTT cleanSession set to false yet not receiving messages","body":"<p>The most likely problem is that the messages being published were QoS=0. Both the subscription and the publish must be QoS>0 in order to be queued for a durable client.</p>\n\n<p>You have confirmed that the messages are published with QoS 1, so the next thing to do is test with known working tools, to eliminate possible problems with your code. I tried:</p>\n\n<pre><code>mosquitto_sub -i prateek -t mqttmessenger -h broker.mqttdashboard.com -v -d -c -q 1\n</code></pre>\n\n<p>And verified that I could receive messages whilst it was connected:</p>\n\n<pre><code>mosquitto_pub -q 1 -t mqttmessenger -m hello2 -h broker.mqttdashboard.com\n</code></pre>\n\n<p>I then disconnected the mosquitto_sub client and published another message with the same mosquitto_pub command. Reconnecting mosquitto_sub with the same command produced no message, exactly as you see. Repeating the procedure but using <code>test.mosquitto.org</code> as the broker, the behaviour is as expected. It looks like <code>broker.mqttdashboard.com</code> is not configured to allow durable clients.</p>\n"},{"comments":[{"owner":{"account_id":1229706,"reputation":984,"user_id":1194553,"accept_rate":53,"display_name":"s&#233;an35"},"score":0,"creation_date":1458220664,"post_id":31727196,"comment_id":59769944,"body_markdown":"please help me. http://stackoverflow.com/questions/36056381/the-listener-of-publish-method-does-not-work-asynchronously-on-mqtt-in-eclipse-p","body":"please help me. <a href=\"http://stackoverflow.com/questions/36056381/the-listener-of-publish-method-does-not-work-asynchronously-on-mqtt-in-eclipse-p\" title=\"the listener of publish method does not work asynchronously on mqtt in eclipse p\">stackoverflow.com/questions/36056381/&hellip;</a>"},{"owner":{"account_id":4369880,"reputation":690,"user_id":3564573,"accept_rate":65,"display_name":"user3564573"},"score":0,"creation_date":1463481592,"post_id":31727196,"comment_id":62073069,"body_markdown":"Thanks a lot, I spent very many hours looking around, reading, re~writing my service class, changing brokers, in the end this was the problem.","body":"Thanks a lot, I spent very many hours looking around, reading, re~writing my service class, changing brokers, in the end this was the problem."},{"owner":{"account_id":963688,"reputation":553,"user_id":987516,"accept_rate":91,"display_name":"wyzard"},"score":0,"creation_date":1475499040,"post_id":31727196,"comment_id":66953532,"body_markdown":"I&#39;m happy I can help. :)","body":"I&#39;m happy I can help. :)"}],"tags":[],"owner":{"account_id":963688,"reputation":553,"user_id":987516,"accept_rate":91,"display_name":"wyzard"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1438268139,"creation_date":1438268139,"answer_id":31727196,"question_id":31047612,"body_markdown":"I&#39;ve had a same problem recently. **Now** I think the solution is very simple, but I&#39;ve spent many many hours to figure it out.\r\n\r\nThis line was &#39;bad&#39;: \r\n\r\n    client.connect(mqttOptions, mqqtActionListener);\r\n\r\nThe &#39;correct&#39; is: \r\n\r\n    client.connect(mqttOptions, null, mqqtActionListener);\r\n\r\n\r\nIf you call the *connect* method with 2 parameters, you are using this constructor:\r\n\r\n    public IMqttToken connect(Object userContext, IMqttActionListener callback) throws MqttException\r\n\r\nInstead of the right one:\r\n\r\n    public IMqttToken connect(MqttConnectOptions options, Object userContext, IMqttActionListener callback) throws MqttException\r\n\r\n\r\nI hope that is your problem too.","title":"Paho MQTT cleanSession set to false yet not receiving messages","body":"<p>I've had a same problem recently. <strong>Now</strong> I think the solution is very simple, but I've spent many many hours to figure it out.</p>\n\n<p>This line was 'bad': </p>\n\n<pre><code>client.connect(mqttOptions, mqqtActionListener);\n</code></pre>\n\n<p>The 'correct' is: </p>\n\n<pre><code>client.connect(mqttOptions, null, mqqtActionListener);\n</code></pre>\n\n<p>If you call the <em>connect</em> method with 2 parameters, you are using this constructor:</p>\n\n<pre><code>public IMqttToken connect(Object userContext, IMqttActionListener callback) throws MqttException\n</code></pre>\n\n<p>Instead of the right one:</p>\n\n<pre><code>public IMqttToken connect(MqttConnectOptions options, Object userContext, IMqttActionListener callback) throws MqttException\n</code></pre>\n\n<p>I hope that is your problem too.</p>\n"}],"owner":{"account_id":6342012,"reputation":83,"user_id":4923636,"display_name":"Prateek Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4248,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31727196,"answer_count":2,"score":2,"last_activity_date":1702096532,"creation_date":1435227678,"question_id":31047612,"body_markdown":"I was testing **MQTT** for a project. I am also able to receive messages on a topic to which my client had subscribed when the client is connected. I have set QoS to 1 and cleanSession is set to false. But I am unable to receive messages which were sent to the subscribed topic when my client connects again.\r\nIn my application almost all the work is done by a helper service.\r\n\r\nHere is my code \r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.prateek.mqtttest&quot; &gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:screenOrientation=&quot;portrait&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.MqttHelperService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n\r\n        &lt;!-- MqttService --&gt;\r\n        &lt;service android:name=&quot;org.eclipse.paho.android.service.MqttService&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n**MainActivity.java**\r\n\r\n    package com.prateek.mqtttest;\r\n\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n\r\n    public class MainActivity extends Activity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            startService(new Intent(getBaseContext(), MqttHelperService.class));\r\n        }\r\n    }\r\n\r\n**MqttHelperService.java**\r\n\r\n    package com.prateek.mqtttest;\r\n\r\n    import android.app.Service;\r\n    import android.content.Intent;\r\n    import android.os.Binder;\r\n    import android.os.IBinder;\r\n    import android.widget.Toast;\r\n\r\n    import org.eclipse.paho.android.service.MqttAndroidClient;\r\n    import org.eclipse.paho.client.mqttv3.IMqttActionListener;\r\n    import org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\r\n    import org.eclipse.paho.client.mqttv3.IMqttToken;\r\n    import org.eclipse.paho.client.mqttv3.MqttCallback;\r\n    import org.eclipse.paho.client.mqttv3.MqttConnectOptions;\r\n    import org.eclipse.paho.client.mqttv3.MqttException;\r\n    import org.eclipse.paho.client.mqttv3.MqttMessage;\r\n\r\n    public class MqttHelperService extends Service implements MqttCallback {\r\n    \r\n        private static final String MQTT_URI = &quot;tcp://broker.mqttdashboard.com:1883&quot;;\r\n        private static final String CLIENT_ID = &quot;prateek&quot;;\r\n        private static final String MQTT_TOPIC = &quot;mqttmessenger&quot;;\r\n        private static final int QOS = 1;\r\n        private MqttAndroidClient client;\r\n    \r\n        public MqttHelperService() {\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            Toast.makeText(this, &quot;MQTT Helper Service Started&quot;, Toast.LENGTH_SHORT).show();\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    connect();\r\n                }\r\n            }, &quot;MqttHelperService&quot;).start();\r\n            return START_STICKY;\r\n        }\r\n    \r\n        public class MqttHelperBinder extends Binder {\r\n            public MqttHelperService getService(){\r\n                return MqttHelperService.this;\r\n            }\r\n        }\r\n    \r\n        public void connect() {\r\n            client = new MqttAndroidClient(this, MQTT_URI, CLIENT_ID);\r\n            client.setCallback(this);\r\n    \r\n            try {\r\n                MqttConnectOptions options = new MqttConnectOptions();\r\n                options.setCleanSession(false);\r\n                client.connect(options, new IMqttActionListener() {\r\n                    @Override\r\n                    public void onSuccess(IMqttToken iMqttToken) {\r\n                        Toast.makeText(getBaseContext(), &quot;connected to MQTT broker&quot;, Toast.LENGTH_SHORT).show();\r\n                        subscribe();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(IMqttToken iMqttToken, Throwable throwable) {\r\n                        Toast.makeText(getBaseContext(), &quot;failed to connect: &quot; + throwable.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            } catch (MqttException e) {\r\n                Toast.makeText(this, &quot;could not connect to MQTT broker at &quot; + MQTT_URI, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        public void subscribe() {\r\n            try {\r\n                IMqttToken token = client.subscribe(MQTT_TOPIC, QOS, null, new IMqttActionListener() {\r\n                    @Override\r\n                    public void onSuccess(IMqttToken iMqttToken) {\r\n                        Toast.makeText(getBaseContext(), &quot;subscription successful&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onFailure(IMqttToken iMqttToken, Throwable throwable) {\r\n                        Toast.makeText(getBaseContext(), &quot;subscription failed: &quot; + throwable, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    \r\n            } catch (MqttException e) {\r\n                Toast.makeText(this, &quot;could not subscribe&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            // TODO: Return the communication channel to the service.\r\n            throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void connectionLost(Throwable throwable) {\r\n            Toast.makeText(this, &quot;connection lost&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        @Override\r\n        public void messageArrived(String s, MqttMessage mqttMessage) throws Exception {\r\n            Toast.makeText(this, &quot;message received on topic &quot; + s, Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        @Override\r\n        public void deliveryComplete(IMqttDeliveryToken iMqttDeliveryToken) {\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            Toast.makeText(this, &quot;Service Destroyed&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nI even checked this link https://stackoverflow.com/questions/26971783/with-the-clear-session-flag-set-to-false-i-am-missing-the-published-values but could not find the error in my code","title":"Paho MQTT cleanSession set to false yet not receiving messages","body":"<p>I was testing <strong>MQTT</strong> for a project. I am also able to receive messages on a topic to which my client had subscribed when the client is connected. I have set QoS to 1 and cleanSession is set to false. But I am unable to receive messages which were sent to the subscribed topic when my client connects again.\nIn my application almost all the work is done by a helper service.</p>\n\n<p>Here is my code </p>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/app_name\"\n        android:screenOrientation=\"portrait\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;service\n        android:name=\".MqttHelperService\"\n        android:enabled=\"true\"\n        android:exported=\"true\" /&gt;\n\n    &lt;!-- MqttService --&gt;\n    &lt;service android:name=\"org.eclipse.paho.android.service.MqttService\" /&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>package com.prateek.mqtttest;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\n\npublic class MainActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        startService(new Intent(getBaseContext(), MqttHelperService.class));\n    }\n}\n</code></pre>\n\n<p><strong>MqttHelperService.java</strong></p>\n\n<pre><code>package com.prateek.mqtttest;\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.os.Binder;\nimport android.os.IBinder;\nimport android.widget.Toast;\n\nimport org.eclipse.paho.android.service.MqttAndroidClient;\nimport org.eclipse.paho.client.mqttv3.IMqttActionListener;\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\nimport org.eclipse.paho.client.mqttv3.IMqttToken;\nimport org.eclipse.paho.client.mqttv3.MqttCallback;\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\nimport org.eclipse.paho.client.mqttv3.MqttException;\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\n\npublic class MqttHelperService extends Service implements MqttCallback {\n\n    private static final String MQTT_URI = \"tcp://broker.mqttdashboard.com:1883\";\n    private static final String CLIENT_ID = \"prateek\";\n    private static final String MQTT_TOPIC = \"mqttmessenger\";\n    private static final int QOS = 1;\n    private MqttAndroidClient client;\n\n    public MqttHelperService() {\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Toast.makeText(this, \"MQTT Helper Service Started\", Toast.LENGTH_SHORT).show();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                connect();\n            }\n        }, \"MqttHelperService\").start();\n        return START_STICKY;\n    }\n\n    public class MqttHelperBinder extends Binder {\n        public MqttHelperService getService(){\n            return MqttHelperService.this;\n        }\n    }\n\n    public void connect() {\n        client = new MqttAndroidClient(this, MQTT_URI, CLIENT_ID);\n        client.setCallback(this);\n\n        try {\n            MqttConnectOptions options = new MqttConnectOptions();\n            options.setCleanSession(false);\n            client.connect(options, new IMqttActionListener() {\n                @Override\n                public void onSuccess(IMqttToken iMqttToken) {\n                    Toast.makeText(getBaseContext(), \"connected to MQTT broker\", Toast.LENGTH_SHORT).show();\n                    subscribe();\n                }\n\n                @Override\n                public void onFailure(IMqttToken iMqttToken, Throwable throwable) {\n                    Toast.makeText(getBaseContext(), \"failed to connect: \" + throwable.getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            });\n        } catch (MqttException e) {\n            Toast.makeText(this, \"could not connect to MQTT broker at \" + MQTT_URI, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    public void subscribe() {\n        try {\n            IMqttToken token = client.subscribe(MQTT_TOPIC, QOS, null, new IMqttActionListener() {\n                @Override\n                public void onSuccess(IMqttToken iMqttToken) {\n                    Toast.makeText(getBaseContext(), \"subscription successful\", Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onFailure(IMqttToken iMqttToken, Throwable throwable) {\n                    Toast.makeText(getBaseContext(), \"subscription failed: \" + throwable, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n        } catch (MqttException e) {\n            Toast.makeText(this, \"could not subscribe\", Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // TODO: Return the communication channel to the service.\n        throw new UnsupportedOperationException(\"Not yet implemented\");\n    }\n\n    @Override\n    public void connectionLost(Throwable throwable) {\n        Toast.makeText(this, \"connection lost\", Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void messageArrived(String s, MqttMessage mqttMessage) throws Exception {\n        Toast.makeText(this, \"message received on topic \" + s, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void deliveryComplete(IMqttDeliveryToken iMqttDeliveryToken) {\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        Toast.makeText(this, \"Service Destroyed\", Toast.LENGTH_SHORT).show();\n    }\n\n\n}\n</code></pre>\n\n<p>I even checked this link <a href=\"https://stackoverflow.com/questions/26971783/with-the-clear-session-flag-set-to-false-i-am-missing-the-published-values\">With the clear session flag set to FALSE, I am missing the published values</a> but could not find the error in my code</p>\n"},{"tags":["java","apache-kafka","mqtt","paho"],"comments":[{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":1,"creation_date":1525350055,"post_id":50154837,"comment_id":87327389,"body_markdown":"That is the way Mqtt works. When the broker receives a message on a topic it is published to all subscribers on that topic. If you aren&#39;t subscribed on the topic when the message is published (e.g. by a disconnect) you also won&#39;t receive it. The only native way around this is setting the `retainedFlag` to true which will keep the last received message on the topic and send it to a new subscriber on subscription. Other than that you can only go with a custom system/broker that keeps all messages and forwards them to new subscribers - although in that case you probably shouldn&#39;t use Mqtt.","body":"That is the way Mqtt works. When the broker receives a message on a topic it is published to all subscribers on that topic. If you aren&#39;t subscribed on the topic when the message is published (e.g. by a disconnect) you also won&#39;t receive it. The only native way around this is setting the <code>retainedFlag</code> to true which will keep the last received message on the topic and send it to a new subscriber on subscription. Other than that you can only go with a custom system/broker that keeps all messages and forwards them to new subscribers - although in that case you probably shouldn&#39;t use Mqtt."},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1525352069,"post_id":50154837,"comment_id":87328770,"body_markdown":"@Ben this is not the case for QOS 1 or QOS 2 subscriptions. At high QOS if you have been subscribed to a topic and you reconnect with the same client id and cleansession set to false then the broker should queue the messages and deliver them when you reconnect and subscribe to those topics again","body":"@Ben this is not the case for QOS 1 or QOS 2 subscriptions. At high QOS if you have been subscribed to a topic and you reconnect with the same client id and cleansession set to false then the broker should queue the messages and deliver them when you reconnect and subscribe to those topics again"},{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":0,"creation_date":1525352417,"post_id":50154837,"comment_id":87329022,"body_markdown":"@hardillb that is indeed true. I just assumed QoS = 0 to be used which was wrong. I stand corrected. In that case the problem could lie in the persistence of the broker which does not correctly store the session to be resumed. I would check there. But it&#39;s something that in theory at least should work with QoS 1/2.","body":"@hardillb that is indeed true. I just assumed QoS = 0 to be used which was wrong. I stand corrected. In that case the problem could lie in the persistence of the broker which does not correctly store the session to be resumed. I would check there. But it&#39;s something that in theory at least should work with QoS 1/2."},{"owner":{"account_id":13358282,"reputation":101,"user_id":9641142,"display_name":"Sriram"},"score":0,"creation_date":1525353029,"post_id":50154837,"comment_id":87329457,"body_markdown":"what actions can be taken in order to resolve this issue?","body":"what actions can be taken in order to resolve this issue?"},{"owner":{"account_id":13358282,"reputation":101,"user_id":9641142,"display_name":"Sriram"},"score":0,"creation_date":1525361112,"post_id":50154837,"comment_id":87335125,"body_markdown":"@hardillb Do I need MQTT publisher also having QOS 1  and Clean session true?","body":"@hardillb Do I need MQTT publisher also having QOS 1  and Clean session true?"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1525361248,"post_id":50154837,"comment_id":87335206,"body_markdown":"No, publish and subscribe should be independent with regards to QOS","body":"No, publish and subscribe should be independent with regards to QOS"},{"owner":{"account_id":13358282,"reputation":101,"user_id":9641142,"display_name":"Sriram"},"score":0,"creation_date":1525362628,"post_id":50154837,"comment_id":87336063,"body_markdown":"@hardillb I tested connector  multiple times but sometimes i am getting exact message count","body":"@hardillb I tested connector  multiple times but sometimes i am getting exact message count"},{"owner":{"account_id":1588338,"reputation":15599,"user_id":1472222,"accept_rate":87,"display_name":"theMayer"},"score":0,"creation_date":1525375217,"post_id":50154837,"comment_id":87342759,"body_markdown":"How is this related to RabbitMQ? Removing that tag for now.","body":"How is this related to RabbitMQ? Removing that tag for now."},{"owner":{"account_id":13358282,"reputation":101,"user_id":9641142,"display_name":"Sriram"},"score":0,"creation_date":1525773383,"post_id":50154837,"comment_id":87478827,"body_markdown":"@hardillb how to get debug for rabbitmq by using log4j.properties?","body":"@hardillb how to get debug for rabbitmq by using log4j.properties?"},{"owner":{"account_id":8302256,"reputation":554,"user_id":6240537,"display_name":"idan"},"score":0,"creation_date":1530022420,"post_id":50154837,"comment_id":89081192,"body_markdown":"In order to create a persistent session, messages should be pub/sub QoS &gt; 0 and cleanSession= false. A very good explanation with examples can be found here\nhttp://www.steves-internet-guide.com/mqtt-clean-sessions-example/","body":"In order to create a persistent session, messages should be pub/sub QoS &gt; 0 and cleanSession= false. A very good explanation with examples can be found here <a href=\"http://www.steves-internet-guide.com/mqtt-clean-sessions-example/\" rel=\"nofollow noreferrer\">steves-internet-guide.com/mqtt-clean-sessions-example</a>"},{"owner":{"account_id":61751,"reputation":161,"user_id":183861,"accept_rate":0,"display_name":"thehellmaker"},"score":0,"creation_date":1702096323,"post_id":50154837,"comment_id":136858418,"body_markdown":"Please refer to my answer on https://stackoverflow.com/questions/26971783/with-the-clear-session-flag-set-to-false-i-am-missing-the-published-values. I have faced the same issue and fixed it","body":"Please refer to my answer on <a href=\"https://stackoverflow.com/questions/26971783/with-the-clear-session-flag-set-to-false-i-am-missing-the-published-values\" title=\"with the clear session flag set to false i am missing the published values\">stackoverflow.com/questions/26971783/&hellip;</a>. I have faced the same issue and fixed it"}],"owner":{"account_id":13358282,"reputation":101,"user_id":9641142,"display_name":"Sriram"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702096374,"creation_date":1525349562,"question_id":50154837,"body_markdown":"  I am working on a MQTT kafka source connector. The messages are\r\n   coming from MQTT Publisher then connector will subscribed to MQTT\r\n   topic(/iot/sensor/#) and those messages will published to Kafka\r\n   broker. But in  mean while if I stop the connector and again \r\n   restarted the connector then connector is consuming messages from\r\n   mqtt broker but some of the mqtt messages are missing(If i send 1000\r\n   messages from MQTT publisher and not getting 1000 mesages in kafka )\r\n   *I give the mqtt ClientID is Unique name. I set the mqtt paho client\r\n   properites with setCleanSession=false,QOS=1 and use the\r\n   MqttDefaultFilePersistence(DIR)*. Rabbitmq version is 3.6.10\r\n\r\nPseudoCode\r\n\r\n    Public class MyTask extends SourceTask implements MqttCallback{\r\n    //Initialzied the queue\r\n    @Override\r\n    \tpublic void start(Map&lt;String, String&gt; map) {\r\n    \t//set necessary properties and configuration\r\n    \t//set the required mqttConnect options and mqtt broker\r\n    \t Paho mClient = new MqttClient(mqttURl,Unique ClientID, new MqttDefaultFilePersistence(DIR))\r\n    \t mClient.connect(RequiredConnectProperties)\r\n    \t}\r\n    \t@Override\r\n    \tpublic List&lt;SourceRecord&gt; poll() throws InterruptedException {\r\n    \t//poll the queue\r\n    \t// publish messages to kafka\r\n    \t}\r\n    \t@Override\r\n    \tpublic void stop() {\r\n    \t//disconnect the mqtt paho clent\r\n    \t}\r\n    \t@Override\r\n    \tpublic void messageArrived(String mqtttopic, MqttMessage message) throws Exception {\r\n    \t//add the messages to queue\r\n    \t\r\n    \t}\r\n    }","title":"Paho MQTT message reliability when client disconnects","body":"<p>I am working on a MQTT kafka source connector. The messages are\n   coming from MQTT Publisher then connector will subscribed to MQTT\n   topic(/iot/sensor/#) and those messages will published to Kafka\n   broker. But in  mean while if I stop the connector and again \n   restarted the connector then connector is consuming messages from\n   mqtt broker but some of the mqtt messages are missing(If i send 1000\n   messages from MQTT publisher and not getting 1000 mesages in kafka )\n   <em>I give the mqtt ClientID is Unique name. I set the mqtt paho client\n   properites with setCleanSession=false,QOS=1 and use the\n   MqttDefaultFilePersistence(DIR)</em>. Rabbitmq version is 3.6.10</p>\n\n<p>PseudoCode</p>\n\n<pre><code>Public class MyTask extends SourceTask implements MqttCallback{\n//Initialzied the queue\n@Override\n    public void start(Map&lt;String, String&gt; map) {\n    //set necessary properties and configuration\n    //set the required mqttConnect options and mqtt broker\n     Paho mClient = new MqttClient(mqttURl,Unique ClientID, new MqttDefaultFilePersistence(DIR))\n     mClient.connect(RequiredConnectProperties)\n    }\n    @Override\n    public List&lt;SourceRecord&gt; poll() throws InterruptedException {\n    //poll the queue\n    // publish messages to kafka\n    }\n    @Override\n    public void stop() {\n    //disconnect the mqtt paho clent\n    }\n    @Override\n    public void messageArrived(String mqtttopic, MqttMessage message) throws Exception {\n    //add the messages to queue\n\n    }\n}\n</code></pre>\n"},{"tags":["java","c#","encryption","aes","sha1"],"comments":[{"owner":{"account_id":20264817,"reputation":56105,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1701961690,"post_id":77621012,"comment_id":136841776,"body_markdown":"Docs say &quot;The Rijndael and RijndaelManaged types are obsolete. Use Aes instead.&quot; so why don&#39;t you do that? You also seem to have different ways of working out the key. The Java version is unencoding Base64, the C# version is just getting UTF8 bytes, and then chopping off after 16 bytes for some reason. Also key and IV are not the same thing, you can&#39;t just pass the same value for both.","body":"Docs say &quot;The Rijndael and RijndaelManaged types are obsolete. Use Aes instead.&quot; so why don&#39;t you do that? You also seem to have different ways of working out the key. The Java version is unencoding Base64, the C# version is just getting UTF8 bytes, and then chopping off after 16 bytes for some reason. Also key and IV are not the same thing, you can&#39;t just pass the same value for both."},{"owner":{"account_id":12236666,"reputation":1,"user_id":8930872,"display_name":"Somu"},"score":0,"creation_date":1701963426,"post_id":77621012,"comment_id":136842128,"body_markdown":"@Charlieface Thanks for your comments. I have edited the c# code. Can you please check this one and provide your suggestion","body":"@Charlieface Thanks for your comments. I have edited the c# code. Can you please check this one and provide your suggestion"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1701964014,"post_id":77621012,"comment_id":136842253,"body_markdown":"Why are you implementing your own cryptography algorithm instead of reusing a know implementation? It seems a bad practice.","body":"Why are you implementing your own cryptography algorithm instead of reusing a know implementation? It seems a bad practice."},{"owner":{"account_id":12236666,"reputation":1,"user_id":8930872,"display_name":"Somu"},"score":0,"creation_date":1701965392,"post_id":77621012,"comment_id":136842537,"body_markdown":"This is existing java code which we need to support","body":"This is existing java code which we need to support"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1701965696,"post_id":77621012,"comment_id":136842600,"body_markdown":"In the C# code, regarding encryption, the key derivation with PBKDF2, the generation of a random IV and salt and the concatenation of salt, IV and ciphertext are missing. For decryption, the corresponding counterparts are missing.","body":"In the C# code, regarding encryption, the key derivation with PBKDF2, the generation of a random IV and salt and the concatenation of salt, IV and ciphertext are missing. For decryption, the corresponding counterparts are missing."},{"owner":{"account_id":12236666,"reputation":1,"user_id":8930872,"display_name":"Somu"},"score":0,"creation_date":1701965853,"post_id":77621012,"comment_id":136842628,"body_markdown":"Thanks for the analysis. if possible can you please share some samples with these things added","body":"Thanks for the analysis. if possible can you please share some samples with these things added"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1701965974,"post_id":77621012,"comment_id":136842654,"body_markdown":"There are many posts on SO about each of these topics. Try it yourself, and if you get stuck, post your code and describe the problem.","body":"There are many posts on SO about each of these topics. Try it yourself, and if you get stuck, post your code and describe the problem."}],"owner":{"account_id":12236666,"reputation":1,"user_id":8930872,"display_name":"Somu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702175509,"answer_count":0,"score":-1,"last_activity_date":1702096179,"creation_date":1701960982,"question_id":77621012,"body_markdown":"I have AES128 encryption algorithm written in Java. I have to decrypt the same in c# application. Also vice versa is also needed. Because of which I have to write a similar algorithm in c#. I have done multiple samples but unable to get the same output as that of Java one. I am quite new to encryption logic.\r\n\r\nI am sharing here the Java logic and the tried on through c#. Please let me know what all things need to be changed here to get the replica of JAVA or please suggest if there any other ways to implement the same.\r\n\r\n**Java code**\r\n\r\n    import java.security.SecureRandom;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    import org.apache.commons.codec.binary.Base64;\r\n    \r\n    import com.verizonwireless.ecare.exception.OutOfServiceException;\r\n    \r\n    public class JavaAlgorithm{\r\n    \tprivate static final String PROVIDER = &quot;AES/CBC/PKCS5Padding&quot;;\r\n    \tprivate static final String IV_ALGORITHM = &quot;SHA1PRNG&quot;;\r\n    \tprivate static final String UNIQUE_FACTORY_ALGORITHM = &quot;PBKDF2WithHmacSHA1&quot;;\r\n    \tprivate static final String UNIQUE_ALGORITHM = &quot;AES&quot;;\r\n    \tprivate static final String ALGORITHM = &quot;HmacSHA1&quot;;\r\n    \tprivate static final int IV_SIZE = 16;\r\n    \tprivate static final int SALT_SIZE = 32;\r\n    \tprivate static final int KEY_SIZE = 128;\r\n    \tprivate static final int ITERATION_COUNT = 65536;\r\n    \t// Used for encrypting the clear text\r\n    \tprivate SecretKeySpec secretKey;\r\n    \tprivate SecretKeyFactory secretKeyFactory;\r\n    \tprivate SecureRandom secureRandom;\r\n    \tprivate Cipher cipher;\r\n    \tprivate int iterationCount;\r\n    \r\n    \tpublic JavaAlgorithm(String encryptionKey) {\r\n    \t\tthis(encryptionKey, ITERATION_COUNT);\r\n    \t}\r\n    \r\n    \tpublic JavaAlgorithm(String encryptionKey, int iterationCount) {\r\n    \t\ttry {\r\n    \t\t\tthis.secretKey = new SecretKeySpec(Base64.decodeBase64(encryptionKey), ALGORITHM);\r\n    \t\t\tthis.secretKeyFactory = SecretKeyFactory.getInstance(UNIQUE_FACTORY_ALGORITHM);\r\n    \t\t\tthis.secureRandom = SecureRandom.getInstance(IV_ALGORITHM);\r\n    \t\t\tthis.cipher = Cipher.getInstance(PROVIDER);\r\n    \t\t\tthis.iterationCount = iterationCount;\r\n    \t\t} catch (Throwable e) {\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic String encrypt(String clearText) {\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tbyte[] salt = generateSalt();\r\n    \t\t\tSecretKey sk = generateUniqueKey(salt);\r\n    \t\t\tbyte[] iv = generateIV();\r\n    \t\t\tIvParameterSpec ivs = new IvParameterSpec(iv);\r\n    \r\n    \t\t\t// encrypted the clear text\r\n    \t\t\tbyte[] textEncrypted = null;\r\n    \t\t\tsynchronized (cipher) {\r\n    \t\t\t\tcipher.init(Cipher.ENCRYPT_MODE, sk, ivs);\r\n    \t\t\t\ttextEncrypted = cipher.doFinal(clearText.getBytes());\r\n    \t\t\t}\r\n    \t\t\t\t// but 3 things together:  salt + hash + encrypted data\r\n    \t\t\tbyte[] cipherText = new byte[SALT_SIZE + IV_SIZE + textEncrypted.length];\r\n    \t\t\tSystem.arraycopy(salt, 0, cipherText, 0, SALT_SIZE);\r\n    \t\t\tSystem.arraycopy(iv, 0, cipherText, SALT_SIZE, IV_SIZE);\r\n    \t\t\tSystem.arraycopy(textEncrypted, 0, cipherText, SALT_SIZE + IV_SIZE, textEncrypted.length);\r\n    \r\n    \r\n    \t\t\tString finalEncrypted = Base64.encodeBase64String(cipherText);\r\n    \t\t\treturn finalEncrypted;\r\n    \t\t} catch (Throwable t) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic String decrypt(String base64encrypted) {\r\n    \t\treturn decrypt(base64encrypted, false);\r\n    \t}\r\n    \r\n    \tpublic String decrypt(String base64encrypted, boolean suppressError) {\r\n    \t\ttry {\r\n    \t\t\tbyte[] decodedBytes = Base64.decodeBase64(base64encrypted.getBytes());\r\n    \t\t\tif (decodedBytes.length &lt;= SALT_SIZE + IV_SIZE) {\r\n    \t\t\t\t// something is wrong if the size of the encrypted string is equal or smaller than the IV and SALT by itself...\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\tbyte[] salt = Arrays.copyOfRange(decodedBytes, 0, SALT_SIZE);\r\n    \t\t\tbyte[] iv = Arrays.copyOfRange(decodedBytes, SALT_SIZE, SALT_SIZE + IV_SIZE);\r\n    \t\t\tbyte[] cipherText = Arrays.copyOfRange(decodedBytes, SALT_SIZE + IV_SIZE, decodedBytes.length);\r\n    \t\t\tif ((cipherText.length % 16) != 0) {\r\n    \t\t\t\t// with padded cipher length has to be multiple of 16\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \r\n    \r\n    \t\t\t// decrypt\r\n    \t\t\tSecretKey sk = generateUniqueKey(salt);\r\n    \t\t\tIvParameterSpec ivspec = new IvParameterSpec(iv);\r\n    \t\t\tbyte[] textDecrypted = null;\r\n    \t\t\tsynchronized (cipher) {\r\n    \t\t\t\tcipher.init(Cipher.DECRYPT_MODE, sk, ivspec);\r\n    \t\t\t\ttextDecrypted = cipher.doFinal(cipherText);\r\n    \t\t\t}\r\n    \r\n    \t\t\tString finalDecrypted = new String(textDecrypted);\r\n    \t\t\treturn finalDecrypted;\r\n    \t\t} catch (BadPaddingException ignore) {\r\n    \t\t\t// we know the clear text can&#39;t be decrypted\r\n    \t\t} catch (Throwable t) {\r\n    \t\t\tif (!suppressError) {\r\n    \t\t\t} else {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tprivate byte[] generateSalt() {\r\n    \t\tSecureRandom random = new SecureRandom();\r\n    \t\tbyte[] salt = new byte[SALT_SIZE];\r\n    \t\trandom.nextBytes(salt);\r\n    \t\treturn salt;\r\n    \t}\r\n    \r\n    \tprivate byte[] generateIV() throws OutOfServiceException {\r\n    \t\tbyte[] byteIV = new byte[IV_SIZE];\r\n    \t\tbyteIV = secureRandom.generateSeed(IV_SIZE);\r\n    \t\treturn byteIV;\r\n    \t}\r\n    \r\n    \tprivate SecretKey generateUniqueKey(byte[] salt) throws OutOfServiceException {\r\n    \t\ttry {\r\n    \t\t\tString key = Base64.encodeBase64String(this.secretKey.getEncoded());\r\n    \t\t\tKeySpec spec = new PBEKeySpec(key.toCharArray(), salt, this.iterationCount, KEY_SIZE);\r\n    \t\t\tSecretKey tmp = secretKeyFactory.generateSecret(spec);\r\n    \t\t\tbyte[] encoded = tmp.getEncoded();\r\n    \t\t\treturn new SecretKeySpec(encoded, UNIQUE_ALGORITHM);\r\n    \t\t} catch (InvalidKeySpecException e) {\r\n    \t\t\t// should never happen...\r\n    \t\t\tthrow new OutOfServiceException(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Tried sample of c#:**\r\n\r\n    using System;\r\n    using System.IO;\r\n    using System.Security.Cryptography;\r\n    using System.Text;\r\n    \r\n    namespace Encryption_PZID\r\n    {\r\n    \tpublic class Program\r\n    \t{\r\n    \t\tstatic void Main(string[] args)\r\n    \t\t{\r\n    \t\t\tstring key = &quot;&quot;;//24 length key\r\n    \t\t\tstring plainText = &quot;&quot;;//text to be encryptes\r\n    \t\t\tbyte[] iv = new byte[16];\r\n    \t\t\tbyte[] array;\r\n    \r\n    \t\t\tusing (Aes aes = Aes.Create())\r\n    \t\t\t{\r\n    \t\t\t\taes.BlockSize = 128;\r\n    \t\t\t\taes.KeySize = 128;\r\n    \t\t\t\taes.Key = Encoding.UTF8.GetBytes(key);\r\n    \t\t\t\taes.IV = iv;\r\n    \t\t\t\taes.Mode = CipherMode.CBC;\r\n    \t\t\t\taes.Padding = PaddingMode.PKCS7;\r\n    \r\n    \r\n    \t\t\t\tICryptoTransform encryptor = aes.CreateEncryptor(aes.Key, aes.IV);\r\n    \r\n    \t\t\t\tusing (MemoryStream memoryStream = new MemoryStream())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tusing (CryptoStream cryptoStream = new CryptoStream((Stream)memoryStream, encryptor, CryptoStreamMode.Write))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tusing (StreamWriter streamWriter = new StreamWriter((Stream)cryptoStream))\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tstreamWriter.Write(plainText);\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\tarray = memoryStream.ToArray();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tstring getEncrp = Convert.ToBase64String(array);\r\n    \t\t\tConsole.WriteLine(getEncrp);\r\n    \r\n    \t\t\tConsole.WriteLine(&quot;----------- - - - -- - -- - - - -&quot;);\r\n    \t\t\t//byte[] iv = new byte[16];\r\n    \t\t\tbyte[] buffer = Convert.FromBase64String(getEncrp);\r\n    \r\n    \t\t\tusing (Aes aes = Aes.Create())\r\n    \t\t\t{\r\n    \t\t\t\taes.BlockSize = 128;\r\n    \t\t\t\taes.KeySize = 128;\r\n    \t\t\t\taes.Key = Encoding.UTF8.GetBytes(key);\r\n    \t\t\t\taes.IV = iv;\r\n    \t\t\t\taes.Mode = CipherMode.CBC;\r\n    \t\t\t\taes.Padding = PaddingMode.PKCS7;\r\n    \r\n    \t\t\t\tICryptoTransform decryptor = aes.CreateDecryptor(aes.Key, aes.IV);\r\n    \r\n    \t\t\t\tusing (MemoryStream memoryStream = new MemoryStream(buffer))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tusing (CryptoStream cryptoStream = new CryptoStream((Stream)memoryStream, decryptor, CryptoStreamMode.Read))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tusing (StreamReader streamReader = new StreamReader((Stream)cryptoStream))\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tstring ss = streamReader.ReadToEnd();\r\n    \t\t\t\t\t\t\tConsole.WriteLine(&quot;Decode :&quot; + ss);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tConsole.ReadLine();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Conversion of AES128 algorithm written in Java to c#","body":"<p>I have AES128 encryption algorithm written in Java. I have to decrypt the same in c# application. Also vice versa is also needed. Because of which I have to write a similar algorithm in c#. I have done multiple samples but unable to get the same output as that of Java one. I am quite new to encryption logic.</p>\n<p>I am sharing here the Java logic and the tried on through c#. Please let me know what all things need to be changed here to get the replica of JAVA or please suggest if there any other ways to implement the same.</p>\n<p><strong>Java code</strong></p>\n<pre><code>import java.security.SecureRandom;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.codec.binary.Base64;\n\nimport com.verizonwireless.ecare.exception.OutOfServiceException;\n\npublic class JavaAlgorithm{\n    private static final String PROVIDER = &quot;AES/CBC/PKCS5Padding&quot;;\n    private static final String IV_ALGORITHM = &quot;SHA1PRNG&quot;;\n    private static final String UNIQUE_FACTORY_ALGORITHM = &quot;PBKDF2WithHmacSHA1&quot;;\n    private static final String UNIQUE_ALGORITHM = &quot;AES&quot;;\n    private static final String ALGORITHM = &quot;HmacSHA1&quot;;\n    private static final int IV_SIZE = 16;\n    private static final int SALT_SIZE = 32;\n    private static final int KEY_SIZE = 128;\n    private static final int ITERATION_COUNT = 65536;\n    // Used for encrypting the clear text\n    private SecretKeySpec secretKey;\n    private SecretKeyFactory secretKeyFactory;\n    private SecureRandom secureRandom;\n    private Cipher cipher;\n    private int iterationCount;\n\n    public JavaAlgorithm(String encryptionKey) {\n        this(encryptionKey, ITERATION_COUNT);\n    }\n\n    public JavaAlgorithm(String encryptionKey, int iterationCount) {\n        try {\n            this.secretKey = new SecretKeySpec(Base64.decodeBase64(encryptionKey), ALGORITHM);\n            this.secretKeyFactory = SecretKeyFactory.getInstance(UNIQUE_FACTORY_ALGORITHM);\n            this.secureRandom = SecureRandom.getInstance(IV_ALGORITHM);\n            this.cipher = Cipher.getInstance(PROVIDER);\n            this.iterationCount = iterationCount;\n        } catch (Throwable e) {\n        }\n    }\n\n    public String encrypt(String clearText) {\n        try {\n            \n            byte[] salt = generateSalt();\n            SecretKey sk = generateUniqueKey(salt);\n            byte[] iv = generateIV();\n            IvParameterSpec ivs = new IvParameterSpec(iv);\n\n            // encrypted the clear text\n            byte[] textEncrypted = null;\n            synchronized (cipher) {\n                cipher.init(Cipher.ENCRYPT_MODE, sk, ivs);\n                textEncrypted = cipher.doFinal(clearText.getBytes());\n            }\n                // but 3 things together:  salt + hash + encrypted data\n            byte[] cipherText = new byte[SALT_SIZE + IV_SIZE + textEncrypted.length];\n            System.arraycopy(salt, 0, cipherText, 0, SALT_SIZE);\n            System.arraycopy(iv, 0, cipherText, SALT_SIZE, IV_SIZE);\n            System.arraycopy(textEncrypted, 0, cipherText, SALT_SIZE + IV_SIZE, textEncrypted.length);\n\n\n            String finalEncrypted = Base64.encodeBase64String(cipherText);\n            return finalEncrypted;\n        } catch (Throwable t) {\n            return null;\n        }\n    }\n\n    public String decrypt(String base64encrypted) {\n        return decrypt(base64encrypted, false);\n    }\n\n    public String decrypt(String base64encrypted, boolean suppressError) {\n        try {\n            byte[] decodedBytes = Base64.decodeBase64(base64encrypted.getBytes());\n            if (decodedBytes.length &lt;= SALT_SIZE + IV_SIZE) {\n                // something is wrong if the size of the encrypted string is equal or smaller than the IV and SALT by itself...\n                return null;\n            }\n            byte[] salt = Arrays.copyOfRange(decodedBytes, 0, SALT_SIZE);\n            byte[] iv = Arrays.copyOfRange(decodedBytes, SALT_SIZE, SALT_SIZE + IV_SIZE);\n            byte[] cipherText = Arrays.copyOfRange(decodedBytes, SALT_SIZE + IV_SIZE, decodedBytes.length);\n            if ((cipherText.length % 16) != 0) {\n                // with padded cipher length has to be multiple of 16\n                return null;\n            }\n\n\n\n            // decrypt\n            SecretKey sk = generateUniqueKey(salt);\n            IvParameterSpec ivspec = new IvParameterSpec(iv);\n            byte[] textDecrypted = null;\n            synchronized (cipher) {\n                cipher.init(Cipher.DECRYPT_MODE, sk, ivspec);\n                textDecrypted = cipher.doFinal(cipherText);\n            }\n\n            String finalDecrypted = new String(textDecrypted);\n            return finalDecrypted;\n        } catch (BadPaddingException ignore) {\n            // we know the clear text can't be decrypted\n        } catch (Throwable t) {\n            if (!suppressError) {\n            } else {\n            }\n        }\n        return null;\n    }\n\n    private byte[] generateSalt() {\n        SecureRandom random = new SecureRandom();\n        byte[] salt = new byte[SALT_SIZE];\n        random.nextBytes(salt);\n        return salt;\n    }\n\n    private byte[] generateIV() throws OutOfServiceException {\n        byte[] byteIV = new byte[IV_SIZE];\n        byteIV = secureRandom.generateSeed(IV_SIZE);\n        return byteIV;\n    }\n\n    private SecretKey generateUniqueKey(byte[] salt) throws OutOfServiceException {\n        try {\n            String key = Base64.encodeBase64String(this.secretKey.getEncoded());\n            KeySpec spec = new PBEKeySpec(key.toCharArray(), salt, this.iterationCount, KEY_SIZE);\n            SecretKey tmp = secretKeyFactory.generateSecret(spec);\n            byte[] encoded = tmp.getEncoded();\n            return new SecretKeySpec(encoded, UNIQUE_ALGORITHM);\n        } catch (InvalidKeySpecException e) {\n            // should never happen...\n            throw new OutOfServiceException(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>Tried sample of c#:</strong></p>\n<pre><code>using System;\nusing System.IO;\nusing System.Security.Cryptography;\nusing System.Text;\n\nnamespace Encryption_PZID\n{\n    public class Program\n    {\n        static void Main(string[] args)\n        {\n            string key = &quot;&quot;;//24 length key\n            string plainText = &quot;&quot;;//text to be encryptes\n            byte[] iv = new byte[16];\n            byte[] array;\n\n            using (Aes aes = Aes.Create())\n            {\n                aes.BlockSize = 128;\n                aes.KeySize = 128;\n                aes.Key = Encoding.UTF8.GetBytes(key);\n                aes.IV = iv;\n                aes.Mode = CipherMode.CBC;\n                aes.Padding = PaddingMode.PKCS7;\n\n\n                ICryptoTransform encryptor = aes.CreateEncryptor(aes.Key, aes.IV);\n\n                using (MemoryStream memoryStream = new MemoryStream())\n                {\n                    using (CryptoStream cryptoStream = new CryptoStream((Stream)memoryStream, encryptor, CryptoStreamMode.Write))\n                    {\n                        using (StreamWriter streamWriter = new StreamWriter((Stream)cryptoStream))\n                        {\n                            streamWriter.Write(plainText);\n                        }\n\n                        array = memoryStream.ToArray();\n                    }\n                }\n            }\n\n            string getEncrp = Convert.ToBase64String(array);\n            Console.WriteLine(getEncrp);\n\n            Console.WriteLine(&quot;----------- - - - -- - -- - - - -&quot;);\n            //byte[] iv = new byte[16];\n            byte[] buffer = Convert.FromBase64String(getEncrp);\n\n            using (Aes aes = Aes.Create())\n            {\n                aes.BlockSize = 128;\n                aes.KeySize = 128;\n                aes.Key = Encoding.UTF8.GetBytes(key);\n                aes.IV = iv;\n                aes.Mode = CipherMode.CBC;\n                aes.Padding = PaddingMode.PKCS7;\n\n                ICryptoTransform decryptor = aes.CreateDecryptor(aes.Key, aes.IV);\n\n                using (MemoryStream memoryStream = new MemoryStream(buffer))\n                {\n                    using (CryptoStream cryptoStream = new CryptoStream((Stream)memoryStream, decryptor, CryptoStreamMode.Read))\n                    {\n                        using (StreamReader streamReader = new StreamReader((Stream)cryptoStream))\n                        {\n                            string ss = streamReader.ReadToEnd();\n                            Console.WriteLine(&quot;Decode :&quot; + ss);\n                        }\n                    }\n                }\n            }\n\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","objectify","datastore"],"answers":[{"comments":[{"owner":{"account_id":167340,"reputation":451,"user_id":392083,"display_name":"nazgul"},"score":0,"creation_date":1701732827,"post_id":77601334,"comment_id":136810036,"body_markdown":"That&#39;s weird, I was doing this kind of query fine with `javax.jdo.PersistenceManager` just adding `parentKey = null` to the filter. I do have some indexes, not sure they are related to this particular query, but my problem is with `Objectify` not being able to express the same query.","body":"That&#39;s weird, I was doing this kind of query fine with <code>javax.jdo.PersistenceManager</code> just adding <code>parentKey = null</code> to the filter. I do have some indexes, not sure they are related to this particular query, but my problem is with <code>Objectify</code> not being able to express the same query."},{"owner":{"account_id":318652,"reputation":13503,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"score":0,"creation_date":1701796094,"post_id":77601334,"comment_id":136818694,"body_markdown":"Maybe the JDO plugin added an extra synthetic indexed field? I&#39;m not familiar with JDO, but if you can express the query using Google&#39;s low level API, I can explain how to do it with Objectify.","body":"Maybe the JDO plugin added an extra synthetic indexed field? I&#39;m not familiar with JDO, but if you can express the query using Google&#39;s low level API, I can explain how to do it with Objectify."},{"owner":{"account_id":318652,"reputation":13503,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"score":0,"creation_date":1701796398,"post_id":77601334,"comment_id":136818733,"body_markdown":"Here&#39;s an idea that you might have to experiment with. It&#39;s possible that all parented keys sort either before or after all non-parented keys. So try `filterKey(&quot;&lt;&quot;, keyOf(0)` or `filterKey(&quot;&gt;&quot;, keyOf(Long.MAX_VALUE)`?  (where keyOf is pesudocode, construct a real key with the appropriate kind)","body":"Here&#39;s an idea that you might have to experiment with. It&#39;s possible that all parented keys sort either before or after all non-parented keys. So try <code>filterKey(&quot;&lt;&quot;, keyOf(0)</code> or <code>filterKey(&quot;&gt;&quot;, keyOf(Long.MAX_VALUE)</code>?  (where keyOf is pesudocode, construct a real key with the appropriate kind)"},{"owner":{"account_id":167340,"reputation":451,"user_id":392083,"display_name":"nazgul"},"score":0,"creation_date":1701871836,"post_id":77601334,"comment_id":136828684,"body_markdown":"in fact I see I had an `appengine-generated` dir with an index spec:    `&lt;datastore-index kind=&quot;Ent&quot; ancestor=&quot;false&quot; source=&quot;auto&quot;&gt; &lt;property name=&quot;parentKey&quot; direction=&quot;asc&quot;/&gt; &lt;property name=&quot;numComments&quot; direction=&quot;desc&quot;/&gt; &lt;property name=&quot;modificationDate&quot; direction=&quot;desc&quot;/&gt;  &lt;/datastore-index&gt;`\nSo I&#39;m wondering if there is a way to generate similar query that will hit this kind of index.\n\nBut your suggestion looks interesting, I will give it a try in a few days.","body":"in fact I see I had an <code>appengine-generated</code> dir with an index spec:    <code>&lt;datastore-index kind=&quot;Ent&quot; ancestor=&quot;false&quot; source=&quot;auto&quot;&gt; &lt;property name=&quot;parentKey&quot; direction=&quot;asc&quot;&#47;&gt; &lt;property name=&quot;numComments&quot; direction=&quot;desc&quot;&#47;&gt; &lt;property name=&quot;modificationDate&quot; direction=&quot;desc&quot;&#47;&gt;  &lt;&#47;datastore-index&gt;</code> So I&#39;m wondering if there is a way to generate similar query that will hit this kind of index.  But your suggestion looks interesting, I will give it a try in a few days."},{"owner":{"account_id":167340,"reputation":451,"user_id":392083,"display_name":"nazgul"},"score":0,"creation_date":1702095856,"post_id":77601334,"comment_id":136858391,"body_markdown":"Oh, I see my error, my model never actually used the datastore&#39;s `parent` concept, it just happens to define a parent reference field, but it&#39;s not encoded inside key in any way. Sorry for the confusion, I&#39;m porting a long forgotten project from 10 years ago. :)\nRemoving `@Parent` annotation solved the query issue.","body":"Oh, I see my error, my model never actually used the datastore&#39;s <code>parent</code> concept, it just happens to define a parent reference field, but it&#39;s not encoded inside key in any way. Sorry for the confusion, I&#39;m porting a long forgotten project from 10 years ago. :) Removing <code>@Parent</code> annotation solved the query issue."}],"tags":[],"owner":{"account_id":318652,"reputation":13503,"user_id":635982,"accept_rate":58,"display_name":"stickfigure"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701710001,"creation_date":1701710001,"answer_id":77601334,"question_id":77593091,"body_markdown":"I hate to give you bad news, but I don&#39;t think you can. There&#39;s no index for &quot;entities which don&#39;t have an ancestor&quot;. It&#39;s just not a datastore operation.\r\n\r\nI would add an indexed field to your entities to enable the query you want. You may have to map/reduce across all of your entities, resaving them to add the field.","title":"Filter entities with null parent using `Objectify` on datastore","body":"<p>I hate to give you bad news, but I don't think you can. There's no index for &quot;entities which don't have an ancestor&quot;. It's just not a datastore operation.</p>\n<p>I would add an indexed field to your entities to enable the query you want. You may have to map/reduce across all of your entities, resaving them to add the field.</p>\n"}],"owner":{"account_id":167340,"reputation":451,"user_id":392083,"display_name":"nazgul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77601334,"answer_count":1,"score":0,"last_activity_date":1702096061,"creation_date":1701580519,"question_id":77593091,"body_markdown":"In my model I have\r\n```java\r\n@Entity\r\npublic class Ent implements Serializable {\r\n  @Id\r\n  private long key;\r\n\r\n  @Parent\r\n  private Key&lt;Ent&gt; parentKey;\r\n}\r\n```\r\nentity which creates a simple hierarchy (actually just 2-levels in my case). I would like to filter for just the roots of the hierarchy, which is defined by having no parent (`parentKey = null`).\r\n\r\nI tried using `filter()` in Objectify, but got an exception\r\n```\r\njava.lang.IllegalArgumentException: @Parent fields cannot be filtered on. Perhaps you wish to use filterKey() or ancestor() instead?\r\n```\r\nThen I tried using `ancestor()`, but it seems to not support `null` values:\r\n```\r\njavax.servlet.ServletException: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;pojo&quot; is null\r\n\tat com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:117)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.handler.SizeLimitHandler.handle(SizeLimitHandler.java:96)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n\tat com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:269)\r\n\tat com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:100)\r\n\tat com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:184)\r\n\tat com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:262)\r\n\tat com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:227)\r\n\tat com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:193)\r\n\tat com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;pojo&quot; is null\r\n\tat com.googlecode.objectify.impl.Keys.getMetadataSafe(Keys.java:70)\r\n\tat com.googlecode.objectify.impl.Keys.rawKeyOf(Keys.java:52)\r\n\tat com.googlecode.objectify.impl.Keys.anythingToRawKey(Keys.java:122)\r\n\tat com.googlecode.objectify.impl.QueryImpl.setAncestor(QueryImpl.java:221)\r\n\tat com.googlecode.objectify.impl.SimpleQueryImpl.ancestor(SimpleQueryImpl.java:69)\r\n\tat \r\n```\r\n\r\nI suppose I should use `filterKey()`, the question is how do I create a &quot;filtering key&quot; that will accept any `id`, but only `null` parent...\r\n\r\n## Edit\r\nIt&#39;s probably not possible, my data actually doesn&#39;t encode `parentKey` inside the entity&#39;s `key`, which is necessary for `@Parent` feature, removing that annotation solved the issue.","title":"Filter entities with null parent using `Objectify` on datastore","body":"<p>In my model I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Ent implements Serializable {\n  @Id\n  private long key;\n\n  @Parent\n  private Key&lt;Ent&gt; parentKey;\n}\n</code></pre>\n<p>entity which creates a simple hierarchy (actually just 2-levels in my case). I would like to filter for just the roots of the hierarchy, which is defined by having no parent (<code>parentKey = null</code>).</p>\n<p>I tried using <code>filter()</code> in Objectify, but got an exception</p>\n<pre><code>java.lang.IllegalArgumentException: @Parent fields cannot be filtered on. Perhaps you wish to use filterKey() or ancestor() instead?\n</code></pre>\n<p>Then I tried using <code>ancestor()</code>, but it seems to not support <code>null</code> values:</p>\n<pre><code>javax.servlet.ServletException: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;pojo&quot; is null\n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:117)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.handler.SizeLimitHandler.handle(SizeLimitHandler.java:96)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.Server.handle(Server.java:516)\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n    at com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:269)\n    at com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:100)\n    at com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:184)\n    at com.google.apphosting.runtime.RequestRunner.dispatchServletRequest(RequestRunner.java:262)\n    at com.google.apphosting.runtime.RequestRunner.dispatchRequest(RequestRunner.java:227)\n    at com.google.apphosting.runtime.RequestRunner.run(RequestRunner.java:193)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:273)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;pojo&quot; is null\n    at com.googlecode.objectify.impl.Keys.getMetadataSafe(Keys.java:70)\n    at com.googlecode.objectify.impl.Keys.rawKeyOf(Keys.java:52)\n    at com.googlecode.objectify.impl.Keys.anythingToRawKey(Keys.java:122)\n    at com.googlecode.objectify.impl.QueryImpl.setAncestor(QueryImpl.java:221)\n    at com.googlecode.objectify.impl.SimpleQueryImpl.ancestor(SimpleQueryImpl.java:69)\n    at \n</code></pre>\n<p>I suppose I should use <code>filterKey()</code>, the question is how do I create a &quot;filtering key&quot; that will accept any <code>id</code>, but only <code>null</code> parent...</p>\n<h2>Edit</h2>\n<p>It's probably not possible, my data actually doesn't encode <code>parentKey</code> inside the entity's <code>key</code>, which is necessary for <code>@Parent</code> feature, removing that annotation solved the issue.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":9728746,"reputation":67,"user_id":7222396,"accept_rate":60,"display_name":"Electronicappap"},"score":0,"creation_date":1483033955,"post_id":41384476,"comment_id":69971719,"body_markdown":"Do not create me in the file link, use your code like this: `try {\n\t\t\t\t\tProcess symlink = Runtime.getRuntime().exec(&quot;ln -s /sdcard/Enlace.txt /sdcard/Mob/Enlace.txt&quot;);\n\t\t\t\t} catch (IOException e) {\n\t\t\t\t\t// TODO Auto-generated catch block\n\t\t\t\t\te.printStackTrace();\n\t\t\t\t}`","body":"Do not create me in the file link, use your code like this: <code>try { \t\t\t\t\tProcess symlink = Runtime.getRuntime().exec(&quot;ln -s &#47;sdcard&#47;Enlace.txt &#47;sdcard&#47;Mob&#47;Enlace.txt&quot;); \t\t\t\t} catch (IOException e) { \t\t\t\t\t&#47;&#47; TODO Auto-generated catch block \t\t\t\t\te.printStackTrace(); \t\t\t\t}</code>"},{"owner":{"account_id":4881247,"reputation":138,"user_id":3934980,"display_name":"Ryan Doherty"},"score":1,"creation_date":1483036341,"post_id":41384476,"comment_id":69972805,"body_markdown":"Do not create me in the file link? The hell does that mean?","body":"Do not create me in the file link? The hell does that mean?"},{"owner":{"account_id":9728746,"reputation":67,"user_id":7222396,"accept_rate":60,"display_name":"Electronicappap"},"score":0,"creation_date":1483038683,"post_id":41384476,"comment_id":69973873,"body_markdown":"Forgive my syntax, what I wanted to say was: is that the link file was not created in the desired directory (it just was not created). Thank you for the correction.","body":"Forgive my syntax, what I wanted to say was: is that the link file was not created in the desired directory (it just was not created). Thank you for the correction."}],"tags":[],"owner":{"account_id":4881247,"reputation":138,"user_id":3934980,"display_name":"Ryan Doherty"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483032474,"creation_date":1483032474,"answer_id":41384476,"question_id":41384370,"body_markdown":"Try running it as a command with the Process class.\r\n\r\n    Process symlink = Runtime.getRuntime().exec(&quot;ln -s /path/to/file /path/to/symlink&quot;);\r\n","title":"Is it possible to create a symbolic link on Android?","body":"<p>Try running it as a command with the Process class.</p>\n\n<pre><code>Process symlink = Runtime.getRuntime().exec(\"ln -s /path/to/file /path/to/symlink\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1558185929,"creation_date":1558185929,"answer_id":56199383,"question_id":41384370,"body_markdown":"It is possible using `Os.symlink(originalFilePath, symLinkFilePath)` (link [**here**][1]), starting from Lollipop. \r\n\r\nIf you want to support from older Android versions, check [here][2].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/system/Os.html#symlink(java.lang.String,%20java.lang.String)\r\n  [2]: https://stackoverflow.com/a/56107194/878126","title":"Is it possible to create a symbolic link on Android?","body":"<p>It is possible using <code>Os.symlink(originalFilePath, symLinkFilePath)</code> (link <a href=\"https://developer.android.com/reference/android/system/Os.html#symlink(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\"><strong>here</strong></a>), starting from Lollipop. </p>\n\n<p>If you want to support from older Android versions, check <a href=\"https://stackoverflow.com/a/56107194/878126\">here</a>.</p>\n"}],"owner":{"account_id":9728746,"reputation":67,"user_id":7222396,"accept_rate":60,"display_name":"Electronicappap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16712,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1702094986,"creation_date":1483032055,"question_id":41384370,"body_markdown":"I want to know if in android it is possible to create symbolic links from my android application, because I want to create a symbolic link of the folder / data of my application with / sdcard. I am not an expert on android, but I usually do it in java using the Java.nio.File.Files class but in android this class is not allowed, I know that in android there is a way that is by using api 21 with The Os.symlink () method, but this is for android 5.0 and I need it for the minimum android 4.0 or 4.1 onwards. If you know any way please let me know, thank you very much.","title":"Is it possible to create a symbolic link on Android?","body":"<p>I want to know if in android it is possible to create symbolic links from my android application, because I want to create a symbolic link of the folder / data of my application with / sdcard. I am not an expert on android, but I usually do it in java using the Java.nio.File.Files class but in android this class is not allowed, I know that in android there is a way that is by using api 21 with The Os.symlink () method, but this is for android 5.0 and I need it for the minimum android 4.0 or 4.1 onwards. If you know any way please let me know, thank you very much.</p>\n"},{"tags":["java","inheritance","extends"],"comments":[{"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"score":3,"creation_date":1702074425,"post_id":77629436,"comment_id":136857038,"body_markdown":"Java offers multiple Interface implementation, try to use it.","body":"Java offers multiple Interface implementation, try to use it."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":2,"creation_date":1702074441,"post_id":77629436,"comment_id":136857039,"body_markdown":"Java does not support multiple inheritance. You could achieve what you want using interfaces instead, as a class can implement more than one interface, but a class can not extend more than one class. Or you could have an Enum of all the types, and for any given Pokemon its type could be an array of that Enum.","body":"Java does not support multiple inheritance. You could achieve what you want using interfaces instead, as a class can implement more than one interface, but a class can not extend more than one class. Or you could have an Enum of all the types, and for any given Pokemon its type could be an array of that Enum."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1702077703,"post_id":77629436,"comment_id":136857368,"body_markdown":"As Ludov Dmitrii says, one can make interfaces Grass and Electric implemented by different Pokemons. As Java&#39;s predecessor C++ originally had a cumbersome multiple inheritance, Java went back to single inherance for classes and plural interfaces.","body":"As Ludov Dmitrii says, one can make interfaces Grass and Electric implemented by different Pokemons. As Java&#39;s predecessor C++ originally had a cumbersome multiple inheritance, Java went back to single inherance for classes and plural interfaces."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702094222,"creation_date":1702094222,"answer_id":77630072,"question_id":77629436,"body_markdown":"No, but, you&#39;re thinking about it the wrong way.\r\n\r\nThe two plausible ways to represent, say, Bulbasaur, is either:\r\n\r\n```\r\npublic class Bulbasaur extends Pokemon implements GrassType, PoisonType {}\r\n```\r\n\r\nOr possibly:\r\n\r\n```\r\npublic abstract class Pokemon {\r\n  private final List&lt;String&gt; types;\r\n\r\n  public Pokemon(List&lt;String&gt; types) {\r\n    this.types = types;\r\n  }\r\n\r\n  public List&lt;String&gt; getTypes() {\r\n    return this.types;\r\n  }\r\n}\r\n\r\npublic class Bulbasaur extends Pokemon {\r\n  public Bulbasaur() {\r\n    super(List.of(&quot;Grass&quot;, &quot;Poison&quot;));\r\n  }\r\n}\r\n```\r\n\r\nWhere as additional upgrades you might want to turn those types into an `enum` instead.\r\n\r\n## Why?\r\n\r\nGenerally introducing types is a bad idea unless the type brings new functionality. It&#39;s fairly obvious that `Pokemon` as a type brings various methods along with it - any Pokemon has a `getName()` method, for example.\r\n\r\nHowever, what would `GrassType` bring? Not, necessarily, `public void leafBlade(Pokemon target) {}`, because not all grass type pokemon have leaf blade, and some pokemon with leaf blade aren&#39;t grass type.\r\n\r\nSo, &#39;grass type&#39; adds no new methods to the table, and it is therefore generally a bad idea to make it a type, then. It&#39;d be a type that defines nothing.\r\n\r\nGenerally when you write `X extends Y` you need to ensure that Y is the _only_ obvious conceptual parent type of the thing. Bulbasaur is, primarily, a pokemon. It is not &#39;primarily&#39; a &#39;GrassType&#39;. It cannot be; after all it cannot both be primarily a GrassTypePokemon _and_ a PoisonTypePokemon. Literally, in java&#39;s case: You can only extend one class.\r\n\r\nPossibly, &#39;Bulbasaur&#39; shouldn&#39;t be a class either. Is there anything in particular that __all__ Bulbasaurs imaginable can do, which no other Pokemon could? I don&#39;t think any such thing exists. There is no attack that guaranteed __every__ bulbasaur has, for example. Most likely you just want a `Pokemon` class that has no subclasses.\r\n\r\nGenerally, convoluted type hierarchies are a bad idea. Introduce them sparingly, and only if they add something useful - if the various types you define come with new methods that are _universally_ applicable. You can&#39;t &#39;undeclare&#39; a method in java, if you `extends Greeter` and `Greeter` defines a `void hello()` method, then.. you have an hello method. You can&#39;t get rid of it. It&#39;s nasty to have to implement it as `throw new UnsupportedOperationException(&quot;Even though I said I was a greet, this one cant speak&quot;);` - that&#39;s a code smell.\r\n","title":"Is it possible to inherit multiple classes?","body":"<p>No, but, you're thinking about it the wrong way.</p>\n<p>The two plausible ways to represent, say, Bulbasaur, is either:</p>\n<pre><code>public class Bulbasaur extends Pokemon implements GrassType, PoisonType {}\n</code></pre>\n<p>Or possibly:</p>\n<pre><code>public abstract class Pokemon {\n  private final List&lt;String&gt; types;\n\n  public Pokemon(List&lt;String&gt; types) {\n    this.types = types;\n  }\n\n  public List&lt;String&gt; getTypes() {\n    return this.types;\n  }\n}\n\npublic class Bulbasaur extends Pokemon {\n  public Bulbasaur() {\n    super(List.of(&quot;Grass&quot;, &quot;Poison&quot;));\n  }\n}\n</code></pre>\n<p>Where as additional upgrades you might want to turn those types into an <code>enum</code> instead.</p>\n<h2>Why?</h2>\n<p>Generally introducing types is a bad idea unless the type brings new functionality. It's fairly obvious that <code>Pokemon</code> as a type brings various methods along with it - any Pokemon has a <code>getName()</code> method, for example.</p>\n<p>However, what would <code>GrassType</code> bring? Not, necessarily, <code>public void leafBlade(Pokemon target) {}</code>, because not all grass type pokemon have leaf blade, and some pokemon with leaf blade aren't grass type.</p>\n<p>So, 'grass type' adds no new methods to the table, and it is therefore generally a bad idea to make it a type, then. It'd be a type that defines nothing.</p>\n<p>Generally when you write <code>X extends Y</code> you need to ensure that Y is the <em>only</em> obvious conceptual parent type of the thing. Bulbasaur is, primarily, a pokemon. It is not 'primarily' a 'GrassType'. It cannot be; after all it cannot both be primarily a GrassTypePokemon <em>and</em> a PoisonTypePokemon. Literally, in java's case: You can only extend one class.</p>\n<p>Possibly, 'Bulbasaur' shouldn't be a class either. Is there anything in particular that <strong>all</strong> Bulbasaurs imaginable can do, which no other Pokemon could? I don't think any such thing exists. There is no attack that guaranteed <strong>every</strong> bulbasaur has, for example. Most likely you just want a <code>Pokemon</code> class that has no subclasses.</p>\n<p>Generally, convoluted type hierarchies are a bad idea. Introduce them sparingly, and only if they add something useful - if the various types you define come with new methods that are <em>universally</em> applicable. You can't 'undeclare' a method in java, if you <code>extends Greeter</code> and <code>Greeter</code> defines a <code>void hello()</code> method, then.. you have an hello method. You can't get rid of it. It's nasty to have to implement it as <code>throw new UnsupportedOperationException(&quot;Even though I said I was a greet, this one cant speak&quot;);</code> - that's a code smell.</p>\n"}],"owner":{"account_id":30101437,"reputation":1,"user_id":23068450,"display_name":"CynicalBlitz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702127810,"answer_count":1,"score":0,"last_activity_date":1702094222,"creation_date":1702073948,"question_id":77629436,"body_markdown":"I was studying for my Intro to Java I exam and I don&#39;t think I need to get this far into inheritance but it made me curious. I decided to practice with Pok&#233;mon because even though most of the examples are for animals I wanted to make it fun. But this brought up an issue for when I wanted to have a Pok&#233;mon with multiple types. (I am using BlueJ in the screenshot because its what our teacher forces us to use. vv)\r\n\r\n[BlueJ inheritance screenshot](https://i.stack.imgur.com/YZYil.png)\r\n\r\nAt first I just made a class for &quot;Pok&#233;mon&quot; which had all of the necessary info and stats variables and then extended it to different types so that I could have all that info and also set their weaknesses and strengths. \r\n\r\nI was just going to choose two random Pok&#233;mon to practice with (thus the Bulbasaur and Pikachu) and everything lines up then but I thought to add one that was both their types to see what I could do with that but I couldn&#39;t make the new Pok&#233;mon (Rotom-Mow) have both the Grass type and Electric type class. I tried to make a separate class that combined both types too but I don&#39;t know why that would work if trying to put them on the actual Pok&#233;mon wouldn&#39;t. I expected it to, for example, carry everything over from both the Pok&#233;mon class as well as the Grass and Electric types into Rotom-Mow.\r\n\r\nI know I could not have separate classes for the types and just know which types each Pok&#233;mon was then put them in manually but that&#39;s the easy way out and also I would rather not have to type it for each new Pok&#233;mon. I guess along a similar vein I could just have lists stored of different types weaknesses and strengths and call upon those? \r\n\r\nAlso what if two Pok&#233;mon had a child with traits from both parents that seems like a thing I should be able to do as well.\r\n\r\nBut I want to know what you guys would do to either inherit multiple classes or solve my problem. I&#39;m sure there is an obvious solution to seasoned programmers but before learning Java for this semester all I had done programming wise was Scratch when I was little then Python which isn&#39;t object based.\r\n\r\n**TL;DR-** How can I have a class inherit multiple kinds of classes that are unrelated to one another linearly? (All sort of on the same &quot;tier&quot; of the cake I guess) Ex. a Pok&#233;mon that is both a Grass type and Electric type.\r\n","title":"Is it possible to inherit multiple classes?","body":"<p>I was studying for my Intro to Java I exam and I don't think I need to get this far into inheritance but it made me curious. I decided to practice with Pokémon because even though most of the examples are for animals I wanted to make it fun. But this brought up an issue for when I wanted to have a Pokémon with multiple types. (I am using BlueJ in the screenshot because its what our teacher forces us to use. vv)</p>\n<p><a href=\"https://i.stack.imgur.com/YZYil.png\" rel=\"nofollow noreferrer\">BlueJ inheritance screenshot</a></p>\n<p>At first I just made a class for &quot;Pokémon&quot; which had all of the necessary info and stats variables and then extended it to different types so that I could have all that info and also set their weaknesses and strengths.</p>\n<p>I was just going to choose two random Pokémon to practice with (thus the Bulbasaur and Pikachu) and everything lines up then but I thought to add one that was both their types to see what I could do with that but I couldn't make the new Pokémon (Rotom-Mow) have both the Grass type and Electric type class. I tried to make a separate class that combined both types too but I don't know why that would work if trying to put them on the actual Pokémon wouldn't. I expected it to, for example, carry everything over from both the Pokémon class as well as the Grass and Electric types into Rotom-Mow.</p>\n<p>I know I could not have separate classes for the types and just know which types each Pokémon was then put them in manually but that's the easy way out and also I would rather not have to type it for each new Pokémon. I guess along a similar vein I could just have lists stored of different types weaknesses and strengths and call upon those?</p>\n<p>Also what if two Pokémon had a child with traits from both parents that seems like a thing I should be able to do as well.</p>\n<p>But I want to know what you guys would do to either inherit multiple classes or solve my problem. I'm sure there is an obvious solution to seasoned programmers but before learning Java for this semester all I had done programming wise was Scratch when I was little then Python which isn't object based.</p>\n<p><strong>TL;DR-</strong> How can I have a class inherit multiple kinds of classes that are unrelated to one another linearly? (All sort of on the same &quot;tier&quot; of the cake I guess) Ex. a Pokémon that is both a Grass type and Electric type.</p>\n"},{"tags":["java","android","gradle","dependencies","resources"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687753844,"post_id":76553512,"comment_id":134975294,"body_markdown":"What you were trying to do, a little explanation about the problem would be nice","body":"What you were trying to do, a little explanation about the problem would be nice"},{"owner":{"account_id":28894890,"reputation":11,"user_id":22131125,"display_name":"xilhwrd AQR"},"score":0,"creation_date":1687758737,"post_id":76553512,"comment_id":134975792,"body_markdown":"@FarkhodAbdukodirov I trying to build a RecyclerView and add some data from ArrayList to Adapter","body":"@FarkhodAbdukodirov I trying to build a RecyclerView and add some data from ArrayList to Adapter"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687759138,"post_id":76553512,"comment_id":134975842,"body_markdown":"Please update your post with your problem explanation","body":"Please update your post with your problem explanation"}],"answers":[{"tags":[],"owner":{"account_id":92486,"reputation":45195,"user_id":253468,"accept_rate":79,"display_name":"TWiStErRob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702093166,"creation_date":1702093166,"answer_id":77630040,"question_id":76553512,"body_markdown":"Two potential reasons:\r\n * `implementation project(path: &#39;:app&#39;)` lines refer to the same project. (Assuming the contents above are the `:app` module&#39;s `build.gradle` contents.)\r\n * There are two modules in your multi-module build with the same name (not sure yet why this could be a problem, but that was my problem).","title":"Circular dependency between the following tasks: :app:processDebugResources \\--- :app:processDebugResources","body":"<p>Two potential reasons:</p>\n<ul>\n<li><code>implementation project(path: ':app')</code> lines refer to the same project. (Assuming the contents above are the <code>:app</code> module's <code>build.gradle</code> contents.)</li>\n<li>There are two modules in your multi-module build with the same name (not sure yet why this could be a problem, but that was my problem).</li>\n</ul>\n"}],"owner":{"account_id":28894890,"reputation":11,"user_id":22131125,"display_name":"xilhwrd AQR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702093166,"creation_date":1687753554,"question_id":76553512,"body_markdown":"What could be the problem? \r\n\r\n* Exception is:\r\norg.gradle.api.CircularReferenceException: Circular dependency between the following tasks:\r\n:app:processDebugResources\r\n\\--- :app:processDebugResources (*)\r\n\r\n\r\nI try to change the version of buildTools\r\nthat is my biuld.gradle \r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.ban_hang&#39;\r\n    compileSdk 33\r\n    buildToolsVersion &quot;34.0.0&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.ban_hang&quot;\r\n        minSdk 33\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation project(path: &#39;:app&#39;)\r\n    implementation project(path: &#39;:app&#39;)\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n}\r\n```\r\n","title":"Circular dependency between the following tasks: :app:processDebugResources \\--- :app:processDebugResources","body":"<p>What could be the problem?</p>\n<ul>\n<li>Exception is:\norg.gradle.api.CircularReferenceException: Circular dependency between the following tasks:\n:app:processDebugResources\n--- :app:processDebugResources (*)</li>\n</ul>\n<p>I try to change the version of buildTools\nthat is my biuld.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.ban_hang'\n    compileSdk 33\n    buildToolsVersion &quot;34.0.0&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.ban_hang&quot;\n        minSdk 33\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation project(path: ':app')\n    implementation project(path: ':app')\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation &quot;androidx.recyclerview:recyclerview:1.2.1&quot;\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n}\n</code></pre>\n"},{"tags":["java","oop","arraylist","inputmismatchexception","constructor-overloading"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1702093219,"post_id":77630029,"comment_id":136858282,"body_markdown":"Welcome! Please note that this site is not a debugging service. Copy-pasting large slabs of code into the question and asking us to debug it is off-topic. However, we can help you with *specific* questions about small *parts* of your code (a few lines), ideally accompanied by an [MCVE]. Please read [How to ask](https://stackoverflow.com/help/how-to-ask) then edit your question to narrow its focus and remove all code not directly relevant and absolutely required to describe your problem. Also, your code doesn&#39;t compile, because `input1` is declared twice - please show compilable code.","body":"Welcome! Please note that this site is not a debugging service. Copy-pasting large slabs of code into the question and asking us to debug it is off-topic. However, we can help you with <i>specific</i> questions about small <i>parts</i> of your code (a few lines), ideally accompanied by an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask</a> then edit your question to narrow its focus and remove all code not directly relevant and absolutely required to describe your problem. Also, your code doesn&#39;t compile, because <code>input1</code> is declared twice - please show compilable code."},{"owner":{"account_id":26360805,"reputation":1,"user_id":20017027,"display_name":"Annika"},"score":0,"creation_date":1702094160,"post_id":77630029,"comment_id":136858316,"body_markdown":"im not asking to debug, i copy-pasted large slabs of code for you to get my main simple question","body":"im not asking to debug, i copy-pasted large slabs of code for you to get my main simple question"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702097143,"post_id":77630029,"comment_id":136858449,"body_markdown":"You are catching the `InputMismatchException` exception **outside** of the loop.   So,  by the time you deal with the problem of invalid input, you can&#39;t do around the loop again to get more input.   Solution: you should be able to work it out for yourself.  Think about it.","body":"You are catching the <code>InputMismatchException</code> exception <b>outside</b> of the loop.   So,  by the time you deal with the problem of invalid input, you can&#39;t do around the loop again to get more input.   Solution: you should be able to work it out for yourself.  Think about it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702097234,"post_id":77630029,"comment_id":136858462,"body_markdown":"*&quot;im not asking to debug&quot;* - Then what exactly were you asking for help with ... if it wasn&#39;t to find the bug(s) in your code?","body":"<i>&quot;im not asking to debug&quot;</i> - Then what exactly were you asking for help with ... if it wasn&#39;t to find the bug(s) in your code?"},{"owner":{"account_id":26360805,"reputation":1,"user_id":20017027,"display_name":"Annika"},"score":0,"creation_date":1702181864,"post_id":77630029,"comment_id":136864715,"body_markdown":"fine ill work it out myself. no use","body":"fine ill work it out myself. no use"}],"owner":{"account_id":26360805,"reputation":1,"user_id":20017027,"display_name":"Annika"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702094575,"answer_count":0,"score":0,"last_activity_date":1702092871,"creation_date":1702092679,"question_id":77630029,"body_markdown":"Hi I&#39;m trying to learn java\r\n\r\nThis a simple program that stores a patient&#39;s blood details, well in any case how can i keep the program accurate by means of returning an error message if the input was not in the list of possible inputs.\r\n\r\n```\r\nprotected static final String[] bloodType ={&quot;A&quot;,&quot;O&quot;,&quot;B&quot;,&quot;AB&quot;};\r\nstatic final String[] rhFactor={&quot;+&quot;,&quot;-&quot;};\r\n```\r\n\r\nWell the topic was overloading constructors\r\n\r\n\r\n```\r\nclass BloodData {\r\n    \r\n    protected static final String[] bloodType ={&quot;A&quot;,&quot;O&quot;,&quot;B&quot;,&quot;AB&quot;};\r\n    static final String[] rhFactor={&quot;+&quot;,&quot;-&quot;};\r\n    \r\n    private String setBloodType;\r\n    private String setRhFactor;\r\n    \r\n    public BloodData(){\r\n        \r\n        this.setBloodType = &quot;O&quot;;\r\n        this.setRhFactor = &quot;+&quot;;\r\n        \r\n    }\r\n    public BloodData(String bt, String rh){\r\n        this.setBloodType=bt;\r\n        this.setRhFactor=rh;\r\n    }\r\n    public void display(){\r\n       \r\n        System.out.println(setBloodType+setRhFactor + &quot; is added to the blood bank.&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class RunBloodData {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        try {\r\n            do {   \r\n//            String[] input1={&quot;A&quot;,&quot;B&quot;,&quot;O&quot;,&quot;AB&quot;};    how can i limit the user to a certain input\r\n//            String[] input2={&quot;+&quot;,&quot;-&quot;};\r\n            Scanner scan= new Scanner(System.in);\r\n        System.out.print(&quot;Enter the Blood Type of patient: &quot;);\r\n        String input1 =scan.nextLine();\r\n        \r\n        System.out.print(&quot;Enter the Rhesus Factor(+ or -): &quot;);\r\n        String input2 =scan.nextLine();\r\n        \r\n            if (input1.isBlank()||input2.isBlank()) {\r\n                BloodData bd = new BloodData();\r\n                bd.display();\r\n            } else {\r\n                BloodData bd = new BloodData(input1, input2);\r\n                bd.display();\r\n            }\r\n        \r\n        \r\n        } while (true);\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;Error in your input!&quot;);\r\n        }\r\n        \r\n        \r\n    }\r\n    \r\n    \r\n}\r\n```\r\n\r\n\r\nOutput:\r\n```\r\nEnter the Blood Type of patient: \r\nEnter the Rhesus Factor(+ or -): \r\nO+ is added to the blood bank.\r\nEnter the Blood Type of patient: \r\n```\r\n","title":"how can i limit the user to a certain input","body":"<p>Hi I'm trying to learn java</p>\n<p>This a simple program that stores a patient's blood details, well in any case how can i keep the program accurate by means of returning an error message if the input was not in the list of possible inputs.</p>\n<pre><code>protected static final String[] bloodType ={&quot;A&quot;,&quot;O&quot;,&quot;B&quot;,&quot;AB&quot;};\nstatic final String[] rhFactor={&quot;+&quot;,&quot;-&quot;};\n</code></pre>\n<p>Well the topic was overloading constructors</p>\n<pre><code>class BloodData {\n    \n    protected static final String[] bloodType ={&quot;A&quot;,&quot;O&quot;,&quot;B&quot;,&quot;AB&quot;};\n    static final String[] rhFactor={&quot;+&quot;,&quot;-&quot;};\n    \n    private String setBloodType;\n    private String setRhFactor;\n    \n    public BloodData(){\n        \n        this.setBloodType = &quot;O&quot;;\n        this.setRhFactor = &quot;+&quot;;\n        \n    }\n    public BloodData(String bt, String rh){\n        this.setBloodType=bt;\n        this.setRhFactor=rh;\n    }\n    public void display(){\n       \n        System.out.println(setBloodType+setRhFactor + &quot; is added to the blood bank.&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class RunBloodData {\n\n    public static void main(String[] args) {\n        \n        try {\n            do {   \n//            String[] input1={&quot;A&quot;,&quot;B&quot;,&quot;O&quot;,&quot;AB&quot;};    how can i limit the user to a certain input\n//            String[] input2={&quot;+&quot;,&quot;-&quot;};\n            Scanner scan= new Scanner(System.in);\n        System.out.print(&quot;Enter the Blood Type of patient: &quot;);\n        String input1 =scan.nextLine();\n        \n        System.out.print(&quot;Enter the Rhesus Factor(+ or -): &quot;);\n        String input2 =scan.nextLine();\n        \n            if (input1.isBlank()||input2.isBlank()) {\n                BloodData bd = new BloodData();\n                bd.display();\n            } else {\n                BloodData bd = new BloodData(input1, input2);\n                bd.display();\n            }\n        \n        \n        } while (true);\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Error in your input!&quot;);\n        }\n        \n        \n    }\n    \n    \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Enter the Blood Type of patient: \nEnter the Rhesus Factor(+ or -): \nO+ is added to the blood bank.\nEnter the Blood Type of patient: \n</code></pre>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1702091397,"post_id":77629989,"comment_id":136858189,"body_markdown":"[Search](https://www.ecosia.org/search?q=java%20swing%20maxiwize%20window&amp;tts=st_asaf_ipad)","body":"<a href=\"https://www.ecosia.org/search?q=java%20swing%20maxiwize%20window&amp;tts=st_asaf_ipad\" rel=\"nofollow noreferrer\">Search</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1702091528,"post_id":77629989,"comment_id":136858198,"body_markdown":"It’s hard to offer specific advice without seeing your code, but a common beginner mistake is setting exact pixel sizes of components.  There is almost never a valid reason to use the `setSize` method.  Instead, let each component figure out its own preferred size on its own, and use layout managers (like BorderLayout, Box, and GridBagLayout) to do all of the work of arranging components at their best size.  Read the javadoc of the layout manager classes to understand which child components will stretch to fill extra space when a container is made larger by the user.","body":"It’s hard to offer specific advice without seeing your code, but a common beginner mistake is setting exact pixel sizes of components.  There is almost never a valid reason to use the <code>setSize</code> method.  Instead, let each component figure out its own preferred size on its own, and use layout managers (like BorderLayout, Box, and GridBagLayout) to do all of the work of arranging components at their best size.  Read the javadoc of the layout manager classes to understand which child components will stretch to fill extra space when a container is made larger by the user."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1702091576,"post_id":77629989,"comment_id":136858201,"body_markdown":"[Laying Out Components Within a Container](https://docs.oracle.com/javase%2Ftutorial%2F/uiswing/layout/index.html)","body":"<a href=\"https://docs.oracle.com/javase%2Ftutorial%2F/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a>"}],"owner":{"account_id":30102396,"reputation":1,"user_id":23069128,"display_name":"LUIS ANGEL CEBREROS CARRILLO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702091322,"answer_count":0,"score":-3,"last_activity_date":1702092866,"creation_date":1702091123,"question_id":77629989,"body_markdown":"I am a beginner in Java, I would like to be able to create a program in which when I maximize the window everything I have on the small screen becomes responsive. All this since I encountered this problem while developing an exercise. All this arose because when I wanted to run my programs on different PCs the window size did not adapt.\r\n\r\nI&#39;ve been alone and researched but I haven&#39;t found an answer to my problem.","title":"How do I make a Java program responsive?","body":"<p>I am a beginner in Java, I would like to be able to create a program in which when I maximize the window everything I have on the small screen becomes responsive. All this since I encountered this problem while developing an exercise. All this arose because when I wanted to run my programs on different PCs the window size did not adapt.</p>\n<p>I've been alone and researched but I haven't found an answer to my problem.</p>\n"},{"tags":["java","spring","ldap","jndi"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702098684,"post_id":77629954,"comment_id":136858545,"body_markdown":"If you use Java 17 you need to use Spring 6 / SpringBoot classes.   And Tomcat 10.1 or later.","body":"If you use Java 17 you need to use Spring 6 / SpringBoot classes.   And Tomcat 10.1 or later."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702100255,"post_id":77629954,"comment_id":136858612,"body_markdown":"*&quot; I updated the dependency to following as other post suggested but still getting the error. &quot;* - For future reference ... saying that is not helpful.  You didn&#39;t say what posts you are talking about, what dependencies you update, what you updated them too.  And we don&#39;t know for sure what you DIDN&#39;T update.  Since the problem is (most likely) in the dependencies that you haven&#39;t told us about ....","body":"<i>&quot; I updated the dependency to following as other post suggested but still getting the error. &quot;</i> - For future reference ... saying that is not helpful.  You didn&#39;t say what posts you are talking about, what dependencies you update, what you updated them too.  And we don&#39;t know for sure what you DIDN&#39;T update.  Since the problem is (most likely) in the dependencies that you haven&#39;t told us about ...."}],"owner":{"account_id":15726555,"reputation":527,"user_id":11348034,"display_name":"Meera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702092743,"answer_count":0,"score":0,"last_activity_date":1702092785,"creation_date":1702089588,"question_id":77629954,"body_markdown":"I am getting the following error in catalina.out after Java 17 upgrade. I updated the dependency to following as other post suggested but still getting the error. I am running Java-17-openjdk-17.0.9.0.9-2.el9.x86_64 and tomcat-9.0.82.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\tCaused by: java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in unnamed module @0x7e9e53cb) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to unnamed module @0x7e9e53cb\r\n\t\tat org.springframework.ldap.core.support.AbstractContextSource.&lt;clinit&gt;(AbstractContextSource.java:77)\r\n\t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)\r\n\t\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1295)\r\n\t\t... 105 more\r\n","title":"How to fix Ldap error after Java 17 upgrade","body":"<p>I am getting the following error in catalina.out after Java 17 upgrade. I updated the dependency to following as other post suggested but still getting the error. I am running Java-17-openjdk-17.0.9.0.9-2.el9.x86_64 and tomcat-9.0.82.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n&lt;version&gt;2.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n\nCaused by: java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in unnamed module @0x7e9e53cb) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to unnamed module @0x7e9e53cb\n    at org.springframework.ldap.core.support.AbstractContextSource.&lt;clinit&gt;(AbstractContextSource.java:77)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:172)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1295)\n    ... 105 more\n</code></pre>\n"},{"tags":["java","ignite"],"owner":{"account_id":2331995,"reputation":503,"user_id":2045179,"display_name":"Mikha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702092537,"creation_date":1702080479,"question_id":77629707,"body_markdown":"I&#39;m trying to find out if it&#39;s a bug, a feature, or am I doing something wrong...\r\n\r\nSo, using Ignite 2.15.0, listening to the local node events in my Ignite Service:\r\n```\r\nignite.events().localListen((Event evt) -&gt; {\r\n    System.out.println(&quot;Ignite event: &quot; + evt.name());\r\n    return true;\r\n\r\n  }, EVT_CACHE_REBALANCE_STARTED, \r\n       EVT_CACHE_REBALANCE_STOPPED, \r\n       EVT_CACHE_REBALANCE_PART_UNLOADED);\r\n\r\n```\r\n\r\nI have a PARTITIONED cache with backup count = 1, and the rebalancing events are actually partially working as expected:\r\n\r\n- When another node is dropping from the cluster, i.e. partitions are coming in to my node, I see `EVT_CACHE_REBALANCE_STARTED` and `EVT_CACHE_REBALANCE_STOPPED` events, i.e. all works as expected.\r\n\r\n- But when **_another_** node is **_joining_** the cluster, then on **_my_** node I see plenty of the `EVT_CACHE_REBALANCE_PART_UNLOADED` events, but never the `EVT_CACHE_REBALANCE_STARTED/STOPPED` ones. However that&#39;s a rebalance too, aren&#39;t the started/stopped events expected to come in as well?\r\n\r\nHope the above makes sense... Thanks in advance!","title":"EVT_CACHE_REBALANCE_STARTED and EVT_CACHE_REBALANCE_STOPPED events are fired only when partitions are coming to the node","body":"<p>I'm trying to find out if it's a bug, a feature, or am I doing something wrong...</p>\n<p>So, using Ignite 2.15.0, listening to the local node events in my Ignite Service:</p>\n<pre><code>ignite.events().localListen((Event evt) -&gt; {\n    System.out.println(&quot;Ignite event: &quot; + evt.name());\n    return true;\n\n  }, EVT_CACHE_REBALANCE_STARTED, \n       EVT_CACHE_REBALANCE_STOPPED, \n       EVT_CACHE_REBALANCE_PART_UNLOADED);\n\n</code></pre>\n<p>I have a PARTITIONED cache with backup count = 1, and the rebalancing events are actually partially working as expected:</p>\n<ul>\n<li><p>When another node is dropping from the cluster, i.e. partitions are coming in to my node, I see <code>EVT_CACHE_REBALANCE_STARTED</code> and <code>EVT_CACHE_REBALANCE_STOPPED</code> events, i.e. all works as expected.</p>\n</li>\n<li><p>But when <strong><em>another</em></strong> node is <strong><em>joining</em></strong> the cluster, then on <strong><em>my</em></strong> node I see plenty of the <code>EVT_CACHE_REBALANCE_PART_UNLOADED</code> events, but never the <code>EVT_CACHE_REBALANCE_STARTED/STOPPED</code> ones. However that's a rebalance too, aren't the started/stopped events expected to come in as well?</p>\n</li>\n</ul>\n<p>Hope the above makes sense... Thanks in advance!</p>\n"},{"tags":["java","datetime"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1283501714,"creation_date":1283501714,"answer_id":3634038,"question_id":3634016,"body_markdown":"Well, it&#39;s more up to `java.util.TimeZone` to do that... but yes, in general Java is aware of daylight saving time.\r\n\r\nI would personally recommend using [Joda Time][1] instead of `java.util.{Date,Calendar}` though - it&#39;s a *much* nicer API.\r\n\r\n\r\n  [1]: http://joda-time.sf.net","title":"Dates/Calendar in Java","body":"<p>Well, it's more up to <code>java.util.TimeZone</code> to do that... but yes, in general Java is aware of daylight saving time.</p>\n\n<p>I would personally recommend using <a href=\"http://joda-time.sf.net\" rel=\"nofollow noreferrer\">Joda Time</a> instead of <code>java.util.{Date,Calendar}</code> though - it's a <em>much</em> nicer API.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702091014,"creation_date":1702002603,"answer_id":77624032,"question_id":3634016,"body_markdown":"# tl;dr\r\n\r\nTime zones handled automatically in *java.time*:\r\n\r\n    ZonedDateTime.now ( ZoneId.of ( &quot;America/Edmonton&quot; ) ).plusMonths( 6 ) \r\n\r\n… results is same time of day, but different offset because of Daylight Saving Time (DST) versus standard time.\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe Answer by Jon Skeet is correct, and was correct in its day. But now the old date-time classes such as `Calendar` have been supplanted by the modern *java.time* classes defined in JSR 310, built into Java 8+. The *java.time* / JSR 310 project was led by the same man who led the *Joda-Time* project, Stephen Colebourne.\r\n\r\nAvoid those legacy classes such as `java.util.Date`, `java.sql.Date`, `java.util.Calendar`, etc. \r\n\r\n# *java.time*\r\n\r\nThe replacement for `java.util.Calendar` class, or more precisely its common subclass, `java.util.GregorianCalendar`, is `java.time.ZonedDateTime`. \r\n\r\nThe replacement for `java.util.TimeZone` is `java.time.ZoneId` and `java.time.ZoneOffset`.\r\n\r\nTo answer your question, yes, the *java.time* classes do account for the temporal anomalies introduced by politicians. \r\n\r\nThese anomalies, these changes in the offset used by time zones, are documented in [*tzdata*][1]. Each implementation of Java comes with a copy of *tzdata*. You will need to update the *tzdata* file if the rules change for any time zone of interest to you.\r\n\r\n```java\r\nZoneId zEdmonton = ZoneId.of ( &quot;America/Edmonton&quot; );\r\nZonedDateTime zdtEdmontonNow = ZonedDateTime.now ( zEdmonton );\r\nZonedDateTime zdtEdmontonInSixMonths = zdtEdmontonNow.plusMonths ( 6 );\r\n```\r\n\r\nBe aware that Alberta Canada is using standard time in this example run below. In six months, those Canadians will &quot;Spring ahead&quot; their clocks in the fit of silliness known as [Daylight Saving Time (DST)][2]. \r\n\r\nWhen adding six months, the `ZonedDateTime` class tries to establish the same time-of-day on the later date. So we see `19:23:10` (7 PM) as the time of day in both outputs, the time-of-day now and the time-of-day then. But 7 PM comes an hour earlier in the summer of 2024 in Alberta. So we see the offset from the temporal meridian of UTC narrow to six hours behind (-06:00) rather than seven hours behind (-07:00).\r\n\r\nWhen run:\r\n\r\n```none\r\nzdtEdmontonNow.toString() = 2023-12-07T19:23:10.695465-07:00[America/Edmonton]\r\nzdtEdmontonInSixMonths.toString() = 2024-06-07T19:23:10.695465-06:00[America/Edmonton]\r\n```\r\n\r\n\r\n  [1]: https://www.iana.org/time-zones\r\n  [2]: https://en.wikipedia.org/wiki/Daylight_saving_time","title":"Dates/Calendar in Java","body":"<h1>tl;dr</h1>\n<p>Time zones handled automatically in <em>java.time</em>:</p>\n<pre><code>ZonedDateTime.now ( ZoneId.of ( &quot;America/Edmonton&quot; ) ).plusMonths( 6 ) \n</code></pre>\n<p>… results is same time of day, but different offset because of Daylight Saving Time (DST) versus standard time.</p>\n<h1>Avoid legacy date-time classes</h1>\n<p>The Answer by Jon Skeet is correct, and was correct in its day. But now the old date-time classes such as <code>Calendar</code> have been supplanted by the modern <em>java.time</em> classes defined in JSR 310, built into Java 8+. The <em>java.time</em> / JSR 310 project was led by the same man who led the <em>Joda-Time</em> project, Stephen Colebourne.</p>\n<p>Avoid those legacy classes such as <code>java.util.Date</code>, <code>java.sql.Date</code>, <code>java.util.Calendar</code>, etc.</p>\n<h1><em>java.time</em></h1>\n<p>The replacement for <code>java.util.Calendar</code> class, or more precisely its common subclass, <code>java.util.GregorianCalendar</code>, is <code>java.time.ZonedDateTime</code>.</p>\n<p>The replacement for <code>java.util.TimeZone</code> is <code>java.time.ZoneId</code> and <code>java.time.ZoneOffset</code>.</p>\n<p>To answer your question, yes, the <em>java.time</em> classes do account for the temporal anomalies introduced by politicians.</p>\n<p>These anomalies, these changes in the offset used by time zones, are documented in <a href=\"https://www.iana.org/time-zones\" rel=\"nofollow noreferrer\"><em>tzdata</em></a>. Each implementation of Java comes with a copy of <em>tzdata</em>. You will need to update the <em>tzdata</em> file if the rules change for any time zone of interest to you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zEdmonton = ZoneId.of ( &quot;America/Edmonton&quot; );\nZonedDateTime zdtEdmontonNow = ZonedDateTime.now ( zEdmonton );\nZonedDateTime zdtEdmontonInSixMonths = zdtEdmontonNow.plusMonths ( 6 );\n</code></pre>\n<p>Be aware that Alberta Canada is using standard time in this example run below. In six months, those Canadians will &quot;Spring ahead&quot; their clocks in the fit of silliness known as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">Daylight Saving Time (DST)</a>.</p>\n<p>When adding six months, the <code>ZonedDateTime</code> class tries to establish the same time-of-day on the later date. So we see <code>19:23:10</code> (7 PM) as the time of day in both outputs, the time-of-day now and the time-of-day then. But 7 PM comes an hour earlier in the summer of 2024 in Alberta. So we see the offset from the temporal meridian of UTC narrow to six hours behind (-06:00) rather than seven hours behind (-07:00).</p>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>zdtEdmontonNow.toString() = 2023-12-07T19:23:10.695465-07:00[America/Edmonton]\nzdtEdmontonInSixMonths.toString() = 2024-06-07T19:23:10.695465-06:00[America/Edmonton]\n</code></pre>\n"}],"owner":{"display_name":"user253202"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":3634038,"answer_count":2,"score":2,"last_activity_date":1702091014,"creation_date":1283501555,"question_id":3634016,"body_markdown":"Does java.util.Calendar supports automatic winter/summer time changes?","title":"Dates/Calendar in Java","body":"<p>Does java.util.Calendar supports automatic winter/summer time changes?</p>\n"},{"tags":["java","keystore"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1452796554,"post_id":34796279,"comment_id":57337456,"body_markdown":"It&#39;s not really a weakness. If you want to decrypt something, you need a key. You can&#39;t decrypt something without having access to the key.","body":"It&#39;s not really a weakness. If you want to decrypt something, you need a key. You can&#39;t decrypt something without having access to the key."},{"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"score":0,"creation_date":1452808643,"post_id":34796279,"comment_id":57344246,"body_markdown":"If you have your own server you can purchase some inexpensive hardware keystores, even some that do the encrtyption/decryption without reviling the keys, kind-of a mini-HSM. But is the server has the ability to decrypt the data there will be a potential vulnerability. Even the best encryption will be of no use if the data can be decrypted to display on a web page and that access has poor security.","body":"If you have your own server you can purchase some inexpensive hardware keystores, even some that do the encrtyption/decryption without reviling the keys, kind-of a mini-HSM. But is the server has the ability to decrypt the data there will be a potential vulnerability. Even the best encryption will be of no use if the data can be decrypted to display on a web page and that access has poor security."}],"answers":[{"tags":[],"owner":{"account_id":1367448,"reputation":281,"user_id":1303601,"display_name":"Dustin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458084222,"creation_date":1458083864,"answer_id":36024068,"question_id":34796279,"body_markdown":"By using the JKS or any keystore really you are taking the first step toward offloading the key protection requirements from your application or server to the keystore or the user of that keystore.  There are plenty of guidelines for protecting keys and keystores that can get quite fancy (HSM&#39;s, etc..), but leveraging the JCE architecture is just first step. In the meantime might as well start baking security into your application.\r\n\r\nhttps://security.stackexchange.com/questions/11517/storage-of-secrets-keystores-hsms-and-the-rest","title":"What is the point of the Java keystores (JKS, JCEKS) when the keystore password is just as vulnerable as the keys themselves?","body":"<p>By using the JKS or any keystore really you are taking the first step toward offloading the key protection requirements from your application or server to the keystore or the user of that keystore.  There are plenty of guidelines for protecting keys and keystores that can get quite fancy (HSM's, etc..), but leveraging the JCE architecture is just first step. In the meantime might as well start baking security into your application.</p>\n\n<p><a href=\"https://security.stackexchange.com/questions/11517/storage-of-secrets-keystores-hsms-and-the-rest\">https://security.stackexchange.com/questions/11517/storage-of-secrets-keystores-hsms-and-the-rest</a></p>\n"},{"tags":[],"owner":{"account_id":882005,"reputation":889,"user_id":250170,"display_name":"Hill5Air"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575073060,"creation_date":1575073060,"answer_id":59112187,"question_id":34796279,"body_markdown":"A common architecture I see is the application encrypts the data using a private key, or the application must decrypt database credentials for a specific dev/test/prod environment.  Developers commit code and configuration to a code repository.  However, the key used to encrypt/decrypt is created by another team and stored somewhere else. When the server or container is deployed, the keystore is deployed with it.  The codebase including the configuration files is built and deployed onto the the server.  The developer never have access to the decryption keys, the keys are never in the code repo.","title":"What is the point of the Java keystores (JKS, JCEKS) when the keystore password is just as vulnerable as the keys themselves?","body":"<p>A common architecture I see is the application encrypts the data using a private key, or the application must decrypt database credentials for a specific dev/test/prod environment.  Developers commit code and configuration to a code repository.  However, the key used to encrypt/decrypt is created by another team and stored somewhere else. When the server or container is deployed, the keystore is deployed with it.  The codebase including the configuration files is built and deployed onto the the server.  The developer never have access to the decryption keys, the keys are never in the code repo.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678474269,"creation_date":1678474269,"answer_id":75699967,"question_id":34796279,"body_markdown":"In the keystore with an abstract application key you have access to several physical resource keys.\r\n\r\nIndeed this is keystore access is a critical break point.\r\nHowever the stored keys are centrally and again password protected stored.\r\nAlso updates of the stored keys are centrally done, instead of at a some point in the application.\r\n\r\nAlso updating the keystore&#39;s password is easier than updating stored passwords, which depend on usage, like other backend systems.","title":"What is the point of the Java keystores (JKS, JCEKS) when the keystore password is just as vulnerable as the keys themselves?","body":"<p>In the keystore with an abstract application key you have access to several physical resource keys.</p>\n<p>Indeed this is keystore access is a critical break point.\nHowever the stored keys are centrally and again password protected stored.\nAlso updates of the stored keys are centrally done, instead of at a some point in the application.</p>\n<p>Also updating the keystore's password is easier than updating stored passwords, which depend on usage, like other backend systems.</p>\n"}],"owner":{"account_id":476302,"reputation":15377,"user_id":887128,"accept_rate":83,"display_name":"Max"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11744,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":3,"score":10,"last_activity_date":1702087510,"creation_date":1452793450,"question_id":34796279,"body_markdown":"I have some code that encrypts some user data. Currently I have the key stored in a configuration file that gets loaded at runtime. This sucks for a number of reasons, namely that if someone gets access to the config file they have access to the secret key. So I started looking into the Java keystores, but I can&#39;t seem to justify them. The keystores require a password, which would be just as vulnerable as hardcoding the key. Am I missing something, or do key stores suffer the same weaknesses as hard coding the secret keys? ","title":"What is the point of the Java keystores (JKS, JCEKS) when the keystore password is just as vulnerable as the keys themselves?","body":"<p>I have some code that encrypts some user data. Currently I have the key stored in a configuration file that gets loaded at runtime. This sucks for a number of reasons, namely that if someone gets access to the config file they have access to the secret key. So I started looking into the Java keystores, but I can't seem to justify them. The keystores require a password, which would be just as vulnerable as hardcoding the key. Am I missing something, or do key stores suffer the same weaknesses as hard coding the secret keys? </p>\n"},{"tags":["java","html","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":5171639,"reputation":552,"user_id":4139940,"accept_rate":78,"display_name":"jgabb"},"score":1,"creation_date":1441827942,"post_id":32487929,"comment_id":52836507,"body_markdown":"You need to show what you have done thus far.","body":"You need to show what you have done thus far."},{"owner":{"account_id":6528600,"reputation":113,"user_id":5050526,"accept_rate":69,"display_name":"Ketan Deopujari"},"score":0,"creation_date":1441828163,"post_id":32487929,"comment_id":52836618,"body_markdown":"As of now I have two methods in Java with one method that create the HTML file with its basic layout and the second method is for dynamically appending the data to that HTML file.\nI wanted to understand if I can somehow access the div tags in second method with their unique id and start appending data or other tags within that div tag.","body":"As of now I have two methods in Java with one method that create the HTML file with its basic layout and the second method is for dynamically appending the data to that HTML file. I wanted to understand if I can somehow access the div tags in second method with their unique id and start appending data or other tags within that div tag."},{"owner":{"account_id":6528600,"reputation":113,"user_id":5050526,"accept_rate":69,"display_name":"Ketan Deopujari"},"score":0,"creation_date":1441828496,"post_id":32487929,"comment_id":52836769,"body_markdown":"@jgabb Please refer the above code snippet","body":"@jgabb Please refer the above code snippet"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1441829872,"post_id":32487929,"comment_id":52837422,"body_markdown":"This has nothing to do with Selenium! You need to Google how to properly write XML files - HTML is a superset of XML.","body":"This has nothing to do with Selenium! You need to Google how to properly write XML files - HTML is a superset of XML."}],"answers":[{"tags":[],"owner":{"account_id":5149240,"reputation":155,"user_id":5310004,"display_name":"narranoid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441832032,"creation_date":1441832032,"answer_id":32488987,"question_id":32487929,"body_markdown":"Finding a `div`-tag with a specific ID inside your HTML document is possible by creating and searching through the DOM tree.\r\n\r\nFirst you need to create a DOM representation of your document:\r\n\r\n    public static String addToDivWithID(String htmlDocPath, String divID, String dataToAppend)\r\n            throws ParserConfigurationException, IOException, SAXException, TransformerException {\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n        Document doc = builder.parse(htmlDocPath);\r\n\r\n        Element elementWithID = findDiv(divID, doc.getDocumentElement());\r\n\r\n        Element contentToAppend = builder\r\n                .parse(new ByteArrayInputStream(dataToAppend.getBytes()))\r\n                .getDocumentElement();\r\n\r\n        elementWithID.appendChild(contentToAppend);\r\n\r\n        return domToString(doc);\r\n    }\r\n\r\nIn this example I use this method to find the required `div`-element:\r\nIt is performing a recursive lookup (the implementation could look a bit better)\r\n\r\n    public static Element findDiv(String id, Element element) {\r\n\r\n        if( id.equals(element.getAttribute(&quot;id&quot;)) ) {\r\n            return element;\r\n        }\r\n\r\n        NodeList innerDivs = element.getElementsByTagName(&quot;div&quot;);\r\n\r\n        for(int i = 0; i &lt; innerDivs.getLength(); i++) {\r\n            Element current = (Element) innerDivs.item(i);\r\n\r\n            if( id.equals(current.getAttribute(&quot;id&quot;)) ) {\r\n                return current;\r\n            }\r\n\r\n            Element possibleChildWithID = findDiv(id, current);\r\n\r\n            if(possibleChildWithID != null) {\r\n                return possibleChildWithID;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nAfter finding the correct element, you can add the new content with these lines (already in the first method):\r\n\r\n    Element contentToAppend = builder\r\n                .parse(new ByteArrayInputStream(dataToAppend.getBytes()))\r\n                .getDocumentElement();\r\n\r\nYou can find more about appending XML-strings to a DOM-element [here][1].\r\n\r\nThen, you have to transform your DOM-document back to its string representation this way:\r\n\r\n    public static String domToString(Document doc) throws TransformerException {\r\n        TransformerFactory tf = TransformerFactory.newInstance();\r\n        Transformer transformer = tf.newTransformer();\r\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n        StringWriter writer = new StringWriter();\r\n        transformer.transform(new DOMSource(doc), new StreamResult(writer));\r\n        String output = writer.getBuffer().toString().replaceAll(&quot;\\n|\\r&quot;, &quot;&quot;);\r\n\r\n        return output;\r\n    }\r\n\r\nMore info about transforming DOM-documents to string [here][2].\r\n\r\n**At last it is a personal concern of mine to mention, that you should not handle your HTML-documents this way!\r\nIf you want to add content in specific divs, use JSP on the server side like this:**\r\n\r\n    &lt;html&gt;\r\n        &lt;body&gt;\r\n            &lt;div id=&quot;first&quot;&gt;\r\n                &lt;%\r\n                    String first = Foo.getFirstDivStuff();\r\n                %&gt;\r\n                &lt;%= first %&gt;\r\n            &lt;/div&gt;\r\n            &lt;div id=&quot;second&quot;&gt;\r\n                &lt;%\r\n                    String second = Foo.getSecondDivStuff();\r\n                %&gt;\r\n                &lt;%= second %&gt;\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**If you want to modify HTML-content which already did its way to the client, use AJAX and a proper JSP or Servlet on the server.**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/729621/convert-string-xml-fragment-to-document-node-in-java\r\n  [2]: https://stackoverflow.com/questions/5456680/xml-document-to-string","title":"How to append HTML text to div tag in Java","body":"<p>Finding a <code>div</code>-tag with a specific ID inside your HTML document is possible by creating and searching through the DOM tree.</p>\n\n<p>First you need to create a DOM representation of your document:</p>\n\n<pre><code>public static String addToDivWithID(String htmlDocPath, String divID, String dataToAppend)\n        throws ParserConfigurationException, IOException, SAXException, TransformerException {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder builder = factory.newDocumentBuilder();\n    Document doc = builder.parse(htmlDocPath);\n\n    Element elementWithID = findDiv(divID, doc.getDocumentElement());\n\n    Element contentToAppend = builder\n            .parse(new ByteArrayInputStream(dataToAppend.getBytes()))\n            .getDocumentElement();\n\n    elementWithID.appendChild(contentToAppend);\n\n    return domToString(doc);\n}\n</code></pre>\n\n<p>In this example I use this method to find the required <code>div</code>-element:\nIt is performing a recursive lookup (the implementation could look a bit better)</p>\n\n<pre><code>public static Element findDiv(String id, Element element) {\n\n    if( id.equals(element.getAttribute(\"id\")) ) {\n        return element;\n    }\n\n    NodeList innerDivs = element.getElementsByTagName(\"div\");\n\n    for(int i = 0; i &lt; innerDivs.getLength(); i++) {\n        Element current = (Element) innerDivs.item(i);\n\n        if( id.equals(current.getAttribute(\"id\")) ) {\n            return current;\n        }\n\n        Element possibleChildWithID = findDiv(id, current);\n\n        if(possibleChildWithID != null) {\n            return possibleChildWithID;\n        }\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>After finding the correct element, you can add the new content with these lines (already in the first method):</p>\n\n<pre><code>Element contentToAppend = builder\n            .parse(new ByteArrayInputStream(dataToAppend.getBytes()))\n            .getDocumentElement();\n</code></pre>\n\n<p>You can find more about appending XML-strings to a DOM-element <a href=\"https://stackoverflow.com/questions/729621/convert-string-xml-fragment-to-document-node-in-java\">here</a>.</p>\n\n<p>Then, you have to transform your DOM-document back to its string representation this way:</p>\n\n<pre><code>public static String domToString(Document doc) throws TransformerException {\n    TransformerFactory tf = TransformerFactory.newInstance();\n    Transformer transformer = tf.newTransformer();\n    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n    StringWriter writer = new StringWriter();\n    transformer.transform(new DOMSource(doc), new StreamResult(writer));\n    String output = writer.getBuffer().toString().replaceAll(\"\\n|\\r\", \"\");\n\n    return output;\n}\n</code></pre>\n\n<p>More info about transforming DOM-documents to string <a href=\"https://stackoverflow.com/questions/5456680/xml-document-to-string\">here</a>.</p>\n\n<p><strong>At last it is a personal concern of mine to mention, that you should not handle your HTML-documents this way!\nIf you want to add content in specific divs, use JSP on the server side like this:</strong></p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;div id=\"first\"&gt;\n            &lt;%\n                String first = Foo.getFirstDivStuff();\n            %&gt;\n            &lt;%= first %&gt;\n        &lt;/div&gt;\n        &lt;div id=\"second\"&gt;\n            &lt;%\n                String second = Foo.getSecondDivStuff();\n            %&gt;\n            &lt;%= second %&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>If you want to modify HTML-content which already did its way to the client, use AJAX and a proper JSP or Servlet on the server.</strong></p>\n"}],"owner":{"account_id":6528600,"reputation":113,"user_id":5050526,"accept_rate":69,"display_name":"Ketan Deopujari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10497,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702087510,"creation_date":1441827833,"question_id":32487929,"body_markdown":"I am dynamically generating a HTML file in Java Selenium Webdriver. The HTML file has two div tags with each having their own unique id attribute.\r\n\r\nI want to dynamically add HTML text to these div tags based upon their id&#39;s at a later point in my code.\r\n\r\nCan this be achieved? If yes, can someone point me in right direction in regards to how to achieve this? If no, what is an alternative way to achieve this?\r\n\r\nI am struggling to tackle this scenario. I really need to be able to dynamically append the data to the HTML page based on div tags.\r\n\r\nThanks in advance!\r\n\r\n\tpublic void createsummaryfile(String report,String path) throws IOException{\t\t\t\r\n\t\tFile summary;\t\t\r\n\t\tsummary = new File(filepath);\r\n\t\tif(!summary.exists()){\r\n\t\t\tsummary.createNewFile();\r\n\t\t}\r\n\t\tBufferedWriter bw = new BufferedWriter(new FileWriter(summary));\r\n\t\tbw.write(&quot;&lt;!DOCTYPE html&gt;&quot;);\r\n\t\tbw.write(&quot;&lt;html&gt;&lt;head&gt;&lt;h1 align=center&gt;EDC Reports Test Case Execution Summary&lt;/h1&gt;&quot;);\r\n\t\tbw.write(&quot;&lt;style&gt;#report_table{height: 300px;left: 1em;position: relative;top: 5em;width: 300px;}#report{height: 300px;left: 20em;position: relative;top: -15em;width: 300px;}&lt;/style&gt;&lt;/head&gt;&quot;);\r\n\t\tbw.write(&quot;&lt;body&gt;&lt;div id=report_table&gt;&lt;table align=center border=1&gt;&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;Report Name&lt;/th&gt;&lt;/tr&gt;&lt;/div&gt;&quot;);\r\n\t\tbw.write(&quot;&lt;body&gt;&lt;div id=report_display&gt;&lt;/div&gt;&quot;);\r\n\t\tbw.write(&quot;&lt;/html&gt;&quot;);\t\t\r\n\t\tbw.close();\r\n\t}\r\n\t\r\n\tpublic void populate_summary(String report,String path) throws IOException{\t\t\r\n\t\tFile summary_report = new File(filepath);\r\n\t\tBufferedWriter br = new BufferedWriter(new FileWriter(summary_report,true));\t\t\r\n\t\t//Here I need to access the div tags by their id&#39;s and start appending data\t\t\r\n\t}","title":"How to append HTML text to div tag in Java","body":"<p>I am dynamically generating a HTML file in Java Selenium Webdriver. The HTML file has two div tags with each having their own unique id attribute.</p>\n\n<p>I want to dynamically add HTML text to these div tags based upon their id's at a later point in my code.</p>\n\n<p>Can this be achieved? If yes, can someone point me in right direction in regards to how to achieve this? If no, what is an alternative way to achieve this?</p>\n\n<p>I am struggling to tackle this scenario. I really need to be able to dynamically append the data to the HTML page based on div tags.</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>public void createsummaryfile(String report,String path) throws IOException{            \n    File summary;       \n    summary = new File(filepath);\n    if(!summary.exists()){\n        summary.createNewFile();\n    }\n    BufferedWriter bw = new BufferedWriter(new FileWriter(summary));\n    bw.write(\"&lt;!DOCTYPE html&gt;\");\n    bw.write(\"&lt;html&gt;&lt;head&gt;&lt;h1 align=center&gt;EDC Reports Test Case Execution Summary&lt;/h1&gt;\");\n    bw.write(\"&lt;style&gt;#report_table{height: 300px;left: 1em;position: relative;top: 5em;width: 300px;}#report{height: 300px;left: 20em;position: relative;top: -15em;width: 300px;}&lt;/style&gt;&lt;/head&gt;\");\n    bw.write(\"&lt;body&gt;&lt;div id=report_table&gt;&lt;table align=center border=1&gt;&lt;tbody&gt;&lt;tr&gt;&lt;th&gt;Report Name&lt;/th&gt;&lt;/tr&gt;&lt;/div&gt;\");\n    bw.write(\"&lt;body&gt;&lt;div id=report_display&gt;&lt;/div&gt;\");\n    bw.write(\"&lt;/html&gt;\");        \n    bw.close();\n}\n\npublic void populate_summary(String report,String path) throws IOException{     \n    File summary_report = new File(filepath);\n    BufferedWriter br = new BufferedWriter(new FileWriter(summary_report,true));        \n    //Here I need to access the div tags by their id's and start appending data     \n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1654111321,"post_id":72466988,"comment_id":128016443,"body_markdown":"That is a feature of GBoard, which is one keyboard among hundreds. Those internal features will vary by keyboard, and apps generally cannot control them.","body":"That is a feature of GBoard, which is one keyboard among hundreds. Those internal features will vary by keyboard, and apps generally cannot control them."},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":1,"creation_date":1654111327,"post_id":72466988,"comment_id":128016446,"body_markdown":"I don&#39;t think it&#39;s possible. If you have very high permissions you can block every keyboard app and make the user only available to use an  alternative keyboard app you made which doesn&#39;t have this option. but why do you need this?","body":"I don&#39;t think it&#39;s possible. If you have very high permissions you can block every keyboard app and make the user only available to use an  alternative keyboard app you made which doesn&#39;t have this option. but why do you need this?"},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1654115067,"post_id":72466988,"comment_id":128017598,"body_markdown":"@ATP my job ... they have Android devices that our employees use and they are able to customize and put inappropriate pictures on the Work device keyboard, and they want to disable this.","body":"@ATP my job ... they have Android devices that our employees use and they are able to customize and put inappropriate pictures on the Work device keyboard, and they want to disable this."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1654116516,"post_id":72466988,"comment_id":128017990,"body_markdown":"Keyboards are basically apps, and one app can&#39;t control what another app allows the user to do. If you want to prevent this kind of thing, you&#39;d either need to look at locking the work devices down as managed devices, or just implement a workplace policy saying what&#39;s acceptable and what isn&#39;t on work devices","body":"Keyboards are basically apps, and one app can&#39;t control what another app allows the user to do. If you want to prevent this kind of thing, you&#39;d either need to look at locking the work devices down as managed devices, or just implement a workplace policy saying what&#39;s acceptable and what isn&#39;t on work devices"},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":1,"creation_date":1654116539,"post_id":72466988,"comment_id":128017998,"body_markdown":"They can put the pictures as wallpaper too... you can&#39;t have a full control on the device. My suggest to you is to set a passcode to the device and enable screen pinning on the device settings: https://support.google.com/android/answer/9455138?hl=en   ,  pin the app and now every time someone will try to exit the application he will have to type the pin to exit the app (to unpin the screen). otherwise he won&#39;t be able to switch apps. (including changing keyboard settings if remember right)","body":"They can put the pictures as wallpaper too... you can&#39;t have a full control on the device. My suggest to you is to set a passcode to the device and enable screen pinning on the device settings: <a href=\"https://support.google.com/android/answer/9455138?hl=en\" rel=\"nofollow noreferrer\">support.google.com/android/answer/9455138?hl=en</a>   ,  pin the app and now every time someone will try to exit the application he will have to type the pin to exit the app (to unpin the screen). otherwise he won&#39;t be able to switch apps. (including changing keyboard settings if remember right)"},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1654121781,"post_id":72466988,"comment_id":128019248,"body_markdown":"@ATP huh great suggestion, I&#39;ll look into that!","body":"@ATP huh great suggestion, I&#39;ll look into that!"},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1655378187,"post_id":72466988,"comment_id":128320957,"body_markdown":"@AndroidDev just curios... did it work?","body":"@AndroidDev just curios... did it work?"},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1656015769,"post_id":72466988,"comment_id":128475807,"body_markdown":"@ATP Our company uses Zebra EMDK so I was able to do it through there","body":"@ATP Our company uses Zebra EMDK so I was able to do it through there"}],"answers":[{"tags":[],"owner":{"account_id":30102217,"reputation":1,"user_id":23068990,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702087271,"creation_date":1702087271,"answer_id":77629896,"question_id":72466988,"body_markdown":"This could help a bit….\r\nClick on Gear icon within GBoard\r\nGo to Text Correction\r\nDisable “Show Suggestion strip”","title":"How to Disable Keyboard Settings Button on Android","body":"<p>This could help a bit….\nClick on Gear icon within GBoard\nGo to Text Correction\nDisable “Show Suggestion strip”</p>\n"}],"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702087271,"creation_date":1654110747,"question_id":72466988,"body_markdown":"I was wondering if it&#39;s possible to prevent the user from being able to press on the settings button on the keyboard and changing the theme of it on Android Studio? Apparently you can add any picture you want to it and I would like to know if theres a way to disable that. \r\n\r\nFrom the screenshot below, you can see there is a settings icon on the right of the clipboard, which opens the next screenshot I attached -&gt; when the user presses Theme, they can change the background image to any picture.\r\n\r\n[![Keyboard][1]][1]\r\n\r\n\r\n[![Keyboard Settings][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vxOpl.png\r\n  [2]: https://i.stack.imgur.com/8lQBt.png","title":"How to Disable Keyboard Settings Button on Android","body":"<p>I was wondering if it's possible to prevent the user from being able to press on the settings button on the keyboard and changing the theme of it on Android Studio? Apparently you can add any picture you want to it and I would like to know if theres a way to disable that.</p>\n<p>From the screenshot below, you can see there is a settings icon on the right of the clipboard, which opens the next screenshot I attached -&gt; when the user presses Theme, they can change the background image to any picture.</p>\n<p><a href=\"https://i.stack.imgur.com/vxOpl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vxOpl.png\" alt=\"Keyboard\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/8lQBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8lQBt.png\" alt=\"Keyboard Settings\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1702097186,"post_id":77628694,"comment_id":136858455,"body_markdown":"This sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). The default activity is the one that runs if your app is started with no existing state (e.g., the user just turned on their phone), so almost by definition the default activity should never change. If you&#39;re trying to resume from where the user &quot;left off&quot;, you should use [the activity lifecycle](https://developer.android.com/guide/components/activities/activity-lifecycle) callbacks, which handle all of this for you.","body":"This sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. The default activity is the one that runs if your app is started with no existing state (e.g., the user just turned on their phone), so almost by definition the default activity should never change. If you&#39;re trying to resume from where the user &quot;left off&quot;, you should use <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">the activity lifecycle</a> callbacks, which handle all of this for you."}],"owner":{"account_id":29105994,"reputation":1,"user_id":22296820,"display_name":"chardilate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702087025,"creation_date":1702062656,"question_id":77628694,"body_markdown":"I have two activities, which are named as &quot;MainActivity&quot; and &quot;ChatActivity&quot;. The default activity within my mobile app is initially MainActivity. However, when I switch from MainActivity to ChatActivity using Intent, I want the activity &quot;ChatActivity&quot; to be the default activity. And besides that, when switching to MainActivity again, I want MainActivity to be the default activity. How can I do this in the MainActivity and ChatActivity classes?","title":"Changing Default Activity After Switching To Another Activity in Java","body":"<p>I have two activities, which are named as &quot;MainActivity&quot; and &quot;ChatActivity&quot;. The default activity within my mobile app is initially MainActivity. However, when I switch from MainActivity to ChatActivity using Intent, I want the activity &quot;ChatActivity&quot; to be the default activity. And besides that, when switching to MainActivity again, I want MainActivity to be the default activity. How can I do this in the MainActivity and ChatActivity classes?</p>\n"},{"tags":["java","if-statement","compare"],"comments":[{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1447225843,"post_id":33645689,"comment_id":55064919,"body_markdown":"Your code suggests an underlying database... True? If so you should probably be querying at that level, not in the application logic... ?","body":"Your code suggests an underlying database... True? If so you should probably be querying at that level, not in the application logic... ?"}],"answers":[{"tags":[],"owner":{"account_id":6739555,"reputation":2194,"user_id":5193194,"display_name":"karim mohsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447225842,"creation_date":1447225842,"answer_id":33645758,"question_id":33645689,"body_markdown":"Loop on the Array `TEST_VALUES` and check if `columnName` equals `testValue`\r\n\r\n    for(int i  = 0 ; i &lt; TEST_VALUES.length ; i++){ \r\n        if(TEST_VALUES[i].getColumnName().equals(testValue)){\r\n           //do whatever you want\r\n           break; //if you to exit the loop and done comparing\r\n        }\r\n    }","title":"Check if value is there in static array","body":"<p>Loop on the Array <code>TEST_VALUES</code> and check if <code>columnName</code> equals <code>testValue</code></p>\n\n<pre><code>for(int i  = 0 ; i &lt; TEST_VALUES.length ; i++){ \n    if(TEST_VALUES[i].getColumnName().equals(testValue)){\n       //do whatever you want\n       break; //if you to exit the loop and done comparing\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447226487,"creation_date":1447225900,"answer_id":33645773,"question_id":33645689,"body_markdown":"you have to iterate over the array\r\n\r\n    boolean isPresent = false;\r\n    for(ValueHolder valueHolder: TEST_VALUES){\r\n      if(valueHolder.getColumnName().equals(testValue)){\r\n         isPresent = true;\r\n         break;\r\n      }\r\n    }\r\n\r\nSome additional thouhts,\r\nIf you are doing a lot of these (searching if a value exist in one particular field), then you can create a `HashMap` (HashMap&amp;lt;String, ValueHolder&amp;gt;) and put the `columnName` as key and ValueHolder objects as value, this will give you constant time complexity in lookups as opposed to the linear time complexity when iterating to through the entire list.","title":"Check if value is there in static array","body":"<p>you have to iterate over the array</p>\n\n<pre><code>boolean isPresent = false;\nfor(ValueHolder valueHolder: TEST_VALUES){\n  if(valueHolder.getColumnName().equals(testValue)){\n     isPresent = true;\n     break;\n  }\n}\n</code></pre>\n\n<p>Some additional thouhts,\nIf you are doing a lot of these (searching if a value exist in one particular field), then you can create a <code>HashMap</code> (HashMap&lt;String, ValueHolder&gt;) and put the <code>columnName</code> as key and ValueHolder objects as value, this will give you constant time complexity in lookups as opposed to the linear time complexity when iterating to through the entire list.</p>\n"},{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447225979,"creation_date":1447225979,"answer_id":33645786,"question_id":33645689,"body_markdown":"Recommend a 1) loop of some form 2) separating out the finding with the logic you wish to perform...\r\n\r\n    ValueHolder found = null;\r\n    for (ValueHolder each : TEST_VALUES) {\r\n        if (each.getColumnName().equals(testValue)) {\r\n           found = each;\r\n           break;\r\n        }\r\n    }\r\n    if (found != null) {\r\n       // do stuff\r\n    }","title":"Check if value is there in static array","body":"<p>Recommend a 1) loop of some form 2) separating out the finding with the logic you wish to perform...</p>\n\n<pre><code>ValueHolder found = null;\nfor (ValueHolder each : TEST_VALUES) {\n    if (each.getColumnName().equals(testValue)) {\n       found = each;\n       break;\n    }\n}\nif (found != null) {\n   // do stuff\n}\n</code></pre>\n"}],"owner":{"account_id":485524,"reputation":4470,"user_id":1277859,"accept_rate":75,"display_name":"Joe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1702084250,"creation_date":1447225492,"question_id":33645689,"body_markdown":"I have the following class:\r\n\r\n    public class ValueHolder {\r\n    \tprivate String columnName;\r\n    \tprivate int width;\r\n    \tprivate String defaultColumnStyle;\r\n    \r\n    \tpublic String getDefaultColumnStyle() {\r\n    \t\treturn defaultColumnStyle;\r\n    \t}\r\n    \r\n    \tpublic void setDefaultColumnStyle(String defaultColumnStyle) {\r\n    \t\tthis.defaultColumnStyle = defaultColumnStyle;\r\n    \t}\r\n    \r\n    \tpublic String getColumnName() {\r\n    \t\treturn columnName;\r\n    \t}\r\n    \r\n    \tpublic void setColumnName(String columnName) {\r\n    \t\tthis.columnName = columnName;\r\n    \t}\r\n    \r\n    \tpublic int getWidth() {\r\n    \t\treturn width;\r\n    \t}\r\n    \r\n    \tpublic void setWidth(int width) {\r\n    \t\tthis.width = width;\r\n    \t}\r\n    \r\n    \tpublic ValueHolder(String columnName, int width, String cellStyle) {\r\n    \t\tthis.columnName = columnName;\r\n    \t\tthis.width = width;\r\n    \t}\r\n    \r\n    \tpublic ValueHolder(String columnName, int width, String cellStyle, String defaultColumnStyle) {\r\n    \t\tthis(columnName, width, cellStyle, defaultColumnStyle, null);\r\n    \t}\r\n    \r\n    \tpublic ValueHolder(String columnName, int width, String cellStyle, String defaultColumnStyle, String dataFormat) {\r\n    \t\tthis.columnName = columnName;\r\n    \t\tthis.width = width;\r\n    \t\tthis.defaultColumnStyle = defaultColumnStyle;\r\n    \t}\r\n    \r\n    }\r\n\r\nand the following:\r\n\r\n    public class StaticArrayValues {\r\n    \r\n    \tpublic static ValueHolder[] TEST_VALUES = new ValueHolder[] {\r\n    \r\n    \t\t\tnew ValueHolder(&quot;test Name&quot;, 4498, &quot;testvalue&quot;), new ValueHolder(&quot;Last Name&quot;, 4498, &quot;testvalue&quot;),\r\n    \t\t\tnew ValueHolder(&quot;test ID&quot;, 4498, &quot;testvalue&quot;), new ValueHolder(&quot;ID Value&quot;, 4498, &quot;testvalue&quot;) };\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString testValue= &quot;First Name&quot;;\r\n    \t\t\r\n    \t\t// How do i check if testValue is there in  TEST_VALUES\r\n    \t\t/*if(){\r\n    \t\t\t\r\n    \t\t}*/\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nHow do I check if &quot;First Name&quot; is there in TEST_VALUES=?\r\n","title":"Check if value is there in static array","body":"<p>I have the following class:</p>\n<pre><code>public class ValueHolder {\n    private String columnName;\n    private int width;\n    private String defaultColumnStyle;\n\n    public String getDefaultColumnStyle() {\n        return defaultColumnStyle;\n    }\n\n    public void setDefaultColumnStyle(String defaultColumnStyle) {\n        this.defaultColumnStyle = defaultColumnStyle;\n    }\n\n    public String getColumnName() {\n        return columnName;\n    }\n\n    public void setColumnName(String columnName) {\n        this.columnName = columnName;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public void setWidth(int width) {\n        this.width = width;\n    }\n\n    public ValueHolder(String columnName, int width, String cellStyle) {\n        this.columnName = columnName;\n        this.width = width;\n    }\n\n    public ValueHolder(String columnName, int width, String cellStyle, String defaultColumnStyle) {\n        this(columnName, width, cellStyle, defaultColumnStyle, null);\n    }\n\n    public ValueHolder(String columnName, int width, String cellStyle, String defaultColumnStyle, String dataFormat) {\n        this.columnName = columnName;\n        this.width = width;\n        this.defaultColumnStyle = defaultColumnStyle;\n    }\n\n}\n</code></pre>\n<p>and the following:</p>\n<pre><code>public class StaticArrayValues {\n\n    public static ValueHolder[] TEST_VALUES = new ValueHolder[] {\n\n            new ValueHolder(&quot;test Name&quot;, 4498, &quot;testvalue&quot;), new ValueHolder(&quot;Last Name&quot;, 4498, &quot;testvalue&quot;),\n            new ValueHolder(&quot;test ID&quot;, 4498, &quot;testvalue&quot;), new ValueHolder(&quot;ID Value&quot;, 4498, &quot;testvalue&quot;) };\n\n    public static void main(String[] args) {\n        \n        String testValue= &quot;First Name&quot;;\n        \n        // How do i check if testValue is there in  TEST_VALUES\n        /*if(){\n            \n        }*/\n\n    }\n\n}\n</code></pre>\n<p>How do I check if &quot;First Name&quot; is there in TEST_VALUES=?</p>\n"},{"tags":["java","mocking","variadic-functions","mockito"],"comments":[{"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"score":0,"creation_date":1271212975,"post_id":2631596,"comment_id":2648477,"body_markdown":"the fact that last example works is rather trivial since it matches the case when zero varargs parameters passed.","body":"the fact that last example works is rather trivial since it matches the case when zero varargs parameters passed."}],"answers":[{"comments":[{"owner":{"account_id":174940,"reputation":6518,"user_id":404604,"accept_rate":47,"display_name":"Psycho Punch"},"score":29,"creation_date":1355212534,"post_id":2634588,"comment_id":19009164,"body_markdown":"`anyVararg()` has Object as its return type. To make it compatible with any var arg types (e.g. String ..., Integer ..., etc.), do an explicit casting. For example, if you have `doSomething(Integer number, String ... args)` you can do the mock/stub code with something like `when(mock).doSomething(eq(1), (String) anyVarargs())`. That should take care of the compilation error.","body":"<code>anyVararg()</code> has Object as its return type. To make it compatible with any var arg types (e.g. String ..., Integer ..., etc.), do an explicit casting. For example, if you have <code>doSomething(Integer number, String ... args)</code> you can do the mock/stub code with something like <code>when(mock).doSomething(eq(1), (String) anyVarargs())</code>. That should take care of the compilation error."},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":21,"creation_date":1479067942,"post_id":2634588,"comment_id":68392189,"body_markdown":"for info anyVararg is now deprecated:  &quot;@deprecated as of 2.1.0 use any()&quot;","body":"for info anyVararg is now deprecated:  &quot;@deprecated as of 2.1.0 use any()&quot;"},{"owner":{"account_id":8181519,"reputation":1267,"user_id":6158542,"accept_rate":67,"display_name":"JonyD"},"score":5,"creation_date":1499950445,"post_id":2634588,"comment_id":77134951,"body_markdown":"`Matchers` is now deprecated in order to avoid a name clash with `org.hamcrest.Matchers` class and will likely be removed in mockito v3.0. Use `ArgumentMatchers` instead.","body":"<code>Matchers</code> is now deprecated in order to avoid a name clash with <code>org.hamcrest.Matchers</code> class and will likely be removed in mockito v3.0. Use <code>ArgumentMatchers</code> instead."},{"owner":{"account_id":3512449,"reputation":3956,"user_id":2936460,"accept_rate":83,"display_name":"SQB"},"score":5,"creation_date":1625471547,"post_id":2634588,"comment_id":120626593,"body_markdown":"`anyVararg()` has been deprecated in `ArgumentMatchers` as well.","body":"<code>anyVararg()</code> has been deprecated in <code>ArgumentMatchers</code> as well."},{"owner":{"account_id":1535573,"reputation":7025,"user_id":1431728,"accept_rate":49,"display_name":"JohnK"},"score":0,"creation_date":1650040883,"post_id":2634588,"comment_id":127030155,"body_markdown":"@SQB thanks! So what&#39;s the replacement/alternative?","body":"@SQB thanks! So what&#39;s the replacement/alternative?"},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":2,"creation_date":1664461863,"post_id":2634588,"comment_id":130481797,"body_markdown":"N.B. If you have an ambiguous method call problem (e.g. there is one method that takes a single argument and another method that takes varargs), you can fix the problem by casting the `any` method to a typed array. For instance: `(String[]) any()`.","body":"N.B. If you have an ambiguous method call problem (e.g. there is one method that takes a single argument and another method that takes varargs), you can fix the problem by casting the <code>any</code> method to a typed array. For instance: <code>(String[]) any()</code>."},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1680640722,"post_id":2634588,"comment_id":133932045,"body_markdown":"`ArgumentMatchers.&lt;String&gt;any() ` did not work for me on Mockito 3.3 but `(String[]) any()` did.","body":"<code>ArgumentMatchers.&lt;String&gt;any() </code> did not work for me on Mockito 3.3 but <code>(String[]) any()</code> did."}],"tags":[],"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"comment_count":7,"down_vote_count":3,"up_vote_count":281,"is_accepted":true,"score":278,"last_activity_date":1535997122,"creation_date":1271213601,"answer_id":2634588,"question_id":2631596,"body_markdown":"Mockito 1.8.1 introduced [anyVararg() matcher][1]:\r\n\r\n    when(a.b(anyInt(), anyInt(), Matchers.&lt;String&gt;anyVararg())).thenReturn(b);\r\n\r\n\r\nAlso see history for this: https://code.google.com/archive/p/mockito/issues/62\r\n\r\n  [1]: https://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Matchers.html#anyVararg%28%29\r\n\r\n**Edit** new syntax after deprecation:\r\n\r\n    when(a.b(anyInt(), anyInt(), ArgumentMatchers.&lt;String&gt;any())).thenReturn(b);","title":"How to properly match varargs in Mockito","body":"<p>Mockito 1.8.1 introduced <a href=\"https://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Matchers.html#anyVararg%28%29\" rel=\"noreferrer\">anyVararg() matcher</a>:</p>\n\n<pre><code>when(a.b(anyInt(), anyInt(), Matchers.&lt;String&gt;anyVararg())).thenReturn(b);\n</code></pre>\n\n<p>Also see history for this: <a href=\"https://code.google.com/archive/p/mockito/issues/62\" rel=\"noreferrer\">https://code.google.com/archive/p/mockito/issues/62</a></p>\n\n<p><strong>Edit</strong> new syntax after deprecation:</p>\n\n<pre><code>when(a.b(anyInt(), anyInt(), ArgumentMatchers.&lt;String&gt;any())).thenReturn(b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58283,"reputation":431,"user_id":174517,"display_name":"Eli Levine"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1320279302,"creation_date":1320279302,"answer_id":7988918,"question_id":2631596,"body_markdown":"A somewhat undocumented feature: If you want to develop a custom Matcher that matches vararg arguments you need to have it implement `org.mockito.internal.matchers.VarargMatcher` for it to work correctly.  It&#39;s an empty marker interface, without which Mockito will not correctly compare arguments when invoking a method with varargs using your Matcher.\r\n\r\nFor example:\r\n\r\n    class MyVarargMatcher extends ArgumentMatcher&lt;C[]&gt; implements VarargMatcher {\r\n        @Override public boolean matches(Object varargArgument) {\r\n            return /* does it match? */ true;\r\n        }\r\n    }\r\n    \r\n    when(a.b(anyInt(), anyInt(), argThat(new MyVarargMatcher()))).thenReturn(b);\r\n\r\n","title":"How to properly match varargs in Mockito","body":"<p>A somewhat undocumented feature: If you want to develop a custom Matcher that matches vararg arguments you need to have it implement <code>org.mockito.internal.matchers.VarargMatcher</code> for it to work correctly.  It's an empty marker interface, without which Mockito will not correctly compare arguments when invoking a method with varargs using your Matcher.</p>\n\n<p>For example:</p>\n\n<pre><code>class MyVarargMatcher extends ArgumentMatcher&lt;C[]&gt; implements VarargMatcher {\n    @Override public boolean matches(Object varargArgument) {\n        return /* does it match? */ true;\n    }\n}\n\nwhen(a.b(anyInt(), anyInt(), argThat(new MyVarargMatcher()))).thenReturn(b);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":305404,"reputation":990,"user_id":615542,"display_name":"bryant"},"score":0,"creation_date":1442966124,"post_id":31142703,"comment_id":53299883,"body_markdown":"Nice. This should be built into Mockito IMO.","body":"Nice. This should be built into Mockito IMO."},{"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"score":0,"creation_date":1455530320,"post_id":31142703,"comment_id":58513815,"body_markdown":"I filed an issue against Hamcrest to add something like this. See https://github.com/mockito/mockito/issues/356","body":"I filed an issue against Hamcrest to add something like this. See <a href=\"https://github.com/mockito/mockito/issues/356\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/issues/356</a>"},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1518673564,"post_id":31142703,"comment_id":84603928,"body_markdown":"Is this for Mockito 1? I get various compilation errors when trying to compile against 2.10.","body":"Is this for Mockito 1? I get various compilation errors when trying to compile against 2.10."},{"owner":{"account_id":450686,"reputation":2088,"user_id":846145,"display_name":"Rachel K. Westmacott"},"score":0,"creation_date":1519118870,"post_id":31142703,"comment_id":84767748,"body_markdown":"@Frans it looks like the 2 release was still in beta when I wrote this answer, so yes it was probably written for Mockito v1.10.19 or thereabouts. (https://github.com/mockito/mockito/releases) It is probably updatable... :-D","body":"@Frans it looks like the 2 release was still in beta when I wrote this answer, so yes it was probably written for Mockito v1.10.19 or thereabouts. (<a href=\"https://github.com/mockito/mockito/releases\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/releases</a>) It is probably updatable... :-D"}],"tags":[],"owner":{"account_id":450686,"reputation":2088,"user_id":846145,"display_name":"Rachel K. Westmacott"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1435678821,"creation_date":1435678821,"answer_id":31142703,"question_id":2631596,"body_markdown":"Building on Eli Levine&#39;s answer here is a more generic solution:\r\n\r\n    import org.hamcrest.Description;\r\n    import org.hamcrest.Matcher;\r\n    import org.mockito.ArgumentMatcher;\r\n    import org.mockito.internal.matchers.VarargMatcher;\r\n\r\n    import static org.mockito.Matchers.argThat;\r\n\r\n    public class VarArgMatcher&lt;T&gt; extends ArgumentMatcher&lt;T[]&gt; implements VarargMatcher {\r\n\r\n        public static &lt;T&gt; T[] varArgThat(Matcher&lt;T[]&gt; hamcrestMatcher) {\r\n            argThat(new VarArgMatcher(hamcrestMatcher));\r\n            return null;\r\n        }\r\n\r\n        private final Matcher&lt;T[]&gt; hamcrestMatcher;\r\n\r\n        private VarArgMatcher(Matcher&lt;T[]&gt; hamcrestMatcher) {\r\n            this.hamcrestMatcher = hamcrestMatcher;\r\n        }\r\n\r\n        @Override\r\n        public boolean matches(Object o) {\r\n            return hamcrestMatcher.matches(o);\r\n        }\r\n\r\n        @Override\r\n        public void describeTo(Description description) {\r\n            description.appendText(&quot;has varargs: &quot;).appendDescriptionOf(hamcrestMatcher);\r\n        }\r\n\r\n    }\r\n\r\nThen you can use it with hamcrest&#39;s array matchers thus:\r\n\r\n    verify(a).b(VarArgMatcher.varArgThat(\r\n                org.hamcrest.collection.IsArrayContaining.hasItemInArray(&quot;Test&quot;)));\r\n\r\n(Obviously static imports will render this more readable.)","title":"How to properly match varargs in Mockito","body":"<p>Building on Eli Levine's answer here is a more generic solution:</p>\n\n<pre><code>import org.hamcrest.Description;\nimport org.hamcrest.Matcher;\nimport org.mockito.ArgumentMatcher;\nimport org.mockito.internal.matchers.VarargMatcher;\n\nimport static org.mockito.Matchers.argThat;\n\npublic class VarArgMatcher&lt;T&gt; extends ArgumentMatcher&lt;T[]&gt; implements VarargMatcher {\n\n    public static &lt;T&gt; T[] varArgThat(Matcher&lt;T[]&gt; hamcrestMatcher) {\n        argThat(new VarArgMatcher(hamcrestMatcher));\n        return null;\n    }\n\n    private final Matcher&lt;T[]&gt; hamcrestMatcher;\n\n    private VarArgMatcher(Matcher&lt;T[]&gt; hamcrestMatcher) {\n        this.hamcrestMatcher = hamcrestMatcher;\n    }\n\n    @Override\n    public boolean matches(Object o) {\n        return hamcrestMatcher.matches(o);\n    }\n\n    @Override\n    public void describeTo(Description description) {\n        description.appendText(\"has varargs: \").appendDescriptionOf(hamcrestMatcher);\n    }\n\n}\n</code></pre>\n\n<p>Then you can use it with hamcrest's array matchers thus:</p>\n\n<pre><code>verify(a).b(VarArgMatcher.varArgThat(\n            org.hamcrest.collection.IsArrayContaining.hasItemInArray(\"Test\")));\n</code></pre>\n\n<p>(Obviously static imports will render this more readable.)</p>\n"},{"comments":[{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":3,"creation_date":1479067927,"post_id":36944509,"comment_id":68392182,"body_markdown":"for info anyVararg is now deprecated:  &quot;@deprecated as of 2.1.0 use any()&quot;","body":"for info anyVararg is now deprecated:  &quot;@deprecated as of 2.1.0 use any()&quot;"}],"tags":[],"owner":{"account_id":109063,"reputation":13146,"user_id":289182,"accept_rate":86,"display_name":"NPike"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461951877,"creation_date":1461951877,"answer_id":36944509,"question_id":2631596,"body_markdown":"Building on topchef&#39;s answer,\r\n\r\n\r\nFor 2.0.31-beta I had to use Mockito.anyVararg instead of Matchers.anyVararrg:\r\n\r\n    when(a.b(anyInt(), anyInt(), Mockito.&lt;String&gt;anyVararg())).thenReturn(b);","title":"How to properly match varargs in Mockito","body":"<p>Building on topchef's answer,</p>\n\n<p>For 2.0.31-beta I had to use Mockito.anyVararg instead of Matchers.anyVararrg:</p>\n\n<pre><code>when(a.b(anyInt(), anyInt(), Mockito.&lt;String&gt;anyVararg())).thenReturn(b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4892265,"reputation":1439,"user_id":3943054,"accept_rate":73,"display_name":"artronics"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702083005,"creation_date":1462300292,"answer_id":37011777,"question_id":2631596,"body_markdown":"In my case the signature of the method that I want to capture its argument is:\r\n\r\n```java\r\npublic byte[] write(byte ... data) throws IOException;\r\n```\r\n\r\nIn this case you should cast to **byte array** explicitly:\r\n\r\n```java\r\nwhen(spi.write((byte[])anyVararg())).thenReturn(someValue);\r\n```\r\n\r\nI&#39;m using mockito version `1.10.19`","title":"How to properly match varargs in Mockito","body":"<p>In my case the signature of the method that I want to capture its argument is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public byte[] write(byte ... data) throws IOException;\n</code></pre>\n<p>In this case you should cast to <strong>byte array</strong> explicitly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(spi.write((byte[])anyVararg())).thenReturn(someValue);\n</code></pre>\n<p>I'm using mockito version <code>1.10.19</code></p>\n"},{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1479115568,"creation_date":1479115568,"answer_id":40585388,"question_id":2631596,"body_markdown":"I have been using the code in Peter Westmacott&#39;s answer however with Mockito 2.2.15 you can now do the following:\r\n\r\n```verify(a).method(100L, arg1, arg2, arg3)```\r\n\r\nwhere `arg1, arg2, arg3` are varargs.","title":"How to properly match varargs in Mockito","body":"<p>I have been using the code in Peter Westmacott's answer however with Mockito 2.2.15 you can now do the following:</p>\n\n<p><code>verify(a).method(100L, arg1, arg2, arg3)</code></p>\n\n<p>where <code>arg1, arg2, arg3</code> are varargs.</p>\n"},{"tags":[],"owner":{"account_id":319999,"reputation":770,"user_id":638048,"display_name":"Richard Whitehead"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486729244,"creation_date":1486729244,"answer_id":42159276,"question_id":2631596,"body_markdown":"You can also loop over the arguments:\r\n\r\n    Object[] args = invocation.getArguments(); \r\n    for( int argNo = 0; argNo &lt; args.length; ++argNo) { \r\n        // ... do something with args[argNo] \r\n    }\r\n\r\nfor example check their types and cast them appropriately, add to a list or whatever.","title":"How to properly match varargs in Mockito","body":"<p>You can also loop over the arguments:</p>\n\n<pre><code>Object[] args = invocation.getArguments(); \nfor( int argNo = 0; argNo &lt; args.length; ++argNo) { \n    // ... do something with args[argNo] \n}\n</code></pre>\n\n<p>for example check their types and cast them appropriately, add to a list or whatever.</p>\n"},{"tags":[],"owner":{"account_id":251692,"reputation":2306,"user_id":529256,"accept_rate":75,"display_name":"Craig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702082949,"creation_date":1548427339,"answer_id":54367508,"question_id":2631596,"body_markdown":"Adapting the answer from @topchef, \r\n\r\n```java\r\nMockito.when(a.b(Mockito.anyInt(), Mockito.anyInt(), Mockito.any())).thenReturn(b);\r\n```\r\n\r\nPer the java docs for Mockito 2.23.4, Mockito.any() &quot;Matches anything, including nulls and varargs.&quot;","title":"How to properly match varargs in Mockito","body":"<p>Adapting the answer from @topchef,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(a.b(Mockito.anyInt(), Mockito.anyInt(), Mockito.any())).thenReturn(b);\n</code></pre>\n<p>Per the java docs for Mockito 2.23.4, Mockito.any() &quot;Matches anything, including nulls and varargs.&quot;</p>\n"},{"comments":[{"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"score":0,"creation_date":1660463548,"post_id":55621768,"comment_id":129535474,"body_markdown":"(mockito-core = ver 4.5.1) It does work by &quot;getAllValues()&quot;, although it is very weird. At compile time, the compiler thought &quot;getAllValues()&quot; is a &quot;List&lt;Integer[]&gt;&quot;. But at runtime, it is a &quot;List&lt;Integer&gt;&quot; instead.","body":"(mockito-core = ver 4.5.1) It does work by &quot;getAllValues()&quot;, although it is very weird. At compile time, the compiler thought &quot;getAllValues()&quot; is a &quot;List&lt;Integer[]&gt;&quot;. But at runtime, it is a &quot;List&lt;Integer&gt;&quot; instead."}],"tags":[],"owner":{"account_id":15719666,"reputation":79,"user_id":11342928,"display_name":"Clarke Lacher"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554932854,"creation_date":1554932854,"answer_id":55621768,"question_id":2631596,"body_markdown":"You can accomplish this by passing an ArgumentCaptor capture and then retrieving the varargs as a list using &quot;getAllValues&quot;, see: https://stackoverflow.com/a/55621731/11342928","title":"How to properly match varargs in Mockito","body":"<p>You can accomplish this by passing an ArgumentCaptor capture and then retrieving the varargs as a list using \"getAllValues\", see: <a href=\"https://stackoverflow.com/a/55621731/11342928\">https://stackoverflow.com/a/55621731/11342928</a></p>\n"},{"tags":[],"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623655363,"creation_date":1623655363,"answer_id":67966250,"question_id":2631596,"body_markdown":"As the other answers make sense and make tests work obviously, I still recommend to test as if the method didn&#39;t take a vararg, but rather regular well-defined parameters instead. This helps in situations where overridden methods in connection with possible ambiguous parameters are in place, like an SLF4J-logger:\r\n\r\nto test:\r\n\r\n    jobLogger.info(&quot;{} finished: {} tasks processed with {} failures, took {}&quot;, jobName, count, errors, duration);\r\n\r\nThis has a bunch of overrides and the important method being declared like so\r\n\r\n    Logger.info(String, Object...)\r\n\r\nverification:\r\n\r\n    verify(loggerMock).info(anyString(), anyString(), anyInt(), anyInt(), anyString());\r\n\r\nproof that the above works as `errors` is an integer and not a long, so the following wouldn&#39;t run:\r\n\r\n    verify(loggerMock).info(anyString(), anyString(), anyInt(), anyLong(), anyString());\r\n\r\nSo you can easily use `when()` instead of the `verify()`-stuff to set up the required return value.\r\n\r\nAnd it probably shows more of the intent and is more readable. Captures can also be used here and they are much easier accessible this way.\r\n\r\n_Tested with Mockito 2.15_","title":"How to properly match varargs in Mockito","body":"<p>As the other answers make sense and make tests work obviously, I still recommend to test as if the method didn't take a vararg, but rather regular well-defined parameters instead. This helps in situations where overridden methods in connection with possible ambiguous parameters are in place, like an SLF4J-logger:</p>\n<p>to test:</p>\n<pre><code>jobLogger.info(&quot;{} finished: {} tasks processed with {} failures, took {}&quot;, jobName, count, errors, duration);\n</code></pre>\n<p>This has a bunch of overrides and the important method being declared like so</p>\n<pre><code>Logger.info(String, Object...)\n</code></pre>\n<p>verification:</p>\n<pre><code>verify(loggerMock).info(anyString(), anyString(), anyInt(), anyInt(), anyString());\n</code></pre>\n<p>proof that the above works as <code>errors</code> is an integer and not a long, so the following wouldn't run:</p>\n<pre><code>verify(loggerMock).info(anyString(), anyString(), anyInt(), anyLong(), anyString());\n</code></pre>\n<p>So you can easily use <code>when()</code> instead of the <code>verify()</code>-stuff to set up the required return value.</p>\n<p>And it probably shows more of the intent and is more readable. Captures can also be used here and they are much easier accessible this way.</p>\n<p><em>Tested with Mockito 2.15</em></p>\n"},{"tags":[],"owner":{"account_id":4435589,"reputation":121,"user_id":3611517,"display_name":"mattocaramba"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629807570,"creation_date":1629807570,"answer_id":68907461,"question_id":2631596,"body_markdown":"I had to use the any(Class&lt;T&gt; type) method to match an array arg being passed as a varargs parameter.\r\n\r\n&gt; ArgumentMatchers.any(Class&lt;T&gt; type)\r\n\r\nCode in the implementation is [vararg aware][1].\r\n\r\n&gt; reportMatcher(new InstanceOf.VarArgAware(\r\n\r\nIn my case where matching a String[] arg to a String... param the following worked:-\r\n\r\n    any(String.class)\r\n\r\n \r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentMatchers.html#any-java.lang.Class-","title":"How to properly match varargs in Mockito","body":"<p>I had to use the any(Class type) method to match an array arg being passed as a varargs parameter.</p>\n<blockquote>\n<p>ArgumentMatchers.any(Class type)</p>\n</blockquote>\n<p>Code in the implementation is <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/ArgumentMatchers.html#any-java.lang.Class-\" rel=\"nofollow noreferrer\">vararg aware</a>.</p>\n<blockquote>\n<p>reportMatcher(new InstanceOf.VarArgAware(</p>\n</blockquote>\n<p>In my case where matching a String[] arg to a String... param the following worked:-</p>\n<pre><code>any(String.class)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690318795,"post_id":76730393,"comment_id":135336280,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76730393/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23101335,"reputation":1,"user_id":17210714,"display_name":"Ruturaj Dilip Mestry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690292362,"creation_date":1689859653,"answer_id":76730393,"question_id":2631596,"body_markdown":"I&#39;ve looked up for various ways but most of the ways are not working as described. What worked for me is. \r\n\r\n**Method Signature:**\r\n\r\n`\r\nReturnType someMethod(String... strings)\r\n`\r\n\r\n**Mockito to handle above method:**\r\n\r\n`\r\nwhen(someMethod((String[])Mockito.any())).thenReturn(dummyReturnTypeObject);\r\n`\r\n\r\n[mocking a method with varargs][1]\r\n\r\nif your mock is successful then the value that appears for the mocked step *wouldn&#39;t be null*\r\n\r\n[result of mocking a method with varargs][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZVEfo.png\r\n  [2]: https://i.stack.imgur.com/UwLpz.png","title":"How to properly match varargs in Mockito","body":"<p>I've looked up for various ways but most of the ways are not working as described. What worked for me is.</p>\n<p><strong>Method Signature:</strong></p>\n<p><code>ReturnType someMethod(String... strings)</code></p>\n<p><strong>Mockito to handle above method:</strong></p>\n<p><code>when(someMethod((String[])Mockito.any())).thenReturn(dummyReturnTypeObject);</code></p>\n<p><a href=\"https://i.stack.imgur.com/ZVEfo.png\" rel=\"nofollow noreferrer\">mocking a method with varargs</a></p>\n<p>if your mock is successful then the value that appears for the mocked step <em>wouldn't be null</em></p>\n<p><a href=\"https://i.stack.imgur.com/UwLpz.png\" rel=\"nofollow noreferrer\">result of mocking a method with varargs</a></p>\n"},{"tags":[],"owner":{"account_id":7361132,"reputation":496,"user_id":6579203,"display_name":"xtermi2"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702082908,"creation_date":1694009903,"answer_id":77052796,"question_id":2631596,"body_markdown":"With Mockito 5 `any()` does not match varargs in our project. In Mockito 4 this has worked.\r\nIn Mockito 5 now only `any(&lt;VAR-ARG-TYPE&gt;[].class)` does match varargs!\r\n\r\nTranslated to your example this works in Mockito 5:\r\n```java\r\nwhen(a.b(anyInt(), anyInt(), any(C[].class))).thenReturn(b);\r\n```","title":"How to properly match varargs in Mockito","body":"<p>With Mockito 5 <code>any()</code> does not match varargs in our project. In Mockito 4 this has worked.\nIn Mockito 5 now only <code>any(&lt;VAR-ARG-TYPE&gt;[].class)</code> does match varargs!</p>\n<p>Translated to your example this works in Mockito 5:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(a.b(anyInt(), anyInt(), any(C[].class))).thenReturn(b);\n</code></pre>\n"}],"owner":{"account_id":7600,"reputation":6724,"user_id":13253,"accept_rate":100,"display_name":"qualidafial"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94445,"favorite_count":0,"down_vote_count":0,"up_vote_count":196,"accepted_answer_id":2634588,"answer_count":13,"score":196,"last_activity_date":1702083005,"creation_date":1271178529,"question_id":2631596,"body_markdown":"I&#39;ve been trying to get to mock a method with vararg parameters using Mockito:\r\n\r\n    interface A {\r\n      B b(int x, int y, C... c);\r\n    }\r\n    \r\n    A a = mock(A.class);\r\n    B b = mock(B.class);\r\n\r\n    when(a.b(anyInt(), anyInt(), any(C[].class))).thenReturn(b);\r\n    assertEquals(b, a.b(1, 2));\r\n\r\nThis doesn&#39;t work, however if I do this instead:\r\n\r\n    when(a.b(anyInt(), anyInt())).thenReturn(b);\r\n    assertEquals(b, a.b(1, 2));\r\n\r\nThis works, despite that I have completely omitted the varargs argument when stubbing the method.\r\n\r\nAny clues?","title":"How to properly match varargs in Mockito","body":"<p>I've been trying to get to mock a method with vararg parameters using Mockito:</p>\n\n<pre><code>interface A {\n  B b(int x, int y, C... c);\n}\n\nA a = mock(A.class);\nB b = mock(B.class);\n\nwhen(a.b(anyInt(), anyInt(), any(C[].class))).thenReturn(b);\nassertEquals(b, a.b(1, 2));\n</code></pre>\n\n<p>This doesn't work, however if I do this instead:</p>\n\n<pre><code>when(a.b(anyInt(), anyInt())).thenReturn(b);\nassertEquals(b, a.b(1, 2));\n</code></pre>\n\n<p>This works, despite that I have completely omitted the varargs argument when stubbing the method.</p>\n\n<p>Any clues?</p>\n"},{"tags":["java","spring","spring-boot","jwt"],"comments":[{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1702082152,"post_id":77629737,"comment_id":136857685,"body_markdown":"To understand more you can enable debug by `@EnableWebSecurity(debug = true)` and `logging.level.org.springframework.security=TRACE`. It will show why the API is failing when you are not sending the Bearer token","body":"To understand more you can enable debug by <code>@EnableWebSecurity(debug = true)</code> and <code>logging.level.org.springframework.security=TRACE</code>. It will show why the API is failing when you are not sending the Bearer token"}],"owner":{"account_id":27222867,"reputation":27,"user_id":20751807,"display_name":"Cookie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702081136,"creation_date":1702081136,"question_id":77629737,"body_markdown":"I&#39;ve encountered an intriguing issue. Despite configuring a Security Filter Chain to manage my requests and explicitly specifying that the path &#39;/random&#39; should not require authentication, I&#39;m experiencing a peculiar behavior. When I make a request to this path, I receive a Status 200 response with no body. Strangely, if I include a Bearer Token, the resource is successfully provided. Any suggestions or insights on why this might be happening? Here&#39;s my code:\r\n\r\n```Java\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthenticationFilter JwtAuthenticationFilter;\r\n    private final UserService userService;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/random&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(org.springframework.security.config.http.SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider())\r\n                .addFilterBefore(JwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .httpBasic();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n\r\n        final DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userService);\r\n        authenticationProvider.setPasswordEncoder(new BCryptPasswordEncoder());\r\n        return authenticationProvider;\r\n\r\n    }\r\n}\r\n```\r\nand the controller:\r\n```Java\r\n@RestController\r\n@RequestMapping(&quot;/random&quot;)\r\npublic class Random {\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;String&gt; getRandom() {\r\n        return ResponseEntity.ok(&quot;Random response&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI would be grateful for any help and provide more code if needed! ","title":"Authentication Issue with Spring Boot","body":"<p>I've encountered an intriguing issue. Despite configuring a Security Filter Chain to manage my requests and explicitly specifying that the path '/random' should not require authentication, I'm experiencing a peculiar behavior. When I make a request to this path, I receive a Status 200 response with no body. Strangely, if I include a Bearer Token, the resource is successfully provided. Any suggestions or insights on why this might be happening? Here's my code:</p>\n<pre><code>@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthenticationFilter JwtAuthenticationFilter;\n    private final UserService userService;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/random&quot;).permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(org.springframework.security.config.http.SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider())\n                .addFilterBefore(JwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n                .httpBasic();\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n\n        final DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userService);\n        authenticationProvider.setPasswordEncoder(new BCryptPasswordEncoder());\n        return authenticationProvider;\n\n    }\n}\n</code></pre>\n<p>and the controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/random&quot;)\npublic class Random {\n\n    @GetMapping\n    public ResponseEntity&lt;String&gt; getRandom() {\n        return ResponseEntity.ok(&quot;Random response&quot;);\n    }\n}\n</code></pre>\n<p>I would be grateful for any help and provide more code if needed!</p>\n"},{"tags":["java","xml","web-services","wsdl","cxf"],"comments":[{"owner":{"account_id":4291079,"reputation":799,"user_id":3507435,"display_name":"Toparvion"},"score":0,"creation_date":1413283191,"post_id":26252200,"comment_id":41375712,"body_markdown":"I&#39;ve found a workaround for the issue but it can&#39;t recommended as a good solution.","body":"I&#39;ve found a workaround for the issue but it can&#39;t recommended as a good solution."},{"owner":{"account_id":4291079,"reputation":799,"user_id":3507435,"display_name":"Toparvion"},"score":0,"creation_date":1413284775,"post_id":26252200,"comment_id":41376645,"body_markdown":"The idea of the workaround briefly.\nAfter setting explicit empty namespace on generated `Fault` class, the incoming interceptor chain should be enriched with `XSLTInInterceptor`. The interceptor (through XSLT) should export all the sensible data (fault code and message) from inner element to the topmost `soapenv:Fault` level. This should help to avoid the CXF bug issues. After that the client code should be modified to obtain error info from `SOAPFaultException` (not generated exception class).\nBe careful, the solution may worsen performance (increase client methods CPU execution time).","body":"The idea of the workaround briefly. After setting explicit empty namespace on generated <code>Fault</code> class, the incoming interceptor chain should be enriched with <code>XSLTInInterceptor</code>. The interceptor (through XSLT) should export all the sensible data (fault code and message) from inner element to the topmost <code>soapenv:Fault</code> level. This should help to avoid the CXF bug issues. After that the client code should be modified to obtain error info from <code>SOAPFaultException</code> (not generated exception class). Be careful, the solution may worsen performance (increase client methods CPU execution time)."}],"answers":[{"comments":[{"owner":{"account_id":4291079,"reputation":799,"user_id":3507435,"display_name":"Toparvion"},"score":0,"creation_date":1413282774,"post_id":26352179,"comment_id":41375448,"body_markdown":"Thank you, dcbyers! I&#39;ve added some more info from WSDL. Hope this will help.\nYou&#39;re right, the problem is in the first child element of `detail` element which is the root element for custom exception object. CXF cannot find an appropriate class for deserialization of custom exception due to namespace declaration differences. The problem can be worked around by explicit empty namespace declaration on generated Fault class but this approach reveals a bug in CXF itself (see EDIT section of the question). Searching for other ways...","body":"Thank you, dcbyers! I&#39;ve added some more info from WSDL. Hope this will help. You&#39;re right, the problem is in the first child element of <code>detail</code> element which is the root element for custom exception object. CXF cannot find an appropriate class for deserialization of custom exception due to namespace declaration differences. The problem can be worked around by explicit empty namespace declaration on generated Fault class but this approach reveals a bug in CXF itself (see EDIT section of the question). Searching for other ways..."}],"tags":[],"owner":{"account_id":1468923,"reputation":864,"user_id":1380976,"display_name":"dcbyers"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413257444,"creation_date":1413257444,"answer_id":26352179,"question_id":26252200,"body_markdown":"This appears to be a case of the service not complying with its own contract where the fault is concerned.  While you may not have control of the service, this is worth a discussion with the service provider.\r\n\r\nThe fault element your client is complaining about is the immediate child of the first &#39;detail&#39; element.\r\n\r\nBased on the exception message, the first child element of &#39;detail&#39; is expected to be (assuming target namespace &#39;http://some.namespace.org&#39;) either AnsBonusAutopayStatus or AnsBonusAutopaySubscribe and not the {}fault element.\r\n\r\nIf you are able to provide a bit more of the wsdl around the fault declaration in the operation and the wsdl types additional static analysis can be provided.","title":"javax.xml.ws.soap.SOAPFaultException: Unmarshalling Error: unexpected element (uri:&quot;&quot;, local:&quot;fault&quot;) after migrating from AXIS to CXF","body":"<p>This appears to be a case of the service not complying with its own contract where the fault is concerned.  While you may not have control of the service, this is worth a discussion with the service provider.</p>\n\n<p>The fault element your client is complaining about is the immediate child of the first 'detail' element.</p>\n\n<p>Based on the exception message, the first child element of 'detail' is expected to be (assuming target namespace '<a href=\"http://some.namespace.org\" rel=\"nofollow\">http://some.namespace.org</a>') either AnsBonusAutopayStatus or AnsBonusAutopaySubscribe and not the {}fault element.</p>\n\n<p>If you are able to provide a bit more of the wsdl around the fault declaration in the operation and the wsdl types additional static analysis can be provided.</p>\n"}],"owner":{"account_id":4291079,"reputation":799,"user_id":3507435,"display_name":"Toparvion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31016,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1702080606,"creation_date":1412756299,"question_id":26252200,"body_markdown":"## The Problem ##\r\nI am trying to migrate my web service *client* from **Apache AXIS-1** to **Apache CXF**.  The web service itself runs om AXIS-1 and is out of my control.  \r\nI generated all the CXF artifacts and the client has been working well until any fault is thrown by the service. The faulty XML looks like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n      &lt;soapenv:Body&gt;\r\n        &lt;soapenv:Fault&gt;\r\n          &lt;faultcode&gt;soapenv:Server&lt;/faultcode&gt;\r\n          &lt;faultstring&gt;Remote error processing component card request&lt;/faultstring&gt;\r\n          &lt;detail&gt;\r\n            &lt;fault&gt;\r\n              &lt;faultcode&gt;:-303&lt;/faultcode&gt;\r\n              &lt;faultstring&gt;Remote error processing component card request&lt;/faultstring&gt;\r\n              &lt;faultactor&gt;remote_service&lt;/faultactor&gt;\r\n              &lt;detail&gt;\r\n                &lt;common-detail&gt;\r\n                  &lt;code&gt;-303&lt;/code&gt;\r\n                  &lt;message&gt;Remote error processing component card request&lt;/message&gt;\r\n                &lt;/common-detail&gt;\r\n              &lt;/detail&gt;\r\n            &lt;/fault&gt;\r\n          &lt;/detail&gt;\r\n        &lt;/soapenv:Fault&gt;\r\n      &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nThis makes the CXF generated client fall with exception:\r\n\r\n    javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;&quot;, local:&quot;fault&quot;). \r\n    Expected elements are &lt;{http://some.namespace.org}AnsBonusAutopayStatus&gt;,&lt;{http://some.namespace.org}AnsBonusAutopaySubscribe&gt;,\r\n    ...\r\n    &lt;{http://some.namespace.org}fault&gt;\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:603)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:244)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:239)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:116)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1009)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:446)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:427)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:71)\r\n    \tat com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\r\n    \tat com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:240)\r\n    \tat com.sun.xml.bind.unmarshaller.DOMScanner.scan(DOMScanner.java:123)\r\n    ...\r\n\r\nAFAIU from this stacktrace, unmarshaller expects the **fault** element to have certain namespace declaration but it comes without one.\r\n\r\nCan anyone suggest what is wrong with that client and how to avoid the error?\r\n\r\nTested Solutions\r\n----------------\r\nThere are a lot of similar questions but not all the solutions are applicable for me because I can&#39;t change anything on the server side (at least for backward compatibility reasons) and changing the WSDL is also not appreciated. Thus changes are restricted in client side only (including its (re)generation).\r\nI&#39;ve tried several possible solutions based on similar questions:\r\n\r\n - adding **package-info.class** with default namespace declaration - nothing changes;\r\n - force setting empty namespace for generated **Fault** and/or **Fault_Exception** classes - **NullPointerException** in CXF routines during constructing the exception object (see EDIT section below);\r\n - using **SAX XmlFilter** - couldn&#39;t find a way to embed it into CXF generated routines.\r\n\r\nAdditional Info\r\n-------------\r\nCXF generated classes for exception and its faultInfo (without any of my changes) look like:  \r\n**Fault** class:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;&quot;, propOrder = {\r\n        &quot;faultcode&quot;,\r\n        &quot;faultstring&quot;,\r\n        &quot;faultactor&quot;,\r\n        &quot;detail&quot;\r\n    })\r\n    @XmlRootElement(name = &quot;fault&quot;)\r\n    public class Fault {\r\n    \r\n        @XmlElement(required = true)\r\n        protected String faultcode;\r\n    ...\r\n\r\n**Fault_Exception** class:\r\n\r\n    @WebFault(name = &quot;fault&quot;, targetNamespace = &quot;http://some.namespace.org&quot;)\r\n    public class Fault_Exception extends Exception {\r\n        \r\n        private Fault fault;\r\n    \r\n        public Fault_Exception() {\r\n            super();\r\n        }\r\n    ...\r\n\r\nSome WSDL excerpts.\r\n**WSDL Fault** message declaration:\r\n\r\n      &lt;wsdl:message name=&quot;Fault&quot;&gt;\r\n        &lt;wsdl:part name=&quot;fault&quot; element=&quot;fault&quot;/&gt;\r\n      &lt;/wsdl:message&gt;\r\n\r\n**XSD fault** element:\r\n\r\n    &lt;xs:element name=&quot;fault&quot;&gt;\r\n    &lt;xs:annotation&gt;\r\n      &lt;xs:documentation&gt;Comment describing your root element&lt;/xs:documentation&gt;\r\n    &lt;/xs:annotation&gt;\r\n    &lt;xs:complexType&gt;\r\n      &lt;xs:sequence&gt;\r\n    \t&lt;xs:element name=&quot;faultcode&quot;&gt;...&lt;/xs:element&gt;\r\n    \t&lt;xs:element name=&quot;faultstring&quot;&gt;...&lt;/xs:element&gt;\r\n    \t&lt;xs:element name=&quot;faultactor&quot;&gt;...&lt;/xs:element&gt;\r\n    \t&lt;xs:element minOccurs=&quot;0&quot; name=&quot;detail&quot;&gt;...&lt;/xs:element&gt;\r\n      &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n\r\n**WSDL operation description** example:\r\n\r\n    &lt;wsdl:operation name=&quot;BonusConversionState&quot;&gt;\r\n      &lt;wsdl:input name=&quot;BonusConversionStateRequest&quot; message=&quot;tns:BonusConversionStateRequest&quot;/&gt;\r\n      &lt;wsdl:output name=&quot;BonusConversionStateResponse&quot; message=&quot;tns:BonusConversionStateResponse&quot;/&gt;\r\n      &lt;wsdl:fault name=&quot;Fault&quot; message=&quot;tns:Fault&quot;/&gt;\r\n    &lt;/wsdl:operation&gt;\r\n\r\n**WSDL root element:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;wsdl:definitions targetNamespace=&quot;http://some.namespace.org&quot; \r\n                      xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; \r\n                      xmlns:tns=&quot;http://some.namespace.org&quot; \r\n                      xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n                      xmlns:soap=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot;&gt;\r\n\r\nMore additional info can be provided.  \r\nThanks in advance!\r\n\r\n## EDIT: ##\r\nDuring &quot;investigation&quot; I&#39;ve found out that *NullPointerException* (that I mentioned in &quot;Tested Solutions&quot;) is not a consequence of my faulty actions. It&#39;s a bug of CXF:\r\n\r\n - https://issues.apache.org/jira/browse/CXF-2555;\r\n - https://issues.apache.org/jira/browse/CXF-3763.\r\n\r\nBoth tickets are closed with resolution &quot;Fixed&quot;, but in comments users report they still catch this bug. It seems that developers did not cover all the cases where custom exceptions are handled by CXF and for some reasons it sometimes leads to\r\n\r\n&gt; org.apache.cxf.interceptor.ClientFaultConverter processFaultDetail  \r\n&gt; INFO: Exception occurred while creating exception: null  \r\n&gt; java.lang.NullPointerException\r\n\r\nHas anybody ever faced this problem too?","title":"javax.xml.ws.soap.SOAPFaultException: Unmarshalling Error: unexpected element (uri:&quot;&quot;, local:&quot;fault&quot;) after migrating from AXIS to CXF","body":"<h2>The Problem</h2>\n\n<p>I am trying to migrate my web service <em>client</em> from <strong>Apache AXIS-1</strong> to <strong>Apache CXF</strong>.  The web service itself runs om AXIS-1 and is out of my control.<br>\nI generated all the CXF artifacts and the client has been working well until any fault is thrown by the service. The faulty XML looks like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;soapenv:Body&gt;\n    &lt;soapenv:Fault&gt;\n      &lt;faultcode&gt;soapenv:Server&lt;/faultcode&gt;\n      &lt;faultstring&gt;Remote error processing component card request&lt;/faultstring&gt;\n      &lt;detail&gt;\n        &lt;fault&gt;\n          &lt;faultcode&gt;:-303&lt;/faultcode&gt;\n          &lt;faultstring&gt;Remote error processing component card request&lt;/faultstring&gt;\n          &lt;faultactor&gt;remote_service&lt;/faultactor&gt;\n          &lt;detail&gt;\n            &lt;common-detail&gt;\n              &lt;code&gt;-303&lt;/code&gt;\n              &lt;message&gt;Remote error processing component card request&lt;/message&gt;\n            &lt;/common-detail&gt;\n          &lt;/detail&gt;\n        &lt;/fault&gt;\n      &lt;/detail&gt;\n    &lt;/soapenv:Fault&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>This makes the CXF generated client fall with exception:</p>\n\n<pre><code>javax.xml.bind.UnmarshalException: unexpected element (uri:\"\", local:\"fault\"). \nExpected elements are &lt;{http://some.namespace.org}AnsBonusAutopayStatus&gt;,&lt;{http://some.namespace.org}AnsBonusAutopaySubscribe&gt;,\n...\n&lt;{http://some.namespace.org}fault&gt;\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:603)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:244)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:239)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:116)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1009)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:446)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:427)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:71)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\n    at com.sun.xml.bind.unmarshaller.DOMScanner.visit(DOMScanner.java:240)\n    at com.sun.xml.bind.unmarshaller.DOMScanner.scan(DOMScanner.java:123)\n...\n</code></pre>\n\n<p>AFAIU from this stacktrace, unmarshaller expects the <strong>fault</strong> element to have certain namespace declaration but it comes without one.</p>\n\n<p>Can anyone suggest what is wrong with that client and how to avoid the error?</p>\n\n<h2>Tested Solutions</h2>\n\n<p>There are a lot of similar questions but not all the solutions are applicable for me because I can't change anything on the server side (at least for backward compatibility reasons) and changing the WSDL is also not appreciated. Thus changes are restricted in client side only (including its (re)generation).\nI've tried several possible solutions based on similar questions:</p>\n\n<ul>\n<li>adding <strong>package-info.class</strong> with default namespace declaration - nothing changes;</li>\n<li>force setting empty namespace for generated <strong>Fault</strong> and/or <strong>Fault_Exception</strong> classes - <strong>NullPointerException</strong> in CXF routines during constructing the exception object (see EDIT section below);</li>\n<li>using <strong>SAX XmlFilter</strong> - couldn't find a way to embed it into CXF generated routines.</li>\n</ul>\n\n<h2>Additional Info</h2>\n\n<p>CXF generated classes for exception and its faultInfo (without any of my changes) look like:<br>\n<strong>Fault</strong> class:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"\", propOrder = {\n    \"faultcode\",\n    \"faultstring\",\n    \"faultactor\",\n    \"detail\"\n})\n@XmlRootElement(name = \"fault\")\npublic class Fault {\n\n    @XmlElement(required = true)\n    protected String faultcode;\n...\n</code></pre>\n\n<p><strong>Fault_Exception</strong> class:</p>\n\n<pre><code>@WebFault(name = \"fault\", targetNamespace = \"http://some.namespace.org\")\npublic class Fault_Exception extends Exception {\n\n    private Fault fault;\n\n    public Fault_Exception() {\n        super();\n    }\n...\n</code></pre>\n\n<p>Some WSDL excerpts.\n<strong>WSDL Fault</strong> message declaration:</p>\n\n<pre><code>  &lt;wsdl:message name=\"Fault\"&gt;\n    &lt;wsdl:part name=\"fault\" element=\"fault\"/&gt;\n  &lt;/wsdl:message&gt;\n</code></pre>\n\n<p><strong>XSD fault</strong> element:</p>\n\n<pre><code>&lt;xs:element name=\"fault\"&gt;\n&lt;xs:annotation&gt;\n  &lt;xs:documentation&gt;Comment describing your root element&lt;/xs:documentation&gt;\n&lt;/xs:annotation&gt;\n&lt;xs:complexType&gt;\n  &lt;xs:sequence&gt;\n    &lt;xs:element name=\"faultcode\"&gt;...&lt;/xs:element&gt;\n    &lt;xs:element name=\"faultstring\"&gt;...&lt;/xs:element&gt;\n    &lt;xs:element name=\"faultactor\"&gt;...&lt;/xs:element&gt;\n    &lt;xs:element minOccurs=\"0\" name=\"detail\"&gt;...&lt;/xs:element&gt;\n  &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n&lt;/xs:element&gt;\n</code></pre>\n\n<p><strong>WSDL operation description</strong> example:</p>\n\n<pre><code>&lt;wsdl:operation name=\"BonusConversionState\"&gt;\n  &lt;wsdl:input name=\"BonusConversionStateRequest\" message=\"tns:BonusConversionStateRequest\"/&gt;\n  &lt;wsdl:output name=\"BonusConversionStateResponse\" message=\"tns:BonusConversionStateResponse\"/&gt;\n  &lt;wsdl:fault name=\"Fault\" message=\"tns:Fault\"/&gt;\n&lt;/wsdl:operation&gt;\n</code></pre>\n\n<p><strong>WSDL root element:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;wsdl:definitions targetNamespace=\"http://some.namespace.org\" \n                  xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" \n                  xmlns:tns=\"http://some.namespace.org\" \n                  xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" \n                  xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"&gt;\n</code></pre>\n\n<p>More additional info can be provided.<br>\nThanks in advance!</p>\n\n<h2>EDIT:</h2>\n\n<p>During \"investigation\" I've found out that <em>NullPointerException</em> (that I mentioned in \"Tested Solutions\") is not a consequence of my faulty actions. It's a bug of CXF:</p>\n\n<ul>\n<li><a href=\"https://issues.apache.org/jira/browse/CXF-2555\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CXF-2555</a>;</li>\n<li><a href=\"https://issues.apache.org/jira/browse/CXF-3763\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CXF-3763</a>.</li>\n</ul>\n\n<p>Both tickets are closed with resolution \"Fixed\", but in comments users report they still catch this bug. It seems that developers did not cover all the cases where custom exceptions are handled by CXF and for some reasons it sometimes leads to</p>\n\n<blockquote>\n  <p>org.apache.cxf.interceptor.ClientFaultConverter processFaultDetail<br>\n  INFO: Exception occurred while creating exception: null<br>\n  java.lang.NullPointerException</p>\n</blockquote>\n\n<p>Has anybody ever faced this problem too?</p>\n"},{"tags":["java","spring-boot","date-format","xmlgregoriancalendar"],"owner":{"account_id":30098136,"reputation":11,"user_id":23065913,"display_name":"DerZander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702079502,"creation_date":1702041224,"question_id":77626805,"body_markdown":"I try to get a `XMLGregorianCalendar` entry  which looks like \r\n`&quot;06-09-2022 17:05:28:113319&quot;`.\r\n\r\nI call an extern api to get a timestamp in style like below. But I need it to call another api.\r\n\r\nFor the data structure I use many WSDLs. So I implemented an Dateadapter which will convert the timestamp into something like `2022-09-06T17:07:21.319+02:00`. But it did&#180;t work.\r\n\r\nI&#180;m using Java - Springboot.\r\n\r\n\r\n\r\nDateadapter:\r\n\r\n```\r\npublic class DateAdapter extends XmlAdapter&lt;String, XMLGregorianCalendar&gt; {\r\n    private static final String DATE_STRING = &quot;dd-MM-yyyy HH:mm:ss:SSSSSSSX&quot;;\r\n\r\n    @Override\r\n    public String marshal(XMLGregorianCalendar v) throws Exception {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_STRING);\r\n        return dateFormat.format(v.toGregorianCalendar().getTime());\r\n    }\r\n\r\n    @Override\r\n    public XMLGregorianCalendar unmarshal(String v) throws Exception {\r\n        GregorianCalendar gregorianCalendar = new GregorianCalendar();\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_STRING);\r\n\r\n        gregorianCalendar.setTime(dateFormat.parse(v));\r\n        return DatatypeFactory.newInstance().newXMLGregorianCalendar(gregorianCalendar);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"XMLGregorianCalendar with 6 milliseconds","body":"<p>I try to get a <code>XMLGregorianCalendar</code> entry  which looks like\n<code>&quot;06-09-2022 17:05:28:113319&quot;</code>.</p>\n<p>I call an extern api to get a timestamp in style like below. But I need it to call another api.</p>\n<p>For the data structure I use many WSDLs. So I implemented an Dateadapter which will convert the timestamp into something like <code>2022-09-06T17:07:21.319+02:00</code>. But it did´t work.</p>\n<p>I´m using Java - Springboot.</p>\n<p>Dateadapter:</p>\n<pre><code>public class DateAdapter extends XmlAdapter&lt;String, XMLGregorianCalendar&gt; {\n    private static final String DATE_STRING = &quot;dd-MM-yyyy HH:mm:ss:SSSSSSSX&quot;;\n\n    @Override\n    public String marshal(XMLGregorianCalendar v) throws Exception {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_STRING);\n        return dateFormat.format(v.toGregorianCalendar().getTime());\n    }\n\n    @Override\n    public XMLGregorianCalendar unmarshal(String v) throws Exception {\n        GregorianCalendar gregorianCalendar = new GregorianCalendar();\n        SimpleDateFormat dateFormat = new SimpleDateFormat(DATE_STRING);\n\n        gregorianCalendar.setTime(dateFormat.parse(v));\n        return DatatypeFactory.newInstance().newXMLGregorianCalendar(gregorianCalendar);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","vscode-debugger"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702058132,"post_id":77628355,"comment_id":136854985,"body_markdown":"`echo %PATH%` and `echo %JAVA_HOME%`","body":"<code>echo %PATH%</code> and <code>echo %JAVA_HOME%</code>"},{"owner":{"account_id":27812407,"reputation":11,"user_id":21234550,"display_name":"joao_marcos_se"},"score":0,"creation_date":1702058304,"post_id":77628355,"comment_id":136855005,"body_markdown":"Yes, I did, but nothing about the wrong JDK that is beign used. Will try in cmd,  I did it in bash, but think should be the same. UPD: Nothing in Path and the home is pointing to the jdk 17, that is not beign used when it should.","body":"Yes, I did, but nothing about the wrong JDK that is beign used. Will try in cmd,  I did it in bash, but think should be the same. UPD: Nothing in Path and the home is pointing to the jdk 17, that is not beign used when it should."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702058484,"post_id":77628355,"comment_id":136855033,"body_markdown":"We don&#39;t know what you did and what were the results. You should share both in your questions.","body":"We don&#39;t know what you did and what were the results. You should share both in your questions."},{"owner":{"account_id":27812407,"reputation":11,"user_id":21234550,"display_name":"joao_marcos_se"},"score":0,"creation_date":1702058614,"post_id":77628355,"comment_id":136855056,"body_markdown":"I will reformulate the question","body":"I will reformulate the question"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702058627,"post_id":77628355,"comment_id":136855060,"body_markdown":"If you&#39;re using `JAVA_HOME` then normally you should *pre*pend `%JAVA_HOME%\\bin;` to `PATH`","body":"If you&#39;re using <code>JAVA_HOME</code> then normally you should <i>pre</i>pend <code>%JAVA_HOME%\\bin;</code> to <code>PATH</code>"},{"owner":{"account_id":27812407,"reputation":11,"user_id":21234550,"display_name":"joao_marcos_se"},"score":0,"creation_date":1702059120,"post_id":77628355,"comment_id":136855116,"body_markdown":"My java env vars are set correctly:\n\n$ java --version returns openjdk 17 2021-09-14. And $ where java returns the correct path to jdk 17: C:\\Development\\sdk\\openjdk-17_windows-x64_bin\\jdk-17\\bin\\java.exe","body":"My java env vars are set correctly:  $ java --version returns openjdk 17 2021-09-14. And $ where java returns the correct path to jdk 17: C:\\Development\\sdk\\openjdk-17_windows-x64_bin\\jdk-17\\bin\\jav&zwnj;&#8203;a.exe"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702060103,"post_id":77628355,"comment_id":136855244,"body_markdown":"That only accounts for `PATH` I&#39;m afraid `JAVA_HOME` can sometimes be important","body":"That only accounts for <code>PATH</code> I&#39;m afraid <code>JAVA_HOME</code> can sometimes be important"},{"owner":{"account_id":27812407,"reputation":11,"user_id":21234550,"display_name":"joao_marcos_se"},"score":0,"creation_date":1702060740,"post_id":77628355,"comment_id":136855346,"body_markdown":"Yes. Echo JAVA_HOME is also retuning right to path of jdk 17","body":"Yes. Echo JAVA_HOME is also retuning right to path of jdk 17"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702061239,"post_id":77628355,"comment_id":136855412,"body_markdown":"I don&#39;t use VS code, but the command beginning */usr/bin/env* (which you should have posted as text *formatted as code* btw) is clearly using Java 8. So if you can&#39;t find out where that&#39;s being implemented, you could always run it manually with your own command, using env vars","body":"I don&#39;t use VS code, but the command beginning <i>/usr/bin/env</i> (which you should have posted as text <i>formatted as code</i> btw) is clearly using Java 8. So if you can&#39;t find out where that&#39;s being implemented, you could always run it manually with your own command, using env vars"},{"owner":{"account_id":27812407,"reputation":11,"user_id":21234550,"display_name":"joao_marcos_se"},"score":0,"creation_date":1702062415,"post_id":77628355,"comment_id":136855544,"body_markdown":"Yes. I&#39;ll post as text formated as code. About rewritting the command using my prefered JDK with the same command, it does not work that way in vscode. The command is automatically generated. I have ways to run that code but it&#39;s bad that I cannot figure it out what is happening here.","body":"Yes. I&#39;ll post as text formated as code. About rewritting the command using my prefered JDK with the same command, it does not work that way in vscode. The command is automatically generated. I have ways to run that code but it&#39;s bad that I cannot figure it out what is happening here."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702073672,"post_id":77628355,"comment_id":136856970,"body_markdown":"Well you certainly need to know what your IDE is doing. My personal experience is that anything your IDE can do, the console can do better and faster","body":"Well you certainly need to know what your IDE is doing. My personal experience is that anything your IDE can do, the console can do better and faster"}],"answers":[{"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1702278787,"post_id":77629673,"comment_id":136872208,"body_markdown":"You should accept the answer by clicking on tick icon ✅ which is at left of the answer, so that community can understand that the question has been answered.","body":"You should accept the answer by clicking on tick icon ✅ which is at left of the answer, so that community can understand that the question has been answered."}],"tags":[],"owner":{"account_id":27812407,"reputation":11,"user_id":21234550,"display_name":"joao_marcos_se"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702079342,"creation_date":1702079342,"answer_id":77629673,"question_id":77628355,"body_markdown":"Solved here. I should have entered the configuration in maven build file. \r\n\r\n&quot;For projects managed by build tools, Java version is specified in build scripts. E.g. to use Java 8, add below lines in pom.xml&quot;\r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nIn my case, 17.","title":"This version of the Java Runtime only recognizes class file versions up to 52.0 - VSCode","body":"<p>Solved here. I should have entered the configuration in maven build file.</p>\n<p>&quot;For projects managed by build tools, Java version is specified in build scripts. E.g. to use Java 8, add below lines in pom.xml&quot;</p>\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>In my case, 17.</p>\n"}],"owner":{"account_id":27812407,"reputation":11,"user_id":21234550,"display_name":"joao_marcos_se"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702079342,"creation_date":1702057702,"question_id":77628355,"body_markdown":"WHAT I DID:\r\n\r\nI opened a maven project in vscode, configure the JRE to JDK 17 according to the following settings.json\r\n\r\n```\r\n{\r\n    &quot;java.jdt.ls.java.home&quot;:&quot;C:\\\\Development\\\\sdk\\\\openjdk-17_windows-x64_bin\\\\jdk-17&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n          &quot;path&quot;: &quot;C:\\\\Development\\\\sdk\\\\openjdk-17_windows-x64_bin\\\\jdk-17&quot;,\r\n          &quot;default&quot;: true\r\n        }\r\n      ]\r\n}\r\n```\r\n\r\nI also deleted all other JDK paths (11, 8) from PATH variable. When I issue `where java` in my terminal, it only returns JDK 17, which is what I need. I also set the JAVA_HOME to de desired jdk 17.\r\n\r\nTHE ERROR: \r\n\r\nBut when I try to run the main method of a Java class using the Run|Debug link above the method&#39;s name, I receive this error.\r\n\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/context/ApplicationContext has been compiled by a more recent version of the Java Runtime (class \r\nfile version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nWhen I look at the command that is being run, **for some reason the extension is trying to run using an installed jdk 8**, but I did not find from where this value if coming.\r\n\r\nTake a look at the error:\r\n```\r\n$  /usr/bin/env C:\\\\Program\\ Files\\\\Java\\\\jre-1.8\\\\bin\\\\java.exe -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:60055 -cp C:\\\\Users\\\\marco\\\\AppData\\\\Local\\\\Temp\\\\cp_63fto1nauu53hkuoxjrssuzfw.jar com.joaomarcos.spring.core.ioccontainer.CacheableApplication \r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/context/ApplicationContext has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(Unknown Source)\r\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.access$100(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n        at java.lang.Class.privateGetMethodRecursive(Unknown Source)\r\n        at java.lang.Class.getMethod0(Unknown Source)\r\n        at java.lang.Class.getMethod(Unknown Source)\r\n        at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n```\r\n\r\nWHAT I EXPECTED: \r\nI expect that the java class runs without error with the correct JDK, 17, which is the one in JAVA_HOME and the only in PATH","title":"This version of the Java Runtime only recognizes class file versions up to 52.0 - VSCode","body":"<p>WHAT I DID:</p>\n<p>I opened a maven project in vscode, configure the JRE to JDK 17 according to the following settings.json</p>\n<pre><code>{\n    &quot;java.jdt.ls.java.home&quot;:&quot;C:\\\\Development\\\\sdk\\\\openjdk-17_windows-x64_bin\\\\jdk-17&quot;,\n    &quot;java.configuration.runtimes&quot;: [\n        {\n          &quot;name&quot;: &quot;JavaSE-17&quot;,\n          &quot;path&quot;: &quot;C:\\\\Development\\\\sdk\\\\openjdk-17_windows-x64_bin\\\\jdk-17&quot;,\n          &quot;default&quot;: true\n        }\n      ]\n}\n</code></pre>\n<p>I also deleted all other JDK paths (11, 8) from PATH variable. When I issue <code>where java</code> in my terminal, it only returns JDK 17, which is what I need. I also set the JAVA_HOME to de desired jdk 17.</p>\n<p>THE ERROR:</p>\n<p>But when I try to run the main method of a Java class using the Run|Debug link above the method's name, I receive this error.</p>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/context/ApplicationContext has been compiled by a more recent version of the Java Runtime (class\nfile version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<p>When I look at the command that is being run, <strong>for some reason the extension is trying to run using an installed jdk 8</strong>, but I did not find from where this value if coming.</p>\n<p>Take a look at the error:</p>\n<pre><code>$  /usr/bin/env C:\\\\Program\\ Files\\\\Java\\\\jre-1.8\\\\bin\\\\java.exe -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:60055 -cp C:\\\\Users\\\\marco\\\\AppData\\\\Local\\\\Temp\\\\cp_63fto1nauu53hkuoxjrssuzfw.jar com.joaomarcos.spring.core.ioccontainer.CacheableApplication \nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/context/ApplicationContext has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.access$100(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n        at java.lang.Class.privateGetMethodRecursive(Unknown Source)\n        at java.lang.Class.getMethod0(Unknown Source)\n        at java.lang.Class.getMethod(Unknown Source)\n        at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\n</code></pre>\n<p>WHAT I EXPECTED:\nI expect that the java class runs without error with the correct JDK, 17, which is the one in JAVA_HOME and the only in PATH</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1702104063,"post_id":77625821,"comment_id":136858789,"body_markdown":"Edit your post and show an example (not images) of an original matrix and a matrix with the results you are expecting.","body":"Edit your post and show an example (not images) of an original matrix and a matrix with the results you are expecting."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702078569,"creation_date":1702078569,"answer_id":77629641,"question_id":77625821,"body_markdown":"&gt; _&quot;... I was trying to switch the rows and columns of a matrix with the next one ...&quot;_\r\n\r\nFor reference, in _[mathematics](https://en.wikipedia.org/wiki/Mathematics)_ this is referred to as a _[transposition](https://en.wikipedia.org/wiki/Transpose)_.\\\r\nHere is a relevant _Wikipedia_ article.&amp;nbsp; _[Wikipedia &amp;ndash; In-place matrix transposition](https://en.wikipedia.org/wiki/In-place_matrix_transposition)_.\r\n\r\nHere is an example for a _[square matrix](https://en.wikipedia.org/wiki/Square_matrix)_.\r\n\r\n```java\r\n&lt;T&gt; void transpose(T[][] a) {\r\n    T t;\r\n    int m, n, z = a.length;\r\n    for (m = 0; m &lt; z; m++)\r\n        for (n = m + 1; n &lt; z; n++) {\r\n            t = a[m][n];\r\n            a[m][n] = a[n][m];\r\n            a[n][m] = t;\r\n        }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nbefore\r\n[1, 2, 3]\r\n[4, 5, 6]\r\n[7, 8, 9]\r\n\r\nafter\r\n[1, 4, 7]\r\n[2, 5, 8]\r\n[3, 6, 9]\r\n```\r\n\r\nAnd, here is an example for a _[rectangular matrix](https://en.wikipedia.org/wiki/Matrix_(mathematics))_.\r\n\r\n```java\r\n&lt;T&gt; T[][] transpose(T[][] a) {\r\n    int m, n, x = a[0].length, y = a.length;\r\n    Class&lt;?&gt; t = a.getClass().getComponentType().getComponentType();\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    T[][] b = (T[][]) Array.newInstance(t, x, y);\r\n    for (m = 0; m &lt; y; m++)\r\n        for (n = 0; n &lt; x; n++)\r\n            b[n][m] = a[m][n];\r\n    return b;\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nbefore\r\n[1, 2]\r\n[3, 4]\r\n[5, 6]\r\n[7, 8]\r\n\r\nafter\r\n[1, 3, 5, 7]\r\n[2, 4, 6, 8]\r\n```","title":"Switching the column and row of a matrix with the next one inJava","body":"<blockquote>\n<p><em>&quot;... I was trying to switch the rows and columns of a matrix with the next one ...&quot;</em></p>\n</blockquote>\n<p>For reference, in <em><a href=\"https://en.wikipedia.org/wiki/Mathematics\" rel=\"nofollow noreferrer\">mathematics</a></em> this is referred to as a <em><a href=\"https://en.wikipedia.org/wiki/Transpose\" rel=\"nofollow noreferrer\">transposition</a></em>.<br />\nHere is a relevant <em>Wikipedia</em> article.  <em><a href=\"https://en.wikipedia.org/wiki/In-place_matrix_transposition\" rel=\"nofollow noreferrer\">Wikipedia – In-place matrix transposition</a></em>.</p>\n<p>Here is an example for a <em><a href=\"https://en.wikipedia.org/wiki/Square_matrix\" rel=\"nofollow noreferrer\">square matrix</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; void transpose(T[][] a) {\n    T t;\n    int m, n, z = a.length;\n    for (m = 0; m &lt; z; m++)\n        for (n = m + 1; n &lt; z; n++) {\n            t = a[m][n];\n            a[m][n] = a[n][m];\n            a[n][m] = t;\n        }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>before\n[1, 2, 3]\n[4, 5, 6]\n[7, 8, 9]\n\nafter\n[1, 4, 7]\n[2, 5, 8]\n[3, 6, 9]\n</code></pre>\n<p>And, here is an example for a <em><a href=\"https://en.wikipedia.org/wiki/Matrix_(mathematics)\" rel=\"nofollow noreferrer\">rectangular matrix</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; T[][] transpose(T[][] a) {\n    int m, n, x = a[0].length, y = a.length;\n    Class&lt;?&gt; t = a.getClass().getComponentType().getComponentType();\n    @SuppressWarnings(&quot;unchecked&quot;)\n    T[][] b = (T[][]) Array.newInstance(t, x, y);\n    for (m = 0; m &lt; y; m++)\n        for (n = 0; n &lt; x; n++)\n            b[n][m] = a[m][n];\n    return b;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>before\n[1, 2]\n[3, 4]\n[5, 6]\n[7, 8]\n\nafter\n[1, 3, 5, 7]\n[2, 4, 6, 8]\n</code></pre>\n"}],"owner":{"account_id":30096966,"reputation":1,"user_id":23064998,"display_name":"David Rodr&#237;guez de Lope"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702078569,"creation_date":1702030333,"question_id":77625821,"body_markdown":"I was trying to switch the rows and columns of a matrix with the next one in java and for some reason for some of the positions the results i get are right and for other they aren&#180;t. Is this the correct way of making the changes in the matrix or does this code wrong in some way?\r\n\r\n \r\n```\r\npublic static  void intercambiar(int[][] vector,int i, int j) {\r\n        for (int k = 0; k &lt; vector.length; k++) {\r\n            int temp = vector[k][j];\r\n            vector[k][j] = vector[k][i];\r\n            vector[k][i] = temp;\r\n\r\n            temp = vector[j][k];\r\n            vector[j][k] = vector[i][k];\r\n            vector[i][k] = temp;\r\n        }\r\n\r\n    }\r\n\r\n\r\n```\r\nJust to clarify, the code should be able to switch all the rows of the first column with all the rows of the second column and then switch all the columns of the first row with the columns of the second row.","title":"Switching the column and row of a matrix with the next one inJava","body":"<p>I was trying to switch the rows and columns of a matrix with the next one in java and for some reason for some of the positions the results i get are right and for other they aren´t. Is this the correct way of making the changes in the matrix or does this code wrong in some way?</p>\n<pre><code>public static  void intercambiar(int[][] vector,int i, int j) {\n        for (int k = 0; k &lt; vector.length; k++) {\n            int temp = vector[k][j];\n            vector[k][j] = vector[k][i];\n            vector[k][i] = temp;\n\n            temp = vector[j][k];\n            vector[j][k] = vector[i][k];\n            vector[i][k] = temp;\n        }\n\n    }\n\n\n</code></pre>\n<p>Just to clarify, the code should be able to switch all the rows of the first column with all the rows of the second column and then switch all the columns of the first row with the columns of the second row.</p>\n"},{"tags":["java","anonymous-inner-class"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1702070258,"post_id":77629206,"comment_id":136856590,"body_markdown":"Can you show what code you *wanted* to write, but couldn&#39;t? What was the original invalid code that you try to fix with this mess?","body":"Can you show what code you <i>wanted</i> to write, but couldn&#39;t? What was the original invalid code that you try to fix with this mess?"},{"owner":{"account_id":2679388,"reputation":1005,"user_id":2315037,"accept_rate":29,"display_name":"Sergey V."},"score":0,"creation_date":1702071253,"post_id":77629206,"comment_id":136856707,"body_markdown":"@Sweeper, there is no any original codes. The main target is to get access to the own methods of anonymous inner class. But this code I molded on in the free manner, for my oppinion, is looking bad.","body":"@Sweeper, there is no any original codes. The main target is to get access to the own methods of anonymous inner class. But this code I molded on in the free manner, for my oppinion, is looking bad."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1702071432,"post_id":77629206,"comment_id":136856737,"body_markdown":"Get access to which methods? Access from where? The code is too messy that I can&#39;t really see what you mean. Also, why are you doing this in the first place? Could this be an [XY Problem](http://xyproblem.info/)?","body":"Get access to which methods? Access from where? The code is too messy that I can&#39;t really see what you mean. Also, why are you doing this in the first place? Could this be an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>?"},{"owner":{"account_id":2679388,"reputation":1005,"user_id":2315037,"accept_rate":29,"display_name":"Sergey V."},"score":0,"creation_date":1702072490,"post_id":77629206,"comment_id":136856872,"body_markdown":"@Sweeper, OK. This question in another words may by sound so that can anybody propose the way to bypass the constraints of use the own methods of anonymous inner class such that we will posible to call their by use of object variable in the same manner as the overriden versions of the base class methods?","body":"@Sweeper, OK. This question in another words may by sound so that can anybody propose the way to bypass the constraints of use the own methods of anonymous inner class such that we will posible to call their by use of object variable in the same manner as the overriden versions of the base class methods?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1702072624,"post_id":77629206,"comment_id":136856884,"body_markdown":"You mentioned a &quot;constraint&quot;, but I don&#39;t know what &quot;constraint&quot; you mean. Can you demonstrate what constraint you are trying to bypass by showing some code that doesn&#39;t compile (because of the constraint)?","body":"You mentioned a &quot;constraint&quot;, but I don&#39;t know what &quot;constraint&quot; you mean. Can you demonstrate what constraint you are trying to bypass by showing some code that doesn&#39;t compile (because of the constraint)?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1702072875,"post_id":77629206,"comment_id":136856902,"body_markdown":"Are you trying to get access to `methAnonym1`, `methAnonym2` etc? Why use an anonymous class then? How about just writing a *named* class? It can still be local to the `main` method.","body":"Are you trying to get access to <code>methAnonym1</code>, <code>methAnonym2</code> etc? Why use an anonymous class then? How about just writing a <i>named</i> class? It can still be local to the <code>main</code> method."},{"owner":{"account_id":2679388,"reputation":1005,"user_id":2315037,"accept_rate":29,"display_name":"Sergey V."},"score":0,"creation_date":1702073930,"post_id":77629206,"comment_id":136856997,"body_markdown":"@Sweeper, We can do almost anything. But what about to force the impossible.","body":"@Sweeper, We can do almost anything. But what about to force the impossible."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1702075000,"post_id":77629206,"comment_id":136857096,"body_markdown":"Well if you are just trying to make a point and not intend to use the language properly, you already did it. There is no problem with using this code, if you are just trying to make a point. I would be surprised if this could be done in a non-messy way, because the language is not designed to do that.","body":"Well if you are just trying to make a point and not intend to use the language properly, you already did it. There is no problem with using this code, if you are just trying to make a point. I would be surprised if this could be done in a non-messy way, because the language is not designed to do that."}],"answers":[{"comments":[{"owner":{"account_id":2679388,"reputation":1005,"user_id":2315037,"accept_rate":29,"display_name":"Sergey V."},"score":0,"creation_date":1702077151,"post_id":77629533,"comment_id":136857336,"body_markdown":"It is the same if we will use the &quot;anonymous object&quot; for this anonymous inner class, i.e. \nnew Outer() {\n    void nmethod() {\n        System.out.println(&quot;OK&quot;);\n    }\n}.nmethod();\nThis is &quot;one-time promotion&quot; for use just one of the own non-overriden methods to call. And it is naturally because of the absence as of the actual object type as of the absence the object variable as well and as the result, we have access to the own members of anonym, but due to naming absense this access applies to a single method.","body":"It is the same if we will use the &quot;anonymous object&quot; for this anonymous inner class, i.e.  new Outer() {     void nmethod() {         System.out.println(&quot;OK&quot;);     } }.nmethod(); This is &quot;one-time promotion&quot; for use just one of the own non-overriden methods to call. And it is naturally because of the absence as of the actual object type as of the absence the object variable as well and as the result, we have access to the own members of anonym, but due to naming absense this access applies to a single method."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1702077409,"post_id":77629533,"comment_id":136857353,"body_markdown":"it is similar, but not the same since it can be used multiple times, and for more than one method or field. You asked &quot;*I want to find a possibility to call `outter.nmethod();`*&quot;... now you have two alternatives","body":"it is similar, but not the same since it can be used multiple times, and for more than one method or field. You asked &quot;<i>I want to find a possibility to call <code>outter.nmethod();</code></i>&quot;... now you have two alternatives"}],"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702077592,"creation_date":1702075833,"answer_id":77629533,"question_id":77629206,"body_markdown":"If I do understand the question correctly, it can be done using `var` (Java 10 or later) to declare the variable like in:\r\n\r\n````java\r\nvar outter = new Outer() {  // or just new Object()\r\n    void nmethod() {\r\n        System.out.println(&quot;OK&quot;);\r\n    }\r\n    void omethod() {\r\n        System.out.println(&quot;Another method&quot;);\r\n    }\r\n};\r\n\r\noutter.nmethod();\r\noutter.omethod();\r\n````\r\n\r\nIt is like the compiler knowns the type of the anonymous class.","title":"How to get access to the own methods of anonymous inner class","body":"<p>If I do understand the question correctly, it can be done using <code>var</code> (Java 10 or later) to declare the variable like in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var outter = new Outer() {  // or just new Object()\n    void nmethod() {\n        System.out.println(&quot;OK&quot;);\n    }\n    void omethod() {\n        System.out.println(&quot;Another method&quot;);\n    }\n};\n\noutter.nmethod();\noutter.omethod();\n</code></pre>\n<p>It is like the compiler knowns the type of the anonymous class.</p>\n"}],"owner":{"account_id":2679388,"reputation":1005,"user_id":2315037,"accept_rate":29,"display_name":"Sergey V."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77629533,"answer_count":1,"score":0,"last_activity_date":1702077592,"creation_date":1702070100,"question_id":77629206,"body_markdown":"Can anybody help to optimize the mess in my head produces the following stupid code snippet?\r\n\r\n    public class SomeClass {\r\n    \r\n        interface MethodInvokeHelper{\r\n            void methA(int funNum, Object ... v);\r\n            &lt;T&gt; T methB(int funNum, Object ... v);\r\n        }\r\n    \r\n        static class SomeInnerClass{\r\n            void someMethod(){System.out.println(&quot;SomeInnerClass method&quot;);}\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            MethodInvokeHelper anonymous = new SomeInnerClass(){\r\n    \r\n                void methAnonym1(){ System.out.println(&quot;methAnonym1&quot;); }\r\n    \r\n                void methAnonym2(){ System.out.println(&quot;methAnonym2&quot;); }\r\n    \r\n                Integer methAnonym3(){ return 10;}\r\n    \r\n                String methAnonym4(){return &quot;methAnonym4&quot;;}\r\n\r\n                Integer methAnonym5(Object ... v){\r\n                        int sum = 0;\r\n                        for (Object i : v)\r\n                                if(i instanceof Integer)sum += (int) i;\r\n                                else return 0;\r\n                        return sum;\r\n                }\r\n    \r\n                MethodInvokeHelper refs(){\r\n    \r\n                        return new MethodInvokeHelper(){\r\n                            public void methA(int funNum, Object ... v) {\r\n                                switch(funNum){\r\n                                    case 1 -&gt; methAnonym1();\r\n                                    case 2 -&gt; methAnonym2();\r\n                                }\r\n                            }\r\n                            public Object methB(int funNum, Object ... v) {\r\n                                    return switch(funNum){\r\n                                            case 1 -&gt; methAnonym3();\r\n                                            case 2 -&gt; methAnonym4();\r\n                                            case 3 -&gt; {\r\n                                                    if(v.length&gt;0) yield methAnonym5(v);\r\n                                                    else yield null;\r\n                                            }\r\n                                            default -&gt; null;\r\n                                    };\r\n                            }\r\n                        };}\r\n                }.refs();\r\n    \r\n            anonymous.methA(1);\r\n            System.out.println((Object) anonymous.methB(1));\r\n            System.out.println((Object) anonymous.methB(3,3,4));\r\n        }\r\n\r\nI just want to bypass the constraints of use the own methods of anonymous inner class inside outer code.\r\n\r\n**Update:** by @Old Dog Programmer comment the names of classes have been changed.\r\n\r\n**Update to clarify by propose of @Sweeper:** So let specify the problem that inducted the question above:\r\n\r\nIn the following code:\r\n\r\n    public class Outer {\r\n            Outer(){}\r\n            void method() {\r\n                    System.out.println(&quot;the method of Outer&quot;);\r\n            }\r\n        \r\n            public static void main(String[] args){\r\n                    Outer outter = new Outer() {\r\n                            { super.method(); method(); nmethod(); }\r\n                            void method(){\r\n                                    System.out.println(&quot;method() from anonymous class&quot;);\r\n                            }\r\n                            void nmethod() {\r\n                                    System.out.println(&quot;nmethod() from anonymous class&quot;);\r\n                            }\r\n                    };\r\n                    outter.method(); // we can call the overriden method\r\n                    // outter.nmethod(); //but we can not call the own method of anonymous inner class from outside\r\n            }\r\n        }\r\n\r\nSo, I want to find a possibility to call `outter.nmethod();`","title":"How to get access to the own methods of anonymous inner class","body":"<p>Can anybody help to optimize the mess in my head produces the following stupid code snippet?</p>\n<pre><code>public class SomeClass {\n\n    interface MethodInvokeHelper{\n        void methA(int funNum, Object ... v);\n        &lt;T&gt; T methB(int funNum, Object ... v);\n    }\n\n    static class SomeInnerClass{\n        void someMethod(){System.out.println(&quot;SomeInnerClass method&quot;);}\n    }\n\n    public static void main(String[] args) {\n        MethodInvokeHelper anonymous = new SomeInnerClass(){\n\n            void methAnonym1(){ System.out.println(&quot;methAnonym1&quot;); }\n\n            void methAnonym2(){ System.out.println(&quot;methAnonym2&quot;); }\n\n            Integer methAnonym3(){ return 10;}\n\n            String methAnonym4(){return &quot;methAnonym4&quot;;}\n\n            Integer methAnonym5(Object ... v){\n                    int sum = 0;\n                    for (Object i : v)\n                            if(i instanceof Integer)sum += (int) i;\n                            else return 0;\n                    return sum;\n            }\n\n            MethodInvokeHelper refs(){\n\n                    return new MethodInvokeHelper(){\n                        public void methA(int funNum, Object ... v) {\n                            switch(funNum){\n                                case 1 -&gt; methAnonym1();\n                                case 2 -&gt; methAnonym2();\n                            }\n                        }\n                        public Object methB(int funNum, Object ... v) {\n                                return switch(funNum){\n                                        case 1 -&gt; methAnonym3();\n                                        case 2 -&gt; methAnonym4();\n                                        case 3 -&gt; {\n                                                if(v.length&gt;0) yield methAnonym5(v);\n                                                else yield null;\n                                        }\n                                        default -&gt; null;\n                                };\n                        }\n                    };}\n            }.refs();\n\n        anonymous.methA(1);\n        System.out.println((Object) anonymous.methB(1));\n        System.out.println((Object) anonymous.methB(3,3,4));\n    }\n</code></pre>\n<p>I just want to bypass the constraints of use the own methods of anonymous inner class inside outer code.</p>\n<p><strong>Update:</strong> by @Old Dog Programmer comment the names of classes have been changed.</p>\n<p><strong>Update to clarify by propose of @Sweeper:</strong> So let specify the problem that inducted the question above:</p>\n<p>In the following code:</p>\n<pre><code>public class Outer {\n        Outer(){}\n        void method() {\n                System.out.println(&quot;the method of Outer&quot;);\n        }\n    \n        public static void main(String[] args){\n                Outer outter = new Outer() {\n                        { super.method(); method(); nmethod(); }\n                        void method(){\n                                System.out.println(&quot;method() from anonymous class&quot;);\n                        }\n                        void nmethod() {\n                                System.out.println(&quot;nmethod() from anonymous class&quot;);\n                        }\n                };\n                outter.method(); // we can call the overriden method\n                // outter.nmethod(); //but we can not call the own method of anonymous inner class from outside\n        }\n    }\n</code></pre>\n<p>So, I want to find a possibility to call <code>outter.nmethod();</code></p>\n"},{"tags":["java","sapjco3"],"answers":[{"comments":[{"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"score":0,"creation_date":1702230280,"post_id":77627646,"comment_id":136868333,"body_markdown":"i checked the `IDocServerExample.java` before posting my question, but it didn&#39;t work for me :(","body":"i checked the <code>IDocServerExample.java</code> before posting my question, but it didn&#39;t work for me :("},{"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"score":0,"creation_date":1702323954,"post_id":77627646,"comment_id":136879826,"body_markdown":"Generally, the example program works. But it doesn&#39;t use an own DestinationDataProvider or ServerDataProvider, but only the (unsecure) default implementations for both, which rely on property files for reading the connection parameters. Your posted code does not deal or start a JCoIDocServer - of course, this cannot work, if you want to listen/receive IDocs.","body":"Generally, the example program works. But it doesn&#39;t use an own DestinationDataProvider or ServerDataProvider, but only the (unsecure) default implementations for both, which rely on property files for reading the connection parameters. Your posted code does not deal or start a JCoIDocServer - of course, this cannot work, if you want to listen/receive IDocs."}],"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702076559,"creation_date":1702049612,"answer_id":77627646,"question_id":77625734,"body_markdown":"These properties are superfluous in your DestinationDataProvider client configuration:\r\n\r\n    properties.setProperty(DestinationDataProvider.JCO_GWHOST, host); \r\n    properties.setProperty(DestinationDataProvider.JCO_GWSERV, gatewayService); \r\n    properties.setProperty(DestinationDataProvider.JCO_GROUP, group);\r\n\r\nAnd yes, your JCoIDocListener class implements RFC server functionality for receiving IDocs. For registering an RFC server, you have to implement and register a ServerDataProvider using the same pattern as with your implementation for the DestinationDataProvider.\r\n\r\nThen you can call JCoIDoc.getServer(String name) for getting your JCoIDocServer instance. Finally, this instance must be started by calling JCoIDocServer.start(), but only after setting your JCoIDocHandler and a TIDHandler for it.\r\n\r\nI recommend to have a look into the SAP Java IDoc Library&#39;s small example program IDocServerExample.java which is shipped with the SDK.","title":"How to create and register in SAP environment IDocListener?","body":"<p>These properties are superfluous in your DestinationDataProvider client configuration:</p>\n<pre><code>properties.setProperty(DestinationDataProvider.JCO_GWHOST, host); \nproperties.setProperty(DestinationDataProvider.JCO_GWSERV, gatewayService); \nproperties.setProperty(DestinationDataProvider.JCO_GROUP, group);\n</code></pre>\n<p>And yes, your JCoIDocListener class implements RFC server functionality for receiving IDocs. For registering an RFC server, you have to implement and register a ServerDataProvider using the same pattern as with your implementation for the DestinationDataProvider.</p>\n<p>Then you can call JCoIDoc.getServer(String name) for getting your JCoIDocServer instance. Finally, this instance must be started by calling JCoIDocServer.start(), but only after setting your JCoIDocHandler and a TIDHandler for it.</p>\n<p>I recommend to have a look into the SAP Java IDoc Library's small example program IDocServerExample.java which is shipped with the SDK.</p>\n"}],"owner":{"account_id":7544544,"reputation":7144,"user_id":5728095,"accept_rate":76,"display_name":"Sergii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702076559,"creation_date":1702029241,"question_id":77625734,"body_markdown":"We need implement SAP client on java to listen `IDoc`s.\r\nWe use\r\n```\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;com.sap.conn.idoc.version&gt;3.1.3&lt;/com.sap.conn.idoc.version&gt;\r\n\t\t&lt;com.sap.conn.jco.version&gt;3.1.7&lt;/com.sap.conn.jco.version&gt;\r\n\t\t&lt;lib.directory&gt;${project.build.directory}/lib&lt;/lib.directory&gt;\r\n\t&lt;/properties&gt;\r\n...\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sap.conn.idoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;com.sap.conn.idoc.sapidoc3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${com.sap.conn.idoc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sap.conn.jco&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;com.sap.conn.jco.sapjco3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${com.sap.conn.jco.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sap.conn.jco&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sapjco3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${com.sap.conn.jco.version}&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;external-library&lt;/classifier&gt;\r\n\t\t\t&lt;type&gt;dll&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sap.conn.jco&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;libsapjco3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${com.sap.conn.jco.version}&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;external-library&lt;/classifier&gt;\r\n\t\t\t&lt;type&gt;so&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\nthe client configuration:\r\n```\r\n        Properties properties = new Properties();\r\n        properties.setProperty(DestinationDataProvider.JCO_ASHOST, host);\r\n        properties.setProperty(DestinationDataProvider.JCO_SYSNR, systemNumber);\r\n        properties.setProperty(DestinationDataProvider.JCO_CLIENT, client);\r\n        properties.setProperty(DestinationDataProvider.JCO_USER, username);\r\n        properties.setProperty(DestinationDataProvider.JCO_PASSWD, password);\r\n        properties.setProperty(DestinationDataProvider.JCO_LANG, language);\r\n\r\n        properties.setProperty(DestinationDataProvider.JCO_GWHOST, host);\r\n        properties.setProperty(DestinationDataProvider.JCO_GWSERV, gatewayService);\r\n        properties.setProperty(DestinationDataProvider.JCO_GROUP, group);\r\n\r\n        properties.setProperty(DestinationDataProvider.JCO_PEAK_LIMIT, peakLimit);\r\n```\r\nUsing remind propertied we create `DestinationDataProvider` registering one in Environment `Environment.registerDestinationDataProvider(destinationDataProvider)`\r\n\r\nthen we can create `JCoDestination`, `JCoRepository` or `IDocRepository` without issues.\r\n```\r\nJCoDestination jCoDestination = JCoDestinationManager.getDestination(&quot;MULE_IDOC_TEST&quot;);\r\nJCoRepository jCoRepository = jCoDestination.getRepository();\r\nIDocRepository iDocRepository = JCoIDoc.getIDocRepository(jCoDestination);\r\n```\r\n\r\nFinally I need IDoc listener. I described class for one:\r\n```\r\nimport com.sap.conn.idoc.IDocDocument;\r\nimport com.sap.conn.idoc.IDocDocumentIterator;\r\nimport com.sap.conn.idoc.IDocDocumentList;\r\nimport com.sap.conn.idoc.jco.JCoIDocHandler;\r\nimport com.sap.conn.jco.server.JCoServerContext;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n\r\n@Slf4j(topic = &quot;JCo IDoc Listener Logger&quot;)\r\npublic class JCoIDocListener implements JCoIDocHandler {\r\n\r\n    @Override\r\n    public void handleRequest(JCoServerContext jCoServerContext, IDocDocumentList iDocDocumentList) {\r\n        log.info(&quot;idocs something&quot;);\r\n        IDocDocumentIterator iterator = iDocDocumentList.iterator();\r\n        while (iterator.hasNext()) {\r\n            IDocDocument idoc = iterator.next();\r\n            log.info(&quot;idoc : {}&quot;, idoc.toString());\r\n        }\r\n        log.info(&quot;server: {}&quot;, jCoServerContext.getServer());\r\n    }\r\n}\r\n```\r\n\r\nBut I have no idea how to register it in SAP client `Environment`.\r\n\r\nQuestion 1\r\n-\r\nCan you please help me to register object based on `JCoIDocListener` in SAP client `Environment`?\r\n\r\n\r\nOther way.\r\n-\r\nI described one more listener like:\r\n```\r\nimport com.sap.conn.idoc.jco.JCoIDoc;\r\nimport com.sap.conn.jco.AbapClassException;\r\nimport com.sap.conn.jco.AbapException;\r\nimport com.sap.conn.jco.JCoFunction;\r\nimport com.sap.conn.jco.server.JCoServerContext;\r\nimport com.sap.conn.jco.server.JCoServerFunctionHandler;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j(topic = &quot;JCo IDoc Server Listener Logger&quot;)\r\npublic class JCoIDocServerListener implements JCoServerFunctionHandler {\r\n\r\n    @Override\r\n    public void handleRequest(JCoServerContext jCoServerContext, JCoFunction jCoFunction)\r\n            throws AbapException, AbapClassException {\r\n        log.info(&quot;received something&quot;);\r\n\r\n    }\r\n}\r\n```\r\nBut the issue is also I have no idea how to register it in environment (beside that, it looks like server part).\r\n\r\nQuestion 2\r\n---\r\n\r\nShould I change my configuration for client `DestinationDataProvider` for using `JCoIDocServerListener`? If yes, how? (i think some server properties should be specified)\r\nHow to register `JCoIDocServerListener.class`?\r\n","title":"How to create and register in SAP environment IDocListener?","body":"<p>We need implement SAP client on java to listen <code>IDoc</code>s.\nWe use</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;com.sap.conn.idoc.version&gt;3.1.3&lt;/com.sap.conn.idoc.version&gt;\n        &lt;com.sap.conn.jco.version&gt;3.1.7&lt;/com.sap.conn.jco.version&gt;\n        &lt;lib.directory&gt;${project.build.directory}/lib&lt;/lib.directory&gt;\n    &lt;/properties&gt;\n...\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sap.conn.idoc&lt;/groupId&gt;\n            &lt;artifactId&gt;com.sap.conn.idoc.sapidoc3&lt;/artifactId&gt;\n            &lt;version&gt;${com.sap.conn.idoc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sap.conn.jco&lt;/groupId&gt;\n            &lt;artifactId&gt;com.sap.conn.jco.sapjco3&lt;/artifactId&gt;\n            &lt;version&gt;${com.sap.conn.jco.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sap.conn.jco&lt;/groupId&gt;\n            &lt;artifactId&gt;sapjco3&lt;/artifactId&gt;\n            &lt;version&gt;${com.sap.conn.jco.version}&lt;/version&gt;\n            &lt;classifier&gt;external-library&lt;/classifier&gt;\n            &lt;type&gt;dll&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sap.conn.jco&lt;/groupId&gt;\n            &lt;artifactId&gt;libsapjco3&lt;/artifactId&gt;\n            &lt;version&gt;${com.sap.conn.jco.version}&lt;/version&gt;\n            &lt;classifier&gt;external-library&lt;/classifier&gt;\n            &lt;type&gt;so&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>the client configuration:</p>\n<pre><code>        Properties properties = new Properties();\n        properties.setProperty(DestinationDataProvider.JCO_ASHOST, host);\n        properties.setProperty(DestinationDataProvider.JCO_SYSNR, systemNumber);\n        properties.setProperty(DestinationDataProvider.JCO_CLIENT, client);\n        properties.setProperty(DestinationDataProvider.JCO_USER, username);\n        properties.setProperty(DestinationDataProvider.JCO_PASSWD, password);\n        properties.setProperty(DestinationDataProvider.JCO_LANG, language);\n\n        properties.setProperty(DestinationDataProvider.JCO_GWHOST, host);\n        properties.setProperty(DestinationDataProvider.JCO_GWSERV, gatewayService);\n        properties.setProperty(DestinationDataProvider.JCO_GROUP, group);\n\n        properties.setProperty(DestinationDataProvider.JCO_PEAK_LIMIT, peakLimit);\n</code></pre>\n<p>Using remind propertied we create <code>DestinationDataProvider</code> registering one in Environment <code>Environment.registerDestinationDataProvider(destinationDataProvider)</code></p>\n<p>then we can create <code>JCoDestination</code>, <code>JCoRepository</code> or <code>IDocRepository</code> without issues.</p>\n<pre><code>JCoDestination jCoDestination = JCoDestinationManager.getDestination(&quot;MULE_IDOC_TEST&quot;);\nJCoRepository jCoRepository = jCoDestination.getRepository();\nIDocRepository iDocRepository = JCoIDoc.getIDocRepository(jCoDestination);\n</code></pre>\n<p>Finally I need IDoc listener. I described class for one:</p>\n<pre><code>import com.sap.conn.idoc.IDocDocument;\nimport com.sap.conn.idoc.IDocDocumentIterator;\nimport com.sap.conn.idoc.IDocDocumentList;\nimport com.sap.conn.idoc.jco.JCoIDocHandler;\nimport com.sap.conn.jco.server.JCoServerContext;\nimport lombok.extern.slf4j.Slf4j;\n\n\n@Slf4j(topic = &quot;JCo IDoc Listener Logger&quot;)\npublic class JCoIDocListener implements JCoIDocHandler {\n\n    @Override\n    public void handleRequest(JCoServerContext jCoServerContext, IDocDocumentList iDocDocumentList) {\n        log.info(&quot;idocs something&quot;);\n        IDocDocumentIterator iterator = iDocDocumentList.iterator();\n        while (iterator.hasNext()) {\n            IDocDocument idoc = iterator.next();\n            log.info(&quot;idoc : {}&quot;, idoc.toString());\n        }\n        log.info(&quot;server: {}&quot;, jCoServerContext.getServer());\n    }\n}\n</code></pre>\n<p>But I have no idea how to register it in SAP client <code>Environment</code>.</p>\n<h2>Question 1</h2>\n<p>Can you please help me to register object based on <code>JCoIDocListener</code> in SAP client <code>Environment</code>?</p>\n<h2>Other way.</h2>\n<p>I described one more listener like:</p>\n<pre><code>import com.sap.conn.idoc.jco.JCoIDoc;\nimport com.sap.conn.jco.AbapClassException;\nimport com.sap.conn.jco.AbapException;\nimport com.sap.conn.jco.JCoFunction;\nimport com.sap.conn.jco.server.JCoServerContext;\nimport com.sap.conn.jco.server.JCoServerFunctionHandler;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j(topic = &quot;JCo IDoc Server Listener Logger&quot;)\npublic class JCoIDocServerListener implements JCoServerFunctionHandler {\n\n    @Override\n    public void handleRequest(JCoServerContext jCoServerContext, JCoFunction jCoFunction)\n            throws AbapException, AbapClassException {\n        log.info(&quot;received something&quot;);\n\n    }\n}\n</code></pre>\n<p>But the issue is also I have no idea how to register it in environment (beside that, it looks like server part).</p>\n<h2>Question 2</h2>\n<p>Should I change my configuration for client <code>DestinationDataProvider</code> for using <code>JCoIDocServerListener</code>? If yes, how? (i think some server properties should be specified)\nHow to register <code>JCoIDocServerListener.class</code>?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1702079485,"post_id":77629544,"comment_id":136857492,"body_markdown":"A `WebFilter` is invoked during the request to your `WebfluxController`. It cannot be used to intercept calls that are sent through `WebClient`, that&#39;s what the `ExchangeFilterFunction` is for. You&#39;re also trying to mutate the response headers and not the request headers. Regardless of any of this, from your question it appears your library is actually some kind of gateway. If that&#39;s the case, then why are you re-inventing the wheel even though [Spring Cloud Gateway](https://spring.io/projects/spring-cloud-gateway) exists?","body":"A <code>WebFilter</code> is invoked during the request to your <code>WebfluxController</code>. It cannot be used to intercept calls that are sent through <code>WebClient</code>, that&#39;s what the <code>ExchangeFilterFunction</code> is for. You&#39;re also trying to mutate the response headers and not the request headers. Regardless of any of this, from your question it appears your library is actually some kind of gateway. If that&#39;s the case, then why are you re-inventing the wheel even though <a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">Spring Cloud Gateway</a> exists?"}],"owner":{"account_id":1598494,"reputation":5037,"user_id":1480052,"accept_rate":72,"display_name":"praxmon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702076207,"creation_date":1702076207,"question_id":77629544,"body_markdown":"What I am trying to achieve:\r\n\r\nAn app calls my library API. My library, which is a spring app, then makes an outgoing call and adds a header in that outgoing call. It gets the response and returns it to the original app that called the library API.\r\n\r\nDiagrammatically:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy controller is as follows:\r\n\r\n\r\n    \r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v2&quot;)\r\n    public class WebfluxController {\r\n    \r\n        private final WebClient webClient;\r\n    \r\n        public WebfluxController() {\r\n            this.webClient = WebClient.builder().baseUrl(&quot;www.sample-service-url.com&quot;).build();\r\n        }\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n            webClient.get().uri(&quot;/&quot;).retrieve().bodyToMono(String.class).block();\r\n            return &quot;Hello&quot;;\r\n        }\r\n    }\r\n\r\nI have defined a `webfilter` as well. The code for that is as follows:\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.server.ServerWebExchange;\r\n    import org.springframework.web.server.WebFilter;\r\n    import org.springframework.web.server.WebFilterChain;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    @Component\r\n    public class OutgoingWebfluxInterceptor implements WebFilter {\r\n    \r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            System.out.println(&quot;OutgoingWebfluxInterceptor: Before sending the request...&quot;);\r\n            exchange.getResponse().getHeaders().add(&quot;X-My-Custom-Header&quot;, &quot;MyCustomHeaderValue&quot;);\r\n            return chain.filter(exchange);\r\n        }\r\n    }\r\n\r\nNow on making the outgoing call I can see that the call is not hitting the interceptor that I defined. I checked the spring docs and it states that webfilter is *Contract for interception-style, chained processing of Web requests that may be used to implement cross-cutting, application-agnostic requirements such as security, timeouts, and others.*\r\n\r\nThe documentation link: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html\r\n\r\nNow I have come across the [ExchangeFilterFunction][2] which can be used to add the same functionality. I have tried it and it works. I can see the call hitting the filter function. My code now is:\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.reactive.function.client.ClientRequest;\r\n    import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v2&quot;)\r\n    public class WebfluxController {\r\n    \r\n        private final WebClient webClient;\r\n    \r\n        public WebfluxController() {\r\n            this.webClient = WebClient.builder()\r\n                    .baseUrl(&quot;www.sample-service-url.com&quot;)\r\n                    .filter(addHeader())\r\n                    .build();\r\n        }\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n            webClient.get().uri(&quot;/&quot;).retrieve().bodyToMono(String.class).block();\r\n            return &quot;Hello&quot;;\r\n        }\r\n    \r\n        private static ExchangeFilterFunction addHeader() {\r\n            return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n                ClientRequest.Builder builder = ClientRequest.from(clientRequest);\r\n                builder.header(&quot;Header&quot;, &quot;MyCustomHeaderValue&quot;);\r\n                return Mono.just(builder.build());\r\n            });\r\n        }\r\n    }\r\n\r\nMy questions are:\r\n\r\n 1. Why does the webfilter not work when I want to use it to intercept outgoing requests? Specifically what does: *Contract for interception-style, chained processing of Web requests that may be used to implement cross-cutting, application-agnostic requirements such as security, timeouts, and others.* mean?\r\n 2. In this example I have added the filter to the webclient when I have declared it. Does the filter need to be attached every time? How do I provide a single `addHeader()` filter to all the webclients that I declare throughout my library?\r\n\r\n  [1]: https://i.stack.imgur.com/CzlQi.png\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html","title":"Intercept outgoing http requests from spring application","body":"<p>What I am trying to achieve:</p>\n<p>An app calls my library API. My library, which is a spring app, then makes an outgoing call and adds a header in that outgoing call. It gets the response and returns it to the original app that called the library API.</p>\n<p>Diagrammatically:</p>\n<p><a href=\"https://i.stack.imgur.com/CzlQi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CzlQi.png\" alt=\"enter image description here\" /></a></p>\n<p>My controller is as follows:</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@RestController\n@RequestMapping(&quot;/api/v2&quot;)\npublic class WebfluxController {\n\n    private final WebClient webClient;\n\n    public WebfluxController() {\n        this.webClient = WebClient.builder().baseUrl(&quot;www.sample-service-url.com&quot;).build();\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        webClient.get().uri(&quot;/&quot;).retrieve().bodyToMono(String.class).block();\n        return &quot;Hello&quot;;\n    }\n}\n</code></pre>\n<p>I have defined a <code>webfilter</code> as well. The code for that is as follows:</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport org.springframework.web.server.ServerWebExchange;\nimport org.springframework.web.server.WebFilter;\nimport org.springframework.web.server.WebFilterChain;\nimport reactor.core.publisher.Mono;\n\n@Component\npublic class OutgoingWebfluxInterceptor implements WebFilter {\n\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        System.out.println(&quot;OutgoingWebfluxInterceptor: Before sending the request...&quot;);\n        exchange.getResponse().getHeaders().add(&quot;X-My-Custom-Header&quot;, &quot;MyCustomHeaderValue&quot;);\n        return chain.filter(exchange);\n    }\n}\n</code></pre>\n<p>Now on making the outgoing call I can see that the call is not hitting the interceptor that I defined. I checked the spring docs and it states that webfilter is <em>Contract for interception-style, chained processing of Web requests that may be used to implement cross-cutting, application-agnostic requirements such as security, timeouts, and others.</em></p>\n<p>The documentation link: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html</a></p>\n<p>Now I have come across the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"nofollow noreferrer\">ExchangeFilterFunction</a> which can be used to add the same functionality. I have tried it and it works. I can see the call hitting the filter function. My code now is:</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.reactive.function.client.ClientRequest;\nimport org.springframework.web.reactive.function.client.ExchangeFilterFunction;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport reactor.core.publisher.Mono;\n\n\n@RestController\n@RequestMapping(&quot;/api/v2&quot;)\npublic class WebfluxController {\n\n    private final WebClient webClient;\n\n    public WebfluxController() {\n        this.webClient = WebClient.builder()\n                .baseUrl(&quot;www.sample-service-url.com&quot;)\n                .filter(addHeader())\n                .build();\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        webClient.get().uri(&quot;/&quot;).retrieve().bodyToMono(String.class).block();\n        return &quot;Hello&quot;;\n    }\n\n    private static ExchangeFilterFunction addHeader() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            ClientRequest.Builder builder = ClientRequest.from(clientRequest);\n            builder.header(&quot;Header&quot;, &quot;MyCustomHeaderValue&quot;);\n            return Mono.just(builder.build());\n        });\n    }\n}\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li>Why does the webfilter not work when I want to use it to intercept outgoing requests? Specifically what does: <em>Contract for interception-style, chained processing of Web requests that may be used to implement cross-cutting, application-agnostic requirements such as security, timeouts, and others.</em> mean?</li>\n<li>In this example I have added the filter to the webclient when I have declared it. Does the filter need to be attached every time? How do I provide a single <code>addHeader()</code> filter to all the webclients that I declare throughout my library?</li>\n</ol>\n"},{"tags":["java","postman","serversocket"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1644629694,"post_id":71088167,"comment_id":125665427,"body_markdown":"Postman provides extensive debugging/logging output. What do you see in Postman? Do you see two connections?","body":"Postman provides extensive debugging/logging output. What do you see in Postman? Do you see two connections?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1644631731,"post_id":71088167,"comment_id":125665668,"body_markdown":"This is normal with Postman and Socket connections - had the same issue when using Postman for a ServerSocket (I basically just made some dummy logic for it that if body is null, meaning postmans first connection return empty response). just use curl or something else if you don&#39;t want this behavior","body":"This is normal with Postman and Socket connections - had the same issue when using Postman for a ServerSocket (I basically just made some dummy logic for it that if body is null, meaning postmans first connection return empty response). just use curl or something else if you don&#39;t want this behavior"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1644632756,"post_id":71088167,"comment_id":125665775,"body_markdown":"*&quot;I&#39;m trying to create a server in Java using Sockets.&quot;* -  Please ... don&#39;t.  Use an existing server-side HTTP stack.  The world doesn&#39;t need yet another hand-built and probably non-compliant web service to deal with. If you are doing this to &quot;learn how HTTP works&quot;, just read the specs / RFCs, or find and read the code of an existing (decent) implementation of the server side.","body":"<i>&quot;I&#39;m trying to create a server in Java using Sockets.&quot;</i> -  Please ... don&#39;t.  Use an existing server-side HTTP stack.  The world doesn&#39;t need yet another hand-built and probably non-compliant web service to deal with. If you are doing this to &quot;learn how HTTP works&quot;, just read the specs / RFCs, or find and read the code of an existing (decent) implementation of the server side."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1644632868,"post_id":71088167,"comment_id":125665788,"body_markdown":"(If you are doing this as part of a course ... someone has their teaching priorities wrong ...)","body":"(If you are doing this as part of a course ... someone has their teaching priorities wrong ...)"},{"owner":{"account_id":23868831,"reputation":23,"user_id":17870817,"display_name":"Emily"},"score":0,"creation_date":1644716293,"post_id":71088167,"comment_id":125680068,"body_markdown":"@JimGarrison no, I only see one connection","body":"@JimGarrison no, I only see one connection"},{"owner":{"account_id":23868831,"reputation":23,"user_id":17870817,"display_name":"Emily"},"score":0,"creation_date":1644716316,"post_id":71088167,"comment_id":125680072,"body_markdown":"@JAsgarov Thank you for this! Is it normal behavior for the requests from postman to sometimes fail randomly as well? It usually works fine, but sometimes I will have to restart my server for the requests to work","body":"@JAsgarov Thank you for this! Is it normal behavior for the requests from postman to sometimes fail randomly as well? It usually works fine, but sometimes I will have to restart my server for the requests to work"},{"owner":{"account_id":23868831,"reputation":23,"user_id":17870817,"display_name":"Emily"},"score":0,"creation_date":1644716351,"post_id":71088167,"comment_id":125680076,"body_markdown":"@StephenC of course, I would use already existing technology if I could. This is a class exercise","body":"@StephenC of course, I would use already existing technology if I could. This is a class exercise"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1644741047,"post_id":71088167,"comment_id":125682705,"body_markdown":"No, the latter is not normal. When I had to write a Java SocketServer for my university the whole class had the same issue of Postman making dummy/check connection with no parameters/empty body first - that is just something you have to expect. Doesn&#39;t happen with curl though. But the second postman request  behaves completely normally so I would debug that.","body":"No, the latter is not normal. When I had to write a Java SocketServer for my university the whole class had the same issue of Postman making dummy/check connection with no parameters/empty body first - that is just something you have to expect. Doesn&#39;t happen with curl though. But the second postman request  behaves completely normally so I would debug that."}],"answers":[{"tags":[],"owner":{"account_id":23326516,"reputation":125,"user_id":17403620,"display_name":"Voxel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702075266,"creation_date":1702073818,"answer_id":77629428,"question_id":71088167,"body_markdown":"Copying from the comments:\r\n\r\n&gt; This is normal with Postman and Socket connections - I had the same issue when using Postman for a ServerSocket (I basically just made some dummy logic for it that if body is null, meaning postmans first connection return empty response). \r\n&gt;\r\n&gt; Just use curl or something else if you don&#39;t want this behavior.\r\n\r\nUsing curl (or the python requests library) worked for me.","title":"Client connects twice when using Postman to send requests?","body":"<p>Copying from the comments:</p>\n<blockquote>\n<p>This is normal with Postman and Socket connections - I had the same issue when using Postman for a ServerSocket (I basically just made some dummy logic for it that if body is null, meaning postmans first connection return empty response).</p>\n<p>Just use curl or something else if you don't want this behavior.</p>\n</blockquote>\n<p>Using curl (or the python requests library) worked for me.</p>\n"}],"owner":{"account_id":23868831,"reputation":23,"user_id":17870817,"display_name":"Emily"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702075266,"creation_date":1644628120,"question_id":71088167,"body_markdown":"I&#39;m trying to create a server in Java using Sockets. I create a ServerSocket using ```ServerSocket serverSocket = new ServerSocket(port);``` and then attempt to connect using ```Socket clientSocket = serverSocket.accept();```. I send the request through Postman.\r\n\r\nMy issue is that whenever I send a request, I get the output:\r\n\r\n```\r\nNew client connected\r\ninput: null\r\nclosed!\r\nNew client connected\r\ninput: PUT / HTTP/1.1\r\nclosed!\r\n```\r\n\r\nI&#39;m confused as to why the client connects twice, and why the first request is always empty.\r\n\r\nFull code:\r\n\r\n```\r\nServerSocket serverSocket = new ServerSocket(port);\r\n\r\nwhile (true) {\r\n                Socket clientSocket = serverSocket.accept();\r\n                System.out.println(&quot;New client connected&quot;);\r\n\r\n                BufferedReader br = new BufferedReader(new InputStreamReader((clientSocket.getInputStream())));\r\n\r\n                String input = br.readLine();\r\n                System.out.println(&quot;input: &quot; + input);\r\n\r\n                clientSocket.close();\r\n                System.out.println(&quot;closed!&quot;);\r\n}\r\n```","title":"Client connects twice when using Postman to send requests?","body":"<p>I'm trying to create a server in Java using Sockets. I create a ServerSocket using <code>ServerSocket serverSocket = new ServerSocket(port);</code> and then attempt to connect using <code>Socket clientSocket = serverSocket.accept();</code>. I send the request through Postman.</p>\n<p>My issue is that whenever I send a request, I get the output:</p>\n<pre><code>New client connected\ninput: null\nclosed!\nNew client connected\ninput: PUT / HTTP/1.1\nclosed!\n</code></pre>\n<p>I'm confused as to why the client connects twice, and why the first request is always empty.</p>\n<p>Full code:</p>\n<pre><code>ServerSocket serverSocket = new ServerSocket(port);\n\nwhile (true) {\n                Socket clientSocket = serverSocket.accept();\n                System.out.println(&quot;New client connected&quot;);\n\n                BufferedReader br = new BufferedReader(new InputStreamReader((clientSocket.getInputStream())));\n\n                String input = br.readLine();\n                System.out.println(&quot;input: &quot; + input);\n\n                clientSocket.close();\n                System.out.println(&quot;closed!&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","ldap","spring-ldap","spring-security-ldap"],"owner":{"account_id":22503959,"reputation":43,"user_id":16699867,"display_name":"Emilianolight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702074512,"creation_date":1702074512,"question_id":77629463,"body_markdown":"I don&#39;t know if anyone has used the LDAP library to access the active directory... is it possible to search using the domain? in the &quot;eFilter&quot; variable when I pass the user &quot;emujica&quot; it manages to obtain the user but if I pass it the domain, for example &quot;domain\\emujica&quot; it fails to obtain the user... Does anyone know? How can I do it?\r\n\r\n    \t\t\tDefaultValuesAuthenticationSourceDecorator as = new DefaultValuesAuthenticationSourceDecorator();\r\n\r\n\t\t\tas.setDefaultUser(userDn);\r\n\t\t\tas.setDefaultPassword(password);\r\n\r\n\t\t\tLdapTemplate ldapTemplate = new LdapTemplate(contextSource);\r\n\t\t\tAbstractContext abstractContextMapper = new AbstractContext();\r\n\t\t\tldapTemplate.setIgnorePartialResultException(true);\r\n\r\n\t\t\t//Search \r\n\t\t\tldapTemplate.search(DistinguishedName.EMPTY_PATH, eFilter.toString(), SearchControls.SUBTREE_SCOPE, abstractContextMapper);\r\n\r\n\r\n\r\n","title":"Search by domain in LDAP Springboot","body":"<p>I don't know if anyone has used the LDAP library to access the active directory... is it possible to search using the domain? in the &quot;eFilter&quot; variable when I pass the user &quot;emujica&quot; it manages to obtain the user but if I pass it the domain, for example &quot;domain\\emujica&quot; it fails to obtain the user... Does anyone know? How can I do it?</p>\n<pre><code>            DefaultValuesAuthenticationSourceDecorator as = new DefaultValuesAuthenticationSourceDecorator();\n\n        as.setDefaultUser(userDn);\n        as.setDefaultPassword(password);\n\n        LdapTemplate ldapTemplate = new LdapTemplate(contextSource);\n        AbstractContext abstractContextMapper = new AbstractContext();\n        ldapTemplate.setIgnorePartialResultException(true);\n\n        //Search \n        ldapTemplate.search(DistinguishedName.EMPTY_PATH, eFilter.toString(), SearchControls.SUBTREE_SCOPE, abstractContextMapper);\n</code></pre>\n"},{"tags":["java","rest","generics","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1702275363,"post_id":77629461,"comment_id":136871929,"body_markdown":"I think it should work, but I would need to check. Do you have a sample application anywhere I can use to debug?","body":"I think it should work, but I would need to check. Do you have a sample application anywhere I can use to debug?"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702074481,"creation_date":1702074481,"question_id":77629461,"body_markdown":"I am using Quarkus REST client (with annotation @RegisterRestClient) to call one of the services. I have implemented a post method in the Rest Client class like below:\r\n\r\n    @POST\r\n    Response postData(EmployeeDTO emp)\r\n\r\nThis call works fine when the parameter type is specific. However, this operation can take one of many types of data so the callers have a generic implementation before calling this like below:\r\n\r\n    callingMethod(U request){\r\n       restClient.postData(Entity.json(request))\r\n    }\r\n\r\nFor this i tried changing the client to \r\n`restClient.postData(Entity&lt;U&gt;)`\r\n\r\nbut then the actual call doesn&#39;t seem to recognize the actual json and throws the validation failures.\r\n\r\nCaused by: javax.json.JsonException: JSON invalid for schema\r\n\r\nAny idea how this can be accomplished and if it is possible?\r\n\r\nThank you in advance\r\nSG\r\n\r\n","title":"Quarkus REST Client call with generic type","body":"<p>I am using Quarkus REST client (with annotation @RegisterRestClient) to call one of the services. I have implemented a post method in the Rest Client class like below:</p>\n<pre><code>@POST\nResponse postData(EmployeeDTO emp)\n</code></pre>\n<p>This call works fine when the parameter type is specific. However, this operation can take one of many types of data so the callers have a generic implementation before calling this like below:</p>\n<pre><code>callingMethod(U request){\n   restClient.postData(Entity.json(request))\n}\n</code></pre>\n<p>For this i tried changing the client to\n<code>restClient.postData(Entity&lt;U&gt;)</code></p>\n<p>but then the actual call doesn't seem to recognize the actual json and throws the validation failures.</p>\n<p>Caused by: javax.json.JsonException: JSON invalid for schema</p>\n<p>Any idea how this can be accomplished and if it is possible?</p>\n<p>Thank you in advance\nSG</p>\n"},{"tags":["java","character-encoding","jaxb","marshalling","jakarta-migration"],"answers":[{"comments":[{"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"score":0,"creation_date":1702058845,"post_id":77628416,"comment_id":136855084,"body_markdown":"Thanks; I have already add      marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;); without success. I check jakarta documentation but I found nothing","body":"Thanks; I have already add      marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;); without success. I check jakarta documentation but I found nothing"},{"owner":{"account_id":15062967,"reputation":50571,"user_id":10871073,"display_name":"Adrian Mole"},"score":0,"creation_date":1702294707,"post_id":77628416,"comment_id":136874622,"body_markdown":"https://meta.stackoverflow.com/q/421831/10871073","body":"<a href=\"https://meta.stackoverflow.com/q/421831/10871073\">meta.stackoverflow.com/q/421831/10871073</a>"}],"tags":[],"owner":{"account_id":29520955,"reputation":1,"user_id":22623755,"display_name":"Aamir Ali"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702058370,"creation_date":1702058370,"answer_id":77628416,"question_id":77628375,"body_markdown":"It seems like you&#39;re facing an issue with character encoding after migrating from javax.xml.bind to jakarta.xml.bind. In newer versions, there might be changes in default settings that affect the encoding behavior.\r\n\r\nTry setting the encoding explicitly in your Marshaller:\r\n\r\n    try {\r\n         final JAXBContext jaxbContext = getJaxbContext(classes);\r\n          marshaller = jaxbContext.createMarshaller();\r\n\r\n          // Set encoding explicitly\r\n         marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\r\n\r\n         marshaller.marshal(object, bos);\r\n    } catch (final JAXBException ex) {\r\n         throw new HttpMessageConversionException(\r\n            &quot;Could not create Marshaller for class [&quot; + classes + &quot;]: &quot; + \r\n         ex.getMessage(), ex);\r\n    }\r\n\r\nMake sure to replace &quot;UTF-8&quot; with the appropriate encoding you are using in your application.\r\n\r\nAdditionally, check if there are any other properties that need to be set for compatibility with the new version. You can refer to the documentation or release notes of the Jakarta XML Binding (JAXB) implementation you are using for any additional configuration changes.","title":"Java migration JDK 11 to JDK 17 fail Junit Test with Jakarta Marshal","body":"<p>It seems like you're facing an issue with character encoding after migrating from javax.xml.bind to jakarta.xml.bind. In newer versions, there might be changes in default settings that affect the encoding behavior.</p>\n<p>Try setting the encoding explicitly in your Marshaller:</p>\n<pre><code>try {\n     final JAXBContext jaxbContext = getJaxbContext(classes);\n      marshaller = jaxbContext.createMarshaller();\n\n      // Set encoding explicitly\n     marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\n\n     marshaller.marshal(object, bos);\n} catch (final JAXBException ex) {\n     throw new HttpMessageConversionException(\n        &quot;Could not create Marshaller for class [&quot; + classes + &quot;]: &quot; + \n     ex.getMessage(), ex);\n}\n</code></pre>\n<p>Make sure to replace &quot;UTF-8&quot; with the appropriate encoding you are using in your application.</p>\n<p>Additionally, check if there are any other properties that need to be set for compatibility with the new version. You can refer to the documentation or release notes of the Jakarta XML Binding (JAXB) implementation you are using for any additional configuration changes.</p>\n"},{"tags":[],"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702062421,"creation_date":1702062421,"answer_id":77628679,"question_id":77628375,"body_markdown":"I found it !\r\n\r\nMArshaller work well, but just after, xml is return with bos.toString. I have to indicate it that it&#39;s UTF8\r\n\r\n    return bos.toString(StandardCharsets.UTF_8);","title":"Java migration JDK 11 to JDK 17 fail Junit Test with Jakarta Marshal","body":"<p>I found it !</p>\n<p>MArshaller work well, but just after, xml is return with bos.toString. I have to indicate it that it's UTF8</p>\n<pre><code>return bos.toString(StandardCharsets.UTF_8);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702073085,"creation_date":1702073085,"answer_id":77629386,"question_id":77628375,"body_markdown":"If you&#39;re targeting SpringBoot 2.7.18 (even with JDK17), you should stick to `javax` imports.\r\n\r\n`jakarta` support was introduced in SpringBoot 3.x as part of the Spring 6 plan to move to JakartaEE9 and JDK17 baseline\r\n\r\nSee [this post](https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6) from Spring blog for reference","title":"Java migration JDK 11 to JDK 17 fail Junit Test with Jakarta Marshal","body":"<p>If you're targeting SpringBoot 2.7.18 (even with JDK17), you should stick to <code>javax</code> imports.</p>\n<p><code>jakarta</code> support was introduced in SpringBoot 3.x as part of the Spring 6 plan to move to JakartaEE9 and JDK17 baseline</p>\n<p>See <a href=\"https://spring.io/blog/2021/09/02/a-java-17-and-jakarta-ee-9-baseline-for-spring-framework-6\" rel=\"nofollow noreferrer\">this post</a> from Spring blog for reference</p>\n"}],"owner":{"account_id":17122673,"reputation":137,"user_id":12390562,"display_name":"Broshet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1702073085,"creation_date":1702057893,"question_id":77628375,"body_markdown":"I have an application on JDK11 with Spring Boot 2.7.11 and a Junit Test that use jaxb javax.xml.bind.Marshaller. All is OK\r\n\r\nBut I have to migrate to JDK17 with Spring Boot 2.7.18. So I have replace all my import of javax.xml.bind by jakarta.xml.bind.\r\n\r\nAfter that, my Junit Test is failed becaus marshal produce XML object with wrong encoding char\r\n\r\n  \r\n\r\n     try {\r\n          final JAXBContext jaxbContext = getJaxbContext(classes);\r\n          marshaller = jaxbContext.createMarshaller();\r\n          marshaller.marshal(object, bos);\r\n        } catch (final JAXBException ex) {\r\n          throw new HttpMessageConversionException(\r\n              &quot;Could not create Marshaller for class [&quot; + classes + &quot;]: &quot; + ex.getMessage(), ex);\r\n        }\r\n\r\n   \r\nOn marshaller.marshal(object, bos);, object contain all correct charecter but after marshaller, charter ar not ok\r\n\r\n&gt; Before Marshal : lorsDe=Retour &#224; la maison \r\n\r\n&gt; After Marsha in XML : &lt;LORS_DE&gt;Retour &#195;&#160; la maison&lt;/LORS_DE&gt;\r\n\r\nI don&#39;t understand where is the problem. Can you help me ?","title":"Java migration JDK 11 to JDK 17 fail Junit Test with Jakarta Marshal","body":"<p>I have an application on JDK11 with Spring Boot 2.7.11 and a Junit Test that use jaxb javax.xml.bind.Marshaller. All is OK</p>\n<p>But I have to migrate to JDK17 with Spring Boot 2.7.18. So I have replace all my import of javax.xml.bind by jakarta.xml.bind.</p>\n<p>After that, my Junit Test is failed becaus marshal produce XML object with wrong encoding char</p>\n<pre><code> try {\n      final JAXBContext jaxbContext = getJaxbContext(classes);\n      marshaller = jaxbContext.createMarshaller();\n      marshaller.marshal(object, bos);\n    } catch (final JAXBException ex) {\n      throw new HttpMessageConversionException(\n          &quot;Could not create Marshaller for class [&quot; + classes + &quot;]: &quot; + ex.getMessage(), ex);\n    }\n</code></pre>\n<p>On marshaller.marshal(object, bos);, object contain all correct charecter but after marshaller, charter ar not ok</p>\n<blockquote>\n<p>Before Marshal : lorsDe=Retour à la maison</p>\n</blockquote>\n<blockquote>\n<p>After Marsha in XML : &lt;LORS_DE&gt;Retour Ã  la maison&lt;/LORS_DE&gt;</p>\n</blockquote>\n<p>I don't understand where is the problem. Can you help me ?</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1702068275,"post_id":77629072,"comment_id":136856339,"body_markdown":"And yet you have posted none of the &quot;fix&quot;es you have tried.","body":"And yet you have posted none of the &quot;fix&quot;es you have tried."},{"owner":{"account_id":29904679,"reputation":1,"user_id":22917505,"display_name":"terp"},"score":0,"creation_date":1702068406,"post_id":77629072,"comment_id":136856355,"body_markdown":"So what it makes the whole thing invalid?","body":"So what it makes the whole thing invalid?"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1702068432,"post_id":77629072,"comment_id":136856358,"body_markdown":"Welcome to Stack Overflow!  In what way is your code not working as expected?  Please elaborate on the specific problem you are observing and what [debugging](https://stackoverflow.com/q/25385173/328193) you have done.  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  In what way is your code not working as expected?  Please elaborate on the specific problem you are observing and what <a href=\"https://stackoverflow.com/q/25385173/328193\">debugging</a> you have done.  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1702069643,"post_id":77629072,"comment_id":136856512,"body_markdown":"I don&#39;t understand what you&#39;re asking.","body":"I don&#39;t understand what you&#39;re asking."},{"owner":{"account_id":29904679,"reputation":1,"user_id":22917505,"display_name":"terp"},"score":0,"creation_date":1702070013,"post_id":77629072,"comment_id":136856560,"body_markdown":"@shmosel The top 2 lines of the code is static, i have to use the 2 classes given and make the code so it will have the sum of the even/odd integers at the top based on user input.","body":"@shmosel The top 2 lines of the code is static, i have to use the 2 classes given and make the code so it will have the sum of the even/odd integers at the top based on user input."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1702070547,"post_id":77629072,"comment_id":136856623,"body_markdown":"To rewrite the screen (e.g. without overflowing to another page) is possible with some consoles, and it&#39;s a bit complex as -- one approach -- involves sending the backspace key many times.  Here&#39;s one way: https://stackoverflow.com/q/5859588/3196753","body":"To rewrite the screen (e.g. without overflowing to another page) is possible with some consoles, and it&#39;s a bit complex as -- one approach -- involves sending the backspace key many times.  Here&#39;s one way: <a href=\"https://stackoverflow.com/q/5859588/3196753\">stackoverflow.com/q/5859588/3196753</a>"},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1702070660,"post_id":77629072,"comment_id":136856638,"body_markdown":"With regards to your example, it looks just fine.  Most apps will just send a bunch of newlines to mimic the screen refreshing.  This can get tricky as &quot;tricking&quot; the screen to refresh often involves spitting everything out again (including your questions), whilst changing only the lines you need.","body":"With regards to your example, it looks just fine.  Most apps will just send a bunch of newlines to mimic the screen refreshing.  This can get tricky as &quot;tricking&quot; the screen to refresh often involves spitting everything out again (including your questions), whilst changing only the lines you need."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1702070715,"post_id":77629072,"comment_id":136856646,"body_markdown":"*i have to use the 2 classes given* - what two classes? I only see one. Do you know how to check if a number is even? Can you show your attempts? It&#39;s hard to help when we don&#39;t know what you&#39;re stuck on.","body":"<i>i have to use the 2 classes given</i> - what two classes? I only see one. Do you know how to check if a number is even? Can you show your attempts? It&#39;s hard to help when we don&#39;t know what you&#39;re stuck on."},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1702071078,"post_id":77629072,"comment_id":136856685,"body_markdown":"@shmosel I disagree.  Although his question is poorly worded, if you run the example, it&#39;s fairly obvious: `Those 2 lines have to display at the top of the output only one time.`. He&#39;s trying to rewrite the console, which in my experience is not a trivial exercise.  In regards to &quot;two classes&quot;, my best guest is that the OP meant to say &quot;two functions&quot;.","body":"@shmosel I disagree.  Although his question is poorly worded, if you run the example, it&#39;s fairly obvious: <code>Those 2 lines have to display at the top of the output only one time.</code>. He&#39;s trying to rewrite the console, which in my experience is not a trivial exercise.  In regards to &quot;two classes&quot;, my best guest is that the OP meant to say &quot;two functions&quot;."},{"owner":{"account_id":29904679,"reputation":1,"user_id":22917505,"display_name":"terp"},"score":0,"creation_date":1702071570,"post_id":77629072,"comment_id":136856757,"body_markdown":"@tresf i am very much a beginner to coding, my mistake i am refering to 2 functions. Im in a very beginner class learning java and having the page refresh is extremely out of the range of stuff we are learning. Is there any other way the code will output those results without going into what you described?","body":"@tresf i am very much a beginner to coding, my mistake i am refering to 2 functions. Im in a very beginner class learning java and having the page refresh is extremely out of the range of stuff we are learning. Is there any other way the code will output those results without going into what you described?"},{"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"score":0,"creation_date":1702072553,"post_id":77629072,"comment_id":136856879,"body_markdown":"@terp yes, welcome to the website, I hope you stick around and help others in the future.   I&#39;ve posted an answer below which I believe answers your question as well as a link above which addresses a similar type of problem.  If you find the answer helpful, please mark it as such.  I believe you&#39;re trying to &quot;rewrite the console&quot;, which is a bit more advanced than you may think, so I&#39;ve provided a much simpler example below.","body":"@terp yes, welcome to the website, I hope you stick around and help others in the future.   I&#39;ve posted an answer below which I believe answers your question as well as a link above which addresses a similar type of problem.  If you find the answer helpful, please mark it as such.  I believe you&#39;re trying to &quot;rewrite the console&quot;, which is a bit more advanced than you may think, so I&#39;ve provided a much simpler example below."}],"answers":[{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702072683,"creation_date":1702072284,"answer_id":77629342,"question_id":77629072,"body_markdown":"&gt; can someone tell [how to] determine the top 2 lines of the output so they stay in the same place as the output below states and will display the numbers based on what the user enters.\r\n\r\nHere&#39;s a crude &quot;overflowing console&quot; version.  It gives the illusion of a static header.\r\n* Repeats the header each time an answer is provided\r\n* Repeats the questions that were already answered as well as the answers to mimic the behavior of a static header\r\n\r\n\r\n```java\r\npackage com.company;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n\r\n    private static int runningSum;\r\n    private static int count;\r\n    private static String questionsOutput;\r\n\r\n    private static void runningSumWithCount(int num) {\r\n        runningSum += num;\r\n        count++;\r\n    }\r\n\r\n    private static String getHeader() {\r\n        return String.format(\r\n                &quot;Sum of valid integers: %d\\n&quot; +\r\n                &quot;Number of valid integers: %d\\n&quot; +\r\n                &quot;------------------------------\\n&quot;, runningSum, count);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Initialize variables\r\n        questionsOutput = &quot;&quot;;\r\n        runningSum = 0;\r\n        count = 0;\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n\r\n\r\n        int userInput;\r\n\r\n        do {\r\n            // Show the header\r\n            System.out.println(getHeader());\r\n\r\n            // Prompt the user to enter an integer\r\n            questionsOutput += &quot;Enter an integer between 1 through 10 or enter 999 to exit): &quot;;\r\n            System.out.print(questionsOutput); // print, not println\r\n\r\n            // Get the next value\r\n            userInput = scanner.nextInt();\r\n            System.out.println(&quot;\\n&quot;); // Newlines for formatting\r\n\r\n            // Save the value in the output\r\n            // Make sure to add the newline manually to match the question format\r\n            questionsOutput += userInput + &quot;\\n&quot;;\r\n\r\n            // Check if the input is within the valid range\r\n            if (userInput &gt;= 1 &amp;&amp; userInput &lt;= 10) {\r\n                // Update runningSum and count with the valid input\r\n                runningSumWithCount(userInput);\r\n            } else if (userInput != 999) {\r\n                // Display an error message for invalid input\r\n                System.out.println(&quot;Invalid input. Try again.&quot;);\r\n            }\r\n\r\n        } while (userInput != 999);\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```","title":"Java classing help to make a line based on user input run before the looping","body":"<blockquote>\n<p>can someone tell [how to] determine the top 2 lines of the output so they stay in the same place as the output below states and will display the numbers based on what the user enters.</p>\n</blockquote>\n<p>Here's a crude &quot;overflowing console&quot; version.  It gives the illusion of a static header.</p>\n<ul>\n<li>Repeats the header each time an answer is provided</li>\n<li>Repeats the questions that were already answered as well as the answers to mimic the behavior of a static header</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.util.Scanner;\n\npublic class App {\n\n    private static int runningSum;\n    private static int count;\n    private static String questionsOutput;\n\n    private static void runningSumWithCount(int num) {\n        runningSum += num;\n        count++;\n    }\n\n    private static String getHeader() {\n        return String.format(\n                &quot;Sum of valid integers: %d\\n&quot; +\n                &quot;Number of valid integers: %d\\n&quot; +\n                &quot;------------------------------\\n&quot;, runningSum, count);\n    }\n\n    public static void main(String[] args) {\n        // Initialize variables\n        questionsOutput = &quot;&quot;;\n        runningSum = 0;\n        count = 0;\n\n        Scanner scanner = new Scanner(System.in);\n\n\n\n        int userInput;\n\n        do {\n            // Show the header\n            System.out.println(getHeader());\n\n            // Prompt the user to enter an integer\n            questionsOutput += &quot;Enter an integer between 1 through 10 or enter 999 to exit): &quot;;\n            System.out.print(questionsOutput); // print, not println\n\n            // Get the next value\n            userInput = scanner.nextInt();\n            System.out.println(&quot;\\n&quot;); // Newlines for formatting\n\n            // Save the value in the output\n            // Make sure to add the newline manually to match the question format\n            questionsOutput += userInput + &quot;\\n&quot;;\n\n            // Check if the input is within the valid range\n            if (userInput &gt;= 1 &amp;&amp; userInput &lt;= 10) {\n                // Update runningSum and count with the valid input\n                runningSumWithCount(userInput);\n            } else if (userInput != 999) {\n                // Display an error message for invalid input\n                System.out.println(&quot;Invalid input. Try again.&quot;);\n            }\n\n        } while (userInput != 999);\n\n        scanner.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29904679,"reputation":1,"user_id":22917505,"display_name":"terp"},"comment_count":11,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702073058,"answer_count":1,"score":-3,"last_activity_date":1702072683,"creation_date":1702068038,"question_id":77629072,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n\r\n    private static int runningSum = 0;\r\n    private static int count = 0;\r\n\r\n    private static void runningSumWithCount(int num) {\r\n        runningSum += num;\r\n        count++;\r\n    }\r\n\r\n    private static void displayResults() {\r\n        System.out.println(&quot;\\nProgram Results...&quot;);\r\n        System.out.println(&quot;Sum of valid integers: &quot; + runningSum);\r\n        System.out.println(&quot;Number of valid integers: &quot; + count);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Sum of even integers: x&quot;);\r\n        System.out.println(&quot;Sum of odd integers: x&quot;);\r\n        System.out.println(&quot;\\nRunning Sum / Counter Application\\n=================================&quot;);\r\n\r\n        int userInput;\r\n\r\n        do {\r\n            // Prompt the user to enter an integer\r\n            System.out.print(&quot;Enter an integer between 1 through 10 or enter 999 to exit): &quot;);\r\n            userInput = scanner.nextInt();\r\n\r\n            // Check if the input is within the valid range\r\n            if (userInput &gt;= 1 &amp;&amp; userInput &lt;= 10) {\r\n                // Update runningSum and count with the valid input\r\n                runningSumWithCount(userInput);\r\n            } else if (userInput != 999) {\r\n                // Display an error message for invalid input\r\n                System.out.println(&quot;Invalid input. Try again.&quot;);\r\n            }\r\n\r\n        } while (userInput != 999);\r\n\r\n        displayResults();\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\ncan someone tell me how use SumOddIntegers() and SumEvenIntegers() to determine the top 2 lines of the output so they stay in the same place as the output below states and will display the numbers based on what the user enters.\r\n\r\nSum of even integers:\r\n\r\nSum of odd integers:\r\n\r\nRunning Sum / Counter Application\r\n\r\nEnter an integer between 1 through 10 or enter 999 to exit):  \r\n\r\nProgram Results...\r\n\r\nSum of valid integers: \r\n\r\nNumber of valid integers: \r\n\r\nEvery fix i have tired resulted with the Sum of even integers and sum of odd integers being static at the top of the page and being added into the loop and changing as it goes but that will not work for this. Those 2 lines have to display at the top of the output only one time.","title":"Java classing help to make a line based on user input run before the looping","body":"<pre><code>import java.util.Scanner;\n\npublic class App {\n\n    private static int runningSum = 0;\n    private static int count = 0;\n\n    private static void runningSumWithCount(int num) {\n        runningSum += num;\n        count++;\n    }\n\n    private static void displayResults() {\n        System.out.println(&quot;\\nProgram Results...&quot;);\n        System.out.println(&quot;Sum of valid integers: &quot; + runningSum);\n        System.out.println(&quot;Number of valid integers: &quot; + count);\n    }\n\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;Sum of even integers: x&quot;);\n        System.out.println(&quot;Sum of odd integers: x&quot;);\n        System.out.println(&quot;\\nRunning Sum / Counter Application\\n=================================&quot;);\n\n        int userInput;\n\n        do {\n            // Prompt the user to enter an integer\n            System.out.print(&quot;Enter an integer between 1 through 10 or enter 999 to exit): &quot;);\n            userInput = scanner.nextInt();\n\n            // Check if the input is within the valid range\n            if (userInput &gt;= 1 &amp;&amp; userInput &lt;= 10) {\n                // Update runningSum and count with the valid input\n                runningSumWithCount(userInput);\n            } else if (userInput != 999) {\n                // Display an error message for invalid input\n                System.out.println(&quot;Invalid input. Try again.&quot;);\n            }\n\n        } while (userInput != 999);\n\n        displayResults();\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>can someone tell me how use SumOddIntegers() and SumEvenIntegers() to determine the top 2 lines of the output so they stay in the same place as the output below states and will display the numbers based on what the user enters.</p>\n<p>Sum of even integers:</p>\n<p>Sum of odd integers:</p>\n<p>Running Sum / Counter Application</p>\n<p>Enter an integer between 1 through 10 or enter 999 to exit):</p>\n<p>Program Results...</p>\n<p>Sum of valid integers:</p>\n<p>Number of valid integers:</p>\n<p>Every fix i have tired resulted with the Sum of even integers and sum of odd integers being static at the top of the page and being added into the loop and changing as it goes but that will not work for this. Those 2 lines have to display at the top of the output only one time.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1304760630,"creation_date":1304760278,"answer_id":5920201,"question_id":5920153,"body_markdown":"Not that I know of, but what about doing something like this when you create an instance of TestedClass that you want to test:\r\n\r\n    TestedClass toTest = new TestedClass() {\r\n        public LoginContext login(String user, String password) {\r\n            //return mocked LoginContext\r\n        }\r\n    };\r\n\r\nAnother option would be to use Mockito to create an instance of TestedClass and let the mocked instance return a LoginContext.","title":"Test class with a new() call in it with Mockito","body":"<p>Not that I know of, but what about doing something like this when you create an instance of TestedClass that you want to test:</p>\n\n<pre><code>TestedClass toTest = new TestedClass() {\n    public LoginContext login(String user, String password) {\n        //return mocked LoginContext\n    }\n};\n</code></pre>\n\n<p>Another option would be to use Mockito to create an instance of TestedClass and let the mocked instance return a LoginContext.</p>\n"},{"comments":[{"owner":{"account_id":1869832,"reputation":5089,"user_id":1692342,"accept_rate":61,"display_name":"user1692342"},"score":1,"creation_date":1493362142,"post_id":5920394,"comment_id":74393448,"body_markdown":"In this case, I will need to create an implementation of LoginContextFactory which just returns a new object of LoginContext? Is that correct?","body":"In this case, I will need to create an implementation of LoginContextFactory which just returns a new object of LoginContext? Is that correct?"},{"owner":{"account_id":8062381,"reputation":6887,"user_id":6077549,"accept_rate":5,"display_name":"alltej"},"score":19,"creation_date":1495736647,"post_id":5920394,"comment_id":75388495,"body_markdown":"This will require that each class I have needs to have a factory. For POJOs, I find it to be an overkill to create such factories. Are there other alternatives of a test framework?","body":"This will require that each class I have needs to have a factory. For POJOs, I find it to be an overkill to create such factories. Are there other alternatives of a test framework?"},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":0,"creation_date":1513003359,"post_id":5920394,"comment_id":82471286,"body_markdown":"@alltej you only need to use factories in the classes which are instantiating new objects - not every pojo surely?","body":"@alltej you only need to use factories in the classes which are instantiating new objects - not every pojo surely?"},{"owner":{"account_id":4215473,"reputation":919,"user_id":3451826,"accept_rate":53,"display_name":"Denly"},"score":1,"creation_date":1545355822,"post_id":5920394,"comment_id":94603561,"body_markdown":"Where will be the &quot;new LoginContext(&quot;login&quot;, callbackHandler);&quot; in the new code?","body":"Where will be the &quot;new LoginContext(&quot;login&quot;, callbackHandler);&quot; in the new code?"},{"owner":{"account_id":161697,"reputation":2345,"user_id":382683,"accept_rate":75,"display_name":"Eran Harel"},"score":0,"creation_date":1546935269,"post_id":5920394,"comment_id":95007730,"body_markdown":"@Denly normally that would be in your setup code, e.g. in a DI framework, or in your main where you initialize your app","body":"@Denly normally that would be in your setup code, e.g. in a DI framework, or in your main where you initialize your app"},{"owner":{"account_id":1100527,"reputation":489,"user_id":1093019,"accept_rate":50,"display_name":"testphreak"},"score":1,"creation_date":1549674980,"post_id":5920394,"comment_id":96000666,"body_markdown":"Why are we not passing in the user and password to loginContextFactory.createLoginContext() method? Or are we not supposed to? What does the LoginContextFactoryImpl look like? Would have been great to expand on the answer.","body":"Why are we not passing in the user and password to loginContextFactory.createLoginContext() method? Or are we not supposed to? What does the LoginContextFactoryImpl look like? Would have been great to expand on the answer."},{"owner":{"account_id":10683638,"reputation":263,"user_id":7864846,"display_name":"Kosi"},"score":1,"creation_date":1550677250,"post_id":5920394,"comment_id":96358443,"body_markdown":"@Adam wouldn&#39;t you need a new factory for every different class that has a new instance? For instance if Class X calls new A() and new B(). Wouldn&#39;t Class X need to have two factories injected?","body":"@Adam wouldn&#39;t you need a new factory for every different class that has a new instance? For instance if Class X calls new A() and new B(). Wouldn&#39;t Class X need to have two factories injected?"},{"owner":{"account_id":12212238,"reputation":2370,"user_id":8913704,"accept_rate":100,"display_name":"Artem"},"score":1,"creation_date":1634250184,"post_id":5920394,"comment_id":122981864,"body_markdown":"+1 for @Kosi question. How in the case creating factories different from refactoring to dependency injection instead?","body":"+1 for @Kosi question. How in the case creating factories different from refactoring to dependency injection instead?"}],"tags":[],"owner":{"account_id":161697,"reputation":2345,"user_id":382683,"accept_rate":75,"display_name":"Eran Harel"},"comment_count":8,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1304762859,"creation_date":1304762859,"answer_id":5920394,"question_id":5920153,"body_markdown":"You can use a factory to create the login context. Then you can mock the factory and return whatever you want for your test.\r\n\r\n    public class TestedClass {\r\n      private final LoginContextFactory loginContextFactory;\r\n    \r\n      public TestedClass(final LoginContextFactory loginContextFactory) {\r\n        this.loginContextFactory = loginContextFactory;\r\n      }\r\n    \r\n      public LoginContext login(String user, String password) {\r\n        LoginContext lc = loginContextFactory.createLoginContext();\r\n      }\r\n    }\r\n    \r\n    public interface LoginContextFactory {\r\n      public LoginContext createLoginContext();\r\n    }\r\n\r\n","title":"Test class with a new() call in it with Mockito","body":"<p>You can use a factory to create the login context. Then you can mock the factory and return whatever you want for your test.</p>\n\n<pre><code>public class TestedClass {\n  private final LoginContextFactory loginContextFactory;\n\n  public TestedClass(final LoginContextFactory loginContextFactory) {\n    this.loginContextFactory = loginContextFactory;\n  }\n\n  public LoginContext login(String user, String password) {\n    LoginContext lc = loginContextFactory.createLoginContext();\n  }\n}\n\npublic interface LoginContextFactory {\n  public LoginContext createLoginContext();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74361,"reputation":2488,"user_id":213719,"accept_rate":100,"display_name":"bwobbones"},"score":0,"creation_date":1304861503,"post_id":5920815,"comment_id":6828804,"body_markdown":"This was exactly what I was looking for, thanks Tomasz.  The extra part at the bottom of the doco about doReturn was especially helpful.","body":"This was exactly what I was looking for, thanks Tomasz.  The extra part at the bottom of the doco about doReturn was especially helpful."},{"owner":{"account_id":4726287,"reputation":3384,"user_id":3822810,"accept_rate":0,"display_name":"goodmayhem"},"score":0,"creation_date":1432769524,"post_id":5920815,"comment_id":49067241,"body_markdown":"any alternative for versions less than 1.8","body":"any alternative for versions less than 1.8"},{"owner":{"account_id":171206,"reputation":6116,"user_id":398469,"display_name":"dhaag23"},"score":3,"creation_date":1479779447,"post_id":5920815,"comment_id":68691877,"body_markdown":"Yes, using a factory that can be mocked is the real answer here. Using spy is controversial, and IMO to be avoided.","body":"Yes, using a factory that can be mocked is the real answer here. Using spy is controversial, and IMO to be avoided."},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":1,"creation_date":1487836306,"post_id":5920815,"comment_id":71965947,"body_markdown":"link 404: http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#13","body":"link 404: <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#13\" rel=\"nofollow noreferrer\">docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#13</a>"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1491244826,"post_id":5920815,"comment_id":73456904,"body_markdown":"_refactoring moving new to factory that can be mocked_ I don&#39;t get this. You&#39;ve just moved the same problem to a new place.","body":"<i>refactoring moving new to factory that can be mocked</i> I don&#39;t get this. You&#39;ve just moved the same problem to a new place."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1503932352,"post_id":5920815,"comment_id":78802608,"body_markdown":"when you use spy you are not actually testing that method","body":"when you use spy you are not actually testing that method"},{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":2,"creation_date":1513003064,"post_id":5920815,"comment_id":82471082,"body_markdown":"@ChristopherSchneider yes but in the new place (normally your test class) you can code the factory to return an object which you instantiate in your test rather,  so you can use the object in test verifications.","body":"@ChristopherSchneider yes but in the new place (normally your test class) you can code the factory to return an object which you instantiate in your test rather,  so you can use the object in test verifications."},{"owner":{"account_id":2200117,"reputation":151,"user_id":1944711,"accept_rate":60,"display_name":"Sachidananda Naik"},"score":0,"creation_date":1625046338,"post_id":5920815,"comment_id":120520862,"body_markdown":"Using @Spy annotation did the trick, thanks a lot for the detailed description.","body":"Using @Spy annotation did the trick, thanks a lot for the detailed description."},{"owner":{"account_id":14105449,"reputation":297,"user_id":10189639,"display_name":"msashish"},"score":0,"creation_date":1630570103,"post_id":5920815,"comment_id":121993921,"body_markdown":"I had a similar situation (with an old code) and I went with spy but with a backlog to change it by using factory instead (reason: Instead of saying I will only mock just a part of &quot;class under test&quot; leaving everything else real, I would prefer moving that part (dependency) into a factory)","body":"I had a similar situation (with an old code) and I went with spy but with a backlog to change it by using factory instead (reason: Instead of saying I will only mock just a part of &quot;class under test&quot; leaving everything else real, I would prefer moving that part (dependency) into a factory)"},{"owner":{"account_id":11826686,"reputation":175,"user_id":11249006,"display_name":"Jonas Freire"},"score":0,"creation_date":1652794395,"post_id":5920815,"comment_id":127688834,"body_markdown":"@bwobbones what about testing this factory, it isn&#39;t the same problem?","body":"@bwobbones what about testing this factory, it isn&#39;t the same problem?"},{"owner":{"account_id":6305411,"reputation":63,"user_id":4898612,"display_name":"shazwashere"},"score":1,"creation_date":1674331368,"post_id":5920815,"comment_id":132693550,"body_markdown":"@JonasFreire The factory class would only have the code for creating new instances with NO business logic involved. So, there&#39;s no point in testing it. We wouldn&#39;t wanna test if `new()` really returns a new instance. :)","body":"@JonasFreire The factory class would only have the code for creating new instances with NO business logic involved. So, there&#39;s no point in testing it. We wouldn&#39;t wanna test if <code>new()</code> really returns a new instance. :)"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":11,"down_vote_count":1,"up_vote_count":92,"is_accepted":true,"score":91,"last_activity_date":1550746742,"creation_date":1304768723,"answer_id":5920815,"question_id":5920153,"body_markdown":"For the future I would recommend [Eran Harel&#39;s answer](https://stackoverflow.com/a/5920394/1898563) (refactoring moving `new` to factory that can be mocked). But if you don&#39;t want to change the original source code, use very handy and unique feature: **spies**. From the [documentation](http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#13):\n\n&gt; You can create spies of real objects. When you use the spy then the **real** methods are called (unless a method was stubbed). \n&gt;\n&gt; Real spies should be used **carefully and occasionally**, for example when dealing with legacy code.\n\nIn your case you should write:\n\n    TestedClass tc = spy(new TestedClass());\n    LoginContext lcMock = mock(LoginContext.class);\n    when(tc.login(anyString(), anyString())).thenReturn(lcMock);\n\n","title":"Test class with a new() call in it with Mockito","body":"<p>For the future I would recommend <a href=\"https://stackoverflow.com/a/5920394/1898563\">Eran Harel's answer</a> (refactoring moving <code>new</code> to factory that can be mocked). But if you don't want to change the original source code, use very handy and unique feature: <strong>spies</strong>. From the <a href=\"http://docs.mockito.googlecode.com/hg/org/mockito/Mockito.html#13\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>You can create spies of real objects. When you use the spy then the <strong>real</strong> methods are called (unless a method was stubbed).</p>\n<p>Real spies should be used <strong>carefully and occasionally</strong>, for example when dealing with legacy code.</p>\n</blockquote>\n<p>In your case you should write:</p>\n<pre><code>TestedClass tc = spy(new TestedClass());\nLoginContext lcMock = mock(LoginContext.class);\nwhen(tc.login(anyString(), anyString())).thenReturn(lcMock);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2525160,"reputation":312,"user_id":2194679,"display_name":"Pankaj"},"score":11,"creation_date":1459925837,"post_id":30137217,"comment_id":60501032,"body_markdown":"+1 for stating the scenario which is generally the case as most of the methods which need this and where refactoring is not possible/difficult is old/legacy code!","body":"+1 for stating the scenario which is generally the case as most of the methods which need this and where refactoring is not possible/difficult is old/legacy code!"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":7,"creation_date":1509013535,"post_id":30137217,"comment_id":80850694,"body_markdown":"the big problem with this approach is that you have to include the `TestedClass` in the `@PrepareForTest` which automatically makes the whole class coverage being 0 both in sonar and eclemma. This might be due to a bug in one of the coverage analysis tools","body":"the big problem with this approach is that you have to include the <code>TestedClass</code> in the <code>@PrepareForTest</code> which automatically makes the whole class coverage being 0 both in sonar and eclemma. This might be due to a bug in one of the coverage analysis tools"},{"owner":{"account_id":88664,"reputation":827,"user_id":245074,"accept_rate":56,"display_name":"Shane"},"score":8,"creation_date":1512420821,"post_id":30137217,"comment_id":82241987,"body_markdown":"`if there are no other options, the only option must be the good option` +1 For Mr. Sherlock Holmes. ;)","body":"<code>if there are no other options, the only option must be the good option</code> +1 For Mr. Sherlock Holmes. ;)"},{"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"score":0,"creation_date":1584091965,"post_id":30137217,"comment_id":107335672,"body_markdown":"I would have voted twice up if it was possible: once for the efficient answer and once more for the respectful intro to your answer. BTW, I also voted up for Tomasz Nurkiewicz&#39; answer","body":"I would have voted twice up if it was possible: once for the efficient answer and once more for the respectful intro to your answer. BTW, I also voted up for Tomasz Nurkiewicz&#39; answer"},{"owner":{"account_id":5748671,"reputation":347,"user_id":4539129,"accept_rate":44,"display_name":"Mehul Parmar"},"score":0,"creation_date":1629898427,"post_id":30137217,"comment_id":121808917,"body_markdown":"I am following this but it is not working. Is there any change to this workaround?","body":"I am following this but it is not working. Is there any change to this workaround?"},{"owner":{"account_id":11278780,"reputation":580,"user_id":9655481,"display_name":"Splines"},"score":2,"creation_date":1653310840,"post_id":30137217,"comment_id":127813396,"body_markdown":"Powermock [does not work with JUnit5](https://github.com/powermock/powermock/issues/929) at the moment &#128546;","body":"Powermock <a href=\"https://github.com/powermock/powermock/issues/929\" rel=\"nofollow noreferrer\">does not work with JUnit5</a> at the moment 😢"},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":0,"creation_date":1657874188,"post_id":30137217,"comment_id":128918089,"body_markdown":"In that situation, simply refactor the login method and create method that creates just the LoginContext.","body":"In that situation, simply refactor the login method and create method that creates just the LoginContext."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":7,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1672685891,"creation_date":1431156120,"answer_id":30137217,"question_id":5920153,"body_markdown":"I am all for [Eran Harel&#39;s solution](https://stackoverflow.com/a/5920394/2422776) and in cases where it isn&#39;t possible, [Tomasz Nurkiewicz&#39;s suggestion for spying](https://stackoverflow.com/a/5920815/2422776) is excellent. However, it&#39;s worth noting that there are situations where neither would apply. E.g. if the `login` method was a bit &quot;beefier&quot;:\r\n\r\n    public class TestedClass {\r\n        public LoginContext login(String user, String password) {\r\n            LoginContext lc = new LoginContext(&quot;login&quot;, callbackHandler);\r\n            lc.doThis();\r\n            lc.doThat();\r\n            return lc;\r\n        }\r\n    }\r\n\r\n... and this was old code that could not be refactored to extract the initialization of a new `LoginContext` to its own method and apply one of the aforementioned solutions.\r\n\r\nFor completeness&#39; sake, it&#39;s worth mentioning a third technique - using [PowerMock](https://github.com/powermock/powermock) to inject the mock object when the `new` operator is called. PowerMock isn&#39;t a silver bullet, though. It works by applying byte-code manipulation on the classes it mocks, which could be dodgy practice if the tested classes employ byte code manipulation or reflection and at least from my personal experience, has been known to introduce a performance hit to the test. Then again, if there are no other options, the only option must be the good option:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(TestedClass.class)\r\n    public class TestedClassTest {\r\n    \r\n        @Test\r\n        public void testLogin() {\r\n            LoginContext lcMock = mock(LoginContext.class);\r\n            whenNew(LoginContext.class).withArguments(anyString(), anyString()).thenReturn(lcMock);\r\n            TestedClass tc = new TestedClass();\r\n            tc.login (&quot;something&quot;, &quot;something else&quot;);\r\n            // test the login&#39;s logic\r\n        }\r\n    }\r\n\r\n**EDIT:**\\\r\nModern versions of Mockito provide similar functionality without needing the extra PowerMock library with the `mockito-inline` dependency (instead of the `mockito-core` dependency):\r\n\r\n```java\r\npublic class TestedClassTest {\r\n    @Test\r\n    public void testLogin() {\r\n        try (MockedConstruction&lt;LoginContext&gt; mockedConstruction = \r\n             Mockito.mockConstruction(LoginContext.class)) {\r\n            TestedClass tc = new TestedClass();\r\n            tc.login(&quot;something&quot;, &quot;something else&quot;);\r\n            // test the login&#39;s logic\r\n        }\r\n    }\r\n}\r\n```","title":"Test class with a new() call in it with Mockito","body":"<p>I am all for <a href=\"https://stackoverflow.com/a/5920394/2422776\">Eran Harel's solution</a> and in cases where it isn't possible, <a href=\"https://stackoverflow.com/a/5920815/2422776\">Tomasz Nurkiewicz's suggestion for spying</a> is excellent. However, it's worth noting that there are situations where neither would apply. E.g. if the <code>login</code> method was a bit &quot;beefier&quot;:</p>\n<pre><code>public class TestedClass {\n    public LoginContext login(String user, String password) {\n        LoginContext lc = new LoginContext(&quot;login&quot;, callbackHandler);\n        lc.doThis();\n        lc.doThat();\n        return lc;\n    }\n}\n</code></pre>\n<p>... and this was old code that could not be refactored to extract the initialization of a new <code>LoginContext</code> to its own method and apply one of the aforementioned solutions.</p>\n<p>For completeness' sake, it's worth mentioning a third technique - using <a href=\"https://github.com/powermock/powermock\" rel=\"noreferrer\">PowerMock</a> to inject the mock object when the <code>new</code> operator is called. PowerMock isn't a silver bullet, though. It works by applying byte-code manipulation on the classes it mocks, which could be dodgy practice if the tested classes employ byte code manipulation or reflection and at least from my personal experience, has been known to introduce a performance hit to the test. Then again, if there are no other options, the only option must be the good option:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(TestedClass.class)\npublic class TestedClassTest {\n\n    @Test\n    public void testLogin() {\n        LoginContext lcMock = mock(LoginContext.class);\n        whenNew(LoginContext.class).withArguments(anyString(), anyString()).thenReturn(lcMock);\n        TestedClass tc = new TestedClass();\n        tc.login (&quot;something&quot;, &quot;something else&quot;);\n        // test the login's logic\n    }\n}\n</code></pre>\n<p><strong>EDIT:</strong><br />\nModern versions of Mockito provide similar functionality without needing the extra PowerMock library with the <code>mockito-inline</code> dependency (instead of the <code>mockito-core</code> dependency):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestedClassTest {\n    @Test\n    public void testLogin() {\n        try (MockedConstruction&lt;LoginContext&gt; mockedConstruction = \n             Mockito.mockConstruction(LoginContext.class)) {\n            TestedClass tc = new TestedClass();\n            tc.login(&quot;something&quot;, &quot;something else&quot;);\n            // test the login's logic\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7904541,"reputation":91,"user_id":5970492,"display_name":"sunjavax"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505679831,"creation_date":1505679831,"answer_id":46268536,"question_id":5920153,"body_markdown":"        public class TestedClass {\r\n        public LoginContext login(String user, String password) {\r\n            LoginContext lc = new LoginContext(&quot;login&quot;, callbackHandler);\r\n            lc.doThis();\r\n            lc.doThat();\r\n        }\r\n      }\r\n\r\n-- Test Class:\r\n\r\n       \r\n        @RunWith(PowerMockRunner.class)\r\n        @PrepareForTest(TestedClass.class)\r\n        public class TestedClassTest {\r\n        \r\n            @Test\r\n            public void testLogin() {\r\n                LoginContext lcMock = mock(LoginContext.class);\r\n                whenNew(LoginContext.class).withArguments(anyString(), anyString()).thenReturn(lcMock);\r\n    //comment: this is giving mock object ( lcMock )\r\n                TestedClass tc = new TestedClass();\r\n                tc.login (&quot;something&quot;, &quot;something else&quot;); ///  testing this method.\r\n                // test the login&#39;s logic\r\n            }\r\n        }\r\n\r\nWhen calling the actual method `tc.login (&quot;something&quot;, &quot;something else&quot;);` from the testLogin() {\r\n- This LoginContext lc is set to null and throwing NPE  while calling `lc.doThis();`","title":"Test class with a new() call in it with Mockito","body":"<pre><code>    public class TestedClass {\n    public LoginContext login(String user, String password) {\n        LoginContext lc = new LoginContext(\"login\", callbackHandler);\n        lc.doThis();\n        lc.doThat();\n    }\n  }\n</code></pre>\n\n<p>-- Test Class:</p>\n\n<pre><code>    @RunWith(PowerMockRunner.class)\n    @PrepareForTest(TestedClass.class)\n    public class TestedClassTest {\n\n        @Test\n        public void testLogin() {\n            LoginContext lcMock = mock(LoginContext.class);\n            whenNew(LoginContext.class).withArguments(anyString(), anyString()).thenReturn(lcMock);\n//comment: this is giving mock object ( lcMock )\n            TestedClass tc = new TestedClass();\n            tc.login (\"something\", \"something else\"); ///  testing this method.\n            // test the login's logic\n        }\n    }\n</code></pre>\n\n<p>When calling the actual method <code>tc.login (\"something\", \"something else\");</code> from the testLogin() {\n- This LoginContext lc is set to null and throwing NPE  while calling <code>lc.doThis();</code></p>\n"},{"tags":[],"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513009993,"creation_date":1513009993,"answer_id":47757316,"question_id":5920153,"body_markdown":"In situations where the class under test can be modified and when it&#39;s desirable to avoid byte code manipulation, to keep things fast or to minimise third party dependencies, here is my take on the use of a factory to extract the `new` operation. \r\n\r\n    public class TestedClass {\r\n\r\n        interface PojoFactory { Pojo getNewPojo(); }\r\n\r\n        private final PojoFactory factory;\r\n\r\n        /** For use in production - nothing needs to change. */\r\n        public TestedClass() {\r\n            this.factory = new PojoFactory() {\r\n                @Override\r\n                public Pojo getNewPojo() {\r\n                    return new Pojo();\r\n                }\r\n            };\r\n        }\r\n\r\n        /** For use in testing - provide a pojo factory. */\r\n        public TestedClass(PojoFactory factory) {\r\n            this.factory = factory;\r\n        }\r\n\r\n        public void doSomething() {\r\n            Pojo pojo = this.factory.getNewPojo();\r\n            anythingCouldHappen(pojo);\r\n        }\r\n    }\r\n\r\nWith this in place, your testing, asserts and verify calls on the Pojo object are easy:\r\n\r\n    public  void testSomething() {\r\n        Pojo testPojo = new Pojo();\r\n        TestedClass target = new TestedClass(new TestedClass.PojoFactory() {\r\n                    @Override\r\n                    public Pojo getNewPojo() {\r\n                        return testPojo;\r\n                    }\r\n                });\r\n        target.doSomething();\r\n        assertThat(testPojo.isLifeStillBeautiful(), is(true));\r\n    }\r\n\r\nThe only downside to this approach potentially arises if `TestClass` has multiple constructors which you&#39;d have to duplicate with the extra parameter.\r\n\r\nFor SOLID reasons you&#39;d probably want to put the PojoFactory interface onto the Pojo class instead, and the production factory as well.\r\n\r\n    public class Pojo {\r\n \r\n        interface PojoFactory { Pojo getNewPojo(); }\r\n   \r\n        public static final PojoFactory productionFactory = \r\n            new PojoFactory() {\r\n                @Override \r\n                public Pojo getNewPojo() {\r\n                    return new Pojo();\r\n                }\r\n            };\r\n","title":"Test class with a new() call in it with Mockito","body":"<p>In situations where the class under test can be modified and when it's desirable to avoid byte code manipulation, to keep things fast or to minimise third party dependencies, here is my take on the use of a factory to extract the <code>new</code> operation. </p>\n\n<pre><code>public class TestedClass {\n\n    interface PojoFactory { Pojo getNewPojo(); }\n\n    private final PojoFactory factory;\n\n    /** For use in production - nothing needs to change. */\n    public TestedClass() {\n        this.factory = new PojoFactory() {\n            @Override\n            public Pojo getNewPojo() {\n                return new Pojo();\n            }\n        };\n    }\n\n    /** For use in testing - provide a pojo factory. */\n    public TestedClass(PojoFactory factory) {\n        this.factory = factory;\n    }\n\n    public void doSomething() {\n        Pojo pojo = this.factory.getNewPojo();\n        anythingCouldHappen(pojo);\n    }\n}\n</code></pre>\n\n<p>With this in place, your testing, asserts and verify calls on the Pojo object are easy:</p>\n\n<pre><code>public  void testSomething() {\n    Pojo testPojo = new Pojo();\n    TestedClass target = new TestedClass(new TestedClass.PojoFactory() {\n                @Override\n                public Pojo getNewPojo() {\n                    return testPojo;\n                }\n            });\n    target.doSomething();\n    assertThat(testPojo.isLifeStillBeautiful(), is(true));\n}\n</code></pre>\n\n<p>The only downside to this approach potentially arises if <code>TestClass</code> has multiple constructors which you'd have to duplicate with the extra parameter.</p>\n\n<p>For SOLID reasons you'd probably want to put the PojoFactory interface onto the Pojo class instead, and the production factory as well.</p>\n\n<pre><code>public class Pojo {\n\n    interface PojoFactory { Pojo getNewPojo(); }\n\n    public static final PojoFactory productionFactory = \n        new PojoFactory() {\n            @Override \n            public Pojo getNewPojo() {\n                return new Pojo();\n            }\n        };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584099381,"creation_date":1584099381,"answer_id":60669754,"question_id":5920153,"body_markdown":"I happened to be in a particular situation where my usecase resembled the one of [Mureinik](https://stackoverflow.com/a/30137217/4163254) but I ended-up using the solution of [Tomasz Nurkiewicz](https://stackoverflow.com/a/5920815/4163254).\r\n\r\nHere is how: \r\n\r\n```java\r\nclass TestedClass extends AARRGGHH {\r\n    public LoginContext login(String user, String password) {\r\n        LoginContext lc = new LoginContext(&quot;login&quot;, callbackHandler);\r\n        lc.doThis();\r\n        lc.doThat();\r\n        return lc;\r\n    }\r\n}\r\n```\r\n\r\nNow, `PowerMockRunner` failed to initialize `TestedClass` because it extends `AARRGGHH`, which in turn does more contextual initialization... You see where this path was leading me: I would have needed to mock on several layers. Clearly a HUGE smell.\r\n\r\nI found a [nice hack](https://github.com/mockito/mockito/wiki/Mocking-Object-Creation) with minimal refactoring of `TestedClass`: I created a small method\r\n\r\n```\r\nLoginContext initLoginContext(String login, CallbackHandler callbackHandler) {\r\n    new lc = new LoginContext(login, callbackHandler);\r\n}\r\n```\r\n\r\nThe scope of this method is necessarily `package`.\r\n\r\nThen your test stub will look like:\r\n\r\n```java\r\nLoginContext lcMock = mock(LoginContext.class)\r\nTestedClass testClass = spy(new TestedClass(withAllNeededArgs))\r\ndoReturn(lcMock)\r\n    .when(testClass)\r\n    .initLoginContext(&quot;login&quot;, callbackHandler)\r\n```\r\n\r\nand the trick is done...","title":"Test class with a new() call in it with Mockito","body":"<p>I happened to be in a particular situation where my usecase resembled the one of <a href=\"https://stackoverflow.com/a/30137217/4163254\">Mureinik</a> but I ended-up using the solution of <a href=\"https://stackoverflow.com/a/5920815/4163254\">Tomasz Nurkiewicz</a>.</p>\n\n<p>Here is how: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class TestedClass extends AARRGGHH {\n    public LoginContext login(String user, String password) {\n        LoginContext lc = new LoginContext(\"login\", callbackHandler);\n        lc.doThis();\n        lc.doThat();\n        return lc;\n    }\n}\n</code></pre>\n\n<p>Now, <code>PowerMockRunner</code> failed to initialize <code>TestedClass</code> because it extends <code>AARRGGHH</code>, which in turn does more contextual initialization... You see where this path was leading me: I would have needed to mock on several layers. Clearly a HUGE smell.</p>\n\n<p>I found a <a href=\"https://github.com/mockito/mockito/wiki/Mocking-Object-Creation\" rel=\"nofollow noreferrer\">nice hack</a> with minimal refactoring of <code>TestedClass</code>: I created a small method</p>\n\n<pre><code>LoginContext initLoginContext(String login, CallbackHandler callbackHandler) {\n    new lc = new LoginContext(login, callbackHandler);\n}\n</code></pre>\n\n<p>The scope of this method is necessarily <code>package</code>.</p>\n\n<p>Then your test stub will look like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>LoginContext lcMock = mock(LoginContext.class)\nTestedClass testClass = spy(new TestedClass(withAllNeededArgs))\ndoReturn(lcMock)\n    .when(testClass)\n    .initLoginContext(\"login\", callbackHandler)\n</code></pre>\n\n<p>and the trick is done...</p>\n"},{"tags":[],"owner":{"account_id":2347679,"reputation":2849,"user_id":2057463,"display_name":"Wendel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702071608,"creation_date":1702071608,"answer_id":77629302,"question_id":5920153,"body_markdown":"I created an interceptor method that can replace the original object with a mocked object. \r\n\r\n    public class TestedClass {\r\n    \r\n    \tprivate LoginContext interceptedLoginContext;\r\n    \r\n    \tpublic LoginContext login(String user, String password) {\r\n    \t\tLoginContext lc = intercept(new LoginContext(&quot;login&quot;, callbackHandler));\r\n    \t}\r\n    \r\n    \tpublic LoginContext intercept(LoginContext loginContext) {\r\n    \t\treturn this.interceptedLoginContext == null ? loginContext : interceptedLoginContext;\r\n    \t}\r\n    \r\n    \tpublic void setIntercepted(LoginContext loginContext) {\r\n    \t\tthis.interceptedLoginContext = loginContext;\r\n    \t}\r\n    \r\n    }\r\n\r\nSo you will need to set the object before method execution.","title":"Test class with a new() call in it with Mockito","body":"<p>I created an interceptor method that can replace the original object with a mocked object.</p>\n<pre><code>public class TestedClass {\n\n    private LoginContext interceptedLoginContext;\n\n    public LoginContext login(String user, String password) {\n        LoginContext lc = intercept(new LoginContext(&quot;login&quot;, callbackHandler));\n    }\n\n    public LoginContext intercept(LoginContext loginContext) {\n        return this.interceptedLoginContext == null ? loginContext : interceptedLoginContext;\n    }\n\n    public void setIntercepted(LoginContext loginContext) {\n        this.interceptedLoginContext = loginContext;\n    }\n\n}\n</code></pre>\n<p>So you will need to set the object before method execution.</p>\n"}],"owner":{"account_id":74361,"reputation":2488,"user_id":213719,"accept_rate":100,"display_name":"bwobbones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289068,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":5920815,"answer_count":8,"score":104,"last_activity_date":1702071608,"creation_date":1304759560,"question_id":5920153,"body_markdown":"I have a legacy class that contains a `new()` call to instantiate a `LoginContext` object:\r\n\r\n    public class TestedClass {\r\n      public LoginContext login(String user, String password) {\r\n        LoginContext lc = new LoginContext(&quot;login&quot;, callbackHandler);\r\n      }\r\n    }\r\n\r\nI want to test this class using Mockito to mock the `LoginContext` as it requires that the JAAS security stuff be set up before instantiating, but I&#39;m not sure how to do that without changing the `login()` method to externalize the `LoginContext`.\r\n\r\nIs it possible using Mockito to mock the `LoginContext` class?","title":"Test class with a new() call in it with Mockito","body":"<p>I have a legacy class that contains a <code>new()</code> call to instantiate a <code>LoginContext</code> object:</p>\n<pre><code>public class TestedClass {\n  public LoginContext login(String user, String password) {\n    LoginContext lc = new LoginContext(&quot;login&quot;, callbackHandler);\n  }\n}\n</code></pre>\n<p>I want to test this class using Mockito to mock the <code>LoginContext</code> as it requires that the JAAS security stuff be set up before instantiating, but I'm not sure how to do that without changing the <code>login()</code> method to externalize the <code>LoginContext</code>.</p>\n<p>Is it possible using Mockito to mock the <code>LoginContext</code> class?</p>\n"},{"tags":["java","javabeans"],"answers":[{"comments":[{"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"score":0,"creation_date":1227554833,"post_id":315148,"comment_id":157173,"body_markdown":"Sure. Are any of the automated tools (besides serialization) worth using? Examples? Thanks!","body":"Sure. Are any of the automated tools (besides serialization) worth using? Examples? Thanks!"},{"owner":{"account_id":1476,"reputation":8526,"user_id":1969,"accept_rate":71,"display_name":"Brian Matthews"},"score":0,"creation_date":1227554990,"post_id":315148,"comment_id":157188,"body_markdown":"One good example would be Hibernate it needs getters and setters to do access the properties being persisted.","body":"One good example would be Hibernate it needs getters and setters to do access the properties being persisted."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1227555031,"post_id":315148,"comment_id":157192,"body_markdown":"I think struts and spring and web frameworks like that use the Beans to automate some of the website building processes.  I wouldn&#39;t use beans unless you had to.","body":"I think struts and spring and web frameworks like that use the Beans to automate some of the website building processes.  I wouldn&#39;t use beans unless you had to."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1227558754,"post_id":315148,"comment_id":157385,"body_markdown":"Hibernate does not require getters and setters. It can work directly with fields. It can can also bypass access restrictions (that is, use private fields and methods) as long as the security manager allows it. Some optimizations are disabled when working with final (including private) API though.","body":"Hibernate does not require getters and setters. It can work directly with fields. It can can also bypass access restrictions (that is, use private fields and methods) as long as the security manager allows it. Some optimizations are disabled when working with final (including private) API though."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1227557299,"creation_date":1227554574,"answer_id":315148,"question_id":315142,"body_markdown":"Beans are configured that way so automated tools can create and modify the Beans.  They aren&#39;t meant to necessarily be great design patterns.\r\n\r\nExamples of these tools:\r\n\r\n[Hibernate][1]  \r\n[JMX][2]\r\n\r\n[1]:http://www.hibernate.org/\r\n[2]:http://java.sun.com/javase/technologies/core/mntr-mgmt/javamanagement/","title":"Java Beans: What am I missing?","body":"<p>Beans are configured that way so automated tools can create and modify the Beans.  They aren't meant to necessarily be great design patterns.</p>\n\n<p>Examples of these tools:</p>\n\n<p><a href=\"http://www.hibernate.org/\" rel=\"nofollow noreferrer\">Hibernate</a><br>\n<a href=\"http://java.sun.com/javase/technologies/core/mntr-mgmt/javamanagement/\" rel=\"nofollow noreferrer\">JMX</a></p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1227559054,"post_id":315179,"comment_id":157396,"body_markdown":"BeanComparator is nasty. Reflection is for design-time and frameworks, not for the heart of a sort loop.","body":"BeanComparator is nasty. Reflection is for design-time and frameworks, not for the heart of a sort loop."}],"tags":[],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1227556043,"creation_date":1227555197,"answer_id":315179,"question_id":315142,"body_markdown":"&gt; I like my objects to do as much\r\n&gt; initialization in the constructor as\r\n&gt; possible and have a minimum number of\r\n&gt; mutators.\r\n\r\nFavouring immutable objects is a wise choice. However the benefit of beans is that frameworks/tools/libraries can determine at runtime the properties of a class, without requiring you to implement a particular interface.\r\n\r\nFor example, assume you have a collection of Person beans, and each bean has properties such as name, age, height, etc. \r\n\r\nYou can sort this collection of beans by name (for example) using the following code:\r\n\r\n    Collection&lt;Person&gt; myCollection = // initialise and populate the collection\r\n    Comparator nameCompare = new BeanComparator(&quot;name&quot;);\r\n    Collections.sort(myCollection, nameCompare);\r\n\r\nThe [BeanComparator][1] class knows how to extract the &quot;name&quot; property from each object, because the Java Beans convention is followed, i.e. you&#39;re spared the &quot;overhead&quot; of implementing an interface such as:\r\n\r\n    interface Nameable {\r\n        public String getName();\r\n        public void setName(String name);\r\n    }\r\n\r\nAnother example from Spring MVC is a bean that stores request URL parameters. This can be defined in a web controller (known as an &#39;Action&#39; in Struts) like this:\r\n\r\n    public ModelAndView searchUsers(UserSearchCriteria criteria) {\r\n        // implementation omitted\r\n    }\r\n\r\nBecause UserSearchCriteria is expected to be a JavaBean, if the request URL contains a parameter such as `maxItems=6`, the Spring framework &#39;knows&#39; that it should call a method with the signature\r\n\r\n    void setMaxItems(int maxItems);\r\n\r\nIn essence, JavaBeans is just a simple convention which allows the properties of a class to be discovered dynamically at runtime (usually by a tool or framework), when it&#39;s inconvenient/impossible to know a priori the properties that may be provided.\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/commons-beanutils-1.6.1/docs/api/org/apache/commons/beanutils/BeanComparator.html","title":"Java Beans: What am I missing?","body":"<blockquote>\n  <p>I like my objects to do as much\n  initialization in the constructor as\n  possible and have a minimum number of\n  mutators.</p>\n</blockquote>\n\n<p>Favouring immutable objects is a wise choice. However the benefit of beans is that frameworks/tools/libraries can determine at runtime the properties of a class, without requiring you to implement a particular interface.</p>\n\n<p>For example, assume you have a collection of Person beans, and each bean has properties such as name, age, height, etc. </p>\n\n<p>You can sort this collection of beans by name (for example) using the following code:</p>\n\n<pre><code>Collection&lt;Person&gt; myCollection = // initialise and populate the collection\nComparator nameCompare = new BeanComparator(\"name\");\nCollections.sort(myCollection, nameCompare);\n</code></pre>\n\n<p>The <a href=\"http://commons.apache.org/beanutils/commons-beanutils-1.6.1/docs/api/org/apache/commons/beanutils/BeanComparator.html\" rel=\"nofollow noreferrer\">BeanComparator</a> class knows how to extract the \"name\" property from each object, because the Java Beans convention is followed, i.e. you're spared the \"overhead\" of implementing an interface such as:</p>\n\n<pre><code>interface Nameable {\n    public String getName();\n    public void setName(String name);\n}\n</code></pre>\n\n<p>Another example from Spring MVC is a bean that stores request URL parameters. This can be defined in a web controller (known as an 'Action' in Struts) like this:</p>\n\n<pre><code>public ModelAndView searchUsers(UserSearchCriteria criteria) {\n    // implementation omitted\n}\n</code></pre>\n\n<p>Because UserSearchCriteria is expected to be a JavaBean, if the request URL contains a parameter such as <code>maxItems=6</code>, the Spring framework 'knows' that it should call a method with the signature</p>\n\n<pre><code>void setMaxItems(int maxItems);\n</code></pre>\n\n<p>In essence, JavaBeans is just a simple convention which allows the properties of a class to be discovered dynamically at runtime (usually by a tool or framework), when it's inconvenient/impossible to know a priori the properties that may be provided.</p>\n"},{"comments":[{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":1,"creation_date":1233075122,"post_id":315260,"comment_id":300637,"body_markdown":"Holub follows a definition of encapsulation I call &quot;data hiding&quot;.\nI prefer &quot;data protection&quot;. The game is all about knowing when and how your data is changed. As long as the data itself is private, you&#39;re in control of changes. At that point, what counts is whether you want it immutable or not.","body":"Holub follows a definition of encapsulation I call &quot;data hiding&quot;. I prefer &quot;data protection&quot;. The game is all about knowing when and how your data is changed. As long as the data itself is private, you&#39;re in control of changes. At that point, what counts is whether you want it immutable or not."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1233164245,"post_id":315260,"comment_id":304663,"body_markdown":"Minimizing the coupling between types greatly eases code readability and maintenance. Authorities like Holub and my own anecdotal experience have taught me that external dependencies on object properties are symptomatic of unnecessary complexity. There&#39;s usually an easier, cleaner alternative.","body":"Minimizing the coupling between types greatly eases code readability and maintenance. Authorities like Holub and my own anecdotal experience have taught me that external dependencies on object properties are symptomatic of unnecessary complexity. There&#39;s usually an easier, cleaner alternative."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1702071297,"creation_date":1227556762,"answer_id":315260,"question_id":315142,"body_markdown":"It sounds like you are on the right track. It&#39;s not you who&#39;s missing the point of Java Beans, it is other programmers that are misusing them.\r\n\r\nThe Java Beans specification was designed to be used with visual tools. The idea was that an application designer would be able to configure an instance of an object interactively, then serialize (or generate code for) the configured bean, so that it could be reconstructed at runtime; the intent was that it would not be mutated at runtime.\r\n\r\nUnfortunately, a lot of developers don&#39;t understand that [accessors violate encapsulation][1]. They use structs instead of objects. They don&#39;t see anything wrong with other classes, even other packages, having dependencies on a class&#39;s data members.\r\n\r\nOf course, you will in general have the need to configure instances of your objects. It&#39;s just that this should be done through some sort of configuration feature. This might be a dependency injection container, a &quot;BeanBox&quot; style visual tool, or simply reading JSON, XML, or properties files that you wrote by hand. The key is that at runtime these objects are effectively immutable; clients just invoke their operations, they don&#39;t access their properties.\r\n\r\n  [1]: https://www.infoworld.com/article/2073723/why-getter-and-setter-methods-are-evil.html","title":"Java Beans: What am I missing?","body":"<p>It sounds like you are on the right track. It's not you who's missing the point of Java Beans, it is other programmers that are misusing them.</p>\n<p>The Java Beans specification was designed to be used with visual tools. The idea was that an application designer would be able to configure an instance of an object interactively, then serialize (or generate code for) the configured bean, so that it could be reconstructed at runtime; the intent was that it would not be mutated at runtime.</p>\n<p>Unfortunately, a lot of developers don't understand that <a href=\"https://www.infoworld.com/article/2073723/why-getter-and-setter-methods-are-evil.html\" rel=\"nofollow noreferrer\">accessors violate encapsulation</a>. They use structs instead of objects. They don't see anything wrong with other classes, even other packages, having dependencies on a class's data members.</p>\n<p>Of course, you will in general have the need to configure instances of your objects. It's just that this should be done through some sort of configuration feature. This might be a dependency injection container, a &quot;BeanBox&quot; style visual tool, or simply reading JSON, XML, or properties files that you wrote by hand. The key is that at runtime these objects are effectively immutable; clients just invoke their operations, they don't access their properties.</p>\n"},{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1227560388,"creation_date":1227560388,"answer_id":315447,"question_id":315142,"body_markdown":"When you hear the word &quot;bean&quot; expect to be looking at a &quot;container&quot; of some sort.  The idea of a JavaBean of any sort is to provide a uniform interface convention for components that can be added and manipulated at run time.  Plain JavaBeans are just the simplest example of this: it presents all the interface possibilities and is Serializable, which means you can create instances of the bean, modify them, save them, and reload them.\r\n\r\nLong and long ago, I write a Java editor that contained a simple &quot;data base&quot; representing the text strings, and had a &quot;plug in architecture&quot; that used beans.  You could add behavior to the editor by dragging a bean out of a bean storage bin and dropping it on the editor; once you did, the behavior (say, Cntl-T to transpose characters at cursor) was automagically available in the editor.  The beans had a known interface --- they knew how to ask the container for its data structure, and a doSomething() method --- and the container knew to dynamically load a class file, instantiate the object, and set its access to the data base.\r\n\r\nBy the way, it&#39;s not really necessarily true that accessors violate encapsulation; it is however true that just because you have a member, you don&#39;t *need* to provide get and set methods for it.  The JavaBean spec is a little unclear on this; the point is to provide getters and setters for those things that need to be in the objects &quot;contract&quot;.\r\n\r\nAfter introspection and reflection were added to the language and really understood, the need for those conventions was somewhat reduced; in early Java, you needed to have a convention to find the methods.","title":"Java Beans: What am I missing?","body":"<p>When you hear the word \"bean\" expect to be looking at a \"container\" of some sort.  The idea of a JavaBean of any sort is to provide a uniform interface convention for components that can be added and manipulated at run time.  Plain JavaBeans are just the simplest example of this: it presents all the interface possibilities and is Serializable, which means you can create instances of the bean, modify them, save them, and reload them.</p>\n\n<p>Long and long ago, I write a Java editor that contained a simple \"data base\" representing the text strings, and had a \"plug in architecture\" that used beans.  You could add behavior to the editor by dragging a bean out of a bean storage bin and dropping it on the editor; once you did, the behavior (say, Cntl-T to transpose characters at cursor) was automagically available in the editor.  The beans had a known interface --- they knew how to ask the container for its data structure, and a doSomething() method --- and the container knew to dynamically load a class file, instantiate the object, and set its access to the data base.</p>\n\n<p>By the way, it's not really necessarily true that accessors violate encapsulation; it is however true that just because you have a member, you don't <em>need</em> to provide get and set methods for it.  The JavaBean spec is a little unclear on this; the point is to provide getters and setters for those things that need to be in the objects \"contract\".</p>\n\n<p>After introspection and reflection were added to the language and really understood, the need for those conventions was somewhat reduced; in early Java, you needed to have a convention to find the methods.</p>\n"},{"tags":[],"owner":{"account_id":24861,"reputation":1519,"user_id":63489,"accept_rate":100,"display_name":"gerferra"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1234891976,"creation_date":1234891976,"answer_id":557888,"question_id":315142,"body_markdown":"I share the idea that minimize the mutability is a good thing. As already pointed out, the advantage of JavaBeans is that they are easy to handle by the frameworks.\r\n\r\nTo get the best of &quot;both worlds&quot;, I think that a good option is to use the [Builder pattern][1], slightly modifying the Builder to comply with the JavaBeans standard. So, if you need a framework functionality that requires that your class comply with the JavaBeans standard, you can use the Builder instead the actual class.\r\n\r\n\r\n  [1]: http://rwhansen.blogspot.com/2007/07/theres-builder-pattern-that-joshua.html\r\n","title":"Java Beans: What am I missing?","body":"<p>I share the idea that minimize the mutability is a good thing. As already pointed out, the advantage of JavaBeans is that they are easy to handle by the frameworks.</p>\n\n<p>To get the best of \"both worlds\", I think that a good option is to use the <a href=\"http://rwhansen.blogspot.com/2007/07/theres-builder-pattern-that-joshua.html\" rel=\"nofollow noreferrer\">Builder pattern</a>, slightly modifying the Builder to comply with the JavaBeans standard. So, if you need a framework functionality that requires that your class comply with the JavaBeans standard, you can use the Builder instead the actual class.</p>\n"}],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2770,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":315260,"answer_count":5,"score":18,"last_activity_date":1702071297,"creation_date":1227554405,"question_id":315142,"body_markdown":"I&#39;m wondering if I&#39;m missing something about Java Beans. I like my objects to do as much initialization in the constructor as possible and have a minimum number of mutators. Beans seem to go directly against this and generally feel clunky. What capabilities am I missing out on by not building my objects as Beans?","title":"Java Beans: What am I missing?","body":"<p>I'm wondering if I'm missing something about Java Beans. I like my objects to do as much initialization in the constructor as possible and have a minimum number of mutators. Beans seem to go directly against this and generally feel clunky. What capabilities am I missing out on by not building my objects as Beans?</p>\n"},{"tags":["java","eclipse","eclipse-plugin","windowbuilder","palette"],"comments":[{"owner":{"account_id":1262300,"reputation":23577,"user_id":1220269,"accept_rate":91,"display_name":"Nathaniel Waisbrot"},"score":0,"creation_date":1365741627,"post_id":15963082,"comment_id":22751431,"body_markdown":"Yeah, that sounds like a bad install to me.  How did you install it?","body":"Yeah, that sounds like a bad install to me.  How did you install it?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1365741922,"post_id":15963082,"comment_id":22751504,"body_markdown":"@Nathaniel Waisbrot - \nAdded my answer to the original post.","body":"@Nathaniel Waisbrot -  Added my answer to the original post."},{"owner":{"account_id":1262300,"reputation":23577,"user_id":1220269,"accept_rate":91,"display_name":"Nathaniel Waisbrot"},"score":0,"creation_date":1365742238,"post_id":15963082,"comment_id":22751596,"body_markdown":"I have had weird problems doing it that way in the past, and better results using the Eclipse Marketplace to do it.","body":"I have had weird problems doing it that way in the past, and better results using the Eclipse Marketplace to do it."}],"answers":[{"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1365780700,"post_id":15965299,"comment_id":22771940,"body_markdown":"I have a class that extends `JFrame` that I created manually and a class that extends `JPanel` that was created by `WindowBuilder Wizard`. When I open **either** of these two classes with `WindowBuilder Editor` the `Palette` view is **completely empty**.","body":"I have a class that extends <code>JFrame</code> that I created manually and a class that extends <code>JPanel</code> that was created by <code>WindowBuilder Wizard</code>. When I open <b>either</b> of these two classes with <code>WindowBuilder Editor</code> the <code>Palette</code> view is <b>completely empty</b>."}],"tags":[],"owner":{"account_id":308576,"reputation":5250,"user_id":620537,"accept_rate":60,"display_name":"gamerson"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1365750955,"creation_date":1365750955,"answer_id":15965299,"question_id":15963082,"body_markdown":"The Palette view in Eclipse is tied to the currently active Editor.  So if you don&#39;t have an Editor or you have selected and focused on the Palette view, it will be empty.  So leave the palette view open, then create a JFrame java class.  Then right-click the Java Class and make sure you are opening it in the WindowBuilder editor.  Once the WindowBuilder visual editor is open, and you also have the Palette open, you should see the wigets populated there.","title":"Eclipse Juno WindowBuilder Palette is Empty","body":"<p>The Palette view in Eclipse is tied to the currently active Editor.  So if you don't have an Editor or you have selected and focused on the Palette view, it will be empty.  So leave the palette view open, then create a JFrame java class.  Then right-click the Java Class and make sure you are opening it in the WindowBuilder editor.  Once the WindowBuilder visual editor is open, and you also have the Palette open, you should see the wigets populated there.</p>\n"},{"tags":[],"owner":{"account_id":5483312,"reputation":149,"user_id":4358971,"display_name":"Ritesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638087919,"creation_date":1638087919,"answer_id":70141730,"question_id":15963082,"body_markdown":"Check if pallet is open in view pannel (parallel to console, progress and all), if it is open close that, then pannel will appear automatically in windowsBuilder tool.","title":"Eclipse Juno WindowBuilder Palette is Empty","body":"<p>Check if pallet is open in view pannel (parallel to console, progress and all), if it is open close that, then pannel will appear automatically in windowsBuilder tool.</p>\n"},{"tags":[],"owner":{"account_id":30101363,"reputation":1,"user_id":23068388,"display_name":"Dinesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702071082,"creation_date":1702071082,"answer_id":77629268,"question_id":15963082,"body_markdown":"go to menu, window/Show view in the menu and enable palete option.","title":"Eclipse Juno WindowBuilder Palette is Empty","body":"<p>go to menu, window/Show view in the menu and enable palete option.</p>\n"}],"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14698,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15965299,"answer_count":3,"score":2,"last_activity_date":1702071082,"creation_date":1365740953,"question_id":15963082,"body_markdown":"I&#39;m using **Eclipse 4.2 (Juno) for Java EE** and just installed **WindowBuilder** plug-n. At this time I&#39;m building Java SE Application with Swing components.\r\n\r\nThe `Palette` is **completely empty** (no widgets). Is it a sign of incomplete installation or have I (hopefully) missed something obvious?\r\n\r\nI was able to select `New -&gt; Other -&gt; WindowBuilder -&gt; Swing Designer -&gt; JPanel`.\r\n\r\nNot even sure what other information I need to provide.\r\n\r\nThank you in advance for your help.\r\n\r\n**EDIT:** \r\n\r\nI installed via `Help -&gt; Install new software`  Followed [these instructions][1].\r\n\r\nWhat throws me off is that in Eclipse Community Forum I found [a post][2] which answering a similar question states: &quot;*What you are seeing is the **expected behaviour**. Until you actually edit a UI class using WindowBuilder, those views will be empty.*&quot;.  I do not know how to interpret it.\r\n\r\n**UPDATE: Problem solved**\r\n\r\nWhen I created a new `JFrame` via `Create new visual classes` icon I finally got `Design` view as well as `Palette` full of components and normal `Structure` view.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10867920/installing-windowbuilder-on-eclipse-4-2?rq=1\r\n  [2]: http://www.eclipse.org/forums/index.php/mv/msg/243146/730895/","title":"Eclipse Juno WindowBuilder Palette is Empty","body":"<p>I'm using <strong>Eclipse 4.2 (Juno) for Java EE</strong> and just installed <strong>WindowBuilder</strong> plug-n. At this time I'm building Java SE Application with Swing components.</p>\n\n<p>The <code>Palette</code> is <strong>completely empty</strong> (no widgets). Is it a sign of incomplete installation or have I (hopefully) missed something obvious?</p>\n\n<p>I was able to select <code>New -&gt; Other -&gt; WindowBuilder -&gt; Swing Designer -&gt; JPanel</code>.</p>\n\n<p>Not even sure what other information I need to provide.</p>\n\n<p>Thank you in advance for your help.</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>I installed via <code>Help -&gt; Install new software</code>  Followed <a href=\"https://stackoverflow.com/questions/10867920/installing-windowbuilder-on-eclipse-4-2?rq=1\">these instructions</a>.</p>\n\n<p>What throws me off is that in Eclipse Community Forum I found <a href=\"http://www.eclipse.org/forums/index.php/mv/msg/243146/730895/\" rel=\"nofollow noreferrer\">a post</a> which answering a similar question states: \"<em>What you are seeing is the <strong>expected behaviour</strong>. Until you actually edit a UI class using WindowBuilder, those views will be empty.</em>\".  I do not know how to interpret it.</p>\n\n<p><strong>UPDATE: Problem solved</strong></p>\n\n<p>When I created a new <code>JFrame</code> via <code>Create new visual classes</code> icon I finally got <code>Design</code> view as well as <code>Palette</code> full of components and normal <code>Structure</code> view.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"owner":{"account_id":11925912,"reputation":23,"user_id":8727214,"display_name":"Gin98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702070597,"creation_date":1701882986,"question_id":77615067,"body_markdown":"I&#39;ve included the necessary dependencies and when it is exposed, I can get the process uptime of my server but I would rather not expose these endpoints to the web for security reasons.  I understand I could use spring security to lock down these endpoints but I would rather not include a dependency that is unnecessary unless its needed.  This is all in a microservice that simply runs a scheduled task.  None of it should be exposed to the web to begin with but since we were using spring boot and needed to collect metrics on it anyways, I decided to go this route.  I&#39;m using spring boot 2.7.16\r\n\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.16&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n```\r\n\r\n\r\nHere is the scrubbed code I&#39;m using.  @Autowired works fine when the metrics endpoint is exposed to the web \r\n\r\n```\r\n@Component\r\npublic class ScheduledTasks {\r\n\r\n\tprivate static final Logger LOGGER = LogManager.getLogger(ScheduledTasks.class.getName());\r\n\r\n\t@Autowired\r\n\tprivate MetricsEndpoint metrics;\r\n\r\n        @Scheduled(fixedDelayString = &quot;${schedule.checkAvailability}&quot;)\r\n\tpublic void checkUptime() {\r\n\t\tSet&lt;String&gt; listOfNames = metrics.listNames().getNames();\r\n\t\tLOGGER.info(&quot;Trying to log list of names&quot;);\r\n\t\tLOGGER.info(listOfNames);\r\n\t\tlistOfNames.forEach(names -&gt; {\r\n\t\t\tLOGGER.info(names);\r\n\t\t});\r\n\t\t// this returns the amount of time the JVM has been active in seconds\r\n\t\tDouble uptimeInSeconds = metrics.metric(&quot;process.uptime&quot;, null).getMeasurements().get(0).getValue();\r\n\t\tLOGGER.info(&quot;uptimeInSeconds&quot;);\r\n\t\tLOGGER.info(uptimeInSeconds);\r\n        }\r\n```\r\nI&#39;m using fabric8 in order download configMaps and apply them on start.  Its worked perfectly in that regard and when I enable the web endpoint this all works. Here is my scrubbed config map \r\n\r\n\r\n```\r\nkind: ConfigMap\r\napiVersion: v1\r\nmetadata:\r\n    name: example\r\ndata:\r\n    management.endpoints.web.exposure.include: &quot;health,info&quot;\r\n    management.endpoints.web.base-path: &quot;/example/metrics/actuator&quot;\r\n    management.metrics.enable.all: &quot;true&quot;\r\n    #time in milliseconds\r\n    schedule.checkAvailability: &quot;60000&quot;\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried just making my own MetricsEndpoint bean with a SimpleMeterRegistry but this does not seem to be giving any metrics at all.  When I log the list of names available for metrics, its empty.  I&#39;d prefer to somehow use the default metrics provided when its exposed to the web as the information seems valuable for our use case. \r\n\r\n\r\n```\r\n\t@Bean\r\n\tpublic MetricsEndpoint metricsEndpoint() {\r\n\t\tSimpleMeterRegistry registery = new SimpleMeterRegistry();\r\n\t\treturn new MetricsEndpoint(registery);\r\n\t}\r\n```\r\nUPDATE SOLVED \r\nFor the poor soul who finds this via google.\r\nI did this with JMX.\r\nIm not sure if there is an easier and better way but its how I made it work.\r\nI kept the logging in but feel free to remove it obviously.\r\nI&#39;m using the jackson mapper com.fasterxml.jackson.databind.ObjectMapper;\r\nIf you want to define your own domain here is a link https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/reference/html/production-ready-jmx.html\r\nI just defined my own in my configMap and included the \r\nspring.jmx.enabled: &quot;true&quot; as well. \r\n\r\n```\r\n\r\n\tprivate ArrayList&lt;Map&lt;String, Object&gt;&gt; getMetricMeasurements(String metric) throws Exception {\r\n\t\tObject individualMetric = null;\r\n\t\tMap&lt;String, Object&gt; metricMap = null;\r\n\t\tMBeanServer mBeanServer = ManagementFactory.getPlatformMBeanServer();\r\n\t\tObjectName metricsName = null;\r\n\t\tMBeanInfo mBeanInfo = null;\r\n\t\tArrayList&lt;Map&lt;String, Object&gt;&gt; measurementList = null;\r\n\r\n\t\ttry {\r\n\t\t\tLOGGER.info(&quot;looking at metricsObject&quot;);\r\n            //this will be either the default spring domain or your defined one\r\n            metricsName = new ObjectName(&quot;org.springframework.boot:type=Endpoint,name=Metrics&quot;);\r\n\t\t\tLOGGER.info(metricsName);\r\n\t\t\tLOGGER.info(&quot;looking at mBeanInfo&quot;);\r\n\t\t\tmBeanInfo = mBeanServer.getMBeanInfo(metricsName);\r\n\t\t\tLOGGER.info(mBeanInfo);\r\n\r\n\t\t\tif (mBeanInfo != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tObject[] metricParam = { metric };\r\n\t\t\t\t\tString[] metricSignature = { String.class.getName(), List.class.getName() };\r\n\t\t\t\t\tLOGGER.info(&quot;looking at individualMetric&quot;);\r\n\t\t\t\t\tindividualMetric = mBeanServer.invoke(metricsName, &quot;metric&quot;, metricParam, metricSignature);\r\n\t\t\t\t\tLOGGER.info(individualMetric);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tLOGGER.error(e.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (individualMetric != null) {\r\n\t\t\t\tObjectMapper JSONMapper = new ObjectMapper();\r\n\t\t\t\tString jsonString = JSONMapper.writeValueAsString(individualMetric);\r\n\t\t\t\tLOGGER.info(&quot;metricMap&quot;);\r\n\t\t\t\tmetricMap = JSONMapper.readValue(jsonString, Map.class);\r\n\t\t\t\tLOGGER.info(metricMap);\r\n\t\t\t\tLOGGER.info(&quot;measurementList&quot;);\r\n\t\t\t\tmeasurementList = (ArrayList&lt;Map&lt;String, Object&gt;&gt;) metricMap.get(&quot;measurements&quot;);\r\n\t\t\t\tLOGGER.info(measurementList);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(e.getMessage());\r\n\t\t}\r\n\r\n\t\treturn measurementList;\r\n\t}\r\n\r\n\r\n```\r\n\r\nThis will return the following format if you call getMetricMeasurement(&quot;process.uptime&quot;)\r\n[{statistic=VALUE, value=some-double-value}]","title":"Is there a way to get the data from the actuator metrics without exposing it to the web?","body":"<p>I've included the necessary dependencies and when it is exposed, I can get the process uptime of my server but I would rather not expose these endpoints to the web for security reasons.  I understand I could use spring security to lock down these endpoints but I would rather not include a dependency that is unnecessary unless its needed.  This is all in a microservice that simply runs a scheduled task.  None of it should be exposed to the web to begin with but since we were using spring boot and needed to collect metrics on it anyways, I decided to go this route.  I'm using spring boot 2.7.16</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.16&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n        &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>Here is the scrubbed code I'm using.  @Autowired works fine when the metrics endpoint is exposed to the web</p>\n<pre><code>@Component\npublic class ScheduledTasks {\n\n    private static final Logger LOGGER = LogManager.getLogger(ScheduledTasks.class.getName());\n\n    @Autowired\n    private MetricsEndpoint metrics;\n\n        @Scheduled(fixedDelayString = &quot;${schedule.checkAvailability}&quot;)\n    public void checkUptime() {\n        Set&lt;String&gt; listOfNames = metrics.listNames().getNames();\n        LOGGER.info(&quot;Trying to log list of names&quot;);\n        LOGGER.info(listOfNames);\n        listOfNames.forEach(names -&gt; {\n            LOGGER.info(names);\n        });\n        // this returns the amount of time the JVM has been active in seconds\n        Double uptimeInSeconds = metrics.metric(&quot;process.uptime&quot;, null).getMeasurements().get(0).getValue();\n        LOGGER.info(&quot;uptimeInSeconds&quot;);\n        LOGGER.info(uptimeInSeconds);\n        }\n</code></pre>\n<p>I'm using fabric8 in order download configMaps and apply them on start.  Its worked perfectly in that regard and when I enable the web endpoint this all works. Here is my scrubbed config map</p>\n<pre><code>kind: ConfigMap\napiVersion: v1\nmetadata:\n    name: example\ndata:\n    management.endpoints.web.exposure.include: &quot;health,info&quot;\n    management.endpoints.web.base-path: &quot;/example/metrics/actuator&quot;\n    management.metrics.enable.all: &quot;true&quot;\n    #time in milliseconds\n    schedule.checkAvailability: &quot;60000&quot;\n</code></pre>\n<p>I've tried just making my own MetricsEndpoint bean with a SimpleMeterRegistry but this does not seem to be giving any metrics at all.  When I log the list of names available for metrics, its empty.  I'd prefer to somehow use the default metrics provided when its exposed to the web as the information seems valuable for our use case.</p>\n<pre><code>    @Bean\n    public MetricsEndpoint metricsEndpoint() {\n        SimpleMeterRegistry registery = new SimpleMeterRegistry();\n        return new MetricsEndpoint(registery);\n    }\n</code></pre>\n<p>UPDATE SOLVED\nFor the poor soul who finds this via google.\nI did this with JMX.\nIm not sure if there is an easier and better way but its how I made it work.\nI kept the logging in but feel free to remove it obviously.\nI'm using the jackson mapper com.fasterxml.jackson.databind.ObjectMapper;\nIf you want to define your own domain here is a link <a href=\"https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/reference/html/production-ready-jmx.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.6.RELEASE/reference/html/production-ready-jmx.html</a>\nI just defined my own in my configMap and included the\nspring.jmx.enabled: &quot;true&quot; as well.</p>\n<pre><code>\n    private ArrayList&lt;Map&lt;String, Object&gt;&gt; getMetricMeasurements(String metric) throws Exception {\n        Object individualMetric = null;\n        Map&lt;String, Object&gt; metricMap = null;\n        MBeanServer mBeanServer = ManagementFactory.getPlatformMBeanServer();\n        ObjectName metricsName = null;\n        MBeanInfo mBeanInfo = null;\n        ArrayList&lt;Map&lt;String, Object&gt;&gt; measurementList = null;\n\n        try {\n            LOGGER.info(&quot;looking at metricsObject&quot;);\n            //this will be either the default spring domain or your defined one\n            metricsName = new ObjectName(&quot;org.springframework.boot:type=Endpoint,name=Metrics&quot;);\n            LOGGER.info(metricsName);\n            LOGGER.info(&quot;looking at mBeanInfo&quot;);\n            mBeanInfo = mBeanServer.getMBeanInfo(metricsName);\n            LOGGER.info(mBeanInfo);\n\n            if (mBeanInfo != null) {\n                try {\n                    Object[] metricParam = { metric };\n                    String[] metricSignature = { String.class.getName(), List.class.getName() };\n                    LOGGER.info(&quot;looking at individualMetric&quot;);\n                    individualMetric = mBeanServer.invoke(metricsName, &quot;metric&quot;, metricParam, metricSignature);\n                    LOGGER.info(individualMetric);\n                } catch (Exception e) {\n                    LOGGER.error(e.getMessage());\n                }\n            }\n\n            if (individualMetric != null) {\n                ObjectMapper JSONMapper = new ObjectMapper();\n                String jsonString = JSONMapper.writeValueAsString(individualMetric);\n                LOGGER.info(&quot;metricMap&quot;);\n                metricMap = JSONMapper.readValue(jsonString, Map.class);\n                LOGGER.info(metricMap);\n                LOGGER.info(&quot;measurementList&quot;);\n                measurementList = (ArrayList&lt;Map&lt;String, Object&gt;&gt;) metricMap.get(&quot;measurements&quot;);\n                LOGGER.info(measurementList);\n            }\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage());\n        }\n\n        return measurementList;\n    }\n\n\n</code></pre>\n<p>This will return the following format if you call getMetricMeasurement(&quot;process.uptime&quot;)\n[{statistic=VALUE, value=some-double-value}]</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","webdriver","nwjs"],"owner":{"account_id":22513715,"reputation":33,"user_id":19018607,"display_name":"Laserwolve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702070299,"creation_date":1702070299,"question_id":77629224,"body_markdown":"I&#39;m running a Selenium Java JUnit test against an NW.js application, using chrome driver. I need to execute JavaScript in the &quot;Runtime&quot; context, see below. It doesn&#39;t exist in the DOM, so I can&#39;t switch to it like I would an IFrame. How can I execute JavaScript in a different context that isn&#39;t an iFrame?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n`window.frames.length` is 0, so these &quot;extension&quot; contexts don&#39;t seem to be treated as IFrames. I can execute JavaScript just fine by manually writing it into the DevTools window of the NW.js application.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QKyUs.png","title":"Execute JavaScript in Selenium Java, in different (non-IFrame) context","body":"<p>I'm running a Selenium Java JUnit test against an NW.js application, using chrome driver. I need to execute JavaScript in the &quot;Runtime&quot; context, see below. It doesn't exist in the DOM, so I can't switch to it like I would an IFrame. How can I execute JavaScript in a different context that isn't an iFrame?</p>\n<p><a href=\"https://i.stack.imgur.com/QKyUs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QKyUs.png\" alt=\"enter image description here\" /></a></p>\n<p><code>window.frames.length</code> is 0, so these &quot;extension&quot; contexts don't seem to be treated as IFrames. I can execute JavaScript just fine by manually writing it into the DevTools window of the NW.js application.</p>\n"},{"tags":["c#","java","unicode","utf-8","utf-16"],"comments":[{"owner":{"account_id":86959,"reputation":71656,"user_id":241462,"accept_rate":71,"display_name":"Dean Harding"},"score":3,"creation_date":1275133786,"post_id":2934809,"comment_id":2989075,"body_markdown":"In addition to my answer, I would say that .NET/C# chose UTF-16 because that&#39;s the &quot;native&quot; encoding of Windows: it&#39;s easier to interop with native Windows if you&#39;re using the same encoding.","body":"In addition to my answer, I would say that .NET/C# chose UTF-16 because that&#39;s the &quot;native&quot; encoding of Windows: it&#39;s easier to interop with native Windows if you&#39;re using the same encoding."},{"owner":{"account_id":10108,"reputation":530037,"user_id":18936,"display_name":"bobince"},"score":1,"creation_date":1275136190,"post_id":2934809,"comment_id":2989244,"body_markdown":"For what purposes are you choosing an encoding? UTF-16 is a reasonable choice for in-memory string handling, as is `wchar_t` which will be UTF-16 on Windows and typically UTF-32 elsewhere. But for on-the-wire protocols and file storage, UTF-8 is almost always the best choice.","body":"For what purposes are you choosing an encoding? UTF-16 is a reasonable choice for in-memory string handling, as is <code>wchar_t</code> which will be UTF-16 on Windows and typically UTF-32 elsewhere. But for on-the-wire protocols and file storage, UTF-8 is almost always the best choice."},{"owner":{"account_id":106133,"reputation":106244,"user_id":282848,"accept_rate":93,"display_name":"Andreas Rejbrand"},"score":2,"creation_date":1275148094,"post_id":2934809,"comment_id":2990077,"body_markdown":"@codeka: I agree (gave you +1), but then one could also ask the question &quot;why is the native encoding of Windows UTF-16 and not UTF-8?&quot;.","body":"@codeka: I agree (gave you +1), but then one could also ask the question &quot;why is the native encoding of Windows UTF-16 and not UTF-8?&quot;."},{"owner":{"account_id":95063,"reputation":18807,"user_id":259130,"accept_rate":54,"display_name":"Roman A. Taycher"},"score":0,"creation_date":1298813623,"post_id":2934809,"comment_id":5759275,"body_markdown":"The qt c++ framework also uses utf-16 for strings","body":"The qt c++ framework also uses utf-16 for strings"},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1369878638,"post_id":2934809,"comment_id":24259900,"body_markdown":"Prefer UTF-16 if it is native to your Operating System or Programming Language. That means Windows, C#, and Java mainly. Choose UTF-8 if it is native to your Operating System or Programming Language, or when your programming language doesn&#39;t really have a native encoding. This means *nix and Mac OS X, C, C++. If you&#39;re cross-platform from the start it seems easer to get UTF-8 to work nice on Windows than to use UTF-16 everywhere on *nix in the case of C/C++. Perl is designed to work with all encodings but implicit conversions lead to many errors. JavaScript including node.js uses UCS-2!!","body":"Prefer UTF-16 if it is native to your Operating System or Programming Language. That means Windows, C#, and Java mainly. Choose UTF-8 if it is native to your Operating System or Programming Language, or when your programming language doesn&#39;t really have a native encoding. This means *nix and Mac OS X, C, C++. If you&#39;re cross-platform from the start it seems easer to get UTF-8 to work nice on Windows than to use UTF-16 everywhere on *nix in the case of C/C++. Perl is designed to work with all encodings but implicit conversions lead to many errors. JavaScript including node.js uses UCS-2!!"}],"answers":[{"comments":[{"owner":{"account_id":13590,"reputation":115420,"user_id":27423,"accept_rate":89,"display_name":"Daniel Earwicker"},"score":3,"creation_date":1275133596,"post_id":2934828,"comment_id":2989065,"body_markdown":"+1 in fact I think Unicode version 1 only had the basic, which is why a number of platforms assumed 16-bits would be the right size for a simple character data type.","body":"+1 in fact I think Unicode version 1 only had the basic, which is why a number of platforms assumed 16-bits would be the right size for a simple character data type."},{"owner":{"account_id":7507,"reputation":122616,"user_id":13087,"accept_rate":68,"display_name":"Joe"},"score":1,"creation_date":1275133915,"post_id":2934828,"comment_id":2989081,"body_markdown":"&quot;I think Unicode version 1 only had the basic&quot; - yes that&#39;s true, more details here: http://en.wikipedia.org/wiki/UTF-16/UCS-2","body":"&quot;I think Unicode version 1 only had the basic&quot; - yes that&#39;s true, more details here: <a href=\"http://en.wikipedia.org/wiki/UTF-16/UCS-2\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/UTF-16/UCS-2</a>"},{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":7,"creation_date":1282624172,"post_id":2934828,"comment_id":3723280,"body_markdown":"That&#39;s like saying &quot;a lot of programs only care about ASCII, so can treat UTF-8 as a fixed-length encoding.&quot;","body":"That&#39;s like saying &quot;a lot of programs only care about ASCII, so can treat UTF-8 as a fixed-length encoding.&quot;"},{"owner":{"account_id":32038,"reputation":18896,"user_id":88409,"accept_rate":38,"display_name":"Triynko"},"score":4,"creation_date":1302734631,"post_id":2934828,"comment_id":6452579,"body_markdown":"You certainly cannot treat UTF-16 as a fixed-length encoding.  Well, you CAN, but it would be WRONG, and it would FAIL under certain conditions.  No text-transform functions are surrogate neutral: computing character length, changing case, swapping characters, reversing string, etc... all can cause character corruption if surrogate pairs are not accounted for.  You cannot simply ignore part of the encoding rules because it&#39;s convenient or usually has no side effects.  It&#39;s just incorrect.","body":"You certainly cannot treat UTF-16 as a fixed-length encoding.  Well, you CAN, but it would be WRONG, and it would FAIL under certain conditions.  No text-transform functions are surrogate neutral: computing character length, changing case, swapping characters, reversing string, etc... all can cause character corruption if surrogate pairs are not accounted for.  You cannot simply ignore part of the encoding rules because it&#39;s convenient or usually has no side effects.  It&#39;s just incorrect."},{"owner":{"account_id":250783,"reputation":16159,"user_id":527702,"accept_rate":63,"display_name":"hippietrail"},"score":0,"creation_date":1369878871,"post_id":2934828,"comment_id":24259940,"body_markdown":"I am constantly being aggravated by new software I&#39;ve found which made this decision and ends up with all kinds of problems when there&#39;s a single non-BMP character in the text. It&#39;s especially common in the UCS-2/UTF-16 universe centred around Windows, Java, C#, and JavaScript.","body":"I am constantly being aggravated by new software I&#39;ve found which made this decision and ends up with all kinds of problems when there&#39;s a single non-BMP character in the text. It&#39;s especially common in the UCS-2/UTF-16 universe centred around Windows, Java, C#, and JavaScript."}],"tags":[],"owner":{"account_id":7507,"reputation":122616,"user_id":13087,"accept_rate":68,"display_name":"Joe"},"comment_count":5,"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1275132870,"creation_date":1275132870,"answer_id":2934828,"question_id":2934809,"body_markdown":"For many (most?) applications, you will be dealing only with characters in the &lt;a href=&quot;http://en.wikipedia.org/wiki/Basic_Multilingual_Plane#Basic_Multilingual_Plane&quot;&gt;Basic Multilingual Plane&lt;/a&gt;, so can treat UTF-16 as a fixed-length encoding.  \r\n\r\nSo you avoid all the complexity of variable-length encodings like UTF-8.","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<p>For many (most?) applications, you will be dealing only with characters in the <a href=\"http://en.wikipedia.org/wiki/Basic_Multilingual_Plane#Basic_Multilingual_Plane\" rel=\"nofollow noreferrer\">Basic Multilingual Plane</a>, so can treat UTF-16 as a fixed-length encoding.  </p>\n\n<p>So you avoid all the complexity of variable-length encodings like UTF-8.</p>\n"},{"comments":[{"owner":{"account_id":58209,"reputation":14498,"user_id":174335,"display_name":"Joren"},"score":1,"creation_date":1275133442,"post_id":2934852,"comment_id":2989060,"body_markdown":"+1 For correctly characterizing the number of bytes per character in UTF-16 and UTF-8.","body":"+1 For correctly characterizing the number of bytes per character in UTF-16 and UTF-8."},{"owner":{"account_id":9339,"reputation":17339,"user_id":17211,"accept_rate":98,"display_name":"Razor"},"score":1,"creation_date":1275137400,"post_id":2934852,"comment_id":2989368,"body_markdown":"I thought UTF-8 can encode up to 4 bytes which pretty much makes UTF-16 and UTF-32 useless.","body":"I thought UTF-8 can encode up to 4 bytes which pretty much makes UTF-16 and UTF-32 useless."},{"owner":{"account_id":86959,"reputation":71656,"user_id":241462,"accept_rate":71,"display_name":"Dean Harding"},"score":1,"creation_date":1275137918,"post_id":2934852,"comment_id":2989417,"body_markdown":"@Sir Psycho: UTF-8 is a variable-length encoding, which is more complex to process than a fixed-length encoding. Also, see my comments on Gumbo&#39;s answer: basically, combining characters exist in all encodings (UTF-8, UTF-16 &amp; UTF-32) and they require special handling. You can use the same special handling that you use for combining characters to also handle surrogate pairs in UTF-16, so *for the most part* you can ignore surrogates and treat UTF-16 just like a fixed encoding.","body":"@Sir Psycho: UTF-8 is a variable-length encoding, which is more complex to process than a fixed-length encoding. Also, see my comments on Gumbo&#39;s answer: basically, combining characters exist in all encodings (UTF-8, UTF-16 &amp; UTF-32) and they require special handling. You can use the same special handling that you use for combining characters to also handle surrogate pairs in UTF-16, so <i>for the most part</i> you can ignore surrogates and treat UTF-16 just like a fixed encoding."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1275137933,"post_id":2934852,"comment_id":2989418,"body_markdown":"@Sir Psycho: UTF-8, UTF-16, and UTF-32 are all able to encode all the characters of Unicode. codeka was talking about how many bytes that result from encoding a &quot;typical&quot; Unicode character using UTF-8 and UTF-16.","body":"@Sir Psycho: UTF-8, UTF-16, and UTF-32 are all able to encode all the characters of Unicode. codeka was talking about how many bytes that result from encoding a &quot;typical&quot; Unicode character using UTF-8 and UTF-16."},{"owner":{"account_id":32038,"reputation":18896,"user_id":88409,"accept_rate":38,"display_name":"Triynko"},"score":9,"creation_date":1302734840,"post_id":2934852,"comment_id":6452611,"body_markdown":"The key word there is &quot;can **usually** be processed as a fixed-size encoding&quot;.  It is still absolutely incorrect to do so, if you care about the integrity of characters.  What you&#39;re actually doing is meaning to writing code to manipulate &quot;characters&quot;, but actually writing it to manipulate &quot;16-bit chunks of data&quot;.  If you mean to manipulate characters (swap them, uppercase them, reverse them, etc.), then you need to observe all the rules of the character encoding, not just the ones that are convenient.  Software BLOWS UP, because people make stupid assumptions :(","body":"The key word there is &quot;can <b>usually</b> be processed as a fixed-size encoding&quot;.  It is still absolutely incorrect to do so, if you care about the integrity of characters.  What you&#39;re actually doing is meaning to writing code to manipulate &quot;characters&quot;, but actually writing it to manipulate &quot;16-bit chunks of data&quot;.  If you mean to manipulate characters (swap them, uppercase them, reverse them, etc.), then you need to observe all the rules of the character encoding, not just the ones that are convenient.  Software BLOWS UP, because people make stupid assumptions :("},{"owner":{"account_id":86959,"reputation":71656,"user_id":241462,"accept_rate":71,"display_name":"Dean Harding"},"score":0,"creation_date":1302789649,"post_id":2934852,"comment_id":6463269,"body_markdown":"If you&#39;re swapping, reversing or upper-casing characters, then even in UTF-32, you need to consider combining characters. The point is, handling surrogate pairs is, for the most part, the same as handling combining characters. So if you&#39;re already handling combining characters correctly, there is almost nothing extra required to handle surrogate pairs.","body":"If you&#39;re swapping, reversing or upper-casing characters, then even in UTF-32, you need to consider combining characters. The point is, handling surrogate pairs is, for the most part, the same as handling combining characters. So if you&#39;re already handling combining characters correctly, there is almost nothing extra required to handle surrogate pairs."}],"tags":[],"owner":{"account_id":86959,"reputation":71656,"user_id":241462,"accept_rate":71,"display_name":"Dean Harding"},"comment_count":6,"down_vote_count":1,"up_vote_count":38,"is_accepted":true,"score":37,"last_activity_date":1275133288,"creation_date":1275133288,"answer_id":2934852,"question_id":2934809,"body_markdown":"East Asian languages typically require less storage in UTF-16 (2 bytes is enough for 99% of East-Asian language characters) than UTF-8 (typically 3 bytes is required).\r\n\r\nOf course, for Western lanagues, UTF-8 is usually smaller (1 byte instead of 2). For mixed files like HTML (where there&#39;s a lot of markup) it&#39;s much of a muchness.\r\n\r\nProcessing of UTF-16 for user-mode applications is *slightly* easier than processing UTF-8, because surrogate pairs behave in almost the same way that combining characters behave. So UTF-16 can usually be processed as a fixed-size encoding.","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<p>East Asian languages typically require less storage in UTF-16 (2 bytes is enough for 99% of East-Asian language characters) than UTF-8 (typically 3 bytes is required).</p>\n\n<p>Of course, for Western lanagues, UTF-8 is usually smaller (1 byte instead of 2). For mixed files like HTML (where there's a lot of markup) it's much of a muchness.</p>\n\n<p>Processing of UTF-16 for user-mode applications is <em>slightly</em> easier than processing UTF-8, because surrogate pairs behave in almost the same way that combining characters behave. So UTF-16 can usually be processed as a fixed-size encoding.</p>\n"},{"comments":[{"owner":{"account_id":87565,"reputation":26371,"user_id":242762,"accept_rate":87,"display_name":"Oak"},"score":0,"creation_date":1275135909,"post_id":2934860,"comment_id":2989224,"body_markdown":"Could you elaborate about &quot;Java and C# do not take surrogate pairs into account when indexing strings&quot;?","body":"Could you elaborate about &quot;Java and C# do not take surrogate pairs into account when indexing strings&quot;?"},{"owner":{"account_id":142253,"reputation":5880,"user_id":349836,"accept_rate":88,"display_name":"corvuscorax"},"score":1,"creation_date":1275137186,"post_id":2934860,"comment_id":2989356,"body_markdown":"If you have a string in C# (or Java) that contains surrogate pairs (SPs are used to encode characters outside the normal two-byte range), each pair will count as two 16-bit characters, rather than as 1 Unicode code point. At least for indexing and length reporting purposes.","body":"If you have a string in C# (or Java) that contains surrogate pairs (SPs are used to encode characters outside the normal two-byte range), each pair will count as two 16-bit characters, rather than as 1 Unicode code point. At least for indexing and length reporting purposes."}],"tags":[],"owner":{"account_id":142253,"reputation":5880,"user_id":349836,"accept_rate":88,"display_name":"corvuscorax"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275133461,"creation_date":1275133461,"answer_id":2934860,"question_id":2934809,"body_markdown":"It depends on the expected character sets. If you expect heavy use of Unicode code points outside of the 7-bit ASCII range then you might find that UTF-16 will be more compact than UTF-8, since some UTF-8 sequences are more than two bytes long.\r\n\r\nAlso, for efficiency reasons, Java and C# does not take surrogate pairs into account when indexing strings. This would break down completely when using code points that are represented with UTF-8 sequences that take up an odd number of bytes.\r\n\r\n","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<p>It depends on the expected character sets. If you expect heavy use of Unicode code points outside of the 7-bit ASCII range then you might find that UTF-16 will be more compact than UTF-8, since some UTF-8 sequences are more than two bytes long.</p>\n\n<p>Also, for efficiency reasons, Java and C# does not take surrogate pairs into account when indexing strings. This would break down completely when using code points that are represented with UTF-8 sequences that take up an odd number of bytes.</p>\n"},{"comments":[{"owner":{"account_id":55286,"reputation":26974,"user_id":165500,"accept_rate":89,"display_name":"Andrew Russell"},"score":0,"creation_date":1275134907,"post_id":2934910,"comment_id":2989148,"body_markdown":"Oh, and don&#39;t forget combining characters! (Which `GetTextElementEnumerator` will also handle.)","body":"Oh, and don&#39;t forget combining characters! (Which <code>GetTextElementEnumerator</code> will also handle.)"},{"owner":{"account_id":7507,"reputation":122616,"user_id":13087,"accept_rate":68,"display_name":"Joe"},"score":2,"creation_date":1275137452,"post_id":2934910,"comment_id":2989373,"body_markdown":"&quot;...you cannot treat UTF-16 as UCS-2&quot; - but many successful real-world applications do, and get away with it because they are only using BMP characters.","body":"&quot;...you cannot treat UTF-16 as UCS-2&quot; - but many successful real-world applications do, and get away with it because they are only using BMP characters."},{"owner":{"account_id":55286,"reputation":26974,"user_id":165500,"accept_rate":89,"display_name":"Andrew Russell"},"score":1,"creation_date":1275212284,"post_id":2934910,"comment_id":2992887,"body_markdown":"@Joe For simply pushing text about, just pretending each character is 2 bytes will &quot;work&quot; (just like you can often pretend UTF-8 is ASCII and hope for the best). In fact, that&#39;s what you&#39;re usually doing when you use `string` in C#. But what happens if I paste or load some text into your application in, say, a decomposed format? Anything that does processing on a character-by-character basis needs to do so with an actual understanding of how that text is encoded. (Fortunately most applications work on strings, not characters.)","body":"@Joe For simply pushing text about, just pretending each character is 2 bytes will &quot;work&quot; (just like you can often pretend UTF-8 is ASCII and hope for the best). In fact, that&#39;s what you&#39;re usually doing when you use <code>string</code> in C#. But what happens if I paste or load some text into your application in, say, a decomposed format? Anything that does processing on a character-by-character basis needs to do so with an actual understanding of how that text is encoded. (Fortunately most applications work on strings, not characters.)"},{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":1,"creation_date":1278422663,"post_id":2934910,"comment_id":3281781,"body_markdown":"The bigger reason is that the original Windows NT was released about the same time as Unicode 1.1, before there were supplementary planes.","body":"The bigger reason is that the original Windows NT was released about the same time as Unicode 1.1, before there were supplementary planes."},{"owner":{"account_id":4451237,"reputation":2080,"user_id":3934894,"display_name":"Peter"},"score":0,"creation_date":1513942507,"post_id":2934910,"comment_id":82850878,"body_markdown":"Insightfull thinking here, +1 and now lets wait for UTF64 ;)","body":"Insightfull thinking here, +1 and now lets wait for UTF64 ;)"}],"tags":[],"owner":{"account_id":55286,"reputation":26974,"user_id":165500,"accept_rate":89,"display_name":"Andrew Russell"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1275211266,"creation_date":1275134238,"answer_id":2934910,"question_id":2934809,"body_markdown":"I imagine C# using UTF-16 derives from the Windows NT family of operating systems using UTF-16 internally.\r\n\r\nI imagine there are two main reasons why Windows NT uses UTF-16 internally:\r\n\r\n - For memory usage: UTF-32 wastes a\r\n   *lot* of space to encode.\r\n - For performance: UTF-8 is much harder to\r\n   decode than UTF-16. In UTF-16 characters are either\r\n   a Basic Multilingual Plane character (2 bytes) or a Surrogate\r\n   Pair (4 bytes). UTF-8 characters\r\n   can be anywhere between 1 and 4\r\n   bytes.\r\n\r\nContrary to what other people have answered - you cannot treat UTF-16 as [UCS-2][1]. If you want to correctly iterate over actual characters in a string, you have to use unicode-friendly iteration functions. For example in C# you need to use `StringInfo.GetTextElementEnumerator()`.\r\n\r\nFor further information, this page on the wiki is worth reading: http://en.wikipedia.org/wiki/Comparison_of_Unicode_encodings\r\n\r\n  [1]: http://en.wikipedia.org/wiki/UTF-16/UCS-2","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<p>I imagine C# using UTF-16 derives from the Windows NT family of operating systems using UTF-16 internally.</p>\n\n<p>I imagine there are two main reasons why Windows NT uses UTF-16 internally:</p>\n\n<ul>\n<li>For memory usage: UTF-32 wastes a\n<em>lot</em> of space to encode.</li>\n<li>For performance: UTF-8 is much harder to\ndecode than UTF-16. In UTF-16 characters are either\na Basic Multilingual Plane character (2 bytes) or a Surrogate\nPair (4 bytes). UTF-8 characters\ncan be anywhere between 1 and 4\nbytes.</li>\n</ul>\n\n<p>Contrary to what other people have answered - you cannot treat UTF-16 as <a href=\"http://en.wikipedia.org/wiki/UTF-16/UCS-2\" rel=\"noreferrer\">UCS-2</a>. If you want to correctly iterate over actual characters in a string, you have to use unicode-friendly iteration functions. For example in C# you need to use <code>StringInfo.GetTextElementEnumerator()</code>.</p>\n\n<p>For further information, this page on the wiki is worth reading: <a href=\"http://en.wikipedia.org/wiki/Comparison_of_Unicode_encodings\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Comparison_of_Unicode_encodings</a></p>\n"},{"tags":[],"owner":{"account_id":17132,"reputation":7519,"user_id":38031,"accept_rate":78,"display_name":"richj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275134248,"creation_date":1275134248,"answer_id":2934911,"question_id":2934809,"body_markdown":"UTF-16 can be more efficient for representing characters in some languages such as Chinese, Japanese and Korean where __most__ characters can be represented in one 16 bit word. Some rarely used characters may require two 16 bit words. UTF-8 is generally much more efficient for representing characters from Western European character sets - UTF-8 and ASCII are equivalent over the ASCII range (0-127) - but less efficient with Asian languages, requiring three or four bytes to represent characters that can be represented with two bytes in UTF-16.\r\n\r\nUTF-16 has an advantage as an in-memory format for Java/C# in that every character in the Basic Multilingual Plane can be represented in 16 bits (see Joe&#39;s answer) and some of the disadvantages of UTF-16 (e.g. confusing code relying on \\0 terminators) are less relevant.","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<p>UTF-16 can be more efficient for representing characters in some languages such as Chinese, Japanese and Korean where <strong>most</strong> characters can be represented in one 16 bit word. Some rarely used characters may require two 16 bit words. UTF-8 is generally much more efficient for representing characters from Western European character sets - UTF-8 and ASCII are equivalent over the ASCII range (0-127) - but less efficient with Asian languages, requiring three or four bytes to represent characters that can be represented with two bytes in UTF-16.</p>\n\n<p>UTF-16 has an advantage as an in-memory format for Java/C# in that every character in the Basic Multilingual Plane can be represented in 16 bits (see Joe's answer) and some of the disadvantages of UTF-16 (e.g. confusing code relying on \\0 terminators) are less relevant.</p>\n"},{"tags":[],"owner":{"account_id":131131,"reputation":4248,"user_id":330913,"accept_rate":87,"display_name":"NoozNooz42"},"comment_count":0,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1275137866,"creation_date":1275137866,"answer_id":2935131,"question_id":2934809,"body_markdown":"@Oak: this too long for a comment...\r\n\r\nI don&#39;t know about C# (and would be really surprised: it would mean they just copied Java *too* much) but for Java it&#39;s simple: Java was conceived before Unicode 3.1 came out.\r\n\r\nHence there were less than 65537 codepoints, hence every Unicode codepoint was still fitting on 16-bit and so the Java *char* was born.\r\n\r\nOf course this led to crazy issues that are still affecting Java programmers (like me) today, where you have a method *charAt* which in some case does return neither a Unicode character nor a Unicode codepoint and a method (added in Java 5) *codePointAt* which takes an argument which is not the number of codepoints you want you want to skip! (you have to supply to *codePointAt* the number of Java *char* you want to skip, which makes it one of the least understood method in the String class).\r\n\r\nSo, yup, this is definitely wild and confusing most Java programmers (most aren&#39;t even aware of these issues) and, yup, it is for historical reason.  At least, that was the excuse that came up with when people got mad after this issue: *but it&#39;s because Unicode 3.1 wasn&#39;t out yet*.\r\n\r\n:)\r\n\r\n","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<p>@Oak: this too long for a comment...</p>\n\n<p>I don't know about C# (and would be really surprised: it would mean they just copied Java <em>too</em> much) but for Java it's simple: Java was conceived before Unicode 3.1 came out.</p>\n\n<p>Hence there were less than 65537 codepoints, hence every Unicode codepoint was still fitting on 16-bit and so the Java <em>char</em> was born.</p>\n\n<p>Of course this led to crazy issues that are still affecting Java programmers (like me) today, where you have a method <em>charAt</em> which in some case does return neither a Unicode character nor a Unicode codepoint and a method (added in Java 5) <em>codePointAt</em> which takes an argument which is not the number of codepoints you want you want to skip! (you have to supply to <em>codePointAt</em> the number of Java <em>char</em> you want to skip, which makes it one of the least understood method in the String class).</p>\n\n<p>So, yup, this is definitely wild and confusing most Java programmers (most aren't even aware of these issues) and, yup, it is for historical reason.  At least, that was the excuse that came up with when people got mad after this issue: <em>but it's because Unicode 3.1 wasn't out yet</em>.</p>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":2882067,"reputation":132,"user_id":2472717,"display_name":"Aaron Muir Hamilton"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1589992187,"creation_date":1589990308,"answer_id":61917545,"question_id":2934809,"body_markdown":"If we&#39;re talking about plain text alone, UTF-16 can be more compact in some languages, Japanese (about 20%) and Chinese (about 40%) being prime examples. As soon as you&#39;re comparing HTML documents, the advantage goes completely the other way, since UTF-16 is going to waste a byte for every ASCII character.\r\n\r\nAs for simplicity or efficiency: if you implement Unicode correctly in an editor application, complexity will be similar because UTF-16 does not always encode codepoints as a single number anyway, and single codepoints are generally not the right way to segment text.\r\n\r\nGiven that in the most common applications, UTF-16 is less compact, and equally complex to implement, the singular reason to prefer UTF-16 over UTF-8 is if you have a completely closed ecosystem where you are regularly storing or transporting plain text entirely in complex writing systems, without compression.\r\n\r\nAfter compression with zstd or LZMA2, even for 100% Chinese plain text, the advantage is completely wiped out; with gzip the UTF-16 advantage is about 4% on Chinese text with around 3000 unique graphemes.","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<p>If we're talking about plain text alone, UTF-16 can be more compact in some languages, Japanese (about 20%) and Chinese (about 40%) being prime examples. As soon as you're comparing HTML documents, the advantage goes completely the other way, since UTF-16 is going to waste a byte for every ASCII character.</p>\n\n<p>As for simplicity or efficiency: if you implement Unicode correctly in an editor application, complexity will be similar because UTF-16 does not always encode codepoints as a single number anyway, and single codepoints are generally not the right way to segment text.</p>\n\n<p>Given that in the most common applications, UTF-16 is less compact, and equally complex to implement, the singular reason to prefer UTF-16 over UTF-8 is if you have a completely closed ecosystem where you are regularly storing or transporting plain text entirely in complex writing systems, without compression.</p>\n\n<p>After compression with zstd or LZMA2, even for 100% Chinese plain text, the advantage is completely wiped out; with gzip the UTF-16 advantage is about 4% on Chinese text with around 3000 unique graphemes.</p>\n"},{"tags":[],"owner":{"account_id":6523765,"reputation":9872,"user_id":5083516,"display_name":"plugwash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702070197,"creation_date":1702070197,"answer_id":77629215,"question_id":2934809,"body_markdown":"&gt; Anyone knows why these languages chose UTF-16? \r\n\r\nShort answer:\r\n\r\nBecause Sun and Microsoft were early adopters of Unicode.\r\n\r\nLong answer:\r\n\r\nSometime in the late 1980s, people started to realise that a Universal Character set was desirable but what bit width to use was a matter of controversy. In 1989 ISO proposed a draft of ISO 10646 which offered multiple encoding modes, one mode would use 32-bits per character and be able to encode everything without any mode switching. Another would use 16 bits per character but have an escape system for switching. Yet another would use a byte based encoding that had a number of design flaws.\r\n\r\nA number of major software vendors did not like ISO 10646, seeing it as too complicated. They backed an alternative scheme called Unicode. Unicode 1.0, a fixed width 16 bit encoding was published in October 1991. The software vendors were able to convince the national standards bodies to vote down the ISO 10646 draft and ISO were pushed into Unification with Unicode.\r\n\r\nSo that was where we were in the early 1990s, a number of major software vendors had collaborated to design a new fixed width encoding and were adopting it in their Flagship products, including Windows NT and Java. \r\n\r\nMeanwhile, X/Open were looking for a better way to encode Unicode in extended Ascii contexts. UTF-1 sucked for several reasons, it was slow to process because it required calculations modulo a number that was not a power of 2, it was not  self-synchronizing and shorter sequences could appear as sub-sequences of longer ones. These efforts resulted in what we now know as UTF-8 but they happened away from the main line of Unicode development. UTF-8 was developed in 1992 and presented in 1993 at a Usenix conference but it does not seem to have been considered a proper standard until 1996.\r\n\r\nThis is the Environment in which Windows NT (released July 1993) and Java (released January 1996) were designed and released. Unicode was a simple fixed width encoding and hence the obvious choice for an internal processing format. Java did adopt a modified form of UTF-8 but only as a storage format.\r\n\r\nThere was pressure to encode more characters and in July 1996 Unicode 2.0 was introduced. The code space was expanded to just over 20 bits and Unicode was no longer a fixed-width 16 bit encoding. Instead there was a choice of a fixed-width 32-bit encoding or variable width encodings with 8 and 16 bit units.\r\n\r\nNo-one wanted to take the space hit of 32-bit code units or the compatibility hit of changing their encoding unit size for the *second* time, so the systems that had been designed around the original 16 bit Unicode generally ended up using UTF-16. Sure there was some risk that text processing could miscount or mangle the new characters but meh, it was still the lesser evil.\r\n\r\nThe .net framework, and with it C# were introduced somewhat later in 2002, but by this time Microsoft was already deeply committed to 16 bit code units. Their operating system APIs used them. Their file systems used them. Their executable formats used them.\r\n\r\nUnix and the Internet on the other hand, stayed largely byte-based all the way through. UTF-8 was treated as just another encoding, gradually replacing the previous legacy encodings.\r\n\r\n","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<blockquote>\n<p>Anyone knows why these languages chose UTF-16?</p>\n</blockquote>\n<p>Short answer:</p>\n<p>Because Sun and Microsoft were early adopters of Unicode.</p>\n<p>Long answer:</p>\n<p>Sometime in the late 1980s, people started to realise that a Universal Character set was desirable but what bit width to use was a matter of controversy. In 1989 ISO proposed a draft of ISO 10646 which offered multiple encoding modes, one mode would use 32-bits per character and be able to encode everything without any mode switching. Another would use 16 bits per character but have an escape system for switching. Yet another would use a byte based encoding that had a number of design flaws.</p>\n<p>A number of major software vendors did not like ISO 10646, seeing it as too complicated. They backed an alternative scheme called Unicode. Unicode 1.0, a fixed width 16 bit encoding was published in October 1991. The software vendors were able to convince the national standards bodies to vote down the ISO 10646 draft and ISO were pushed into Unification with Unicode.</p>\n<p>So that was where we were in the early 1990s, a number of major software vendors had collaborated to design a new fixed width encoding and were adopting it in their Flagship products, including Windows NT and Java.</p>\n<p>Meanwhile, X/Open were looking for a better way to encode Unicode in extended Ascii contexts. UTF-1 sucked for several reasons, it was slow to process because it required calculations modulo a number that was not a power of 2, it was not  self-synchronizing and shorter sequences could appear as sub-sequences of longer ones. These efforts resulted in what we now know as UTF-8 but they happened away from the main line of Unicode development. UTF-8 was developed in 1992 and presented in 1993 at a Usenix conference but it does not seem to have been considered a proper standard until 1996.</p>\n<p>This is the Environment in which Windows NT (released July 1993) and Java (released January 1996) were designed and released. Unicode was a simple fixed width encoding and hence the obvious choice for an internal processing format. Java did adopt a modified form of UTF-8 but only as a storage format.</p>\n<p>There was pressure to encode more characters and in July 1996 Unicode 2.0 was introduced. The code space was expanded to just over 20 bits and Unicode was no longer a fixed-width 16 bit encoding. Instead there was a choice of a fixed-width 32-bit encoding or variable width encodings with 8 and 16 bit units.</p>\n<p>No-one wanted to take the space hit of 32-bit code units or the compatibility hit of changing their encoding unit size for the <em>second</em> time, so the systems that had been designed around the original 16 bit Unicode generally ended up using UTF-16. Sure there was some risk that text processing could miscount or mangle the new characters but meh, it was still the lesser evil.</p>\n<p>The .net framework, and with it C# were introduced somewhat later in 2002, but by this time Microsoft was already deeply committed to 16 bit code units. Their operating system APIs used them. Their file systems used them. Their executable formats used them.</p>\n<p>Unix and the Internet on the other hand, stayed largely byte-based all the way through. UTF-8 was treated as just another encoding, gradually replacing the previous legacy encodings.</p>\n"}],"owner":{"account_id":87565,"reputation":26371,"user_id":242762,"accept_rate":87,"display_name":"Oak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7814,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":2934852,"answer_count":8,"score":30,"last_activity_date":1702070197,"creation_date":1275132452,"question_id":2934809,"body_markdown":"Examining the attributes of UTF-16 and UTF-8, I can&#39;t find any reason to prefer UTF-16.\r\n\r\nHowever, checking out Java and C#, it looks like strings and chars there default to UTF-16. I was thinking that it might be for historic reasons, or perhaps for performance reasons, but couldn&#39;t find any information.\r\n\r\nAnyone knows why these languages chose UTF-16? And is there any valid reason for me to do that as well?\r\n\r\n**EDIT:** Meanwhile I&#39;ve also found [this answer][1], which seems relevant and has some interesting links.\r\n\r\n[1]:https://stackoverflow.com/questions/1049947/should-utf-16-be-considered-harmful/1176384#1176384","title":"Is there any reason to prefer UTF-16 over UTF-8?","body":"<p>Examining the attributes of UTF-16 and UTF-8, I can't find any reason to prefer UTF-16.</p>\n\n<p>However, checking out Java and C#, it looks like strings and chars there default to UTF-16. I was thinking that it might be for historic reasons, or perhaps for performance reasons, but couldn't find any information.</p>\n\n<p>Anyone knows why these languages chose UTF-16? And is there any valid reason for me to do that as well?</p>\n\n<p><strong>EDIT:</strong> Meanwhile I've also found <a href=\"https://stackoverflow.com/questions/1049947/should-utf-16-be-considered-harmful/1176384#1176384\">this answer</a>, which seems relevant and has some interesting links.</p>\n"},{"tags":["java","compatibility","jakarta-migration"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1700764273,"post_id":77539033,"comment_id":136697121,"body_markdown":"[This is a canonical](https://meta.stackoverflow.com/q/427206/10871900)","body":"<a href=\"https://meta.stackoverflow.com/q/427206/10871900\">This is a canonical</a>"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701878631,"creation_date":1700764264,"answer_id":77539034,"question_id":77539033,"body_markdown":"## Don&#39;t mix Java EE and Jakarta EE dependencies\r\n\r\nYou cannot use Java EE and Jakarta EE together. You have to use one or the other.  \r\nIf a project is using Java EE, there should not be any Jakarta EE dependencies in the project.\r\n\r\nHere are a few examples of Java EE/Jakarta dependencies (in `group.id:artifact-id` notation):\r\n\r\n|Java EE dependency|Jakarta EE dependency|\r\n|---|---|\r\n|`javax.servlet:javax.servlet-api`|`jakarta.servlet:jakarta.servlet-api`|\r\n|`javax.persistence:javax.persistence-api`|`jakarta.persistence:jakarta.persistence-api`|\r\n|`javax.xml.bind:jaxb-api`|`jakarta.xml.bind:jakarta.xml.bind-api`|\r\n|`javax.validation:validation-api`|`jakarta.validation:jakarta.validation-api`|\r\n|`javax.mail:javax.mail-api`|`jakarta.mail:jakarta.mail-api`|\r\n\r\nYou should not have both `javax` and `jakarta` dependencies in the same project.\r\n\r\nYou can use `mvn dependency:list` (with Maven) or `gradlew dependencies` (with Gradle) for checking your dependencies.\r\n\r\n### Other/transitive dependencies\r\nYour project might use dependencies that are written for Java EE or Jakarta EE.  \r\nYou need to make sure that you are using a version of these dependencies that matches the specification you are using.\r\n\r\nThis table provides examples of dependencies that use Java EE in some versions and Jakarta EE in other versions:\r\n\r\n|Dependency|versions supporting Java EE|versions supporting Jakarta EE|\r\n|---|---|---|\r\n|Spring Boot|&lt;= 2.x|&gt;= 3.x|\r\n|Spring|&lt;= 5.x|&gt;= 6.x|\r\n|Hibernate|&lt;= 5.x|&gt;= 6.x|\r\n\r\n## The package name\r\nWith the change of the name `Java EE` to `Jakarta EE`, all Java EE types were moved from the `javax` package to `jakarta` (e.g. `javax.servlet` was changed to `jakarta.servlet`).\r\n\r\nIf the project is using Java EE, it should not contain any `jakarta.*` imports and if it is using Jakarta EE, it should not use any Java EE classes from `javax.*`.\r\n\r\nThere are tools for changing all imports and other type references in a project.\r\n\r\n### configuration files\r\n\r\nSome configuration files (e.g. `persistence.xml`) might be different depending on whether Java EE or Jakarta is used.\r\n\r\nIf configuration file references something starting with `javax`, this typically belongs to Java EE while references starting with `jakarta` typically belong in Jakarta EE projects.\r\n\r\nHere is an example `persistence.xml` file for both Java EE and Jakarta EE:\r\n```xml\r\n&lt;!-- This is for Java EE --&gt;\r\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n\tversion=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;MyPersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:my-database-url&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n```xml\r\n&lt;!-- This is for Jakarta EE --&gt;\r\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n             version=&quot;3.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;MyPersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:my-database-url&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nOther configuration files might require similar changes.\r\n\r\n## Application servers/Containers\r\n\r\nJava EE projects should be deployed to an application server/web container supporting Java EE and Jakarta EE projects should be deployed to an application server/web container supporting Jakarta EE.\r\n\r\nFor example:\r\n\r\n - [Tomcat &lt;=9 uses Java EE while Tomcat &gt;=10 uses Jakarta EE](https://tomcat.apache.org/whichversion.html)\r\n - [Jetty 9 &amp; 10 uses Java EE while Jetty 11 uses Jakarta EE][1] —&#160;and [Jetty 12 supports both][2] Java EE *and* Jakarta EE. \r\n\r\n## Possible issues caused by incompatibilities\r\n\r\nIf a project references classes that are not available, `ClassNotFoundException`s/`NoClassDefFoundError`s can occur.\r\n\r\nIt is possible that some elements like servlets are not found by the container due to e.g. the container scanning for `javax.servlet.annotation.WebServlet` but the servlet being annotated with `jakarta.servlet.annotation.WebServlet`.\r\n\r\nThe application might not correctly pick up some configurations.\r\n\r\nOf course, there can be many other issues depending on what exactly is done wrong.\r\n\r\n## Migration tooling\r\n\r\nThere are tools that help migrate from Java EE to Jakarta EE.\r\n\r\nFor example, [Eclipse Transformer](https://github.com/eclipse/transformer) can do most of the migration steps and can perform the namespace change in both source code and existing JAR/WAR files (e.g. libraries). It is also available as a Maven plugin.\r\n\r\nAlternatively, IntelliJ Ultimate allows [migrating the source code of existing projects from Java EE to Jakarta EE](https://www.jetbrains.com/guide/java/tutorials/migrating-javax-jakarta/use-migration-tool/). Similarly, [Spring Tools](https://github.com/spring-projects/sts4/) allows to do the same for Spring projects.\r\n\r\n  [1]: https://eclipse.dev/jetty/\r\n  [2]: https://webtide.com/introducing-jetty-12/","title":"How to avoid compatibility issues between Java EE and Jakarta EE?","body":"<h2>Don't mix Java EE and Jakarta EE dependencies</h2>\n<p>You cannot use Java EE and Jakarta EE together. You have to use one or the other.<br />\nIf a project is using Java EE, there should not be any Jakarta EE dependencies in the project.</p>\n<p>Here are a few examples of Java EE/Jakarta dependencies (in <code>group.id:artifact-id</code> notation):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Java EE dependency</th>\n<th>Jakarta EE dependency</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>javax.servlet:javax.servlet-api</code></td>\n<td><code>jakarta.servlet:jakarta.servlet-api</code></td>\n</tr>\n<tr>\n<td><code>javax.persistence:javax.persistence-api</code></td>\n<td><code>jakarta.persistence:jakarta.persistence-api</code></td>\n</tr>\n<tr>\n<td><code>javax.xml.bind:jaxb-api</code></td>\n<td><code>jakarta.xml.bind:jakarta.xml.bind-api</code></td>\n</tr>\n<tr>\n<td><code>javax.validation:validation-api</code></td>\n<td><code>jakarta.validation:jakarta.validation-api</code></td>\n</tr>\n<tr>\n<td><code>javax.mail:javax.mail-api</code></td>\n<td><code>jakarta.mail:jakarta.mail-api</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>You should not have both <code>javax</code> and <code>jakarta</code> dependencies in the same project.</p>\n<p>You can use <code>mvn dependency:list</code> (with Maven) or <code>gradlew dependencies</code> (with Gradle) for checking your dependencies.</p>\n<h3>Other/transitive dependencies</h3>\n<p>Your project might use dependencies that are written for Java EE or Jakarta EE.<br />\nYou need to make sure that you are using a version of these dependencies that matches the specification you are using.</p>\n<p>This table provides examples of dependencies that use Java EE in some versions and Jakarta EE in other versions:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Dependency</th>\n<th>versions supporting Java EE</th>\n<th>versions supporting Jakarta EE</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Spring Boot</td>\n<td>&lt;= 2.x</td>\n<td>&gt;= 3.x</td>\n</tr>\n<tr>\n<td>Spring</td>\n<td>&lt;= 5.x</td>\n<td>&gt;= 6.x</td>\n</tr>\n<tr>\n<td>Hibernate</td>\n<td>&lt;= 5.x</td>\n<td>&gt;= 6.x</td>\n</tr>\n</tbody>\n</table>\n</div><h2>The package name</h2>\n<p>With the change of the name <code>Java EE</code> to <code>Jakarta EE</code>, all Java EE types were moved from the <code>javax</code> package to <code>jakarta</code> (e.g. <code>javax.servlet</code> was changed to <code>jakarta.servlet</code>).</p>\n<p>If the project is using Java EE, it should not contain any <code>jakarta.*</code> imports and if it is using Jakarta EE, it should not use any Java EE classes from <code>javax.*</code>.</p>\n<p>There are tools for changing all imports and other type references in a project.</p>\n<h3>configuration files</h3>\n<p>Some configuration files (e.g. <code>persistence.xml</code>) might be different depending on whether Java EE or Jakarta is used.</p>\n<p>If configuration file references something starting with <code>javax</code>, this typically belongs to Java EE while references starting with <code>jakarta</code> typically belong in Jakarta EE projects.</p>\n<p>Here is an example <code>persistence.xml</code> file for both Java EE and Jakarta EE:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- This is for Java EE --&gt;\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n    version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\n\n    &lt;persistence-unit name=&quot;MyPersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:my-database-url&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- This is for Jakarta EE --&gt;\n&lt;persistence xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n             version=&quot;3.0&quot;&gt;\n    &lt;persistence-unit name=&quot;MyPersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:my-database-url&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Other configuration files might require similar changes.</p>\n<h2>Application servers/Containers</h2>\n<p>Java EE projects should be deployed to an application server/web container supporting Java EE and Jakarta EE projects should be deployed to an application server/web container supporting Jakarta EE.</p>\n<p>For example:</p>\n<ul>\n<li><a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">Tomcat &lt;=9 uses Java EE while Tomcat &gt;=10 uses Jakarta EE</a></li>\n<li><a href=\"https://eclipse.dev/jetty/\" rel=\"nofollow noreferrer\">Jetty 9 &amp; 10 uses Java EE while Jetty 11 uses Jakarta EE</a> — and <a href=\"https://webtide.com/introducing-jetty-12/\" rel=\"nofollow noreferrer\">Jetty 12 supports both</a> Java EE <em>and</em> Jakarta EE.</li>\n</ul>\n<h2>Possible issues caused by incompatibilities</h2>\n<p>If a project references classes that are not available, <code>ClassNotFoundException</code>s/<code>NoClassDefFoundError</code>s can occur.</p>\n<p>It is possible that some elements like servlets are not found by the container due to e.g. the container scanning for <code>javax.servlet.annotation.WebServlet</code> but the servlet being annotated with <code>jakarta.servlet.annotation.WebServlet</code>.</p>\n<p>The application might not correctly pick up some configurations.</p>\n<p>Of course, there can be many other issues depending on what exactly is done wrong.</p>\n<h2>Migration tooling</h2>\n<p>There are tools that help migrate from Java EE to Jakarta EE.</p>\n<p>For example, <a href=\"https://github.com/eclipse/transformer\" rel=\"nofollow noreferrer\">Eclipse Transformer</a> can do most of the migration steps and can perform the namespace change in both source code and existing JAR/WAR files (e.g. libraries). It is also available as a Maven plugin.</p>\n<p>Alternatively, IntelliJ Ultimate allows <a href=\"https://www.jetbrains.com/guide/java/tutorials/migrating-javax-jakarta/use-migration-tool/\" rel=\"nofollow noreferrer\">migrating the source code of existing projects from Java EE to Jakarta EE</a>. Similarly, <a href=\"https://github.com/spring-projects/sts4/\" rel=\"nofollow noreferrer\">Spring Tools</a> allows to do the same for Spring projects.</p>\n"}],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77539034,"answer_count":1,"score":2,"last_activity_date":1702069755,"creation_date":1700764264,"question_id":77539033,"body_markdown":"After Oracle donated Java EE to the Eclipse Foundation, it [was renamed to Jakarta EE](https://blogs.eclipse.org/post/wayne-beaton/renaming-java-ee-specifications-jakarta-ee).\r\n\r\nWith that, the `javax` namespace was changed to `jakarta`.\r\n\r\nWhat does one need to take care about in order to avoid compatibility issues due to the change from Java EE to Jakarta EE?","title":"How to avoid compatibility issues between Java EE and Jakarta EE?","body":"<p>After Oracle donated Java EE to the Eclipse Foundation, it <a href=\"https://blogs.eclipse.org/post/wayne-beaton/renaming-java-ee-specifications-jakarta-ee\" rel=\"nofollow noreferrer\">was renamed to Jakarta EE</a>.</p>\n<p>With that, the <code>javax</code> namespace was changed to <code>jakarta</code>.</p>\n<p>What does one need to take care about in order to avoid compatibility issues due to the change from Java EE to Jakarta EE?</p>\n"},{"tags":["java","keycloak","keycloak-services","keycloak-rest-api","keycloak-connect"],"owner":{"account_id":5486411,"reputation":29,"user_id":4361012,"display_name":"Leebeth Anacona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702069387,"creation_date":1702069387,"question_id":77629156,"body_markdown":"I am using keycloak 22.0.5\r\n\r\nI want to create realms and users programmatically.\r\n\r\n\r\nwhen connecting with username and password. It works perfectly. I am able to create realms and users from Java but when I want to use the clientId and ClientSecret. I am receiving the exception jakarta.ws.rs.ProcessingException: \r\njakarta.ws.rs.NotFoundException: HTTP 404 Not Found\r\n\r\n\r\nconnecting with username and password:\r\n```\r\nKeycloak keycloak = KeycloakBuilder.builder()\r\n.serverUrl(&quot;http://localhost:8082/&quot;)\r\n.realm(&quot;master&quot;)\r\n.clientId(&quot;admin-cli&quot;)\r\n.username(&quot;user&quot;)\r\n.password(&quot;bitnami&quot;)\r\n.build();\r\n\r\n-\r\n-\r\n\r\nkeycloak.realms().create(realmRep);\r\n//Realm created\r\n```\r\n\r\n\r\nconnecting with clientId and clientSecret. I&#39;ve tried with all the commented server URL&#39;s.\r\n\r\n```\r\nKeycloak keycloak = KeycloakBuilder.builder()\t\t\t\t//.serverUrl(&quot;http://localhost:8082/realms/master/protocol/openid-connect/auth&quot;)\r\n//.serverUrl(&quot;http://localhost:8082/&quot;)\r\n//.serverUrl(&quot;http://localhost:8082/realms/master&quot;)\r\n.serverUrl(&quot;http://localhost:8082/auth&quot;)\r\n.realm(&quot;master&quot;)\r\n.grantType(OAuth2Constants.CLIENT_CREDENTIALS)\r\n.clientId(&quot;my-client&quot;)\r\n.clientSecret(&quot;47d23P4JQk8ZWuNELa3Osxxxxxxxxxxx&quot;)\r\n.build();\r\n\r\nkeycloak.realms().create(realmRep);\r\n//receiving the exception: jakarta.ws.rs.ProcessingException: \r\n//jakarta.ws.rs.NotFoundException: HTTP 404 Not Found\r\n```\r\n\r\n[![client configuration in keycloak](https://i.stack.imgur.com/a1ZRg.png)](https://i.stack.imgur.com/a1ZRg.png)\r\n\r\n\r\nFollowing the documentation:\r\nhttps://www.keycloak.org/docs-api/22.0.5/javadocs/org/keycloak/admin/client/KeycloakBuilder.html\r\n\r\nweird fact: they say to use .serverUrl(&quot;mykeycloakUrl/auth&quot;) when connecting with username and password and It doesn&#39;t work for me. It works withouth it as I mentioned above.\r\n\r\nThank you in advance for any comment you can offer!","title":"Connecting to Keycloak client programmatically is not working","body":"<p>I am using keycloak 22.0.5</p>\n<p>I want to create realms and users programmatically.</p>\n<p>when connecting with username and password. It works perfectly. I am able to create realms and users from Java but when I want to use the clientId and ClientSecret. I am receiving the exception jakarta.ws.rs.ProcessingException:\njakarta.ws.rs.NotFoundException: HTTP 404 Not Found</p>\n<p>connecting with username and password:</p>\n<pre><code>Keycloak keycloak = KeycloakBuilder.builder()\n.serverUrl(&quot;http://localhost:8082/&quot;)\n.realm(&quot;master&quot;)\n.clientId(&quot;admin-cli&quot;)\n.username(&quot;user&quot;)\n.password(&quot;bitnami&quot;)\n.build();\n\n-\n-\n\nkeycloak.realms().create(realmRep);\n//Realm created\n</code></pre>\n<p>connecting with clientId and clientSecret. I've tried with all the commented server URL's.</p>\n<pre><code>Keycloak keycloak = KeycloakBuilder.builder()               //.serverUrl(&quot;http://localhost:8082/realms/master/protocol/openid-connect/auth&quot;)\n//.serverUrl(&quot;http://localhost:8082/&quot;)\n//.serverUrl(&quot;http://localhost:8082/realms/master&quot;)\n.serverUrl(&quot;http://localhost:8082/auth&quot;)\n.realm(&quot;master&quot;)\n.grantType(OAuth2Constants.CLIENT_CREDENTIALS)\n.clientId(&quot;my-client&quot;)\n.clientSecret(&quot;47d23P4JQk8ZWuNELa3Osxxxxxxxxxxx&quot;)\n.build();\n\nkeycloak.realms().create(realmRep);\n//receiving the exception: jakarta.ws.rs.ProcessingException: \n//jakarta.ws.rs.NotFoundException: HTTP 404 Not Found\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/a1ZRg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a1ZRg.png\" alt=\"client configuration in keycloak\" /></a></p>\n<p>Following the documentation:\n<a href=\"https://www.keycloak.org/docs-api/22.0.5/javadocs/org/keycloak/admin/client/KeycloakBuilder.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/22.0.5/javadocs/org/keycloak/admin/client/KeycloakBuilder.html</a></p>\n<p>weird fact: they say to use .serverUrl(&quot;mykeycloakUrl/auth&quot;) when connecting with username and password and It doesn't work for me. It works withouth it as I mentioned above.</p>\n<p>Thank you in advance for any comment you can offer!</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"score":2,"creation_date":1702052019,"post_id":77627843,"comment_id":136854037,"body_markdown":"Have you stepped through with a debugger to see what&#39;s going on?","body":"Have you stepped through with a debugger to see what&#39;s going on?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1702052155,"post_id":77627843,"comment_id":136854055,"body_markdown":"Have a look at `btnSaveFile` [here](https://stackoverflow.com/a/44782375/2423906)","body":"Have a look at <code>btnSaveFile</code> <a href=\"https://stackoverflow.com/a/44782375/2423906\">here</a>"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1702059147,"post_id":77627843,"comment_id":136855120,"body_markdown":"Does your code ever reach the line with `writer.write(...` ?","body":"Does your code ever reach the line with <code>writer.write(...</code> ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1702062945,"post_id":77627843,"comment_id":136855614,"body_markdown":"When I tried running this and pressing the save button, I got `Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextArea.getText()&quot; because &quot;this.dayTextAreas[&lt;local6&gt;][&lt;local7&gt;]&quot; is null`.  Perhaps your saveCalendarAsText method needs to account for the fact that the first and last week of the month may not be a full week and may not have text areas for every day of the week?","body":"When I tried running this and pressing the save button, I got <code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextArea.getText()&quot; because &quot;this.dayTextAreas[&lt;local6&gt;][&lt;local7&gt;]&quot; is null</code>.  Perhaps your saveCalendarAsText method needs to account for the fact that the first and last week of the month may not be a full week and may not have text areas for every day of the week?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1702065255,"post_id":77627843,"comment_id":136855937,"body_markdown":"I haven&#39;t looked deeply at your code, but I think `if (row == 0 &amp;&amp; col &lt; 2) {\n                   // Center the first two boxes\n                   continue;\n               }` is causing some of the in the array to be null. That&#39;s my guess.","body":"I haven&#39;t looked deeply at your code, but I think <code>if (row == 0 &amp;&amp; col &lt; 2) {                    &#47;&#47; Center the first two boxes                    continue;                }</code> is causing some of the in the array to be null. That&#39;s my guess."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702069036,"creation_date":1702069036,"answer_id":77629132,"question_id":77627843,"body_markdown":"I think your issue is caused by \r\n\r\n```\r\nif (row == 1 &amp;&amp; col &lt; 2) {\r\n    // Center the first two boxes\r\n    continue;\r\n}\r\n```\r\n\r\nI did not test it, so I could be wrong, but it looks like it will cause some index(s) to end up with null value(s). \r\n\r\nI would use a `List` over `Array` for this since a month can be less than 31 days. I did use an array in this example, but it is a 1D array.\r\n\r\nI also noticed that your `Zellercongruence` method could be incorrect. I did not attempt to use your version. I used the version from https://www.geeksforgeeks.org/zellers-congruence-find-day-date/. Your version returned a `String` of the day of the week. I also added another version that would return an `int` that maps to a day of the week.\r\n\r\nThe save method prints as the days would show up on the calendar.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.FileChooser;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\npublic class App extends Application {\r\n\r\n    int DAYS_IN_MONTH = 31;\r\n    \r\n    private final TextArea[] dayTextAreas = new TextArea[DAYS_IN_MONTH];\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage mainStage) {\r\n        mainStage.setTitle(&quot;Calendar Saving App&quot;);\r\n        mainStage.setResizable(true);\r\n\r\n        BorderPane root = new BorderPane();\r\n        root.setStyle(&quot;-fx-font-size: 18;&quot;);\r\n\r\n        GridPane calendarGrid = createCalendarGrid();\r\n        VBox box = new VBox(calendarGrid);\r\n\r\n        Scene mainScene = new Scene(root);\r\n        mainStage.setScene(mainScene);\r\n\r\n        root.setCenter(box);\r\n\r\n        Button saveButton = new Button(&quot;Save as TXT&quot;);\r\n\r\n        box.getChildren().add(saveButton);\r\n        VBox.setVgrow(calendarGrid, Priority.ALWAYS);\r\n\r\n        saveButton.setOnAction((event) -&gt; saveCalendarAsText(mainStage));\r\n\r\n        mainStage.show();\r\n        mainStage.sizeToScene();\r\n    }\r\n\r\n    private GridPane createCalendarGrid() {\r\n        GridPane calendarGrid = new GridPane();\r\n        calendarGrid.setAlignment(Pos.CENTER);\r\n        calendarGrid.setHgap(5);\r\n        calendarGrid.setVgap(5);\r\n\r\n        // Add label for the month at the top center\r\n        Label monthLabel = new Label(&quot;December 2023&quot;);\r\n        monthLabel.setStyle(&quot;-fx-font-size: 36; -fx-font-weight: bold;&quot;);\r\n        calendarGrid.add(monthLabel, 3, 0, 4, 1); // Spanning 4 columns\r\n\r\n        int gridRow = 1; \r\n        for (int zeroDay = 0; zeroDay &lt; DAYS_IN_MONTH; zeroDay++) {\r\n            TextArea dayTextArea = new TextArea();\r\n            dayTextArea.setPrefRowCount(3);\r\n            dayTextArea.setPrefColumnCount(12);\r\n            dayTextArea.setEditable(true);  // Set to editable\r\n            dayTextArea.setWrapText(false); // Disable text wrapping\r\n            dayTextAreas[zeroDay] = dayTextArea;\r\n\r\n            String dayOfWeek = Zellercongruence(zeroDay + 1, 12, 2023);\r\n            String dayString = dayOfWeek + &quot; the &quot; + addOrdinalSuffix(zeroDay + 1);\r\n            dayTextArea.setText(dayString);\r\n\r\n\r\n\r\n            int zellerInt = ZellercongruenceAsInt(zeroDay + 1, 12, 2023);\r\n            int gridColumn = ConvertZellerDayToGridColumn(zellerInt);             \r\n            if(gridColumn == 0)\r\n            {\r\n                gridRow++;\r\n            }\r\n            calendarGrid.add(dayTextArea, gridColumn, gridRow);            \r\n        }\r\n\r\n        return calendarGrid;\r\n    }\r\n\r\n    // Print Day for a Date\r\n    static String Zellercongruence(int day, int month, int year)\r\n    {\r\n        if (month == 1)\r\n        {\r\n            month = 13;\r\n            year--;\r\n        }\r\n        if (month == 2)\r\n        {\r\n            month = 14;\r\n            year--;\r\n        }\r\n        int q = day;\r\n        int m = month;\r\n        int k = year % 100;\r\n        int j = year / 100;\r\n        int h = q + 13*(m + 1) / 5 + k + k / 4 + j / 4 + 5 * j;\r\n        h = h % 7;\r\n        switch (h)\r\n        {\r\n            case 0 : return &quot;Saturday&quot;;\r\n            case 1 : return &quot;Sunday&quot;; \r\n            case 2 : return &quot;Monday&quot;;\r\n            case 3 : return &quot;Tuesday&quot;;\r\n            case 4 : return &quot;Wednesday&quot;;\r\n            case 5 : return &quot;Thursday&quot;;\r\n            case 6 : return &quot;Friday&quot;;\r\n        }\r\n        \r\n        return &quot;error!&quot;;\r\n    }\r\n\r\n    static int ZellercongruenceAsInt(int day, int month, int year)\r\n    {\r\n        if (month == 1)\r\n        {\r\n            month = 13;\r\n            year--;\r\n        }\r\n        if (month == 2)\r\n        {\r\n            month = 14;\r\n            year--;\r\n        }\r\n        int q = day;\r\n        int m = month;\r\n        int k = year % 100;\r\n        int j = year / 100;\r\n        int h = q + 13*(m + 1) / 5 + k + k / 4 + j / 4 + 5 * j;\r\n        \r\n        return h % 7;        \r\n    }\r\n    \r\n    static int ConvertZellerDayToGridColumn(int ZellerDay)\r\n    {\r\n        int column = -1;\r\n        \r\n        switch(ZellerDay)\r\n        {\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n            case 6:\r\n                column = ZellerDay - 1;\r\n                break;\r\n            case 0:\r\n                column = 6;\r\n        }\r\n        \r\n        return column;\r\n    }\r\n    \r\n    private void saveCalendarAsText(Stage mainStage) {\r\n        FileChooser chooser = new FileChooser();\r\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(&quot;Text files&quot;, &quot;*.txt&quot;);\r\n        chooser.getExtensionFilters().add(filter);\r\n\r\n        File file = chooser.showSaveDialog(mainStage);\r\n\r\n        if (file == null) {\r\n            return; // User canceled the file chooser\r\n        }\r\n\r\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(file))) {\r\n            // Iterate through all text areas and write data to the text file\r\n            for (int dayZero = 0; dayZero &lt; dayTextAreas.length; dayZero++) {                   \r\n                int zellerInt = ZellercongruenceAsInt(dayZero + 1, 12, 2023);\r\n                int gridColumn = ConvertZellerDayToGridColumn(zellerInt);             \r\n                if(gridColumn == 0)\r\n                {\r\n                    writer.newLine();\r\n                }\r\n                writer.write(dayTextAreas[dayZero].getText() + &quot;\\t&quot;);\r\n            }\r\n        } catch (IOException error) {\r\n            // TODO: Handle the exception and provide user feedback\r\n            error.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private String addOrdinalSuffix(int dayNumber) {\r\n        if (dayNumber &gt;= 11 &amp;&amp; dayNumber &lt;= 13) {\r\n            return dayNumber + &quot;th&quot;;\r\n        } else {\r\n            switch (dayNumber % 10) {\r\n                case 1:\r\n                    return dayNumber + &quot;st&quot;;\r\n                case 2:\r\n                    return dayNumber + &quot;nd&quot;;\r\n                case 3:\r\n                    return dayNumber + &quot;rd&quot;;\r\n                default:\r\n                    return dayNumber + &quot;th&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Output 1**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Output 2**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qdhk7.png\r\n  [2]: https://i.stack.imgur.com/OEnJB.png","title":"Saving text in a Calendar app to a .txt file","body":"<p>I think your issue is caused by</p>\n<pre><code>if (row == 1 &amp;&amp; col &lt; 2) {\n    // Center the first two boxes\n    continue;\n}\n</code></pre>\n<p>I did not test it, so I could be wrong, but it looks like it will cause some index(s) to end up with null value(s).</p>\n<p>I would use a <code>List</code> over <code>Array</code> for this since a month can be less than 31 days. I did use an array in this example, but it is a 1D array.</p>\n<p>I also noticed that your <code>Zellercongruence</code> method could be incorrect. I did not attempt to use your version. I used the version from <a href=\"https://www.geeksforgeeks.org/zellers-congruence-find-day-date/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/zellers-congruence-find-day-date/</a>. Your version returned a <code>String</code> of the day of the week. I also added another version that would return an <code>int</code> that maps to a day of the week.</p>\n<p>The save method prints as the days would show up on the calendar.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.*;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class App extends Application {\n\n    int DAYS_IN_MONTH = 31;\n    \n    private final TextArea[] dayTextAreas = new TextArea[DAYS_IN_MONTH];\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage mainStage) {\n        mainStage.setTitle(&quot;Calendar Saving App&quot;);\n        mainStage.setResizable(true);\n\n        BorderPane root = new BorderPane();\n        root.setStyle(&quot;-fx-font-size: 18;&quot;);\n\n        GridPane calendarGrid = createCalendarGrid();\n        VBox box = new VBox(calendarGrid);\n\n        Scene mainScene = new Scene(root);\n        mainStage.setScene(mainScene);\n\n        root.setCenter(box);\n\n        Button saveButton = new Button(&quot;Save as TXT&quot;);\n\n        box.getChildren().add(saveButton);\n        VBox.setVgrow(calendarGrid, Priority.ALWAYS);\n\n        saveButton.setOnAction((event) -&gt; saveCalendarAsText(mainStage));\n\n        mainStage.show();\n        mainStage.sizeToScene();\n    }\n\n    private GridPane createCalendarGrid() {\n        GridPane calendarGrid = new GridPane();\n        calendarGrid.setAlignment(Pos.CENTER);\n        calendarGrid.setHgap(5);\n        calendarGrid.setVgap(5);\n\n        // Add label for the month at the top center\n        Label monthLabel = new Label(&quot;December 2023&quot;);\n        monthLabel.setStyle(&quot;-fx-font-size: 36; -fx-font-weight: bold;&quot;);\n        calendarGrid.add(monthLabel, 3, 0, 4, 1); // Spanning 4 columns\n\n        int gridRow = 1; \n        for (int zeroDay = 0; zeroDay &lt; DAYS_IN_MONTH; zeroDay++) {\n            TextArea dayTextArea = new TextArea();\n            dayTextArea.setPrefRowCount(3);\n            dayTextArea.setPrefColumnCount(12);\n            dayTextArea.setEditable(true);  // Set to editable\n            dayTextArea.setWrapText(false); // Disable text wrapping\n            dayTextAreas[zeroDay] = dayTextArea;\n\n            String dayOfWeek = Zellercongruence(zeroDay + 1, 12, 2023);\n            String dayString = dayOfWeek + &quot; the &quot; + addOrdinalSuffix(zeroDay + 1);\n            dayTextArea.setText(dayString);\n\n\n\n            int zellerInt = ZellercongruenceAsInt(zeroDay + 1, 12, 2023);\n            int gridColumn = ConvertZellerDayToGridColumn(zellerInt);             \n            if(gridColumn == 0)\n            {\n                gridRow++;\n            }\n            calendarGrid.add(dayTextArea, gridColumn, gridRow);            \n        }\n\n        return calendarGrid;\n    }\n\n    // Print Day for a Date\n    static String Zellercongruence(int day, int month, int year)\n    {\n        if (month == 1)\n        {\n            month = 13;\n            year--;\n        }\n        if (month == 2)\n        {\n            month = 14;\n            year--;\n        }\n        int q = day;\n        int m = month;\n        int k = year % 100;\n        int j = year / 100;\n        int h = q + 13*(m + 1) / 5 + k + k / 4 + j / 4 + 5 * j;\n        h = h % 7;\n        switch (h)\n        {\n            case 0 : return &quot;Saturday&quot;;\n            case 1 : return &quot;Sunday&quot;; \n            case 2 : return &quot;Monday&quot;;\n            case 3 : return &quot;Tuesday&quot;;\n            case 4 : return &quot;Wednesday&quot;;\n            case 5 : return &quot;Thursday&quot;;\n            case 6 : return &quot;Friday&quot;;\n        }\n        \n        return &quot;error!&quot;;\n    }\n\n    static int ZellercongruenceAsInt(int day, int month, int year)\n    {\n        if (month == 1)\n        {\n            month = 13;\n            year--;\n        }\n        if (month == 2)\n        {\n            month = 14;\n            year--;\n        }\n        int q = day;\n        int m = month;\n        int k = year % 100;\n        int j = year / 100;\n        int h = q + 13*(m + 1) / 5 + k + k / 4 + j / 4 + 5 * j;\n        \n        return h % 7;        \n    }\n    \n    static int ConvertZellerDayToGridColumn(int ZellerDay)\n    {\n        int column = -1;\n        \n        switch(ZellerDay)\n        {\n            case 1:\n            case 2:\n            case 3:\n            case 4:\n            case 5:\n            case 6:\n                column = ZellerDay - 1;\n                break;\n            case 0:\n                column = 6;\n        }\n        \n        return column;\n    }\n    \n    private void saveCalendarAsText(Stage mainStage) {\n        FileChooser chooser = new FileChooser();\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(&quot;Text files&quot;, &quot;*.txt&quot;);\n        chooser.getExtensionFilters().add(filter);\n\n        File file = chooser.showSaveDialog(mainStage);\n\n        if (file == null) {\n            return; // User canceled the file chooser\n        }\n\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(file))) {\n            // Iterate through all text areas and write data to the text file\n            for (int dayZero = 0; dayZero &lt; dayTextAreas.length; dayZero++) {                   \n                int zellerInt = ZellercongruenceAsInt(dayZero + 1, 12, 2023);\n                int gridColumn = ConvertZellerDayToGridColumn(zellerInt);             \n                if(gridColumn == 0)\n                {\n                    writer.newLine();\n                }\n                writer.write(dayTextAreas[dayZero].getText() + &quot;\\t&quot;);\n            }\n        } catch (IOException error) {\n            // TODO: Handle the exception and provide user feedback\n            error.printStackTrace();\n        }\n    }\n\n    private String addOrdinalSuffix(int dayNumber) {\n        if (dayNumber &gt;= 11 &amp;&amp; dayNumber &lt;= 13) {\n            return dayNumber + &quot;th&quot;;\n        } else {\n            switch (dayNumber % 10) {\n                case 1:\n                    return dayNumber + &quot;st&quot;;\n                case 2:\n                    return dayNumber + &quot;nd&quot;;\n                case 3:\n                    return dayNumber + &quot;rd&quot;;\n                default:\n                    return dayNumber + &quot;th&quot;;\n            }\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Output 1</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Qdhk7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qdhk7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Output 2</strong></p>\n<p><a href=\"https://i.stack.imgur.com/OEnJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEnJB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26346862,"reputation":1,"user_id":20005085,"display_name":"nick_ort1z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702069036,"creation_date":1702051547,"question_id":77627843,"body_markdown":"I&#39;m developing a Calendar app in Java FX that lets users input text into a variety of rows and columns, then lets them save the calendar data to a .txt file.\r\n\r\nHowever, whenever the .txt file is saved and generated, none of my text is being saved, and an empty .txt file is generated. My code is below if anyone can identify any issues or errors going on in the program. The specific method that saves the data to a .txt is `saveCalendarAsText`.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextArea;\r\n    import javafx.scene.layout.*;\r\n    import javafx.stage.FileChooser;\r\n    import javafx.stage.Stage;\r\n\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n\r\n    public class CalendarSavingApp extends Application {\r\n\r\n        private TextArea[][] dayTextAreas = new TextArea[5][7];\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage mainStage) {\r\n            mainStage.setTitle(&quot;Calendar Saving App&quot;);\r\n            mainStage.setResizable(true);\r\n    \r\n            BorderPane root = new BorderPane();\r\n            root.setStyle(&quot;-fx-font-size: 18;&quot;);\r\n    \r\n            GridPane calendarGrid = createCalendarGrid();\r\n            VBox box = new VBox(calendarGrid);\r\n    \r\n            Scene mainScene = new Scene(root);\r\n            mainStage.setScene(mainScene);\r\n    \r\n            root.setCenter(box);\r\n    \r\n            Button saveButton = new Button(&quot;Save as TXT&quot;);\r\n    \r\n            box.getChildren().add(saveButton);\r\n            VBox.setVgrow(calendarGrid, Priority.ALWAYS);\r\n    \r\n            saveButton.setOnAction((event) -&gt; saveCalendarAsText(mainStage));\r\n    \r\n            mainStage.show();\r\n            mainStage.sizeToScene();\r\n        }\r\n    \r\n        private GridPane createCalendarGrid() {\r\n            GridPane calendarGrid = new GridPane();\r\n            calendarGrid.setAlignment(Pos.CENTER);\r\n            calendarGrid.setHgap(5);\r\n            calendarGrid.setVgap(5);\r\n    \r\n            // Add label for the month at the top center\r\n            Label monthLabel = new Label(&quot;December 2023&quot;);\r\n            monthLabel.setStyle(&quot;-fx-font-size: 36; -fx-font-weight: bold;&quot;);\r\n            calendarGrid.add(monthLabel, 3, 0, 4, 1); // Spanning 4 columns\r\n    \r\n            int dayNumber = 1;\r\n            for (int row = 1; row &lt; 6; row++) {\r\n                for (int col = 0; col &lt; 7; col++) {\r\n                    if (dayNumber &gt; 31) {\r\n                        // Break if we have reached more than 31 days\r\n                        break;\r\n                    }\r\n    \r\n                    if (row == 1 &amp;&amp; col &lt; 2) {\r\n                        // Center the first two boxes\r\n                        continue;\r\n                    }\r\n    \r\n                    TextArea dayTextArea = new TextArea();\r\n                    dayTextArea.setPrefRowCount(3);\r\n                    dayTextArea.setPrefColumnCount(12);\r\n                    dayTextArea.setEditable(true);  // Set to editable\r\n                    dayTextArea.setWrapText(false); // Disable text wrapping\r\n                    dayTextAreas[row - 1][col] = dayTextArea;\r\n    \r\n                    String dayOfWeek = calculateDayOfWeek(col + 1);\r\n                    String dayString = dayOfWeek + &quot; the &quot; + addOrdinalSuffix(dayNumber);\r\n                    dayTextArea.setText(dayString);\r\n    \r\n                    calendarGrid.add(dayTextArea, col, row);\r\n    \r\n                    dayNumber++;\r\n                }\r\n            }\r\n    \r\n            return calendarGrid;\r\n        }\r\n    \r\n        private String calculateDayOfWeek(int dayNumber) {\r\n            // Zeller&#39;s Congruence algorithm to calculate the day of the week\r\n            int h = (dayNumber + 2 * 12 + 3 * (12 + 1) / 5) % 7;\r\n            switch (h) {\r\n                case 0:\r\n                    return &quot;Saturday&quot;;\r\n                case 1:\r\n                    return &quot;Sunday&quot;;\r\n                case 2:\r\n                    return &quot;Monday&quot;;\r\n                case 3:\r\n                    return &quot;Tuesday&quot;;\r\n                case 4:\r\n                    return &quot;Wednesday&quot;;\r\n                case 5:\r\n                    return &quot;Thursday&quot;;\r\n                case 6:\r\n                    return &quot;Friday&quot;;\r\n                default:\r\n                    return &quot;&quot;;\r\n            }\r\n        }\r\n    \r\n        private void saveCalendarAsText(Stage mainStage) {\r\n            FileChooser chooser = new FileChooser();\r\n            FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(&quot;Text files&quot;, &quot;*.txt&quot;);\r\n            chooser.getExtensionFilters().add(filter);\r\n    \r\n            File file = chooser.showSaveDialog(mainStage);\r\n    \r\n            if (file == null) {\r\n                return; // User canceled the file chooser\r\n            }\r\n    \r\n            try (BufferedWriter writer = new BufferedWriter(new FileWriter(file))) {\r\n                // Iterate through all text areas and write data to the text file\r\n                for (int row = 0; row &lt; 5; row++) {\r\n                    for (int col = 0; col &lt; 7; col++) {\r\n                        String dayData = dayTextAreas[row][col].getText().trim();\r\n                        if (!dayData.isEmpty()) {\r\n                            writer.write(dayData + System.lineSeparator());\r\n                        }\r\n                    }\r\n                }\r\n            } catch (IOException error) {\r\n                // TODO: Handle the exception and provide user feedback\r\n                error.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private String addOrdinalSuffix(int dayNumber) {\r\n            if (dayNumber &gt;= 11 &amp;&amp; dayNumber &lt;= 13) {\r\n                return dayNumber + &quot;th&quot;;\r\n            } else {\r\n                switch (dayNumber % 10) {\r\n                    case 1:\r\n                        return dayNumber + &quot;st&quot;;\r\n                    case 2:\r\n                        return dayNumber + &quot;nd&quot;;\r\n                    case 3:\r\n                        return dayNumber + &quot;rd&quot;;\r\n                    default:\r\n                        return dayNumber + &quot;th&quot;;\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"Saving text in a Calendar app to a .txt file","body":"<p>I'm developing a Calendar app in Java FX that lets users input text into a variety of rows and columns, then lets them save the calendar data to a .txt file.</p>\n<p>However, whenever the .txt file is saved and generated, none of my text is being saved, and an empty .txt file is generated. My code is below if anyone can identify any issues or errors going on in the program. The specific method that saves the data to a .txt is <code>saveCalendarAsText</code>.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.*;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class CalendarSavingApp extends Application {\n\n    private TextArea[][] dayTextAreas = new TextArea[5][7];\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage mainStage) {\n        mainStage.setTitle(&quot;Calendar Saving App&quot;);\n        mainStage.setResizable(true);\n\n        BorderPane root = new BorderPane();\n        root.setStyle(&quot;-fx-font-size: 18;&quot;);\n\n        GridPane calendarGrid = createCalendarGrid();\n        VBox box = new VBox(calendarGrid);\n\n        Scene mainScene = new Scene(root);\n        mainStage.setScene(mainScene);\n\n        root.setCenter(box);\n\n        Button saveButton = new Button(&quot;Save as TXT&quot;);\n\n        box.getChildren().add(saveButton);\n        VBox.setVgrow(calendarGrid, Priority.ALWAYS);\n\n        saveButton.setOnAction((event) -&gt; saveCalendarAsText(mainStage));\n\n        mainStage.show();\n        mainStage.sizeToScene();\n    }\n\n    private GridPane createCalendarGrid() {\n        GridPane calendarGrid = new GridPane();\n        calendarGrid.setAlignment(Pos.CENTER);\n        calendarGrid.setHgap(5);\n        calendarGrid.setVgap(5);\n\n        // Add label for the month at the top center\n        Label monthLabel = new Label(&quot;December 2023&quot;);\n        monthLabel.setStyle(&quot;-fx-font-size: 36; -fx-font-weight: bold;&quot;);\n        calendarGrid.add(monthLabel, 3, 0, 4, 1); // Spanning 4 columns\n\n        int dayNumber = 1;\n        for (int row = 1; row &lt; 6; row++) {\n            for (int col = 0; col &lt; 7; col++) {\n                if (dayNumber &gt; 31) {\n                    // Break if we have reached more than 31 days\n                    break;\n                }\n\n                if (row == 1 &amp;&amp; col &lt; 2) {\n                    // Center the first two boxes\n                    continue;\n                }\n\n                TextArea dayTextArea = new TextArea();\n                dayTextArea.setPrefRowCount(3);\n                dayTextArea.setPrefColumnCount(12);\n                dayTextArea.setEditable(true);  // Set to editable\n                dayTextArea.setWrapText(false); // Disable text wrapping\n                dayTextAreas[row - 1][col] = dayTextArea;\n\n                String dayOfWeek = calculateDayOfWeek(col + 1);\n                String dayString = dayOfWeek + &quot; the &quot; + addOrdinalSuffix(dayNumber);\n                dayTextArea.setText(dayString);\n\n                calendarGrid.add(dayTextArea, col, row);\n\n                dayNumber++;\n            }\n        }\n\n        return calendarGrid;\n    }\n\n    private String calculateDayOfWeek(int dayNumber) {\n        // Zeller's Congruence algorithm to calculate the day of the week\n        int h = (dayNumber + 2 * 12 + 3 * (12 + 1) / 5) % 7;\n        switch (h) {\n            case 0:\n                return &quot;Saturday&quot;;\n            case 1:\n                return &quot;Sunday&quot;;\n            case 2:\n                return &quot;Monday&quot;;\n            case 3:\n                return &quot;Tuesday&quot;;\n            case 4:\n                return &quot;Wednesday&quot;;\n            case 5:\n                return &quot;Thursday&quot;;\n            case 6:\n                return &quot;Friday&quot;;\n            default:\n                return &quot;&quot;;\n        }\n    }\n\n    private void saveCalendarAsText(Stage mainStage) {\n        FileChooser chooser = new FileChooser();\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(&quot;Text files&quot;, &quot;*.txt&quot;);\n        chooser.getExtensionFilters().add(filter);\n\n        File file = chooser.showSaveDialog(mainStage);\n\n        if (file == null) {\n            return; // User canceled the file chooser\n        }\n\n        try (BufferedWriter writer = new BufferedWriter(new FileWriter(file))) {\n            // Iterate through all text areas and write data to the text file\n            for (int row = 0; row &lt; 5; row++) {\n                for (int col = 0; col &lt; 7; col++) {\n                    String dayData = dayTextAreas[row][col].getText().trim();\n                    if (!dayData.isEmpty()) {\n                        writer.write(dayData + System.lineSeparator());\n                    }\n                }\n            }\n        } catch (IOException error) {\n            // TODO: Handle the exception and provide user feedback\n            error.printStackTrace();\n        }\n    }\n\n    private String addOrdinalSuffix(int dayNumber) {\n        if (dayNumber &gt;= 11 &amp;&amp; dayNumber &lt;= 13) {\n            return dayNumber + &quot;th&quot;;\n        } else {\n            switch (dayNumber % 10) {\n                case 1:\n                    return dayNumber + &quot;st&quot;;\n                case 2:\n                    return dayNumber + &quot;nd&quot;;\n                case 3:\n                    return dayNumber + &quot;rd&quot;;\n                default:\n                    return dayNumber + &quot;th&quot;;\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sql","spring","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1702064976,"post_id":77627917,"comment_id":136855903,"body_markdown":"If can&#39;t answer the question don&#39;t keep down voting either give the answer or give some reference material which at least gives some clues. Its so frustrating when people down vote without giving any valid reason","body":"If can&#39;t answer the question don&#39;t keep down voting either give the answer or give some reference material which at least gives some clues. Its so frustrating when people down vote without giving any valid reason"}],"answers":[{"comments":[{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1702064744,"post_id":77628122,"comment_id":136855872,"body_markdown":"The error I think is not in postgresql the problem is in spring framework but I will surely try your method","body":"The error I think is not in postgresql the problem is in spring framework but I will surely try your method"}],"tags":[],"owner":{"account_id":25583936,"reputation":76,"user_id":19361968,"display_name":"Murat K."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702054732,"creation_date":1702054732,"answer_id":77628122,"question_id":77627917,"body_markdown":"Concatenating strings in PostgreSQL is like: \r\n\r\nhttps://popsql.com/learn-sql/postgresql/how-to-concatenate-strings-in-postgresql\r\n\r\nInstead of using:\r\n\r\n``\r\nST_GeomFromText(&#39;POINT(:lon :lat)&#39;, 4326)\r\n``\r\n\r\nplease try this:\r\n\r\n``\r\nST_GeomFromText(&#39;POINT(&#39; || :lon || &#39; &#39; || :lat || &#39;)&#39;, 4326)\r\n``","title":"SPring JPA can not parse a native SQL Query with a single quote","body":"<p>Concatenating strings in PostgreSQL is like:</p>\n<p><a href=\"https://popsql.com/learn-sql/postgresql/how-to-concatenate-strings-in-postgresql\" rel=\"nofollow noreferrer\">https://popsql.com/learn-sql/postgresql/how-to-concatenate-strings-in-postgresql</a></p>\n<p>Instead of using:</p>\n<p><code>ST_GeomFromText('POINT(:lon :lat)', 4326)</code></p>\n<p>please try this:</p>\n<p><code>ST_GeomFromText('POINT(' || :lon || ' ' || :lat || ')', 4326)</code></p>\n"},{"comments":[{"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"score":0,"creation_date":1702097880,"post_id":77629118,"comment_id":136858503,"body_markdown":"Yes I have done all of that except spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true. My other queries are running fine I have problem running just this query","body":"Yes I have done all of that except spring.jpa.properties.hibernate.jdbc.lob.non_contextual_crea&zwnj;&#8203;tion= true. My other queries are running fine I have problem running just this query"}],"tags":[],"owner":{"account_id":9300525,"reputation":266,"user_id":6906148,"display_name":"23rharris"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702068872,"creation_date":1702068872,"answer_id":77629118,"question_id":77627917,"body_markdown":"There are a few things to considering when using native queries as sometimes the smallest things could not work.\r\n\r\n 1. Make sure to check application properties has the correct dialect chosen so spring knows how to read it. \r\n\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\n\r\n2. Create entities that map directly to the native query. The table name @Table(name = &quot;Location&quot;) should match exactly to what&#39;s in the query.\r\n\r\n3. Make sure all named parameters are in the method and test query in DB editor before pasting in @Query\r\n\r\nAnd lastly separating the query on a new line based on keywords like (JOIN, ORDER BY, ETC) helps to visual pick up issues that might be seen in the native query. Like:\r\n\r\n    @Query(\r\n        value = &quot;SELECT P.ID, P.PLACENAME, P.CATEGORY, P.SUBCATEGORY, ETC ...&quot;\r\n            + &quot;JOIN ADDRESS A&quot;\r\n            + &quot;ORDER BY B&quot;\r\n            + &quot;OFFSET 3&quot;\r\n            + &quot;LIMIT 20&quot;,\r\n        nativeQuery = true\r\n    )\r\n\r\n","title":"SPring JPA can not parse a native SQL Query with a single quote","body":"<p>There are a few things to considering when using native queries as sometimes the smallest things could not work.</p>\n<ol>\n<li><p>Make sure to check application properties has the correct dialect chosen so spring knows how to read it.</p>\n<p>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect</p>\n</li>\n<li><p>Create entities that map directly to the native query. The table name @Table(name = &quot;Location&quot;) should match exactly to what's in the query.</p>\n</li>\n<li><p>Make sure all named parameters are in the method and test query in DB editor before pasting in @Query</p>\n</li>\n</ol>\n<p>And lastly separating the query on a new line based on keywords like (JOIN, ORDER BY, ETC) helps to visual pick up issues that might be seen in the native query. Like:</p>\n<pre><code>@Query(\n    value = &quot;SELECT P.ID, P.PLACENAME, P.CATEGORY, P.SUBCATEGORY, ETC ...&quot;\n        + &quot;JOIN ADDRESS A&quot;\n        + &quot;ORDER BY B&quot;\n        + &quot;OFFSET 3&quot;\n        + &quot;LIMIT 20&quot;,\n    nativeQuery = true\n)\n</code></pre>\n"}],"owner":{"account_id":18383045,"reputation":517,"user_id":13604662,"display_name":"Soumalya Bhattacharya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1702068872,"creation_date":1702052423,"question_id":77627917,"body_markdown":"I am trying to parse this sql query using spring data jpa to use in my application. It is a postgresql qurey using some of the geospatial functions using postgis. This query is basically trying to find all the records in the table which is in a particular search radius of a given longitude and latitude. \r\n\r\nSQL Query:\r\n```sql\r\n    SELECT P.ID, P.PLACENAME, P.CATEGORY, P.SUBCATEGORY, A.GEOLOCATION, A.STREETNAME, \r\n    A.TOWN, A.STATE, A.COUNTRY, ST_Distance(A.geolocation::geography, \r\n    ST_GeomFromText(&#39;POINT(:lon :lat)&#39;, 4326)::geography, false)/1000.00 AS DISTANCE FROM \r\n    PLATFORM_VENDOR_COMMON P JOIN ADDRESS A ON P.ADDRESS_ID = A.ADDRESS_ID WHERE \r\n    ST_DWithin(A.geolocation::geography, ST_GeomFromText(&#39;POINT(:lon :lat)&#39;, \r\n    4326)::geography, ?, false) ORDER BY A.geolocation::geography &lt;-&gt; \r\n    ST_GeomFromText(&#39;POINT(:lon :lat)&#39;, 4326)::geography OFFSET ? LIMIT 20\r\n```\r\n\r\nI&#39;m trying to execute this query under the JpaRepository Interface using:\r\n```java\r\n    @Query(value = &quot;SELECT P.ID, P.PLACENAME, P.CATEGORY, P.SUBCATEGORY, A.GEOLOCATION, \r\n    A.STREETNAME, A.TOWN, A.STATE, A.COUNTRY, ST_Distance(A.geolocation\\\\:\\\\:geography, \r\n    ST_GeomFromText(&#39;POINT(:lon :lat)&#39;, 4326)\\\\:\\\\:geography, false)/1000.00 AS DISTANCE \r\n    FROM PLATFORM_VENDOR_COMMON P JOIN ADDRESS A ON P.ADDRESS_ID = A.ADDRESS_ID WHERE \r\n    ST_DWithin(A.geolocation\\\\:\\\\:geography, ST_GeomFromText(&#39;POINT(:lon :lat)&#39;, \r\n    4326)\\\\:\\\\:geography, :radius, false) ORDER BY A.geolocation\\\\:\\\\:geography &lt;-&gt; \r\n    ST_GeomFromText(&#39;POINT(:lon :lat)&#39;, 4326)\\\\:\\\\:geography OFFSET :pageNumber LIMIT \r\n    20&quot;, nativeQuery = true)\r\n    List&lt;FindPvNearbyProjection&gt; findAllNearby(@Param(&quot;lon&quot;) Double lon, @Param(&quot;lat&quot;) \r\n    Double lat,\r\n            @Param(&quot;radius&quot;) Integer radius, @Param(&quot;pageNumber&quot;) Integer pageNumber);\r\n```\r\nAnd expecting the named queries to replace in their corresponsing places but somehow spring jpa is not able to translate this information to a sql statement and giving me this error:\r\n\r\n    [ERROR: parse error - invalid geometry\\n  Hint: \\&quot;POINT(:l\\&quot; &lt;-- parse error at position 8 within geometry] [n/a]\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:320)\r\n\r\n&gt; I think the Single quote (&#39;) before the `POINT` statement is the culprit but I&#39;m not sure.\r\n\r\nWhat can I do to solve this issue?","title":"SPring JPA can not parse a native SQL Query with a single quote","body":"<p>I am trying to parse this sql query using spring data jpa to use in my application. It is a postgresql qurey using some of the geospatial functions using postgis. This query is basically trying to find all the records in the table which is in a particular search radius of a given longitude and latitude.</p>\n<p>SQL Query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    SELECT P.ID, P.PLACENAME, P.CATEGORY, P.SUBCATEGORY, A.GEOLOCATION, A.STREETNAME, \n    A.TOWN, A.STATE, A.COUNTRY, ST_Distance(A.geolocation::geography, \n    ST_GeomFromText('POINT(:lon :lat)', 4326)::geography, false)/1000.00 AS DISTANCE FROM \n    PLATFORM_VENDOR_COMMON P JOIN ADDRESS A ON P.ADDRESS_ID = A.ADDRESS_ID WHERE \n    ST_DWithin(A.geolocation::geography, ST_GeomFromText('POINT(:lon :lat)', \n    4326)::geography, ?, false) ORDER BY A.geolocation::geography &lt;-&gt; \n    ST_GeomFromText('POINT(:lon :lat)', 4326)::geography OFFSET ? LIMIT 20\n</code></pre>\n<p>I'm trying to execute this query under the JpaRepository Interface using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(value = &quot;SELECT P.ID, P.PLACENAME, P.CATEGORY, P.SUBCATEGORY, A.GEOLOCATION, \n    A.STREETNAME, A.TOWN, A.STATE, A.COUNTRY, ST_Distance(A.geolocation\\\\:\\\\:geography, \n    ST_GeomFromText('POINT(:lon :lat)', 4326)\\\\:\\\\:geography, false)/1000.00 AS DISTANCE \n    FROM PLATFORM_VENDOR_COMMON P JOIN ADDRESS A ON P.ADDRESS_ID = A.ADDRESS_ID WHERE \n    ST_DWithin(A.geolocation\\\\:\\\\:geography, ST_GeomFromText('POINT(:lon :lat)', \n    4326)\\\\:\\\\:geography, :radius, false) ORDER BY A.geolocation\\\\:\\\\:geography &lt;-&gt; \n    ST_GeomFromText('POINT(:lon :lat)', 4326)\\\\:\\\\:geography OFFSET :pageNumber LIMIT \n    20&quot;, nativeQuery = true)\n    List&lt;FindPvNearbyProjection&gt; findAllNearby(@Param(&quot;lon&quot;) Double lon, @Param(&quot;lat&quot;) \n    Double lat,\n            @Param(&quot;radius&quot;) Integer radius, @Param(&quot;pageNumber&quot;) Integer pageNumber);\n</code></pre>\n<p>And expecting the named queries to replace in their corresponsing places but somehow spring jpa is not able to translate this information to a sql statement and giving me this error:</p>\n<pre><code>[ERROR: parse error - invalid geometry\\n  Hint: \\&quot;POINT(:l\\&quot; &lt;-- parse error at position 8 within geometry] [n/a]\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:320)\n</code></pre>\n<blockquote>\n<p>I think the Single quote (') before the <code>POINT</code> statement is the culprit but I'm not sure.</p>\n</blockquote>\n<p>What can I do to solve this issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1700013170,"post_id":77484795,"comment_id":136602092,"body_markdown":"Have you considered something like a [Java based executable](https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file)?  It&#39;s unclear that *anything* could be installed on the machine but at least it would be a single .exe to run.","body":"Have you considered something like a <a href=\"https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\">Java based executable</a>?  It&#39;s unclear that <i>anything</i> could be installed on the machine but at least it would be a single .exe to run."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1700013394,"post_id":77484795,"comment_id":136602106,"body_markdown":"Can you “embed” the Java Runtime - yes - thus is simply having the JRE binaries and libraries packed with your compiled code and then having a launcher which  can the execute the java command within you package (ie batch file or native executable)","body":"Can you “embed” the Java Runtime - yes - thus is simply having the JRE binaries and libraries packed with your compiled code and then having a launcher which  can the execute the java command within you package (ie batch file or native executable)"},{"owner":{"account_id":11874421,"reputation":39,"user_id":19835998,"display_name":"Alex"},"score":0,"creation_date":1700014332,"post_id":77484795,"comment_id":136602173,"body_markdown":"@stdunbar I had tried to create and .exe file, but it still need Java for running the program, or how can I convert a Java Program to exe which not requires user to run the program without installing Java?","body":"@stdunbar I had tried to create and .exe file, but it still need Java for running the program, or how can I convert a Java Program to exe which not requires user to run the program without installing Java?"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1700014362,"post_id":77484795,"comment_id":136602176,"body_markdown":"may be you can  have a reference to ```DOCKER```   , there is  a tech  ```DIND```  could helps you slove your problem","body":"may be you can  have a reference to <code>DOCKER</code>   , there is  a tech  <code>DIND</code>  could helps you slove your problem"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1700014435,"post_id":77484795,"comment_id":136602184,"body_markdown":"DIND could package your whole env and application , so that you can run application  skip  env installation step","body":"DIND could package your whole env and application , so that you can run application  skip  env installation step"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700062275,"post_id":77484795,"comment_id":136609028,"body_markdown":"You might find https://stackoverflow.com/questions/53453212/how-to-deploy-a-javafx-11-desktop-application-with-a-jre helpful.  (This applies to all Java applications, whether or not they use JavaFX.)","body":"You might find <a href=\"https://stackoverflow.com/questions/53453212/how-to-deploy-a-javafx-11-desktop-application-with-a-jre\" title=\"how to deploy a javafx 11 desktop application with a jre\">stackoverflow.com/questions/53453212/&hellip;</a> helpful.  (This applies to all Java applications, whether or not they use JavaFX.)"}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702068423,"creation_date":1702068423,"answer_id":77629094,"question_id":77484795,"body_markdown":"I had a similar requirement once. I ended up using [jPortable][1] to create a portable Java installation.\r\n\r\nWhen you run the installer, all you need to do is specify an install location (in this case, it would be your USB drive). Once it is installed, you use the `java` executable in the `bin` directory to execute your applications. It works exactly the same way as any other Java installation.\r\n\r\n  [1]: https://portableapps.com/apps/utilities/java_portable","title":"Installing Java on USB Drive without administrator privileges","body":"<p>I had a similar requirement once. I ended up using <a href=\"https://portableapps.com/apps/utilities/java_portable\" rel=\"nofollow noreferrer\">jPortable</a> to create a portable Java installation.</p>\n<p>When you run the installer, all you need to do is specify an install location (in this case, it would be your USB drive). Once it is installed, you use the <code>java</code> executable in the <code>bin</code> directory to execute your applications. It works exactly the same way as any other Java installation.</p>\n"}],"owner":{"account_id":11874421,"reputation":39,"user_id":19835998,"display_name":"Alex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702068423,"creation_date":1700012975,"question_id":77484795,"body_markdown":"I am currently writing a `Java` program for a company use. \r\nHowever, there are no `Java` installed in the company&#39;s computer. \r\n\r\n\r\nTherefore, I would like to know that if it is possible that I can install the Java in the USB (or just together with My Program). Then, if the user install the package of the program that I had written, `Java` will be also being installed. \r\n\r\nIf it is possible to do that?\\\r\n(Please assume that the user will mainly use the program in Window platform). ","title":"Installing Java on USB Drive without administrator privileges","body":"<p>I am currently writing a <code>Java</code> program for a company use.\nHowever, there are no <code>Java</code> installed in the company's computer.</p>\n<p>Therefore, I would like to know that if it is possible that I can install the Java in the USB (or just together with My Program). Then, if the user install the package of the program that I had written, <code>Java</code> will be also being installed.</p>\n<p>If it is possible to do that?<br />\n(Please assume that the user will mainly use the program in Window platform).</p>\n"},{"tags":["java","tomcat","iis","catalina"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":1,"creation_date":1675916249,"post_id":75390980,"comment_id":133031970,"body_markdown":"Ever since Windows Vista, system folders like `Program Files` are heavily protected, so are you sure you want to keep temp files there? Maybe you should check Tomcat document to see how to move the files out to a less sensitive folder. In all cases, the tomcat process needs write permission to the temp files so as to remove them. The actual steps to configure permissions depend on how you configure Tomcat on this Windows machine, which you didn&#39;t even reveal in the question body.","body":"Ever since Windows Vista, system folders like <code>Program Files</code> are heavily protected, so are you sure you want to keep temp files there? Maybe you should check Tomcat document to see how to move the files out to a less sensitive folder. In all cases, the tomcat process needs write permission to the temp files so as to remove them. The actual steps to configure permissions depend on how you configure Tomcat on this Windows machine, which you didn&#39;t even reveal in the question body."},{"owner":{"account_id":26408955,"reputation":311,"user_id":20058276,"display_name":"TengFeiXie"},"score":0,"creation_date":1675935154,"post_id":75390980,"comment_id":133035891,"body_markdown":"Maybe the file is being used by another thread or the permissions are insufficient. You can refer to related cases: https://stackoverflow.com/questions/6663202/cannot-delete-temp-folder-sometimes and https://stackoverflow.com/questions/50532263/java-delete-directory-ioexception-unable-to-delete-directory.","body":"Maybe the file is being used by another thread or the permissions are insufficient. You can refer to related cases: <a href=\"https://stackoverflow.com/questions/6663202/cannot-delete-temp-folder-sometimes\" title=\"cannot delete temp folder sometimes\">stackoverflow.com/questions/6663202/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/50532263/java-delete-directory-ioexception-unable-to-delete-directory\" title=\"java delete directory ioexception unable to delete directory\">stackoverflow.com/questions/50532263/&hellip;</a>."},{"owner":{"account_id":16080761,"reputation":55,"user_id":11606740,"display_name":"Zachary McArthur"},"score":0,"creation_date":1675957739,"post_id":75390980,"comment_id":133043373,"body_markdown":"@TengFeiXie I think you&#39;re right... After monitoring it a bit some files are being deleted and some are not.  This appears to be a situation where the file is in use and therefore unable to be deleted.","body":"@TengFeiXie I think you&#39;re right... After monitoring it a bit some files are being deleted and some are not.  This appears to be a situation where the file is in use and therefore unable to be deleted."},{"owner":{"account_id":12393052,"reputation":635,"user_id":9076590,"display_name":"Tim Hilt"},"score":0,"creation_date":1682683573,"post_id":75390980,"comment_id":134258119,"body_markdown":"Hey @ZacharyMcArthur. We are seeing the same issue on a Windows host. Have you managed to solve this in the meantime? Looking into the linked questions right now.","body":"Hey @ZacharyMcArthur. We are seeing the same issue on a Windows host. Have you managed to solve this in the meantime? Looking into the linked questions right now."}],"answers":[{"tags":[],"owner":{"account_id":28831444,"reputation":1,"user_id":22081745,"display_name":"Satyaprasanna Dash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702041753,"creation_date":1702041753,"answer_id":77626864,"question_id":75390980,"body_markdown":"Sometimes we can&#39;t delete files from C: drive without administrator permission,\r\nmay be these solution will help you :\r\n\r\n1) Run your Java application with administrative privileges. (using cmd)\r\n\r\n2) If still facing the issue , Check File Permissions. Ensure that the Java process has the necessary permissions to delete the file.","title":"Apache Tomcat 10.1 Unable to delete temporary files","body":"<p>Sometimes we can't delete files from C: drive without administrator permission,\nmay be these solution will help you :</p>\n<ol>\n<li><p>Run your Java application with administrative privileges. (using cmd)</p>\n</li>\n<li><p>If still facing the issue , Check File Permissions. Ensure that the Java process has the necessary permissions to delete the file.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":16080761,"reputation":55,"user_id":11606740,"display_name":"Zachary McArthur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":5029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702068358,"creation_date":1675885399,"question_id":75390980,"body_markdown":"We just upgraded Tomcat from 9.0 to 10.1, and Java from 8 to 11.  everything is running fine except now we are having temp files pile up in `Apache Software Foundation\\Tomcat 10.1\\work\\Catalina\\localhost\\root`.  This is causing 502 errors after Java heap space issues.  We see errors like this..\r\n\r\n```none\r\n07-Feb-2023 23:33:11.414 SEVERE [http-nio-81-exec-3] org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun Error running socket processor\r\n\tjava.io.UncheckedIOException: Cannot delete C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1\\work\\Catalina\\localhost\\root\\upload_ac88107d_733f_4b9d_a3a3_9274a46f92e3_00000509.tmp\r\n\t\tat org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:429)\r\n\t\tat org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:54)\r\n\t\tat org.apache.catalina.connector.Request.recycle(Request.java:451)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.log(CoyoteAdapter.java:512)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.checkRecycled(CoyoteAdapter.java:536)\r\n\t\tat org.apache.coyote.http11.Http11Processor.recycle(Http11Processor.java:1440)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.release(AbstractProtocol.java:1052)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:1024)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\tCaused by: java.io.IOException: Cannot delete C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1\\work\\Catalina\\localhost\\root\\upload_ac88107d_733f_4b9d_a3a3_9274a46f92e3_00000509.tmp\r\n\t\t... 14 more\r\n```\r\n\r\nAny ideas what could be the issue?","title":"Apache Tomcat 10.1 Unable to delete temporary files","body":"<p>We just upgraded Tomcat from 9.0 to 10.1, and Java from 8 to 11.  everything is running fine except now we are having temp files pile up in <code>Apache Software Foundation\\Tomcat 10.1\\work\\Catalina\\localhost\\root</code>.  This is causing 502 errors after Java heap space issues.  We see errors like this..</p>\n<pre class=\"lang-none prettyprint-override\"><code>07-Feb-2023 23:33:11.414 SEVERE [http-nio-81-exec-3] org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun Error running socket processor\n    java.io.UncheckedIOException: Cannot delete C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1\\work\\Catalina\\localhost\\root\\upload_ac88107d_733f_4b9d_a3a3_9274a46f92e3_00000509.tmp\n        at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.delete(DiskFileItem.java:429)\n        at org.apache.catalina.core.ApplicationPart.delete(ApplicationPart.java:54)\n        at org.apache.catalina.connector.Request.recycle(Request.java:451)\n        at org.apache.catalina.connector.CoyoteAdapter.log(CoyoteAdapter.java:512)\n        at org.apache.catalina.connector.CoyoteAdapter.checkRecycled(CoyoteAdapter.java:536)\n        at org.apache.coyote.http11.Http11Processor.recycle(Http11Processor.java:1440)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.release(AbstractProtocol.java:1052)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:1024)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n    Caused by: java.io.IOException: Cannot delete C:\\Program Files\\Apache Software Foundation\\Tomcat 10.1\\work\\Catalina\\localhost\\root\\upload_ac88107d_733f_4b9d_a3a3_9274a46f92e3_00000509.tmp\n        ... 14 more\n</code></pre>\n<p>Any ideas what could be the issue?</p>\n"},{"tags":["java","apache-spark","max","aggregate","min"],"comments":[{"owner":{"account_id":29452398,"reputation":11,"user_id":22568781,"display_name":"James"},"score":0,"creation_date":1702067416,"post_id":77629017,"comment_id":136856213,"body_markdown":"I forgot to add that I am running spark 3.5.0","body":"I forgot to add that I am running spark 3.5.0"}],"owner":{"account_id":29452398,"reputation":11,"user_id":22568781,"display_name":"James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702067318,"creation_date":1702067318,"question_id":77629017,"body_markdown":"I create the following dataset using groupBy:\r\n\r\n```\r\nDataset&lt;Row&gt; rangeSet = inputSet.select(key, partitionIDColName).groupBy(partitionIDColName)\r\n                .agg(functions.min(key).as(minKeyColName), functions.max(key).as(maxKeyColName))\r\n                .orderBy(functions.col(partitionIDColName).asc());\r\n```\r\n\r\n`key` is a string.  And the column represented by key is storing string values.  I partition the dataset by the integer column `partitionIDColName` and get the minimum and maximum value of the key for each partition ID.\r\n\r\nI then collect the rows of `rangeSet` onto the driver and loop over them for validation:\r\n\r\n```\r\nList&lt;Row&gt; ranges = rangeSet.collectAsList();\r\n\r\nfor (Row r : ranges) {\r\n   String rangeStr;\r\n\r\n   Integer partitionID = r.&lt;Integer&gt;getAs(partitionIDColName);\r\n   String minKeyVal = r.&lt;String&gt;getAs(minKeyColName);\r\n   String maxKeyVal = r.&lt;String&gt;getAs(maxKeyColName);\r\n\r\n   if (minKeyVal.compareTo(maxKeyVal) &gt; 0) {\r\n      throw new Exception(&quot;minKeyVal is greter than maxKeyVal for range &quot; + partitionID + &quot;, minKeyVal: &#39;&quot; + minKeyVal + &quot;&#39;&quot; + &quot;maxKeyVal: &#39;&quot; + maxKeyVal + &quot;&#39;&quot;);\r\n   }\r\n}\r\n```\r\n\r\nFor some of the rows, the exception is triggered, indicating that the minimum returned by groupBy is less than the maximum value returned.  How is this possible?  Is Spark applying a different lexicographical ordering when performing the aggregation than when my driver calls to `String::compareTo()`?  Is it a java versioning issue between Spark and my driver.  I have verified that I am using jdk-11.0.19 to run Spark, Hadoop, and my driver.  My driver is also built and executed with jdk-11.0.19.","title":"Spark groupBy min and max aggregation returns min values that are greater than max value for strings","body":"<p>I create the following dataset using groupBy:</p>\n<pre><code>Dataset&lt;Row&gt; rangeSet = inputSet.select(key, partitionIDColName).groupBy(partitionIDColName)\n                .agg(functions.min(key).as(minKeyColName), functions.max(key).as(maxKeyColName))\n                .orderBy(functions.col(partitionIDColName).asc());\n</code></pre>\n<p><code>key</code> is a string.  And the column represented by key is storing string values.  I partition the dataset by the integer column <code>partitionIDColName</code> and get the minimum and maximum value of the key for each partition ID.</p>\n<p>I then collect the rows of <code>rangeSet</code> onto the driver and loop over them for validation:</p>\n<pre><code>List&lt;Row&gt; ranges = rangeSet.collectAsList();\n\nfor (Row r : ranges) {\n   String rangeStr;\n\n   Integer partitionID = r.&lt;Integer&gt;getAs(partitionIDColName);\n   String minKeyVal = r.&lt;String&gt;getAs(minKeyColName);\n   String maxKeyVal = r.&lt;String&gt;getAs(maxKeyColName);\n\n   if (minKeyVal.compareTo(maxKeyVal) &gt; 0) {\n      throw new Exception(&quot;minKeyVal is greter than maxKeyVal for range &quot; + partitionID + &quot;, minKeyVal: '&quot; + minKeyVal + &quot;'&quot; + &quot;maxKeyVal: '&quot; + maxKeyVal + &quot;'&quot;);\n   }\n}\n</code></pre>\n<p>For some of the rows, the exception is triggered, indicating that the minimum returned by groupBy is less than the maximum value returned.  How is this possible?  Is Spark applying a different lexicographical ordering when performing the aggregation than when my driver calls to <code>String::compareTo()</code>?  Is it a java versioning issue between Spark and my driver.  I have verified that I am using jdk-11.0.19 to run Spark, Hadoop, and my driver.  My driver is also built and executed with jdk-11.0.19.</p>\n"},{"tags":["java","spring","spring-security","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702067205,"creation_date":1702010754,"answer_id":77624403,"question_id":77385959,"body_markdown":"Finally I noted that since WebFlux is reactive, I need to do it that way. So, I made the below changes, and now it is working fine.\r\n\r\n**1. Add load balancer dependency**\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**2.Add WebClient Configuration.**\r\n\r\n    @Configuration\r\n    class WebClientConfig {\r\n    \r\n    \t@Bean\r\n    \t@LoadBalanced\r\n    \tpublic WebClient.Builder loadBalancedWebClientBuilder() {\r\n    \t\treturn WebClient.builder();\r\n    \t}\r\n    }\r\n\r\n**3.Call external microservice using service-name via WebClient as follows**\r\n\r\n\r\n    import jakarta.ws.rs.core.HttpHeaders;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.cloud.gateway.filter.GatewayFilter;\r\n    import org.springframework.cloud.gateway.filter.factory.AbstractGatewayFilterFactory;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.reactive.function.client.WebClient;\r\n    \r\n    @Component\r\n    public class AuthenticationFilter extends AbstractGatewayFilterFactory&lt;AuthenticationFilter.Config&gt; {\r\n    \r\n        private WebClient webClient;\r\n    \r\n        public AuthenticationFilter() {\r\n            super(Config.class);\r\n        }\r\n    \t\r\n        @Autowired\r\n        public AuthenticationFilter(WebClient.Builder webClientBuilder) {\r\n            super(Config.class);\r\n            this.webClient = webClientBuilder.build();\r\n        }\r\n    \r\n        @Override\r\n        public Config newConfig() {\r\n            return new Config();\r\n        }\r\n    \r\n        @Override\r\n        public GatewayFilter apply(Config config) {\r\n            return (exchange, chain) -&gt; {\r\n                String authHeader = exchange.getRequest().getHeaders().getFirst(HttpHeaders.AUTHORIZATION);\r\n    \r\n                if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n                    authHeader = authHeader.substring(7);\r\n                }\r\n    \r\n                String expectedRole = config.role;\r\n                String authServiceUrl = &quot;http://YOUR-APPLICATION-SERVICE-NAME&quot;;\r\n    \r\n                return this.webClient\r\n                        .get()\r\n                        .uri(authServiceUrl + &quot;/auth/doOp?token=&quot; + authHeader + &quot;&amp;role=&quot; + expectedRole)\r\n                        .retrieve()\r\n                        .bodyToMono(Boolean.class)\r\n                        .flatMap(response -&gt; {\r\n                            // Do further operations on microservice response if needed\r\n                            return chain.filter(exchange);\r\n                        })\r\n                        .onErrorResume(throwable -&gt; {\r\n                            throw new RuntimeException(&quot;un authorized access to application&quot;);\r\n                        });\r\n            };\r\n        }\r\n    \r\n        public static class Config {\r\n            private String role;\r\n            public String getRole() {\r\n                return role;\r\n            }\r\n            public void setRole(String role) {\r\n                this.role = role;\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve shared a sample project here : \r\nhttps://github.com/namalfernandolk/cloud-gateway-demo.git","title":"Call MicroServices synchronously by the service-name within Spring Cloud Gateway","body":"<p>Finally I noted that since WebFlux is reactive, I need to do it that way. So, I made the below changes, and now it is working fine.</p>\n<p><strong>1. Add load balancer dependency</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>2.Add WebClient Configuration.</strong></p>\n<pre><code>@Configuration\nclass WebClientConfig {\n\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder loadBalancedWebClientBuilder() {\n        return WebClient.builder();\n    }\n}\n</code></pre>\n<p><strong>3.Call external microservice using service-name via WebClient as follows</strong></p>\n<pre><code>import jakarta.ws.rs.core.HttpHeaders;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.gateway.filter.GatewayFilter;\nimport org.springframework.cloud.gateway.filter.factory.AbstractGatewayFilterFactory;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.reactive.function.client.WebClient;\n\n@Component\npublic class AuthenticationFilter extends AbstractGatewayFilterFactory&lt;AuthenticationFilter.Config&gt; {\n\n    private WebClient webClient;\n\n    public AuthenticationFilter() {\n        super(Config.class);\n    }\n    \n    @Autowired\n    public AuthenticationFilter(WebClient.Builder webClientBuilder) {\n        super(Config.class);\n        this.webClient = webClientBuilder.build();\n    }\n\n    @Override\n    public Config newConfig() {\n        return new Config();\n    }\n\n    @Override\n    public GatewayFilter apply(Config config) {\n        return (exchange, chain) -&gt; {\n            String authHeader = exchange.getRequest().getHeaders().getFirst(HttpHeaders.AUTHORIZATION);\n\n            if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\n                authHeader = authHeader.substring(7);\n            }\n\n            String expectedRole = config.role;\n            String authServiceUrl = &quot;http://YOUR-APPLICATION-SERVICE-NAME&quot;;\n\n            return this.webClient\n                    .get()\n                    .uri(authServiceUrl + &quot;/auth/doOp?token=&quot; + authHeader + &quot;&amp;role=&quot; + expectedRole)\n                    .retrieve()\n                    .bodyToMono(Boolean.class)\n                    .flatMap(response -&gt; {\n                        // Do further operations on microservice response if needed\n                        return chain.filter(exchange);\n                    })\n                    .onErrorResume(throwable -&gt; {\n                        throw new RuntimeException(&quot;un authorized access to application&quot;);\n                    });\n        };\n    }\n\n    public static class Config {\n        private String role;\n        public String getRole() {\n            return role;\n        }\n        public void setRole(String role) {\n            this.role = role;\n        }\n    }\n}\n</code></pre>\n<p>I've shared a sample project here :\n<a href=\"https://github.com/namalfernandolk/cloud-gateway-demo.git\" rel=\"nofollow noreferrer\">https://github.com/namalfernandolk/cloud-gateway-demo.git</a></p>\n"}],"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702067205,"creation_date":1698633397,"question_id":77385959,"body_markdown":"I have a cloud api gateway related implementation built referring [this][1]. \r\n\r\nThere, I&#39;m calling an authentication service within that gateway through AuthenticationFilter.\r\n\r\n - CLOUD-GATEWAY-SERVICE\t: 7130 \r\n - AUTHENTICATION-SERVICE\t: 9898\r\n - EXCHANGE-SERVICE\t\t: 7120\r\n\r\n**application.yml**\r\n\r\n    server:\r\n      port: 7130\r\n    eureka:\r\n      client:\r\n        serviceUrl:\r\n          defaultZone: http://localhost:8083/eureka\r\n    spring:\r\n      application:\r\n        name: CLOUD-GATEWAY-SERVICE\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n          - id: mtoken-exchange-service\r\n            uri: lb://EXCHANGE-SERVICE\r\n            predicates:\r\n            - Path=/employee/**\r\n            filters:\r\n              - name: AuthenticationFilter\r\n                args:\r\n                  role: ROLE_ADMIN\r\n          - id: mtokens-authentication-service\r\n            uri: lb://AUTHENTICATION-SERVICE\r\n            predicates:\r\n              - Path=/auth/**\r\n\r\n\r\n - Spring boot version : 3.1.1\r\n - Spring Cloud Version : 2022.0.3\r\n - Java version : 17\r\n\r\n\r\nCurrently I&#39;m using the RestTemplate for that; but I tried Feign and Webclient also.\r\n\r\nWhen I access using the host and port as mentioned below it works. (here I used it without @LoadBalanced annotation)\r\n\r\n    template.getForObject(&quot;http://localhost:7130/auth/validate?token=&lt;Bearer_Token&gt;&amp;role=ROLE_ADMIN&quot;, Boolean.class);\r\n    template.getForObject(&quot;http://localhost:9898/auth/validate?token=&lt;Bearer_Token&gt;&amp;role=ROLE_ADMIN&quot;, Boolean.class);\r\n\r\nBut, when I try to access using the service name as mentioned below it fails with Unknown Host Exception.\r\n\r\n    template.getForObject(&quot;http://CLOUD-GATEWAY-SERVICE/auth/validate?token=&lt;Bearer_Token&gt;&amp;role=ROLE_ADMIN&quot;, Boolean.class);\r\n    template.getForObject(&quot;http://AUTHENTICATION-SERVICE/auth/validate?token=&lt;Bearer_Token&gt;&amp;role=ROLE_ADMIN&quot;, Boolean.class);\r\n\r\nThen as mentioned in this[https://stackoverflow.com/questions/37159662/microservices-resttemplate-unknownhostexception] post, I annotated the RestTemplate with @LoadBalanced. But after that it is throwing below error.\r\nSame thing I experienced when I synchronously call servces using Feign or Webclient.\r\n\r\n    2023-10-30T05:19:59.789+05:30  INFO 10856 --- [           main] c.javatechie.SwiggyGatewayApplication    : Started SwiggyGatewayApplication in 3.752 seconds (process running for 4.03)\r\n    java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-3\r\n    \tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)\r\n    \tat reactor.core.publisher.Mono.block(Mono.java:1710)\r\n    \tat org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.choose(BlockingLoadBalancerClient.java:163)\r\n    \tat org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:74)\r\n    \tat org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:56)\r\n    \tat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)\r\n    \tat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)\r\n    \tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n    \tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:862)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\r\n    \tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:378)\r\n    \tat com.javatechie.filter.AuthenticationFilter.lambda$apply$0(AuthenticationFilter.java:42)\r\n\t\r\n\r\n**RestTemplateConfiguration** \r\n\r\n    @Configuration\r\n    class RestTemplateConfiguration {\r\n    \t@Bean\r\n    \t@LoadBalanced\r\n    \tpublic RestTemplate restTemplate() {\r\n    \t\treturn new RestTemplate(new BufferingClientHttpRequestFactory(new HttpComponentsClientHttpRequestFactory()));\r\n    \t}\r\n    }\r\n\r\nIs there anyway to call services synchronously by the service name using RestTemplate or Feignclient or Webclient etc within this like cloud gateway application?\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=MWvnmyLRUik","title":"Call MicroServices synchronously by the service-name within Spring Cloud Gateway","body":"<p>I have a cloud api gateway related implementation built referring <a href=\"https://www.youtube.com/watch?v=MWvnmyLRUik\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>There, I'm calling an authentication service within that gateway through AuthenticationFilter.</p>\n<ul>\n<li>CLOUD-GATEWAY-SERVICE    : 7130</li>\n<li>AUTHENTICATION-SERVICE   : 9898</li>\n<li>EXCHANGE-SERVICE     : 7120</li>\n</ul>\n<p><strong>application.yml</strong></p>\n<pre><code>server:\n  port: 7130\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:8083/eureka\nspring:\n  application:\n    name: CLOUD-GATEWAY-SERVICE\n  cloud:\n    gateway:\n      routes:\n      - id: mtoken-exchange-service\n        uri: lb://EXCHANGE-SERVICE\n        predicates:\n        - Path=/employee/**\n        filters:\n          - name: AuthenticationFilter\n            args:\n              role: ROLE_ADMIN\n      - id: mtokens-authentication-service\n        uri: lb://AUTHENTICATION-SERVICE\n        predicates:\n          - Path=/auth/**\n</code></pre>\n<ul>\n<li>Spring boot version : 3.1.1</li>\n<li>Spring Cloud Version : 2022.0.3</li>\n<li>Java version : 17</li>\n</ul>\n<p>Currently I'm using the RestTemplate for that; but I tried Feign and Webclient also.</p>\n<p>When I access using the host and port as mentioned below it works. (here I used it without @LoadBalanced annotation)</p>\n<pre><code>template.getForObject(&quot;http://localhost:7130/auth/validate?token=&lt;Bearer_Token&gt;&amp;role=ROLE_ADMIN&quot;, Boolean.class);\ntemplate.getForObject(&quot;http://localhost:9898/auth/validate?token=&lt;Bearer_Token&gt;&amp;role=ROLE_ADMIN&quot;, Boolean.class);\n</code></pre>\n<p>But, when I try to access using the service name as mentioned below it fails with Unknown Host Exception.</p>\n<pre><code>template.getForObject(&quot;http://CLOUD-GATEWAY-SERVICE/auth/validate?token=&lt;Bearer_Token&gt;&amp;role=ROLE_ADMIN&quot;, Boolean.class);\ntemplate.getForObject(&quot;http://AUTHENTICATION-SERVICE/auth/validate?token=&lt;Bearer_Token&gt;&amp;role=ROLE_ADMIN&quot;, Boolean.class);\n</code></pre>\n<p>Then as mentioned in this[https://stackoverflow.com/questions/37159662/microservices-resttemplate-unknownhostexception] post, I annotated the RestTemplate with @LoadBalanced. But after that it is throwing below error.\nSame thing I experienced when I synchronously call servces using Feign or Webclient.</p>\n<pre><code>2023-10-30T05:19:59.789+05:30  INFO 10856 --- [           main] c.javatechie.SwiggyGatewayApplication    : Started SwiggyGatewayApplication in 3.752 seconds (process running for 4.03)\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-3\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)\n    at reactor.core.publisher.Mono.block(Mono.java:1710)\n    at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.choose(BlockingLoadBalancerClient.java:163)\n    at org.springframework.cloud.loadbalancer.blocking.client.BlockingLoadBalancerClient.execute(BlockingLoadBalancerClient.java:74)\n    at org.springframework.cloud.client.loadbalancer.LoadBalancerInterceptor.intercept(LoadBalancerInterceptor.java:56)\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:87)\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:71)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:862)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764)\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:378)\n    at com.javatechie.filter.AuthenticationFilter.lambda$apply$0(AuthenticationFilter.java:42)\n</code></pre>\n<p><strong>RestTemplateConfiguration</strong></p>\n<pre><code>@Configuration\nclass RestTemplateConfiguration {\n    @Bean\n    @LoadBalanced\n    public RestTemplate restTemplate() {\n        return new RestTemplate(new BufferingClientHttpRequestFactory(new HttpComponentsClientHttpRequestFactory()));\n    }\n}\n</code></pre>\n<p>Is there anyway to call services synchronously by the service name using RestTemplate or Feignclient or Webclient etc within this like cloud gateway application?</p>\n"},{"tags":["java","android","datastore"],"owner":{"account_id":16033463,"reputation":63,"user_id":11571752,"display_name":"Alexander Robinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702066111,"creation_date":1702066111,"question_id":77628923,"body_markdown":"I have been trying to to migrate from `SharedPreferences` to `DataStore`. So far I have had no success. The way I had my `SharedPreferences` implemented before is like this. I have a `SharedPreferencesManager` that I store my `SharedPreferences` instance in. The `SharedPreferencesManager` also handles all my editing and so on for my `SharedPreferences`. When the Apps `Activity` goes through `OnCreate` the `SharedPreferencesManager` constructor calls this method:\r\n\r\n    private void createSharedPreferences(Context context)\r\n    {\r\n        mSharedPref = context.getSharedPreferences(PREFERENCE_KEY, Context.MODE_PRIVATE);\r\n        int unlock = mSharedPref.getInt(SHARED_PREFERENCES_CREATED, - 1);\r\n        if (unlock == - 1)\r\n        {\r\n            SharedPreferences.Editor editor = mSharedPref.edit();\r\n            editor.putInt(SHARED_PREFERENCES_CREATED, 0);\r\n           //The rest of the default values are excluded for brevity\r\n        }\r\n    }\r\nAs you can probably see I create the `SharedPreferences` instance and query if its been created. If not add the default values.\r\n\r\nI would like to keep this structure with DataStore but it seem impossible.\r\n\r\nI have followed the documentation [here][1]. Inserted the dependencies created my `DataStore` instance like such: `mDataStore = new RxPreferenceDataStoreBuilder(context, PREFERENCE_NAME).build();`and got a basic POC using the code supplied. I tried to apply it to the structure I have like this it:\r\n\r\n    private void createDefaultPreferencesValues()\r\n    {\r\n        if(!areDefaultsInserted())\r\n        {\r\n            setDefaultValuesAdded(true);\r\n            //Default values excluded for brevity\r\n        }\r\n    }\r\n\r\nwith the `areDefaultsInserted()` method structure like this:\r\n\r\n     public boolean areDefaultsInserted()\r\n    {\r\n        return mDataStore.data().map(prefs -&gt; prefs.get(DEFAULT_INSERTED_KEY)).blockingFirst();\r\n    }\r\n\r\nInitially I got `java.lang.NullPointerException: The mapper function returned a null value.`. This makes sense since I didnt insert anything into the `DataStore`. So I tried catching the exception\r\nand then `finally` passing out a false, but still got the `The mapper function returned a null value`. I tried multiple other ways but the one that caused me the most confusion was this.\r\n\r\n    private void createDefaultPreferencesValues()\r\n    {\r\n       if(mDataStore.data().blockingFirst().asMap().isEmpty())\r\n       {\r\n            setDefaultValuesAdded(true);\r\n           //Values excluded for brevity\r\n        }\r\n    }\r\nI can successfully check that the `Map` is empty but when I then try to assign a value into the `DataStore` I get the `The mapper function returned a null value` exception again. Stranger still if I remove the check for the `Maps` size I can successfully add the default values. Im obviously doing something wrong. How do I catch the `null` and insert a set of default values. Is it even worth it to use `DataStore` since it seems like a lot of overhead to store and fetch one literal bit of information? I am not querying `Urls` on the net or anything. A user can flip a switch and change the value. When they return the value gets fetched and applied to the Ui. Please help. Brain is too smooth :(\r\n\r\nPs. Answers in Java please. The project is Java based\r\n \r\n [1]: https://developer.android.com/topic/libraries/architecture/datastore","title":"Using DataStore on Android With Java","body":"<p>I have been trying to to migrate from <code>SharedPreferences</code> to <code>DataStore</code>. So far I have had no success. The way I had my <code>SharedPreferences</code> implemented before is like this. I have a <code>SharedPreferencesManager</code> that I store my <code>SharedPreferences</code> instance in. The <code>SharedPreferencesManager</code> also handles all my editing and so on for my <code>SharedPreferences</code>. When the Apps <code>Activity</code> goes through <code>OnCreate</code> the <code>SharedPreferencesManager</code> constructor calls this method:</p>\n<pre><code>private void createSharedPreferences(Context context)\n{\n    mSharedPref = context.getSharedPreferences(PREFERENCE_KEY, Context.MODE_PRIVATE);\n    int unlock = mSharedPref.getInt(SHARED_PREFERENCES_CREATED, - 1);\n    if (unlock == - 1)\n    {\n        SharedPreferences.Editor editor = mSharedPref.edit();\n        editor.putInt(SHARED_PREFERENCES_CREATED, 0);\n       //The rest of the default values are excluded for brevity\n    }\n}\n</code></pre>\n<p>As you can probably see I create the <code>SharedPreferences</code> instance and query if its been created. If not add the default values.</p>\n<p>I would like to keep this structure with DataStore but it seem impossible.</p>\n<p>I have followed the documentation <a href=\"https://developer.android.com/topic/libraries/architecture/datastore\" rel=\"nofollow noreferrer\">here</a>. Inserted the dependencies created my <code>DataStore</code> instance like such: <code>mDataStore = new RxPreferenceDataStoreBuilder(context, PREFERENCE_NAME).build();</code>and got a basic POC using the code supplied. I tried to apply it to the structure I have like this it:</p>\n<pre><code>private void createDefaultPreferencesValues()\n{\n    if(!areDefaultsInserted())\n    {\n        setDefaultValuesAdded(true);\n        //Default values excluded for brevity\n    }\n}\n</code></pre>\n<p>with the <code>areDefaultsInserted()</code> method structure like this:</p>\n<pre><code> public boolean areDefaultsInserted()\n{\n    return mDataStore.data().map(prefs -&gt; prefs.get(DEFAULT_INSERTED_KEY)).blockingFirst();\n}\n</code></pre>\n<p>Initially I got <code>java.lang.NullPointerException: The mapper function returned a null value.</code>. This makes sense since I didnt insert anything into the <code>DataStore</code>. So I tried catching the exception\nand then <code>finally</code> passing out a false, but still got the <code>The mapper function returned a null value</code>. I tried multiple other ways but the one that caused me the most confusion was this.</p>\n<pre><code>private void createDefaultPreferencesValues()\n{\n   if(mDataStore.data().blockingFirst().asMap().isEmpty())\n   {\n        setDefaultValuesAdded(true);\n       //Values excluded for brevity\n    }\n}\n</code></pre>\n<p>I can successfully check that the <code>Map</code> is empty but when I then try to assign a value into the <code>DataStore</code> I get the <code>The mapper function returned a null value</code> exception again. Stranger still if I remove the check for the <code>Maps</code> size I can successfully add the default values. Im obviously doing something wrong. How do I catch the <code>null</code> and insert a set of default values. Is it even worth it to use <code>DataStore</code> since it seems like a lot of overhead to store and fetch one literal bit of information? I am not querying <code>Urls</code> on the net or anything. A user can flip a switch and change the value. When they return the value gets fetched and applied to the Ui. Please help. Brain is too smooth :(</p>\n<p>Ps. Answers in Java please. The project is Java based</p>\n"},{"tags":["java","maven","maven-archetype"],"comments":[{"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"score":0,"creation_date":1507299846,"post_id":46590423,"comment_id":80167728,"body_markdown":"Any particular reason you put the `archetype-resource` module inside `src/main/resource`?","body":"Any particular reason you put the <code>archetype-resource</code> module inside <code>src&#47;main&#47;resource</code>?"},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":0,"creation_date":1507300275,"post_id":46590423,"comment_id":80168011,"body_markdown":"@araknoid I followed https://maven.apache.org/guides/mini/guide-creating-archetypes.html. That&#39;s the only reason. Is that wrong or troublesome? Are there alternatives?","body":"@araknoid I followed <a href=\"https://maven.apache.org/guides/mini/guide-creating-archetypes.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-creating-archetypes.html</a>. That&#39;s the only reason. Is that wrong or troublesome? Are there alternatives?"}],"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702066021,"creation_date":1507220409,"question_id":46590423,"body_markdown":"I created a multi-module Maven archetype following http://maven.apache.org/archetype/maven-archetype-plugin/examples/create-multi-module-project.html with the following parent ` pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;${groupId}&lt;/groupId&gt;\r\n      &lt;artifactId&gt;${rootArtifactId}&lt;/artifactId&gt;\r\n      &lt;version&gt;${version}&lt;/version&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      &lt;name&gt;${rootArtifactId}&lt;/name&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;${rootArtifactId}-jar&lt;/module&gt;\r\n        &lt;module&gt;${rootArtifactId}-ejb&lt;/module&gt;\r\n        &lt;module&gt;${rootArtifactId}-web&lt;/module&gt;\r\n        &lt;module&gt;${rootArtifactId}-ear&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    &lt;/project&gt;\r\n\r\nin `src/main/resources/archetype-resources/pom.xml`. I expect the resulting `pom.xml` after `mvn archetype:generate` to include the `modules`  element and it&#39;s children with `rootArtifactId` replaced, however the resulting `pom.xml` is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;myGroup&lt;/groupId&gt;\r\n      &lt;artifactId&gt;myArtifact&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      &lt;name&gt;myArtifact&lt;/name&gt;\r\n    &lt;/project&gt;\r\n","title":"How to create parent pom.xml in a multi-module Maven archetype from template?","body":"<p>I created a multi-module Maven archetype following <a href=\"http://maven.apache.org/archetype/maven-archetype-plugin/examples/create-multi-module-project.html\" rel=\"nofollow noreferrer\">http://maven.apache.org/archetype/maven-archetype-plugin/examples/create-multi-module-project.html</a> with the following parent <code> pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;${groupId}&lt;/groupId&gt;\n  &lt;artifactId&gt;${rootArtifactId}&lt;/artifactId&gt;\n  &lt;version&gt;${version}&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;name&gt;${rootArtifactId}&lt;/name&gt;\n  &lt;modules&gt;\n    &lt;module&gt;${rootArtifactId}-jar&lt;/module&gt;\n    &lt;module&gt;${rootArtifactId}-ejb&lt;/module&gt;\n    &lt;module&gt;${rootArtifactId}-web&lt;/module&gt;\n    &lt;module&gt;${rootArtifactId}-ear&lt;/module&gt;\n  &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>in <code>src/main/resources/archetype-resources/pom.xml</code>. I expect the resulting <code>pom.xml</code> after <code>mvn archetype:generate</code> to include the <code>modules</code>  element and it's children with <code>rootArtifactId</code> replaced, however the resulting <code>pom.xml</code> is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;myGroup&lt;/groupId&gt;\n  &lt;artifactId&gt;myArtifact&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;name&gt;myArtifact&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","generics","inheritance"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1702064687,"post_id":77628774,"comment_id":136855864,"body_markdown":"First, for something simple like this, don&#39;t over look a simple method call.  `String.toUpperCase()` does this with no generics and no inheritance.  Simple. For your question, if a class is truly generic -- that is it works identically for any type -- then you can use generics.  Think `ArrayList`, which works the same no matter what type you put in it.  If a class works differently based on type, that&#39;s inheritance (or more precisely polymorphism).","body":"First, for something simple like this, don&#39;t over look a simple method call.  <code>String.toUpperCase()</code> does this with no generics and no inheritance.  Simple. For your question, if a class is truly generic -- that is it works identically for any type -- then you can use generics.  Think <code>ArrayList</code>, which works the same no matter what type you put in it.  If a class works differently based on type, that&#39;s inheritance (or more precisely polymorphism)."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1702065400,"post_id":77628774,"comment_id":136855954,"body_markdown":"Generics and inheritance are not mutually exclusive.  There are times when they work hand in hand.","body":"Generics and inheritance are not mutually exclusive.  There are times when they work hand in hand."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1702065887,"creation_date":1702065466,"answer_id":77628882,"question_id":77628774,"body_markdown":"In a situation like that, I would use generics.\r\n\r\nWhile you might be successful with inheritance, there are a few disadvantages.\r\n\r\nIf you have a container, you might want to use a generic type since that&#39;s what generics are made for.\r\n\r\n### additional cast\r\nLet&#39;s assume you have multiple executors with different types.\r\n\r\nIf you use inheritence, you would need to explicitely cast it every time you want to get the result:\r\n```java\r\nStringUpperOutput output = (StringUpperOutput) executor.execute(input);//or call some method (which has no idea about the executor) that in turn calls executor.execute\r\n```\r\n\r\nSimilarly, you have these casts in your `execute` methods. Someone could supply invalid input.\r\n\r\nWith generics, there would still be implicit casts but the compiler checks whether you are using matching types and automatically inserts the tasks.\r\n\r\n### may be final\r\nIf you use inheritence, you extend the classes. You might not want everyone to extend any class you write so you might want to make these classes `final`. This doesn&#39;t work with generics.\r\n\r\n### More code\r\nWith the inheritance approach, you would need to create an input/output/executor class for every input/output type/operation.\r\n\r\n### different situations\r\nGenerics are made for different situations than inheritance. If you want to extend the functionality of some class, you might want to use inheritance. If you just want to specify the type outside of the class, you probably want to choose generics.\r\n\r\nYou can also use them together as suggested by [John Bollinger](https://stackoverflow.com/users/2402272/john-bollinger) [in the comments of your question](https://stackoverflow.com/questions/77628774/java-inheritance-vs-generic/77628882#comment136855954_77628774). This may be useful if your `Input`/`Output` classes should have additional functionality. For example, you could add a method to `Input` checking whether that input is valid:\r\n```java\r\n  class GenericInput&lt;I&gt; {\r\n    String id;\r\n    I inputObj;\r\n\r\n    boolean checkValid(){\r\n        return true;//generally, any input is valid but you can create specific subclasses and checks there.\r\n    }\r\n  }\r\n```","title":"Java: Inheritance vs Generic?","body":"<p>In a situation like that, I would use generics.</p>\n<p>While you might be successful with inheritance, there are a few disadvantages.</p>\n<p>If you have a container, you might want to use a generic type since that's what generics are made for.</p>\n<h3>additional cast</h3>\n<p>Let's assume you have multiple executors with different types.</p>\n<p>If you use inheritence, you would need to explicitely cast it every time you want to get the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringUpperOutput output = (StringUpperOutput) executor.execute(input);//or call some method (which has no idea about the executor) that in turn calls executor.execute\n</code></pre>\n<p>Similarly, you have these casts in your <code>execute</code> methods. Someone could supply invalid input.</p>\n<p>With generics, there would still be implicit casts but the compiler checks whether you are using matching types and automatically inserts the tasks.</p>\n<h3>may be final</h3>\n<p>If you use inheritence, you extend the classes. You might not want everyone to extend any class you write so you might want to make these classes <code>final</code>. This doesn't work with generics.</p>\n<h3>More code</h3>\n<p>With the inheritance approach, you would need to create an input/output/executor class for every input/output type/operation.</p>\n<h3>different situations</h3>\n<p>Generics are made for different situations than inheritance. If you want to extend the functionality of some class, you might want to use inheritance. If you just want to specify the type outside of the class, you probably want to choose generics.</p>\n<p>You can also use them together as suggested by <a href=\"https://stackoverflow.com/users/2402272/john-bollinger\">John Bollinger</a> <a href=\"https://stackoverflow.com/questions/77628774/java-inheritance-vs-generic/77628882#comment136855954_77628774\">in the comments of your question</a>. This may be useful if your <code>Input</code>/<code>Output</code> classes should have additional functionality. For example, you could add a method to <code>Input</code> checking whether that input is valid:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  class GenericInput&lt;I&gt; {\n    String id;\n    I inputObj;\n\n    boolean checkValid(){\n        return true;//generally, any input is valid but you can create specific subclasses and checks there.\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":4609664,"reputation":392,"user_id":7396101,"accept_rate":0,"display_name":"Pepria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702119285,"answer_count":1,"score":-1,"last_activity_date":1702065887,"creation_date":1702064128,"question_id":77628774,"body_markdown":"I am trying to figure out the differences/pros + cons/when to use which in the below situation where both Generics and Inheritance seems to provide working alternatives. If I have scenario where I am implementing generic behavior based on some input and returning an output:\r\n\r\n**Inheritance**\r\n```java \r\n\r\n  // classes\r\n  class Input {\r\n    String id;\r\n  }\r\n\r\n  class Output {\r\n    long executionTime;\r\n  }\r\n\r\n  class StringUpperInput extends Input {\r\n    String stringToUpper;\r\n  }\r\n\r\n  class StringUpperOutput extends Output {\r\n    String upperCaseString;\r\n  }\r\n\r\n  // interface\r\n  interface Executor {\r\n    // execute some logic on the input and return the output\r\n    Output execute(Input i);\r\n  }\r\n\r\n  // implementation\r\n  class StringUpperExecutor implements Executor {\r\n    @Override\r\n    public Output execute(Input i) {\r\n      String upper = ((StringUpperInput) i).stringToUpper.toUpperCase();\r\n      StringUpperOutput output = new StringUpperOutput();\r\n      output.upperCaseString = upper;\r\n      // set general stuff like execution time etc\r\n      return output;\r\n    }\r\n  }\r\n```\r\n\r\n**Generics**\r\n```java\r\n  class GenericInput&lt;I&gt; {\r\n    String id;\r\n    I inputObj;\r\n  }\r\n\r\n  class GenericOutput&lt;O&gt; {\r\n    long executionTime;\r\n    O outputObj;\r\n  }\r\n\r\n  class StringUpperInputParam {\r\n    String stringToUpper;\r\n  }\r\n\r\n  class StringUpperOutputResult {\r\n    String upperCaseString;\r\n  }\r\n\r\n  interface ExecutorGeneric&lt;I, O&gt; {\r\n    GenericOutput&lt;O&gt; execute(GenericInput&lt;I&gt; input);\r\n  }\r\n\r\n  class StringUpperGenericExecutor implements ExecutorGeneric&lt;StringUpperInputParam, StringUpperOutputResult&gt; {\r\n\r\n    @Override\r\n    public GenericOutput&lt;StringUpperOutputResult&gt; execute(GenericInput&lt;StringUpperInputParam&gt; input) {\r\n      GenericOutput&lt;StringUpperOutputResult&gt; resultWrapper = new GenericOutput&lt;&gt;();\r\n      StringUpperOutputResult result = new StringUpperOutputResult();\r\n      result.upperCaseString = input.inputObj.stringToUpper.toUpperCase();\r\n      resultWrapper.outputObj = result;\r\n      \r\n      // set general stuff like execution time, etc\r\n      return resultWrapper;\r\n    }\r\n  }\r\n```\r\nAbove is an example of a &quot;Executor&quot; that will take an input string and returns the upper case of it. I want to write a service that will have list of such executors and will pick one based on some criteria and then pass the input object to the specific executor generically and get back an output. For this kind of scenario, which of the above two approaches work best? What is the advantage of one over the other? It seems both can work so I guess I&#39;m looking for the &quot;correct&quot; way to do it.\r\n\r\n","title":"Java: Inheritance vs Generic?","body":"<p>I am trying to figure out the differences/pros + cons/when to use which in the below situation where both Generics and Inheritance seems to provide working alternatives. If I have scenario where I am implementing generic behavior based on some input and returning an output:</p>\n<p><strong>Inheritance</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  // classes\n  class Input {\n    String id;\n  }\n\n  class Output {\n    long executionTime;\n  }\n\n  class StringUpperInput extends Input {\n    String stringToUpper;\n  }\n\n  class StringUpperOutput extends Output {\n    String upperCaseString;\n  }\n\n  // interface\n  interface Executor {\n    // execute some logic on the input and return the output\n    Output execute(Input i);\n  }\n\n  // implementation\n  class StringUpperExecutor implements Executor {\n    @Override\n    public Output execute(Input i) {\n      String upper = ((StringUpperInput) i).stringToUpper.toUpperCase();\n      StringUpperOutput output = new StringUpperOutput();\n      output.upperCaseString = upper;\n      // set general stuff like execution time etc\n      return output;\n    }\n  }\n</code></pre>\n<p><strong>Generics</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>  class GenericInput&lt;I&gt; {\n    String id;\n    I inputObj;\n  }\n\n  class GenericOutput&lt;O&gt; {\n    long executionTime;\n    O outputObj;\n  }\n\n  class StringUpperInputParam {\n    String stringToUpper;\n  }\n\n  class StringUpperOutputResult {\n    String upperCaseString;\n  }\n\n  interface ExecutorGeneric&lt;I, O&gt; {\n    GenericOutput&lt;O&gt; execute(GenericInput&lt;I&gt; input);\n  }\n\n  class StringUpperGenericExecutor implements ExecutorGeneric&lt;StringUpperInputParam, StringUpperOutputResult&gt; {\n\n    @Override\n    public GenericOutput&lt;StringUpperOutputResult&gt; execute(GenericInput&lt;StringUpperInputParam&gt; input) {\n      GenericOutput&lt;StringUpperOutputResult&gt; resultWrapper = new GenericOutput&lt;&gt;();\n      StringUpperOutputResult result = new StringUpperOutputResult();\n      result.upperCaseString = input.inputObj.stringToUpper.toUpperCase();\n      resultWrapper.outputObj = result;\n      \n      // set general stuff like execution time, etc\n      return resultWrapper;\n    }\n  }\n</code></pre>\n<p>Above is an example of a &quot;Executor&quot; that will take an input string and returns the upper case of it. I want to write a service that will have list of such executors and will pick one based on some criteria and then pass the input object to the specific executor generically and get back an output. For this kind of scenario, which of the above two approaches work best? What is the advantage of one over the other? It seems both can work so I guess I'm looking for the &quot;correct&quot; way to do it.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1701935963,"post_id":77617229,"comment_id":136837113,"body_markdown":"Show us your POM file. It is probably incorrect.","body":"Show us your POM file. It is probably incorrect."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1701945084,"post_id":77617229,"comment_id":136838625,"body_markdown":"In the _Package Explorer_, right-click the project and choose _Maven &gt; Update project..._ If this does not help, please include the content of your `pom.xml` as text into your question (formatted as _Sample Code_).","body":"In the <i>Package Explorer</i>, right-click the project and choose <i>Maven &gt; Update project...</i> If this does not help, please include the content of your <code>pom.xml</code> as text into your question (formatted as <i>Sample Code</i>)."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702061917,"creation_date":1702061917,"answer_id":77628646,"question_id":77617229,"body_markdown":"According to the screenshot, **your `pom.xml` is broken**: it starts with **`&lt;project&gt; xmlns=&quot;http:...`** instead of `&lt;project xmlns=&quot;http:...` (the XML namespace `xmlns=&quot;...&quot;`, etc. must be in the start tag of the root element).\r\n\r\nDo the following to fix it:\r\n\r\n 1. In your `pom.xml` in line 1, remove after `&lt;project` the character `&gt;`\r\n 2. Make sure that there is a `&gt;` character at the end of line 1\r\n 3. Right-click and choose *Maven &gt; Update project...*","title":"Not getting Maven dependencies to show up on left panel in order to see the JAR files","body":"<p>According to the screenshot, <strong>your <code>pom.xml</code> is broken</strong>: it starts with <strong><code>&lt;project&gt; xmlns=&quot;http:...</code></strong> instead of <code>&lt;project xmlns=&quot;http:...</code> (the XML namespace <code>xmlns=&quot;...&quot;</code>, etc. must be in the start tag of the root element).</p>\n<p>Do the following to fix it:</p>\n<ol>\n<li>In your <code>pom.xml</code> in line 1, remove after <code>&lt;project</code> the character <code>&gt;</code></li>\n<li>Make sure that there is a <code>&gt;</code> character at the end of line 1</li>\n<li>Right-click and choose <em>Maven &gt; Update project...</em></li>\n</ol>\n"}],"owner":{"account_id":30085201,"reputation":1,"user_id":23055881,"display_name":"Dilshad Randhawa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702065665,"answer_count":1,"score":0,"last_activity_date":1702065638,"creation_date":1701913639,"question_id":77617229,"body_markdown":"I have installed Java JDK and Eclipse on my Windows machine. I am trying to get the Maven dependencies to be shown on left panel of my new Java project but it seems I cannot do it. I am following a video tutorial and in it shows that once I configure the POM.xml and save it I should see it on left side but I still don&#39;t.\r\n\r\nPlease see screenshot:\r\n\r\n![Maven Dependencies not showing up](https://i.stack.imgur.com/bWxuZ.png)\r\n\r\n","title":"Not getting Maven dependencies to show up on left panel in order to see the JAR files","body":"<p>I have installed Java JDK and Eclipse on my Windows machine. I am trying to get the Maven dependencies to be shown on left panel of my new Java project but it seems I cannot do it. I am following a video tutorial and in it shows that once I configure the POM.xml and save it I should see it on left side but I still don't.</p>\n<p>Please see screenshot:</p>\n<p><img src=\"https://i.stack.imgur.com/bWxuZ.png\" alt=\"Maven Dependencies not showing up\" /></p>\n"},{"tags":["java","spring-boot","openshift"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702134437,"post_id":77628823,"comment_id":136861076,"body_markdown":"According to which documentation? Which version of Java? How much memory? Better usage compared to what? Anyway it is impossible for us to answer your question since it requires extensive knowledge of the application, environment and testing to understand such behaviors. Also note that overflows probably refers to a different problem, the question is not clear.","body":"According to which documentation? Which version of Java? How much memory? Better usage compared to what? Anyway it is impossible for us to answer your question since it requires extensive knowledge of the application, environment and testing to understand such behaviors. Also note that overflows probably refers to a different problem, the question is not clear."}],"owner":{"account_id":19519736,"reputation":1,"user_id":14282212,"display_name":"Carlos Mazzoli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702150065,"answer_count":0,"score":0,"last_activity_date":1702064742,"creation_date":1702064742,"question_id":77628823,"body_markdown":"We have an api with REST services (developed with SpringBoot) installed in an OCP project within an OpenShift environment.\r\nAs the endpoints are used, we see that the memory usage (assigned to the &#39;pod&#39;) grows but never decreases, resulting in an overflow.\r\nThe question is, are there ways to make the use of the garbage collector more efficient?\r\nCurrently the garbaje collector is defined with the JVM parameters:\r\n-XX:+UseParallelOldGC\r\n-XX:GCTimeRatio=4\r\n(according to documentation &#39;ParallelOldGC&#39; is appropriate)\r\n\r\nI listen to suggestions about strategies to make better use of memory and avoid overflows.\r\n\r\nThank you so much","title":"OCP OpenShift - Problem with memory management - SpringBoot REST services","body":"<p>We have an api with REST services (developed with SpringBoot) installed in an OCP project within an OpenShift environment.\nAs the endpoints are used, we see that the memory usage (assigned to the 'pod') grows but never decreases, resulting in an overflow.\nThe question is, are there ways to make the use of the garbage collector more efficient?\nCurrently the garbaje collector is defined with the JVM parameters:\n-XX:+UseParallelOldGC\n-XX:GCTimeRatio=4\n(according to documentation 'ParallelOldGC' is appropriate)</p>\n<p>I listen to suggestions about strategies to make better use of memory and avoid overflows.</p>\n<p>Thank you so much</p>\n"},{"tags":["java","eclipse","debugging","jvm"],"comments":[{"owner":{"account_id":468272,"reputation":301,"user_id":874165,"display_name":"Pillz"},"score":1,"creation_date":1594672604,"post_id":62883108,"comment_id":111202217,"body_markdown":"You might want to check this question https://stackoverflow.com/questions/3289550/java-object-id-in-jvm","body":"You might want to check this question <a href=\"https://stackoverflow.com/questions/3289550/java-object-id-in-jvm\" title=\"java object id in jvm\">stackoverflow.com/questions/3289550/java-object-id-in-jvm</a>"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1594672827,"post_id":62883108,"comment_id":111202314,"body_markdown":"I think this is the `uniqueID` field of the `com.sun.jdi.ObjectReference` interface which is part of the Jave Debug Interface (JDI) only available to code debugging a JVM.","body":"I think this is the <code>uniqueID</code> field of the <code>com.sun.jdi.ObjectReference</code> interface which is part of the Jave Debug Interface (JDI) only available to code debugging a JVM."}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594674627,"creation_date":1594674280,"answer_id":62884235,"question_id":62883108,"body_markdown":"&gt; Are these allocation IDs tracked by the jvm itself, or are they\r\n&gt; something Eclipse is providing through some unknown mechanism?\r\n\r\nObject IDs are generated by [JDWP agent](https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/introclientissues005.html). JDWP agent is a library that exposes JVM debugging capabilities to external Java debuggers (like Eclipse IDE) through the [JDWP protocol](https://docs.oracle.com/javase/8/docs/technotes/guides/jpda/jdwp-spec.html).\r\n\r\nThe agent is typically started with the JVM by the command line option `-agentlib:jdwp=` or `-Xrunjdwp`.\r\n\r\n&gt; They appear to be sequential and based on when an instance was\r\n&gt; allocated\r\n\r\nIDs are generated on demand when the agent needs to send an object reference to the debugger. They are not related to object creation time or something. Java objects initially have no assigned IDs.\r\n\r\n&gt; Is there any way to get at them from code\r\n\r\nAs I said above, object IDs do not exist until the agent exchanges object references with the debugger.\r\n\r\nBut you may generate your own IDs for objects using `IdentityHashMap` or similar. Here is a simplest way to create such IDs:\r\n\r\n    private static final Map&lt;Object, Long&gt; map = new IdentityHashMap&lt;&gt;();\r\n\r\n    private static long nextId;\r\n\r\n    public static long getId(Object o) {\r\n        synchronized (map) {\r\n            Long id = map.get(o);\r\n            if (id == null) {\r\n                map.put(o, id = ++nextId);\r\n            }\r\n            return id;\r\n        }\r\n    }\r\n\r\nOf course, this implementation is not perfect, since it uses a global lock and stores objects forever. A better solution would be a kind of [WeakIdentityConcurrentMap](https://javadoc.io/static/net.sf.ehcache/ehcache/2.10.6/net/sf/ehcache/util/WeakIdentityConcurrentMap.html).\r\n\r\nIn fact, this is exactly how JDWP agent generates object IDs. It keeps an internal hash table that maps an object to a sequentially inceremented integer, and uses reference counting for removal. See [commonRef.c](http://hg.openjdk.java.net/jdk/jdk/file/9c9e71164fa7/src/jdk.jdwp.agent/share/native/libjdwp/commonRef.c#l35)","title":"Retrieve ID of instance, like Eclipse&#39;s debugger does","body":"<blockquote>\n<p>Are these allocation IDs tracked by the jvm itself, or are they\nsomething Eclipse is providing through some unknown mechanism?</p>\n</blockquote>\n<p>Object IDs are generated by <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/introclientissues005.html\" rel=\"nofollow noreferrer\">JDWP agent</a>. JDWP agent is a library that exposes JVM debugging capabilities to external Java debuggers (like Eclipse IDE) through the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jpda/jdwp-spec.html\" rel=\"nofollow noreferrer\">JDWP protocol</a>.</p>\n<p>The agent is typically started with the JVM by the command line option <code>-agentlib:jdwp=</code> or <code>-Xrunjdwp</code>.</p>\n<blockquote>\n<p>They appear to be sequential and based on when an instance was\nallocated</p>\n</blockquote>\n<p>IDs are generated on demand when the agent needs to send an object reference to the debugger. They are not related to object creation time or something. Java objects initially have no assigned IDs.</p>\n<blockquote>\n<p>Is there any way to get at them from code</p>\n</blockquote>\n<p>As I said above, object IDs do not exist until the agent exchanges object references with the debugger.</p>\n<p>But you may generate your own IDs for objects using <code>IdentityHashMap</code> or similar. Here is a simplest way to create such IDs:</p>\n<pre><code>private static final Map&lt;Object, Long&gt; map = new IdentityHashMap&lt;&gt;();\n\nprivate static long nextId;\n\npublic static long getId(Object o) {\n    synchronized (map) {\n        Long id = map.get(o);\n        if (id == null) {\n            map.put(o, id = ++nextId);\n        }\n        return id;\n    }\n}\n</code></pre>\n<p>Of course, this implementation is not perfect, since it uses a global lock and stores objects forever. A better solution would be a kind of <a href=\"https://javadoc.io/static/net.sf.ehcache/ehcache/2.10.6/net/sf/ehcache/util/WeakIdentityConcurrentMap.html\" rel=\"nofollow noreferrer\">WeakIdentityConcurrentMap</a>.</p>\n<p>In fact, this is exactly how JDWP agent generates object IDs. It keeps an internal hash table that maps an object to a sequentially inceremented integer, and uses reference counting for removal. See <a href=\"http://hg.openjdk.java.net/jdk/jdk/file/9c9e71164fa7/src/jdk.jdwp.agent/share/native/libjdwp/commonRef.c#l35\" rel=\"nofollow noreferrer\">commonRef.c</a></p>\n"},{"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1702336255,"post_id":77628766,"comment_id":136881560,"body_markdown":"What would make that ID unique and what associates this with every object?","body":"What would make that ID unique and what associates this with every object?"}],"tags":[],"owner":{"account_id":11412114,"reputation":21,"user_id":8365960,"display_name":"Joseph Janos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702064009,"creation_date":1702064009,"answer_id":77628766,"question_id":62883108,"body_markdown":"As a unique Id I use in the constructor\r\n\r\nid = System.nanoTime() % 1000;","title":"Retrieve ID of instance, like Eclipse&#39;s debugger does","body":"<p>As a unique Id I use in the constructor</p>\n<p>id = System.nanoTime() % 1000;</p>\n"}],"owner":{"account_id":3033509,"reputation":539,"user_id":2572072,"accept_rate":38,"display_name":"Stik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1702064009,"creation_date":1594669286,"question_id":62883108,"body_markdown":"Eclipse has a convenient feature when you&#39;re paused in the debugger that shows an ID for every instance.  They appear to be sequential and based on when an instance was allocated:\r\n\r\n[![Example of IDs in a debugging session][1]][1] \r\n\r\nI find these extremely useful when I&#39;m digging into a substantial problem, as they&#39;re usually small integers that are a lot easier to remember than the full hash codes, or some other internal ID.  They&#39;re a very quick check for &quot;is this still the object I think it is?&quot; when you&#39;re stepping through complex and deep callstacks.\r\n\r\nAre these allocation IDs tracked by the jvm itself, or are they something Eclipse is providing through some unknown mechanism?  \r\n\r\nIs there any way to get at them from code, so that I can temporarily put them in log messages while debugging?\r\n\r\nI don&#39;t really want to add an ID field to every object, there&#39;s many good reasons why that is a Bad Idea.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7QYhZ.png","title":"Retrieve ID of instance, like Eclipse&#39;s debugger does","body":"<p>Eclipse has a convenient feature when you're paused in the debugger that shows an ID for every instance.  They appear to be sequential and based on when an instance was allocated:</p>\n<p><a href=\"https://i.stack.imgur.com/7QYhZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7QYhZ.png\" alt=\"Example of IDs in a debugging session\" /></a></p>\n<p>I find these extremely useful when I'm digging into a substantial problem, as they're usually small integers that are a lot easier to remember than the full hash codes, or some other internal ID.  They're a very quick check for &quot;is this still the object I think it is?&quot; when you're stepping through complex and deep callstacks.</p>\n<p>Are these allocation IDs tracked by the jvm itself, or are they something Eclipse is providing through some unknown mechanism?</p>\n<p>Is there any way to get at them from code, so that I can temporarily put them in log messages while debugging?</p>\n<p>I don't really want to add an ID field to every object, there's many good reasons why that is a Bad Idea.</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":8414754,"reputation":1326,"user_id":6315553,"display_name":"Markus Fischer"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1481541756,"creation_date":1481541756,"answer_id":41099745,"question_id":41099332,"body_markdown":"The error message wants to say that you are accessing code that is not part of the official API for that library. More specifically, `com.sun.net.httpserver.HttpServer` is a class which is not guaranteed to be included in all Java 8 runtime implementations. Therefore, code using that class may fail in some Java installations.\r\n\r\nIn order to still be able to use this class, look into the answers to this question: [Access restriction on class due to restriction on required library rt.jar?][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar?rq=1","title":"Java HttpServer Error: Access restriction: The type &#39;HttpServer&#39; is not API","body":"<p>The error message wants to say that you are accessing code that is not part of the official API for that library. More specifically, <code>com.sun.net.httpserver.HttpServer</code> is a class which is not guaranteed to be included in all Java 8 runtime implementations. Therefore, code using that class may fail in some Java installations.</p>\n\n<p>In order to still be able to use this class, look into the answers to this question: <a href=\"https://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar?rq=1\">Access restriction on class due to restriction on required library rt.jar?</a>.</p>\n"},{"tags":[],"owner":{"account_id":7337509,"reputation":928,"user_id":5588347,"accept_rate":20,"display_name":"StackUseR"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481542665,"creation_date":1481542665,"answer_id":41099994,"question_id":41099332,"body_markdown":"Don&#39;t think so that you should use Sun&#39;s internal packages but still you can try disabling the error :\r\n\r\nGo to Project properties -&gt; Java Compiler -&gt; Errors/Warnings -&gt; Deprecated and restricted API\r\n\r\nAlso [this post][1] may help you.\r\n\r\nIf still the problem remains you can go with [Christian Hujer&#39;s answer][2] who says Eclipse has a mechanism called access restrictions to prevent you from accidentally using classes which Eclipse thinks are not part of the public API.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar\r\n  [2]: https://stackoverflow.com/a/29329228/5588347","title":"Java HttpServer Error: Access restriction: The type &#39;HttpServer&#39; is not API","body":"<p>Don't think so that you should use Sun's internal packages but still you can try disabling the error :</p>\n\n<p>Go to Project properties -> Java Compiler -> Errors/Warnings -> Deprecated and restricted API</p>\n\n<p>Also <a href=\"https://stackoverflow.com/questions/860187/access-restriction-on-class-due-to-restriction-on-required-library-rt-jar\">this post</a> may help you.</p>\n\n<p>If still the problem remains you can go with <a href=\"https://stackoverflow.com/a/29329228/5588347\">Christian Hujer's answer</a> who says Eclipse has a mechanism called access restrictions to prevent you from accidentally using classes which Eclipse thinks are not part of the public API.</p>\n"},{"tags":[],"owner":{"account_id":4697459,"reputation":11,"user_id":3801999,"display_name":"user3801999"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584621747,"creation_date":1584621747,"answer_id":60757514,"question_id":41099332,"body_markdown":"Remove the JRE System Library from the build path and add it back.\r\nSelect &quot;Add Library&quot; and select the JRE System Library. The default one should work.\r\n\r\nBuildPath &gt;&gt; Libraries","title":"Java HttpServer Error: Access restriction: The type &#39;HttpServer&#39; is not API","body":"<p>Remove the JRE System Library from the build path and add it back.\nSelect \"Add Library\" and select the JRE System Library. The default one should work.</p>\n\n<p>BuildPath >> Libraries</p>\n"}],"owner":{"account_id":2780641,"reputation":1050,"user_id":2393256,"accept_rate":90,"display_name":"user2393256"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9607,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":41099745,"answer_count":3,"score":6,"last_activity_date":1702063763,"creation_date":1481540342,"question_id":41099332,"body_markdown":"I was trying to do something with the java [`HttpServer`][1] class.\r\n\r\nThis is the minimal example from the documentation:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.InetSocketAddress;\r\n    import com.sun.net.httpserver.HttpServer;\r\n\r\n    class MyHandler implements HttpHandler \r\n    {\r\n    \tpublic void handle(HttpExchange t) throws IOException \r\n        {\r\n    \t\tInputStream is = t.getRequestBody();\r\n    \t\tread(is); // .. read the request body\r\n    \t\tString response = &quot;This is the response&quot;;\r\n    \t\tt.sendResponseHeaders(200, response.length());\r\n    \t\tOutputStream os = t.getResponseBody();\r\n    \t\tos.write(response.getBytes());\r\n    \t\tos.close();\r\n    \t}\r\n    }\r\n    \r\n    public class Main \r\n    {\r\n    \tHttpServer server = HttpServer.create(new InetSocketAddress(8000));\r\n    \tserver.createContext(&quot;/applications/myapp&quot;, new MyHandler());\r\n    \tserver.setExecutor(null); // creates a default executor\r\n    \tserver.start();\r\n    }\r\n\r\nBut i get this error message:\r\n\r\n&gt; Description\tResource\tPath\tLocation\tType\r\nAccess restriction: The type &#39;HttpServer&#39; is not API (restriction on required library &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_102.jdk/Contents/Home/jre/lib/rt.jar&#39;)\tMain.java\t/test/src/test\tline 7\tJava Problem\r\n\r\nWhat does this even mean? According to the Oracle documentation this should work. Or am i getting this wrong?\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/package-summary.html\r\n","title":"Java HttpServer Error: Access restriction: The type &#39;HttpServer&#39; is not API","body":"<p>I was trying to do something with the java <a href=\"http://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/package-summary.html\" rel=\"noreferrer\"><code>HttpServer</code></a> class.</p>\n\n<p>This is the minimal example from the documentation:</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.InetSocketAddress;\nimport com.sun.net.httpserver.HttpServer;\n\nclass MyHandler implements HttpHandler \n{\n    public void handle(HttpExchange t) throws IOException \n    {\n        InputStream is = t.getRequestBody();\n        read(is); // .. read the request body\n        String response = \"This is the response\";\n        t.sendResponseHeaders(200, response.length());\n        OutputStream os = t.getResponseBody();\n        os.write(response.getBytes());\n        os.close();\n    }\n}\n\npublic class Main \n{\n    HttpServer server = HttpServer.create(new InetSocketAddress(8000));\n    server.createContext(\"/applications/myapp\", new MyHandler());\n    server.setExecutor(null); // creates a default executor\n    server.start();\n}\n</code></pre>\n\n<p>But i get this error message:</p>\n\n<blockquote>\n  <p>Description   Resource    Path    Location    Type\n  Access restriction: The type 'HttpServer' is not API (restriction on required library '/Library/Java/JavaVirtualMachines/jdk1.8.0_102.jdk/Contents/Home/jre/lib/rt.jar')    Main.java   /test/src/test  line 7  Java Problem</p>\n</blockquote>\n\n<p>What does this even mean? According to the Oracle documentation this should work. Or am i getting this wrong?</p>\n"},{"tags":["java","spring-boot","oauth-2.0","twitch","twitch-api"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1702064837,"post_id":77628736,"comment_id":136855882,"body_markdown":"Maybe the problem is in using of client part of oAuth2.0 as resource server I think","body":"Maybe the problem is in using of client part of oAuth2.0 as resource server I think"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1702139460,"post_id":77628736,"comment_id":136861534,"body_markdown":"I don&#39;t see the request to Twitch API in your code. The part when you authorize these requests is missing too. As well a DEBUG logs for Spring Security.","body":"I don&#39;t see the request to Twitch API in your code. The part when you authorize these requests is missing too. As well a DEBUG logs for Spring Security."},{"owner":{"account_id":27366913,"reputation":3,"user_id":20873596,"display_name":"msdemir"},"score":0,"creation_date":1702157351,"post_id":77628736,"comment_id":136863362,"body_markdown":"I am logging in with Twitch through the default login page of Spring Security. After approving the authorization on Twitch, it redirects me back to the Spring Security login page. When I tried the same with GitHub, I could access protected endpoints seamlessly. Since Twitch works with tokens, I need to follow a different approach. However, I am unsure of the steps to take. How should I proceed?  @ch4mp","body":"I am logging in with Twitch through the default login page of Spring Security. After approving the authorization on Twitch, it redirects me back to the Spring Security login page. When I tried the same with GitHub, I could access protected endpoints seamlessly. Since Twitch works with tokens, I need to follow a different approach. However, I am unsure of the steps to take. How should I proceed?  @ch4mp"}],"owner":{"account_id":27366913,"reputation":3,"user_id":20873596,"display_name":"msdemir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702063351,"creation_date":1702063351,"question_id":77628736,"body_markdown":"I am using Spring Boot for OAuth2 authentication with Twitch, and I can successfully authorize my application. However, I am facing an issue where, even after successful authorization, I am unable to access protected endpoints. The authorization process seems to work correctly, but when trying to reach secured endpoints, I encounter access issues. Seeking help to troubleshoot and resolve this OAuth2 authentication problem in Spring Boot with Twitch integration.\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.security.oauth2.client.registration.twitch.client-id=client_id\r\nspring.security.oauth2.client.registration.twitch.client-secret=client_secret\r\nspring.security.oauth2.client.registration.twitch.client-authentication-method=post\r\nspring.security.oauth2.client.registration.twitch.redirect-uri=http://localhost:8080/secure\r\nspring.security.oauth2.client.registration.twitch.provider=twitch\r\nspring.security.oauth2.client.registration.twitch.scope=user:read:email\r\nspring.security.oauth2.client.registration.twitch.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.provider.twitch.authorization-uri=https://id.twitch.tv/oauth2/authorize\r\nspring.security.oauth2.client.provider.twitch.token-uri=https://id.twitch.tv/oauth2/token\r\nspring.security.oauth2.client.provider.twitch.user-info-uri=https://id.twitch.tv/oauth2/userinfo\r\nspring.security.oauth2.client.provider.twitch.user-name-attribute=preferred_username\r\n```\r\n\r\nmy controller:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(“/”)\r\npublic class DemoController {\r\n@GetMapping\r\npublic String getPublic(){\r\nreturn “Hello from public”;\r\n}\r\n@GetMapping(“secure”)\r\npublic String getSecure(){\r\nreturn “Hello from secure”;\r\n}\r\n}\r\n```\r\n\r\nmy configuration:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n@Bean\r\nSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\nreturn http\r\n.authorizeHttpRequests(auth → {\r\nauth.requestMatchers(“/”).permitAll();\r\nauth.anyRequest().authenticated();\r\n})\r\n.oauth2Login(Customizer.withDefaults())\r\n.formLogin(Customizer.withDefaults())\r\n.build();\r\n}\r\n}\r\n```\r\n\r\nmy dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\nI have implemented Spring Boot OAuth2 authentication with Twitch for my application. After completing the authorization process, I expected to be able to access protected endpoints seamlessly. However, despite successful authorization, I am facing issues accessing secured endpoints. I have reviewed my implementation but haven&#39;t identified the root cause. Any guidance or suggestions on troubleshooting and resolving this issue would be greatly appreciated. Thank you","title":"Spring Boot OAuth2 Twitch Authentication Issue: Successfully Authorized, But Unable to Access Protected Endpoints","body":"<p>I am using Spring Boot for OAuth2 authentication with Twitch, and I can successfully authorize my application. However, I am facing an issue where, even after successful authorization, I am unable to access protected endpoints. The authorization process seems to work correctly, but when trying to reach secured endpoints, I encounter access issues. Seeking help to troubleshoot and resolve this OAuth2 authentication problem in Spring Boot with Twitch integration.</p>\n<p>application.properties:</p>\n<pre><code>spring.security.oauth2.client.registration.twitch.client-id=client_id\nspring.security.oauth2.client.registration.twitch.client-secret=client_secret\nspring.security.oauth2.client.registration.twitch.client-authentication-method=post\nspring.security.oauth2.client.registration.twitch.redirect-uri=http://localhost:8080/secure\nspring.security.oauth2.client.registration.twitch.provider=twitch\nspring.security.oauth2.client.registration.twitch.scope=user:read:email\nspring.security.oauth2.client.registration.twitch.authorization-grant-type=authorization_code\nspring.security.oauth2.client.provider.twitch.authorization-uri=https://id.twitch.tv/oauth2/authorize\nspring.security.oauth2.client.provider.twitch.token-uri=https://id.twitch.tv/oauth2/token\nspring.security.oauth2.client.provider.twitch.user-info-uri=https://id.twitch.tv/oauth2/userinfo\nspring.security.oauth2.client.provider.twitch.user-name-attribute=preferred_username\n</code></pre>\n<p>my controller:</p>\n<pre><code>@RestController\n@RequestMapping(“/”)\npublic class DemoController {\n@GetMapping\npublic String getPublic(){\nreturn “Hello from public”;\n}\n@GetMapping(“secure”)\npublic String getSecure(){\nreturn “Hello from secure”;\n}\n}\n</code></pre>\n<p>my configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n@Bean\nSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\nreturn http\n.authorizeHttpRequests(auth → {\nauth.requestMatchers(“/”).permitAll();\nauth.anyRequest().authenticated();\n})\n.oauth2Login(Customizer.withDefaults())\n.formLogin(Customizer.withDefaults())\n.build();\n}\n}\n</code></pre>\n<p>my dependencies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I have implemented Spring Boot OAuth2 authentication with Twitch for my application. After completing the authorization process, I expected to be able to access protected endpoints seamlessly. However, despite successful authorization, I am facing issues accessing secured endpoints. I have reviewed my implementation but haven't identified the root cause. Any guidance or suggestions on troubleshooting and resolving this issue would be greatly appreciated. Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":3,"creation_date":1702052189,"post_id":77627857,"comment_id":136854059,"body_markdown":"you are just going to have to cast the result and use the appropriate SuppressWarnings.","body":"you are just going to have to cast the result and use the appropriate SuppressWarnings."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":5,"creation_date":1702052200,"post_id":77627857,"comment_id":136854067,"body_markdown":"*Completely unrelated: I appreciate the correct usage of apostrophes.*","body":"<i>Completely unrelated: I appreciate the correct usage of apostrophes.</i>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1702055657,"post_id":77627857,"comment_id":136854615,"body_markdown":"Is your problem description related to the code you’ve posted? I see an unchecked cast to `List&lt;Type&gt;` in this code but since there’s also the expression `Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(_purpose))`, it’s impossible that `Type` is `byte[]`, as that would imply that `new org.web3j.abi.datatypes.generated.Uint256(_purpose)` is assignable to `byte[]`.","body":"Is your problem description related to the code you’ve posted? I see an unchecked cast to <code>List&lt;Type&gt;</code> in this code but since there’s also the expression <code>Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(_purpose))</code>, it’s impossible that <code>Type</code> is <code>byte[]</code>, as that would imply that <code>new org.web3j.abi.datatypes.generated.Uint256(_purpose)</code> is assignable to <code>byte[]</code>."},{"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"score":0,"creation_date":1702151260,"post_id":77627857,"comment_id":136862725,"body_markdown":"@Holger The code you highlighted isn&#39;t the return value, of `getKeyByPurpose`, that comes from the call to `convertToNative` which takes in `new TypeReference&lt;DynamicArray&lt;Bytes32&gt;&gt;` and results in a `byte[]`","body":"@Holger The code you highlighted isn&#39;t the return value, of <code>getKeyByPurpose</code>, that comes from the call to <code>convertToNative</code> which takes in <code>new TypeReference&lt;DynamicArray&lt;Bytes32&gt;&gt;</code> and results in a <code>byte[]</code>"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1702063295,"creation_date":1702063295,"answer_id":77628731,"question_id":77627857,"body_markdown":"It’s possible to handle this without any `SuppressWarnings` annotations:\r\n\r\n    List&lt;?&gt; keys = (List&lt;?&gt;) getKeysByPurpose(purpose).send();\r\n\r\n    for (Object key : keys) {\r\n        byte[] keyBytes = (byte[]) key;\r\n        // ...\r\n    }\r\n","title":"Neatly dealing with unparameterized List?","body":"<p>It’s possible to handle this without any <code>SuppressWarnings</code> annotations:</p>\n<pre><code>List&lt;?&gt; keys = (List&lt;?&gt;) getKeysByPurpose(purpose).send();\n\nfor (Object key : keys) {\n    byte[] keyBytes = (byte[]) key;\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":25699967,"reputation":41,"user_id":19460147,"display_name":"Andr&#225;s Ballai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77628731,"answer_count":1,"score":0,"last_activity_date":1702063295,"creation_date":1702051654,"question_id":77627857,"body_markdown":"I&#39;m working on a project using Web3j&#39;s code generator, which creates the following code:\r\n```\r\npublic RemoteFunctionCall&lt;List&gt; getKeysByPurpose(BigInteger _purpose) {\r\n        final Function function = new Function(FUNC_GETKEYSBYPURPOSE, \r\n                Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(_purpose)), \r\n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;DynamicArray&lt;Bytes32&gt;&gt;() {}));\r\n        return new RemoteFunctionCall&lt;List&gt;(function,\r\n                new Callable&lt;List&gt;() {\r\n                    @Override\r\n                    @SuppressWarnings(&quot;unchecked&quot;)\r\n                    public List call() throws Exception {\r\n                        List&lt;Type&gt; result = (List&lt;Type&gt;) executeCallSingleValueReturn(function, List.class);\r\n                        return convertToNative(result);\r\n                    }\r\n                });\r\n    }\r\n```  \r\n  \r\nIt&#39;s a bit of a mess, but since it&#39;s generated I can&#39;t alter it. The list it returns is unparameterized, but I do know its type (and it&#39;s `byte[]`). Is there a neat way of handling this return value in my own code, where I&#39;ll need to rely on its contents&#39; actual type, or should I just suppress the warnings?","title":"Neatly dealing with unparameterized List?","body":"<p>I'm working on a project using Web3j's code generator, which creates the following code:</p>\n<pre><code>public RemoteFunctionCall&lt;List&gt; getKeysByPurpose(BigInteger _purpose) {\n        final Function function = new Function(FUNC_GETKEYSBYPURPOSE, \n                Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Uint256(_purpose)), \n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;DynamicArray&lt;Bytes32&gt;&gt;() {}));\n        return new RemoteFunctionCall&lt;List&gt;(function,\n                new Callable&lt;List&gt;() {\n                    @Override\n                    @SuppressWarnings(&quot;unchecked&quot;)\n                    public List call() throws Exception {\n                        List&lt;Type&gt; result = (List&lt;Type&gt;) executeCallSingleValueReturn(function, List.class);\n                        return convertToNative(result);\n                    }\n                });\n    }\n</code></pre>\n<p>It's a bit of a mess, but since it's generated I can't alter it. The list it returns is unparameterized, but I do know its type (and it's <code>byte[]</code>). Is there a neat way of handling this return value in my own code, where I'll need to rely on its contents' actual type, or should I just suppress the warnings?</p>\n"},{"tags":["java","android","service","android-service"],"owner":{"account_id":15484833,"reputation":27,"user_id":14518481,"display_name":"Elegancia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702065796,"answer_count":0,"score":-1,"last_activity_date":1702061720,"creation_date":1702061720,"question_id":77628636,"body_markdown":"My android app read text and perform some actions based on the analysis of that text.\r\nSo far, the architecture was basically the following.\r\nI had in the MainActivity two buttons that would either start one service or another.\r\nThe two services would be:\r\n\r\n```\r\nSingleLineService\r\n\r\nMultipleLinesService\r\n```\r\n\r\nSo, basically the user would chose beforehand the kind of service he wants to start.\r\nSingleLineService would read only the first line of a text (in case has multiple lines) and get the result.\r\nMultipleLinesService would read them all and get the result.\r\n\r\nWhat I thought is: instead of letting the user manually decide which service to start, I could start the most appropriate service depending on how many lines are detected from the text received.\r\n\r\nAnd after this thought I am thinking if this approach of having two different services could be improved with maybe one service?\r\nBecause if I keep two distinct services I would need to continuously start and stop the services since, even though it wouldn&#39;t do any harm, wouldn&#39;t make much sense to have two services active at the same time. So I would need to stop SingleLineService and start MultipleLinesService when multiple lines are detected and stop MultipleLinesService and start SingleLineService when one line is detected.\r\n\r\nThis approach in terms of code readability was great since I was separating two different tasks in two different services. But what about performance? It&#39;s also better this way or it&#39;s worse compared to put everything inside one single service?","title":"Which one of these architectures for android services would be preferable for performance?","body":"<p>My android app read text and perform some actions based on the analysis of that text.\nSo far, the architecture was basically the following.\nI had in the MainActivity two buttons that would either start one service or another.\nThe two services would be:</p>\n<pre><code>SingleLineService\n\nMultipleLinesService\n</code></pre>\n<p>So, basically the user would chose beforehand the kind of service he wants to start.\nSingleLineService would read only the first line of a text (in case has multiple lines) and get the result.\nMultipleLinesService would read them all and get the result.</p>\n<p>What I thought is: instead of letting the user manually decide which service to start, I could start the most appropriate service depending on how many lines are detected from the text received.</p>\n<p>And after this thought I am thinking if this approach of having two different services could be improved with maybe one service?\nBecause if I keep two distinct services I would need to continuously start and stop the services since, even though it wouldn't do any harm, wouldn't make much sense to have two services active at the same time. So I would need to stop SingleLineService and start MultipleLinesService when multiple lines are detected and stop MultipleLinesService and start SingleLineService when one line is detected.</p>\n<p>This approach in terms of code readability was great since I was separating two different tasks in two different services. But what about performance? It's also better this way or it's worse compared to put everything inside one single service?</p>\n"},{"tags":["java","intellij-idea","evaluate"],"owner":{"account_id":30090428,"reputation":1,"user_id":23060014,"display_name":"pctheone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702061694,"creation_date":1702061694,"question_id":77628635,"body_markdown":"I am using the evaluate window to test some expressions but when I execute it, the result is concatenated with the previous result, is there a way to clean it? \r\n\r\nI tryed to close and open IDE but it always happens. Can someone help me?\r\n\r\n\r\n`contract.append(formatedData.substring(8));`\r\n\r\nThe result is past consults concatenated with actual:\r\n\r\n`01214401210121012108.15.44.4208.15.44.4208.15.44.4208.15.44.42`","title":"How to clear Evaluate result on IntelliJ IDE","body":"<p>I am using the evaluate window to test some expressions but when I execute it, the result is concatenated with the previous result, is there a way to clean it?</p>\n<p>I tryed to close and open IDE but it always happens. Can someone help me?</p>\n<p><code>contract.append(formatedData.substring(8));</code></p>\n<p>The result is past consults concatenated with actual:</p>\n<p><code>01214401210121012108.15.44.4208.15.44.4208.15.44.4208.15.44.42</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9910,"page":7,"page_size":100}
