{"items":[{"tags":["java","apache-kafka","kafka-partition"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646851988,"creation_date":1646851988,"answer_id":71414626,"question_id":71414496,"body_markdown":"That is the behavior of the default partitioner; see its javadocs:\r\n\r\n```\r\n/**\r\n * The default partitioning strategy:\r\n * &lt;ul&gt;\r\n * &lt;li&gt;If a partition is specified in the record, use it\r\n * &lt;li&gt;If no partition is specified but a key is present choose a partition based on a hash of the key\r\n * &lt;li&gt;If no partition or key is present choose the sticky partition that changes when the batch is full.\r\n * \r\n * See KIP-480 for details about sticky partitioning.\r\n */\r\npublic class DefaultPartitioner implements Partitioner {\r\n```\r\n\r\nChanging the number of partitions in the topic will change the destination partition so you might want to consider a custom partitioner.","title":"Use kafka partitioner as a lock","body":"<p>That is the behavior of the default partitioner; see its javadocs:</p>\n<pre><code>/**\n * The default partitioning strategy:\n * &lt;ul&gt;\n * &lt;li&gt;If a partition is specified in the record, use it\n * &lt;li&gt;If no partition is specified but a key is present choose a partition based on a hash of the key\n * &lt;li&gt;If no partition or key is present choose the sticky partition that changes when the batch is full.\n * \n * See KIP-480 for details about sticky partitioning.\n */\npublic class DefaultPartitioner implements Partitioner {\n</code></pre>\n<p>Changing the number of partitions in the topic will change the destination partition so you might want to consider a custom partitioner.</p>\n"}],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71414626,"answer_count":1,"score":0,"last_activity_date":1646853589,"creation_date":1646851419,"question_id":71414496,"body_markdown":"I have a spring boot application that sends messages into a Kafka topic, something like:\r\n\r\n    public class Message {\r\n        \r\n        @JsonProperty(&quot;customer_id&quot;)\r\n        @SerializedName(&quot;customer_id&quot;)\r\n        private String customerId;\r\n        ...\r\n    }\r\n\r\nFor the sake of some business logic, I do not want to process 2 messages of the same customer in parallel. I want to use the Kafka partition order as some kind of lock.\r\nAs far as I could understand, I can use the customerId as a key to my message and use a custom partitioner (implements Kafka partitioner) to direct the message with the same key to the same partition. \r\nAnd though I assume I am not the first one in history to seek this kind of functionality I&#39;ve found it hard to find some kind of library/documentation for implementing such a thing.\r\nCan anyone guide me to an existing solution to my needs?\r\n","title":"Use kafka partitioner as a lock","body":"<p>I have a spring boot application that sends messages into a Kafka topic, something like:</p>\n<pre><code>public class Message {\n    \n    @JsonProperty(&quot;customer_id&quot;)\n    @SerializedName(&quot;customer_id&quot;)\n    private String customerId;\n    ...\n}\n</code></pre>\n<p>For the sake of some business logic, I do not want to process 2 messages of the same customer in parallel. I want to use the Kafka partition order as some kind of lock.\nAs far as I could understand, I can use the customerId as a key to my message and use a custom partitioner (implements Kafka partitioner) to direct the message with the same key to the same partition.\nAnd though I assume I am not the first one in history to seek this kind of functionality I've found it hard to find some kind of library/documentation for implementing such a thing.\nCan anyone guide me to an existing solution to my needs?</p>\n"},{"tags":["java","regex","pattern-matching"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":3,"creation_date":1415632077,"post_id":26846700,"comment_id":42256398,"body_markdown":"Just use `String#split` to split the input by space `&quot;\\\\s+&quot;` and process the resulting array `String[]`","body":"Just use <code>String#split</code> to split the input by space <code>&quot;\\\\s+&quot;</code> and process the resulting array <code>String[]</code>"}],"answers":[{"tags":[],"owner":{"account_id":2978007,"reputation":2250,"user_id":2528649,"accept_rate":69,"display_name":"neleus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1415636409,"creation_date":1415633774,"answer_id":26847286,"question_id":26846700,"body_markdown":"You may use `\\b` anchor. Below is hand-written example, I haven&#39;t test it. It just shows the idea.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.Arrays;\r\n    \r\n    public class List {\r\n        public static void main(String[] args) {\r\n    \r\n            int i = 0;\r\n            char[] Wanted = new char[3];// Instead of array any dynamic collection should be used here. Since I&#39;m not familiar with Java collections enough, Im leaving array here for correct work\r\n            Pattern pat = Pattern.compile(&quot;\\\\b\\\\w+\\\\b&quot;);\r\n            String Motherstring = &quot; F5 F4 E3 &quot;;\r\n            Matcher m = pat.matcher(Motherstring);\r\n            while (pat.find()) {\r\n                Wanted[i]= pat.group();\r\n                i++;\r\n            }\r\n        }\r\n    }","title":"Extracting pattern from string with unknown length","body":"<p>You may use <code>\\b</code> anchor. Below is hand-written example, I haven't test it. It just shows the idea.</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.Arrays;\n\npublic class List {\n    public static void main(String[] args) {\n\n        int i = 0;\n        char[] Wanted = new char[3];// Instead of array any dynamic collection should be used here. Since I'm not familiar with Java collections enough, Im leaving array here for correct work\n        Pattern pat = Pattern.compile(\"\\\\b\\\\w+\\\\b\");\n        String Motherstring = \" F5 F4 E3 \";\n        Matcher m = pat.matcher(Motherstring);\n        while (pat.find()) {\n            Wanted[i]= pat.group();\n            i++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4451090,"reputation":10972,"user_id":3622940,"accept_rate":100,"display_name":"Unihedron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415634273,"creation_date":1415634273,"answer_id":26847468,"question_id":26846700,"body_markdown":"Don&#39;t use an array. Use a `List`. The size is dynamic and allows you to `add` objects. See this:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;[A-H][1-8]&quot;);\r\n    Matcher matcher = pattern.matcher(&quot; F5 F4 E3 &quot;);\r\n\r\n    // Create a new list (ArrayList) to store Strings.\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    // For every match of the regexp in the test string:\r\n    while (matcher.find())\r\n        // Add the match to the list.\r\n        list.add(matcher.group());\r\n\r\n    System.out.println(list);\r\n\r\nHere is an [online code demo](http://ideone.com/aOFEj1). The STDOUT prints:\r\n\r\n    [F5, F4, E3]","title":"Extracting pattern from string with unknown length","body":"<p>Don't use an array. Use a <code>List</code>. The size is dynamic and allows you to <code>add</code> objects. See this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"[A-H][1-8]\");\nMatcher matcher = pattern.matcher(\" F5 F4 E3 \");\n\n// Create a new list (ArrayList) to store Strings.\nArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n// For every match of the regexp in the test string:\nwhile (matcher.find())\n    // Add the match to the list.\n    list.add(matcher.group());\n\nSystem.out.println(list);\n</code></pre>\n\n<p>Here is an <a href=\"http://ideone.com/aOFEj1\" rel=\"nofollow\">online code demo</a>. The STDOUT prints:</p>\n\n<pre><code>[F5, F4, E3]\n</code></pre>\n"}],"owner":{"account_id":5200399,"reputation":17,"user_id":4159988,"accept_rate":100,"display_name":"PaulK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":26847286,"answer_count":2,"score":-1,"last_activity_date":1646853459,"creation_date":1415631951,"question_id":26846700,"body_markdown":"I&#39;m still in a very embryonic stage in Java and I am trying to figure out how to extract all specific values.\r\n\r\nThat are in this form (pattern) `[A-H][1-8]` out of a String which length is unknown.  \r\nSo for example if my string is `&quot; F5 F4 E3 &quot;` I want to assign `F5` to a variable, `F4` to a variable, `E3` to another variable.\r\n\r\nOr if my string would be `&quot; A2 &quot;` I would like to assign `A2` to a variable.  \r\nI kind of have a feeling that I should use an `Array` to store the values.  \r\nPlease note that between the wanted pattern there are blank spaces `&quot;blankE2blank&quot;`.\r\n\r\nThis is my code so far:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.Arrays;\r\n    \r\n    public class List {\r\n        public static void main(String[] args) {\r\n            \r\n            int i = 0;\r\n            char[] Wanted = new char[]{?}; // What should I use here?\r\n            Pattern pat = Pattern.compile(&quot;\\\\s*d+\\\\s*D+\\\\s*d+&quot;);\r\n            String Motherstring = &quot; F5 F4 E3 &quot;; // this is just an example but the extraction should work for every string\r\n            Matcher m = pat.matcher(Motherstring);\r\n            while (pat.find()) {\r\n                Wanted[i] = pat; // ?\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n  ","title":"Extracting pattern from string with unknown length","body":"<p>I'm still in a very embryonic stage in Java and I am trying to figure out how to extract all specific values.</p>\n\n<p>That are in this form (pattern) <code>[A-H][1-8]</code> out of a String which length is unknown.<br>\nSo for example if my string is <code>\" F5 F4 E3 \"</code> I want to assign <code>F5</code> to a variable, <code>F4</code> to a variable, <code>E3</code> to another variable.</p>\n\n<p>Or if my string would be <code>\" A2 \"</code> I would like to assign <code>A2</code> to a variable.<br>\nI kind of have a feeling that I should use an <code>Array</code> to store the values.<br>\nPlease note that between the wanted pattern there are blank spaces <code>\"blankE2blank\"</code>.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.Arrays;\n\npublic class List {\n    public static void main(String[] args) {\n\n        int i = 0;\n        char[] Wanted = new char[]{?}; // What should I use here?\n        Pattern pat = Pattern.compile(\"\\\\s*d+\\\\s*D+\\\\s*d+\");\n        String Motherstring = \" F5 F4 E3 \"; // this is just an example but the extraction should work for every string\n        Matcher m = pat.matcher(Motherstring);\n        while (pat.find()) {\n            Wanted[i] = pat; // ?\n            i++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","css","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643645495,"creation_date":1643471111,"answer_id":70907079,"question_id":70902451,"body_markdown":"You have to enable js support and wait after retrieving the page until all the javascript is done. The js code will generate div&#39;s from you code above (use page.asXML() to get an idea of the page fro the viewpoint of HtmlUnit.\r\n\r\nIf the div&#39;s are there you can click() on them - like on any other html element. This click should trigger the same js code like in real browsers.\r\n\r\nTo find the div elements please have a look at https://htmlunit.sourceforge.io/gettingStarted.html; there are many different options listed.","title":"Picking a JavaScript button in HtmlUnit","body":"<p>You have to enable js support and wait after retrieving the page until all the javascript is done. The js code will generate div's from you code above (use page.asXML() to get an idea of the page fro the viewpoint of HtmlUnit.</p>\n<p>If the div's are there you can click() on them - like on any other html element. This click should trigger the same js code like in real browsers.</p>\n<p>To find the div elements please have a look at <a href=\"https://htmlunit.sourceforge.io/gettingStarted.html;\" rel=\"nofollow noreferrer\">https://htmlunit.sourceforge.io/gettingStarted.html;</a> there are many different options listed.</p>\n"},{"tags":[],"owner":{"account_id":24430599,"reputation":91,"user_id":18356893,"display_name":"Ernesto L&#243;pez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646853389,"creation_date":1646853389,"answer_id":71414892,"question_id":70902451,"body_markdown":"Like @RBRi said, use the click method on the element. To choose the element (DIV in this case) you can use the getbyxpath method:\r\n\r\nStarting from the page you can access using the XPATH of the element. The XPATH can be easily obtained using the browser inspect tool and copying the full XPATH of the div (right click over the div and use the copy option). For the purpose of your URL, &quot;CHINA&quot; element has the XPATH: */html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[1]/div/* &quot;GERMANY&quot;: */html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[2]/div/span*\r\n```\r\npage1 = webClient.getPage(&quot;https://www.aliexpress.com/item/32956185908.html&quot;);\r\n// get china div using xpath\r\nelement = ((HtmlElement)page1.getByXPath(&quot;/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[1]/div/&quot;).get(0));\r\n// Click over china\r\nelement.click();\r\nwebClient.waitForBackgroundJavaScript(10000);\r\n```\r\nIf you want to iterate over the list of countries you can use the same approach, but this time copy the XPATH of the div that contains all the countries, get that element, and from this element then iterate by getting the divs. In this case, you can use the attribute &quot;class&quot; to get those elements:\r\n\r\n```\r\npage1 = webClient.getPage(&quot;https://www.aliexpress.com/item/32956185908.html&quot;);\r\nelement = ((HtmlElement)page1.getByXPath(&quot;/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul&quot;).get(0); // Get the div that contains all countries\r\nList&lt;HtmlElement&gt; elements = element.getElementsByAttribute(&quot;div&quot;, &quot;class&quot;, &quot;sku-property-text&quot;);\r\n```\r\nThen you can iterate over the list of elements and click the one you prefer.\r\n\r\n```\r\n:\r\n  choosenElement.click();\r\n:\r\n```","title":"Picking a JavaScript button in HtmlUnit","body":"<p>Like @RBRi said, use the click method on the element. To choose the element (DIV in this case) you can use the getbyxpath method:</p>\n<p>Starting from the page you can access using the XPATH of the element. The XPATH can be easily obtained using the browser inspect tool and copying the full XPATH of the div (right click over the div and use the copy option). For the purpose of your URL, &quot;CHINA&quot; element has the XPATH: <em>/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[1]/div/</em> &quot;GERMANY&quot;: <em>/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[2]/div/span</em></p>\n<pre><code>page1 = webClient.getPage(&quot;https://www.aliexpress.com/item/32956185908.html&quot;);\n// get china div using xpath\nelement = ((HtmlElement)page1.getByXPath(&quot;/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul/li[1]/div/&quot;).get(0));\n// Click over china\nelement.click();\nwebClient.waitForBackgroundJavaScript(10000);\n</code></pre>\n<p>If you want to iterate over the list of countries you can use the same approach, but this time copy the XPATH of the div that contains all the countries, get that element, and from this element then iterate by getting the divs. In this case, you can use the attribute &quot;class&quot; to get those elements:</p>\n<pre><code>page1 = webClient.getPage(&quot;https://www.aliexpress.com/item/32956185908.html&quot;);\nelement = ((HtmlElement)page1.getByXPath(&quot;/html/body/div[6]/div/div[2]/div/div[2]/div[7]/div/div[1]/ul&quot;).get(0); // Get the div that contains all countries\nList&lt;HtmlElement&gt; elements = element.getElementsByAttribute(&quot;div&quot;, &quot;class&quot;, &quot;sku-property-text&quot;);\n</code></pre>\n<p>Then you can iterate over the list of elements and click the one you prefer.</p>\n<pre><code>:\n  choosenElement.click();\n:\n</code></pre>\n"}],"owner":{"account_id":281594,"reputation":131,"user_id":577994,"accept_rate":75,"display_name":"BoomRamada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646853389,"creation_date":1643432731,"question_id":70902451,"body_markdown":"In AliX, this page for example https://www.aliexpress.com/item/32956185908.html\r\nhow do you pick the particular country and colour? \r\n\r\nFor example, following js configure as country:\r\n```\r\n&quot;skuPropertyValues&quot;:[\r\n{&quot;propertyValueDisplayName&quot;:&quot;China&quot;,&quot;propertyValueId&quot;:201336100,&quot;propertyValueIdLong&quot;:201336100,&quot;propertyValueName&quot;:&quot;China&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;CN&quot;,&quot;skuPropertyTips&quot;:&quot;China&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;China&quot;},\r\n{&quot;propertyValueDisplayName&quot;:&quot;GERMANY&quot;,&quot;propertyValueId&quot;:201336101,&quot;propertyValueIdLong&quot;:201336101,&quot;propertyValueName&quot;:&quot;GERMANY&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;DE&quot;,&quot;skuPropertyTips&quot;:&quot;GERMANY&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;GERMANY&quot;},\r\n{&quot;propertyValueDisplayName&quot;:&quot;SPAIN&quot;,&quot;propertyValueId&quot;:201336104,&quot;propertyValueIdLong&quot;:201336104,&quot;propertyValueName&quot;:&quot;SPAIN&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;ES&quot;,&quot;skuPropertyTips&quot;:&quot;SPAIN&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;SPAIN&quot;},\r\n{&quot;propertyValueDisplayName&quot;:&quot;Russian Federation&quot;,&quot;propertyValueId&quot;:201336103,&quot;propertyValueIdLong&quot;:201336103,&quot;propertyValueName&quot;:&quot;Russian Federation&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;RU&quot;,&quot;skuPropertyTips&quot;:&quot;Russian Federation&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;Russian Federation&quot;}]},\r\n\r\n```\r\nI&#39;m not sure how to pick one through JavaScript or am I looing at the wrong thing, would it CS and picking up a div tag?\r\n\r\n\r\n","title":"Picking a JavaScript button in HtmlUnit","body":"<p>In AliX, this page for example <a href=\"https://www.aliexpress.com/item/32956185908.html\" rel=\"nofollow noreferrer\">https://www.aliexpress.com/item/32956185908.html</a>\nhow do you pick the particular country and colour?</p>\n<p>For example, following js configure as country:</p>\n<pre><code>&quot;skuPropertyValues&quot;:[\n{&quot;propertyValueDisplayName&quot;:&quot;China&quot;,&quot;propertyValueId&quot;:201336100,&quot;propertyValueIdLong&quot;:201336100,&quot;propertyValueName&quot;:&quot;China&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;CN&quot;,&quot;skuPropertyTips&quot;:&quot;China&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;China&quot;},\n{&quot;propertyValueDisplayName&quot;:&quot;GERMANY&quot;,&quot;propertyValueId&quot;:201336101,&quot;propertyValueIdLong&quot;:201336101,&quot;propertyValueName&quot;:&quot;GERMANY&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;DE&quot;,&quot;skuPropertyTips&quot;:&quot;GERMANY&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;GERMANY&quot;},\n{&quot;propertyValueDisplayName&quot;:&quot;SPAIN&quot;,&quot;propertyValueId&quot;:201336104,&quot;propertyValueIdLong&quot;:201336104,&quot;propertyValueName&quot;:&quot;SPAIN&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;ES&quot;,&quot;skuPropertyTips&quot;:&quot;SPAIN&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;SPAIN&quot;},\n{&quot;propertyValueDisplayName&quot;:&quot;Russian Federation&quot;,&quot;propertyValueId&quot;:201336103,&quot;propertyValueIdLong&quot;:201336103,&quot;propertyValueName&quot;:&quot;Russian Federation&quot;,&quot;skuPropertySendGoodsCountryCode&quot;:&quot;RU&quot;,&quot;skuPropertyTips&quot;:&quot;Russian Federation&quot;,&quot;skuPropertyValueShowOrder&quot;:2,&quot;skuPropertyValueTips&quot;:&quot;Russian Federation&quot;}]},\n\n</code></pre>\n<p>I'm not sure how to pick one through JavaScript or am I looing at the wrong thing, would it CS and picking up a div tag?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1646838512,"post_id":71411470,"comment_id":126223432,"body_markdown":"`else continue;` not needed and you can simply do `return line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name);`","body":"<code>else continue;</code> not needed and you can simply do <code>return line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name);</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1646838535,"post_id":71411470,"comment_id":126223441,"body_markdown":"I suggest you start with properly formatting your code: apply the correct indentation, so the structure of the code is easy to see.","body":"I suggest you start with properly formatting your code: apply the correct indentation, so the structure of the code is easy to see."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1646838813,"post_id":71411470,"comment_id":126223546,"body_markdown":"Decompose your problem properly.  I&#39;d separate loading the document from the search for the list of links.  I&#39;d write two methods: one that takes in a file and returns a List&lt;String&gt; of lines, and another that takes in the List&lt;String&gt; of document lines and returns a List&lt;String&gt; of links.","body":"Decompose your problem properly.  I&#39;d separate loading the document from the search for the list of links.  I&#39;d write two methods: one that takes in a file and returns a List&lt;String&gt; of lines, and another that takes in the List&lt;String&gt; of document lines and returns a List&lt;String&gt; of links."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646844772,"creation_date":1646844772,"answer_id":71413088,"question_id":71411470,"body_markdown":"First I would suggest that you get used to compare to literal strings &quot;the other way round&quot; - this will save you from a lot `NullPointerException`s (but this is just a side comment):\r\n``` lang-java\r\nif (&quot;eod&quot;.equals(line))\r\n```\r\n\r\nYou can use @Ofer s example (it is generated from https://regex101.com, a nice page to play around with regular expressions and get them explained btw.) but you should use a different regex:\r\n``` lang-java\r\nfinal String regex = &quot;link=([a-z][a-z0-9_]*)&quot;;\r\n```\r\nand a different option for the pattern:\r\n``` lang-java\r\nfinal Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\r\n```\r\n\r\nI used the CASE_INSENSITIVE option to make the &quot;link&quot; also trigger for mixed case writings (like &quot;Link&quot;, &quot;liNk&quot; and so on). Therefore I also could skip the uppercase letters from the actual regex, as [a-z] will also match uppercase letters with that option, and that&#39;s what was requested.\r\n\r\nThe &quot;magic&quot; here is that you put the expression that you later want to &quot;read&quot; from the pattern matcher into parenthesis &quot;()&quot; - this marks a &quot;group&quot;. Group 0 always gives back the full match (including the &quot;link=&quot; here).\r\n\r\nYou can play around with that expression at https://regex101.com/r/id2CP2/1\r\n\r\nPlease don&#39;t forget to convert the identifiers (you get them from `matcher.group(i)`) to lowercase before you output them.","title":"Write a procedure loadDocument(String name) which will load and analyze lines after lines searching for link in every line","body":"<p>First I would suggest that you get used to compare to literal strings &quot;the other way round&quot; - this will save you from a lot <code>NullPointerException</code>s (but this is just a side comment):</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (&quot;eod&quot;.equals(line))\n</code></pre>\n<p>You can use @Ofer s example (it is generated from <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">https://regex101.com</a>, a nice page to play around with regular expressions and get them explained btw.) but you should use a different regex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String regex = &quot;link=([a-z][a-z0-9_]*)&quot;;\n</code></pre>\n<p>and a different option for the pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Pattern pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE);\n</code></pre>\n<p>I used the CASE_INSENSITIVE option to make the &quot;link&quot; also trigger for mixed case writings (like &quot;Link&quot;, &quot;liNk&quot; and so on). Therefore I also could skip the uppercase letters from the actual regex, as [a-z] will also match uppercase letters with that option, and that's what was requested.</p>\n<p>The &quot;magic&quot; here is that you put the expression that you later want to &quot;read&quot; from the pattern matcher into parenthesis &quot;()&quot; - this marks a &quot;group&quot;. Group 0 always gives back the full match (including the &quot;link=&quot; here).</p>\n<p>You can play around with that expression at <a href=\"https://regex101.com/r/id2CP2/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/id2CP2/1</a></p>\n<p>Please don't forget to convert the identifiers (you get them from <code>matcher.group(i)</code>) to lowercase before you output them.</p>\n"}],"owner":{"account_id":24046898,"reputation":19,"user_id":18025822,"display_name":"nme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1646853253,"creation_date":1646838230,"question_id":71411470,"body_markdown":"&gt; Write a procedure `loadDocument(String name)` which will load and analyze lines after lines searching for link in every line. The link format is as follows: 5 characters `link=` (it can be mixed capital and small letters) after which there is a correct identifier. The correct identifier starts from letter (small or capital) follows by zero or more occurrences of letters or digits or underline `_`. The procedure has to print subsequent identifiers, each one in a separated line. Before printing, the identifiers have to be changed to small letters. The document ends with line with the text `eod`, which means end of document.\r\n\r\nMy code:\r\n\r\n    public static void loadDocument(String name, Scanner scan) {\r\n    \twhile(scan.hasNext()) {\r\n    \t\tString line = scan.nextLine();\r\n    \t\tif(line.equals(&quot;eod&quot;)) {\r\n    \t\t\treturn;\r\n    \t    }\r\n    \t\telse if(line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name)) {\r\n    \t\t\tString identifier = name.toLowerCase();\r\n    \t\t    System.out.println(identifier);\r\n    \t\t}\r\n    \t\telse\r\n    \t        continue;\r\n    \t}\t         \r\n    }\r\n\r\n\t// accepted only small letters, capital letter, digits and &#39;_&#39; (but not on the begin)\r\n\tpublic static boolean correctLink(String link) {\r\n    \tif(link.matches(&quot;^[a-zA-Z]+[0]+||[0-9]+||_&quot;))\r\n    \t\treturn true;\r\n    \telse\r\n    \t\treturn false;\r\n    }\r\n\r\nHow to write if line equal to `link=`, return whatever&#39;s after `link=`?\r\nMy problem is in this code:\r\n\r\n    else if(line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name)) {\r\n\t\tString identifier = name.toLowerCase();\r\n    \tSystem.out.println(identifier);\r\n    }\r\n\r\nFor example, if the input is `link=abc`, I want it to print `abc`.","title":"Write a procedure loadDocument(String name) which will load and analyze lines after lines searching for link in every line","body":"<blockquote>\n<p>Write a procedure <code>loadDocument(String name)</code> which will load and analyze lines after lines searching for link in every line. The link format is as follows: 5 characters <code>link=</code> (it can be mixed capital and small letters) after which there is a correct identifier. The correct identifier starts from letter (small or capital) follows by zero or more occurrences of letters or digits or underline <code>_</code>. The procedure has to print subsequent identifiers, each one in a separated line. Before printing, the identifiers have to be changed to small letters. The document ends with line with the text <code>eod</code>, which means end of document.</p>\n</blockquote>\n<p>My code:</p>\n<pre><code>public static void loadDocument(String name, Scanner scan) {\n    while(scan.hasNext()) {\n        String line = scan.nextLine();\n        if(line.equals(&quot;eod&quot;)) {\n            return;\n        }\n        else if(line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name)) {\n            String identifier = name.toLowerCase();\n            System.out.println(identifier);\n        }\n        else\n            continue;\n    }            \n}\n\n// accepted only small letters, capital letter, digits and '_' (but not on the begin)\npublic static boolean correctLink(String link) {\n    if(link.matches(&quot;^[a-zA-Z]+[0]+||[0-9]+||_&quot;))\n        return true;\n    else\n        return false;\n}\n</code></pre>\n<p>How to write if line equal to <code>link=</code>, return whatever's after <code>link=</code>?\nMy problem is in this code:</p>\n<pre><code>else if(line.matches(&quot;link=&quot;+name) &amp;&amp; correctLink(name)) {\n    String identifier = name.toLowerCase();\n    System.out.println(identifier);\n}\n</code></pre>\n<p>For example, if the input is <code>link=abc</code>, I want it to print <code>abc</code>.</p>\n"},{"tags":["javascript","java","spring","rest","xmlhttprequest"],"comments":[{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":1,"creation_date":1474948235,"post_id":39715646,"comment_id":66729154,"body_markdown":"`var params = &#39;eid=&#39; +userEmailId+&#39;&amp;amp;pwd=&#39;+userPwd` - try changing that to `var params = &#39;eid=&#39; +userEmailId+&#39;&amp;pwd=&#39;+userPwd`","body":"<code>var params = &#39;eid=&#39; +userEmailId+&#39;&amp;amp;pwd=&#39;+userPwd</code> - try changing that to <code>var params = &#39;eid=&#39; +userEmailId+&#39;&amp;pwd=&#39;+userPwd</code>"},{"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"score":0,"creation_date":1474948470,"post_id":39715646,"comment_id":66729224,"body_markdown":"I am trying this code in JSPX page so i need to escape XML Character. when parser and  displayed in browser windows it shows like this : http://i.stack.imgur.com/1obo5.jpg\n\nthat &amp;amp; is not and issue after JSP translation it will convert to &amp; only.  what you can see .\n\nI have attached image of Code after parse and display in browser window. I tried so many things with in this but could not figure out what other things i am missing.","body":"I am trying this code in JSPX page so i need to escape XML Character. when parser and  displayed in browser windows it shows like this : <a href=\"http://i.stack.imgur.com/1obo5.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/1obo5.jpg</a>  that &amp;amp; is not and issue after JSP translation it will convert to &amp; only.  what you can see .  I have attached image of Code after parse and display in browser window. I tried so many things with in this but could not figure out what other things i am missing."},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1474949533,"post_id":39715646,"comment_id":66729501,"body_markdown":"check the request parameters in the browser developer tools network tab for that request, make sure it looks right there","body":"check the request parameters in the browser developer tools network tab for that request, make sure it looks right there"},{"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"score":0,"creation_date":1474950683,"post_id":39715646,"comment_id":66729765,"body_markdown":"Yes request  payload is going correct way i have added images of chrome network tab from developer tools : http://i.stack.imgur.com/bxcur.jpg","body":"Yes request  payload is going correct way i have added images of chrome network tab from developer tools : <a href=\"http://i.stack.imgur.com/bxcur.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/bxcur.jpg</a>"},{"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"score":0,"creation_date":1475036706,"post_id":39715646,"comment_id":66773783,"body_markdown":"Apparently this is not a REST service, since it violates the stateless constraint.","body":"Apparently this is not a REST service, since it violates the stateless constraint."}],"answers":[{"tags":[],"owner":{"account_id":2029577,"reputation":1180,"user_id":1813682,"accept_rate":50,"display_name":"toto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474949116,"creation_date":1474948739,"answer_id":39715730,"question_id":39715646,"body_markdown":"try it:\r\n\r\n    var params = {\r\n       eid:userEmailId,\r\n       pwd:userPwd\r\n    };\r\n    \r\n    http.send(params);\r\n\r\nor:\r\n\r\n   \r\n\r\n     var formData = new FormData();\r\n        formData.append(&quot;eid&quot;, userEmailId);\r\n        formData.append(&quot;pwd&quot;, userPwd);\r\n        \r\n        http.send(formData);","title":"XMLHttpRequest Returning Bad Request (400) while calling from java script , if i am calling from Java or Postman client it working fine","body":"<p>try it:</p>\n\n<pre><code>var params = {\n   eid:userEmailId,\n   pwd:userPwd\n};\n\nhttp.send(params);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code> var formData = new FormData();\n    formData.append(\"eid\", userEmailId);\n    formData.append(\"pwd\", userPwd);\n\n    http.send(formData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474977099,"creation_date":1474977099,"answer_id":39723936,"question_id":39715646,"body_markdown":"After spending a lot of time,still I am not able to figure out what exactly the problem in above implementation.\r\n \r\nBut now I change like this and working fine with below style : \r\n\r\n    var response = $.post(&quot;/search/loginAuthentication&quot;,{&quot;eid&quot;:userEmailId, &quot;pwd&quot; :userPwd},\r\n    \t\tfunction(data,status){\r\n    \t\t\t\tprocessAuthenticationResponse(data);\t\r\n    \t\t},&#39;json&#39;);\r\n    \t}","title":"XMLHttpRequest Returning Bad Request (400) while calling from java script , if i am calling from Java or Postman client it working fine","body":"<p>After spending a lot of time,still I am not able to figure out what exactly the problem in above implementation.</p>\n\n<p>But now I change like this and working fine with below style : </p>\n\n<pre><code>var response = $.post(\"/search/loginAuthentication\",{\"eid\":userEmailId, \"pwd\" :userPwd},\n        function(data,status){\n                processAuthenticationResponse(data);    \n        },'json');\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15270552,"reputation":1,"user_id":11017882,"display_name":"Harshad Karanjule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646852269,"creation_date":1646852269,"answer_id":71414680,"question_id":39715646,"body_markdown":"I had same problem. But then I sent string of JSON instead of JSON object. Then it worked.\r\n\r\n```\r\nrequest.send(JSON.stringify(json));\r\n```\r\n","title":"XMLHttpRequest Returning Bad Request (400) while calling from java script , if i am calling from Java or Postman client it working fine","body":"<p>I had same problem. But then I sent string of JSON instead of JSON object. Then it worked.</p>\n<pre><code>request.send(JSON.stringify(json));\n</code></pre>\n"}],"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646852269,"creation_date":1474948083,"question_id":39715646,"body_markdown":"I am trying to call Spring rest method using java script. \r\nI am getting:\r\n\r\n**POST http://www.davco.com/search/loginAuthentication 400 (Bad Request)** \r\n\r\nBelow is my Java scrpt Code to invoke Spring REST service that I have       \r\n   \r\n\r\n       var userEmailId= $(&quot;#emailAddress&quot;).val();\r\n       var userPwd= $(&quot;#userPassword&quot;).val();\r\n    \t\r\n    \tif (empty(userPwd)) {\r\n    \t\talert(&quot;Please enter password&quot;);\r\n    \t\treturn false;\r\n    \t}\r\n    \t \r\n    \tvar http = new createXMLHttpRequest();\r\n    \tvar url = &quot;/search/loginAuthentication&quot;;\r\n    \tvar params = &#39;eid=&#39; +userEmailId+&#39;&amp;amp;pwd=&#39;+userPwd\r\n    \r\n    \thttp.open(&quot;POST&quot;, url, true);\r\n    \t//Send the proper header information along with the request\r\n    \thttp.setRequestHeader(&quot;Content-type&quot;, &quot;application/xml&quot;);\r\n    \thttp.onreadystatechange = function() {//Call a function when the state changes.\r\n    \t\tif(http.readyState == 4 &amp;amp;&amp;amp; http.status == 200) {\r\n    \t\t\talert(http.responseText);\r\n    \t\t}\r\n    \t}\r\n    \thttp.send(params);\r\n[![enter image description here][2]][2]\r\nWhen i am trying to call same method from Google Postman client I am able to hit services and get the response.. \r\n\r\nI am not able to understand what wrong i am doing while  i am calling it form Javascrpt. I have refer this [link][3], this [link as well][4]. \r\n\r\nI tried different **Content-type** header like : \r\n\r\nhttp.setRequestHeader(&quot;Content-type&quot;, &quot;text/html&quot;);\r\nhttp.setRequestHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\r\nhttp.setRequestHeader(&quot;Content-type&quot;, &quot;Accept=application/xml&quot;);\r\n\r\nI am seeing from browser request and request payload for POST call is going like below that is correct : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Below is my Spring Rest Services Code:** \r\n\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/loginAuthentication&quot; ,headers = &quot;Accept=application/xml, application/json, text/html&quot;)\r\n        public @ResponseBody String loginAuthnticationForHTEtb(@RequestParam(&quot;eid&quot;) String userEmailId,@RequestParam(&quot;pwd&quot;) String password\r\n                ,HttpServletRequest request, HttpServletResponse response) {   \r\n    \r\n            StringBuffer result = new StringBuffer();\r\n            try {\r\n                String domainVraiable=Context.getDomainName();\r\n                int inxexOfDot=domainVraiable.indexOf(&quot;.&quot;)+1;\r\n                int lastIndexOf=domainVraiable.lastIndexOf(&quot;.&quot;);\r\n    \t\t\t\r\n    \t\t\t....\r\n\r\nI am just wondering why it working and i am able to call from PostMan Client but not working while i am trying  to call from java script? As you can see in below screenshot.\r\n\r\n[![enter image description here][5]][5]\r\n\r\nThanks in advance for any kind of clue or information to get rid of this. I spend almost a day but could not figured out. \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bxcur.jpg\r\n  [2]: http://i.stack.imgur.com/1obo5.jpg\r\n  [3]: https://stackoverflow.com/questions/10810492/html-form-submit-giving-400-bad-request\r\n  [4]: https://stackoverflow.com/questions/4773725/getting-400-bad-request-when-using-multipart-form-data-as-content-type-in-xhr\r\n  [5]: http://i.stack.imgur.com/hRivC.jpg","title":"XMLHttpRequest Returning Bad Request (400) while calling from java script , if i am calling from Java or Postman client it working fine","body":"<p>I am trying to call Spring rest method using java script. \nI am getting:</p>\n\n<p><strong>POST <a href=\"http://www.davco.com/search/loginAuthentication\" rel=\"nofollow noreferrer\">http://www.davco.com/search/loginAuthentication</a> 400 (Bad Request)</strong> </p>\n\n<p>Below is my Java scrpt Code to invoke Spring REST service that I have       </p>\n\n<pre><code>   var userEmailId= $(\"#emailAddress\").val();\n   var userPwd= $(\"#userPassword\").val();\n\n    if (empty(userPwd)) {\n        alert(\"Please enter password\");\n        return false;\n    }\n\n    var http = new createXMLHttpRequest();\n    var url = \"/search/loginAuthentication\";\n    var params = 'eid=' +userEmailId+'&amp;amp;pwd='+userPwd\n\n    http.open(\"POST\", url, true);\n    //Send the proper header information along with the request\n    http.setRequestHeader(\"Content-type\", \"application/xml\");\n    http.onreadystatechange = function() {//Call a function when the state changes.\n        if(http.readyState == 4 &amp;amp;&amp;amp; http.status == 200) {\n            alert(http.responseText);\n        }\n    }\n    http.send(params);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1obo5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1obo5.jpg\" alt=\"enter image description here\"></a>\nWhen i am trying to call same method from Google Postman client I am able to hit services and get the response.. </p>\n\n<p>I am not able to understand what wrong i am doing while  i am calling it form Javascrpt. I have refer this <a href=\"https://stackoverflow.com/questions/10810492/html-form-submit-giving-400-bad-request\">link</a>, this <a href=\"https://stackoverflow.com/questions/4773725/getting-400-bad-request-when-using-multipart-form-data-as-content-type-in-xhr\">link as well</a>. </p>\n\n<p>I tried different <strong>Content-type</strong> header like : </p>\n\n<p>http.setRequestHeader(\"Content-type\", \"text/html\");\nhttp.setRequestHeader(\"Content-type\", \"application/json\");\nhttp.setRequestHeader(\"Content-type\", \"Accept=application/xml\");</p>\n\n<p>I am seeing from browser request and request payload for POST call is going like below that is correct : </p>\n\n<p><a href=\"https://i.stack.imgur.com/bxcur.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxcur.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Below is my Spring Rest Services Code:</strong> </p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST, value = \"/loginAuthentication\" ,headers = \"Accept=application/xml, application/json, text/html\")\n    public @ResponseBody String loginAuthnticationForHTEtb(@RequestParam(\"eid\") String userEmailId,@RequestParam(\"pwd\") String password\n            ,HttpServletRequest request, HttpServletResponse response) {   \n\n        StringBuffer result = new StringBuffer();\n        try {\n            String domainVraiable=Context.getDomainName();\n            int inxexOfDot=domainVraiable.indexOf(\".\")+1;\n            int lastIndexOf=domainVraiable.lastIndexOf(\".\");\n\n            ....\n</code></pre>\n\n<p>I am just wondering why it working and i am able to call from PostMan Client but not working while i am trying  to call from java script? As you can see in below screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hRivC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hRivC.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks in advance for any kind of clue or information to get rid of this. I spend almost a day but could not figured out. </p>\n"},{"tags":["java","string","reduce","radix","string-length"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1646820609,"post_id":71407548,"comment_id":126216694,"body_markdown":"What characters is the string composed of?    Digits and uppercase letters only?","body":"What characters is the string composed of?    Digits and uppercase letters only?"},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646821063,"post_id":71407548,"comment_id":126216835,"body_markdown":"yes, currently I have used `ToUpperCase()` method","body":"yes, currently I have used <code>ToUpperCase()</code> method"},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1646821350,"post_id":71407548,"comment_id":126216938,"body_markdown":"You could in theory use Run-length encoding (RLE). If there are enough repitions in your char sequence, it would compress your data. But there is no guarantee that it will reduce every string to a predefined length. So not sure if this helps.","body":"You could in theory use Run-length encoding (RLE). If there are enough repitions in your char sequence, it would compress your data. But there is no guarantee that it will reduce every string to a predefined length. So not sure if this helps."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1646821663,"post_id":71407548,"comment_id":126217058,"body_markdown":"What is of importance here. The length or the size?","body":"What is of importance here. The length or the size?"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1646821700,"post_id":71407548,"comment_id":126217075,"body_markdown":"Only alphabets? A-Z and 0-9?","body":"Only alphabets? A-Z and 0-9?"},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646822239,"post_id":71407548,"comment_id":126217281,"body_markdown":"@NicoVanBelle length is the factor here","body":"@NicoVanBelle length is the factor here"},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646822303,"post_id":71407548,"comment_id":126217305,"body_markdown":"@Darkman I have updated my question,\nmy string is composed of alphabets and integers.","body":"@Darkman I have updated my question, my string is composed of alphabets and integers."},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646822411,"post_id":71407548,"comment_id":126217336,"body_markdown":"Is it possible to encode it keeping the collision issue in mind, so that its length becomes smaller?","body":"Is it possible to encode it keeping the collision issue in mind, so that its length becomes smaller?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1646822547,"post_id":71407548,"comment_id":126217384,"body_markdown":"You are basically asking: how can I magically cut arbitrary ASCII strings in half, still representing them as ASCII strings, and do that reliably? That is in essence what you want. And no, if we could just look at any string and cut in half like that without losing information, that would be nice.","body":"You are basically asking: how can I magically cut arbitrary ASCII strings in half, still representing them as ASCII strings, and do that reliably? That is in essence what you want. And no, if we could just look at any string and cut in half like that without losing information, that would be nice."},{"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"score":0,"creation_date":1646822567,"post_id":71407548,"comment_id":126217393,"body_markdown":"sorry, By &quot;alphabets&quot; I meant  A-Z and a-z.","body":"sorry, By &quot;alphabets&quot; I meant  A-Z and a-z."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1646822883,"post_id":71407548,"comment_id":126217504,"body_markdown":"If you want to reduce the length of a string, I think you&#39;re out of luck. But if you don&#39;t mind to convert it into a byte array (number of bytes is critical) then it is possible (Only for A-Z and 0-9).","body":"If you want to reduce the length of a string, I think you&#39;re out of luck. But if you don&#39;t mind to convert it into a byte array (number of bytes is critical) then it is possible (Only for A-Z and 0-9)."},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1646822950,"post_id":71407548,"comment_id":126217524,"body_markdown":"did you try simple compression? https://xperti.io/blogs/java-string-data-compression-and-decompression/","body":"did you try simple compression? <a href=\"https://xperti.io/blogs/java-string-data-compression-and-decompression/\" rel=\"nofollow noreferrer\">xperti.io/blogs/java-string-data-compression-and-decompressi&zwnj;&#8203;on</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1646829097,"post_id":71407548,"comment_id":126219643,"body_markdown":"Note: never put such new information into comments. Always [edit] your question instead. Don&#39;t expect other people to read through 20 comments to understand all the details needed to answer.","body":"Note: never put such new information into comments. Always <a href=\"https://stackoverflow.com/posts/71407548/edit\">edit</a> your question instead. Don&#39;t expect other people to read through 20 comments to understand all the details needed to answer."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1646832467,"post_id":71407548,"comment_id":126220917,"body_markdown":"@MarcStroebel - Simple compression is unlikely to be very effective in a random string, especially a short one.","body":"@MarcStroebel - Simple compression is unlikely to be very effective in a random string, especially a short one."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646851791,"creation_date":1646828883,"answer_id":71409363,"question_id":71407548,"body_markdown":"Assuming that the string represents a number in base 36 `[0-9A-Z]`, it may be &quot;compressed&quot; additionally by converting to base 62 `[0-9A-Za-z]`, however, this does not help much in reducing the size, only 1 symbol is &quot;saved&quot;:\r\n```java\r\nString str = &quot;BWOOL0JDXUNP1&quot;;\r\nBigInteger bi = new BigInteger(str, 36);\r\n\r\nString alpha = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\r\nBigInteger size = BigInteger.valueOf(alpha.length());\r\nSystem.out.println(str);\r\n\r\nStringBuilder sb = new StringBuilder();\r\nwhile (bi.compareTo(BigInteger.ZERO) &gt; 0) {\r\n    int cp = bi.mod(size).intValue();\r\n    sb.append(alpha.charAt(cp));\r\n    bi = bi.divide(size);\r\n}\r\nSystem.out.println(sb);\r\n// -&gt; BWOOL0JDXUNP1\r\n// -&gt; NXew7nv28E51\r\n```\r\nAdditionally, binary compression may be applied with some custom encoding, for instance, the mentioned 62 characters `[0-9A-Za-z]` fit into just 6 bits, so the mentioned 12 characters may be represented with just 12 * 0.75 = 9 bytes.  Of course, in this case additional &quot;unpacking&quot; method would be needed to properly represent the result.","title":"Reduce Length of a string without losing data","body":"<p>Assuming that the string represents a number in base 36 <code>[0-9A-Z]</code>, it may be &quot;compressed&quot; additionally by converting to base 62 <code>[0-9A-Za-z]</code>, however, this does not help much in reducing the size, only 1 symbol is &quot;saved&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;BWOOL0JDXUNP1&quot;;\nBigInteger bi = new BigInteger(str, 36);\n\nString alpha = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\nBigInteger size = BigInteger.valueOf(alpha.length());\nSystem.out.println(str);\n\nStringBuilder sb = new StringBuilder();\nwhile (bi.compareTo(BigInteger.ZERO) &gt; 0) {\n    int cp = bi.mod(size).intValue();\n    sb.append(alpha.charAt(cp));\n    bi = bi.divide(size);\n}\nSystem.out.println(sb);\n// -&gt; BWOOL0JDXUNP1\n// -&gt; NXew7nv28E51\n</code></pre>\n<p>Additionally, binary compression may be applied with some custom encoding, for instance, the mentioned 62 characters <code>[0-9A-Za-z]</code> fit into just 6 bits, so the mentioned 12 characters may be represented with just 12 * 0.75 = 9 bytes.  Of course, in this case additional &quot;unpacking&quot; method would be needed to properly represent the result.</p>\n"}],"owner":{"account_id":21576677,"reputation":21,"user_id":15908686,"display_name":"Null Pointer"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646851791,"creation_date":1646820316,"question_id":71407548,"body_markdown":"I have a string of length 13 composed of alphabets(uppercase +  lowercase both are possible but currently using only UpperCase) and Integers (0-9)(ex: BWOOL0JDXUNP1) and I wanted to reduce its length to 6-10 characters without losing any data.\r\nI tried this by converting it into bytes using `StandardCharsets.UTF_8` then `new BigInteger(1, bytes).toString(36)` but it increases the length to 18 characters. \r\nI am not sure if it is possible or not. If there is any way to do this in Java please help.\r\n","title":"Reduce Length of a string without losing data","body":"<p>I have a string of length 13 composed of alphabets(uppercase +  lowercase both are possible but currently using only UpperCase) and Integers (0-9)(ex: BWOOL0JDXUNP1) and I wanted to reduce its length to 6-10 characters without losing any data.\nI tried this by converting it into bytes using <code>StandardCharsets.UTF_8</code> then <code>new BigInteger(1, bytes).toString(36)</code> but it increases the length to 18 characters.\nI am not sure if it is possible or not. If there is any way to do this in Java please help.</p>\n"},{"tags":["java","static","variable-declaration"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":1,"creation_date":1646852776,"post_id":71414541,"comment_id":126228987,"body_markdown":"Not enough information.  I&#39;m guessing you have this declaration inside of a method instead of as a class member variable. You should also add a &quot;final&quot; keyword to declaration.","body":"Not enough information.  I&#39;m guessing you have this declaration inside of a method instead of as a class member variable. You should also add a &quot;final&quot; keyword to declaration."}],"answers":[{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646851738,"creation_date":1646851738,"answer_id":71414565,"question_id":71414541,"body_markdown":"You must place static field declarations __inside a class__, but __outside of method bodies__.","title":"How to make regex pattern static?","body":"<p>You must place static field declarations <strong>inside a class</strong>, but <strong>outside of method bodies</strong>.</p>\n"}],"owner":{"account_id":23403996,"reputation":13,"user_id":17466698,"display_name":"s1ckoleg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71414565,"answer_count":1,"score":0,"last_activity_date":1646851738,"creation_date":1646851612,"question_id":71414541,"body_markdown":"When I try to make static pattern variable I receive an error: *Modifier &#39;static&#39; not allowed here*. I can&#39;t see any reasons, why it doesn&#39;t work. Do you have any ideas? \r\n\r\nThis is how I try to do it: \r\n```\r\nstatic Pattern pattern = Pattern.compile(&quot;[0-9:?;!]&quot;);\r\n```","title":"How to make regex pattern static?","body":"<p>When I try to make static pattern variable I receive an error: <em>Modifier 'static' not allowed here</em>. I can't see any reasons, why it doesn't work. Do you have any ideas?</p>\n<p>This is how I try to do it:</p>\n<pre><code>static Pattern pattern = Pattern.compile(&quot;[0-9:?;!]&quot;);\n</code></pre>\n"},{"tags":["java","store"],"comments":[{"owner":{"account_id":12489064,"reputation":1172,"user_id":9091276,"accept_rate":100,"display_name":"Frontear"},"score":0,"creation_date":1646851266,"post_id":71414452,"comment_id":126228501,"body_markdown":"This would require you to save array contents to some file or database. Consider creating a config file that has your data, which you read and save to as needed","body":"This would require you to save array contents to some file or database. Consider creating a config file that has your data, which you read and save to as needed"},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":1,"creation_date":1646851275,"post_id":71414452,"comment_id":126228504,"body_markdown":"You answered your own question. You can write the list to a file.","body":"You answered your own question. You can write the list to a file."},{"owner":{"account_id":24310011,"reputation":25,"user_id":18252180,"display_name":"Selim"},"score":0,"creation_date":1646851398,"post_id":71414452,"comment_id":126228542,"body_markdown":"I dont know how to write it to a file and call it back later. If you could help me with that, it would be great.","body":"I dont know how to write it to a file and call it back later. If you could help me with that, it would be great."},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1646851457,"post_id":71414452,"comment_id":126228561,"body_markdown":"Here&#39;s how you can write it - https://stackoverflow.com/questions/6548157/how-to-write-an-arraylist-of-strings-into-a-text-file here&#39;s how to read it - https://stackoverflow.com/questions/5343689/java-reading-a-file-into-an-arraylist a little bit of googling will solve this","body":"Here&#39;s how you can write it - <a href=\"https://stackoverflow.com/questions/6548157/how-to-write-an-arraylist-of-strings-into-a-text-file\" title=\"how to write an arraylist of strings into a text file\">stackoverflow.com/questions/6548157/&hellip;</a> here&#39;s how to read it - <a href=\"https://stackoverflow.com/questions/5343689/java-reading-a-file-into-an-arraylist\" title=\"java reading a file into an arraylist\">stackoverflow.com/questions/5343689/&hellip;</a> a little bit of googling will solve this"},{"owner":{"account_id":24310011,"reputation":25,"user_id":18252180,"display_name":"Selim"},"score":0,"creation_date":1646851657,"post_id":71414452,"comment_id":126228629,"body_markdown":"Hahaha thank you so much. I&#39;ve been searching for an answer for 40 minutes however every code I encountered was quite complex so I gave up and asked this question, thanks","body":"Hahaha thank you so much. I&#39;ve been searching for an answer for 40 minutes however every code I encountered was quite complex so I gave up and asked this question, thanks"}],"answers":[{"tags":[],"owner":{"account_id":13359761,"reputation":391,"user_id":10079966,"display_name":"Vml11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646851713,"creation_date":1646851713,"answer_id":71414558,"question_id":71414452,"body_markdown":"Serialize the data into a file and when starting up again deserialize it.\r\nRemember to add a shutDownHook in order to save it before the program exits.\r\n\r\n    Runtime.getRuntime().addShutdownHook(...)\r\n\r\n\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19639319/java-shutdown-hook","title":"how to store arraylist elements and call them back even though program is closed in java?","body":"<p>Serialize the data into a file and when starting up again deserialize it.\nRemember to add a shutDownHook in order to save it before the program exits.</p>\n<pre><code>Runtime.getRuntime().addShutdownHook(...)\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/19639319/java-shutdown-hook\">enter link description here</a></p>\n"}],"owner":{"account_id":24310011,"reputation":25,"user_id":18252180,"display_name":"Selim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646851713,"creation_date":1646851196,"question_id":71414452,"body_markdown":"What I want to do is basically I want to add elements to an arraylist and call those elements back even though the program closes. So I want to store those elements permanently and when I start the program again I want to be able to call the elements I added to the arraylist before and see them. It could be with text files or something else, everything non very complicated is accepted. Thanks!","title":"how to store arraylist elements and call them back even though program is closed in java?","body":"<p>What I want to do is basically I want to add elements to an arraylist and call those elements back even though the program closes. So I want to store those elements permanently and when I start the program again I want to be able to call the elements I added to the arraylist before and see them. It could be with text files or something else, everything non very complicated is accepted. Thanks!</p>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":1,"creation_date":1646844615,"post_id":71412869,"comment_id":126226045,"body_markdown":"Your code is incomplete. As it is, it won&#39;t compile. Please double check that you&#39;ve posted all there is. If an error/exception is being thrown, please also post it as text and mark the line in the code where the error occurs.","body":"Your code is incomplete. As it is, it won&#39;t compile. Please double check that you&#39;ve posted all there is. If an error/exception is being thrown, please also post it as text and mark the line in the code where the error occurs."},{"owner":{"account_id":24228150,"reputation":1,"user_id":18182339,"display_name":"Zach MacKenzie"},"score":0,"creation_date":1646848091,"post_id":71412869,"comment_id":126227442,"body_markdown":"@JettoMart&#237;nez I have updated this to the full code.","body":"@JettoMart&#237;nez I have updated this to the full code."}],"owner":{"account_id":24228150,"reputation":1,"user_id":18182339,"display_name":"Zach MacKenzie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646851475,"creation_date":1646843897,"question_id":71412869,"body_markdown":"I have two classes here for an assignment. I am attempting to remove the Item object from the library catalog and add it to the checkedOutItems of the current patron. When I run my code it is saying that I didn&#39;t remove the object from the catalog. Anything here that i&#39;m missing? Im mainly concerned with the CheckIn and CheckOut methods.\r\n\r\nLibrary.java below\r\n\r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.time.LocalDate;\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Library {\r\n\r\n        private boolean isOpen;\r\n        private Patron currPatron;\r\n        public ArrayList&lt;Patron&gt; patrons;\r\n        public ArrayList&lt;Item&gt; catalog;\r\n        private LocalDate currDate;\r\n        public ArrayList&lt;Item&gt; lastSearchResults = new ArrayList&lt;&gt;();\r\n\r\n        public Library(ArrayList&lt;Item&gt; catalog, Scanner input, int year, int month, int day) {\r\n            this.currDate = LocalDate.of(year, month, day);\r\n            this.catalog = catalog;\r\n            this.patrons = new ArrayList&lt;Patron&gt;();\r\n        }\r\n    public ArrayList&lt;Item&gt; getCatalog() {\r\n        return catalog;\r\n    }\r\n\r\n    public LocalDate getCurrDate() {\r\n        return currDate;\r\n    }\r\n\r\n    public void start() {\r\n        Scanner s = new Scanner(System.in);\r\n        System.out.println(&quot;Enter o to open the library or x to exit the program.&quot;);\r\n        String input = s.next();\r\n        if (input.contains(&quot;x&quot;)) {\r\n            return;\r\n        }\r\n        if (!input.contains(&quot;o&quot;)) {\r\n            System.out.println(&quot;Invalid input&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;Today&#39;s date: &quot; + currDate + &quot;\\n&quot;);\r\n        System.out.println(&quot;Overdue items: \\n&quot;);\r\n\r\n        System.out.println(&quot;Choose an existing patron by number, enter n to add a new patron, or enter c to close.&quot;);\r\n\r\n        input = s.next();\r\n        s.nextLine();\r\n\r\n        switch (input) {\r\n            case &quot;c&quot;:\r\n                break;\r\n            case &quot;n&quot;:\r\n                System.out.println(&quot;Enter patron name.&quot;);\r\n                String name = s.nextLine();\r\n                System.out.println(&quot;Enter patron card number.&quot;);\r\n                int cn = s.nextInt();\r\n\r\n                Patron p = new Patron(name, cn);\r\n                break;\r\n        }\r\n    }\r\n\r\n    public void open() {\r\n        this.isOpen = true;\r\n    }\r\n\r\n    public void close() {\r\n        this.isOpen = false;\r\n        this.currDate = currDate.plusDays(1);\r\n    }\r\n\r\n    public boolean isOpen() {\r\n        return isOpen;\r\n    }\r\n\r\n    public ArrayList&lt;Patron&gt; getPatrons() {\r\n        return patrons;\r\n    }\r\n\r\n    public void addPatron(String n, int cn) {\r\n        Patron p = new Patron(n, cn);\r\n        currPatron = p;\r\n        patrons.add(p);\r\n    }\r\n\r\n    public void setPatron(int p) {\r\n        for (Patron patron : patrons) {\r\n            if (patron.getCardNumber() == p) {\r\n                this.currPatron = patron;\r\n            }\r\n        }\r\n    }\r\n\r\n    public Patron getCurrPatron() {\r\n        return currPatron;\r\n    }\r\n\r\n    public void search(String search) {\r\n        lastSearchResults.clear();\r\n        for (Item currItem : catalog) {\r\n            if (currItem.detailedInfo().contains(search)) {\r\n                lastSearchResults.add(currItem);\r\n            }\r\n        }\r\n    }\r\n\r\n    public ArrayList&lt;Item&gt; getSearchResults() {\r\n        return lastSearchResults;\r\n    }\r\n\r\n    public void checkIn(int index) {\r\n        ArrayList&lt;Item&gt; ls = currPatron.getItems();\r\n        Item a = ls.get(index);\r\n        currPatron.checkInItem(a);\r\n        catalog.add(index, a);\r\n\r\n    }\r\n\r\n    public void checkOut(int index) {\r\n        Item i = catalog.get(index);\r\n        catalog.remove(index);\r\n        currPatron.checkOutItem(i);\r\n    }\r\n\r\n    /////////////////// DO NOT CHANGE THE CODE BELOW /////////////////////\r\n\r\n    public static ArrayList&lt;Item&gt; readCatalog(String fileName) {\r\n\r\n        Scanner input = null;\r\n        try {\r\n            input = new Scanner(new File(fileName));\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File was not found.&quot;);\r\n            System.exit(-1);\r\n        }\r\n\r\n        String line = &quot;&quot;;\r\n        ArrayList&lt;Item&gt; catalog = new ArrayList&lt;Item&gt;();\r\n        boolean stop = false;\r\n        while (!stop) {\r\n            line = input.nextLine();\r\n            switch (line) {\r\n                case &quot;BOOK&quot;:\r\n                    String title = input.nextLine();\r\n                    String author = input.nextLine();\r\n                    int pages = input.nextInt();\r\n                    int year = input.nextInt();\r\n                    catalog.add(new Book(title, author, pages, year));\r\n                    input.nextLine();\r\n                    break;\r\n                case &quot;MUSIC&quot;:\r\n                    title = input.nextLine();\r\n                    String artist = input.nextLine();\r\n                    String format = input.nextLine();\r\n                    year = input.nextInt();\r\n                    input.nextLine();\r\n                    ArrayList&lt;String&gt; tracks = new ArrayList&lt;String&gt;();\r\n                    while (true) {\r\n                        line = input.nextLine();\r\n                        if (line.equals(&quot;&quot;)) {\r\n                            break;\r\n                        }\r\n                        tracks.add(line);\r\n                    }\r\n                    catalog.add(new Music(title, artist, format, year, tracks));\r\n                    break;\r\n                case &quot;VIDEO&quot;:\r\n                    title = input.nextLine();\r\n                    format = input.nextLine();\r\n                    year = input.nextInt();\r\n                    int runtime = input.nextInt();\r\n                    catalog.add(new Video(title, format, year, runtime));\r\n                    input.nextLine();\r\n                    break;\r\n                case &quot;END&quot;:\r\n                    stop = true;\r\n                    break;\r\n            }\r\n        }\r\n        return catalog;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter catalog file name.&quot;);\r\n        String fileName = input.nextLine();\r\n        int year;\r\n        int month;\r\n        int day;\r\n        System.out.println(&quot;Enter the current year.&quot;);\r\n        year = input.nextInt();\r\n        System.out.println(&quot;Enter the current month.&quot;);\r\n        month = input.nextInt();\r\n        System.out.println(&quot;Enter the current day.&quot;);\r\n        day = input.nextInt();\r\n        input.nextLine();\r\n\r\n        ArrayList&lt;Item&gt; catalog = Library.readCatalog(fileName);\r\n\r\n        Library l = new Library(catalog, input, year, month, day);\r\n\r\n        l.start();\r\n    }\r\n    }\r\n\r\nPatron.java file\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class Patron implements Printable {\r\n\r\n    private String name;\r\n    private int cardNumber;\r\n    ArrayList&lt;Item&gt; checkedItems = new ArrayList&lt;Item&gt;();\r\n\r\n    public Patron(String n, int cn) {\r\n        this.name = n;\r\n        this.cardNumber = cn;\r\n    }\r\n\r\n    public String basicInfo() {\r\n        return this.name + &quot; (&quot; + this.cardNumber + &quot;)&quot;;\r\n    }\r\n\r\n    public String detailedInfo() {\r\n\r\n        StringBuilder items = new StringBuilder();\r\n        for (Item item : checkedItems) {\r\n            items.append(&quot;    &quot;).append(item.basicInfo()).append(&quot; due on &quot;).append(item.getDueDate()).append(&quot;\\n&quot;);\r\n        }\r\n\r\n        String r = &quot;Name: &quot; + this.name + &quot;\\n&quot;\r\n                + &quot;Card number: &quot; + this.cardNumber + &quot;\\n&quot;\r\n                + items.toString();\r\n\r\n        return r.trim();\r\n    }\r\n\r\n    public ArrayList&lt;Item&gt; getItems() {\r\n        return this.checkedItems;\r\n    }\r\n\r\n    public void checkOutItem(Item i) {\r\n        checkedItems.add(i);\r\n    }\r\n\r\n    public void checkInItem(Item i) {\r\n        checkedItems.remove(i);\r\n    }\r\n\r\n    public int getCardNumber() {\r\n        return this.cardNumber;\r\n    }\r\n    }\r\n\r\n----------\r\n","title":"How to remove an object from an ArrayList in a different class?","body":"<p>I have two classes here for an assignment. I am attempting to remove the Item object from the library catalog and add it to the checkedOutItems of the current patron. When I run my code it is saying that I didn't remove the object from the catalog. Anything here that i'm missing? Im mainly concerned with the CheckIn and CheckOut methods.</p>\n<p>Library.java below</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Library {\n\n    private boolean isOpen;\n    private Patron currPatron;\n    public ArrayList&lt;Patron&gt; patrons;\n    public ArrayList&lt;Item&gt; catalog;\n    private LocalDate currDate;\n    public ArrayList&lt;Item&gt; lastSearchResults = new ArrayList&lt;&gt;();\n\n    public Library(ArrayList&lt;Item&gt; catalog, Scanner input, int year, int month, int day) {\n        this.currDate = LocalDate.of(year, month, day);\n        this.catalog = catalog;\n        this.patrons = new ArrayList&lt;Patron&gt;();\n    }\npublic ArrayList&lt;Item&gt; getCatalog() {\n    return catalog;\n}\n\npublic LocalDate getCurrDate() {\n    return currDate;\n}\n\npublic void start() {\n    Scanner s = new Scanner(System.in);\n    System.out.println(&quot;Enter o to open the library or x to exit the program.&quot;);\n    String input = s.next();\n    if (input.contains(&quot;x&quot;)) {\n        return;\n    }\n    if (!input.contains(&quot;o&quot;)) {\n        System.out.println(&quot;Invalid input&quot;);\n    }\n\n    System.out.println(&quot;Today's date: &quot; + currDate + &quot;\\n&quot;);\n    System.out.println(&quot;Overdue items: \\n&quot;);\n\n    System.out.println(&quot;Choose an existing patron by number, enter n to add a new patron, or enter c to close.&quot;);\n\n    input = s.next();\n    s.nextLine();\n\n    switch (input) {\n        case &quot;c&quot;:\n            break;\n        case &quot;n&quot;:\n            System.out.println(&quot;Enter patron name.&quot;);\n            String name = s.nextLine();\n            System.out.println(&quot;Enter patron card number.&quot;);\n            int cn = s.nextInt();\n\n            Patron p = new Patron(name, cn);\n            break;\n    }\n}\n\npublic void open() {\n    this.isOpen = true;\n}\n\npublic void close() {\n    this.isOpen = false;\n    this.currDate = currDate.plusDays(1);\n}\n\npublic boolean isOpen() {\n    return isOpen;\n}\n\npublic ArrayList&lt;Patron&gt; getPatrons() {\n    return patrons;\n}\n\npublic void addPatron(String n, int cn) {\n    Patron p = new Patron(n, cn);\n    currPatron = p;\n    patrons.add(p);\n}\n\npublic void setPatron(int p) {\n    for (Patron patron : patrons) {\n        if (patron.getCardNumber() == p) {\n            this.currPatron = patron;\n        }\n    }\n}\n\npublic Patron getCurrPatron() {\n    return currPatron;\n}\n\npublic void search(String search) {\n    lastSearchResults.clear();\n    for (Item currItem : catalog) {\n        if (currItem.detailedInfo().contains(search)) {\n            lastSearchResults.add(currItem);\n        }\n    }\n}\n\npublic ArrayList&lt;Item&gt; getSearchResults() {\n    return lastSearchResults;\n}\n\npublic void checkIn(int index) {\n    ArrayList&lt;Item&gt; ls = currPatron.getItems();\n    Item a = ls.get(index);\n    currPatron.checkInItem(a);\n    catalog.add(index, a);\n\n}\n\npublic void checkOut(int index) {\n    Item i = catalog.get(index);\n    catalog.remove(index);\n    currPatron.checkOutItem(i);\n}\n\n/////////////////// DO NOT CHANGE THE CODE BELOW /////////////////////\n\npublic static ArrayList&lt;Item&gt; readCatalog(String fileName) {\n\n    Scanner input = null;\n    try {\n        input = new Scanner(new File(fileName));\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;File was not found.&quot;);\n        System.exit(-1);\n    }\n\n    String line = &quot;&quot;;\n    ArrayList&lt;Item&gt; catalog = new ArrayList&lt;Item&gt;();\n    boolean stop = false;\n    while (!stop) {\n        line = input.nextLine();\n        switch (line) {\n            case &quot;BOOK&quot;:\n                String title = input.nextLine();\n                String author = input.nextLine();\n                int pages = input.nextInt();\n                int year = input.nextInt();\n                catalog.add(new Book(title, author, pages, year));\n                input.nextLine();\n                break;\n            case &quot;MUSIC&quot;:\n                title = input.nextLine();\n                String artist = input.nextLine();\n                String format = input.nextLine();\n                year = input.nextInt();\n                input.nextLine();\n                ArrayList&lt;String&gt; tracks = new ArrayList&lt;String&gt;();\n                while (true) {\n                    line = input.nextLine();\n                    if (line.equals(&quot;&quot;)) {\n                        break;\n                    }\n                    tracks.add(line);\n                }\n                catalog.add(new Music(title, artist, format, year, tracks));\n                break;\n            case &quot;VIDEO&quot;:\n                title = input.nextLine();\n                format = input.nextLine();\n                year = input.nextInt();\n                int runtime = input.nextInt();\n                catalog.add(new Video(title, format, year, runtime));\n                input.nextLine();\n                break;\n            case &quot;END&quot;:\n                stop = true;\n                break;\n        }\n    }\n    return catalog;\n}\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter catalog file name.&quot;);\n    String fileName = input.nextLine();\n    int year;\n    int month;\n    int day;\n    System.out.println(&quot;Enter the current year.&quot;);\n    year = input.nextInt();\n    System.out.println(&quot;Enter the current month.&quot;);\n    month = input.nextInt();\n    System.out.println(&quot;Enter the current day.&quot;);\n    day = input.nextInt();\n    input.nextLine();\n\n    ArrayList&lt;Item&gt; catalog = Library.readCatalog(fileName);\n\n    Library l = new Library(catalog, input, year, month, day);\n\n    l.start();\n}\n}\n</code></pre>\n<p>Patron.java file</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Patron implements Printable {\n\nprivate String name;\nprivate int cardNumber;\nArrayList&lt;Item&gt; checkedItems = new ArrayList&lt;Item&gt;();\n\npublic Patron(String n, int cn) {\n    this.name = n;\n    this.cardNumber = cn;\n}\n\npublic String basicInfo() {\n    return this.name + &quot; (&quot; + this.cardNumber + &quot;)&quot;;\n}\n\npublic String detailedInfo() {\n\n    StringBuilder items = new StringBuilder();\n    for (Item item : checkedItems) {\n        items.append(&quot;    &quot;).append(item.basicInfo()).append(&quot; due on &quot;).append(item.getDueDate()).append(&quot;\\n&quot;);\n    }\n\n    String r = &quot;Name: &quot; + this.name + &quot;\\n&quot;\n            + &quot;Card number: &quot; + this.cardNumber + &quot;\\n&quot;\n            + items.toString();\n\n    return r.trim();\n}\n\npublic ArrayList&lt;Item&gt; getItems() {\n    return this.checkedItems;\n}\n\npublic void checkOutItem(Item i) {\n    checkedItems.add(i);\n}\n\npublic void checkInItem(Item i) {\n    checkedItems.remove(i);\n}\n\npublic int getCardNumber() {\n    return this.cardNumber;\n}\n}\n</code></pre>\n<hr />\n"},{"tags":["java","string","methods"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1646848977,"post_id":71413976,"comment_id":126227735,"body_markdown":"You can use reflection as shown in this duplicate question \nhttps://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\n\nBut you probably don&#39;t want to do that.","body":"You can use reflection as shown in this duplicate question  <a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\" title=\"how do i invoke a java method when given the method name as a string\">stackoverflow.com/questions/160970/&hellip;</a>  But you probably don&#39;t want to do that."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1646848989,"post_id":71413976,"comment_id":126227740,"body_markdown":"Does this answer your question? [How do I invoke a Java method when given the method name as a string?](https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\">How do I invoke a Java method when given the method name as a string?</a>"}],"answers":[{"tags":[],"owner":{"account_id":203758,"reputation":14587,"user_id":451600,"accept_rate":91,"display_name":"Captain Giraffe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646849001,"creation_date":1646849001,"answer_id":71414023,"question_id":71413976,"body_markdown":"This is the use-case for a switch case statement.\r\n\r\n\r\n    switch(command){\r\n        case &quot;command1&quot;: command1(); break;\r\n        case &quot;command2&quot;: command2(); break;\r\n\r\nUsing a string javascript style is fortunately impossible in Java. The comments links to answers how to use reflection to accomplish something similar. This is rarely a good solution.\r\n\r\n","title":"How to call a method from a given string in Java","body":"<p>This is the use-case for a switch case statement.</p>\n<pre><code>switch(command){\n    case &quot;command1&quot;: command1(); break;\n    case &quot;command2&quot;: command2(); break;\n</code></pre>\n<p>Using a string javascript style is fortunately impossible in Java. The comments links to answers how to use reflection to accomplish something similar. This is rarely a good solution.</p>\n"},{"tags":[],"owner":{"account_id":2480954,"reputation":317,"user_id":2160443,"display_name":"Rakib Hasan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646851444,"creation_date":1646851444,"answer_id":71414510,"question_id":71413976,"body_markdown":"we can use \r\n\r\n&gt; java.lang.reflect.Method\r\nSomething like \r\n\r\n    java.lang.reflect.Method method;\r\n    try {\r\n        method = obj.getClass().getMethod(methodName, param1.class, param2.class, ..);\r\n    } catch (SecurityException e) { ... }\r\n    catch (NoSuchMethodException e) { ... }\r\nThe parameters identify the very specific method you need (if there are several overloaded available, if the method has no arguments, only give methodName).\r\n\r\nAnd your possible solution can be like -\r\n\r\n    package com.test.pkg;\r\n    public class MethodClass {\r\n      public int getFishCount() {\r\n        return 5;\r\n     }\r\n     public int getRiceCount() {\r\n        return 100;\r\n     }\r\n     public int getVegetableCount() {\r\n        return 50;\r\n     }\r\n    }\r\n\r\n\r\n```\r\npackage com.test.pkg;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        MethodClass classObj = new MethodClass();\r\n        Method method;\r\n        String commandString = &quot;Fish&quot;;\r\n        try {\r\n            String methodName = &quot;get&quot; + commandString + &quot;Count&quot;;\r\n            method = classObj.getClass().getMethod(methodName);\r\n            System.out.println(method.invoke(classObj));          //equivalent to System.out.println(testObj.getFishCount());\r\n        } catch (SecurityException | NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRef: https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string","title":"How to call a method from a given string in Java","body":"<p>we can use</p>\n<blockquote>\n<p>java.lang.reflect.Method\nSomething like</p>\n</blockquote>\n<pre><code>java.lang.reflect.Method method;\ntry {\n    method = obj.getClass().getMethod(methodName, param1.class, param2.class, ..);\n} catch (SecurityException e) { ... }\ncatch (NoSuchMethodException e) { ... }\n</code></pre>\n<p>The parameters identify the very specific method you need (if there are several overloaded available, if the method has no arguments, only give methodName).</p>\n<p>And your possible solution can be like -</p>\n<pre><code>package com.test.pkg;\npublic class MethodClass {\n  public int getFishCount() {\n    return 5;\n }\n public int getRiceCount() {\n    return 100;\n }\n public int getVegetableCount() {\n    return 50;\n }\n}\n</code></pre>\n<pre><code>package com.test.pkg;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\npublic class Test {\n    public static void main(String[] args) {\n        MethodClass classObj = new MethodClass();\n        Method method;\n        String commandString = &quot;Fish&quot;;\n        try {\n            String methodName = &quot;get&quot; + commandString + &quot;Count&quot;;\n            method = classObj.getClass().getMethod(methodName);\n            System.out.println(method.invoke(classObj));          //equivalent to System.out.println(testObj.getFishCount());\n        } catch (SecurityException | NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Ref: <a href=\"https://stackoverflow.com/questions/160970/how-do-i-invoke-a-java-method-when-given-the-method-name-as-a-string\">How do I invoke a Java method when given the method name as a string?</a></p>\n"}],"owner":{"account_id":23055863,"reputation":151,"user_id":17171910,"display_name":"Xanthan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71414023,"answer_count":2,"score":1,"last_activity_date":1646851444,"creation_date":1646848802,"question_id":71413976,"body_markdown":"I am trying to reduce my code from using a bunch of if statements from getting a specified command and calling a method for it.\r\n\r\nInstead, I want to try something that would take that command and call a method name with it\r\n\r\nSomething like this:\r\n\r\n```&quot;get&quot; + commandString + &quot;Count&quot;()```\r\n\r\nInstead of:\r\n\r\n```\r\nif (command == &quot;something&quot;) {\r\n   callSomeMethod();\r\n}\r\n\r\nif (command == &quot;somethingelse&quot;) {\r\n   callSomeOtherMethod();\r\n}\r\n\r\n...\r\n```\r\nIs there a way to call a method from a specified string? Or a better way to approach this problem.\r\n","title":"How to call a method from a given string in Java","body":"<p>I am trying to reduce my code from using a bunch of if statements from getting a specified command and calling a method for it.</p>\n<p>Instead, I want to try something that would take that command and call a method name with it</p>\n<p>Something like this:</p>\n<p><code>&quot;get&quot; + commandString + &quot;Count&quot;()</code></p>\n<p>Instead of:</p>\n<pre><code>if (command == &quot;something&quot;) {\n   callSomeMethod();\n}\n\nif (command == &quot;somethingelse&quot;) {\n   callSomeOtherMethod();\n}\n\n...\n</code></pre>\n<p>Is there a way to call a method from a specified string? Or a better way to approach this problem.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","concurrency"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1646858270,"post_id":71413763,"comment_id":126230686,"body_markdown":"By the way, you should generally be using an executor service obtained through the `Executors` utility class rather than using specifically [`ThreadPoolExecutor`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html) class. Read the Javadoc for explanation.","body":"By the way, you should generally be using an executor service obtained through the <code>Executors</code> utility class rather than using specifically <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code></a> class. Read the Javadoc for explanation."}],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646851026,"creation_date":1646848982,"answer_id":71414008,"question_id":71413763,"body_markdown":"Threads are Runnable, but not all Runnables are Threads. When you submit a Runnable to a thread pool the expectation is that the pool supplies the actual thread, your Runnable is only a task intended to be executed by some thread. When the thread pool worker that is assigned your task finishes processing it, it grabs another task and it doesn&#39;t have your Runnable anymore. \r\n\r\nYou could keep a reference to your Runnable, but then you&#39;d have to deal with updates made across threads and we&#39;d have to deal with using volatile, AtomicInteger, or whatever. Your code doesn&#39;t just automatically see changes made by another thread, the JVM needs specific signs that it looks out for. The whole model of submitting a runnable to a pool, then looking at the runnable later is very ugly and error-prone.\r\n\r\n If you change your Runnable into a Callable&lt;Integer&gt; and have it use a Future to return the int you need back, then the memory visibility issues will be handled for you.\r\n\r\nPass the Callable into [the ExecutorService submit method that returns a Future][1]. You can call isDone on the Future to see if the task is completed yet, then call get on it to retrieve the value returned from the Callable.\r\n\r\nI&#39;m not clear on what exactly you want to find in the task after it has been executed. My advice is make a separate immutable object with the values you want. Here I&#39;m calling it MyResult. so the Callable would look like this:\r\n\r\n\r\n    class MyObj implements Callable&lt;MyResult&gt; {{\r\n        \r\n        int m_id;\r\n        MyObj(int id) {n_id = id}\r\n        \r\n        @Override\r\n        public MyResult call() { \r\n            return new MyResult(1,2);\r\n        }\r\n    }\r\n\r\n    class MyResult {\r\n        final val1;\r\n        final val2;\r\n        public MyResult(int val1, int val2) {\r\n            this.val1 = val1;\r\n            this.val2 = val2;\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-","title":"How to get the object on a specific thread?","body":"<p>Threads are Runnable, but not all Runnables are Threads. When you submit a Runnable to a thread pool the expectation is that the pool supplies the actual thread, your Runnable is only a task intended to be executed by some thread. When the thread pool worker that is assigned your task finishes processing it, it grabs another task and it doesn't have your Runnable anymore.</p>\n<p>You could keep a reference to your Runnable, but then you'd have to deal with updates made across threads and we'd have to deal with using volatile, AtomicInteger, or whatever. Your code doesn't just automatically see changes made by another thread, the JVM needs specific signs that it looks out for. The whole model of submitting a runnable to a pool, then looking at the runnable later is very ugly and error-prone.</p>\n<p>If you change your Runnable into a Callable and have it use a Future to return the int you need back, then the memory visibility issues will be handled for you.</p>\n<p>Pass the Callable into <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#submit-java.util.concurrent.Callable-\" rel=\"nofollow noreferrer\">the ExecutorService submit method that returns a Future</a>. You can call isDone on the Future to see if the task is completed yet, then call get on it to retrieve the value returned from the Callable.</p>\n<p>I'm not clear on what exactly you want to find in the task after it has been executed. My advice is make a separate immutable object with the values you want. Here I'm calling it MyResult. so the Callable would look like this:</p>\n<pre><code>class MyObj implements Callable&lt;MyResult&gt; {{\n    \n    int m_id;\n    MyObj(int id) {n_id = id}\n    \n    @Override\n    public MyResult call() { \n        return new MyResult(1,2);\n    }\n}\n\nclass MyResult {\n    final val1;\n    final val2;\n    public MyResult(int val1, int val2) {\n        this.val1 = val1;\n        this.val2 = val2;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1975034,"reputation":961,"user_id":1773011,"accept_rate":85,"display_name":"lightrek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71414008,"answer_count":1,"score":1,"last_activity_date":1646851026,"creation_date":1646847854,"question_id":71413763,"body_markdown":"I have a runnable created by ThreadPoolExecutor.execute\r\n\r\nfor example:\r\n\r\n    class myObj implements Runnable{{\r\n       int m_id;\r\n       myObj(int id) {n_id = id}\r\n       @Override\r\n        public void run() { }\r\n    }\r\n    \r\n    m_threadPoolTaskExecutor.execute(\r\n        new myObj(9);\r\n    );\r\n\r\nThen after the run, how can I get the myObj instance from that thread? So can I iterate through the thread pool and find mObj that matches the m_id == 9?\r\n","title":"How to get the object on a specific thread?","body":"<p>I have a runnable created by ThreadPoolExecutor.execute</p>\n<p>for example:</p>\n<pre><code>class myObj implements Runnable{{\n   int m_id;\n   myObj(int id) {n_id = id}\n   @Override\n    public void run() { }\n}\n\nm_threadPoolTaskExecutor.execute(\n    new myObj(9);\n);\n</code></pre>\n<p>Then after the run, how can I get the myObj instance from that thread? So can I iterate through the thread pool and find mObj that matches the m_id == 9?</p>\n"},{"tags":["java","eclipse","if-statement"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1646850548,"post_id":71414260,"comment_id":126228298,"body_markdown":"Do you want to output the score really that often? Each time you decrease it, you also output it.","body":"Do you want to output the score really that often? Each time you decrease it, you also output it."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1646850647,"post_id":71414260,"comment_id":126228324,"body_markdown":"Debug you code. Hint: Review.split(&quot;\\n&quot;) vs  Review.split(&quot;\\\\s+&quot;).","body":"Debug you code. Hint: Review.split(&quot;\\n&quot;) vs  Review.split(&quot;\\\\s+&quot;)."},{"owner":{"account_id":17879137,"reputation":35,"user_id":12988414,"display_name":"Kirsty Liv"},"score":0,"creation_date":1646850675,"post_id":71414260,"comment_id":126228337,"body_markdown":"I&#39;ll probably remove it at some point but it helps me see that the code is working as expected","body":"I&#39;ll probably remove it at some point but it helps me see that the code is working as expected"},{"owner":{"account_id":552427,"reputation":11380,"user_id":917548,"display_name":"Roger Lindsj&#246;"},"score":0,"creation_date":1646851258,"post_id":71414260,"comment_id":126228496,"body_markdown":"Once you split on word boundaries you probably want to use `s.equals(&quot;me&quot;)` instead of contains unless yo want to deduct &quot;me&quot; points for words such as &quot;mesmerised&quot;.","body":"Once you split on word boundaries you probably want to use <code>s.equals(&quot;me&quot;)</code> instead of contains unless yo want to deduct &quot;me&quot; points for words such as &quot;mesmerised&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646850870,"creation_date":1646850870,"answer_id":71414396,"question_id":71414260,"body_markdown":"First you should return the review score from your method `verbcount`.\r\n\r\nSecond you split the text twice, once by word boundaries (&quot;\\s+&quot;), but inside your method `verbcount` you split it by newlines (&quot;\\n&quot;) and therefore the method is not working as intended.\r\n\r\nInstead of the string to review, pass the `words` array into that method and don&#39;t split it again!\r\n\r\nThird your ifs are nested, so the `s.contains (&quot;I&quot;)` will only be checked, if also `s.contains(&quot;me&quot;)` - this can happen because you split by lines, but only once per line. Also once you split words, you will never get into that second if-branch.\r\nPull it up one level to be in parallel to the first `if` inside the method.","title":"If statement in for loop only running once in JAVA","body":"<p>First you should return the review score from your method <code>verbcount</code>.</p>\n<p>Second you split the text twice, once by word boundaries (&quot;\\s+&quot;), but inside your method <code>verbcount</code> you split it by newlines (&quot;\\n&quot;) and therefore the method is not working as intended.</p>\n<p>Instead of the string to review, pass the <code>words</code> array into that method and don't split it again!</p>\n<p>Third your ifs are nested, so the <code>s.contains (&quot;I&quot;)</code> will only be checked, if also <code>s.contains(&quot;me&quot;)</code> - this can happen because you split by lines, but only once per line. Also once you split words, you will never get into that second if-branch.\nPull it up one level to be in parallel to the first <code>if</code> inside the method.</p>\n"}],"owner":{"account_id":17879137,"reputation":35,"user_id":12988414,"display_name":"Kirsty Liv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71414396,"answer_count":1,"score":0,"last_activity_date":1646850870,"creation_date":1646850218,"question_id":71414260,"body_markdown":"Im trying to make an if statement that deducts 2 points for each time the verb &#39;me&#39; or &#39;I&#39; is found in a string. To do this I have split the string into separate words. To test I changed the string to have 2x &quot;me&quot;. But the score is only deducted once instead of twice (as there are 2 x &quot;me&quot;). Tried adding a while loop but it just kept deducting until negative. Baby language please, I am a beginner coder. Thanks in advance\r\n\r\n    public static void main(String[] args) { //getWordLength() { // Checking word length. Less than 6 means reviewer can&#39;t weigh out positives and negatives\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\t int ReviewScore = 30;\r\n\t\t\t\r\n\t\t\t String Review = &quot;me I me, from Montreal&quot;;\r\n\t\t\t String[] words = Review.split(&quot;\\\\s+&quot;);\r\n\t\t\t \r\n\t\t\t  System.out.println(&quot;Word Count is: &quot;+words.length);\r\n\t\t\t   int wordlength = Integer.valueOf(words.length);\r\n\t\t\t  \r\n\t\t\t   \r\n\t\t\t  \tif (wordlength&lt; 6) { \r\n\t\t\t  \t\t ReviewScore -=4; // deducts 4pts if review less than 6 words\r\n\t\t\t   \t\tSystem.out.println(&quot;Score is &quot;+ ReviewScore);\r\n\t\t\t   \t\t\r\n\t\t\t    }\r\n\t\t\t  \tverbCount( ReviewScore,Review);\r\n\t\t\t  \t\r\n\t\t}\r\n\t\t\r\n\t\t\tpublic static  void verbCount (int ReviewScore, String Review) { //Count verbs &#39;I&#39; or &#39;me&#39;\r\n\t\t\r\n\t\t\tfor (String s : Review.split(&quot;\\n&quot;) ) { // splits review into separate words\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\tif (s.contains(&quot;me&quot; )){ // Checks for &#39;me&#39; or &#39;I&#39;\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tReviewScore -= 2;\r\n\t\t\t\t\tSystem.out.println(&quot;Score is &quot;+ ReviewScore); // deducts by 2 pts \r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( s.contains (&quot;I&quot;)) {\r\n\t\t\t\t\t\tReviewScore -= 2;\r\n\t\t\t\t\t\tSystem.out.println(&quot;Score is &quot;+ ReviewScore);\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n \r\n\t\t    }\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n}\r\n\r\n      ","title":"If statement in for loop only running once in JAVA","body":"<p>Im trying to make an if statement that deducts 2 points for each time the verb 'me' or 'I' is found in a string. To do this I have split the string into separate words. To test I changed the string to have 2x &quot;me&quot;. But the score is only deducted once instead of twice (as there are 2 x &quot;me&quot;). Tried adding a while loop but it just kept deducting until negative. Baby language please, I am a beginner coder. Thanks in advance</p>\n<pre><code>public static void main(String[] args) { //getWordLength() { // Checking word length. Less than 6 means reviewer can't weigh out positives and negatives\n        // TODO Auto-generated method stub\n         int ReviewScore = 30;\n        \n         String Review = &quot;me I me, from Montreal&quot;;\n         String[] words = Review.split(&quot;\\\\s+&quot;);\n         \n          System.out.println(&quot;Word Count is: &quot;+words.length);\n           int wordlength = Integer.valueOf(words.length);\n          \n           \n            if (wordlength&lt; 6) { \n                 ReviewScore -=4; // deducts 4pts if review less than 6 words\n                System.out.println(&quot;Score is &quot;+ ReviewScore);\n                \n            }\n            verbCount( ReviewScore,Review);\n            \n    }\n    \n        public static  void verbCount (int ReviewScore, String Review) { //Count verbs 'I' or 'me'\n    \n        for (String s : Review.split(&quot;\\n&quot;) ) { // splits review into separate words\n            \n        \n            if (s.contains(&quot;me&quot; )){ // Checks for 'me' or 'I'\n            \n                \n                ReviewScore -= 2;\n                System.out.println(&quot;Score is &quot;+ ReviewScore); // deducts by 2 pts \n                \n                \n                if ( s.contains (&quot;I&quot;)) {\n                    ReviewScore -= 2;\n                    System.out.println(&quot;Score is &quot;+ ReviewScore);\n                \n                }\n\n        }\n    \n    \n}\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","encryption","aes","rsa"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1646851811,"post_id":71414347,"comment_id":126228673,"body_markdown":"It&#39;s best not to call it PGP, which most people would take as a reference to code that complies with the OpenPGP standard. Also, you must encrypt with the recipient&#39;s public key, not theirs or yours private key.","body":"It&#39;s best not to call it PGP, which most people would take as a reference to code that complies with the OpenPGP standard. Also, you must encrypt with the recipient&#39;s public key, not theirs or yours private key."},{"owner":{"account_id":24506835,"reputation":1,"user_id":18421732,"display_name":"alexg"},"score":0,"creation_date":1646930031,"post_id":71414347,"comment_id":126250763,"body_markdown":"@PresidentJamesK.Polk Thanks Mr. President, I will change that","body":"@PresidentJamesK.Polk Thanks Mr. President, I will change that"}],"owner":{"account_id":24506835,"reputation":1,"user_id":18421732,"display_name":"alexg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646850670,"creation_date":1646850670,"question_id":71414347,"body_markdown":"I am making a PGP program for a school class, however I am having some trouble unwrapping and wrapping keys. I am encrypting the text with a random aes key, then wrapping the aes key with the private key from the KeyPair. To decrypt, I am unwrapping the aes key with the public key from the KeyPair, however I am getting the **Key is too long for unwrapping** error. I checked out [this question](https://stackoverflow.com/questions/26237273/spring-saml-key-is-too-long-for-unwrapping-invalidkeyexception), but I am pretty sure I am using the correct keys to unwrap and wrap. Here is my code for wrapping and unwrapping\r\n\r\n```    \r\nbyte[] returnWrappedKey(Key keyToWrap, Key keyForWrapping) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException {\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n    cipher.init(Cipher.WRAP_MODE, keyForWrapping);\r\n    return cipher.wrap(keyToWrap);\r\n}\r\nKey returnUnwrappedKey(byte[] keyToUnwrap, Key keyForUnwrapping) throws IllegalBlockSizeException, BadPaddingException, InvalidKeyException, NoSuchPaddingException, NoSuchAlgorithmException, NoSuchProviderException {\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n    cipher.init(Cipher.UNWRAP_MODE, keyForUnwrapping);\r\n    return cipher.unwrap(keyToUnwrap, &quot;AES&quot;, Cipher.SECRET_KEY);\r\n}\r\n```\r\n\r\nI pass in the public or private keyFor(Un)Wrapping, yet whichever way I do it I get the error. I am using swing to have the user input a key, and ```.getBytes()``` to get the key for unwrapping.\r\n\r\nFull code **(Not sure if this is helpful)**\r\n\r\n```\r\nimport org.jetbrains.annotations.*;\r\n\r\nimport javax.crypto.*;\r\nimport javax.swing.*;\r\nimport javax.swing.filechooser.*;\r\nimport java.awt.*;\r\nimport java.awt.datatransfer.*;\r\nimport java.io.*;\r\nimport java.nio.charset.*;\r\nimport java.nio.file.*;\r\nimport java.security.*;\r\nimport java.security.spec.*;\r\nimport java.util.*;\r\n\r\npublic class run {\r\n    /**\r\n     * Variable State meaning\r\n     * 1: Key is Public\r\n     * 2: Key is Private\r\n     * 3: Key is not defined as either public or private\r\n     */\r\n    static int keyState = 3;\r\n    static int AESKeyState = 3;\r\n    static byte[] operationBytes;\r\n    static PublicKey operationalPubKey;\r\n    static PrivateKey operationalPrvKey;\r\n    static Key operationalAESKey;\r\n    static final gui window = new gui();\r\n    static rsaEncryption rsaMethods = new rsaEncryption();\r\n    static aesEncryption aesMethods = new aesEncryption();\r\n\r\n    public static void main(String[] args) {\r\n        JFileChooser fileChooser = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\r\n        fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);\r\n        window.createSignature.addActionListener(e -&gt; {\r\n            KeyPair pair = null;\r\n            try {\r\n                pair = rsaMethods.generateKeyPair();\r\n            } catch (NoSuchAlgorithmException noSuchAlgorithmException) {\r\n                displayError(noSuchAlgorithmException);\r\n            }\r\n            assert pair != null;\r\n            window.publicKeyOutputArea.setText(rsaMethods.generatePublicKeyString(pair.getPublic()));\r\n            window.privateKeyOutputArea.setText(rsaMethods.generatePrivateKeyString(pair.getPrivate()));\r\n        });\r\n        window.copyPublicKeyToClipboard.addActionListener(e -&gt; rsaMethods.copyDataToClipboard(window.publicKeyOutputArea.getText()));\r\n        window.copyPrivateKeyToClipboard.addActionListener(e -&gt; rsaMethods.copyDataToClipboard(window.privateKeyOutputArea.getText()));\r\n        window.exportPublicKeyToFile.addActionListener(e -&gt; {\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.publicKeyOutputArea.getText());\r\n                } catch (IOException ioException) {\r\n                    displayError(ioException);\r\n                }\r\n            }\r\n        });\r\n        window.exportPrivateKeyToFile.addActionListener(e -&gt; {\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.privateKeyOutputArea.getText());\r\n                } catch (IOException ioException) {\r\n                    displayError(ioException);\r\n                }\r\n            }\r\n        });\r\n        window.importPublicKeyFromFile.addActionListener(e -&gt; {\r\n            PublicKey publicKey = null;\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    publicKey = rsaMethods.getPublicKeyFromFile(fileChooser.getSelectedFile());\r\n                } catch (NoSuchAlgorithmException | IOException | InvalidKeySpecException noSuchAlgorithmException) {\r\n                    displayError(noSuchAlgorithmException);\r\n                }\r\n            }\r\n            assert publicKey != null;\r\n            window.pasteKeyForOperation.setText(rsaMethods.generatePublicKeyString(publicKey));\r\n            keyState = 1;\r\n        });\r\n        window.importPrivateKeyFromFile.addActionListener(e -&gt; {\r\n            PrivateKey privateKey = null;\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    privateKey = rsaMethods.getPrivateKeyFromFile(fileChooser.getSelectedFile());\r\n                } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException ioException) {\r\n                    displayError(ioException);\r\n                }\r\n            }\r\n            assert privateKey != null;\r\n            window.pasteKeyForOperation.setText(rsaMethods.generatePrivateKeyString(privateKey));\r\n            keyState = 2;\r\n        });\r\n        window.checkKey.addActionListener(e -&gt; {\r\n            if (keyState == 3 &amp;&amp; window.pasteKeyForOperation.getText().equals(&quot;&quot;)) {\r\n                JOptionPane.showMessageDialog(null, &quot;You have not input a valid key!&quot;);\r\n            } else {\r\n                if (window.publicKeyPasteSelection.isSelected()) {\r\n                    try {\r\n                        operationalPubKey = rsaMethods.getPubKeyFromString(window.pasteKeyForOperation.getText());\r\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException noSuchAlgorithmException) {\r\n                        displayError(noSuchAlgorithmException);\r\n                    }\r\n                    keyState = 1;\r\n                    window.pasteKeyForOperation.setText(&quot;&quot;);\r\n                    AESKeyState = 3;\r\n                } else if (window.privateKeyPasteSelection.isSelected()) {\r\n                    try {\r\n                        operationalPrvKey = rsaMethods.getPrvKeyFromString(window.pasteKeyForOperation.getText());\r\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException noSuchAlgorithmException) {\r\n                        displayError(noSuchAlgorithmException);\r\n                    }\r\n                    keyState = 2;\r\n                    window.pasteKeyForOperation.setText(&quot;&quot;);\r\n                    AESKeyState = 3;\r\n                }\r\n            }\r\n        });\r\n        window.checkAESKey.addActionListener(e -&gt; {\r\n            if (keyState == 3) {\r\n                JOptionPane.showMessageDialog(null, &quot;You need to first input a RSA Key and select public or private!&quot;);\r\n            } else if (Objects.equals(window.pasteKeyForOperation.getText(), &quot;&quot;)) {\r\n                JOptionPane.showMessageDialog(null, &quot;You have not input a key!&quot;);\r\n            } else if (keyState == 1) {\r\n                try {\r\n                    operationalAESKey = rsaMethods.returnUnwrappedKey(window.pasteKeyForOperation.getText().getBytes(), operationalPubKey);\r\n                } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException | NoSuchProviderException ex) {\r\n                    displayError(ex);\r\n                }\r\n                AESKeyState = 1;\r\n            } else if (keyState == 2) {\r\n                try {\r\n                    operationalAESKey = rsaMethods.returnUnwrappedKey(window.pasteKeyForOperation.getText().getBytes(), operationalPrvKey);\r\n                } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException | NoSuchProviderException ex) {\r\n                    displayError(ex);\r\n                }\r\n                AESKeyState = 2;\r\n            }\r\n        });\r\n        window.operationDataFileImport.addActionListener(e -&gt; {\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                window.operationPlainTextInput.setText(&quot;Data received from file import&quot;);\r\n            }\r\n            try {\r\n                operationBytes = rsaMethods.importDataFromFile(fileChooser.getSelectedFile());\r\n            } catch (IOException ioException) {\r\n                displayError(ioException);\r\n            }\r\n        });\r\n        window.encryptDataButton.addActionListener(e -&gt; {\r\n            if (operationBytes == null) {\r\n                operationBytes = window.operationPlainTextInput.getText().getBytes(StandardCharsets.UTF_8);\r\n            }\r\n            try {\r\n                encryptData();\r\n            } catch (NoSuchPaddingException | IllegalBlockSizeException | NoSuchAlgorithmException | BadPaddingException | InvalidKeyException | NoSuchProviderException noSuchPaddingException) {\r\n                displayError(noSuchPaddingException);\r\n            }\r\n        });\r\n        window.decryptDataButton.addActionListener(e -&gt; {\r\n            if (operationBytes == null) {\r\n                operationBytes = window.operationPlainTextInput.getText().getBytes(StandardCharsets.UTF_8);\r\n            }\r\n            try {\r\n                decryptData();\r\n            } catch (IllegalBlockSizeException | NoSuchPaddingException | BadPaddingException | NoSuchAlgorithmException | InvalidKeyException | NoSuchProviderException illegalBlockSizeException) {\r\n                displayError(illegalBlockSizeException);\r\n            }\r\n        });\r\n        window.operationDataFileExport.addActionListener(e -&gt; {\r\n            int choice = fileChooser.showOpenDialog(null);\r\n            if (choice == JFileChooser.APPROVE_OPTION) {\r\n                try {\r\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.operationPlainTextOutput.getText());\r\n                } catch (IOException ioException) {\r\n                    displayError(ioException);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Sets the plain text output of the operationPlainTextOutput\r\n     * panel to the decrypted or encrypted data encoded in\r\n     * Base64 using the key input from the user.\r\n     *\r\n     * @throws IllegalBlockSizeException Throws IllegalBlockSizeException.\r\n     * @throws NoSuchPaddingException Throws NoSuchPaddingException.\r\n     * @throws BadPaddingException Throws BadPaddingException.\r\n     * @throws NoSuchAlgorithmException Throws NoSuchAlgorithmException.\r\n     * @throws InvalidKeyException Throws InvalidKeyException.\r\n     */\r\n    private static void encryptData() throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException, InvalidKeyException, NoSuchProviderException {\r\n        operationBytes = window.operationPlainTextInput.getText().getBytes();\r\n        SecretKey key = aesMethods.returnKey();\r\n        window.operationPlainTextOutput.setText(Base64.getEncoder().encodeToString(aesMethods.returnEncryptedData(operationBytes, key)));\r\n        if (keyState == 1) {\r\n            byte[] bKey = rsaMethods.returnWrappedKey(key, operationalPubKey);\r\n            JOptionPane.showMessageDialog(null, &quot;Your AES key (RSA PUB KEY) has been copied to your clipboard!&quot;);\r\n            rsaMethods.copyDataToClipboard(Base64.getEncoder().encodeToString(bKey));\r\n            keyState = 3;\r\n        } else if (keyState == 2) {\r\n            byte[] bKey = rsaMethods.returnWrappedKey(key, operationalPrvKey);\r\n            JOptionPane.showMessageDialog(null, &quot;Your AES key (RSA PRV KEY) has been copied to your clipboard!&quot;);\r\n            rsaMethods.copyDataToClipboard(Base64.getEncoder().encodeToString(bKey));\r\n            keyState = 3;\r\n        } else {\r\n            JOptionPane.showMessageDialog(null, &quot;You have not input a key!&quot;);\r\n        }\r\n    }\r\n    private static void decryptData() throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException, InvalidKeyException, NoSuchProviderException {\r\n        operationBytes = window.operationPlainTextInput.getText().getBytes();\r\n        Key key = operationalAESKey;\r\n        if (AESKeyState == 1 || AESKeyState == 2) {\r\n            window.operationPlainTextOutput.setText(Base64.getEncoder().encodeToString(aesMethods.returnDecryptedData(window.operationPlainTextInput.getText().getBytes(), key)));\r\n        } else {\r\n            JOptionPane.showMessageDialog(null, &quot;You have not input a AES key!&quot;);\r\n        }\r\n    }\r\n    private static void displayError(@NotNull Exception e) {\r\n        System.out.println(keyState);\r\n        e.printStackTrace();\r\n        JOptionPane.showMessageDialog(null, e.getMessage());\r\n    }\r\n}\r\n\r\nclass rsaEncryption {\r\n    KeyPair generateKeyPair() throws NoSuchAlgorithmException {\r\n        SecureRandom random = new SecureRandom();\r\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        generator.initialize(2048, random);\r\n        return generator.generateKeyPair();\r\n    }\r\n    PublicKey getPublicKeyFromFile(@NotNull File file) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\r\n        return KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(Files.readAllBytes(file.toPath())));\r\n    }\r\n    PrivateKey getPrivateKeyFromFile(@NotNull File file) throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        return KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(Files.readAllBytes(file.toPath())));\r\n    }\r\n    void copyDataToClipboard(String string) {\r\n        StringSelection selection = new StringSelection(string);\r\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n        clipboard.setContents(selection, null);\r\n    }\r\n    String generatePrivateKeyString(@NotNull PrivateKey privateKey) {\r\n        return Base64.getEncoder().encodeToString(privateKey.getEncoded());\r\n    }\r\n    String generatePublicKeyString(@NotNull PublicKey publicKey) {\r\n        return Base64.getEncoder().encodeToString(publicKey.getEncoded());\r\n    }\r\n    byte[] returnWrappedKey(Key keyToWrap, Key keyForWrapping) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.WRAP_MODE, keyForWrapping);\r\n        return cipher.wrap(keyToWrap);\r\n    }\r\n    Key returnUnwrappedKey(byte[] keyToUnwrap, Key keyForUnwrapping) throws IllegalBlockSizeException, BadPaddingException, InvalidKeyException, NoSuchPaddingException, NoSuchAlgorithmException, NoSuchProviderException {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.UNWRAP_MODE, keyForUnwrapping);\r\n        return cipher.unwrap(keyToUnwrap, &quot;AES&quot;, Cipher.SECRET_KEY);\r\n    }\r\n    byte[] importDataFromFile(File file) throws IOException {\r\n        FileInputStream fis = new FileInputStream(file);\r\n        return fis.readAllBytes();\r\n    }\r\n    void exportDataToFile(File file, String string) throws IOException {\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(file));\r\n        writer.write(string);\r\n        writer.flush();\r\n    }\r\n    PublicKey getPubKeyFromString(String string) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(string);\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return factory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\r\n    }\r\n    PrivateKey getPrvKeyFromString(String string) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        byte[] privateKeyBytes = Base64.getDecoder().decode(string);\r\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return factory.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\r\n    }\r\n}\r\nclass aesEncryption {\r\n    SecretKey returnKey() throws NoSuchAlgorithmException {\r\n        KeyGenerator gen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        gen.init(new SecureRandom());\r\n        return gen.generateKey();\r\n    }\r\n    byte[] returnEncryptedData(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key);\r\n        return cipher.doFinal(data);\r\n    }\r\n    byte[] returnDecryptedData(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, key);\r\n        return  cipher.doFinal(data);\r\n    }\r\n}\r\n\r\nclass gui {\r\n    public gui() {\r\n        initialize();\r\n    }\r\n\r\n    JFrame frame = new JFrame();\r\n    JButton createSignature = new JButton(&quot;Create!&quot;);\r\n    JTextArea privateKeyOutputArea = new JTextArea();\r\n    JTextArea publicKeyOutputArea = new JTextArea();\r\n    JButton exportPublicKeyToFile = new JButton(&quot;Export Key to File&quot;);\r\n    JButton copyPublicKeyToClipboard = new JButton(&quot;Copy Key to Clipboard&quot;);\r\n    JButton exportPrivateKeyToFile = new JButton(&quot;Export Key to File&quot;);\r\n    JButton copyPrivateKeyToClipboard = new JButton(&quot;Copy Key to Clipboard&quot;);\r\n    JButton importPublicKeyFromFile = new JButton(&quot;PubKey&quot;);\r\n    JButton importPrivateKeyFromFile = new JButton(&quot;PrvKey&quot;);\r\n    JRadioButton publicKeyPasteSelection = new JRadioButton(&quot;PUBLIC KEY&quot;);\r\n    JRadioButton privateKeyPasteSelection = new JRadioButton(&quot;PRIVATE KEY&quot;);\r\n    JTextField pasteKeyForOperation = new JTextField();\r\n    JTextArea operationPlainTextInput = new JTextArea();\r\n    JTextArea operationPlainTextOutput = new JTextArea();\r\n    JButton encryptDataButton = new JButton(&quot;Encrypt&quot;);\r\n    JButton decryptDataButton = new JButton(&quot;Decrypt&quot;);\r\n    JButton operationDataFileImport = new JButton(&quot;Import Data From File&quot;);\r\n    JButton operationDataFileExport = new JButton(&quot;Export Data To File&quot;);\r\n    JButton checkKey = new JButton(&quot;Check Key&quot;);\r\n    JButton checkAESKey = new JButton(&quot;AES Key&quot;);\r\n\r\n    private void initialize() {\r\n        frame.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 12));\r\n        frame.setTitle(&quot;RSA SIGNATURE MANAGER&quot;);\r\n        frame.setBounds(100, 100, 619, 495);\r\n        frame.setResizable(false);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP);\r\n        frame.getContentPane().add(tabbedPane, BorderLayout.CENTER);\r\n\r\n        JPanel signatureCreationPanel = new JPanel();\r\n        signatureCreationPanel.setBackground(Color.DARK_GRAY);\r\n        tabbedPane.addTab(&quot;Create New Signature&quot;, null, signatureCreationPanel, null);\r\n        signatureCreationPanel.setLayout(null);\r\n\r\n        JLabel createNewPgpSignature = new JLabel(&quot;Create New PGP Signature&quot;);\r\n        createNewPgpSignature.setForeground(Color.WHITE);\r\n        createNewPgpSignature.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 24));\r\n        createNewPgpSignature.setBounds(10, 11, 391, 30);\r\n        signatureCreationPanel.add(createNewPgpSignature);\r\n\r\n        createSignature.setBackground(Color.BLACK);\r\n        createSignature.setForeground(Color.WHITE);\r\n        createSignature.setBounds(379, 17, 188, 23);\r\n        signatureCreationPanel.add(createSignature);\r\n\r\n        JScrollPane scrollPane = new JScrollPane(privateKeyOutputArea);\r\n        scrollPane.setBounds(306, 103, 282, 282);\r\n        privateKeyOutputArea.setEditable(false);\r\n        privateKeyOutputArea.add(new JScrollBar());\r\n        privateKeyOutputArea.setLineWrap(true);\r\n        privateKeyOutputArea.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\r\n        privateKeyOutputArea.setBackground(Color.BLACK);\r\n        privateKeyOutputArea.setForeground(Color.WHITE);\r\n        signatureCreationPanel.add(scrollPane);\r\n\r\n        publicKeyOutputArea.setEditable(false);\r\n        publicKeyOutputArea.setLineWrap(true);\r\n        publicKeyOutputArea.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\r\n        publicKeyOutputArea.setBackground(Color.BLACK);\r\n        publicKeyOutputArea.setForeground(Color.WHITE);\r\n        publicKeyOutputArea.setBounds(10, 103, 286, 282);\r\n        signatureCreationPanel.add(publicKeyOutputArea);\r\n\r\n        exportPublicKeyToFile.setBackground(Color.BLACK);\r\n        exportPublicKeyToFile.setForeground(Color.WHITE);\r\n        exportPublicKeyToFile.setBounds(10, 396, 136, 23);\r\n        signatureCreationPanel.add(exportPublicKeyToFile);\r\n\r\n        copyPublicKeyToClipboard.setBackground(Color.BLACK);\r\n        copyPublicKeyToClipboard.setForeground(Color.WHITE);\r\n        copyPublicKeyToClipboard.setBounds(156, 396, 140, 23);\r\n        signatureCreationPanel.add(copyPublicKeyToClipboard);\r\n\r\n        exportPrivateKeyToFile.setBackground(Color.BLACK);\r\n        exportPrivateKeyToFile.setForeground(Color.WHITE);\r\n        exportPrivateKeyToFile.setBounds(306, 396, 136, 23);\r\n        signatureCreationPanel.add(exportPrivateKeyToFile);\r\n\r\n        copyPrivateKeyToClipboard.setBackground(Color.BLACK);\r\n        copyPrivateKeyToClipboard.setForeground(Color.WHITE);\r\n        copyPrivateKeyToClipboard.setBounds(448, 396, 140, 23);\r\n        signatureCreationPanel.add(copyPrivateKeyToClipboard);\r\n\r\n        JLabel publicKeyCreationContext = new JLabel(&quot;Public Key:&quot;);\r\n        publicKeyCreationContext.setForeground(Color.WHITE);\r\n        publicKeyCreationContext.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 16));\r\n        publicKeyCreationContext.setBounds(10, 69, 136, 23);\r\n        signatureCreationPanel.add(publicKeyCreationContext);\r\n\r\n        JLabel privateKeyCreationContext = new JLabel(&quot;Private Key:&quot;);\r\n        privateKeyCreationContext.setForeground(Color.WHITE);\r\n        privateKeyCreationContext.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 16));\r\n        privateKeyCreationContext.setBounds(306, 69, 136, 23);\r\n        signatureCreationPanel.add(privateKeyCreationContext);\r\n\r\n        JPanel operationPanel = new JPanel();\r\n        operationPanel.setBackground(Color.DARK_GRAY);\r\n        tabbedPane.addTab(&quot;Encrypt or Decrypt&quot;, null, operationPanel, null);\r\n        operationPanel.setLayout(null);\r\n\r\n        importPublicKeyFromFile.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\r\n        importPublicKeyFromFile.setForeground(Color.WHITE);\r\n        importPublicKeyFromFile.setBackground(Color.BLACK);\r\n        importPublicKeyFromFile.setBounds(10, 11, 100, 26);\r\n        operationPanel.add(importPublicKeyFromFile);\r\n\r\n        importPrivateKeyFromFile.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\r\n        importPrivateKeyFromFile.setForeground(Color.WHITE);\r\n        importPrivateKeyFromFile.setBackground(Color.BLACK);\r\n        importPrivateKeyFromFile.setBounds(120, 11, 100, 26);\r\n        operationPanel.add(importPrivateKeyFromFile);\r\n\r\n        pasteKeyForOperation.setForeground(Color.WHITE);\r\n        pasteKeyForOperation.setBackground(Color.BLACK);\r\n        pasteKeyForOperation.setToolTipText(&quot;Paste Key Here&quot;);\r\n        pasteKeyForOperation.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 18));\r\n        pasteKeyForOperation.setBounds(230, 11, 200, 26);\r\n        operationPanel.add(pasteKeyForOperation);\r\n\r\n        privateKeyPasteSelection.setForeground(Color.WHITE);\r\n        privateKeyPasteSelection.setBackground(Color.DARK_GRAY);\r\n        privateKeyPasteSelection.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 14));\r\n        privateKeyPasteSelection.setBounds(170, 40, 125, 26);\r\n        operationPanel.add(privateKeyPasteSelection);\r\n\r\n        publicKeyPasteSelection.setForeground(Color.WHITE);\r\n        publicKeyPasteSelection.setBackground(Color.DARK_GRAY);\r\n        publicKeyPasteSelection.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 14));\r\n        publicKeyPasteSelection.setBounds(290, 40, 150, 26);\r\n        operationPanel.add(publicKeyPasteSelection);\r\n\r\n        ButtonGroup group = new ButtonGroup();\r\n        group.add(privateKeyPasteSelection);\r\n        group.add(publicKeyPasteSelection);\r\n\r\n        checkKey.setBackground(Color.BLACK);\r\n        checkKey.setForeground(Color.WHITE);\r\n        checkKey.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\r\n        checkKey.setBounds(440, 11, 140, 26);\r\n        operationPanel.add(checkKey);\r\n\r\n        checkAESKey.setBackground(Color.BLACK);\r\n        checkAESKey.setForeground(Color.white);\r\n        checkAESKey.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\r\n        checkAESKey.setBounds(440, 39, 140, 26);\r\n        operationPanel.add(checkAESKey);\r\n\r\n        JScrollPane operationInputScrollPane = new JScrollPane(operationPlainTextInput);\r\n        operationInputScrollPane.setBounds(10, 102, 280, 256);\r\n        operationPlainTextInput.setLineWrap(true);\r\n        operationPlainTextInput.setBackground(Color.BLACK);\r\n        operationPlainTextInput.setForeground(Color.WHITE);\r\n        operationPanel.add(operationInputScrollPane);\r\n\r\n        JScrollPane operationOutputScrollPane = new JScrollPane(operationPlainTextOutput);\r\n        operationOutputScrollPane.setBounds(308, 102, 280, 256);\r\n        operationPlainTextOutput.setLineWrap(true);\r\n        operationPlainTextOutput.setEditable(false);\r\n        operationPlainTextOutput.setForeground(Color.WHITE);\r\n        operationPlainTextOutput.setBackground(Color.BLACK);\r\n        operationPanel.add(operationOutputScrollPane);\r\n\r\n        JLabel whereToPasteDataLabel = new JLabel(&quot;Paste data here:&quot;);\r\n        whereToPasteDataLabel.setForeground(Color.WHITE);\r\n        whereToPasteDataLabel.setBackground(Color.BLACK);\r\n        whereToPasteDataLabel.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 14));\r\n        whereToPasteDataLabel.setBounds(20, 78, 142, 14);\r\n        operationPanel.add(whereToPasteDataLabel);\r\n\r\n        JLabel operationOutputLabel = new JLabel(&quot;Output in Plaintext:&quot;);\r\n        operationOutputLabel.setForeground(Color.WHITE);\r\n        operationOutputLabel.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 14));\r\n        operationOutputLabel.setBackground(Color.BLACK);\r\n        operationOutputLabel.setBounds(319, 78, 250, 14);\r\n        operationPanel.add(operationOutputLabel);\r\n\r\n        encryptDataButton.setForeground(Color.WHITE);\r\n        encryptDataButton.setBackground(Color.BLACK);\r\n        encryptDataButton.setBounds(257, 369, 89, 23);\r\n        operationPanel.add(encryptDataButton);\r\n\r\n        decryptDataButton.setForeground(Color.WHITE);\r\n        decryptDataButton.setBackground(Color.BLACK);\r\n        decryptDataButton.setBounds(257, 396, 89, 23);\r\n        operationPanel.add(decryptDataButton);\r\n\r\n        operationDataFileImport.setForeground(Color.WHITE);\r\n        operationDataFileImport.setBackground(Color.BLACK);\r\n        operationDataFileImport.setBounds(10, 369, 170, 23);\r\n        operationPanel.add(operationDataFileImport);\r\n\r\n        operationDataFileExport.setForeground(Color.WHITE);\r\n        operationDataFileExport.setBackground(Color.BLACK);\r\n        operationDataFileExport.setBounds(436, 369, 152, 23);\r\n        operationPanel.add(operationDataFileExport);\r\n\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n","title":"Key too long for unwrapping","body":"<p>I am making a PGP program for a school class, however I am having some trouble unwrapping and wrapping keys. I am encrypting the text with a random aes key, then wrapping the aes key with the private key from the KeyPair. To decrypt, I am unwrapping the aes key with the public key from the KeyPair, however I am getting the <strong>Key is too long for unwrapping</strong> error. I checked out <a href=\"https://stackoverflow.com/questions/26237273/spring-saml-key-is-too-long-for-unwrapping-invalidkeyexception\">this question</a>, but I am pretty sure I am using the correct keys to unwrap and wrap. Here is my code for wrapping and unwrapping</p>\n<pre><code>byte[] returnWrappedKey(Key keyToWrap, Key keyForWrapping) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException {\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n    cipher.init(Cipher.WRAP_MODE, keyForWrapping);\n    return cipher.wrap(keyToWrap);\n}\nKey returnUnwrappedKey(byte[] keyToUnwrap, Key keyForUnwrapping) throws IllegalBlockSizeException, BadPaddingException, InvalidKeyException, NoSuchPaddingException, NoSuchAlgorithmException, NoSuchProviderException {\n    Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n    cipher.init(Cipher.UNWRAP_MODE, keyForUnwrapping);\n    return cipher.unwrap(keyToUnwrap, &quot;AES&quot;, Cipher.SECRET_KEY);\n}\n</code></pre>\n<p>I pass in the public or private keyFor(Un)Wrapping, yet whichever way I do it I get the error. I am using swing to have the user input a key, and <code>.getBytes()</code> to get the key for unwrapping.</p>\n<p>Full code <strong>(Not sure if this is helpful)</strong></p>\n<pre><code>import org.jetbrains.annotations.*;\n\nimport javax.crypto.*;\nimport javax.swing.*;\nimport javax.swing.filechooser.*;\nimport java.awt.*;\nimport java.awt.datatransfer.*;\nimport java.io.*;\nimport java.nio.charset.*;\nimport java.nio.file.*;\nimport java.security.*;\nimport java.security.spec.*;\nimport java.util.*;\n\npublic class run {\n    /**\n     * Variable State meaning\n     * 1: Key is Public\n     * 2: Key is Private\n     * 3: Key is not defined as either public or private\n     */\n    static int keyState = 3;\n    static int AESKeyState = 3;\n    static byte[] operationBytes;\n    static PublicKey operationalPubKey;\n    static PrivateKey operationalPrvKey;\n    static Key operationalAESKey;\n    static final gui window = new gui();\n    static rsaEncryption rsaMethods = new rsaEncryption();\n    static aesEncryption aesMethods = new aesEncryption();\n\n    public static void main(String[] args) {\n        JFileChooser fileChooser = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\n        fileChooser.setFileSelectionMode(JFileChooser.FILES_ONLY);\n        window.createSignature.addActionListener(e -&gt; {\n            KeyPair pair = null;\n            try {\n                pair = rsaMethods.generateKeyPair();\n            } catch (NoSuchAlgorithmException noSuchAlgorithmException) {\n                displayError(noSuchAlgorithmException);\n            }\n            assert pair != null;\n            window.publicKeyOutputArea.setText(rsaMethods.generatePublicKeyString(pair.getPublic()));\n            window.privateKeyOutputArea.setText(rsaMethods.generatePrivateKeyString(pair.getPrivate()));\n        });\n        window.copyPublicKeyToClipboard.addActionListener(e -&gt; rsaMethods.copyDataToClipboard(window.publicKeyOutputArea.getText()));\n        window.copyPrivateKeyToClipboard.addActionListener(e -&gt; rsaMethods.copyDataToClipboard(window.privateKeyOutputArea.getText()));\n        window.exportPublicKeyToFile.addActionListener(e -&gt; {\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.publicKeyOutputArea.getText());\n                } catch (IOException ioException) {\n                    displayError(ioException);\n                }\n            }\n        });\n        window.exportPrivateKeyToFile.addActionListener(e -&gt; {\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.privateKeyOutputArea.getText());\n                } catch (IOException ioException) {\n                    displayError(ioException);\n                }\n            }\n        });\n        window.importPublicKeyFromFile.addActionListener(e -&gt; {\n            PublicKey publicKey = null;\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    publicKey = rsaMethods.getPublicKeyFromFile(fileChooser.getSelectedFile());\n                } catch (NoSuchAlgorithmException | IOException | InvalidKeySpecException noSuchAlgorithmException) {\n                    displayError(noSuchAlgorithmException);\n                }\n            }\n            assert publicKey != null;\n            window.pasteKeyForOperation.setText(rsaMethods.generatePublicKeyString(publicKey));\n            keyState = 1;\n        });\n        window.importPrivateKeyFromFile.addActionListener(e -&gt; {\n            PrivateKey privateKey = null;\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    privateKey = rsaMethods.getPrivateKeyFromFile(fileChooser.getSelectedFile());\n                } catch (IOException | NoSuchAlgorithmException | InvalidKeySpecException ioException) {\n                    displayError(ioException);\n                }\n            }\n            assert privateKey != null;\n            window.pasteKeyForOperation.setText(rsaMethods.generatePrivateKeyString(privateKey));\n            keyState = 2;\n        });\n        window.checkKey.addActionListener(e -&gt; {\n            if (keyState == 3 &amp;&amp; window.pasteKeyForOperation.getText().equals(&quot;&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;You have not input a valid key!&quot;);\n            } else {\n                if (window.publicKeyPasteSelection.isSelected()) {\n                    try {\n                        operationalPubKey = rsaMethods.getPubKeyFromString(window.pasteKeyForOperation.getText());\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException noSuchAlgorithmException) {\n                        displayError(noSuchAlgorithmException);\n                    }\n                    keyState = 1;\n                    window.pasteKeyForOperation.setText(&quot;&quot;);\n                    AESKeyState = 3;\n                } else if (window.privateKeyPasteSelection.isSelected()) {\n                    try {\n                        operationalPrvKey = rsaMethods.getPrvKeyFromString(window.pasteKeyForOperation.getText());\n                    } catch (NoSuchAlgorithmException | InvalidKeySpecException noSuchAlgorithmException) {\n                        displayError(noSuchAlgorithmException);\n                    }\n                    keyState = 2;\n                    window.pasteKeyForOperation.setText(&quot;&quot;);\n                    AESKeyState = 3;\n                }\n            }\n        });\n        window.checkAESKey.addActionListener(e -&gt; {\n            if (keyState == 3) {\n                JOptionPane.showMessageDialog(null, &quot;You need to first input a RSA Key and select public or private!&quot;);\n            } else if (Objects.equals(window.pasteKeyForOperation.getText(), &quot;&quot;)) {\n                JOptionPane.showMessageDialog(null, &quot;You have not input a key!&quot;);\n            } else if (keyState == 1) {\n                try {\n                    operationalAESKey = rsaMethods.returnUnwrappedKey(window.pasteKeyForOperation.getText().getBytes(), operationalPubKey);\n                } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException | NoSuchProviderException ex) {\n                    displayError(ex);\n                }\n                AESKeyState = 1;\n            } else if (keyState == 2) {\n                try {\n                    operationalAESKey = rsaMethods.returnUnwrappedKey(window.pasteKeyForOperation.getText().getBytes(), operationalPrvKey);\n                } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException | NoSuchProviderException ex) {\n                    displayError(ex);\n                }\n                AESKeyState = 2;\n            }\n        });\n        window.operationDataFileImport.addActionListener(e -&gt; {\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                window.operationPlainTextInput.setText(&quot;Data received from file import&quot;);\n            }\n            try {\n                operationBytes = rsaMethods.importDataFromFile(fileChooser.getSelectedFile());\n            } catch (IOException ioException) {\n                displayError(ioException);\n            }\n        });\n        window.encryptDataButton.addActionListener(e -&gt; {\n            if (operationBytes == null) {\n                operationBytes = window.operationPlainTextInput.getText().getBytes(StandardCharsets.UTF_8);\n            }\n            try {\n                encryptData();\n            } catch (NoSuchPaddingException | IllegalBlockSizeException | NoSuchAlgorithmException | BadPaddingException | InvalidKeyException | NoSuchProviderException noSuchPaddingException) {\n                displayError(noSuchPaddingException);\n            }\n        });\n        window.decryptDataButton.addActionListener(e -&gt; {\n            if (operationBytes == null) {\n                operationBytes = window.operationPlainTextInput.getText().getBytes(StandardCharsets.UTF_8);\n            }\n            try {\n                decryptData();\n            } catch (IllegalBlockSizeException | NoSuchPaddingException | BadPaddingException | NoSuchAlgorithmException | InvalidKeyException | NoSuchProviderException illegalBlockSizeException) {\n                displayError(illegalBlockSizeException);\n            }\n        });\n        window.operationDataFileExport.addActionListener(e -&gt; {\n            int choice = fileChooser.showOpenDialog(null);\n            if (choice == JFileChooser.APPROVE_OPTION) {\n                try {\n                    rsaMethods.exportDataToFile(fileChooser.getSelectedFile(), window.operationPlainTextOutput.getText());\n                } catch (IOException ioException) {\n                    displayError(ioException);\n                }\n            }\n        });\n    }\n\n    /**\n     * Sets the plain text output of the operationPlainTextOutput\n     * panel to the decrypted or encrypted data encoded in\n     * Base64 using the key input from the user.\n     *\n     * @throws IllegalBlockSizeException Throws IllegalBlockSizeException.\n     * @throws NoSuchPaddingException Throws NoSuchPaddingException.\n     * @throws BadPaddingException Throws BadPaddingException.\n     * @throws NoSuchAlgorithmException Throws NoSuchAlgorithmException.\n     * @throws InvalidKeyException Throws InvalidKeyException.\n     */\n    private static void encryptData() throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException, InvalidKeyException, NoSuchProviderException {\n        operationBytes = window.operationPlainTextInput.getText().getBytes();\n        SecretKey key = aesMethods.returnKey();\n        window.operationPlainTextOutput.setText(Base64.getEncoder().encodeToString(aesMethods.returnEncryptedData(operationBytes, key)));\n        if (keyState == 1) {\n            byte[] bKey = rsaMethods.returnWrappedKey(key, operationalPubKey);\n            JOptionPane.showMessageDialog(null, &quot;Your AES key (RSA PUB KEY) has been copied to your clipboard!&quot;);\n            rsaMethods.copyDataToClipboard(Base64.getEncoder().encodeToString(bKey));\n            keyState = 3;\n        } else if (keyState == 2) {\n            byte[] bKey = rsaMethods.returnWrappedKey(key, operationalPrvKey);\n            JOptionPane.showMessageDialog(null, &quot;Your AES key (RSA PRV KEY) has been copied to your clipboard!&quot;);\n            rsaMethods.copyDataToClipboard(Base64.getEncoder().encodeToString(bKey));\n            keyState = 3;\n        } else {\n            JOptionPane.showMessageDialog(null, &quot;You have not input a key!&quot;);\n        }\n    }\n    private static void decryptData() throws NoSuchPaddingException, IllegalBlockSizeException, NoSuchAlgorithmException, BadPaddingException, InvalidKeyException, NoSuchProviderException {\n        operationBytes = window.operationPlainTextInput.getText().getBytes();\n        Key key = operationalAESKey;\n        if (AESKeyState == 1 || AESKeyState == 2) {\n            window.operationPlainTextOutput.setText(Base64.getEncoder().encodeToString(aesMethods.returnDecryptedData(window.operationPlainTextInput.getText().getBytes(), key)));\n        } else {\n            JOptionPane.showMessageDialog(null, &quot;You have not input a AES key!&quot;);\n        }\n    }\n    private static void displayError(@NotNull Exception e) {\n        System.out.println(keyState);\n        e.printStackTrace();\n        JOptionPane.showMessageDialog(null, e.getMessage());\n    }\n}\n\nclass rsaEncryption {\n    KeyPair generateKeyPair() throws NoSuchAlgorithmException {\n        SecureRandom random = new SecureRandom();\n        KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n        generator.initialize(2048, random);\n        return generator.generateKeyPair();\n    }\n    PublicKey getPublicKeyFromFile(@NotNull File file) throws NoSuchAlgorithmException, IOException, InvalidKeySpecException {\n        return KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(Files.readAllBytes(file.toPath())));\n    }\n    PrivateKey getPrivateKeyFromFile(@NotNull File file) throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        return KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(new PKCS8EncodedKeySpec(Files.readAllBytes(file.toPath())));\n    }\n    void copyDataToClipboard(String string) {\n        StringSelection selection = new StringSelection(string);\n        Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n        clipboard.setContents(selection, null);\n    }\n    String generatePrivateKeyString(@NotNull PrivateKey privateKey) {\n        return Base64.getEncoder().encodeToString(privateKey.getEncoded());\n    }\n    String generatePublicKeyString(@NotNull PublicKey publicKey) {\n        return Base64.getEncoder().encodeToString(publicKey.getEncoded());\n    }\n    byte[] returnWrappedKey(Key keyToWrap, Key keyForWrapping) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException {\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n        cipher.init(Cipher.WRAP_MODE, keyForWrapping);\n        return cipher.wrap(keyToWrap);\n    }\n    Key returnUnwrappedKey(byte[] keyToUnwrap, Key keyForUnwrapping) throws IllegalBlockSizeException, BadPaddingException, InvalidKeyException, NoSuchPaddingException, NoSuchAlgorithmException, NoSuchProviderException {\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n        cipher.init(Cipher.UNWRAP_MODE, keyForUnwrapping);\n        return cipher.unwrap(keyToUnwrap, &quot;AES&quot;, Cipher.SECRET_KEY);\n    }\n    byte[] importDataFromFile(File file) throws IOException {\n        FileInputStream fis = new FileInputStream(file);\n        return fis.readAllBytes();\n    }\n    void exportDataToFile(File file, String string) throws IOException {\n        BufferedWriter writer = new BufferedWriter(new FileWriter(file));\n        writer.write(string);\n        writer.flush();\n    }\n    PublicKey getPubKeyFromString(String string) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(string);\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\n        return factory.generatePublic(new X509EncodedKeySpec(publicKeyBytes));\n    }\n    PrivateKey getPrvKeyFromString(String string) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        byte[] privateKeyBytes = Base64.getDecoder().decode(string);\n        KeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\n        return factory.generatePrivate(new PKCS8EncodedKeySpec(privateKeyBytes));\n    }\n}\nclass aesEncryption {\n    SecretKey returnKey() throws NoSuchAlgorithmException {\n        KeyGenerator gen = KeyGenerator.getInstance(&quot;AES&quot;);\n        gen.init(new SecureRandom());\n        return gen.generateKey();\n    }\n    byte[] returnEncryptedData(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        return cipher.doFinal(data);\n    }\n    byte[] returnDecryptedData(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        return  cipher.doFinal(data);\n    }\n}\n\nclass gui {\n    public gui() {\n        initialize();\n    }\n\n    JFrame frame = new JFrame();\n    JButton createSignature = new JButton(&quot;Create!&quot;);\n    JTextArea privateKeyOutputArea = new JTextArea();\n    JTextArea publicKeyOutputArea = new JTextArea();\n    JButton exportPublicKeyToFile = new JButton(&quot;Export Key to File&quot;);\n    JButton copyPublicKeyToClipboard = new JButton(&quot;Copy Key to Clipboard&quot;);\n    JButton exportPrivateKeyToFile = new JButton(&quot;Export Key to File&quot;);\n    JButton copyPrivateKeyToClipboard = new JButton(&quot;Copy Key to Clipboard&quot;);\n    JButton importPublicKeyFromFile = new JButton(&quot;PubKey&quot;);\n    JButton importPrivateKeyFromFile = new JButton(&quot;PrvKey&quot;);\n    JRadioButton publicKeyPasteSelection = new JRadioButton(&quot;PUBLIC KEY&quot;);\n    JRadioButton privateKeyPasteSelection = new JRadioButton(&quot;PRIVATE KEY&quot;);\n    JTextField pasteKeyForOperation = new JTextField();\n    JTextArea operationPlainTextInput = new JTextArea();\n    JTextArea operationPlainTextOutput = new JTextArea();\n    JButton encryptDataButton = new JButton(&quot;Encrypt&quot;);\n    JButton decryptDataButton = new JButton(&quot;Decrypt&quot;);\n    JButton operationDataFileImport = new JButton(&quot;Import Data From File&quot;);\n    JButton operationDataFileExport = new JButton(&quot;Export Data To File&quot;);\n    JButton checkKey = new JButton(&quot;Check Key&quot;);\n    JButton checkAESKey = new JButton(&quot;AES Key&quot;);\n\n    private void initialize() {\n        frame.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 12));\n        frame.setTitle(&quot;RSA SIGNATURE MANAGER&quot;);\n        frame.setBounds(100, 100, 619, 495);\n        frame.setResizable(false);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP);\n        frame.getContentPane().add(tabbedPane, BorderLayout.CENTER);\n\n        JPanel signatureCreationPanel = new JPanel();\n        signatureCreationPanel.setBackground(Color.DARK_GRAY);\n        tabbedPane.addTab(&quot;Create New Signature&quot;, null, signatureCreationPanel, null);\n        signatureCreationPanel.setLayout(null);\n\n        JLabel createNewPgpSignature = new JLabel(&quot;Create New PGP Signature&quot;);\n        createNewPgpSignature.setForeground(Color.WHITE);\n        createNewPgpSignature.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 24));\n        createNewPgpSignature.setBounds(10, 11, 391, 30);\n        signatureCreationPanel.add(createNewPgpSignature);\n\n        createSignature.setBackground(Color.BLACK);\n        createSignature.setForeground(Color.WHITE);\n        createSignature.setBounds(379, 17, 188, 23);\n        signatureCreationPanel.add(createSignature);\n\n        JScrollPane scrollPane = new JScrollPane(privateKeyOutputArea);\n        scrollPane.setBounds(306, 103, 282, 282);\n        privateKeyOutputArea.setEditable(false);\n        privateKeyOutputArea.add(new JScrollBar());\n        privateKeyOutputArea.setLineWrap(true);\n        privateKeyOutputArea.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\n        privateKeyOutputArea.setBackground(Color.BLACK);\n        privateKeyOutputArea.setForeground(Color.WHITE);\n        signatureCreationPanel.add(scrollPane);\n\n        publicKeyOutputArea.setEditable(false);\n        publicKeyOutputArea.setLineWrap(true);\n        publicKeyOutputArea.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 12));\n        publicKeyOutputArea.setBackground(Color.BLACK);\n        publicKeyOutputArea.setForeground(Color.WHITE);\n        publicKeyOutputArea.setBounds(10, 103, 286, 282);\n        signatureCreationPanel.add(publicKeyOutputArea);\n\n        exportPublicKeyToFile.setBackground(Color.BLACK);\n        exportPublicKeyToFile.setForeground(Color.WHITE);\n        exportPublicKeyToFile.setBounds(10, 396, 136, 23);\n        signatureCreationPanel.add(exportPublicKeyToFile);\n\n        copyPublicKeyToClipboard.setBackground(Color.BLACK);\n        copyPublicKeyToClipboard.setForeground(Color.WHITE);\n        copyPublicKeyToClipboard.setBounds(156, 396, 140, 23);\n        signatureCreationPanel.add(copyPublicKeyToClipboard);\n\n        exportPrivateKeyToFile.setBackground(Color.BLACK);\n        exportPrivateKeyToFile.setForeground(Color.WHITE);\n        exportPrivateKeyToFile.setBounds(306, 396, 136, 23);\n        signatureCreationPanel.add(exportPrivateKeyToFile);\n\n        copyPrivateKeyToClipboard.setBackground(Color.BLACK);\n        copyPrivateKeyToClipboard.setForeground(Color.WHITE);\n        copyPrivateKeyToClipboard.setBounds(448, 396, 140, 23);\n        signatureCreationPanel.add(copyPrivateKeyToClipboard);\n\n        JLabel publicKeyCreationContext = new JLabel(&quot;Public Key:&quot;);\n        publicKeyCreationContext.setForeground(Color.WHITE);\n        publicKeyCreationContext.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 16));\n        publicKeyCreationContext.setBounds(10, 69, 136, 23);\n        signatureCreationPanel.add(publicKeyCreationContext);\n\n        JLabel privateKeyCreationContext = new JLabel(&quot;Private Key:&quot;);\n        privateKeyCreationContext.setForeground(Color.WHITE);\n        privateKeyCreationContext.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 16));\n        privateKeyCreationContext.setBounds(306, 69, 136, 23);\n        signatureCreationPanel.add(privateKeyCreationContext);\n\n        JPanel operationPanel = new JPanel();\n        operationPanel.setBackground(Color.DARK_GRAY);\n        tabbedPane.addTab(&quot;Encrypt or Decrypt&quot;, null, operationPanel, null);\n        operationPanel.setLayout(null);\n\n        importPublicKeyFromFile.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\n        importPublicKeyFromFile.setForeground(Color.WHITE);\n        importPublicKeyFromFile.setBackground(Color.BLACK);\n        importPublicKeyFromFile.setBounds(10, 11, 100, 26);\n        operationPanel.add(importPublicKeyFromFile);\n\n        importPrivateKeyFromFile.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\n        importPrivateKeyFromFile.setForeground(Color.WHITE);\n        importPrivateKeyFromFile.setBackground(Color.BLACK);\n        importPrivateKeyFromFile.setBounds(120, 11, 100, 26);\n        operationPanel.add(importPrivateKeyFromFile);\n\n        pasteKeyForOperation.setForeground(Color.WHITE);\n        pasteKeyForOperation.setBackground(Color.BLACK);\n        pasteKeyForOperation.setToolTipText(&quot;Paste Key Here&quot;);\n        pasteKeyForOperation.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 18));\n        pasteKeyForOperation.setBounds(230, 11, 200, 26);\n        operationPanel.add(pasteKeyForOperation);\n\n        privateKeyPasteSelection.setForeground(Color.WHITE);\n        privateKeyPasteSelection.setBackground(Color.DARK_GRAY);\n        privateKeyPasteSelection.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 14));\n        privateKeyPasteSelection.setBounds(170, 40, 125, 26);\n        operationPanel.add(privateKeyPasteSelection);\n\n        publicKeyPasteSelection.setForeground(Color.WHITE);\n        publicKeyPasteSelection.setBackground(Color.DARK_GRAY);\n        publicKeyPasteSelection.setFont(new Font(&quot;Courier New&quot;, Font.PLAIN, 14));\n        publicKeyPasteSelection.setBounds(290, 40, 150, 26);\n        operationPanel.add(publicKeyPasteSelection);\n\n        ButtonGroup group = new ButtonGroup();\n        group.add(privateKeyPasteSelection);\n        group.add(publicKeyPasteSelection);\n\n        checkKey.setBackground(Color.BLACK);\n        checkKey.setForeground(Color.WHITE);\n        checkKey.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\n        checkKey.setBounds(440, 11, 140, 26);\n        operationPanel.add(checkKey);\n\n        checkAESKey.setBackground(Color.BLACK);\n        checkAESKey.setForeground(Color.white);\n        checkAESKey.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 18));\n        checkAESKey.setBounds(440, 39, 140, 26);\n        operationPanel.add(checkAESKey);\n\n        JScrollPane operationInputScrollPane = new JScrollPane(operationPlainTextInput);\n        operationInputScrollPane.setBounds(10, 102, 280, 256);\n        operationPlainTextInput.setLineWrap(true);\n        operationPlainTextInput.setBackground(Color.BLACK);\n        operationPlainTextInput.setForeground(Color.WHITE);\n        operationPanel.add(operationInputScrollPane);\n\n        JScrollPane operationOutputScrollPane = new JScrollPane(operationPlainTextOutput);\n        operationOutputScrollPane.setBounds(308, 102, 280, 256);\n        operationPlainTextOutput.setLineWrap(true);\n        operationPlainTextOutput.setEditable(false);\n        operationPlainTextOutput.setForeground(Color.WHITE);\n        operationPlainTextOutput.setBackground(Color.BLACK);\n        operationPanel.add(operationOutputScrollPane);\n\n        JLabel whereToPasteDataLabel = new JLabel(&quot;Paste data here:&quot;);\n        whereToPasteDataLabel.setForeground(Color.WHITE);\n        whereToPasteDataLabel.setBackground(Color.BLACK);\n        whereToPasteDataLabel.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 14));\n        whereToPasteDataLabel.setBounds(20, 78, 142, 14);\n        operationPanel.add(whereToPasteDataLabel);\n\n        JLabel operationOutputLabel = new JLabel(&quot;Output in Plaintext:&quot;);\n        operationOutputLabel.setForeground(Color.WHITE);\n        operationOutputLabel.setFont(new Font(&quot;Courier New&quot;, Font.BOLD, 14));\n        operationOutputLabel.setBackground(Color.BLACK);\n        operationOutputLabel.setBounds(319, 78, 250, 14);\n        operationPanel.add(operationOutputLabel);\n\n        encryptDataButton.setForeground(Color.WHITE);\n        encryptDataButton.setBackground(Color.BLACK);\n        encryptDataButton.setBounds(257, 369, 89, 23);\n        operationPanel.add(encryptDataButton);\n\n        decryptDataButton.setForeground(Color.WHITE);\n        decryptDataButton.setBackground(Color.BLACK);\n        decryptDataButton.setBounds(257, 396, 89, 23);\n        operationPanel.add(decryptDataButton);\n\n        operationDataFileImport.setForeground(Color.WHITE);\n        operationDataFileImport.setBackground(Color.BLACK);\n        operationDataFileImport.setBounds(10, 369, 170, 23);\n        operationPanel.add(operationDataFileImport);\n\n        operationDataFileExport.setForeground(Color.WHITE);\n        operationDataFileExport.setBackground(Color.BLACK);\n        operationDataFileExport.setBounds(436, 369, 152, 23);\n        operationPanel.add(operationDataFileExport);\n\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","atomic","compare-and-swap","double-compare-and-swap"],"comments":[{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1646850707,"post_id":71414236,"comment_id":126228346,"body_markdown":"You would have to use a library with a native implementation.","body":"You would have to use a library with a native implementation."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646850537,"creation_date":1646850537,"answer_id":71414317,"question_id":71414236,"body_markdown":"No.\r\n\r\nThere is no instruction in the Java Byte code specification that covers that. And there is also nothing in the Java Language specification to work around &quot;deficiency&quot;.\r\n\r\nSo, theoretically, a JVM *implementation* might compile certain Java byte code sequences in order to use such hardware based instructions. But as said: that would be implementation specific.","title":"Does Java support double-width CAS?","body":"<p>No.</p>\n<p>There is no instruction in the Java Byte code specification that covers that. And there is also nothing in the Java Language specification to work around &quot;deficiency&quot;.</p>\n<p>So, theoretically, a JVM <em>implementation</em> might compile certain Java byte code sequences in order to use such hardware based instructions. But as said: that would be implementation specific.</p>\n"}],"owner":{"account_id":9840468,"reputation":143,"user_id":7289606,"display_name":"galym"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646850537,"creation_date":1646850116,"question_id":71414236,"body_markdown":"Is there a way to perform a double-width (16-byte) compare-and-swap in Java if the hardware supports it (e.g. using CMPXCHG16B on Intel)?","title":"Does Java support double-width CAS?","body":"<p>Is there a way to perform a double-width (16-byte) compare-and-swap in Java if the hardware supports it (e.g. using CMPXCHG16B on Intel)?</p>\n"},{"tags":["java","android","windows","android-studio","windows-10"],"comments":[{"owner":{"account_id":5786247,"reputation":12927,"user_id":4565367,"accept_rate":75,"display_name":"Francisco Romero"},"score":0,"creation_date":1483490214,"post_id":35390997,"comment_id":70115411,"body_markdown":"Possible duplicate of [Is it possible to allocate these folders in another place?](http://stackoverflow.com/questions/32759785/is-it-possible-to-allocate-these-folders-in-another-place)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/32759785/is-it-possible-to-allocate-these-folders-in-another-place\">Is it possible to allocate these folders in another place?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7837729,"reputation":94,"user_id":5925110,"display_name":"Ron Puri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1455456625,"creation_date":1455456625,"answer_id":35392374,"question_id":35390997,"body_markdown":"Does that config path exist?\r\n\r\nAndroid Studio is based on IntelliJ. See [IntelliJ Idea Properties][1] for where to modify your idea.properties file - and modify **idea.config.path** as described at the bottom of [IntelliJ Idea - Project and IDE Settings][2] page.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/file-idea-properties.html\r\n  [2]: https://www.jetbrains.com/idea/help/project-and-ide-settings.html","title":"Config path Android studio is invalid","body":"<p>Does that config path exist?</p>\n\n<p>Android Studio is based on IntelliJ. See <a href=\"https://www.jetbrains.com/idea/help/file-idea-properties.html\" rel=\"nofollow\">IntelliJ Idea Properties</a> for where to modify your idea.properties file - and modify <strong>idea.config.path</strong> as described at the bottom of <a href=\"https://www.jetbrains.com/idea/help/project-and-ide-settings.html\" rel=\"nofollow\">IntelliJ Idea - Project and IDE Settings</a> page.</p>\n"},{"tags":[],"owner":{"account_id":4145212,"reputation":1,"user_id":3399170,"display_name":"infiniteRecursion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455478839,"creation_date":1455478294,"answer_id":35397103,"question_id":35390997,"body_markdown":"I got the same error when I installed AndroidStudio 1.5 on my windows 10 laptop after I uninstalled an older version of Android Studio. To fix it, I followed the instructions at the Android developer website: http://tools.android.com/tech-docs/configuration.\r\n\r\nFirst, do not modify the idea.properties file located in the bin folder where Android Studio is installed. Older stack overflow posts will tell you to modify that idea.properites file, but you aren&#39;t supposed to do so for AndroidStudio 1.5. By following the instructions, I created an idea.properties file at **%USERPROFILE%\\\\.{FOLDER_NAME}\\idea.properties**.  If you have installed AndroidStudio 1.5, then .{FOLDER_NAME} should be .{AndroidStudio1.5}.  The content of my idea.properties file is the following:\r\n\r\n\r\n\r\n    #---------------------------------------------------------------------\r\n    # IDEA can copy library .jar files to prevent their locking.\r\n    # By default this behavior is enabled on Windows and disabled on other platforms.\r\n    # Uncomment this property to override.\r\n    #---------------------------------------------------------------------\r\n    # idea.jars.nocopy=false\r\n    \r\n    #---------------------------------------------------------------------\r\n    # The VM option value to be used to start a JVM in debug mode.\r\n    # Some JREs define it in a different way (-XXdebug in Oracle VM)\r\n    #---------------------------------------------------------------------\r\n    idea.xdebug.key=-Xdebug\r\n    \r\n    #-----------------------------------------------------------------------\r\n    # Change to &#39;enabled&#39; if you want to receive instant visual notifications\r\n    # about fatal errors that happen to an IDE or plugins installed.\r\n    #-----------------------------------------------------------------------\r\n    idea.fatal.error.notification=disabled\r\n    \r\n    #---------------------------------------------------------------------\r\n    # Uncomment this option if you want to customize path to IDE config folder. Make sure you&#39;re using forward slashes\r\n    #---------------------------------------------------------------------\r\n    idea.config.path=${user.home}/.AndroidStudio1.5/config\r\n    \r\n    #---------------------------------------------------------------------\r\n    # Uncomment this option if you want to customize path to IDE system folder. Make sure you&#39;re using forward slashes\r\n    #---------------------------------------------------------------------\r\n    idea.system.path=${user.home}/.AndroidStudio1.5/system\r\n    \r\n    #---------------------------------------------------------------------\r\n    # Uncomment this option if you want to customize path to user installed plugins folder. Make sure you&#39;re using forward slashes\r\n    #---------------------------------------------------------------------\r\n    idea.plugins.path=${user.home}/.AndroidStudio1.5/config/plugins\r\n    \r\n    #---------------------------------------------------------------------\r\n    # Uncomment this option if you want to customize path to IDE logs folder. Make sure you&#39;re using forward slashes.\r\n    #---------------------------------------------------------------------\r\n    idea.log.path=${user.home}/.AndroidStudio1.5/system/log\r\n\r\n","title":"Config path Android studio is invalid","body":"<p>I got the same error when I installed AndroidStudio 1.5 on my windows 10 laptop after I uninstalled an older version of Android Studio. To fix it, I followed the instructions at the Android developer website: <a href=\"http://tools.android.com/tech-docs/configuration\" rel=\"nofollow\">http://tools.android.com/tech-docs/configuration</a>.</p>\n\n<p>First, do not modify the idea.properties file located in the bin folder where Android Studio is installed. Older stack overflow posts will tell you to modify that idea.properites file, but you aren't supposed to do so for AndroidStudio 1.5. By following the instructions, I created an idea.properties file at <strong>%USERPROFILE%\\.{FOLDER_NAME}\\idea.properties</strong>.  If you have installed AndroidStudio 1.5, then .{FOLDER_NAME} should be .{AndroidStudio1.5}.  The content of my idea.properties file is the following:</p>\n\n<pre><code>#---------------------------------------------------------------------\n# IDEA can copy library .jar files to prevent their locking.\n# By default this behavior is enabled on Windows and disabled on other platforms.\n# Uncomment this property to override.\n#---------------------------------------------------------------------\n# idea.jars.nocopy=false\n\n#---------------------------------------------------------------------\n# The VM option value to be used to start a JVM in debug mode.\n# Some JREs define it in a different way (-XXdebug in Oracle VM)\n#---------------------------------------------------------------------\nidea.xdebug.key=-Xdebug\n\n#-----------------------------------------------------------------------\n# Change to 'enabled' if you want to receive instant visual notifications\n# about fatal errors that happen to an IDE or plugins installed.\n#-----------------------------------------------------------------------\nidea.fatal.error.notification=disabled\n\n#---------------------------------------------------------------------\n# Uncomment this option if you want to customize path to IDE config folder. Make sure you're using forward slashes\n#---------------------------------------------------------------------\nidea.config.path=${user.home}/.AndroidStudio1.5/config\n\n#---------------------------------------------------------------------\n# Uncomment this option if you want to customize path to IDE system folder. Make sure you're using forward slashes\n#---------------------------------------------------------------------\nidea.system.path=${user.home}/.AndroidStudio1.5/system\n\n#---------------------------------------------------------------------\n# Uncomment this option if you want to customize path to user installed plugins folder. Make sure you're using forward slashes\n#---------------------------------------------------------------------\nidea.plugins.path=${user.home}/.AndroidStudio1.5/config/plugins\n\n#---------------------------------------------------------------------\n# Uncomment this option if you want to customize path to IDE logs folder. Make sure you're using forward slashes.\n#---------------------------------------------------------------------\nidea.log.path=${user.home}/.AndroidStudio1.5/system/log\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6358354,"reputation":249,"user_id":4934757,"display_name":"Sabin Bajracharya"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1458195771,"creation_date":1458195771,"answer_id":36053044,"question_id":35390997,"body_markdown":"Run Android Studio as Administrator and it will create the idea.properties files","title":"Config path Android studio is invalid","body":"<p>Run Android Studio as Administrator and it will create the idea.properties files</p>\n"},{"tags":[],"owner":{"account_id":15481919,"reputation":49,"user_id":11168896,"display_name":"Mohammad Ameer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646850494,"creation_date":1646850494,"answer_id":71414304,"question_id":35390997,"body_markdown":"to fix this you need to open it as admin, you can do that by the terminal or just open the Finder folder, find the application, right-click and open as admin in windows or just open in mac","title":"Config path Android studio is invalid","body":"<p>to fix this you need to open it as admin, you can do that by the terminal or just open the Finder folder, find the application, right-click and open as admin in windows or just open in mac</p>\n"}],"owner":{"account_id":5418389,"reputation":155,"user_id":4312888,"accept_rate":57,"display_name":"Eoin &#211; Crib&#237;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8549,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36053044,"answer_count":4,"score":1,"last_activity_date":1646850494,"creation_date":1455447765,"question_id":35390997,"body_markdown":"I&#39;m not sure if anyone else has seen this before but I got a windows update a few days ago and ever since my android studio fails to open. The exact error message I&#39;m getting is:\r\n\r\n    Config path C:/windows/system32/config/systemprofile/.AndroidSudio.3/config is\r\n     invalid. If you have modified the &#39;idea.config.path&#39; property please make \r\n    sure it is correct, otherwise please re-install the IDE. \r\n   When I run it in Admin mode it goes through the installation again.\r\n I don&#39;t want to have to do this every time I open it.  ","title":"Config path Android studio is invalid","body":"<p>I'm not sure if anyone else has seen this before but I got a windows update a few days ago and ever since my android studio fails to open. The exact error message I'm getting is:</p>\n\n<pre><code>Config path C:/windows/system32/config/systemprofile/.AndroidSudio.3/config is\n invalid. If you have modified the 'idea.config.path' property please make \nsure it is correct, otherwise please re-install the IDE. \n</code></pre>\n\n<p>When I run it in Admin mode it goes through the installation again.\n I don't want to have to do this every time I open it.  </p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1646721270,"post_id":71384939,"comment_id":126187607,"body_markdown":"Post full output when you run this task from the command line by Gradle: e.g. it might be the `./gradlew run`. Also, add the `--debug` [option](https://docs.gradle.org/current/userguide/logging.html#logLevels) as the command argument to have Gradle to make more verbose output.","body":"Post full output when you run this task from the command line by Gradle: e.g. it might be the <code>.&#47;gradlew run</code>. Also, add the <code>--debug</code> <a href=\"https://docs.gradle.org/current/userguide/logging.html#logLevels\" rel=\"nofollow noreferrer\">option</a> as the command argument to have Gradle to make more verbose output."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1646848074,"post_id":71384939,"comment_id":126227438,"body_markdown":"&quot;&gt; Task :run FAILED\nRedirected Output: logs/master_log_3_9_2022_10_38_38.txt&quot; and &quot;Run with --info or --debug option to get more log output&quot; (both in the error message) might be helpful","body":"&quot;&gt; Task :run FAILED Redirected Output: logs/master_log_3_9_2022_10_38_38.txt&quot; and &quot;Run with --info or --debug option to get more log output&quot; (both in the error message) might be helpful"},{"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"score":0,"creation_date":1646848785,"post_id":71384939,"comment_id":126227680,"body_markdown":"doesnt --debug show info I should not post?","body":"doesnt --debug show info I should not post?"}],"owner":{"account_id":24482357,"reputation":3,"user_id":18400573,"display_name":"Phantom11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646850222,"creation_date":1646673720,"question_id":71384939,"body_markdown":"Here is the error that I am getting whenever I try to run my program with Gradle. (I am on a linux ubuntu system, if that matters) I am using a JDK 11 version to run this.\r\n\r\n```\r\nExecution failed for task &#39;:run&#39;.\r\n&gt; Process &#39;command &#39;/home/dex/Downloads/jdk-11.0.13/bin/java&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\nException -\r\n```\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:run&#39;\r\nCaused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;/home/dex/Downloads/jdk-11.0.13/bin/java&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\n\r\n\r\n\r\nUPDATED (./gradlew run command)\r\n```\r\n&gt; Configure project :\r\nProject : =&gt; no module-info.java found\r\n\r\n&gt; Task :compileJava\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n&gt; Task :run FAILED\r\nRedirected Output: logs/master_log_3_9_2022_10_38_38.txt\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:run&#39;.\r\n&gt; Process &#39;command &#39;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n5 actionable tasks: 3 executed, 2 up-to-date\r\n```\r\n\r\nFrom --debug(Only posted info that was in red)\r\n```\r\n2022-03-09T13:01:57.117-0500 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 4s\r\n\r\n\r\n2022-03-09T13:01:57.116-0500 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\r\n\r\n2022-03-09T13:01:56.807-0500 [LIFECYCLE] [class org.gradle.internal.buildevents.TaskExecutionLogger] &gt; Task :run FAILED\r\n\r\n2022-03-09T13:01:57.116-0500 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Process &#39;command &#39;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\nFrom log master file \r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat Main.main(Main.java:210)\r\n\tat KioskApp.main(KioskApp.java:5)\r\n```\r\n\r\n","title":"IntelliJ running a program with Gradle, &quot;failed at task :Run&quot; error","body":"<p>Here is the error that I am getting whenever I try to run my program with Gradle. (I am on a linux ubuntu system, if that matters) I am using a JDK 11 version to run this.</p>\n<pre><code>Execution failed for task ':run'.\n&gt; Process 'command '/home/dex/Downloads/jdk-11.0.13/bin/java'' finished with non-zero exit value 1\n</code></pre>\n<p>Exception -</p>\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':run'\nCaused by: org.gradle.process.internal.ExecException: Process 'command '/home/dex/Downloads/jdk-11.0.13/bin/java'' finished with non-zero exit value 1\n</code></pre>\n<p>UPDATED (./gradlew run command)</p>\n<pre><code>&gt; Configure project :\nProject : =&gt; no module-info.java found\n\n&gt; Task :compileJava\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\n&gt; Task :run FAILED\nRedirected Output: logs/master_log_3_9_2022_10_38_38.txt\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command '/usr/lib/jvm/java-11-openjdk-amd64/bin/java'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n5 actionable tasks: 3 executed, 2 up-to-date\n</code></pre>\n<p>From --debug(Only posted info that was in red)</p>\n<pre><code>2022-03-09T13:01:57.117-0500 [ERROR] [org.gradle.internal.buildevents.BuildResultLogger] BUILD FAILED in 4s\n\n\n2022-03-09T13:01:57.116-0500 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] FAILURE: Build failed with an exception.\n\n2022-03-09T13:01:56.807-0500 [LIFECYCLE] [class org.gradle.internal.buildevents.TaskExecutionLogger] &gt; Task :run FAILED\n\n2022-03-09T13:01:57.116-0500 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Process 'command '/usr/lib/jvm/java-11-openjdk-amd64/bin/java'' finished with non-zero exit value 1\n</code></pre>\n<p>From log master file</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at Main.main(Main.java:210)\n    at KioskApp.main(KioskApp.java:5)\n</code></pre>\n"},{"tags":["java","hibernate","one-to-many","scalability"],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1646849876,"creation_date":1646726916,"answer_id":71391778,"question_id":71389597,"body_markdown":"Yes, it&#39;s possible.\r\n\r\n```java\r\nclass Parent {\r\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, cascade = PERSIST)\r\n   Set &lt;Child&gt; children = new HashSet&lt;&gt;();\r\n\r\n   public void addChild(Child child) {\r\n      child.setParent(this);\r\n      children.add(child);\r\n   }\r\n}\r\n...\r\n\r\nparent.addChild(child);\r\n```\r\n\r\nIn this case, lazy initialization of `Parent.children` won&#39;t be triggered. You can check it out by enabling SQL logging (`spring.jpa.show-sql=true`).\r\n\r\n## EDIT 1\r\n\r\nIf you store `children` as `Set`, then you should override `equals` and `hashCode` [correctly](https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/). Note that Hibernate entity is not a regular DTO. So, generating default implementation won&#39;t work properly. According to Hibernate Specification entity should not change its identity (`equals/hashCode` result) through all the lifecycle.\r\n\r\nHere is the example.\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;ZZ_CHILD&quot;)\r\npublic class Child {\r\n    ...\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (!(o instanceof Child)) {\r\n            return false;\r\n        }\r\n        Child other = (Child) o;\r\n        return Objects.equals(id, other.id) &amp;&amp; id != null;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return 1;\r\n    }\r\n}\r\n```\r\n\r\nOr you can replace `Set` with `List` and everything is going to work without additional `select` as well.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7gWNo.png","title":"Is it possible in Hibernate to add/remove children of a OneToMany relationship without loading all the children?","body":"<p>Yes, it's possible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent {\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;, cascade = PERSIST)\n   Set &lt;Child&gt; children = new HashSet&lt;&gt;();\n\n   public void addChild(Child child) {\n      child.setParent(this);\n      children.add(child);\n   }\n}\n...\n\nparent.addChild(child);\n</code></pre>\n<p>In this case, lazy initialization of <code>Parent.children</code> won't be triggered. You can check it out by enabling SQL logging (<code>spring.jpa.show-sql=true</code>).</p>\n<h2>EDIT 1</h2>\n<p>If you store <code>children</code> as <code>Set</code>, then you should override <code>equals</code> and <code>hashCode</code> <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"noreferrer\">correctly</a>. Note that Hibernate entity is not a regular DTO. So, generating default implementation won't work properly. According to Hibernate Specification entity should not change its identity (<code>equals/hashCode</code> result) through all the lifecycle.</p>\n<p>Here is the example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;ZZ_CHILD&quot;)\npublic class Child {\n    ...\n    @Override\n    public boolean equals(Object o) {\n        if (!(o instanceof Child)) {\n            return false;\n        }\n        Child other = (Child) o;\n        return Objects.equals(id, other.id) &amp;&amp; id != null;\n    }\n\n    @Override\n    public int hashCode() {\n        return 1;\n    }\n}\n</code></pre>\n<p>Or you can replace <code>Set</code> with <code>List</code> and everything is going to work without additional <code>select</code> as well.</p>\n<p><a href=\"https://i.stack.imgur.com/7gWNo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7gWNo.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2517246,"reputation":61,"user_id":2188391,"display_name":"ROMAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646849876,"creation_date":1646708804,"question_id":71389597,"body_markdown":"For the following domain:\r\n\r\n    class Parent {\r\n       @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;)\r\n       Set &lt;Child&gt; children;\r\n    )\r\n    \r\n    class Child {\r\n       @ManyToOne\r\n       Parent parent;\r\n       ... // setters, getters, other properties       \r\n    }\r\n\r\nI&#39;m looking for a way to add child entities, without Lazy initializing children in the Parent object.\r\n\r\nEx: \r\n\r\n    child.set(parent) // is fine, since Parent is pretty lightweight.\r\n    \r\n    parent.getChildren().add(child) // No good, since in this case it will attempt to \r\n    //load all the children of a Parent object.\r\n\r\n\r\nFrom the first glance it felt like something that should have been easily achievable since in order to add a child all you need is just a parent id and an SQL insert statement to the Child table.\r\nHowever when it comes to hibernate nothing is simple (In fact it’s true for everything that uses caching) :-) \r\n\r\nWe are trying to scale a legacy application that was initially written to support tens of children,  but over time evolved to operate with thousands of children now and as you can imagine that doesn’t scale well, since every time we need to add a child, we need to load the entire group in memory first what results in O(N) time and  O(N) space complexity (where N is a total number of children).\r\n\r\nHave anyone run into a similar problem? Is there a way to solve it in hibernate, or hibernate is just not the best framework to use for this use case? How have you tackled it? Or any ideas, share of experience will be helpful.\r\n\r\nI run into the following discussion:\r\n&quot;https://stackoverflow.com/questions/41119537/how-to-persist-a-hibernate-child-entity-without-loading-the-parent-side-set-coll&quot;\r\nThat felt a bit sketchy to me since evicting cache might cause concurrency issues (especially when code will run on multiple servers) \r\n\r\n","title":"Is it possible in Hibernate to add/remove children of a OneToMany relationship without loading all the children?","body":"<p>For the following domain:</p>\n<pre><code>class Parent {\n   @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;parent&quot;)\n   Set &lt;Child&gt; children;\n)\n\nclass Child {\n   @ManyToOne\n   Parent parent;\n   ... // setters, getters, other properties       \n}\n</code></pre>\n<p>I'm looking for a way to add child entities, without Lazy initializing children in the Parent object.</p>\n<p>Ex:</p>\n<pre><code>child.set(parent) // is fine, since Parent is pretty lightweight.\n\nparent.getChildren().add(child) // No good, since in this case it will attempt to \n//load all the children of a Parent object.\n</code></pre>\n<p>From the first glance it felt like something that should have been easily achievable since in order to add a child all you need is just a parent id and an SQL insert statement to the Child table.\nHowever when it comes to hibernate nothing is simple (In fact it’s true for everything that uses caching) :-)</p>\n<p>We are trying to scale a legacy application that was initially written to support tens of children,  but over time evolved to operate with thousands of children now and as you can imagine that doesn’t scale well, since every time we need to add a child, we need to load the entire group in memory first what results in O(N) time and  O(N) space complexity (where N is a total number of children).</p>\n<p>Have anyone run into a similar problem? Is there a way to solve it in hibernate, or hibernate is just not the best framework to use for this use case? How have you tackled it? Or any ideas, share of experience will be helpful.</p>\n<p>I run into the following discussion:\n&quot;https://stackoverflow.com/questions/41119537/how-to-persist-a-hibernate-child-entity-without-loading-the-parent-side-set-coll&quot;\nThat felt a bit sketchy to me since evicting cache might cause concurrency issues (especially when code will run on multiple servers)</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1646849509,"post_id":71413555,"comment_id":126227913,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646849658,"creation_date":1646849658,"answer_id":71414151,"question_id":71413555,"body_markdown":"If your `Shop_details` class matches the JSON structure in the `shop_details` node of the database, you should read the object from only that snapshot:\r\n```\r\nShop_details shop_details = postSnapshot.child(&quot;shop_details&quot;).getValue(Shop_details.class);\r\n```\r\n\r\n---\r\n\r\nNote that it may be better to store the separate aspects of a shop in separate top-level nodes, all with the same key for each shop. Something like:\r\n```\r\nshop_details: {\r\n  &quot;igd1P...&quot;: { owner_name: &quot;...&quot;, shop_address: &quot;...&quot;, ... },\r\n  &quot;yDLoU...&quot;: { owner_name: &quot;...&quot;, shop_address: &quot;...&quot;, ... }\r\n},\r\nshop_services: {\r\n  &quot;igd1P...&quot;: { ... },\r\n  &quot;yDLoU...&quot;: { ... }\r\n}\r\n```\r\n\r\nThat way you can load just the details of each shop, without also loading all their services. This type of structure also allows you to secure the data better.\r\n\r\nI recommend reading up on [structuring your data](https://firebase.google.com/docs/database/android/structure-data) specifically on [avoiding nested data](https://firebase.google.com/docs/database/android/structure-data#avoid_nesting_data) and [flattening your data structures](https://firebase.google.com/docs/database/android/structure-data#flatten_data_structures).","title":"how to iterate through some children&#39;s of every id in Firebase Database android (java)?","body":"<p>If your <code>Shop_details</code> class matches the JSON structure in the <code>shop_details</code> node of the database, you should read the object from only that snapshot:</p>\n<pre><code>Shop_details shop_details = postSnapshot.child(&quot;shop_details&quot;).getValue(Shop_details.class);\n</code></pre>\n<hr />\n<p>Note that it may be better to store the separate aspects of a shop in separate top-level nodes, all with the same key for each shop. Something like:</p>\n<pre><code>shop_details: {\n  &quot;igd1P...&quot;: { owner_name: &quot;...&quot;, shop_address: &quot;...&quot;, ... },\n  &quot;yDLoU...&quot;: { owner_name: &quot;...&quot;, shop_address: &quot;...&quot;, ... }\n},\nshop_services: {\n  &quot;igd1P...&quot;: { ... },\n  &quot;yDLoU...&quot;: { ... }\n}\n</code></pre>\n<p>That way you can load just the details of each shop, without also loading all their services. This type of structure also allows you to secure the data better.</p>\n<p>I recommend reading up on <a href=\"https://firebase.google.com/docs/database/android/structure-data\" rel=\"nofollow noreferrer\">structuring your data</a> specifically on <a href=\"https://firebase.google.com/docs/database/android/structure-data#avoid_nesting_data\" rel=\"nofollow noreferrer\">avoiding nested data</a> and <a href=\"https://firebase.google.com/docs/database/android/structure-data#flatten_data_structures\" rel=\"nofollow noreferrer\">flattening your data structures</a>.</p>\n"}],"owner":{"account_id":22132595,"reputation":71,"user_id":16383903,"display_name":"ROCKY 007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71414151,"answer_count":1,"score":0,"last_activity_date":1646849658,"creation_date":1646846789,"question_id":71413555,"body_markdown":"I have one parent that is shop and in that every id is a shop and i want to iterate through every id means every shop and store the object of `shop_details` because i want to show every shop in `RecyclerView`\r\n\r\nhere is my database Hierarchy\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is my partial code but this is not working\r\n\r\n```\r\nArrayList&lt;Shop_details&gt; list=new ArrayList&lt;&gt;();\r\n\r\ndatabase.getReference(&quot;Shops&quot;).addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        list.clear();\r\n        for (DataSnapshot postSnapshot: snapshot.getChildren()) {\r\n            Shop_details shop_details = postSnapshot.getValue(Shop_details.class);\r\n          \r\n            list.add(shop_details);\r\n          \r\n        }\r\n        shop_list_adapter adapter=new shop_list_adapter(list,getContext());\r\n        shop_list_recyclerview.setAdapter(adapter);\r\n        shop_list_recyclerview.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        Loading_box.dismiss();\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WjaRR.png","title":"how to iterate through some children&#39;s of every id in Firebase Database android (java)?","body":"<p>I have one parent that is shop and in that every id is a shop and i want to iterate through every id means every shop and store the object of <code>shop_details</code> because i want to show every shop in <code>RecyclerView</code></p>\n<p>here is my database Hierarchy</p>\n<p><a href=\"https://i.stack.imgur.com/WjaRR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WjaRR.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my partial code but this is not working</p>\n<pre><code>ArrayList&lt;Shop_details&gt; list=new ArrayList&lt;&gt;();\n\ndatabase.getReference(&quot;Shops&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        list.clear();\n        for (DataSnapshot postSnapshot: snapshot.getChildren()) {\n            Shop_details shop_details = postSnapshot.getValue(Shop_details.class);\n          \n            list.add(shop_details);\n          \n        }\n        shop_list_adapter adapter=new shop_list_adapter(list,getContext());\n        shop_list_recyclerview.setAdapter(adapter);\n        shop_list_recyclerview.setLayoutManager(new LinearLayoutManager(getContext()));\n        Loading_box.dismiss();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","service","interface"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646850237,"post_id":71414149,"comment_id":126228186,"body_markdown":"This may turn out to be an opinionated answer, but AFAIK using an interface was never required.  To me, the decision to use an interface is mostly based on this question:  Are there multiple implementations?  If yes, then use interface.  If no, then there&#39;s usually no need for an interface.  In the example, `ServiceImpl` as a class name tells the reader nothing about the specific implementation, so an interface adds an unnecessary level of abstraction.","body":"This may turn out to be an opinionated answer, but AFAIK using an interface was never required.  To me, the decision to use an interface is mostly based on this question:  Are there multiple implementations?  If yes, then use interface.  If no, then there&#39;s usually no need for an interface.  In the example, <code>ServiceImpl</code> as a class name tells the reader nothing about the specific implementation, so an interface adds an unnecessary level of abstraction."},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1646850286,"post_id":71414149,"comment_id":126228197,"body_markdown":"Maybe, but when I look at the answers, I am getting much more confused. Then what is short answer? As far as I see, for multiple implementation it is a need. Otherwise, in most situations no need. What do you think?","body":"Maybe, but when I look at the answers, I am getting much more confused. Then what is short answer? As far as I see, for multiple implementation it is a need. Otherwise, in most situations no need. What do you think?"},{"owner":{"display_name":"user18085807"},"score":0,"creation_date":1646850406,"post_id":71414149,"comment_id":126228250,"body_markdown":"@AndrewS Yes, I also pointed that issue before reading your comment. But if I will need in the future then I think it is good idea to start the project with interface. Otherwise it would be much more harder to update the project later so that implement interfaces for each services in the project. any idea?","body":"@AndrewS Yes, I also pointed that issue before reading your comment. But if I will need in the future then I think it is good idea to start the project with interface. Otherwise it would be much more harder to update the project later so that implement interfaces for each services in the project. any idea?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1646850734,"post_id":71414149,"comment_id":126228354,"body_markdown":"_But if I will need in the future_ Modern IDEs make re-factoring easy.  Over-engineering a solution now, for a future requirement that might never actually exist, adds unnecessary complexity and is a waste of time.","body":"<i>But if I will need in the future</i> Modern IDEs make re-factoring easy.  Over-engineering a solution now, for a future requirement that might never actually exist, adds unnecessary complexity and is a waste of time."}],"owner":{"display_name":"user18085807"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646850894,"answer_count":0,"score":0,"last_activity_date":1646849655,"creation_date":1646849655,"question_id":71414149,"body_markdown":"I have used `Service` interface for `ServiceImpl` class in some projects and last week I watched a video where it is said that &quot;there is no need to use interface anymore. Spring Boot provide injection and just create `ServiceImpl` class, **no need** to create `Service` interface. \r\n\r\nHowever, I am confused, is that true for Spring Boot project that we just need `ServiceImpl` class, and no need to use `Service` interface? Any idea?","title":"Do I need to create service interface for services in Spring Boot?","body":"<p>I have used <code>Service</code> interface for <code>ServiceImpl</code> class in some projects and last week I watched a video where it is said that &quot;there is no need to use interface anymore. Spring Boot provide injection and just create <code>ServiceImpl</code> class, <strong>no need</strong> to create <code>Service</code> interface.</p>\n<p>However, I am confused, is that true for Spring Boot project that we just need <code>ServiceImpl</code> class, and no need to use <code>Service</code> interface? Any idea?</p>\n"},{"tags":["java","netbeans","maven-3","pom.xml","manifest"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646849470,"creation_date":1646849470,"answer_id":71414117,"question_id":71413375,"body_markdown":"You can do something like this in your pom.xml:\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifestEntries&gt;\r\n                  &lt;Build-Jdk&gt;${java.version} (${java.vendor} ${java.vm.version})&lt;/Build-Jdk&gt;\r\n                  &lt;Build-OS&gt;${os.name} ${os.arch} ${os.version}&lt;/Build-OS&gt;\r\n                  &lt;Build-Timestamp&gt;${maven.build.timestamp}&lt;/Build-Timestamp&gt;\r\n                  &lt;Project-Version&gt;${project.version}&lt;/Project-Version&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nReferences: https://andresalmiray.com/customize-jar-manifest-entries-with-maven-gradle/, https://maven.apache.org/plugins/maven-jar-plugin/examples/manifest-customization.html","title":"How to add properties to java Manifest using Maven","body":"<p>You can do something like this in your pom.xml:</p>\n<pre><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifestEntries&gt;\n              &lt;Build-Jdk&gt;${java.version} (${java.vendor} ${java.vm.version})&lt;/Build-Jdk&gt;\n              &lt;Build-OS&gt;${os.name} ${os.arch} ${os.version}&lt;/Build-OS&gt;\n              &lt;Build-Timestamp&gt;${maven.build.timestamp}&lt;/Build-Timestamp&gt;\n              &lt;Project-Version&gt;${project.version}&lt;/Project-Version&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>References: <a href=\"https://andresalmiray.com/customize-jar-manifest-entries-with-maven-gradle/\" rel=\"nofollow noreferrer\">https://andresalmiray.com/customize-jar-manifest-entries-with-maven-gradle/</a>, <a href=\"https://maven.apache.org/plugins/maven-jar-plugin/examples/manifest-customization.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-jar-plugin/examples/manifest-customization.html</a></p>\n"}],"owner":{"account_id":5556725,"reputation":141,"user_id":4407838,"display_name":"Anas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71414117,"answer_count":1,"score":2,"last_activity_date":1646849470,"creation_date":1646845992,"question_id":71413375,"body_markdown":"I migrated from Java 8 to Java 11 and from Ant project to Maven project, the manifest lost the Project version and build date information.\r\n\r\nI printed all Main attributes of Manifest using the following code:\r\n\r\n            manifest = new Manifest(new URL(manifestPath).openStream());\r\n            Attributes attr = manifest.getMainAttributes();\r\n            \r\n            // Enumerate each attribute\r\n            for (Iterator it=attr.keySet().iterator(); it.hasNext(); ) {\r\n                // Get attribute name\r\n                Attributes.Name attrName = (Attributes.Name)it.next();\r\n                String attrValue = attr.getValue(attrName);\r\n                \r\n                AppLogger.getInstance().Log(attrName + &quot;: &quot; + attrValue);\r\n\r\n                }\r\n\r\nHere is all the attributes names that I get:\r\nMain-Class, Class-Path, Build-Jdk, Built-By, Created-By, Manifest-Version, jar\r\n\r\nThere is no project version or build date.\r\n\r\nWhat change should I do in my POM file, to add this information?","title":"How to add properties to java Manifest using Maven","body":"<p>I migrated from Java 8 to Java 11 and from Ant project to Maven project, the manifest lost the Project version and build date information.</p>\n<p>I printed all Main attributes of Manifest using the following code:</p>\n<pre><code>        manifest = new Manifest(new URL(manifestPath).openStream());\n        Attributes attr = manifest.getMainAttributes();\n        \n        // Enumerate each attribute\n        for (Iterator it=attr.keySet().iterator(); it.hasNext(); ) {\n            // Get attribute name\n            Attributes.Name attrName = (Attributes.Name)it.next();\n            String attrValue = attr.getValue(attrName);\n            \n            AppLogger.getInstance().Log(attrName + &quot;: &quot; + attrValue);\n\n            }\n</code></pre>\n<p>Here is all the attributes names that I get:\nMain-Class, Class-Path, Build-Jdk, Built-By, Created-By, Manifest-Version, jar</p>\n<p>There is no project version or build date.</p>\n<p>What change should I do in my POM file, to add this information?</p>\n"},{"tags":["java","selenium","cucumber","serenity-bdd"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646692631,"post_id":71385251,"comment_id":126182706,"body_markdown":"How are you creating instance of `SignUpSteps`? Also, improve your naming. A method name such as `userViewTheAlertMessageSayingSignUpIsSuccessful` is not really readable,","body":"How are you creating instance of <code>SignUpSteps</code>? Also, improve your naming. A method name such as <code>userViewTheAlertMessageSayingSignUpIsSuccessful</code> is not really readable,"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646843427,"post_id":71385251,"comment_id":126225546,"body_markdown":"That&#39;s good that you improved the method naming. But that doesn&#39;t answer my initial question. There is not enough information on this post to answer your question without guessing.","body":"That&#39;s good that you improved the method naming. But that doesn&#39;t answer my initial question. There is not enough information on this post to answer your question without guessing."},{"owner":{"account_id":9223316,"reputation":2501,"user_id":6851888,"accept_rate":50,"display_name":"SUPARNA SOMAN"},"score":0,"creation_date":1646849142,"post_id":71385251,"comment_id":126227804,"body_markdown":"Added SignupSteps.java code as well","body":"Added SignupSteps.java code as well"}],"owner":{"account_id":9223316,"reputation":2501,"user_id":6851888,"accept_rate":50,"display_name":"SUPARNA SOMAN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646849128,"creation_date":1646675334,"question_id":71385251,"body_markdown":"I&#39;m getting \r\n\r\n&gt; java.lang.IllegalArgumentException: Input must be set\r\n\r\n error for my code.\r\n\r\n\r\n    Then an alert message should say Sign up is successful                               # test.cucumber.featureSteps.SignUpFeatureSteps.userViewTheAlertMessageSayingSignUpIsSuccessful()\r\n          java.lang.IllegalArgumentException: Input must be set\r\n\r\n\r\n\r\n\r\nCode in page oject: SignupPage.java:\r\n\r\n    public void verifySuccessfulSignup() {\r\n            try {\r\n                WebDriverWait wait = new WebDriverWait(driver, 5);\r\n                wait.until(ExpectedConditions.alertIsPresent());\r\n                Alert signupSuccessfulAlert = driver.switchTo().alert();\r\n                String signupSuccessfulAlertText = signupSuccessfulAlert.getText();\r\n                assertEquals(&quot;Sign up successful.&quot;, signupSuccessfulAlertText);\r\n            } catch (NoAlertPresentException e) {\r\n                fail(&quot;Alert not shown&quot;);\r\n            }\r\n        }\r\n\r\n\r\n\r\nCode in Step file, SignUpSteps.java:\r\n\r\n    SignupPage signupPage;\r\n    \r\n     @Step(&quot;Verifying alert saying Signup is Successfull&quot;)\r\n        public void verifySuccessfulSignup() { signupPage.verifySuccessfulSignup(); }\r\n\r\n\r\nCode in Feature step file:\r\n \r\n\r\n    @Steps\r\n        SignUpSteps signupUser;\r\n    \r\n     @Then(&quot;an alert message should say Sign up is successful&quot;)\r\n        public void signUpSuccessful() {\r\n            signupUser.verifySuccessfulSignup();\r\n        }\r\n\r\n\r\nCode in SignupSteps.java:\r\n\r\n\r\n        @Step(&quot;Verifying alert saying Signup is Successfull&quot;)\r\n        public void verifySuccessfulSignup() { signupPage.verifySuccessfulSignup(); }\r\n    \r\n    }","title":"java.lang.IllegalArgumentException error showing for Alert Verification","body":"<p>I'm getting</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Input must be set</p>\n</blockquote>\n<p>error for my code.</p>\n<pre><code>Then an alert message should say Sign up is successful                               # test.cucumber.featureSteps.SignUpFeatureSteps.userViewTheAlertMessageSayingSignUpIsSuccessful()\n      java.lang.IllegalArgumentException: Input must be set\n</code></pre>\n<p>Code in page oject: SignupPage.java:</p>\n<pre><code>public void verifySuccessfulSignup() {\n        try {\n            WebDriverWait wait = new WebDriverWait(driver, 5);\n            wait.until(ExpectedConditions.alertIsPresent());\n            Alert signupSuccessfulAlert = driver.switchTo().alert();\n            String signupSuccessfulAlertText = signupSuccessfulAlert.getText();\n            assertEquals(&quot;Sign up successful.&quot;, signupSuccessfulAlertText);\n        } catch (NoAlertPresentException e) {\n            fail(&quot;Alert not shown&quot;);\n        }\n    }\n</code></pre>\n<p>Code in Step file, SignUpSteps.java:</p>\n<pre><code>SignupPage signupPage;\n\n @Step(&quot;Verifying alert saying Signup is Successfull&quot;)\n    public void verifySuccessfulSignup() { signupPage.verifySuccessfulSignup(); }\n</code></pre>\n<p>Code in Feature step file:</p>\n<pre><code>@Steps\n    SignUpSteps signupUser;\n\n @Then(&quot;an alert message should say Sign up is successful&quot;)\n    public void signUpSuccessful() {\n        signupUser.verifySuccessfulSignup();\n    }\n</code></pre>\n<p>Code in SignupSteps.java:</p>\n<pre><code>    @Step(&quot;Verifying alert saying Signup is Successfull&quot;)\n    public void verifySuccessfulSignup() { signupPage.verifySuccessfulSignup(); }\n\n}\n</code></pre>\n"},{"tags":["java","events","jakarta-ee","concurrency","cdi"],"comments":[{"owner":{"account_id":18975310,"reputation":68,"user_id":13847924,"display_name":"Mohan k"},"score":2,"creation_date":1646852893,"post_id":71414010,"comment_id":126229024,"body_markdown":"My suggestion will be introduce any queue(ArrayBlockingQueue) and use ScheduledExecutorService to process message from the queue.","body":"My suggestion will be introduce any queue(ArrayBlockingQueue) and use ScheduledExecutorService to process message from the queue."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1646868604,"post_id":71414010,"comment_id":126233214,"body_markdown":"This is hard and a solution depends on the finer details of the problem. One thing I would take for granted is that to guarantee that no data will be missed, you cannot rely on an in-memory structure. The data has to be written to some kind of persistent store.","body":"This is hard and a solution depends on the finer details of the problem. One thing I would take for granted is that to guarantee that no data will be missed, you cannot rely on an in-memory structure. The data has to be written to some kind of persistent store."}],"owner":{"account_id":7560690,"reputation":158,"user_id":5738409,"display_name":"kozeljko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646848982,"creation_date":1646848982,"question_id":71414010,"body_markdown":"We are working on a feature where we want to observe events from our backend and propagate them forward to an external service. The issue is that sometimes these events come in rapid succession and cause performance issues.\r\n\r\nWe use Java 8 with JavaEE 7, more specifically we use the Event feature in an @ApplicationScoped CDI class. The current way we have it implemented is the following (code was trimmed to barebones for this thread):\r\n\r\n    @ApplicationScoped\r\n    public class DataObserver {\r\n\r\n        public void observeData(@Observes Data data) {\r\n            pushForward(data);\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nThe goal now is to group multiple requests together and send them with a tiny bit of delay, if necessary. Instead of 10 request with Data each, we could do 1 request with 10 Data each.\r\n\r\nAdditionally we don&#39;t want to wait for 10 objects to accumulate either. Data should be forwarded every few seconds regardless of how many Data objects were accumulated by then. This is the part we are struggling with, since I cannot think of the proper solution.\r\n\r\nIs there a clean way of doing this that guarantees me that no data will be missed? Maybe use ScheduledExecutorService with pool size 1 and submit tasks with a delay, while also adding an additional task for safety?\r\n\r\nWould appreciate the help.","title":"How to group observed data from Java CDI EVENT to send with a delay?","body":"<p>We are working on a feature where we want to observe events from our backend and propagate them forward to an external service. The issue is that sometimes these events come in rapid succession and cause performance issues.</p>\n<p>We use Java 8 with JavaEE 7, more specifically we use the Event feature in an @ApplicationScoped CDI class. The current way we have it implemented is the following (code was trimmed to barebones for this thread):</p>\n<pre><code>@ApplicationScoped\npublic class DataObserver {\n\n    public void observeData(@Observes Data data) {\n        pushForward(data);\n    }\n\n    ...\n}\n</code></pre>\n<p>The goal now is to group multiple requests together and send them with a tiny bit of delay, if necessary. Instead of 10 request with Data each, we could do 1 request with 10 Data each.</p>\n<p>Additionally we don't want to wait for 10 objects to accumulate either. Data should be forwarded every few seconds regardless of how many Data objects were accumulated by then. This is the part we are struggling with, since I cannot think of the proper solution.</p>\n<p>Is there a clean way of doing this that guarantees me that no data will be missed? Maybe use ScheduledExecutorService with pool size 1 and submit tasks with a delay, while also adding an additional task for safety?</p>\n<p>Would appreciate the help.</p>\n"},{"tags":["java","eclipse","file","build","jar"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1631963555,"post_id":69234018,"comment_id":122368665,"body_markdown":"Use &#39;File &gt; Refresh&#39; to get Eclipse to pick up files that have been added to the workspace.","body":"Use &#39;File &gt; Refresh&#39; to get Eclipse to pick up files that have been added to the workspace."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1631963912,"post_id":69234018,"comment_id":122368745,"body_markdown":"Are you using a build tool like Maven or Gradle? In that case it would matter where exactly you put the files in your src directories. Normally they should go to `src/main/resources` and your build should pick them up there and put then into the root of the jar file.","body":"Are you using a build tool like Maven or Gradle? In that case it would matter where exactly you put the files in your src directories. Normally they should go to <code>src&#47;main&#47;resources</code> and your build should pick them up there and put then into the root of the jar file."},{"owner":{"account_id":20122568,"reputation":1,"user_id":14756783,"display_name":"taym"},"score":0,"creation_date":1631965990,"post_id":69234018,"comment_id":122369203,"body_markdown":"@greg-449 it doesn&#39;t work for some reason","body":"@greg-449 it doesn&#39;t work for some reason"},{"owner":{"account_id":20122568,"reputation":1,"user_id":14756783,"display_name":"taym"},"score":0,"creation_date":1631966058,"post_id":69234018,"comment_id":122369217,"body_markdown":"@Thomas no I don&#39;t, I use the default java compiler","body":"@Thomas no I don&#39;t, I use the default java compiler"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1632117229,"post_id":69234018,"comment_id":122396555,"body_markdown":"So you&#39;re just using plain `javac` commands or let Eclipse do the building and packaging?","body":"So you&#39;re just using plain <code>javac</code> commands or let Eclipse do the building and packaging?"}],"answers":[{"tags":[],"owner":{"account_id":23720983,"reputation":21,"user_id":17741538,"display_name":"Serhat Ture"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646848703,"creation_date":1646848703,"answer_id":71413945,"question_id":69234018,"body_markdown":"Most likely you need to refresh the project so that Eclipse sees that the new file has been added. Select the project and hit F5.","title":"When I create a file through code I can&#39;t see it in eclipse","body":"<p>Most likely you need to refresh the project so that Eclipse sees that the new file has been added. Select the project and hit F5.</p>\n"}],"owner":{"account_id":20122568,"reputation":1,"user_id":14756783,"display_name":"taym"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646848703,"creation_date":1631962747,"question_id":69234018,"body_markdown":"So I&#39;m making a game engine in java, it has two parts: the editor and the game engine itself.\r\nIn the editor I serialize Scene objects and write them into .scene files for the engine to read, but the file doesn&#39;t show up in eclipse, I can see it in the file explorer so it is created. for a while I didn&#39;t pay attention because I can still read the file using the `File` class. But then I tried exporting it into a runnable jar file and the build didn&#39;t work, so I tried using `getClass().getResource(&quot;path&quot;)` and I ran into issues, as I understand the file is not being added to the build path for some weird reason even thou it&#39;s in the src folder, can I add the file to the build path programmatically or do I need to do something else?\r\n\r\nHere is some code:\r\n```\r\npublic File createSceneFile(String path) {\r\n\ttry {\r\n\t\tFile file = new File(path);\r\n\t\t\r\n\t\tif(file.createNewFile()) {\r\n\t\t\tFileOutputStream fileStream = new FileOutputStream(path);\r\n\t\t\tObjectOutputStream os = new ObjectOutputStream(fileStream);\r\n\t\t\tos.writeObject(scene);\r\n\t\t\tos.close();\r\n\t\t}\r\n\t\t\t\r\n\t\treturn file;\r\n\t}catch(IOException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn null;\r\n\t}\r\n}\r\n\t\r\npublic File updateScene(String path) {\r\n\ttry {\r\n\t\tFileOutputStream fileStream = new FileOutputStream(path);\r\n\t\tObjectOutputStream os = new ObjectOutputStream(fileStream);\r\n\t\tos.writeObject(scene);\r\n\t\tos.close();\r\n\t\t\r\n\t\treturn new File(path);\r\n\t}catch(IOException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\nCode to read the .scene files:\r\n```\r\npublic Scene getScene(URL url) {\r\n\ttry {\r\n\t\tInputStream inStream = url.openStream();\r\n\t\tObjectInputStream ois = new ObjectInputStream(inStream);\r\n\t\tScene s = null;\r\n\t\ttry {\r\n\t\t\ts = (Scene)ois.readObject();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tois.close();\r\n\t\t\r\n\t\ts.instantiation = this;\r\n\t\treturn s;\r\n\t}catch(IOException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\nThanks in advance","title":"When I create a file through code I can&#39;t see it in eclipse","body":"<p>So I'm making a game engine in java, it has two parts: the editor and the game engine itself.\nIn the editor I serialize Scene objects and write them into .scene files for the engine to read, but the file doesn't show up in eclipse, I can see it in the file explorer so it is created. for a while I didn't pay attention because I can still read the file using the <code>File</code> class. But then I tried exporting it into a runnable jar file and the build didn't work, so I tried using <code>getClass().getResource(&quot;path&quot;)</code> and I ran into issues, as I understand the file is not being added to the build path for some weird reason even thou it's in the src folder, can I add the file to the build path programmatically or do I need to do something else?</p>\n<p>Here is some code:</p>\n<pre><code>public File createSceneFile(String path) {\n    try {\n        File file = new File(path);\n        \n        if(file.createNewFile()) {\n            FileOutputStream fileStream = new FileOutputStream(path);\n            ObjectOutputStream os = new ObjectOutputStream(fileStream);\n            os.writeObject(scene);\n            os.close();\n        }\n            \n        return file;\n    }catch(IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n    \npublic File updateScene(String path) {\n    try {\n        FileOutputStream fileStream = new FileOutputStream(path);\n        ObjectOutputStream os = new ObjectOutputStream(fileStream);\n        os.writeObject(scene);\n        os.close();\n        \n        return new File(path);\n    }catch(IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>Code to read the .scene files:</p>\n<pre><code>public Scene getScene(URL url) {\n    try {\n        InputStream inStream = url.openStream();\n        ObjectInputStream ois = new ObjectInputStream(inStream);\n        Scene s = null;\n        try {\n            s = (Scene)ois.readObject();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        ois.close();\n        \n        s.instantiation = this;\n        return s;\n    }catch(IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","mp3agic"],"answers":[{"tags":[],"owner":{"account_id":1772032,"reputation":1699,"user_id":1616627,"display_name":"Roger Gustavsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1573054082,"creation_date":1573054082,"answer_id":58733528,"question_id":58733089,"body_markdown":"`ID3v2` extends `ID3v1`, so you should be able to use `ID3v1 tag = file.getId3v2Tag();` and be able to extract ID3v1 data from it.\r\n\r\nYou could try this:\r\n\r\n```\r\nprivate static ID3v1 get_tag(Music msc) {\r\n    try {\r\n        Mp3File file = new Mp3File(msc.get_path());\r\n\r\n        if (file.hasId3v1Tag()) {\r\n            return file.getId3v1Tag();\r\n        } else if (file.hasId3v2Tag()) {\r\n            return file.getId3v2Tag();\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    return null;\r\n} \r\n```","title":"Is there a way to get a generic mp3 tag using mp3agic?","body":"<p><code>ID3v2</code> extends <code>ID3v1</code>, so you should be able to use <code>ID3v1 tag = file.getId3v2Tag();</code> and be able to extract ID3v1 data from it.</p>\n\n<p>You could try this:</p>\n\n<pre><code>private static ID3v1 get_tag(Music msc) {\n    try {\n        Mp3File file = new Mp3File(msc.get_path());\n\n        if (file.hasId3v1Tag()) {\n            return file.getId3v1Tag();\n        } else if (file.hasId3v2Tag()) {\n            return file.getId3v2Tag();\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n} \n</code></pre>\n"}],"owner":{"account_id":16840439,"reputation":363,"user_id":12175965,"display_name":"sandmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58733528,"answer_count":1,"score":0,"last_activity_date":1646848579,"creation_date":1573052763,"question_id":58733089,"body_markdown":"I&#39;m developing an MP3 player with java, using [mp3agic][1] to edit .mp3 files metadata. The problem is: I don&#39;t know the specific tags of the files to edit the desired data. \r\n\r\nHere&#39;s my code to get the mp3 track for example:\r\n\r\n    public static int get_rep(Music msc)\r\n    {\r\n    \ttry\r\n    \t{\r\n    \t\tMp3File file = new Mp3File(msc.get_path());\r\n    \t\t\t\r\n    \t\tif (file.hasId3v1Tag()) \r\n    \t\t{\r\n    \t\t\tID3v1 tag = file.getId3v1Tag();\r\n    \t\t\treturn Integer.parseInt(tag.getTrack());\r\n    \t\t}\r\n    \t\telse if (file.hasId3v2Tag()) \r\n    \t\t{\r\n    \t\t\tID3v2 tag = file.getId3v2Tag();\r\n    \t\t\treturn Integer.parseInt(tag.getTrack());\r\n    \t\t}\r\n    \t}\r\n    \tcatch (UnsupportedTagException e) \r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t} \r\n    \tcatch (InvalidDataException e) \r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t} \r\n    \tcatch (IOException e) \r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \treturn -1;\t\r\n    }\r\n\r\nIs there a way to get the tag value skipping `file.hasId3v1Tag()` and `file.hasId3v2Tag()` verifications?\r\n\r\nI tried:\r\n\r\n    private static Object get_tag(Music msc)\r\n    {\r\n    \ttry\r\n    \t{\r\n    \t\tMp3File file = new Mp3File(msc.get_path());\r\n    \t\t\t\r\n    \t\tif (file.hasId3v1Tag()) \r\n    \t\t{\r\n    \t\t\treturn file.getId3v1Tag();\r\n    \t\t}\r\n    \t\telse if (file.hasId3v2Tag()) \r\n    \t\t{\r\n    \t\t\treturn file.getId3v2Tag();\r\n    \t\t}\r\n    \t\t/*\r\n    \t\telse if(file.hasCustomTag()) \r\n    \t\t{\r\n    \t\t\tfile.removeCustomTag();\r\n    \t\t\treturn file.getCustomTag();\r\n    \t\t}\r\n    \t\t*/\r\n    \t}\r\n    \tcatch (UnsupportedTagException e) \r\n    \t{\r\n    \t    e.printStackTrace();\r\n    \t} \r\n    \tcatch (InvalidDataException e) \r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t} \r\n    \tcatch (IOException e) \r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \treturn Boolean.FALSE;\r\n    } \r\n\r\nBut I still have to check the tags, then cast the `Object` value to a tag value, which means I&#39;d have to know it anyway. I&#39;m accepting any suggestions, even exchanging mp3agic.\r\n\r\n\r\n  [1]: https://github.com/mpatric/mp3agic","title":"Is there a way to get a generic mp3 tag using mp3agic?","body":"<p>I'm developing an MP3 player with java, using <a href=\"https://github.com/mpatric/mp3agic\" rel=\"nofollow noreferrer\">mp3agic</a> to edit .mp3 files metadata. The problem is: I don't know the specific tags of the files to edit the desired data.</p>\n<p>Here's my code to get the mp3 track for example:</p>\n<pre><code>public static int get_rep(Music msc)\n{\n    try\n    {\n        Mp3File file = new Mp3File(msc.get_path());\n            \n        if (file.hasId3v1Tag()) \n        {\n            ID3v1 tag = file.getId3v1Tag();\n            return Integer.parseInt(tag.getTrack());\n        }\n        else if (file.hasId3v2Tag()) \n        {\n            ID3v2 tag = file.getId3v2Tag();\n            return Integer.parseInt(tag.getTrack());\n        }\n    }\n    catch (UnsupportedTagException e) \n    {\n        e.printStackTrace();\n    } \n    catch (InvalidDataException e) \n    {\n        e.printStackTrace();\n    } \n    catch (IOException e) \n    {\n        e.printStackTrace();\n    }\n    return -1;  \n}\n</code></pre>\n<p>Is there a way to get the tag value skipping <code>file.hasId3v1Tag()</code> and <code>file.hasId3v2Tag()</code> verifications?</p>\n<p>I tried:</p>\n<pre><code>private static Object get_tag(Music msc)\n{\n    try\n    {\n        Mp3File file = new Mp3File(msc.get_path());\n            \n        if (file.hasId3v1Tag()) \n        {\n            return file.getId3v1Tag();\n        }\n        else if (file.hasId3v2Tag()) \n        {\n            return file.getId3v2Tag();\n        }\n        /*\n        else if(file.hasCustomTag()) \n        {\n            file.removeCustomTag();\n            return file.getCustomTag();\n        }\n        */\n    }\n    catch (UnsupportedTagException e) \n    {\n        e.printStackTrace();\n    } \n    catch (InvalidDataException e) \n    {\n        e.printStackTrace();\n    } \n    catch (IOException e) \n    {\n        e.printStackTrace();\n    }\n    return Boolean.FALSE;\n} \n</code></pre>\n<p>But I still have to check the tags, then cast the <code>Object</code> value to a tag value, which means I'd have to know it anyway. I'm accepting any suggestions, even exchanging mp3agic.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"owner":{"account_id":12172266,"reputation":143,"user_id":8886541,"display_name":"Sandaru Fernando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1646847944,"creation_date":1646835386,"question_id":71410779,"body_markdown":"I used the below code from a different [thread][1] in order to solve String Arithmetic Expressions in my **Kotlin Android Application**. It works most of the time, but I identified it gives an error for some expressions. Below are some of them.\r\n```\r\n((4 - 12) - 4) - 14\r\n\r\n((9 - 7) - 19) - 4\r\n\r\n((8 - 10) - 6) - 11\r\n\r\n((2 - 5) * 16) - 3\r\n\r\n((6 - 15) - 5) / 15\r\n```\r\n\r\n```\r\nimport kotlin.math.pow\r\n\r\nfun basic(rightNum:String?, leftNum:String?, op:String?):Double? {\r\n    return when (op) {\r\n        &quot;+&quot; -&gt; {\r\n            (rightNum?.toDouble()!! + leftNum?.toDouble()!!)\r\n        }\r\n        &quot;-&quot; -&gt; {\r\n            (rightNum?.toDouble()!! - leftNum?.toDouble()!!)\r\n        }\r\n        &quot;*&quot; -&gt; {\r\n            (rightNum?.toDouble()!! * leftNum?.toDouble()!!)\r\n        }\r\n        &quot;^&quot; -&gt; {\r\n            ((rightNum?.toDouble()!!).pow(leftNum?.toDouble()!!))\r\n        }\r\n        else -&gt; {\r\n            (rightNum?.toDouble()!! / leftNum?.toDouble()!!)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfun elemInside(mainString:String?, listCheck:List&lt;String&gt;):Boolean {\r\n    for (ops in listCheck) {\r\n        if (mainString?.contains(ops)!!){\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\nfun getOpIndex(query: String?, operations:List&lt;String&gt;):Array&lt;Int&gt; {\r\n    var allIndex:Array&lt;Int&gt; = arrayOf()\r\n    var dupQuery = query\r\n    while (elemInside(dupQuery, operations)) {\r\n        for (op in operations) {\r\n            if (dupQuery?.contains(op)!!) {\r\n                allIndex = allIndex.plusElement(dupQuery.indexOf(op))\r\n                dupQuery = dupQuery.substring(0, dupQuery.indexOf(op)) + &#39;1&#39; + dupQuery.substring(dupQuery.indexOf(op) + 1)\r\n            }\r\n        }\r\n    }\r\n\r\n    allIndex.sort()\r\n    return allIndex\r\n}\r\n\r\n\r\nfun parseSimple(query:String?):Double? {\r\n    val operations = listOf(&quot;^&quot;, &quot;/&quot;, &quot;*&quot;, &quot;-&quot;, &quot;+&quot;)\r\n    var allIndex: Array&lt;Int&gt; = arrayOf()\r\n\r\n    var calcQuery = query\r\n    while (elemInside(calcQuery, operations) &amp;&amp; (allIndex.size &gt; 1 || if (allIndex.isEmpty()) true else allIndex[0] != 0)) {\r\n        for (op in operations) {\r\n            calcQuery = calcQuery?.replace(&quot;-+&quot;, &quot;-&quot;)\r\n            calcQuery = calcQuery?.replace(&quot;--&quot;, &quot;+&quot;)\r\n            calcQuery = calcQuery?.replace(&quot;+-&quot;, &quot;-&quot;)\r\n            allIndex = getOpIndex(calcQuery, operations)\r\n            if (calcQuery?.contains(op)!!) {\r\n                val indexOp = calcQuery.indexOf(op)\r\n                val indexIndexOp = allIndex.indexOf(indexOp)\r\n                val rightIndex =\r\n                    if (indexIndexOp == allIndex.lastIndex) calcQuery.lastIndex else allIndex[indexIndexOp + 1]\r\n                val leftIndex = if (indexIndexOp == 0) 0 else allIndex[indexIndexOp - 1]\r\n                val rightNum =\r\n                    calcQuery.slice(if (rightIndex == calcQuery.lastIndex) indexOp + 1..rightIndex else indexOp + 1 until rightIndex)\r\n                val leftNum = calcQuery.slice(if (leftIndex == 0) leftIndex until indexOp else leftIndex + 1  until indexOp)\r\n                val result = basic(leftNum, rightNum, op)\r\n                calcQuery = (if (leftIndex != 0) calcQuery.substring(\r\n                    0,\r\n                    leftIndex + 1\r\n                ) else &quot;&quot;) + result.toString() + (if(rightIndex != calcQuery.lastIndex) calcQuery.substring(\r\n                    rightIndex..calcQuery.lastIndex\r\n                ) else &quot;&quot;)\r\n            }\r\n        }\r\n    }\r\n    return calcQuery?.toDouble()\r\n}\r\n\r\nfun getAllIndex(query: String?, char: Char, replacement:String=&quot;%&quot;):List&lt;Int&gt; {\r\n    var myQuery = query\r\n    var indexes:List&lt;Int&gt; = listOf()\r\n    while (char in myQuery!!) {\r\n        val indexFinded = myQuery.indexOf(char)\r\n        indexes = indexes.plus(indexFinded)\r\n        myQuery = myQuery.substring(0 until indexFinded) + replacement + myQuery.substring(indexFinded+1..myQuery.lastIndex)\r\n    }\r\n    return indexes\r\n}\r\n\r\nfun getBrackets(query: String?): List&lt;Int&gt; {\r\n    val allEndIndex = getAllIndex(query, &#39;)&#39;)\r\n    val allStartIndex = getAllIndex(query, &#39;(&#39;)\r\n    val firstIndex = allStartIndex[0]\r\n    for (endIndex in allEndIndex) {\r\n        val inBrac = query?.substring(firstIndex+1 until endIndex)\r\n        val inBracStart = getAllIndex(inBrac, &#39;(&#39;)\r\n        val inBracEnd = getAllIndex(inBrac, &#39;)&#39;)\r\n        if (inBracStart.size == inBracEnd.size){\r\n            return listOf(firstIndex, endIndex)\r\n        }\r\n    }\r\n    return listOf(-1, -1)\r\n}\r\n\r\nfun evaluate(query:String?):Double? {\r\n    var calcQuery = query\r\n    var index = 0;\r\n    // Check if brackets are present\r\n    while (calcQuery?.contains(&#39;(&#39;)!! &amp;&amp; index &lt; 200){\r\n        val startBrackets = getBrackets(calcQuery)[0]\r\n        val endBrackets = getBrackets(calcQuery)[1]\r\n        val inBrackets = calcQuery.slice(startBrackets+1 until endBrackets)\r\n        if (&#39;(&#39; in inBrackets &amp;&amp; &#39;)&#39; in inBrackets){\r\n            val inBracValue = evaluate(inBrackets)\r\n            calcQuery = calcQuery.substring(0, startBrackets) + inBracValue.toString() + (if(endBrackets == calcQuery.lastIndex) &quot;&quot; else calcQuery.substring(endBrackets+1..calcQuery.lastIndex))\r\n        }\r\n        else {\r\n            val inBracValue = parseSimple(inBrackets)\r\n            calcQuery = calcQuery.substring(0, startBrackets) + inBracValue.toString() + (if(endBrackets == calcQuery.lastIndex) &quot;&quot; else calcQuery.substring(endBrackets+1..calcQuery.lastIndex))\r\n        }\r\n        index++\r\n    }\r\n\r\n    return parseSimple(calcQuery)\r\n}\r\n\r\n\r\nfun main() {\r\n    print(&quot;Enter the equation: &quot;)\r\n    val equation = readLine()\r\n    println(evaluate(equation))\r\n}\r\n```\r\n\r\nBelow is the returned error.\r\n```\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: empty String\r\n at jdk.internal.math.FloatingDecimal.readJavaFormatString (:-1) \r\n at jdk.internal.math.FloatingDecimal.parseDouble (:-1) \r\n at java.lang.Double.parseDouble (:-1) \r\n```\r\n\r\nAlternatively if someone could suggest me a different method to solve arithmetic expressions in a **Kotlin** Android Application that would also help.\r\n\r\nTried [this][2] but didn’t work.\r\n\r\nThank you in advance.\r\n\r\n\r\n  [1]: https://codereview.stackexchange.com/questions/247907/arithmetic-parser-in-kotlin\r\n  [2]: https://stackoverflow.com/questions/42128648/how-to-use-scriptenginemanager-in-android","title":"Kotlin Arithmetic Expressions Parser Bug","body":"<p>I used the below code from a different <a href=\"https://codereview.stackexchange.com/questions/247907/arithmetic-parser-in-kotlin\">thread</a> in order to solve String Arithmetic Expressions in my <strong>Kotlin Android Application</strong>. It works most of the time, but I identified it gives an error for some expressions. Below are some of them.</p>\n<pre><code>((4 - 12) - 4) - 14\n\n((9 - 7) - 19) - 4\n\n((8 - 10) - 6) - 11\n\n((2 - 5) * 16) - 3\n\n((6 - 15) - 5) / 15\n</code></pre>\n<pre><code>import kotlin.math.pow\n\nfun basic(rightNum:String?, leftNum:String?, op:String?):Double? {\n    return when (op) {\n        &quot;+&quot; -&gt; {\n            (rightNum?.toDouble()!! + leftNum?.toDouble()!!)\n        }\n        &quot;-&quot; -&gt; {\n            (rightNum?.toDouble()!! - leftNum?.toDouble()!!)\n        }\n        &quot;*&quot; -&gt; {\n            (rightNum?.toDouble()!! * leftNum?.toDouble()!!)\n        }\n        &quot;^&quot; -&gt; {\n            ((rightNum?.toDouble()!!).pow(leftNum?.toDouble()!!))\n        }\n        else -&gt; {\n            (rightNum?.toDouble()!! / leftNum?.toDouble()!!)\n        }\n    }\n}\n\n\nfun elemInside(mainString:String?, listCheck:List&lt;String&gt;):Boolean {\n    for (ops in listCheck) {\n        if (mainString?.contains(ops)!!){\n            return true\n        }\n    }\n    return false\n}\n\nfun getOpIndex(query: String?, operations:List&lt;String&gt;):Array&lt;Int&gt; {\n    var allIndex:Array&lt;Int&gt; = arrayOf()\n    var dupQuery = query\n    while (elemInside(dupQuery, operations)) {\n        for (op in operations) {\n            if (dupQuery?.contains(op)!!) {\n                allIndex = allIndex.plusElement(dupQuery.indexOf(op))\n                dupQuery = dupQuery.substring(0, dupQuery.indexOf(op)) + '1' + dupQuery.substring(dupQuery.indexOf(op) + 1)\n            }\n        }\n    }\n\n    allIndex.sort()\n    return allIndex\n}\n\n\nfun parseSimple(query:String?):Double? {\n    val operations = listOf(&quot;^&quot;, &quot;/&quot;, &quot;*&quot;, &quot;-&quot;, &quot;+&quot;)\n    var allIndex: Array&lt;Int&gt; = arrayOf()\n\n    var calcQuery = query\n    while (elemInside(calcQuery, operations) &amp;&amp; (allIndex.size &gt; 1 || if (allIndex.isEmpty()) true else allIndex[0] != 0)) {\n        for (op in operations) {\n            calcQuery = calcQuery?.replace(&quot;-+&quot;, &quot;-&quot;)\n            calcQuery = calcQuery?.replace(&quot;--&quot;, &quot;+&quot;)\n            calcQuery = calcQuery?.replace(&quot;+-&quot;, &quot;-&quot;)\n            allIndex = getOpIndex(calcQuery, operations)\n            if (calcQuery?.contains(op)!!) {\n                val indexOp = calcQuery.indexOf(op)\n                val indexIndexOp = allIndex.indexOf(indexOp)\n                val rightIndex =\n                    if (indexIndexOp == allIndex.lastIndex) calcQuery.lastIndex else allIndex[indexIndexOp + 1]\n                val leftIndex = if (indexIndexOp == 0) 0 else allIndex[indexIndexOp - 1]\n                val rightNum =\n                    calcQuery.slice(if (rightIndex == calcQuery.lastIndex) indexOp + 1..rightIndex else indexOp + 1 until rightIndex)\n                val leftNum = calcQuery.slice(if (leftIndex == 0) leftIndex until indexOp else leftIndex + 1  until indexOp)\n                val result = basic(leftNum, rightNum, op)\n                calcQuery = (if (leftIndex != 0) calcQuery.substring(\n                    0,\n                    leftIndex + 1\n                ) else &quot;&quot;) + result.toString() + (if(rightIndex != calcQuery.lastIndex) calcQuery.substring(\n                    rightIndex..calcQuery.lastIndex\n                ) else &quot;&quot;)\n            }\n        }\n    }\n    return calcQuery?.toDouble()\n}\n\nfun getAllIndex(query: String?, char: Char, replacement:String=&quot;%&quot;):List&lt;Int&gt; {\n    var myQuery = query\n    var indexes:List&lt;Int&gt; = listOf()\n    while (char in myQuery!!) {\n        val indexFinded = myQuery.indexOf(char)\n        indexes = indexes.plus(indexFinded)\n        myQuery = myQuery.substring(0 until indexFinded) + replacement + myQuery.substring(indexFinded+1..myQuery.lastIndex)\n    }\n    return indexes\n}\n\nfun getBrackets(query: String?): List&lt;Int&gt; {\n    val allEndIndex = getAllIndex(query, ')')\n    val allStartIndex = getAllIndex(query, '(')\n    val firstIndex = allStartIndex[0]\n    for (endIndex in allEndIndex) {\n        val inBrac = query?.substring(firstIndex+1 until endIndex)\n        val inBracStart = getAllIndex(inBrac, '(')\n        val inBracEnd = getAllIndex(inBrac, ')')\n        if (inBracStart.size == inBracEnd.size){\n            return listOf(firstIndex, endIndex)\n        }\n    }\n    return listOf(-1, -1)\n}\n\nfun evaluate(query:String?):Double? {\n    var calcQuery = query\n    var index = 0;\n    // Check if brackets are present\n    while (calcQuery?.contains('(')!! &amp;&amp; index &lt; 200){\n        val startBrackets = getBrackets(calcQuery)[0]\n        val endBrackets = getBrackets(calcQuery)[1]\n        val inBrackets = calcQuery.slice(startBrackets+1 until endBrackets)\n        if ('(' in inBrackets &amp;&amp; ')' in inBrackets){\n            val inBracValue = evaluate(inBrackets)\n            calcQuery = calcQuery.substring(0, startBrackets) + inBracValue.toString() + (if(endBrackets == calcQuery.lastIndex) &quot;&quot; else calcQuery.substring(endBrackets+1..calcQuery.lastIndex))\n        }\n        else {\n            val inBracValue = parseSimple(inBrackets)\n            calcQuery = calcQuery.substring(0, startBrackets) + inBracValue.toString() + (if(endBrackets == calcQuery.lastIndex) &quot;&quot; else calcQuery.substring(endBrackets+1..calcQuery.lastIndex))\n        }\n        index++\n    }\n\n    return parseSimple(calcQuery)\n}\n\n\nfun main() {\n    print(&quot;Enter the equation: &quot;)\n    val equation = readLine()\n    println(evaluate(equation))\n}\n</code></pre>\n<p>Below is the returned error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: empty String\n at jdk.internal.math.FloatingDecimal.readJavaFormatString (:-1) \n at jdk.internal.math.FloatingDecimal.parseDouble (:-1) \n at java.lang.Double.parseDouble (:-1) \n</code></pre>\n<p>Alternatively if someone could suggest me a different method to solve arithmetic expressions in a <strong>Kotlin</strong> Android Application that would also help.</p>\n<p>Tried <a href=\"https://stackoverflow.com/questions/42128648/how-to-use-scriptenginemanager-in-android\">this</a> but didn’t work.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring-boot","post","junit","spring-test"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1646848563,"post_id":71413717,"comment_id":126227604,"body_markdown":"This seems like lots of hand-fiddling. Is there a reason you&#39;re not using MockMvc or TestRestTemplate?","body":"This seems like lots of hand-fiddling. Is there a reason you&#39;re not using MockMvc or TestRestTemplate?"},{"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"score":0,"creation_date":1646856795,"post_id":71413717,"comment_id":126230256,"body_markdown":"@chrylis-cautiouslyoptimistic- it was a problem with the relative path, thank you","body":"@chrylis-cautiouslyoptimistic- it was a problem with the relative path, thank you"}],"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646847642,"creation_date":1646847642,"question_id":71413717,"body_markdown":"I&#39;m testing a microservice that writes into a file with JUnit.\r\nThe problem is that I get a ```java.io.FileNotFoundException: DecryptService/src/main/resources/KEY_DECR/KeyStorage/provaChiave (File or directory not found)```, but when using the function not in the test everything works fine.\r\nI think that the problem might be that the location of the file that I want to write is in another microservice (DecryptService).\r\nHow can I solve it?\r\n\r\nThis is the KeysMicroservice\r\n\r\n```\r\n@RequestMapping(value=&quot;/insertKey&quot;,method= RequestMethod.POST)\r\n    public ResponseEntity&lt;String&gt; post(@RequestBody String json){\r\n    try \r\n        (FileWriter file = new FileWriter(&quot;DecryptService/src/main/resources/KEY_DECR/KeyStorage/&quot;+result.get(&quot;keyName&quot;))) {\r\n            file.write(result.get(&quot;json&quot;));\r\n            file.flush();\r\n    } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return new ResponseEntity&lt;&gt;(&quot;Upload failed&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nAnd this is how I&#39;m testing it:\r\n\r\n```\r\n    @Test\r\n    public void correctKey() {\r\n        JSONObject json = new JSONObject();\r\n        try {\r\n            json.put(&quot;username&quot;, &quot;luca&quot;);\r\n            json.put(&quot;keyName&quot;,&quot;provaChiave&quot;);\r\n            json.put(&quot;json&quot;, &quot;--- value ---&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n        String expectedResult =&quot;&lt;200 OK OK,Upload completed,[]&gt;&quot;;\r\n        assertEquals(expectedResult,String.valueOf(insertRequest.post(json.toString())));\r\n    }\r\n```\r\n\r\nThank you in advance.","title":"Can&#39;t test microservice with JUnit","body":"<p>I'm testing a microservice that writes into a file with JUnit.\nThe problem is that I get a <code>java.io.FileNotFoundException: DecryptService/src/main/resources/KEY_DECR/KeyStorage/provaChiave (File or directory not found)</code>, but when using the function not in the test everything works fine.\nI think that the problem might be that the location of the file that I want to write is in another microservice (DecryptService).\nHow can I solve it?</p>\n<p>This is the KeysMicroservice</p>\n<pre><code>@RequestMapping(value=&quot;/insertKey&quot;,method= RequestMethod.POST)\n    public ResponseEntity&lt;String&gt; post(@RequestBody String json){\n    try \n        (FileWriter file = new FileWriter(&quot;DecryptService/src/main/resources/KEY_DECR/KeyStorage/&quot;+result.get(&quot;keyName&quot;))) {\n            file.write(result.get(&quot;json&quot;));\n            file.flush();\n    } catch (IOException e) {\n            e.printStackTrace();\n            return new ResponseEntity&lt;&gt;(&quot;Upload failed&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>And this is how I'm testing it:</p>\n<pre><code>    @Test\n    public void correctKey() {\n        JSONObject json = new JSONObject();\n        try {\n            json.put(&quot;username&quot;, &quot;luca&quot;);\n            json.put(&quot;keyName&quot;,&quot;provaChiave&quot;);\n            json.put(&quot;json&quot;, &quot;--- value ---&quot;);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        String expectedResult =&quot;&lt;200 OK OK,Upload completed,[]&gt;&quot;;\n        assertEquals(expectedResult,String.valueOf(insertRequest.post(json.toString())));\n    }\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","dst"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1646752440,"post_id":71397254,"comment_id":126198466,"body_markdown":"Do you know that single time zone?","body":"Do you know that single time zone?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1646752459,"post_id":71397254,"comment_id":126198472,"body_markdown":"&quot;All date-time is in one timezone.&quot; - and do you know what time zone that is? (Is that part of the information your application has separately?) Fundamentally, if they provided a date/time with UTC offset, e.g. 2019-10-07T11:07:00+0100, that would give you all the information you need.","body":"&quot;All date-time is in one timezone.&quot; - and do you know what time zone that is? (Is that part of the information your application has separately?) Fundamentally, if they provided a date/time with UTC offset, e.g. 2019-10-07T11:07:00+0100, that would give you all the information you need."},{"owner":{"account_id":9098423,"reputation":83,"user_id":6771540,"display_name":"Marco"},"score":0,"creation_date":1646757238,"post_id":71397254,"comment_id":126200484,"body_markdown":"Our application runs in the Central time zone. All clients in same. So all dates time are in the Central timezone only.","body":"Our application runs in the Central time zone. All clients in same. So all dates time are in the Central timezone only."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1647015791,"post_id":71397254,"comment_id":126274481,"body_markdown":"By the way, you did a great job asking and responding to comments on this question. You included the right amount of background, and it is clear you took care to thoroughly understand your problem before asking. Thanks for respecting your audience this way!","body":"By the way, you did a great job asking and responding to comments on this question. You included the right amount of background, and it is clear you took care to thoroughly understand your problem before asking. Thanks for respecting your audience this way!"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646757991,"creation_date":1646757991,"answer_id":71398588,"question_id":71397254,"body_markdown":"This is simple task. The [DateTimeFormatter][1] class gives you all the info you need. 2019-10-07 11:07 AM Your format would be `&#39;yyyy-MM-dd hh:mm a&#39;` and you should use [LocalDateTime][2] class. But since you need to take into account daylight savings time then you might want to use classes [ZonedDateTime][3] or [OffsetDateTime][4] and provide your timezone. It might be an overkill, but I once worked on the project where I needed to parse Strings to Dates without knowing the format in advance. So, here is the article I wrote on how to do that: [Java 8 java.time package: parsing any string to date][5] \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFormatter.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [5]: https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/","title":"What Date time format can be used to handle DST in Java","body":"<p>This is simple task. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> class gives you all the info you need. 2019-10-07 11:07 AM Your format would be <code>'yyyy-MM-dd hh:mm a'</code> and you should use <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">LocalDateTime</a> class. But since you need to take into account daylight savings time then you might want to use classes <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\">OffsetDateTime</a> and provide your timezone. It might be an overkill, but I once worked on the project where I needed to parse Strings to Dates without knowing the format in advance. So, here is the article I wrote on how to do that: <a href=\"https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/\" rel=\"nofollow noreferrer\">Java 8 java.time package: parsing any string to date</a></p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1646847532,"creation_date":1646763328,"answer_id":71399726,"question_id":71397254,"body_markdown":"# Getting it right is not obvious #\r\n\r\nThey are telling you their local time, and you can infer the time zone (because &quot;all date is in one time zone&quot;). \r\n\r\nThe basic calculation looks like this:\r\n\r\n```java\r\nZoneId pacific = ZoneId.of(&quot;America/Los_Angeles&quot;);\r\nDateTimeFormatter local = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd hh:mm a&quot;).withZone(pacific);\r\nZonedDateTime start = ZonedDateTime.parse(&quot;2022-11-06 01:30 AM&quot;, local);\r\nZonedDateTime until = ZonedDateTime.parse(&quot;2022-11-07 01:30 AM&quot;, local);\r\nlong hours = start.until(until, ChronoUnit.HOURS);\r\nSystem.out.printf(&quot;%d hours elapsed%n&quot;, hours);\r\n```\r\n\r\nThis prints &quot;***25 hours*** elapsed.&quot; In the Pacific time zone, November 6, 2022, is 25 hours long, because when daylight saving ends in the autumn, the clock is set back one hour. If someone tells you it&#39;s 1:00 AM, you don&#39;t know if midnight was one hour ago or two.\r\n\r\n# The default offset heuristic #\r\n\r\nWhat you really need is the offset, and you have to rely on some heuristic for that. By default, `ZonedDateTime` chooses one instant from multiple ambiguous local date-times [by selecting the earliest offset][1] (the &quot;summer&quot; offset).\r\n\r\n# Specifying the offset #\r\n\r\nIf that&#39;s not what you want, you can override the offset explicitly. For example, maybe you process these time stamps close to real-time, and you can guess what the offset should be based on the current time. Or maybe you know that these local time stamps are always processed in chronological order; by tracking the latest time you&#39;ve seen, and noting if an earlier time stamp follows, you can detect the clock set back and change the offset.\r\n\r\nThe [`ZonedDateTime.ofLocal()`][2] and [`ZonedDateTime.ofStrict()`][3] functions can be used to explicitly control the offset.\r\n\r\n# OffsetDateTime #\r\n\r\nAlternatively, you might request that they include the offset in the timestamp string. Usually this would be indicated with a signed number of hours and minutes: &quot;-07:00&quot; or &quot;-0800&quot;. This will provide unambiguous interpretation of times during DST transitions.\r\n\r\n---\r\n\r\nHere is an example using `OffsetDateTime`. First, if the offset uses a colon, as in &quot;2019-10-07T11:07:00+01:00&quot;, it is a standard format, and can be parsed like this:\r\n\r\n```java\r\nOffsetDateTime start = OffsetDateTime.parse(&quot;2019-10-07T11:07:00+01:00&quot;);\r\n```\r\nIf the colon is missing, you need a formatter to handle the non-standard input:\r\n\r\n```java\r\nDateTimeFormatter odt = new DateTimeFormatterBuilder()\r\n    .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\r\n    .appendOffsetId()\r\n    .toFormatter();\r\nOffsetDateTime when = OffsetDateTime.parse(&quot;2019-10-07T11:07:00+01:00&quot;, odt);\r\n```\r\nFrom there, the calculation is the same as with `ZonedDateTime`:\r\n\r\n```\r\nOffsetDateTime start = OffsetDateTime.parse(&quot;2022-11-06T01:00:00-07:00&quot;, odt);\r\nOffsetDateTime until = OffsetDateTime.parse(&quot;2022-11-07T01:54:00-08:00&quot;, odt);\r\nlong hours = start.until(until, ChronoUnit.HOURS);\r\nSystem.out.printf(&quot;%d complete hours elapsed.%n&quot;, hours);\r\nDuration duration = Duration.between(start, until);\r\nSystem.out.println(&quot;Full duration: &quot; + duration);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#of-java.time.LocalDateTime-java.time.ZoneId-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#ofLocal-java.time.LocalDateTime-java.time.ZoneId-java.time.ZoneOffset-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#ofStrict-java.time.LocalDateTime-java.time.ZoneOffset-java.time.ZoneId-","title":"What Date time format can be used to handle DST in Java","body":"<h1>Getting it right is not obvious</h1>\n<p>They are telling you their local time, and you can infer the time zone (because &quot;all date is in one time zone&quot;).</p>\n<p>The basic calculation looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId pacific = ZoneId.of(&quot;America/Los_Angeles&quot;);\nDateTimeFormatter local = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd hh:mm a&quot;).withZone(pacific);\nZonedDateTime start = ZonedDateTime.parse(&quot;2022-11-06 01:30 AM&quot;, local);\nZonedDateTime until = ZonedDateTime.parse(&quot;2022-11-07 01:30 AM&quot;, local);\nlong hours = start.until(until, ChronoUnit.HOURS);\nSystem.out.printf(&quot;%d hours elapsed%n&quot;, hours);\n</code></pre>\n<p>This prints &quot;<em><strong>25 hours</strong></em> elapsed.&quot; In the Pacific time zone, November 6, 2022, is 25 hours long, because when daylight saving ends in the autumn, the clock is set back one hour. If someone tells you it's 1:00 AM, you don't know if midnight was one hour ago or two.</p>\n<h1>The default offset heuristic</h1>\n<p>What you really need is the offset, and you have to rely on some heuristic for that. By default, <code>ZonedDateTime</code> chooses one instant from multiple ambiguous local date-times <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#of-java.time.LocalDateTime-java.time.ZoneId-\" rel=\"nofollow noreferrer\">by selecting the earliest offset</a> (the &quot;summer&quot; offset).</p>\n<h1>Specifying the offset</h1>\n<p>If that's not what you want, you can override the offset explicitly. For example, maybe you process these time stamps close to real-time, and you can guess what the offset should be based on the current time. Or maybe you know that these local time stamps are always processed in chronological order; by tracking the latest time you've seen, and noting if an earlier time stamp follows, you can detect the clock set back and change the offset.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#ofLocal-java.time.LocalDateTime-java.time.ZoneId-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime.ofLocal()</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#ofStrict-java.time.LocalDateTime-java.time.ZoneOffset-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime.ofStrict()</code></a> functions can be used to explicitly control the offset.</p>\n<h1>OffsetDateTime</h1>\n<p>Alternatively, you might request that they include the offset in the timestamp string. Usually this would be indicated with a signed number of hours and minutes: &quot;-07:00&quot; or &quot;-0800&quot;. This will provide unambiguous interpretation of times during DST transitions.</p>\n<hr />\n<p>Here is an example using <code>OffsetDateTime</code>. First, if the offset uses a colon, as in &quot;2019-10-07T11:07:00+01:00&quot;, it is a standard format, and can be parsed like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OffsetDateTime start = OffsetDateTime.parse(&quot;2019-10-07T11:07:00+01:00&quot;);\n</code></pre>\n<p>If the colon is missing, you need a formatter to handle the non-standard input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter odt = new DateTimeFormatterBuilder()\n    .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n    .appendOffsetId()\n    .toFormatter();\nOffsetDateTime when = OffsetDateTime.parse(&quot;2019-10-07T11:07:00+01:00&quot;, odt);\n</code></pre>\n<p>From there, the calculation is the same as with <code>ZonedDateTime</code>:</p>\n<pre><code>OffsetDateTime start = OffsetDateTime.parse(&quot;2022-11-06T01:00:00-07:00&quot;, odt);\nOffsetDateTime until = OffsetDateTime.parse(&quot;2022-11-07T01:54:00-08:00&quot;, odt);\nlong hours = start.until(until, ChronoUnit.HOURS);\nSystem.out.printf(&quot;%d complete hours elapsed.%n&quot;, hours);\nDuration duration = Duration.between(start, until);\nSystem.out.println(&quot;Full duration: &quot; + duration);\n</code></pre>\n"}],"owner":{"account_id":9098423,"reputation":83,"user_id":6771540,"display_name":"Marco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71399726,"answer_count":2,"score":1,"last_activity_date":1646847532,"creation_date":1646752244,"question_id":71397254,"body_markdown":"Our client sends us a start and end date-time in a text file as a String in the below format\r\n\r\n2019-10-07 11:07 AM\r\n\r\nAll date-time is in one timezone. We calculate the difference between the start and end date-time to calculate the hours worked. The hours worked calculation goes wrong when the transition of daylight savings time happens.  They are not sending enough information for us to calculate correctly.\r\n\r\nI am about to recommend that they send us more information so that we can address this issue. What is a good solution here? What date-time format should we recommend to them that will help us address the DST change and calculate hours worked correctly.\r\n\r\nWe use Java.\r\n","title":"What Date time format can be used to handle DST in Java","body":"<p>Our client sends us a start and end date-time in a text file as a String in the below format</p>\n<p>2019-10-07 11:07 AM</p>\n<p>All date-time is in one timezone. We calculate the difference between the start and end date-time to calculate the hours worked. The hours worked calculation goes wrong when the transition of daylight savings time happens.  They are not sending enough information for us to calculate correctly.</p>\n<p>I am about to recommend that they send us more information so that we can address this issue. What is a good solution here? What date-time format should we recommend to them that will help us address the DST change and calculate hours worked correctly.</p>\n<p>We use Java.</p>\n"},{"tags":["java","apache-kafka","quarkus","javaagents","jmx-exporter"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646847264,"creation_date":1646846779,"answer_id":71413554,"question_id":71408089,"body_markdown":"Do you really need the JMX Exporter? \r\n\r\nQuarkus uses [Micrometer](https://quarkus.io/guides/micrometer) (recommended) or [SmallRye Metrics](https://quarkus.io/guides/smallrye-metrics) to expose Prometheus data. You should wire internal JMX metrics through those endpoints instead, and Micrometer defaults to enabling JVM metrics. ","title":"How to connect quarkus Kakfa Consumer jar file with JMX Exporter properly?","body":"<p>Do you really need the JMX Exporter?</p>\n<p>Quarkus uses <a href=\"https://quarkus.io/guides/micrometer\" rel=\"nofollow noreferrer\">Micrometer</a> (recommended) or <a href=\"https://quarkus.io/guides/smallrye-metrics\" rel=\"nofollow noreferrer\">SmallRye Metrics</a> to expose Prometheus data. You should wire internal JMX metrics through those endpoints instead, and Micrometer defaults to enabling JVM metrics.</p>\n"}],"owner":{"account_id":16767667,"reputation":31,"user_id":12142691,"display_name":"Arnav Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646847264,"creation_date":1646822913,"question_id":71408089,"body_markdown":"I am trying to attach the javaagent with my jar file in which I have implemeneted a simple Kafka Consumer in Quarkus. I plan on pushing the consumer-metrics to the specifed port, with the help of the following command\r\n\r\n```\r\njava -javaagent:./jmx_prometheus_javaagent-0.16.1.jar=9080:kafkaconsumer.yml -jar ./quarkus-run.jar\r\n```\r\n\r\nI get the following error,  \r\n\r\n```Error: Could not find or load main class io.quarkus.bootstrap.runner.QuarkusEntryPoint Caused by: java.lang.ClassNotFoundException: io.quarkus.bootstrap.runner.QuarkusEntryPoint ```\r\n\r\nIt asks for a main method but in Quarkus there is no main method. Is there a way around this?\r\n\r\nAny help would be appreciated.  \r\n\r\n","title":"How to connect quarkus Kakfa Consumer jar file with JMX Exporter properly?","body":"<p>I am trying to attach the javaagent with my jar file in which I have implemeneted a simple Kafka Consumer in Quarkus. I plan on pushing the consumer-metrics to the specifed port, with the help of the following command</p>\n<pre><code>java -javaagent:./jmx_prometheus_javaagent-0.16.1.jar=9080:kafkaconsumer.yml -jar ./quarkus-run.jar\n</code></pre>\n<p>I get the following error,</p>\n<p><code>Error: Could not find or load main class io.quarkus.bootstrap.runner.QuarkusEntryPoint Caused by: java.lang.ClassNotFoundException: io.quarkus.bootstrap.runner.QuarkusEntryPoint </code></p>\n<p>It asks for a main method but in Quarkus there is no main method. Is there a way around this?</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","algorithm","performance","minecraft","path-finding"],"comments":[{"owner":{"account_id":19010089,"reputation":31,"user_id":13876137,"display_name":"DefineDoddy"},"score":0,"creation_date":1646819752,"post_id":71407324,"comment_id":126216372,"body_markdown":"I&#39;m pretty new to pathfinding algorithms, so at the moment this is just a modified version of the MCPath library - I couldn&#39;t seem to find any helpful tutorials on Minecraft-specific code for this, so I decided to use this for now and try and understand it myself :) This is being run every 5 ticks in-game, which is about every 0.25s, so understandably it needs to be pretty fast lol.","body":"I&#39;m pretty new to pathfinding algorithms, so at the moment this is just a modified version of the MCPath library - I couldn&#39;t seem to find any helpful tutorials on Minecraft-specific code for this, so I decided to use this for now and try and understand it myself :) This is being run every 5 ticks in-game, which is about every 0.25s, so understandably it needs to be pretty fast lol."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":1,"creation_date":1646829829,"post_id":71407324,"comment_id":126219869,"body_markdown":"1. Profile where the time is spent. 2. debug if the algorithm really works as you expected 2.b double check your heuristic and try to improve it if possible.","body":"1. Profile where the time is spent. 2. debug if the algorithm really works as you expected 2.b double check your heuristic and try to improve it if possible."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1646838367,"post_id":71407324,"comment_id":126223372,"body_markdown":"As @MrSmith42 said: profile. `navigated.contains` and `getNeighbors` are such candidates. The trick with an anonymous initializer I would refrain from too: it introduces new (anonymous) classes. I did not see any HashMap too.","body":"As @MrSmith42 said: profile. <code>navigated.contains</code> and <code>getNeighbors</code> are such candidates. The trick with an anonymous initializer I would refrain from too: it introduces new (anonymous) classes. I did not see any HashMap too."},{"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"score":0,"creation_date":1646902742,"post_id":71407324,"comment_id":126239852,"body_markdown":"check this [How to speed up A* algorithm at large spatial scales?](https://stackoverflow.com/a/23779490/2521214) out for some inspiration and cross check. However raster A* in 3D might need a lot of memory ...","body":"check this <a href=\"https://stackoverflow.com/a/23779490/2521214\">How to speed up A* algorithm at large spatial scales?</a> out for some inspiration and cross check. However raster A* in 3D might need a lot of memory ..."}],"answers":[{"tags":[],"owner":{"account_id":85546,"reputation":84728,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646837505,"creation_date":1646837505,"answer_id":71411257,"question_id":71407324,"body_markdown":"Without looking at the rest of the algorithm, the first thing that stands out is that your data structures are incorrect. The &quot;open&quot; list needs to be a Priority Queue, and &quot;closed&quot; (or &quot;navigated&quot;) should be a set.","title":"A* Pathfinding really slow","body":"<p>Without looking at the rest of the algorithm, the first thing that stands out is that your data structures are incorrect. The &quot;open&quot; list needs to be a Priority Queue, and &quot;closed&quot; (or &quot;navigated&quot;) should be a set.</p>\n"}],"owner":{"account_id":19010089,"reputation":31,"user_id":13876137,"display_name":"DefineDoddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646847210,"creation_date":1646819328,"question_id":71407324,"body_markdown":"I have an A* pathfinding algorithm that I&#39;ve used for a Spigot plugin which worked fine. I then added a requirements system so it won&#39;t try and pathfind through places it shouldn&#39;t. Now it seems REALLY slow, and it looks like it has nothing to do with the requirements code itself, and more to do with the algorithm having many more incorrect paths when calculating. I seem to be getting 1500ms+ on this, which is definitely not good xD\r\n\r\nHere is the pathfinder code:\r\n\r\n```\r\n    public Path calculate(PathfinderGoal goal, PathScorer scorer, List&lt;PathRequirement&gt; requirements, int maxNodes) {\r\n        PathNode start = toNode(npc.getLocation());\r\n        PathNode end = toNode(goal.getLocation());\r\n\r\n        List&lt;PathNode&gt; open = new ArrayList&lt;&gt;() {{ add(start); }};\r\n        List&lt;PathNode&gt; navigated = new ArrayList&lt;&gt;();\r\n        start.setF(scorer.computeCost(start, end));\r\n\r\n        Timer timer = new Timer().start();\r\n\r\n        while (!open.isEmpty()) {\r\n            PathNode current = null;\r\n            for (PathNode node : open) {\r\n                if (current == null || node.getH() &lt; current.getH()) {\r\n                    current = node;\r\n                }\r\n            }\r\n            if (scorer.computeCost(current, end) &lt; 1 || (navigated.size() &gt;= maxNodes &amp;&amp; maxNodes != -1)) {\r\n                navigated.add(navigated.size() &lt; maxNodes ? end : current);\r\n                return reconstruct(navigated, navigated.size() - 1);\r\n            }\r\n            open.remove(current);\r\n            current.close();\r\n            for (PathNode node : current.getNeighbors()) {\r\n                if (node.isClosed()) {\r\n                    continue;\r\n                }\r\n                double tentG = current.getG() + scorer.computeCost(current, node);\r\n                if (!open.contains(node) || tentG &lt; node.getG()) {\r\n                    boolean requirementsMet = true;\r\n                    for (PathRequirement requirement : requirements) {\r\n                        requirement.setNavigated(navigated);\r\n                        if (!navigated.isEmpty() &amp;&amp; !requirement.canMoveToNewNode(navigated.get(navigated.size() - 1), node)) {\r\n                            requirementsMet = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!navigated.contains(current)) {\r\n                        navigated.add(current);\r\n                    }\r\n                    node.setG(tentG);\r\n                    node.setH(scorer.computeCost(node, end));\r\n                    node.setF(tentG + node.getH());\r\n                    if (!open.contains(node) &amp;&amp; requirementsMet) {\r\n                        open.add(node);\r\n                    }\r\n                }\r\n            }\r\n            Bukkit.broadcastMessage(&quot;Open Set Size: &quot; + open.size());\r\n            Bukkit.broadcastMessage(timer.stop() + &quot;ms&quot;);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private Path reconstruct(List&lt;PathNode&gt; navigated, int index) {\r\n        final PathNode current = navigated.get(index);\r\n        Path withCurrent = new Path(new ArrayList&lt;&gt;() {{ add(current); }});\r\n        if (index &gt; 0 &amp;&amp; navigated.contains(current)) {\r\n            return reconstruct(navigated, index - 1).append(withCurrent);\r\n        }\r\n        return withCurrent;\r\n    }\r\n```\r\n\r\nAnd here is the PathNode class:\r\n\r\n```\r\n    public PathNode(Pathfinder pathfinder, int x, int y, int z) {\r\n        this.pathfinder = pathfinder;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        if (!(other instanceof PathNode otherNode)) {\r\n            return false;\r\n        }\r\n        return otherNode.x == x &amp;&amp; otherNode.y == y &amp;&amp; otherNode.z == z;\r\n    }\r\n\r\n    public List&lt;PathNode&gt; getNeighbors() {\r\n        return new ArrayList&lt;&gt;() {\r\n            {\r\n                for (int x = -1; x &lt;= 1; x++) {\r\n                    for (int y = -1; y &lt;= 1; y++) {\r\n                        for (int z = -1; z &lt;= 1; z++) {\r\n                            add(new PathNode(pathfinder, PathNode.this.x + x, PathNode.this.y + y, PathNode.this.z + z));\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    public Location getLocation() {\r\n        return new Location(pathfinder.getNPC().getLocation().getWorld(), x, y, z);\r\n    }\r\n\r\n    public double getF() {\r\n        return F;\r\n    }\r\n\r\n    public void setF(double f) {\r\n        this.F = f;\r\n    }\r\n\r\n    public double getG() {\r\n        return G;\r\n    }\r\n\r\n    public void setG(double g) {\r\n        this.G = g;\r\n    }\r\n\r\n    public double getH() {\r\n        return H;\r\n    }\r\n\r\n    public void setH(double h) {\r\n        this.H = h;\r\n    }\r\n\r\n    public boolean isClosed() {\r\n        return closed;\r\n    }\r\n\r\n    public void close() {\r\n        this.closed = true;\r\n    }\r\n```\r\n\r\nValid Requirements Class:\r\n```\r\npublic class ValidPathRequirement extends PathRequirement {\r\n    @Override\r\n    public boolean canMoveToNewNode(PathNode from, PathNode to) {\r\n        Block fromBlock = from.getLocation().getBlock();\r\n        Block toBlock = to.getLocation().getBlock();\r\n        boolean validHeight = toBlock.getType().isAir() &amp;&amp; toBlock.getRelative(BlockFace.UP).getType().isAir(); // checks if is player height\r\n        boolean validGround = toBlock.getRelative(BlockFace.DOWN).getType().isSolid(); // is there a block underneath that they can stand on?\r\n        boolean validFromPrev = toBlock.getLocation().subtract(fromBlock.getLocation()).getY() &lt;= 1; // is it max one block higher than the last one?\r\n\r\n        // is this one causing issues?\r\n        Location fromLocDist = from.getLocation().clone();\r\n        Location toLocDist = to.getLocation().clone();\r\n        toLocDist.setY(fromLocDist.getY());\r\n        boolean validDistance = fromLocDist.distance(toLocDist) &lt;= 1;\r\n\r\n        return validHeight &amp;&amp; validGround &amp;&amp; validFromPrev;\r\n    }\r\n}\r\n```","title":"A* Pathfinding really slow","body":"<p>I have an A* pathfinding algorithm that I've used for a Spigot plugin which worked fine. I then added a requirements system so it won't try and pathfind through places it shouldn't. Now it seems REALLY slow, and it looks like it has nothing to do with the requirements code itself, and more to do with the algorithm having many more incorrect paths when calculating. I seem to be getting 1500ms+ on this, which is definitely not good xD</p>\n<p>Here is the pathfinder code:</p>\n<pre><code>    public Path calculate(PathfinderGoal goal, PathScorer scorer, List&lt;PathRequirement&gt; requirements, int maxNodes) {\n        PathNode start = toNode(npc.getLocation());\n        PathNode end = toNode(goal.getLocation());\n\n        List&lt;PathNode&gt; open = new ArrayList&lt;&gt;() {{ add(start); }};\n        List&lt;PathNode&gt; navigated = new ArrayList&lt;&gt;();\n        start.setF(scorer.computeCost(start, end));\n\n        Timer timer = new Timer().start();\n\n        while (!open.isEmpty()) {\n            PathNode current = null;\n            for (PathNode node : open) {\n                if (current == null || node.getH() &lt; current.getH()) {\n                    current = node;\n                }\n            }\n            if (scorer.computeCost(current, end) &lt; 1 || (navigated.size() &gt;= maxNodes &amp;&amp; maxNodes != -1)) {\n                navigated.add(navigated.size() &lt; maxNodes ? end : current);\n                return reconstruct(navigated, navigated.size() - 1);\n            }\n            open.remove(current);\n            current.close();\n            for (PathNode node : current.getNeighbors()) {\n                if (node.isClosed()) {\n                    continue;\n                }\n                double tentG = current.getG() + scorer.computeCost(current, node);\n                if (!open.contains(node) || tentG &lt; node.getG()) {\n                    boolean requirementsMet = true;\n                    for (PathRequirement requirement : requirements) {\n                        requirement.setNavigated(navigated);\n                        if (!navigated.isEmpty() &amp;&amp; !requirement.canMoveToNewNode(navigated.get(navigated.size() - 1), node)) {\n                            requirementsMet = false;\n                            break;\n                        }\n                    }\n                    if (!navigated.contains(current)) {\n                        navigated.add(current);\n                    }\n                    node.setG(tentG);\n                    node.setH(scorer.computeCost(node, end));\n                    node.setF(tentG + node.getH());\n                    if (!open.contains(node) &amp;&amp; requirementsMet) {\n                        open.add(node);\n                    }\n                }\n            }\n            Bukkit.broadcastMessage(&quot;Open Set Size: &quot; + open.size());\n            Bukkit.broadcastMessage(timer.stop() + &quot;ms&quot;);\n        }\n        return null;\n    }\n\n    private Path reconstruct(List&lt;PathNode&gt; navigated, int index) {\n        final PathNode current = navigated.get(index);\n        Path withCurrent = new Path(new ArrayList&lt;&gt;() {{ add(current); }});\n        if (index &gt; 0 &amp;&amp; navigated.contains(current)) {\n            return reconstruct(navigated, index - 1).append(withCurrent);\n        }\n        return withCurrent;\n    }\n</code></pre>\n<p>And here is the PathNode class:</p>\n<pre><code>    public PathNode(Pathfinder pathfinder, int x, int y, int z) {\n        this.pathfinder = pathfinder;\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (!(other instanceof PathNode otherNode)) {\n            return false;\n        }\n        return otherNode.x == x &amp;&amp; otherNode.y == y &amp;&amp; otherNode.z == z;\n    }\n\n    public List&lt;PathNode&gt; getNeighbors() {\n        return new ArrayList&lt;&gt;() {\n            {\n                for (int x = -1; x &lt;= 1; x++) {\n                    for (int y = -1; y &lt;= 1; y++) {\n                        for (int z = -1; z &lt;= 1; z++) {\n                            add(new PathNode(pathfinder, PathNode.this.x + x, PathNode.this.y + y, PathNode.this.z + z));\n                        }\n                    }\n                }\n            }\n        };\n    }\n\n    public Location getLocation() {\n        return new Location(pathfinder.getNPC().getLocation().getWorld(), x, y, z);\n    }\n\n    public double getF() {\n        return F;\n    }\n\n    public void setF(double f) {\n        this.F = f;\n    }\n\n    public double getG() {\n        return G;\n    }\n\n    public void setG(double g) {\n        this.G = g;\n    }\n\n    public double getH() {\n        return H;\n    }\n\n    public void setH(double h) {\n        this.H = h;\n    }\n\n    public boolean isClosed() {\n        return closed;\n    }\n\n    public void close() {\n        this.closed = true;\n    }\n</code></pre>\n<p>Valid Requirements Class:</p>\n<pre><code>public class ValidPathRequirement extends PathRequirement {\n    @Override\n    public boolean canMoveToNewNode(PathNode from, PathNode to) {\n        Block fromBlock = from.getLocation().getBlock();\n        Block toBlock = to.getLocation().getBlock();\n        boolean validHeight = toBlock.getType().isAir() &amp;&amp; toBlock.getRelative(BlockFace.UP).getType().isAir(); // checks if is player height\n        boolean validGround = toBlock.getRelative(BlockFace.DOWN).getType().isSolid(); // is there a block underneath that they can stand on?\n        boolean validFromPrev = toBlock.getLocation().subtract(fromBlock.getLocation()).getY() &lt;= 1; // is it max one block higher than the last one?\n\n        // is this one causing issues?\n        Location fromLocDist = from.getLocation().clone();\n        Location toLocDist = to.getLocation().clone();\n        toLocDist.setY(fromLocDist.getY());\n        boolean validDistance = fromLocDist.distance(toLocDist) &lt;= 1;\n\n        return validHeight &amp;&amp; validGround &amp;&amp; validFromPrev;\n    }\n}\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":0,"creation_date":1646846490,"post_id":71413467,"comment_id":126226843,"body_markdown":"Could you add the source where you&#39;ve seen that?","body":"Could you add the source where you&#39;ve seen that?"},{"owner":{"account_id":24506407,"reputation":3,"user_id":18421369,"display_name":"babbaha"},"score":0,"creation_date":1646846527,"post_id":71413467,"comment_id":126226863,"body_markdown":"Yes. https://stackoverflow.com/questions/24491067/how-to-return-a-collection","body":"Yes. <a href=\"https://stackoverflow.com/questions/24491067/how-to-return-a-collection\" title=\"how to return a collection\">stackoverflow.com/questions/24491067/how-to-return-a-collect&zwnj;&#8203;ion</a>"},{"owner":{"account_id":24506407,"reputation":3,"user_id":18421369,"display_name":"babbaha"},"score":0,"creation_date":1646846571,"post_id":71413467,"comment_id":126226883,"body_markdown":"He said to him he have to use Collections.shuffle, because: &quot;Collections.shuffle() doesn&#39;t return anything. You would have to do&quot;, but why I should use shuffle and not only return the list?","body":"He said to him he have to use Collections.shuffle, because: &quot;Collections.shuffle() doesn&#39;t return anything. You would have to do&quot;, but why I should use shuffle and not only return the list?"},{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":0,"creation_date":1646846924,"post_id":71413467,"comment_id":126227019,"body_markdown":"I think you are misunderstanding it... In that case the user wanted to shuffle the collection so the answer was specific to the question and example posted there.","body":"I think you are misunderstanding it... In that case the user wanted to shuffle the collection so the answer was specific to the question and example posted there."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646847114,"creation_date":1646847114,"answer_id":71413626,"question_id":71413467,"body_markdown":"The [SO question][1] you are referring to does not suggest that you _should_ shuffle a collection before you return it. From the naming there (&quot;FullDeck&quot;) I would guess that it is something related to a card deck that should be shuffled for a game.\r\n\r\nYou don&#39;t need to shuffle an `ArrayList` before you return it as a collection, you can directly return the list - it implements the `Collection` interface and doesn&#39;t need any further processing to be accessed by that interface.\r\n\r\nThe shuffling is only relevant if you want to have the elements of the list in random order for some other reason.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24491067/how-to-return-a-collection","title":"Why should I use shuffle to return a list on return value collection? (Java)","body":"<p>The <a href=\"https://stackoverflow.com/questions/24491067/how-to-return-a-collection\">SO question</a> you are referring to does not suggest that you <em>should</em> shuffle a collection before you return it. From the naming there (&quot;FullDeck&quot;) I would guess that it is something related to a card deck that should be shuffled for a game.</p>\n<p>You don't need to shuffle an <code>ArrayList</code> before you return it as a collection, you can directly return the list - it implements the <code>Collection</code> interface and doesn't need any further processing to be accessed by that interface.</p>\n<p>The shuffling is only relevant if you want to have the elements of the list in random order for some other reason.</p>\n"}],"owner":{"account_id":24506407,"reputation":3,"user_id":18421369,"display_name":"babbaha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71413626,"answer_count":1,"score":0,"last_activity_date":1646847114,"creation_date":1646846397,"question_id":71413467,"body_markdown":"I have Collection&lt;String&gt; as a return value for a method, so I thought I would simply use ArrayList&lt;String&gt; and return the ArrayList. Now I&#39;ve seen on the Internet that someone thinks that before returning the ArrayList, if the return value is Collection, you should do Collections.shuffle(ArrayList) first. Why? What is the purpose? Can&#39;t you just return the ArrayList directly?","title":"Why should I use shuffle to return a list on return value collection? (Java)","body":"<p>I have Collection as a return value for a method, so I thought I would simply use ArrayList and return the ArrayList. Now I've seen on the Internet that someone thinks that before returning the ArrayList, if the return value is Collection, you should do Collections.shuffle(ArrayList) first. Why? What is the purpose? Can't you just return the ArrayList directly?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"score":0,"creation_date":1640598970,"post_id":70493912,"comment_id":124611828,"body_markdown":"Have you checked that css taking proper path by inspect element ?","body":"Have you checked that css taking proper path by inspect element ?"},{"owner":{"account_id":19455899,"reputation":4325,"user_id":14231239,"display_name":"dm_tr"},"score":0,"creation_date":1640599402,"post_id":70493912,"comment_id":124611960,"body_markdown":"@M123456 what you mean ?","body":"@M123456 what you mean ?"},{"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"score":0,"creation_date":1640600802,"post_id":70493912,"comment_id":124612398,"body_markdown":"I faced this problem previously that time I&#39;ve checked that css path by network tab of inspect element in browser. it&#39;s taking different path of css. it added some mapping name at  first of that css file path.","body":"I faced this problem previously that time I&#39;ve checked that css path by network tab of inspect element in browser. it&#39;s taking different path of css. it added some mapping name at  first of that css file path."}],"answers":[{"tags":[],"owner":{"account_id":19455899,"reputation":4325,"user_id":14231239,"display_name":"dm_tr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640774215,"creation_date":1640774215,"answer_id":70518231,"question_id":70493912,"body_markdown":"Found out that some logical errors may impact page generation without any *stacktrace*.  \r\n\r\nIn my case, I added a `JPA Repository` extending `CrudRepository`. I had no errors in the application execution but for some reason my frontend was impacted. As soon as I removed the repository in question everything went back to normal.  \r\n\r\nWEIRD !","title":"Spring Boot, some asset files in public/static folder cannot be found in browser resulting in 404","body":"<p>Found out that some logical errors may impact page generation without any <em>stacktrace</em>.</p>\n<p>In my case, I added a <code>JPA Repository</code> extending <code>CrudRepository</code>. I had no errors in the application execution but for some reason my frontend was impacted. As soon as I removed the repository in question everything went back to normal.</p>\n<p>WEIRD !</p>\n"}],"owner":{"account_id":19455899,"reputation":4325,"user_id":14231239,"display_name":"dm_tr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70518231,"answer_count":1,"score":1,"last_activity_date":1646846655,"creation_date":1640598532,"question_id":70493912,"body_markdown":"I am running into a strange issue in my Spring Boot Maven project.  \r\n\r\nInto the `/public/assets/` folder, all resources can be found in the browser except some css or js files generating a `404 HTTP error`  \r\nEverything is set in my config file, specially `WebSecurityConfigurerAdapter` is extended.  \r\nBecause I am using `Spring Security` dependency, here is a portion of code that handles assets files  \r\n```\r\n@Override\r\npublic void configure(WebSecurity web) throws Exception {\r\n    web\r\n        .ignoring()\r\n        .antMatchers(&quot;/assets/**&quot;, &quot;/files/**&quot;);\r\n}\r\n```\r\nTherefore, in the image below, highlighted files are not loaded.  \r\n[![enter image description here][1]][1]  \r\n\r\nNote that this strange behavior only happened today, everything was working as expected the last time I ran the project.  \r\n\r\nAny idea what I mess or did ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r6UNl.png","title":"Spring Boot, some asset files in public/static folder cannot be found in browser resulting in 404","body":"<p>I am running into a strange issue in my Spring Boot Maven project.</p>\n<p>Into the <code>/public/assets/</code> folder, all resources can be found in the browser except some css or js files generating a <code>404 HTTP error</code><br />\nEverything is set in my config file, specially <code>WebSecurityConfigurerAdapter</code> is extended.<br />\nBecause I am using <code>Spring Security</code> dependency, here is a portion of code that handles assets files</p>\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web\n        .ignoring()\n        .antMatchers(&quot;/assets/**&quot;, &quot;/files/**&quot;);\n}\n</code></pre>\n<p>Therefore, in the image below, highlighted files are not loaded.<br />\n<a href=\"https://i.stack.imgur.com/r6UNl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6UNl.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that this strange behavior only happened today, everything was working as expected the last time I ran the project.</p>\n<p>Any idea what I mess or did ?</p>\n"},{"tags":["java","vue.js"],"answers":[{"tags":[],"owner":{"account_id":7179743,"reputation":807,"user_id":9178557,"display_name":"Dan P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636452670,"creation_date":1636451445,"answer_id":69896020,"question_id":69895927,"body_markdown":"If your servers are on different URLs and/or ports, you need to give Axios the full URL, e.g. `localhost:8080/home`. At the moment, Axios is trying to get `localhost:3000/home`, which is on the Vue side, not the API side.","title":"Uncaught (in promise) TypeError: Cannot convert undefined or null to object","body":"<p>If your servers are on different URLs and/or ports, you need to give Axios the full URL, e.g. <code>localhost:8080/home</code>. At the moment, Axios is trying to get <code>localhost:3000/home</code>, which is on the Vue side, not the API side.</p>\n"},{"tags":[],"owner":{"account_id":10455457,"reputation":2830,"user_id":7707749,"accept_rate":86,"display_name":"King Reload"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636732818,"creation_date":1636457968,"answer_id":69897476,"question_id":69895927,"body_markdown":"For now I managed to solve it using jquery instead of axios, but would still like to have the axios solution to this problem, because if I can get the data with jquery it should definitely be doable with axios as well.\r\n\r\njquery solution:\r\n```html\r\n&lt;template&gt;\r\n  {{responsedata}}\r\n&lt;/template&gt;\r\n\r\n&lt;script&gt;\r\n  import $ from &#39;jquery&#39;\r\n\r\n  export default {\r\n    name: &#39;Dashboard&#39;,\r\n    data() {\r\n      return {\r\n        responsedata: []\r\n      }\r\n    },\r\n    mounted() {\r\n      var self = this;\r\n      $.ajax({\r\n          url: &#39;http://localhost:8080/home&#39;,\r\n          method: &#39;GET&#39;,\r\n          success: function (data) {\r\n              self.responsedata = JSON.parse(JSON.stringify(data));\r\n          },\r\n          error: function (error) {\r\n              console.log(error);\r\n          }\r\n      });\r\n    }\r\n  }\r\n&lt;/script&gt;\r\n```","title":"Uncaught (in promise) TypeError: Cannot convert undefined or null to object","body":"<p>For now I managed to solve it using jquery instead of axios, but would still like to have the axios solution to this problem, because if I can get the data with jquery it should definitely be doable with axios as well.</p>\n<p>jquery solution:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n  {{responsedata}}\n&lt;/template&gt;\n\n&lt;script&gt;\n  import $ from 'jquery'\n\n  export default {\n    name: 'Dashboard',\n    data() {\n      return {\n        responsedata: []\n      }\n    },\n    mounted() {\n      var self = this;\n      $.ajax({\n          url: 'http://localhost:8080/home',\n          method: 'GET',\n          success: function (data) {\n              self.responsedata = JSON.parse(JSON.stringify(data));\n          },\n          error: function (error) {\n              console.log(error);\n          }\n      });\n    }\n  }\n&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683258,"reputation":956,"user_id":3067684,"accept_rate":40,"display_name":"user3067684"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636710590,"creation_date":1636710590,"answer_id":69940916,"question_id":69895927,"body_markdown":"Did you try?\r\n\r\n    async created() {\r\n      const { data } = await this.axios.get(&#39;http://localhost:8080/home&#39;)\r\n      console.log({ data })\r\n    }","title":"Uncaught (in promise) TypeError: Cannot convert undefined or null to object","body":"<p>Did you try?</p>\n<pre><code>async created() {\n  const { data } = await this.axios.get('http://localhost:8080/home')\n  console.log({ data })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16058638,"reputation":863,"user_id":11590227,"display_name":"mahdikmg"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636713843,"creation_date":1636713484,"answer_id":69941548,"question_id":69895927,"body_markdown":"try this:\r\n```\r\nmethods: {\r\n  getData() {\r\n    this.axios.get(&#39;/home&#39;)\r\n    .then(response =&gt; {\r\n        console.log(response.data)\r\n    })\r\n    .catch(err =&gt; {\r\n        console.log(err, err.response)\r\n    })\r\n  }\r\n},\r\nmounted() {\r\n  this.getData()\r\n}\r\n```\r\nalso i think you need to set axios baseUrl before passing it to vue-axios in `main.js` file. like this:\r\n```\r\naxios.defaults.baseURL = &#39;https://localhost:8080&#39;\r\napp.use(VueAxios, axios)\r\n```","title":"Uncaught (in promise) TypeError: Cannot convert undefined or null to object","body":"<p>try this:</p>\n<pre><code>methods: {\n  getData() {\n    this.axios.get('/home')\n    .then(response =&gt; {\n        console.log(response.data)\n    })\n    .catch(err =&gt; {\n        console.log(err, err.response)\n    })\n  }\n},\nmounted() {\n  this.getData()\n}\n</code></pre>\n<p>also i think you need to set axios baseUrl before passing it to vue-axios in <code>main.js</code> file. like this:</p>\n<pre><code>axios.defaults.baseURL = 'https://localhost:8080'\napp.use(VueAxios, axios)\n</code></pre>\n"}],"owner":{"account_id":10455457,"reputation":2830,"user_id":7707749,"accept_rate":86,"display_name":"King Reload"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5286,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69941548,"answer_count":4,"score":2,"last_activity_date":1646846608,"creation_date":1636451091,"question_id":69895927,"body_markdown":"I&#39;m quite new to Vue and I&#39;ve been trying to work out how I could make a call to the Java API using axios.\r\n\r\nvue.config.js\r\n```\r\nmodule.exports = {\r\n    devServer: {\r\n        proxy: &#39;https://localhost:8080&#39;\r\n    }\r\n}\r\n```\r\nmain.js\r\n```\r\nimport { createApp } from &#39;vue&#39;\r\nimport axios from &quot;axios&quot;\r\nimport VueAxios from &#39;vue-axios&#39;\r\nimport App from &#39;./App.vue&#39;\r\nimport store from &quot;./store&quot;\r\nimport router from &quot;./router&quot;\r\nimport &#39;./index.css&#39;\r\n\r\nconst app = createApp(App)\r\n\r\napp.use(VueAxios, axios)\r\n\r\napp.use(router)\r\napp.use(store)\r\n\r\napp.mount(&#39;#app&#39;)\r\n```\r\nDashboard.vue\r\n```\r\n&lt;template&gt;\r\n  {{responsedata}}\r\n&lt;/template&gt;\r\n\r\n&lt;script&gt;\r\n  export default {\r\n    name: &#39;Dashboard&#39;,\r\n    data() {\r\n      return {\r\n        responsedata: {}\r\n      }\r\n    },\r\n    async mounted() {\r\n      const { data } = await this.axios.get(&#39;/home&#39;)\r\n      console.log(data)\r\n    }\r\n  }\r\n&lt;/script&gt;\r\n```\r\nHowever, no matter how I seem to try, it keeps giving the error:\r\n```\r\nUncaught (in promise) TypeError: Cannot convert undefined or null to object\r\n    at Function.keys (&lt;anonymous&gt;)\r\n    at mergeConfig (axios.js:1308)\r\n    at Axios.request (axios.js:1431)\r\n    at Axios.&lt;computed&gt; [as get] (axios.js:1521)\r\n    at Function.wrap [as get] (axios.js:7)\r\n    at Proxy.mounted (Dashboard.vue:19)\r\n    at callWithErrorHandling (runtime-dom.esm-bundler-6174b24b.js:8129)\r\n    at callWithAsyncErrorHandling (runtime-dom.esm-bundler-6174b24b.js:8138)\r\n    at Array.hook.__weh.hook.__weh (runtime-dom.esm-bundler-6174b24b.js:3392)\r\n    at flushPostFlushCbs (runtime-dom.esm-bundler-6174b24b.js:8330)\r\n```\r\nIn this error I edited the path to the Dashboard.vue:19, but it&#39;s coming from there.\r\nThis line gives the error: `const { data } = await this.axios.get(&#39;/home&#39;)`.\r\n\r\n\r\nThe API backend looks as following:\r\n```\r\n@WebServlet\r\n@Path(&quot;/home&quot;)\r\npublic class HomeResource {\r\n    private IServerService serverService;\r\n\r\n    @Inject\r\n    public void setServerService(IServerService serverService) {\r\n        this.serverService = serverService;\r\n    }\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response getServers(@Context HttpServletRequest req) {\r\n        System.out.println(&quot;hello&quot;);\r\n        HttpSession session = req.getSession();\r\n        session.setMaxInactiveInterval(Time.HALF_AN_HOUR.time);\r\n        return Response\r\n                .ok()\r\n                .header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\r\n                .header(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;)\r\n                .header(&quot;Access-Control-Allow-Headers&quot;, &quot;origin, content-type, accept, authorization&quot;)\r\n                .header(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;)\r\n                .header(&quot;Access-Control-Max-Age&quot;, Time.HALF_AN_HOUR.time)\r\n                .entity(serverService.getServers())\r\n                .build();\r\n    }\r\n}\r\n```\r\nThe API runs on localhost port 8080 and the Vue application runs on localhost port 3000. I&#39;m not sure if I am doing the cross-origin wrong or something completely different. All I&#39;m trying to do is trying to get the data from the API and to display it into the front-end.\r\n\r\nP.S. thank you for your help.","title":"Uncaught (in promise) TypeError: Cannot convert undefined or null to object","body":"<p>I'm quite new to Vue and I've been trying to work out how I could make a call to the Java API using axios.</p>\n<p>vue.config.js</p>\n<pre><code>module.exports = {\n    devServer: {\n        proxy: 'https://localhost:8080'\n    }\n}\n</code></pre>\n<p>main.js</p>\n<pre><code>import { createApp } from 'vue'\nimport axios from &quot;axios&quot;\nimport VueAxios from 'vue-axios'\nimport App from './App.vue'\nimport store from &quot;./store&quot;\nimport router from &quot;./router&quot;\nimport './index.css'\n\nconst app = createApp(App)\n\napp.use(VueAxios, axios)\n\napp.use(router)\napp.use(store)\n\napp.mount('#app')\n</code></pre>\n<p>Dashboard.vue</p>\n<pre><code>&lt;template&gt;\n  {{responsedata}}\n&lt;/template&gt;\n\n&lt;script&gt;\n  export default {\n    name: 'Dashboard',\n    data() {\n      return {\n        responsedata: {}\n      }\n    },\n    async mounted() {\n      const { data } = await this.axios.get('/home')\n      console.log(data)\n    }\n  }\n&lt;/script&gt;\n</code></pre>\n<p>However, no matter how I seem to try, it keeps giving the error:</p>\n<pre><code>Uncaught (in promise) TypeError: Cannot convert undefined or null to object\n    at Function.keys (&lt;anonymous&gt;)\n    at mergeConfig (axios.js:1308)\n    at Axios.request (axios.js:1431)\n    at Axios.&lt;computed&gt; [as get] (axios.js:1521)\n    at Function.wrap [as get] (axios.js:7)\n    at Proxy.mounted (Dashboard.vue:19)\n    at callWithErrorHandling (runtime-dom.esm-bundler-6174b24b.js:8129)\n    at callWithAsyncErrorHandling (runtime-dom.esm-bundler-6174b24b.js:8138)\n    at Array.hook.__weh.hook.__weh (runtime-dom.esm-bundler-6174b24b.js:3392)\n    at flushPostFlushCbs (runtime-dom.esm-bundler-6174b24b.js:8330)\n</code></pre>\n<p>In this error I edited the path to the Dashboard.vue:19, but it's coming from there.\nThis line gives the error: <code>const { data } = await this.axios.get('/home')</code>.</p>\n<p>The API backend looks as following:</p>\n<pre><code>@WebServlet\n@Path(&quot;/home&quot;)\npublic class HomeResource {\n    private IServerService serverService;\n\n    @Inject\n    public void setServerService(IServerService serverService) {\n        this.serverService = serverService;\n    }\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response getServers(@Context HttpServletRequest req) {\n        System.out.println(&quot;hello&quot;);\n        HttpSession session = req.getSession();\n        session.setMaxInactiveInterval(Time.HALF_AN_HOUR.time);\n        return Response\n                .ok()\n                .header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;)\n                .header(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;)\n                .header(&quot;Access-Control-Allow-Headers&quot;, &quot;origin, content-type, accept, authorization&quot;)\n                .header(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;)\n                .header(&quot;Access-Control-Max-Age&quot;, Time.HALF_AN_HOUR.time)\n                .entity(serverService.getServers())\n                .build();\n    }\n}\n</code></pre>\n<p>The API runs on localhost port 8080 and the Vue application runs on localhost port 3000. I'm not sure if I am doing the cross-origin wrong or something completely different. All I'm trying to do is trying to get the data from the API and to display it into the front-end.</p>\n<p>P.S. thank you for your help.</p>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359646927,"creation_date":1359646927,"answer_id":14629517,"question_id":14629496,"body_markdown":"You&#39;ll basically need to iterate over the entries in `bigMap`, and make a decision as to whether they should be added to `smallMap1` or `smallMap2`.","title":"How to split an HashMap in Java","body":"<p>You'll basically need to iterate over the entries in <code>bigMap</code>, and make a decision as to whether they should be added to <code>smallMap1</code> or <code>smallMap2</code>.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359647049,"creation_date":1359647049,"answer_id":14629559,"question_id":14629496,"body_markdown":"    for (Map.Entry&lt;Integer,Integer&gt; entry : bigMap.entrySet()) {\r\n       // ...\r\n    }\r\n\r\nis the fastest way to iterate through your original map. You&#39;d then use the [Map.Entry][1] key to decide which new map to populate.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Map.Entry.html","title":"How to split an HashMap in Java","body":"<pre><code>for (Map.Entry&lt;Integer,Integer&gt; entry : bigMap.entrySet()) {\n   // ...\n}\n</code></pre>\n\n<p>is the fastest way to iterate through your original map. You'd then use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Map.Entry.html\" rel=\"nofollow\">Map.Entry</a> key to decide which new map to populate.</p>\n"},{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359647646,"creation_date":1359647092,"answer_id":14629566,"question_id":14629496,"body_markdown":"As the `HashMap` is unordered (entries may come in any order), it makes no sense to exactly split it. We can simply use the alternating boolean flag.\r\n\r\n    boolean b = false;\r\n    for (Map.Entry e: bigMap.entrySet()) {\r\n      if (b)\r\n        smallMap1.put(e.getKey(), e.getValue());\r\n      else\r\n        smallMap2.put(e.getKey(), e.getValue());\r\n      b = !b;\r\n    }","title":"How to split an HashMap in Java","body":"<p>As the <code>HashMap</code> is unordered (entries may come in any order), it makes no sense to exactly split it. We can simply use the alternating boolean flag.</p>\n\n<pre><code>boolean b = false;\nfor (Map.Entry e: bigMap.entrySet()) {\n  if (b)\n    smallMap1.put(e.getKey(), e.getValue());\n  else\n    smallMap2.put(e.getKey(), e.getValue());\n  b = !b;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359647121,"creation_date":1359647121,"answer_id":14629582,"question_id":14629496,"body_markdown":"Iterate over the `bigMap` with `for (Entry&lt;Integer, Integer&gt; entry : bigMap.entrySet())`, and increment an `i` to check whether you have to add the entry in the first small map or in the second one.","title":"How to split an HashMap in Java","body":"<p>Iterate over the <code>bigMap</code> with <code>for (Entry&lt;Integer, Integer&gt; entry : bigMap.entrySet())</code>, and increment an <code>i</code> to check whether you have to add the entry in the first small map or in the second one.</p>\n"},{"tags":[],"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"down_vote_count":4,"up_vote_count":21,"is_accepted":true,"score":17,"last_activity_date":1617240342,"creation_date":1359647126,"answer_id":14629585,"question_id":14629496,"body_markdown":"Do you have to use `HashMap`?  \r\n\r\n`TreeMap` is really good for this kind of things. Here&#39;s an example (note that 0, 50, and 99 are map keys, _not_ indices):\r\n\r\n\r\n    TreeMap&lt;Integer, Integer&gt; sorted = new TreeMap&lt;Integer, Integer&gt;(bigMap);\r\n    \r\n    SortedMap&lt;Integer, Integer&gt; zeroToFortyNine = sorted.subMap(0, 50); // toKey inclusive, fromKey exclusive\r\n    SortedMap&lt;Integer, Integer&gt; fiftyToNinetyNine = sorted.subMap(50, true, 99, true);\r\n\r\n","title":"How to split an HashMap in Java","body":"<p>Do you have to use <code>HashMap</code>?</p>\n<p><code>TreeMap</code> is really good for this kind of things. Here's an example (note that 0, 50, and 99 are map keys, <em>not</em> indices):</p>\n<pre><code>TreeMap&lt;Integer, Integer&gt; sorted = new TreeMap&lt;Integer, Integer&gt;(bigMap);\n\nSortedMap&lt;Integer, Integer&gt; zeroToFortyNine = sorted.subMap(0, 50); // toKey inclusive, fromKey exclusive\nSortedMap&lt;Integer, Integer&gt; fiftyToNinetyNine = sorted.subMap(50, true, 99, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2461839,"reputation":921,"user_id":2145839,"display_name":"Fabrice TIERCELIN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466501378,"creation_date":1464958489,"answer_id":37614964,"question_id":14629496,"body_markdown":"Here is a solution with a SortedMap:\r\n\r\n    public static &lt;K, V&gt; List&lt;SortedMap&lt;K, V&gt;&gt; splitMap(final SortedMap&lt;K, V&gt; map, final int size) {\r\n        List&lt;K&gt; keys = new ArrayList&lt;&gt;(map.keySet());\r\n        List&lt;SortedMap&lt;K, V&gt;&gt; parts = new ArrayList&lt;&gt;();\r\n        final int listSize = map.size();\r\n        for (int i = 0; i &lt; listSize; i += size) {\r\n            if (i + size &lt; listSize) {\r\n                parts.add(map.subMap(keys.get(i), keys.get(i + size)));\r\n            } else {\r\n                parts.add(map.tailMap(keys.get(i)));\r\n            }\r\n        }\r\n        return parts;\r\n    }","title":"How to split an HashMap in Java","body":"<p>Here is a solution with a SortedMap:</p>\n\n<pre><code>public static &lt;K, V&gt; List&lt;SortedMap&lt;K, V&gt;&gt; splitMap(final SortedMap&lt;K, V&gt; map, final int size) {\n    List&lt;K&gt; keys = new ArrayList&lt;&gt;(map.keySet());\n    List&lt;SortedMap&lt;K, V&gt;&gt; parts = new ArrayList&lt;&gt;();\n    final int listSize = map.size();\n    for (int i = 0; i &lt; listSize; i += size) {\n        if (i + size &lt; listSize) {\n            parts.add(map.subMap(keys.get(i), keys.get(i + size)));\n        } else {\n            parts.add(map.tailMap(keys.get(i)));\n        }\n    }\n    return parts;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":421647,"reputation":1,"user_id":799997,"display_name":"Nizamudeen Karimudeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484860804,"creation_date":1484860804,"answer_id":41751901,"question_id":14629496,"body_markdown":"This was one of the functions which did the work me, I hope its helpful for others. This one works irrespective of the Object/primitive stored as key. \r\n\r\nThe TreeMap approach suggested above would work only if the keys are primitives, ordered and in exact sequence of index..\r\n\r\n\t\tpublic List&lt;Map&lt;Integer, EnrichmentRecord&gt;&gt; splitMap(Map&lt;Integer, EnrichmentRecord&gt; enrichmentFieldsMap,\r\n\t\t\t\tint splitSize) {\r\n\r\n\t\t\tfloat mapSize = enrichmentFieldsMap.size();\r\n\t\t\tfloat splitFactorF = splitSize;\t\r\n\t\t\tfloat actualNoOfBatches = (mapSize / splitFactorF);\r\n\t\t\tdouble noOfBatches = Math.ceil(actualNoOfBatches);\r\n\r\n\t\t\t\r\n\r\n\t\t\tList&lt;Map&lt;Integer, EnrichmentRecord&gt;&gt; listOfMaps = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\tList&lt;List&lt;Integer&gt;&gt; listOfListOfKeys = new ArrayList&lt;&gt;();\r\n\r\n\t\t\t\r\n\t\t\tint startIndex = 0;\r\n\t\t\tint endIndex = splitSize;\r\n\r\n\t\t\tSet&lt;Integer&gt; keys = enrichmentFieldsMap.keySet();\r\n\t\t\tList&lt;Integer&gt; keysAsList = new ArrayList&lt;&gt;();\r\n\t\t\tkeysAsList.addAll(keys);\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t * Split the keys as a list of keys,  \r\n\t\t\t * For each key sub list add to a Primary List - listOfListOfKeys\r\n\t\t\t */\r\n\t\t\tfor (int i = 0; i &lt; noOfBatches; i++) {\r\n\t\t\t\tlistOfListOfKeys.add(keysAsList.subList(startIndex, endIndex));\t\t\t\r\n\t\t\t\tstartIndex = endIndex;\r\n\t\t\t\tendIndex = (int) (((endIndex + splitSize) &gt; mapSize) ? mapSize : (endIndex + splitSize));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t /**\r\n\t\t\t * For Each list of keys, prepare a map\r\n\t\t\t *\r\n\t\t\t **/\r\n\t\t\tfor(List&lt;Integer&gt; keyList: listOfListOfKeys){\r\n\t\t\t\tMap&lt;Integer,EnrichmentRecord&gt; subMap = new HashMap&lt;&gt;();\r\n\t\t\t\tfor(Integer key: keyList){\r\n\t\t\t\t\tsubMap.put(key,enrichmentFieldsMap.get(key));\r\n\t\t\t\t}\r\n\t\t\t\tlistOfMaps.add(subMap);\r\n\t\t\t}\r\n\r\n\t\t\treturn listOfMaps;\r\n\t\t}","title":"How to split an HashMap in Java","body":"<p>This was one of the functions which did the work me, I hope its helpful for others. This one works irrespective of the Object/primitive stored as key. </p>\n\n<p>The TreeMap approach suggested above would work only if the keys are primitives, ordered and in exact sequence of index..</p>\n\n<pre><code>    public List&lt;Map&lt;Integer, EnrichmentRecord&gt;&gt; splitMap(Map&lt;Integer, EnrichmentRecord&gt; enrichmentFieldsMap,\n            int splitSize) {\n\n        float mapSize = enrichmentFieldsMap.size();\n        float splitFactorF = splitSize; \n        float actualNoOfBatches = (mapSize / splitFactorF);\n        double noOfBatches = Math.ceil(actualNoOfBatches);\n\n\n\n        List&lt;Map&lt;Integer, EnrichmentRecord&gt;&gt; listOfMaps = new ArrayList&lt;&gt;();\n\n        List&lt;List&lt;Integer&gt;&gt; listOfListOfKeys = new ArrayList&lt;&gt;();\n\n\n        int startIndex = 0;\n        int endIndex = splitSize;\n\n        Set&lt;Integer&gt; keys = enrichmentFieldsMap.keySet();\n        List&lt;Integer&gt; keysAsList = new ArrayList&lt;&gt;();\n        keysAsList.addAll(keys);\n\n        /*\n         * Split the keys as a list of keys,  \n         * For each key sub list add to a Primary List - listOfListOfKeys\n         */\n        for (int i = 0; i &lt; noOfBatches; i++) {\n            listOfListOfKeys.add(keysAsList.subList(startIndex, endIndex));         \n            startIndex = endIndex;\n            endIndex = (int) (((endIndex + splitSize) &gt; mapSize) ? mapSize : (endIndex + splitSize));\n        }\n\n         /**\n         * For Each list of keys, prepare a map\n         *\n         **/\n        for(List&lt;Integer&gt; keyList: listOfListOfKeys){\n            Map&lt;Integer,EnrichmentRecord&gt; subMap = new HashMap&lt;&gt;();\n            for(Integer key: keyList){\n                subMap.put(key,enrichmentFieldsMap.get(key));\n            }\n            listOfMaps.add(subMap);\n        }\n\n        return listOfMaps;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4277590,"reputation":455,"user_id":3497854,"accept_rate":45,"display_name":"NitishDeshpande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617299795,"creation_date":1583330620,"answer_id":60527854,"question_id":14629496,"body_markdown":"Here are two simple methods to split the map by, \r\n\r\n1. size of the partition or\r\n2. number of partitions\r\n\r\n\r\n\r\n\t    /**\r\n\t\t *\r\n\t\t * @param bulkyMap - your source map to be partitioned\r\n\t\t * @param batchSize - partition size\r\n\t\t * @return\r\n\t\t */\r\n\t\tpublic List&lt;Map&lt;String, Object&gt;&gt; getMiniMapsInFixedSizeBatches(Map&lt;String, Object&gt; bulkyMap, int batchSize) {\r\n\t\t\tif (batchSize &gt;= bulkyMap.size() || batchSize &lt;= 0) {\r\n\t\t\t\treturn Arrays.asList(bulkyMap);\r\n\t\t\t}\r\n\t\t\tList&lt;Map&lt;String, Object&gt;&gt; batches = new ArrayList&lt;&gt;();\r\n\t\t\tint innerBatchcount = 1;\r\n\t\t\tint count = 1;\r\n\t\t\tMap&lt;String, Object&gt; tempMap = new HashMap&lt;&gt;();\r\n\t\t\tfor (Map.Entry&lt;String, Object&gt; entry : bulkyMap.entrySet()) {\r\n\t\t\t\ttempMap.put(entry.getKey(), entry.getValue());\r\n\t\t\t\tinnerBatchcount++;\r\n\t\t\t\tcount++;\r\n\t\t\t\tif (innerBatchcount &gt; batchSize || count &gt; bulkyMap.size()) {\r\n\t\t\t\t\tinnerBatchcount = 1;\r\n\t\t\t\t\tMap&lt;String, Object&gt; batchedMap = new HashMap&lt;&gt;();\r\n\t\t\t\t\tbatchedMap.putAll(tempMap);\r\n\t\t\t\t\tbatches.add(batchedMap);\r\n\t\t\t\t\ttempMap.clear();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn batches;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * the number of partitions is not always guaranteed as the algorithm tries to optimize the number of partitions\r\n\t\t * @param bulkyMap - your source map to be partitioned\r\n\t\t * @param numPartitions  - number of partitions (not guaranteed)\r\n\t\t * @return\r\n\t\t */\r\n\t\tpublic List&lt;Map&lt;String, Object&gt;&gt; getMiniPartitionedMaps(Map&lt;String, Object&gt; bulkyMap, int numPartitions) {\r\n\t\t\tint size = bulkyMap.size();\r\n\t\t\tint batchSize = Double.valueOf(Math.ceil(size * 1.0 / numPartitions)).intValue();\r\n\t\t\treturn getMiniMapsInFixedSizeBatches(bulkyMap, batchSize);\r\n\t\t}","title":"How to split an HashMap in Java","body":"<p>Here are two simple methods to split the map by,</p>\n<ol>\n<li><p>size of the partition or</p>\n</li>\n<li><p>number of partitions</p>\n<pre><code> /**\n  *\n  * @param bulkyMap - your source map to be partitioned\n  * @param batchSize - partition size\n  * @return\n  */\n public List&lt;Map&lt;String, Object&gt;&gt; getMiniMapsInFixedSizeBatches(Map&lt;String, Object&gt; bulkyMap, int batchSize) {\n     if (batchSize &gt;= bulkyMap.size() || batchSize &lt;= 0) {\n         return Arrays.asList(bulkyMap);\n     }\n     List&lt;Map&lt;String, Object&gt;&gt; batches = new ArrayList&lt;&gt;();\n     int innerBatchcount = 1;\n     int count = 1;\n     Map&lt;String, Object&gt; tempMap = new HashMap&lt;&gt;();\n     for (Map.Entry&lt;String, Object&gt; entry : bulkyMap.entrySet()) {\n         tempMap.put(entry.getKey(), entry.getValue());\n         innerBatchcount++;\n         count++;\n         if (innerBatchcount &gt; batchSize || count &gt; bulkyMap.size()) {\n             innerBatchcount = 1;\n             Map&lt;String, Object&gt; batchedMap = new HashMap&lt;&gt;();\n             batchedMap.putAll(tempMap);\n             batches.add(batchedMap);\n             tempMap.clear();\n         }\n     }\n     return batches;\n }\n\n /**\n  * the number of partitions is not always guaranteed as the algorithm tries to optimize the number of partitions\n  * @param bulkyMap - your source map to be partitioned\n  * @param numPartitions  - number of partitions (not guaranteed)\n  * @return\n  */\n public List&lt;Map&lt;String, Object&gt;&gt; getMiniPartitionedMaps(Map&lt;String, Object&gt; bulkyMap, int numPartitions) {\n     int size = bulkyMap.size();\n     int batchSize = Double.valueOf(Math.ceil(size * 1.0 / numPartitions)).intValue();\n     return getMiniMapsInFixedSizeBatches(bulkyMap, batchSize);\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8279939,"reputation":272,"user_id":6224955,"display_name":"Rajeev Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585320996,"creation_date":1585308917,"answer_id":60885226,"question_id":14629496,"body_markdown":"This Could be another solution by using headMap and tailMap\r\n\r\n    SortedMap&lt;Integer, String&gt; map1 = new TreeMap&lt;&gt;();\r\n\t\tmap1.put(2, &quot;Abc&quot;);\r\n\t\tmap1.put(3, &quot;def&quot;);\r\n\t\tmap1.put(1, &quot;xyz&quot;);\r\n\t\tmap1.put(5, &quot;mddf&quot;);\r\n\t\tSystem.out.println(map1);\r\n\r\n\t\tSortedMap&lt;Integer, String&gt; sm1 = map1.headMap(4); // from 0 to x (key) from front\r\n\t\tSortedMap&lt;Integer, String&gt; sm2 = map1.tailMap(1); //tail starting from key\r\n\t\tSystem.out.println(&quot;Head Map&quot;+ sm1);\r\n\t\tSystem.out.println(&quot;Tail Map&quot;+sm2);\r\n\r\n\r\nOutput was\r\n\r\n    {1=xyz, 2=Abc, 3=def, 5=mddf}\r\n    Head Map{1=xyz, 2=Abc, 3=def}\r\n    Tail Map{1=xyz, 2=Abc, 3=def, 5=mddf}\r\n\r\n","title":"How to split an HashMap in Java","body":"<p>This Could be another solution by using headMap and tailMap</p>\n\n<pre><code>SortedMap&lt;Integer, String&gt; map1 = new TreeMap&lt;&gt;();\n    map1.put(2, \"Abc\");\n    map1.put(3, \"def\");\n    map1.put(1, \"xyz\");\n    map1.put(5, \"mddf\");\n    System.out.println(map1);\n\n    SortedMap&lt;Integer, String&gt; sm1 = map1.headMap(4); // from 0 to x (key) from front\n    SortedMap&lt;Integer, String&gt; sm2 = map1.tailMap(1); //tail starting from key\n    System.out.println(\"Head Map\"+ sm1);\n    System.out.println(\"Tail Map\"+sm2);\n</code></pre>\n\n<p>Output was</p>\n\n<pre><code>{1=xyz, 2=Abc, 3=def, 5=mddf}\nHead Map{1=xyz, 2=Abc, 3=def}\nTail Map{1=xyz, 2=Abc, 3=def, 5=mddf}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4487280,"reputation":11,"user_id":3739706,"display_name":"sfyumi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586499321,"creation_date":1586499321,"answer_id":61134959,"question_id":14629496,"body_markdown":"You can use Guava Iterables partition method and Java stream interface to solve it.\r\n\r\n    import com.google.common.collect.Iterables;\r\n    import com.google.common.collect.Lists;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n\r\n    public static &lt;K, V&gt; List&lt;Map&lt;K, V&gt;&gt; split(Map&lt;K, V&gt; map, int size) {\r\n        List&lt;List&lt;Map.Entry&lt;K, V&gt;&gt;&gt; list = Lists.newArrayList(Iterables.partition(map.entrySet(), size));\r\n\r\n        return list.stream()\r\n                .map(entries -&gt;\r\n                        entries.stream().collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))\r\n                )\r\n                .collect(Collectors.toList());\r\n    }    \r\n","title":"How to split an HashMap in Java","body":"<p>You can use Guava Iterables partition method and Java stream interface to solve it.</p>\n\n<pre><code>import com.google.common.collect.Iterables;\nimport com.google.common.collect.Lists;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic static &lt;K, V&gt; List&lt;Map&lt;K, V&gt;&gt; split(Map&lt;K, V&gt; map, int size) {\n    List&lt;List&lt;Map.Entry&lt;K, V&gt;&gt;&gt; list = Lists.newArrayList(Iterables.partition(map.entrySet(), size));\n\n    return list.stream()\n            .map(entries -&gt;\n                    entries.stream().collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue))\n            )\n            .collect(Collectors.toList());\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618778509,"creation_date":1618778509,"answer_id":67153194,"question_id":14629496,"body_markdown":"Building from @Nizamudeen Karimudeen&#39;s answer, which I could not get to work without a significant re-write ... this method works with any HashMap with any classes in it.\r\n\r\nSo, let&#39;s say that the Map you want to split is defined like this:\r\n\r\n    Map&lt;String, MyClass&gt; myMap = new HashMap&lt;&gt;();\r\n\r\nAnd you wanted it split into 20 separate maps, you would simply split it like this:\r\n\r\n    List&lt;Map&lt;String, MyClass&gt;&gt; splitMapList = splitMap(myMap, 20);\r\n\r\nThen to use each separate map, you can iterate through them like this:\r\n\r\n    for (Map&lt;String, MyClass&gt; mySplitMap : splitMapList) {\r\n         for(String key : mySplitMap.keySet()) {\r\n             MyClass myClass = mySplitMap.get(key);\r\n         }\r\n    }\r\n\r\nOr you could reference them directly by the index of the list etc.\r\n\r\n    Map&lt;String, MyClass&gt; subMap = splitMapList.get(3);\r\n\r\nHere is the method:\r\n\r\n    public static List&lt;Map&lt;KeyClass, ValueClass&gt;&gt; splitMap(Map&lt;KeyClass, ValueClass&gt; originalMap, int splitSize) {\r\n    \tint mapSize = originalMap.size();\r\n    \tint elementsPerNewMap = mapSize / splitSize;\r\n    \tList&lt;Map&lt;KeyClass, ValueClass&gt;&gt; newListOfMaps = new ArrayList&lt;&gt;(); //Will be returned at the end after it&#39;s built in the final loop.\r\n    \tList&lt;List&lt;KeyClass&gt;&gt; listOfMapKeysForIndexing = new ArrayList&lt;&gt;(); //Used as a reference in the final loop.\r\n    \tList&lt;KeyClass&gt; listOfAllKeys = new ArrayList&lt;&gt;(originalMap.keySet());\r\n    \tint maxIndex = listOfAllKeys.size() - 1; //We use this in the first loop to make sure that we never exceed this index number or we will get an index out of range.\r\n    \tint startIndex = 0;\r\n    \tint endIndex = elementsPerNewMap;\r\n    \tfor (int i = 0; i &lt; splitSize; i++) { //Each loop creates a new list of keys which will be the entire set for a new subset of maps (total number set by splitSize.\r\n    \t\tlistOfMapKeysForIndexing.add(listOfAllKeys.subList(startIndex, endIndex));\r\n    \t\tstartIndex = Math.min((endIndex + 1), maxIndex);//Start at the next index, but don&#39;t ever go past the maxIndex or we get an IndexOutOfRange Exception\r\n    \t\tendIndex = Math.min((endIndex + elementsPerNewMap), maxIndex);//Same thing for the end index.\r\n    \t}\r\n    \t/*\r\n    \t * This is where we use the listOfMapKeysForIndexing to create each new Map that we add to the final list.\r\n    \t */\r\n    \tfor(List&lt;KeyClass&gt; keyList: listOfMapKeysForIndexing){\r\n    \t\tMap&lt;KeyClass,ValueClass&gt; subMap = new HashMap&lt;&gt;(); //This should create a quantity of these equal to the splitSize.\r\n    \t\tfor(KeyClass key: keyList){\r\n    \t\t\tsubMap.put(key,originalMap.get(key));\r\n    \t\t}\r\n    \t\tnewListOfMaps.add(subMap);\r\n    \t}\r\n    \treturn newListOfMaps;\r\n    }","title":"How to split an HashMap in Java","body":"<p>Building from @Nizamudeen Karimudeen's answer, which I could not get to work without a significant re-write ... this method works with any HashMap with any classes in it.</p>\n<p>So, let's say that the Map you want to split is defined like this:</p>\n<pre><code>Map&lt;String, MyClass&gt; myMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>And you wanted it split into 20 separate maps, you would simply split it like this:</p>\n<pre><code>List&lt;Map&lt;String, MyClass&gt;&gt; splitMapList = splitMap(myMap, 20);\n</code></pre>\n<p>Then to use each separate map, you can iterate through them like this:</p>\n<pre><code>for (Map&lt;String, MyClass&gt; mySplitMap : splitMapList) {\n     for(String key : mySplitMap.keySet()) {\n         MyClass myClass = mySplitMap.get(key);\n     }\n}\n</code></pre>\n<p>Or you could reference them directly by the index of the list etc.</p>\n<pre><code>Map&lt;String, MyClass&gt; subMap = splitMapList.get(3);\n</code></pre>\n<p>Here is the method:</p>\n<pre><code>public static List&lt;Map&lt;KeyClass, ValueClass&gt;&gt; splitMap(Map&lt;KeyClass, ValueClass&gt; originalMap, int splitSize) {\n    int mapSize = originalMap.size();\n    int elementsPerNewMap = mapSize / splitSize;\n    List&lt;Map&lt;KeyClass, ValueClass&gt;&gt; newListOfMaps = new ArrayList&lt;&gt;(); //Will be returned at the end after it's built in the final loop.\n    List&lt;List&lt;KeyClass&gt;&gt; listOfMapKeysForIndexing = new ArrayList&lt;&gt;(); //Used as a reference in the final loop.\n    List&lt;KeyClass&gt; listOfAllKeys = new ArrayList&lt;&gt;(originalMap.keySet());\n    int maxIndex = listOfAllKeys.size() - 1; //We use this in the first loop to make sure that we never exceed this index number or we will get an index out of range.\n    int startIndex = 0;\n    int endIndex = elementsPerNewMap;\n    for (int i = 0; i &lt; splitSize; i++) { //Each loop creates a new list of keys which will be the entire set for a new subset of maps (total number set by splitSize.\n        listOfMapKeysForIndexing.add(listOfAllKeys.subList(startIndex, endIndex));\n        startIndex = Math.min((endIndex + 1), maxIndex);//Start at the next index, but don't ever go past the maxIndex or we get an IndexOutOfRange Exception\n        endIndex = Math.min((endIndex + elementsPerNewMap), maxIndex);//Same thing for the end index.\n    }\n    /*\n     * This is where we use the listOfMapKeysForIndexing to create each new Map that we add to the final list.\n     */\n    for(List&lt;KeyClass&gt; keyList: listOfMapKeysForIndexing){\n        Map&lt;KeyClass,ValueClass&gt; subMap = new HashMap&lt;&gt;(); //This should create a quantity of these equal to the splitSize.\n        for(KeyClass key: keyList){\n            subMap.put(key,originalMap.get(key));\n        }\n        newListOfMaps.add(subMap);\n    }\n    return newListOfMaps;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646846516,"creation_date":1646846516,"answer_id":71413495,"question_id":14629496,"body_markdown":"If you want to process in batch, try this :\r\n\r\n    SortedMap&lt;String, Account&gt; subTreeMap = new TreeMap&lt;&gt;();\r\n    List&lt;SortedMap&lt;String, Account&gt;&gt; sortedMapList = new ArrayList&lt;&gt;();\r\n    int i = 1;\r\n    String first`enter code here`Key = null;\r\n    String lastKey = null;\r\n    for (Map.Entry&lt;String, Account&gt; entry : treeMap.entrySet()) {\r\n    \tif (i % MAX_NUM == 1) {\r\n    \t\tfirstKey = entry.getKey();\r\n    \t}\r\n    \tif (i % MAX_NUM == 0 || i % treeMap.size() == 0) {\r\n    \t\tlastKey = entry.getKey();\r\n    \t\tsubTreeMap = treeMap.subMap(firstKey, true, lastKey, true);\r\n    \t\tsortedMapList.add(subTreeMap);\r\n    \t}\r\n    \ti++;\r\n    }","title":"How to split an HashMap in Java","body":"<p>If you want to process in batch, try this :</p>\n<pre><code>SortedMap&lt;String, Account&gt; subTreeMap = new TreeMap&lt;&gt;();\nList&lt;SortedMap&lt;String, Account&gt;&gt; sortedMapList = new ArrayList&lt;&gt;();\nint i = 1;\nString first`enter code here`Key = null;\nString lastKey = null;\nfor (Map.Entry&lt;String, Account&gt; entry : treeMap.entrySet()) {\n    if (i % MAX_NUM == 1) {\n        firstKey = entry.getKey();\n    }\n    if (i % MAX_NUM == 0 || i % treeMap.size() == 0) {\n        lastKey = entry.getKey();\n        subTreeMap = treeMap.subMap(firstKey, true, lastKey, true);\n        sortedMapList.add(subTreeMap);\n    }\n    i++;\n}\n</code></pre>\n"}],"owner":{"account_id":1916999,"reputation":223,"user_id":1729399,"accept_rate":64,"display_name":"RNO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47838,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":14629585,"answer_count":12,"score":11,"last_activity_date":1646846516,"creation_date":1359646869,"question_id":14629496,"body_markdown":"I was wondering if it is possible to split a HashMap into smaller sub-maps.\r\n\r\nIn my case I have a HashMap of 100 elements and I would like to create 2 (or more) smaller HashMaps from the original one, the first containing the Entries from 0 to 49, the second containing the Entries from 50 to 99.\r\n\r\n\r\n    Map &lt;Integer, Integer&gt; bigMap = new HashMap &lt;Integer, Integer&gt;();\r\n    \r\n    //should contains entries from 0 to 49 of &#39;bigMap&#39;\r\n    Map &lt;Integer, Integer&gt; smallMap1 = new HashMap &lt;Integer, Integer&gt;(); \r\n    \r\n    \r\n    //should contains entries from 50 to 99 of &#39;bigMap&#39;\r\n    Map &lt;Integer, Integer&gt; smallMap2 = new HashMap &lt;Integer, Integer&gt;();\r\n\r\nAny suggestions? Many thanks!\r\n\r\n","title":"How to split an HashMap in Java","body":"<p>I was wondering if it is possible to split a HashMap into smaller sub-maps.</p>\n\n<p>In my case I have a HashMap of 100 elements and I would like to create 2 (or more) smaller HashMaps from the original one, the first containing the Entries from 0 to 49, the second containing the Entries from 50 to 99.</p>\n\n<pre><code>Map &lt;Integer, Integer&gt; bigMap = new HashMap &lt;Integer, Integer&gt;();\n\n//should contains entries from 0 to 49 of 'bigMap'\nMap &lt;Integer, Integer&gt; smallMap1 = new HashMap &lt;Integer, Integer&gt;(); \n\n\n//should contains entries from 50 to 99 of 'bigMap'\nMap &lt;Integer, Integer&gt; smallMap2 = new HashMap &lt;Integer, Integer&gt;();\n</code></pre>\n\n<p>Any suggestions? Many thanks!</p>\n"},{"tags":["java","random","coin-flipping"],"answers":[{"tags":[],"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1397240571,"creation_date":1397240571,"answer_id":23019961,"question_id":23019822,"body_markdown":"Rather than appending the result in a String and then splitting the string and counting the occurence of &quot;Head&quot;/&quot;Tail&quot; you can just keep track of the count in separate variables :\r\n\r\n    int headCount = 0;\r\n    int tailCount = 0;\r\n\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        if(r.nextInt(100) %2 == 0)\r\n        {\r\n          headCount++;\r\n        }\r\n        else\r\n        {\r\n          tailCount ++;\r\n        }\r\n\r\n      System.out.println(&quot;Times head was flipped:&quot; + headsCount); \r\n      System.out.println(&quot;Times tail was flipped:&quot; + tailCount); \r\n\r\n    }\r\n    ","title":"How flipping a coin and display tails and heads counting?","body":"<p>Rather than appending the result in a String and then splitting the string and counting the occurence of \"Head\"/\"Tail\" you can just keep track of the count in separate variables :</p>\n\n<pre><code>int headCount = 0;\nint tailCount = 0;\n\nfor (int i = 0; i &lt; 1000; i++) {\n    if(r.nextInt(100) %2 == 0)\n    {\n      headCount++;\n    }\n    else\n    {\n      tailCount ++;\n    }\n\n  System.out.println(\"Times head was flipped:\" + headsCount); \n  System.out.println(\"Times tail was flipped:\" + tailCount); \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397240703,"creation_date":1397240703,"answer_id":23019997,"question_id":23019822,"body_markdown":"A coin has two sides, so I really don&#39;t see why you would ask the random generator to generate a number between 0 and 100 (exclusive). Between 0 and 2 (exclusive) would be much more logical.\r\n\r\nAlso, you&#39;re being asked to count. Appending strings and then splitting to get the final value is quite a complex and inefficient way to count. You should use an integer instead. Each time you get a 1 from your random, increment a counter. In the end, you have the number of times 1 was returned, and the number of 0 is thus 1000 - this number.\r\n\r\n        Random r = new Random(); \r\n        int heads = 0;\r\n        for (int i = 0; i &lt; 1000; i++) { \r\n            int side = random.nextInt(2);\r\n            if (side == 1) {\r\n                heads++;\r\n            } \r\n        } \r\n        System.out.println(&quot;Times head was flipped:&quot; + heads); \r\n        System.out.println(&quot;Times tail was flipped:&quot; + (1000 - heads)); \r\n\r\nIt could even be simplified to the follwoing (although this simplification makes the code a bit harder to understand):\r\n\r\n        Random r = new Random(); \r\n        int heads = 0;\r\n        for (int i = 0; i &lt; 1000; i++) { \r\n            heads += random.nextInt(2);\r\n        } \r\n        System.out.println(&quot;Times head was flipped:&quot; + heads); \r\n        System.out.println(&quot;Times tail was flipped:&quot; + (1000 - heads)); ","title":"How flipping a coin and display tails and heads counting?","body":"<p>A coin has two sides, so I really don't see why you would ask the random generator to generate a number between 0 and 100 (exclusive). Between 0 and 2 (exclusive) would be much more logical.</p>\n\n<p>Also, you're being asked to count. Appending strings and then splitting to get the final value is quite a complex and inefficient way to count. You should use an integer instead. Each time you get a 1 from your random, increment a counter. In the end, you have the number of times 1 was returned, and the number of 0 is thus 1000 - this number.</p>\n\n<pre><code>    Random r = new Random(); \n    int heads = 0;\n    for (int i = 0; i &lt; 1000; i++) { \n        int side = random.nextInt(2);\n        if (side == 1) {\n            heads++;\n        } \n    } \n    System.out.println(\"Times head was flipped:\" + heads); \n    System.out.println(\"Times tail was flipped:\" + (1000 - heads)); \n</code></pre>\n\n<p>It could even be simplified to the follwoing (although this simplification makes the code a bit harder to understand):</p>\n\n<pre><code>    Random r = new Random(); \n    int heads = 0;\n    for (int i = 0; i &lt; 1000; i++) { \n        heads += random.nextInt(2);\n    } \n    System.out.println(\"Times head was flipped:\" + heads); \n    System.out.println(\"Times tail was flipped:\" + (1000 - heads)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24501714,"reputation":11,"user_id":18417236,"display_name":"Mamta Pangeni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646846312,"creation_date":1646818538,"answer_id":71407147,"question_id":23019822,"body_markdown":"I had similar question for my assessment and I tried below code and it worked. May be its not appropriate way of doing.\r\nI am happy to receive feedback! thanks. \r\n\r\n```\r\nfor (int i = 1; i &lt; 1000; i++) { \r\n    flips += r.nextInt(100) % 2 == 1 ? &quot;Head&quot; : &quot;Tail&quot;;\r\n}\r\n```","title":"How flipping a coin and display tails and heads counting?","body":"<p>I had similar question for my assessment and I tried below code and it worked. May be its not appropriate way of doing.\nI am happy to receive feedback! thanks.</p>\n<pre><code>for (int i = 1; i &lt; 1000; i++) { \n    flips += r.nextInt(100) % 2 == 1 ? &quot;Head&quot; : &quot;Tail&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":4314604,"reputation":13,"user_id":3524846,"display_name":"Fred882401"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23019997,"answer_count":3,"score":1,"last_activity_date":1646846312,"creation_date":1397240112,"question_id":23019822,"body_markdown":"I am very beginner on Java, still getting passion about.\r\nI have been given this exercise: &quot;Write a simulator program that flips a coin: One thousand times then prints out how many time you get tails and how many times you get heads&quot;\r\nThat is what i have tried to do so far.\r\n\r\n    import java.util.Random; \r\n    import java.util.regex.Pattern; \r\n    \r\n    public class coin { \r\n    \r\n        public static void main( String [] args ) { \r\n    \r\n            Random r = new Random(); \r\n            Pattern tail = Pattern.compile(&quot;Tail+&quot;); \r\n            Pattern head = Pattern.compile(&quot;Head+&quot;); \r\n            String flips = &quot;&quot;; \r\n    \r\n            for (int i = 0; i &lt; 1000; i++) { \r\n                flips += r.nextInt(100) % 2 == 0 ? &quot;Head&quot; : &quot;Tail&quot;; \r\n            } \r\n            String[] heads = head.split( flips ); \r\n            String[] tails = tail.split( flips ); \r\n            //Display\r\n            System.out.println(&quot;Times head was flipped:&quot; + heads.length); \r\n            System.out.println(&quot;Times tail was flipped:&quot; + tails.length); \r\n        }\r\n    }\r\n\r\nThe program seems to be working, but it is giving me always an almost pair amount of heads and tails, which the total exceed 1000, at least by 1 or more.\r\nPlease, someone has any solution of this? Where am I wrong?\r\nThanks\r\n\r\n\r\n","title":"How flipping a coin and display tails and heads counting?","body":"<p>I am very beginner on Java, still getting passion about.\nI have been given this exercise: \"Write a simulator program that flips a coin: One thousand times then prints out how many time you get tails and how many times you get heads\"\nThat is what i have tried to do so far.</p>\n\n<pre><code>import java.util.Random; \nimport java.util.regex.Pattern; \n\npublic class coin { \n\n    public static void main( String [] args ) { \n\n        Random r = new Random(); \n        Pattern tail = Pattern.compile(\"Tail+\"); \n        Pattern head = Pattern.compile(\"Head+\"); \n        String flips = \"\"; \n\n        for (int i = 0; i &lt; 1000; i++) { \n            flips += r.nextInt(100) % 2 == 0 ? \"Head\" : \"Tail\"; \n        } \n        String[] heads = head.split( flips ); \n        String[] tails = tail.split( flips ); \n        //Display\n        System.out.println(\"Times head was flipped:\" + heads.length); \n        System.out.println(\"Times tail was flipped:\" + tails.length); \n    }\n}\n</code></pre>\n\n<p>The program seems to be working, but it is giving me always an almost pair amount of heads and tails, which the total exceed 1000, at least by 1 or more.\nPlease, someone has any solution of this? Where am I wrong?\nThanks</p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":384475,"reputation":2036,"user_id":741015,"display_name":"sudmong"},"score":1,"creation_date":1360563910,"post_id":14806868,"comment_id":20739232,"body_markdown":"you answered your own question. Use opensource libs like itext and write a java program to test.","body":"you answered your own question. Use opensource libs like itext and write a java program to test."},{"owner":{"account_id":474975,"reputation":28437,"user_id":885028,"accept_rate":90,"display_name":"aga"},"score":0,"creation_date":1360564213,"post_id":14806868,"comment_id":20739329,"body_markdown":"I suppose some of these tools/libraries were written in pure `java` (while some others could be written in other languages, but it&#39;s not the matter of subject), weren&#39;t they? :) If so, why can&#39;t you write your own implementation of such password check?","body":"I suppose some of these tools/libraries were written in pure <code>java</code> (while some others could be written in other languages, but it&#39;s not the matter of subject), weren&#39;t they? :) If so, why can&#39;t you write your own implementation of such password check?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1360564668,"post_id":14806868,"comment_id":20739454,"body_markdown":"As @aga pointed out, it obviously is possible to do that in Java. Thus, your question most likely misses some additional requirement you did not mention. Please explain your requirements.","body":"As @aga pointed out, it obviously is possible to do that in Java. Thus, your question most likely misses some additional requirement you did not mention. Please explain your requirements."}],"answers":[{"tags":[],"owner":{"account_id":2321169,"reputation":9855,"user_id":2036867,"accept_rate":64,"display_name":"Nimrod007"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1501621323,"creation_date":1360563961,"answer_id":14806964,"question_id":14806868,"body_markdown":"you can use PDFBox:\r\n\r\nhttp://pdfbox.apache.org/\r\n\r\ncode example :\r\n\r\n    try\r\n    {\r\n        document = PDDocument.load( yourPDFfile );\r\n    \r\n        if( document.isEncrypted() )\r\n        {\r\n          //ITS ENCRYPTED!\r\n        }\r\n    }\r\n\r\n\r\nusing maven? \r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"How to check pdf file is password protected?","body":"<p>you can use PDFBox:</p>\n\n<p><a href=\"http://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">http://pdfbox.apache.org/</a></p>\n\n<p>code example :</p>\n\n<pre><code>try\n{\n    document = PDDocument.load( yourPDFfile );\n\n    if( document.isEncrypted() )\n    {\n      //ITS ENCRYPTED!\n    }\n}\n</code></pre>\n\n<p>using maven? </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n    &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360565976,"creation_date":1360565976,"answer_id":14807328,"question_id":14806868,"body_markdown":"Using [iText][1] pdf API we can identify the password protected PDF.\r\n\r\n**Example :**\r\n\r\n        try {\r\n    \t\t\tnew PdfReader(&quot;C:\\\\Password_protected.pdf&quot;);\t\t\t\r\n    \t\t} catch (BadPasswordException e) {\r\n    \t\t\tSystem.out.println(&quot;PDF is password protected..&quot;);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\n  [1]: http://itextpdf.com/\r\n\r\n","title":"How to check pdf file is password protected?","body":"<p>Using <a href=\"http://itextpdf.com/\" rel=\"nofollow\">iText</a> pdf API we can identify the password protected PDF.</p>\n\n<p><strong>Example :</strong></p>\n\n<pre><code>    try {\n            new PdfReader(\"C:\\\\Password_protected.pdf\");            \n        } catch (BadPasswordException e) {\n            System.out.println(\"PDF is password protected..\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6394388,"reputation":1,"user_id":4959309,"display_name":"Carlo Paglietti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1433103638,"creation_date":1433103638,"answer_id":30562255,"question_id":14806868,"body_markdown":"\r\n\r\nThe solution:\r\n\r\n1) Install PDF Parser http://www.pdfparser.org/\r\n\r\n2) Edit Parser.php in this section: \r\n\r\n    if (isset($xref[&#39;trailer&#39;][&#39;encrypt&#39;])) {\r\n    echo(&#39;Your Allert message&#39;);\r\n    exit();}\r\n\r\n3)In your .php form post ( ex. upload.php) insert this:\r\n\r\n    for the first require  &#39;...yourdir.../vendor/autoload.php&#39;;\r\n\r\nthen write this function:\r\n\r\n    function pdftest_is_encrypted($form) {\r\n    $parser = new \\Smalot\\PdfParser\\Parser();\r\n    $pdf    = $parser-&gt;parseFile($form);\r\n    }\r\n\r\nand then call the function\r\n\r\n    pdftest_is_encrypted($_FILES[&quot;upfile&quot;][&quot;tmp_name&quot;]);\r\n\r\nThis is all, if you&#39;ll try to load a PDF with password the system return an error &quot;Your Allert message&quot;\r\n","title":"How to check pdf file is password protected?","body":"<p>The solution:</p>\n\n<p>1) Install PDF Parser <a href=\"http://www.pdfparser.org/\" rel=\"nofollow\">http://www.pdfparser.org/</a></p>\n\n<p>2) Edit Parser.php in this section: </p>\n\n<pre><code>if (isset($xref['trailer']['encrypt'])) {\necho('Your Allert message');\nexit();}\n</code></pre>\n\n<p>3)In your .php form post ( ex. upload.php) insert this:</p>\n\n<pre><code>for the first require  '...yourdir.../vendor/autoload.php';\n</code></pre>\n\n<p>then write this function:</p>\n\n<pre><code>function pdftest_is_encrypted($form) {\n$parser = new \\Smalot\\PdfParser\\Parser();\n$pdf    = $parser-&gt;parseFile($form);\n}\n</code></pre>\n\n<p>and then call the function</p>\n\n<pre><code>pdftest_is_encrypted($_FILES[\"upfile\"][\"tmp_name\"]);\n</code></pre>\n\n<p>This is all, if you'll try to load a PDF with password the system return an error \"Your Allert message\"</p>\n"},{"tags":[],"owner":{"account_id":2899315,"reputation":303,"user_id":2486417,"accept_rate":40,"display_name":"Vijayakumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1463758864,"creation_date":1463758864,"answer_id":37350602,"question_id":14806868,"body_markdown":"You can validate pdf, i.e it can be readable, writable by using Itext.\r\n\r\nFollowing is the code snippet,\r\n\r\n    boolean isValidPdf = false;\r\n\ttry {\r\n\t\tInputStream tempStream = new FileInputStream(new File(&quot;path/to/pdffile.pdf&quot;));\r\n\t\tPdfReader reader = new PdfReader(tempStream);\r\n\t\tisValidPdf = reader.isOpenedWithFullPermissions();\r\n\t\t} catch (Exception e) {\r\n\t\t\tisValidPdf = false;\r\n\t    }","title":"How to check pdf file is password protected?","body":"<p>You can validate pdf, i.e it can be readable, writable by using Itext.</p>\n\n<p>Following is the code snippet,</p>\n\n<pre><code>boolean isValidPdf = false;\ntry {\n    InputStream tempStream = new FileInputStream(new File(\"path/to/pdffile.pdf\"));\n    PdfReader reader = new PdfReader(tempStream);\n    isValidPdf = reader.isOpenedWithFullPermissions();\n    } catch (Exception e) {\n        isValidPdf = false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483065411,"creation_date":1482878624,"answer_id":41353111,"question_id":14806868,"body_markdown":"**Update** \r\n\r\nAs per mkl&#39;s comment below this answer, it seems that there are two types of PDF structures permitted by the specs: (1) Cross-referenced tables (2) Cross-referenced Streams. The following solution only addresses the first type of structure. This answer needs to be updated to address the second type.\r\n\r\n====\r\n\r\nAll of the answers provided above refer to some third party libraries which is what the OP is already aware of. The OP is asking for native Java approach. My answer is yes, you can do it but it will require a lot of work.\r\n\r\nIt will require a two step process:\r\n\r\n**Step 1**: **Figure out if the PDF is encrypted**\r\n\r\nAs per Adobe&#39;s PDF 1.7 [specs](http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/pdf_reference_1-7.pdf) (page number 97 and 115), if the trailer record contains the key &quot;\\Encrypted&quot;, the pdf is encrypted (the encryption could be simple password protection or RC4 or AES or some custom encryption). Here&#39;s a sample code:\r\n\r\n    \tBoolean isEncrypted = Boolean.FALSE;\r\n\t\ttry {\r\n\t\t\tbyte[] byteArray = Files.readAllBytes(Paths.get(&quot;Resources/1.pdf&quot;));\r\n            //Convert the binary bytes to String. Caution, it can result in loss of data. But for our purposes, we are simply interested in the String portion of the binary pdf data. So we should be fine.\r\n\t\t\tString pdfContent = new String(byteArray);\r\n\t\t\tint lastTrailerIndex = pdfContent.lastIndexOf(&quot;trailer&quot;);\r\n\t\t\tif(lastTrailerIndex &gt;= 0 &amp;&amp; lastTrailerIndex &lt; pdfContent.length()) {\r\n\t\t\t\tString newString =  pdfContent.substring(lastTrailerIndex, pdfContent.length());\r\n\t\t\t\tint firstEOFIndex = newString.indexOf(&quot;%%EOF&quot;);\r\n\t\t\t\tString trailer = newString.substring(0, firstEOFIndex);\r\n\t\t\t\tif(trailer.contains(&quot;/Encrypt&quot;))\r\n\t\t\t\t\tisEncrypted = Boolean.TRUE;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t\t//Do nothing\r\n\t\t}\r\n\r\n**Step 2**: **Figure out the encryption type**\r\n\r\nThis step is more complex. I don&#39;t have a code sample yet. But here is the algorithm:\r\n\r\n 1. Read the value of the key &quot;/Encrypt&quot; from the trailer as read in the step 1 above. E.g. the value is 288 0 R. \r\n 2. Look for the bytes &quot;288 0 obj&quot;. This is the location of the &quot;encryption dictionary&quot; object in the document. This object boundary ends at the string &quot;endobj&quot;. \r\n 3. Look for the key &quot;/Filter&quot; in this object. The &quot;Filter&quot; is the one that identifies the document&#39;s security handler. If the value of the &quot;/Filter&quot; is &quot;/Standard&quot;, the document uses the built-in password-based security handler. \r\n\r\nIf you just want to know whether the PDF is encrypted without worrying about whether the encryption is in form of owner / user password or some advance algorithms, you don&#39;t need the step 2 above.\r\n\r\nHope this helps.","title":"How to check pdf file is password protected?","body":"<p><strong>Update</strong> </p>\n\n<p>As per mkl's comment below this answer, it seems that there are two types of PDF structures permitted by the specs: (1) Cross-referenced tables (2) Cross-referenced Streams. The following solution only addresses the first type of structure. This answer needs to be updated to address the second type.</p>\n\n<p>====</p>\n\n<p>All of the answers provided above refer to some third party libraries which is what the OP is already aware of. The OP is asking for native Java approach. My answer is yes, you can do it but it will require a lot of work.</p>\n\n<p>It will require a two step process:</p>\n\n<p><strong>Step 1</strong>: <strong>Figure out if the PDF is encrypted</strong></p>\n\n<p>As per Adobe's PDF 1.7 <a href=\"http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/pdf_reference_1-7.pdf\" rel=\"nofollow noreferrer\">specs</a> (page number 97 and 115), if the trailer record contains the key \"\\Encrypted\", the pdf is encrypted (the encryption could be simple password protection or RC4 or AES or some custom encryption). Here's a sample code:</p>\n\n<pre><code>    Boolean isEncrypted = Boolean.FALSE;\n    try {\n        byte[] byteArray = Files.readAllBytes(Paths.get(\"Resources/1.pdf\"));\n        //Convert the binary bytes to String. Caution, it can result in loss of data. But for our purposes, we are simply interested in the String portion of the binary pdf data. So we should be fine.\n        String pdfContent = new String(byteArray);\n        int lastTrailerIndex = pdfContent.lastIndexOf(\"trailer\");\n        if(lastTrailerIndex &gt;= 0 &amp;&amp; lastTrailerIndex &lt; pdfContent.length()) {\n            String newString =  pdfContent.substring(lastTrailerIndex, pdfContent.length());\n            int firstEOFIndex = newString.indexOf(\"%%EOF\");\n            String trailer = newString.substring(0, firstEOFIndex);\n            if(trailer.contains(\"/Encrypt\"))\n                isEncrypted = Boolean.TRUE;\n        }\n    }\n    catch(Exception e) {\n        System.out.println(e);\n        //Do nothing\n    }\n</code></pre>\n\n<p><strong>Step 2</strong>: <strong>Figure out the encryption type</strong></p>\n\n<p>This step is more complex. I don't have a code sample yet. But here is the algorithm:</p>\n\n<ol>\n<li>Read the value of the key \"/Encrypt\" from the trailer as read in the step 1 above. E.g. the value is 288 0 R. </li>\n<li>Look for the bytes \"288 0 obj\". This is the location of the \"encryption dictionary\" object in the document. This object boundary ends at the string \"endobj\". </li>\n<li>Look for the key \"/Filter\" in this object. The \"Filter\" is the one that identifies the document's security handler. If the value of the \"/Filter\" is \"/Standard\", the document uses the built-in password-based security handler. </li>\n</ol>\n\n<p>If you just want to know whether the PDF is encrypted without worrying about whether the encryption is in form of owner / user password or some advance algorithms, you don't need the step 2 above.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8882,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646846275,"creation_date":1646846275,"answer_id":71413445,"question_id":14806868,"body_markdown":"The correct how to do it in java answer is per @vhs.\r\n\r\nHowever in any application by far the simplest is to use very lightweight pdfinfo tool to filter the encryption status and here using windows cmd I can instantly get a report that two different copies of the same file are encrypted \r\n\r\n```\r\n&gt;forfiles /m *.pdf /C &quot;cmd /c echo @file &amp;pdfinfo @file|find /i \\&quot;Encrypted\\&quot;&quot;\r\n\r\n&quot;Certificate (9).pdf&quot;\r\nEncrypted:      no\r\n\r\n&quot;ds872 source form.pdf&quot;\r\nEncrypted:      AES 128-bit\r\n\r\n&quot;ds872 filled form.pdf&quot;\r\nEncrypted:      AES 128-bit\r\n\r\n&quot;How to extract data from a particular area in a PDF file - Stack Overflow.pdf&quot;\r\nEncrypted:      no\r\n\r\n&quot;Test.pdf&quot;\r\nEncrypted:      no\r\n\r\n&gt;\r\n```","title":"How to check pdf file is password protected?","body":"<p>The correct how to do it in java answer is per @vhs.</p>\n<p>However in any application by far the simplest is to use very lightweight pdfinfo tool to filter the encryption status and here using windows cmd I can instantly get a report that two different copies of the same file are encrypted</p>\n<pre><code>&gt;forfiles /m *.pdf /C &quot;cmd /c echo @file &amp;pdfinfo @file|find /i \\&quot;Encrypted\\&quot;&quot;\n\n&quot;Certificate (9).pdf&quot;\nEncrypted:      no\n\n&quot;ds872 source form.pdf&quot;\nEncrypted:      AES 128-bit\n\n&quot;ds872 filled form.pdf&quot;\nEncrypted:      AES 128-bit\n\n&quot;How to extract data from a particular area in a PDF file - Stack Overflow.pdf&quot;\nEncrypted:      no\n\n&quot;Test.pdf&quot;\nEncrypted:      no\n\n&gt;\n</code></pre>\n"}],"owner":{"account_id":2351761,"reputation":167,"user_id":2060390,"display_name":"user2060390"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11086,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":6,"score":3,"last_activity_date":1646846275,"creation_date":1360563444,"question_id":14806868,"body_markdown":"How to check pdf file is password protected or not in java?\r\nI know of several tools/libraries that can do this but I want to know if this is possible with just program in java.","title":"How to check pdf file is password protected?","body":"<p>How to check pdf file is password protected or not in java?\nI know of several tools/libraries that can do this but I want to know if this is possible with just program in java.</p>\n"},{"tags":["java","spring","jdbc","spring-jdbc","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638712200,"creation_date":1638670822,"answer_id":70231034,"question_id":70230657,"body_markdown":"If you want to access to any spring bean, you just need to autowire it to another bean, instead the invocation of method in configuration classes:\r\n\r\n```\r\n@Autowired\r\nDataSource datasource;\r\n```","title":"Unable to use getConnection() from datasource","body":"<p>If you want to access to any spring bean, you just need to autowire it to another bean, instead the invocation of method in configuration classes:</p>\n<pre><code>@Autowired\nDataSource datasource;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8889976,"reputation":13,"user_id":6636936,"display_name":"Somewhat_User"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638672344,"creation_date":1638671251,"answer_id":70231060,"question_id":70230657,"body_markdown":"Additionally from JRichardsz answer, I believe that the correct variable name for the URL in application.properties is url, not jdbc-url.\r\n\r\nReference to that is in this documentation\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data.spring.datasource.url","title":"Unable to use getConnection() from datasource","body":"<p>Additionally from JRichardsz answer, I believe that the correct variable name for the URL in application.properties is url, not jdbc-url.</p>\n<p>Reference to that is in this documentation</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data.spring.datasource.url\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data.spring.datasource.url</a></p>\n"},{"tags":[],"owner":{"display_name":"user17575267"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638681158,"creation_date":1638681158,"answer_id":70231643,"question_id":70230657,"body_markdown":"Simply remove *static* modifier from primaryDataSource() method declaration. It should look like this:\r\n\r\n    @Bean(name = &quot;database1&quot;)\r\n    @Primary\r\n    @ConfigurationProperties(prefix=&quot;database1.datasource&quot;)\r\n    public DataSource primaryDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }","title":"Unable to use getConnection() from datasource","body":"<p>Simply remove <em>static</em> modifier from primaryDataSource() method declaration. It should look like this:</p>\n<pre><code>@Bean(name = &quot;database1&quot;)\n@Primary\n@ConfigurationProperties(prefix=&quot;database1.datasource&quot;)\npublic DataSource primaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n"}],"owner":{"display_name":"user17575267"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1646846255,"creation_date":1638664858,"question_id":70230657,"body_markdown":"Here&#39;s my data source configuration:\r\n\r\n    @Bean(name = &quot;database1&quot;)\r\n    @Primary\r\n    @ConfigurationProperties(prefix=&quot;database1.datasource&quot;)\r\n    public static DataSource primaryDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\nIt&#39;s configured in a @Configuration class.\r\n\r\nHere&#39;s how my application.properties looks like:\r\n\r\n    database1.datasource.jdbc-url=jdbc:mysql://localhost:3306/dbpms\r\n    database1.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    database1.datasource.username=root\r\n    database1.datasource.password=\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    database1.datasource.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\r\n    database1.datasource.initialize=true;\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\nThis configuration is working as expected.\r\n\r\nMy issue comes when trying to get my connection from primaryDataSource():\r\n\r\n    primaryDataSource().getConnection;\r\n\r\nThat throws the following exception:\r\n\r\n    Exception in thread &quot;Thread-5&quot; java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\r\n\tat com.zaxxer.hikari.HikariConfig.validate(HikariConfig.java:1029)\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:109)\r\n\r\nWhy can&#39;t I invoke this method since my data source is working properly?","title":"Unable to use getConnection() from datasource","body":"<p>Here's my data source configuration:</p>\n<pre><code>@Bean(name = &quot;database1&quot;)\n@Primary\n@ConfigurationProperties(prefix=&quot;database1.datasource&quot;)\npublic static DataSource primaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n<p>It's configured in a @Configuration class.</p>\n<p>Here's how my application.properties looks like:</p>\n<pre><code>database1.datasource.jdbc-url=jdbc:mysql://localhost:3306/dbpms\ndatabase1.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\ndatabase1.datasource.username=root\ndatabase1.datasource.password=\nspring.jpa.hibernate.ddl-auto=update\ndatabase1.datasource.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL8Dialect\ndatabase1.datasource.initialize=true;\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n<p>This configuration is working as expected.</p>\n<p>My issue comes when trying to get my connection from primaryDataSource():</p>\n<pre><code>primaryDataSource().getConnection;\n</code></pre>\n<p>That throws the following exception:</p>\n<pre><code>Exception in thread &quot;Thread-5&quot; java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\nat com.zaxxer.hikari.HikariConfig.validate(HikariConfig.java:1029)\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:109)\n</code></pre>\n<p>Why can't I invoke this method since my data source is working properly?</p>\n"},{"tags":["java","linux","jvm","jvm-hotspot"],"answers":[{"tags":[],"owner":{"account_id":1075938,"reputation":1011,"user_id":1074093,"display_name":"ben_wing"},"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1418269169,"creation_date":1418269169,"answer_id":27414967,"question_id":26140182,"body_markdown":"I just found that jmap (and presumably jvisualvm when using it to generate a heap dump) enforces that the user running jmap must be the same user running the process attempting to be dumped.\r\n\r\nin my case the jvm i want a heap dump for is being run by linux user &quot;jboss&quot;.  so where `sudo jmap -dump:file.bin &lt;pid&gt;` was reporting &quot;Unable to open socket:&quot;, i was able to grab my heap dump using:\r\n\r\n    sudo -u jboss jmap -dump:file.bin &lt;pid&gt;","title":"Running jmap getting Unable to open socket file","body":"<p>I just found that jmap (and presumably jvisualvm when using it to generate a heap dump) enforces that the user running jmap must be the same user running the process attempting to be dumped.</p>\n\n<p>in my case the jvm i want a heap dump for is being run by linux user \"jboss\".  so where <code>sudo jmap -dump:file.bin &lt;pid&gt;</code> was reporting \"Unable to open socket:\", i was able to grab my heap dump using:</p>\n\n<pre><code>sudo -u jboss jmap -dump:file.bin &lt;pid&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":231,"is_accepted":true,"score":231,"last_activity_date":1459647438,"creation_date":1457815381,"answer_id":35963059,"question_id":26140182,"body_markdown":"`jmap` vs. `jmap -F`, as well as `jstack` vs. `jstack -F` use completely different mechanisms to communcate with the target JVM.\r\n\r\n## jmap / jstack\r\n\r\nWhen run without `-F` these tools use [Dynamic Attach Mechanism](http://openjdk.java.net/groups/hotspot/docs/Serviceability.html#battach). This works as follows.\r\n\r\n 1. Before connecting to Java process 1234, `jmap` creates a file `.attach_pid1234` at the working directory of the target process or at `/tmp`.\r\n\r\n 2. Then `jmap` sends `SIGQUIT` to the target process. When JVM catches the signal and finds `.attach_pid1234`, it starts `AttachListener` thread.\r\n\r\n 3. `AttachListener` thread creates UNIX domain socket `/tmp/.java_pid1234` to listen to commands from external tools.\r\n\r\n 4. For security reasons when a connection (from `jmap`) is accepted, JVM verifies that credentials of the socket peer are equal to `euid` and `egid` of JVM process. That&#39;s why `jmap` will not work if run by different user (even by root).\r\n\r\n 5. `jmap` connects to the socket, and sends `dumpheap` command.\r\n\r\n 6. This command is read and executed by `AttachListener` thread of the JVM. All output is sent back to the socket. Since the heap dump is made in-process directly by JVM, the operation is really fast. However, JVM can do this only at [safepoints](http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html). If a safepoint cannot be reached (e.g. the process is hung, not responding, or a long GC is in progress), `jmap` will timeout and fail.\r\n\r\nLet&#39;s summarize the benefits and the drawbacks of Dynamic Attach.\r\n\r\n**Pros.**\r\n\r\n - Heap dump and other operations are run collaboratively by JVM at the maximum speed.\r\n - You can use any version of `jmap` or `jstack` to connect to any other version of JVM.\r\n\r\n**Cons.**\r\n\r\n - The tool should be run by the same user (`euid`/`egid`) as the target JVM.\r\n - Can be used only on live and healthy JVM.\r\n - Will not work if the target JVM is started with `-XX:+DisableAttachMechanism`.\r\n\r\n---\r\n\r\n## jmap -F / jstack -F\r\n\r\nWhen run with `-F` the tools switch to special mode that features [HotSpot Serviceability Agent](http://openjdk.java.net/groups/hotspot/docs/Serviceability.html#bsa). In this mode the target process is frozen; the tools read its memory via OS debugging facilities, namely, [`ptrace`](http://man7.org/linux/man-pages/man2/ptrace.2.html) on Linux.\r\n\r\n 1. `jmap -F` invokes `PTRACE_ATTACH` on the target JVM. The target process is unconditionally suspended in response to `SIGSTOP` signal.\r\n\r\n 2. The tool reads JVM memory using `PTRACE_PEEKDATA`. `ptrace` can read only one word at a time, so too many calls required to read the large heap of the target process. This is very and very slow.\r\n\r\n 3. The tool reconstructs JVM internal structures based on the knowledge of the particular JVM version. Since different versions of JVM have different memory layout, `-F` mode works only if `jmap` comes from the same JDK as the target Java process.\r\n\r\n 4. The tool creates heap dump itself and then resumes the target process.\r\n\r\n**Pros.**\r\n\r\n - No cooperation from target JVM is required. Can be used even on a hung process.\r\n - `ptrace` works whenever OS-level privileges are enough. E.g. `root` can dump processes of all other users.\r\n\r\n**Cons.**\r\n\r\n - Very slow for large heaps.\r\n - The tool and the target process should be from the same version of JDK.\r\n - The safepoint is not guaranteed when the tool attaches in forced mode. Though `jmap` tries to handle all special cases, sometimes it may happen that target JVM is not in a consistent state.\r\n\r\n**Note**\r\n\r\nThere is a faster way to take heap dumps in forced mode. First, create a coredump with [`gcore`](http://man7.org/linux/man-pages/man1/gcore.1.html), then run `jmap` over the generated core file. See [the related question](https://stackoverflow.com/questions/35792936/how-to-take-a-heap-dump-in-windows-with-minimum-downtime/).","title":"Running jmap getting Unable to open socket file","body":"<p><code>jmap</code> vs. <code>jmap -F</code>, as well as <code>jstack</code> vs. <code>jstack -F</code> use completely different mechanisms to communcate with the target JVM.</p>\n\n<h2>jmap / jstack</h2>\n\n<p>When run without <code>-F</code> these tools use <a href=\"http://openjdk.java.net/groups/hotspot/docs/Serviceability.html#battach\" rel=\"noreferrer\">Dynamic Attach Mechanism</a>. This works as follows.</p>\n\n<ol>\n<li><p>Before connecting to Java process 1234, <code>jmap</code> creates a file <code>.attach_pid1234</code> at the working directory of the target process or at <code>/tmp</code>.</p></li>\n<li><p>Then <code>jmap</code> sends <code>SIGQUIT</code> to the target process. When JVM catches the signal and finds <code>.attach_pid1234</code>, it starts <code>AttachListener</code> thread.</p></li>\n<li><p><code>AttachListener</code> thread creates UNIX domain socket <code>/tmp/.java_pid1234</code> to listen to commands from external tools.</p></li>\n<li><p>For security reasons when a connection (from <code>jmap</code>) is accepted, JVM verifies that credentials of the socket peer are equal to <code>euid</code> and <code>egid</code> of JVM process. That's why <code>jmap</code> will not work if run by different user (even by root).</p></li>\n<li><p><code>jmap</code> connects to the socket, and sends <code>dumpheap</code> command.</p></li>\n<li><p>This command is read and executed by <code>AttachListener</code> thread of the JVM. All output is sent back to the socket. Since the heap dump is made in-process directly by JVM, the operation is really fast. However, JVM can do this only at <a href=\"http://blog.ragozin.info/2012/10/safepoints-in-hotspot-jvm.html\" rel=\"noreferrer\">safepoints</a>. If a safepoint cannot be reached (e.g. the process is hung, not responding, or a long GC is in progress), <code>jmap</code> will timeout and fail.</p></li>\n</ol>\n\n<p>Let's summarize the benefits and the drawbacks of Dynamic Attach.</p>\n\n<p><strong>Pros.</strong></p>\n\n<ul>\n<li>Heap dump and other operations are run collaboratively by JVM at the maximum speed.</li>\n<li>You can use any version of <code>jmap</code> or <code>jstack</code> to connect to any other version of JVM.</li>\n</ul>\n\n<p><strong>Cons.</strong></p>\n\n<ul>\n<li>The tool should be run by the same user (<code>euid</code>/<code>egid</code>) as the target JVM.</li>\n<li>Can be used only on live and healthy JVM.</li>\n<li>Will not work if the target JVM is started with <code>-XX:+DisableAttachMechanism</code>.</li>\n</ul>\n\n<hr>\n\n<h2>jmap -F / jstack -F</h2>\n\n<p>When run with <code>-F</code> the tools switch to special mode that features <a href=\"http://openjdk.java.net/groups/hotspot/docs/Serviceability.html#bsa\" rel=\"noreferrer\">HotSpot Serviceability Agent</a>. In this mode the target process is frozen; the tools read its memory via OS debugging facilities, namely, <a href=\"http://man7.org/linux/man-pages/man2/ptrace.2.html\" rel=\"noreferrer\"><code>ptrace</code></a> on Linux.</p>\n\n<ol>\n<li><p><code>jmap -F</code> invokes <code>PTRACE_ATTACH</code> on the target JVM. The target process is unconditionally suspended in response to <code>SIGSTOP</code> signal.</p></li>\n<li><p>The tool reads JVM memory using <code>PTRACE_PEEKDATA</code>. <code>ptrace</code> can read only one word at a time, so too many calls required to read the large heap of the target process. This is very and very slow.</p></li>\n<li><p>The tool reconstructs JVM internal structures based on the knowledge of the particular JVM version. Since different versions of JVM have different memory layout, <code>-F</code> mode works only if <code>jmap</code> comes from the same JDK as the target Java process.</p></li>\n<li><p>The tool creates heap dump itself and then resumes the target process.</p></li>\n</ol>\n\n<p><strong>Pros.</strong></p>\n\n<ul>\n<li>No cooperation from target JVM is required. Can be used even on a hung process.</li>\n<li><code>ptrace</code> works whenever OS-level privileges are enough. E.g. <code>root</code> can dump processes of all other users.</li>\n</ul>\n\n<p><strong>Cons.</strong></p>\n\n<ul>\n<li>Very slow for large heaps.</li>\n<li>The tool and the target process should be from the same version of JDK.</li>\n<li>The safepoint is not guaranteed when the tool attaches in forced mode. Though <code>jmap</code> tries to handle all special cases, sometimes it may happen that target JVM is not in a consistent state.</li>\n</ul>\n\n<p><strong>Note</strong></p>\n\n<p>There is a faster way to take heap dumps in forced mode. First, create a coredump with <a href=\"http://man7.org/linux/man-pages/man1/gcore.1.html\" rel=\"noreferrer\"><code>gcore</code></a>, then run <code>jmap</code> over the generated core file. See <a href=\"https://stackoverflow.com/questions/35792936/how-to-take-a-heap-dump-in-windows-with-minimum-downtime/\">the related question</a>.</p>\n"},{"tags":[],"owner":{"account_id":6235075,"reputation":7453,"user_id":4850646,"accept_rate":83,"display_name":"Lucas Basquerotto"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496263237,"creation_date":1496263237,"answer_id":44294279,"question_id":26140182,"body_markdown":"Just like [ben_wing][1] said, you can run with:\r\n\r\n    sudo -u jboss-as jmap -dump:file.bin &lt;pid&gt;\r\n\r\n(in my case the user is `jboss-as`, but yours could be `jboss` or some other.)\r\n\r\nBut it was not enough, because **it asked me for a password** (`[sudo] password for ec2-user:`), although I could run `sudo` without prompting me for a password with other commands. \r\n\r\nI found the solution [here][2], and I just needed to add another `sudo` first:\r\n\r\n    sudo sudo -u jboss-as jmap -dump:file.bin &lt;pid&gt;\r\n\r\nIt works with other commands like `jcmd` and `jinfo` too.\r\n\r\n  [1]: https://stackoverflow.com/a/27414967/4850646\r\n  [2]: https://serverfault.com/a/443871/415429","title":"Running jmap getting Unable to open socket file","body":"<p>Just like <a href=\"https://stackoverflow.com/a/27414967/4850646\">ben_wing</a> said, you can run with:</p>\n\n<pre><code>sudo -u jboss-as jmap -dump:file.bin &lt;pid&gt;\n</code></pre>\n\n<p>(in my case the user is <code>jboss-as</code>, but yours could be <code>jboss</code> or some other.)</p>\n\n<p>But it was not enough, because <strong>it asked me for a password</strong> (<code>[sudo] password for ec2-user:</code>), although I could run <code>sudo</code> without prompting me for a password with other commands. </p>\n\n<p>I found the solution <a href=\"https://serverfault.com/a/443871/415429\">here</a>, and I just needed to add another <code>sudo</code> first:</p>\n\n<pre><code>sudo sudo -u jboss-as jmap -dump:file.bin &lt;pid&gt;\n</code></pre>\n\n<p>It works with other commands like <code>jcmd</code> and <code>jinfo</code> too.</p>\n"},{"tags":[],"owner":{"account_id":3052542,"reputation":71,"user_id":2586805,"display_name":"Simple"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1541334631,"creation_date":1541334631,"answer_id":53140845,"question_id":26140182,"body_markdown":"If your application is runing as a systemd service.You should open service file that under `/usr/lib/systemd/system/` and named by your service name. Then check whether **[privateTmp](https://access.redhat.com/blogs/766093/posts/1976243)** attribute is true.\r\n\r\nIf it is true,you shoud change it to false,then refresh service by command as follow:\r\n```\r\nsystemctl daemon-reload\r\nsystemctl restart [servicename]\r\n```\r\nIf you want runing jmap/jcmd before restart, you can make use of the execStop script in the service file. Just put command in it and to execute `systemctl stop [service name]`","title":"Running jmap getting Unable to open socket file","body":"<p>If your application is runing as a systemd service.You should open service file that under <code>/usr/lib/systemd/system/</code> and named by your service name. Then check whether <strong><a href=\"https://access.redhat.com/blogs/766093/posts/1976243\" rel=\"noreferrer\">privateTmp</a></strong> attribute is true.</p>\n\n<p>If it is true,you shoud change it to false,then refresh service by command as follow:\n<code>\nsystemctl daemon-reload\nsystemctl restart [servicename]\n</code>\nIf you want runing jmap/jcmd before restart, you can make use of the execStop script in the service file. Just put command in it and to execute <code>systemctl stop [service name]</code></p>\n"},{"tags":[],"owner":{"account_id":22129940,"reputation":11,"user_id":16381636,"display_name":"Travis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646846180,"creation_date":1626320305,"answer_id":68387592,"question_id":26140182,"body_markdown":"It&#39;s usually solved with -F.\r\n\r\nAs stated in the message:\r\n\r\n    The -F option can be used when the target process is not responding\r\n\r\nI encountered a situation where the full GC made it impossible to execute the command.","title":"Running jmap getting Unable to open socket file","body":"<p>It's usually solved with -F.</p>\n<p>As stated in the message:</p>\n<pre><code>The -F option can be used when the target process is not responding\n</code></pre>\n<p>I encountered a situation where the full GC made it impossible to execute the command.</p>\n"}],"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91221,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"accepted_answer_id":35963059,"answer_count":5,"score":102,"last_activity_date":1646846180,"creation_date":1412162452,"question_id":26140182,"body_markdown":"I had to run `jmap` in order to take heap dump of my process. but `jvm` returned:\r\n\r\n    Unable to open socket file: target process not responding or HotSpot VM not loaded\r\n    The -F option can be used when the target process is not responding\r\n\r\nSo I used the `-F`:\r\n\r\n    ./jmap -F -dump:format=b,file=heap.bin 10330\r\n    Attaching to process ID 10331, please wait...\r\n    Debugger attached successfully.\r\n    Server compiler detected.\r\n    JVM version is 24.51-b03\r\n    Dumping heap to heap.bin ...\r\n\r\n1. Using `-F`  is allright  for taking heap dump?\r\n2. I am waiting 20 minutes and not finished yet. Any ideas why?","title":"Running jmap getting Unable to open socket file","body":"<p>I had to run <code>jmap</code> in order to take heap dump of my process. but <code>jvm</code> returned:</p>\n\n<pre><code>Unable to open socket file: target process not responding or HotSpot VM not loaded\nThe -F option can be used when the target process is not responding\n</code></pre>\n\n<p>So I used the <code>-F</code>:</p>\n\n<pre><code>./jmap -F -dump:format=b,file=heap.bin 10330\nAttaching to process ID 10331, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 24.51-b03\nDumping heap to heap.bin ...\n</code></pre>\n\n<ol>\n<li>Using <code>-F</code>  is allright  for taking heap dump?</li>\n<li>I am waiting 20 minutes and not finished yet. Any ideas why?</li>\n</ol>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5147284,"reputation":2911,"user_id":4122894,"display_name":"sixrandanes"},"score":0,"creation_date":1646857778,"post_id":71413334,"comment_id":126230552,"body_markdown":"Do you have the same result without using @Import... ?","body":"Do you have the same result without using @Import... ?"},{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1646859520,"post_id":71413334,"comment_id":126231062,"body_markdown":"I need to use @Import, ExternalConfig has some beans I want to import","body":"I need to use @Import, ExternalConfig has some beans I want to import"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":940,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1646845849,"creation_date":1646845849,"question_id":71413334,"body_markdown":"I have a `@Configuration ExternalConfig` class from other library, I cannot modify it. I need to import it but also remove some beans from this external config.\r\n\r\nHere is the `ExternalConfig` I CANNOT MODIFY (basically I want to remove `Bean1.class` and `Bean2.class` scanned from `com.config.external`)\r\n\r\n    @Configuration\r\n    @ComponentScan({&quot;com.config.external&quot;})\r\n    public class ExternalConfig {\r\n    \r\n    }\r\n\r\nAnd here is my custom config :\r\n\r\n    @Import(ExternalConfig.class)\r\n    @ComponentScan(basePackages = {&quot;com.config.external&quot;}, excludeFilters = {\r\n            @ComponentScan.Filter(type=FilterType.ASSIGNABLE_TYPE, value= {Bean1.class, Bean2.class})\r\n    })\r\n    @Configuration\r\n    public class CustomConfig {\r\n    \r\n    }\r\n\r\nBut it does not work, `Bean1` and `Bean2` got injected into application context. Is there something I can do about it ?","title":"How to exclude Spring beans from @Configuration/scan packages?","body":"<p>I have a <code>@Configuration ExternalConfig</code> class from other library, I cannot modify it. I need to import it but also remove some beans from this external config.</p>\n<p>Here is the <code>ExternalConfig</code> I CANNOT MODIFY (basically I want to remove <code>Bean1.class</code> and <code>Bean2.class</code> scanned from <code>com.config.external</code>)</p>\n<pre><code>@Configuration\n@ComponentScan({&quot;com.config.external&quot;})\npublic class ExternalConfig {\n\n}\n</code></pre>\n<p>And here is my custom config :</p>\n<pre><code>@Import(ExternalConfig.class)\n@ComponentScan(basePackages = {&quot;com.config.external&quot;}, excludeFilters = {\n        @ComponentScan.Filter(type=FilterType.ASSIGNABLE_TYPE, value= {Bean1.class, Bean2.class})\n})\n@Configuration\npublic class CustomConfig {\n\n}\n</code></pre>\n<p>But it does not work, <code>Bean1</code> and <code>Bean2</code> got injected into application context. Is there something I can do about it ?</p>\n"},{"tags":["java","dependency-injection","guice","inject"],"answers":[{"tags":[],"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646845480,"creation_date":1646845480,"answer_id":71413257,"question_id":71389546,"body_markdown":"You can bind the directly to the instance of a string using the `Names` annotation.\r\n\r\n```\r\nbind(String.class).annotatedWith(Names.named(&quot;PROPERTY&quot;)).toInstance(&quot;Some String&quot;);\r\n```\r\n\r\nAlthough a better way to do it would be to use `Properties`:\r\n\r\n```\r\n// Your choice of loading properties\r\nProperties properties = getPropreties();\r\nNames.bindProperties(binder(), properties);\r\n```\r\n\r\nThen you can use either of these with\r\n\r\n```\r\n@Inject @Named(&quot;my.property&quot;) String myProperty;\r\n```","title":"How to use Guice Injector to avoid declaring string as static","body":"<p>You can bind the directly to the instance of a string using the <code>Names</code> annotation.</p>\n<pre><code>bind(String.class).annotatedWith(Names.named(&quot;PROPERTY&quot;)).toInstance(&quot;Some String&quot;);\n</code></pre>\n<p>Although a better way to do it would be to use <code>Properties</code>:</p>\n<pre><code>// Your choice of loading properties\nProperties properties = getPropreties();\nNames.bindProperties(binder(), properties);\n</code></pre>\n<p>Then you can use either of these with</p>\n<pre><code>@Inject @Named(&quot;my.property&quot;) String myProperty;\n</code></pre>\n"}],"owner":{"account_id":24486330,"reputation":1,"user_id":18403961,"display_name":"Swathvik Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646845480,"creation_date":1646708301,"question_id":71389546,"body_markdown":"I&#39;m actually new to using Guice injector. I have a situation where I have a String variable in one class and I want to use this variable in a different class without declaring it as static .  Can I know how to use Guice injector here to avoid declaring it static\r\n\r\n\r\n    public class A {\r\n\r\n      private string a;\r\n      public void Method() {\r\n      a = &quot;abc&quot;;\r\n      }\r\n    }\r\n\r\n    public class B {\r\n      public void method2() {\r\n      String b = a;\r\n      }\r\n    }\r\n\r\n","title":"How to use Guice Injector to avoid declaring string as static","body":"<p>I'm actually new to using Guice injector. I have a situation where I have a String variable in one class and I want to use this variable in a different class without declaring it as static .  Can I know how to use Guice injector here to avoid declaring it static</p>\n<pre><code>public class A {\n\n  private string a;\n  public void Method() {\n  a = &quot;abc&quot;;\n  }\n}\n\npublic class B {\n  public void method2() {\n  String b = a;\n  }\n}\n</code></pre>\n"},{"tags":["java","automation","adb","appium"],"comments":[{"owner":{"account_id":11245029,"reputation":441,"user_id":8248043,"display_name":"ARods"},"score":0,"creation_date":1524728552,"post_id":49486139,"comment_id":87090965,"body_markdown":"Any one know about this issue and solution for this?","body":"Any one know about this issue and solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":13750010,"reputation":171,"user_id":9922403,"display_name":"BADER EDDINE QODIA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646845166,"creation_date":1646845166,"answer_id":71413183,"question_id":49486139,"body_markdown":"the problem that you had faced because that you run your command without root permission.\r\n\r\nrun this command if your phone is already rooted :\r\n\r\n    adb root\r\n\r\nafter :\r\n\r\n    adb shell service call bluetooth_manager 6\r\n\r\n","title":"Bluetooth Enable Disable ADB command and Opening Android Activity with Android Driver not working in Some Android 7 devices","body":"<p>the problem that you had faced because that you run your command without root permission.</p>\n<p>run this command if your phone is already rooted :</p>\n<pre><code>adb root\n</code></pre>\n<p>after :</p>\n<pre><code>adb shell service call bluetooth_manager 6\n</code></pre>\n"}],"owner":{"account_id":11245029,"reputation":441,"user_id":8248043,"display_name":"ARods"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2551,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646845166,"creation_date":1522049637,"question_id":49486139,"body_markdown":"    Result: Parcel(\r\n      0x00000000: ffffffff 0000006e 0065004e 00640065 &#39;....n...N.e.e.d.&#39;\r\n      0x00000010: 00420020 0055004c 00540045 004f004f &#39; .B.L.U.E.T.O.O.&#39;\r\n      0x00000020: 00480054 00410020 004d0044 004e0049 &#39;T.H. .A.D.M.I.N.&#39;\r\n      0x00000030: 00700020 00720065 0069006d 00730073 &#39; .p.e.r.m.i.s.s.&#39;\r\n      0x00000040: 006f0069 003a006e 004e0020 00690065 &#39;i.o.n.:. .N.e.i.&#39;\r\n      0x00000050: 00680074 00720065 00750020 00650073 &#39;t.h.e.r. .u.s.e.&#39;\r\n      0x00000060: 00200072 00300032 00300030 006e0020 &#39;r. .2.0.0.0. .n.&#39;\r\n      0x00000070: 0072006f 00630020 00720075 00650072 &#39;o.r. .c.u.r.r.e.&#39;\r\n      0x00000080: 0074006e 00700020 006f0072 00650063 &#39;n.t. .p.r.o.c.e.&#39;\r\n      0x00000090: 00730073 00680020 00730061 00610020 &#39;s.s. .h.a.s. .a.&#39;\r\n      0x000000a0: 0064006e 006f0072 00640069 0070002e &#39;n.d.r.o.i.d...p.&#39;\r\n      0x000000b0: 00720065 0069006d 00730073 006f0069 &#39;e.r.m.i.s.s.i.o.&#39;\r\n      0x000000c0: 002e006e 004c0042 00450055 004f0054 &#39;n...B.L.U.E.T.O.&#39;\r\n      0x000000d0: 0054004f 005f0048 00440041 0049004d &#39;O.T.H._.A.D.M.I.&#39;\r\n      0x000000e0: 002e004e 00000000                   &#39;N.......        &#39;)\r\n\r\nWhile running the following ADB Command, the above error thrown in CLI. \r\n\r\n**Enable:**\r\n    \r\n&gt; adb shell service call bluetooth_manager 6\r\n\r\n**Disable:**\r\n\r\n&gt; adb shell service call bluetooth_manager 9\r\n\r\nAlso tried with the appium android driver activity, Nearly the same permission issue in Samsung Galaxy Note 8 (7.1.1), Samsung Galaxy Note 2 (7.0). But both activity and ADB command works fine in Samsung Galaxy S7 edge (7.0).\r\n\r\n**Android driver activity error:**\r\n\r\n    org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Error occured while starting App. Original error: Error executing adbExec. Original error: &#39;Command &#39;/home/user/Android/Sdk/platform-tools/adb -P 5037 -s 83f0374b42535532 shell am start -W -n com.android.settings/com.android.settings.bluetooth.BluetoothSettings -S -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x10200000&#39; exited with code 1&#39;; Stderr: &#39;java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.android.settings/.bluetooth.BluetoothSettings launchParam=MultiScreenLaunchParams { mDisplayId=0 mFlags=0 } } from null (pid=24744, uid=2000) requires android.permission.BLUETOOTH_ADMIN\r\n    \tat android.os.Parcel.readException(Parcel.java:1693)\r\n    \tat android.os.Parcel.readException(Parcel.java:1646)\r\n    \tat android.app.ActivityManagerProxy.startActivityAndWait(ActivityManagerNative.java:3646)\r\n    \tat com.android.commands.am.Am.runStart(Am.java:658)\r\n    \tat com.android.commands.am.Am.onRun(Am.java:392)\r\n    \tat com.android.internal.os.BaseCommand.run(BaseCommand.java:51)\r\n    \tat com.android.commands.am.Am.main(Am.java:125)\r\n    \tat com.android.internal.os.RuntimeInit.nativeFinishInit(Native Method)\r\n    \tat com.android.internal.os.RuntimeInit.main(RuntimeInit.java:301)&#39;; Code: &#39;1&#39; (WARNING: The server did not provide any stacktrace information)\r\n\r\n\r\n\r\nAny solutions would be appreciated.","title":"Bluetooth Enable Disable ADB command and Opening Android Activity with Android Driver not working in Some Android 7 devices","body":"<pre><code>Result: Parcel(\n  0x00000000: ffffffff 0000006e 0065004e 00640065 '....n...N.e.e.d.'\n  0x00000010: 00420020 0055004c 00540045 004f004f ' .B.L.U.E.T.O.O.'\n  0x00000020: 00480054 00410020 004d0044 004e0049 'T.H. .A.D.M.I.N.'\n  0x00000030: 00700020 00720065 0069006d 00730073 ' .p.e.r.m.i.s.s.'\n  0x00000040: 006f0069 003a006e 004e0020 00690065 'i.o.n.:. .N.e.i.'\n  0x00000050: 00680074 00720065 00750020 00650073 't.h.e.r. .u.s.e.'\n  0x00000060: 00200072 00300032 00300030 006e0020 'r. .2.0.0.0. .n.'\n  0x00000070: 0072006f 00630020 00720075 00650072 'o.r. .c.u.r.r.e.'\n  0x00000080: 0074006e 00700020 006f0072 00650063 'n.t. .p.r.o.c.e.'\n  0x00000090: 00730073 00680020 00730061 00610020 's.s. .h.a.s. .a.'\n  0x000000a0: 0064006e 006f0072 00640069 0070002e 'n.d.r.o.i.d...p.'\n  0x000000b0: 00720065 0069006d 00730073 006f0069 'e.r.m.i.s.s.i.o.'\n  0x000000c0: 002e006e 004c0042 00450055 004f0054 'n...B.L.U.E.T.O.'\n  0x000000d0: 0054004f 005f0048 00440041 0049004d 'O.T.H._.A.D.M.I.'\n  0x000000e0: 002e004e 00000000                   'N.......        ')\n</code></pre>\n\n<p>While running the following ADB Command, the above error thrown in CLI. </p>\n\n<p><strong>Enable:</strong></p>\n\n<blockquote>\n  <p>adb shell service call bluetooth_manager 6</p>\n</blockquote>\n\n<p><strong>Disable:</strong></p>\n\n<blockquote>\n  <p>adb shell service call bluetooth_manager 9</p>\n</blockquote>\n\n<p>Also tried with the appium android driver activity, Nearly the same permission issue in Samsung Galaxy Note 8 (7.1.1), Samsung Galaxy Note 2 (7.0). But both activity and ADB command works fine in Samsung Galaxy S7 edge (7.0).</p>\n\n<p><strong>Android driver activity error:</strong></p>\n\n<pre><code>org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Error occured while starting App. Original error: Error executing adbExec. Original error: 'Command '/home/user/Android/Sdk/platform-tools/adb -P 5037 -s 83f0374b42535532 shell am start -W -n com.android.settings/com.android.settings.bluetooth.BluetoothSettings -S -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x10200000' exited with code 1'; Stderr: 'java.lang.SecurityException: Permission Denial: starting Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.android.settings/.bluetooth.BluetoothSettings launchParam=MultiScreenLaunchParams { mDisplayId=0 mFlags=0 } } from null (pid=24744, uid=2000) requires android.permission.BLUETOOTH_ADMIN\n    at android.os.Parcel.readException(Parcel.java:1693)\n    at android.os.Parcel.readException(Parcel.java:1646)\n    at android.app.ActivityManagerProxy.startActivityAndWait(ActivityManagerNative.java:3646)\n    at com.android.commands.am.Am.runStart(Am.java:658)\n    at com.android.commands.am.Am.onRun(Am.java:392)\n    at com.android.internal.os.BaseCommand.run(BaseCommand.java:51)\n    at com.android.commands.am.Am.main(Am.java:125)\n    at com.android.internal.os.RuntimeInit.nativeFinishInit(Native Method)\n    at com.android.internal.os.RuntimeInit.main(RuntimeInit.java:301)'; Code: '1' (WARNING: The server did not provide any stacktrace information)\n</code></pre>\n\n<p>Any solutions would be appreciated.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":10754908,"reputation":2116,"user_id":7913153,"display_name":"Madhan Varadhodiyil"},"score":0,"creation_date":1570193676,"post_id":58236799,"comment_id":102846494,"body_markdown":"Does your firewall allow incoming requests to port 9200 from external IP?","body":"Does your firewall allow incoming requests to port 9200 from external IP?"},{"owner":{"account_id":7444123,"reputation":1080,"user_id":5660928,"accept_rate":70,"display_name":"PanczerTank"},"score":0,"creation_date":1570194493,"post_id":58236799,"comment_id":102846933,"body_markdown":"@MadhanVaradhodiyil Yes, I made sure the port wasnt blocked by a firewall","body":"@MadhanVaradhodiyil Yes, I made sure the port wasnt blocked by a firewall"},{"owner":{"account_id":10754908,"reputation":2116,"user_id":7913153,"display_name":"Madhan Varadhodiyil"},"score":2,"creation_date":1570194769,"post_id":58236799,"comment_id":102847080,"body_markdown":"Have you tried [this](https://github.com/elastic/elasticsearch/issues/16994)?","body":"Have you tried <a href=\"https://github.com/elastic/elasticsearch/issues/16994\" rel=\"nofollow noreferrer\">this</a>?"},{"owner":{"account_id":7444123,"reputation":1080,"user_id":5660928,"accept_rate":70,"display_name":"PanczerTank"},"score":0,"creation_date":1570195619,"post_id":58236799,"comment_id":102847535,"body_markdown":"@MadhanVaradhodiyil Thanks! I am getting closer now. Updated above.","body":"@MadhanVaradhodiyil Thanks! I am getting closer now. Updated above."}],"answers":[{"tags":[],"owner":{"account_id":7444123,"reputation":1080,"user_id":5660928,"accept_rate":70,"display_name":"PanczerTank"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570197026,"creation_date":1570197026,"answer_id":58237743,"question_id":58236799,"body_markdown":"I added `-Djava.net.preferIPv4Stack=true` to `jvm.options`. Also added `cluster.initial_master_nodes: node-1` to elasticsearch.yml.","title":"Configuring elastic search to listen on 0.0.0.0:9200 (IPV4)","body":"<p>I added <code>-Djava.net.preferIPv4Stack=true</code> to <code>jvm.options</code>. Also added <code>cluster.initial_master_nodes: node-1</code> to elasticsearch.yml.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646845043,"creation_date":1646844355,"answer_id":71412974,"question_id":58236799,"body_markdown":"According to https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html#network-interface-values you can add `:ipv4` or `:ipv6` suffixes to `network.host`, `network.bind_host`, `network.publish_host`, like: `_en0:ipv4_`.","title":"Configuring elastic search to listen on 0.0.0.0:9200 (IPV4)","body":"<p>According to <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html#network-interface-values\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html#network-interface-values</a> you can add <code>:ipv4</code> or <code>:ipv6</code> suffixes to <code>network.host</code>, <code>network.bind_host</code>, <code>network.publish_host</code>, like: <code>_en0:ipv4_</code>.</p>\n"}],"owner":{"account_id":7444123,"reputation":1080,"user_id":5660928,"accept_rate":70,"display_name":"PanczerTank"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7998,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1646845043,"creation_date":1570193427,"question_id":58236799,"body_markdown":"I&#39;ve been trying to get elastic search (running behind a vpn) to listen to incoming requests from other machines on `port 9200` using `ipv4`. Without modifying the default `elasticsearch.yml`, I ran `netstat` and received:\r\n\r\n```\r\ntcp6       0      0 127.0.0.1:9200          :::*                    LISTEN      8079/java\r\ntcp6       0      0 ::1:9200                :::*                    LISTEN      8079/java\r\ntcp6       0      0 127.0.0.1:9300          :::*                    LISTEN      8079/java\r\ntcp6       0      0 ::1:9300                :::*                    LISTEN      8079/java\r\n```\r\nWith the default settings, I could `curl` elastic search fine from inside the machine, but could not connect curl it from outside using `curl -XGET [IP]:9200` (`curl: (7) Failed to connect to [IP] port 9200: Connection refused`)\r\n\r\nI set `network.host: 0.0.0.0`, stopped and started elastic search `sudo systemctl start elasticsearch.service` and waited for a minute or two, but nothing was listening on `0.0.0.0:9200`. I&#39;ve also tried `_local_:ipv4` and `0.0.0.0:ipv4` with no luck.\r\n\r\n---\r\nI added `-Djava.net.preferIPv4Stack=true` to jvm.options and now I am getting (with `# network.port` commented out):\r\n```\r\ntcp        0      0 127.0.0.1:9200          0.0.0.0:*               LISTEN      11131/java\r\ntcp        0      0 127.0.0.1:9300          0.0.0.0:*               LISTEN      11131/java\r\n```\r\nI tried to set `network.host: 0.0.0.0` again and restart the service but now I don&#39;t see it listening to any ports.\r\n\r\nIn the log files I receive an error `[1]: the default discovery settings are unsuitable for production use; at least one of [discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes] must be configured\r\n`\r\nSetting `cluster.initial_master_nodes: node-1` fixed it. Works.","title":"Configuring elastic search to listen on 0.0.0.0:9200 (IPV4)","body":"<p>I've been trying to get elastic search (running behind a vpn) to listen to incoming requests from other machines on <code>port 9200</code> using <code>ipv4</code>. Without modifying the default <code>elasticsearch.yml</code>, I ran <code>netstat</code> and received:</p>\n\n<pre><code>tcp6       0      0 127.0.0.1:9200          :::*                    LISTEN      8079/java\ntcp6       0      0 ::1:9200                :::*                    LISTEN      8079/java\ntcp6       0      0 127.0.0.1:9300          :::*                    LISTEN      8079/java\ntcp6       0      0 ::1:9300                :::*                    LISTEN      8079/java\n</code></pre>\n\n<p>With the default settings, I could <code>curl</code> elastic search fine from inside the machine, but could not connect curl it from outside using <code>curl -XGET [IP]:9200</code> (<code>curl: (7) Failed to connect to [IP] port 9200: Connection refused</code>)</p>\n\n<p>I set <code>network.host: 0.0.0.0</code>, stopped and started elastic search <code>sudo systemctl start elasticsearch.service</code> and waited for a minute or two, but nothing was listening on <code>0.0.0.0:9200</code>. I've also tried <code>_local_:ipv4</code> and <code>0.0.0.0:ipv4</code> with no luck.</p>\n\n<hr>\n\n<p>I added <code>-Djava.net.preferIPv4Stack=true</code> to jvm.options and now I am getting (with <code># network.port</code> commented out):</p>\n\n<pre><code>tcp        0      0 127.0.0.1:9200          0.0.0.0:*               LISTEN      11131/java\ntcp        0      0 127.0.0.1:9300          0.0.0.0:*               LISTEN      11131/java\n</code></pre>\n\n<p>I tried to set <code>network.host: 0.0.0.0</code> again and restart the service but now I don't see it listening to any ports.</p>\n\n<p>In the log files I receive an error <code>[1]: the default discovery settings are unsuitable for production use; at least one of [discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes] must be configured\n</code>\nSetting <code>cluster.initial_master_nodes: node-1</code> fixed it. Works.</p>\n"},{"tags":["java","spring","unit-testing","junit","cucumber"],"answers":[{"tags":[],"owner":{"account_id":5459096,"reputation":4018,"user_id":4341733,"display_name":"diabolist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646844836,"creation_date":1646844836,"answer_id":71413107,"question_id":71382589,"body_markdown":"Cucumber isn&#39;t used for unit tests because the main benefit of Cucumber is to be able to express the behaviour you are examining using abstract high level natural language. That sort of language does not have such a good fit with unit tests, which should be much more focused on detail of how a unit behaves.\r\n\r\nIf you use low level of abstractions in cucumber and document HOW things are done you end up with verbose scenarios that quickly become unwieldy and difficult to work with.\r\n\r\nThe idea of `one testing tool to test (rule) them all` is initially very appealing. I was strongly drawn to it for a while. With greater experience of cuking it became clear this idea is flawed. Unit test tools are much better for writing unit tests, its easy to loop, mock and do more exhaustive testing. If you implement them correctly they will always run much faster as well.\r\n\r\nThis idea of using different tools at different scales is nothing new, it applies to almost every human endeavour. Testing is no different. Use Cucumber for describing (ideally driving) high level behaviour of a system/application. Use unit testing to smaller detailed testing of units.","title":"How to migrate test suites from JUnit to Cucumber for Unit Tests in Spring?","body":"<p>Cucumber isn't used for unit tests because the main benefit of Cucumber is to be able to express the behaviour you are examining using abstract high level natural language. That sort of language does not have such a good fit with unit tests, which should be much more focused on detail of how a unit behaves.</p>\n<p>If you use low level of abstractions in cucumber and document HOW things are done you end up with verbose scenarios that quickly become unwieldy and difficult to work with.</p>\n<p>The idea of <code>one testing tool to test (rule) them all</code> is initially very appealing. I was strongly drawn to it for a while. With greater experience of cuking it became clear this idea is flawed. Unit test tools are much better for writing unit tests, its easy to loop, mock and do more exhaustive testing. If you implement them correctly they will always run much faster as well.</p>\n<p>This idea of using different tools at different scales is nothing new, it applies to almost every human endeavour. Testing is no different. Use Cucumber for describing (ideally driving) high level behaviour of a system/application. Use unit testing to smaller detailed testing of units.</p>\n"}],"owner":{"account_id":23500273,"reputation":123,"user_id":17550246,"display_name":"Abdu Muhammadal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71413107,"answer_count":1,"score":0,"last_activity_date":1646844836,"creation_date":1646663305,"question_id":71382589,"body_markdown":"As far as I did research, I saw Cucumber used for integration tests, not for unit tests. But I wonder if it is possible to migrate to Cucumber as tests are more readable and easy to change in Cucumber classes according to me. \r\n\r\nLet&#39;s say this is my controller test class;\r\n\r\n    @WebMvcTest(value = Controller.class)\r\n    class ControllerTest {\r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private Service service;\r\n    \r\n        private XDTO xDTO;\r\n    \r\n        private List&lt;XDTO&gt; xDTOList;\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            xDTOList = new ArrayList&lt;&gt;();\r\n            X x= new X();\r\n            xDTO = new XDTO();\r\n            xDTO.setId(x.getId());\r\n            xDTOList.add(xDTO);\r\n        }\r\n    \r\n        @Test\r\n        public void initialize_success() throws Exception {\r\n            when(service.initialize()).thenReturn(xDTO);\r\n    \r\n            mockMvc.perform(MockMvcRequestBuilders.post(X + INITIALIZE)\r\n                            .accept(APPLICATION_JSON))\r\n                    .andExpect(status().isCreated())\r\n                    .andExpect(jsonPath(&quot;$.id&quot;, is(xDTO.getId())));\r\n        }\r\n\r\nHow can I change this to Cucumber test class by starting up partial context like JUnit ?","title":"How to migrate test suites from JUnit to Cucumber for Unit Tests in Spring?","body":"<p>As far as I did research, I saw Cucumber used for integration tests, not for unit tests. But I wonder if it is possible to migrate to Cucumber as tests are more readable and easy to change in Cucumber classes according to me.</p>\n<p>Let's say this is my controller test class;</p>\n<pre><code>@WebMvcTest(value = Controller.class)\nclass ControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private Service service;\n\n    private XDTO xDTO;\n\n    private List&lt;XDTO&gt; xDTOList;\n\n    @BeforeEach\n    void setUp() {\n        xDTOList = new ArrayList&lt;&gt;();\n        X x= new X();\n        xDTO = new XDTO();\n        xDTO.setId(x.getId());\n        xDTOList.add(xDTO);\n    }\n\n    @Test\n    public void initialize_success() throws Exception {\n        when(service.initialize()).thenReturn(xDTO);\n\n        mockMvc.perform(MockMvcRequestBuilders.post(X + INITIALIZE)\n                        .accept(APPLICATION_JSON))\n                .andExpect(status().isCreated())\n                .andExpect(jsonPath(&quot;$.id&quot;, is(xDTO.getId())));\n    }\n</code></pre>\n<p>How can I change this to Cucumber test class by starting up partial context like JUnit ?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","encryption"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646835812,"creation_date":1646835322,"answer_id":71410759,"question_id":71410282,"body_markdown":"I am going to answer this using the AWS SDK for Java V2 (not V1 or Rest). This will still point you in the right direction. \r\n\r\nTo decrypt data retrieved from an Amazon S3 bucket using KMS, you need the key id used to encrypt the data. Here is a Java V2 example that shows this use case: \r\n\r\n   \r\n\r\n    // Decrypt the data passed as a byte array\r\n      private static byte[] decryptData(byte[] data, String keyId) {\r\n    \r\n        try {\r\n            KmsClient kmsClient = getKMSClient();\r\n            SdkBytes encryptedData = SdkBytes.fromByteArray(data);\r\n    \r\n            DecryptRequest decryptRequest = DecryptRequest.builder()\r\n                    .ciphertextBlob(encryptedData)\r\n                    .keyId(keyId)\r\n                    .build();\r\n    \r\n            DecryptResponse decryptResponse = kmsClient.decrypt(decryptRequest);\r\n            SdkBytes plainText = decryptResponse.plaintext();\r\n            return plainText.asByteArray();\r\n    \r\n        } catch (KmsException e) {\r\n            System.err.println(e.getMessage());\r\n            System.exit(1);\r\n        }\r\n        return null;\r\n    }\r\n\r\nFull Amazon S3 and KMS AWS SDK for Java V2 [example here][1]. \r\n\r\nYou still need the key ID when using V1 (which is not best practice). \r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/KMSEncryptionExample.java","title":"How do I decrypt a file encrypted with S3 REST API","body":"<p>I am going to answer this using the AWS SDK for Java V2 (not V1 or Rest). This will still point you in the right direction.</p>\n<p>To decrypt data retrieved from an Amazon S3 bucket using KMS, you need the key id used to encrypt the data. Here is a Java V2 example that shows this use case:</p>\n<pre><code>// Decrypt the data passed as a byte array\n  private static byte[] decryptData(byte[] data, String keyId) {\n\n    try {\n        KmsClient kmsClient = getKMSClient();\n        SdkBytes encryptedData = SdkBytes.fromByteArray(data);\n\n        DecryptRequest decryptRequest = DecryptRequest.builder()\n                .ciphertextBlob(encryptedData)\n                .keyId(keyId)\n                .build();\n\n        DecryptResponse decryptResponse = kmsClient.decrypt(decryptRequest);\n        SdkBytes plainText = decryptResponse.plaintext();\n        return plainText.asByteArray();\n\n    } catch (KmsException e) {\n        System.err.println(e.getMessage());\n        System.exit(1);\n    }\n    return null;\n}\n</code></pre>\n<p>Full Amazon S3 and KMS AWS SDK for Java V2 <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/KMSEncryptionExample.java\" rel=\"nofollow noreferrer\">example here</a>.</p>\n<p>You still need the key ID when using V1 (which is not best practice).</p>\n"},{"tags":[],"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646844129,"creation_date":1646844129,"answer_id":71412927,"question_id":71410282,"body_markdown":"To download an S3 object that was encrypted with KMS, you need `kms:Decrypt` permission on the relevant KMS key.\r\n\r\nHere&#39;s an example of a policy:\r\n\r\n    {\r\n      &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n      &quot;Statement&quot;: [\r\n        {\r\n          &quot;Sid&quot;: &quot;p1&quot;,\r\n          &quot;Effect&quot;: &quot;Allow&quot;,\r\n          &quot;Action&quot;: [\r\n            &quot;s3:GetObject&quot;\r\n          ],\r\n          &quot;Resource&quot;: [\r\n            &quot;arn:aws:s3:::mybucket/*&quot;\r\n          ]\r\n        },\r\n        {\r\n          &quot;Sid&quot;: &quot;p2&quot;,\r\n          &quot;Effect&quot;: &quot;Allow&quot;,\r\n          &quot;Action&quot;: [\r\n            &quot;kms:Decrypt&quot;\r\n          ],\r\n          &quot;Resource&quot;: [\r\n            &quot;arn:aws:kms:region:123456789012:key/kms-key-id&quot;\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\nPS not sure what you mean by &quot;REST encryption&quot;. Perhaps you mean &quot;encryption at rest&quot;?","title":"How do I decrypt a file encrypted with S3 REST API","body":"<p>To download an S3 object that was encrypted with KMS, you need <code>kms:Decrypt</code> permission on the relevant KMS key.</p>\n<p>Here's an example of a policy:</p>\n<pre><code>{\n  &quot;Version&quot;: &quot;2012-10-17&quot;,\n  &quot;Statement&quot;: [\n    {\n      &quot;Sid&quot;: &quot;p1&quot;,\n      &quot;Effect&quot;: &quot;Allow&quot;,\n      &quot;Action&quot;: [\n        &quot;s3:GetObject&quot;\n      ],\n      &quot;Resource&quot;: [\n        &quot;arn:aws:s3:::mybucket/*&quot;\n      ]\n    },\n    {\n      &quot;Sid&quot;: &quot;p2&quot;,\n      &quot;Effect&quot;: &quot;Allow&quot;,\n      &quot;Action&quot;: [\n        &quot;kms:Decrypt&quot;\n      ],\n      &quot;Resource&quot;: [\n        &quot;arn:aws:kms:region:123456789012:key/kms-key-id&quot;\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>PS not sure what you mean by &quot;REST encryption&quot;. Perhaps you mean &quot;encryption at rest&quot;?</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1040,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71412927,"answer_count":2,"score":-1,"last_activity_date":1646844129,"creation_date":1646833346,"question_id":71410282,"body_markdown":"I&#39;m using REST encryption for files uploaded to Amazon S3 as specified in [official doc][1] in section *Using the REST API* by adding `x-amz-server-side-encryption` header with a value of `aws:kms` to uploading request.\r\n\r\nThen on Java side, I use the following code to access the uploaded file:\r\n```java\r\nprivate AmazonS3 client;\r\nprivate String s3BucketName;\r\nprivate String uploadedImportPathPrefix;\r\n\r\npublic Reader readFile(String storeId, String fileName) {\r\n    String filePath = uploadedImportPathPrefix + &quot;/&quot; + storeId + &quot;/&quot; +  fileName;\r\n    S3Object s3Object = client.getObject(s3BucketName, filePath);\r\n    S3ObjectInputStream s3is = s3Object.getObjectContent();\r\n    Reader reader = new InputStreamReader(s3is);\r\n    return reader;\r\n}\r\n```\r\nWhat is still unclear to me is the way to decrypt the file on Java side. Any suggestions?\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/specifying-kms-encryption.html","title":"How do I decrypt a file encrypted with S3 REST API","body":"<p>I'm using REST encryption for files uploaded to Amazon S3 as specified in <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/specifying-kms-encryption.html\" rel=\"nofollow noreferrer\">official doc</a> in section <em>Using the REST API</em> by adding <code>x-amz-server-side-encryption</code> header with a value of <code>aws:kms</code> to uploading request.</p>\n<p>Then on Java side, I use the following code to access the uploaded file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private AmazonS3 client;\nprivate String s3BucketName;\nprivate String uploadedImportPathPrefix;\n\npublic Reader readFile(String storeId, String fileName) {\n    String filePath = uploadedImportPathPrefix + &quot;/&quot; + storeId + &quot;/&quot; +  fileName;\n    S3Object s3Object = client.getObject(s3BucketName, filePath);\n    S3ObjectInputStream s3is = s3Object.getObjectContent();\n    Reader reader = new InputStreamReader(s3is);\n    return reader;\n}\n</code></pre>\n<p>What is still unclear to me is the way to decrypt the file on Java side. Any suggestions?</p>\n"},{"tags":["java","url","https"],"comments":[{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":1,"creation_date":1646844878,"post_id":71412746,"comment_id":126226165,"body_markdown":"This might be relevant: https://stackoverflow.com/questions/1884230/httpurlconnection-doesnt-follow-redirect-from-http-to-https.  In your second case it’s redirecting from a http URL to https.","body":"This might be relevant: <a href=\"https://stackoverflow.com/questions/1884230/httpurlconnection-doesnt-follow-redirect-from-http-to-https\" title=\"httpurlconnection doesnt follow redirect from http to https\">stackoverflow.com/questions/1884230/&hellip;</a>.  In your second case it’s redirecting from a http URL to https."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1646848583,"post_id":71412746,"comment_id":126227616,"body_markdown":"thanks that was it, i hadn&#39;t even noticed i was using http in one case, so fixing the string representation of url to use https before creating the url solved issue","body":"thanks that was it, i hadn&#39;t even noticed i was using http in one case, so fixing the string representation of url to use https before creating the url solved issue"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646843972,"creation_date":1646843382,"question_id":71412746,"body_markdown":"I have some Java code that takes a url and then returns the data (and at later point BufferedImage is constructed from it, the problem is it works for most urls from particular website but not all.\r\n\r\nThe urls are actually redirects so for example I pass\r\n\r\n  \r\n\r\n     //https://coverartarchive.org/release/bdd0e35c-ce68-3f5b-b957-f83ab5846111/front\r\n\r\nit will actually redirect to \r\n\r\n    //https://ia600301.us.archive.org/31/items/mbid-bdd0e35c-ce68-3f5b-b957-f83ab5846111/mbid-bdd0e35c-ce68-3f5b-b957-f83ab5846111-6094238097.jpg\r\n\r\nand return the correct data\r\n\r\nBut if I pass the seemingly very similar url\r\n    \r\n    //http://coverartarchive.org/release/6b105b89-21ee-414a-b98f-b2756c92b0bc/front\r\n            \r\nThen although this is what is the url seen if pasted into web-browser\r\n\r\n    //https://ia902907.us.archive.org/33/items/mbid-6b105b89-21ee-414a-b98f-b2756c92b0bc/mbid-6b105b89-21ee-414a-b98f-b2756c92b0bc-3167310704.jpg\r\n\r\n**My code only returns 169 bytes**\r\n\r\nIf I pass the url it redirects to directly\r\n\r\n    //https://ia902907.us.archive.org/33/items/mbid-6b105b89-21ee-414a-b98f-b2756c92b0bc/mbid-6b105b89-21ee-414a-b98f-b2756c92b0bc-3167310704.jpg\r\n\r\nthen it works okay, but I dont have this url so not a solution.\r\n\r\nThis is quite old code, maybe a better way to do it now, but is my code broken or is the website broken ?\r\n\r\n\r\n    private static byte[] convertUrlToByteArray(URL url) throws IOException\r\n            {\r\n                //Get imagedata, we want to ensure we just write the data as is as long as in a supported format\r\n                URLConnection connection = url.openConnection();\r\n                connection.setConnectTimeout(URL_TIMEOUT);\r\n                connection.setReadTimeout(URL_TIMEOUT);\r\n             \r\n                // Since you get a URLConnection, use it to get the InputStream\r\n                InputStream in = connection.getInputStream();\r\n                // Now that the InputStream is open, get the content length\r\n                int contentLength = connection.getContentLength();\r\n                // To avoid having to resize the array over and over and over as\r\n                // bytes are written to the array, provide an accurate estimate of\r\n                // the ultimate size of the byte array\r\n                ByteArrayOutputStream tmpOut;\r\n                if (contentLength != -1)\r\n                {\r\n                    tmpOut = new ByteArrayOutputStream(contentLength);\r\n                }\r\n                else\r\n                {\r\n                    tmpOut = new ByteArrayOutputStream(16384); // Pick some appropriate size\r\n                }\r\n        \r\n                byte[] buf = new byte[1024];\r\n                while (true)\r\n                {\r\n                    int len = in.read(buf);\r\n                    if (len == -1)\r\n                    {\r\n                        break;\r\n                    }\r\n                    tmpOut.write(buf, 0, len);\r\n                }\r\n                in.close();\r\n                tmpOut.close(); // No effect, but good to do anyway to keep the metaphor alive\r\n                return tmpOut.toByteArray();\r\n            }\r\n\r\n","title":"In java some redirected urls return the data from redirected page okay but some do not","body":"<p>I have some Java code that takes a url and then returns the data (and at later point BufferedImage is constructed from it, the problem is it works for most urls from particular website but not all.</p>\n<p>The urls are actually redirects so for example I pass</p>\n<pre><code> //https://coverartarchive.org/release/bdd0e35c-ce68-3f5b-b957-f83ab5846111/front\n</code></pre>\n<p>it will actually redirect to</p>\n<pre><code>//https://ia600301.us.archive.org/31/items/mbid-bdd0e35c-ce68-3f5b-b957-f83ab5846111/mbid-bdd0e35c-ce68-3f5b-b957-f83ab5846111-6094238097.jpg\n</code></pre>\n<p>and return the correct data</p>\n<p>But if I pass the seemingly very similar url</p>\n<pre><code>//http://coverartarchive.org/release/6b105b89-21ee-414a-b98f-b2756c92b0bc/front\n        \n</code></pre>\n<p>Then although this is what is the url seen if pasted into web-browser</p>\n<pre><code>//https://ia902907.us.archive.org/33/items/mbid-6b105b89-21ee-414a-b98f-b2756c92b0bc/mbid-6b105b89-21ee-414a-b98f-b2756c92b0bc-3167310704.jpg\n</code></pre>\n<p><strong>My code only returns 169 bytes</strong></p>\n<p>If I pass the url it redirects to directly</p>\n<pre><code>//https://ia902907.us.archive.org/33/items/mbid-6b105b89-21ee-414a-b98f-b2756c92b0bc/mbid-6b105b89-21ee-414a-b98f-b2756c92b0bc-3167310704.jpg\n</code></pre>\n<p>then it works okay, but I dont have this url so not a solution.</p>\n<p>This is quite old code, maybe a better way to do it now, but is my code broken or is the website broken ?</p>\n<pre><code>private static byte[] convertUrlToByteArray(URL url) throws IOException\n        {\n            //Get imagedata, we want to ensure we just write the data as is as long as in a supported format\n            URLConnection connection = url.openConnection();\n            connection.setConnectTimeout(URL_TIMEOUT);\n            connection.setReadTimeout(URL_TIMEOUT);\n         \n            // Since you get a URLConnection, use it to get the InputStream\n            InputStream in = connection.getInputStream();\n            // Now that the InputStream is open, get the content length\n            int contentLength = connection.getContentLength();\n            // To avoid having to resize the array over and over and over as\n            // bytes are written to the array, provide an accurate estimate of\n            // the ultimate size of the byte array\n            ByteArrayOutputStream tmpOut;\n            if (contentLength != -1)\n            {\n                tmpOut = new ByteArrayOutputStream(contentLength);\n            }\n            else\n            {\n                tmpOut = new ByteArrayOutputStream(16384); // Pick some appropriate size\n            }\n    \n            byte[] buf = new byte[1024];\n            while (true)\n            {\n                int len = in.read(buf);\n                if (len == -1)\n                {\n                    break;\n                }\n                tmpOut.write(buf, 0, len);\n            }\n            in.close();\n            tmpOut.close(); // No effect, but good to do anyway to keep the metaphor alive\n            return tmpOut.toByteArray();\n        }\n</code></pre>\n"},{"tags":["java","jsf","xhtml"],"comments":[{"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"score":0,"creation_date":1400414397,"post_id":23721613,"comment_id":36459616,"body_markdown":"What error do you get?","body":"What error do you get?"}],"answers":[{"tags":[],"owner":{"account_id":2904549,"reputation":1609,"user_id":2490278,"accept_rate":40,"display_name":"Robert Lu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1400414516,"creation_date":1400414516,"answer_id":23721653,"question_id":23721613,"body_markdown":"I think you should use `&amp;amp;` instead of `&amp;` in HTML.","title":"use &quot;&amp;&quot; character in jsf page","body":"<p>I think you should use <code>&amp;amp;</code> instead of <code>&amp;</code> in HTML.</p>\n"},{"tags":[],"owner":{"account_id":2212115,"reputation":415,"user_id":1953671,"display_name":"Miguel &#193;ngel J&#250;lvez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646819515,"creation_date":1646819515,"answer_id":71407365,"question_id":23721613,"body_markdown":"You can use its decimal code: &amp;#215","title":"use &quot;&amp;&quot; character in jsf page","body":"<p>You can use its decimal code: &amp;#215</p>\n"}],"owner":{"account_id":962527,"reputation":2131,"user_id":986566,"accept_rate":63,"display_name":"or123456"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646843866,"accepted_answer_id":23721653,"answer_count":2,"score":0,"last_activity_date":1646843894,"creation_date":1400414235,"question_id":23721613,"body_markdown":"I want to use &quot;&amp;&quot; character in jsf page but get error.\r\n\r\n     &lt;p:commandLink type=&quot;button&quot; styleClass=&quot;close&quot; aria-hidden=&quot;true&quot;\r\n                    action=&quot;#{tages.removeText}&quot; update=&quot;panel_topic&quot; value=&quot;&amp;time;&quot;&gt;\r\n         &amp;times;\r\n         &lt;f:setPropertyActionListener target=&quot;#{tages._tar}&quot; value=&quot;#{txt}&quot;/&gt;\r\n\r\n     &lt;/p:commandLink&gt;\r\n\r\nfollowing error :\r\n\r\n    Error Traced[line: 24] The entity &quot;times&quot; was referenced, but not declared.\r\n\r\nhow to use &quot;&amp;&quot; character in jsf page ?","title":"use &quot;&amp;&quot; character in jsf page","body":"<p>I want to use \"&amp;\" character in jsf page but get error.</p>\n\n<pre><code> &lt;p:commandLink type=\"button\" styleClass=\"close\" aria-hidden=\"true\"\n                action=\"#{tages.removeText}\" update=\"panel_topic\" value=\"&amp;time;\"&gt;\n     &amp;times;\n     &lt;f:setPropertyActionListener target=\"#{tages._tar}\" value=\"#{txt}\"/&gt;\n\n &lt;/p:commandLink&gt;\n</code></pre>\n\n<p>following error :</p>\n\n<pre><code>Error Traced[line: 24] The entity \"times\" was referenced, but not declared.\n</code></pre>\n\n<p>how to use \"&amp;\" character in jsf page ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646840299,"post_id":71411930,"comment_id":126224169,"body_markdown":"See https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array ... `out.println()` simply doesnt work on arrays the way you would expect it to work.","body":"See <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\" title=\"whats the simplest way to print a java array\">stackoverflow.com/questions/409784/&hellip;</a> ... <code>out.println()</code> simply doesnt work on arrays the way you would expect it to work."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646840367,"post_id":71411930,"comment_id":126224189,"body_markdown":"But please understand: it is your responsibility to first learn how this place works. Please see [help] to learn how/what to ask here. When you ask about problems with your code, then clearly articulate that. &quot;please review my code&quot; isn&#39;t regarded a valid question here.","body":"But please understand: it is your responsibility to first learn how this place works. Please see <a href=\"https://stackoverflow.com/help\">help center</a> to learn how/what to ask here. When you ask about problems with your code, then clearly articulate that. &quot;please review my code&quot; isn&#39;t regarded a valid question here."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646840418,"post_id":71411930,"comment_id":126224217,"body_markdown":"Having said that: look into java naming conventions. You get a lot of things wrong. Class names should start UpperCase, and field and variable names all start lowercase. And names like M1 and M2 dont mean much to human readers. Use names that MEAN something.","body":"Having said that: look into java naming conventions. You get a lot of things wrong. Class names should start UpperCase, and field and variable names all start lowercase. And names like M1 and M2 dont mean much to human readers. Use names that MEAN something."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646840560,"post_id":71411930,"comment_id":126224291,"body_markdown":"And from a conceptual point: so far, there is no sense in having an abstract base class. That only adds complexity at this point ... for no reason whatsoever. So: always try to write the SMALLEST solution possible.","body":"And from a conceptual point: so far, there is no sense in having an abstract base class. That only adds complexity at this point ... for no reason whatsoever. So: always try to write the SMALLEST solution possible."}],"owner":{"account_id":24341626,"reputation":25,"user_id":18278944,"display_name":"Murat-Dayan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646840378,"answer_count":0,"score":0,"last_activity_date":1646843872,"creation_date":1646840085,"question_id":71411930,"body_markdown":"I want a matrix returned as a result. I&#39;m working on netbeans\r\nthere may be problems with the same but I wanted to ask anyway and I am actually learning object oriented programming basics I have little knowledge of Stackoverflow and could you please explain in some detail?\r\nthank you \r\n\r\n\r\n\r\n```\r\npackage matrixmultiply;\r\n\r\n\r\npublic class matrix extends calculate{\r\n    \r\n    private float[][] M1;\r\n    private float[][] M2;\r\n    \r\n\r\n \r\n\r\n    @Override\r\n    public float[][] multiply() {\r\n        \r\n    \r\n    float[][] result = new float[getM1().length][getM2().length];\r\n\r\n    for(int i = 0; i &lt; getM1().length; i++)\r\n    {\r\n        for(int j = 0; j &lt; getM2().length; j++)\r\n        {\r\n            for(int k = 0; k &lt; getM2().length; k++)\r\n            {\r\n            \r\n                result[i][j] += getM1()[i][k] * getM2()[k][j];\r\n                \r\n            }\r\n        }\r\n    }\r\n    \r\n        System.out.println(result);\r\n    return result;\r\n        \r\n    }\r\n\r\n    \r\n    public float[][] getM1() {\r\n        return M1;\r\n    }\r\n\r\n   \r\n    public void setM1(float[][] M1) {\r\n        this.M1 = M1;\r\n    }\r\n\r\n    \r\n    public float[][] getM2() {\r\n        return M2;\r\n    }\r\n\r\n \r\n    public void setM2(float[][] M2) {\r\n        this.M2 = M2;\r\n    }\r\n\r\n  \r\n\r\n\r\n    \r\n\r\n    \r\n}\r\n```\r\n\r\nmain class\r\n\r\n```\r\n\r\npackage matrixmultiply;\r\n\r\n\r\npublic class MatrixMultiply {\r\n\r\n  \r\n    public static void main(String[] args) {\r\n        \r\n        matrix matrix1=new matrix();\r\n        \r\n        float[][] m1=new float[3][2];\r\n        float[][] m2=new float[2][3];\r\n        \r\n        matrix1.setM1(m1);\r\n        matrix1.setM2(m2);\r\n        \r\n        matrix1.multiply();\r\n        \r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n```\r\ncalculate class\r\n```\r\npackage matrixmultiply;\r\n\r\n\r\npublic abstract class calculate {\r\n    \r\n    \r\n    public abstract float[][] multiply();\r\n\r\n     \r\n}\r\n``","title":"How can I return a value in matrix form from the Multiply function? When s.out [[F@1cd072a9], this result appears. Is there an error in the algorithm?","body":"<p>I want a matrix returned as a result. I'm working on netbeans\nthere may be problems with the same but I wanted to ask anyway and I am actually learning object oriented programming basics I have little knowledge of Stackoverflow and could you please explain in some detail?\nthank you</p>\n<pre><code>package matrixmultiply;\n\n\npublic class matrix extends calculate{\n    \n    private float[][] M1;\n    private float[][] M2;\n    \n\n \n\n    @Override\n    public float[][] multiply() {\n        \n    \n    float[][] result = new float[getM1().length][getM2().length];\n\n    for(int i = 0; i &lt; getM1().length; i++)\n    {\n        for(int j = 0; j &lt; getM2().length; j++)\n        {\n            for(int k = 0; k &lt; getM2().length; k++)\n            {\n            \n                result[i][j] += getM1()[i][k] * getM2()[k][j];\n                \n            }\n        }\n    }\n    \n        System.out.println(result);\n    return result;\n        \n    }\n\n    \n    public float[][] getM1() {\n        return M1;\n    }\n\n   \n    public void setM1(float[][] M1) {\n        this.M1 = M1;\n    }\n\n    \n    public float[][] getM2() {\n        return M2;\n    }\n\n \n    public void setM2(float[][] M2) {\n        this.M2 = M2;\n    }\n\n  \n\n\n    \n\n    \n}\n</code></pre>\n<p>main class</p>\n<pre><code>\npackage matrixmultiply;\n\n\npublic class MatrixMultiply {\n\n  \n    public static void main(String[] args) {\n        \n        matrix matrix1=new matrix();\n        \n        float[][] m1=new float[3][2];\n        float[][] m2=new float[2][3];\n        \n        matrix1.setM1(m1);\n        matrix1.setM2(m2);\n        \n        matrix1.multiply();\n        \n    }\n    \n}\n\n\n\n\n</code></pre>\n<p>calculate class</p>\n<pre><code>package matrixmultiply;\n\n\npublic abstract class calculate {\n    \n    \n    public abstract float[][] multiply();\n\n     \n}\n``\n</code></pre>\n"},{"tags":["java","opencv","video"],"comments":[{"owner":{"account_id":41230,"reputation":37690,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"score":2,"creation_date":1431936546,"post_id":30297856,"comment_id":48692209,"body_markdown":"&quot;*takes logn time*&quot; Do you mean `log(n)` or &quot;long&quot;?","body":"&quot;<i>takes logn time</i>&quot; Do you mean <code>log(n)</code> or &quot;long&quot;?"},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1431939014,"post_id":30297856,"comment_id":48693583,"body_markdown":"is it faster using VLC or something?","body":"is it faster using VLC or something?"},{"owner":{"account_id":4738464,"reputation":323,"user_id":3832097,"accept_rate":67,"display_name":"Tushar Kulkarni"},"score":0,"creation_date":1431949693,"post_id":30297856,"comment_id":48700360,"body_markdown":"yes it is faster using vlc. But in my code it will take too much time","body":"yes it is faster using vlc. But in my code it will take too much time"}],"answers":[{"tags":[],"owner":{"account_id":4543470,"reputation":566,"user_id":3690683,"display_name":"Ellix4u"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646843836,"creation_date":1646843836,"answer_id":71412857,"question_id":30297856,"body_markdown":"Change `video_capture = cv2.VideoCapture(0)` to `video_capture = cv2.VideoCapture(0, cv2.CAP_DSHOW)`","title":"OpenCV VideoCapture class takes long time to open camera connected with dvr","body":"<p>Change <code>video_capture = cv2.VideoCapture(0)</code> to <code>video_capture = cv2.VideoCapture(0, cv2.CAP_DSHOW)</code></p>\n"}],"owner":{"account_id":4738464,"reputation":323,"user_id":3832097,"accept_rate":67,"display_name":"Tushar Kulkarni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646843836,"creation_date":1431935855,"question_id":30297856,"body_markdown":"I used the following code\r\n\r\n        VideoCapture videoCapture[]=new Videocapture[4];\r\n        \r\n        for(int i=0;i&lt;4,i++)\r\n        {\r\n          videoCapture[i]=new VideoCapture();\r\n        \t\t\t\t\tvideoCapture[i].open(&quot;http://192.168.1.7:80/cgi-bin/view.cgi?chn=&quot;+i+&quot;&amp;u=admin&amp;p=&quot;);\r\n        \t\t\t\t\tif(videoCapture[i].isOpened()){\r\n        \t\t\t\t\t\tJOptionPane.showMessageDialog(jfrmMsg, &quot;connected&quot;);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\telse\r\n        \t\t\t\t\t{\r\n        \t\t\t\t\t\tJOptionPane.showMessageDialog(jfrmMsg, &quot;not connected&quot;);\r\n        \t\t\t\t\t}\r\n    \r\n    }\r\n\r\nHere it will take too much time to open camera. **connected** message is displayed after every 3-4 minutes. I want to read camera as quickly as posible. Can any one tell me how should we do this.","title":"OpenCV VideoCapture class takes long time to open camera connected with dvr","body":"<p>I used the following code</p>\n\n<pre><code>    VideoCapture videoCapture[]=new Videocapture[4];\n\n    for(int i=0;i&lt;4,i++)\n    {\n      videoCapture[i]=new VideoCapture();\n                        videoCapture[i].open(\"http://192.168.1.7:80/cgi-bin/view.cgi?chn=\"+i+\"&amp;u=admin&amp;p=\");\n                        if(videoCapture[i].isOpened()){\n                            JOptionPane.showMessageDialog(jfrmMsg, \"connected\");\n                        }\n                        else\n                        {\n                            JOptionPane.showMessageDialog(jfrmMsg, \"not connected\");\n                        }\n\n}\n</code></pre>\n\n<p>Here it will take too much time to open camera. <strong>connected</strong> message is displayed after every 3-4 minutes. I want to read camera as quickly as posible. Can any one tell me how should we do this.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1505850076,"post_id":46308465,"comment_id":79579058,"body_markdown":"Use name of the button using `button.getName()`","body":"Use name of the button using <code>button.getName()</code>"},{"owner":{"account_id":11802993,"reputation":3,"user_id":8636188,"display_name":"Michael95"},"score":0,"creation_date":1505852408,"post_id":46308465,"comment_id":79580178,"body_markdown":"The buttons are created as soon the program starts. How can I access it with button.getName() if the button has not created yet? Sorry but a I&#39;m new at this and I still don&#39;t get it.","body":"The buttons are created as soon the program starts. How can I access it with button.getName() if the button has not created yet? Sorry but a I&#39;m new at this and I still don&#39;t get it."},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1505852693,"post_id":46308465,"comment_id":79580305,"body_markdown":"@nullpointer There is no `name` property in [`javafx.scene.control.Button`](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Button.html) @Michael95 Why create buttons that are never used in the `initialize` method?","body":"@nullpointer There is no <code>name</code> property in <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/Button.html\" rel=\"nofollow noreferrer\"><code>javafx.scene.control.Button</code></a> @Michael95 Why create buttons that are never used in the <code>initialize</code> method?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1505852701,"post_id":46308465,"comment_id":79580309,"body_markdown":"If you have 55 buttons, it seems like it would already be way too much code to create them in FXML. Why don&#39;t you create the buttons in Java (e.g. in the controller or in a separate class)? Then you can create them in a loop and register a handler with each one easily, without having to write 55 different methods or work with fragile ids, etc.","body":"If you have 55 buttons, it seems like it would already be way too much code to create them in FXML. Why don&#39;t you create the buttons in Java (e.g. in the controller or in a separate class)? Then you can create them in a loop and register a handler with each one easily, without having to write 55 different methods or work with fragile ids, etc."},{"owner":{"account_id":11802993,"reputation":3,"user_id":8636188,"display_name":"Michael95"},"score":0,"creation_date":1505855914,"post_id":46308465,"comment_id":79581697,"body_markdown":"@fabian I&#39;m new at this and as I mentioned and I thought I could create them in the initialize method by using a for loop so I do not have to manually declare 50+ buttons. But you are right they never were used","body":"@fabian I&#39;m new at this and as I mentioned and I thought I could create them in the initialize method by using a for loop so I do not have to manually declare 50+ buttons. But you are right they never were used"},{"owner":{"account_id":11802993,"reputation":3,"user_id":8636188,"display_name":"Michael95"},"score":0,"creation_date":1505856182,"post_id":46308465,"comment_id":79581803,"body_markdown":"@James_D Do I really have to create 55 Buttons (maybe I need even more) one by one? Is there no way to do it programmatically?","body":"@James_D Do I really have to create 55 Buttons (maybe I need even more) one by one? Is there no way to do it programmatically?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1505856552,"post_id":46308465,"comment_id":79581956,"body_markdown":"@Michael95 Yes, that&#39;s what I&#39;m saying - do it programmatically (i.e. not in FXML). Then you can register a different event handler with each one, and you don&#39;t need to get the id, etc.","body":"@Michael95 Yes, that&#39;s what I&#39;m saying - do it programmatically (i.e. not in FXML). Then you can register a different event handler with each one, and you don&#39;t need to get the id, etc."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1505856737,"post_id":46308465,"comment_id":79582020,"body_markdown":"Perhaps it would help if you showed your FXML file?","body":"Perhaps it would help if you showed your FXML file?"},{"owner":{"account_id":11802993,"reputation":3,"user_id":8636188,"display_name":"Michael95"},"score":0,"creation_date":1505867345,"post_id":46308465,"comment_id":79584871,"body_markdown":"Thanks for your help James. It never crossed my mind to be honest. I&#39;m using the SceneBuilder and c&amp;p the panels(each with 20 Buttons) over and over again. But it is good to know that it is possible, even if I can not see how an algorithm can place all the buttons in the right place. I will keep that in mind. What I meant, however, was a way to declare the buttons inside the controller without declaring each button (150+) on by one and using 150 seperate handlers. There have to be a much easier way. Oh here is the .fxml file: https://drive.google.com/open?id=0B0qAsFRVXxzFM0VQRHdJRUpkb0E","body":"Thanks for your help James. It never crossed my mind to be honest. I&#39;m using the SceneBuilder and c&amp;p the panels(each with 20 Buttons) over and over again. But it is good to know that it is possible, even if I can not see how an algorithm can place all the buttons in the right place. I will keep that in mind. What I meant, however, was a way to declare the buttons inside the controller without declaring each button (150+) on by one and using 150 seperate handlers. There have to be a much easier way. Oh here is the .fxml file: <a href=\"https://drive.google.com/open?id=0B0qAsFRVXxzFM0VQRHdJRUpkb0E\" rel=\"nofollow noreferrer\">drive.google.com/open?id=0B0qAsFRVXxzFM0VQRHdJRUpkb0E</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1505867799,"post_id":46308465,"comment_id":79584979,"body_markdown":"@Michael95 Don&#39;t post links to code. [Edit] your question to include the FXML.","body":"@Michael95 Don&#39;t post links to code. <a href=\"https://stackoverflow.com/posts/46308465/edit\">Edit</a> your question to include the FXML."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1505862173,"creation_date":1505862173,"answer_id":46310908,"question_id":46308465,"body_markdown":"You should create the buttons programmatically (i.e. not in FXML). That way you can easily register a different handler with each, and you don&#39;t need to look up the button by id or via its text, etc. \r\n\r\nFor example, in your FXML file, do\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;TilePane fx:id=&quot;buttonPane&quot; /&gt;\r\n\r\nAnd then in the controller:\r\n\r\n    public class Controller {\r\n    \r\n        @FXML\r\n        private TilePane buttonPane ;\r\n    \r\n        public void initialize() {\r\n            for (int i = 1 ; i &lt;= 55 ; i++) {\r\n                String buttonText = &quot;Button &quot;+i ;\r\n                Button button = new Button(buttonText);\r\n                buttonPane.getChildren().add(button);\r\n                button.setOnAction(e -&gt; {\r\n                    // whatever you need here: you know the button pressed is the \r\n                    // one and only button the handler is registered with\r\n                    System.out.println(buttonText + &quot; clicked&quot;);\r\n                });\r\n            }\r\n        }\r\n    \r\n        // ...\r\n    }","title":"Get Name/ID from button","body":"<p>You should create the buttons programmatically (i.e. not in FXML). That way you can easily register a different handler with each, and you don't need to look up the button by id or via its text, etc. </p>\n\n<p>For example, in your FXML file, do</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TilePane fx:id=\"buttonPane\" /&gt;\n</code></pre>\n\n<p>And then in the controller:</p>\n\n<pre><code>public class Controller {\n\n    @FXML\n    private TilePane buttonPane ;\n\n    public void initialize() {\n        for (int i = 1 ; i &lt;= 55 ; i++) {\n            String buttonText = \"Button \"+i ;\n            Button button = new Button(buttonText);\n            buttonPane.getChildren().add(button);\n            button.setOnAction(e -&gt; {\n                // whatever you need here: you know the button pressed is the \n                // one and only button the handler is registered with\n                System.out.println(buttonText + \" clicked\");\n            });\n        }\n    }\n\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21815517,"reputation":1,"user_id":16112388,"display_name":"Reafuse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646843784,"creation_date":1646843784,"answer_id":71412845,"question_id":46308465,"body_markdown":"i know this is late, but you can try this instead\r\n\r\n    @FXML\r\n    private void handleButtonAction(ActionEvent event) {\r\n        System.out.println(((Button)event.getSource()).getText());\r\n    }\r\nor get id\r\n\r\n    @FXML\r\n    private void handleButtonAction(ActionEvent event) {\r\n        System.out.println(((Button)event.getSource()).getId());\r\n    }\r\n\r\nin the FXML, you can add onAction\r\n\r\n    &lt;Button fx:id=&quot;viewBtn&quot; onAction=&quot;#handleButtonAction&quot; text=&quot;View&quot; /&gt;","title":"Get Name/ID from button","body":"<p>i know this is late, but you can try this instead</p>\n<pre><code>@FXML\nprivate void handleButtonAction(ActionEvent event) {\n    System.out.println(((Button)event.getSource()).getText());\n}\n</code></pre>\n<p>or get id</p>\n<pre><code>@FXML\nprivate void handleButtonAction(ActionEvent event) {\n    System.out.println(((Button)event.getSource()).getId());\n}\n</code></pre>\n<p>in the FXML, you can add onAction</p>\n<pre><code>&lt;Button fx:id=&quot;viewBtn&quot; onAction=&quot;#handleButtonAction&quot; text=&quot;View&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":11802993,"reputation":3,"user_id":8636188,"display_name":"Michael95"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1066,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":46310908,"answer_count":2,"score":-1,"last_activity_date":1646843784,"creation_date":1505849630,"question_id":46308465,"body_markdown":"I just created my first javaFX program. It contains 55 Buttons and I trying to find a way to get the id of the buttons that was pressed and save it into a varible without creating one handler for each button. \r\n\r\n**Edit:** I managed to fill 8 GridPane&#39;s with a total of 160 buttons and every buttons gives me the name back. I added the solution in case someone is interested. \r\n\r\nThanks James for your time and help!\r\n\r\n\r\n\r\n        for(int i = 1; i &lt; 9; i++ ) {\r\n            for (int j = 0; j &lt; 5; j++) {\r\n                for (int k = 0; k &lt; 4; k++) {\r\n                    String buttonText = &quot;&quot; + buttoncounter;\r\n                    Button button = new Button(buttonText);\r\n                    switch(i){\r\n                        case 1: gp1.add(button, k, j);\r\n                            break;\r\n                        case 2: gp2.add(button, k, j);\r\n                            break;\r\n                        case 3: gp3.add(button, k, j);\r\n                            break;\r\n                        case 4: gp4.add(button, k, j);\r\n                            break;\r\n                        case 5: gp5.add(button, k, j);\r\n                            break;\r\n                        case 6: gp6.add(button, k, j);\r\n                            break;\r\n                        case 7: gp7.add(button, k, j);\r\n                            break;\r\n                        case 8: gp8.add(button, k, j);\r\n                    }\r\n                    button.setMaxSize(Double.MAX_VALUE, Double.MAX_VALUE);\r\n                    button.setOnAction(e -&gt; {\r\n                        buttonPressed = Integer.parseInt(buttonText);\r\n                    });\r\n                    buttoncounter++;\r\n                }\r\n            }\r\n        }\r\n","title":"Get Name/ID from button","body":"<p>I just created my first javaFX program. It contains 55 Buttons and I trying to find a way to get the id of the buttons that was pressed and save it into a varible without creating one handler for each button. </p>\n\n<p><strong>Edit:</strong> I managed to fill 8 GridPane's with a total of 160 buttons and every buttons gives me the name back. I added the solution in case someone is interested. </p>\n\n<p>Thanks James for your time and help!</p>\n\n<pre><code>    for(int i = 1; i &lt; 9; i++ ) {\n        for (int j = 0; j &lt; 5; j++) {\n            for (int k = 0; k &lt; 4; k++) {\n                String buttonText = \"\" + buttoncounter;\n                Button button = new Button(buttonText);\n                switch(i){\n                    case 1: gp1.add(button, k, j);\n                        break;\n                    case 2: gp2.add(button, k, j);\n                        break;\n                    case 3: gp3.add(button, k, j);\n                        break;\n                    case 4: gp4.add(button, k, j);\n                        break;\n                    case 5: gp5.add(button, k, j);\n                        break;\n                    case 6: gp6.add(button, k, j);\n                        break;\n                    case 7: gp7.add(button, k, j);\n                        break;\n                    case 8: gp8.add(button, k, j);\n                }\n                button.setMaxSize(Double.MAX_VALUE, Double.MAX_VALUE);\n                button.setOnAction(e -&gt; {\n                    buttonPressed = Integer.parseInt(buttonText);\n                });\n                buttoncounter++;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","biometrics","android-biometric-prompt"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1646845521,"post_id":71412708,"comment_id":126226441,"body_markdown":"Unfortunately not (as far as I am aware). I filed [an issue](https://issuetracker.google.com/issues/111315641) about this years ago, but nothing seems to have come out of it so far.","body":"Unfortunately not (as far as I am aware). I filed <a href=\"https://issuetracker.google.com/issues/111315641\" rel=\"nofollow noreferrer\">an issue</a> about this years ago, but nothing seems to have come out of it so far."},{"owner":{"account_id":23160946,"reputation":43,"user_id":17261602,"display_name":"Axel"},"score":0,"creation_date":1646899924,"post_id":71412708,"comment_id":126238814,"body_markdown":"Ok, thank you, I will try to do it anyway, if I find a solution, I can post it here if anybody need it.","body":"Ok, thank you, I will try to do it anyway, if I find a solution, I can post it here if anybody need it."},{"owner":{"account_id":14808354,"reputation":123,"user_id":10694696,"display_name":"Dimitri"},"score":0,"creation_date":1696935558,"post_id":71412708,"comment_id":136213404,"body_markdown":"Hi @Axel, did you find a solution ?","body":"Hi @Axel, did you find a solution ?"}],"owner":{"account_id":23160946,"reputation":43,"user_id":17261602,"display_name":"Axel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1646843596,"creation_date":1646843188,"question_id":71412708,"body_markdown":"I want to know if in the onAuthenticationSucceeded() method it was possible to check which Biometric authentication method the user used. Not only if it was a weak or strong method but if they used facial recognition or fingerprint for example.\r\n\r\nHere is my code: \r\n\r\n        Executor executor = ContextCompat.getMainExecutor(context);\r\n        BiometricPrompt biometricPrompt;\r\n        BiometricPrompt.PromptInfo promptInfo;\r\n        biometricPrompt = new BiometricPrompt(fragmentActivity, executor, new BiometricPrompt.AuthenticationCallback() {\r\n            @Override\r\n            public void onAuthenticationError(int errorCode, @NonNull CharSequence errString) {\r\n                super.onAuthenticationError(errorCode, errString);          \r\n            }\r\n\r\n            @Override\r\n            public void onAuthenticationSucceeded(@NonNull BiometricPrompt.AuthenticationResult result) {\r\n                System.out.println(result);\r\n            }\r\n\r\n            @Override\r\n            public void onAuthenticationFailed() {\r\n                super.onAuthenticationFailed();\r\n            }\r\n        });\r\n","title":"Is there a possibility to know which biometric authentication the user used with the BiometricPrompt","body":"<p>I want to know if in the onAuthenticationSucceeded() method it was possible to check which Biometric authentication method the user used. Not only if it was a weak or strong method but if they used facial recognition or fingerprint for example.</p>\n<p>Here is my code:</p>\n<pre><code>    Executor executor = ContextCompat.getMainExecutor(context);\n    BiometricPrompt biometricPrompt;\n    BiometricPrompt.PromptInfo promptInfo;\n    biometricPrompt = new BiometricPrompt(fragmentActivity, executor, new BiometricPrompt.AuthenticationCallback() {\n        @Override\n        public void onAuthenticationError(int errorCode, @NonNull CharSequence errString) {\n            super.onAuthenticationError(errorCode, errString);          \n        }\n\n        @Override\n        public void onAuthenticationSucceeded(@NonNull BiometricPrompt.AuthenticationResult result) {\n            System.out.println(result);\n        }\n\n        @Override\n        public void onAuthenticationFailed() {\n            super.onAuthenticationFailed();\n        }\n    });\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","postgresql-12"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1646837730,"post_id":71411274,"comment_id":126223088,"body_markdown":"Why the large objects to begin with? Do you need the &quot;streaming&quot; capabilities&quot; or the fact that they can be larger than 1GB? If not, using `bytea` is typically a better choice.","body":"Why the large objects to begin with? Do you need the &quot;streaming&quot; capabilities&quot; or the fact that they can be larger than 1GB? If not, using <code>bytea</code> is typically a better choice."},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1646838041,"post_id":71411274,"comment_id":126223217,"body_markdown":"@a_horse_with_no_name both. And after several years it&#39;s a bit late to convert the 1.2TB of large objects into `bytea` fields.","body":"@a_horse_with_no_name both. And after several years it&#39;s a bit late to convert the 1.2TB of large objects into <code>bytea</code> fields."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1646855985,"post_id":71411274,"comment_id":126229978,"body_markdown":"Have you tried the postPersist and postUpdate JPA lifecycle methods? These events are for the entity, not the blob, but allow you to execute what you might need after the entity insert/update statements have executed while still in the same transactional context.","body":"Have you tried the postPersist and postUpdate JPA lifecycle methods? These events are for the entity, not the blob, but allow you to execute what you might need after the entity insert/update statements have executed while still in the same transactional context."},{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1646903161,"post_id":71411274,"comment_id":126239980,"body_markdown":"@Chris I mentioned that in the question. How do you execute SQL in that? Only the entity is available.","body":"@Chris I mentioned that in the question. How do you execute SQL in that? Only the entity is available."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1646930448,"post_id":71411274,"comment_id":126250943,"body_markdown":"the spec states: &quot;Lifecycle callbacks can invoke JNDI, JDBC, JMS, and enterprise beans.&quot;, and you can define listener classes that should support injection in containers, or can use the local context to find the resources currently in use. The spec does state &quot;In general, the lifecycle method of a portable application should not invoke EntityManager or Query operations, access other entity instances, or modify relationships within the same persistence context.&quot; but doesn&#39;t disallow it. I&#39;ve seen this in other providers, but can&#39;t find a working example to share.","body":"the spec states: &quot;Lifecycle callbacks can invoke JNDI, JDBC, JMS, and enterprise beans.&quot;, and you can define listener classes that should support injection in containers, or can use the local context to find the resources currently in use. The spec does state &quot;In general, the lifecycle method of a portable application should not invoke EntityManager or Query operations, access other entity instances, or modify relationships within the same persistence context.&quot; but doesn&#39;t disallow it. I&#39;ve seen this in other providers, but can&#39;t find a working example to share."}],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646843335,"creation_date":1646837561,"question_id":71411274,"body_markdown":"I have been reading BLOBs (type `lo` in my PostgreSQL database) in my entities so far with no trouble:\r\n\r\n```java\r\n@Entity\r\n@Getter @Setter\r\npublic class MyEntity {\r\n  @Id\r\n  private Long id;\r\n\r\n  @Lob\r\n  private Blob file;\r\n}\r\n```\r\nAnd the following override in the dialect:\r\n```java\r\n@Override\r\npublic boolean equivalentTypes(int type1, int type2) {\r\n    // The &#39;lo&#39; type is an alias for &#39;oid&#39;, which is typed as DISTINCT\r\n    return super.equivalentTypes(type1, type2) ||\r\n            (type1 == Types.BLOB &amp;&amp; type2 == Types.DISTINCT) ||\r\n            (type1 == Types.DISTINCT &amp;&amp; type2 == Types.BLOB);\r\n}\r\n```\r\n\r\nNow I want to start creating new ones, but I need to account for the large object ACLs.\r\nAfter any new BLOB is crated, I need to execute a query such as:\r\n```sql\r\nGRANT SELECT ON LARGE OBJECT 12345 TO reader_role;\r\n```\r\n\r\nThe obvious way I can think to do it is with a post-save hook on every entity that has a `@Lob` field, but **how can you execute SQL in the same transaction** using that?\r\n\r\nIs there a better way to do it at the type-level? An existing hook or an interface to override? I suspect Hibernate (and JPA in general) has no concept of blobs existing independently of an entity, because that only happens AFAIK in PostgreSQL.","title":"Post-create hook for BLOB values in Hibernate","body":"<p>I have been reading BLOBs (type <code>lo</code> in my PostgreSQL database) in my entities so far with no trouble:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter @Setter\npublic class MyEntity {\n  @Id\n  private Long id;\n\n  @Lob\n  private Blob file;\n}\n</code></pre>\n<p>And the following override in the dialect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equivalentTypes(int type1, int type2) {\n    // The 'lo' type is an alias for 'oid', which is typed as DISTINCT\n    return super.equivalentTypes(type1, type2) ||\n            (type1 == Types.BLOB &amp;&amp; type2 == Types.DISTINCT) ||\n            (type1 == Types.DISTINCT &amp;&amp; type2 == Types.BLOB);\n}\n</code></pre>\n<p>Now I want to start creating new ones, but I need to account for the large object ACLs.\nAfter any new BLOB is crated, I need to execute a query such as:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>GRANT SELECT ON LARGE OBJECT 12345 TO reader_role;\n</code></pre>\n<p>The obvious way I can think to do it is with a post-save hook on every entity that has a <code>@Lob</code> field, but <strong>how can you execute SQL in the same transaction</strong> using that?</p>\n<p>Is there a better way to do it at the type-level? An existing hook or an interface to override? I suspect Hibernate (and JPA in general) has no concept of blobs existing independently of an entity, because that only happens AFAIK in PostgreSQL.</p>\n"},{"tags":["java","android","android-recyclerview","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":13874847,"reputation":132,"user_id":10016783,"display_name":"return 0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646076832,"creation_date":1646076832,"answer_id":71300185,"question_id":71299792,"body_markdown":"This is how I&#39;d do it. \r\n\r\n1.Have a model for the words\r\n```\r\ndata class Word(var id:Long,var word:String)\r\n\r\n```\r\n2.Populate a list of the words for the recycler view. For ID, use System.nanotime() &amp; 0xfffff. This guarantees a unique ID every time it is called( at least I tested it against a million iterations).\r\n\r\n```\r\nval wordlist= mutableListOf&lt;Word&gt;()\r\n\r\nfor (s in 0 until 10){\r\nval word=Word((System. nanotime &amp; 0xfffff).toLong(),&quot;Some random string&quot;)\r\n\r\nworldList.add(word)\r\n//save the word to preference with the key word.id\r\n\r\n```\r\n3. In your adapter in onBindViewHolder\r\n\r\n```\r\nval word= worldList[position]\r\n\r\nyourTextView.text=word\r\n\r\nyourDeleteView.setOnClickListener{\r\nval wordID=word.id\r\ndeleteWord(wordID)\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Recycler Adapter and Shared preferences","body":"<p>This is how I'd do it.</p>\n<p>1.Have a model for the words</p>\n<pre><code>data class Word(var id:Long,var word:String)\n\n</code></pre>\n<p>2.Populate a list of the words for the recycler view. For ID, use System.nanotime() &amp; 0xfffff. This guarantees a unique ID every time it is called( at least I tested it against a million iterations).</p>\n<pre><code>val wordlist= mutableListOf&lt;Word&gt;()\n\nfor (s in 0 until 10){\nval word=Word((System. nanotime &amp; 0xfffff).toLong(),&quot;Some random string&quot;)\n\nworldList.add(word)\n//save the word to preference with the key word.id\n\n</code></pre>\n<ol start=\"3\">\n<li>In your adapter in onBindViewHolder</li>\n</ol>\n<pre><code>val word= worldList[position]\n\nyourTextView.text=word\n\nyourDeleteView.setOnClickListener{\nval wordID=word.id\ndeleteWord(wordID)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16610063,"reputation":23,"user_id":12003375,"display_name":"SCS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646843037,"creation_date":1646843037,"answer_id":71412676,"question_id":71299792,"body_markdown":"```\r\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        holder.textView.setText(pist.get(position).toString());\r\n        holder.textView.setTag(pist.get(position).toString());\r\n        holder.textView.setOnClickListener(v -&gt; Toast.makeText(context, &quot;Clicked on &quot; + holder.getAbsoluteAdapterPosition(), Toast.LENGTH_SHORT).show());\r\n        holder.textView.setOnLongClickListener(view -&gt; {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(context)\r\n                    .setTitle(&quot;Delete word&quot;)\r\n                    .setMessage(&quot;are you sure you want to delete?&quot;)\r\n                    .setPositiveButton(&quot;yes&quot;, (dialogInterface, i) -&gt; {\r\n                        pist.remove(holder.getAbsoluteAdapterPosition());\r\n                        editor.remove(String.valueOf(view.getTag()));\r\n                        notifyItemRemoved(holder.getAbsoluteAdapterPosition());\r\n                        editor.commit();\r\n                    })\r\n                    .setNegativeButton(&quot;no&quot;, (dialogInterface, i) -&gt; {\r\n\r\n                    });\r\n            builder.show();\r\n            return true;\r\n        });\r\n    }\r\n```\r\nthe solution i found is to use tags for identification, i made a list(pist) of all the values in the shared preferences and im using the words as the keys, since its more convenient, if needed we could always make another list of keys and set the tag accordingly \r\nim not sure if this is the professional way to go abt it, but it works fine and seems decent enough nevertheless Im still open to answers ","title":"Recycler Adapter and Shared preferences","body":"<pre><code>public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.textView.setText(pist.get(position).toString());\n        holder.textView.setTag(pist.get(position).toString());\n        holder.textView.setOnClickListener(v -&gt; Toast.makeText(context, &quot;Clicked on &quot; + holder.getAbsoluteAdapterPosition(), Toast.LENGTH_SHORT).show());\n        holder.textView.setOnLongClickListener(view -&gt; {\n            AlertDialog.Builder builder = new AlertDialog.Builder(context)\n                    .setTitle(&quot;Delete word&quot;)\n                    .setMessage(&quot;are you sure you want to delete?&quot;)\n                    .setPositiveButton(&quot;yes&quot;, (dialogInterface, i) -&gt; {\n                        pist.remove(holder.getAbsoluteAdapterPosition());\n                        editor.remove(String.valueOf(view.getTag()));\n                        notifyItemRemoved(holder.getAbsoluteAdapterPosition());\n                        editor.commit();\n                    })\n                    .setNegativeButton(&quot;no&quot;, (dialogInterface, i) -&gt; {\n\n                    });\n            builder.show();\n            return true;\n        });\n    }\n</code></pre>\n<p>the solution i found is to use tags for identification, i made a list(pist) of all the values in the shared preferences and im using the words as the keys, since its more convenient, if needed we could always make another list of keys and set the tag accordingly\nim not sure if this is the professional way to go abt it, but it works fine and seems decent enough nevertheless Im still open to answers</p>\n"}],"owner":{"account_id":16610063,"reputation":23,"user_id":12003375,"display_name":"SCS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71412676,"answer_count":2,"score":0,"last_activity_date":1646843037,"creation_date":1646074689,"question_id":71299792,"body_markdown":"i have a simple use case here, a list of words saved using shardpreferences, displayed using recycler view. i need to add words and delete words\r\n\r\nto add words:\r\n\r\n```\r\npublic void get_word(String new_word) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(String.valueOf(sharedPreferences.getAll().size()), new_word);\r\n        System.out.println(sharedPreferences.getAll());\r\n        editor.commit();\r\n        vocabL.add(new_word);\r\n        adapter.notifyItemInserted(vocabL.size() - 1);\r\n        VVlist.scrollToPosition(vocabL.size() -1);\r\n    }\r\n```\r\nthe idea here is quite simple and buggy, the keys im using for shared preferences are numbers, so here i used the size function which would return the next number i can use\r\nbut here is the issue:\r\n```\r\n public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\r\n        holder.textView.setText(list.get(position));\r\n        holder.textView.setOnClickListener(v -&gt; Toast.makeText(context, &quot;Clicked on &quot; + holder.getAbsoluteAdapterPosition(), Toast.LENGTH_SHORT).show());\r\n        holder.textView.setOnLongClickListener(view -&gt; {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(context)\r\n                    .setTitle(&quot;Delete word&quot;)\r\n                    .setMessage(&quot;are you sure you want to delete?&quot;)\r\n                    .setPositiveButton(&quot;yes&quot;, (dialogInterface, i) -&gt; {\r\n                        list.remove(holder.getAbsoluteAdapterPosition());                        editor.remove(String.valueOf(holder.getAbsoluteAdapterPosition()));\r\n                        notifyItemRemoved(holder.getAbsoluteAdapterPosition());\r\n                        editor.commit();\r\n                    })\r\n                    .setNegativeButton(&quot;no&quot;, (dialogInterface, i) -&gt; {\r\n\r\n                    });\r\n            builder.show();\r\n            return true;\r\n        });\r\n    }\r\n```\r\nhere when i delete a word, i loose the key as well so i guess the problem is clear, the next time i try to add a word, i override an existing value\r\nalso there are other problems with this inefficient code, when deleting, the position can differ to the key, hence deleting something that wasnt meant to be deleted\r\n\r\nthere is a list &#39;list&#39; in the above code, which is nothing but a list containing all the words, i used it for testing possible solutions\r\n\r\nim self taught, im not aware of the right programming practises to use here. \r\nthe only possible solution i can think of is using the map interface, but i feel like there are better ways to go around this\r\nthanks  ","title":"Recycler Adapter and Shared preferences","body":"<p>i have a simple use case here, a list of words saved using shardpreferences, displayed using recycler view. i need to add words and delete words</p>\n<p>to add words:</p>\n<pre><code>public void get_word(String new_word) {\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putString(String.valueOf(sharedPreferences.getAll().size()), new_word);\n        System.out.println(sharedPreferences.getAll());\n        editor.commit();\n        vocabL.add(new_word);\n        adapter.notifyItemInserted(vocabL.size() - 1);\n        VVlist.scrollToPosition(vocabL.size() -1);\n    }\n</code></pre>\n<p>the idea here is quite simple and buggy, the keys im using for shared preferences are numbers, so here i used the size function which would return the next number i can use\nbut here is the issue:</p>\n<pre><code> public void onBindViewHolder(@NonNull RecyclerAdapter.ViewHolder holder, int position) {\n        holder.textView.setText(list.get(position));\n        holder.textView.setOnClickListener(v -&gt; Toast.makeText(context, &quot;Clicked on &quot; + holder.getAbsoluteAdapterPosition(), Toast.LENGTH_SHORT).show());\n        holder.textView.setOnLongClickListener(view -&gt; {\n            AlertDialog.Builder builder = new AlertDialog.Builder(context)\n                    .setTitle(&quot;Delete word&quot;)\n                    .setMessage(&quot;are you sure you want to delete?&quot;)\n                    .setPositiveButton(&quot;yes&quot;, (dialogInterface, i) -&gt; {\n                        list.remove(holder.getAbsoluteAdapterPosition());                        editor.remove(String.valueOf(holder.getAbsoluteAdapterPosition()));\n                        notifyItemRemoved(holder.getAbsoluteAdapterPosition());\n                        editor.commit();\n                    })\n                    .setNegativeButton(&quot;no&quot;, (dialogInterface, i) -&gt; {\n\n                    });\n            builder.show();\n            return true;\n        });\n    }\n</code></pre>\n<p>here when i delete a word, i loose the key as well so i guess the problem is clear, the next time i try to add a word, i override an existing value\nalso there are other problems with this inefficient code, when deleting, the position can differ to the key, hence deleting something that wasnt meant to be deleted</p>\n<p>there is a list 'list' in the above code, which is nothing but a list containing all the words, i used it for testing possible solutions</p>\n<p>im self taught, im not aware of the right programming practises to use here.\nthe only possible solution i can think of is using the map interface, but i feel like there are better ways to go around this\nthanks</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1646836193,"post_id":71410929,"comment_id":126222412,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":22915727,"reputation":25,"user_id":17052350,"display_name":"dvox"},"score":0,"creation_date":1646836239,"post_id":71410929,"comment_id":126222439,"body_markdown":"@AlexMamo my datasnapshot has the old value... it does not update it from server","body":"@AlexMamo my datasnapshot has the old value... it does not update it from server"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646839440,"creation_date":1646839440,"answer_id":71411779,"question_id":71410929,"body_markdown":"If you have disk persistence enabled and there is a value stored in the local cache, the `onDataChange` of a listener registered with `addValueEventListener` will be called twice:\r\n\r\n1. Right away with the current value from the local cache.\r\n2. Then again once the latest value is retrieved from the server.\r\n\r\nThere is no way to change this behavior of `addValueEventListener`. to skip #1\r\n\r\nIf you want to get the value from the server, and only fallback to the disk cache if the server isn&#39;t available, consider using the newer `get()` operation that does precisely that.","title":"Datasnapshot is not updated even when connected to internet in my workermanager","body":"<p>If you have disk persistence enabled and there is a value stored in the local cache, the <code>onDataChange</code> of a listener registered with <code>addValueEventListener</code> will be called twice:</p>\n<ol>\n<li>Right away with the current value from the local cache.</li>\n<li>Then again once the latest value is retrieved from the server.</li>\n</ol>\n<p>There is no way to change this behavior of <code>addValueEventListener</code>. to skip #1</p>\n<p>If you want to get the value from the server, and only fallback to the disk cache if the server isn't available, consider using the newer <code>get()</code> operation that does precisely that.</p>\n"}],"owner":{"account_id":22915727,"reputation":25,"user_id":17052350,"display_name":"dvox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71411779,"answer_count":1,"score":0,"last_activity_date":1646842912,"creation_date":1646836030,"question_id":71410929,"body_markdown":"With debugging I can see that it enters all of that but snapshot has an old value. I have persistency enabled in firebase database. What&#39;s wrong?\r\n\r\nThis is my code of the worker class inn which I save in Shared preferences some data. But for example it enters ref1 but snapshot has the old value.\r\n```java\r\ncode\r\n```\r\n\r\nIs it not necessary to look at the details (data input, ..., job inside worker, etc).","title":"Datasnapshot is not updated even when connected to internet in my workermanager","body":"<p>With debugging I can see that it enters all of that but snapshot has an old value. I have persistency enabled in firebase database. What's wrong?</p>\n<p>This is my code of the worker class inn which I save in Shared preferences some data. But for example it enters ref1 but snapshot has the old value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>code\n</code></pre>\n<p>Is it not necessary to look at the details (data input, ..., job inside worker, etc).</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646841215,"post_id":71411906,"comment_id":126224616,"body_markdown":"I feel like using certificates would be a better than restricting to IPs, at least in cloud environments where IPs frequently change, otherwise, use your OS firewall rules","body":"I feel like using certificates would be a better than restricting to IPs, at least in cloud environments where IPs frequently change, otherwise, use your OS firewall rules"},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1646841910,"post_id":71411906,"comment_id":126224901,"body_markdown":"i agree with all these things. this is in a hypothetical system where admins demand zero-trust ip filters on all java service ports *in addition* to the other security controls.","body":"i agree with all these things. this is in a hypothetical system where admins demand zero-trust ip filters on all java service ports <i>in addition</i> to the other security controls."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646842138,"post_id":71411906,"comment_id":126224981,"body_markdown":"From code, I don&#39;t think there&#39;s much you can do here via the Spark API. You can try modifying the RPC bind address subnets for the workers, but that&#39;s about it","body":"From code, I don&#39;t think there&#39;s much you can do here via the Spark API. You can try modifying the RPC bind address subnets for the workers, but that&#39;s about it"},{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":0,"creation_date":1646842244,"post_id":71411906,"comment_id":126225022,"body_markdown":"that was my conclusion too. will require code changes on spark side. you can convert that to answer if u want","body":"that was my conclusion too. will require code changes on spark side. you can convert that to answer if u want"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646842893,"creation_date":1646842893,"answer_id":71412641,"question_id":71411906,"body_markdown":"I am not aware of Spark internal networking, but from a server bind-address perspective, the best you can do is to isolate the bind address on a specific interface/subnet - this would start with your `args.host()` \r\n\r\nIf you want to restrict to specific IPs within that subnet, you&#39;ll need to work with the OS firewall, maybe managing that from code as well, but not with the Spark libraries.\r\n\r\nThen going further - restricting to certain _clients_, rather than machines, you could provide certificates into certain machines, or users, or otherwise encode IP addresses into some auth protocol, then enforce ACL policies for Spark. Perhaps you can use Kerberos for this, too","title":"How to enable IP access filter on Spark Worker?","body":"<p>I am not aware of Spark internal networking, but from a server bind-address perspective, the best you can do is to isolate the bind address on a specific interface/subnet - this would start with your <code>args.host()</code></p>\n<p>If you want to restrict to specific IPs within that subnet, you'll need to work with the OS firewall, maybe managing that from code as well, but not with the Spark libraries.</p>\n<p>Then going further - restricting to certain <em>clients</em>, rather than machines, you could provide certificates into certain machines, or users, or otherwise encode IP addresses into some auth protocol, then enforce ACL policies for Spark. Perhaps you can use Kerberos for this, too</p>\n"}],"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71412641,"answer_count":1,"score":0,"last_activity_date":1646842893,"creation_date":1646840001,"question_id":71411906,"body_markdown":"I have a java application that starts up a spark worker:\r\n\r\n`Worker.startRpcEnvAndEndpoint(args.host(), args.port(), args.webUiPort(), args.cores(), args.memory(),\r\n      args.masters(), args.workDir(), scala.Option.empty(), conf);`\r\n\r\n(see https://books.japila.pl/spark-standalone-internals/Worker/#externalshuffleservice)\r\n\r\nI would now like to set up an IP access filter so that I have a hard coded list of IP addresses that can access this service. \r\n\r\nIs there a way to configure the Java program above to provide such an IP access filter? ","title":"How to enable IP access filter on Spark Worker?","body":"<p>I have a java application that starts up a spark worker:</p>\n<p><code>Worker.startRpcEnvAndEndpoint(args.host(), args.port(), args.webUiPort(), args.cores(), args.memory(), args.masters(), args.workDir(), scala.Option.empty(), conf);</code></p>\n<p>(see <a href=\"https://books.japila.pl/spark-standalone-internals/Worker/#externalshuffleservice\" rel=\"nofollow noreferrer\">https://books.japila.pl/spark-standalone-internals/Worker/#externalshuffleservice</a>)</p>\n<p>I would now like to set up an IP access filter so that I have a hard coded list of IP addresses that can access this service.</p>\n<p>Is there a way to configure the Java program above to provide such an IP access filter?</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":6605477,"reputation":543,"user_id":5102423,"display_name":"Zaid Zakir"},"score":0,"creation_date":1624425386,"post_id":68093785,"comment_id":120351911,"body_markdown":"Hi,Have you tried to file -&gt;Invalidate/cache and restart and then rebuild project,in android studio? Sometimes this error occurs when project has not detected the new resource.","body":"Hi,Have you tried to file -&gt;Invalidate/cache and restart and then rebuild project,in android studio? Sometimes this error occurs when project has not detected the new resource."},{"owner":{"account_id":4200329,"reputation":2634,"user_id":3440582,"accept_rate":54,"display_name":"BlackPearl"},"score":0,"creation_date":1641541954,"post_id":68093785,"comment_id":124835424,"body_markdown":"Were you able to get any solution?","body":"Were you able to get any solution?"},{"owner":{"account_id":15672254,"reputation":116,"user_id":11331919,"display_name":"AGHA"},"score":0,"creation_date":1642011704,"post_id":68093785,"comment_id":124961655,"body_markdown":"Any update about this?","body":"Any update about this?"}],"answers":[{"tags":[],"owner":{"account_id":11962605,"reputation":923,"user_id":11833795,"display_name":"Niraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646842377,"creation_date":1646842377,"answer_id":71412527,"question_id":68093785,"body_markdown":"Are you using `implementation` for adding any dependency?\r\n\r\nIf yes, try replacing it with `api`. Not sure but it worked for me.\r\n\r\nExample:\r\n\r\nReplace\r\n```\r\nimplementation &#39;com.github.niraj-prajapati:UPIPayments:1.1.4&#39;\r\n```\r\nwith\r\n```\r\napi &#39;com.github.niraj-prajapati:UPIPayments:1.1.4&#39;\r\n```","title":"Flutter build for plugin fails, class file not found","body":"<p>Are you using <code>implementation</code> for adding any dependency?</p>\n<p>If yes, try replacing it with <code>api</code>. Not sure but it worked for me.</p>\n<p>Example:</p>\n<p>Replace</p>\n<pre><code>implementation 'com.github.niraj-prajapati:UPIPayments:1.1.4'\n</code></pre>\n<p>with</p>\n<pre><code>api 'com.github.niraj-prajapati:UPIPayments:1.1.4'\n</code></pre>\n"}],"owner":{"account_id":8562919,"reputation":125,"user_id":6416385,"display_name":"Jacob Brasil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1646842377,"creation_date":1624424696,"question_id":68093785,"body_markdown":"I&#39;m developing a plugin using Snapchat&#39;s SDK, it runs fine on iOS, however when compiling and running on Android I keep getting an error:\r\n\r\n    /Users/jnbra/Projects/snapkit/example/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:17: error: cannot access LoginStateController\r\n        flutterEngine.getPlugins().add(new com.jacobbrasil.snapkit.SnapkitPlugin());\r\n                              ^\r\n    class file for com.snapchat.kit.sdk.core.controller.LoginStateController not found\r\n    1 error\r\n\r\n    FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n\r\nThe class is accessible and downloaded and I can view the source code for it in Android Studio. I&#39;ve tried changing SDK versions, clearing my Gradle cache, and a few others but any help would be greatly appreciated, thanks!","title":"Flutter build for plugin fails, class file not found","body":"<p>I'm developing a plugin using Snapchat's SDK, it runs fine on iOS, however when compiling and running on Android I keep getting an error:</p>\n<pre><code>/Users/jnbra/Projects/snapkit/example/android/app/src/main/java/io/flutter/plugins/GeneratedPluginRegistrant.java:17: error: cannot access LoginStateController\n    flutterEngine.getPlugins().add(new com.jacobbrasil.snapkit.SnapkitPlugin());\n                          ^\nclass file for com.snapchat.kit.sdk.core.controller.LoginStateController not found\n1 error\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>The class is accessible and downloaded and I can view the source code for it in Android Studio. I've tried changing SDK versions, clearing my Gradle cache, and a few others but any help would be greatly appreciated, thanks!</p>\n"},{"tags":["java","keycloak","resteasy","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":15070198,"reputation":1505,"user_id":10875985,"display_name":"Gabriele Muscas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646842302,"creation_date":1642758660,"answer_id":70799338,"question_id":70795106,"body_markdown":"i found a solution, just pass a Resteasyclient to the KeycloakBuilderas follows:\r\n\r\n    \tprivate Keycloak getKeycloakInstance() {\r\n\t\treturn KeycloakBuilder.builder()\r\n\t\t\t\t.serverUrl(KEYCLOAK_SERVER_URL)\r\n\t\t\t\t.realm(KEYCLOAK_REALM)\r\n\t\t\t\t.username(KEYCLOAK_USERNAME)\r\n\t\t\t\t.password(KEYCLOAK_PASSWORD)\r\n\t\t\t\t.grantType(OAuth2Constants.PASSWORD)\r\n\t\t\t\t.clientId(KEYCLOAK_ADMIN_CLI)\r\n\t\t\t\t.clientSecret(KEYCLOAK_ADMIN_SECRET)\r\n\t\t\t\t.resteasyClient(new ResteasyClientBuilder().defaultProxy(&quot;localhost&quot;, 8888, &quot;http&quot;).build())\r\n\t\t\t\t.build();\r\n\t}","title":"Keycloak java admin client proxy configuration","body":"<p>i found a solution, just pass a Resteasyclient to the KeycloakBuilderas follows:</p>\n<pre><code>    private Keycloak getKeycloakInstance() {\n    return KeycloakBuilder.builder()\n            .serverUrl(KEYCLOAK_SERVER_URL)\n            .realm(KEYCLOAK_REALM)\n            .username(KEYCLOAK_USERNAME)\n            .password(KEYCLOAK_PASSWORD)\n            .grantType(OAuth2Constants.PASSWORD)\n            .clientId(KEYCLOAK_ADMIN_CLI)\n            .clientSecret(KEYCLOAK_ADMIN_SECRET)\n            .resteasyClient(new ResteasyClientBuilder().defaultProxy(&quot;localhost&quot;, 8888, &quot;http&quot;).build())\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":15070198,"reputation":1505,"user_id":10875985,"display_name":"Gabriele Muscas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1692,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646842302,"creation_date":1642725860,"question_id":70795106,"body_markdown":"i need to set the proxy in a java software that use keycloak-admin-client library (that use org.jboss.resteasy and apache.http).\r\n\r\nIt seems to ignore the -DproxyHost=127.0.0.1 -DproxyPort=8888 JVM configurations. I also tries with org.jboss.resteasy.jaxrs.client.proxy.host property.\r\n\r\nCan you help me?\r\n\r\nVersion of KC dependency:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nHere the code to generate KC instance:\r\n\r\n    \tprivate Keycloak getKeycloakInstance() {\r\n\t\treturn KeycloakBuilder.builder()\r\n\t\t\t\t.serverUrl(KEYCLOAK_SERVER_URL)\r\n\t\t\t\t.realm(KEYCLOAK_REALM)\r\n\t\t\t\t.username(KEYCLOAK_USERNAME)\r\n\t\t\t\t.password(KEYCLOAK_PASSWORD)\r\n\t\t\t\t.grantType(OAuth2Constants.PASSWORD)\r\n\t\t\t\t.clientId(KEYCLOAK_ADMIN_CLI)\r\n\t\t\t\t.clientSecret(KEYCLOAK_ADMIN_SECRET)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\nAnd here same examples of utilization:\r\n\r\n    \tKeycloak keycloak = getKeycloakInstance();\r\n\t\tRealmResource realmResource = keycloak.realm(KEYCLOAK_REALM);\r\n\t\tList&lt;ClientRepresentation&gt; findByClientId = realmResource.clients().findByClientId(KEYCLOAK_ADMIN_CLI);\r\n\r\n\t\tUsersResource userRessource = realmResource.users();\r\n\r\n\t\tList&lt;UserRepresentation&gt; userToModifyList = userRessource.search(USERNAME);\r\n\r\n","title":"Keycloak java admin client proxy configuration","body":"<p>i need to set the proxy in a java software that use keycloak-admin-client library (that use org.jboss.resteasy and apache.http).</p>\n<p>It seems to ignore the -DproxyHost=127.0.0.1 -DproxyPort=8888 JVM configurations. I also tries with org.jboss.resteasy.jaxrs.client.proxy.host property.</p>\n<p>Can you help me?</p>\n<p>Version of KC dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n        &lt;version&gt;9.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Here the code to generate KC instance:</p>\n<pre><code>    private Keycloak getKeycloakInstance() {\n    return KeycloakBuilder.builder()\n            .serverUrl(KEYCLOAK_SERVER_URL)\n            .realm(KEYCLOAK_REALM)\n            .username(KEYCLOAK_USERNAME)\n            .password(KEYCLOAK_PASSWORD)\n            .grantType(OAuth2Constants.PASSWORD)\n            .clientId(KEYCLOAK_ADMIN_CLI)\n            .clientSecret(KEYCLOAK_ADMIN_SECRET)\n            .build();\n}\n</code></pre>\n<p>And here same examples of utilization:</p>\n<pre><code>    Keycloak keycloak = getKeycloakInstance();\n    RealmResource realmResource = keycloak.realm(KEYCLOAK_REALM);\n    List&lt;ClientRepresentation&gt; findByClientId = realmResource.clients().findByClientId(KEYCLOAK_ADMIN_CLI);\n\n    UsersResource userRessource = realmResource.users();\n\n    List&lt;UserRepresentation&gt; userToModifyList = userRessource.search(USERNAME);\n</code></pre>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1646839487,"post_id":71411601,"comment_id":126223813,"body_markdown":"You should first learn more about the java language basics , what mean instance variable, static variable , instance , object .Learning that from a book is very helpful, good luck","body":"You should first learn more about the java language basics , what mean instance variable, static variable , instance , object .Learning that from a book is very helpful, good luck"}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646842222,"creation_date":1646842222,"answer_id":71412478,"question_id":71411601,"body_markdown":"As a beginner in Java (and probably, OOP as well), a lot of the fundamentals of Java have not yet settled in. So, you came up with an inadequate modelling of the problem domain.\r\n\r\nA key idea of OOP is that data isn&#39;t stored in some globally available variables, but as private information within some class instance. And if you need to know that data, you have to kindly ask the instance for the information (by calling a method where the information is returned). And if the class doesn&#39;t have such a method, then the information is considered private and only visible to the instance itself that owns the field.\r\n\r\nLet&#39;s have a look at your code now (I took the freedom to indent your code consistently, something that your IDE or Java-enabled editor can do automatically):\r\n\r\n    public class Car{ \r\n\r\nThis class should contain the properties and functions of a single car (at least that&#39;s what everybody will expect from its name).\r\n\r\n      static String name;\r\n\r\nBy using `static`, you declare that all cars share exactly one name. Having individual names for cars (e.g. from the license plates) would be more plausible: omit the `static` keyword.\r\n\r\n      public Object waiting_cars;\r\n\r\nHereby you declare every `Car` to have `waiting_cars` - quite surprising, what does that mean that one car has waiting cars? This information should not be kept in the `Car` class (see below). And you should declare the data type you want to use for `waiting_cars`, e.g. `List&lt;Car&gt;` instead of `Object`.\r\n    \r\n      Car(String n) {\r\n        name = n;\r\n      }\r\n\r\nThis defines a constructor, allowing you to supply a name for the car, by e.g. calling `new Car(&quot;XYZ-123&quot;);`. If you changed the `static String name;` to omit the `static` keyword, the constructor would become absolutely valid.\r\n    \r\n      public static void main(String[] args) {\r\n        \r\n        List&lt;Car&gt; waiting_cars = new ArrayList&lt;Car&gt;();\r\n           \r\n        List&lt;Car&gt; after_light = new ArrayList&lt;Car&gt;();)\r\n    \r\n        for(int i =0; waiting_cars.size()&lt;= 99; i++){\r\n          Car carname = new Car(name);\r\n\r\nThe line above is nonsense (and will no longer even compile if you removed the `static` keyword). As it stands now, it takes the value of the static field `name`, supplies that to the `Car` constructor, and this constructor stores it into the static field `name`, exactly where it came from. And the variable name `carname` is misleading, as it sounds like a string naming a `Car` instead of what it is, a `Car`. A more plausible line would be `Car car = new Car(&quot;Car-&quot; + i);`, giving names like `&quot;Car-0&quot;`, `&quot;Car-1&quot;` and so on to the cars.\r\n\r\n          waiting_cars.add(carname); //CarClass@4617c264\r\n        }\r\n        System.out.println(waiting_cars.size());\r\n      }\r\n    }\r\n\r\nThe problem you describe comes from your modelling. You want to deal with traffic lights, and a better modelling would associate the waiting cars and those that passed with one traffic light instead of making them part of a `Car`.\r\n\r\nSo, you could create a class `TrafficLight` with fields `waitingCars` and `carsPassed`. As cars can arrive at the traffic light, and pass the trafficLight, two methods come to mind: `arrive(Car car)` and `passNextCar()`. Something like\r\n\r\n    public class TrafficLight {\r\n        private List&lt;Car&gt; waitingCars = new ArrayList&lt;&gt;();\r\n        private List&lt;Car&gt; carsPassed = new ArrayList&lt;&gt;();\r\n    \r\n        public void arrive(Car car) {\r\n            waitingCars.add(car);\r\n        }\r\n    \r\n        public void passNextCar() {\r\n            if (!waitingCars.isEmpty()) {\r\n                Car car = waitingCars.get(0);\r\n                waitingCars.remove(0);\r\n                carsPassed.add(car);\r\n            }\r\n        }\r\n    }\r\n\r\nRight now, `waitingCars` and `carsPassed` are private and invisible to the outside world. If some other class needs to know about the cars that are waiting at or have passed a given traffic light, this other class will ask the traffic light for that information, by calling a method like `trafficLight.getNumberWaiting()`. Of course, such a method has exist in the `TrafficLight` class first, e.g. \r\n\r\n        public int getNumberWaiting() {\r\n            return waitingCars.size();\r\n        }\r\n","title":"Accessing lists from one class to another class","body":"<p>As a beginner in Java (and probably, OOP as well), a lot of the fundamentals of Java have not yet settled in. So, you came up with an inadequate modelling of the problem domain.</p>\n<p>A key idea of OOP is that data isn't stored in some globally available variables, but as private information within some class instance. And if you need to know that data, you have to kindly ask the instance for the information (by calling a method where the information is returned). And if the class doesn't have such a method, then the information is considered private and only visible to the instance itself that owns the field.</p>\n<p>Let's have a look at your code now (I took the freedom to indent your code consistently, something that your IDE or Java-enabled editor can do automatically):</p>\n<pre><code>public class Car{ \n</code></pre>\n<p>This class should contain the properties and functions of a single car (at least that's what everybody will expect from its name).</p>\n<pre><code>  static String name;\n</code></pre>\n<p>By using <code>static</code>, you declare that all cars share exactly one name. Having individual names for cars (e.g. from the license plates) would be more plausible: omit the <code>static</code> keyword.</p>\n<pre><code>  public Object waiting_cars;\n</code></pre>\n<p>Hereby you declare every <code>Car</code> to have <code>waiting_cars</code> - quite surprising, what does that mean that one car has waiting cars? This information should not be kept in the <code>Car</code> class (see below). And you should declare the data type you want to use for <code>waiting_cars</code>, e.g. <code>List&lt;Car&gt;</code> instead of <code>Object</code>.</p>\n<pre><code>  Car(String n) {\n    name = n;\n  }\n</code></pre>\n<p>This defines a constructor, allowing you to supply a name for the car, by e.g. calling <code>new Car(&quot;XYZ-123&quot;);</code>. If you changed the <code>static String name;</code> to omit the <code>static</code> keyword, the constructor would become absolutely valid.</p>\n<pre><code>  public static void main(String[] args) {\n    \n    List&lt;Car&gt; waiting_cars = new ArrayList&lt;Car&gt;();\n       \n    List&lt;Car&gt; after_light = new ArrayList&lt;Car&gt;();)\n\n    for(int i =0; waiting_cars.size()&lt;= 99; i++){\n      Car carname = new Car(name);\n</code></pre>\n<p>The line above is nonsense (and will no longer even compile if you removed the <code>static</code> keyword). As it stands now, it takes the value of the static field <code>name</code>, supplies that to the <code>Car</code> constructor, and this constructor stores it into the static field <code>name</code>, exactly where it came from. And the variable name <code>carname</code> is misleading, as it sounds like a string naming a <code>Car</code> instead of what it is, a <code>Car</code>. A more plausible line would be <code>Car car = new Car(&quot;Car-&quot; + i);</code>, giving names like <code>&quot;Car-0&quot;</code>, <code>&quot;Car-1&quot;</code> and so on to the cars.</p>\n<pre><code>      waiting_cars.add(carname); //CarClass@4617c264\n    }\n    System.out.println(waiting_cars.size());\n  }\n}\n</code></pre>\n<p>The problem you describe comes from your modelling. You want to deal with traffic lights, and a better modelling would associate the waiting cars and those that passed with one traffic light instead of making them part of a <code>Car</code>.</p>\n<p>So, you could create a class <code>TrafficLight</code> with fields <code>waitingCars</code> and <code>carsPassed</code>. As cars can arrive at the traffic light, and pass the trafficLight, two methods come to mind: <code>arrive(Car car)</code> and <code>passNextCar()</code>. Something like</p>\n<pre><code>public class TrafficLight {\n    private List&lt;Car&gt; waitingCars = new ArrayList&lt;&gt;();\n    private List&lt;Car&gt; carsPassed = new ArrayList&lt;&gt;();\n\n    public void arrive(Car car) {\n        waitingCars.add(car);\n    }\n\n    public void passNextCar() {\n        if (!waitingCars.isEmpty()) {\n            Car car = waitingCars.get(0);\n            waitingCars.remove(0);\n            carsPassed.add(car);\n        }\n    }\n}\n</code></pre>\n<p>Right now, <code>waitingCars</code> and <code>carsPassed</code> are private and invisible to the outside world. If some other class needs to know about the cars that are waiting at or have passed a given traffic light, this other class will ask the traffic light for that information, by calling a method like <code>trafficLight.getNumberWaiting()</code>. Of course, such a method has exist in the <code>TrafficLight</code> class first, e.g.</p>\n<pre><code>    public int getNumberWaiting() {\n        return waitingCars.size();\n    }\n</code></pre>\n"}],"owner":{"account_id":22467879,"reputation":67,"user_id":16668751,"display_name":"Weke Moyosore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1646842222,"creation_date":1646838707,"question_id":71411601,"body_markdown":"I am a beginner Java programmer. I am trying to access two lists from the class Car in the class Traffic, so I can perform a while loop that would loop till the lists from the main class are empty\r\n\r\nThis is the code I have now, I tried extending Traffic from the class car, but that didn&#39;t work and I am stuck. How can I solve this?\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class Car{ \r\n  static String name;\r\n  public Object waiting_cars;\r\n\r\n  Car(String n) {\r\n    name = n;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    \r\n    List&lt;Car&gt; waiting_cars = new ArrayList&lt;Car&gt;();\r\n       \r\n    List&lt;Car&gt; after_light = new ArrayList&lt;Car&gt;();)\r\n\r\n    for(int i =0; waiting_cars.size()&lt;= 99; i++){\r\n      Car carname = new Car(name);\r\n      waiting_cars.add(carname); //CarClass@4617c264\r\n    }\r\n    System.out.println(waiting_cars.size());\r\n  }\r\n}\r\n\r\nclass Traffic{\r\n  void trafficLights(){\r\n    while(!waiting_cars.size().equals(0)){ //WHERE THE PROBLEM OCCURS\r\n      \r\n    }\r\n  }\r\n}\r\n```\r\n","title":"Accessing lists from one class to another class","body":"<p>I am a beginner Java programmer. I am trying to access two lists from the class Car in the class Traffic, so I can perform a while loop that would loop till the lists from the main class are empty</p>\n<p>This is the code I have now, I tried extending Traffic from the class car, but that didn't work and I am stuck. How can I solve this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class Car{ \n  static String name;\n  public Object waiting_cars;\n\n  Car(String n) {\n    name = n;\n  }\n\n  public static void main(String[] args) {\n    \n    List&lt;Car&gt; waiting_cars = new ArrayList&lt;Car&gt;();\n       \n    List&lt;Car&gt; after_light = new ArrayList&lt;Car&gt;();)\n\n    for(int i =0; waiting_cars.size()&lt;= 99; i++){\n      Car carname = new Car(name);\n      waiting_cars.add(carname); //CarClass@4617c264\n    }\n    System.out.println(waiting_cars.size());\n  }\n}\n\nclass Traffic{\n  void trafficLights(){\n    while(!waiting_cars.size().equals(0)){ //WHERE THE PROBLEM OCCURS\n      \n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":24366888,"reputation":1,"user_id":18300497,"display_name":"MAbarca"},"score":0,"creation_date":1646840587,"post_id":71411671,"comment_id":126224307,"body_markdown":"@OneCricketeer you mean... when(mongo.findDistinct(query, &quot;salers&quot;,Example.class, String.class)).thenReturn(Flux.empty())); ?    \n\nverify(mongo.findDistinct(query, &quot;salers&quot;,Example.class, String.class));","body":"@OneCricketeer you mean... when(mongo.findDistinct(query, &quot;salers&quot;,Example.class, String.class)).thenReturn(Flux.empty())); ?      verify(mongo.findDistinct(query, &quot;salers&quot;,Example.class, String.class));"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1646840700,"post_id":71411671,"comment_id":126224367,"body_markdown":"Something like that, sure. Does it work?","body":"Something like that, sure. Does it work?"},{"owner":{"account_id":24366888,"reputation":1,"user_id":18300497,"display_name":"MAbarca"},"score":0,"creation_date":1646841521,"post_id":71411671,"comment_id":126224733,"body_markdown":"@OneCricketeer I&#39;ll edit the code please check it, thanks!","body":"@OneCricketeer I&#39;ll edit the code please check it, thanks!"},{"owner":{"account_id":24366888,"reputation":1,"user_id":18300497,"display_name":"MAbarca"},"score":0,"creation_date":1646842729,"post_id":71411671,"comment_id":126225257,"body_markdown":"@OneCricketeer I just added what I implemented in the test","body":"@OneCricketeer I just added what I implemented in the test"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1646843065,"post_id":71411671,"comment_id":126225393,"body_markdown":"What are you expecting the verify method to test?","body":"What are you expecting the verify method to test?"},{"owner":{"account_id":24366888,"reputation":1,"user_id":18300497,"display_name":"MAbarca"},"score":0,"creation_date":1646843983,"post_id":71411671,"comment_id":126225789,"body_markdown":"I need to add coverage to these lines, as well as check that the method works. @OneCricketeer","body":"I need to add coverage to these lines, as well as check that the method works. @OneCricketeer"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1646845384,"post_id":71411671,"comment_id":126226379,"body_markdown":"Can you please add the results of the current test to your question? And what you would have expected?","body":"Can you please add the results of the current test to your question? And what you would have expected?"}],"owner":{"account_id":24366888,"reputation":1,"user_id":18300497,"display_name":"MAbarca"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646841929,"creation_date":1646838957,"question_id":71411671,"body_markdown":"\r\nThis method its from exampleRepositoryImpl.\r\n   \r\n```\r\n@Override\r\n    public Mono&lt;List&lt;String&gt;&gt; getSalers(int value) {\r\n        logger.info(&quot;ExampleRepositoryImpl::getSalers::START&quot;);\r\n        Criteria criteria = new Criteria();\r\n        criteria = criteria.where(salers).is(value);\r\n        Query query = new Query();\r\n        query.addCriteria(criteria);\r\n        logger.info(&quot;ExampleRepositoryImpl::getSalers::END&quot;);\r\n        return mongo.findDistinct(query,&quot;salers&quot;,Example.class,String.class).collectList()\r\n                .switchIfEmpty(Mono.error(ObjectNotFoundException::new));\r\n    }\r\n```\r\n\r\nand my test class it&#39;s the following, is only the mock of the class...\r\n\r\nEDIT: Add code to the test.\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ExampleTest {\r\n\r\n    @Mock\r\n    ReactiveMongoOperations mongo;\r\n\r\n    ExampleRepositoryImpl exampleRepository;\r\n\r\n    @BeforeEach\r\n    void beforeEach(){\r\n        ExampleRepositoryImpl examImpl = new ExampleRepositoryImpl(mongo);\r\n        exampleRepository = spy(examImpl);\r\n        reset(exampleRepository, mongo);\r\n    }\r\n    \r\n    @Test\r\n    void getSalerTest(){\r\n      Criteria criteria = new Criteria();\r\n        criteria = criteria.where(&quot;salers&quot;).is(5);\r\n        Query query = new Query();\r\n        query.addCriteria(criteria);\r\n\r\n        when(mongo.findDistinct(query, &quot;salers&quot;,Example.class,String.class))\r\n                .thenReturn(Flux.just());\r\n\r\n        verify(mongo.findDistinct(query, &quot;salers&quot;,Example.class,String.class));\r\n    }\r\n\r\n\r\n```\r\n\r\nEdited to add code to the test void getSalerTest(){};","title":"how to test a reactive method?","body":"<p>This method its from exampleRepositoryImpl.</p>\n<pre><code>@Override\n    public Mono&lt;List&lt;String&gt;&gt; getSalers(int value) {\n        logger.info(&quot;ExampleRepositoryImpl::getSalers::START&quot;);\n        Criteria criteria = new Criteria();\n        criteria = criteria.where(salers).is(value);\n        Query query = new Query();\n        query.addCriteria(criteria);\n        logger.info(&quot;ExampleRepositoryImpl::getSalers::END&quot;);\n        return mongo.findDistinct(query,&quot;salers&quot;,Example.class,String.class).collectList()\n                .switchIfEmpty(Mono.error(ObjectNotFoundException::new));\n    }\n</code></pre>\n<p>and my test class it's the following, is only the mock of the class...</p>\n<p>EDIT: Add code to the test.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ExampleTest {\n\n    @Mock\n    ReactiveMongoOperations mongo;\n\n    ExampleRepositoryImpl exampleRepository;\n\n    @BeforeEach\n    void beforeEach(){\n        ExampleRepositoryImpl examImpl = new ExampleRepositoryImpl(mongo);\n        exampleRepository = spy(examImpl);\n        reset(exampleRepository, mongo);\n    }\n    \n    @Test\n    void getSalerTest(){\n      Criteria criteria = new Criteria();\n        criteria = criteria.where(&quot;salers&quot;).is(5);\n        Query query = new Query();\n        query.addCriteria(criteria);\n\n        when(mongo.findDistinct(query, &quot;salers&quot;,Example.class,String.class))\n                .thenReturn(Flux.just());\n\n        verify(mongo.findDistinct(query, &quot;salers&quot;,Example.class,String.class));\n    }\n\n\n</code></pre>\n<p>Edited to add code to the test void getSalerTest(){};</p>\n"},{"tags":["java","android","android-activity","surfaceview","android-windowmanager"],"answers":[{"tags":[],"owner":{"account_id":111374,"reputation":51666,"user_id":294248,"display_name":"fadden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407561849,"creation_date":1407561849,"answer_id":25215486,"question_id":25213758,"body_markdown":"All of the View-based UI is on a single layer (a/k/a window).  You can&#39;t change the surface scaling for a single View; that wouldn&#39;t make sense.  You&#39;d have to change the setup for the entire View composition surface, and the framework doesn&#39;t want to let you do that.\r\n\r\nThe SurfaceView&#39;s surface is on a separate layer, composited independently, so you have much more freedom to alter its dimensions.\r\n\r\nSee also: [Android System-Level Graphics][1].\r\n\r\n\r\n  [1]: https://source.android.com/devices/graphics/architecture.html","title":"How to change the size of a window&#39;s surface?","body":"<p>All of the View-based UI is on a single layer (a/k/a window).  You can't change the surface scaling for a single View; that wouldn't make sense.  You'd have to change the setup for the entire View composition surface, and the framework doesn't want to let you do that.</p>\n\n<p>The SurfaceView's surface is on a separate layer, composited independently, so you have much more freedom to alter its dimensions.</p>\n\n<p>See also: <a href=\"https://source.android.com/devices/graphics/architecture.html\" rel=\"nofollow\">Android System-Level Graphics</a>.</p>\n"},{"tags":[],"owner":{"account_id":6609144,"reputation":170,"user_id":5104949,"display_name":"Vlad Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645430037,"creation_date":1531671252,"answer_id":51350069,"question_id":25213758,"body_markdown":"This is actually possible using NDK&#39;s [ANativeWindow_setBuffersGeometry][1]:\r\n\r\n\r\n  [1]: https://developer.android.com/ndk/reference/group/a-native-window#anativewindow_setbuffersgeometry\r\n\r\n    JNIEXPORT void JNICALL Java_com_organization_app_TestActivity_setBufferGeometry(JNIEnv *env, jobject thiz, jobject surface, jint width, jint height)\r\n    {\r\n        __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, &quot;setBufferGeometry(): %p %dx%d&quot;, surface, width, height);\r\n        ANativeWindow* window = ANativeWindow_fromSurface(env, surface);\r\n        __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, &quot;setBufferGeometry(): window: %p&quot;, window);\r\n        ANativeWindow_setBuffersGeometry(window, width, height, AHARDWAREBUFFER_FORMAT_R8G8B8X8_UNORM);\r\n    }\r\n\r\nJava Code:\r\n\r\n    private static native void setBufferGeometry(Surface surface, int width , int height );\r\n\r\n    @Override\r\n    public void surfaceChanged(SurfaceHolder holder, int format, int width, int height)\r\n    {\r\n        Log.d( TAG, &quot;surfaceChanged()...&quot;);\r\n        setBufferGeometry(holder.getSurface(), 768, 1366);\r\n        /* ... */\r\n\r\nFrom the ANativeWindow_setBuffersGeometry docs:\r\n\r\n&gt; Change the format and size of the window buffers.\r\n&gt; \r\n&gt; The width and height control the number of pixels in the buffers, not\r\n&gt; the dimensions of the window on screen. **If these are different than\r\n&gt; the window&#39;s physical size, then its buffer will be scaled to match\r\n&gt; that size when compositing it to the screen.**","title":"How to change the size of a window&#39;s surface?","body":"<p>This is actually possible using NDK's <a href=\"https://developer.android.com/ndk/reference/group/a-native-window#anativewindow_setbuffersgeometry\" rel=\"nofollow noreferrer\">ANativeWindow_setBuffersGeometry</a>:</p>\n<pre><code>JNIEXPORT void JNICALL Java_com_organization_app_TestActivity_setBufferGeometry(JNIEnv *env, jobject thiz, jobject surface, jint width, jint height)\n{\n    __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, &quot;setBufferGeometry(): %p %dx%d&quot;, surface, width, height);\n    ANativeWindow* window = ANativeWindow_fromSurface(env, surface);\n    __android_log_print(ANDROID_LOG_DEBUG, LOG_TAG, &quot;setBufferGeometry(): window: %p&quot;, window);\n    ANativeWindow_setBuffersGeometry(window, width, height, AHARDWAREBUFFER_FORMAT_R8G8B8X8_UNORM);\n}\n</code></pre>\n<p>Java Code:</p>\n<pre><code>private static native void setBufferGeometry(Surface surface, int width , int height );\n\n@Override\npublic void surfaceChanged(SurfaceHolder holder, int format, int width, int height)\n{\n    Log.d( TAG, &quot;surfaceChanged()...&quot;);\n    setBufferGeometry(holder.getSurface(), 768, 1366);\n    /* ... */\n</code></pre>\n<p>From the ANativeWindow_setBuffersGeometry docs:</p>\n<blockquote>\n<p>Change the format and size of the window buffers.</p>\n<p>The width and height control the number of pixels in the buffers, not\nthe dimensions of the window on screen. <strong>If these are different than\nthe window's physical size, then its buffer will be scaled to match\nthat size when compositing it to the screen.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":4865681,"reputation":21,"user_id":3924033,"display_name":"chai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1646841502,"creation_date":1407541175,"question_id":25213758,"body_markdown":"So I know that a `SurfaceView`&#39;s surface size can be changed by calling `setFixedSize()` on the `SurfaceHolder`, but when I try to do the same thing on an arbitrary window, one obtained from an activity, I cannot. Here&#39;s the relevant test code:\r\n\r\n    public class TestActivity extends Activity implements Callback2 {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            getWindow().takeSurface(this);\r\n        }\r\n\r\n        @Override\r\n        public void surfaceCreated(SurfaceHolder arg0) {\r\n            // TODO Auto-generated method stub\r\n            arg0.setFixedSize(300, 300);\r\n        }\r\n    }\r\n\r\nThis results in the following error log:\r\n\r\n&gt;01-15 23:21:46.111: E/AndroidRuntime(9748): FATAL EXCEPTION: main\r\n&gt;\r\n&gt;01-15 23:21:46.111: E/AndroidRuntime(9748): Process: com.example.windowtest, PID: 9748\r\n&gt;\r\n&gt;01-15 23:21:46.111: E/AndroidRuntime(9748): java.lang.UnsupportedOperationException: **Currently only support sizing from layout**\r\n&gt;\r\n&gt;01-15 23:21:46.111: E/AndroidRuntime(9748): at android.view.ViewRootImpl$TakenSurfaceHolder.setFixedSize(ViewRootImpl.java:6094)\r\n\r\nWhere by layout I suppose it means `WindowManager.LayoutParams` which would resize the Window&#39;s dimension as well. So is there no way to change the size of a Window&#39;s Surface without changing the Window&#39;s dimensions? I would think there is, since we can do it with `SurfaceView`, but I&#39;m not sure how.\r\n\r\n**Edit**: In addition, the `SurfaceView` `setFixedSize()` call results in a `requestLayout()`, which propagates up to an object that implements the `ViewParent` interface. What is this `ViewParent` object that is getting attached to the `SurfaceView` at runtime? Maybe then the logic behind how the surface buffer is getting resized will be clear.","title":"How to change the size of a window&#39;s surface?","body":"<p>So I know that a <code>SurfaceView</code>'s surface size can be changed by calling <code>setFixedSize()</code> on the <code>SurfaceHolder</code>, but when I try to do the same thing on an arbitrary window, one obtained from an activity, I cannot. Here's the relevant test code:</p>\n<pre><code>public class TestActivity extends Activity implements Callback2 {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        getWindow().takeSurface(this);\n    }\n\n    @Override\n    public void surfaceCreated(SurfaceHolder arg0) {\n        // TODO Auto-generated method stub\n        arg0.setFixedSize(300, 300);\n    }\n}\n</code></pre>\n<p>This results in the following error log:</p>\n<blockquote>\n<p>01-15 23:21:46.111: E/AndroidRuntime(9748): FATAL EXCEPTION: main</p>\n<p>01-15 23:21:46.111: E/AndroidRuntime(9748): Process: com.example.windowtest, PID: 9748</p>\n<p>01-15 23:21:46.111: E/AndroidRuntime(9748): java.lang.UnsupportedOperationException: <strong>Currently only support sizing from layout</strong></p>\n<p>01-15 23:21:46.111: E/AndroidRuntime(9748): at android.view.ViewRootImpl$TakenSurfaceHolder.setFixedSize(ViewRootImpl.java:6094)</p>\n</blockquote>\n<p>Where by layout I suppose it means <code>WindowManager.LayoutParams</code> which would resize the Window's dimension as well. So is there no way to change the size of a Window's Surface without changing the Window's dimensions? I would think there is, since we can do it with <code>SurfaceView</code>, but I'm not sure how.</p>\n<p><strong>Edit</strong>: In addition, the <code>SurfaceView</code> <code>setFixedSize()</code> call results in a <code>requestLayout()</code>, which propagates up to an object that implements the <code>ViewParent</code> interface. What is this <code>ViewParent</code> object that is getting attached to the <code>SurfaceView</code> at runtime? Maybe then the logic behind how the surface buffer is getting resized will be clear.</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646841759,"post_id":71412250,"comment_id":126224842,"body_markdown":"We have 0 insights into your system. A quick look over your code: &quot;yes, that sounds reasonable&quot;. So, the only answer is: debugging is required. For example: simply add more LOG statements, for example in your BatchLauncher class. We have 0 idea what is going on in your system. We dont know your context, nothing.","body":"We have 0 insights into your system. A quick look over your code: &quot;yes, that sounds reasonable&quot;. So, the only answer is: debugging is required. For example: simply add more LOG statements, for example in your BatchLauncher class. We have 0 idea what is going on in your system. We dont know your context, nothing."},{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1646849206,"post_id":71412250,"comment_id":126227822,"body_markdown":"Hard to say for sure, but if your `ItemReader` is stateful you&#39;ll need to annotate its bean factory method with `@StepScope`. Same may apply for the other components.","body":"Hard to say for sure, but if your <code>ItemReader</code> is stateful you&#39;ll need to annotate its bean factory method with <code>@StepScope</code>. Same may apply for the other components."}],"owner":{"account_id":24438907,"reputation":13,"user_id":18362845,"display_name":"oussama oussama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646841399,"creation_date":1646841399,"question_id":71412250,"body_markdown":"    package com.wombatrack.configBatch;\r\n    \r\n    import com.wombatrack.domain.entites.UserInstagram;\r\n    import com.wombatrack.service.UserInstagramService;\r\n    \r\n    import org.springframework.batch.core.Job;\r\n    import org.springframework.batch.core.Step;\r\n    import org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\n    import org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\n    import org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\n    import org.springframework.batch.core.launch.support.RunIdIncrementer;\r\n    import org.springframework.batch.item.ItemProcessor;\r\n    import org.springframework.batch.item.ItemReader;\r\n    import org.springframework.batch.item.ItemWriter;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfig {\r\n    \r\n        @Bean\r\n        ItemReader&lt;UserInstagram&gt; restUserInstagramReader(UserInstagramService userInstagramService) {\r\n            return new RESTUserInstagramReader(userInstagramService);\r\n        }\r\n    \r\n        @Bean\r\n        ItemProcessor&lt;UserInstagram, UserInstagram&gt; restUserInstagramProcessor() {\r\n            return new LoggingUserInstagramProcessor();\r\n        }\r\n    \r\n        @Bean\r\n        ItemWriter&lt;UserInstagram&gt; restUserInstagramWriter() {\r\n            return new LoggingUserInstagramWriter();\r\n        }\r\n    \r\n        @Bean\r\n        Step restUserInstagramStep(ItemReader&lt;UserInstagram&gt; restUserInstagramReader,\r\n                ItemProcessor&lt;UserInstagram, UserInstagram&gt; restUserInstagramProcessor,\r\n                ItemWriter&lt;UserInstagram&gt; restUserInstagramWriter,\r\n                StepBuilderFactory stepBuilderFactory) {\r\n            return stepBuilderFactory.get(&quot;restUserInstagramStep&quot;)\r\n                    .&lt;UserInstagram, UserInstagram&gt;chunk(5)\r\n                    .reader(restUserInstagramReader)\r\n                    .processor(restUserInstagramProcessor)\r\n                    .writer(restUserInstagramWriter)\r\n                    .allowStartIfComplete(true)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        Job restUserInstagramJob(JobBuilderFactory jobBuilderFactory,\r\n                @Qualifier(&quot;restUserInstagramStep&quot;) Step restUserInstagramStep) {\r\n            return jobBuilderFactory.get(&quot;restUserInstagramJob&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .flow(restUserInstagramStep)\r\n                    .end()\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\n**I have a probleme with this peace  of code my job run first time, but after that return user null that mean busness ligique of job run one time whene the application start first time**\r\n\r\n```package com.wombatrack.configBatch;\r\n\r\nimport org.springframework.batch.core.BatchStatus;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.JobExecution;\r\nimport org.springframework.batch.core.JobParameters;\r\nimport org.springframework.batch.core.JobParametersBuilder;\r\nimport org.springframework.batch.core.JobParametersInvalidException;\r\nimport org.springframework.batch.core.launch.JobLauncher;\r\nimport org.springframework.batch.core.repository.JobExecutionAlreadyRunningException;\r\nimport org.springframework.batch.core.repository.JobInstanceAlreadyCompleteException;\r\nimport org.springframework.batch.core.repository.JobRestartException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class BatchLauncher {\r\n    @Autowired\r\n    private JobLauncher jobLauncher;\r\n    \r\n    @Autowired\r\n    private Job job;\r\n\r\n    public BatchStatus run() throws JobParametersInvalidException, JobExecutionAlreadyRunningException,\r\n            JobRestartException, JobInstanceAlreadyCompleteException {\r\n        JobParameters parameters = new JobParametersBuilder().addLong(&quot;time&quot;, System.currentTimeMillis())\r\n                .toJobParameters();\r\n        JobExecution jobExecution = jobLauncher.run(job, parameters);\r\n        return jobExecution.getStatus();\r\n    }\r\n    \r\n}\r\n ```\r\n\r\n** I put a schedular that will run every 20 seconds the job runs after every 20 seconds as expected, but the problem is that the business, i.e. the backup at the database level does not work no effect.\r\nthe job does its role only the first time after the application is started in the first time, but after that the scheduler makes the job run every 20 seconds but the information is not saved, I have a return every time the job with status COMPLETED but the job does nothing in terms of saving new data**\r\n\r\n```package com.wombatrack.configBatch;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Component\r\n@Slf4j\r\npublic class Schedular {\r\n\r\n    @Autowired\r\n    private BatchLauncher batchLauncher;\r\n\r\n    @Scheduled(fixedDelay = 20000)\r\n    public void perform() throws Exception {\r\n        log.info(&quot;Batch programm&amp;#xE9; pour tourner toutes les 20 secondes&quot;);\r\n        batchLauncher.run();\r\n    }\r\n}\r\n```\r\n\r\n**I don&#39;t have any idea how to do it to fix this problem, i debug application but \r\nI did not find any solution Please if someone can help me **\r\n","title":"This job run every 20s but noting saved in database, on the first time after first run the batch work but after that although the job is running","body":"<pre><code>package com.wombatrack.configBatch;\n\nimport com.wombatrack.domain.entites.UserInstagram;\nimport com.wombatrack.service.UserInstagramService;\n\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\nimport org.springframework.batch.item.ItemProcessor;\nimport org.springframework.batch.item.ItemReader;\nimport org.springframework.batch.item.ItemWriter;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableBatchProcessing\npublic class BatchConfig {\n\n    @Bean\n    ItemReader&lt;UserInstagram&gt; restUserInstagramReader(UserInstagramService userInstagramService) {\n        return new RESTUserInstagramReader(userInstagramService);\n    }\n\n    @Bean\n    ItemProcessor&lt;UserInstagram, UserInstagram&gt; restUserInstagramProcessor() {\n        return new LoggingUserInstagramProcessor();\n    }\n\n    @Bean\n    ItemWriter&lt;UserInstagram&gt; restUserInstagramWriter() {\n        return new LoggingUserInstagramWriter();\n    }\n\n    @Bean\n    Step restUserInstagramStep(ItemReader&lt;UserInstagram&gt; restUserInstagramReader,\n            ItemProcessor&lt;UserInstagram, UserInstagram&gt; restUserInstagramProcessor,\n            ItemWriter&lt;UserInstagram&gt; restUserInstagramWriter,\n            StepBuilderFactory stepBuilderFactory) {\n        return stepBuilderFactory.get(&quot;restUserInstagramStep&quot;)\n                .&lt;UserInstagram, UserInstagram&gt;chunk(5)\n                .reader(restUserInstagramReader)\n                .processor(restUserInstagramProcessor)\n                .writer(restUserInstagramWriter)\n                .allowStartIfComplete(true)\n                .build();\n    }\n\n    @Bean\n    Job restUserInstagramJob(JobBuilderFactory jobBuilderFactory,\n            @Qualifier(&quot;restUserInstagramStep&quot;) Step restUserInstagramStep) {\n        return jobBuilderFactory.get(&quot;restUserInstagramJob&quot;)\n                .incrementer(new RunIdIncrementer())\n                .flow(restUserInstagramStep)\n                .end()\n                .build();\n    }\n\n}\n</code></pre>\n<p><strong>I have a probleme with this peace  of code my job run first time, but after that return user null that mean busness ligique of job run one time whene the application start first time</strong></p>\n<pre><code>\nimport org.springframework.batch.core.BatchStatus;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.JobExecution;\nimport org.springframework.batch.core.JobParameters;\nimport org.springframework.batch.core.JobParametersBuilder;\nimport org.springframework.batch.core.JobParametersInvalidException;\nimport org.springframework.batch.core.launch.JobLauncher;\nimport org.springframework.batch.core.repository.JobExecutionAlreadyRunningException;\nimport org.springframework.batch.core.repository.JobInstanceAlreadyCompleteException;\nimport org.springframework.batch.core.repository.JobRestartException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class BatchLauncher {\n    @Autowired\n    private JobLauncher jobLauncher;\n    \n    @Autowired\n    private Job job;\n\n    public BatchStatus run() throws JobParametersInvalidException, JobExecutionAlreadyRunningException,\n            JobRestartException, JobInstanceAlreadyCompleteException {\n        JobParameters parameters = new JobParametersBuilder().addLong(&quot;time&quot;, System.currentTimeMillis())\n                .toJobParameters();\n        JobExecution jobExecution = jobLauncher.run(job, parameters);\n        return jobExecution.getStatus();\n    }\n    \n}\n</code></pre>\n<p>** I put a schedular that will run every 20 seconds the job runs after every 20 seconds as expected, but the problem is that the business, i.e. the backup at the database level does not work no effect.\nthe job does its role only the first time after the application is started in the first time, but after that the scheduler makes the job run every 20 seconds but the information is not saved, I have a return every time the job with status COMPLETED but the job does nothing in terms of saving new data**</p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Component\n@Slf4j\npublic class Schedular {\n\n    @Autowired\n    private BatchLauncher batchLauncher;\n\n    @Scheduled(fixedDelay = 20000)\n    public void perform() throws Exception {\n        log.info(&quot;Batch programm&amp;#xE9; pour tourner toutes les 20 secondes&quot;);\n        batchLauncher.run();\n    }\n}\n</code></pre>\n<p>**I don't have any idea how to do it to fix this problem, i debug application but\nI did not find any solution Please if someone can help me **</p>\n"},{"tags":["java","exception","struts2","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":20071439,"reputation":33,"user_id":14716112,"display_name":"aomer3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646841282,"creation_date":1646841282,"answer_id":71412224,"question_id":71411395,"body_markdown":"The issue is solved, kind of. The *ClassNotFoundException* error was due to the jar files not properly being added to the Web Deployment Assembly. Now that I readded them, that exception is no longer popping up on the console.\r\n\r\nA different issue is coming up and that is: There is no Action mapped for namespace [/] and action name [getTutorial] associated with context path [/Struts2Starter].\r\n\r\nI&#39;ll have to review my url-action mappings in the struts.xml file. And I will post that as a new question if need be.","title":"What could be causing the StrutsPrepareAndExecuteFilter ClassNotFoundException with Struts2 when using the latest Struts 2.5.29 version?","body":"<p>The issue is solved, kind of. The <em>ClassNotFoundException</em> error was due to the jar files not properly being added to the Web Deployment Assembly. Now that I readded them, that exception is no longer popping up on the console.</p>\n<p>A different issue is coming up and that is: There is no Action mapped for namespace [/] and action name [getTutorial] associated with context path [/Struts2Starter].</p>\n<p>I'll have to review my url-action mappings in the struts.xml file. And I will post that as a new question if need be.</p>\n"}],"owner":{"account_id":20071439,"reputation":33,"user_id":14716112,"display_name":"aomer3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646917810,"answer_count":1,"score":0,"last_activity_date":1646841282,"creation_date":1646837966,"question_id":71411395,"body_markdown":"I&#39;m building my first application with Struts2 and I&#39;m running into a *ClassNotFoundException* when I run the application. \r\n\r\nJust for some background. I used this link to download the latest Struts2 version 2.5.29 (tried using both the Full Distribution and Essential Dependencies only versions but getting the same ClassNotFoundException for both versions): https://struts.apache.org/download.cgi\r\n\r\nAfter downloading the Struts2 library, I added the jar files into my project, following this Struts 2 setting up tutorial from Java Brains(which asks you to add the jar files to both the project classpath and the WEB-INF lib folder): https://www.youtube.com/watch?v=LhjEgxJ080g&amp;list=PLB7BB551126EDD5E0&amp;index=3 \r\n\r\nHere are my Java files:\r\n\r\n**struts.xml**:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE struts PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n        \r\n&lt;struts&gt;\r\n\r\n\t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\r\n\t\t&lt;action name=&quot;getTutorial&quot; class=&quot;com.struts.action.TutorialAction&quot;&gt;\r\n\t\t\t&lt;result name=&quot;success&quot;&gt;/success.jsp&lt;/result&gt;\r\n\t\t\t&lt;result name=&quot;failure&quot;&gt;/error.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\t\r\n\t&lt;/package&gt;\r\n\r\n\r\n\r\n&lt;/struts&gt;\r\n```\r\n\r\n**web.xml:**\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\r\n  \r\n  &lt;display-name&gt;Struts2Starter&lt;/display-name&gt;\r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n  \r\n  &lt;filter&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n    \r\n&lt;/web-app&gt;\r\n```\r\n\r\n**TutorialAction:**\r\n\r\n```java\r\npackage com.struts.action;\r\n\r\npublic class TutorialAction {\r\n\t\r\n\tpublic String execute() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Hello from execute&quot;);\r\n\t\treturn &quot;success&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**And here is the error that I&#39;m getting:**\r\n\r\n```none\r\nMar 09, 2022 10:01:32 AM org.apache.coyote.AbstractProtocol init\r\nINFO: Initializing ProtocolHandler [&quot;http-nio-8081&quot;]\r\nMar 09, 2022 10:01:32 AM org.apache.catalina.startup.Catalina load\r\nINFO: Server initialization in [656] milliseconds\r\nMar 09, 2022 10:01:32 AM org.apache.catalina.core.StandardService startInternal\r\nINFO: Starting service [Catalina]\r\nMar 09, 2022 10:01:32 AM org.apache.catalina.core.StandardEngine startInternal\r\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.58]\r\nMar 09, 2022 10:01:37 AM org.apache.jasper.servlet.TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nMar 09, 2022 10:01:37 AM org.apache.catalina.core.ApplicationContext log\r\nINFO: No Spring WebApplicationInitializer types detected on classpath\r\nMar 09, 2022 10:01:38 AM org.apache.jasper.servlet.TldScanner scanJars\r\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\nMar 09, 2022 10:01:40 AM org.apache.catalina.core.StandardContext filterStart\r\nSEVERE: Exception starting filter [struts2]\r\njava.lang.ClassNotFoundException: org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:534)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:515)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:149)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:251)\r\n\tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:102)\r\n\tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n\r\nMar 09, 2022 10:01:40 AM org.apache.catalina.core.StandardContext startInternal\r\nSEVERE: One or more Filters failed to start. Full details will be found in the appropriate container log file\r\nMar 09, 2022 10:01:40 AM org.apache.catalina.core.StandardContext startInternal\r\nSEVERE: Context [/Struts2Starter] startup failed due to previous errors\r\nMar 09, 2022 10:01:40 AM org.apache.coyote.AbstractProtocol start\r\nINFO: Starting ProtocolHandler [&quot;http-nio-8081&quot;]\r\nMar 09, 2022 10:01:40 AM org.apache.catalina.startup.Catalina start\r\nINFO: Server startup in [8729] milliseconds\r\n```\r\n\r\n","title":"What could be causing the StrutsPrepareAndExecuteFilter ClassNotFoundException with Struts2 when using the latest Struts 2.5.29 version?","body":"<p>I'm building my first application with Struts2 and I'm running into a <em>ClassNotFoundException</em> when I run the application.</p>\n<p>Just for some background. I used this link to download the latest Struts2 version 2.5.29 (tried using both the Full Distribution and Essential Dependencies only versions but getting the same ClassNotFoundException for both versions): <a href=\"https://struts.apache.org/download.cgi\" rel=\"nofollow noreferrer\">https://struts.apache.org/download.cgi</a></p>\n<p>After downloading the Struts2 library, I added the jar files into my project, following this Struts 2 setting up tutorial from Java Brains(which asks you to add the jar files to both the project classpath and the WEB-INF lib folder): <a href=\"https://www.youtube.com/watch?v=LhjEgxJ080g&amp;list=PLB7BB551126EDD5E0&amp;index=3\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=LhjEgxJ080g&amp;list=PLB7BB551126EDD5E0&amp;index=3</a></p>\n<p>Here are my Java files:</p>\n<p><strong>struts.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE struts PUBLIC\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n        &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n        \n&lt;struts&gt;\n\n    &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\n        &lt;action name=&quot;getTutorial&quot; class=&quot;com.struts.action.TutorialAction&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;/success.jsp&lt;/result&gt;\n            &lt;result name=&quot;failure&quot;&gt;/error.jsp&lt;/result&gt;\n        &lt;/action&gt;\n    \n    &lt;/package&gt;\n\n\n\n&lt;/struts&gt;\n</code></pre>\n<p><strong>web.xml:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\n  \n  &lt;display-name&gt;Struts2Starter&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  \n  &lt;filter&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n    \n&lt;/web-app&gt;\n</code></pre>\n<p><strong>TutorialAction:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.struts.action;\n\npublic class TutorialAction {\n    \n    public String execute() {\n        \n        System.out.println(&quot;Hello from execute&quot;);\n        return &quot;success&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>And here is the error that I'm getting:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>Mar 09, 2022 10:01:32 AM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-nio-8081&quot;]\nMar 09, 2022 10:01:32 AM org.apache.catalina.startup.Catalina load\nINFO: Server initialization in [656] milliseconds\nMar 09, 2022 10:01:32 AM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service [Catalina]\nMar 09, 2022 10:01:32 AM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet engine: [Apache Tomcat/9.0.58]\nMar 09, 2022 10:01:37 AM org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nMar 09, 2022 10:01:37 AM org.apache.catalina.core.ApplicationContext log\nINFO: No Spring WebApplicationInitializer types detected on classpath\nMar 09, 2022 10:01:38 AM org.apache.jasper.servlet.TldScanner scanJars\nINFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nMar 09, 2022 10:01:40 AM org.apache.catalina.core.StandardContext filterStart\nSEVERE: Exception starting filter [struts2]\njava.lang.ClassNotFoundException: org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1407)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1215)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:534)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:515)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:149)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:251)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:102)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\n\nMar 09, 2022 10:01:40 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: One or more Filters failed to start. Full details will be found in the appropriate container log file\nMar 09, 2022 10:01:40 AM org.apache.catalina.core.StandardContext startInternal\nSEVERE: Context [/Struts2Starter] startup failed due to previous errors\nMar 09, 2022 10:01:40 AM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [&quot;http-nio-8081&quot;]\nMar 09, 2022 10:01:40 AM org.apache.catalina.startup.Catalina start\nINFO: Server startup in [8729] milliseconds\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1545133624,"post_id":53832173,"comment_id":94512871,"body_markdown":"Are you really want recursion here? why not just `i += 2`?","body":"Are you really want recursion here? why not just <code>i += 2</code>?"},{"owner":{"account_id":14009191,"reputation":189,"user_id":10118354,"display_name":"abu-ahmed al-khatiri"},"score":0,"creation_date":1545133967,"post_id":53832173,"comment_id":94513020,"body_markdown":"@oleg.cherednik yap! sorry, what the mean of value `2`?","body":"@oleg.cherednik yap! sorry, what the mean of value <code>2</code>?"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":1,"creation_date":1545134115,"post_id":53832173,"comment_id":94513093,"body_markdown":"`for (int i = 1; i &lt;= max; i += 2) System.out.println(i);`","body":"<code>for (int i = 1; i &lt;= max; i += 2) System.out.println(i);</code>"}],"answers":[{"tags":[],"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545136119,"creation_date":1545133766,"answer_id":53832392,"question_id":53832173,"body_markdown":"I&#39;ve re-written your method as follow:\r\n\r\n    import javax.swing.JOptionPane;\r\n    public class OddTest{\r\n        public static void odd(int a){\r\n\t\t    if (a &gt; 0){\r\n\t\t        if (a % 2 != 0){\r\n\t\t        \tSystem.out.println(a);\r\n\t\t        }\r\n\t\t        odd(--a);\r\n\t\t    }\r\n\t\t}\r\n\r\n        public static void main(String[] args){\r\n\t\t    int n = 0;\r\n\t\t    String str = JOptionPane.showInputDialog(null, &quot;make the limits = &quot;);\r\n\t\t    n = Integer.parseInt(str);\r\n\t\t    odd(n);\r\n\t\t    JOptionPane.showInputDialog(n);\r\n\t\t}\r\n    }\r\n\r\n&gt; The output is: 7, 5, 3, 1\r\n\r\nIf you want an ascending output, you&#39;ll write as follow:\r\n\r\n    import javax.swing.JOptionPane;\r\n    public class OddTest{\r\n        public static void odd(int a, int limit){\r\n\t\t    if (a &lt;= limit){\r\n\t\t        if (a % 2 != 0){\r\n\t\t        \tSystem.out.println(a);\r\n\t\t        }\r\n\t\t        odd(++a, limit);\r\n\t\t    }\r\n\t\t}\r\n\r\n        public static void main(String[] args){\r\n\t\t    int n = 0;\r\n\t\t    String str = JOptionPane.showInputDialog(null, &quot;make the limits = &quot;);\r\n\t\t    n = Integer.parseInt(str);\r\n\t\t    odd(0, n);\r\n\t\t    JOptionPane.showInputDialog(n);\r\n\t\t}\r\n    }\r\n\r\n&gt; The output is: 1, 3, 5, 7","title":"How to print odd numbers using recursive java with the limits = n","body":"<p>I've re-written your method as follow:</p>\n\n<pre><code>import javax.swing.JOptionPane;\npublic class OddTest{\n    public static void odd(int a){\n        if (a &gt; 0){\n            if (a % 2 != 0){\n                System.out.println(a);\n            }\n            odd(--a);\n        }\n    }\n\n    public static void main(String[] args){\n        int n = 0;\n        String str = JOptionPane.showInputDialog(null, \"make the limits = \");\n        n = Integer.parseInt(str);\n        odd(n);\n        JOptionPane.showInputDialog(n);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The output is: 7, 5, 3, 1</p>\n</blockquote>\n\n<p>If you want an ascending output, you'll write as follow:</p>\n\n<pre><code>import javax.swing.JOptionPane;\npublic class OddTest{\n    public static void odd(int a, int limit){\n        if (a &lt;= limit){\n            if (a % 2 != 0){\n                System.out.println(a);\n            }\n            odd(++a, limit);\n        }\n    }\n\n    public static void main(String[] args){\n        int n = 0;\n        String str = JOptionPane.showInputDialog(null, \"make the limits = \");\n        n = Integer.parseInt(str);\n        odd(0, n);\n        JOptionPane.showInputDialog(n);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The output is: 1, 3, 5, 7</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545134432,"creation_date":1545134084,"answer_id":53832466,"question_id":53832173,"body_markdown":"Why you want to use recursion. This is very simple using iteration:\r\n\r\n    public static void printOddNumbers(int max) {\r\n        for (int i = 1; i &lt;= max; i += 2)\r\n            System.out.println(i);\r\n    }\r\n\r\n**Using recursion:**\r\n\r\n    public static void main(String[] args) {\r\n        odd(7, 1);\r\n    }\r\n    \r\n    public static void odd(int max, int i) {\r\n        if (i &gt; max)\r\n            return;\r\n        if (i &gt; 1)\r\n            System.out.print(&quot;, &quot;);\r\n        System.out.print(i);\r\n        odd(max, i + 2);\r\n    }","title":"How to print odd numbers using recursive java with the limits = n","body":"<p>Why you want to use recursion. This is very simple using iteration:</p>\n\n<pre><code>public static void printOddNumbers(int max) {\n    for (int i = 1; i &lt;= max; i += 2)\n        System.out.println(i);\n}\n</code></pre>\n\n<p><strong>Using recursion:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    odd(7, 1);\n}\n\npublic static void odd(int max, int i) {\n    if (i &gt; max)\n        return;\n    if (i &gt; 1)\n        System.out.print(\", \");\n    System.out.print(i);\n    odd(max, i + 2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4148736,"reputation":2613,"user_id":3401778,"display_name":"nortontgueno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545135170,"creation_date":1545134152,"answer_id":53832493,"question_id":53832173,"body_markdown":"You can use like this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class OddCalc {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n            List&lt;Integer&gt; odds = OddCalc.odd(7);\r\n            Collections.reverse(odds);\r\n            System.out.println(odds);\r\n    \r\n        }\r\n    \r\n        public static List&lt;Integer&gt; odd(int a) {\r\n            return odd(a, new ArrayList&lt;Integer&gt;());\r\n        }\r\n    \r\n        private static List&lt;Integer&gt; odd(int a, List&lt;Integer&gt; odds) {\r\n    \r\n            if( a == 0 ) {\r\n                return odds;\r\n            }\r\n    \r\n            if( a % 2 != 0 ) {\r\n                odds.add(a);\r\n            }\r\n    \r\n            return odd(--a, odds);\r\n        }\r\n    }\r\n\r\nThe output will be `[1, 3, 5, 7]` and you can put the result in your `JPanel`.","title":"How to print odd numbers using recursive java with the limits = n","body":"<p>You can use like this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class OddCalc {\n\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; odds = OddCalc.odd(7);\n        Collections.reverse(odds);\n        System.out.println(odds);\n\n    }\n\n    public static List&lt;Integer&gt; odd(int a) {\n        return odd(a, new ArrayList&lt;Integer&gt;());\n    }\n\n    private static List&lt;Integer&gt; odd(int a, List&lt;Integer&gt; odds) {\n\n        if( a == 0 ) {\n            return odds;\n        }\n\n        if( a % 2 != 0 ) {\n            odds.add(a);\n        }\n\n        return odd(--a, odds);\n    }\n}\n</code></pre>\n\n<p>The output will be <code>[1, 3, 5, 7]</code> and you can put the result in your <code>JPanel</code>.</p>\n"},{"tags":[],"owner":{"account_id":5422342,"reputation":798,"user_id":4315620,"display_name":"Serhat Oz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1545136413,"creation_date":1545135345,"answer_id":53832795,"question_id":53832173,"body_markdown":"    import com.sun.deploy.util.StringUtils;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Main {\r\n    \r\n        static List&lt;String&gt; odds = new ArrayList&lt;&gt;();\r\n    \r\n        public static void main(String[] args) {\r\n            int n = 0;\r\n            String str = JOptionPane.showInputDialog(null, &quot;make the limits = &quot;);\r\n            n = Integer.parseInt(str);\r\n            printOdds(n);\r\n            String result = StringUtils.join(odds, &quot;, &quot;);\r\n            JOptionPane.showMessageDialog(null, result);\r\n        }\r\n    \r\n        static void printOdds(int n) {\r\n            if (n &lt; 1) return;\r\n            if (n%2 == 0) n--;\r\n            printOdds(n-2);\r\n            odds.add(String.valueOf(n));\r\n        }\r\n    }\r\n\r\nYou can use below code:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Main {\r\n    \r\n        static List&lt;String&gt; odds = new ArrayList&lt;&gt;();\r\n    \r\n        public static void main(String[] args) {\r\n            int n = 0;\r\n            String str = JOptionPane.showInputDialog(null, &quot;make the limits = &quot;);\r\n            n = Integer.parseInt(str);\r\n            printOdds(n);\r\n    \r\n            StringBuilder nameBuilder = new StringBuilder();\r\n            for (String oddNum : odds) {\r\n                nameBuilder.append(oddNum).append(&quot;,&quot;);\r\n            }\r\n            nameBuilder.deleteCharAt(nameBuilder.length() - 1);\r\n    \r\n            JOptionPane.showMessageDialog(null, nameBuilder.toString());\r\n        }\r\n    \r\n        static void printOdds(int n) {\r\n            if (n &lt; 1) return;\r\n            if (n%2 == 0) n--;\r\n            printOdds(n-2);\r\n            odds.add(String.valueOf(n));\r\n        }\r\n    }\r\n \r\nif you dont have any library other than jdk.","title":"How to print odd numbers using recursive java with the limits = n","body":"<pre><code>import com.sun.deploy.util.StringUtils;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JOptionPane;\n\npublic class Main {\n\n    static List&lt;String&gt; odds = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        int n = 0;\n        String str = JOptionPane.showInputDialog(null, \"make the limits = \");\n        n = Integer.parseInt(str);\n        printOdds(n);\n        String result = StringUtils.join(odds, \", \");\n        JOptionPane.showMessageDialog(null, result);\n    }\n\n    static void printOdds(int n) {\n        if (n &lt; 1) return;\n        if (n%2 == 0) n--;\n        printOdds(n-2);\n        odds.add(String.valueOf(n));\n    }\n}\n</code></pre>\n\n<p>You can use below code:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JOptionPane;\n\npublic class Main {\n\n    static List&lt;String&gt; odds = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        int n = 0;\n        String str = JOptionPane.showInputDialog(null, \"make the limits = \");\n        n = Integer.parseInt(str);\n        printOdds(n);\n\n        StringBuilder nameBuilder = new StringBuilder();\n        for (String oddNum : odds) {\n            nameBuilder.append(oddNum).append(\",\");\n        }\n        nameBuilder.deleteCharAt(nameBuilder.length() - 1);\n\n        JOptionPane.showMessageDialog(null, nameBuilder.toString());\n    }\n\n    static void printOdds(int n) {\n        if (n &lt; 1) return;\n        if (n%2 == 0) n--;\n        printOdds(n-2);\n        odds.add(String.valueOf(n));\n    }\n}\n</code></pre>\n\n<p>if you dont have any library other than jdk.</p>\n"},{"tags":[],"owner":{"account_id":1654043,"reputation":2659,"user_id":1524027,"display_name":"mnesarco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545137941,"creation_date":1545137941,"answer_id":53833576,"question_id":53832173,"body_markdown":"Better using streams:\r\n\r\n    \r\n      public static void odd(int max) {\r\n        int limit = (int)Math.ceil(max/2.0);\r\n        IntStream\r\n          .iterate(1, i -&gt; i+2)\r\n          .limit(limit)\r\n          .forEach(i -&gt; System.out.println(i));\r\n      }\r\n\r\n","title":"How to print odd numbers using recursive java with the limits = n","body":"<p>Better using streams:</p>\n\n<pre><code>  public static void odd(int max) {\n    int limit = (int)Math.ceil(max/2.0);\n    IntStream\n      .iterate(1, i -&gt; i+2)\n      .limit(limit)\n      .forEach(i -&gt; System.out.println(i));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11433074,"reputation":1,"user_id":8381262,"display_name":"puneet tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646841206,"creation_date":1646832021,"answer_id":71410022,"question_id":53832173,"body_markdown":"I follow the simplest approach I found.\r\n\r\n    package com.techbuddy.recursion;\r\n    public class EvenOrOdd {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint n = 10;\r\n\t\tfindEven(n);\r\n\t}\r\n\tprivate static void findEvenAndOdd(int n) {\r\n\r\n\t\tif(n&gt;=0) {\r\n\t\t\tif (n % 2 == 0) {\r\n\t\t\t\tSystem.out.println(&quot;The number&quot; + n + &quot;is Even&quot;);\r\n\t\t\t}\r\n\t\t\telse {\r\n\r\n\t\t\t\tSystem.out.println(&quot;The number&quot; + n + &quot;is Odd&quot;);\r\n\t\t\t}\r\n\t\t\tfindEven(--n);\r\n\t\t}\r\n\t }\r\n    }\r\n","title":"How to print odd numbers using recursive java with the limits = n","body":"<p>I follow the simplest approach I found.</p>\n<pre><code>package com.techbuddy.recursion;\npublic class EvenOrOdd {\n\npublic static void main(String[] args) {\n    int n = 10;\n    findEven(n);\n}\nprivate static void findEvenAndOdd(int n) {\n\n    if(n&gt;=0) {\n        if (n % 2 == 0) {\n            System.out.println(&quot;The number&quot; + n + &quot;is Even&quot;);\n        }\n        else {\n\n            System.out.println(&quot;The number&quot; + n + &quot;is Odd&quot;);\n        }\n        findEven(--n);\n    }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":14009191,"reputation":189,"user_id":10118354,"display_name":"abu-ahmed al-khatiri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4164,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53832795,"answer_count":6,"score":4,"last_activity_date":1646841206,"creation_date":1545132955,"question_id":53832173,"body_markdown":"I&#39;m a newbie of programming languages.\r\n\r\nI have the following code\r\n\r\n    import javax.swing.*;\r\n    \r\n    public class oddTest{\r\n    \r\n    public static void odd(int a){\r\n    \tif (a &lt; 0){\r\n    \t\tif (a % 2 != 0){\r\n    \t\ta++;\r\n    \t\t}\r\n    \t}\r\n    \todd(--a);\r\n    }\r\n    \r\n    public static void main(String[] args){\r\n    \tint n = 0;\r\n    \tString str = JOptionPane.showInputDialog(null, &quot;make the limits = &quot;);\r\n    \tn = Integer.parseInt(str);\r\n    \todd(n);\r\n    \tJOptionPane.showInputDialog(n);\r\n    }\r\n    }\r\n\r\nif i make the limits is `7`, the output should be :  \r\n\r\n&gt; the output : 1, 3, 5, 7 ","title":"How to print odd numbers using recursive java with the limits = n","body":"<p>I'm a newbie of programming languages.</p>\n\n<p>I have the following code</p>\n\n<pre><code>import javax.swing.*;\n\npublic class oddTest{\n\npublic static void odd(int a){\n    if (a &lt; 0){\n        if (a % 2 != 0){\n        a++;\n        }\n    }\n    odd(--a);\n}\n\npublic static void main(String[] args){\n    int n = 0;\n    String str = JOptionPane.showInputDialog(null, \"make the limits = \");\n    n = Integer.parseInt(str);\n    odd(n);\n    JOptionPane.showInputDialog(n);\n}\n}\n</code></pre>\n\n<p>if i make the limits is <code>7</code>, the output should be :  </p>\n\n<blockquote>\n  <p>the output : 1, 3, 5, 7 </p>\n</blockquote>\n"},{"tags":["java","arrays","json"],"answers":[{"tags":[],"owner":{"account_id":16515701,"reputation":159,"user_id":11933249,"display_name":"Achal Urankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646840973,"creation_date":1646840442,"answer_id":71412020,"question_id":71411826,"body_markdown":"\r\n```\r\npublic static JSONObject getObject(String itemToSearch, JSONArray array) {\r\n    for(int i = 0; i &lt; array.length(); i++) {\r\n        try {\r\n            JSONObject jsonObject = array.getJSONObject(i);\r\n            if (jsonObject.getString(&quot;seller&quot;).equals(itemToSearch)){\r\n                return jsonObject;\r\n            }\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nyou can use this function by sending array of sellers from your JSON\r\n```\r\nsellersArray = yourJSON.getJSONArray(&quot;sellers&quot;);\r\n```","title":"How to select the complete JSON node if any key-value pair matched inside the node?","body":"<pre><code>public static JSONObject getObject(String itemToSearch, JSONArray array) {\n    for(int i = 0; i &lt; array.length(); i++) {\n        try {\n            JSONObject jsonObject = array.getJSONObject(i);\n            if (jsonObject.getString(&quot;seller&quot;).equals(itemToSearch)){\n                return jsonObject;\n            }\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>you can use this function by sending array of sellers from your JSON</p>\n<pre><code>sellersArray = yourJSON.getJSONArray(&quot;sellers&quot;);\n</code></pre>\n"}],"owner":{"account_id":19047336,"reputation":195,"user_id":13906258,"display_name":"user13906258"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71412020,"answer_count":1,"score":0,"last_activity_date":1646840973,"creation_date":1646839664,"question_id":71411826,"body_markdown":"I have JSON some thing like below \r\n\r\n    {\r\n    \t&quot;title&quot;: &quot;seller_information&quot;,\r\n    \t&quot;sellers&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;seller&quot;: &quot;s1&quot;,\r\n    \t\t\t&quot;prod_on_sale&quot;: &quot;flowers&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;seller&quot;: &quot;s2&quot;,\r\n    \t\t\t&quot;prod_on_sale&quot;: &quot;pet_food&quot;\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;seller&quot;: &quot;s3&quot;,\r\n    \t\t\t&quot;prod_on_sale&quot;: &quot;vegatables&quot;\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\nI am aware how to iterate through JSON Array based on key and extract the values of that particular key. But stuck with one scenario let say instead of key i have value with if i have value &#39;s1&#39; with me i want to traverse through above JSON and if it matches with any value i want to extract the complete JSON related to that value &#39;s1&#39; like below\r\n\r\n     {\r\n       &quot;seller&quot;: &quot;s1&quot;,\r\n        &quot;prod_on_sale&quot;: &quot;flowers&quot;\r\n     }\r\n\r\nPlease suggest some idea how can i do this i am newbie to JSON. Thanks in advance.","title":"How to select the complete JSON node if any key-value pair matched inside the node?","body":"<p>I have JSON some thing like below</p>\n<pre><code>{\n    &quot;title&quot;: &quot;seller_information&quot;,\n    &quot;sellers&quot;: [\n        {\n            &quot;seller&quot;: &quot;s1&quot;,\n            &quot;prod_on_sale&quot;: &quot;flowers&quot;\n        },\n        {\n            &quot;seller&quot;: &quot;s2&quot;,\n            &quot;prod_on_sale&quot;: &quot;pet_food&quot;\n        },\n        {\n            &quot;seller&quot;: &quot;s3&quot;,\n            &quot;prod_on_sale&quot;: &quot;vegatables&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I am aware how to iterate through JSON Array based on key and extract the values of that particular key. But stuck with one scenario let say instead of key i have value with if i have value 's1' with me i want to traverse through above JSON and if it matches with any value i want to extract the complete JSON related to that value 's1' like below</p>\n<pre><code> {\n   &quot;seller&quot;: &quot;s1&quot;,\n    &quot;prod_on_sale&quot;: &quot;flowers&quot;\n }\n</code></pre>\n<p>Please suggest some idea how can i do this i am newbie to JSON. Thanks in advance.</p>\n"},{"tags":["java","apache-kafka","quarkus","vert.x"],"answers":[{"tags":[],"owner":{"account_id":16496581,"reputation":96,"user_id":13349153,"display_name":"Adam Rumiński"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646840602,"creation_date":1646840602,"answer_id":71412066,"question_id":71349683,"body_markdown":"You have to use same @Identifier(&quot;responses&quot;) near your injection point. It&#39;s because @Identifier have @Qualifier over it.","title":"Quarkus exception Loading KafkaConsumerRebalanceListener","body":"<p>You have to use same @Identifier(&quot;responses&quot;) near your injection point. It's because @Identifier have @Qualifier over it.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71412066,"answer_count":1,"score":0,"last_activity_date":1646840602,"creation_date":1646388173,"question_id":71349683,"body_markdown":"Having this Listener `KafkaConsumerRebalanceListener`  class\r\n\r\n    @ApplicationScoped\r\n    @Identifier(&quot;responses&quot;)\r\n    public class KafkaPartitionListener implements KafkaConsumerRebalanceListener {\r\n    \r\n    \tprivate static final Logger logger = Logger.getLogger(KafkaPartitionListener.class);\r\n    \r\n    \tpublic Option&lt;Integer&gt; partition;\r\n    \r\n    \t@Override\r\n    \tpublic void onPartitionsAssigned(Consumer&lt;?, ?&gt; consumer, Collection&lt;TopicPartition&gt; partitions) {\r\n    \t\tlogger.info(&quot;Topic partition collection received. Assigning partition&quot;);\r\n    \t\tpartition = List.ofAll(partitions)\r\n    \t\t\t.headOption()\r\n    \t\t\t.map(tp -&gt; {\r\n    \t\t\t\tlogger.infov(&quot;Partition={0} assigned&quot;, tp.partition());\r\n    \t\t\t\treturn tp.partition();\r\n    \t\t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I add into my `application.properties` file\r\n\r\n    mp.messaging.incoming.responses.consumer-rebalance-listener.name=responses\r\n\r\nAnd adding this dependency into another class\r\n\r\n    @Inject\r\n    KafkaPartitionListener partitionListener;\r\n\r\n\r\nI&#39;m having this exception when I run the service\r\n\r\n    java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n    \t[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type com.KafkaPartitionListener and qualifiers [@Default]\r\n    \t- java member: com.rest.Controller#partitionListener\r\n    \t- declared on CLASS bean [types=[com.rest.Controller, java.lang.Object], qualifiers=[@Default, @Any], target=com.rest.Controller]\r\n    \tThe following beans match by type, but none have matching qualifiers:\r\n    \t\t- Bean [class=com.KafkaPartitionListener, qualifiers=[@Identifier(value = &quot;responses&quot;), @Any]]\r\n    \tat io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1100)\r\n    \tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:265)\r\n    \tat io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:129)\r\n    \tat io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:418)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:820)\r\n    \tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n    \tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    \tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\nAny idea what&#39;s wrong?\r\n\r\nRegards","title":"Quarkus exception Loading KafkaConsumerRebalanceListener","body":"<p>Having this Listener <code>KafkaConsumerRebalanceListener</code>  class</p>\n<pre><code>@ApplicationScoped\n@Identifier(&quot;responses&quot;)\npublic class KafkaPartitionListener implements KafkaConsumerRebalanceListener {\n\n    private static final Logger logger = Logger.getLogger(KafkaPartitionListener.class);\n\n    public Option&lt;Integer&gt; partition;\n\n    @Override\n    public void onPartitionsAssigned(Consumer&lt;?, ?&gt; consumer, Collection&lt;TopicPartition&gt; partitions) {\n        logger.info(&quot;Topic partition collection received. Assigning partition&quot;);\n        partition = List.ofAll(partitions)\n            .headOption()\n            .map(tp -&gt; {\n                logger.infov(&quot;Partition={0} assigned&quot;, tp.partition());\n                return tp.partition();\n            });\n    }\n\n}\n</code></pre>\n<p>When I add into my <code>application.properties</code> file</p>\n<pre><code>mp.messaging.incoming.responses.consumer-rebalance-listener.name=responses\n</code></pre>\n<p>And adding this dependency into another class</p>\n<pre><code>@Inject\nKafkaPartitionListener partitionListener;\n</code></pre>\n<p>I'm having this exception when I run the service</p>\n<pre><code>java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type com.KafkaPartitionListener and qualifiers [@Default]\n    - java member: com.rest.Controller#partitionListener\n    - declared on CLASS bean [types=[com.rest.Controller, java.lang.Object], qualifiers=[@Default, @Any], target=com.rest.Controller]\n    The following beans match by type, but none have matching qualifiers:\n        - Bean [class=com.KafkaPartitionListener, qualifiers=[@Identifier(value = &quot;responses&quot;), @Any]]\n    at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1100)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:265)\n    at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:129)\n    at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:418)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:820)\n    at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>Any idea what's wrong?</p>\n<p>Regards</p>\n"},{"tags":["java","android","retrofit2","okhttp"],"comments":[{"owner":{"account_id":19030786,"reputation":268,"user_id":13892944,"display_name":"foseja"},"score":0,"creation_date":1656669866,"post_id":71411925,"comment_id":128634149,"body_markdown":"have you found any solutions to it? I am having exactly same issue you described.","body":"have you found any solutions to it? I am having exactly same issue you described."},{"owner":{"account_id":7991674,"reputation":385,"user_id":6029353,"display_name":"TheLetch"},"score":1,"creation_date":1656939347,"post_id":71411925,"comment_id":128685892,"body_markdown":"Yes. It was due to the line ```updateLoadingStatus```.  I wasn&#39;t updating the baseviewmodel","body":"Yes. It was due to the line <code>updateLoadingStatus</code>.  I wasn&#39;t updating the baseviewmodel"}],"owner":{"account_id":7991674,"reputation":385,"user_id":6029353,"display_name":"TheLetch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646840073,"creation_date":1646840073,"question_id":71411925,"body_markdown":"I can see. the response from the logs since I have added a logger to my okhttp3 client, but for some reason, nothing happens after that. No error, nothing. I have tried on the virtual device and the physical one. \r\n```retrofit 2.3, gson 2.8.6```\r\nHere is my interceptor\r\n   \r\n\r\n&gt;     @Override\r\n&gt;     public Response intercept(@NonNull Chain chain) throws IOException {\r\n&gt; \r\n&gt;         try {\r\n&gt;             Response response = chain.proceed(chain.request());\r\n&gt;             Request request = chain.request();\r\n&gt; \r\n&gt;             AppLogger.d(&quot;url from interceptor:&quot; + response.request().url());\r\n&gt;             AppLogger.d(&quot;request headers from interceptor:&quot; + response.request().headers());\r\n&gt;             AppLogger.d(&quot;response code from interceptor:&quot; + response.code());\r\n&gt;             int responseCode = response.code();\r\n&gt;             String oldToken = mPreferencesHelper.getToken();\r\n&gt;             if (responseCode == ERROR_NETWORK) {\r\n&gt;                 showNetworkError();\r\n&gt;             } else if (responseCode == 401 || responseCode == 403) {\r\n&gt;                 if (oldToken != null || request.header(ApiStatics.HEADER_AUTHORIZATION_HEADER) != null) {\r\n&gt;                     tryRefreshToken();\r\n&gt;                     response = chain.proceed(request);\r\n&gt; \r\n&gt;                 } else {\r\n&gt;                     openAuthActivity();\r\n&gt;                 }\r\n&gt;             } else if (!response.isSuccessful()) {\r\n&gt;                 if (response.body() != null) {\r\n&gt; \r\n&gt;                     try {\r\n&gt; \r\n&gt;                         onWeoutResponseErrorListener.onNext(response.body());\r\n&gt;                     } catch (OnErrorNotImplementedException e) {\r\n&gt;                         AppLogger.d(e, &quot;ServerResponseInterceptor&quot;);\r\n&gt;                     } catch (NullPointerException e) {\r\n&gt;                         AppLogger.d(e, &quot;ServerResponseINterceptor&quot;);\r\n&gt;                     }\r\n&gt;                 } else AppLogger.e(new NullPointerException(), &quot;server returned no body &quot;);\r\n&gt;             }\r\n&gt;             return response;\r\n&gt;         }catch (NullPointerException e){\r\n&gt;             AppLogger.d(e, &quot;ServerResponseInterceptor&quot;);\r\n&gt;             openAuthActivity();\r\n&gt; \r\n&gt;             Response.Builder responseBuilder = new Response.Builder();\r\n&gt;             responseBuilder.code(404).message(e.getMessage()).request(chain.request()).protocol(Protocol.HTTP_2);\r\n&gt;             return  responseBuilder.build();\r\n&gt;         }\r\n&gt; \r\n&gt;     }\r\n\r\nI can see all the logs from both AppLogger and the interceptor I added on Okhttp3 client. But neither onResponse nor OnFailure get called.\r\n\r\nMy request below\r\n\r\n&gt;     Call&lt;PlaceListResponse&gt; call = dataManager.getApiHelper().getPlacesApiHelper().getPlaces(pagePlace, searchQuery, null, mPlaceFilter, null, null, null);\r\n&gt;         AppLogger.d(call.request().url().host());\r\n&gt;         call.enqueue(new Callback&lt;PlaceListResponse&gt;() {\r\n&gt;             @Override\r\n&gt;             public void onResponse(@NonNull Call&lt;PlaceListResponse&gt; call, @NonNull Response&lt;PlaceListResponse&gt; response) {\r\n&gt;                 updateLoadingStatus(false);\r\n&gt;                 isLoadingNextPagePlaces.postValue(false);\r\n&gt;                 AppLogger.d(TAG + &quot; response places: &quot; + response.body());\r\n&gt;                 if (response.code() == 200) {\r\n&gt;                     if (response.body() != null) {\r\n&gt;                         PlaceListResponse responseBody = response.body();\r\n&gt;                         hasNextPlacesPage = responseBody.getNext() != null;\r\n&gt;                         List&lt;PlaceListResult&gt; places = responseBody.getResults();\r\n&gt;                         if (places.size() &gt; 0 &amp; places.size() &gt;10) places = places.subList(0,11);\r\n&gt;                         List&lt;WeOutItemViewModel&gt; placesViewModels = WeOutPlacesViewModel.this.getPlaceItemViewModels(places);\r\n&gt;                         List&lt;Double&gt; sortedDistances = WeOutPlacesViewModel.this.getSortedDistances(placesViewModels);\r\n&gt;                         List&lt;WeOutGroupedViewModels&gt; weOutGroupedViewModels = \r\n&gt;     getGroupedViewModels(placesViewModels,\r\n&gt;     sortedDistances);\r\n&gt;                         updateReceiver.postValue(weOutGroupedViewModels);\r\n&gt;                     } else {\r\n&gt;                         AppLogger.d(TAG + &quot; nothing loaded&quot;);\r\n&gt;                     }\r\n&gt; \r\n&gt;                 } else if (response.code() &gt;= 400 &amp;&amp; response.code() &lt; 500 &amp;&amp; response.code() != 404) {\r\n&gt;                     Timber.d(&quot;unregistered:&quot;, response.message());\r\n&gt;                     unregisteredAction();\r\n&gt;                 } else { //                    TODO:\r\n&gt;                     Timber.d(&quot;event error&quot;, response.toString(), WeOutViewModel.class.getName());\r\n&gt;                     Timber.e(&quot;event error&quot; + response.code());\r\n&gt;                     Timber.e(&quot;event response header&quot; + response.headers());\r\n&gt;                     Timber.e(&quot;event request header&quot; + response.raw().request().headers());\r\n&gt;                     Timber.e(&quot;event request header&quot; + response.raw().request().header(&quot;Authorization&quot;));\r\n&gt;                 }\r\n&gt;             }\r\n&gt; \r\n&gt;             @Override\r\n&gt;             public void onFailure(Call&lt;PlaceListResponse&gt; call, Throwable t) {\r\n&gt;                 updateLoadingStatus(false); //                isLoadingPlaces.set(false);\r\n&gt;                 isLoadingNextPagePlaces.postValue(false);\r\n&gt;                 Timber.e(TAG + t.getMessage() + &quot;error loading places&quot;);\r\n&gt;                 Timber.e(t, TAG);\r\n&gt;                 call.cancel();\r\n&gt;                 errorListener.postValue(ERROR_NETWORK);\r\n&gt;             }\r\n&gt;         });\r\n\r\n","title":"Retrofit not returning, event when the response is 200","body":"<p>I can see. the response from the logs since I have added a logger to my okhttp3 client, but for some reason, nothing happens after that. No error, nothing. I have tried on the virtual device and the physical one.\n<code>retrofit 2.3, gson 2.8.6</code>\nHere is my interceptor</p>\n<blockquote>\n<pre><code>@Override\npublic Response intercept(@NonNull Chain chain) throws IOException {\n\n    try {\n        Response response = chain.proceed(chain.request());\n        Request request = chain.request();\n\n        AppLogger.d(&quot;url from interceptor:&quot; + response.request().url());\n        AppLogger.d(&quot;request headers from interceptor:&quot; + response.request().headers());\n        AppLogger.d(&quot;response code from interceptor:&quot; + response.code());\n        int responseCode = response.code();\n        String oldToken = mPreferencesHelper.getToken();\n        if (responseCode == ERROR_NETWORK) {\n            showNetworkError();\n        } else if (responseCode == 401 || responseCode == 403) {\n            if (oldToken != null || request.header(ApiStatics.HEADER_AUTHORIZATION_HEADER) != null) {\n                tryRefreshToken();\n                response = chain.proceed(request);\n\n            } else {\n                openAuthActivity();\n            }\n        } else if (!response.isSuccessful()) {\n            if (response.body() != null) {\n\n                try {\n\n                    onWeoutResponseErrorListener.onNext(response.body());\n                } catch (OnErrorNotImplementedException e) {\n                    AppLogger.d(e, &quot;ServerResponseInterceptor&quot;);\n                } catch (NullPointerException e) {\n                    AppLogger.d(e, &quot;ServerResponseINterceptor&quot;);\n                }\n            } else AppLogger.e(new NullPointerException(), &quot;server returned no body &quot;);\n        }\n        return response;\n    }catch (NullPointerException e){\n        AppLogger.d(e, &quot;ServerResponseInterceptor&quot;);\n        openAuthActivity();\n\n        Response.Builder responseBuilder = new Response.Builder();\n        responseBuilder.code(404).message(e.getMessage()).request(chain.request()).protocol(Protocol.HTTP_2);\n        return  responseBuilder.build();\n    }\n\n}\n</code></pre>\n</blockquote>\n<p>I can see all the logs from both AppLogger and the interceptor I added on Okhttp3 client. But neither onResponse nor OnFailure get called.</p>\n<p>My request below</p>\n<blockquote>\n<pre><code>Call&lt;PlaceListResponse&gt; call = dataManager.getApiHelper().getPlacesApiHelper().getPlaces(pagePlace, searchQuery, null, mPlaceFilter, null, null, null);\n    AppLogger.d(call.request().url().host());\n    call.enqueue(new Callback&lt;PlaceListResponse&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;PlaceListResponse&gt; call, @NonNull Response&lt;PlaceListResponse&gt; response) {\n            updateLoadingStatus(false);\n            isLoadingNextPagePlaces.postValue(false);\n            AppLogger.d(TAG + &quot; response places: &quot; + response.body());\n            if (response.code() == 200) {\n                if (response.body() != null) {\n                    PlaceListResponse responseBody = response.body();\n                    hasNextPlacesPage = responseBody.getNext() != null;\n                    List&lt;PlaceListResult&gt; places = responseBody.getResults();\n                    if (places.size() &gt; 0 &amp; places.size() &gt;10) places = places.subList(0,11);\n                    List&lt;WeOutItemViewModel&gt; placesViewModels = WeOutPlacesViewModel.this.getPlaceItemViewModels(places);\n                    List&lt;Double&gt; sortedDistances = WeOutPlacesViewModel.this.getSortedDistances(placesViewModels);\n                    List&lt;WeOutGroupedViewModels&gt; weOutGroupedViewModels = \ngetGroupedViewModels(placesViewModels,\nsortedDistances);\n                    updateReceiver.postValue(weOutGroupedViewModels);\n                } else {\n                    AppLogger.d(TAG + &quot; nothing loaded&quot;);\n                }\n\n            } else if (response.code() &gt;= 400 &amp;&amp; response.code() &lt; 500 &amp;&amp; response.code() != 404) {\n                Timber.d(&quot;unregistered:&quot;, response.message());\n                unregisteredAction();\n            } else { //                    TODO:\n                Timber.d(&quot;event error&quot;, response.toString(), WeOutViewModel.class.getName());\n                Timber.e(&quot;event error&quot; + response.code());\n                Timber.e(&quot;event response header&quot; + response.headers());\n                Timber.e(&quot;event request header&quot; + response.raw().request().headers());\n                Timber.e(&quot;event request header&quot; + response.raw().request().header(&quot;Authorization&quot;));\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;PlaceListResponse&gt; call, Throwable t) {\n            updateLoadingStatus(false); //                isLoadingPlaces.set(false);\n            isLoadingNextPagePlaces.postValue(false);\n            Timber.e(TAG + t.getMessage() + &quot;error loading places&quot;);\n            Timber.e(t, TAG);\n            call.cancel();\n            errorListener.postValue(ERROR_NETWORK);\n        }\n    });\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","checkbox","android-recyclerview"],"comments":[{"owner":{"account_id":4061727,"reputation":14535,"user_id":5699956,"accept_rate":70,"display_name":"Atiq"},"score":1,"creation_date":1516570546,"post_id":48371863,"comment_id":83730873,"body_markdown":"IMO, it would be best if save the checked state to your model class or in a list.","body":"IMO, it would be best if save the checked state to your model class or in a list."},{"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"score":0,"creation_date":1516571027,"post_id":48371863,"comment_id":83730997,"body_markdown":"@Max Would you suggest any posts/tutorials?","body":"@Max Would you suggest any posts/tutorials?"},{"owner":{"account_id":12531000,"reputation":1353,"user_id":9119277,"display_name":"Napster"},"score":1,"creation_date":1516572633,"post_id":48371863,"comment_id":83731450,"body_markdown":"Your implementation seems correct. You are keeping checkbox state saved in a list. Can you try one thing? Put this line at the top of `onBindView` after you check for the itemViewType, `(MatchingContact) viewHolder).check.setOnCheckedChangeListener(null)`","body":"Your implementation seems correct. You are keeping checkbox state saved in a list. Can you try one thing? Put this line at the top of <code>onBindView</code> after you check for the itemViewType, <code>(MatchingContact) viewHolder).check.setOnCheckedChangeListener(null)</code>"},{"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"score":0,"creation_date":1516573378,"post_id":48371863,"comment_id":83731653,"body_markdown":"@Napster Tried that, it didn&#39;t fix it. I am implementing Ugurcan&#39;s suggestion below, will keep you posted. I will be keeping the line of code you say above, as I do believe it is more helpful than harmful - from what I have read.","body":"@Napster Tried that, it didn&#39;t fix it. I am implementing Ugurcan&#39;s suggestion below, will keep you posted. I will be keeping the line of code you say above, as I do believe it is more helpful than harmful - from what I have read."},{"owner":{"account_id":6299077,"reputation":559,"user_id":4894238,"display_name":"Vitaly"},"score":0,"creation_date":1516977740,"post_id":48371863,"comment_id":83920157,"body_markdown":"@max is right! You should save the check state in your model. Also you can use this library, see ViewStates https://github.com/vivchar/RendererRecyclerViewAdapter","body":"@max is right! You should save the check state in your model. Also you can use this library, see ViewStates <a href=\"https://github.com/vivchar/RendererRecyclerViewAdapter\" rel=\"nofollow noreferrer\">github.com/vivchar/RendererRecyclerViewAdapter</a>"}],"answers":[{"tags":[],"owner":{"account_id":6824086,"reputation":6003,"user_id":5250273,"accept_rate":86,"display_name":"Ugurcan Yildirim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516571667,"creation_date":1516571667,"answer_id":48372098,"question_id":48371863,"body_markdown":"Have a `HashMap&lt;String, Boolean&gt;` instance inside your recycler adapter. Keys should be something that uniquely defines your each item, and values indicate whether item is checked or not. Whenever you click a checkbox, call `map.put(item.getId(), !map.get(item.getId())` (don&#39;t forget to check initial not-exist case). And finally inside `onBindViewHolder()` method, always set your item&#39;s checkbox according to the state hold in `HashMap`.","title":"How do I keep checkbox states while scrolling in recyclerView?","body":"<p>Have a <code>HashMap&lt;String, Boolean&gt;</code> instance inside your recycler adapter. Keys should be something that uniquely defines your each item, and values indicate whether item is checked or not. Whenever you click a checkbox, call <code>map.put(item.getId(), !map.get(item.getId())</code> (don't forget to check initial not-exist case). And finally inside <code>onBindViewHolder()</code> method, always set your item's checkbox according to the state hold in <code>HashMap</code>.</p>\n"},{"tags":[],"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516576324,"creation_date":1516576324,"answer_id":48372716,"question_id":48371863,"body_markdown":"Culprit is your `OnCheckedChangeListener` - keep in mind it fires off even when you change check state programatically.\r\n\r\nThis is what&#39;s currently happening with your implementation:\r\n\r\n 1. You bind ViewHolder 1 to position 0\r\n 2. You scroll down, ViewHolder 1 is removed\r\n 3. ViewHolder 1 is reused and bound to position 5 (example)\r\n\r\nThen this is executed:\r\n\r\n    ((MatchingContact) viewHolder).check.setChecked(theContactsList.get(5).isSelected);\r\n    ((MatchingContact) viewHolder).check.setTag(5);\r\n\r\nBut checkBox already has an `OnCheckedChangeListener` so it&#39;s executed as soon as `setChecked()` is called and this happens:\r\n\r\n    // 0 is the tag you assigned to a view, but we&#39;re binding item 5 now\r\n    theContactsList.get(0).setSelected(isChecked);\r\n\r\nYou effectively set your check state of position 0 to state of position 5 (which will most likely by false).\r\n\r\nYou&#39;re also creating a ton of `OnCheckedChangeListener` objects when scrolling through the list, you can create only one in ViewHolders constructor and it will work just as fine since it fetches current position when called.\r\n\r\nFor solution, simply move your `setTag()` higher (before `setChecked()`), but honestly you should use `getAdapterPosition()` in your `OnCheckedChangeListener` instead of a tag work around.","title":"How do I keep checkbox states while scrolling in recyclerView?","body":"<p>Culprit is your <code>OnCheckedChangeListener</code> - keep in mind it fires off even when you change check state programatically.</p>\n\n<p>This is what's currently happening with your implementation:</p>\n\n<ol>\n<li>You bind ViewHolder 1 to position 0</li>\n<li>You scroll down, ViewHolder 1 is removed</li>\n<li>ViewHolder 1 is reused and bound to position 5 (example)</li>\n</ol>\n\n<p>Then this is executed:</p>\n\n<pre><code>((MatchingContact) viewHolder).check.setChecked(theContactsList.get(5).isSelected);\n((MatchingContact) viewHolder).check.setTag(5);\n</code></pre>\n\n<p>But checkBox already has an <code>OnCheckedChangeListener</code> so it's executed as soon as <code>setChecked()</code> is called and this happens:</p>\n\n<pre><code>// 0 is the tag you assigned to a view, but we're binding item 5 now\ntheContactsList.get(0).setSelected(isChecked);\n</code></pre>\n\n<p>You effectively set your check state of position 0 to state of position 5 (which will most likely by false).</p>\n\n<p>You're also creating a ton of <code>OnCheckedChangeListener</code> objects when scrolling through the list, you can create only one in ViewHolders constructor and it will work just as fine since it fetches current position when called.</p>\n\n<p>For solution, simply move your <code>setTag()</code> higher (before <code>setChecked()</code>), but honestly you should use <code>getAdapterPosition()</code> in your <code>OnCheckedChangeListener</code> instead of a tag work around.</p>\n"},{"tags":[],"owner":{"account_id":8202963,"reputation":461,"user_id":6173702,"display_name":"R G"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1516604863,"creation_date":1516604863,"answer_id":48376238,"question_id":48371863,"body_markdown":"Try to use `viewHolder.setIsRecyclable(false);` at the top of your code :\r\n\r\n     @Override\r\n        public void onBindViewHolder(final RecyclerView.ViewHolder viewHolder, final int position) {\r\n        viewHolder.setIsRecyclable(false);\r\n    \r\n        //other stuff\r\n    }","title":"How do I keep checkbox states while scrolling in recyclerView?","body":"<p>Try to use <code>viewHolder.setIsRecyclable(false);</code> at the top of your code :</p>\n\n<pre><code> @Override\n    public void onBindViewHolder(final RecyclerView.ViewHolder viewHolder, final int position) {\n    viewHolder.setIsRecyclable(false);\n\n    //other stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18849412,"reputation":1,"user_id":13748906,"display_name":"Muhammad Shaheenshah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646840020,"creation_date":1646716432,"answer_id":71390320,"question_id":48371863,"body_markdown":"simply write this one line before calling your adapter.\r\n\r\n    recyclerView.setItemViewCacheSize(100000);","title":"How do I keep checkbox states while scrolling in recyclerView?","body":"<p>simply write this one line before calling your adapter.</p>\n<pre><code>recyclerView.setItemViewCacheSize(100000);\n</code></pre>\n"}],"owner":{"account_id":1442513,"reputation":2703,"user_id":1362184,"accept_rate":61,"display_name":"CHarris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1382,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1646840020,"creation_date":1516569859,"question_id":48371863,"body_markdown":"I&#39;ve looked [here][1] and [here][2] but I haven&#39;t been able to adapt these solutions to fix my problem. Can you help?\r\n\r\nI check checkboxes, scroll down in my `recyclerview`, when I scroll back up, checkboxes are unchecked, or else different ones are checked. \r\n\r\nI get why it&#39;s happening - as stated [here][2]: you should add a `boolean variable` into your `onBindViewHolder` to keep your item&#39;s selection status, which I believe I am doing with:\r\n\r\n    theContactsList.get(pos).setSelected(isChecked);\r\n\r\nbut still checkbox state is not preserved.\r\n\r\nHere&#39;s my code:\r\n\r\n      @Override\r\n        public void onBindViewHolder(final RecyclerView.ViewHolder viewHolder, final int position) {\r\n            //bind the views into the ViewHolder\r\n            //selectPhoneContact is an instance of the SelectPhoneContact class.\r\n            //We will assign each row of the recyclerview to contain details of selectPhoneContact:\r\n    \r\n            //The number of rows will match the number of phone contacts\r\n            final SelectPhoneContact selectPhoneContact = theContactsList.get(position);\r\n    \r\n            //if the row is a matching contact\r\n            if (viewHolder.getItemViewType() == 1)\r\n    \r\n            {\r\n                //in the title textbox in the row, put the corresponding name etc...\r\n                ((MatchingContact) viewHolder).title.setText(selectPhoneContact.getName());\r\n                ((MatchingContact) viewHolder).phone.setText(selectPhoneContact.getPhone());\r\n                //((MatchingContact) viewHolder).check.setText(&quot;Cheeckbox&quot; + position);\r\n                ((MatchingContact) viewHolder).check.setChecked(theContactsList.get(position).isSelected);\r\n                ((MatchingContact) viewHolder).check.setTag(position);\r\n    \r\n              //  ((MatchingContact) viewHolder).check.setChecked(selectPhoneContact.isSelected());\r\n    \r\n    \r\n    \r\n                ((MatchingContact) viewHolder).check.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n               // ((MatchingContact) viewHolder).check.setOnClickListener(new CompoundButton.OnClickListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked){\r\n                        //pos is the row number that the clicked checkbox exists in\r\n                        Integer pos = (Integer) ((MatchingContact) viewHolder).check.getTag();\r\n    \r\n                        //set the value of the checkbox accordingly onCheckedChange,\r\n                        //to true or false\r\n                        theContactsList.get(pos).setSelected(isChecked);\r\n    \r\n                        if(isChecked == true ) {\r\n                           // ((MatchingContact) viewHolder).check.setChecked(true);\r\n                            Toast.makeText(context_type, theContactsList.get(pos).getPhone() + &quot; clicked!&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                        }\r\n    \r\n                        else {\r\n                           // ((MatchingContact) viewHolder).check.setChecked(false);\r\n                            Toast.makeText(context_type, theContactsList.get(pos).getPhone() + &quot; unclicked!&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                        }\r\n    \r\n                    }\r\n                });\r\n                \r\n                }\r\n            \r\n        }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34255192/checkbox-visibility-changes-while-scrolling-recyclerview\r\n  [2]: https://stackoverflow.com/questions/32427889/checkbox-in-recyclerview-keeps-on-checking-different-items","title":"How do I keep checkbox states while scrolling in recyclerView?","body":"<p>I've looked <a href=\"https://stackoverflow.com/questions/34255192/checkbox-visibility-changes-while-scrolling-recyclerview\">here</a> and <a href=\"https://stackoverflow.com/questions/32427889/checkbox-in-recyclerview-keeps-on-checking-different-items\">here</a> but I haven't been able to adapt these solutions to fix my problem. Can you help?</p>\n\n<p>I check checkboxes, scroll down in my <code>recyclerview</code>, when I scroll back up, checkboxes are unchecked, or else different ones are checked. </p>\n\n<p>I get why it's happening - as stated <a href=\"https://stackoverflow.com/questions/32427889/checkbox-in-recyclerview-keeps-on-checking-different-items\">here</a>: you should add a <code>boolean variable</code> into your <code>onBindViewHolder</code> to keep your item's selection status, which I believe I am doing with:</p>\n\n<pre><code>theContactsList.get(pos).setSelected(isChecked);\n</code></pre>\n\n<p>but still checkbox state is not preserved.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>  @Override\n    public void onBindViewHolder(final RecyclerView.ViewHolder viewHolder, final int position) {\n        //bind the views into the ViewHolder\n        //selectPhoneContact is an instance of the SelectPhoneContact class.\n        //We will assign each row of the recyclerview to contain details of selectPhoneContact:\n\n        //The number of rows will match the number of phone contacts\n        final SelectPhoneContact selectPhoneContact = theContactsList.get(position);\n\n        //if the row is a matching contact\n        if (viewHolder.getItemViewType() == 1)\n\n        {\n            //in the title textbox in the row, put the corresponding name etc...\n            ((MatchingContact) viewHolder).title.setText(selectPhoneContact.getName());\n            ((MatchingContact) viewHolder).phone.setText(selectPhoneContact.getPhone());\n            //((MatchingContact) viewHolder).check.setText(\"Cheeckbox\" + position);\n            ((MatchingContact) viewHolder).check.setChecked(theContactsList.get(position).isSelected);\n            ((MatchingContact) viewHolder).check.setTag(position);\n\n          //  ((MatchingContact) viewHolder).check.setChecked(selectPhoneContact.isSelected());\n\n\n\n            ((MatchingContact) viewHolder).check.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n           // ((MatchingContact) viewHolder).check.setOnClickListener(new CompoundButton.OnClickListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked){\n                    //pos is the row number that the clicked checkbox exists in\n                    Integer pos = (Integer) ((MatchingContact) viewHolder).check.getTag();\n\n                    //set the value of the checkbox accordingly onCheckedChange,\n                    //to true or false\n                    theContactsList.get(pos).setSelected(isChecked);\n\n                    if(isChecked == true ) {\n                       // ((MatchingContact) viewHolder).check.setChecked(true);\n                        Toast.makeText(context_type, theContactsList.get(pos).getPhone() + \" clicked!\", Toast.LENGTH_SHORT).show();\n\n                    }\n\n                    else {\n                       // ((MatchingContact) viewHolder).check.setChecked(false);\n                        Toast.makeText(context_type, theContactsList.get(pos).getPhone() + \" unclicked!\", Toast.LENGTH_SHORT).show();\n\n                    }\n\n                }\n            });\n\n            }\n\n    }\n</code></pre>\n"},{"tags":["java","file-upload","websphere","tomcat6","java-io"],"answers":[{"tags":[],"owner":{"account_id":4620007,"reputation":229,"user_id":3745362,"display_name":"user3745362"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421083498,"creation_date":1421083498,"answer_id":27907493,"question_id":27907386,"body_markdown":"Based on the limited information here it will be very difficult to identify a cause.  Common suspects would be hitting time limits for either the duration of the request or starting the response back to the WebSphere plugin in the IBM HTTP Server (if being used); or possibly the size of the upload.  \r\n\r\nNot much else to go on here.","title":"Error: Connection close: Read failed. Possible end of stream encountered","body":"<p>Based on the limited information here it will be very difficult to identify a cause.  Common suspects would be hitting time limits for either the duration of the request or starting the response back to the WebSphere plugin in the IBM HTTP Server (if being used); or possibly the size of the upload.  </p>\n\n<p>Not much else to go on here.</p>\n"}],"owner":{"account_id":4464272,"reputation":163,"user_id":3632320,"display_name":"Aram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4990,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646839689,"creation_date":1421083164,"question_id":27907386,"body_markdown":"I tried to upload file via my web application and received the following message: \r\n **Connection close: Read failed. Possible end of stream encountered.**\r\n\r\nThis behavior is observed multiple time,\r\nworks on tomcat6 web server while continuously fails on WebSphere,\r\nthat makes me think that the problem should be on back-end side, rather than on browser side.\r\nThis is the error message:\r\n\r\n    org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. Connection close: Read failed.  Possible end of stream encountered. \r\n    \tat org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBaseo.java:359)\r\n    \tat org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:595)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1230)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:779)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:478)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:178)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1071)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3815)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)\r\n    \tat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:981)\r\n    \tat com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1662)\r\n    \tat com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:200)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:453)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:515)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:306)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:84)\r\n    \tat com.ibm.ws.tcp.channel.impl.WorkQueueManager.requestComplete(WorkQueueManager.java:558)\r\n    \tat com.ibm.ws.tcp.channel.impl.WorkQueueManager.attemptIO(WorkQueueManager.java:608)\r\n    \tat com.ibm.ws.tcp.channel.impl.WorkQueueManager.workerRun(WorkQueueManager.java:985)\r\n    \tat com.ibm.ws.tcp.channel.impl.WorkQueueManager$Worker.run(WorkQueueManager.java:1074)\r\n    \tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1702)\r\n    Caused by: java.io.IOException: Connection close: Read failed.  Possible end of stream encountered. \r\n    \tat com.ibm.ws.tcp.channel.impl.WorkQueueManager.attemptIO(WorkQueueManager.java:727)\r\n    \tat com.ibm.ws.tcp.channel.impl.WorkQueueManager.processWork(WorkQueueManager.java:342)\r\n    \tat com.ibm.ws.tcp.channel.impl.NioTCPReadRequestContextImpl.processSyncReadRequest(NioTCPReadRequestContextImpl.java:75)\r\n    \tat com.ibm.ws.tcp.channel.impl.TCPReadRequestContextImpl.read(TCPReadRequestContextImpl.java:111)\r\n    \tat com.ibm.ws.http.channel.impl.HttpServiceContextImpl.fillABuffer(HttpServiceContextImpl.java:4175)\r\n    \tat com.ibm.ws.http.channel.impl.HttpServiceContextImpl.readSingleBlock(HttpServiceContextImpl.java:3407)\r\n    \tat com.ibm.ws.http.channel.impl.HttpServiceContextImpl.readBodyBuffer(HttpServiceContextImpl.java:3513)\r\n    \tat com.ibm.ws.http.channel.inbound.impl.HttpInboundServiceContextImpl.getRequestBodyBuffer(HttpInboundServiceContextImpl.java:1791)\r\n    \tat com.ibm.ws.webcontainer.channel.WCCByteBufferInputStream.bufferIsGood(WCCByteBufferInputStream.java:371)\r\n    \tat com.ibm.ws.webcontainer.channel.WCCByteBufferInputStream.read(WCCByteBufferInputStream.java:265)\r\n    \tat com.ibm.ws.webcontainer.srt.http.HttpInputStream.read(HttpInputStream.java:322)\r\n    \tat org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:959)\r\n    \tat org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:887)\r\n    \tat java.io.InputStream.read(InputStream.java:82)\r\n    \tat org.apache.commons.fileupload.util.Streams.copy(Streams.java:94)\r\n    \tat org.apache.commons.fileupload.util.Streams.copy(Streams.java:64)\r\n    \tat org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:354)\r\n    \t... 27 more","title":"Error: Connection close: Read failed. Possible end of stream encountered","body":"<p>I tried to upload file via my web application and received the following message: \n <strong>Connection close: Read failed. Possible end of stream encountered.</strong></p>\n\n<p>This behavior is observed multiple time,\nworks on tomcat6 web server while continuously fails on WebSphere,\nthat makes me think that the problem should be on back-end side, rather than on browser side.\nThis is the error message:</p>\n\n<pre><code>org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. Connection close: Read failed.  Possible end of stream encountered. \n    at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBaseo.java:359)\n    at org.apache.commons.fileupload.servlet.ServletFileUpload.parseRequest(ServletFileUpload.java:126)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:595)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1230)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:779)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:478)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:178)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1071)\n    at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3815)\n    at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)\n    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:981)\n    at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1662)\n    at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:200)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:453)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:515)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:306)\n    at com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:84)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager.requestComplete(WorkQueueManager.java:558)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager.attemptIO(WorkQueueManager.java:608)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager.workerRun(WorkQueueManager.java:985)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager$Worker.run(WorkQueueManager.java:1074)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1702)\nCaused by: java.io.IOException: Connection close: Read failed.  Possible end of stream encountered. \n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager.attemptIO(WorkQueueManager.java:727)\n    at com.ibm.ws.tcp.channel.impl.WorkQueueManager.processWork(WorkQueueManager.java:342)\n    at com.ibm.ws.tcp.channel.impl.NioTCPReadRequestContextImpl.processSyncReadRequest(NioTCPReadRequestContextImpl.java:75)\n    at com.ibm.ws.tcp.channel.impl.TCPReadRequestContextImpl.read(TCPReadRequestContextImpl.java:111)\n    at com.ibm.ws.http.channel.impl.HttpServiceContextImpl.fillABuffer(HttpServiceContextImpl.java:4175)\n    at com.ibm.ws.http.channel.impl.HttpServiceContextImpl.readSingleBlock(HttpServiceContextImpl.java:3407)\n    at com.ibm.ws.http.channel.impl.HttpServiceContextImpl.readBodyBuffer(HttpServiceContextImpl.java:3513)\n    at com.ibm.ws.http.channel.inbound.impl.HttpInboundServiceContextImpl.getRequestBodyBuffer(HttpInboundServiceContextImpl.java:1791)\n    at com.ibm.ws.webcontainer.channel.WCCByteBufferInputStream.bufferIsGood(WCCByteBufferInputStream.java:371)\n    at com.ibm.ws.webcontainer.channel.WCCByteBufferInputStream.read(WCCByteBufferInputStream.java:265)\n    at com.ibm.ws.webcontainer.srt.http.HttpInputStream.read(HttpInputStream.java:322)\n    at org.apache.commons.fileupload.MultipartStream$ItemInputStream.makeAvailable(MultipartStream.java:959)\n    at org.apache.commons.fileupload.MultipartStream$ItemInputStream.read(MultipartStream.java:887)\n    at java.io.InputStream.read(InputStream.java:82)\n    at org.apache.commons.fileupload.util.Streams.copy(Streams.java:94)\n    at org.apache.commons.fileupload.util.Streams.copy(Streams.java:64)\n    at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:354)\n    ... 27 more\n</code></pre>\n"},{"tags":["java","geometry","generator","compatibility","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1644428446,"post_id":71054033,"comment_id":125606343,"body_markdown":"*&quot;I will suggest to add an option to the generator which turns off validation code since is not needed in many cases.&quot;* - It&#39;s not generated by default, you must have turned it on yourself...","body":"<i>&quot;I will suggest to add an option to the generator which turns off validation code since is not needed in many cases.&quot;</i> - It&#39;s not generated by default, you must have turned it on yourself..."},{"owner":{"account_id":1188911,"reputation":385,"user_id":1162239,"accept_rate":38,"display_name":"Gregor"},"score":0,"creation_date":1644428623,"post_id":71054033,"comment_id":125606413,"body_markdown":"You are right. Thanks for clarification.","body":"You are right. Thanks for clarification."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646839212,"creation_date":1644428918,"answer_id":71054362,"question_id":71054033,"body_markdown":"### Turning off spatial data type support\r\n\r\nStarting from jOOQ 3.17.0 and 3.16.5, you can turn off spatial data type support in jOOQ&#39;s code generator, in order to rever to the jOOQ 3.15 behaviour of generating a `SQLDataType.OTHER` type reference. For this, specify:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;generator&gt;\r\n    &lt;generate&gt;\r\n      &lt;spatialTypes&gt;false&lt;/spatialTypes&gt;\r\n    &lt;/generate&gt;\r\n  &lt;/generator&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n[This new code generation feature is documented here][1]\r\n\r\n### Your specific questions\r\n\r\n&gt; Also it would be great to adopt semantic versioning so users can know when to expect something to break.\r\n\r\nThe official stance on backwards compatibility is here:\r\nhttps://www.jooq.org/doc/latest/manual/getting-started/semantic-versioning/\r\n\r\nThere&#39;s an explicit section about code generation. One caveat is when we introduce new data types, in case of which existing converters / bindings (that assumed `Object`) stop working and need a migration. This has happened before for `XML`, `JSON` types, and now for `GEOMETRY`. I can&#39;t think of a reasonable way to prevent that, but the migration isn&#39;t too hard either.\r\n\r\n&gt; In 3.15 generator generates the following code [...]\r\n\r\nThe fact that your converter is no longer added to the generated code looks like a bug to me. Feel free to report it with some additional details, including your `CREATE TABLE` statement: https://github.com/jOOQ/jOOQ/issues/new/choose\r\n\r\n&gt; this leaves me with mentioned org.jooq.impl.Geometry class which I don&#39;t find useful (specially because it contains String - instead of more useful bytes (containing WKB or WKT data) and does not bring any added value (in terms of handling geography)).\r\n\r\nThe Spatial support project is vast, and it is far from complete. There were two options:\r\n\r\n1. Wait forever for the next release, which includes a more complete integration\r\n2. Ship an MVP which already adds quite a bit of value to those who wish to standardise over spatial extensions of different dialects.\r\n\r\nSome issues to keep an eye out for:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/12736\r\n- https://github.com/jOOQ/jOOQ/issues/12738 (this will restore the JTS bindings for you)\r\n\r\n&gt; As far as I can understand from the log The out of the box binding for geometry is available in the commercial jOOQ distribution only. Alternatively, you can implement your own custom binding. Jooq forced me to write my custom GeometryBinding class which will handle all I didn&#39;t need in the first place and worked in 3.15.\r\n\r\nI know this is the caveat when we introduce support for new types. But unfortunately, I don&#39;t see another solution for this. But is writing this binding really that much work? It should take 10 minutes...\r\n\r\n&gt; Jooq helps me save a lot of time during development but can take a lot of time when it is time to upgrade since I like to be kind of early adopter bringing (at least a) feedback back to the community so we can do great things!\r\n\r\nIs this really the case every time, or did you just get unlucky with this particular binding thing?\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-generate/codegen-generate-extended-types/","title":"Provide backwards compatibility for Geometry type in Jooq 3.16","body":"<h3>Turning off spatial data type support</h3>\n<p>Starting from jOOQ 3.17.0 and 3.16.5, you can turn off spatial data type support in jOOQ's code generator, in order to rever to the jOOQ 3.15 behaviour of generating a <code>SQLDataType.OTHER</code> type reference. For this, specify:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;generator&gt;\n    &lt;generate&gt;\n      &lt;spatialTypes&gt;false&lt;/spatialTypes&gt;\n    &lt;/generate&gt;\n  &lt;/generator&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-generate/codegen-generate-extended-types/\" rel=\"nofollow noreferrer\">This new code generation feature is documented here</a></p>\n<h3>Your specific questions</h3>\n<blockquote>\n<p>Also it would be great to adopt semantic versioning so users can know when to expect something to break.</p>\n</blockquote>\n<p>The official stance on backwards compatibility is here:\n<a href=\"https://www.jooq.org/doc/latest/manual/getting-started/semantic-versioning/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/getting-started/semantic-versioning/</a></p>\n<p>There's an explicit section about code generation. One caveat is when we introduce new data types, in case of which existing converters / bindings (that assumed <code>Object</code>) stop working and need a migration. This has happened before for <code>XML</code>, <code>JSON</code> types, and now for <code>GEOMETRY</code>. I can't think of a reasonable way to prevent that, but the migration isn't too hard either.</p>\n<blockquote>\n<p>In 3.15 generator generates the following code [...]</p>\n</blockquote>\n<p>The fact that your converter is no longer added to the generated code looks like a bug to me. Feel free to report it with some additional details, including your <code>CREATE TABLE</code> statement: <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/new/choose</a></p>\n<blockquote>\n<p>this leaves me with mentioned org.jooq.impl.Geometry class which I don't find useful (specially because it contains String - instead of more useful bytes (containing WKB or WKT data) and does not bring any added value (in terms of handling geography)).</p>\n</blockquote>\n<p>The Spatial support project is vast, and it is far from complete. There were two options:</p>\n<ol>\n<li>Wait forever for the next release, which includes a more complete integration</li>\n<li>Ship an MVP which already adds quite a bit of value to those who wish to standardise over spatial extensions of different dialects.</li>\n</ol>\n<p>Some issues to keep an eye out for:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/12736\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12736</a></li>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/12738\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/12738</a> (this will restore the JTS bindings for you)</li>\n</ul>\n<blockquote>\n<p>As far as I can understand from the log The out of the box binding for geometry is available in the commercial jOOQ distribution only. Alternatively, you can implement your own custom binding. Jooq forced me to write my custom GeometryBinding class which will handle all I didn't need in the first place and worked in 3.15.</p>\n</blockquote>\n<p>I know this is the caveat when we introduce support for new types. But unfortunately, I don't see another solution for this. But is writing this binding really that much work? It should take 10 minutes...</p>\n<blockquote>\n<p>Jooq helps me save a lot of time during development but can take a lot of time when it is time to upgrade since I like to be kind of early adopter bringing (at least a) feedback back to the community so we can do great things!</p>\n</blockquote>\n<p>Is this really the case every time, or did you just get unlucky with this particular binding thing?</p>\n"}],"owner":{"account_id":1188911,"reputation":385,"user_id":1162239,"accept_rate":38,"display_name":"Gregor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1646839212,"creation_date":1644427439,"question_id":71054033,"body_markdown":"first of all, I love using Jooq since it helps me efficiently ship the things I want to do. But one thing bothers me since the release of 3.16 bringing some new features. \r\n\r\nAlso it would be great to adopt semantic versioning so users can know when to expect something to break.\r\n\r\nIn second, 3.16 version brings `org.jooq.impl.Geometry` class which gets generated by default even if I use custom configuration (Converter to convert from byte array to jts) from previous version which did the job perfectly, see this config:\r\n```\r\n&lt;forcedType&gt;\r\n   &lt;types&gt;(geometry|GEOMETRY)&lt;/types&gt;\r\n   &lt;userType&gt;com.vividsolutions.jts.geom.Geometry&lt;/userType&gt;\r\n   &lt;converter&gt;com.example.GeometryConverter&lt;/converter&gt; &lt;!-- converts Object to com.vividsolutions.jts.geom.Geometry --&gt;\r\n&lt;/forcedType&gt;\r\n```\r\n\r\nIn 3.15 generator generates the following code\r\n\r\n```\r\ncreateField(DSL.name(&quot;geopoint&quot;), org.jooq.impl.DefaultDataType.getDefaultDataType(&quot;\\&quot;myDb\\&quot;.\\&quot;geopoint\\&quot;&quot;).nullable(false), this, &quot;&quot;, new GeometryConverter());\r\n```\r\n\r\nand in 3.16:\r\n\r\n```\r\ncreateField(DSL.name(&quot;geopoint&quot;), SQLDataType.GEOMETRY.nullable(false), this, &quot;&quot;)\r\n```\r\n\r\nthis leaves me with mentioned ```org.jooq.impl.Geometry``` class which I don&#39;t find useful (specially because it contains String - instead of more useful bytes (containing WKB or WKT data) and does not bring any added value (in terms of handling geography)).\r\n\r\nAs far as I can understand from the log\r\n```The out of the box binding for geometry is available in the commercial jOOQ distribution only. Alternatively, you can implement your own custom binding.``` Jooq forced me to write my custom GeometryBinding class which will handle all I didn&#39;t need in the first place and worked in 3.15.\r\n\r\nIs there a way to workaround this using configuration because [release notes][1] does not mention anything regarding this change or migration guide.\r\n\r\nJooq helps me save a lot of time during development but can take a lot of time when it is time to upgrade since I like to be kind of early adopter bringing (at least a) feedback back to the community so we can do great things!\r\n\r\nPS: Jakarta upgrade is another problem since Jooq is always on top of some framework which may not support Jakarta validation 3.x yet leaving us (early adopters) with compilation issues, but this is a common problem. I will suggest to add an option to the generator which turns off validation code since is not needed in many cases. \r\n\r\n\r\n  [1]: https://www.jooq.org/notes","title":"Provide backwards compatibility for Geometry type in Jooq 3.16","body":"<p>first of all, I love using Jooq since it helps me efficiently ship the things I want to do. But one thing bothers me since the release of 3.16 bringing some new features.</p>\n<p>Also it would be great to adopt semantic versioning so users can know when to expect something to break.</p>\n<p>In second, 3.16 version brings <code>org.jooq.impl.Geometry</code> class which gets generated by default even if I use custom configuration (Converter to convert from byte array to jts) from previous version which did the job perfectly, see this config:</p>\n<pre><code>&lt;forcedType&gt;\n   &lt;types&gt;(geometry|GEOMETRY)&lt;/types&gt;\n   &lt;userType&gt;com.vividsolutions.jts.geom.Geometry&lt;/userType&gt;\n   &lt;converter&gt;com.example.GeometryConverter&lt;/converter&gt; &lt;!-- converts Object to com.vividsolutions.jts.geom.Geometry --&gt;\n&lt;/forcedType&gt;\n</code></pre>\n<p>In 3.15 generator generates the following code</p>\n<pre><code>createField(DSL.name(&quot;geopoint&quot;), org.jooq.impl.DefaultDataType.getDefaultDataType(&quot;\\&quot;myDb\\&quot;.\\&quot;geopoint\\&quot;&quot;).nullable(false), this, &quot;&quot;, new GeometryConverter());\n</code></pre>\n<p>and in 3.16:</p>\n<pre><code>createField(DSL.name(&quot;geopoint&quot;), SQLDataType.GEOMETRY.nullable(false), this, &quot;&quot;)\n</code></pre>\n<p>this leaves me with mentioned <code>org.jooq.impl.Geometry</code> class which I don't find useful (specially because it contains String - instead of more useful bytes (containing WKB or WKT data) and does not bring any added value (in terms of handling geography)).</p>\n<p>As far as I can understand from the log\n<code>The out of the box binding for geometry is available in the commercial jOOQ distribution only. Alternatively, you can implement your own custom binding.</code> Jooq forced me to write my custom GeometryBinding class which will handle all I didn't need in the first place and worked in 3.15.</p>\n<p>Is there a way to workaround this using configuration because <a href=\"https://www.jooq.org/notes\" rel=\"nofollow noreferrer\">release notes</a> does not mention anything regarding this change or migration guide.</p>\n<p>Jooq helps me save a lot of time during development but can take a lot of time when it is time to upgrade since I like to be kind of early adopter bringing (at least a) feedback back to the community so we can do great things!</p>\n<p>PS: Jakarta upgrade is another problem since Jooq is always on top of some framework which may not support Jakarta validation 3.x yet leaving us (early adopters) with compilation issues, but this is a common problem. I will suggest to add an option to the generator which turns off validation code since is not needed in many cases.</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1416509535,"creation_date":1416509535,"answer_id":27047316,"question_id":27043492,"body_markdown":"Use a `RollingFile`&lt;sup&gt;&lt;b&gt; 1&lt;/b&gt;&lt;/sup&gt; with `TimeBasedTriggeringPolicy`&lt;sup&gt;&lt;b&gt; 2&lt;/b&gt;&lt;/sup&gt;. e.g.:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;RollingFile name=&quot;RollingFile&quot; \r\n                 fileName=&quot;/tmp/app.log&quot;\r\n\t             filePattern=&quot;/tmp/app%d{yyyy-MM-dd}.log&quot;&gt;\r\n        &lt;PatternLayout pattern=&quot;%d %p %c{1.} [%t] %m%n&quot; /&gt;\r\n        &lt;TimeBasedTriggeringPolicy /&gt;\r\n\t&lt;/RollingFile&gt;\r\n\r\nSee more in [*Apache Log4j 2 User&#39;s Guide*](http://logging.apache.org/log4j/2.x/manual/) [[**PDF**](http://logging.apache.org/log4j/2.x/log4j-users-guide.pdf)].\r\n\r\n---\r\n\r\n*Notes*\r\n\r\n1. [`org.apache.logging.log4j.core.appender.RollingFileAppender`](http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.html)\r\n2. [`org.apache.logging.log4j.core.appender.rolling.TimeBasedTriggeringPolicy`](http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/rolling/TimeBasedTriggeringPolicy.html)\r\n\r\n","title":"DailyRollingFileAppender alternative in Log4j 2x","body":"<p>Use a <code>RollingFile</code><sup><b> 1</b></sup> with <code>TimeBasedTriggeringPolicy</code><sup><b> 2</b></sup>. e.g.:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RollingFile name=\"RollingFile\" \n             fileName=\"/tmp/app.log\"\n             filePattern=\"/tmp/app%d{yyyy-MM-dd}.log\"&gt;\n    &lt;PatternLayout pattern=\"%d %p %c{1.} [%t] %m%n\" /&gt;\n    &lt;TimeBasedTriggeringPolicy /&gt;\n&lt;/RollingFile&gt;\n</code></pre>\n\n<p>See more in <a href=\"http://logging.apache.org/log4j/2.x/manual/\" rel=\"nofollow\"><em>Apache Log4j 2 User's Guide</em></a> [<a href=\"http://logging.apache.org/log4j/2.x/log4j-users-guide.pdf\" rel=\"nofollow\"><strong>PDF</strong></a>].</p>\n\n<hr>\n\n<p><em>Notes</em></p>\n\n<ol>\n<li><a href=\"http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.html\" rel=\"nofollow\"><code>org.apache.logging.log4j.core.appender.RollingFileAppender</code></a></li>\n<li><a href=\"http://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/rolling/TimeBasedTriggeringPolicy.html\" rel=\"nofollow\"><code>org.apache.logging.log4j.core.appender.rolling.TimeBasedTriggeringPolicy</code></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21179689,"reputation":31,"user_id":15574329,"display_name":"dashdee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646839177,"creation_date":1646839177,"answer_id":71411722,"question_id":27043492,"body_markdown":"If, like me, you&#39;re finally getting around to upgrading to log4j2 – because of the log4shell vulnerability – and you are accustomed to DailyRollingFileAppender rolling over at midnight, you should make that:\r\n\r\n    &lt;TimeBasedTriggeringPolicy modulate=&quot;true&quot; /&gt;","title":"DailyRollingFileAppender alternative in Log4j 2x","body":"<p>If, like me, you're finally getting around to upgrading to log4j2 – because of the log4shell vulnerability – and you are accustomed to DailyRollingFileAppender rolling over at midnight, you should make that:</p>\n<pre><code>&lt;TimeBasedTriggeringPolicy modulate=&quot;true&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":1010738,"reputation":8534,"user_id":1023368,"accept_rate":41,"display_name":"Alexander Bezrodniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6356,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":27047316,"answer_count":2,"score":1,"last_activity_date":1646839177,"creation_date":1416497839,"question_id":27043492,"body_markdown":"DailyRollingFileAppender was removed in Log4j 2x. What should be used instead?","title":"DailyRollingFileAppender alternative in Log4j 2x","body":"<p>DailyRollingFileAppender was removed in Log4j 2x. What should be used instead?</p>\n"},{"tags":["java","android","android-studio","numbers","double"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":5,"creation_date":1646839142,"post_id":71411697,"comment_id":126223682,"body_markdown":"`1.234567868E7` and `12345678.68` are exactly the same number.","body":"<code>1.234567868E7</code> and <code>12345678.68</code> are exactly the same number."},{"owner":{"account_id":185966,"reputation":527,"user_id":423017,"accept_rate":38,"display_name":"priyamtheone"},"score":0,"creation_date":1646839567,"post_id":71411697,"comment_id":126223853,"body_markdown":"@tkausl: Then how come they look different? And why Java is making `12345678.68` look like `1.234567868E7`? I need to know more of it to work further. Please explain it a bit.","body":"@tkausl: Then how come they look different? And why Java is making <code>12345678.68</code> look like <code>1.234567868E7</code>? I need to know more of it to work further. Please explain it a bit."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646839601,"post_id":71411697,"comment_id":126223869,"body_markdown":"The value has gone into the bundle as an object. Its superficial format is of no interest. Only when displaying might it be","body":"The value has gone into the bundle as an object. Its superficial format is of no interest. Only when displaying might it be"},{"owner":{"account_id":185966,"reputation":527,"user_id":423017,"accept_rate":38,"display_name":"priyamtheone"},"score":0,"creation_date":1646839780,"post_id":71411697,"comment_id":126223960,"body_markdown":"@g00se: OK. So how do I convert `1.234567868E7` back to `12345678.68` for displaying in proper order as it was in the beginning? Please explain it a bit further.","body":"@g00se: OK. So how do I convert <code>1.234567868E7</code> back to <code>12345678.68</code> for displaying in proper order as it was in the beginning? Please explain it a bit further."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1646840028,"post_id":71411697,"comment_id":126224052,"body_markdown":"`double` **literally** does not distinguish those two values, they are bit-for-bit the exact same value as long as they are stored in a `double`. The *only* place they differ is when you format that `double` as a string. If you care about *how the string looks like* then you need to change how you convert the `double` to a string, for example by using a `DecimalNumberFormat`.","body":"<code>double</code> <b>literally</b> does not distinguish those two values, they are bit-for-bit the exact same value as long as they are stored in a <code>double</code>. The <i>only</i> place they differ is when you format that <code>double</code> as a string. If you care about <i>how the string looks like</i> then you need to change how you convert the <code>double</code> to a string, for example by using a <code>DecimalNumberFormat</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1646840070,"post_id":71411697,"comment_id":126224067,"body_markdown":"String s = String.format(&quot;%.2f&quot;, d); is a possibility","body":"String s = String.format(&quot;%.2f&quot;, d); is a possibility"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1646840845,"post_id":71411697,"comment_id":126224440,"body_markdown":"Note: the number `1.234567868E7` means `1.234567868 * 10⁷` that is `12345678.68` (the decimal point is moved 7 position to the right)","body":"Note: the number <code>1.234567868E7</code> means <code>1.234567868 * 10⁷</code> that is <code>12345678.68</code> (the decimal point is moved 7 position to the right)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1646840925,"post_id":71411697,"comment_id":126224475,"body_markdown":"The real answer here: you have to step back and **research** how floating point numbers work. And what &quot;scientific notation&quot; is for example. As there are simply **multiple** ways how double values can be REPRESENTED as Strings.","body":"The real answer here: you have to step back and <b>research</b> how floating point numbers work. And what &quot;scientific notation&quot; is for example. As there are simply <b>multiple</b> ways how double values can be REPRESENTED as Strings."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1646840933,"post_id":71411697,"comment_id":126224478,"body_markdown":"Also note-  it isn&#39;t possible to store the exact fraction .68 in a binary value.  It will be very close to that value, but it will be slightly rounded to the nearest power of 2 combination.","body":"Also note-  it isn&#39;t possible to store the exact fraction .68 in a binary value.  It will be very close to that value, but it will be slightly rounded to the nearest power of 2 combination."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1646843284,"post_id":71411697,"comment_id":126225490,"body_markdown":"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems","body":"<a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"},{"owner":{"account_id":185966,"reputation":527,"user_id":423017,"accept_rate":38,"display_name":"priyamtheone"},"score":0,"creation_date":1646938632,"post_id":71411697,"comment_id":126253838,"body_markdown":"@JoachimSauer: I wrote: `DecimalFormat df = new DecimalFormat(&quot;#,###&quot;);` `df.setMaximumFractionDigits(340);` `String str = df.format(dbl);` But when I pass **1234567890.0123456789** as the double value, the return value becomes **1,234,567,890.0123458**. Similarly, when I pass **12345678.0123456789**, it returns **12,345,678.01234568**. You can see the fractional precision is lost. But when I pass **12345678.899**, it returns **12,345,678.899**. This time the precision is retained. Why is this happening randomly? How can I make sure the precision remains correct always? A little help, please.","body":"@JoachimSauer: I wrote: <code>DecimalFormat df = new DecimalFormat(&quot;#,###&quot;);</code> <code>df.setMaximumFractionDigits(340);</code> <code>String str = df.format(dbl);</code> But when I pass <b>1234567890.0123456789</b> as the double value, the return value becomes <b>1,234,567,890.0123458</b>. Similarly, when I pass <b>12345678.0123456789</b>, it returns <b>12,345,678.01234568</b>. You can see the fractional precision is lost. But when I pass <b>12345678.899</b>, it returns <b>12,345,678.899</b>. This time the precision is retained. Why is this happening randomly? How can I make sure the precision remains correct always? A little help, please."}],"owner":{"account_id":185966,"reputation":527,"user_id":423017,"accept_rate":38,"display_name":"priyamtheone"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1646840843,"answer_count":0,"score":0,"last_activity_date":1646839042,"creation_date":1646839042,"question_id":71411697,"body_markdown":"In Android Studio using Java, I&#39;m trying to assign the value `12345678.68d` to a double variable. But while running the programme, instead of the value I&#39;m trying to assign, the system is assigning `1.234567868E7` to the variable. Surprisingly, as long as I keep the original value to the &quot;one millionth&quot; position, i.e. `1234567.68d`, the correct value is assigned to the variable. The problem occurs as soon as I enter the &quot;ten millionth&quot; digit. Why is this mismatch happening?\r\n\r\nI need to pass the actual double value to another fragment/activity where I have to display it accurately using Bundle. So, how can I make sure that a double variable takes the exact double value that I assign to it instead of converting to a weird value?\r\n\r\nMy code follows. The problem occurs at Line 5, `Double dbl = 12345678.68d;`\r\n\r\n    @Override\r\n        public void onClick(View v) {\r\n            switch (v.getId()) {\r\n                case R.id.button1:\r\n                    Double dbl = 12345678.68d;\r\n    \r\n                    Bundle bundle = new Bundle();\r\n                    bundle.putDouble(&quot;id&quot;, dbl);\r\n                    bundle.putString(&quot;name&quot;, ((EditText) this.getView().findViewById(R.id.etName)).getText().toString());\r\n    \r\n                    getParentFragmentManager().beginTransaction()\r\n                            .setReorderingAllowed(true)\r\n                            .addToBackStack(null)\r\n                            .replace(R.id.fragment_container_view, SecondaryFragment.class, bundle).commit();\r\n                    break;\r\n                default:\r\n            }\r\n        }","title":"Is Java assigning incorrect value to double variable?","body":"<p>In Android Studio using Java, I'm trying to assign the value <code>12345678.68d</code> to a double variable. But while running the programme, instead of the value I'm trying to assign, the system is assigning <code>1.234567868E7</code> to the variable. Surprisingly, as long as I keep the original value to the &quot;one millionth&quot; position, i.e. <code>1234567.68d</code>, the correct value is assigned to the variable. The problem occurs as soon as I enter the &quot;ten millionth&quot; digit. Why is this mismatch happening?</p>\n<p>I need to pass the actual double value to another fragment/activity where I have to display it accurately using Bundle. So, how can I make sure that a double variable takes the exact double value that I assign to it instead of converting to a weird value?</p>\n<p>My code follows. The problem occurs at Line 5, <code>Double dbl = 12345678.68d;</code></p>\n<pre><code>@Override\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.button1:\n                Double dbl = 12345678.68d;\n\n                Bundle bundle = new Bundle();\n                bundle.putDouble(&quot;id&quot;, dbl);\n                bundle.putString(&quot;name&quot;, ((EditText) this.getView().findViewById(R.id.etName)).getText().toString());\n\n                getParentFragmentManager().beginTransaction()\n                        .setReorderingAllowed(true)\n                        .addToBackStack(null)\n                        .replace(R.id.fragment_container_view, SecondaryFragment.class, bundle).commit();\n                break;\n            default:\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":10643203,"reputation":541,"user_id":7837530,"display_name":"Geeth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646833995,"creation_date":1646833995,"answer_id":71410434,"question_id":71410209,"body_markdown":"why do you use `@Value(&quot;${package.default}&quot;)` in request body object? it should not work because they only mapped json into pojo object.  you can use and initiate default_id using `@Value(&quot;${package.default}&quot;)`  in your service class. after that you can set it your  `RequestObject` .","title":"value not injecting in @ReuqestBody POJO from application-dev.properties - SpringBoot Application","body":"<p>why do you use <code>@Value(&quot;${package.default}&quot;)</code> in request body object? it should not work because they only mapped json into pojo object.  you can use and initiate default_id using <code>@Value(&quot;${package.default}&quot;)</code>  in your service class. after that you can set it your  <code>RequestObject</code> .</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646838959,"creation_date":1646838959,"answer_id":71411674,"question_id":71410209,"body_markdown":"You can inject stuff(default values from application properties, other beans, etc.) only in spring managed components - those are classes annotated with `@Component`, `@Service` etc.\r\n\r\n`RequestObject`, being a class you map request body to, **is not**, and **should not** be a component.\r\n\r\nIn order to inject default value from application.properties you need custom deserializer, which is a bean, and register this deserializer with `ObjectMapper`.\r\n```\r\n@Component\r\npublic class RequestObjectDeserializer extends StdDeserializer&lt;RequestObject&gt; {\r\n\r\n    @Value(&quot;${your.property.here}&quot;)\r\n    private String defaultValue;\r\n\r\n    public RequestObjectDeserializer() {\r\n        super(RequestObject.class);\r\n    }\r\n\r\n    @Override\r\n    public RequestObject deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\r\n        //deserialize\r\n    }\r\n}\r\n```\r\nThen register it with already existing `Objectmapper`:\r\n```\r\n@Autowired\r\npublic void configObjectMapper(ObjectMapper objectMapper, RequestObjectDeserializer deserializer) {\r\n    SimpleModule module = new SimpleModule();\r\n    module.addDeserializer(RequestObject.class, deserializer);\r\n    objectMapper.registerModule(module);\r\n}\r\n```\r\nYou can add above in any `@Configuration` class.\r\n\r\nI&#39;d say keeping the default value as static field in `RequestObject`, and having the logic in setter, is better in this case.","title":"value not injecting in @ReuqestBody POJO from application-dev.properties - SpringBoot Application","body":"<p>You can inject stuff(default values from application properties, other beans, etc.) only in spring managed components - those are classes annotated with <code>@Component</code>, <code>@Service</code> etc.</p>\n<p><code>RequestObject</code>, being a class you map request body to, <strong>is not</strong>, and <strong>should not</strong> be a component.</p>\n<p>In order to inject default value from application.properties you need custom deserializer, which is a bean, and register this deserializer with <code>ObjectMapper</code>.</p>\n<pre><code>@Component\npublic class RequestObjectDeserializer extends StdDeserializer&lt;RequestObject&gt; {\n\n    @Value(&quot;${your.property.here}&quot;)\n    private String defaultValue;\n\n    public RequestObjectDeserializer() {\n        super(RequestObject.class);\n    }\n\n    @Override\n    public RequestObject deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\n        //deserialize\n    }\n}\n</code></pre>\n<p>Then register it with already existing <code>Objectmapper</code>:</p>\n<pre><code>@Autowired\npublic void configObjectMapper(ObjectMapper objectMapper, RequestObjectDeserializer deserializer) {\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(RequestObject.class, deserializer);\n    objectMapper.registerModule(module);\n}\n</code></pre>\n<p>You can add above in any <code>@Configuration</code> class.</p>\n<p>I'd say keeping the default value as static field in <code>RequestObject</code>, and having the logic in setter, is better in this case.</p>\n"}],"owner":{"account_id":15663434,"reputation":63,"user_id":11301841,"display_name":"Ananya Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71411674,"answer_count":2,"score":0,"last_activity_date":1646838959,"creation_date":1646833022,"question_id":71410209,"body_markdown":"I am new to Java SpringBoot and I am trying to inject a default value from application-dev.properties file.\r\nBasically, the idea is to set default value to RequestObject&#39;s id property, default value being injected(/fetched) from application-dev.properties.\r\n\r\nUseCase: In case, no data or blank data is being passed in request body of API, the code should set a default value (being injected/fetched from application-dev.properties).\r\n\r\nController Code\r\n\r\n    @RequestMapping(value = PATH, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    private @ResponseBody ResponseEntity&lt;ResponseBean&lt;ResponseObject&gt;&gt; postController(\r\n\t    final @Valid @RequestBody RequestObject request) throws Exception {\r\n\treturn serviceClass.service(request);\r\n    }\r\n\r\nI did the following in RequestObject Class code\r\n\r\n    public class RequestObject {\r\n    \r\n        @Value(&quot;${package.default}&quot;)\r\n    \tprivate String default_id;\r\n        private String id = default_id;\r\n        \r\n        public String getId() {\r\n\t     return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n     \tthis.id = !StringUtils.isBlank(id) ? id : default_id;\r\n    }\r\n\r\nThe above code is not working. \r\nPlease help or suggest a better way to achieve the requirement.\r\n\r\nNote: If I hardcode the id value like id=&quot;abcd&quot; while defining &amp; in setter method, the code is working. \r\n","title":"value not injecting in @ReuqestBody POJO from application-dev.properties - SpringBoot Application","body":"<p>I am new to Java SpringBoot and I am trying to inject a default value from application-dev.properties file.\nBasically, the idea is to set default value to RequestObject's id property, default value being injected(/fetched) from application-dev.properties.</p>\n<p>UseCase: In case, no data or blank data is being passed in request body of API, the code should set a default value (being injected/fetched from application-dev.properties).</p>\n<p>Controller Code</p>\n<pre><code>@RequestMapping(value = PATH, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\nprivate @ResponseBody ResponseEntity&lt;ResponseBean&lt;ResponseObject&gt;&gt; postController(\n    final @Valid @RequestBody RequestObject request) throws Exception {\nreturn serviceClass.service(request);\n}\n</code></pre>\n<p>I did the following in RequestObject Class code</p>\n<pre><code>public class RequestObject {\n\n    @Value(&quot;${package.default}&quot;)\n    private String default_id;\n    private String id = default_id;\n    \n    public String getId() {\n     return id;\n}\n\npublic void setId(String id) {\n    this.id = !StringUtils.isBlank(id) ? id : default_id;\n}\n</code></pre>\n<p>The above code is not working.\nPlease help or suggest a better way to achieve the requirement.</p>\n<p>Note: If I hardcode the id value like id=&quot;abcd&quot; while defining &amp; in setter method, the code is working.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646841476,"post_id":71411670,"comment_id":126224713,"body_markdown":"First I would suggest to use `&lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;` in your parent. In the module you would like to build with a different target just set the property like `&lt;maven.compiler.release&gt;8&lt;/maven.compiler.release&gt;`... Do not use `source` and `target` are simply wrong in such a case...","body":"First I would suggest to use <code>&lt;maven.compiler.release&gt;17&lt;&#47;maven.compiler.release&gt;</code> in your parent. In the module you would like to build with a different target just set the property like <code>&lt;maven.compiler.release&gt;8&lt;&#47;maven.compiler.release&gt;</code>... Do not use <code>source</code> and <code>target</code> are simply wrong in such a case..."},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1646841584,"post_id":71411670,"comment_id":126224764,"body_markdown":"As i understood, `maven.compiler.release `is a available from java 9, If i&#39;ll use it how it will effect the java8 module ?","body":"As i understood, <code>maven.compiler.release </code>is a available from java 9, If i&#39;ll use it how it will effect the java8 module ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646841702,"post_id":71411670,"comment_id":126224814,"body_markdown":"Yes the release options is available since JDK9+. `If i&#39;ll use it how it will effect the java8 module` I don&#39;t understand that sentence?","body":"Yes the release options is available since JDK9+. <code>If i&#39;ll use it how it will effect the java8 module</code> I don&#39;t understand that sentence?"},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1646841984,"post_id":71411670,"comment_id":126224928,"body_markdown":"`maven.compiler.release` is available since JDK9+. Can  I use it even if my module is using Java 8?  My code is compiled with JDK17 but the code itself is written as a java 8 app.","body":"<code>maven.compiler.release</code> is available since JDK9+. Can  I use it even if my module is using Java 8?  My code is compiled with JDK17 but the code itself is written as a java 8 app."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1646846953,"post_id":71411670,"comment_id":126227030,"body_markdown":"If you use JDK17 than you can of course build code which runs on a JVM 8 yes. `but the code itself is written as a java 8 app` ? Means of course you can only use api etc. which are only available from JDK8...","body":"If you use JDK17 than you can of course build code which runs on a JVM 8 yes. <code>but the code itself is written as a java 8 app</code> ? Means of course you can only use api etc. which are only available from JDK8..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1646848021,"post_id":71411670,"comment_id":126227414,"body_markdown":"`maven.compiler.release` is available in JDK17 regardless of the Java version you specify.","body":"<code>maven.compiler.release</code> is available in JDK17 regardless of the Java version you specify."},{"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"score":0,"creation_date":1646900670,"post_id":71411670,"comment_id":126239058,"body_markdown":"Is there a way to validate that my app is using only java 8 apis  ? What can you tell about the note that I added from maven&#39;s documentation ?","body":"Is there a way to validate that my app is using only java 8 apis  ? What can you tell about the note that I added from maven&#39;s documentation ?"}],"owner":{"account_id":5457896,"reputation":3732,"user_id":4340793,"accept_rate":61,"display_name":"JeyJ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646838953,"creation_date":1646838953,"question_id":71411670,"body_markdown":"I have a multi model project :\r\n\r\n    parent\r\n    ---shared.  (java8)\r\n    ---module1 (java8)\r\n    ---module2. (java17)\r\n\r\nIn the **parent** I set the following maven compiler plugin settings : \r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n**In module 1 I set the compiler target and source to 1.8 (Java 8)**. I build the parent (with JDK17) and as a result all the sub modules were also build. I opened the jar and checked one of the file to make sure that the files in module1 are compatible with java8 : \r\n\r\n    $ jar xf module1-1.0-SNAPSHOT.jar\r\n    $ file MyClass.class\r\n    MyClass.class: compiled Java class data, version 52.0 (Java 1.8)\r\n\r\nUp until now everything looks good. When going over the documentation of maven I found the following note : \r\n\r\n&gt; Note: Merely setting the target option does not guarantee that your code actually runs on a JRE with the specified version. The pitfall is unintended usage of APIs that only exist in later JREs which would make your code fail at runtime with a linkage error. To avoid this issue, you can either configure the compiler&#39;s boot classpath to match the target JRE, or use the Animal Sniffer Maven Plugin to verify your code doesn&#39;t use unintended APIs, or better yet use the release option supported since JDK 9. In the same way, setting the source option does not guarantee that your code actually compiles on a JDK with the specified version. To compile your code with a specific JDK version, different than the one used to launch Maven, refer to the Compile Using A Different JDK example.\r\n\r\n[src][1]\r\n\r\nSo does that mean that there is a chance that module1 will throw runtime errors for other java8 apps because of compatibility issues ?\r\n\r\nIn addition, According to [this post][1], since version 9 Java keeps compatibility only 3 versions backwards. Does that relevant only if my source and target were different (maven.compiler.source/target)? Or it might be relevant since I compile my project with JDK17 while the code is written Java 9.\r\n\r\nIt will be great if someone can make it clearer for me.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Compiling specific sub module to an older java version","body":"<p>I have a multi model project :</p>\n<pre><code>parent\n---shared.  (java8)\n---module1 (java8)\n---module2. (java17)\n</code></pre>\n<p>In the <strong>parent</strong> I set the following maven compiler plugin settings :</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>In module 1 I set the compiler target and source to 1.8 (Java 8)</strong>. I build the parent (with JDK17) and as a result all the sub modules were also build. I opened the jar and checked one of the file to make sure that the files in module1 are compatible with java8 :</p>\n<pre><code>$ jar xf module1-1.0-SNAPSHOT.jar\n$ file MyClass.class\nMyClass.class: compiled Java class data, version 52.0 (Java 1.8)\n</code></pre>\n<p>Up until now everything looks good. When going over the documentation of maven I found the following note :</p>\n<blockquote>\n<p>Note: Merely setting the target option does not guarantee that your code actually runs on a JRE with the specified version. The pitfall is unintended usage of APIs that only exist in later JREs which would make your code fail at runtime with a linkage error. To avoid this issue, you can either configure the compiler's boot classpath to match the target JRE, or use the Animal Sniffer Maven Plugin to verify your code doesn't use unintended APIs, or better yet use the release option supported since JDK 9. In the same way, setting the source option does not guarantee that your code actually compiles on a JDK with the specified version. To compile your code with a specific JDK version, different than the one used to launch Maven, refer to the Compile Using A Different JDK example.</p>\n</blockquote>\n<p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">src</a></p>\n<p>So does that mean that there is a chance that module1 will throw runtime errors for other java8 apps because of compatibility issues ?</p>\n<p>In addition, According to <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">this post</a>, since version 9 Java keeps compatibility only 3 versions backwards. Does that relevant only if my source and target were different (maven.compiler.source/target)? Or it might be relevant since I compile my project with JDK17 while the code is written Java 9.</p>\n<p>It will be great if someone can make it clearer for me.</p>\n"},{"tags":["java","spring","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1646839595,"post_id":71411452,"comment_id":126223866,"body_markdown":"You can use Jackson library : https://www.baeldung.com/jackson-xml-serialization-and-deserialization","body":"You can use Jackson library : <a href=\"https://www.baeldung.com/jackson-xml-serialization-and-deserialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-xml-serialization-and-deserialization</a>"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646838922,"creation_date":1646838922,"answer_id":71411666,"question_id":71411452,"body_markdown":"I&#39;m not familiar with `@TypeConverter`, but looks that that is an EclipseLink feature for JPA. In the end it has this JavaDoc on the `@Convert`:\r\n\r\n\r\n    /**\r\n     * Constant name for the reserved XML converter.\r\n     * This will use JAXB to convert the object to and from XML.\r\n     */\r\n    public static final String XML = &quot;xml&quot;;\r\n\r\nSo, it still would require from you a JaxB `Marshaller` to be configured.\r\n\r\nNot sure from here why do you ask about Spring Integration if your end goal is JPA...\r\n\r\nAnyway: the best way to convert object to XML in Spring Integration is indeed use a `MarshallingTransformer` which could be configured with any `org.springframework.oxm.Marshaller` impl, not only JaxB.\r\n\r\nIf you are looking for some conversion way in between, you may also look into `MappingJackson2MessageConverter` when you inject an `XmlMapper` from Jackson lib.\r\n\r\nFor better assisting you, we definitely need to know more about your use-case and what and how you&#39;d like to marshal into an XML.","title":"Converting java object to xml","body":"<p>I'm not familiar with <code>@TypeConverter</code>, but looks that that is an EclipseLink feature for JPA. In the end it has this JavaDoc on the <code>@Convert</code>:</p>\n<pre><code>/**\n * Constant name for the reserved XML converter.\n * This will use JAXB to convert the object to and from XML.\n */\npublic static final String XML = &quot;xml&quot;;\n</code></pre>\n<p>So, it still would require from you a JaxB <code>Marshaller</code> to be configured.</p>\n<p>Not sure from here why do you ask about Spring Integration if your end goal is JPA...</p>\n<p>Anyway: the best way to convert object to XML in Spring Integration is indeed use a <code>MarshallingTransformer</code> which could be configured with any <code>org.springframework.oxm.Marshaller</code> impl, not only JaxB.</p>\n<p>If you are looking for some conversion way in between, you may also look into <code>MappingJackson2MessageConverter</code> when you inject an <code>XmlMapper</code> from Jackson lib.</p>\n<p>For better assisting you, we definitely need to know more about your use-case and what and how you'd like to marshal into an XML.</p>\n"}],"owner":{"account_id":24427070,"reputation":101,"user_id":18352519,"display_name":"Bash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":548,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71411666,"answer_count":1,"score":-1,"last_activity_date":1646838922,"creation_date":1646838156,"question_id":71411452,"body_markdown":"How can i convert java object to xml? I am trying to convert an incoming java object to xml in spring integration with a converter bean. is there another way than marshalling in Jaxb ? like using @TypeConverter. Or implementing converter class. \r\n ","title":"Converting java object to xml","body":"<p>How can i convert java object to xml? I am trying to convert an incoming java object to xml in spring integration with a converter bean. is there another way than marshalling in Jaxb ? like using @TypeConverter. Or implementing converter class.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":4325009,"reputation":2727,"user_id":3861128,"accept_rate":71,"display_name":"Abdelghani Roussi"},"score":0,"creation_date":1646222243,"post_id":71322261,"comment_id":126068455,"body_markdown":"which version of `spring_security_config` are you using","body":"which version of <code>spring_security_config</code> are you using"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1646223097,"post_id":71322261,"comment_id":126068739,"body_markdown":"Thanks for pointing out, question updated!","body":"Thanks for pointing out, question updated!"},{"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"score":0,"creation_date":1646255051,"post_id":71322261,"comment_id":126080889,"body_markdown":"You usually need MockMvc or WebTestClient. Have you already taken a look at Spring Security&#39;s sample applications? Here&#39;s an example: https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/hello-security/src/test/java/example/HelloSecurityApplicationTests.java","body":"You usually need MockMvc or WebTestClient. Have you already taken a look at Spring Security&#39;s sample applications? Here&#39;s an example: <a href=\"https://github.com/spring-projects/spring-security-samples/blob/main/servlet/spring-boot/java/hello-security/src/test/java/example/HelloSecurityApplicationTests.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security-samples/blob/main&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3507861,"reputation":408,"user_id":2932980,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646838496,"creation_date":1646838496,"answer_id":71411543,"question_id":71322261,"body_markdown":"The old (spring-security-config-5.5.5, for example) `ExpressionUrlAuthorizationConfigurer` constructor looked like this\r\n\r\n\r\n    public ExpressionUrlAuthorizationConfigurer(ApplicationContext context) {\r\n\t\tthis.REGISTRY = new ExpressionInterceptUrlRegistry(context);\r\n\t}\r\n\r\n\r\nthe new one (spring-security-config-5.6.2) now has `context.getBeanNamesForType(...`\r\n\r\n    public ExpressionUrlAuthorizationConfigurer(ApplicationContext context) {\r\n\t\tString[] grantedAuthorityDefaultsBeanNames = context.getBeanNamesForType(GrantedAuthorityDefaults.class);\r\n\t\tif (grantedAuthorityDefaultsBeanNames.length == 1) {\r\n\t\t\tGrantedAuthorityDefaults grantedAuthorityDefaults = context.getBean(grantedAuthorityDefaultsBeanNames[0],\r\n\t\t\t\t\tGrantedAuthorityDefaults.class);\r\n\t\t\tthis.rolePrefix = grantedAuthorityDefaults.getRolePrefix();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.rolePrefix = &quot;ROLE_&quot;;\r\n\t\t}\r\n\t\tthis.REGISTRY = new ExpressionInterceptUrlRegistry(context);\r\n\t}\r\n\r\n\r\nSince the application context hasn&#39;t been started, `context` is null and you get the NPE. Before, it didn&#39;t matter that the test didn&#39;t have an ApplicationContext, now it does. \r\nI believe you will have to initiate the context for the tests to pass: https://spring.io/guides/gs/testing-web/","title":"NullPointerException at org.springframework.security.config.annotation.web.configurers.ExpressionUrlAuthorizationConfigurer.&lt;init&gt;","body":"<p>The old (spring-security-config-5.5.5, for example) <code>ExpressionUrlAuthorizationConfigurer</code> constructor looked like this</p>\n<pre><code>public ExpressionUrlAuthorizationConfigurer(ApplicationContext context) {\n    this.REGISTRY = new ExpressionInterceptUrlRegistry(context);\n}\n</code></pre>\n<p>the new one (spring-security-config-5.6.2) now has <code>context.getBeanNamesForType(...</code></p>\n<pre><code>public ExpressionUrlAuthorizationConfigurer(ApplicationContext context) {\n    String[] grantedAuthorityDefaultsBeanNames = context.getBeanNamesForType(GrantedAuthorityDefaults.class);\n    if (grantedAuthorityDefaultsBeanNames.length == 1) {\n        GrantedAuthorityDefaults grantedAuthorityDefaults = context.getBean(grantedAuthorityDefaultsBeanNames[0],\n                GrantedAuthorityDefaults.class);\n        this.rolePrefix = grantedAuthorityDefaults.getRolePrefix();\n    }\n    else {\n        this.rolePrefix = &quot;ROLE_&quot;;\n    }\n    this.REGISTRY = new ExpressionInterceptUrlRegistry(context);\n}\n</code></pre>\n<p>Since the application context hasn't been started, <code>context</code> is null and you get the NPE. Before, it didn't matter that the test didn't have an ApplicationContext, now it does.\nI believe you will have to initiate the context for the tests to pass: <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/testing-web/</a></p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646838496,"creation_date":1646222031,"question_id":71322261,"body_markdown":"Small question on testing the ```configure``` method of ```WebSecurityConfigurerAdapter``` please.\r\n\r\nI am using Spring Boot 2.6.3, and therefore spring-boot-starter-security 2.6.3 (question applicable to Spring 2.x.x+)\r\n\r\nI have my own security configuration written as follow:\r\n\r\n```\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.authority.AuthorityUtils;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.saml2.provider.service.registration.InMemoryRelyingPartyRegistrationRepository;\r\n\r\n@Configuration\r\npublic class MySecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        final var httpSecurity = http.authorizeRequests()\r\n                .antMatchers(&quot;/health&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .csrf()\r\n                .ignoringAntMatchers(&quot;/instances&quot;)\r\n                .and()\r\n                .authorizeRequests();\r\n        httpSecurity.anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .x509()\r\n                .subjectPrincipalRegex(&quot;CN=(.*?)(?:,|$)&quot;)\r\n                .userDetailsService(username -&gt; new User(username, &quot;password&quot;, AuthorityUtils.commaSeparatedStringToAuthorityList(username)))\r\n                .and()\r\n                .saml2Login()\r\n                .relyingPartyRegistrationRepository(new InMemoryRelyingPartyRegistrationRepository());\r\n    }\r\n\r\n}\r\n```\r\n\r\nI just want to write appropriate tests, such as testing the routes, like /health /badhealth /intances /foo, etc.\r\n\r\nIn order to do so, I am writing my unit test as follow:\r\n\r\n```\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.security.config.annotation.ObjectPostProcessor;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n\r\nimport java.util.HashMap;\r\n\r\nclass MySecurityConfigurationTest {\r\n\r\n    @DisplayName(&quot;Test ALL&quot;)\r\n    @Test\r\n    void testConfigure() {\r\n        MySecurityConfiguration mySecurityConfiguration1 = new MySecurityConfiguration();\r\n        try {\r\n            mySecurityConfiguration1.configure(new HttpSecurity(new ObjectPostProcessor&lt;&gt;() {\r\n                @Override\r\n                public &lt;O&gt; O postProcess(O object) {\r\n                    return null;\r\n                }\r\n            }, new AuthenticationManagerBuilder(new ObjectPostProcessor&lt;&gt;() {\r\n                @Override\r\n                public &lt;O&gt; O postProcess(O object) {\r\n                    return null;\r\n                }\r\n            }), new HashMap&lt;&gt;()));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnfortunately, I am always getting a NPE, before even having the chance to test the routes.\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat org.springframework.security.config.annotation.web.configurers.ExpressionUrlAuthorizationConfigurer.&lt;init&gt;(ExpressionUrlAuthorizationConfigurer.java:109)\r\n\tat org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeRequests(HttpSecurity.java:1183)\r\n\tat [...]\r\norg.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nI am having a hard time understand the reason of this NPE, what is null, and how to properly test this.\r\n\r\nShould I set something up in particular that I missed? Maybe some Mock that I am not leveraging?\r\n\r\nFinally, is there a way to test this statically, without having to spin up the server itself?\r\n\r\nThank you","title":"NullPointerException at org.springframework.security.config.annotation.web.configurers.ExpressionUrlAuthorizationConfigurer.&lt;init&gt;","body":"<p>Small question on testing the <code>configure</code> method of <code>WebSecurityConfigurerAdapter</code> please.</p>\n<p>I am using Spring Boot 2.6.3, and therefore spring-boot-starter-security 2.6.3 (question applicable to Spring 2.x.x+)</p>\n<p>I have my own security configuration written as follow:</p>\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.saml2.provider.service.registration.InMemoryRelyingPartyRegistrationRepository;\n\n@Configuration\npublic class MySecurityConfiguration extends WebSecurityConfigurerAdapter {\n    \n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        final var httpSecurity = http.authorizeRequests()\n                .antMatchers(&quot;/health&quot;)\n                .permitAll()\n                .and()\n                .httpBasic()\n                .and()\n                .csrf()\n                .ignoringAntMatchers(&quot;/instances&quot;)\n                .and()\n                .authorizeRequests();\n        httpSecurity.anyRequest()\n                .authenticated()\n                .and()\n                .x509()\n                .subjectPrincipalRegex(&quot;CN=(.*?)(?:,|$)&quot;)\n                .userDetailsService(username -&gt; new User(username, &quot;password&quot;, AuthorityUtils.commaSeparatedStringToAuthorityList(username)))\n                .and()\n                .saml2Login()\n                .relyingPartyRegistrationRepository(new InMemoryRelyingPartyRegistrationRepository());\n    }\n\n}\n</code></pre>\n<p>I just want to write appropriate tests, such as testing the routes, like /health /badhealth /intances /foo, etc.</p>\n<p>In order to do so, I am writing my unit test as follow:</p>\n<pre><code>import org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.security.config.annotation.ObjectPostProcessor;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\n\nimport java.util.HashMap;\n\nclass MySecurityConfigurationTest {\n\n    @DisplayName(&quot;Test ALL&quot;)\n    @Test\n    void testConfigure() {\n        MySecurityConfiguration mySecurityConfiguration1 = new MySecurityConfiguration();\n        try {\n            mySecurityConfiguration1.configure(new HttpSecurity(new ObjectPostProcessor&lt;&gt;() {\n                @Override\n                public &lt;O&gt; O postProcess(O object) {\n                    return null;\n                }\n            }, new AuthenticationManagerBuilder(new ObjectPostProcessor&lt;&gt;() {\n                @Override\n                public &lt;O&gt; O postProcess(O object) {\n                    return null;\n                }\n            }), new HashMap&lt;&gt;()));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>Unfortunately, I am always getting a NPE, before even having the chance to test the routes.</p>\n<pre><code>java.lang.NullPointerException\n    at org.springframework.security.config.annotation.web.configurers.ExpressionUrlAuthorizationConfigurer.&lt;init&gt;(ExpressionUrlAuthorizationConfigurer.java:109)\n    at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeRequests(HttpSecurity.java:1183)\n    at [...]\norg.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>I am having a hard time understand the reason of this NPE, what is null, and how to properly test this.</p>\n<p>Should I set something up in particular that I missed? Maybe some Mock that I am not leveraging?</p>\n<p>Finally, is there a way to test this statically, without having to spin up the server itself?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1646763686,"post_id":71397169,"comment_id":126202920,"body_markdown":"Have you tried enabling CORS in Spring Security (`.cors(withDefaults())`) and providing a `CorsConfigurationSource` as an `@Bean`?","body":"Have you tried enabling CORS in Spring Security (<code>.cors(withDefaults())</code>) and providing a <code>CorsConfigurationSource</code> as an <code>@Bean</code>?"},{"owner":{"display_name":"user17219965"},"score":0,"creation_date":1646765089,"post_id":71397169,"comment_id":126203392,"body_markdown":"@SteveRiesenberg thank you for the answer, I have edited and tried what you told but still getting the error. In &quot;AllowedOrigins&quot; i should put the url that the error is telling me right?","body":"@SteveRiesenberg thank you for the answer, I have edited and tried what you told but still getting the error. In &quot;AllowedOrigins&quot; i should put the url that the error is telling me right?"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1646781174,"post_id":71397169,"comment_id":126208063,"body_markdown":"Can you share the `CorsConfigurationSource` you&#39;re using?","body":"Can you share the <code>CorsConfigurationSource</code> you&#39;re using?"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1646781265,"post_id":71397169,"comment_id":126208078,"body_markdown":"Also, you now have `.cors(withDefaults())` followed by `.cors().disable()`. So I&#39;m not sure that is quite correct. Try removing `.cors().disable()`.","body":"Also, you now have <code>.cors(withDefaults())</code> followed by <code>.cors().disable()</code>. So I&#39;m not sure that is quite correct. Try removing <code>.cors().disable()</code>."},{"owner":{"display_name":"user17219965"},"score":0,"creation_date":1646809542,"post_id":71397169,"comment_id":126212949,"body_markdown":"My CorsConfigurationSource it&#39;s there, also there is no &quot;.cors().disable()&quot; it&#39;s &quot;.csrf().disable()&quot;","body":"My CorsConfigurationSource it&#39;s there, also there is no &quot;.cors().disable()&quot; it&#39;s &quot;.csrf().disable()&quot;"},{"owner":{"display_name":"user17219965"},"score":0,"creation_date":1646809712,"post_id":71397169,"comment_id":126212991,"body_markdown":"Anyway, with this new configuration I no longer get the &quot;Access is denied&quot; but I get ** When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; ** Why is that? I didnt set * in setAllowedOrigins","body":"Anyway, with this new configuration I no longer get the &quot;Access is denied&quot; but I get ** When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; ** Why is that? I didnt set * in setAllowedOrigins"},{"owner":{"display_name":"user17219965"},"score":1,"creation_date":1646813132,"post_id":71397169,"comment_id":126213887,"body_markdown":"@SteveRiesenberg Actually  I had some other code elsewhere that I deleted that gave troubles. Now Access is denied anyway but I managed to configure cors, so make a question and I&#39;ll vote you","body":"@SteveRiesenberg Actually  I had some other code elsewhere that I deleted that gave troubles. Now Access is denied anyway but I managed to configure cors, so make a question and I&#39;ll vote you"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1646838401,"post_id":71397169,"comment_id":126223388,"body_markdown":"Ah, thanks, I had misread and missed some details of your edit.","body":"Ah, thanks, I had misread and missed some details of your edit."}],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646838424,"creation_date":1646838424,"answer_id":71411514,"question_id":71397169,"body_markdown":"Have you tried enabling CORS in Spring Security (`.cors(withDefaults())`) and providing a `CorsConfigurationSource` as an @Bean?","title":"No Access-Control-Allow-Origin header Spring Boot","body":"<p>Have you tried enabling CORS in Spring Security (<code>.cors(withDefaults())</code>) and providing a <code>CorsConfigurationSource</code> as an @Bean?</p>\n"}],"owner":{"display_name":"user17219965"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71411514,"answer_count":1,"score":1,"last_activity_date":1646838424,"creation_date":1646751875,"question_id":71397169,"body_markdown":"I have some API on Spring Boot. I&#39;ve added a login mechanism for not having them accessible from everyone.\r\n\r\nI have a table Users having username, hashed password and role.\r\n\r\nSecurityConfiguration.java\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationProvider;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \t\r\n    \tprivate final DatabaseUserDetailsService databaseUserDetailsService;\r\n    \t\r\n    \tpublic SecurityConfiguration(DatabaseUserDetailsService databaseUserDetailsService) {\r\n    \t\tsuper();\r\n    \t\tthis.databaseUserDetailsService = databaseUserDetailsService;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t  protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n    \t\thttpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \t\thttpSecurity.csrf()\r\n    \t\t\t\t\t.disable()\r\n    \t\t\t\t\t.cors()\r\n    \t\t\t\t\t.disable()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(&quot;/registration&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.anyRequest()\r\n    \t\t\t\t\t.authenticated()\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.httpBasic();\r\n    \t\t}\r\n    \t  \r\n    \t@Bean\r\n    \tpublic AuthenticationProvider daoAuthenticationProvider() {\r\n    \t  DaoAuthenticationProvider provider = \r\n    \t    new DaoAuthenticationProvider();\r\n    \t  provider.setPasswordEncoder(passwordEncoder());\r\n    \t  provider.setUserDetailsService(this.databaseUserDetailsService);\r\n    \t  return provider;\r\n    \t}\r\n    \t  \r\n    \t@Bean\r\n    \tpublic PasswordEncoder passwordEncoder() {\r\n    \t\treturn new BCryptPasswordEncoder();\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nOn my endpoints I have enabled @CrossOrigin annotation:\r\n\r\n    @CrossOrigin\r\n    \t  @GetMapping(&quot;/devices&quot;)\r\n    \t  List&lt;Device&gt; findAllDevices() {\r\n    \t\t    return repository.findAll();\r\n    \t  }\r\n\r\nI get this error:\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ON73T.png&#249;\r\n\r\n    &quot;No Access-Control-Allow-Origin header is present on the requested resource. Origin &#39;http//MyMachineIP&#39; is therefore not allowed access&quot;\r\n\r\nhow can I fix this?\r\n\r\n\r\nEDIT:\r\n\r\nBy enabling logging.level.org.springframework.security=DEBUG\r\nI get this: \r\n\r\n    org.springframework.security.access.AccessDeniedException: Access is denied\r\n    \tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:75) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:65) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:60) ~[spring-boot-2.6.1.jar:2.6.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.0.jar:5.6.0]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n\r\nTried enabling CORS in Spring Security (.cors(withDefaults())) and providing a CorsConfigurationSource as an @Bean\r\n\r\n    \r\n    \t@Override\r\n    \t  protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n    \t\thttpSecurity.cors(withDefaults())\r\n    \t\t\t\t\t.csrf().disable()\r\n    \t\t\t\t\t.authorizeRequests()\r\n    \t\t\t\t\t.antMatchers(&quot;/registration&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t.anyRequest()\r\n    \t\t\t\t\t.authenticated()\r\n    \t\t\t\t\t.and()\r\n    \t\t\t\t\t.httpBasic();\r\n    \t\t}\r\n    \t\r\n    \t@Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n    \r\n            configuration.setAllowedOrigins(Collections.singletonList(&quot;http://localhost:8090&quot;));\r\n            configuration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;OPTIONS&quot;));\r\n            configuration.setAllowCredentials(true);\r\n    \r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    \r\n            return source;\r\n        }\r\n    }\r\n\r\nBut still getting the error, if it is correct. \r\nBut I get this error spring boot side:\r\n\r\n    When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\r\n\r\nWhich it does not make sense to me since allowedOrigins does not contains &quot;*&quot;. Just for the purpose of trying, I turned it to false, still getting that error.","title":"No Access-Control-Allow-Origin header Spring Boot","body":"<p>I have some API on Spring Boot. I've added a login mechanism for not having them accessible from everyone.</p>\n<p>I have a table Users having username, hashed password and role.</p>\n<p>SecurityConfiguration.java</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Configuration\n@EnableWebSecurity\nclass SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    \n    private final DatabaseUserDetailsService databaseUserDetailsService;\n    \n    public SecurityConfiguration(DatabaseUserDetailsService databaseUserDetailsService) {\n        super();\n        this.databaseUserDetailsService = databaseUserDetailsService;\n    }\n\n    @Override\n      protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        httpSecurity.csrf()\n                    .disable()\n                    .cors()\n                    .disable()\n                    .authorizeRequests()\n                    .antMatchers(&quot;/registration&quot;)\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                    .httpBasic();\n        }\n      \n    @Bean\n    public AuthenticationProvider daoAuthenticationProvider() {\n      DaoAuthenticationProvider provider = \n        new DaoAuthenticationProvider();\n      provider.setPasswordEncoder(passwordEncoder());\n      provider.setUserDetailsService(this.databaseUserDetailsService);\n      return provider;\n    }\n      \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    \n}\n</code></pre>\n<p>On my endpoints I have enabled @CrossOrigin annotation:</p>\n<pre><code>@CrossOrigin\n      @GetMapping(&quot;/devices&quot;)\n      List&lt;Device&gt; findAllDevices() {\n            return repository.findAll();\n      }\n</code></pre>\n<p>I get this error:\n<a href=\"https://i.stack.imgur.com/ON73T.png%C3%B9\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ON73T.png%C3%B9\" alt=\"\" /></a></p>\n<pre><code>&quot;No Access-Control-Allow-Origin header is present on the requested resource. Origin 'http//MyMachineIP' is therefore not allowed access&quot;\n</code></pre>\n<p>how can I fix this?</p>\n<p>EDIT:</p>\n<p>By enabling logging.level.org.springframework.security=DEBUG\nI get this:</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73) ~[spring-security-core-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:75) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:65) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:60) ~[spring-boot-2.6.1.jar:2.6.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.0.jar:5.6.0]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103) ~[spring-web-5.3.13.jar:5.3.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>Tried enabling CORS in Spring Security (.cors(withDefaults())) and providing a CorsConfigurationSource as an @Bean</p>\n<pre><code>    @Override\n      protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.cors(withDefaults())\n                    .csrf().disable()\n                    .authorizeRequests()\n                    .antMatchers(&quot;/registration&quot;)\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                    .httpBasic();\n        }\n    \n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;http://localhost:8090&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;OPTIONS&quot;));\n        configuration.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n}\n</code></pre>\n<p>But still getting the error, if it is correct.\nBut I get this error spring boot side:</p>\n<pre><code>When allowCredentials is true, allowedOrigins cannot contain the special value &quot;*&quot; since that cannot be set on the &quot;Access-Control-Allow-Origin&quot; response header. To allow credentials to a set of origins, list them explicitly or consider using &quot;allowedOriginPatterns&quot; instead.\n</code></pre>\n<p>Which it does not make sense to me since allowedOrigins does not contains &quot;*&quot;. Just for the purpose of trying, I turned it to false, still getting that error.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1646680406,"post_id":71386101,"comment_id":126179155,"body_markdown":"Please read why a [screenshot of HTML or code or error is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). You may like to consider updating the Question with formatted text based relevant HTML, code trials and error stack trace.","body":"Please read why a <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">screenshot of HTML or code or error is a bad idea</a>. You may like to consider updating the Question with formatted text based relevant HTML, code trials and error stack trace."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1646681118,"post_id":71386101,"comment_id":126179365,"body_markdown":"For starters, this is not an HTML table. This is an example of web elements (`divs`) formatted in a way that resemble a table. That said, if you are looking for something like &quot;_return the cell value for the element in the nth row under &quot;x&quot; column header_&quot;, it is simply not possible. You will need to create locators that most will most likely need to rely on some criteria like column index. Your solution will require you being creative an clever to create reusable, parameterized locators (probably using Xpath).","body":"For starters, this is not an HTML table. This is an example of web elements (<code>divs</code>) formatted in a way that resemble a table. That said, if you are looking for something like &quot;<i>return the cell value for the element in the nth row under &quot;x&quot; column header</i>&quot;, it is simply not possible. You will need to create locators that most will most likely need to rely on some criteria like column index. Your solution will require you being creative an clever to create reusable, parameterized locators (probably using Xpath)."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646681277,"post_id":71386101,"comment_id":126179429,"body_markdown":"The reason why I say it is not possible is because the DOM doesn&#39;t create this &quot;grid&quot; relationship between web elements. And traversing the DOM to establish relationships is not always feasible.","body":"The reason why I say it is not possible is because the DOM doesn&#39;t create this &quot;grid&quot; relationship between web elements. And traversing the DOM to establish relationships is not always feasible."},{"owner":{"account_id":24374562,"reputation":11,"user_id":18307078,"display_name":"Fari"},"score":1,"creation_date":1646805857,"post_id":71386101,"comment_id":126212088,"body_markdown":"@hfontanez ...yes exactly thats what I was looking for. Thank you so much. Workaround , I Kind of parameterized  xpath for that specific column and matched the text to access the element for now.","body":"@hfontanez ...yes exactly thats what I was looking for. Thank you so much. Workaround , I Kind of parameterized  xpath for that specific column and matched the text to access the element for now."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646831092,"post_id":71386101,"comment_id":126220379,"body_markdown":"@Fari edit your question and copy and paste the part of the DOM you need locators for as well as the code you wrote to process the locators.","body":"@Fari edit your question and copy and paste the part of the DOM you need locators for as well as the code you wrote to process the locators."}],"answers":[{"tags":[],"owner":{"account_id":19792579,"reputation":31,"user_id":14495284,"display_name":"Maire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646744948,"creation_date":1646744948,"answer_id":71395616,"question_id":71386101,"body_markdown":"Do you mean finding by the title or some text e.g //*[text()[contains(.,&#39;Robert&#39;)]] or like //*[contains(@title, &#39;Robert&#39;)] to get the element? \r\n\r\nOr to grab a particular cell that is nested above or below? - it may be possible to use some sort of selector using ancestor / descendant or to narrow in on the cell based on the particular text but like hfontanez says you will need to create selectors that rely on something like the title or some pattern to return the cell or grid row/column relative to where the title is in the DOM. ","title":"How to iterate a values in the table including column headers and cells in Java Selenium to select a cell","body":"<p>Do you mean finding by the title or some text e.g //<em>[text()[contains(.,'Robert')]] or like //</em>[contains(@title, 'Robert')] to get the element?</p>\n<p>Or to grab a particular cell that is nested above or below? - it may be possible to use some sort of selector using ancestor / descendant or to narrow in on the cell based on the particular text but like hfontanez says you will need to create selectors that rely on something like the title or some pattern to return the cell or grid row/column relative to where the title is in the DOM.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646838405,"creation_date":1646838405,"answer_id":71411507,"question_id":71386101,"body_markdown":"There is simply not enough information to precisely answer the question. So I will provide two general solutions. One of them should work.\r\n\r\n## Working with `iframes` ##\r\n\r\nIt is possible your &quot;table&quot; is rendered inside an *iframe*. Elements contained within an iframe cannot be located unless your web driver is focusing on the iframe first. With Selenium, to switch to iframe you must do something like this to wait a maximum time of 10 seconds, polling every 100 milliseconds\r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(x), Duration.ofMillis(100)); // Selenium 4.x \r\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(LOCATOR)));\r\n```\r\nIf the above succeeds, you are ready to interact with the desired component. Of course, in the above snippet, *LOCATOR* is whichever type of locator you wish to use. For example, *`By.xpath(&quot;some_xpath_string_here&quot;)`*.\r\n\r\nOnce you are finished interacting with the components inside the iframe, you MUST switch out of it to interact with the components on the page. To do this, you instruct the driver to switch to the parent frame in the DOM.\r\n```\r\ndriver.switchTo().parentFrame();\r\n```\r\nYou must do this even if you refresh the current page or load a new one. Because of this, it is typically a good idea to put this inside a `finally` block.\r\n\r\n## Locating the elements ##\r\nWhether the elements you need to interact with are inside of an iframe or not, creating a strategy for locating elements on a page is not always trivial. For example, one of the easiest ways to locate components on a page is by *id*. The problem is that IDs are not always easy to predict. For example, in the OPs case, it seems like UUID is used to generate the ID. So, in this case, it is unlikely that locating by ID is an option. Although there are cases when obtaining multiple results is desirable, in this case, our locator should yield a single result. An XPath expression such as `//div[@tabindex=0]` (in this page) will locate at the moment of this post, 5 results. However, there is only one match inside the iframe. While testing this XPath expression using Chrome dev tools doesn&#39;t make this distinction, the WebDriver API does because this is how the specification is written. Therefore, if I switch to the iframe and then attempt to locate the table row with that given tab index, the code will only locate one. If we attempt the same without switching to the iframe, the code will locate 4 components, but will return the very first one it encountered in the DOM from the top of the document. In this case, that will be the question upvote/downvote count.\r\n\r\nBut, even though the XPath expression I created for this example is unique for the elements rendered inside the iframe, in a more realistic case it might be necessary to further refine out expression to match a more specific case. I believe in this case, that will be the name in the cell. Therefore, my refined expression should be `//div[@tabindex=0]/span[text()=&#39;Robert&#39;]`.","title":"How to iterate a values in the table including column headers and cells in Java Selenium to select a cell","body":"<p>There is simply not enough information to precisely answer the question. So I will provide two general solutions. One of them should work.</p>\n<h2>Working with <code>iframes</code></h2>\n<p>It is possible your &quot;table&quot; is rendered inside an <em>iframe</em>. Elements contained within an iframe cannot be located unless your web driver is focusing on the iframe first. With Selenium, to switch to iframe you must do something like this to wait a maximum time of 10 seconds, polling every 100 milliseconds</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(x), Duration.ofMillis(100)); // Selenium 4.x \nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(LOCATOR)));\n</code></pre>\n<p>If the above succeeds, you are ready to interact with the desired component. Of course, in the above snippet, <em>LOCATOR</em> is whichever type of locator you wish to use. For example, <em><code>By.xpath(&quot;some_xpath_string_here&quot;)</code></em>.</p>\n<p>Once you are finished interacting with the components inside the iframe, you MUST switch out of it to interact with the components on the page. To do this, you instruct the driver to switch to the parent frame in the DOM.</p>\n<pre><code>driver.switchTo().parentFrame();\n</code></pre>\n<p>You must do this even if you refresh the current page or load a new one. Because of this, it is typically a good idea to put this inside a <code>finally</code> block.</p>\n<h2>Locating the elements</h2>\n<p>Whether the elements you need to interact with are inside of an iframe or not, creating a strategy for locating elements on a page is not always trivial. For example, one of the easiest ways to locate components on a page is by <em>id</em>. The problem is that IDs are not always easy to predict. For example, in the OPs case, it seems like UUID is used to generate the ID. So, in this case, it is unlikely that locating by ID is an option. Although there are cases when obtaining multiple results is desirable, in this case, our locator should yield a single result. An XPath expression such as <code>//div[@tabindex=0]</code> (in this page) will locate at the moment of this post, 5 results. However, there is only one match inside the iframe. While testing this XPath expression using Chrome dev tools doesn't make this distinction, the WebDriver API does because this is how the specification is written. Therefore, if I switch to the iframe and then attempt to locate the table row with that given tab index, the code will only locate one. If we attempt the same without switching to the iframe, the code will locate 4 components, but will return the very first one it encountered in the DOM from the top of the document. In this case, that will be the question upvote/downvote count.</p>\n<p>But, even though the XPath expression I created for this example is unique for the elements rendered inside the iframe, in a more realistic case it might be necessary to further refine out expression to match a more specific case. I believe in this case, that will be the name in the cell. Therefore, my refined expression should be <code>//div[@tabindex=0]/span[text()='Robert']</code>.</p>\n"}],"owner":{"account_id":24374562,"reputation":11,"user_id":18307078,"display_name":"Fari"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1646838405,"creation_date":1646680163,"question_id":71386101,"body_markdown":"I&#39;m trying to click any cell value by matching title.The title can be present in any position. In this instance &quot;Robert&quot;.\r\n\r\n    \r\n    &lt;div tabindex=&quot;-1&quot; role=&quot;gridcell&quot; aria-selected=&quot;false&quot; aria-readonly=&quot;true&quot; aria-required=&quot;false&quot; class=&quot;wj-cell&quot; data-id=&quot;cell-0-4&quot; id=&quot;Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-4&quot; data-lp-id=&quot;MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-4&quot; aria-colindex=&quot;4&quot; title=&quot;---&quot; style=&quot;left: 343px; top: 0px; width: 124px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;color: rgb(51, 51, 51);&quot;&gt;---&lt;/span&gt;&lt;/div&gt;\r\n&lt;div tabindex=&quot;0&quot; role=&quot;gridcell&quot; aria-selected=&quot;false&quot; aria-readonly=&quot;true&quot; aria-required=&quot;false&quot; class=&quot;wj-cell&quot; data-id=&quot;cell-0-2&quot; id=&quot;Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-2&quot; data-lp-id=&quot;MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-2&quot; aria-colindex=&quot;2&quot; title=&quot;Robert&quot; style=&quot;left: 45px; top: 0px; width: 149px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;color: rgb(51, 51, 51);&quot;&gt;Robert&lt;/span&gt;&lt;/div&gt;\r\n&lt;div tabindex=&quot;-1&quot; role=&quot;gridcell&quot; aria-selected=&quot;false&quot; aria-readonly=&quot;true&quot; aria-required=&quot;false&quot; class=&quot;wj-cell&quot; data-id=&quot;cell-0-4&quot; id=&quot;Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-4&quot; data-lp-id=&quot;MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-4&quot; aria-colindex=&quot;4&quot; title=&quot;---&quot; style=&quot;left: 343px; top: 0px; width: 124px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;color: rgb(51, 51, 51);&quot;&gt;---&lt;/span&gt;&lt;/div&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n        &lt;div tabindex=&quot;-1&quot; role=&quot;gridcell&quot; aria-selected=&quot;false&quot; aria-readonly=&quot;true&quot; aria-required=&quot;false&quot; class=&quot;wj-cell&quot; data-id=&quot;cell-0-4&quot; id=&quot;Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-4&quot; data-lp-id=&quot;MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-4&quot; aria-colindex=&quot;4&quot; title=&quot;---&quot; style=&quot;left: 343px; top: 0px; width: 124px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;color: rgb(51, 51, 51);&quot;&gt;---&lt;/span&gt;&lt;/div&gt;\r\n    &lt;div tabindex=&quot;0&quot; role=&quot;gridcell&quot; aria-selected=&quot;false&quot; aria-readonly=&quot;true&quot; aria-required=&quot;false&quot; class=&quot;wj-cell&quot; data-id=&quot;cell-0-2&quot; id=&quot;Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-2&quot; data-lp-id=&quot;MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-2&quot; aria-colindex=&quot;2&quot; title=&quot;Robert&quot; style=&quot;left: 45px; top: 0px; width: 149px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;color: rgb(51, 51, 51);&quot;&gt;Robert&lt;/span&gt;&lt;/div&gt;\r\n    &lt;div tabindex=&quot;-1&quot; role=&quot;gridcell&quot; aria-selected=&quot;false&quot; aria-readonly=&quot;true&quot; aria-required=&quot;false&quot; class=&quot;wj-cell&quot; data-id=&quot;cell-0-4&quot; id=&quot;Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-4&quot; data-lp-id=&quot;MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-4&quot; aria-colindex=&quot;4&quot; title=&quot;---&quot; style=&quot;left: 343px; top: 0px; width: 124px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;color: rgb(51, 51, 51);&quot;&gt;---&lt;/span&gt;&lt;/div&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to iterate a values in the table including column headers and cells in Java Selenium to select a cell","body":"<p>I'm trying to click any cell value by matching title.The title can be present in any position. In this instance &quot;Robert&quot;.</p>\n<pre><code>&lt;div tabindex=&quot;-1&quot; role=&quot;gridcell&quot; aria-selected=&quot;false&quot; aria-readonly=&quot;true&quot; aria-required=&quot;false&quot; class=&quot;wj-cell&quot; data-id=&quot;cell-0-4&quot; id=&quot;Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-4&quot; data-lp-id=&quot;MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-4&quot; aria-colindex=&quot;4&quot; title=&quot;---&quot; style=&quot;left: 343px; top: 0px; width: 124px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;color: rgb(51, 51, 51);&quot;&gt;---&lt;/span&gt;&lt;/div&gt;\n</code></pre>\nRobert\n---\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;div tabindex=\"-1\" role=\"gridcell\" aria-selected=\"false\" aria-readonly=\"true\" aria-required=\"false\" class=\"wj-cell\" data-id=\"cell-0-4\" id=\"Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-4\" data-lp-id=\"MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-4\" aria-colindex=\"4\" title=\"---\" style=\"left: 343px; top: 0px; width: 124px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);\"&gt;&lt;span role=\"presentation\" style=\"color: rgb(51, 51, 51);\"&gt;---&lt;/span&gt;&lt;/div&gt;\n&lt;div tabindex=\"0\" role=\"gridcell\" aria-selected=\"false\" aria-readonly=\"true\" aria-required=\"false\" class=\"wj-cell\" data-id=\"cell-0-2\" id=\"Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-2\" data-lp-id=\"MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-2\" aria-colindex=\"2\" title=\"Robert\" style=\"left: 45px; top: 0px; width: 149px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);\"&gt;&lt;span role=\"presentation\" style=\"color: rgb(51, 51, 51);\"&gt;Robert&lt;/span&gt;&lt;/div&gt;\n&lt;div tabindex=\"-1\" role=\"gridcell\" aria-selected=\"false\" aria-readonly=\"true\" aria-required=\"false\" class=\"wj-cell\" data-id=\"cell-0-4\" id=\"Grid1271ed7b-3f36-d12c-803a-d560961d8724-id-cell-0-4\" data-lp-id=\"MscrmControls.Grid.ReadOnlyGrid|entity_control|account|00000000-0000-0000-00aa-000010001210|contact|contact_customer_accounts|cc-grid|cc-grid-cell|cell-0-4\" aria-colindex=\"4\" title=\"---\" style=\"left: 343px; top: 0px; width: 124px; height: 40px; padding-left: 7px !important; padding-right: 10px; padding-bottom: 2px; padding-top: 2px; line-height: 35px; background: rgb(255, 255, 255);\"&gt;&lt;span role=\"presentation\" style=\"color: rgb(51, 51, 51);\"&gt;---&lt;/span&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":24504493,"reputation":11,"user_id":18419700,"display_name":"Geoffrey"},"score":0,"creation_date":1646847755,"post_id":71411480,"comment_id":126227318,"body_markdown":"I came up with another solution which I&#39;m still not 100% happy about:\n\nI created a camel route with a timer that executes once, still not a fan of this solution especially if I wasn&#39;t using camel. \n\n  from(&quot;timer://runOnce?repeatCount=1&quot;)\n\n        .to(&quot;sql:ALTER SESSION SET CURRENT_SCHEMA=mydata&quot;\n\n                + &quot;?dataSource=firstDataSource&amp;outputType=SelectList&quot;);","body":"I came up with another solution which I&#39;m still not 100% happy about:  I created a camel route with a timer that executes once, still not a fan of this solution especially if I wasn&#39;t using camel.     from(&quot;timer://runOnce?repeatCount=1&quot;)          .to(&quot;sql:ALTER SESSION SET CURRENT_SCHEMA=mydata&quot;                  + &quot;?dataSource=firstDataSource&amp;outputType=SelectList&quot;);"},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1647042514,"post_id":71411480,"comment_id":126281736,"body_markdown":"Configure the HikariDataSource property [connectionInitSql](https://github.com/brettwooldridge/HikariCP#infrequently-used) to execute the SQL statement on every new connection.","body":"Configure the HikariDataSource property <a href=\"https://github.com/brettwooldridge/HikariCP#infrequently-used\" rel=\"nofollow noreferrer\">connectionInitSql</a> to execute the SQL statement on every new connection."},{"owner":{"account_id":24504493,"reputation":11,"user_id":18419700,"display_name":"Geoffrey"},"score":0,"creation_date":1647261961,"post_id":71411480,"comment_id":126319318,"body_markdown":"@ChinHuang Thanks for your reply, however that also does not work.  Based on other stackoverflow posts I&#39;ve read, It appears that does not work for Oracle connections.","body":"@ChinHuang Thanks for your reply, however that also does not work.  Based on other stackoverflow posts I&#39;ve read, It appears that does not work for Oracle connections."}],"owner":{"account_id":24504493,"reputation":11,"user_id":18419700,"display_name":"Geoffrey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646838281,"creation_date":1646838281,"question_id":71411480,"body_markdown":"I am having a hard time changing the oracle datasource schema for my springboot app, that will eventually be used by my camel routes.  I am logging in as user readonly, but all the data is in schema mydata.  Readonly has read rights to the mydata schema.\r\n\r\nI have tried calling ALTER SESSION SET CURRENT_SCHEMA=mydata against the datasource (by autowiring, and then getting the connection object from the datasource) and it doesn&#39;t work, I have no issue running selects from statement objects I create off the connection (see code below)\r\n\r\nIf I create a rest endpoint that executes ALTER SESSION SET CURRENT_SCHEMA=mydata and if I call that from postman or a browser, that will change my schema and my other endpoints will work, but I would prefer not to do it that way since I will have to call that endpoint.  I guess I could call that endpoint in my springboot app when it loads but it just seems like the wrong way to do it.\r\n\r\nI also do not want to hardcode/prefix all my tables with the schema name since different regions have different schema names, I&#39;d like to configure the schema name in the properties file.\r\n   \r\nHere is my application.properties, I have tried various ways to set the schema in the properties file based on other stack overflow posts, and so far none of them work.\r\n        \r\n    spring.datasource.first.url=jdbc:oracle:thin:@myserver:10100:db9\r\n    spring.datasource.first.username=readonly\r\n    spring.datasource.first.password=readonlypass\r\n    ## DOESNT WORK -&gt;spring.datasource.hikari.schema=mydata\r\n    ## DOESNT WORK -&gt;spring.datasource.hikari.first.schema=mydata\r\n        \r\n    #sync database\r\n    spring.datasource.second.driverClassName=oracle.jdbc.OracleDriver\r\n    spring.datasource.second.url = jdbc:oracle:thin:myserver2:10100:db15\r\n    spring.datasource.second.username = eam\r\n    spring.datasource.second.password = eampass\r\n\r\nHere is the code from my springboot application:\r\n\r\n    /**\r\n     * A spring-boot application that includes a Camel route builder to setup the Camel routes\r\n     */\r\n    @SpringBootApplication\r\n    @ImportResource({&quot;classpath:spring/camel-context.xml&quot;})\r\n    public class Application extends RouteBuilder {\r\n    \r\n    \tint workorderSyncFrequency = 5000;\r\n          \r\n    \t//Autowired the first datasource in attempts to alter the session to set my schema name.\r\n    \t@Autowired\r\n    \tDataSource firstDataSource;\r\n    \r\n    \t// must have a main method spring-boot can run\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    \t//setup first datasource\r\n    \t@Bean\r\n    \t@Primary\r\n    \t@ConfigurationProperties(&quot;spring.datasource.first&quot;)\r\n    \tpublic DataSourceProperties firstDataSourceProperties() {\r\n    \t\treturn new DataSourceProperties();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Primary\r\n    \t@ConfigurationProperties(&quot;spring.datasource.first.configuration&quot;)\r\n    \tpublic DataSource firstDataSource() {\r\n    \t\treturn firstDataSourceProperties().initializeDataSourceBuilder()\r\n    \t\t\t\t.type(HikariDataSource.class).build();\r\n    \t}\r\n    \r\n    \t//setup second data source \r\n    \t@Bean\r\n    \t@ConfigurationProperties(&quot;spring.datasource.second&quot;)\r\n    \tpublic DataSourceProperties secondDataSourceProperties() {\r\n    \t\treturn new DataSourceProperties();\r\n    \t}\r\n    \t@Bean\r\n    \r\n    \t@ConfigurationProperties(&quot;spring.datasource.second.configuration&quot;)\r\n    \tpublic DataSource secondDataSource() {\r\n    \t\treturn firstDataSourceProperties().initializeDataSourceBuilder()\r\n    \t\t\t\t.type(HikariDataSource.class).build();\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void configure() throws Exception {\r\n    \t\t\r\n    \t\tConnection con = DataSourceUtils.getConnection(firstDataSource);\r\n    \t\tStatement stmt = con.createStatement();\r\n    \t\tResultSet rs = stmt.executeQuery(&quot;select count(*) from mydata.ASSET&quot;);\r\n    \t\trs.next();\r\n    \t\t//simply testing I am using the correct datasource and I can query from the second schema and this works.\r\n    \t\tSystem.out.println(&quot;++++++++++++++++++++++ASSET COUNT+++++++++++++++++++&quot;+rs.getInt(1));\r\n    \t\t\r\n    \t\t//Tried both of these statements, neither works.\r\n    \t\t//stmt.executeQuery(&quot;ALTER SESSION SET CURRENT_SCHEMA=mydata&quot;);\r\n    \t\t//stmt.executeUpdate(&quot;ALTER SESSION SET CURRENT_SCHEMA=mydata&quot;);\t\r\n    \t\r\n    \t\t//Connection is defaulted to autocommit tried this just in case.\r\n    \t\tcon.commit();\r\n    \r\n    \t\t//ASSET table doesnt exist on the readonly schema, only on the mydata schema\r\n    \t\t//if I call test3 I will get a table or view does not exist, unless I first call the &quot;schema&quot;\r\n                    //endpoint below.\r\n    \t\trest()\r\n    \t\t.get(&quot;test3&quot;)\r\n    \t\t.produces(MediaType.APPLICATION_JSON_VALUE)\r\n    \t\t.route()\r\n    \t\t.to(&quot;sql:SELECT * FROM ASSET where rownum &lt; 10&quot;\r\n    \t\t\t\t+ &quot;?dataSource=firstDataSource&amp;outputType=SelectList&quot;);  \r\n    \t\t\r\n    \t\t//This works if I call this route, but its a weird way to make this work.\r\n    \t\trest()\r\n    \t\t.get(&quot;schema&quot;)\r\n    \t\t.produces(MediaType.APPLICATION_JSON_VALUE)\r\n    \t\t.route()\r\n    \t\t.to(&quot;sql:ALTER SESSION SET CURRENT_SCHEMA=mydata&quot;\r\n    \t\t\t\t+ &quot;?dataSource=firstDataSource&amp;outputType=SelectList&quot;);  \r\n    \t}\r\n\r\n","title":"Specify Oracle Schema SpringBoot 2.x/Apache Camel - Multiple Datasource","body":"<p>I am having a hard time changing the oracle datasource schema for my springboot app, that will eventually be used by my camel routes.  I am logging in as user readonly, but all the data is in schema mydata.  Readonly has read rights to the mydata schema.</p>\n<p>I have tried calling ALTER SESSION SET CURRENT_SCHEMA=mydata against the datasource (by autowiring, and then getting the connection object from the datasource) and it doesn't work, I have no issue running selects from statement objects I create off the connection (see code below)</p>\n<p>If I create a rest endpoint that executes ALTER SESSION SET CURRENT_SCHEMA=mydata and if I call that from postman or a browser, that will change my schema and my other endpoints will work, but I would prefer not to do it that way since I will have to call that endpoint.  I guess I could call that endpoint in my springboot app when it loads but it just seems like the wrong way to do it.</p>\n<p>I also do not want to hardcode/prefix all my tables with the schema name since different regions have different schema names, I'd like to configure the schema name in the properties file.</p>\n<p>Here is my application.properties, I have tried various ways to set the schema in the properties file based on other stack overflow posts, and so far none of them work.</p>\n<pre><code>spring.datasource.first.url=jdbc:oracle:thin:@myserver:10100:db9\nspring.datasource.first.username=readonly\nspring.datasource.first.password=readonlypass\n## DOESNT WORK -&gt;spring.datasource.hikari.schema=mydata\n## DOESNT WORK -&gt;spring.datasource.hikari.first.schema=mydata\n    \n#sync database\nspring.datasource.second.driverClassName=oracle.jdbc.OracleDriver\nspring.datasource.second.url = jdbc:oracle:thin:myserver2:10100:db15\nspring.datasource.second.username = eam\nspring.datasource.second.password = eampass\n</code></pre>\n<p>Here is the code from my springboot application:</p>\n<pre><code>/**\n * A spring-boot application that includes a Camel route builder to setup the Camel routes\n */\n@SpringBootApplication\n@ImportResource({&quot;classpath:spring/camel-context.xml&quot;})\npublic class Application extends RouteBuilder {\n\n    int workorderSyncFrequency = 5000;\n      \n    //Autowired the first datasource in attempts to alter the session to set my schema name.\n    @Autowired\n    DataSource firstDataSource;\n\n    // must have a main method spring-boot can run\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n        \n    }\n\n\n    //setup first datasource\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;spring.datasource.first&quot;)\n    public DataSourceProperties firstDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;spring.datasource.first.configuration&quot;)\n    public DataSource firstDataSource() {\n        return firstDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n    }\n\n    //setup second data source \n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.second&quot;)\n    public DataSourceProperties secondDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n    @Bean\n\n    @ConfigurationProperties(&quot;spring.datasource.second.configuration&quot;)\n    public DataSource secondDataSource() {\n        return firstDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n\n    }\n\n    @Override\n    public void configure() throws Exception {\n        \n        Connection con = DataSourceUtils.getConnection(firstDataSource);\n        Statement stmt = con.createStatement();\n        ResultSet rs = stmt.executeQuery(&quot;select count(*) from mydata.ASSET&quot;);\n        rs.next();\n        //simply testing I am using the correct datasource and I can query from the second schema and this works.\n        System.out.println(&quot;++++++++++++++++++++++ASSET COUNT+++++++++++++++++++&quot;+rs.getInt(1));\n        \n        //Tried both of these statements, neither works.\n        //stmt.executeQuery(&quot;ALTER SESSION SET CURRENT_SCHEMA=mydata&quot;);\n        //stmt.executeUpdate(&quot;ALTER SESSION SET CURRENT_SCHEMA=mydata&quot;);    \n    \n        //Connection is defaulted to autocommit tried this just in case.\n        con.commit();\n\n        //ASSET table doesnt exist on the readonly schema, only on the mydata schema\n        //if I call test3 I will get a table or view does not exist, unless I first call the &quot;schema&quot;\n                //endpoint below.\n        rest()\n        .get(&quot;test3&quot;)\n        .produces(MediaType.APPLICATION_JSON_VALUE)\n        .route()\n        .to(&quot;sql:SELECT * FROM ASSET where rownum &lt; 10&quot;\n                + &quot;?dataSource=firstDataSource&amp;outputType=SelectList&quot;);  \n        \n        //This works if I call this route, but its a weird way to make this work.\n        rest()\n        .get(&quot;schema&quot;)\n        .produces(MediaType.APPLICATION_JSON_VALUE)\n        .route()\n        .to(&quot;sql:ALTER SESSION SET CURRENT_SCHEMA=mydata&quot;\n                + &quot;?dataSource=firstDataSource&amp;outputType=SelectList&quot;);  \n    }\n</code></pre>\n"},{"tags":["java","filter","lambda"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1646826558,"post_id":71408824,"comment_id":126218822,"body_markdown":"Of course it&#39;s ignored, because you don&#39;t save the result of `collect` anywhere, so it is immediately discarded. Where do you expect the collected list to exist?","body":"Of course it&#39;s ignored, because you don&#39;t save the result of <code>collect</code> anywhere, so it is immediately discarded. Where do you expect the collected list to exist?"},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1646826611,"post_id":71408824,"comment_id":126218840,"body_markdown":"Probably a warning by your IDE? The code will run just fine. Problem is that you create a stream and collect the data of it back into a list, but you aren&#39;t saving the created list in a variable.","body":"Probably a warning by your IDE? The code will run just fine. Problem is that you create a stream and collect the data of it back into a list, but you aren&#39;t saving the created list in a variable."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1646837607,"post_id":71408824,"comment_id":126223033,"body_markdown":"You don’t need a stream here.  `monthlyData.removeIf(date -&gt; !functions.checkForCurrentMonth(date.getPurchaseDate()));` would work just as well, assuming it’s acceptable to modify the original List.","body":"You don’t need a stream here.  <code>monthlyData.removeIf(date -&gt; !functions.checkForCurrentMonth(date.getPurchaseDate()));</code> would work just as well, assuming it’s acceptable to modify the original List."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646838182,"creation_date":1646826645,"answer_id":71408894,"question_id":71408824,"body_markdown":"Your initial code:\r\n\r\n```java\r\nmonthlyData.stream()\r\n   .filter(date -&gt; functions.checkForCurrentMonth(date.getPurchaseDate()))\r\n   .collect(Collectors.toList());\r\n```\r\n\r\nWithin this line the `collect` operation returns a `List`. You should store this `List` into your `monthlyData` reference to be returned later. So you should write like this:\r\n\r\n```java\r\nmonthlyData = monthlyData.stream()\r\n    .filter(date -&gt; functions.checkForCurrentMonth(date.getPurchaseDate()))\r\n    .collect(Collectors.toList());\r\n```","title":"java collec to list ignored","body":"<p>Your initial code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>monthlyData.stream()\n   .filter(date -&gt; functions.checkForCurrentMonth(date.getPurchaseDate()))\n   .collect(Collectors.toList());\n</code></pre>\n<p>Within this line the <code>collect</code> operation returns a <code>List</code>. You should store this <code>List</code> into your <code>monthlyData</code> reference to be returned later. So you should write like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>monthlyData = monthlyData.stream()\n    .filter(date -&gt; functions.checkForCurrentMonth(date.getPurchaseDate()))\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646837723,"creation_date":1646827678,"answer_id":71409121,"question_id":71408824,"body_markdown":"your final function will be as follow:\r\n\r\n    public String getMonthlyExpensesNew() {\r\n        Functions functions = new Functions();\r\n        List&lt;ShoppingMgnt&gt; monthlyData = new ArrayList&lt;&gt;();\r\n        try {\r\n            monthlyData = getRecordsAsList();\r\n            //put the returned list in the same defined list\r\n            monthlyData = monthlyData.stream()\r\n            .filter(date -&gt; functions.checkForCurrentMonth(date.getPurchaseDate()))\r\n            .collect(Collectors.toList());\r\n\r\n        }catch (SQLException sqlException){\r\n            System.err.println(&quot;Error in getMonthlyExpensesNew&quot;);\r\n        }\r\n        //the return with updated list  \r\n        return String.valueOf(monthlyData);\r\n    }","title":"java collec to list ignored","body":"<p>your final function will be as follow:</p>\n<pre><code>public String getMonthlyExpensesNew() {\n    Functions functions = new Functions();\n    List&lt;ShoppingMgnt&gt; monthlyData = new ArrayList&lt;&gt;();\n    try {\n        monthlyData = getRecordsAsList();\n        //put the returned list in the same defined list\n        monthlyData = monthlyData.stream()\n        .filter(date -&gt; functions.checkForCurrentMonth(date.getPurchaseDate()))\n        .collect(Collectors.toList());\n\n    }catch (SQLException sqlException){\n        System.err.println(&quot;Error in getMonthlyExpensesNew&quot;);\n    }\n    //the return with updated list  \n    return String.valueOf(monthlyData);\n}\n</code></pre>\n"}],"owner":{"account_id":23277374,"reputation":9,"user_id":17361298,"display_name":"Lidor Oranim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1646838182,"creation_date":1646826300,"question_id":71408824,"body_markdown":"I am trying to write lambda in java that filter list by month and add data in the current month to the new list but when I try to collect the data I get an error collect is ignored.\r\n\r\n\r\n\r\n    public String getMonthlyExpensesNew() {\r\n            Functions functions = new Functions();\r\n            List&lt;ShoppingMgnt&gt; monthlyData = new ArrayList&lt;&gt;();\r\n            try {\r\n                monthlyData = getRecordsAsList();\r\n    \r\n                monthlyData.stream().filter(date -&gt; functions.checkForCurrentMonth(date.getPurchaseDate())).collect(Collectors.toList());\r\n    \r\n            }catch (SQLException sqlException){\r\n                System.err.println(&quot;Error in getMonthlyExpensesNew&quot;);\r\n            }\r\n    \r\n            return String.valueOf(monthlyData);\r\n        }\r\n\r\n\r\n    public boolean checkForCurrentMonth(String givenDate){\r\n            LocalDate currentDate = LocalDate.now();\r\n            LocalDate monthToCheck = LocalDate.parse(givenDate);\r\n            return currentDate.getMonth().equals(monthToCheck.getMonth());\r\n        }","title":"java collec to list ignored","body":"<p>I am trying to write lambda in java that filter list by month and add data in the current month to the new list but when I try to collect the data I get an error collect is ignored.</p>\n<pre><code>public String getMonthlyExpensesNew() {\n        Functions functions = new Functions();\n        List&lt;ShoppingMgnt&gt; monthlyData = new ArrayList&lt;&gt;();\n        try {\n            monthlyData = getRecordsAsList();\n\n            monthlyData.stream().filter(date -&gt; functions.checkForCurrentMonth(date.getPurchaseDate())).collect(Collectors.toList());\n\n        }catch (SQLException sqlException){\n            System.err.println(&quot;Error in getMonthlyExpensesNew&quot;);\n        }\n\n        return String.valueOf(monthlyData);\n    }\n\n\npublic boolean checkForCurrentMonth(String givenDate){\n        LocalDate currentDate = LocalDate.now();\n        LocalDate monthToCheck = LocalDate.parse(givenDate);\n        return currentDate.getMonth().equals(monthToCheck.getMonth());\n    }\n</code></pre>\n"},{"tags":["java","kotlin","ktor-client"],"answers":[{"tags":[],"owner":{"account_id":10194588,"reputation":949,"user_id":7526789,"accept_rate":89,"display_name":"Anmol Gautam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646838147,"creation_date":1646838147,"answer_id":71411450,"question_id":71409463,"body_markdown":"It is because of the following line in Gradle configuration https://github.com/ktorio/ktor/blob/290cd60fc1ee4c78ae84fcba4c76d590ab0af18f/gradle/compatibility.gradle#L1\r\n\r\nQuoting from README of Binary compatibility validator on GitHub\r\n\r\n&gt;The tool allows to dump binary API of a Kotlin library that is public in sense of Kotlin visibilities and ensures that the public binary API wasn&#39;t changed in a way that make this change binary incompatible.\r\n\r\n\r\nYou can read more about this at https://github.com/Kotlin/binary-compatibility-validator.","title":"What is a .api file in the context of Java or Kotlin","body":"<p>It is because of the following line in Gradle configuration <a href=\"https://github.com/ktorio/ktor/blob/290cd60fc1ee4c78ae84fcba4c76d590ab0af18f/gradle/compatibility.gradle#L1\" rel=\"nofollow noreferrer\">https://github.com/ktorio/ktor/blob/290cd60fc1ee4c78ae84fcba4c76d590ab0af18f/gradle/compatibility.gradle#L1</a></p>\n<p>Quoting from README of Binary compatibility validator on GitHub</p>\n<blockquote>\n<p>The tool allows to dump binary API of a Kotlin library that is public in sense of Kotlin visibilities and ensures that the public binary API wasn't changed in a way that make this change binary incompatible.</p>\n</blockquote>\n<p>You can read more about this at <a href=\"https://github.com/Kotlin/binary-compatibility-validator\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/binary-compatibility-validator</a>.</p>\n"}],"owner":{"account_id":18668468,"reputation":336,"user_id":13607872,"display_name":"OtienoSamwel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71411450,"answer_count":1,"score":4,"last_activity_date":1646838147,"creation_date":1646829351,"question_id":71409463,"body_markdown":"I have been looking at the Ktor-client source code on github trying to understand it before making contributions when I came across [this](https://github.com/ktorio/ktor/blob/main/ktor-client/ktor-client-plugins/ktor-client-auth/api/ktor-client-auth.api) file. I see java syntax but I do not understand why it has the extension (.api), plus what it is used for. Any answers of ref links will be appreciated.","title":"What is a .api file in the context of Java or Kotlin","body":"<p>I have been looking at the Ktor-client source code on github trying to understand it before making contributions when I came across <a href=\"https://github.com/ktorio/ktor/blob/main/ktor-client/ktor-client-plugins/ktor-client-auth/api/ktor-client-auth.api\" rel=\"nofollow noreferrer\">this</a> file. I see java syntax but I do not understand why it has the extension (.api), plus what it is used for. Any answers of ref links will be appreciated.</p>\n"},{"tags":["java","android","processing","android-sound"],"comments":[{"owner":{"account_id":16434596,"reputation":862,"user_id":11872490,"display_name":"Kabir"},"score":0,"creation_date":1566210464,"post_id":57554897,"comment_id":101571572,"body_markdown":"Data folder mean?","body":"Data folder mean?"},{"owner":{"account_id":15251441,"reputation":13,"user_id":11004665,"display_name":"Aaron P"},"score":0,"creation_date":1566210508,"post_id":57554897,"comment_id":101571593,"body_markdown":"Its in the data folder and its exact name is calm1.mp3","body":"Its in the data folder and its exact name is calm1.mp3"},{"owner":{"account_id":15251441,"reputation":13,"user_id":11004665,"display_name":"Aaron P"},"score":0,"creation_date":1566210711,"post_id":57554897,"comment_id":101571691,"body_markdown":"sketch/data/calm1","body":"sketch/data/calm1"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1566213541,"post_id":57554897,"comment_id":101573045,"body_markdown":"you likely placed the file in wrong place. It has to be in assets","body":"you likely placed the file in wrong place. It has to be in assets"},{"owner":{"account_id":15251441,"reputation":13,"user_id":11004665,"display_name":"Aaron P"},"score":0,"creation_date":1566213950,"post_id":57554897,"comment_id":101573258,"body_markdown":"Im using processing in the Android processing development environment (APDE) and files that  your sketch uses are in the data folder","body":"Im using processing in the Android processing development environment (APDE) and files that  your sketch uses are in the data folder"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1566214201,"post_id":57554897,"comment_id":101573392,"body_markdown":"then you need to use the code which will load them from data folder, not from assets folder","body":"then you need to use the code which will load them from data folder, not from assets folder"},{"owner":{"account_id":15251441,"reputation":13,"user_id":11004665,"display_name":"Aaron P"},"score":0,"creation_date":1566214417,"post_id":57554897,"comment_id":101573499,"body_markdown":"everything in apde by default is in the data folder","body":"everything in apde by default is in the data folder"}],"answers":[{"tags":[],"owner":{"account_id":1927778,"reputation":321,"user_id":1737838,"display_name":"ludiccc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646838090,"creation_date":1646838090,"answer_id":71411432,"question_id":57554897,"body_markdown":"This question is a bit old but it needs an answer (as it appears on the search engines).\r\n\r\nThe following code works the way you asked for. Is a little bit different than yours, it sets the DataSource directly from the AssetFileDescriptor object:\r\n\r\n\r\n    import android.media.MediaPlayer;\r\n    import android.content.res.AssetFileDescriptor;\r\n    import android.content.Context;\r\n    import android.app.Activity;\r\n    \r\n    void setup() {\r\n        AssetFileDescriptor descriptor = this.getActivity().getAssets().openFd(&quot;calm1.mp3&quot;);\r\n    \r\n        mp = new MediaPlayer();\r\n        mp.setDataSource(descriptor.getFileDescriptor(), descriptor.getStartOffset(), descriptor.getLength());\r\n        descriptor.close();\r\n        mp.prepare();\r\n        mp.setVolume(1f, 1f);\r\n        mp.setLooping(true);\r\n        mp.start();\r\n    } ","title":"Play sound with Android&#39;s media player Processing","body":"<p>This question is a bit old but it needs an answer (as it appears on the search engines).</p>\n<p>The following code works the way you asked for. Is a little bit different than yours, it sets the DataSource directly from the AssetFileDescriptor object:</p>\n<pre><code>import android.media.MediaPlayer;\nimport android.content.res.AssetFileDescriptor;\nimport android.content.Context;\nimport android.app.Activity;\n\nvoid setup() {\n    AssetFileDescriptor descriptor = this.getActivity().getAssets().openFd(&quot;calm1.mp3&quot;);\n\n    mp = new MediaPlayer();\n    mp.setDataSource(descriptor.getFileDescriptor(), descriptor.getStartOffset(), descriptor.getLength());\n    descriptor.close();\n    mp.prepare();\n    mp.setVolume(1f, 1f);\n    mp.setLooping(true);\n    mp.start();\n} \n</code></pre>\n"}],"owner":{"account_id":15251441,"reputation":13,"user_id":11004665,"display_name":"Aaron P"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646838090,"creation_date":1566210423,"question_id":57554897,"body_markdown":"So I found this code online but for some reason, it doesn&#39;t work. I mean it didn&#39;t crash but it just couldn&#39;t play the file\r\ncode:\r\n```\r\nimport android.media.MediaPlayer;\r\nimport android.content.res.AssetFileDescriptor;\r\nimport android.content.Context;\r\nimport android.app.Activity;\r\n \r\n/////////////////////////////////////////////////////////\r\n \r\nMediaPlayer mp;\r\nContext context; \r\nActivity act;\r\nAssetFileDescriptor afd;\r\n \r\nvoid setup() {\r\n  act = this.getActivity();\r\n  context = act.getApplicationContext();\r\n  try {\r\n    mp = new MediaPlayer();\r\n    afd = context.getAssets().openFd(&quot;calm1.mp3&quot;);//which is in the data folder\r\n    mp.setDataSource(afd.getFileDescriptor());\r\n    mp.prepare();\r\n  } \r\n  catch(IOException e) {\r\n    println(&quot;file did not load&quot;+e);\r\n  }\r\n  mp.start();\r\n};\r\n \r\nvoid draw() {\r\n};\r\n```\r\nand the output is:\r\n```\r\nfile did not load java.io.FileNotFoundException: calm1.mp3\r\n```\r\npssst im using processing","title":"Play sound with Android&#39;s media player Processing","body":"<p>So I found this code online but for some reason, it doesn't work. I mean it didn't crash but it just couldn't play the file\ncode:</p>\n\n<pre><code>import android.media.MediaPlayer;\nimport android.content.res.AssetFileDescriptor;\nimport android.content.Context;\nimport android.app.Activity;\n\n/////////////////////////////////////////////////////////\n\nMediaPlayer mp;\nContext context; \nActivity act;\nAssetFileDescriptor afd;\n\nvoid setup() {\n  act = this.getActivity();\n  context = act.getApplicationContext();\n  try {\n    mp = new MediaPlayer();\n    afd = context.getAssets().openFd(\"calm1.mp3\");//which is in the data folder\n    mp.setDataSource(afd.getFileDescriptor());\n    mp.prepare();\n  } \n  catch(IOException e) {\n    println(\"file did not load\"+e);\n  }\n  mp.start();\n};\n\nvoid draw() {\n};\n</code></pre>\n\n<p>and the output is:</p>\n\n<pre><code>file did not load java.io.FileNotFoundException: calm1.mp3\n</code></pre>\n\n<p>pssst im using processing</p>\n"},{"tags":["java","clamav"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646839151,"post_id":71411423,"comment_id":126223684,"body_markdown":"Are you running the app as a user who does not have write permission on the spreadsheet file?","body":"Are you running the app as a user who does not have write permission on the spreadsheet file?"},{"owner":{"account_id":13130294,"reputation":9,"user_id":9484952,"display_name":"codow"},"score":0,"creation_date":1646840854,"post_id":71411423,"comment_id":126224445,"body_markdown":"I am running it as a normal user, I don&#39;t get the error when uploading another file, like a pdf, and there is enough space for the antivirus to copy the file to the /tmp directory","body":"I am running it as a normal user, I don&#39;t get the error when uploading another file, like a pdf, and there is enough space for the antivirus to copy the file to the /tmp directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646840968,"post_id":71411423,"comment_id":126224493,"body_markdown":"You&#39;re implying that disk space is low on /tmp partition?","body":"You&#39;re implying that disk space is low on /tmp partition?"},{"owner":{"account_id":13130294,"reputation":9,"user_id":9484952,"display_name":"codow"},"score":0,"creation_date":1646841251,"post_id":71411423,"comment_id":126224634,"body_markdown":"no there is no probleme with space, the directory has 1go free space and the file to scan has only 90Mo","body":"no there is no probleme with space, the directory has 1go free space and the file to scan has only 90Mo"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646841438,"post_id":71411423,"comment_id":126224696,"body_markdown":"That error message is coming from Clam? If so, how are you running it?","body":"That error message is coming from Clam? If so, how are you running it?"},{"owner":{"account_id":13130294,"reputation":9,"user_id":9484952,"display_name":"codow"},"score":0,"creation_date":1646843929,"post_id":71411423,"comment_id":126225756,"body_markdown":"it is coming from the log file of the java application, the app runs the antivirus on every file upload, scans the file and then sends it","body":"it is coming from the log file of the java application, the app runs the antivirus on every file upload, scans the file and then sends it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646844264,"post_id":71411423,"comment_id":126225906,"body_markdown":"My best guess at the moment is to restate that the java process owner has no write permission on /tmp/jfile_502-814144_test.xlsx","body":"My best guess at the moment is to restate that the java process owner has no write permission on /tmp/jfile_502-814144_test.xlsx"},{"owner":{"account_id":13130294,"reputation":9,"user_id":9484952,"display_name":"codow"},"score":0,"creation_date":1646911186,"post_id":71411423,"comment_id":126242928,"body_markdown":"this could be the reason, given the error message in the logs. But this issue is not produced when scanning other files, so my guessing is that&#39;s probably a problem with file itself","body":"this could be the reason, given the error message in the logs. But this issue is not produced when scanning other files, so my guessing is that&#39;s probably a problem with file itself"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1646913361,"post_id":71411423,"comment_id":126243749,"body_markdown":"Difficult to know without being able to inspect the situation. Maybe some sort of locking problem? Worth taking a look maybe with something like sudo lsof | grep &#39;502-814144&#39;","body":"Difficult to know without being able to inspect the situation. Maybe some sort of locking problem? Worth taking a look maybe with something like sudo lsof | grep &#39;502-814144&#39;"},{"owner":{"account_id":13130294,"reputation":9,"user_id":9484952,"display_name":"codow"},"score":0,"creation_date":1646917125,"post_id":71411423,"comment_id":126245197,"body_markdown":"this could be the reason, given the error message in the logs. But this issue is not produced when scanning other files, so my guessing is that&#39;s probably a problem with file itself. but for the scan it&#39;s the clamav daemon that manipulates the file and analyses it, then it will be sent.","body":"this could be the reason, given the error message in the logs. But this issue is not produced when scanning other files, so my guessing is that&#39;s probably a problem with file itself. but for the scan it&#39;s the clamav daemon that manipulates the file and analyses it, then it will be sent."},{"owner":{"account_id":13130294,"reputation":9,"user_id":9484952,"display_name":"codow"},"score":0,"creation_date":1647954462,"post_id":71411423,"comment_id":126496587,"body_markdown":"the problem was solved, by taking a look to the messages log file, it appears to be a problem of space indeed. although there was enough before the issue occured, when I increased it, the AV scans normally. thank you for your suggestions @g00se","body":"the problem was solved, by taking a look to the messages log file, it appears to be a problem of space indeed. although there was enough before the issue occured, when I increased it, the AV scans normally. thank you for your suggestions @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647954566,"post_id":71411423,"comment_id":126496633,"body_markdown":"Glad you sorted it out","body":"Glad you sorted it out"}],"owner":{"account_id":13130294,"reputation":9,"user_id":9484952,"display_name":"codow"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646838074,"creation_date":1646838074,"question_id":71411423,"body_markdown":"I am facing an issue trying to upload a .xlsx file with a java application, the application scans the file with clamav antivirus before uploading it. I am getting the error below, does anyone have an idea ?\r\n\r\nThe validation of the upload transaction failed: A ValidationException occurred: [Validation error for property: &#39;null&#39;: An unexpected error occurred while scanning file &#39;test.xlsx&#39;: /tmp/jfile_502-814144_test.xlsx.part: Can&#39;t write to file ERROR.\r\n\r\n ","title":"file upload with java and scan with clamav","body":"<p>I am facing an issue trying to upload a .xlsx file with a java application, the application scans the file with clamav antivirus before uploading it. I am getting the error below, does anyone have an idea ?</p>\n<p>The validation of the upload transaction failed: A ValidationException occurred: [Validation error for property: 'null': An unexpected error occurred while scanning file 'test.xlsx': /tmp/jfile_502-814144_test.xlsx.part: Can't write to file ERROR.</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1467200600,"post_id":38098504,"comment_id":63631324,"body_markdown":"Have you considered using guava caching since they have already implemented that?","body":"Have you considered using guava caching since they have already implemented that?"},{"owner":{"account_id":2907268,"reputation":1591,"user_id":2492242,"accept_rate":19,"display_name":"Laxmikant"},"score":0,"creation_date":1467203037,"post_id":38098504,"comment_id":63633058,"body_markdown":"No. As I am working preexisting code so trying to use that only. But I will take a look at guava cache if nothing works.","body":"No. As I am working preexisting code so trying to use that only. But I will take a look at guava cache if nothing works."},{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1467203506,"post_id":38098504,"comment_id":63633351,"body_markdown":"Guava cache works like a hashmap but comes with all the features you require. If you want your clear not to coincide with your write, you need to synchronise both those method on the same object. Is your code correct? copyOfOriginalCache has a key-type of Integer, yet you retrieve the original one with a string as key. I am not sure why you create the copy either.","body":"Guava cache works like a hashmap but comes with all the features you require. If you want your clear not to coincide with your write, you need to synchronise both those method on the same object. Is your code correct? copyOfOriginalCache has a key-type of Integer, yet you retrieve the original one with a string as key. I am not sure why you create the copy either."},{"owner":{"account_id":2907268,"reputation":1591,"user_id":2492242,"accept_rate":19,"display_name":"Laxmikant"},"score":0,"creation_date":1467204707,"post_id":38098504,"comment_id":63634245,"body_markdown":"Thanks for the suggestion. Actually  copyOfOriginalCache  is the copy of value of OriginalCache. The value itself is a Map of type  Map&lt;Integer, Date&gt;","body":"Thanks for the suggestion. Actually  copyOfOriginalCache  is the copy of value of OriginalCache. The value itself is a Map of type  Map&lt;Integer, Date&gt;"},{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":0,"creation_date":1467204858,"post_id":38098504,"comment_id":63634365,"body_markdown":"Oh, that makes sense. Alternatively, to make it work with guava and compatible with your code, you could create your own hashmap implementation that simply wraps a guava cache. They implement most of the methods of a hashmap anyway, they just created a new interface to make it clear that it is a cache and not an interface. Guava is also well proven in production and test and used across many enterprise products. Why reinvent the wheel ;)","body":"Oh, that makes sense. Alternatively, to make it work with guava and compatible with your code, you could create your own hashmap implementation that simply wraps a guava cache. They implement most of the methods of a hashmap anyway, they just created a new interface to make it clear that it is a cache and not an interface. Guava is also well proven in production and test and used across many enterprise products. Why reinvent the wheel ;)"},{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1467208438,"post_id":38098504,"comment_id":63637215,"body_markdown":"The `clear()` method of ConcurrentHashMap is thread safe.","body":"The <code>clear()</code> method of ConcurrentHashMap is thread safe."},{"owner":{"account_id":2907268,"reputation":1591,"user_id":2492242,"accept_rate":19,"display_name":"Laxmikant"},"score":0,"creation_date":1467211770,"post_id":38098504,"comment_id":63639968,"body_markdown":"@ pandaadb thanks!","body":"@ pandaadb thanks!"},{"owner":{"account_id":2907268,"reputation":1591,"user_id":2492242,"accept_rate":19,"display_name":"Laxmikant"},"score":0,"creation_date":1467270363,"post_id":38098504,"comment_id":63664915,"body_markdown":"@ jaco0646 So that means when we call clear on a map there is no put/get can happen ?","body":"@ jaco0646 So that means when we call clear on a map there is no put/get can happen ?"}],"answers":[{"tags":[],"owner":{"account_id":191505,"reputation":7321,"user_id":432115,"accept_rate":64,"display_name":"niels"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646838004,"creation_date":1646838004,"answer_id":71411404,"question_id":38098504,"body_markdown":"For a ConcurrentHashMap you can use computeIfPresent, with a predicate `canDeleted(Value v)`\r\n```\r\nconcurrentHashmap.forEach((key, value) -&gt; \r\n    concurrentHashmap.computeIfPresent(key, (t, s) -&gt; (canDeleted(s) ? null : s)))\r\n```\r\nthis is threadsafe and easy to implement.","title":"How to clean ConcurrentHashMap in thread safe way","body":"<p>For a ConcurrentHashMap you can use computeIfPresent, with a predicate <code>canDeleted(Value v)</code></p>\n<pre><code>concurrentHashmap.forEach((key, value) -&gt; \n    concurrentHashmap.computeIfPresent(key, (t, s) -&gt; (canDeleted(s) ? null : s)))\n</code></pre>\n<p>this is threadsafe and easy to implement.</p>\n"}],"owner":{"account_id":2907268,"reputation":1591,"user_id":2492242,"accept_rate":19,"display_name":"Laxmikant"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646838004,"creation_date":1467200426,"question_id":38098504,"body_markdown":"I have a ConcurrentHashMap oricginalCahce in which mulptile threads are writing concurrently from many places of the code.\r\nI have to flush the map periodically so I do below I create a temporary copy of Map and clean the origianl Map\r\n\r\n    void flushcopyOfOriginalCache(String queueName) {\r\n            Map&lt;Integer, Date&gt; copyOfOriginalCache = null;\r\n            Object lock = getLastscheduledTimeUpdateLock(queueName);\r\n    \t\t//this lock is not aquired at the time of writing as the writing in taking place in many places of the code\r\n            synchronized (lock) {\r\n    \t\t//rechecking for whether expired or not\r\n                if (isOrigCacheExpired(queueName)) {\r\n                    log.info(&quot;origCache Expired for queue {}&quot;, queueName);\r\n                    if (orignalCache.containsKey(queueName)) {\r\n                        copyOfOriginalCache = new ConcurrentHashMap&lt;&gt;(\r\n                                orignalCache.get(queueName));\r\n    \t\t\t\t    //How safe is below clean ??? as parallel writes might be going on orignalCache!\r\n                        orignalCache.get(queueName).clear();\r\n                    }\r\n    \r\n                }\r\n            }\r\n    \r\n            if (copyOfOriginalCache == null || copyOfOriginalCache.isEmpty()) {\r\n                return;\r\n            }\r\n    \t\t//Below is expenssive DB operations on with data in copyOfOriginalCache  \r\n    \t\t\r\n    \t\t}\r\n\r\nHow to make sure that this clean method should not delete entries which is par alley being written. Please guide.","title":"How to clean ConcurrentHashMap in thread safe way","body":"<p>I have a ConcurrentHashMap oricginalCahce in which mulptile threads are writing concurrently from many places of the code.\nI have to flush the map periodically so I do below I create a temporary copy of Map and clean the origianl Map</p>\n\n<pre><code>void flushcopyOfOriginalCache(String queueName) {\n        Map&lt;Integer, Date&gt; copyOfOriginalCache = null;\n        Object lock = getLastscheduledTimeUpdateLock(queueName);\n        //this lock is not aquired at the time of writing as the writing in taking place in many places of the code\n        synchronized (lock) {\n        //rechecking for whether expired or not\n            if (isOrigCacheExpired(queueName)) {\n                log.info(\"origCache Expired for queue {}\", queueName);\n                if (orignalCache.containsKey(queueName)) {\n                    copyOfOriginalCache = new ConcurrentHashMap&lt;&gt;(\n                            orignalCache.get(queueName));\n                    //How safe is below clean ??? as parallel writes might be going on orignalCache!\n                    orignalCache.get(queueName).clear();\n                }\n\n            }\n        }\n\n        if (copyOfOriginalCache == null || copyOfOriginalCache.isEmpty()) {\n            return;\n        }\n        //Below is expenssive DB operations on with data in copyOfOriginalCache  \n\n        }\n</code></pre>\n\n<p>How to make sure that this clean method should not delete entries which is par alley being written. Please guide.</p>\n"},{"tags":["java","tcp","apache-httpclient-4.x","apache-httpcomponents"],"comments":[{"owner":{"account_id":324766,"reputation":54622,"user_id":645551,"accept_rate":93,"display_name":"freakish"},"score":0,"creation_date":1587031943,"post_id":61247571,"comment_id":108351399,"body_markdown":"Stale connection test is done by periodically checking whether the connection is inactive for a long period of time. Obviously this means that some connections can be dead but still in use.","body":"Stale connection test is done by periodically checking whether the connection is inactive for a long period of time. Obviously this means that some connections can be dead but still in use."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1587033095,"post_id":61247571,"comment_id":108351953,"body_markdown":"Becasue it is trying to predict the future.","body":"Becasue it is trying to predict the future."},{"owner":{"account_id":2802087,"reputation":4058,"user_id":2410148,"accept_rate":60,"display_name":"Bhuvan"},"score":0,"creation_date":1587033470,"post_id":61247571,"comment_id":108352141,"body_markdown":"@freakish what is the time period... a ref to code will help..","body":"@freakish what is the time period... a ref to code will help.."},{"owner":{"account_id":324766,"reputation":54622,"user_id":645551,"accept_rate":93,"display_name":"freakish"},"score":0,"creation_date":1587035599,"post_id":61247571,"comment_id":108353251,"body_markdown":"@Bhuvan you have the code in the link you&#39;ve provided. The `IdleConnectionMonitorThread` class.","body":"@Bhuvan you have the code in the link you&#39;ve provided. The <code>IdleConnectionMonitorThread</code> class."}],"answers":[{"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646837955,"creation_date":1587481702,"answer_id":61346780,"question_id":61247571,"body_markdown":"It is trivial. There is always a window of time, however small, between the successful stale check and request execution, in which the opposite endpoint can close the connection on its end and make the connection stale on the client end.","title":"Why the stale connection check is not 100% reliable in apache httpclient connectionPool","body":"<p>It is trivial. There is always a window of time, however small, between the successful stale check and request execution, in which the opposite endpoint can close the connection on its end and make the connection stale on the client end.</p>\n"}],"owner":{"account_id":2802087,"reputation":4058,"user_id":2410148,"accept_rate":60,"display_name":"Bhuvan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3050,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61346780,"answer_count":1,"score":3,"last_activity_date":1646837955,"creation_date":1587031417,"question_id":61247571,"body_markdown":"In section `2.5. Connection eviction policy` of the documentation \r\n[connection managment doc][1] for httpclient\r\nmentions that \r\n\r\n&gt; HttpClient tries to mitigate the problem by testing whether the connection is &#39;stale&#39;, that is no longer valid because it was closed on the server side, prior to using the connection for executing an HTTP request. **The stale connection check is not 100% reliable.**\r\n\r\nI am just wondering why stale connection cant be checked reliably ?\r\nWhat logical/TCP construct dont allow it to happen reliably?\r\n\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html","title":"Why the stale connection check is not 100% reliable in apache httpclient connectionPool","body":"<p>In section <code>2.5. Connection eviction policy</code> of the documentation \n<a href=\"https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html\" rel=\"nofollow noreferrer\">connection managment doc</a> for httpclient\nmentions that </p>\n\n<blockquote>\n  <p>HttpClient tries to mitigate the problem by testing whether the connection is 'stale', that is no longer valid because it was closed on the server side, prior to using the connection for executing an HTTP request. <strong>The stale connection check is not 100% reliable.</strong></p>\n</blockquote>\n\n<p>I am just wondering why stale connection cant be checked reliably ?\nWhat logical/TCP construct dont allow it to happen reliably?</p>\n"},{"tags":["java","json","nullpointerexception","jackson","idml"],"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1349722248,"post_id":12779278,"comment_id":17287518,"body_markdown":"Alas, what is really needed is the part of stack trace closer to original NPE. This part just points to catch clause that rethrows a `RuntimeException`. Without knowing that, it is not possible to say what to do to avoid it.","body":"Alas, what is really needed is the part of stack trace closer to original NPE. This part just points to catch clause that rethrows a <code>RuntimeException</code>. Without knowing that, it is not possible to say what to do to avoid it."},{"owner":{"account_id":1897653,"reputation":335,"user_id":1714238,"display_name":"Steffen"},"score":2,"creation_date":1349869202,"post_id":12779278,"comment_id":17337596,"body_markdown":"Turns out the attribute &quot;greenValue&quot; is of type Double, not double, so it can also have the value null. While Double can handle null values, double can&#39;t. My theory is that Jackson JSON tries to access it as a primitive datatype, causing the crash. Still not sure what to do about it, though...","body":"Turns out the attribute &quot;greenValue&quot; is of type Double, not double, so it can also have the value null. While Double can handle null values, double can&#39;t. My theory is that Jackson JSON tries to access it as a primitive datatype, causing the crash. Still not sure what to do about it, though..."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1349893917,"post_id":12779278,"comment_id":17350317,"body_markdown":"This sounds like possible bug in handling, so it&#39;d be good to file a bug for Jackson. While most handlers for primitive types do coerce nulls into default value (0.0d here), perhaps Object Id handler does not take proper precaution -- or maybe setter/field access triggers the issue. Java does automatic unwrapping in many cases.","body":"This sounds like possible bug in handling, so it&#39;d be good to file a bug for Jackson. While most handlers for primitive types do coerce nulls into default value (0.0d here), perhaps Object Id handler does not take proper precaution -- or maybe setter/field access triggers the issue. Java does automatic unwrapping in many cases."}],"answers":[{"tags":[],"owner":{"account_id":2526295,"reputation":868,"user_id":2195620,"accept_rate":29,"display_name":"Maxime T"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1492644355,"creation_date":1492644355,"answer_id":43507706,"question_id":12779278,"body_markdown":"You are right, `Double` can handle *null* value, and `double` can&#39;t.\r\nIn my case, my property was of type `Long` but the getter was returning a `long` value and not a `Long` value. This was acceptable as far as the value was not *null*. But when the value was *null*, jackson was not able to serialize the *null* value for `long`.\r\n\r\nJust changing the getter to return a `Long` instead of a `long` fixed it.\r\nVerify if your getter return a `Double` and not a `double` in your case.\r\n\r\nps: I know this question is quite old but since I was having the same problem and the question was 2nd in Google answers... Seemed fair to answer it later than never","title":"JsonMappingException (was java.lang.NullPointerException)","body":"<p>You are right, <code>Double</code> can handle <em>null</em> value, and <code>double</code> can't.\nIn my case, my property was of type <code>Long</code> but the getter was returning a <code>long</code> value and not a <code>Long</code> value. This was acceptable as far as the value was not <em>null</em>. But when the value was <em>null</em>, jackson was not able to serialize the <em>null</em> value for <code>long</code>.</p>\n\n<p>Just changing the getter to return a <code>Long</code> instead of a <code>long</code> fixed it.\nVerify if your getter return a <code>Double</code> and not a <code>double</code> in your case.</p>\n\n<p>ps: I know this question is quite old but since I was having the same problem and the question was 2nd in Google answers... Seemed fair to answer it later than never</p>\n"},{"tags":[],"owner":{"account_id":5541139,"reputation":449,"user_id":4397613,"accept_rate":27,"display_name":"shane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541422304,"creation_date":1541422304,"answer_id":53154826,"question_id":12779278,"body_markdown":"I don&#39;t know if this is still valid but, I solved this problem by changing the version of `com.fasterxml.jackson.dataformat:jackson-dataformat-yaml`. Earlier I was using 2.3.0 and was getting this same error. I changed it to 2.7.8 and it is working fine now.","title":"JsonMappingException (was java.lang.NullPointerException)","body":"<p>I don't know if this is still valid but, I solved this problem by changing the version of <code>com.fasterxml.jackson.dataformat:jackson-dataformat-yaml</code>. Earlier I was using 2.3.0 and was getting this same error. I changed it to 2.7.8 and it is working fine now.</p>\n"},{"tags":[],"owner":{"account_id":16311070,"reputation":144,"user_id":11779689,"display_name":"Haranath Boggarapu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620851935,"creation_date":1620851935,"answer_id":67510728,"question_id":12779278,"body_markdown":"I got the same issue after upgrading to spring boot 2.4.1 from 1.5, issue is one of the field is not getting serialized while invoking a GET Request. Earlier the piece of code looks like below (before spring boot upgrade)\r\n\r\n    @Bean\r\n        public RepositoryRestConfigurer getRestConfigurer() {\r\n            return new RepositoryRestConfigurerAdapter() {\r\n                @Override\r\n                void configureJacksonObjectMapper(ObjectMapper objectMapper) {\r\n                    super.configureJacksonObjectMapper(objectMapper)\r\n                    def validationResponseSerializerUtil = new ValidationResponseSerializerUtil()\r\n                    def simpleModule = validationResponseSerializerUtil.getSerializeModule()\r\n                    objectMapper.registerModule(simpleModule)\r\n                    objectMapper.enable(SerializationFeature.INDENT_OUTPUT)\r\n                }\r\n            }\r\n        }\r\n\r\nBut after spring boot upgrade, above piece of code (serializing the ValidationResponse via RepositoryRestConfigurer) is not working, replaced it with below \r\n\r\n    @Bean(name = &quot;objectMapper&quot;)\r\n        ObjectMapper objectMapper() {\r\n            def validationResponseSerializerUtil = new ValidationResponseSerializerUtil()\r\n            def simpleModule = validationResponseSerializerUtil.getSerializeModule()\r\n            ObjectMapper objectMapper=new ObjectMapper()\r\n            objectMapper.registerModule(simpleModule)\r\n            objectMapper.enable(SerializationFeature.INDENT_OUTPUT)\r\n            return objectMapper\r\n        }\r\n\r\nNow everything works fine\r\n","title":"JsonMappingException (was java.lang.NullPointerException)","body":"<p>I got the same issue after upgrading to spring boot 2.4.1 from 1.5, issue is one of the field is not getting serialized while invoking a GET Request. Earlier the piece of code looks like below (before spring boot upgrade)</p>\n<pre><code>@Bean\n    public RepositoryRestConfigurer getRestConfigurer() {\n        return new RepositoryRestConfigurerAdapter() {\n            @Override\n            void configureJacksonObjectMapper(ObjectMapper objectMapper) {\n                super.configureJacksonObjectMapper(objectMapper)\n                def validationResponseSerializerUtil = new ValidationResponseSerializerUtil()\n                def simpleModule = validationResponseSerializerUtil.getSerializeModule()\n                objectMapper.registerModule(simpleModule)\n                objectMapper.enable(SerializationFeature.INDENT_OUTPUT)\n            }\n        }\n    }\n</code></pre>\n<p>But after spring boot upgrade, above piece of code (serializing the ValidationResponse via RepositoryRestConfigurer) is not working, replaced it with below</p>\n<pre><code>@Bean(name = &quot;objectMapper&quot;)\n    ObjectMapper objectMapper() {\n        def validationResponseSerializerUtil = new ValidationResponseSerializerUtil()\n        def simpleModule = validationResponseSerializerUtil.getSerializeModule()\n        ObjectMapper objectMapper=new ObjectMapper()\n        objectMapper.registerModule(simpleModule)\n        objectMapper.enable(SerializationFeature.INDENT_OUTPUT)\n        return objectMapper\n    }\n</code></pre>\n<p>Now everything works fine</p>\n"},{"tags":[],"owner":{"account_id":1603273,"reputation":2630,"user_id":1483903,"accept_rate":75,"display_name":"thebiggestlebowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642602031,"creation_date":1642602031,"answer_id":70772266,"question_id":12779278,"body_markdown":"I ran into a NullPointerException on a class where I had tagged the constructors with @com.fasterxml.jackson.annotation.JsonCreator.  When I removed the tag, deserialization json -&gt; mojo worked.  ","title":"JsonMappingException (was java.lang.NullPointerException)","body":"<p>I ran into a NullPointerException on a class where I had tagged the constructors with @com.fasterxml.jackson.annotation.JsonCreator.  When I removed the tag, deserialization json -&gt; mojo worked.</p>\n"},{"tags":[],"owner":{"account_id":17479516,"reputation":11,"user_id":12673691,"display_name":"Nishant Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646837917,"creation_date":1646837917,"answer_id":71411373,"question_id":12779278,"body_markdown":"Always check before conversion:-\r\n\r\n`if(node.get(&quot;id&quot;)!=null) {\r\nint id = (Integer) ((IntNode)node.get(&quot;id&quot;)).numberValue();}`\r\n\r\nIt may be possible that your json may not contain any key. Then it will throw null pointer exception. So better to check for null first.\r\n\r\n\r\n\r\n","title":"JsonMappingException (was java.lang.NullPointerException)","body":"<p>Always check before conversion:-</p>\n<p><code>if(node.get(&quot;id&quot;)!=null) { int id = (Integer) ((IntNode)node.get(&quot;id&quot;)).numberValue();}</code></p>\n<p>It may be possible that your json may not contain any key. Then it will throw null pointer exception. So better to check for null first.</p>\n"}],"owner":{"account_id":1897653,"reputation":335,"user_id":1714238,"display_name":"Steffen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39556,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":43507706,"answer_count":5,"score":21,"last_activity_date":1646837917,"creation_date":1349690016,"question_id":12779278,"body_markdown":"I&#39;ve been searching for this for a while but haven&#39;t found any answers, so either I&#39;m missing something so obvious noone has written anything about it, or I&#39;ve hit an unusual problem. I&#39;m hoping it&#39;s the first...\r\n\r\nI&#39;m working with a third-party library ([IDMLlib](http://idmllib.com)) to extract information from an Adobe InDesign document stored in the .idml format. The contents are easily read and stored in an object of type &quot;Idml&quot;, which contains everything I need. Now, I want to send this object to a web client (browser) using [Jackson JSON](http://wiki.fasterxml.com/JacksonHome).\r\n\r\nI&#39;ve hit 2 problems:\r\n\r\n1) The object tree is full of circular referefences. I&#39;ve fixed this by using Mix-ins with the annotation  \r\n\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class, property = &quot;@id&quot;)  \r\nSo now I&#39;ve got a lot of Mix-ins ready, if needed for problem 2.\r\n  \r\n2) I keep getting new object-specific errors when serializing.\r\n \r\n    --Output from testMethodsReturnsSomething--\r\n    | Failure:  testMethods(package.IdmlServiceTests)\r\n    |  com.fasterxml.jackson.databind.JsonMappingException: (was java.lang.NullPointerException) (through reference chain: de.fhcon.idmllib.api.elements.Idml[&quot;document&quot;]-&gt;de.fhcon.idmllib.api.elements.Document[&quot;tags&quot;]-&gt;de.fhcon.idmllib.api.elements.tags.Tags[&quot;xmltagList&quot;]-&gt;java.util.ArrayList[0]-&gt;de.fhcon.idmllib.api.elements.tags.XMLTag[&quot;tagColor&quot;]-&gt;de.fhcon.idmllib.api.elements.typedefs.InDesignUIColorType[&quot;greenValue&quot;])\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:218)\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:183)\r\n\tat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:155)\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:533)\r\n    ...\r\n\r\nI&#39;ve tried writing a custom NullValue/NullKey serializer, but that doesn&#39;t help the NullPointerException.  \r\n  \r\nIs there an annotation I can use in my Mix-ins that handles this?  \r\nOr is there another way for me to serialize this object?","title":"JsonMappingException (was java.lang.NullPointerException)","body":"<p>I've been searching for this for a while but haven't found any answers, so either I'm missing something so obvious noone has written anything about it, or I've hit an unusual problem. I'm hoping it's the first...</p>\n\n<p>I'm working with a third-party library (<a href=\"http://idmllib.com\" rel=\"noreferrer\">IDMLlib</a>) to extract information from an Adobe InDesign document stored in the .idml format. The contents are easily read and stored in an object of type \"Idml\", which contains everything I need. Now, I want to send this object to a web client (browser) using <a href=\"http://wiki.fasterxml.com/JacksonHome\" rel=\"noreferrer\">Jackson JSON</a>.</p>\n\n<p>I've hit 2 problems:</p>\n\n<p>1) The object tree is full of circular referefences. I've fixed this by using Mix-ins with the annotation  </p>\n\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class, property = \"@id\")  \n</code></pre>\n\n<p>So now I've got a lot of Mix-ins ready, if needed for problem 2.</p>\n\n<p>2) I keep getting new object-specific errors when serializing.</p>\n\n<pre><code>--Output from testMethodsReturnsSomething--\n| Failure:  testMethods(package.IdmlServiceTests)\n|  com.fasterxml.jackson.databind.JsonMappingException: (was java.lang.NullPointerException) (through reference chain: de.fhcon.idmllib.api.elements.Idml[\"document\"]-&gt;de.fhcon.idmllib.api.elements.Document[\"tags\"]-&gt;de.fhcon.idmllib.api.elements.tags.Tags[\"xmltagList\"]-&gt;java.util.ArrayList[0]-&gt;de.fhcon.idmllib.api.elements.tags.XMLTag[\"tagColor\"]-&gt;de.fhcon.idmllib.api.elements.typedefs.InDesignUIColorType[\"greenValue\"])\nat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:218)\nat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:183)\nat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:155)\nat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:533)\n...\n</code></pre>\n\n<p>I've tried writing a custom NullValue/NullKey serializer, but that doesn't help the NullPointerException.  </p>\n\n<p>Is there an annotation I can use in my Mix-ins that handles this?<br>\nOr is there another way for me to serialize this object?</p>\n"},{"tags":["java","spring","rest","patch","illegalargumentexception"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1646821706,"post_id":71407729,"comment_id":126217078,"body_markdown":"```Can not set com.muhammadtaha.moviecatalogue.models.MovieData field com.muhammadtaha.moviecatalogue.models.MovieCatalogue.data to java.util.LinkedHashMap```. This does tell you a lot, doesn&#39;t it? Look at the types you&#39;re using and also check the way your calling your API. Does thsi occur when calling through Java code or can you replicate the problem using curl?","body":"<code>Can not set com.muhammadtaha.moviecatalogue.models.MovieData field com.muhammadtaha.moviecatalogue.models.MovieCatalogue.data to java.util.LinkedHashMap</code>. This does tell you a lot, doesn&#39;t it? Look at the types you&#39;re using and also check the way your calling your API. Does thsi occur when calling through Java code or can you replicate the problem using curl?"},{"owner":{"account_id":13566136,"reputation":155,"user_id":9786128,"display_name":"Muhammad Taha"},"score":0,"creation_date":1646822935,"post_id":71407729,"comment_id":126217521,"body_markdown":"@geanakuch bro! I haven&#39;t used LinkedHashMap! during rnd [this](https://www.baeldung.com/jackson-linkedhashmap-cannot-be-cast) seem a bit more relevant.. I think i&#39;m not even getting close to the problem","body":"@geanakuch bro! I haven&#39;t used LinkedHashMap! during rnd <a href=\"https://www.baeldung.com/jackson-linkedhashmap-cannot-be-cast\" rel=\"nofollow noreferrer\">this</a> seem a bit more relevant.. I think i&#39;m not even getting close to the problem"},{"owner":{"account_id":13566136,"reputation":155,"user_id":9786128,"display_name":"Muhammad Taha"},"score":0,"creation_date":1646823119,"post_id":71407729,"comment_id":126217585,"body_markdown":"@geanakuch it&#39;s not even a ClassCastException","body":"@geanakuch it&#39;s not even a ClassCastException"},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1646823170,"post_id":71407729,"comment_id":126217604,"body_markdown":"Jackson always represents types it does not know as LinkedHashMap. You probably need to supply a deserializer which tells Jackson how to handle ```MovieData```. Usually you&#39;d use a TypeReference https://www.baeldung.com/jackson-map","body":"Jackson always represents types it does not know as LinkedHashMap. You probably need to supply a deserializer which tells Jackson how to handle <code>MovieData</code>. Usually you&#39;d use a TypeReference <a href=\"https://www.baeldung.com/jackson-map\" rel=\"nofollow noreferrer\">baeldung.com/jackson-map</a>"},{"owner":{"account_id":13566136,"reputation":155,"user_id":9786128,"display_name":"Muhammad Taha"},"score":0,"creation_date":1646827155,"post_id":71407729,"comment_id":126218997,"body_markdown":"@geanakuch see [this](https://stackoverflow.com/questions/60914107/java-spring-boot-rest-api-patch-java-util-linkedhashmap-cannot-be-cast-to-x?noredirect=1&amp;lq=1)","body":"@geanakuch see <a href=\"https://stackoverflow.com/questions/60914107/java-spring-boot-rest-api-patch-java-util-linkedhashmap-cannot-be-cast-to-x?noredirect=1&amp;lq=1\">this</a>"}],"owner":{"account_id":13566136,"reputation":155,"user_id":9786128,"display_name":"Muhammad Taha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646837812,"creation_date":1646821111,"question_id":71407729,"body_markdown":"I&#39;m learning and practicing CRUD Ops in which I&#39;m trying to edit a MovieCatalogue using **PATCH** request but on hitting API endpoint I&#39;m getting below ERROR!\r\n\r\nI&#39;ve R&amp;D alot but didn&#39;t got appropriate solution\r\n\r\nStacktrace\r\n```\r\n2022-03-09 14:17:48.110 ERROR 15483 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Can not set com.muhammadtaha.moviecatalogue.models.MovieData field com.muhammadtaha.moviecatalogue.models.MovieCatalogue.data to java.util.LinkedHashMap] with root cause\r\n\r\njava.lang.IllegalArgumentException: Can not set com.muhammadtaha.moviecatalogue.models.MovieData field com.muhammadtaha.moviecatalogue.models.MovieCatalogue.data to java.util.LinkedHashMap\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:799) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.setField(ReflectionUtils.java:637) ~[spring-core-5.3.16.jar:5.3.16]\r\n\tat com.muhammadtaha.moviecatalogue.services.implimentations.MovieCatalogueServiceImpl.lambda$editInfo$0(MovieCatalogueServiceImpl.java:70) ~[classes/:na]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat com.muhammadtaha.moviecatalogue.services.implimentations.MovieCatalogueServiceImpl.editInfo(MovieCatalogueServiceImpl.java:67) ~[classes/:na]\r\n\tat com.muhammadtaha.moviecatalogue.controllers.MovieCatalogueController.editInfo(MovieCatalogueController.java:47) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-5.3.16.jar:5.3.16]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nPostman response\r\n&gt; {\r\n    &quot;timestamp&quot;: &quot;2022-03-09T09:17:48.123+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/movies/19&quot;\r\n}\r\n\r\nMovieCatalogueController.java\r\n```\r\n@PatchMapping\r\n    public void editInfo(@RequestParam(name = &quot;id&quot;) Long id,\r\n                         @RequestBody Map&lt;String, Object&gt; fields) {\r\n        service.editInfo(id, fields);\r\n        log.info(&quot;movie catalogue edited {}&quot;, fields);\r\n    }\r\n```\r\n\r\n\r\nMovieCatalogueServiceImpl.java\r\n```\r\n@Override\r\n    public void editInfo(Long id, Map&lt;String, Object&gt; fields) {\r\n        if (repository.findById(id).isPresent() &amp;&amp; fields != null) {\r\n            MovieCatalogue catalogue = new ObjectMapper().convertValue(fields, MovieCatalogue.class);\r\n            fields.forEach((key, value) -&gt; {\r\n                Field field = ReflectionUtils.findField(MovieCatalogue.class, key);\r\n                field.setAccessible(true);\r\n                ReflectionUtils.setField(field, catalogue, value);\r\n            });\r\n            repository.save(catalogue);\r\n        }\r\n    }\r\n```\r\n\r\nMovieCatalogue.java\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class MovieCatalogue extends BaseEntity&lt;MovieCatalogue&gt; {\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;data_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private MovieData data;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;rating_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Rating rating;\r\n}\r\n```\r\nMovieData.java\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class MovieData extends BaseEntity&lt;MovieData&gt; {\r\n\r\n    private String name;\r\n    private String description;\r\n\r\n    @OneToOne(mappedBy = &quot;data&quot;)\r\n    @JsonIgnore\r\n    @Transient\r\n    private MovieCatalogue movieCatalogue;\r\n}\r\n```\r\nRating.java\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class Rating extends BaseEntity&lt;Rating&gt; {\r\n\r\n    private Double rating;\r\n\r\n    @OneToOne(mappedBy = &quot;rating&quot;)\r\n    @JsonIgnore\r\n    @Transient\r\n    private MovieCatalogue movieCatalogue;\r\n}\r\n```\r\n\r\nPATCH API endpoint is\r\n&gt;http://localhost:8080/movies/{id}\r\n\r\n```\r\n// for data persistance in Postgres\r\n@Repository\r\npublic interface MovieCatalogueRepository extends JpaRepository&lt;MovieCatalogue, Long&gt; {}\r\n```","title":"PATCH request in REST wth ReflectionUtils.findField using Spring getting IllegalArgumentException","body":"<p>I'm learning and practicing CRUD Ops in which I'm trying to edit a MovieCatalogue using <strong>PATCH</strong> request but on hitting API endpoint I'm getting below ERROR!</p>\n<p>I've R&amp;D alot but didn't got appropriate solution</p>\n<p>Stacktrace</p>\n<pre><code>2022-03-09 14:17:48.110 ERROR 15483 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Can not set com.muhammadtaha.moviecatalogue.models.MovieData field com.muhammadtaha.moviecatalogue.models.MovieCatalogue.data to java.util.LinkedHashMap] with root cause\n\njava.lang.IllegalArgumentException: Can not set com.muhammadtaha.moviecatalogue.models.MovieData field com.muhammadtaha.moviecatalogue.models.MovieCatalogue.data to java.util.LinkedHashMap\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167) ~[na:na]\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171) ~[na:na]\n    at java.base/jdk.internal.reflect.UnsafeObjectFieldAccessorImpl.set(UnsafeObjectFieldAccessorImpl.java:81) ~[na:na]\n    at java.base/java.lang.reflect.Field.set(Field.java:799) ~[na:na]\n    at org.springframework.util.ReflectionUtils.setField(ReflectionUtils.java:637) ~[spring-core-5.3.16.jar:5.3.16]\n    at com.muhammadtaha.moviecatalogue.services.implimentations.MovieCatalogueServiceImpl.lambda$editInfo$0(MovieCatalogueServiceImpl.java:70) ~[classes/:na]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at com.muhammadtaha.moviecatalogue.services.implimentations.MovieCatalogueServiceImpl.editInfo(MovieCatalogueServiceImpl.java:67) ~[classes/:na]\n    at com.muhammadtaha.moviecatalogue.controllers.MovieCatalogueController.editInfo(MovieCatalogueController.java:47) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-5.3.16.jar:5.3.16]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.58.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.16.jar:5.3.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.58.jar:9.0.58]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Postman response</p>\n<blockquote>\n<p>{\n&quot;timestamp&quot;: &quot;2022-03-09T09:17:48.123+00:00&quot;,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;path&quot;: &quot;/movies/19&quot;\n}</p>\n</blockquote>\n<p>MovieCatalogueController.java</p>\n<pre><code>@PatchMapping\n    public void editInfo(@RequestParam(name = &quot;id&quot;) Long id,\n                         @RequestBody Map&lt;String, Object&gt; fields) {\n        service.editInfo(id, fields);\n        log.info(&quot;movie catalogue edited {}&quot;, fields);\n    }\n</code></pre>\n<p>MovieCatalogueServiceImpl.java</p>\n<pre><code>@Override\n    public void editInfo(Long id, Map&lt;String, Object&gt; fields) {\n        if (repository.findById(id).isPresent() &amp;&amp; fields != null) {\n            MovieCatalogue catalogue = new ObjectMapper().convertValue(fields, MovieCatalogue.class);\n            fields.forEach((key, value) -&gt; {\n                Field field = ReflectionUtils.findField(MovieCatalogue.class, key);\n                field.setAccessible(true);\n                ReflectionUtils.setField(field, catalogue, value);\n            });\n            repository.save(catalogue);\n        }\n    }\n</code></pre>\n<p>MovieCatalogue.java</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@EqualsAndHashCode(callSuper = false)\npublic class MovieCatalogue extends BaseEntity&lt;MovieCatalogue&gt; {\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;data_id&quot;, referencedColumnName = &quot;id&quot;)\n    private MovieData data;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;rating_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Rating rating;\n}\n</code></pre>\n<p>MovieData.java</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@EqualsAndHashCode(callSuper = false)\npublic class MovieData extends BaseEntity&lt;MovieData&gt; {\n\n    private String name;\n    private String description;\n\n    @OneToOne(mappedBy = &quot;data&quot;)\n    @JsonIgnore\n    @Transient\n    private MovieCatalogue movieCatalogue;\n}\n</code></pre>\n<p>Rating.java</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@EqualsAndHashCode(callSuper = false)\npublic class Rating extends BaseEntity&lt;Rating&gt; {\n\n    private Double rating;\n\n    @OneToOne(mappedBy = &quot;rating&quot;)\n    @JsonIgnore\n    @Transient\n    private MovieCatalogue movieCatalogue;\n}\n</code></pre>\n<p>PATCH API endpoint is</p>\n<blockquote>\n<p>http://localhost:8080/movies/{id}</p>\n</blockquote>\n<pre><code>// for data persistance in Postgres\n@Repository\npublic interface MovieCatalogueRepository extends JpaRepository&lt;MovieCatalogue, Long&gt; {}\n</code></pre>\n"},{"tags":["java","android","kotlin","service","bluetooth"],"answers":[{"tags":[],"owner":{"account_id":9259266,"reputation":21,"user_id":6876937,"display_name":"glaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646837800,"creation_date":1646837800,"answer_id":71411335,"question_id":71336222,"body_markdown":"so... I solved it!!!\r\n\r\nThe problem was that I call discoverServices() before the service was in Connected mode.\r\n\r\nNow it&#39;s working\r\n\r\nAttach the revised code, hope someone will enjoys it\r\n\r\n    public class TagService extends Service {\r\n    String TAG = &quot;TagService&quot;;\r\n    byte OPCODE_ACTIVATE_HEART_BEAT = 0x40;\r\n\r\n    public static boolean running;\r\n    public e_status status;\r\n\r\n    private BluetoothManager mBluetoothManager;\r\n    private BluetoothAdapter mBtAdapter;\r\n    private BluetoothLeScanner mScanner;\r\n    private BluetoothDevice mDevice;\r\n    private BluetoothGatt mBluetoothGatt;\r\n    private BluetoothGattService mService;\r\n\r\n    enum e_status {\r\n        none, init, searchDevice, foundDevice, connectingToDevice, discoverServices, sendHeartBeat, finish\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        runThread();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        running = false;\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void runThread() {\r\n        status = e_status.none;\r\n        running = true;\r\n\r\n        new Thread(() -&gt; {\r\n            int interval = 4000;\r\n\r\n            while (running &amp;&amp; status != e_status.finish) {\r\n\r\n                try {\r\n                    if (status == e_status.none) {\r\n                        mBluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n                        mBtAdapter = mBluetoothManager.getAdapter();\r\n                        setStatus(e_status.init);\r\n                    }\r\n\r\n                    if (status == e_status.init) {\r\n                        mScanner = mBtAdapter.getBluetoothLeScanner();\r\n                        ArrayList&lt;ScanFilter&gt; filters = new ArrayList&lt;&gt;();\r\n                        ScanFilter tagFilter = new ScanFilter.Builder().setDeviceAddress(ConstParams.tagAddress).build();\r\n                        filters.add(tagFilter);\r\n                        ScanSettings settings = new ScanSettings.Builder().setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY).build();\r\n                        setStatus(e_status.searchDevice);\r\n                        mScanner.startScan(filters, settings, getScanCallback());\r\n                    }\r\n\r\n                    if (status == e_status.foundDevice) {\r\n                        mBluetoothGatt = mDevice.connectGatt(getApplicationContext(), false, getGattCallback());\r\n                        setStatus(e_status.connectingToDevice);\r\n                        interval = 500;\r\n                    }\r\n\r\n                    if (status == e_status.discoverServices) {\r\n                        mService = mBluetoothGatt.getService(ConstParams.serviceUUID);\r\n                        if (mService != null) {\r\n                            interval=5000;\r\n                            setStatus(e_status.sendHeartBeat);\r\n                            if(sendHeartBeat()) {\r\n                                setStatus(e_status.finish);\r\n                            }\r\n                        }\r\n                    }\r\n                } catch (Exception ex) {\r\n                    Log.e(TAG, &quot;error&quot;, ex);\r\n                    interval = 30000;\r\n                }\r\n\r\n                sleep(interval);\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    private ScanCallback getScanCallback() {\r\n        return new ScanCallback() {\r\n            @SuppressLint(&quot;MissingPermission&quot;)\r\n            @Override\r\n            public void onScanResult(int callbackType, ScanResult result) {\r\n                super.onScanResult(callbackType, result);\r\n                mDevice = mBtAdapter.getRemoteDevice(result.getDevice().getAddress());\r\n                setStatus(e_status.foundDevice);\r\n                mScanner.stopScan(this);\r\n            }\r\n\r\n            @Override\r\n            public void onBatchScanResults(List&lt;ScanResult&gt; results) {\r\n                super.onBatchScanResults(results);\r\n            }\r\n\r\n            @Override\r\n            public void onScanFailed(int errorCode) {\r\n                super.onScanFailed(errorCode);\r\n                setStatus(e_status.init);\r\n            }\r\n        };\r\n    }\r\n    private void setStatus(e_status newStatus) {\r\n        Log.i(TAG, &quot;status: &quot; + status + &quot; -&gt; &quot; + newStatus);\r\n        status = newStatus;\r\n    }\r\n    private BluetoothGattCallback getGattCallback() {\r\n        return new BluetoothGattCallback() {\r\n            @Override\r\n            public void onPhyUpdate(BluetoothGatt gatt, int txPhy, int rxPhy, int status) {\r\n                super.onPhyUpdate(gatt, txPhy, rxPhy, status);\r\n                Log.i(TAG, &quot;onPhyUpdate&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onPhyRead(BluetoothGatt gatt, int txPhy, int rxPhy, int status) {\r\n                super.onPhyRead(gatt, txPhy, rxPhy, status);\r\n                Log.i(TAG, &quot;onPhyRead&quot;);\r\n            }\r\n\r\n            @SuppressLint(&quot;MissingPermission&quot;)\r\n            @Override\r\n            public void onConnectionStateChange(BluetoothGatt gatt, int status1, int newState) {\r\n                super.onConnectionStateChange(gatt, status1, newState);\r\n                Log.i(TAG, &quot;onConnectionStateChange&quot; + status1 + &quot;,&quot; + newState);\r\n\r\n                if (newState == BluetoothProfile.STATE_CONNECTED) {\r\n                    mBluetoothGatt.discoverServices();\r\n                    setStatus(e_status.discoverServices);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n                super.onServicesDiscovered(gatt, status);\r\n                Log.i(TAG, &quot;onServicesDiscovered&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n                super.onCharacteristicRead(gatt, characteristic, status);\r\n                Log.i(TAG, &quot;onCharacteristicRead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n                super.onCharacteristicWrite(gatt, characteristic, status);\r\n                Log.i(TAG, &quot;onCharacteristicWrite&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\r\n                super.onCharacteristicChanged(gatt, characteristic);\r\n                Log.i(TAG, &quot;onCharacteristicChanged&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDescriptorRead(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n                super.onDescriptorRead(gatt, descriptor, status);\r\n                Log.i(TAG, &quot;onDescriptorRead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n                super.onDescriptorWrite(gatt, descriptor, status);\r\n                Log.i(TAG, &quot;onDescriptorWrite&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onReliableWriteCompleted(BluetoothGatt gatt, int status) {\r\n                super.onReliableWriteCompleted(gatt, status);\r\n                Log.i(TAG, &quot;onReliableWriteCompleted&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onReadRemoteRssi(BluetoothGatt gatt, int rssi, int status) {\r\n                super.onReadRemoteRssi(gatt, rssi, status);\r\n                Log.i(TAG, &quot;onReadRemoteRssi&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {\r\n                super.onMtuChanged(gatt, mtu, status);\r\n                Log.i(TAG, &quot;onMtuChanged&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onServiceChanged(@NonNull BluetoothGatt gatt) {\r\n                super.onServiceChanged(gatt);\r\n                Log.i(TAG, &quot;onServiceChanged&quot;);\r\n            }\r\n        };\r\n    }","title":"Failed to get gattService. the BluetoothGatt return with no services","body":"<p>so... I solved it!!!</p>\n<p>The problem was that I call discoverServices() before the service was in Connected mode.</p>\n<p>Now it's working</p>\n<p>Attach the revised code, hope someone will enjoys it</p>\n<pre><code>public class TagService extends Service {\nString TAG = &quot;TagService&quot;;\nbyte OPCODE_ACTIVATE_HEART_BEAT = 0x40;\n\npublic static boolean running;\npublic e_status status;\n\nprivate BluetoothManager mBluetoothManager;\nprivate BluetoothAdapter mBtAdapter;\nprivate BluetoothLeScanner mScanner;\nprivate BluetoothDevice mDevice;\nprivate BluetoothGatt mBluetoothGatt;\nprivate BluetoothGattService mService;\n\nenum e_status {\n    none, init, searchDevice, foundDevice, connectingToDevice, discoverServices, sendHeartBeat, finish\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    runThread();\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    running = false;\n}\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate void runThread() {\n    status = e_status.none;\n    running = true;\n\n    new Thread(() -&gt; {\n        int interval = 4000;\n\n        while (running &amp;&amp; status != e_status.finish) {\n\n            try {\n                if (status == e_status.none) {\n                    mBluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\n                    mBtAdapter = mBluetoothManager.getAdapter();\n                    setStatus(e_status.init);\n                }\n\n                if (status == e_status.init) {\n                    mScanner = mBtAdapter.getBluetoothLeScanner();\n                    ArrayList&lt;ScanFilter&gt; filters = new ArrayList&lt;&gt;();\n                    ScanFilter tagFilter = new ScanFilter.Builder().setDeviceAddress(ConstParams.tagAddress).build();\n                    filters.add(tagFilter);\n                    ScanSettings settings = new ScanSettings.Builder().setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY).build();\n                    setStatus(e_status.searchDevice);\n                    mScanner.startScan(filters, settings, getScanCallback());\n                }\n\n                if (status == e_status.foundDevice) {\n                    mBluetoothGatt = mDevice.connectGatt(getApplicationContext(), false, getGattCallback());\n                    setStatus(e_status.connectingToDevice);\n                    interval = 500;\n                }\n\n                if (status == e_status.discoverServices) {\n                    mService = mBluetoothGatt.getService(ConstParams.serviceUUID);\n                    if (mService != null) {\n                        interval=5000;\n                        setStatus(e_status.sendHeartBeat);\n                        if(sendHeartBeat()) {\n                            setStatus(e_status.finish);\n                        }\n                    }\n                }\n            } catch (Exception ex) {\n                Log.e(TAG, &quot;error&quot;, ex);\n                interval = 30000;\n            }\n\n            sleep(interval);\n        }\n    }).start();\n}\n\nprivate ScanCallback getScanCallback() {\n    return new ScanCallback() {\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void onScanResult(int callbackType, ScanResult result) {\n            super.onScanResult(callbackType, result);\n            mDevice = mBtAdapter.getRemoteDevice(result.getDevice().getAddress());\n            setStatus(e_status.foundDevice);\n            mScanner.stopScan(this);\n        }\n\n        @Override\n        public void onBatchScanResults(List&lt;ScanResult&gt; results) {\n            super.onBatchScanResults(results);\n        }\n\n        @Override\n        public void onScanFailed(int errorCode) {\n            super.onScanFailed(errorCode);\n            setStatus(e_status.init);\n        }\n    };\n}\nprivate void setStatus(e_status newStatus) {\n    Log.i(TAG, &quot;status: &quot; + status + &quot; -&gt; &quot; + newStatus);\n    status = newStatus;\n}\nprivate BluetoothGattCallback getGattCallback() {\n    return new BluetoothGattCallback() {\n        @Override\n        public void onPhyUpdate(BluetoothGatt gatt, int txPhy, int rxPhy, int status) {\n            super.onPhyUpdate(gatt, txPhy, rxPhy, status);\n            Log.i(TAG, &quot;onPhyUpdate&quot;);\n        }\n\n        @Override\n        public void onPhyRead(BluetoothGatt gatt, int txPhy, int rxPhy, int status) {\n            super.onPhyRead(gatt, txPhy, rxPhy, status);\n            Log.i(TAG, &quot;onPhyRead&quot;);\n        }\n\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void onConnectionStateChange(BluetoothGatt gatt, int status1, int newState) {\n            super.onConnectionStateChange(gatt, status1, newState);\n            Log.i(TAG, &quot;onConnectionStateChange&quot; + status1 + &quot;,&quot; + newState);\n\n            if (newState == BluetoothProfile.STATE_CONNECTED) {\n                mBluetoothGatt.discoverServices();\n                setStatus(e_status.discoverServices);\n            }\n        }\n\n        @Override\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n            super.onServicesDiscovered(gatt, status);\n            Log.i(TAG, &quot;onServicesDiscovered&quot;);\n        }\n\n        @Override\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicRead(gatt, characteristic, status);\n            Log.i(TAG, &quot;onCharacteristicRead&quot;);\n        }\n\n        @Override\n        public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicWrite(gatt, characteristic, status);\n            Log.i(TAG, &quot;onCharacteristicWrite&quot;);\n        }\n\n        @Override\n        public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\n            super.onCharacteristicChanged(gatt, characteristic);\n            Log.i(TAG, &quot;onCharacteristicChanged&quot;);\n        }\n\n        @Override\n        public void onDescriptorRead(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n            super.onDescriptorRead(gatt, descriptor, status);\n            Log.i(TAG, &quot;onDescriptorRead&quot;);\n        }\n\n        @Override\n        public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n            super.onDescriptorWrite(gatt, descriptor, status);\n            Log.i(TAG, &quot;onDescriptorWrite&quot;);\n        }\n\n        @Override\n        public void onReliableWriteCompleted(BluetoothGatt gatt, int status) {\n            super.onReliableWriteCompleted(gatt, status);\n            Log.i(TAG, &quot;onReliableWriteCompleted&quot;);\n        }\n\n        @Override\n        public void onReadRemoteRssi(BluetoothGatt gatt, int rssi, int status) {\n            super.onReadRemoteRssi(gatt, rssi, status);\n            Log.i(TAG, &quot;onReadRemoteRssi&quot;);\n        }\n\n        @Override\n        public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {\n            super.onMtuChanged(gatt, mtu, status);\n            Log.i(TAG, &quot;onMtuChanged&quot;);\n        }\n\n        @Override\n        public void onServiceChanged(@NonNull BluetoothGatt gatt) {\n            super.onServiceChanged(gatt);\n            Log.i(TAG, &quot;onServiceChanged&quot;);\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":9259266,"reputation":21,"user_id":6876937,"display_name":"glaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646837800,"creation_date":1646306153,"question_id":71336222,"body_markdown":"I could not get the BT services list\r\n\r\nThe method mBluetoothGatt.getService return null Because the method mDevice.connectGatt return BluetoothGatt with no services (size 0)\r\n\r\nI know for sure that the BT Device I am working with is working properly\r\n\r\nThis is my first task in a new job and it is very important for me to solve it as quickly as I can\r\n\r\nI&#39;m missing something but do not know what ...\r\n\r\nThanks a lot\r\n\r\n\r\n\r\n\r\n    public class TagService extends Service {\r\n    String TAG = &quot;TagService&quot;;\r\n\r\n    public static boolean running;\r\n    public e_status status;\r\n\r\n    private BluetoothManager mBluetoothManager;\r\n    private BluetoothAdapter mBtAdapter;\r\n    private BluetoothLeScanner mScanner;\r\n    private BluetoothDevice mDevice;\r\n    private BluetoothGatt mBluetoothGatt;\r\n    private BluetoothGattService mService;\r\n\r\n    enum e_status {\r\n        none, init, searchDevice, foundDevice, discoverServices, sendHeartBeat, finish\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        runThread();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        running = false;\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void runThread() {\r\n        status = e_status.none;\r\n        running = true;\r\n\r\n        new Thread(() -&gt; {\r\n            while (running &amp;&amp; status != e_status.finish) {\r\n                int interval=4000;\r\n\r\n                try {\r\n                    if (status == e_status.none) {\r\n                        mBluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n                        mBtAdapter = mBluetoothManager.getAdapter();\r\n                        setStatus(e_status.init);\r\n                    }\r\n\r\n                    if (status == e_status.init) {\r\n                        mScanner = mBtAdapter.getBluetoothLeScanner();\r\n                        ArrayList&lt;ScanFilter&gt; filters = new ArrayList&lt;&gt;();\r\n                        ScanFilter tagFilter = new ScanFilter.Builder().setDeviceAddress(ConstParams.tagAddress).build();\r\n                        filters.add(tagFilter);\r\n                        ScanSettings settings = new ScanSettings.Builder().setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY).build();\r\n                        setStatus(e_status.searchDevice);\r\n                        mScanner.startScan(filters, settings, getScanCallback());\r\n                    }\r\n\r\n                    if (status == e_status.foundDevice) {\r\n                        mBluetoothGatt = mDevice.connectGatt(getApplicationContext(), false, getGattCallback());\r\n                        if (mBluetoothGatt != null) {\r\n                            setStatus(e_status.discoverServices);\r\n                            mBluetoothGatt.discoverServices();\r\n                        }\r\n                    }\r\n\r\n                    if (status == e_status.discoverServices) {\r\n                        mService = mBluetoothGatt.getService(ConstParams.serviceUUID);\r\n                        if (mService != null) {\r\n                            setStatus(e_status.sendHeartBeat);\r\n                            //\r\n                            // this is no happen!!!\r\n                            //\r\n                            // TODO\r\n                            //BluetoothGattCharacteristic charac = mService.getCharacteristic(ConstParams.serviceUUID);\r\n                            //mBluetoothGatt.writeCharacteristic(characteristic);\r\n                            //mService.addCharacteristic(charac, value));\r\n                        }\r\n                    }\r\n                } catch (Exception ex) {\r\n                    Log.e(TAG, &quot;error&quot; ,ex);\r\n                    interval=30000;\r\n                }\r\n\r\n                sleep(interval);\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    private ScanCallback getScanCallback() {\r\n        return new ScanCallback() {\r\n            @SuppressLint(&quot;MissingPermission&quot;)\r\n            @Override\r\n            public void onScanResult(int callbackType, ScanResult result) {\r\n                super.onScanResult(callbackType, result);\r\n                mDevice = mBtAdapter.getRemoteDevice(result.getDevice().getAddress());\r\n                setStatus(e_status.foundDevice);\r\n                mScanner.stopScan(this);\r\n            }\r\n\r\n            @Override\r\n            public void onBatchScanResults(List&lt;ScanResult&gt; results) {\r\n                super.onBatchScanResults(results);\r\n            }\r\n\r\n            @Override\r\n            public void onScanFailed(int errorCode) {\r\n                super.onScanFailed(errorCode);\r\n                setStatus(e_status.init);\r\n            }\r\n        };\r\n    }\r\n    private void setStatus(e_status newStatus) {\r\n        Log.i(TAG, &quot;status: &quot; + status + &quot; -&gt; &quot; + newStatus);\r\n        status = newStatus;\r\n    }\r\n\r\n    private BluetoothGattCallback getGattCallback() {\r\n        return new BluetoothGattCallback() {\r\n            @Override\r\n            public void onPhyUpdate(BluetoothGatt gatt, int txPhy, int rxPhy, int status) {\r\n                super.onPhyUpdate(gatt, txPhy, rxPhy, status);\r\n                Log.i(TAG, &quot;onPhyUpdate&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onPhyRead(BluetoothGatt gatt, int txPhy, int rxPhy, int status) {\r\n                super.onPhyRead(gatt, txPhy, rxPhy, status);\r\n                Log.i(TAG, &quot;onPhyRead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onConnectionStateChange(BluetoothGatt gatt, int status1, int newState) {\r\n                super.onConnectionStateChange(gatt, status1, newState);\r\n                Log.i(TAG, &quot;onConnectionStateChange&quot; + status + &quot;,&quot; + newState);\r\n            }\r\n\r\n            @Override\r\n            public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n                super.onServicesDiscovered(gatt, status);\r\n                Log.i(TAG, &quot;onServicesDiscovered&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n                super.onCharacteristicRead(gatt, characteristic, status);\r\n                Log.i(TAG, &quot;onCharacteristicRead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n                super.onCharacteristicWrite(gatt, characteristic, status);\r\n                Log.i(TAG, &quot;onCharacteristicWrite&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\r\n                super.onCharacteristicChanged(gatt, characteristic);\r\n                Log.i(TAG, &quot;onCharacteristicChanged&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDescriptorRead(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n                super.onDescriptorRead(gatt, descriptor, status);\r\n                Log.i(TAG, &quot;onDescriptorRead&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\r\n                super.onDescriptorWrite(gatt, descriptor, status);\r\n                Log.i(TAG, &quot;onDescriptorWrite&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onReliableWriteCompleted(BluetoothGatt gatt, int status) {\r\n                super.onReliableWriteCompleted(gatt, status);\r\n                Log.i(TAG, &quot;onReliableWriteCompleted&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onReadRemoteRssi(BluetoothGatt gatt, int rssi, int status) {\r\n                super.onReadRemoteRssi(gatt, rssi, status);\r\n                Log.i(TAG, &quot;onReadRemoteRssi&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {\r\n                super.onMtuChanged(gatt, mtu, status);\r\n                Log.i(TAG, &quot;onMtuChanged&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onServiceChanged(@NonNull BluetoothGatt gatt) {\r\n                super.onServiceChanged(gatt);\r\n                Log.i(TAG, &quot;onServiceChanged&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n    private void sleep(long millis) {\r\n        try {\r\n            Thread.sleep(millis);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n}","title":"Failed to get gattService. the BluetoothGatt return with no services","body":"<p>I could not get the BT services list</p>\n<p>The method mBluetoothGatt.getService return null Because the method mDevice.connectGatt return BluetoothGatt with no services (size 0)</p>\n<p>I know for sure that the BT Device I am working with is working properly</p>\n<p>This is my first task in a new job and it is very important for me to solve it as quickly as I can</p>\n<p>I'm missing something but do not know what ...</p>\n<p>Thanks a lot</p>\n<pre><code>public class TagService extends Service {\nString TAG = &quot;TagService&quot;;\n\npublic static boolean running;\npublic e_status status;\n\nprivate BluetoothManager mBluetoothManager;\nprivate BluetoothAdapter mBtAdapter;\nprivate BluetoothLeScanner mScanner;\nprivate BluetoothDevice mDevice;\nprivate BluetoothGatt mBluetoothGatt;\nprivate BluetoothGattService mService;\n\nenum e_status {\n    none, init, searchDevice, foundDevice, discoverServices, sendHeartBeat, finish\n}\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    runThread();\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    running = false;\n}\n\n@SuppressLint(&quot;MissingPermission&quot;)\nprivate void runThread() {\n    status = e_status.none;\n    running = true;\n\n    new Thread(() -&gt; {\n        while (running &amp;&amp; status != e_status.finish) {\n            int interval=4000;\n\n            try {\n                if (status == e_status.none) {\n                    mBluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\n                    mBtAdapter = mBluetoothManager.getAdapter();\n                    setStatus(e_status.init);\n                }\n\n                if (status == e_status.init) {\n                    mScanner = mBtAdapter.getBluetoothLeScanner();\n                    ArrayList&lt;ScanFilter&gt; filters = new ArrayList&lt;&gt;();\n                    ScanFilter tagFilter = new ScanFilter.Builder().setDeviceAddress(ConstParams.tagAddress).build();\n                    filters.add(tagFilter);\n                    ScanSettings settings = new ScanSettings.Builder().setScanMode(ScanSettings.SCAN_MODE_LOW_LATENCY).build();\n                    setStatus(e_status.searchDevice);\n                    mScanner.startScan(filters, settings, getScanCallback());\n                }\n\n                if (status == e_status.foundDevice) {\n                    mBluetoothGatt = mDevice.connectGatt(getApplicationContext(), false, getGattCallback());\n                    if (mBluetoothGatt != null) {\n                        setStatus(e_status.discoverServices);\n                        mBluetoothGatt.discoverServices();\n                    }\n                }\n\n                if (status == e_status.discoverServices) {\n                    mService = mBluetoothGatt.getService(ConstParams.serviceUUID);\n                    if (mService != null) {\n                        setStatus(e_status.sendHeartBeat);\n                        //\n                        // this is no happen!!!\n                        //\n                        // TODO\n                        //BluetoothGattCharacteristic charac = mService.getCharacteristic(ConstParams.serviceUUID);\n                        //mBluetoothGatt.writeCharacteristic(characteristic);\n                        //mService.addCharacteristic(charac, value));\n                    }\n                }\n            } catch (Exception ex) {\n                Log.e(TAG, &quot;error&quot; ,ex);\n                interval=30000;\n            }\n\n            sleep(interval);\n        }\n    }).start();\n}\n\nprivate ScanCallback getScanCallback() {\n    return new ScanCallback() {\n        @SuppressLint(&quot;MissingPermission&quot;)\n        @Override\n        public void onScanResult(int callbackType, ScanResult result) {\n            super.onScanResult(callbackType, result);\n            mDevice = mBtAdapter.getRemoteDevice(result.getDevice().getAddress());\n            setStatus(e_status.foundDevice);\n            mScanner.stopScan(this);\n        }\n\n        @Override\n        public void onBatchScanResults(List&lt;ScanResult&gt; results) {\n            super.onBatchScanResults(results);\n        }\n\n        @Override\n        public void onScanFailed(int errorCode) {\n            super.onScanFailed(errorCode);\n            setStatus(e_status.init);\n        }\n    };\n}\nprivate void setStatus(e_status newStatus) {\n    Log.i(TAG, &quot;status: &quot; + status + &quot; -&gt; &quot; + newStatus);\n    status = newStatus;\n}\n\nprivate BluetoothGattCallback getGattCallback() {\n    return new BluetoothGattCallback() {\n        @Override\n        public void onPhyUpdate(BluetoothGatt gatt, int txPhy, int rxPhy, int status) {\n            super.onPhyUpdate(gatt, txPhy, rxPhy, status);\n            Log.i(TAG, &quot;onPhyUpdate&quot;);\n        }\n\n        @Override\n        public void onPhyRead(BluetoothGatt gatt, int txPhy, int rxPhy, int status) {\n            super.onPhyRead(gatt, txPhy, rxPhy, status);\n            Log.i(TAG, &quot;onPhyRead&quot;);\n        }\n\n        @Override\n        public void onConnectionStateChange(BluetoothGatt gatt, int status1, int newState) {\n            super.onConnectionStateChange(gatt, status1, newState);\n            Log.i(TAG, &quot;onConnectionStateChange&quot; + status + &quot;,&quot; + newState);\n        }\n\n        @Override\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n            super.onServicesDiscovered(gatt, status);\n            Log.i(TAG, &quot;onServicesDiscovered&quot;);\n        }\n\n        @Override\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicRead(gatt, characteristic, status);\n            Log.i(TAG, &quot;onCharacteristicRead&quot;);\n        }\n\n        @Override\n        public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicWrite(gatt, characteristic, status);\n            Log.i(TAG, &quot;onCharacteristicWrite&quot;);\n        }\n\n        @Override\n        public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\n            super.onCharacteristicChanged(gatt, characteristic);\n            Log.i(TAG, &quot;onCharacteristicChanged&quot;);\n        }\n\n        @Override\n        public void onDescriptorRead(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n            super.onDescriptorRead(gatt, descriptor, status);\n            Log.i(TAG, &quot;onDescriptorRead&quot;);\n        }\n\n        @Override\n        public void onDescriptorWrite(BluetoothGatt gatt, BluetoothGattDescriptor descriptor, int status) {\n            super.onDescriptorWrite(gatt, descriptor, status);\n            Log.i(TAG, &quot;onDescriptorWrite&quot;);\n        }\n\n        @Override\n        public void onReliableWriteCompleted(BluetoothGatt gatt, int status) {\n            super.onReliableWriteCompleted(gatt, status);\n            Log.i(TAG, &quot;onReliableWriteCompleted&quot;);\n        }\n\n        @Override\n        public void onReadRemoteRssi(BluetoothGatt gatt, int rssi, int status) {\n            super.onReadRemoteRssi(gatt, rssi, status);\n            Log.i(TAG, &quot;onReadRemoteRssi&quot;);\n        }\n\n        @Override\n        public void onMtuChanged(BluetoothGatt gatt, int mtu, int status) {\n            super.onMtuChanged(gatt, mtu, status);\n            Log.i(TAG, &quot;onMtuChanged&quot;);\n        }\n\n        @Override\n        public void onServiceChanged(@NonNull BluetoothGatt gatt) {\n            super.onServiceChanged(gatt);\n            Log.i(TAG, &quot;onServiceChanged&quot;);\n        }\n    };\n}\n\nprivate void sleep(long millis) {\n    try {\n        Thread.sleep(millis);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1646761736,"post_id":71398659,"comment_id":126202267,"body_markdown":"1) Please show the code that doesn&#39;t work against these rules. 2) Also show the data that you&#39;re trying to access, as text instead of a screenshot (which means we can also more easily use it). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"1) Please show the code that doesn&#39;t work against these rules. 2) Also show the data that you&#39;re trying to access, as text instead of a screenshot (which means we can also more easily use it). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":20441007,"reputation":19,"user_id":14997840,"display_name":"shubham chaudhari"},"score":0,"creation_date":1646804102,"post_id":71398659,"comment_id":126211771,"body_markdown":"Please check I have uploaded the code and have added an hyperlink of github repositiry where I have added the json file from firebase","body":"Please check I have uploaded the code and have added an hyperlink of github repositiry where I have added the json file from firebase"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646815411,"creation_date":1646815411,"answer_id":71406507,"question_id":71398659,"body_markdown":"When you are using the following rules:\r\n\r\n```\r\n{\r\n   &quot;rules&quot;: {\r\n     &quot;users&quot;: {\r\n        &quot;.read&quot;: &quot;auth != null&quot;,\r\n        &quot;.write&quot;: &quot;auth != null&quot;\r\n     }\r\n   } \r\n}\r\n```\r\n\r\nYou try to allow the authenticated users to write and read data under the `users` node. However, in your code, you are trying to read data from:\r\n\r\n    DatabaseReference databaseReference = \r\n            FirebaseDatabase.getInstance().getReference().child(&quot;user&quot;);\r\n                                                                  &#128070;\r\n\r\nWhich won&#39;t work. To solve this simply change:\r\n\r\n    .child(&quot;user&quot;)\r\n\r\nInto:\r\n\r\n    .child(&quot;users&quot;)\r\n               &#128070;\r\n\r\nSee the &quot;s&quot;?","title":"I cannot read and write data in firebase with auth!= null rule in android studios","body":"<p>When you are using the following rules:</p>\n<pre><code>{\n   &quot;rules&quot;: {\n     &quot;users&quot;: {\n        &quot;.read&quot;: &quot;auth != null&quot;,\n        &quot;.write&quot;: &quot;auth != null&quot;\n     }\n   } \n}\n</code></pre>\n<p>You try to allow the authenticated users to write and read data under the <code>users</code> node. However, in your code, you are trying to read data from:</p>\n<pre><code>DatabaseReference databaseReference = \n        FirebaseDatabase.getInstance().getReference().child(&quot;user&quot;);\n                                                              👆\n</code></pre>\n<p>Which won't work. To solve this simply change:</p>\n<pre><code>.child(&quot;user&quot;)\n</code></pre>\n<p>Into:</p>\n<pre><code>.child(&quot;users&quot;)\n           👆\n</code></pre>\n<p>See the &quot;s&quot;?</p>\n"}],"owner":{"reputation":19,"user_id":14997840,"display_name":"shubham chaudhari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1646837642,"creation_date":1646758257,"question_id":71398659,"body_markdown":"I have signed in but cannot read or write to the database.\r\n\r\nHere are my rules:\r\n\r\n```\r\n{\r\n   &quot;rules&quot;: {\r\n     &quot;users&quot;: {\r\n     \t&quot;.read&quot;: &quot;auth != null&quot;,\r\n     \t&quot;.write&quot;: &quot;auth != null&quot;\r\n     }\r\n   } \r\n}\r\n````\r\n\r\nUsers in the rule are at the root node and the document under it is what I want to access but cannot. If anyone knows how can I access firebase data after login on to firebase with the above-mentioned rules please answer.\r\n \r\n \r\n\r\n    mAuth.signInWithCredential(credential).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;user&quot;);\r\n\r\n                databaseReference.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                        String phone = mAuth.getCurrentUser().getPhoneNumber().substring(3);\r\n\r\n                        if(snapshot.child(phone).child(&quot;state_on_app&quot;).equals(&quot;farmer&quot;)){\r\n                            progressBar.setVisibility(View.INVISIBLE);\r\n                            Toast.makeText(LoginActivity.this, &quot;I am in&quot;, Toast.LENGTH_SHORT).show();\r\n                        }else{\r\n                            progressBar.setVisibility(View.INVISIBLE);\r\n                            Toast.makeText(LoginActivity.this, &quot;I am in as a shop&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(LoginActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        progressBar.setVisibility(View.INVISIBLE);\r\n                    }\r\n                });\r\n            } else {\r\n                // Sign in failed, display a message and update the UI\r\n                progressBar.setVisibility(View.INVISIBLE);\r\n                Toast.makeText(LoginActivity.this,task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    });\r\n\r\n  \r\nThe code with which I am trying to access the Firebase Realtime Database but it&#39;s not working.\r\n\r\n[https://github.com/aouspi/firebase-json/blob/main/README.md][1]\r\n\r\n\r\n  [1]: https://github.com/aouspi/firebase-json/blob/main/README.md","title":"I cannot read and write data in firebase with auth!= null rule in android studios","body":"<p>I have signed in but cannot read or write to the database.</p>\n<p>Here are my rules:</p>\n<pre><code>{\n   &quot;rules&quot;: {\n     &quot;users&quot;: {\n        &quot;.read&quot;: &quot;auth != null&quot;,\n        &quot;.write&quot;: &quot;auth != null&quot;\n     }\n   } \n}\n</code></pre>\n<p>Users in the rule are at the root node and the document under it is what I want to access but cannot. If anyone knows how can I access firebase data after login on to firebase with the above-mentioned rules please answer.</p>\n<pre><code>mAuth.signInWithCredential(credential).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        if (task.isSuccessful()) {\n            DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;user&quot;);\n\n            databaseReference.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                    String phone = mAuth.getCurrentUser().getPhoneNumber().substring(3);\n\n                    if(snapshot.child(phone).child(&quot;state_on_app&quot;).equals(&quot;farmer&quot;)){\n                        progressBar.setVisibility(View.INVISIBLE);\n                        Toast.makeText(LoginActivity.this, &quot;I am in&quot;, Toast.LENGTH_SHORT).show();\n                    }else{\n                        progressBar.setVisibility(View.INVISIBLE);\n                        Toast.makeText(LoginActivity.this, &quot;I am in as a shop&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n                    Toast.makeText(LoginActivity.this, error.getMessage(), Toast.LENGTH_SHORT).show();\n                    progressBar.setVisibility(View.INVISIBLE);\n                }\n            });\n        } else {\n            // Sign in failed, display a message and update the UI\n            progressBar.setVisibility(View.INVISIBLE);\n            Toast.makeText(LoginActivity.this,task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    }\n});\n</code></pre>\n<p>The code with which I am trying to access the Firebase Realtime Database but it's not working.</p>\n<p><a href=\"https://github.com/aouspi/firebase-json/blob/main/README.md\" rel=\"nofollow noreferrer\">https://github.com/aouspi/firebase-json/blob/main/README.md</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":273476,"reputation":7572,"user_id":565110,"accept_rate":40,"display_name":"David Riccitelli"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1502024688,"creation_date":1499341900,"answer_id":44948117,"question_id":44947976,"body_markdown":"Yes, using the following code:\r\n\r\n\r\n    import static org.apache.commons.text.CharacterPredicates.DIGITS;\r\n    import static org.apache.commons.text.CharacterPredicates.LETTERS;\r\n\r\n    // ...\r\n\r\n    RandomStringGenerator generator = new RandomStringGenerator.Builder()\r\n            .withinRange(&#39;0&#39;, &#39;z&#39;)\r\n            .filteredBy(LETTERS, DIGITS)\r\n            .build();\r\n\r\n","title":"RandomStringGenerator to generate alphanumeric strings","body":"<p>Yes, using the following code:</p>\n\n<pre><code>import static org.apache.commons.text.CharacterPredicates.DIGITS;\nimport static org.apache.commons.text.CharacterPredicates.LETTERS;\n\n// ...\n\nRandomStringGenerator generator = new RandomStringGenerator.Builder()\n        .withinRange('0', 'z')\n        .filteredBy(LETTERS, DIGITS)\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6742723,"reputation":59,"user_id":5195396,"display_name":"mate0406"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1583863860,"creation_date":1499347174,"answer_id":44950134,"question_id":44947976,"body_markdown":"I use this:\r\n\r\n    static char[] chars = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;q&#39;, &#39;w&#39;, &#39;e&#39;, &#39;r&#39;, &#39;t&#39;, &#39;z&#39;, &#39;u&#39;, &#39;i&#39;, &#39;o&#39;, &#39;p&#39;, &#39;a&#39;, &#39;s&#39;,\r\n\t\t\t&#39;d&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;y&#39;, &#39;x&#39;, &#39;c&#39;, &#39;v&#39;, &#39;b&#39;, &#39;n&#39;, &#39;m&#39;, &#39;Q&#39;, &#39;W&#39;, &#39;E&#39;, &#39;R&#39;, &#39;T&#39;, &#39;Z&#39;, &#39;U&#39;, &#39;I&#39;, &#39;O&#39;, &#39;P&#39;, &#39;A&#39;,\r\n\t\t\t&#39;S&#39;, &#39;D&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;Y&#39;, &#39;X&#39;, &#39;C&#39;, &#39;V&#39;, &#39;B&#39;, &#39;N&#39;, &#39;M&#39; };\r\n\t\r\n\tprivate static String randomString(int length) {\r\n\t\tStringBuilder stringBuilder = new StringBuilder();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\tstringBuilder.append(chars[new Random().nextInt(chars.length)]);\r\n\t\t}\r\n\t\treturn stringBuilder.toString();\r\n\t}\r\nor \r\n\r\n    private static String randomString(int length) {\r\n\t\tStringBuilder stringBuilder = new StringBuilder();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\tswitch (new Random().nextInt(3)) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tstringBuilder.append((char) (new Random().nextInt(9) + 48));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tstringBuilder.append((char) (new Random().nextInt(25) + 65));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tstringBuilder.append((char) (new Random().nextInt(25) + 97));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn stringBuilder.toString();\r\n\t}","title":"RandomStringGenerator to generate alphanumeric strings","body":"<p>I use this:</p>\n\n<pre><code>static char[] chars = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'q', 'w', 'e', 'r', 't', 'z', 'u', 'i', 'o', 'p', 'a', 's',\n        'd', 'f', 'g', 'h', 'j', 'k', 'l', 'y', 'x', 'c', 'v', 'b', 'n', 'm', 'Q', 'W', 'E', 'R', 'T', 'Z', 'U', 'I', 'O', 'P', 'A',\n        'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', 'Y', 'X', 'C', 'V', 'B', 'N', 'M' };\n\nprivate static String randomString(int length) {\n    StringBuilder stringBuilder = new StringBuilder();\n\n    for (int i = 0; i &lt; length; i++) {\n        stringBuilder.append(chars[new Random().nextInt(chars.length)]);\n    }\n    return stringBuilder.toString();\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>private static String randomString(int length) {\n    StringBuilder stringBuilder = new StringBuilder();\n\n    for (int i = 0; i &lt; length; i++) {\n        switch (new Random().nextInt(3)) {\n            case 0:\n                stringBuilder.append((char) (new Random().nextInt(9) + 48));\n                break;\n            case 1:\n                stringBuilder.append((char) (new Random().nextInt(25) + 65));\n                break;\n            case 2:\n                stringBuilder.append((char) (new Random().nextInt(25) + 97));\n                break;\n            default:\n                break;\n        }\n    }\n    return stringBuilder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4304033,"reputation":3026,"user_id":3516963,"display_name":"artemisian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512845369,"creation_date":1512845369,"answer_id":47731973,"question_id":44947976,"body_markdown":"With Java 8 lambda expressions: \r\n\r\n        private final RandomStringGenerator generator = new RandomStringGenerator.Builder()\r\n                .usingRandom(max -&gt; RandomUtils.getRandomAlphanumericChar()).build();\r\n    \r\n    ....................\r\n    \r\n    public class RandomUtils {\r\n    \r\n        private final static char[] ALPHA_NUMERIC_CHARS = {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;,\r\n                &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;, &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;,\r\n                &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;,\r\n                &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;};\r\n    \r\n        private final static Random random = new SecureRandom();\r\n    \r\n        public static char getRandomAlphanumericChar() {\r\n            return ALPHA_NUMERIC_CHARS[random.nextInt(ALPHA_NUMERIC_CHARS.length)];\r\n        }\r\n    }","title":"RandomStringGenerator to generate alphanumeric strings","body":"<p>With Java 8 lambda expressions: </p>\n\n<pre><code>    private final RandomStringGenerator generator = new RandomStringGenerator.Builder()\n            .usingRandom(max -&gt; RandomUtils.getRandomAlphanumericChar()).build();\n\n....................\n\npublic class RandomUtils {\n\n    private final static char[] ALPHA_NUMERIC_CHARS = {'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O',\n            'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j',\n            'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '0', '1', '2', '3', '4',\n            '5', '6', '7', '8', '9'};\n\n    private final static Random random = new SecureRandom();\n\n    public static char getRandomAlphanumericChar() {\n        return ALPHA_NUMERIC_CHARS[random.nextInt(ALPHA_NUMERIC_CHARS.length)];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1579643789,"creation_date":1579643789,"answer_id":59849755,"question_id":44947976,"body_markdown":"    RandomStringGenerator generator = new RandomStringGenerator.Builder()\r\n        .selectFrom(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;.toCharArray())\r\n        .build();\r\n\r\nI kind of prefer this way rather than generating character codes and filtering out ones I don&#39;t want. And implicitly assuming that &#39;0&#39;..&#39;z&#39; includes all the codes I want, including capital letters (based on the ascii code chart).\r\n\r\nIn addition, depending on the application (eg password generation), you might want to use a CSPRNG (secure PRNG) seeded by a true-randomness source:\r\n\r\n    .usingRandom(new SecureRandom()::nextInt)\r\n\r\nThe default SecureRandom seed is from a true-randomness source of OS hardware device entropy.","title":"RandomStringGenerator to generate alphanumeric strings","body":"<pre><code>RandomStringGenerator generator = new RandomStringGenerator.Builder()\n    .selectFrom(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".toCharArray())\n    .build();\n</code></pre>\n\n<p>I kind of prefer this way rather than generating character codes and filtering out ones I don't want. And implicitly assuming that '0'..'z' includes all the codes I want, including capital letters (based on the ascii code chart).</p>\n\n<p>In addition, depending on the application (eg password generation), you might want to use a CSPRNG (secure PRNG) seeded by a true-randomness source:</p>\n\n<pre><code>.usingRandom(new SecureRandom()::nextInt)\n</code></pre>\n\n<p>The default SecureRandom seed is from a true-randomness source of OS hardware device entropy.</p>\n"},{"tags":[],"owner":{"account_id":24504969,"reputation":21,"user_id":18420117,"display_name":"M Paluch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646837609,"creation_date":1646837609,"answer_id":71411284,"question_id":44947976,"body_markdown":"The [withinRange()][1] method accepts min/max character pairs directly. So you can do:\r\n\r\n    char[][] allowedCharacterRanges = {{&#39;a&#39;,&#39;z&#39;},{&#39;A&#39;,&#39;Z&#39;},{&#39;0&#39;,&#39;9&#39;}};\r\n    \r\n    RandomStringGenerator generator = new RandomStringGenerator.Builder()\r\n        .withinRange( allowedCharacterRanges )\r\n        .build();\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/RandomStringGenerator.Builder.html#withinRange(char%5B%5D...)","title":"RandomStringGenerator to generate alphanumeric strings","body":"<p>The <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/RandomStringGenerator.Builder.html#withinRange(char%5B%5D...)\" rel=\"nofollow noreferrer\">withinRange()</a> method accepts min/max character pairs directly. So you can do:</p>\n<pre><code>char[][] allowedCharacterRanges = {{'a','z'},{'A','Z'},{'0','9'}};\n\nRandomStringGenerator generator = new RandomStringGenerator.Builder()\n    .withinRange( allowedCharacterRanges )\n    .build();\n</code></pre>\n"}],"owner":{"account_id":273476,"reputation":7572,"user_id":565110,"accept_rate":40,"display_name":"David Riccitelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14770,"favorite_count":0,"down_vote_count":4,"up_vote_count":17,"accepted_answer_id":44948117,"answer_count":5,"score":13,"last_activity_date":1646837609,"creation_date":1499341573,"question_id":44947976,"body_markdown":"Can I use Apache&#39;s _common-text_ [`RandomStringGenerator`](https://commons.apache.org/proper/commons-text/javadocs/api-release/index.html?org/apache/commons/text/RandomStringGenerator.html) to generate random alphanumeric strings (numbers and lowercase/uppercase letters)?","title":"RandomStringGenerator to generate alphanumeric strings","body":"<p>Can I use Apache's <em>common-text</em> <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/index.html?org/apache/commons/text/RandomStringGenerator.html\" rel=\"noreferrer\"><code>RandomStringGenerator</code></a> to generate random alphanumeric strings (numbers and lowercase/uppercase letters)?</p>\n"},{"tags":["java","mongodb","mongodb-java"],"comments":[{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1521676403,"post_id":49418221,"comment_id":85838451,"body_markdown":"Don&#39;t use list. Just create BasicDBObject one for each query and projection and pass it to find. Something like `BasicDBObject obj = new BasicDBObject(&quot;shapes.color&quot;, &quot;red&quot;);    BasicDBObject obj1 = new BasicDBObject(&quot;shapes.$&quot;, &quot;1&quot;);           DBCursor cursor = table.find(obj,obj1).limit(500);`","body":"Don&#39;t use list. Just create BasicDBObject one for each query and projection and pass it to find. Something like <code>BasicDBObject obj = new BasicDBObject(&quot;shapes.color&quot;, &quot;red&quot;);    BasicDBObject obj1 = new BasicDBObject(&quot;shapes.$&quot;, &quot;1&quot;);           DBCursor cursor = table.find(obj,obj1).limit(500);</code>"}],"answers":[{"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521706196,"creation_date":1521706196,"answer_id":49423525,"question_id":49418221,"body_markdown":"The syntax of the [Mongo Shell `find` function](https://docs.mongodb.com/manual/reference/method/db.collection.find/) is:\n\n&gt; `db.collection.find(query, projection)`\n&gt;\n&gt; **query**     *document*  Optional. Specifies selection filter using query operators. To return all documents in a collection, omit this parameter or pass an empty document ({}).\n&gt;\n&gt; **projection** *document*     Optional. Specifies the fields to return in the documents that match the query filter. \n\nWhen translating this for execution by the Mongo Java driver you need to construct separate `BasicDBObject` instances for;\n\n- the query\n- the projection\n\nHere&#39;s an example:\n\n    MongoCollection&lt;Document&gt; table = ...;\n\n    // {&quot;shapes.color&quot;: &quot;red&quot;}\n    BasicDBObject query = new BasicDBObject(&quot;shapes.color&quot;, &quot;red&quot;);\n\n    // {_id: 0, &#39;shapes.$&#39;: 1}\n    BasicDBObject projection = new BasicDBObject(&quot;shapes.$&quot;, &quot;1&quot;).append(&quot;_id&quot;, 0);\n\n    FindIterable&lt;Document&gt; documents = table\n        // assign the query\n        .find(query)\n        // assign the projection\n        .projection(projection);\n\n    System.out.println(documents.first().toJson());\n\nGiven the sample documents included in your question the above code will print out:\n\n    {\n      &quot;shapes&quot;: [\n        {\n          &quot;shape&quot;: &quot;circle&quot;,\n          &quot;color&quot;: &quot;red&quot;\n        }\n      ]\n    }\n\nThis is identical to the output from `db.test.find({&quot;shapes.color&quot;: &quot;red&quot;}, {_id: 0, &#39;shapes.$&#39;: 1});`.","title":"Retrieve only the queried element in an object array in MongoDB using java","body":"<p>The syntax of the <a href=\"https://docs.mongodb.com/manual/reference/method/db.collection.find/\" rel=\"nofollow noreferrer\">Mongo Shell <code>find</code> function</a> is:</p>\n<blockquote>\n<p><code>db.collection.find(query, projection)</code></p>\n<p><strong>query</strong>     <em>document</em>  Optional. Specifies selection filter using query operators. To return all documents in a collection, omit this parameter or pass an empty document ({}).</p>\n<p><strong>projection</strong> <em>document</em>     Optional. Specifies the fields to return in the documents that match the query filter.</p>\n</blockquote>\n<p>When translating this for execution by the Mongo Java driver you need to construct separate <code>BasicDBObject</code> instances for;</p>\n<ul>\n<li>the query</li>\n<li>the projection</li>\n</ul>\n<p>Here's an example:</p>\n<pre><code>MongoCollection&lt;Document&gt; table = ...;\n\n// {&quot;shapes.color&quot;: &quot;red&quot;}\nBasicDBObject query = new BasicDBObject(&quot;shapes.color&quot;, &quot;red&quot;);\n\n// {_id: 0, 'shapes.$': 1}\nBasicDBObject projection = new BasicDBObject(&quot;shapes.$&quot;, &quot;1&quot;).append(&quot;_id&quot;, 0);\n\nFindIterable&lt;Document&gt; documents = table\n    // assign the query\n    .find(query)\n    // assign the projection\n    .projection(projection);\n\nSystem.out.println(documents.first().toJson());\n</code></pre>\n<p>Given the sample documents included in your question the above code will print out:</p>\n<pre><code>{\n  &quot;shapes&quot;: [\n    {\n      &quot;shape&quot;: &quot;circle&quot;,\n      &quot;color&quot;: &quot;red&quot;\n    }\n  ]\n}\n</code></pre>\n<p>This is identical to the output from <code>db.test.find({&quot;shapes.color&quot;: &quot;red&quot;}, {_id: 0, 'shapes.$': 1});</code>.</p>\n"}],"owner":{"account_id":10502992,"reputation":127,"user_id":7741150,"accept_rate":75,"display_name":"teja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49423525,"answer_count":1,"score":1,"last_activity_date":1646837541,"creation_date":1521675375,"question_id":49418221,"body_markdown":"Suppose we have the following documents in a MongoDB collection: \r\n\r\n    {  \r\n       &quot;_id&quot;:ObjectId(&quot;562e7c594c12942f08fe4192&quot;),\r\n       &quot;shapes&quot;:[  \r\n          {  \r\n             &quot;shape&quot;:&quot;square&quot;,\r\n             &quot;color&quot;:&quot;blue&quot;\r\n          },\r\n          {  \r\n             &quot;shape&quot;:&quot;circle&quot;,\r\n             &quot;color&quot;:&quot;red&quot;\r\n          }\r\n       ]\r\n    },\r\n    {  \r\n       &quot;_id&quot;:ObjectId(&quot;562e7c594c12942f08fe4193&quot;),\r\n       &quot;shapes&quot;:[  \r\n          {  \r\n             &quot;shape&quot;:&quot;square&quot;,\r\n             &quot;color&quot;:&quot;black&quot;\r\n          },\r\n          {  \r\n             &quot;shape&quot;:&quot;circle&quot;,\r\n             &quot;color&quot;:&quot;green&quot;\r\n          }\r\n       ]\r\n    }\r\n\r\nAnd the MongoDB query is\r\n\r\n    db.test.find({&quot;shapes.color&quot;: &quot;red&quot;}, {_id: 0, &#39;shapes.$&#39;: 1});\r\n\r\n\r\nCan someone tell me how to write it in Java?\r\n\r\nI am using: \r\n\r\n    List&lt;BasicDBObject&gt; obj = new ArrayList&lt;&gt;();\r\n    obj1.add(new BasicDBObject(&quot;shapes.color&quot;, &quot;red&quot;));\r\n    List&lt;BasicDBObject&gt; obj1 = new ArrayList&lt;&gt;();\r\n    obj2.add(new BasicDBObject(&quot;shapes.$&quot;, &quot;1&quot;));\r\n\r\n    BasicDBObject parameters1 = new BasicDBObject();\r\n    parameters1.put(&quot;$and&quot;, obj1);\r\n    \r\n    DBCursor cursor = table.find(parameters1,obj2).limit(500);\r\n\r\nand I am not getting anything.","title":"Retrieve only the queried element in an object array in MongoDB using java","body":"<p>Suppose we have the following documents in a MongoDB collection: </p>\n\n<pre><code>{  \n   \"_id\":ObjectId(\"562e7c594c12942f08fe4192\"),\n   \"shapes\":[  \n      {  \n         \"shape\":\"square\",\n         \"color\":\"blue\"\n      },\n      {  \n         \"shape\":\"circle\",\n         \"color\":\"red\"\n      }\n   ]\n},\n{  \n   \"_id\":ObjectId(\"562e7c594c12942f08fe4193\"),\n   \"shapes\":[  \n      {  \n         \"shape\":\"square\",\n         \"color\":\"black\"\n      },\n      {  \n         \"shape\":\"circle\",\n         \"color\":\"green\"\n      }\n   ]\n}\n</code></pre>\n\n<p>And the MongoDB query is</p>\n\n<pre><code>db.test.find({\"shapes.color\": \"red\"}, {_id: 0, 'shapes.$': 1});\n</code></pre>\n\n<p>Can someone tell me how to write it in Java?</p>\n\n<p>I am using: </p>\n\n<pre><code>List&lt;BasicDBObject&gt; obj = new ArrayList&lt;&gt;();\nobj1.add(new BasicDBObject(\"shapes.color\", \"red\"));\nList&lt;BasicDBObject&gt; obj1 = new ArrayList&lt;&gt;();\nobj2.add(new BasicDBObject(\"shapes.$\", \"1\"));\n\nBasicDBObject parameters1 = new BasicDBObject();\nparameters1.put(\"$and\", obj1);\n\nDBCursor cursor = table.find(parameters1,obj2).limit(500);\n</code></pre>\n\n<p>and I am not getting anything.</p>\n"},{"tags":["java","keyboard","virtual"],"comments":[{"owner":{"account_id":71001,"reputation":24087,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"score":0,"creation_date":1297273262,"post_id":4948420,"comment_id":5519239,"body_markdown":"What code have you written and tried so far?","body":"What code have you written and tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":87407,"reputation":8627,"user_id":242397,"accept_rate":91,"display_name":"jhurtado"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1297273834,"creation_date":1297273834,"answer_id":4948534,"question_id":4948420,"body_markdown":"You can use getRuntime to execute it:\r\n\r\n    import java.io.IOException;\r\n    \r\n    public class ShowVirtualKeyboard{\r\n    \r\n      \tpublic static void main(String argv[]) throws IOException {\r\n\t\tString sysroot = System.getenv(&quot;SystemRoot&quot;);\r\n\t\tProcess proc = Runtime.getRuntime().exec(sysroot + &quot;/system32/osk.exe&quot;);\r\n\t}\r\n    }\r\n\r\nand you can call `proc.destroy()` to get rid of it. \r\n\r\nRegards.\r\n","title":"open the Windows virtual keyboard in a Java program","body":"<p>You can use getRuntime to execute it:</p>\n\n<pre><code>import java.io.IOException;\n\npublic class ShowVirtualKeyboard{\n\n    public static void main(String argv[]) throws IOException {\n    String sysroot = System.getenv(\"SystemRoot\");\n    Process proc = Runtime.getRuntime().exec(sysroot + \"/system32/osk.exe\");\n}\n}\n</code></pre>\n\n<p>and you can call <code>proc.destroy()</code> to get rid of it. </p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":37241,"reputation":1666,"user_id":106431,"accept_rate":80,"display_name":"CarlG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1297274117,"creation_date":1297274117,"answer_id":4948586,"question_id":4948420,"body_markdown":"I think it would be as simple as this:\r\n`Runtime.getRuntime().exec(&quot;osk&quot;);`","title":"open the Windows virtual keyboard in a Java program","body":"<p>I think it would be as simple as this:\n<code>Runtime.getRuntime().exec(\"osk\");</code></p>\n"},{"tags":[],"owner":{"account_id":2559488,"reputation":3511,"user_id":2220805,"display_name":"taynguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479807944,"creation_date":1464966575,"answer_id":37617864,"question_id":4948420,"body_markdown":"This will work: `Runtime.getRuntime().exec(&quot;cmd /c osk&quot;);`\r\n\r\n`cmd /c` will launch the process and invoke the UAC if needed. \r\n\r\nAdvantage:\r\n\r\n + And it would avoid privileges issue.\r\n\r\nDisadvantage:\r\n\r\n + Would not be able to turn off by Process instance on java.","title":"open the Windows virtual keyboard in a Java program","body":"<p>This will work: <code>Runtime.getRuntime().exec(\"cmd /c osk\");</code></p>\n\n<p><code>cmd /c</code> will launch the process and invoke the UAC if needed. </p>\n\n<p>Advantage:</p>\n\n<ul>\n<li>And it would avoid privileges issue.</li>\n</ul>\n\n<p>Disadvantage:</p>\n\n<ul>\n<li>Would not be able to turn off by Process instance on java.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17063189,"reputation":75,"user_id":12346089,"display_name":"Kevin Meneses Palta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646837091,"creation_date":1646837091,"answer_id":71411159,"question_id":4948420,"body_markdown":"Maybe this is a little bit late but if you cannot manage to close the keyboard too, this answer may help you https://stackoverflow.com/a/71410876/12346089","title":"open the Windows virtual keyboard in a Java program","body":"<p>Maybe this is a little bit late but if you cannot manage to close the keyboard too, this answer may help you <a href=\"https://stackoverflow.com/a/71410876/12346089\">https://stackoverflow.com/a/71410876/12346089</a></p>\n"}],"owner":{"account_id":204036,"reputation":435,"user_id":452011,"accept_rate":73,"display_name":"Daniel Pereira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4948586,"answer_count":4,"score":0,"last_activity_date":1646837091,"creation_date":1297273145,"question_id":4948420,"body_markdown":"I would like to create an event in a button.\r\n\r\nWhen I click in the button, I would like to open the Windows virtual keyboard.\r\n\r\nCan you help me with the code?\r\n\r\nThank you for your collaboration.\r\n\r\nBest regards.","title":"open the Windows virtual keyboard in a Java program","body":"<p>I would like to create an event in a button.</p>\n\n<p>When I click in the button, I would like to open the Windows virtual keyboard.</p>\n\n<p>Can you help me with the code?</p>\n\n<p>Thank you for your collaboration.</p>\n\n<p>Best regards.</p>\n"},{"tags":["java","apache-atlas"],"answers":[{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646837069,"creation_date":1646837069,"answer_id":71411151,"question_id":71063616,"body_markdown":"Seems to be this feature is yet to be implemented in Atlas client. \r\n\r\nReferences\r\nhttps://issues.apache.org/jira/projects/ATLAS/issues/ATLAS-3106?filter=allopenissues\r\n","title":"How to pass custom headers in Atlas client","body":"<p>Seems to be this feature is yet to be implemented in Atlas client.</p>\n<p>References\n<a href=\"https://issues.apache.org/jira/projects/ATLAS/issues/ATLAS-3106?filter=allopenissues\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/projects/ATLAS/issues/ATLAS-3106?filter=allopenissues</a></p>\n"}],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71411151,"answer_count":1,"score":1,"last_activity_date":1646837069,"creation_date":1644489529,"question_id":71063616,"body_markdown":"I am using Atlas client v2 library to communicate Atlas server. How can I pass custom request headers using Atlas client?","title":"How to pass custom headers in Atlas client","body":"<p>I am using Atlas client v2 library to communicate Atlas server. How can I pass custom request headers using Atlas client?</p>\n"},{"tags":["java","android","android-studio","aide"],"answers":[{"tags":[],"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639824564,"creation_date":1639824564,"answer_id":70402773,"question_id":70402446,"body_markdown":"Follow [Admob Document][1] step by step and register your testing device on your Admob Account. You did all the things and also ads did not show then use the following simple technique.\r\n\r\nSometimes testing ads also didn&#39;t show on debugging APK I don&#39;t know why but you can solve this problem by using a simple technique. Change the package name and test ads on debugging APK. Finally, when you want to release the signed bundle put the original package name in the app and publish it. this is only for testing purposes.\r\n\r\n  [1]: https://developers.google.com/admob/android/banner","title":"How to add admob ads to aide?","body":"<p>Follow <a href=\"https://developers.google.com/admob/android/banner\" rel=\"nofollow noreferrer\">Admob Document</a> step by step and register your testing device on your Admob Account. You did all the things and also ads did not show then use the following simple technique.</p>\n<p>Sometimes testing ads also didn't show on debugging APK I don't know why but you can solve this problem by using a simple technique. Change the package name and test ads on debugging APK. Finally, when you want to release the signed bundle put the original package name in the app and publish it. this is only for testing purposes.</p>\n"}],"owner":{"account_id":22321679,"reputation":11,"user_id":16544239,"display_name":"Garboun Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1646836939,"creation_date":1639821455,"question_id":70402446,"body_markdown":"I&#39;m using aide android application to create an android app but I have a problem with Admob ads\r\neverything is okay but when I run my app ads don&#39;t show\r\n\r\n    &lt;RelativeLayout\r\n\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\t&lt;com.google.android.gms.ads.AdView\r\n\t\txmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n\t\tandroid:id=&quot;@+id/adView&quot;\r\n\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:layout_centerHorizontal=&quot;true&quot;\r\n\t\tandroid:layout_alignParentBottom=&quot;true&quot;\r\n\t\tads:adSize=&quot;BANNER&quot;\r\n\t\tads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\r\n\t\tandroid:layout_gravity=&quot;center&quot;&gt;\r\n\r\n\t&lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n    public class MainActivity extends Activity \r\n    {\r\n\tprivate AdView mAdView;\t\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n\t\tMobileAds.initialize(this, new OnInitializationCompleteListener(){\r\n\t\t\t@Override\r\n\t\t\tpublic void onInitializationComplete(InitializationStatus initializationStatus){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tmAdView = findViewById(R.id.adView);\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        mAdView.loadAd(adRequest);\r\n    }}\r\n\r\n\r\nany help?\r\n","title":"How to add admob ads to aide?","body":"<p>I'm using aide android application to create an android app but I have a problem with Admob ads\neverything is okay but when I run my app ads don't show</p>\n<pre><code>&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;com.google.android.gms.ads.AdView\n    xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/adView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    ads:adSize=&quot;BANNER&quot;\n    ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;\n    android:layout_gravity=&quot;center&quot;&gt;\n\n&lt;/com.google.android.gms.ads.AdView&gt;\n</code></pre>\n\n<pre><code>public class MainActivity extends Activity \n{\nprivate AdView mAdView; \n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    MobileAds.initialize(this, new OnInitializationCompleteListener(){\n        @Override\n        public void onInitializationComplete(InitializationStatus initializationStatus){\n            \n        }\n    });\n    \n    mAdView = findViewById(R.id.adView);\n    AdRequest adRequest = new AdRequest.Builder().build();\n    mAdView.loadAd(adRequest);\n}}\n</code></pre>\n<p>any help?</p>\n"},{"tags":["java","logging","interface","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646862674,"post_id":71411112,"comment_id":126231950,"body_markdown":"Did you try the [Log4j 1.x bridge](https://logging.apache.org/log4j/2.x/manual/migration.html)?","body":"Did you try the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">Log4j 1.x bridge</a>?"},{"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"score":0,"creation_date":1646906942,"post_id":71411112,"comment_id":126241418,"body_markdown":"@PiotrP.Karwasz no because I don&#39;t want to import the log4j 1.x jar at all. I mean I don&#39;t want it to be included in the compiled target jar / docker.","body":"@PiotrP.Karwasz no because I don&#39;t want to import the log4j 1.x jar at all. I mean I don&#39;t want it to be included in the compiled target jar / docker."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1646916658,"post_id":71411112,"comment_id":126244999,"body_markdown":"I am not talking about Log4j 1.x, but the [Log4j 1.x bridge](https://logging.apache.org/log4j/2.x/manual/migration.html), which is part of Log4j 2.x.","body":"I am not talking about Log4j 1.x, but the <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">Log4j 1.x bridge</a>, which is part of Log4j 2.x."}],"owner":{"account_id":17598658,"reputation":573,"user_id":12769096,"display_name":"NoobCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646836872,"creation_date":1646836872,"question_id":71411112,"body_markdown":"I am trying to migrate from log4j 1 to log4j 2.\r\n\r\nMy current logger extends `Logger` which is imported by\r\n`org.apache.log4j.Logger`.\r\n\r\n    \r\n\r\n\r\n`Logger` is a class which doesn&#39;t exist in log4j2.\r\n\r\nIn Log4j2 we have\r\n`org.apache.logging.log4j.Logger` which is an interface and in order to implement it, I&#39;ll have to implement lots of methods of this interface, which I don&#39;t want to.\r\n\r\nOther option is to extend `org.apache.logging.log4j.LogManager` which is a class but have entire different methods set and doesn&#39;t really return or create a `Logger` type class.\r\n\r\nI mean that if i&#39;ll write\r\n\r\n    public final class MyLogger extends LogManager {\r\n\r\nI&#39;ll limit my logger to LogManager instance instead of Logger instance.\r\n\r\n**My current code is:**\r\n\r\n    import org.apache.log4j.Logger;\r\n        \r\n        \r\n        /**\r\n         * The Class MyLogger.\r\n         */\r\n        public final class MyLogger extends Logger {\r\n        \r\n            /** The logger instance. */\r\n            private Logger loggerInstance = null;\r\n        \r\n            /** The MyLogger logger. */\r\n            private static MyLogger myLogger = null;\r\n        \r\n            /**\r\n             * Instantiates a MyLogger logger.\r\n             */\r\n            private MyLogger() {\r\n                super(&quot;MyLogger&quot;);\r\n            }\r\n        \r\n            /**\r\n             * Gets the logger.\r\n             *\r\n             * @param clazz - The Class\r\n             * @return the logger\r\n             */\r\n            public static MyLogger getLogger(Class clazz) {\r\n                myLogger = new MyLogger();\r\n                myLogger.setLoggerInstance(Logger.getLogger(clazz));\r\n                return myLogger;\r\n        }\r\n\r\nI&#39;ve managed to re-write \r\n\r\n    private MyLogger() {\r\n    \t\tsuper(&quot;MyLogger&quot;);\r\n    \t}\r\n\r\nto\r\n\r\n    private MyLogger() {\r\n    \t\tgetLogger(&quot;MyLogger&quot;);\r\n    \t}\r\n\r\nwhich calls the `getLogger` method inside the extended class `LogManager`.\r\n\r\nbut I don&#39;t know how to re-write\r\n\r\n    public static MyLogger getLogger(Class clazz) {\r\n                    myLogger = new MyLogger();\r\n                    myLogger.setLoggerInstance(Logger.getLogger(clazz));\r\n                    return myLogger;\r\n            }\r\n\r\nand other methods that I wrote to override:\r\n\r\n    /**\r\n    \t * Warn.\r\n    \t *\r\n    \t * @param message the message\r\n    \t */\r\n    \t@Override\r\n    \tpublic void warn(Object message) {\r\n    \r\n    \t\tloggerInstance.warn(message);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Gets the logger instance.\r\n    \t *\r\n    \t * @return the logger instance\r\n    \t */\r\n    \tpublic Logger getLoggerInstance() {\r\n    \t\treturn loggerInstance;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Sets the logger instance.\r\n    \t *\r\n    \t * @param loggerInstance the new logger instance\r\n    \t */\r\n    \tpublic void setLoggerInstance(Logger loggerInstance) {\r\n    \t\tthis.loggerInstance = loggerInstance;\r\n    \t}","title":"How can I create a logger that extends log4j2?","body":"<p>I am trying to migrate from log4j 1 to log4j 2.</p>\n<p>My current logger extends <code>Logger</code> which is imported by\n<code>org.apache.log4j.Logger</code>.</p>\n<p><code>Logger</code> is a class which doesn't exist in log4j2.</p>\n<p>In Log4j2 we have\n<code>org.apache.logging.log4j.Logger</code> which is an interface and in order to implement it, I'll have to implement lots of methods of this interface, which I don't want to.</p>\n<p>Other option is to extend <code>org.apache.logging.log4j.LogManager</code> which is a class but have entire different methods set and doesn't really return or create a <code>Logger</code> type class.</p>\n<p>I mean that if i'll write</p>\n<pre><code>public final class MyLogger extends LogManager {\n</code></pre>\n<p>I'll limit my logger to LogManager instance instead of Logger instance.</p>\n<p><strong>My current code is:</strong></p>\n<pre><code>import org.apache.log4j.Logger;\n    \n    \n    /**\n     * The Class MyLogger.\n     */\n    public final class MyLogger extends Logger {\n    \n        /** The logger instance. */\n        private Logger loggerInstance = null;\n    \n        /** The MyLogger logger. */\n        private static MyLogger myLogger = null;\n    \n        /**\n         * Instantiates a MyLogger logger.\n         */\n        private MyLogger() {\n            super(&quot;MyLogger&quot;);\n        }\n    \n        /**\n         * Gets the logger.\n         *\n         * @param clazz - The Class\n         * @return the logger\n         */\n        public static MyLogger getLogger(Class clazz) {\n            myLogger = new MyLogger();\n            myLogger.setLoggerInstance(Logger.getLogger(clazz));\n            return myLogger;\n    }\n</code></pre>\n<p>I've managed to re-write</p>\n<pre><code>private MyLogger() {\n        super(&quot;MyLogger&quot;);\n    }\n</code></pre>\n<p>to</p>\n<pre><code>private MyLogger() {\n        getLogger(&quot;MyLogger&quot;);\n    }\n</code></pre>\n<p>which calls the <code>getLogger</code> method inside the extended class <code>LogManager</code>.</p>\n<p>but I don't know how to re-write</p>\n<pre><code>public static MyLogger getLogger(Class clazz) {\n                myLogger = new MyLogger();\n                myLogger.setLoggerInstance(Logger.getLogger(clazz));\n                return myLogger;\n        }\n</code></pre>\n<p>and other methods that I wrote to override:</p>\n<pre><code>/**\n     * Warn.\n     *\n     * @param message the message\n     */\n    @Override\n    public void warn(Object message) {\n\n        loggerInstance.warn(message);\n    }\n\n    /**\n     * Gets the logger instance.\n     *\n     * @return the logger instance\n     */\n    public Logger getLoggerInstance() {\n        return loggerInstance;\n    }\n\n    /**\n     * Sets the logger instance.\n     *\n     * @param loggerInstance the new logger instance\n     */\n    public void setLoggerInstance(Logger loggerInstance) {\n        this.loggerInstance = loggerInstance;\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1386466,"reputation":417,"user_id":1318411,"display_name":"sen4ik"},"score":2,"creation_date":1646335978,"post_id":71342519,"comment_id":126104256,"body_markdown":"`boolean isPositive = Integer.parseInt(driver.findElement(By.xpath(&quot;yourXpathGoesHere&quot;)).getText()) &gt; 0;`","body":"<code>boolean isPositive = Integer.parseInt(driver.findElement(By.xpath(&quot;yourXpathGoesH&zwnj;&#8203;ere&quot;)).getText()) &gt; 0;</code>"}],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646657171,"creation_date":1646657171,"answer_id":71381292,"question_id":71342519,"body_markdown":"\r\n\r\n    WebElement myElement = driver.findElementByXpath(&quot;theXpath&quot;);\r\n    // or read the attribute value \r\n    String text = myElement.getAttribute(&quot;text&quot;);\r\n    int number = Integer.parseInt(text);\r\n    if (number &gt; 0) {\r\n      // positive\r\n    }\r\n    else {\r\n      // negative \r\n    }","title":"How do I check if a WebElement is a positive number in Selenium Java?","body":"<pre><code>WebElement myElement = driver.findElementByXpath(&quot;theXpath&quot;);\n// or read the attribute value \nString text = myElement.getAttribute(&quot;text&quot;);\nint number = Integer.parseInt(text);\nif (number &gt; 0) {\n  // positive\n}\nelse {\n  // negative \n}\n</code></pre>\n"}],"owner":{"account_id":24443743,"reputation":11,"user_id":18367051,"display_name":"Nzx13rossi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646836839,"creation_date":1646334487,"question_id":71342519,"body_markdown":"So, I have a WebElement and I need to check if this element is a positive number; how do I do this in Java using Selenium?\r\n\r\nThe only thing I was able to do, so far, is a @FindBy(xpath), but I could not do the Actions part cause I have no idea on how to verify if the element is a positive number.\r\n\r\nThanks in advance.","title":"How do I check if a WebElement is a positive number in Selenium Java?","body":"<p>So, I have a WebElement and I need to check if this element is a positive number; how do I do this in Java using Selenium?</p>\n<p>The only thing I was able to do, so far, is a @FindBy(xpath), but I could not do the Actions part cause I have no idea on how to verify if the element is a positive number.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","benchmarking"],"answers":[{"tags":[],"owner":{"account_id":557324,"reputation":4366,"user_id":919716,"accept_rate":60,"display_name":"Steven Schoen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1342746547,"creation_date":1342746547,"answer_id":11571532,"question_id":11571527,"body_markdown":"You can use DDMS and Systrace to break down what your app is doing and for how long.\r\n\r\nAs for &quot;benchmarking,&quot; what do you mean by that? Do you want to see how long it takes to do something in your app?\r\nIt&#39;s usually more useful to just make sure you&#39;re doing things in the fastest way possible, rather than within a certain time window.","title":"How to benchmark android application?","body":"<p>You can use DDMS and Systrace to break down what your app is doing and for how long.</p>\n\n<p>As for \"benchmarking,\" what do you mean by that? Do you want to see how long it takes to do something in your app?\nIt's usually more useful to just make sure you're doing things in the fastest way possible, rather than within a certain time window.</p>\n"},{"tags":[],"owner":{"account_id":1866032,"reputation":301,"user_id":1689575,"display_name":"Farzad Khalafi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353445539,"creation_date":1353445539,"answer_id":13482129,"question_id":11571527,"body_markdown":"I wrote a code to specifically benchmark specific part of the code that I want. you can find it here:\r\nhttp://farzad.devbro.com/android_benchmark/Devbro_Benchmark.java\r\n\r\nHere is an example of the code to use:\r\n    \r\n    Devbro_Benchmark.markStart(&quot;Label2&quot;); //mark a begining\r\n    for(int i=0;i&lt;1000;i++)\r\n    {\r\n        //you can create multiple markers at once. If you use the same marker name\r\n        //it will simply add up the times for you\r\n        Devbro_Benchmark.markStart(&quot;Label1&quot;);\r\n        //some random code\r\n        Devbro_Benchmark.markEnd(&quot;Label&quot;);\r\n    }\r\n    Devbro_Benchmark.markEnd(&quot;Label2&quot;); // mark an ending\r\n\r\n    //once you are done with your markers you can display an extensive report which will be\r\n    //shown using the Log.d\r\n    Devbro_Benchmark.print_report();\r\n\r\n    //once you are done you can reset before redoing it.\r\n    Devbro_Benchmark.reset();","title":"How to benchmark android application?","body":"<p>I wrote a code to specifically benchmark specific part of the code that I want. you can find it here:\n<a href=\"http://farzad.devbro.com/android_benchmark/Devbro_Benchmark.java\" rel=\"nofollow\">http://farzad.devbro.com/android_benchmark/Devbro_Benchmark.java</a></p>\n\n<p>Here is an example of the code to use:</p>\n\n<pre><code>Devbro_Benchmark.markStart(\"Label2\"); //mark a begining\nfor(int i=0;i&lt;1000;i++)\n{\n    //you can create multiple markers at once. If you use the same marker name\n    //it will simply add up the times for you\n    Devbro_Benchmark.markStart(\"Label1\");\n    //some random code\n    Devbro_Benchmark.markEnd(\"Label\");\n}\nDevbro_Benchmark.markEnd(\"Label2\"); // mark an ending\n\n//once you are done with your markers you can display an extensive report which will be\n//shown using the Log.d\nDevbro_Benchmark.print_report();\n\n//once you are done you can reset before redoing it.\nDevbro_Benchmark.reset();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185392,"reputation":17382,"user_id":422060,"accept_rate":100,"display_name":"Ben Weiss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646836670,"creation_date":1646836670,"answer_id":71411070,"question_id":11571527,"body_markdown":"There are now two Jetpack [benchmarking libraries](https://developer.android.com/studio/profile/benchmarking-overview). from the Android team.\r\n\r\n[Macrobenchmarking][1]: Allows you to benchmark entire workflows\r\n\r\n[Microbenchmarking][2]: Enables benchmarking specific code in isolation.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/profile/macrobenchmark-overview\r\n  [2]: https://developer.android.com/studio/profile/microbenchmark-overview","title":"How to benchmark android application?","body":"<p>There are now two Jetpack <a href=\"https://developer.android.com/studio/profile/benchmarking-overview\" rel=\"nofollow noreferrer\">benchmarking libraries</a>. from the Android team.</p>\n<p><a href=\"https://developer.android.com/studio/profile/macrobenchmark-overview\" rel=\"nofollow noreferrer\">Macrobenchmarking</a>: Allows you to benchmark entire workflows</p>\n<p><a href=\"https://developer.android.com/studio/profile/microbenchmark-overview\" rel=\"nofollow noreferrer\">Microbenchmarking</a>: Enables benchmarking specific code in isolation.</p>\n"}],"owner":{"account_id":1332117,"reputation":1172,"user_id":1275777,"accept_rate":92,"display_name":"Noman Arain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11571532,"answer_count":3,"score":0,"last_activity_date":1646836670,"creation_date":1342746506,"question_id":11571527,"body_markdown":"At work I am using Ubuntu and at home I am using windows 7. I would like to know how can I benchmark my android application on Ubuntu and windows 7.","title":"How to benchmark android application?","body":"<p>At work I am using Ubuntu and at home I am using windows 7. I would like to know how can I benchmark my android application on Ubuntu and windows 7.</p>\n"},{"tags":["java","swing","netbeans"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1646835187,"post_id":71410626,"comment_id":126221976,"body_markdown":"Honestly (opinion though): if you are doing this to learn about how to do UI coding with Swing: then do **not** start with any IDE generating code for you. Instead: sit down, and write things all yourself, because A) that helps you to really learn how swing works and more importantly B) it prevents that you come up with such questions. What I mean is: when you generate UI code, that doesn&#39;t come for free. As you just noticed: that code follows certain &quot;ideas&quot;. And if you dont understand those, you are basically lost. Which results: not only do you have to learn about Swing","body":"Honestly (opinion though): if you are doing this to learn about how to do UI coding with Swing: then do <b>not</b> start with any IDE generating code for you. Instead: sit down, and write things all yourself, because A) that helps you to really learn how swing works and more importantly B) it prevents that you come up with such questions. What I mean is: when you generate UI code, that doesn&#39;t come for free. As you just noticed: that code follows certain &quot;ideas&quot;. And if you dont understand those, you are basically lost. Which results: not only do you have to learn about Swing"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646835232,"post_id":71410626,"comment_id":126221995,"body_markdown":"but you ALSO have to (first) learn/understand how the tool you are using &quot;thinks&quot;, and what it does, and how you make good use of it.","body":"but you ALSO have to (first) learn/understand how the tool you are using &quot;thinks&quot;, and what it does, and how you make good use of it."},{"owner":{"account_id":17688233,"reputation":13,"user_id":12840673,"display_name":"casual crackers"},"score":0,"creation_date":1646835298,"post_id":71410626,"comment_id":126222019,"body_markdown":"yeah this isnt my code i prefer to do it manually but this is for a group work and i have to add my function to the auto generated code ive never worked with before","body":"yeah this isnt my code i prefer to do it manually but this is for a group work and i have to add my function to the auto generated code ive never worked with before"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1646835504,"post_id":71410626,"comment_id":126222109,"body_markdown":"Then the most meaningful strategy, in my eyes: to sit down with the members of your group. You should always prefer to communicate with &quot;real&quot; humans you have direct access to and that KNOW all your context, compared to sending such &quot;complicated&quot; things to strangers on the internet. You see, in order to help you, we need a [mcve] ... and I dont see that here.","body":"Then the most meaningful strategy, in my eyes: to sit down with the members of your group. You should always prefer to communicate with &quot;real&quot; humans you have direct access to and that KNOW all your context, compared to sending such &quot;complicated&quot; things to strangers on the internet. You see, in order to help you, we need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ... and I dont see that here."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646838438,"post_id":71410626,"comment_id":126223402,"body_markdown":"Guessing here: instead of doing `this.add(mrm)` try if you can use `getContentPane().add()` ...","body":"Guessing here: instead of doing <code>this.add(mrm)</code> try if you can use <code>getContentPane().add()</code> ..."},{"owner":{"account_id":17688233,"reputation":13,"user_id":12840673,"display_name":"casual crackers"},"score":0,"creation_date":1646841230,"post_id":71410626,"comment_id":126224623,"body_markdown":"no luck im afraid","body":"no luck im afraid"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646841507,"post_id":71410626,"comment_id":126224728,"body_markdown":"What happens when you dont use your MRM JPanel, but something much simpler, maybe just something that displays a button or label? When your &quot;complicated&quot; code doesnt work, then look at the different components it has, and try (for each one) to make them &quot;more simple&quot;.","body":"What happens when you dont use your MRM JPanel, but something much simpler, maybe just something that displays a button or label? When your &quot;complicated&quot; code doesnt work, then look at the different components it has, and try (for each one) to make them &quot;more simple&quot;."},{"owner":{"account_id":17688233,"reputation":13,"user_id":12840673,"display_name":"casual crackers"},"score":0,"creation_date":1646842486,"post_id":71410626,"comment_id":126225138,"body_markdown":"when i use a normal jPanel it works and the image appears, but even in an empty generated Jframe it will not appear","body":"when i use a normal jPanel it works and the image appears, but even in an empty generated Jframe it will not appear"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646842723,"post_id":71410626,"comment_id":126225251,"body_markdown":"Yeah well, I think your MRM JPanel has no way of telling how &quot;big&quot; it is? You see, Swing layout managers try to figure &quot;what dimensions does that thing I should render have&quot;. Worst case: have your IDE override all the methods that JPanel comes with. Then add print statements in each one to understand the way your panel methods get invoked, and when. I would guess: at some point the owning layout asks the panel for its dimensions, and the panel doesnt give a proper response. But just guessing here, it is like 20 years since I last worked with swing for real.","body":"Yeah well, I think your MRM JPanel has no way of telling how &quot;big&quot; it is? You see, Swing layout managers try to figure &quot;what dimensions does that thing I should render have&quot;. Worst case: have your IDE override all the methods that JPanel comes with. Then add print statements in each one to understand the way your panel methods get invoked, and when. I would guess: at some point the owning layout asks the panel for its dimensions, and the panel doesnt give a proper response. But just guessing here, it is like 20 years since I last worked with swing for real."}],"owner":{"account_id":17688233,"reputation":13,"user_id":12840673,"display_name":"casual crackers"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1646836572,"creation_date":1646834785,"question_id":71410626,"body_markdown":"i am currently working with code generated through the netbeans IDE form builder. i also have a class with a function that allows images to be selected and moved using the click and draglistener functions\r\n\r\nwith other functions i have been able to call my drag class to a non-generated form as so:\r\n```\r\npublic class MyFrame extends JFrame{\r\n    DragPanel dragPanel = new DragPanel();\r\n    MyFrame(){\r\n        this.add(dragPanel);    \r\n        this.setTitle(&quot;drag and drop demo&quot;);\r\n        this.setSize(1500,1200);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nbut when i attempt to add my code to the constructor which also runs autogenerated functions such as initComponents() the pictures do not appear, however i know that the call works due to a print function to test whether the function is accessed\r\n\r\ni have tried using all functions i know of to add the pictures to a panel, this.add , add. , just the call &quot;DragPanel dragPanel = new DragPanel();&quot; but to no avail, i believe it may be possible the pictures are hidden behind the background but i do not think so\r\n\r\ni also know that the pictures are accessable due to me being able to call them from a different test panel\r\n\r\nalso the dimensions of the frame do not matter \r\n\r\nauto generated class:\r\n```\r\npublic class NewJFrame extends javax.swing.JFrame {\r\n    MRM mrm = new MRM();\r\n    /**\r\n     * Creates new form NewJFrame\r\n     */\r\n    public NewJFrame() {\r\n        initComponents();\r\n        this.add(mrm);\r\n        \r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGap(0, 803, Short.MAX_VALUE)\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGap(0, 480, Short.MAX_VALUE)\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new NewJFrame().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    // End of variables declaration                   \r\n}                 \r\n                 \r\n```\r\n\r\ndrag pictures function\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.dnd.DropTarget;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionAdapter;\r\n\r\n/**\r\n *\r\n * @author \r\n */\r\npublic class MRM extends JPanel{\r\n     boolean dragValid = false;\r\n     ImageIcon topMiddle = new ImageIcon(&quot;top center.PNG&quot;);\r\n     final int WIDTH = topMiddle.getIconWidth();\r\n     final int HEIGHT = topMiddle.getIconHeight();\r\n     Point imageCorner;\r\n     Point prevPT;\r\n    \r\n    MRM() {\r\n        imageCorner = new Point(0, 0);\r\n        ClickListener clickListener = new ClickListener();\r\n        DragListener dragListener = new DragListener();\r\n        this.addMouseListener(clickListener);\r\n        this.addMouseMotionListener(dragListener);\r\n        System.out.print(&quot;test&quot;);\r\n    }\r\n    \r\n     public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        topMiddle.paintIcon(this, g, (int) imageCorner.getX(), (int) imageCorner.getY());\r\n     }\r\n      private class ClickListener extends MouseAdapter {\r\n        public void mousePressed(MouseEvent e) {\r\n            prevPT = e.getPoint();\r\n            dragValid = (e.getPoint().getX() &gt; imageCorner.getX()) &amp;&amp;\r\n                    (e.getPoint().getX() &lt; (imageCorner.getX() + WIDTH)) &amp;&amp;\r\n                    (e.getPoint().getY() &gt; imageCorner.getY()) &amp;&amp;\r\n                    (e.getPoint().getY() &lt; (imageCorner.getY() + HEIGHT));\r\n        }\r\n      }\r\n        private class DragListener extends MouseMotionAdapter {\r\n        public void mouseDragged(MouseEvent e) {\r\n            if (dragValid) {\r\n                Point currentPt = e.getPoint();\r\n                imageCorner.translate(\r\n                        (int) (currentPt.getX() - prevPT.getX()),\r\n                        (int) (currentPt.getY() - prevPT.getY())\r\n                );\r\n                prevPT = currentPt;\r\n                repaint();\r\n\r\n            }\r\n            }\r\n        }\r\n      }\r\n\r\n```\r\n\r\nthis is as minimal as i can get the code, picture will need to be changed to something elsen initComponents class is essentially empty.\r\n","title":"adding functions to auto generated form code","body":"<p>i am currently working with code generated through the netbeans IDE form builder. i also have a class with a function that allows images to be selected and moved using the click and draglistener functions</p>\n<p>with other functions i have been able to call my drag class to a non-generated form as so:</p>\n<pre><code>public class MyFrame extends JFrame{\n    DragPanel dragPanel = new DragPanel();\n    MyFrame(){\n        this.add(dragPanel);    \n        this.setTitle(&quot;drag and drop demo&quot;);\n        this.setSize(1500,1200);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setVisible(true);\n    }\n}\n</code></pre>\n<p>but when i attempt to add my code to the constructor which also runs autogenerated functions such as initComponents() the pictures do not appear, however i know that the call works due to a print function to test whether the function is accessed</p>\n<p>i have tried using all functions i know of to add the pictures to a panel, this.add , add. , just the call &quot;DragPanel dragPanel = new DragPanel();&quot; but to no avail, i believe it may be possible the pictures are hidden behind the background but i do not think so</p>\n<p>i also know that the pictures are accessable due to me being able to call them from a different test panel</p>\n<p>also the dimensions of the frame do not matter</p>\n<p>auto generated class:</p>\n<pre><code>public class NewJFrame extends javax.swing.JFrame {\n    MRM mrm = new MRM();\n    /**\n     * Creates new form NewJFrame\n     */\n    public NewJFrame() {\n        initComponents();\n        this.add(mrm);\n        \n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGap(0, 803, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGap(0, 480, Short.MAX_VALUE)\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    // End of variables declaration                   \n}                 \n                 \n</code></pre>\n<p>drag pictures function</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.dnd.DropTarget;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\n\n/**\n *\n * @author \n */\npublic class MRM extends JPanel{\n     boolean dragValid = false;\n     ImageIcon topMiddle = new ImageIcon(&quot;top center.PNG&quot;);\n     final int WIDTH = topMiddle.getIconWidth();\n     final int HEIGHT = topMiddle.getIconHeight();\n     Point imageCorner;\n     Point prevPT;\n    \n    MRM() {\n        imageCorner = new Point(0, 0);\n        ClickListener clickListener = new ClickListener();\n        DragListener dragListener = new DragListener();\n        this.addMouseListener(clickListener);\n        this.addMouseMotionListener(dragListener);\n        System.out.print(&quot;test&quot;);\n    }\n    \n     public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        topMiddle.paintIcon(this, g, (int) imageCorner.getX(), (int) imageCorner.getY());\n     }\n      private class ClickListener extends MouseAdapter {\n        public void mousePressed(MouseEvent e) {\n            prevPT = e.getPoint();\n            dragValid = (e.getPoint().getX() &gt; imageCorner.getX()) &amp;&amp;\n                    (e.getPoint().getX() &lt; (imageCorner.getX() + WIDTH)) &amp;&amp;\n                    (e.getPoint().getY() &gt; imageCorner.getY()) &amp;&amp;\n                    (e.getPoint().getY() &lt; (imageCorner.getY() + HEIGHT));\n        }\n      }\n        private class DragListener extends MouseMotionAdapter {\n        public void mouseDragged(MouseEvent e) {\n            if (dragValid) {\n                Point currentPt = e.getPoint();\n                imageCorner.translate(\n                        (int) (currentPt.getX() - prevPT.getX()),\n                        (int) (currentPt.getY() - prevPT.getY())\n                );\n                prevPT = currentPt;\n                repaint();\n\n            }\n            }\n        }\n      }\n\n</code></pre>\n<p>this is as minimal as i can get the code, picture will need to be changed to something elsen initComponents class is essentially empty.</p>\n"},{"tags":["java","spring-boot","aspectj"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646836929,"post_id":71411026,"comment_id":126222733,"body_markdown":"It depends... If you use AspectJ and Spring you can perfectly use it, but then you use proxies. You are using loadtime weaving which means AspectJ is in control and thus you cannot use the autowiring.","body":"It depends... If you use AspectJ and Spring you can perfectly use it, but then you use proxies. You are using loadtime weaving which means AspectJ is in control and thus you cannot use the autowiring."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1646837183,"post_id":71411026,"comment_id":126222847,"body_markdown":"If I remove the javaagent arguments then I get that same error for my local ControllerLogger aspect as well","body":"If I remove the javaagent arguments then I get that same error for my local ControllerLogger aspect as well"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1646837417,"post_id":71411026,"comment_id":126222945,"body_markdown":"Well there is no `aspectOf` method (as it clearly states) which means it probably hasn&#39;t been compiled with the aspectj compiler but just with the java compiler (which doesn&#39;t add themethod). But you don&#39;t need the factory method, you can just add `@Component` and `@Autowired` and it should work (however it will use proxies not loadtime weaving).","body":"Well there is no <code>aspectOf</code> method (as it clearly states) which means it probably hasn&#39;t been compiled with the aspectj compiler but just with the java compiler (which doesn&#39;t add themethod). But you don&#39;t need the factory method, you can just add <code>@Component</code> and <code>@Autowired</code> and it should work (however it will use proxies not loadtime weaving)."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646840780,"post_id":71411026,"comment_id":126224411,"body_markdown":"I do not agree with some of M. Deinum&#39;s statements, or maybe I am misinterpreting them. Spring AOP and AspectJ really are different beasts, we have to be careful not to mix up ideas, terminology and concepts. I would very much welcome a minimal reproducer project on GitHub and see for myself what is going on there. This question contains a lot of valuable information, but not enough for me to offer concrete advice (no pun intended).","body":"I do not agree with some of M. Deinum&#39;s statements, or maybe I am misinterpreting them. Spring AOP and AspectJ really are different beasts, we have to be careful not to mix up ideas, terminology and concepts. I would very much welcome a minimal reproducer project on GitHub and see for myself what is going on there. This question contains a lot of valuable information, but not enough for me to offer concrete advice (no pun intended)."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1646841147,"post_id":71411026,"comment_id":126224589,"body_markdown":"I see what you did there XD.  This project has been YEARS in the making but I remember switching to load-time weaving just to get bloody unit tests to work.  I ended up putting try-catch blocks around my LogEntryService logging statements inside my aspects and switching back to compile time weaving which now works perfectly.  I no longer need the AspectJ config class, java agents, etc.  I can try to provide a MCVE if you want to look into it.","body":"I see what you did there XD.  This project has been YEARS in the making but I remember switching to load-time weaving just to get bloody unit tests to work.  I ended up putting try-catch blocks around my LogEntryService logging statements inside my aspects and switching back to compile time weaving which now works perfectly.  I no longer need the AspectJ config class, java agents, etc.  I can try to provide a MCVE if you want to look into it."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1646924435,"post_id":71411026,"comment_id":126248413,"body_markdown":"An MCVE is always a good start.","body":"An MCVE is always a good start."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1647618362,"post_id":71411026,"comment_id":126423537,"body_markdown":"Please either add the promised MCVE, write your own comprehensive answer (not just that you gave up and used another approach) or, if the question became irrelevant to you now, delete it completely so others do not have to read it when looking for open questions, only to find out that an answer is no longer required.","body":"Please either add the promised MCVE, write your own comprehensive answer (not just that you gave up and used another approach) or, if the question became irrelevant to you now, delete it completely so others do not have to read it when looking for open questions, only to find out that an answer is no longer required."}],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1646836420,"creation_date":1646836420,"question_id":71411026,"body_markdown":"I have a web UI project and a JavaFX UI project that both reference a class library that contains all the common logic : JPA repos, services, entities, etc.  Each UI project has local logging aspects that work great, here&#39;s an example of my ControllerLogger which logs calls to all controller methods :\r\n\r\nThe aspect :\r\n\r\n    @Aspect\r\n    @Log4j2\r\n    public class ControllerLogger\r\n    {\r\n        private LogEntryService les;\r\n\r\n\t    @Pointcut(&quot;execution(* com.some.web.project.controller..*(..))&quot;)\r\n\t    private void controllerMethods() {}\r\n\t\r\n\t    @Before(&quot;controllerMethods()&quot;)\r\n\t    public void logMethodCallWithParameters(JoinPoint joinPoint)\r\n\t    {\r\n\t\t    //Logs at TRACE level using Log4J logger and LogEntryService\r\n\t    }\r\n    }\r\n\r\nThe aspectJ config class (my understanding and my testing revealed that I cannot annotate the aspect with @Component and LogEntryService with @Autowired expecting it to be autowired correctly.  If that is not the case PLEASE let me know!):\r\n\r\n    @Configuration\r\n    public class AspectJConfiguration \r\n    {\r\n\t    @Bean\r\n\t    public ControllerLogger controllerLogger(LogEntryService logEntryService)\r\n\t    {\r\n\t\t    var aspect = Aspects.aspectOf(ControllerLogger.class);\r\n\t\t    aspect.setLogEntryService(logEntryService);\r\n\r\n\t        return aspect;\r\n\t    }\r\n    }\r\n\r\nThe AOP.xml file :\r\n\r\n    &lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;http://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\r\n    &lt;aspectj&gt;\r\n        &lt;weaver&gt;\r\n            &lt;include within=&quot;com.some.web.project..*&quot;/&gt;\r\n        &lt;/weaver&gt;\r\n        &lt;aspects&gt;\r\n    \t    &lt;aspect name=&quot;com.some.web.project.logging.ControllerLogger&quot;/&gt;\r\n        &lt;/aspects&gt;\r\n    &lt;/aspectj&gt;\r\n\r\nThe VM arguments to make this work (with the referenced jars in the lib folder):\r\n\r\n    -javaagent:lib/aspectjweaver-1.9.8.jar -javaagent:lib/spring-instrument-5.3.16.jar --add-opens=java.base/java.lang=ALL-UNNAMED\r\n\r\nThis all works perfectly.  The JavaFX project has a similar setup for 5 different logging aspects and they all work great.  The issue arises when I try to use an aspect that lives in the class library project that both UI projects reference.  Here is what I tried :\r\n\r\nThe library aspect is exactly the same but has a different pointcut :\r\n\r\n    @Pointcut(&quot;execution(* com.some.library.project.service..*(..))&quot;)\r\n\tprivate void serviceMethods() {}\r\n\r\nAdded this to my web project&#39;s AOP.xml :\r\n\r\n    &lt;aspect name=&quot;com.some.library.project.logging.ServiceLogger&quot;/&gt;\r\n\r\nFinally added this bean to my web project&#39;s aspectJ config class :\r\n\r\n    @Bean\r\n\tpublic ServiceLogger serviceLogger(LogEntryService logEntryService)\r\n\t{\r\n\t\tvar aspect = Aspects.aspectOf(ServiceLogger.class);\r\n\t\taspect.setLogEntryService(logEntryService);\r\n\r\n\t\treturn aspect;\r\n\t}\r\n\r\nWhen running the web project with this new aspect, I get the following exception :\r\n\r\n    Error creating bean with name &#39;serviceLogger&#39; defined in class path resource [com/some/web/project/configuration/AspectJConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.some.library.project.logging.ServiceLogger]: Factory method &#39;serviceLogger&#39; threw exception; nested exception is org.aspectj.lang.NoAspectBoundException: Exception while initializing com.some.library.project.logging.ServiceLogger: java.lang.NoSuchMethodException: com.some.library.project.logging.ServiceLogger.aspectOf()\r\n\r\nWhat am I doing wrong?  Why is spring not able to use an aspect defined in another jar?  Is this even possible?","title":"Unable to use aspect from class library","body":"<p>I have a web UI project and a JavaFX UI project that both reference a class library that contains all the common logic : JPA repos, services, entities, etc.  Each UI project has local logging aspects that work great, here's an example of my ControllerLogger which logs calls to all controller methods :</p>\n<p>The aspect :</p>\n<pre><code>@Aspect\n@Log4j2\npublic class ControllerLogger\n{\n    private LogEntryService les;\n\n    @Pointcut(&quot;execution(* com.some.web.project.controller..*(..))&quot;)\n    private void controllerMethods() {}\n\n    @Before(&quot;controllerMethods()&quot;)\n    public void logMethodCallWithParameters(JoinPoint joinPoint)\n    {\n        //Logs at TRACE level using Log4J logger and LogEntryService\n    }\n}\n</code></pre>\n<p>The aspectJ config class (my understanding and my testing revealed that I cannot annotate the aspect with @Component and LogEntryService with @Autowired expecting it to be autowired correctly.  If that is not the case PLEASE let me know!):</p>\n<pre><code>@Configuration\npublic class AspectJConfiguration \n{\n    @Bean\n    public ControllerLogger controllerLogger(LogEntryService logEntryService)\n    {\n        var aspect = Aspects.aspectOf(ControllerLogger.class);\n        aspect.setLogEntryService(logEntryService);\n\n        return aspect;\n    }\n}\n</code></pre>\n<p>The AOP.xml file :</p>\n<pre><code>&lt;!DOCTYPE aspectj PUBLIC &quot;-//AspectJ//DTD//EN&quot; &quot;http://www.eclipse.org/aspectj/dtd/aspectj.dtd&quot;&gt;\n&lt;aspectj&gt;\n    &lt;weaver&gt;\n        &lt;include within=&quot;com.some.web.project..*&quot;/&gt;\n    &lt;/weaver&gt;\n    &lt;aspects&gt;\n        &lt;aspect name=&quot;com.some.web.project.logging.ControllerLogger&quot;/&gt;\n    &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>The VM arguments to make this work (with the referenced jars in the lib folder):</p>\n<pre><code>-javaagent:lib/aspectjweaver-1.9.8.jar -javaagent:lib/spring-instrument-5.3.16.jar --add-opens=java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>This all works perfectly.  The JavaFX project has a similar setup for 5 different logging aspects and they all work great.  The issue arises when I try to use an aspect that lives in the class library project that both UI projects reference.  Here is what I tried :</p>\n<p>The library aspect is exactly the same but has a different pointcut :</p>\n<pre><code>@Pointcut(&quot;execution(* com.some.library.project.service..*(..))&quot;)\nprivate void serviceMethods() {}\n</code></pre>\n<p>Added this to my web project's AOP.xml :</p>\n<pre><code>&lt;aspect name=&quot;com.some.library.project.logging.ServiceLogger&quot;/&gt;\n</code></pre>\n<p>Finally added this bean to my web project's aspectJ config class :</p>\n<pre><code>@Bean\npublic ServiceLogger serviceLogger(LogEntryService logEntryService)\n{\n    var aspect = Aspects.aspectOf(ServiceLogger.class);\n    aspect.setLogEntryService(logEntryService);\n\n    return aspect;\n}\n</code></pre>\n<p>When running the web project with this new aspect, I get the following exception :</p>\n<pre><code>Error creating bean with name 'serviceLogger' defined in class path resource [com/some/web/project/configuration/AspectJConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.some.library.project.logging.ServiceLogger]: Factory method 'serviceLogger' threw exception; nested exception is org.aspectj.lang.NoAspectBoundException: Exception while initializing com.some.library.project.logging.ServiceLogger: java.lang.NoSuchMethodException: com.some.library.project.logging.ServiceLogger.aspectOf()\n</code></pre>\n<p>What am I doing wrong?  Why is spring not able to use an aspect defined in another jar?  Is this even possible?</p>\n"},{"tags":["java","netbeans","derby","dbeaver"],"comments":[{"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"score":1,"creation_date":1646794161,"post_id":71402568,"comment_id":126210251,"body_markdown":"When it says `see the next exception for details`, follow these instructions to learn the true underlying cause of the problem: https://cwiki.apache.org/confluence/display/DERBY/UnwindExceptionChain","body":"When it says <code>see the next exception for details</code>, follow these instructions to learn the true underlying cause of the problem: <a href=\"https://cwiki.apache.org/confluence/display/DERBY/UnwindExceptionChain\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/DERBY/UnwindExceptionCha&zwnj;&#8203;in</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1646887100,"post_id":71402568,"comment_id":126235999,"body_markdown":"Please do not update your question with the resolution. That&#39;s not the way things are done here. Instead, please remove that update, post an answer to your own question and accept it.","body":"Please do not update your question with the resolution. That&#39;s not the way things are done here. Instead, please remove that update, post an answer to your own question and accept it."}],"owner":{"account_id":23884087,"reputation":19,"user_id":17884438,"display_name":"Valerio Tavoletti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1646836418,"creation_date":1646781376,"question_id":71402568,"body_markdown":"I am trying to make a DB Derby database in Netbeans called eportdatabase, and connect it to DBeaver. However, I am having trouble starting the database at all.\r\n\r\n```\r\ntry\r\n        {\r\n                String databaseURL = &quot;jdbc:derby:eportdatabase;create=true&quot;;\r\n                Connection con = DriverManager.getConnection(databaseURL);\r\n                Statement st = con.createStatement();\r\n            \r\n                if (!doesTableExists(&quot;Accounts&quot;, con))\r\n                {\r\n                    String sql = &quot;CREATE TABLE Accounts (Username varchar(250), Password varchar(250)) &quot;;\r\n                    st.execute(sql);\r\n                    System.out.println(&quot;Table Does Not Yet Exist!&quot;);\r\n                }\r\n                else if(doesTableExists(&quot;Accounts&quot;, con)) {\r\n                    System.out.println(&quot;Table Already Exists!&quot;);\r\n                }\r\n                \r\n                \r\n                con.close();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            System.out.println(e);\r\n        }\r\n```\r\n\r\nHowever, it does not work. When I run the application, this IOException Error Comes Up:\r\n\r\n```\r\n    java.sql.SQLException: Failed to start database &#39;eportdatabase&#39; with class loader jdk.internal.loader.ClassLoaders$AppClassLoader@45ee12a7, see the next exception for details.\r\n```\r\n\r\nIs there something evidently wrong with my code? Or do I need to update my drivers (which I am having trouble doing)?\r\n\r\nUPDATE: Thanks to help with printing errors from comments, I figured out the issue; I still had the old database folder in my application folder, which was present from before I updated to JDK 15, hence not being compatible with Netbeans&#39; software. many thanks!\r\n","title":"Difficulty starting the database in Netbeans using DB Derby and DBeaver","body":"<p>I am trying to make a DB Derby database in Netbeans called eportdatabase, and connect it to DBeaver. However, I am having trouble starting the database at all.</p>\n<pre><code>try\n        {\n                String databaseURL = &quot;jdbc:derby:eportdatabase;create=true&quot;;\n                Connection con = DriverManager.getConnection(databaseURL);\n                Statement st = con.createStatement();\n            \n                if (!doesTableExists(&quot;Accounts&quot;, con))\n                {\n                    String sql = &quot;CREATE TABLE Accounts (Username varchar(250), Password varchar(250)) &quot;;\n                    st.execute(sql);\n                    System.out.println(&quot;Table Does Not Yet Exist!&quot;);\n                }\n                else if(doesTableExists(&quot;Accounts&quot;, con)) {\n                    System.out.println(&quot;Table Already Exists!&quot;);\n                }\n                \n                \n                con.close();\n        }\n        catch (Exception e)\n        {\n            System.out.println(e);\n        }\n</code></pre>\n<p>However, it does not work. When I run the application, this IOException Error Comes Up:</p>\n<pre><code>    java.sql.SQLException: Failed to start database 'eportdatabase' with class loader jdk.internal.loader.ClassLoaders$AppClassLoader@45ee12a7, see the next exception for details.\n</code></pre>\n<p>Is there something evidently wrong with my code? Or do I need to update my drivers (which I am having trouble doing)?</p>\n<p>UPDATE: Thanks to help with printing errors from comments, I figured out the issue; I still had the old database folder in my application folder, which was present from before I updated to JDK 15, hence not being compatible with Netbeans' software. many thanks!</p>\n"},{"tags":["java","processing","minimize","taskkill","on-screen-keyboard"],"comments":[{"owner":{"account_id":9846233,"reputation":110,"user_id":7293637,"accept_rate":100,"display_name":"97hilfel"},"score":0,"creation_date":1485365610,"post_id":41857849,"comment_id":70899749,"body_markdown":"Why would you want to close the onscreen keyboard? And isnt that file &quot;OSK.exe&quot; only accessable administrator permissions?","body":"Why would you want to close the onscreen keyboard? And isnt that file &quot;OSK.exe&quot; only accessable administrator permissions?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1485369863,"post_id":41857849,"comment_id":70902298,"body_markdown":"I suspect `new String[] { &quot;taskkill IM/osk.exe/T/F&quot; }` should be `new String[] { &quot;taskkill&quot;, &quot;/IM&quot;, &quot;osk.exe&quot;, &quot;/T&quot;, &quot;/F&quot; }`.","body":"I suspect <code>new String[] { &quot;taskkill IM&#47;osk.exe&#47;T&#47;F&quot; }</code> should be <code>new String[] { &quot;taskkill&quot;, &quot;&#47;IM&quot;, &quot;osk.exe&quot;, &quot;&#47;T&quot;, &quot;&#47;F&quot; }</code>."},{"owner":{"account_id":10108492,"reputation":11,"user_id":7470279,"display_name":"David Covarrubias"},"score":0,"creation_date":1485379292,"post_id":41857849,"comment_id":70907497,"body_markdown":"I call up osk as needed but need it gone or at least minimized the rest of the time.... I have to do it from within the processing/java app","body":"I call up osk as needed but need it gone or at least minimized the rest of the time.... I have to do it from within the processing/java app"},{"owner":{"account_id":10108492,"reputation":11,"user_id":7470279,"display_name":"David Covarrubias"},"score":0,"creation_date":1485379342,"post_id":41857849,"comment_id":70907528,"body_markdown":"I will try your suggestion and see if that helps","body":"I will try your suggestion and see if that helps"},{"owner":{"account_id":10108492,"reputation":11,"user_id":7470279,"display_name":"David Covarrubias"},"score":0,"creation_date":1485380287,"post_id":41857849,"comment_id":70907974,"body_markdown":"I tried new String[] { &quot;taskkill&quot;, &quot;/IM&quot;, &quot;osk.exe&quot;, &quot;/T&quot;, &quot;/F&quot; } but got the same results...  it is definitely a security issue in windows... I tried this in the command prompt and got an &quot;access denied&quot; error....","body":"I tried new String[] { &quot;taskkill&quot;, &quot;/IM&quot;, &quot;osk.exe&quot;, &quot;/T&quot;, &quot;/F&quot; } but got the same results...  it is definitely a security issue in windows... I tried this in the command prompt and got an &quot;access denied&quot; error...."}],"answers":[{"tags":[],"owner":{"account_id":17063189,"reputation":75,"user_id":12346089,"display_name":"Kevin Meneses Palta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646836149,"creation_date":1646836149,"answer_id":71410962,"question_id":41857849,"body_markdown":"Check my answer here: https://stackoverflow.com/a/71410876/12346089 is using TabTip.exe instead of osk.exe but it may work for you. ","title":"How can I close or minimize the Windows 10 on screen Keyboard using JAVA?","body":"<p>Check my answer here: <a href=\"https://stackoverflow.com/a/71410876/12346089\">https://stackoverflow.com/a/71410876/12346089</a> is using TabTip.exe instead of osk.exe but it may work for you.</p>\n"}],"owner":{"account_id":10108492,"reputation":11,"user_id":7470279,"display_name":"David Covarrubias"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1646836149,"creation_date":1485365130,"question_id":41857849,"body_markdown":"I have tried executing a taskkill to shut down the On screen Keyboard in windows 10 (OSK.exe), but the OSK seems to behave differently in windows 10... while I can launch the application, I cant shut it down as before with taskkill.  Even in the command prompt I get an access denied error...\r\nI would settle for the ability to at least minimize it, but that is something I don&#39;t know how to do.. any suggestions?\r\nMy processing line looks like this\r\n\r\n    public void onScreenKbdMain_click1(GImageButton source, GEvent event) { \r\n      println(&quot;onScreenKbdMain - GImageButton &gt;&gt; GEvent.&quot; + event + &quot; @ &quot; + millis());\r\n      if (keyboardOnOff == false) {\r\n        sentense=&quot;Onscreen keyboard activated&quot;;\r\n        String[] params = { \r\n          &quot;C:/bala/bala.exe&quot;, &quot;-t&quot;, sentense\r\n        }; \r\n        launch(params);\r\n        //pKeyboard = open(new String[] { &quot;c:/Windows/system32/osk.exe&quot; } ); // Windows Keyboard\r\n        pKeyboard = launch(new String[] { \r\n          &quot;osk&quot;\r\n          } \r\n          ); // Windows Keyboard\r\n        keyboardOnOff=!keyboardOnOff;\r\n        //println(&quot;keyboardOnOff= &quot;+keyboardOnOff);\r\n      } else {\r\n        sentense=&quot;Onscreen keyboard disabled&quot;;\r\n        String[] params = { \r\n          &quot;C:/bala/bala.exe&quot;, &quot;-t&quot;, sentense\r\n        }; \r\n        launch(params);\r\n        pKeyboard = launch(new String[] { \r\n          &quot;taskkill IM/osk.exe/T/F&quot;\r\n          } \r\n          ); // Windows Keyboard\r\n        keyboardOnOff=!keyboardOnOff;\r\n        //println(&quot;keyboardOnOff= &quot;+keyboardOnOff);\r\n      }\r\n    }\r\n\r\n\r\n","title":"How can I close or minimize the Windows 10 on screen Keyboard using JAVA?","body":"<p>I have tried executing a taskkill to shut down the On screen Keyboard in windows 10 (OSK.exe), but the OSK seems to behave differently in windows 10... while I can launch the application, I cant shut it down as before with taskkill.  Even in the command prompt I get an access denied error...\nI would settle for the ability to at least minimize it, but that is something I don't know how to do.. any suggestions?\nMy processing line looks like this</p>\n\n<pre><code>public void onScreenKbdMain_click1(GImageButton source, GEvent event) { \n  println(\"onScreenKbdMain - GImageButton &gt;&gt; GEvent.\" + event + \" @ \" + millis());\n  if (keyboardOnOff == false) {\n    sentense=\"Onscreen keyboard activated\";\n    String[] params = { \n      \"C:/bala/bala.exe\", \"-t\", sentense\n    }; \n    launch(params);\n    //pKeyboard = open(new String[] { \"c:/Windows/system32/osk.exe\" } ); // Windows Keyboard\n    pKeyboard = launch(new String[] { \n      \"osk\"\n      } \n      ); // Windows Keyboard\n    keyboardOnOff=!keyboardOnOff;\n    //println(\"keyboardOnOff= \"+keyboardOnOff);\n  } else {\n    sentense=\"Onscreen keyboard disabled\";\n    String[] params = { \n      \"C:/bala/bala.exe\", \"-t\", sentense\n    }; \n    launch(params);\n    pKeyboard = launch(new String[] { \n      \"taskkill IM/osk.exe/T/F\"\n      } \n      ); // Windows Keyboard\n    keyboardOnOff=!keyboardOnOff;\n    //println(\"keyboardOnOff= \"+keyboardOnOff);\n  }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","centos","webdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646832788,"creation_date":1646832788,"answer_id":71410173,"question_id":71407413,"body_markdown":"It&#39;s not that super clear when you mention about executing your tests with cache enabled. However, adding the argument [`user-data-dir`](https://stackoverflow.com/a/50637211/7429447) is the canonical way to use a specific [**Chrome Profile**](https://stackoverflow.com/a/56401979/7429447).\r\n\r\nYou can find a couple of detailed discussions in:\r\n\r\n- [How to open a Chrome Profile through Python](https://stackoverflow.com/a/49280195/7429447)\r\n- [How to use Chrome Profile in Selenium Webdriver Python 3](https://stackoverflow.com/a/52399027/7429447)","title":"Run selenium with cache on centos/linux","body":"<p>It's not that super clear when you mention about executing your tests with cache enabled. However, adding the argument <a href=\"https://stackoverflow.com/a/50637211/7429447\"><code>user-data-dir</code></a> is the canonical way to use a specific <a href=\"https://stackoverflow.com/a/56401979/7429447\"><strong>Chrome Profile</strong></a>.</p>\n<p>You can find a couple of detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/49280195/7429447\">How to open a Chrome Profile through Python</a></li>\n<li><a href=\"https://stackoverflow.com/a/52399027/7429447\">How to use Chrome Profile in Selenium Webdriver Python 3</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10163578,"reputation":9,"user_id":7506261,"display_name":"Dmitry Efremov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646836139,"creation_date":1646836139,"answer_id":71410958,"question_id":71407413,"body_markdown":"Adding those options helps me to prevent crashes and errors on a linux remote machine\r\n```\r\nChromeOptions options = new ChromeOptions();\r\n        options.addArguments(\r\n                &quot;--disable-gpu&quot;,\r\n                &quot;--headless&quot;,\r\n                &quot;--window-size=1920,1200&quot;,\r\n                &quot;--ignore-certificate-errors&quot;,\r\n                &quot;--disable-extensions&quot;,\r\n                &quot;--no-sandbox&quot;,\r\n                &quot;--disable-dev-shm-usage&quot;,\r\n                &quot;--hide-scrollbars&quot;,\r\n                &quot;--allow-running-insecure-content&quot;,\r\n                &quot;--disable-infobars&quot;,\r\n                &quot;--ignore-certificate-errors&quot;);\r\nWebdriver driver = new ChromeDriver(options);\r\n```","title":"Run selenium with cache on centos/linux","body":"<p>Adding those options helps me to prevent crashes and errors on a linux remote machine</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n        options.addArguments(\n                &quot;--disable-gpu&quot;,\n                &quot;--headless&quot;,\n                &quot;--window-size=1920,1200&quot;,\n                &quot;--ignore-certificate-errors&quot;,\n                &quot;--disable-extensions&quot;,\n                &quot;--no-sandbox&quot;,\n                &quot;--disable-dev-shm-usage&quot;,\n                &quot;--hide-scrollbars&quot;,\n                &quot;--allow-running-insecure-content&quot;,\n                &quot;--disable-infobars&quot;,\n                &quot;--ignore-certificate-errors&quot;);\nWebdriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":24501762,"reputation":1,"user_id":18417279,"display_name":"Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1646836139,"creation_date":1646819709,"question_id":71407413,"body_markdown":"I&#39;m able to run selenium on non GUI centos/linux machine in headless mode.\r\n\r\nI have been trying to run it with cache enable by passing below chromeoptions arguments.\r\n\r\n**chromeOptions.addArguments(&quot;user-data-dir=~/.config/google-chrome&quot;);**\r\n\r\nIt has started fine and identified elements till login page(which is first page) and couldn&#39;t identify any locators after that.\r\n\r\nIs it the right approach to run cache enabled selenium run?","title":"Run selenium with cache on centos/linux","body":"<p>I'm able to run selenium on non GUI centos/linux machine in headless mode.</p>\n<p>I have been trying to run it with cache enable by passing below chromeoptions arguments.</p>\n<p><strong>chromeOptions.addArguments(&quot;user-data-dir=~/.config/google-chrome&quot;);</strong></p>\n<p>It has started fine and identified elements till login page(which is first page) and couldn't identify any locators after that.</p>\n<p>Is it the right approach to run cache enabled selenium run?</p>\n"},{"tags":["java","windows","virtual-keyboard"],"comments":[{"owner":{"account_id":10344310,"reputation":1039,"user_id":7629737,"display_name":"Yevhen Danchenko"},"score":0,"creation_date":1513241772,"post_id":47808133,"comment_id":82579761,"body_markdown":"https://stackoverflow.com/questions/5853529/createprocess-error-740-the-requested-operation-requires-elevation","body":"<a href=\"https://stackoverflow.com/questions/5853529/createprocess-error-740-the-requested-operation-requires-elevation\" title=\"createprocess error 740 the requested operation requires elevation\">stackoverflow.com/questions/5853529/&hellip;</a>"},{"owner":{"account_id":8847627,"reputation":79,"user_id":6607914,"accept_rate":70,"display_name":"Nate"},"score":0,"creation_date":1513243747,"post_id":47808133,"comment_id":82580914,"body_markdown":"Yes , I tried cmd /c but I cant close the OSK now","body":"Yes , I tried cmd /c but I cant close the OSK now"}],"answers":[{"tags":[],"owner":{"account_id":17063189,"reputation":75,"user_id":12346089,"display_name":"Kevin Meneses Palta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646835816,"creation_date":1646835816,"answer_id":71410876,"question_id":47808133,"body_markdown":"I think is a little bit late but I managed to open and close the virtual keyboard (TabTip.exe) using cmd as you do and JNA (Java Native Access) library:\r\n\r\nTo open the keyboard:\r\n\r\n    // Java\r\n\r\n    String command = &quot;cmd /c \\&quot;C:\\\\Program Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\\&quot;&quot;;\r\n    Process = Runtime.getRuntime().exec(command);\r\n    process.waitFor();\r\n    process.destroy();\r\n\r\n    // Kotlin\r\n\r\n    val command = &quot;cmd /c \\&quot;C:\\\\Program Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\\&quot;&quot;\r\n    val process = Runtime.getRuntime().exec(command)\r\n    process.waitFor()\r\n    process.destroy()\r\n    \r\nTo close it:\r\n\r\n    //Java\r\n\r\n    String KEYBOARD_CLASS_NAME = &quot;IPTIP_Main_Window&quot;;\r\n    int WM_SYS_COMMAND = 0x0112;\r\n    WinDef.WPARAM SC_CLOSE = WinDef.WPARAM(0xF060);\r\n    WinDef.HWND handle = User32.INSTANCE.FindWindow(KEYBOARD_CLASS_NAME, &quot;&quot;);\r\n    if (handle != null) {\r\n        User32.INSTANCE.SendMessage(handle, WM_SYS_COMMAND, SC_CLOSE, WinDef.LPARAM(0));\r\n    }\r\n\r\n    //Kotlin\r\n\r\n    val KEYBOARD_CLASS_NAME = &quot;IPTIP_Main_Window&quot;\r\n    val WM_SYS_COMMAND = 0x0112\r\n    val SC_CLOSE = WinDef.WPARAM(0xF060)\r\n    val handle = User32.INSTANCE.FindWindow(KEYBOARD_CLASS_NAME, &quot;&quot;)\r\n    if (handle != null) {\r\n        User32.INSTANCE.SendMessage(handle, WM_SYS_COMMAND, SC_CLOSE, WinDef.LPARAM(0))\r\n    }\r\n\r\nClosing the process or killing it from cmd was not working for me so I had to do it in the native way. I hope this works for you too.","title":"How to open and close virtual keyboard using Java","body":"<p>I think is a little bit late but I managed to open and close the virtual keyboard (TabTip.exe) using cmd as you do and JNA (Java Native Access) library:</p>\n<p>To open the keyboard:</p>\n<pre><code>// Java\n\nString command = &quot;cmd /c \\&quot;C:\\\\Program Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\\&quot;&quot;;\nProcess = Runtime.getRuntime().exec(command);\nprocess.waitFor();\nprocess.destroy();\n\n// Kotlin\n\nval command = &quot;cmd /c \\&quot;C:\\\\Program Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\\&quot;&quot;\nval process = Runtime.getRuntime().exec(command)\nprocess.waitFor()\nprocess.destroy()\n</code></pre>\n<p>To close it:</p>\n<pre><code>//Java\n\nString KEYBOARD_CLASS_NAME = &quot;IPTIP_Main_Window&quot;;\nint WM_SYS_COMMAND = 0x0112;\nWinDef.WPARAM SC_CLOSE = WinDef.WPARAM(0xF060);\nWinDef.HWND handle = User32.INSTANCE.FindWindow(KEYBOARD_CLASS_NAME, &quot;&quot;);\nif (handle != null) {\n    User32.INSTANCE.SendMessage(handle, WM_SYS_COMMAND, SC_CLOSE, WinDef.LPARAM(0));\n}\n\n//Kotlin\n\nval KEYBOARD_CLASS_NAME = &quot;IPTIP_Main_Window&quot;\nval WM_SYS_COMMAND = 0x0112\nval SC_CLOSE = WinDef.WPARAM(0xF060)\nval handle = User32.INSTANCE.FindWindow(KEYBOARD_CLASS_NAME, &quot;&quot;)\nif (handle != null) {\n    User32.INSTANCE.SendMessage(handle, WM_SYS_COMMAND, SC_CLOSE, WinDef.LPARAM(0))\n}\n</code></pre>\n<p>Closing the process or killing it from cmd was not working for me so I had to do it in the native way. I hope this works for you too.</p>\n"}],"owner":{"account_id":8847627,"reputation":79,"user_id":6607914,"accept_rate":70,"display_name":"Nate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1646835816,"creation_date":1513237066,"question_id":47808133,"body_markdown":"I tried all answers from here:\r\n\r\nhttps://stackoverflow.com/questions/4948420/open-the-windows-virtual-keyboard-in-a-java-program\r\n\r\n\r\nI executed `Runtime.getRuntime().exec(&quot;cmd /c osk&quot;);` and I cant close it as advised and I need to close it after some processes. \r\n\r\nI tried:\r\n\r\n    import java.io.IOException;\r\n    \r\n    public class ShowVirtualKeyboard{\r\n    \r\n        public static void main(String argv[]) throws IOException {\r\n        String sysroot = System.getenv(&quot;SystemRoot&quot;);\r\n        Process proc = Runtime.getRuntime().exec(sysroot + &quot;/system32/osk.exe&quot;);\r\n    }\r\n    }\r\n\r\n\r\nand I got the error\r\n\r\n \r\n\r\n    Cannot run program &quot;C://Windows/system32/osk.exe&quot;: CreateProcess error=740, The requested operation requires elevation","title":"How to open and close virtual keyboard using Java","body":"<p>I tried all answers from here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4948420/open-the-windows-virtual-keyboard-in-a-java-program\">open the Windows virtual keyboard in a Java program</a></p>\n\n<p>I executed <code>Runtime.getRuntime().exec(\"cmd /c osk\");</code> and I cant close it as advised and I need to close it after some processes. </p>\n\n<p>I tried:</p>\n\n<pre><code>import java.io.IOException;\n\npublic class ShowVirtualKeyboard{\n\n    public static void main(String argv[]) throws IOException {\n    String sysroot = System.getenv(\"SystemRoot\");\n    Process proc = Runtime.getRuntime().exec(sysroot + \"/system32/osk.exe\");\n}\n}\n</code></pre>\n\n<p>and I got the error</p>\n\n<pre><code>Cannot run program \"C://Windows/system32/osk.exe\": CreateProcess error=740, The requested operation requires elevation\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8462,"page":1530,"page_size":100}
